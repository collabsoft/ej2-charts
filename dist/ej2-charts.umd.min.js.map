/*!
*  filename: ej2-charts.umd.min.js.map
*  version : 15.4.22
*  Copyright Syncfusion Inc. 2001 - 2017. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/

{"version":3,"file":"ej2-charts.umd.min.js","sources":["src/es5/common/utils/helper.js","src/es5/common/model/theme.js","src/es5/accumulation-chart/model/acc-base.js","src/es5/common/model/base.js","src/es5/chart/utils/double-range.js","src/es5/chart/axis/double-axis.js","src/es5/common/model/constants.js","src/es5/chart/model/chart-base.js","src/es5/chart/axis/axis.js","src/es5/chart/axis/cartesian-panel.js","src/es5/chart/series/chart-series.js","src/es5/common/model/data.js","src/es5/chart/utils/get-data.js","src/es5/chart/series/marker-explode.js","src/es5/chart/series/marker.js","src/es5/common/legend/legend.js","src/es5/chart/technical-indicators/technical-indicator.js","src/es5/common/utils/export.js","src/es5/chart/chart.js","src/es5/chart/axis/date-time-axis.js","src/es5/chart/axis/category-axis.js","src/es5/chart/axis/logarithmic-axis.js","src/es5/chart/axis/strip-line.js","src/es5/chart/series/line-base.js","src/es5/chart/series/line-series.js","src/es5/chart/series/column-base.js","src/es5/chart/series/column-series.js","src/es5/chart/series/area-series.js","src/es5/chart/series/bar-series.js","src/es5/chart/axis/polar-radar-panel.js","src/es5/chart/series/polar-series.js","src/es5/chart/series/radar-series.js","src/es5/chart/series/stacking-bar-series.js","src/es5/chart/series/candle-series.js","src/es5/chart/series/stacking-column-series.js","src/es5/chart/series/step-line-series.js","src/es5/chart/series/step-area-series.js","src/es5/chart/series/stacking-area-series.js","src/es5/chart/series/scatter-series.js","src/es5/chart/series/range-column-series.js","src/es5/chart/series/waterfall-series.js","src/es5/chart/series/hilo-series.js","src/es5/chart/series/hilo-open-close-series.js","src/es5/chart/series/range-area-series.js","src/es5/chart/series/bubble-series.js","src/es5/chart/series/spline-series.js","src/es5/chart/technical-indicators/indicator-base.js","src/es5/chart/technical-indicators/sma-indicator.js","src/es5/chart/technical-indicators/ema-indicator.js","src/es5/chart/technical-indicators/tma-indicator.js","src/es5/chart/technical-indicators/ad-indicator.js","src/es5/chart/technical-indicators/atr-indicator.js","src/es5/chart/technical-indicators/momentum-indicator.js","src/es5/chart/technical-indicators/rsi-indicator.js","src/es5/chart/technical-indicators/stochastic-indicator.js","src/es5/chart/technical-indicators/bollinger-bands.js","src/es5/chart/technical-indicators/macd-indicator.js","src/es5/chart/trend-lines/trend-line.js","src/es5/chart/user-interaction/crosshair.js","src/es5/chart/user-interaction/tooltip.js","src/es5/chart/user-interaction/zooming-toolkit.js","src/es5/chart/user-interaction/zooming.js","src/es5/common/selection/selection.js","src/es5/chart/user-interaction/selection.js","src/es5/chart/series/data-label.js","src/es5/chart/series/error-bar.js","src/es5/chart/legend/legend.js","src/es5/common/annotation/annotation.js","src/es5/chart/annotation/annotation.js","src/es5/chart/series/box-and-whisker-series.js","src/es5/accumulation-chart/renderer/accumulation-base.js","src/es5/accumulation-chart/renderer/pie-base.js","src/es5/accumulation-chart/renderer/pie-series.js","src/es5/accumulation-chart/accumulation.js","src/es5/accumulation-chart/renderer/triangular-base.js","src/es5/accumulation-chart/renderer/funnel-series.js","src/es5/accumulation-chart/renderer/pyramid-series.js","src/es5/accumulation-chart/renderer/legend.js","src/es5/accumulation-chart/renderer/dataLabel.js","src/es5/accumulation-chart/user-interaction/tooltip.js","src/es5/accumulation-chart/user-interaction/selection.js","src/es5/accumulation-chart/annotation/annotation.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { SvgRenderer, Animation, compile as templateComplier } from '@syncfusion/ej2-base';\nimport { merge } from '@syncfusion/ej2-base';\nimport { createElement, remove } from '@syncfusion/ej2-base';\n/**\n * Methods for calculating the text size.\n */\n/**\n * Function to measure the height and width of the text.\n * @param  {string} text\n * @param  {FontModel} font\n * @param  {string} id\n * @returns no\n * @private\n */\nexport function measureText(text, font) {\n    var htmlObject = document.getElementById('chartmeasuretext');\n    if (htmlObject === null) {\n        htmlObject = createElement('text', { id: 'chartmeasuretext' });\n        document.body.appendChild(htmlObject);\n    }\n    htmlObject.innerHTML = text;\n    htmlObject.style.position = 'absolute';\n    htmlObject.style.fontSize = font.size;\n    htmlObject.style.fontWeight = font.fontWeight;\n    htmlObject.style.fontStyle = font.fontStyle;\n    htmlObject.style.fontFamily = font.fontFamily;\n    htmlObject.style.visibility = 'hidden';\n    htmlObject.style.top = '-100';\n    htmlObject.style.left = '0';\n    htmlObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    htmlObject.style.lineHeight = 'normal';\n    return new Size(htmlObject.clientWidth, htmlObject.clientHeight);\n}\n/** @private */\nexport function rotateTextSize(font, text, angle, chart) {\n    var renderer = new SvgRenderer(chart.element.id);\n    var box;\n    var options;\n    var htmlObject;\n    options = {\n        'font-size': font.size,\n        'font-style': font.fontStyle,\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight,\n        'transform': 'rotate(' + angle + ', 0, 0)',\n        'text-anchor': 'middle'\n    };\n    htmlObject = renderer.createText(options, text);\n    if (!chart.delayRedraw) {\n        chart.element.appendChild(chart.svgObject);\n    }\n    chart.svgObject.appendChild(htmlObject);\n    box = htmlObject.getBoundingClientRect();\n    remove(htmlObject);\n    if (!chart.delayRedraw) {\n        remove(chart.svgObject);\n    }\n    return new Size((box.right - box.left), (box.bottom - box.top));\n}\n/** @private */\nexport function removeElement(id) {\n    var element = getElement(id);\n    if (element) {\n        remove(element);\n    }\n}\n/** @private */\nexport function logBase(value, base) {\n    return Math.log(value) / Math.log(base);\n}\n/** @private */\nexport function showTooltip(text, x, y, areaWidth, id, element, isTouch) {\n    //let id1: string = 'EJ2_legend_tooltip';\n    var tooltip = document.getElementById(id);\n    var width = measureText(text, {\n        fontFamily: 'Segoe UI', size: '12px',\n        fontStyle: 'Normal', fontWeight: 'Regular'\n    }).width + 5;\n    x = (x + width > areaWidth) ? x - width : x;\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            innerHTML: text,\n            id: id,\n            styles: 'top:' + (y + 15).toString() + 'px;left:' + (x + 15).toString() + 'px;background-color: rgb(255, 255, 255);' +\n                'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;' +\n                'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: \"Segoe UI\"'\n        });\n        element.appendChild(tooltip);\n    }\n    else {\n        tooltip.innerHTML = text;\n        tooltip.style.top = (y + 15).toString() + 'px';\n        tooltip.style.left = (x + 15).toString() + 'px';\n    }\n    if (isTouch) {\n        setTimeout(function () { removeElement(id); }, 1500);\n    }\n}\n/** @private */\nexport function inside(value, range) {\n    return (value < range.max) && (value > range.min);\n}\n/** @private */\nexport function withIn(value, range) {\n    return (value <= range.max) && (value >= range.min);\n}\n/** @private */\nexport function withInRange(previousPoint, currentPoint, nextPoint, series) {\n    var mX2 = series.logWithIn(currentPoint.xValue, series.xAxis);\n    var mX1 = previousPoint ? series.logWithIn(previousPoint.xValue, series.xAxis) : mX2;\n    var mX3 = nextPoint ? series.logWithIn(nextPoint.xValue, series.xAxis) : mX2;\n    var xStart = Math.floor(series.xAxis.visibleRange.min);\n    var xEnd = Math.ceil(series.xAxis.visibleRange.max);\n    return ((mX1 >= xStart && mX1 <= xEnd) || (mX2 >= xStart && mX2 <= xEnd) ||\n        (mX3 >= xStart && mX3 <= xEnd) || (xStart >= mX1 && xStart <= mX3));\n}\n/** @private */\nexport function sum(values) {\n    var sum = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        sum += value;\n    }\n    return sum;\n}\n/** @private */\nexport function subArraySum(values, first, last, index, series) {\n    var sum = 0;\n    if (index !== null) {\n        for (var i = (first + 1); i < last; i++) {\n            if (index.indexOf(i) === -1) {\n                sum += values[i][series.yName];\n            }\n        }\n    }\n    else {\n        for (var i = (first + 1); i < last; i++) {\n            sum += values[i][series.yName];\n        }\n    }\n    return sum;\n}\n/** @private */\nexport function subtractThickness(rect, thickness) {\n    rect.x += thickness.left;\n    rect.y += thickness.top;\n    rect.width -= thickness.left + thickness.right;\n    rect.height -= thickness.top + thickness.bottom;\n    return rect;\n}\n/** @private */\nexport function subtractRect(rect, thickness) {\n    rect.x += thickness.x;\n    rect.y += thickness.y;\n    rect.width -= thickness.x + thickness.width;\n    rect.height -= thickness.y + thickness.height;\n    return rect;\n}\n/** @private */\nexport function degreeToLocation(degree, radius, center) {\n    var radian = (degree * Math.PI) / 180;\n    return new ChartLocation(Math.cos(radian) * radius + center.x, Math.sin(radian) * radius + center.y);\n}\nfunction getAccumulationLegend(locX, locY, r, height, width, mode) {\n    var cartesianlarge = degreeToLocation(270, r, new ChartLocation(locX, locY));\n    var cartesiansmall = degreeToLocation(270, r, new ChartLocation(locX + (width / 10), locY));\n    return 'M' + ' ' + locX + ' ' + locY + ' ' + 'L' + ' ' + (locX + r) + ' ' + (locY) + ' ' + 'A' + ' ' + (r) + ' ' + (r) +\n        ' ' + 0 + ' ' + 1 + ' ' + 1 + ' ' + cartesianlarge.x + ' ' + cartesianlarge.y + ' ' + 'Z' + ' ' + 'M' + ' ' + (locX +\n        (width / 10)) + ' ' + (locY - (height / 10)) + ' ' + 'L' + (locX + (r)) + ' ' + (locY - height / 10) + ' ' + 'A' + ' '\n        + (r) + ' ' + (r) + ' ' + 0 + ' ' + 0 + ' ' + 0 + ' ' + cartesiansmall.x + ' ' + cartesiansmall.y + ' ' + 'Z';\n}\n/** @private */\nexport function getAngle(center, point) {\n    var angle = Math.atan2((point.y - center.y), (point.x - center.x));\n    angle = angle < 0 ? (6.283 + angle) : angle;\n    return angle * (180 / Math.PI);\n}\n/** @private */\nexport function subArray(values, index) {\n    var subArray = [];\n    for (var i = 0; i <= index - 1; i++) {\n        subArray.push(values[i]);\n    }\n    return subArray;\n}\n/** @private */\nexport function valueToCoefficient(value, axis) {\n    var range = axis.visibleRange;\n    var result = (value - range.min) / (range.delta);\n    return axis.isInversed ? (1 - result) : result;\n}\n/** @private */\nexport function TransformToVisible(x, y, xAxis, yAxis, isInverted, series) {\n    x = (xAxis.valueType === 'Logarithmic' ? logBase(x, xAxis.logBase) : x);\n    y = (yAxis.valueType === 'Logarithmic' ?\n        logBase(y === 0 ? 1 : y, yAxis.logBase) : y);\n    x += xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks' && series.type !== 'Radar' ? 0.5 : 0;\n    var radius = series.chart.radius * valueToCoefficient(y, yAxis);\n    var point = CoefficientToVector(valueToPolarCoefficient(x, xAxis), series.chart.primaryXAxis.startAngle);\n    return {\n        x: (series.clipRect.width / 2 + series.clipRect.x) + radius * point.x,\n        y: (series.clipRect.height / 2 + series.clipRect.y) + radius * point.y\n    };\n}\n/** @private */\nexport function CoefficientToVector(coefficient, startAngle) {\n    startAngle = startAngle < 0 ? startAngle + 360 : startAngle;\n    var angle = Math.PI * (1.5 - 2 * coefficient);\n    angle = angle + (startAngle * Math.PI) / 180;\n    return { x: Math.cos(angle), y: Math.sin(angle) };\n}\n/** @private */\nexport function valueToPolarCoefficient(value, axis) {\n    var range = axis.visibleRange;\n    var delta;\n    var length;\n    if (axis.valueType !== 'Category') {\n        delta = (range.max - (axis.valueType === 'DateTime' ? axis.dateTimeInterval : range.interval)) - range.min;\n        length = axis.visibleLabels.length - 1;\n        delta = delta === 0 ? 1 : delta;\n    }\n    else {\n        delta = range.delta;\n        length = axis.visibleLabels.length;\n    }\n    return axis.isInversed ? ((value - range.min) / delta) * (1 - 1 / (length)) :\n        1 - ((value - range.min) / delta) * (1 - 1 / (length));\n}\n/** @private */\nvar Mean = /** @class */ (function () {\n    function Mean(verticalStandardMean, verticalSquareRoot, horizontalStandardMean, horizontalSquareRoot, verticalMean, horizontalMean) {\n        this.verticalStandardMean = verticalStandardMean;\n        this.horizontalStandardMean = horizontalStandardMean;\n        this.verticalSquareRoot = verticalSquareRoot;\n        this.horizontalSquareRoot = horizontalSquareRoot;\n        this.verticalMean = verticalMean;\n        this.horizontalMean = horizontalMean;\n    }\n    return Mean;\n}());\nexport { Mean };\n/** @private */\nvar PolarArc = /** @class */ (function () {\n    function PolarArc(startAngle, endAngle, innerRadius, radius, currentXPosition) {\n        this.startAngle = startAngle;\n        this.endAngle = endAngle;\n        this.innerRadius = innerRadius;\n        this.radius = radius;\n        this.currentXPosition = currentXPosition;\n    }\n    return PolarArc;\n}());\nexport { PolarArc };\n/** @private */\nexport function createTooltip(id, text, top, left, fontSize) {\n    var tooltip = getElement(id);\n    var style = 'top:' + top.toString() + 'px;' +\n        'left:' + left.toString() + 'px;' +\n        'background:' + '#FFFFFF' + ';' +\n        'position:absolute;border:1px solid #707070;font-size:' + fontSize + ';border-radius:2px;';\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            id: id, innerHTML: '&nbsp;' + text + '&nbsp;', styles: style\n        });\n        document.body.appendChild(tooltip);\n    }\n    else {\n        tooltip.setAttribute('innerHTML', '&nbsp;' + text + '&nbsp;');\n        tooltip.setAttribute('styles', style);\n    }\n}\n/** @private */\nexport function createZoomingLabels(chart, axis, parent, index, isVertical) {\n    var margin = 5;\n    var opposedPosition = axis.opposedPosition;\n    var anchor = isVertical ? 'start' : 'auto';\n    var size;\n    var chartRect = chart.availableSize.width;\n    var x;\n    var y;\n    var rx = 3;\n    var arrowLocation;\n    var rect = axis.rect;\n    var direction;\n    for (var i = 0; i < 2; i++) {\n        size = measureText(i ? axis.endLabel : axis.startLabel, axis.labelStyle);\n        if (isVertical) {\n            arrowLocation = i ? new ChartLocation(rect.x, rect.y + rx) :\n                new ChartLocation(axis.rect.x, (rect.y + rect.height - rx));\n            x = (rect.x + (opposedPosition ? (rect.width + margin) : -(size.width + margin + margin)));\n            y = (rect.y + (i ? 0 : rect.height - size.height - margin));\n            x += (x < 0 || ((chartRect) < (x + size.width + margin))) ? (opposedPosition ? -(size.width / 2) : size.width / 2) : 0;\n            direction = findDirection(rx, rx, new Rect(x, y, size.width + margin, size.height + margin), arrowLocation, margin, false, false, !opposedPosition, arrowLocation.x, arrowLocation.y + (i ? -rx : rx));\n        }\n        else {\n            arrowLocation = i ? new ChartLocation((rect.x + rect.width - rx), (rect.y + rect.height)) :\n                new ChartLocation(rect.x + rx, (rect.y + rect.height));\n            x = (rect.x + (i ? (rect.width - size.width - margin) : 0));\n            y = (opposedPosition ? (rect.y - size.height - 10) : (rect.y + rect.height + margin));\n            direction = findDirection(rx, rx, new Rect(x, y, size.width + margin, size.height + margin), arrowLocation, margin, opposedPosition, !opposedPosition, false, arrowLocation.x + (i ? rx : -rx), arrowLocation.y);\n        }\n        x = x + (margin / 2);\n        y = y + (3 * (size.height / 4)) + (margin / 2);\n        parent.appendChild(chart.renderer.drawPath(new PathOption(chart.element.id + '_Zoom_' + index + '_AxisLabel_Shape_' + i, '#414141', 2, '#414141', 1, null, direction)));\n        textElement(new TextOption(chart.element.id + '_Zoom_' + index + '_AxisLabel_' + i, x, y, anchor, i ? axis.endLabel : axis.startLabel), { color: 'white', fontFamily: 'Segoe UI', fontWeight: 'Regular', size: '11px' }, 'white', parent);\n    }\n    return parent;\n}\n//Within bounds\n/** @private */\nexport function withInBounds(x, y, bounds, width, height) {\n    if (width === void 0) { width = 0; }\n    if (height === void 0) { height = 0; }\n    return (x >= bounds.x - width && x <= bounds.x + bounds.width + width && y >= bounds.y - height\n        && y <= bounds.y + bounds.height + height);\n}\n/** @private */\nexport function getValueXByPoint(value, size, axis) {\n    var actualValue = !axis.isInversed ? value / size : (1 - (value / size));\n    return actualValue * (axis.visibleRange.delta) + axis.visibleRange.min;\n}\n/** @private */\nexport function getValueYByPoint(value, size, axis) {\n    var actualValue = axis.isInversed ? value / size : (1 - (value / size));\n    return actualValue * (axis.visibleRange.delta) + axis.visibleRange.min;\n}\n/** @private */\nexport function findClipRect(series) {\n    var rect = series.clipRect;\n    if (series.chart.requireInvertedAxis) {\n        rect.x = series.yAxis.rect.x;\n        rect.y = series.xAxis.rect.y;\n        rect.width = series.yAxis.rect.width;\n        rect.height = series.xAxis.rect.height;\n    }\n    else {\n        rect.x = series.xAxis.rect.x;\n        rect.y = series.yAxis.rect.y;\n        rect.width = series.xAxis.rect.width;\n        rect.height = series.yAxis.rect.height;\n    }\n}\n/** @private */\nexport function firstToLowerCase(str) {\n    return str.substr(0, 1).toLowerCase() + str.substr(1);\n}\n/** @private */\nexport function getMinPointsDelta(axis, seriesCollection) {\n    var minDelta = Number.MAX_VALUE;\n    var xValues;\n    var minVal;\n    seriesCollection.forEach(function (series, index) {\n        xValues = [];\n        if (series.visible &&\n            (axis.name === series.xAxisName || (axis.name === 'primaryXAxis' && series.xAxisName === null)\n                || (axis.name === series.chart.primaryXAxis.name && !series.xAxisName))) {\n            xValues = series.points.map(function (point, index) {\n                return point.xValue;\n            });\n            xValues.sort(function (first, second) { return first - second; });\n            if (xValues.length === 1) {\n                minVal = xValues[0] - ((series.xMin && series.xAxis.valueType !== 'DateTime') ?\n                    series.xMin : axis.visibleRange.min);\n                if (minVal !== 0) {\n                    minDelta = Math.min(minDelta, minVal);\n                }\n            }\n            else {\n                xValues.forEach(function (value, index, xValues) {\n                    if (index > 0 && value) {\n                        minVal = value - xValues[index - 1];\n                        if (minVal !== 0) {\n                            minDelta = Math.min(minDelta, minVal);\n                        }\n                    }\n                });\n            }\n        }\n    });\n    if (minDelta === Number.MAX_VALUE) {\n        minDelta = 1;\n    }\n    return minDelta;\n}\n/** @private */\nexport function getAnimationFunction(effect) {\n    var functionName;\n    switch (effect) {\n        case 'Linear':\n            functionName = linear;\n            break;\n    }\n    return functionName;\n}\n/**\n * Animation Effect Calculation Started Here\n * @param currentTime\n * @param startValue\n * @param endValue\n * @param duration\n * @private\n */\nexport function linear(currentTime, startValue, endValue, duration) {\n    return -endValue * Math.cos(currentTime / duration * (Math.PI / 2)) + endValue + startValue;\n}\n/**\n * Animation Effect Calculation End\n * @private\n */\nexport function markerAnimate(element, delay, duration, series, pointIndex, point, isLabel) {\n    var centerX = point.x;\n    var centerY = point.y;\n    var height = 0;\n    element.style.visibility = 'hidden';\n    new Animation({}).animate(element, {\n        duration: duration,\n        delay: delay,\n        progress: function (args) {\n            if (args.timeStamp > args.delay) {\n                args.element.style.visibility = 'visible';\n                height = ((args.timeStamp - args.delay) / args.duration);\n                element.setAttribute('transform', 'translate(' + centerX\n                    + ' ' + centerY + ') scale(' + height + ') translate(' + (-centerX) + ' ' + (-centerY) + ')');\n            }\n        },\n        end: function (model) {\n            element.style.visibility = '';\n            element.removeAttribute('transform');\n            if ((series.type === 'Scatter' || series.type === 'Bubble') && !isLabel && (pointIndex === series.points.length - 1)) {\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        }\n    });\n}\n/**\n * Animation for template\n * @private\n */\nexport function templateAnimate(element, delay, duration, name, isRemove) {\n    new Animation({}).animate(element, {\n        duration: duration,\n        delay: delay,\n        name: name,\n        progress: function (args) {\n            args.element.style.visibility = 'visible';\n        },\n        end: function (args) {\n            if (isRemove) {\n                remove(args.element);\n            }\n            else {\n                args.element.style.visibility = 'visible';\n            }\n        },\n    });\n}\n/** @private */\nexport function drawSymbol(location, shape, size, url, options, label) {\n    var functionName = 'Path';\n    var renderer = new SvgRenderer('');\n    var temp = calculateShapes(location, size, shape, options, url);\n    var htmlObject = renderer['draw' + temp.functionName](temp.renderOption);\n    htmlObject.setAttribute('aria-label', label);\n    return htmlObject;\n}\n/** @private */\nexport function calculateShapes(location, size, shape, options, url) {\n    var path;\n    var functionName = 'Path';\n    var width = size.width;\n    var height = size.height;\n    var locX = location.x;\n    var locY = location.y;\n    var x = location.x + (-width / 2);\n    var y = location.y + (-height / 2);\n    switch (shape) {\n        case 'Circle':\n        case 'Bubble':\n            functionName = 'Ellipse';\n            merge(options, { 'rx': width / 2, 'ry': height / 2, 'cx': locX, 'cy': locY });\n            break;\n        case 'Cross':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + locY + ' ' +\n                'M' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + locX + ' ' +\n                (locY + (-height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'HorizontalLine':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + locY;\n            merge(options, { 'd': path });\n            break;\n        case 'VerticalLine':\n            path = 'M' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + locX + ' ' + (locY + (-height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'Diamond':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + locY + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + locY + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Rectangle':\n        case 'Hilo':\n        case 'HiloOpenClose':\n        case 'Candle':\n        case 'Waterfall':\n        case 'BoxAndWhisker':\n        case 'StepArea':\n            path = 'M' + ' ' + x + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (-height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pyramid':\n        case 'Triangle':\n            path = 'M' + ' ' + x + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Funnel':\n        case 'InvertedTriangle':\n            path = 'M' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + (locX - (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pentagon':\n            var eq = 72;\n            var xValue = void 0;\n            var yValue = void 0;\n            for (var i = 0; i <= 5; i++) {\n                xValue = (width / 2) * Math.cos((Math.PI / 180) * (i * eq));\n                yValue = (height / 2) * Math.sin((Math.PI / 180) * (i * eq));\n                if (i === 0) {\n                    path = 'M' + ' ' + (locX + xValue) + ' ' + (locY + yValue) + ' ';\n                }\n                else {\n                    path = path.concat('L' + ' ' + (locX + xValue) + ' ' + (locY + yValue) + ' ');\n                }\n            }\n            path = path.concat('Z');\n            merge(options, { 'd': path });\n            break;\n        case 'Image':\n            functionName = 'Image';\n            merge(options, { 'href': url, 'height': height, 'width': width, x: x, y: y });\n            break;\n    }\n    options = calculateLegendShapes(location, new Size(width, height), shape, options).renderOption;\n    return { renderOption: options, functionName: functionName };\n}\n/** @private */\nexport function getRectLocation(startLocation, endLocation, outerRect) {\n    var x;\n    var y;\n    x = (endLocation.x < outerRect.x) ? outerRect.x :\n        (endLocation.x > (outerRect.x + outerRect.width)) ? outerRect.x + outerRect.width : endLocation.x;\n    y = (endLocation.y < outerRect.y) ? outerRect.y :\n        (endLocation.y > (outerRect.y + outerRect.height)) ? outerRect.y + outerRect.height : endLocation.y;\n    return new Rect((x > startLocation.x ? startLocation.x : x), (y > startLocation.y ? startLocation.y : y), Math.abs(x - startLocation.x), Math.abs(y - startLocation.y));\n}\n/** @private */\nexport function minMax(value, min, max) {\n    return value > max ? max : (value < min ? min : value);\n}\n/** @private */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/** @private */\nexport function getTemplateFunction(template) {\n    var templateFn = null;\n    var e;\n    try {\n        if (document.querySelectorAll(template).length) {\n            templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\n        }\n    }\n    catch (e) {\n        templateFn = templateComplier(template);\n    }\n    return templateFn;\n}\n/** @private */\nexport function createTemplate(childElement, pointIndex, content, chart, point, series) {\n    var templateFn;\n    var templateElement;\n    templateFn = getTemplateFunction(content);\n    try {\n        if (templateFn && templateFn({ chart: chart, series: series, point: point }).length) {\n            templateElement = templateFn({ chart: chart, series: series, point: point });\n            while (templateElement.length > 0) {\n                childElement.appendChild(templateElement[0]);\n            }\n        }\n    }\n    catch (e) {\n        return childElement;\n    }\n    return childElement;\n}\n/** @private */\nexport function getFontStyle(font) {\n    var style = '';\n    style = 'font-size:' + font.size +\n        '; font-style:' + font.fontStyle + '; font-weight:' + font.fontWeight +\n        '; font-family:' + font.fontFamily + ';opacity:' + font.opacity +\n        '; color:' + font.color + ';';\n    return style;\n}\n/** @private */\nexport function measureElementRect(element) {\n    var bounds;\n    document.body.appendChild(element);\n    bounds = element.getBoundingClientRect();\n    removeElement(element.id);\n    return bounds;\n}\n/** @private */\nexport function findlElement(elements, id) {\n    var element;\n    for (var i = 0, length_1 = elements.length; i < length_1; i++) {\n        if (elements[i].id.indexOf(id) > -1) {\n            element = elements[i];\n            continue;\n        }\n    }\n    return element;\n}\n/** @private */\nexport function getPoint(x, y, xAxis, yAxis, isInverted, series) {\n    var xLength = isInverted ? xAxis.rect.height : xAxis.rect.width;\n    var yLength = isInverted ? yAxis.rect.width : yAxis.rect.height;\n    var xvalue = (xAxis.valueType === 'Logarithmic') ? logBase(((x === 0 || x < 0) ? 1 : x), xAxis.logBase) : x;\n    var yvalue = (yAxis.valueType === 'Logarithmic') ? logBase(((y === 0 || y < 0) ? 1 : y), yAxis.logBase) : y;\n    xvalue = valueToCoefficient(xvalue, xAxis);\n    yvalue = valueToCoefficient(yvalue, yAxis);\n    var locationX = isInverted ? yvalue * (yLength) : xvalue * (xLength);\n    var locationY = isInverted ? (1 - xvalue) * (xLength) : (1 - yvalue) * (yLength);\n    return new ChartLocation(locationX, locationY);\n}\n/** @private */\nexport function appendElement(child, parent) {\n    if (child && child.hasChildNodes() && parent) {\n        parent.appendChild(child);\n    }\n    else {\n        return null;\n    }\n}\n/** @private */\nexport function getDraggedRectLocation(x1, y1, x2, y2, outerRect) {\n    var width = Math.abs(x1 - x2);\n    var height = Math.abs(y1 - y2);\n    var x = Math.max(checkBounds(Math.min(x1, x2), width, outerRect.x, outerRect.width), outerRect.x);\n    var y = Math.max(checkBounds(Math.min(y1, y2), height, outerRect.y, outerRect.height), outerRect.y);\n    return new Rect(x, y, Math.min(width, outerRect.width), Math.min(height, outerRect.height));\n}\n/** @private */\nexport function checkBounds(start, size, min, max) {\n    if (start < min) {\n        start = min;\n    }\n    else if ((start + size) > (max + min)) {\n        start = (max + min) - size;\n    }\n    return start;\n}\n/** @private */\nexport function getLabelText(currentPoint, series, chart) {\n    var labelFormat = series.yAxis.labelFormat;\n    var text = [];\n    var customLabelFormat = labelFormat.match('{value}') !== null;\n    switch (series.seriesType) {\n        case 'XY':\n            text.push(currentPoint.text || currentPoint.yValue.toString());\n            break;\n        case 'HighLow':\n            text.push(currentPoint.text || Math.max(currentPoint.high, currentPoint.low).toString());\n            text.push(currentPoint.text || Math.min(currentPoint.high, currentPoint.low).toString());\n            break;\n        case 'HighLowOpenClose':\n            text.push(currentPoint.text || Math.max(currentPoint.high, currentPoint.low).toString());\n            text.push(currentPoint.text || Math.min(currentPoint.high, currentPoint.low).toString());\n            text.push(currentPoint.text || Math.max(currentPoint.open, currentPoint.close).toString());\n            text.push(currentPoint.text || Math.min(currentPoint.open, currentPoint.close).toString());\n            break;\n        case 'BoxPlot':\n            text.push(currentPoint.text || currentPoint.median.toString());\n            text.push(currentPoint.text || currentPoint.maximum.toString());\n            text.push(currentPoint.text || currentPoint.minimum.toString());\n            text.push(currentPoint.text || currentPoint.upperQuartile.toString());\n            text.push(currentPoint.text || currentPoint.lowerQuartile.toString());\n            for (var _i = 0, _a = currentPoint.outliers; _i < _a.length; _i++) {\n                var liers = _a[_i];\n                text.push(currentPoint.text || liers.toString());\n            }\n            break;\n    }\n    if (labelFormat && !currentPoint.text) {\n        for (var i = 0; i < text.length; i++) {\n            text[i] = customLabelFormat ? labelFormat.replace('{value}', series.yAxis.format(parseFloat(text[i]))) :\n                series.yAxis.format(parseFloat(text[i]));\n        }\n    }\n    return text;\n}\n/** @private */\nexport function stopTimer(timer) {\n    window.clearInterval(timer);\n}\n/** @private */\nexport function isCollide(rect, collections, clipRect) {\n    var isCollide;\n    var currentRect = new Rect(rect.x + clipRect.x, rect.y + clipRect.y, rect.width, rect.height);\n    isCollide = collections.some(function (rect) {\n        return (currentRect.x < rect.x + rect.width && currentRect.x + currentRect.width > rect.x &&\n            currentRect.y < rect.y + rect.height && currentRect.height + currentRect.y > rect.y);\n    });\n    return isCollide;\n}\n/** @private */\nexport function isOverlap(currentRect, rect) {\n    return (currentRect.x < rect.x + rect.width && currentRect.x + currentRect.width > rect.x &&\n        currentRect.y < rect.y + rect.height && currentRect.height + currentRect.y > rect.y);\n}\n/** @private */\nexport function containsRect(currentRect, rect) {\n    return (currentRect.x <= rect.x && currentRect.x + currentRect.width >= rect.x + rect.width &&\n        currentRect.y <= rect.y && currentRect.height + currentRect.y >= rect.y + rect.height);\n}\n/** @private */\nexport function calculateRect(location, textSize, margin) {\n    return new Rect((location.x - (textSize.width / 2) - margin.left), (location.y - (textSize.height / 2) - margin.top), textSize.width + margin.left + margin.right, textSize.height + margin.top + margin.bottom);\n}\n/** @private */\nexport function convertToHexCode(value) {\n    return '#' + componentToHex(value.r) + componentToHex(value.g) + componentToHex(value.b);\n}\n/** @private */\nexport function componentToHex(value) {\n    var hex = value.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n}\n/** @private */\nexport function convertHexToColor(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? new ColorValue(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) :\n        new ColorValue(255, 255, 255);\n}\n/** @private */\nexport function colorNameToHex(color) {\n    var element;\n    color = color === 'transparent' ? 'white' : color;\n    element = document.getElementById('chartmeasuretext');\n    element.style.color = color;\n    color = window.getComputedStyle(element).color;\n    var exp = /^(rgb|hsl)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/;\n    var isRGBValue = exp.exec(color);\n    return convertToHexCode(new ColorValue(parseInt(isRGBValue[3], 10), parseInt(isRGBValue[4], 10), parseInt(isRGBValue[5], 10)));\n}\n/** @private */\nexport function getSaturationColor(color, factor) {\n    color = colorNameToHex(color);\n    color = color.replace(/[^0-9a-f]/gi, '');\n    if (color.length < 6) {\n        color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n    }\n    factor = factor || 0;\n    // convert to decimal and change luminosity\n    var rgb = '#';\n    var colorCode;\n    for (var i = 0; i < 3; i++) {\n        colorCode = parseInt(color.substr(i * 2, 2), 16);\n        colorCode = Math.round(Math.min(Math.max(0, colorCode + (colorCode * factor)), 255));\n        rgb += ('00' + colorCode.toString(16)).substr(colorCode.toString(16).length);\n    }\n    return rgb;\n}\n/** @private */\nexport function getMedian(values) {\n    var half = Math.floor(values.length / 2);\n    return values.length % 2 ? values[half] : ((values[half - 1] + values[half]) / 2.0);\n}\n/** @private */\n// tslint:disable-next-line:max-func-body-length\nexport function calculateLegendShapes(location, size, shape, options) {\n    var padding = 10;\n    var path = '';\n    var height = size.height;\n    var width = size.width;\n    var locX = location.x;\n    var locY = location.y;\n    switch (shape) {\n        case 'Line':\n            path = 'M' + ' ' + (locX + (-width / 2)) + ' ' + (locY) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY);\n            merge(options, { 'd': path });\n            break;\n        case 'StepLine':\n            options.fill = 'transparent';\n            path = 'M' + ' ' + (locX + (-width / 2) - (padding / 4)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX +\n                (-width / 2) + (width / 10)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX + (-width / 2) + (width / 10))\n                + ' ' + (locY) + ' ' + 'L' + ' ' + (locX + (-width / 10)) + ' ' + (locY) + ' ' + 'L' + ' ' + (locX + (-width / 10))\n                + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX + (width / 5)) + ' ' + (locY + (height / 2)) + ' ' + 'L' +\n                ' ' + (locX + (width / 5)) + ' ' + (locY + (-height / 2)) + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + (locY +\n                (-height / 2)) + 'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + '' + (locX + (width / 2)\n                + (padding / 4)) + ' ' + (locY + (height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'RightArrow':\n            var space = 2;\n            path = 'M' + ' ' + (locX + (-width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY) + ' ' + 'L' + ' ' +\n                (locX + (-width / 2)) + ' ' + (locY + (height / 2)) + ' L' + ' ' + (locX + (-width / 2)) + ' ' +\n                (locY + (height / 2) - space) + ' ' + 'L' + ' ' + (locX + (width / 2) - (2 * space)) + ' ' + (locY) +\n                ' L' + (locX + (-width / 2)) + ' ' + (locY - (height / 2) + space) + ' Z';\n            merge(options, { 'd': path });\n            break;\n        case 'LeftArrow':\n            options.fill = options.stroke;\n            options.stroke = 'transparent';\n            space = 2;\n            path = 'M' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (-width / 2)) + ' ' + (locY) + ' ' + 'L' + ' ' +\n                (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' +\n                (locX + (width / 2)) + ' ' + (locY + (height / 2) - space) + ' L' + ' ' + (locX + (-width / 2) + (2 * space))\n                + ' ' + (locY) + ' L' + (locX + (width / 2)) + ' ' + (locY - (height / 2) + space) + ' Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Column':\n        case 'StackingColumn':\n        case 'StackingColumn100':\n        case 'RangeColumn':\n            path = 'M' + ' ' + (locX - 3 * (width / 5)) + ' ' + (locY - (height / 5)) + ' ' + 'L' + ' ' +\n                (locX + 3 * (-width / 10)) + ' ' + (locY - (height / 5)) + ' ' + 'L' + ' ' +\n                (locX + 3 * (-width / 10)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX - 3 *\n                (width / 5)) + ' ' + (locY + (height / 2)) + ' ' + 'Z' + ' ' + 'M' + ' ' +\n                (locX + (-width / 10) - (width / 20)) + ' ' + (locY - (height / 4) - (padding / 2))\n                + ' ' + 'L' + ' ' + (locX + (width / 10) + (width / 20)) + ' ' + (locY - (height / 4) -\n                (padding / 2)) + ' ' + 'L' + ' ' + (locX + (width / 10) + (width / 20)) + ' ' + (locY\n                + (height / 2)) + ' ' + 'L' + ' ' + (locX + (-width / 10) - (width / 20)) + ' ' + (locY +\n                (height / 2)) + ' ' + 'Z' + ' ' + 'M' + ' ' + (locX + 3 * (width / 10)) + ' ' + (locY) + ' ' +\n                'L' + ' ' + (locX + 3 * (width / 5)) + ' ' + (locY) + ' ' + 'L' + ' '\n                + (locX + 3 * (width / 5)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' '\n                + (locX + 3 * (width / 10)) + ' ' + (locY + (height / 2)) + ' ' + 'Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Bar':\n        case 'StackingBar':\n        case 'StackingBar100':\n            path = 'M' + ' ' + (locX + (-width / 2) + (-padding / 4)) + ' ' + (locY - 3 * (height / 5)) + ' '\n                + 'L' + ' ' + (locX + 3 * (width / 10)) + ' ' + (locY - 3 * (height / 5)) + ' ' + 'L' + ' ' +\n                (locX + 3 * (width / 10)) + ' ' + (locY - 3 * (height / 10)) + ' ' + 'L' + ' ' +\n                (locX - (width / 2) + (-padding / 4)) + ' ' + (locY - 3 * (height / 10)) + ' ' + 'Z' + ' '\n                + 'M' + ' ' + (locX + (-width / 2) + (-padding / 4)) + ' ' + (locY - (height / 5)\n                + (padding / 20)) + ' ' + 'L' + ' ' + (locX + (width / 2) + (padding / 4)) + ' ' + (locY\n                - (height / 5) + (padding / 20)) + ' ' + 'L' + ' ' + (locX + (width / 2) + (padding / 4))\n                + ' ' + (locY + (height / 10) + (padding / 20)) + ' ' + 'L' + ' ' + (locX - (width / 2)\n                + (-padding / 4)) + ' ' + (locY + (height / 10) + (padding / 20)) + ' ' + 'Z' + ' ' + 'M'\n                + ' ' + (locX - (width / 2) + (-padding / 4)) + ' ' + (locY + (height / 5)\n                + (padding / 10)) + ' ' + 'L' + ' ' + (locX + (-width / 4)) + ' ' + (locY + (height / 5)\n                + (padding / 10)) + ' ' + 'L' + ' ' + (locX + (-width / 4)) + ' ' + (locY + (height / 2)\n                + (padding / 10)) + ' ' + 'L' + ' ' + (locX - (width / 2) + (-padding / 4))\n                + ' ' + (locY + (height / 2) + (padding / 10)) + ' ' + 'Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Spline':\n            options.fill = 'transparent';\n            path = 'M' + ' ' + (locX - (width / 2)) + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' '\n                + locX + ' ' + (locY - height) + ' ' + locX + ' ' + (locY + (height / 5))\n                + ' ' + 'M' + ' ' + locX + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' ' + (locX\n                + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' + (locX + (width / 2)) + ' '\n                + (locY - (height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'Area':\n        case 'RangeArea':\n        case 'StackingArea':\n        case 'StackingArea100':\n            path = 'M' + ' ' + (locX - (width / 2) - (padding / 4)) + ' ' + (locY + (height / 2))\n                + ' ' + 'L' + ' ' + (locX + (-width / 4) + (-padding / 8)) + ' ' + (locY - (height / 2))\n                + ' ' + 'L' + ' ' + (locX) + ' ' + (locY + (height / 4)) + ' ' + 'L' + ' ' + (locX\n                + (width / 4) + (padding / 8)) + ' ' + (locY + (-height / 2) + (height / 4)) + ' '\n                + 'L' + ' ' + (locX + (height / 2) + (padding / 4)) + ' ' + (locY + (height / 2)) + ' ' + 'Z';\n            merge(options, { 'd': path });\n            break;\n        case 'SplineArea':\n            path = 'M' + ' ' + (locX - (width / 2)) + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' ' + locX\n                + ' ' + (locY - height) + ' ' + locX + ' ' + (locY + (height / 5)) + ' ' + 'Z' + ' ' + 'M'\n                + ' ' + locX + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' ' + (locX + (width / 2)) + ' '\n                + (locY + (height / 2)) + ' ' + (locX + (width / 2)) + ' '\n                + (locY - (height / 2)) + ' ' + ' Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pie':\n        case 'Doughnut':\n            options.stroke = 'transparent';\n            var r = Math.min(height, width) / 2;\n            path = getAccumulationLegend(locX, locY, r, height, width, shape);\n            merge(options, { 'd': path });\n            break;\n    }\n    return { renderOption: options };\n}\n/** @private */\nexport function textTrim(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var i = textLength - 1; i >= 0; --i) {\n            label = text.substring(0, i) + '...';\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nexport function stringToNumber(value, containerSize) {\n    if (value !== null && value !== undefined) {\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\n    }\n    return null;\n}\n/** @private */\nexport function findDirection(rX, rY, rect, arrowLocation, arrowPadding, top, bottom, left, tipX, tipY, tipRadius) {\n    var direction = '';\n    var startX = rect.x;\n    var startY = rect.y;\n    var width = rect.x + rect.width;\n    var height = rect.y + rect.height;\n    tipRadius = tipRadius ? tipRadius : 0;\n    if (top) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + startY + ' ' + (startX + rX) + ' ' + startY + ' ' +\n            ' L' + ' ' + (width - rX) + ' ' + (startY) + ' Q ' + width + ' '\n            + startY + ' ' + (width) + ' ' + (startY + rY));\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + width + ' '\n            + (height) + ' ' + (width - rX) + ' ' + (height));\n        if (arrowPadding !== 0) {\n            direction = direction.concat(' L' + ' ' + (arrowLocation.x + arrowPadding / 2) + ' ' + (height));\n            direction = direction.concat(' L' + ' ' + (tipX + tipRadius) + ' ' + (height + arrowPadding - tipRadius));\n            direction += ' Q' + ' ' + (tipX) + ' ' + (height + arrowPadding) + ' ' + (tipX - tipRadius) +\n                ' ' + (height + arrowPadding - tipRadius);\n        }\n        if ((arrowLocation.x - arrowPadding / 2) > startX) {\n            direction = direction.concat(' L' + ' ' + (arrowLocation.x - arrowPadding / 2) + ' ' + height +\n                ' L' + ' ' + (startX + rX) + ' ' + height + ' Q ' + startX + ' '\n                + height + ' ' + (startX) + ' ' + (height - rY) + ' z');\n        }\n        else {\n            if (arrowPadding === 0) {\n                direction = direction.concat(' L' + ' ' + (startX + rX) + ' ' + height + ' Q ' + startX + ' '\n                    + height + ' ' + (startX) + ' ' + (height - rY) + ' z');\n            }\n            else {\n                direction = direction.concat(' L' + ' ' + (startX) + ' ' + (height + rY) + ' z');\n            }\n        }\n    }\n    else if (bottom) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + (startY) + ' ' + (startX + rX) + ' ' + (startY) + ' L' + ' ' + (arrowLocation.x - arrowPadding / 2) + ' ' + (startY));\n        direction = direction.concat(' L' + ' ' + (tipX - tipRadius) + ' ' + (arrowLocation.y + tipRadius));\n        direction += ' Q' + ' ' + (tipX) + ' ' + (arrowLocation.y) + ' ' + (tipX + tipRadius) + ' ' + (arrowLocation.y + tipRadius);\n        direction = direction.concat(' L' + ' ' + (arrowLocation.x + arrowPadding / 2) + ' ' + (startY) + ' L' + ' '\n            + (width - rX) + ' ' + (startY) + ' Q ' + (width) + ' ' + (startY) + ' ' + (width) + ' ' + (startY + rY));\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + (width) + ' '\n            + (height) + ' ' + (width - rX) + ' ' + (height) +\n            ' L' + ' ' + (startX + rX) + ' ' + (height) + ' Q ' + (startX) + ' '\n            + (height) + ' ' + (startX) + ' ' + (height - rY) + ' z');\n    }\n    else if (left) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + (startY) + ' ' + (startX + rX) + ' ' + (startY));\n        direction = direction.concat(' L' + ' ' + (width - rX) + ' ' + (startY) + ' Q ' + (width) + ' '\n            + (startY) + ' ' + (width) + ' ' + (startY + rY) + ' L' + ' ' + (width) + ' ' + (arrowLocation.y - arrowPadding / 2));\n        direction = direction.concat(' L' + ' ' + (width + arrowPadding - tipRadius) + ' ' + (tipY - tipRadius));\n        direction += ' Q ' + (width + arrowPadding) + ' ' + (tipY) + ' ' + (width + arrowPadding - tipRadius) + ' ' + (tipY + tipRadius);\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (arrowLocation.y + arrowPadding / 2) +\n            ' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + width + ' ' + (height) + ' ' + (width - rX) + ' ' + (height));\n        direction = direction.concat(' L' + ' ' + (startX + rX) + ' ' + (height) + ' Q ' + startX + ' '\n            + (height) + ' ' + (startX) + ' ' + (height - rY) + ' z');\n    }\n    else {\n        direction = direction.concat('M' + ' ' + (startX + rX) + ' ' + (startY) + ' Q ' + (startX) + ' '\n            + (startY) + ' ' + (startX) + ' ' + (startY + rY) + ' L' + ' ' + (startX) + ' ' + (arrowLocation.y - arrowPadding / 2));\n        direction = direction.concat(' L' + ' ' + (startX - arrowPadding + tipRadius) + ' ' + (tipY - tipRadius));\n        direction += ' Q ' + (startX - arrowPadding) + ' ' + (tipY) + ' ' + (startX - arrowPadding + tipRadius) + ' ' + (tipY + tipRadius);\n        direction = direction.concat(' L' + ' ' + (startX) + ' ' + (arrowLocation.y + arrowPadding / 2) +\n            ' L' + ' ' + (startX) + ' ' + (height - rY) + ' Q ' + startX + ' '\n            + (height) + ' ' + (startX + rX) + ' ' + (height));\n        direction = direction.concat(' L' + ' ' + (width - rX) + ' ' + (height) + ' Q ' + width + ' '\n            + (height) + ' ' + (width) + ' ' + (height - rY) +\n            ' L' + ' ' + (width) + ' ' + (startY + rY) + ' Q ' + width + ' '\n            + (startY) + ' ' + (width - rX) + ' ' + (startY) + ' z');\n    }\n    return direction;\n}\n/** @private */\nexport function textElement(options, font, color, parent, isMinus) {\n    if (isMinus === void 0) { isMinus = false; }\n    var renderOptions = {};\n    var htmlObject;\n    var tspanElement;\n    var renderer = new SvgRenderer('');\n    var text;\n    var height;\n    renderOptions = {\n        'id': options.id,\n        'x': options.x,\n        'y': options.y,\n        'fill': color,\n        'font-size': font.size,\n        'font-style': font.fontStyle,\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight,\n        'text-anchor': options.anchor,\n        'transform': options.transform,\n        'opacity': font.opacity,\n        'dominant-baseline': options.baseLine\n    };\n    text = typeof options.text === 'string' ? options.text : isMinus ? options.text[options.text.length - 1] : options.text[0];\n    htmlObject = renderer.createText(renderOptions, text);\n    if (typeof options.text !== 'string' && options.text.length > 1) {\n        for (var i = 1, len = options.text.length; i < len; i++) {\n            height = (measureText(options.text[i], font).height);\n            tspanElement = renderer.createTSpan({\n                'x': options.x, 'id': options.id,\n                'y': (options.y) + ((isMinus) ? -(i * height) : (i * height))\n            }, isMinus ? options.text[options.text.length - (i + 1)] : options.text[i]);\n            htmlObject.appendChild(tspanElement);\n        }\n    }\n    parent.appendChild(htmlObject);\n    return htmlObject;\n}\n/**\n * Method to calculate the width and height of the chart\n */\nexport function calculateSize(chart) {\n    var containerWidth = chart.element.clientWidth;\n    var containerHeight = chart.element.clientHeight;\n    chart.availableSize = new Size(stringToNumber(chart.width, containerWidth) || containerWidth || 600, stringToNumber(chart.height, containerHeight) || containerHeight || 450);\n}\nexport function createSvg(chart) {\n    chart.renderer = new SvgRenderer(chart.element.id);\n    calculateSize(chart);\n    chart.svgObject = chart.renderer.createSvg({\n        id: chart.element.id + '_svg',\n        width: chart.availableSize.width,\n        height: chart.availableSize.height\n    });\n}\n/**\n * Method to calculate x position of title\n */\nexport function titlePositionX(chartSize, leftPadding, rightPadding, titleStyle, textSize) {\n    var positionX;\n    if (titleStyle.textAlignment === 'Near') {\n        positionX = leftPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionX = chartSize.width / 2 - textSize.width / 2;\n    }\n    else {\n        positionX = chartSize.width - rightPadding - textSize.width;\n    }\n    return positionX;\n}\n/** @private */\nvar CustomizeOption = /** @class */ (function () {\n    function CustomizeOption(id) {\n        this.id = id;\n    }\n    return CustomizeOption;\n}());\nexport { CustomizeOption };\n/** @private */\nvar StackValues = /** @class */ (function () {\n    function StackValues(startValue, endValue) {\n        this.startValues = startValue;\n        this.endValues = endValue;\n    }\n    return StackValues;\n}());\nexport { StackValues };\n/** @private */\nvar TextOption = /** @class */ (function (_super) {\n    __extends(TextOption, _super);\n    function TextOption(id, x, y, anchor, text, transform, baseLine) {\n        if (transform === void 0) { transform = ''; }\n        var _this = _super.call(this, id) || this;\n        _this.transform = '';\n        _this.baseLine = 'auto';\n        _this.x = x;\n        _this.y = y;\n        _this.anchor = anchor;\n        _this.text = text;\n        _this.transform = transform;\n        _this.baseLine = baseLine;\n        return _this;\n    }\n    return TextOption;\n}(CustomizeOption));\nexport { TextOption };\n/** @private */\nvar PathOption = /** @class */ (function (_super) {\n    __extends(PathOption, _super);\n    function PathOption(id, fill, width, color, opacity, dashArray, d) {\n        var _this = _super.call(this, id) || this;\n        _this.opacity = opacity;\n        _this.fill = fill;\n        _this.stroke = color;\n        _this['stroke-width'] = width;\n        _this['stroke-dasharray'] = dashArray;\n        _this.d = d;\n        return _this;\n    }\n    return PathOption;\n}(CustomizeOption));\nexport { PathOption };\n/** @private */\nvar RectOption = /** @class */ (function (_super) {\n    __extends(RectOption, _super);\n    function RectOption(id, fill, border, opacity, rect, rx, ry, transform, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, border.color, opacity, dashArray) || this;\n        _this.y = rect.y;\n        _this.x = rect.x;\n        _this.height = rect.height;\n        _this.width = rect.width;\n        _this.rx = rx ? rx : 0;\n        _this.ry = ry ? ry : 0;\n        _this.transform = transform ? transform : '';\n        return _this;\n    }\n    return RectOption;\n}(PathOption));\nexport { RectOption };\n/** @private */\nvar CircleOption = /** @class */ (function (_super) {\n    __extends(CircleOption, _super);\n    function CircleOption(id, fill, border, opacity, cx, cy, r) {\n        var _this = _super.call(this, id, fill, border.width, border.color, opacity) || this;\n        _this.cy = cy;\n        _this.cx = cx;\n        _this.r = r;\n        return _this;\n    }\n    return CircleOption;\n}(PathOption));\nexport { CircleOption };\n/** @private */\nvar PolygonOption = /** @class */ (function () {\n    function PolygonOption(id, points, fill) {\n        this.id = id;\n        this.points = points;\n        this.fill = fill;\n    }\n    return PolygonOption;\n}());\nexport { PolygonOption };\n/** @private */\nvar Size = /** @class */ (function () {\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/** @private */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\n/** @private */\nvar ChartLocation = /** @class */ (function () {\n    function ChartLocation(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return ChartLocation;\n}());\nexport { ChartLocation };\n/** @private */\nvar Thickness = /** @class */ (function () {\n    function Thickness(left, right, top, bottom) {\n        this.left = left;\n        this.right = right;\n        this.top = top;\n        this.bottom = bottom;\n    }\n    return Thickness;\n}());\nexport { Thickness };\n/** @private */\nvar ColorValue = /** @class */ (function () {\n    function ColorValue(r, g, b) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n    }\n    return ColorValue;\n}());\nexport { ColorValue };\n/** @private */\nvar PointData = /** @class */ (function () {\n    function PointData(point, series, index) {\n        if (index === void 0) { index = 0; }\n        this.point = point;\n        this.series = series;\n        this.lierIndex = index;\n    }\n    return PointData;\n}());\nexport { PointData };\n/** @private */\nvar ControlPoints = /** @class */ (function () {\n    function ControlPoints(controlPoint1, controlPoint2) {\n        this.controlPoint1 = controlPoint1;\n        this.controlPoint2 = controlPoint2;\n    }\n    return ControlPoints;\n}());\nexport { ControlPoints };\n","/**\n * Specifies Chart Themes\n */\nexport var Theme;\n(function (Theme) {\n    /** @private */\n    Theme.axisLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: '#686868',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisTitleFont = {\n        size: '14px',\n        fontWeight: 'Normal',\n        color: '#424242',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.chartTitleFont = {\n        size: '15px',\n        fontWeight: '500',\n        color: '#424242',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.crosshairLabelFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: '#e5e5e5',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.tooltipLabelFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.legendLabelFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: '#353535',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.stripLineLabelFont = {\n        size: '12px',\n        fontWeight: 'Regular',\n        color: '#353535',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisLineColor = '#b5b5b5';\n    /** @private */\n    Theme.axisMajorGridLineColor = '#dbdbdb';\n    /** @private */\n    Theme.axisMinorGridLineColor = '#eaeaea';\n    /** @private */\n    Theme.axisMajorTickLineColor = '#b5b5b5';\n    /** @private */\n    Theme.axisMinorTickLineColor = '#d6d6d6';\n    /** @private */\n    Theme.crossHairLabelColor = '#4f4f4f';\n    /** @private */\n    Theme.chartBackgroundColor = '#FFFFFF';\n    /** @private */\n    Theme.selectionRectFill = 'rgba(41, 171, 226, 0.1)';\n    /** @private */\n    Theme.selectionRectStroke = '#29abe2';\n})(Theme || (Theme = {}));\n/** @private */\nexport function getSeriesColor(theme) {\n    var palette;\n    switch (theme) {\n        case 'Material':\n            palette = ['#00bdae', '#404041', '#357cd2', '#e56590', '#f8b883',\n                '#70ad47', '#dd8abd', '#7f84e8', '#7bb4eb', '#ea7a57'];\n            break;\n        case 'Fabric':\n            palette = ['#4472c4', '#ed7d31', '#ffc000', '#70ad47', '#5b9bd5',\n                '#c1c1c1', '#6f6fe2', '#e269ae', '#9e480e', '#997300'];\n            break;\n        case 'Bootstrap':\n            palette = ['#a16ee5', '#f7ce69', '#55a5c2', '#7ddf1e', '#ff6ea6',\n                '#7953ac', '#b99b4f', '#407c92', '#5ea716', '#b91c52'];\n            break;\n    }\n    return palette;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * AccumulationChart base file\n */\nimport { Property, ChildProperty, Complex, createElement } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Border, Font, Animation, Index, EmptyPointSettings, Connector } from '../../common/model/base';\nimport { stringToNumber, PathOption } from '../../common/utils/helper';\nimport { seriesRender, pointRender } from '../../common/model/constants';\nimport { Theme, getSeriesColor } from '../../common/model/theme';\nimport { getElement, firstToLowerCase } from '../../common/utils/helper';\n/**\n * Annotation for accumulation series\n */\nvar AccumulationAnnotationSettings = /** @class */ (function (_super) {\n    __extends(AccumulationAnnotationSettings, _super);\n    function AccumulationAnnotationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AccumulationAnnotationSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('0')\n    ], AccumulationAnnotationSettings.prototype, \"x\", void 0);\n    __decorate([\n        Property('0')\n    ], AccumulationAnnotationSettings.prototype, \"y\", void 0);\n    __decorate([\n        Property('Pixel')\n    ], AccumulationAnnotationSettings.prototype, \"coordinateUnits\", void 0);\n    __decorate([\n        Property('Chart')\n    ], AccumulationAnnotationSettings.prototype, \"region\", void 0);\n    __decorate([\n        Property('Middle')\n    ], AccumulationAnnotationSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Property('Center')\n    ], AccumulationAnnotationSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationAnnotationSettings.prototype, \"description\", void 0);\n    return AccumulationAnnotationSettings;\n}(ChildProperty));\nexport { AccumulationAnnotationSettings };\n/**\n * Configures the dataLabel in accumulation chart.\n */\nvar AccumulationDataLabelSettings = /** @class */ (function (_super) {\n    __extends(AccumulationDataLabelSettings, _super);\n    function AccumulationDataLabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], AccumulationDataLabelSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationDataLabelSettings.prototype, \"name\", void 0);\n    __decorate([\n        Property('transparent')\n    ], AccumulationDataLabelSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property('Inside')\n    ], AccumulationDataLabelSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(5)\n    ], AccumulationDataLabelSettings.prototype, \"rx\", void 0);\n    __decorate([\n        Property(5)\n    ], AccumulationDataLabelSettings.prototype, \"ry\", void 0);\n    __decorate([\n        Complex({ width: null, color: null }, Border)\n    ], AccumulationDataLabelSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex({ size: '11px', color: null }, Font)\n    ], AccumulationDataLabelSettings.prototype, \"font\", void 0);\n    __decorate([\n        Complex({}, Connector)\n    ], AccumulationDataLabelSettings.prototype, \"connectorStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationDataLabelSettings.prototype, \"template\", void 0);\n    return AccumulationDataLabelSettings;\n}(ChildProperty));\nexport { AccumulationDataLabelSettings };\n/**\n * Configures the tooltip in accumulation chart.\n */\nvar AccumulationTooltipSettings = /** @class */ (function (_super) {\n    __extends(AccumulationTooltipSettings, _super);\n    function AccumulationTooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], AccumulationTooltipSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationTooltipSettings.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationTooltipSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('#FFFFFF')\n    ], AccumulationTooltipSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Complex({ color: null }, Border)\n    ], AccumulationTooltipSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationTooltipSettings.prototype, \"template\", void 0);\n    __decorate([\n        Complex(Theme.tooltipLabelFont, Font)\n    ], AccumulationTooltipSettings.prototype, \"textStyle\", void 0);\n    return AccumulationTooltipSettings;\n}(ChildProperty));\nexport { AccumulationTooltipSettings };\n/**\n * Points model for the series.\n * @private\n */\nvar AccPoints = /** @class */ (function () {\n    function AccPoints() {\n        this.visible = true;\n        this.symbolLocation = null;\n        /** @private */\n        this.region = null;\n        /** @private */\n        this.labelRegion = null;\n        /** @private */\n        this.labelVisible = true;\n    }\n    return AccPoints;\n}());\nexport { AccPoints };\n/**\n *  Configures the series in accumulation chart.\n */\nvar AccumulationSeries = /** @class */ (function (_super) {\n    __extends(AccumulationSeries, _super);\n    function AccumulationSeries() {\n        /**\n         * Specifies the dataSource for the series. It can be an array of JSON objects or an instance of DataManager.\n         * ```html\n         * <div id='Pie'></div>\n         * ```\n         * ```typescript\n         * let dataManager: DataManager = new DataManager({\n         *         url: 'http://mvc.syncfusion.com/Services/Northwnd.svc/Tasks/'\n         * });\n         * let query: Query = new Query().take(50).where('Estimate', 'greaterThan', 0, false);\n         * let pie: AccumulationChart = new AccumulationChart({\n         * ...\n         *     series: [{\n         *        dataSource: dataManager,\n         *        xName: 'Id',\n         *        yName: 'Estimate',\n         *        query: query\n         *    }],\n         * ...\n         * });\n         * pie.appendTo('#Pie');\n         * ```\n         * @default ''\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.points = [];\n        /** @private */\n        _this.sumOfPoints = 0;\n        return _this;\n    }\n    /** @private To refresh the Datamanager for series */\n    AccumulationSeries.prototype.refreshDataManager = function (accumulation) {\n        var _this = this;\n        if (isNullOrUndefined(this.query)) {\n            this.dataManagerSuccess({ result: this.dataSource, count: this.dataSource.length }, accumulation);\n            return;\n        }\n        var dataManager = this.dataModule.getData(this.dataModule.generateQuery().requiresCount());\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e, accumulation); });\n    };\n    /**\n     * To get points on dataManager is success\n     * @private\n     */\n    AccumulationSeries.prototype.dataManagerSuccess = function (e, accumulation) {\n        var argsData = {\n            name: seriesRender, series: this, data: e.result,\n        };\n        accumulation.trigger(seriesRender, argsData);\n        this.resultData = e.result;\n        this.getPoints(e.result, accumulation);\n        if (++accumulation.seriesCounts === accumulation.visibleSeries.length) {\n            accumulation.refreshChart();\n        }\n    };\n    /** @private To find points from result data */\n    AccumulationSeries.prototype.getPoints = function (result, accumulation) {\n        var length = Object.keys(result).length;\n        this.sumOfPoints = 0;\n        if (length === 0) {\n            return null;\n        }\n        this.findSumOfPoints(result);\n        this.points = [];\n        this.sumOfClub = 0;\n        var point;\n        var colors = this.palettes.length ? this.palettes : getSeriesColor(accumulation.theme);\n        var clubValue = stringToNumber(this.groupTo, this.sumOfPoints);\n        for (var i = 0; i < length; i++) {\n            point = this.setPoints(result, i, colors);\n            var currentY = point.y;\n            if (!this.isClub(point, clubValue)) {\n                if (isNullOrUndefined(point.y)) {\n                    point.visible = false;\n                }\n                this.pushPoints(point, colors);\n            }\n        }\n        this.lastGroupTo = this.groupTo;\n        if (this.sumOfClub > 0) {\n            var clubPoint = new AccPoints();\n            clubPoint.x = 'Others';\n            clubPoint.y = this.sumOfClub;\n            clubPoint.text = clubPoint.originalText = clubPoint.x + ': ' + this.sumOfClub;\n            this.pushPoints(clubPoint, colors);\n        }\n    };\n    /**\n     * Method to set point index and color\n     */\n    AccumulationSeries.prototype.pushPoints = function (point, colors) {\n        point.index = this.points.length;\n        point.color = point.color || colors[point.index % colors.length];\n        this.points.push(point);\n    };\n    /**\n     * Method to find club point\n     */\n    AccumulationSeries.prototype.isClub = function (point, clubValue) {\n        if (Math.abs(point.y) <= clubValue && !isNullOrUndefined(clubValue)) {\n            this.sumOfClub += Math.abs(point.y);\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Method to find sum of points in the series\n     */\n    AccumulationSeries.prototype.findSumOfPoints = function (result) {\n        var length = Object.keys(result).length;\n        for (var i = 0; i < length; i++) {\n            if (!isNullOrUndefined(result[i][this.yName])) {\n                this.sumOfPoints += Math.abs(result[i][this.yName]);\n            }\n        }\n    };\n    /**\n     * Method to set points x, y and text from data source\n     */\n    AccumulationSeries.prototype.setPoints = function (data, i, colors) {\n        var point = new AccPoints();\n        point.x = getValue(this.xName, data[i]);\n        point.y = getValue(this.yName, data[i]);\n        point.text = point.originalText = getValue(this.dataLabel.name || '', data[i]);\n        this.setAccEmptyPoint(point, i, data, colors);\n        return point;\n    };\n    /**\n     * Method render the series elements for accumulation chart\n     * @private\n     */\n    AccumulationSeries.prototype.renderSeries = function (accumulation) {\n        var seriesGroup = accumulation.renderer.createGroup({ id: accumulation.element.id + '_Series_' + this.index });\n        this.renderPoints(accumulation, seriesGroup);\n        var datalabelGroup;\n        if (accumulation.accumulationDataLabelModule && this.dataLabel.visible) {\n            datalabelGroup = accumulation.renderer.createGroup({ id: accumulation.element.id + '_datalabel_Series_' + this.index });\n            datalabelGroup.style.visibility =\n                (this.animation.enable && accumulation.animateSeries && this.type === 'Pie') ? 'hidden' : 'visible';\n            this.renderDataLabel(accumulation, datalabelGroup);\n        }\n        if (this.type === 'Pie') {\n            this.findMaxBounds(this.labelBound, this.accumulationBound);\n            accumulation.pieSeriesModule.animateSeries(accumulation, this.animation, this, seriesGroup);\n        }\n        if (accumulation.accumulationLegendModule) {\n            this.labelBound.x -= accumulation.explodeDistance;\n            this.labelBound.y -= accumulation.explodeDistance;\n            this.labelBound.height += (accumulation.explodeDistance - this.labelBound.y);\n            this.labelBound.width += (accumulation.explodeDistance - this.labelBound.x);\n        }\n    };\n    /**\n     * Method render the points elements for accumulation chart series.\n     */\n    AccumulationSeries.prototype.renderPoints = function (accumulation, seriesGroup) {\n        var pointId = accumulation.element.id + '_Series_' + this.index + '_Point_';\n        var option;\n        for (var _i = 0, _a = this.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            var argsData = {\n                cancel: false, name: pointRender, series: this, point: point, fill: point.color,\n                border: this.isEmpty(point) ? { width: this.emptyPointSettings.border.width, color: this.emptyPointSettings.border.color } :\n                    { width: this.border.width, color: this.border.color }\n            };\n            accumulation.trigger(pointRender, argsData);\n            point.color = argsData.fill;\n            if (point.visible) {\n                option = new PathOption(pointId + point.index, point.color, argsData.border.width || 1, argsData.border.color || point.color, 1, '', '');\n                accumulation[(firstToLowerCase(this.type) + 'SeriesModule')].\n                    renderPoint(point, this, accumulation, option);\n                seriesGroup.appendChild(accumulation.renderer.drawPath(option));\n            }\n        }\n        accumulation.getSeriesElement().appendChild(seriesGroup);\n    };\n    /**\n     * Method render the datalabel elements for accumulation chart.\n     */\n    AccumulationSeries.prototype.renderDataLabel = function (accumulation, datalabelGroup) {\n        accumulation.accumulationDataLabelModule.findAreaRect();\n        var element = createElement('div', {\n            id: accumulation.element.id + '_Series_0' + '_DataLabelCollections'\n        });\n        for (var _i = 0, _a = this.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (point.visible) {\n                accumulation.accumulationDataLabelModule.renderDataLabel(point, this.dataLabel, datalabelGroup, this.points, this.index, element);\n            }\n        }\n        if (this.dataLabel.template !== null && element.childElementCount) {\n            getElement(accumulation.element.id + '_Secondary_Element').appendChild(element);\n        }\n        accumulation.getSeriesElement().appendChild(datalabelGroup);\n    };\n    /**\n     * To find maximum bounds for smart legend placing\n     * @private\n     */\n    AccumulationSeries.prototype.findMaxBounds = function (totalbound, bound) {\n        totalbound.x = bound.x < totalbound.x ? bound.x : totalbound.x;\n        totalbound.y = bound.y < totalbound.y ? bound.y : totalbound.y;\n        totalbound.height = (bound.y + bound.height) > totalbound.height ? (bound.y + bound.height) : totalbound.height;\n        totalbound.width = (bound.x + bound.width) > totalbound.width ? (bound.x + bound.width) : totalbound.width;\n    };\n    /**\n     * To set empty point value for null points\n     * @private\n     */\n    AccumulationSeries.prototype.setAccEmptyPoint = function (point, i, data, colors) {\n        if (!isNullOrUndefined(point.y)) {\n            return null;\n        }\n        point.color = this.emptyPointSettings.fill || point.color;\n        switch (this.emptyPointSettings.mode) {\n            case 'Zero':\n                point.y = 0;\n                point.visible = true;\n                break;\n            case 'Average':\n                var previous = data[i - 1] ? (data[i - 1][this.yName] || 0) : 0;\n                var next = data[i + 1] ? (data[i + 1][this.yName] || 0) : 0;\n                point.y = (Math.abs(previous) + Math.abs(next)) / 2;\n                this.sumOfPoints += point.y;\n                point.visible = true;\n                break;\n            case 'Drop':\n                point.visible = false;\n                break;\n        }\n    };\n    /**\n     * To find point is empty\n     */\n    AccumulationSeries.prototype.isEmpty = function (point) {\n        return point.color === this.emptyPointSettings.fill;\n    };\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], AccumulationSeries.prototype, \"query\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"xName\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"yName\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationSeries.prototype, \"visible\", void 0);\n    __decorate([\n        Complex({ color: null, width: 0 }, Border)\n    ], AccumulationSeries.prototype, \"border\", void 0);\n    __decorate([\n        Complex(null, Animation)\n    ], AccumulationSeries.prototype, \"animation\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], AccumulationSeries.prototype, \"legendShape\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationSeries.prototype, \"selectionStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationSeries.prototype, \"groupTo\", void 0);\n    __decorate([\n        Complex({}, AccumulationDataLabelSettings)\n    ], AccumulationSeries.prototype, \"dataLabel\", void 0);\n    __decorate([\n        Property([])\n    ], AccumulationSeries.prototype, \"palettes\", void 0);\n    __decorate([\n        Property(0)\n    ], AccumulationSeries.prototype, \"startAngle\", void 0);\n    __decorate([\n        Property(360)\n    ], AccumulationSeries.prototype, \"endAngle\", void 0);\n    __decorate([\n        Property('80%')\n    ], AccumulationSeries.prototype, \"radius\", void 0);\n    __decorate([\n        Property('0')\n    ], AccumulationSeries.prototype, \"innerRadius\", void 0);\n    __decorate([\n        Property('Pie')\n    ], AccumulationSeries.prototype, \"type\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationSeries.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], AccumulationSeries.prototype, \"explode\", void 0);\n    __decorate([\n        Property('30%')\n    ], AccumulationSeries.prototype, \"explodeOffset\", void 0);\n    __decorate([\n        Property(false)\n    ], AccumulationSeries.prototype, \"explodeAll\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationSeries.prototype, \"explodeIndex\", void 0);\n    __decorate([\n        Complex({ mode: 'Drop' }, EmptyPointSettings)\n    ], AccumulationSeries.prototype, \"emptyPointSettings\", void 0);\n    __decorate([\n        Property(0)\n    ], AccumulationSeries.prototype, \"gapRatio\", void 0);\n    __decorate([\n        Property('80%')\n    ], AccumulationSeries.prototype, \"width\", void 0);\n    __decorate([\n        Property('80%')\n    ], AccumulationSeries.prototype, \"height\", void 0);\n    __decorate([\n        Property('20%')\n    ], AccumulationSeries.prototype, \"neckWidth\", void 0);\n    __decorate([\n        Property('20%')\n    ], AccumulationSeries.prototype, \"neckHeight\", void 0);\n    __decorate([\n        Property('Linear')\n    ], AccumulationSeries.prototype, \"pyramidMode\", void 0);\n    return AccumulationSeries;\n}(ChildProperty));\nexport { AccumulationSeries };\n/**\n * method to get series from index\n * @private\n */\nexport function getSeriesFromIndex(index, visibleSeries) {\n    for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n        var series = visibleSeries_1[_i];\n        if (index === series.index) {\n            return series;\n        }\n    }\n    return visibleSeries[0];\n}\n/**\n * method to get point from index\n * @private\n */\nexport function pointByIndex(index, points) {\n    for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n        var point = points_1[_i];\n        if (point.index === index) {\n            return point;\n        }\n    }\n    return null;\n}\n/**\n * method to find series, point index by element id\n * @private\n */\nexport function indexFinder(id) {\n    var ids = ['NaN', 'NaN'];\n    if (id.indexOf('_Point_') > -1) {\n        ids = id.split('_Series_')[1].split('_Point_');\n    }\n    else if (id.indexOf('_shape_') > -1) {\n        ids = id.split('_shape_');\n        ids[0] = '0';\n    }\n    else if (id.indexOf('_text_') > -1) {\n        ids = id.split('_text_');\n        ids[0] = '0';\n    }\n    return new Index(parseInt(ids[0], 10), parseInt(ids[1], 10));\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Defines the appearance of the connectors\n */\nvar Connector = /** @class */ (function (_super) {\n    __extends(Connector, _super);\n    function Connector() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Line')\n    ], Connector.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], Connector.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Connector.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Connector.prototype, \"length\", void 0);\n    __decorate([\n        Property('')\n    ], Connector.prototype, \"dashArray\", void 0);\n    return Connector;\n}(ChildProperty));\nexport { Connector };\n/**\n * Configures the fonts in charts.\n */\nvar Font = /** @class */ (function (_super) {\n    __extends(Font, _super);\n    function Font() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('16px')\n    ], Font.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Font.prototype, \"color\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], Font.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property(1)\n    ], Font.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Center')\n    ], Font.prototype, \"textAlignment\", void 0);\n    return Font;\n}(ChildProperty));\nexport { Font };\n/**\n * Configures the borders in the chart.\n */\nvar Border = /** @class */ (function (_super) {\n    __extends(Border, _super);\n    function Border() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Border.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Border.prototype, \"width\", void 0);\n    return Border;\n}(ChildProperty));\nexport { Border };\n/**\n * Configures the chart area.\n */\nvar ChartArea = /** @class */ (function (_super) {\n    __extends(ChartArea, _super);\n    function ChartArea() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Border)\n    ], ChartArea.prototype, \"border\", void 0);\n    __decorate([\n        Property('transparent')\n    ], ChartArea.prototype, \"background\", void 0);\n    __decorate([\n        Property(1)\n    ], ChartArea.prototype, \"opacity\", void 0);\n    return ChartArea;\n}(ChildProperty));\nexport { ChartArea };\n/**\n * Configures the chart margins.\n */\nvar Margin = /** @class */ (function (_super) {\n    __extends(Margin, _super);\n    function Margin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"left\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"right\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"top\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"bottom\", void 0);\n    return Margin;\n}(ChildProperty));\nexport { Margin };\n/**\n * Configures the animation behavior for chart series.\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], Animation.prototype, \"enable\", void 0);\n    __decorate([\n        Property(1000)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/** @private */\nvar Indexes = /** @class */ (function (_super) {\n    __extends(Indexes, _super);\n    function Indexes() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Indexes.prototype, \"series\", void 0);\n    __decorate([\n        Property(0)\n    ], Indexes.prototype, \"point\", void 0);\n    return Indexes;\n}(ChildProperty));\nexport { Indexes };\n/**\n * Column series rounded corner options\n */\nvar CornerRadius = /** @class */ (function (_super) {\n    __extends(CornerRadius, _super);\n    function CornerRadius() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"topLeft\", void 0);\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"topRight\", void 0);\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"bottomLeft\", void 0);\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"bottomRight\", void 0);\n    return CornerRadius;\n}(ChildProperty));\nexport { CornerRadius };\n/**\n * @private\n */\nvar Index = /** @class */ (function () {\n    function Index(seriesIndex, pointIndex) {\n        this.series = seriesIndex;\n        this.point = pointIndex;\n    }\n    return Index;\n}());\nexport { Index };\n/**\n * Configures the Empty Points of series\n */\nvar EmptyPointSettings = /** @class */ (function (_super) {\n    __extends(EmptyPointSettings, _super);\n    function EmptyPointSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EmptyPointSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 0 }, Border)\n    ], EmptyPointSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property('Gap')\n    ], EmptyPointSettings.prototype, \"mode\", void 0);\n    return EmptyPointSettings;\n}(ChildProperty));\nexport { EmptyPointSettings };\n","/**\n * Numeric Range.\n * @private\n */\nvar DoubleRange = /** @class */ (function () {\n    function DoubleRange(start, end) {\n        /*\n          if (!isNaN(start) && !isNaN(end)) {\n           this.mIsEmpty = true;\n          } else {\n              this.mIsEmpty = false;\n          }*/\n        if (start < end) {\n            this.mStart = start;\n            this.mEnd = end;\n        }\n        else {\n            this.mStart = end;\n            this.mEnd = start;\n        }\n    }\n    Object.defineProperty(DoubleRange.prototype, \"start\", {\n        //private mIsEmpty: boolean;\n        /** @private */\n        get: function () {\n            return this.mStart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DoubleRange.prototype, \"end\", {\n        /** @private */\n        get: function () {\n            return this.mEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DoubleRange.prototype, \"delta\", {\n        /*\n          get isEmpty(): boolean {\n             return this.mIsEmpty;\n         }*/\n        /** @private */\n        get: function () {\n            return (this.mEnd - this.mStart);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DoubleRange.prototype, \"median\", {\n        /** @private */\n        get: function () {\n            return this.mStart + (this.mEnd - this.mStart) / 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return DoubleRange;\n}());\nexport { DoubleRange };\n","import { getMinPointsDelta } from '../../common/utils/helper';\nimport { DoubleRange } from '../utils/double-range';\nimport { withIn, logBase } from '../../common/utils/helper';\n/**\n * Numeric module is used to render numeric axis.\n */\nvar Double = /** @class */ (function () {\n    /**\n     * Constructor for the dateTime module.\n     * @private\n     */\n    function Double(chart) {\n        this.chart = chart;\n    }\n    /**\n     * Numeric Nice Interval for the axis.\n     * @private\n     */\n    Double.prototype.calculateNumericNiceInterval = function (axis, delta, size) {\n        var actualDesiredIntervalsCount = axis.getActualDesiredIntervalsCount(size);\n        var niceInterval = delta / actualDesiredIntervalsCount;\n        if (axis.desiredIntervals != null) {\n            return niceInterval;\n        }\n        var minInterval = Math.pow(10, Math.floor(logBase(niceInterval, 10)));\n        for (var _i = 0, _a = axis.intervalDivs; _i < _a.length; _i++) {\n            var interval = _a[_i];\n            var currentInterval = minInterval * interval;\n            if (actualDesiredIntervalsCount < (delta / currentInterval)) {\n                break;\n            }\n            niceInterval = currentInterval;\n        }\n        return niceInterval;\n    };\n    /**\n     * Actual Range for the axis.\n     * @private\n     */\n    Double.prototype.getActualRange = function (axis, size) {\n        this.initializeDoubleRange(axis);\n        axis.actualRange.interval = axis.interval || this.calculateNumericNiceInterval(axis, axis.doubleRange.delta, size);\n        axis.actualRange.min = axis.doubleRange.start;\n        axis.actualRange.max = axis.doubleRange.end;\n    };\n    /**\n     * Range for the axis.\n     * @private\n     */\n    Double.prototype.initializeDoubleRange = function (axis) {\n        //Axis Min\n        if (axis.minimum !== null) {\n            this.min = axis.minimum;\n        }\n        else if (this.min === null || this.min === Number.POSITIVE_INFINITY) {\n            this.min = 0;\n        }\n        // Axis Max\n        if (axis.maximum !== null) {\n            this.max = axis.maximum;\n        }\n        else if (this.max === null || this.max === Number.NEGATIVE_INFINITY) {\n            this.max = 5;\n        }\n        if (this.min === this.max) {\n            this.max = this.min + 1;\n        }\n        axis.doubleRange = new DoubleRange(this.min, this.max);\n        axis.actualRange = {};\n    };\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     * @private\n     */\n    Double.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis, this.chart);\n    };\n    /**\n     * Calculate Range for the axis.\n     * @private\n     */\n    Double.prototype.calculateRange = function (axis, size) {\n        /*! Generate axis range */\n        var series;\n        this.min = null;\n        this.max = null;\n        if (!axis.setRange()) {\n            for (var _i = 0, _a = axis.series; _i < _a.length; _i++) {\n                var series_1 = _a[_i];\n                if (!series_1.visible) {\n                    continue;\n                }\n                this.paddingInterval = 0;\n                if ((series_1.type.indexOf('Column') > -1 && axis.orientation === 'Horizontal')\n                    || (series_1.type.indexOf('Bar') > -1 && axis.orientation === 'Vertical')) {\n                    if ((series_1.xAxis.valueType === 'Double' || series_1.xAxis.valueType === 'DateTime')\n                        && series_1.xAxis.rangePadding === 'Auto') {\n                        this.paddingInterval = getMinPointsDelta(series_1.xAxis, axis.series) / 2;\n                    }\n                }\n                //For xRange\n                if (axis.orientation === 'Horizontal') {\n                    if (this.chart.requireInvertedAxis) {\n                        this.findMinMax(series_1.yMin, series_1.yMax);\n                    }\n                    else {\n                        this.findMinMax(series_1.xMin - this.paddingInterval, series_1.xMax + this.paddingInterval);\n                    }\n                }\n                // For yRange\n                if (axis.orientation === 'Vertical') {\n                    if (this.chart.requireInvertedAxis) {\n                        this.findMinMax(series_1.xMin - this.paddingInterval, series_1.xMax + this.paddingInterval);\n                    }\n                    else {\n                        this.findMinMax(series_1.yMin, series_1.yMax);\n                    }\n                }\n            }\n        }\n    };\n    Double.prototype.findMinMax = function (min, max) {\n        if (this.min === null || this.min > min) {\n            this.min = min;\n        }\n        if (this.max === null || this.max < max) {\n            this.max = max;\n        }\n    };\n    /**\n     * Apply padding for the range.\n     * @private\n     */\n    Double.prototype.applyRangePadding = function (axis, size) {\n        var range;\n        var start = axis.actualRange.min;\n        var end = axis.actualRange.max;\n        if (!axis.setRange()) {\n            var interval = axis.actualRange.interval;\n            var padding = axis.getRangePadding(this.chart);\n            if (padding === 'Additional' || padding === 'Round') {\n                this.findAdditional(axis, start, end, interval);\n            }\n            else if (padding === 'Normal') {\n                this.findNormal(axis, start, end, interval, size);\n            }\n            else {\n                this.updateActualRange(axis, start, end, interval);\n            }\n        }\n        axis.actualRange.delta = axis.actualRange.max - axis.actualRange.min;\n        this.calculateVisibleRange(size, axis);\n    };\n    Double.prototype.updateActualRange = function (axis, minimum, maximum, interval) {\n        axis.actualRange.min = axis.minimum != null ? axis.minimum : minimum;\n        axis.actualRange.max = axis.maximum != null ? axis.maximum : maximum;\n        axis.actualRange.interval = axis.interval != null ? axis.interval : interval;\n    };\n    Double.prototype.findAdditional = function (axis, start, end, interval) {\n        var minimum;\n        var maximum;\n        minimum = Math.floor(start / interval) * interval;\n        maximum = Math.ceil(end / interval) * interval;\n        if (axis.rangePadding === 'Additional') {\n            minimum -= interval;\n            maximum += interval;\n        }\n        this.updateActualRange(axis, minimum, maximum, interval);\n    };\n    Double.prototype.findNormal = function (axis, start, end, interval, size) {\n        var remaining;\n        var minimum;\n        var maximum;\n        var startValue = start;\n        if (start < 0) {\n            startValue = 0;\n            minimum = start + (start / 20);\n            remaining = interval + (minimum % interval);\n            if ((0.365 * interval) >= remaining) {\n                minimum -= interval;\n            }\n            if (minimum % interval < 0) {\n                minimum = (minimum - interval) - (minimum % interval);\n            }\n        }\n        else {\n            minimum = start < ((5.0 / 6.0) * end) ? 0 : (start - (end - start) / 2);\n            if (minimum % interval > 0) {\n                minimum -= (minimum % interval);\n            }\n        }\n        maximum = (end > 0) ? (end + (end - startValue) / 20) : (end - (end - startValue) / 20);\n        remaining = interval - (maximum % interval);\n        if ((0.365 * interval) >= remaining) {\n            maximum += interval;\n        }\n        if (maximum % interval > 0) {\n            maximum = (maximum + interval) - (maximum % interval);\n        }\n        axis.doubleRange = new DoubleRange(minimum, maximum);\n        if (minimum === 0) {\n            interval = this.calculateNumericNiceInterval(axis, axis.doubleRange.delta, size);\n            maximum = Math.ceil(maximum / interval) * interval;\n        }\n        this.updateActualRange(axis, minimum, maximum, interval);\n    };\n    /**\n     * Calculate visible range for axis.\n     * @private\n     */\n    Double.prototype.calculateVisibleRange = function (size, axis) {\n        axis.visibleRange = {\n            max: axis.actualRange.max, min: axis.actualRange.min,\n            delta: axis.actualRange.delta, interval: axis.actualRange.interval\n        };\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            axis.calculateVisibleRange(size);\n            axis.visibleRange.interval = (axis.enableAutoIntervalOnZooming && axis.valueType !== 'Category') ?\n                this.calculateNumericNiceInterval(axis, axis.doubleRange.delta, size)\n                : axis.visibleRange.interval;\n        }\n    };\n    /**\n     * Calculate label for the axis.\n     * @private\n     */\n    Double.prototype.calculateVisibleLabels = function (axis, chart) {\n        /*! Generate axis labels */\n        axis.visibleLabels = [];\n        var tempInterval = axis.visibleRange.min;\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0 || this.paddingInterval) {\n            tempInterval = axis.visibleRange.min - (axis.visibleRange.min % axis.visibleRange.interval);\n        }\n        var format = this.getFormat(axis);\n        var isCustom = format.match('{value}') !== null;\n        axis.format = chart.intl.getNumberFormat({ format: isCustom ? '' : format,\n            useGrouping: chart.useGroupingSeparator });\n        axis.startLabel = axis.format(axis.visibleRange.min);\n        axis.endLabel = axis.format(axis.visibleRange.max);\n        for (; tempInterval <= axis.visibleRange.max; tempInterval += axis.visibleRange.interval) {\n            if (withIn(tempInterval, axis.visibleRange)) {\n                axis.triggerLabelRender(chart, tempInterval, this.formatValue(axis, isCustom, format, tempInterval));\n            }\n        }\n        axis.getMaxLabelWidth(chart);\n    };\n    /**\n     * Format of the axis label.\n     * @private\n     */\n    Double.prototype.getFormat = function (axis) {\n        if (axis.labelFormat) {\n            return axis.labelFormat;\n        }\n        return axis.isStack100 ? '{value}%' : '';\n    };\n    /**\n     * Formatted the axis label.\n     * @private\n     */\n    Double.prototype.formatValue = function (axis, isCustom, format, tempInterval) {\n        return isCustom ? format.replace('{value}', axis.format(tempInterval))\n            : axis.format(tempInterval);\n    };\n    return Double;\n}());\nexport { Double };\n","/**\n * Specifies the chart constant value\n */\n/** @private */\nexport var loaded = 'loaded';\n/** @private */\nexport var load = 'load';\n/** @private */\nexport var animationComplete = 'animationComplete';\n/** @private */\nexport var legendRender = 'legendRender';\n/** @private */\nexport var textRender = 'textRender';\n/** @private */\nexport var pointRender = 'pointRender';\n/** @private */\nexport var seriesRender = 'seriesRender';\n/** @private */\nexport var axisLabelRender = 'axisLabelRender';\n/** @private */\nexport var tooltipRender = 'tooltipRender';\n/** @private */\nexport var chartMouseMove = 'chartMouseMove';\n/** @private */\nexport var chartMouseClick = 'chartMouseClick';\n/** @private */\nexport var chartMouseLeave = 'chartMouseLeave';\n/** @private */\nexport var chartMouseDown = 'chartMouseDown';\n/** @private */\nexport var chartMouseUp = 'chartMouseUp';\n/** @private */\nexport var zoomComplete = 'zoomComplete';\n/** @private */\nexport var dragComplete = 'dragComplete';\n/** @private */\nexport var resized = 'resized';\n/** @private */\nexport var beforePrint = 'beforePrint';\n/** @private */\nexport var annotationRender = 'annotationRender';\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Complex } from '@syncfusion/ej2-base';\nimport { Theme } from '../../common/model/theme';\nimport { Font, Border } from '../../common/model/base';\n/**\n * Configures the Annotation for chart.\n */\nvar ChartAnnotationSettings = /** @class */ (function (_super) {\n    __extends(ChartAnnotationSettings, _super);\n    function ChartAnnotationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('0')\n    ], ChartAnnotationSettings.prototype, \"x\", void 0);\n    __decorate([\n        Property('0')\n    ], ChartAnnotationSettings.prototype, \"y\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('Center')\n    ], ChartAnnotationSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property('Pixel')\n    ], ChartAnnotationSettings.prototype, \"coordinateUnits\", void 0);\n    __decorate([\n        Property('Chart')\n    ], ChartAnnotationSettings.prototype, \"region\", void 0);\n    __decorate([\n        Property('Middle')\n    ], ChartAnnotationSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"xAxisName\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"yAxisName\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"description\", void 0);\n    return ChartAnnotationSettings;\n}(ChildProperty));\nexport { ChartAnnotationSettings };\n/**\n * Strip line properties\n */\nvar StripLineSettings = /** @class */ (function (_super) {\n    __extends(StripLineSettings, _super);\n    function StripLineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], StripLineSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(false)\n    ], StripLineSettings.prototype, \"startFromAxis\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"end\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"size\", void 0);\n    __decorate([\n        Property('#808080')\n    ], StripLineSettings.prototype, \"color\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 1 }, Border)\n    ], StripLineSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property('')\n    ], StripLineSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"rotation\", void 0);\n    __decorate([\n        Property('Middle')\n    ], StripLineSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property('Middle')\n    ], StripLineSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Complex(Theme.stripLineLabelFont, Font)\n    ], StripLineSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('Behind')\n    ], StripLineSettings.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(1)\n    ], StripLineSettings.prototype, \"opacity\", void 0);\n    return StripLineSettings;\n}(ChildProperty));\nexport { StripLineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, Complex, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Font, Border } from '../../common/model/base';\nimport { Size, Rect, measureText, rotateTextSize, firstToLowerCase, valueToCoefficient, textTrim } from '../../common/utils/helper';\nimport { DoubleRange } from '../utils/double-range';\nimport { Double } from '../axis/double-axis';\nimport { Theme } from '../../common/model/theme';\nimport { axisLabelRender } from '../../common/model/constants';\nimport { StripLineSettings } from '../model/chart-base';\nvar axisPadding = 10;\n/**\n * Configures the `rows` of the chart.\n */\nvar Row = /** @class */ (function (_super) {\n    __extends(Row, _super);\n    function Row() {\n        /**\n         * The height of the row as a string accept input both as '100px' and '100%'.\n         * If specified as '100%, row renders to the full height of its chart.\n         * @default 100%.\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.axes = [];\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        return _this;\n    }\n    /**\n     * Measure the row size\n     * @return {void}\n     * @private\n     */\n    Row.prototype.computeSize = function (axis, clipRect) {\n        var titleSize = 0;\n        var width = 0;\n        var innerPadding = 5;\n        if (axis.visible) {\n            if (axis.title) {\n                titleSize = measureText(axis.title, axis.titleStyle).height + innerPadding;\n            }\n            width += (titleSize + axis.majorTickLines.height + axis.maxLabelSize.width + innerPadding + axisPadding +\n                axis.lineStyle.width / 2);\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(width);\n        }\n        else {\n            this.nearSizes.push(width);\n        }\n    };\n    __decorate([\n        Property('100%')\n    ], Row.prototype, \"height\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], Row.prototype, \"border\", void 0);\n    return Row;\n}(ChildProperty));\nexport { Row };\n/**\n * Configures the `columns` of the chart.\n */\nvar Column = /** @class */ (function (_super) {\n    __extends(Column, _super);\n    function Column() {\n        /**\n         * The width of the column as a string accepts input both as like '100px' or '100%'.\n         * If specified as '100%, column renders to the full width of its chart.\n         * @default 100%.\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.axes = [];\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        /** @private */\n        _this.padding = 0;\n        return _this;\n    }\n    /**\n     * Measure the column size\n     * @return {void}\n     * @private\n     */\n    Column.prototype.computeSize = function (axis, clipRect) {\n        var titleSize = 0;\n        var height = 0;\n        var innerPadding = 5;\n        if (axis.visible) {\n            if (axis.title) {\n                titleSize = measureText(axis.title, axis.titleStyle).height + innerPadding;\n            }\n            height += (titleSize + axis.majorTickLines.height + axis.maxLabelSize.height + innerPadding + axisPadding\n                + axis.lineStyle.width / 2);\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(height);\n        }\n        else {\n            this.nearSizes.push(height);\n        }\n    };\n    __decorate([\n        Property('100%')\n    ], Column.prototype, \"width\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], Column.prototype, \"border\", void 0);\n    return Column;\n}(ChildProperty));\nexport { Column };\n/**\n * Configures the major grid lines in the `axis`.\n */\nvar MajorGridLines = /** @class */ (function (_super) {\n    __extends(MajorGridLines, _super);\n    function MajorGridLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], MajorGridLines.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], MajorGridLines.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(Theme.axisMajorGridLineColor)\n    ], MajorGridLines.prototype, \"color\", void 0);\n    return MajorGridLines;\n}(ChildProperty));\nexport { MajorGridLines };\n/**\n * Configures the minor grid lines in the `axis`.\n */\nvar MinorGridLines = /** @class */ (function (_super) {\n    __extends(MinorGridLines, _super);\n    function MinorGridLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0.7)\n    ], MinorGridLines.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], MinorGridLines.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(Theme.axisMinorGridLineColor)\n    ], MinorGridLines.prototype, \"color\", void 0);\n    return MinorGridLines;\n}(ChildProperty));\nexport { MinorGridLines };\n/**\n * Configures the axis line of a chart.\n */\nvar AxisLine = /** @class */ (function (_super) {\n    __extends(AxisLine, _super);\n    function AxisLine() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], AxisLine.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], AxisLine.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(Theme.axisLineColor)\n    ], AxisLine.prototype, \"color\", void 0);\n    return AxisLine;\n}(ChildProperty));\nexport { AxisLine };\n/**\n * Configures the major tick lines.\n */\nvar MajorTickLines = /** @class */ (function (_super) {\n    __extends(MajorTickLines, _super);\n    function MajorTickLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], MajorTickLines.prototype, \"width\", void 0);\n    __decorate([\n        Property(5)\n    ], MajorTickLines.prototype, \"height\", void 0);\n    __decorate([\n        Property(Theme.axisMajorTickLineColor)\n    ], MajorTickLines.prototype, \"color\", void 0);\n    return MajorTickLines;\n}(ChildProperty));\nexport { MajorTickLines };\n/**\n * Configures the minor tick lines.\n */\nvar MinorTickLines = /** @class */ (function (_super) {\n    __extends(MinorTickLines, _super);\n    function MinorTickLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0.7)\n    ], MinorTickLines.prototype, \"width\", void 0);\n    __decorate([\n        Property(5)\n    ], MinorTickLines.prototype, \"height\", void 0);\n    __decorate([\n        Property(Theme.axisMinorTickLineColor)\n    ], MinorTickLines.prototype, \"color\", void 0);\n    return MinorTickLines;\n}(ChildProperty));\nexport { MinorTickLines };\n/**\n * Configures the crosshair ToolTip.\n */\nvar CrosshairTooltip = /** @class */ (function (_super) {\n    __extends(CrosshairTooltip, _super);\n    function CrosshairTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], CrosshairTooltip.prototype, \"enable\", void 0);\n    __decorate([\n        Property(Theme.crossHairLabelColor)\n    ], CrosshairTooltip.prototype, \"fill\", void 0);\n    __decorate([\n        Complex(Theme.crosshairLabelFont, Font)\n    ], CrosshairTooltip.prototype, \"textStyle\", void 0);\n    return CrosshairTooltip;\n}(ChildProperty));\nexport { CrosshairTooltip };\n/**\n * Configures the axes in the chart.\n */\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis() {\n        /**\n         * Options to customize the axis label.\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.visibleLabels = [];\n        /** @private */\n        _this.series = [];\n        /** @private */\n        _this.rect = new Rect(undefined, undefined, 0, 0);\n        /** @private */\n        _this.axisBottomLine = null;\n        /** @private */\n        _this.intervalDivs = [10, 5, 2, 1];\n        /** @private */\n        _this.angle = _this.labelRotation;\n        /** @private */\n        _this.isStack100 = false;\n        return _this;\n    }\n    /**\n     * The function used to find whether the range is set.\n     * @return {boolean}\n     * @private\n     */\n    Axis.prototype.setRange = function () {\n        if (this.minimum != null && this.maximum != null) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Calculate visible range for axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.calculateVisibleRange = function (size) {\n        if (this.zoomFactor < 1 || this.zoomPosition > 0) {\n            var baseRange = this.actualRange;\n            var start = void 0;\n            var end = void 0;\n            if (!this.isInversed) {\n                start = this.actualRange.min + this.zoomPosition * this.actualRange.delta;\n                end = start + this.zoomFactor * this.actualRange.delta;\n            }\n            else {\n                start = this.actualRange.max - (this.zoomPosition * this.actualRange.delta);\n                end = start - (this.zoomFactor * this.actualRange.delta);\n            }\n            if (start < baseRange.min) {\n                end = end + (baseRange.min - start);\n                start = baseRange.min;\n            }\n            if (end > baseRange.max) {\n                start = start - (end - baseRange.max);\n                end = baseRange.max;\n            }\n            this.doubleRange = new DoubleRange(start, end);\n            this.visibleRange.min = this.doubleRange.start;\n            this.visibleRange.max = this.doubleRange.end;\n            this.visibleRange.delta = this.doubleRange.delta;\n        }\n    };\n    /**\n     * Calculate desired interval for the axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.getActualDesiredIntervalsCount = function (availableSize) {\n        var size = this.orientation === 'Horizontal' ? availableSize.width : availableSize.height;\n        if (this.desiredIntervals === null) {\n            var desiredIntervalsCount = (this.orientation === 'Horizontal' ? 0.533 : 1) * this.maximumLabels;\n            desiredIntervalsCount = Math.max((size * (desiredIntervalsCount / 100)), 1);\n            return desiredIntervalsCount;\n        }\n        else {\n            return this.desiredIntervals;\n        }\n    };\n    /**\n     * Triggers the event.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.triggerLabelRender = function (chart, tempInterval, text) {\n        var argsData;\n        argsData = {\n            cancel: false, name: axisLabelRender, axis: this,\n            text: text, value: tempInterval\n        };\n        chart.trigger(axisLabelRender, argsData);\n        if (!argsData.cancel) {\n            this.visibleLabels.push(new VisibleLabels(argsData.text, argsData.value));\n        }\n    };\n    /**\n     * Calculate padding for the axis.\n     * @return {string}\n     * @private\n     */\n    Axis.prototype.getRangePadding = function (chart) {\n        var padding = this.rangePadding;\n        if (padding !== 'Auto') {\n            return padding;\n        }\n        switch (this.orientation) {\n            case 'Horizontal':\n                if (chart.requireInvertedAxis) {\n                    padding = (this.isStack100 ? 'Round' : 'Normal');\n                }\n                else {\n                    padding = 'None';\n                }\n                break;\n            case 'Vertical':\n                if (!chart.requireInvertedAxis) {\n                    padding = (this.isStack100 ? 'Round' : 'Normal');\n                }\n                else {\n                    padding = 'None';\n                }\n                break;\n        }\n        return padding;\n    };\n    /**\n     * Calculate maximum label width for the axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.getMaxLabelWidth = function (chart) {\n        var prevSize = new Size(0, 0);\n        var rotatedLabel;\n        var pointX;\n        var previousEnd = 0;\n        var isIntersect = false;\n        this.angle = this.labelRotation;\n        this.maxLabelSize = new Size(0, 0);\n        var action = this.labelIntersectAction;\n        var label;\n        for (var i = 0; i < this.visibleLabels.length; i++) {\n            label = this.visibleLabels[i];\n            label.size = measureText(label.text, this.labelStyle);\n            if (label.size.width > this.maxLabelSize.width) {\n                this.maxLabelSize.width = label.size.width;\n                this.rotatedLabel = label.text;\n            }\n            if (label.size.height > this.maxLabelSize.height) {\n                this.maxLabelSize.height = label.size.height;\n            }\n            if (action === 'None' || action === 'Hide' || action === 'Trim') {\n                continue;\n            }\n            if (this.angle % 360 === 0 && this.orientation === 'Horizontal' && this.rect.width > 0 && !isIntersect) {\n                pointX = (valueToCoefficient(label.value, this) * this.rect.width) + this.rect.x;\n                pointX -= label.size.width / 2;\n                if (this.edgeLabelPlacement === 'Shift') {\n                    if (i === 0 && pointX < this.rect.x) {\n                        pointX = this.rect.x;\n                    }\n                    if (i === this.visibleLabels.length - 1 && ((pointX + label.size.width) > (this.rect.x + this.rect.width))) {\n                        pointX = this.rect.x + this.rect.width - label.size.width;\n                    }\n                }\n                switch (action) {\n                    case 'MultipleRows':\n                        if (i > 0) {\n                            this.findMultiRows(i, pointX, label);\n                        }\n                        break;\n                    case 'Rotate45':\n                    case 'Rotate90':\n                        if (i > 0 && (!this.isInversed ? pointX <= previousEnd : pointX + label.size.width >= previousEnd)) {\n                            this.angle = (action === 'Rotate45') ? 45 : 90;\n                            isIntersect = true;\n                        }\n                        break;\n                    default:\n                        this.findWrap(i, pointX, label);\n                        break;\n                }\n                previousEnd = this.isInversed ? pointX : pointX + label.size.width;\n            }\n        }\n        if (this.angle !== 0) {\n            this.maxLabelSize = rotateTextSize(this.labelStyle, this.rotatedLabel, this.angle, chart);\n        }\n    };\n    /**\n     * Finds the wrap for axis label.\n     * @return {void}\n     */\n    Axis.prototype.findWrap = function (width, currentX, currentLabel) {\n        var intervalLength = this.rect.width / this.visibleLabels.length;\n        var textCollection = currentLabel.text.split(' ');\n        var label = '';\n        var labelCollection = [];\n        var text;\n        for (var i = 0, len = textCollection.length; i < len; i++) {\n            text = textCollection[i];\n            if (measureText(label.concat(text), this.labelStyle).width < intervalLength) {\n                label = label.concat((label === '' ? '' : ' ') + text);\n            }\n            else {\n                if (label !== '') {\n                    labelCollection.push(textTrim(intervalLength, label, this.labelStyle));\n                    label = text;\n                }\n                else {\n                    labelCollection.push(textTrim(intervalLength, text, this.labelStyle));\n                    text = '';\n                }\n            }\n            if (label && i === len - 1) {\n                labelCollection.push(textTrim(intervalLength, label, this.labelStyle));\n            }\n        }\n        currentLabel.text = labelCollection;\n        var height = (currentLabel.size.height * labelCollection.length);\n        if (height > this.maxLabelSize.height) {\n            this.maxLabelSize.height = height;\n        }\n    };\n    /**\n     * Finds the multiple rows for axis.\n     * @return {void}\n     */\n    Axis.prototype.findMultiRows = function (length, currentX, currentLabel) {\n        var label;\n        var pointX;\n        var store = [];\n        var isMultiRows;\n        for (var i = length - 1; i >= 0; i--) {\n            label = this.visibleLabels[i];\n            pointX = (valueToCoefficient(label.value, this) * this.rect.width) + this.rect.x;\n            isMultiRows = !this.isInversed ? currentX < (pointX + label.size.width / 2) :\n                currentX + currentLabel.size.width > (pointX - label.size.width / 2);\n            if (isMultiRows) {\n                store.push(label.index);\n                currentLabel.index = (currentLabel.index > label.index) ? currentLabel.index : label.index + 1;\n            }\n            else {\n                currentLabel.index = store.indexOf(label.index) > -1 ? currentLabel.index : label.index;\n            }\n        }\n        var height = (currentLabel.size.height * currentLabel.index) + (5 * (currentLabel.index - 1));\n        if (height > this.maxLabelSize.height) {\n            this.maxLabelSize.height = height;\n        }\n    };\n    /**\n     * Finds the default module for axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.getModule = function (chart) {\n        if (this.valueType === 'Double') {\n            this.baseModule = new Double(chart);\n        }\n        else {\n            this.baseModule = chart[firstToLowerCase(this.valueType) + 'Module'];\n        }\n    };\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], Axis.prototype, \"labelStyle\", void 0);\n    __decorate([\n        Complex({}, CrosshairTooltip)\n    ], Axis.prototype, \"crosshairTooltip\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.axisTitleFont, Font)\n    ], Axis.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"skeleton\", void 0);\n    __decorate([\n        Property('DateTime')\n    ], Axis.prototype, \"skeletonType\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"plotOffset\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isIndexed\", void 0);\n    __decorate([\n        Property(10)\n    ], Axis.prototype, \"logBase\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"rowIndex\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"span\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"desiredIntervals\", void 0);\n    __decorate([\n        Property(3)\n    ], Axis.prototype, \"maximumLabels\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"zoomFactor\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"zoomPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"opposedPosition\", void 0);\n    __decorate([\n        Property(true)\n    ], Axis.prototype, \"enableAutoIntervalOnZooming\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Axis.prototype, \"rangePadding\", void 0);\n    __decorate([\n        Property('Double')\n    ], Axis.prototype, \"valueType\", void 0);\n    __decorate([\n        Property('None')\n    ], Axis.prototype, \"edgeLabelPlacement\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Axis.prototype, \"intervalType\", void 0);\n    __decorate([\n        Property('BetweenTicks')\n    ], Axis.prototype, \"labelPlacement\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"name\", void 0);\n    __decorate([\n        Property(true)\n    ], Axis.prototype, \"visible\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"minorTicksPerInterval\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"labelRotation\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"minimum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"maximum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"interval\", void 0);\n    __decorate([\n        Complex({}, MajorTickLines)\n    ], Axis.prototype, \"majorTickLines\", void 0);\n    __decorate([\n        Complex({}, MinorTickLines)\n    ], Axis.prototype, \"minorTickLines\", void 0);\n    __decorate([\n        Complex({}, MajorGridLines)\n    ], Axis.prototype, \"majorGridLines\", void 0);\n    __decorate([\n        Complex({}, MinorGridLines)\n    ], Axis.prototype, \"minorGridLines\", void 0);\n    __decorate([\n        Complex({}, AxisLine)\n    ], Axis.prototype, \"lineStyle\", void 0);\n    __decorate([\n        Property('Hide')\n    ], Axis.prototype, \"labelIntersectAction\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isInversed\", void 0);\n    __decorate([\n        Property(100)\n    ], Axis.prototype, \"coefficient\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"startAngle\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"description\", void 0);\n    __decorate([\n        Property(2)\n    ], Axis.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Collection([], StripLineSettings)\n    ], Axis.prototype, \"stripLines\", void 0);\n    return Axis;\n}(ChildProperty));\nexport { Axis };\n/** @private */\nvar VisibleLabels = /** @class */ (function () {\n    function VisibleLabels(text, value, size, index) {\n        if (size === void 0) { size = new Size(0, 0); }\n        if (index === void 0) { index = 1; }\n        this.text = text;\n        this.originalText = text;\n        this.value = value;\n        this.size = size;\n        this.index = 1;\n    }\n    return VisibleLabels;\n}());\nexport { VisibleLabels };\n","import { subtractThickness, valueToCoefficient, sum, subArray, TextOption, inside, measureText } from '../../common/utils/helper';\nimport { Size, Rect, Thickness, PathOption, logBase, createZoomingLabels, getElement, rotateTextSize } from '../../common/utils/helper';\nimport { textElement, textTrim } from '../../common/utils/helper';\n/**\n * Specifies the Cartesian Axis Layout.\n */\nvar axisPadding = 10;\nvar CartesianAxisLayoutPanel = /** @class */ (function () {\n    /** @private */\n    function CartesianAxisLayoutPanel(chartModule) {\n        this.chart = chartModule;\n        this.padding = 5;\n    }\n    /**\n     * Measure the axis size.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.measureAxis = function (rect) {\n        var chart = this.chart;\n        this.seriesClipRect = new Rect(rect.x, rect.y, rect.width, rect.height);\n        this.initialClipRect = rect;\n        this.leftSize = 0;\n        this.rightSize = 0;\n        this.topSize = 0;\n        this.bottomSize = 0;\n        //Measure Axis size with initial Rect\n        this.measureRowAxis(chart, this.initialClipRect);\n        this.initialClipRect = subtractThickness(this.initialClipRect, new Thickness(this.leftSize, this.rightSize, 0, 0));\n        this.measureColumnAxis(chart, this.initialClipRect);\n        this.initialClipRect = subtractThickness(this.initialClipRect, new Thickness(0, 0, this.topSize, this.bottomSize));\n        if (!this.chart.delayRedraw) {\n            this.calculateAxisSize(this.initialClipRect);\n        }\n        this.leftSize = 0;\n        this.rightSize = 0;\n        this.topSize = 0;\n        this.bottomSize = 0;\n        //Measure Axis size with series Rect\n        this.measureRowAxis(chart, this.initialClipRect);\n        this.seriesClipRect = subtractThickness(this.seriesClipRect, new Thickness(this.leftSize, this.rightSize, 0, 0));\n        this.measureColumnAxis(chart, this.initialClipRect);\n        this.seriesClipRect = subtractThickness(this.seriesClipRect, new Thickness(0, 0, this.topSize, this.bottomSize));\n        if (!this.chart.delayRedraw) {\n            chart.refreshAxis();\n            this.calculateAxisSize(this.seriesClipRect);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.measureRowAxis = function (chart, rect) {\n        var row;\n        this.calculateRowSize(rect);\n        for (var _i = 0, _a = chart.rows; _i < _a.length; _i++) {\n            var item = _a[_i];\n            row = item;\n            row.nearSizes = [];\n            row.farSizes = [];\n            this.arrangeAxis(row);\n            this.measureDefinition(row, chart, new Size(chart.availableSize.width, row.computedHeight), rect);\n            if (this.leftSize < sum(row.nearSizes)) {\n                this.leftSize = sum(row.nearSizes);\n            }\n            if (this.rightSize < sum(row.farSizes)) {\n                this.rightSize = sum(row.farSizes);\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.measureColumnAxis = function (chart, rect) {\n        var column;\n        this.calculateColumnSize(rect);\n        for (var _i = 0, _a = chart.columns; _i < _a.length; _i++) {\n            var item = _a[_i];\n            column = item;\n            column.farSizes = [];\n            column.nearSizes = [];\n            this.arrangeAxis(column);\n            this.measureDefinition(column, chart, new Size(column.computedWidth, chart.availableSize.height), rect);\n            if (this.bottomSize < sum(column.nearSizes)) {\n                this.bottomSize = sum(column.nearSizes);\n            }\n            if (this.topSize < sum(column.farSizes)) {\n                this.topSize = sum(column.farSizes);\n            }\n        }\n    };\n    /**\n     * Measure the column and row in chart.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.measureDefinition = function (definition, chart, size, clipRect) {\n        var axis;\n        var axisType;\n        for (var _i = 0, _a = definition.axes; _i < _a.length; _i++) {\n            var axis_1 = _a[_i];\n            axis_1.getModule(chart);\n            axis_1.baseModule.calculateRangeAndInterval(size, axis_1);\n            definition.computeSize(axis_1, clipRect);\n        }\n        if (definition.farSizes.length > 0) {\n            definition.farSizes[definition.farSizes.length - 1] -= axisPadding;\n        }\n        if (definition.nearSizes.length > 0) {\n            definition.nearSizes[definition.nearSizes.length - 1] -= axisPadding;\n        }\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.calculateAxisSize = function (rect) {\n        var chart = this.chart;\n        var row;\n        var column;\n        var definition;\n        var axis;\n        var nearCount = 0;\n        var farCount = 0;\n        var size = 0;\n        var x;\n        var y;\n        this.calculateRowSize(rect);\n        for (var i = 0, len = chart.rows.length; i < len; i++) {\n            row = chart.rows[i];\n            nearCount = 0;\n            farCount = 0;\n            for (var j = 0, len_1 = row.axes.length; j < len_1; j++) {\n                axis = row.axes[j];\n                if (axis.rect.height === 0) {\n                    axis.rect.height = row.computedHeight;\n                    size = 0;\n                    for (var k = i + 1, len_2 = i + axis.span; k < len_2; k++) {\n                        definition = chart.rows[k];\n                        size += definition.computedHeight;\n                    }\n                    axis.rect.y = (row.computedTop - size) + axis.plotOffset;\n                    axis.rect.height = (axis.rect.height + size) - (2 * axis.plotOffset);\n                    axis.rect.width = 0;\n                }\n                if (axis.opposedPosition) {\n                    x = rect.x + rect.width + sum(subArray(row.farSizes, farCount));\n                    axis.rect.x = axis.rect.x >= x ? axis.rect.x : x;\n                    farCount++;\n                }\n                else {\n                    x = rect.x - sum(subArray(row.nearSizes, nearCount));\n                    axis.rect.x = axis.rect.x <= x ? axis.rect.x : x;\n                    nearCount++;\n                }\n            }\n        }\n        this.calculateColumnSize(rect);\n        for (var i = 0, len = chart.columns.length; i < len; i++) {\n            column = chart.columns[i];\n            nearCount = 0;\n            farCount = 0;\n            for (var j = 0, len_3 = column.axes.length; j < len_3; j++) {\n                axis = column.axes[j];\n                if (axis.rect.width === 0) {\n                    for (var k = i, len_4 = (i + axis.span); k < len_4; k++) {\n                        definition = chart.columns[k];\n                        axis.rect.width += definition.computedWidth;\n                    }\n                    axis.rect.x = column.computedLeft + axis.plotOffset;\n                    axis.rect.width -= (2 * axis.plotOffset);\n                    axis.rect.height = 0;\n                }\n                if (axis.opposedPosition) {\n                    y = rect.y - sum(subArray(column.farSizes, farCount));\n                    axis.rect.y = axis.rect.y <= y ? axis.rect.y : y;\n                    farCount++;\n                }\n                else {\n                    y = rect.y + rect.height + sum(subArray(column.nearSizes, nearCount));\n                    axis.rect.y = axis.rect.y >= y ? axis.rect.y : y;\n                    nearCount++;\n                }\n            }\n        }\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.measure = function () {\n        var chart = this.chart;\n        var row;\n        var column;\n        var definition;\n        var axis;\n        var actualIndex;\n        var span;\n        var axisLength;\n        for (var _i = 0, _a = chart.axisCollections; _i < _a.length; _i++) {\n            var axis_2 = _a[_i];\n            //definition.Axes = axis;\n            if (axis_2.orientation === 'Vertical') {\n                chart.verticalAxes.push(axis_2);\n                actualIndex = this.getActualRow(axis_2);\n                row = chart.rows[actualIndex];\n                this.pushAxis(row, axis_2);\n                span = ((actualIndex + axis_2.span) > chart.rows.length ? chart.rows.length : (actualIndex + axis_2.span));\n                for (var j = actualIndex + 1; j < span; j++) {\n                    definition = chart.rows[j];\n                    definition.axes[row.axes.length - 1] = axis_2;\n                    chart.rows[j] = definition;\n                }\n                chart.rows[actualIndex] = row;\n            }\n            else {\n                chart.horizontalAxes.push(axis_2);\n                actualIndex = this.getActualColumn(axis_2);\n                column = chart.columns[actualIndex];\n                this.pushAxis(column, axis_2);\n                span = ((actualIndex + axis_2.span) > chart.columns.length ? chart.columns.length : (actualIndex + axis_2.span));\n                for (var j = actualIndex + 1; j < span; j++) {\n                    definition = chart.columns[j];\n                    definition.axes[column.axes.length - 1] = axis_2;\n                    chart.columns[j] = definition;\n                }\n                chart.columns[actualIndex] = column;\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.pushAxis = function (definition, axis) {\n        for (var i = 0, len = definition.axes.length; i <= len; i++) {\n            if (!definition.axes[i]) {\n                definition.axes[i] = axis;\n                break;\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.arrangeAxis = function (definition) {\n        var axisCollection = [];\n        for (var i = 0, len = definition.axes.length; i <= len; i++) {\n            if (definition.axes[i]) {\n                axisCollection.push(definition.axes[i]);\n            }\n        }\n        definition.axes = axisCollection;\n    };\n    CartesianAxisLayoutPanel.prototype.getActualColumn = function (axis) {\n        var actualLength = this.chart.columns.length;\n        var pos = axis.columnIndex;\n        var result = pos >= actualLength ? actualLength - 1 : (pos < 0 ? 0 : pos);\n        return result;\n    };\n    CartesianAxisLayoutPanel.prototype.getActualRow = function (axis) {\n        var actualLength = this.chart.rows.length;\n        var pos = axis.rowIndex;\n        var result = pos >= actualLength ? actualLength - 1 : (pos < 0 ? 0 : pos);\n        return result;\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    CartesianAxisLayoutPanel.prototype.calculateRowSize = function (rect) {\n        /*! Calculate row size */\n        var chart = this.chart;\n        var row;\n        var rowTop = rect.y + rect.height;\n        var height = 0;\n        var remainingHeight = Math.max(0, rect.height);\n        for (var i = 0, len = chart.rows.length; i < len; i++) {\n            row = chart.rows[i];\n            if (row.height.indexOf('%') !== -1) {\n                height = Math.min(remainingHeight, (rect.height * parseInt(row.height, 10) / 100));\n            }\n            else {\n                height = Math.min(remainingHeight, parseInt(row.height, 10));\n            }\n            height = (i !== (len - 1)) ? height : remainingHeight;\n            row.computedHeight = height;\n            rowTop -= height;\n            row.computedTop = rowTop;\n            remainingHeight -= height;\n        }\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    CartesianAxisLayoutPanel.prototype.calculateColumnSize = function (rect) {\n        /*! Calculate column size */\n        var chart = this.chart;\n        var column;\n        var columnLeft = rect.x;\n        var width = 0;\n        var remainingWidth = Math.max(0, rect.width);\n        for (var i = 0, len = chart.columns.length; i < len; i++) {\n            column = chart.columns[i];\n            if (column.width.indexOf('%') !== -1) {\n                width = Math.min(remainingWidth, (rect.width * parseInt(column.width, 10) / 100));\n            }\n            else {\n                width = Math.min(remainingWidth, parseInt(column.width, 10));\n            }\n            width = (i !== (len - 1)) ? width : remainingWidth;\n            column.computedWidth = width;\n            column.computedLeft = columnLeft;\n            columnLeft += width;\n            remainingWidth -= width;\n        }\n    };\n    /**\n     * To render the axis element.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.renderAxes = function () {\n        var chart = this.chart;\n        var axis;\n        var axisElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisCollection' });\n        var definitionElement = chart.renderer.createGroup({ id: chart.element.id + 'DefintionLine' });\n        for (var i = 0, len = chart.axisCollections.length; i < len; i++) {\n            axis = chart.axisCollections[i];\n            this.element = chart.renderer.createGroup({ id: chart.element.id + 'AxisGroup' + i });\n            if (axis.orientation === 'Horizontal') {\n                if (axis.visible && axis.lineStyle.width > 0) {\n                    this.drawAxisLine(axis, i, axis.plotOffset, 0);\n                }\n                if (axis.majorGridLines.width > 0 || axis.majorTickLines.width > 0) {\n                    this.drawXAxisGridLine(axis, i);\n                }\n                if (axis.visible) {\n                    this.drawXAxisLabels(axis, i);\n                    this.drawXAxisTitle(axis, i);\n                }\n            }\n            else {\n                if (axis.visible && axis.lineStyle.width > 0) {\n                    this.drawAxisLine(axis, i, 0, axis.plotOffset);\n                }\n                if (axis.majorGridLines.width > 0 || axis.majorTickLines.width > 0) {\n                    this.drawYAxisGridLine(axis, i);\n                }\n                if (axis.visible) {\n                    this.drawYAxisLabels(axis, i);\n                    this.drawYAxisTitle(axis, i);\n                }\n            }\n            axisElement.appendChild(this.element);\n        }\n        this.element = chart.renderer.createGroup({ id: chart.element.id + 'DefintionLine' });\n        for (var j = 0, len = chart.rows.length; j < len; j++) {\n            var row = chart.rows[j];\n            if (row.border.color) {\n                this.drawBottomLine(row, j, true);\n            }\n        }\n        for (var j = 0, len = chart.columns.length; j < len; j++) {\n            var column = chart.columns[j];\n            if (column.border.color) {\n                this.drawBottomLine(column, j, false);\n            }\n        }\n        axisElement.appendChild(this.element);\n        chart.svgObject.appendChild(axisElement);\n    };\n    CartesianAxisLayoutPanel.prototype.drawBottomLine = function (definition, index, isRow) {\n        var chart = this.chart;\n        var optionsLine = {};\n        var x1;\n        var x2;\n        var y1;\n        var y2;\n        var definitionName;\n        if (isRow) {\n            definition = definition;\n            y1 = y2 = definition.computedTop + definition.computedHeight;\n            x1 = this.seriesClipRect.x;\n            x2 = x1 + this.seriesClipRect.width;\n            definitionName = 'Row';\n        }\n        else {\n            definition = definition;\n            x1 = x2 = definition.computedLeft;\n            y1 = this.seriesClipRect.y;\n            y2 = y1 + this.seriesClipRect.height;\n            definitionName = 'Column';\n        }\n        optionsLine = {\n            'id': chart.element.id + '_AxisBottom_' + definitionName + index,\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            'stroke-width': definition.border.width,\n            'stroke': definition.border.color,\n        };\n        this.htmlObject = chart.renderer.drawLine(optionsLine);\n        this.element.appendChild(this.htmlObject);\n    };\n    CartesianAxisLayoutPanel.prototype.drawAxisLine = function (axis, index, plotX, plotY) {\n        var chart = this.chart;\n        var optionsLine = {};\n        var rect = axis.rect;\n        optionsLine = {\n            'id': chart.element.id + 'AxisLine_' + index,\n            x1: rect.x - plotX,\n            y1: rect.y - plotY,\n            x2: rect.x + rect.width + plotX,\n            y2: rect.y + rect.height + plotY,\n            'stroke-dasharray': axis.lineStyle.dashArray,\n            'stroke-width': axis.lineStyle.width,\n            'stroke': axis.lineStyle.color\n        };\n        this.htmlObject = chart.renderer.drawLine(optionsLine);\n        this.element.appendChild(this.htmlObject);\n    };\n    CartesianAxisLayoutPanel.prototype.drawYAxisGridLine = function (axis, index) {\n        var chart = this.chart;\n        var tempInterval;\n        var pointY = 0;\n        var majorGrid = '';\n        var majorTick = '';\n        var minorGird = '';\n        var minorTick = '';\n        var minorDirection;\n        var tickSize = (axis.opposedPosition) ? axis.majorTickLines.height : -axis.majorTickLines.height;\n        var axisLineSize = (axis.opposedPosition) ? axis.lineStyle.width / 2 : -axis.lineStyle.width / 2;\n        var rect = axis.rect;\n        var ticksbwtLabel = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') ?\n            0.5 : 0;\n        var length = axis.visibleLabels.length;\n        if (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks' && length > 0) {\n            length += 1;\n        }\n        //Gridlines\n        for (var i = 0; i < length; i++) {\n            tempInterval = !axis.visibleLabels[i] ? (axis.visibleLabels[i - 1].value + axis.visibleRange.interval) - ticksbwtLabel\n                : axis.visibleLabels[i].value - ticksbwtLabel;\n            pointY = valueToCoefficient(tempInterval, axis) * rect.height;\n            pointY = (pointY * -1) + (rect.y + rect.height);\n            if (pointY >= rect.y && (rect.y + rect.height) >= pointY) {\n                if ((inside(tempInterval, axis.visibleRange)) || this.isBorder(axis, i, pointY)) {\n                    majorGrid = majorGrid.concat('M ' + this.seriesClipRect.x + ' ' + (pointY) +\n                        ' L ' + (this.seriesClipRect.x + this.seriesClipRect.width) + ' ' + pointY + ' ');\n                }\n                majorTick = majorTick.concat('M ' + (rect.x + axisLineSize) + ' ' + pointY +\n                    ' L ' + (rect.x + tickSize + axisLineSize) + ' ' + pointY + ' ');\n            }\n            if ((axis.minorGridLines.width > 0 || axis.minorTickLines.width > 0) && axis.minorTicksPerInterval > 0) {\n                minorDirection = this.drawAxisMinorLine(axis, tempInterval, minorGird, minorTick);\n                minorGird = minorDirection[0];\n                minorTick = minorDirection[1];\n            }\n        }\n        this.renderGridLine(axis, index, majorGrid, minorGird);\n        this.renderTickLine(axis, index, majorTick, minorTick);\n    };\n    CartesianAxisLayoutPanel.prototype.isBorder = function (axis, index, value) {\n        var chart = this.chart;\n        var border = chart.chartArea.border;\n        var rect = this.seriesClipRect;\n        var orientation = axis.orientation;\n        var start = (orientation === 'Horizontal') ? rect.x : rect.y;\n        var size = (orientation === 'Horizontal') ? rect.width : rect.height;\n        var startIndex = (orientation === 'Horizontal') ? 0 : axis.visibleLabels.length - 1;\n        var endIndex = (orientation === 'Horizontal') ? axis.visibleLabels.length - 1 : 0;\n        if (axis.plotOffset > 0) {\n            return true;\n        }\n        else if ((value === start || value === (start + size)) && (border.width <= 0 || border.color === 'transparent')) {\n            return true;\n        }\n        else if ((value !== start && index === startIndex) || (value !== (start + size) && index === endIndex)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To render the axis label.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.drawYAxisLabels = function (axis, index) {\n        var chart = this.chart;\n        var pointX = 0;\n        var pointY = 0;\n        var elementSize;\n        var options;\n        var padding = axis.majorTickLines.height + this.padding + axis.lineStyle.width / 2;\n        padding = (axis.opposedPosition) ? padding : -padding;\n        var anchor = (axis.opposedPosition) ? 'start' : 'end';\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        var rect = axis.rect;\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            pointX = (rect.x + padding);\n            elementSize = axis.visibleLabels[i].size;\n            pointY = valueToCoefficient(axis.visibleLabels[i].value, axis) * rect.height;\n            pointY = Math.floor((pointY * -1) + (rect.y + rect.height));\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY + (elementSize.height / 4), anchor, axis.visibleLabels[i].text);\n            if (axis.edgeLabelPlacement) {\n                switch (axis.edgeLabelPlacement) {\n                    case 'None':\n                        break;\n                    case 'Hide':\n                        if (((i === 0 || (axis.isInversed && i === len - 1)) && options.y > rect.y + rect.height) ||\n                            (((i === len - 1) || (axis.isInversed && i === 0)) && options.y - elementSize.height / 2 < rect.y)) {\n                            options.text = '';\n                        }\n                        break;\n                    case 'Shift':\n                        if ((i === 0 || (axis.isInversed && i === len - 1)) && options.y > rect.y + rect.height) {\n                            options.y = pointY = rect.y + rect.height;\n                        }\n                        else if (((i === len - 1) || (axis.isInversed && i === 0)) && (options.y - elementSize.height / 2 < rect.y)) {\n                            options.y = pointY = rect.y + elementSize.height / 2;\n                        }\n                        break;\n                }\n            }\n            textElement(options, axis.labelStyle, axis.labelStyle.color, labelElement);\n        }\n        if (!chart.delayRedraw) {\n            this.element.appendChild(labelElement);\n        }\n        else if (axis.visible) {\n            this.createZoomingLabel(this.chart, labelElement, axis, index);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.drawYAxisTitle = function (axis, index) {\n        var chart = this.chart;\n        var labelRotation = (axis.opposedPosition) ? 90 : -90;\n        var elementSize = measureText(axis.title, axis.titleStyle);\n        var padding = axis.majorTickLines.height + axis.maxLabelSize.width + this.padding * 2;\n        var rect = axis.rect;\n        padding = axis.opposedPosition ? padding : -padding;\n        var x = rect.x + padding;\n        var y = rect.y + rect.height / 2;\n        var options = new TextOption(chart.element.id + '_AxisTitle_' + index, x, y - this.padding, 'middle', axis.title, 'rotate(' + labelRotation + ',' + (x) + ',' + (y) + ')');\n        var element = textElement(options, axis.titleStyle, axis.titleStyle.color, this.element);\n        element.setAttribute('aria-label', axis.description || axis.title);\n        element.setAttribute('tabindex', axis.tabIndex.toString());\n    };\n    CartesianAxisLayoutPanel.prototype.drawXAxisGridLine = function (axis, index) {\n        var chart = this.chart;\n        var tempInterval;\n        var pointX = 0;\n        var majorGrid = '';\n        var majorTick = '';\n        var minorGird = '';\n        var minorTick = '';\n        var minorDirection;\n        var tickSize = (axis.opposedPosition) ? -axis.majorTickLines.height : axis.majorTickLines.height;\n        var axisLineSize = (axis.opposedPosition) ? -axis.lineStyle.width / 2 : axis.lineStyle.width / 2;\n        var ticksbwtLabel = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') ?\n            0.5 : 0;\n        var rect = axis.rect;\n        var length = axis.visibleLabels.length;\n        if (axis.valueType === 'Category' && length > 0 && axis.labelPlacement === 'BetweenTicks') {\n            length += 1;\n        }\n        //Gridlines\n        for (var i = 0; i < length; i++) {\n            tempInterval = axis.visibleLabels[i] ? axis.visibleLabels[i].value - ticksbwtLabel\n                : (axis.visibleLabels[i - 1].value + axis.visibleRange.interval) - ticksbwtLabel;\n            pointX = (valueToCoefficient(tempInterval, axis) * rect.width) + rect.x;\n            if (pointX >= rect.x && (rect.x + rect.width) >= pointX) {\n                if (inside(tempInterval, axis.visibleRange) || this.isBorder(axis, i, pointX)) {\n                    majorGrid = majorGrid.concat('M ' + pointX + ' ' + (this.seriesClipRect.y + this.seriesClipRect.height) +\n                        ' L ' + pointX + ' ' + this.seriesClipRect.y + ' ');\n                }\n                majorTick = majorTick.concat('M ' + (pointX) + ' ' + (rect.y + axisLineSize) +\n                    ' L ' + (pointX) + ' ' + (rect.y + tickSize + axisLineSize) + ' ');\n            }\n            if (axis.minorTicksPerInterval > 0 && (axis.minorGridLines.width > 0 || axis.minorTickLines.width > 0)) {\n                minorDirection = this.drawAxisMinorLine(axis, tempInterval, minorGird, minorTick);\n                minorGird = minorDirection[0];\n                minorTick = minorDirection[1];\n            }\n        }\n        this.renderGridLine(axis, index, majorGrid, minorGird);\n        this.renderTickLine(axis, index, majorTick, minorTick);\n    };\n    CartesianAxisLayoutPanel.prototype.drawAxisMinorLine = function (axis, tempInterval, minorGird, minorTick) {\n        var value = tempInterval;\n        var coor = 0;\n        var position = 0;\n        var range = axis.visibleRange;\n        var direction = [];\n        var tickSize = axis.opposedPosition ? -axis.minorTickLines.height : axis.minorTickLines.height;\n        var rect = axis.rect;\n        var logStart;\n        var logEnd;\n        var logInterval = 1;\n        var logPosition = 1;\n        if (axis.valueType === 'Logarithmic') {\n            logStart = Math.pow(axis.logBase, value - range.interval);\n            logEnd = Math.pow(axis.logBase, value);\n            logInterval = (logEnd - logStart) / (axis.minorTicksPerInterval + 1);\n            logPosition = logStart + logInterval;\n        }\n        if (axis.orientation === 'Horizontal') {\n            for (var j = 0; j < axis.minorTicksPerInterval; j++) {\n                value = this.findLogNumeric(axis, logPosition, logInterval, value);\n                logPosition += logInterval;\n                if (inside(value, range)) {\n                    position = Math.ceil(((value - range.min) / (range.max - range.min)) * rect.width);\n                    coor = (Math.floor(position + rect.x));\n                    minorGird = minorGird.concat('M' + ' ' + coor + ' ' + (this.seriesClipRect.y)\n                        + 'L ' + coor + ' ' + (this.seriesClipRect.y + this.seriesClipRect.height));\n                    coor = (Math.floor(position + rect.x));\n                    minorTick = minorTick.concat('M' + ' ' + coor + ' ' + (rect.y)\n                        + 'L ' + coor + ' ' + (rect.y + tickSize));\n                }\n            }\n        }\n        else {\n            tickSize = axis.opposedPosition ? axis.minorTickLines.height : -axis.minorTickLines.height;\n            for (var j = 0; j < axis.minorTicksPerInterval; j++) {\n                value = this.findLogNumeric(axis, logPosition, logInterval, value);\n                if (inside(value, range)) {\n                    position = Math.ceil(((value - range.min) / (range.max - range.min)) * rect.height) * -1;\n                    coor = (Math.floor(position + rect.y + rect.height));\n                    minorGird = minorGird.concat('M' + ' ' + (this.seriesClipRect.x) + ' ' + coor\n                        + 'L ' + (this.seriesClipRect.x + this.seriesClipRect.width) + ' ' + coor);\n                    coor = (Math.floor(position + rect.y + rect.height));\n                    minorTick = minorTick.concat('M' + ' ' + rect.x + ' ' + coor + 'L ' + (rect.x + tickSize) + ' ' + coor);\n                }\n                logPosition += logInterval;\n            }\n        }\n        direction.push(minorGird);\n        direction.push(minorTick);\n        return direction;\n    };\n    CartesianAxisLayoutPanel.prototype.findLogNumeric = function (axis, logPosition, logInterval, value) {\n        var range = axis.visibleRange;\n        if (axis.valueType === 'Logarithmic') {\n            value = logBase(logPosition, axis.logBase);\n        }\n        else if (axis.valueType === 'DateTime') {\n            value += axis.dateTimeInterval / (axis.minorTicksPerInterval + 1);\n        }\n        else {\n            value += range.interval / (axis.minorTicksPerInterval + 1);\n        }\n        return value;\n    };\n    /**\n     * To render the axis label.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.drawXAxisLabels = function (axis, index) {\n        var chart = this.chart;\n        var pointX = 0;\n        var pointY = 0;\n        var elementSize;\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        var padding = axis.majorTickLines.height + this.padding + axis.lineStyle.width / 2;\n        var labelPadding;\n        var rotateSize;\n        var diffHeight;\n        var yLocation;\n        var angle;\n        var anglePadding = ((axis.angle === 90 || axis.angle === -90)) ? -2 : 0;\n        var rect = axis.rect;\n        var options;\n        var previousEnd = axis.isInversed ? (rect.x + rect.width) : rect.x;\n        var width = 0;\n        var intervalLength = axis.rect.width / axis.visibleLabels.length;\n        var label;\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            label = axis.visibleLabels[i];\n            pointX = (valueToCoefficient(label.value, axis) * rect.width) + rect.x;\n            elementSize = label.size;\n            width = ((axis.labelIntersectAction === 'Trim' || axis.labelIntersectAction === 'Wrap')\n                && elementSize.width > intervalLength) ? intervalLength : elementSize.width;\n            pointX -= width / 2;\n            labelPadding = (axis.opposedPosition) ?\n                -(padding + ((axis.angle !== 0) ? (3 * (elementSize.height / 4) + (2 * axis.maxLabelSize.height / 5)) :\n                    (label.index > 1 ? (2 * (elementSize.height / 4)) : 0)))\n                : padding + ((axis.angle !== 0) ? (3 * (elementSize.height / 4)) + (2 * axis.maxLabelSize.height / 5)\n                    : (3 * (elementSize.height / 4)));\n            pointY = (rect.y + (labelPadding * label.index));\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY, '', this.findAxisLabel(axis, label.text, intervalLength));\n            if (axis.edgeLabelPlacement) {\n                switch (axis.edgeLabelPlacement) {\n                    case 'None':\n                        break;\n                    case 'Hide':\n                        if (((i === 0 || (axis.isInversed && i === len - 1)) && options.x < rect.x) ||\n                            ((i === len - 1 || (axis.isInversed && i === 0)) && (options.x + width > rect.x + rect.width))) {\n                            continue;\n                        }\n                        break;\n                    case 'Shift':\n                        if ((i === 0 || (axis.isInversed && i === len - 1)) && options.x < rect.x) {\n                            options.x = pointX = rect.x;\n                        }\n                        else if ((i === len - 1 || (axis.isInversed && i === 0)) && ((options.x + width) > rect.x + rect.width)) {\n                            options.x = pointX = rect.x + rect.width - width;\n                        }\n                        break;\n                }\n            }\n            if (axis.angle % 360 === 0 && axis.labelIntersectAction === 'Hide' && i !== 0 &&\n                (!axis.isInversed ? options.x <= previousEnd : options.x + width >= previousEnd)) {\n                continue;\n            }\n            previousEnd = axis.isInversed ? options.x : options.x + width;\n            if (axis.angle !== 0) {\n                angle = (axis.angle > 360) ? axis.angle % 360 : axis.angle;\n                rotateSize = rotateTextSize(axis.labelStyle, label.text, angle, chart);\n                diffHeight = axis.maxLabelSize.height - Math.ceil(rotateSize.height - elementSize.height);\n                yLocation = axis.opposedPosition ? diffHeight / 2 : -diffHeight / 2;\n                options.transform = 'rotate(' + angle + ',' + (pointX + width / 2 + anglePadding) + ','\n                    + (pointY + yLocation) + ')';\n                options.y += yLocation;\n            }\n            textElement(options, axis.labelStyle, axis.labelStyle.color, labelElement, axis.opposedPosition).setAttribute('style', 'cursor: default');\n        }\n        if (!chart.delayRedraw) {\n            this.element.appendChild(labelElement);\n        }\n        else if (axis.visible) {\n            this.createZoomingLabel(this.chart, labelElement, axis, index);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.findAxisLabel = function (axis, label, width) {\n        switch (axis.labelIntersectAction) {\n            case 'Trim':\n                return textTrim(width, label, axis.labelStyle);\n            default:\n                return label;\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.drawXAxisTitle = function (axis, index) {\n        var chart = this.chart;\n        var elementSize = measureText(axis.title, axis.titleStyle);\n        var padding = axis.majorTickLines.height + axis.maxLabelSize.height + this.padding * 2;\n        var rect = axis.rect;\n        padding = axis.opposedPosition ? -(padding + elementSize.height / 4) : (padding + (3 * elementSize.height / 4));\n        var options = new TextOption(chart.element.id + '_AxisTitle_' + index, rect.x + rect.width / 2, rect.y + padding, 'middle', axis.title);\n        var element = textElement(options, axis.titleStyle, axis.titleStyle.color, this.element);\n        element.setAttribute('aria-label', axis.description || axis.title);\n        element.setAttribute('tabindex', axis.tabIndex.toString());\n    };\n    CartesianAxisLayoutPanel.prototype.renderTickLine = function (axis, index, majorTick, minorTick) {\n        var options;\n        var chart = this.chart;\n        if (axis.majorTickLines.width > 0 && axis.visible) {\n            options = new PathOption(chart.element.id + '_MajorTickLine_' + index, 'transparent', axis.majorTickLines.width, axis.majorTickLines.color, null, null, majorTick);\n            this.htmlObject = chart.renderer.drawPath(options);\n            this.element.appendChild(this.htmlObject);\n        }\n        if (axis.minorTickLines.width > 0 && axis.visible) {\n            options = new PathOption(chart.element.id + '_MinorTickLine_' + index, 'transparent', axis.minorTickLines.width, axis.minorTickLines.color, null, null, minorTick);\n            this.htmlObject = chart.renderer.drawPath(options);\n            this.element.appendChild(this.htmlObject);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.renderGridLine = function (axis, index, majorGrid, minorGird) {\n        var chart = this.chart;\n        var options;\n        if (axis.majorGridLines.width > 0) {\n            options = new PathOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines.width, axis.majorGridLines.color, null, axis.majorGridLines.dashArray, majorGrid);\n            this.htmlObject = chart.renderer.drawPath(options);\n            this.element.appendChild(this.htmlObject);\n        }\n        if (axis.minorGridLines.width > 0) {\n            options = new PathOption(chart.element.id + '_MinorGridLine_' + index, 'transparent', axis.minorGridLines.width, axis.minorGridLines.color, null, axis.minorGridLines.dashArray, minorGird);\n            this.htmlObject = chart.renderer.drawPath(options);\n            this.element.appendChild(this.htmlObject);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.createZoomingLabel = function (chart, labelElement, axis, index) {\n        var parentNode = document.getElementById(chart.element.id + 'AxisGroup' + index);\n        labelElement.setAttribute('opacity', '0.3');\n        var zoomElement = chart.renderer.createGroup({\n            id: chart.element.id + 'AxisLabels_Zoom' + index\n        });\n        zoomElement = createZoomingLabels(chart, axis, zoomElement, index, axis.orientation === 'Vertical');\n        parentNode.replaceChild(labelElement, document.getElementById(labelElement.id));\n        if (getElement(chart.element.id + 'AxisLabels_Zoom' + index)) {\n            parentNode.replaceChild(zoomElement, document.getElementById(zoomElement.id));\n        }\n        else {\n            parentNode.appendChild(zoomElement);\n        }\n    };\n    return CartesianAxisLayoutPanel;\n}());\nexport { CartesianAxisLayoutPanel };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Collection } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { StackValues, RectOption } from '../../common/utils/helper';\nimport { firstToLowerCase, Rect, logBase, CircleOption } from '../../common/utils/helper';\nimport { Border, Font, Margin, Animation, EmptyPointSettings, CornerRadius, Connector } from '../../common/model/base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { seriesRender } from '../../common/model/constants';\n/**\n * Points model for the series.\n * @private\n */\nvar Points = /** @class */ (function () {\n    function Points() {\n        this.symbolLocations = null;\n        this.regions = null;\n        this.regionData = null;\n    }\n    return Points;\n}());\nexport { Points };\n/**\n * Configures the data label in the series.\n */\nvar DataLabelSettings = /** @class */ (function (_super) {\n    __extends(DataLabelSettings, _super);\n    function DataLabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], DataLabelSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], DataLabelSettings.prototype, \"name\", void 0);\n    __decorate([\n        Property('transparent')\n    ], DataLabelSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], DataLabelSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Auto')\n    ], DataLabelSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(5)\n    ], DataLabelSettings.prototype, \"rx\", void 0);\n    __decorate([\n        Property(5)\n    ], DataLabelSettings.prototype, \"ry\", void 0);\n    __decorate([\n        Property('Center')\n    ], DataLabelSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Complex({ width: null, color: null }, Border)\n    ], DataLabelSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex({ left: 5, right: 5, top: 5, bottom: 5 }, Margin)\n    ], DataLabelSettings.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ size: '11px', color: null }, Font)\n    ], DataLabelSettings.prototype, \"font\", void 0);\n    __decorate([\n        Property(null)\n    ], DataLabelSettings.prototype, \"template\", void 0);\n    return DataLabelSettings;\n}(ChildProperty));\nexport { DataLabelSettings };\n/**\n *  Configures the marker in the series.\n */\nvar MarkerSettings = /** @class */ (function (_super) {\n    __extends(MarkerSettings, _super);\n    function MarkerSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], MarkerSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Circle')\n    ], MarkerSettings.prototype, \"shape\", void 0);\n    __decorate([\n        Property('')\n    ], MarkerSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property(5)\n    ], MarkerSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(5)\n    ], MarkerSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ width: 2, color: null }, Border)\n    ], MarkerSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property(null)\n    ], MarkerSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], MarkerSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Complex({}, DataLabelSettings)\n    ], MarkerSettings.prototype, \"dataLabel\", void 0);\n    return MarkerSettings;\n}(ChildProperty));\nexport { MarkerSettings };\n/**\n * Defines the behavior of the Trendlines\n */\nvar Trendline = /** @class */ (function (_super) {\n    __extends(Trendline, _super);\n    function Trendline() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        return _this;\n    }\n    /** @private */\n    Trendline.prototype.setDataSource = function (series, chart) {\n        if (series) {\n            this.points = series.points;\n        }\n        var type = firstToLowerCase(this.type);\n        chart.trendLineModule.initDataSource(this, chart);\n        chart.visibleSeriesCount++;\n    };\n    __decorate([\n        Property('')\n    ], Trendline.prototype, \"name\", void 0);\n    __decorate([\n        Property('Linear')\n    ], Trendline.prototype, \"type\", void 0);\n    __decorate([\n        Property(2)\n    ], Trendline.prototype, \"period\", void 0);\n    __decorate([\n        Property(2)\n    ], Trendline.prototype, \"polynomialOrder\", void 0);\n    __decorate([\n        Property(0)\n    ], Trendline.prototype, \"backwardForecast\", void 0);\n    __decorate([\n        Property(0)\n    ], Trendline.prototype, \"forwardForecast\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Trendline.prototype, \"animation\", void 0);\n    __decorate([\n        Complex({}, MarkerSettings)\n    ], Trendline.prototype, \"marker\", void 0);\n    __decorate([\n        Property(true)\n    ], Trendline.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property(null)\n    ], Trendline.prototype, \"intercept\", void 0);\n    __decorate([\n        Property('')\n    ], Trendline.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], Trendline.prototype, \"width\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], Trendline.prototype, \"legendShape\", void 0);\n    return Trendline;\n}(ChildProperty));\nexport { Trendline };\nvar ErrorBarCapSettings = /** @class */ (function (_super) {\n    __extends(ErrorBarCapSettings, _super);\n    function ErrorBarCapSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], ErrorBarCapSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property(10)\n    ], ErrorBarCapSettings.prototype, \"length\", void 0);\n    __decorate([\n        Property('black')\n    ], ErrorBarCapSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarCapSettings.prototype, \"opacity\", void 0);\n    return ErrorBarCapSettings;\n}(ChildProperty));\nexport { ErrorBarCapSettings };\nvar ErrorBarSettings = /** @class */ (function (_super) {\n    __extends(ErrorBarSettings, _super);\n    function ErrorBarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], ErrorBarSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Fixed')\n    ], ErrorBarSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], ErrorBarSettings.prototype, \"direction\", void 0);\n    __decorate([\n        Property('Vertical')\n    ], ErrorBarSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('black')\n    ], ErrorBarSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"verticalError\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"horizontalError\", void 0);\n    __decorate([\n        Property(3)\n    ], ErrorBarSettings.prototype, \"verticalPositiveError\", void 0);\n    __decorate([\n        Property(3)\n    ], ErrorBarSettings.prototype, \"verticalNegativeError\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"horizontalPositiveError\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"horizontalNegativeError\", void 0);\n    __decorate([\n        Complex(null, ErrorBarCapSettings)\n    ], ErrorBarSettings.prototype, \"errorBarCap\", void 0);\n    return ErrorBarSettings;\n}(ChildProperty));\nexport { ErrorBarSettings };\n/**\n * Defines the common behavior of Series and Technical Indicators\n */\nvar SeriesBase = /** @class */ (function (_super) {\n    __extends(SeriesBase, _super);\n    function SeriesBase() {\n        /**\n         * The DataSource field that contains the x value.\n         * It is applicable for series and technical indicators\n         * @default ''.\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.currentViewData = [];\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        /** @private */\n        _this.seriesType = 'XY';\n        return _this;\n    }\n    /**\n     * Process data for the series.\n     * @hidden\n     */\n    SeriesBase.prototype.processJsonData = function () {\n        var i = 0;\n        var len = Object.keys(this.currentViewData).length;\n        var point = new Points();\n        var textMappingName = this instanceof Series && this.marker.dataLabel.name ?\n            this.marker.dataLabel.name : '';\n        if (this instanceof Series && this.type === 'Waterfall') {\n            this.chart[firstToLowerCase(this.type) + 'SeriesModule'].\n                processWaterfallData(this.currentViewData, this);\n        }\n        this.points = [];\n        this.xMin = Infinity;\n        this.xMax = -Infinity;\n        this.yMin = Infinity;\n        this.yMax = -Infinity;\n        this.sizeMax = -Infinity;\n        this.getSeriesType();\n        if (this.xAxis.valueType === 'Category') {\n            while (i < len) {\n                point = this.dataPoint(i, textMappingName);\n                this.pushCategoryData(point, i);\n                this.pushData(point, i);\n                this.setEmptyPoint(point, i);\n                i++;\n            }\n        }\n        else if (this.xAxis.valueType === 'DateTime') {\n            var option = {\n                skeleton: 'full',\n                type: 'dateTime'\n            };\n            var dateParser = this.chart.intl.getDateParser(option);\n            var dateFormatter = this.chart.intl.getDateFormat(option);\n            while (i < len) {\n                point = this.dataPoint(i, textMappingName);\n                point.x = new Date(DataUtil.parse.parseJson({ val: point.x }).val);\n                point.xValue = Date.parse(dateParser(dateFormatter(point.x)));\n                this.pushData(point, i);\n                this.setEmptyPoint(point, i);\n                i++;\n            }\n        }\n        else {\n            while (i < len) {\n                point = this.dataPoint(i, textMappingName);\n                point.xValue = point.x;\n                this.pushData(point, i);\n                this.setEmptyPoint(point, i);\n                i++;\n            }\n        }\n        if (this instanceof Series) {\n            if (this.type === 'Spline' || this.drawType === 'Spline') {\n                this.chart.splineSeriesModule.findSplinePoint(this);\n            }\n        }\n    };\n    SeriesBase.prototype.pushData = function (point, i) {\n        point.index = i;\n        point.yValue = point.y;\n        // To find the min, max for the axis range.\n        this.xMin = Math.min(this.xMin, point.xValue);\n        this.xMax = Math.max(this.xMax, point.xValue);\n        this.xData.push(point.xValue);\n    };\n    /** @private */\n    SeriesBase.prototype.dataPoint = function (i, textMappingName) {\n        var point;\n        this.points[i] = new Points();\n        point = this.points[i];\n        var currentViewData = this.currentViewData;\n        point.x = getValue(this.xName, currentViewData[i]);\n        point.high = getValue(this.high, currentViewData[i]);\n        point.low = getValue(this.low, currentViewData[i]);\n        point.open = getValue(this.open, currentViewData[i]);\n        point.close = getValue(this.close, currentViewData[i]);\n        point.volume = getValue(this.volume, currentViewData[i]);\n        if (this instanceof Series) {\n            point.y = getValue(this.yName, currentViewData[i]);\n            point.size = getValue(this.size, currentViewData[i]);\n            point.text = getValue(textMappingName, currentViewData[i]);\n        }\n        return point;\n    };\n    /**\n     * To set empty point value based on empty point mode\n     * @private\n     */\n    SeriesBase.prototype.setEmptyPoint = function (point, i) {\n        if (!this.findVisibility(point)) {\n            point.visible = true;\n            return null;\n        }\n        point.isEmpty = true;\n        var mode = this instanceof Series ? this.emptyPointSettings.mode : 'Drop';\n        switch (mode) {\n            case 'Zero':\n                point.visible = true;\n                if (this instanceof Series && this.seriesType.indexOf('HighLow') > -1) {\n                    point.high = point.low = 0;\n                    if (this.seriesType.indexOf('HighLowOpenClose') > -1) {\n                        point.open = point.close = 0;\n                    }\n                }\n                else {\n                    point.y = point.yValue = this.yData[i] = 0;\n                }\n                break;\n            case 'Average':\n                if (this instanceof Series) {\n                    if (this.seriesType.indexOf('HighLow') > -1) {\n                        point.high = isNullOrUndefined(point.high) ? this.getAverage(this.high, i) : point.high;\n                        point.low = isNullOrUndefined(point.low) ? this.getAverage(this.low, i) : point.low;\n                        if (this.seriesType.indexOf('HighLowOpenClose') > -1) {\n                            point.open = isNullOrUndefined(point.open) ? this.getAverage(this.open, i) : point.open;\n                            point.close = isNullOrUndefined(point.close) ? this.getAverage(this.close, i) : point.close;\n                        }\n                    }\n                    else {\n                        point.y = point.yValue = this.yData[i] = this.getAverage(this.yName, i);\n                    }\n                }\n                point.visible = true;\n                break;\n            case 'Drop':\n            case 'Gap':\n                this.yData[i] = null;\n                point.visible = false;\n                break;\n        }\n    };\n    SeriesBase.prototype.findVisibility = function (point) {\n        var type = this instanceof Series ? this.seriesType : 'HighLowOpenClose';\n        var yValues;\n        switch (type) {\n            case 'XY':\n                this.setXYMinMax(point.yValue);\n                this.yData.push(point.yValue);\n                if (this instanceof Series && this.type === 'Bubble') {\n                    this.sizeMax = Math.max(this.sizeMax, point.size);\n                }\n                return isNullOrUndefined(point.x) || isNullOrUndefined(point.y);\n            case 'HighLow':\n                this.setHiloMinMax(point.high, point.low);\n                return isNullOrUndefined(point.x) || isNullOrUndefined(point.low) || isNullOrUndefined(point.high);\n            case 'HighLowOpenClose':\n                this.setHiloMinMax(point.high, point.low);\n                return isNullOrUndefined(point.x) || isNullOrUndefined(point.low) ||\n                    isNullOrUndefined(point.open) || isNullOrUndefined(point.close)\n                    || isNullOrUndefined(point.high);\n            case 'BoxPlot':\n                yValues = (point.y || [null]).filter(function (value) {\n                    return !isNullOrUndefined(value);\n                }).sort(function (a, b) {\n                    return a - b;\n                });\n                point.y = yValues;\n                this.yMin = Math.min(this.yMin, Math.min.apply(Math, yValues));\n                this.yMax = Math.max(this.yMax, Math.max.apply(Math, yValues));\n                return !yValues.length;\n        }\n    };\n    /**\n     * To get Y min max for the provided point seriesType XY\n     */\n    SeriesBase.prototype.setXYMinMax = function (yValue) {\n        this.yMin = Math.min(this.yMin, isNullOrUndefined(yValue) ? this.yMin : yValue);\n        this.yMax = Math.max(this.yMax, isNullOrUndefined(yValue) ? this.yMax : yValue);\n    };\n    /**\n     * To get Y min max for the provided point seriesType XY\n     */\n    SeriesBase.prototype.setHiloMinMax = function (high, low) {\n        this.yMin = Math.min(this.yMin, Math.min(isNullOrUndefined(low) ? this.yMin : low, isNullOrUndefined(high) ? this.yMin : high));\n        this.yMax = Math.max(this.yMax, Math.max(isNullOrUndefined(low) ? this.yMax : low, isNullOrUndefined(high) ? this.yMax : high));\n    };\n    /**\n     * Finds the type of the series\n     * @private\n     */\n    SeriesBase.prototype.getSeriesType = function () {\n        var type;\n        if (this instanceof Series) {\n            var seriesType = this.chart.chartAreaType === 'PolarRadar' ? this.drawType : this.type;\n            if (seriesType) {\n                switch (seriesType) {\n                    case 'RangeColumn':\n                    case 'RangeArea':\n                    case 'Hilo':\n                        type = 'HighLow';\n                        break;\n                    case 'HiloOpenClose':\n                    case 'Candle':\n                        type = 'HighLowOpenClose';\n                        break;\n                    case 'BoxAndWhisker':\n                        type = 'BoxPlot';\n                        break;\n                    default:\n                        type = 'XY';\n                }\n            }\n        }\n        this.seriesType = type;\n    };\n    /** @private */\n    SeriesBase.prototype.pushCategoryData = function (point, index) {\n        if (!this.xAxis.isIndexed) {\n            if (this.xAxis.labels.indexOf(point.x) < 0) {\n                this.xAxis.labels.push(point.x);\n            }\n            point.xValue = this.xAxis.labels.indexOf(point.x);\n        }\n        else {\n            this.xAxis.labels[index] ? this.xAxis.labels[index] += ', ' + point.x :\n                this.xAxis.labels.push(point.x);\n            point.xValue = index;\n        }\n    };\n    /**\n     * To find average of given property\n     */\n    SeriesBase.prototype.getAverage = function (member, i, data) {\n        if (data === void 0) { data = this.currentViewData; }\n        var previous = data[i - 1] ? (data[i - 1][member] || 0) : 0;\n        var next = data[i + 1] ? (data[i + 1][member] || 0) : 0;\n        return (previous + next) / 2;\n    };\n    /**\n     * To find the control points for spline.\n     * @return {void}\n     * @private\n     */\n    SeriesBase.prototype.refreshDataManager = function (chart) {\n        var _this = this;\n        this.chart = chart;\n        if (isNullOrUndefined(this.query) && !isNullOrUndefined(this.dataSource)) {\n            this.dataManagerSuccess({ result: this.dataSource, count: this.dataSource.length }, chart, false);\n            return;\n        }\n        var dataManager = this.dataModule.getData(this.dataModule.generateQuery().requiresCount());\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e, chart); });\n    };\n    SeriesBase.prototype.dataManagerSuccess = function (e, chart, isRemoteData) {\n        if (isRemoteData === void 0) { isRemoteData = true; }\n        this.currentViewData = e.result !== '' ? e.result : [];\n        if (this instanceof Series) {\n            var argsData = {\n                name: seriesRender, series: this, data: this.currentViewData, fill: this.interior\n            };\n            this.chart.trigger(seriesRender, argsData);\n            this.interior = argsData.fill;\n            this.currentViewData = argsData.data;\n        }\n        this.processJsonData();\n        this.recordsCount = e.count;\n        this.refreshChart(isRemoteData);\n    };\n    SeriesBase.prototype.refreshChart = function (isRemoteData) {\n        var chart = this.chart;\n        if (this instanceof Series) {\n            chart.visibleSeriesCount += isRemoteData ? 1 : 0;\n        }\n        chart.refreshTechnicalIndicator(this);\n        if (this instanceof Series && this.category !== 'TrendLine') {\n            for (var _i = 0, _a = this.trendlines; _i < _a.length; _i++) {\n                var trendline = _a[_i];\n                trendline.setDataSource(this, chart);\n            }\n        }\n        //if (chart.visibleSeries.length === (chart.visibleSeriesCount - chart.indicators.length)) {\n        if (chart.visibleSeries.length === (chart.visibleSeriesCount)) {\n            chart.refreshBound();\n            chart.trigger('loaded', { chart: chart });\n        }\n        if (this instanceof Series) {\n            chart.visibleSeriesCount += isRemoteData ? 0 : 1;\n        }\n    };\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"xName\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"high\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"low\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"open\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"close\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"volume\", void 0);\n    __decorate([\n        Property(null)\n    ], SeriesBase.prototype, \"xAxisName\", void 0);\n    __decorate([\n        Property(null)\n    ], SeriesBase.prototype, \"yAxisName\", void 0);\n    __decorate([\n        Complex(null, Animation)\n    ], SeriesBase.prototype, \"animation\", void 0);\n    __decorate([\n        Property(null)\n    ], SeriesBase.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], SeriesBase.prototype, \"width\", void 0);\n    __decorate([\n        Property('0')\n    ], SeriesBase.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], SeriesBase.prototype, \"query\", void 0);\n    return SeriesBase;\n}(ChildProperty));\nexport { SeriesBase };\n/**\n *  Configures the series in charts.\n */\nvar Series = /** @class */ (function (_super) {\n    __extends(Series, _super);\n    // tslint:disable-next-line:no-any\n    function Series(parent, propName, defaultValue, isArray) {\n        var _this = _super.call(this, parent, propName, defaultValue, isArray) || this;\n        _this.visibleSeriesCount = 0;\n        /** @private */\n        _this.category = 'Series';\n        /** @private */\n        _this.isRectSeries = false;\n        /** @private */\n        _this.drawPoints = [];\n        /** @private */\n        _this.delayedAnimation = false;\n        return _this;\n    }\n    /**\n     * Refresh the axis label.\n     * @return {boolean}\n     * @private\n     */\n    Series.prototype.refreshAxisLabel = function () {\n        if (this.xAxis.valueType !== 'Category') {\n            return null;\n        }\n        this.xAxis.labels = [];\n        for (var _i = 0, _a = this.xAxis.series; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.visible) {\n                item.xMin = Infinity;\n                item.xMax = -Infinity;\n                for (var _b = 0, _c = item.points; _b < _c.length; _b++) {\n                    var point = _c[_b];\n                    item.pushCategoryData(point, point.index);\n                    item.xMin = Math.min(item.xMin, point.xValue);\n                    item.xMax = Math.max(item.xMax, point.xValue);\n                }\n            }\n        }\n    };\n    /**\n     * To get the series collection.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.findSeriesCollection = function (column, row, isStack) {\n        var seriesCollection = [];\n        for (var _i = 0, _a = row.axes; _i < _a.length; _i++) {\n            var rowAxis = _a[_i];\n            for (var _b = 0, _c = rowAxis.series; _b < _c.length; _b++) {\n                var rowSeries = _c[_b];\n                for (var _d = 0, _e = column.axes; _d < _e.length; _d++) {\n                    var axis = _e[_d];\n                    for (var _f = 0, _g = axis.series; _f < _g.length; _f++) {\n                        var series = _g[_f];\n                        if (series === rowSeries && series.visible && this.rectSeriesInChart(series, isStack)) {\n                            seriesCollection.push(series);\n                        }\n                    }\n                }\n            }\n        }\n        return seriesCollection;\n    };\n    /**\n     * To get the column type series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.rectSeriesInChart = function (series, isStack) {\n        var type = (series.type).toLowerCase();\n        return (type.indexOf('column') !== -1 || type.indexOf('bar') !== -1 ||\n            type.indexOf('hiloopenclose') !== -1 || type.indexOf('candle') !== -1 ||\n            type.indexOf('hilo') !== -1 || series.drawType.indexOf('Column') !== -1 ||\n            type.indexOf('waterfall') !== -1 || type.indexOf('boxandwhisker') !== -1 || isStack);\n    };\n    /**\n     * To calculate the stacked values.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.calculateStackedValue = function (isStacking100) {\n        var axisSeries;\n        for (var _i = 0, _a = this.chart.columns; _i < _a.length; _i++) {\n            var columnItem = _a[_i];\n            for (var _b = 0, _c = this.chart.rows; _b < _c.length; _b++) {\n                var item = _c[_b];\n                this.calculateStackingValues(this.findSeriesCollection(columnItem, item, true), isStacking100);\n            }\n        }\n    };\n    Series.prototype.calculateStackingValues = function (seriesCollection, isStacking100) {\n        var startValues;\n        var endValues;\n        var yValues = [];\n        var lastPositive = [];\n        var lastNegative = [];\n        var stackingGroup;\n        var lastValue;\n        var value;\n        var frequencies = [];\n        if (isStacking100) {\n            frequencies = this.findFrequencies(seriesCollection);\n        }\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            if (series.type.indexOf('Stacking') !== -1 || (series.drawType.indexOf('Stacking') !== -1 &&\n                (series.chart.chartAreaType === 'PolarRadar'))) {\n                stackingGroup = (series.type.indexOf('StackingArea') !== -1) ? 'StackingArea100' : series.stackingGroup;\n                if (!lastPositive[stackingGroup]) {\n                    lastPositive[stackingGroup] = [];\n                    lastNegative[stackingGroup] = [];\n                }\n                yValues = series.yData;\n                startValues = [];\n                endValues = [];\n                for (var j = 0, pointsLength = series.points.length; j < pointsLength; j++) {\n                    lastValue = 0;\n                    value = yValues[j];\n                    if (lastPositive[stackingGroup][series.points[j].xValue] === undefined) {\n                        lastPositive[stackingGroup][series.points[j].xValue] = 0;\n                    }\n                    if (lastNegative[stackingGroup][series.points[j].xValue] === undefined) {\n                        lastNegative[stackingGroup][series.points[j].xValue] = 0;\n                    }\n                    if (isStacking100) {\n                        value = value / frequencies[stackingGroup][series.points[j].xValue] * 100;\n                        value = !isNaN(value) ? value : 0;\n                        series.points[j].percent = value.toFixed(2);\n                    }\n                    if (value >= 0) {\n                        lastValue = lastPositive[stackingGroup][series.points[j].xValue];\n                        lastPositive[stackingGroup][series.points[j].xValue] += value;\n                    }\n                    else {\n                        lastValue = lastNegative[stackingGroup][series.points[j].xValue];\n                        lastNegative[stackingGroup][series.points[j].xValue] += value;\n                    }\n                    startValues.push(lastValue);\n                    endValues.push(value + lastValue);\n                    if (isStacking100 && (endValues[j] > 100)) {\n                        endValues[j] = 100;\n                    }\n                }\n                series.stackedValues = new StackValues(startValues, endValues);\n                series.yMin = Math.min.apply(0, startValues);\n                series.yMax = Math.max.apply(0, endValues);\n                if (series.yMin > Math.min.apply(0, endValues)) {\n                    series.yMin = (isStacking100) ? -100 : Math.min.apply(0, endValues);\n                }\n                if (series.yMax < Math.max.apply(0, startValues)) {\n                    series.yMax = 0;\n                }\n            }\n        }\n    };\n    Series.prototype.findFrequencies = function (seriesCollection) {\n        var frequencies = [];\n        var stackingGroup;\n        for (var _i = 0, seriesCollection_2 = seriesCollection; _i < seriesCollection_2.length; _i++) {\n            var series = seriesCollection_2[_i];\n            series.yAxis.isStack100 = series.type.indexOf('100') !== -1 ? true : false;\n            if (series.type.indexOf('Stacking') !== -1) {\n                stackingGroup = (series.type.indexOf('StackingArea') !== -1) ? 'StackingArea100' : series.stackingGroup;\n                if (!frequencies[stackingGroup]) {\n                    frequencies[stackingGroup] = [];\n                }\n                for (var j = 0, pointsLength = series.points.length; j < pointsLength; j++) {\n                    if (frequencies[stackingGroup][series.points[j].xValue] === undefined) {\n                        frequencies[stackingGroup][series.points[j].xValue] = 0;\n                    }\n                    if (series.yData[j] > 0) {\n                        frequencies[stackingGroup][series.points[j].xValue] += series.yData[j];\n                    }\n                    else {\n                        frequencies[stackingGroup][series.points[j].xValue] -= series.yData[j];\n                    }\n                }\n            }\n        }\n        return frequencies;\n    };\n    /**\n     * To find the log values.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.logWithIn = function (value, axis) {\n        if (axis.valueType === 'Logarithmic') {\n            value = logBase(value, axis.logBase);\n        }\n        else {\n            value = value;\n        }\n        return value;\n    };\n    /* private dataManagerFailure(e: { result: Object[] }): void {\n         this.currentViewData = [];\n         this.refreshChart();\n     }*/\n    /** @private */\n    Series.prototype.renderSeries = function (chart, index) {\n        var seriesType = firstToLowerCase(this.type);\n        if (seriesType.indexOf('100') !== -1) {\n            seriesType = seriesType.replace('100', '');\n        }\n        if (chart[seriesType + 'SeriesModule']) {\n            if (this.category !== 'Indicator' && this.category !== 'TrendLine') {\n                this.createSeriesElements(chart);\n            }\n            chart[seriesType + 'SeriesModule'].render(this, this.xAxis, this.yAxis, chart.requireInvertedAxis);\n            if (this.category !== 'Indicator') {\n                if (this.errorBar.visible) {\n                    this.chart.errorBarModule.render(this);\n                }\n                if (this.marker.dataLabel.visible) {\n                    chart.dataLabelModule.render(this, this.chart, this.marker.dataLabel);\n                }\n                this.appendSeriesElement(chart.seriesElements, chart);\n            }\n            this.performAnimation(chart, seriesType, this.errorBar, this.marker, this.marker.dataLabel);\n        }\n    };\n    /**\n     * To create seris element.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.createSeriesElements = function (chart) {\n        if (this.category !== 'Indicator') {\n            var elementId = chart.element.id;\n            var xAxisRect = this.xAxis.rect;\n            // 8 for extend border value 5 for extend size value\n            var explodeValue = this.marker.border.width + 8 + 5;\n            var yAxisRect = this.yAxis.rect;\n            var marker = this.marker;\n            var render = chart.renderer;\n            var index = this.index;\n            var markerHeight = (this.type === 'Scatter') ? (this.marker.height + explodeValue) / 2 : 0;\n            var markerWidth = (this.type === 'Scatter') ? (this.marker.width + explodeValue) / 2 : 0;\n            if (chart.chartAreaType === 'PolarRadar') {\n                this.clipRectElement = render.drawCircularClipPath(new CircleOption(elementId + '_ChartSeriesClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, this.clipRect.width / 2 + this.clipRect.x, this.clipRect.height / 2 + this.clipRect.y, chart.radius));\n            }\n            else {\n                this.clipRectElement = render.drawClipPath(new RectOption(elementId + '_ChartSeriesClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                    x: -markerWidth, y: -markerHeight,\n                    width: this.clipRect.width + markerWidth * 2,\n                    height: this.clipRect.height + markerHeight * 2\n                }));\n            }\n            var transform = void 0;\n            transform = chart.chartAreaType === 'Cartesian' ? 'translate(' + this.clipRect.x + ',' + (this.clipRect.y) + ')' : '';\n            this.symbolElement = null;\n            this.seriesElement = render.createGroup({\n                'id': elementId + 'SeriesGroup' + index,\n                'transform': transform,\n                'clip-path': 'url(#' + elementId + '_ChartSeriesClipRect_' + index + ')'\n            });\n            this.seriesElement.appendChild(this.clipRectElement);\n        }\n    };\n    /**\n     * To append the series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.appendSeriesElement = function (element, chart) {\n        var marker = this.marker;\n        var dataLabel = marker.dataLabel;\n        if (this.category !== 'TrendLine') {\n            chart.seriesElements.appendChild(this.seriesElement);\n            var errorBar = this.errorBar;\n            if (errorBar.visible) {\n                if (chart.chartAreaType === 'PolarRadar') {\n                    chart.seriesElements.appendChild(this.seriesElement);\n                }\n                else {\n                    chart.seriesElements.appendChild(this.errorBarElement);\n                }\n            }\n            if (this.type === 'Scatter' || this.type === 'Bubble') {\n                chart.seriesElements.appendChild(this.seriesElement);\n            }\n        }\n        if (marker.visible && ((chart.chartAreaType === 'Cartesian' && (!this.isRectSeries || this.type === 'BoxAndWhisker'))\n            || ((this.drawType !== 'Scatter' && !this.isRectSeries) && chart.chartAreaType === 'PolarRadar')) &&\n            this.type !== 'Scatter' && this.type !== 'Bubble') {\n            chart.seriesElements.appendChild(this.symbolElement);\n        }\n        if (dataLabel.visible) {\n            chart.dataLabelElements.appendChild(this.shapeElement);\n            chart.dataLabelElements.appendChild(this.textElement);\n        }\n    };\n    /**\n     * To perform animation for chart series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.performAnimation = function (chart, type, errorBar, marker, dataLabel) {\n        if (this.animation.enable && chart.animateSeries) {\n            chart[type + 'SeriesModule'].doAnimation(this);\n            if (errorBar.visible) {\n                chart.errorBarModule.doErrorBarAnimation(this);\n            }\n            if (marker.visible) {\n                chart.markerRender.doMarkerAnimation(this);\n            }\n            if (dataLabel.visible) {\n                chart.dataLabelModule.doDataLabelAnimation(this);\n            }\n        }\n    };\n    /**\n     * To set border color for empty point\n     * @private\n     */\n    Series.prototype.setPointColor = function (point, color) {\n        return point.isEmpty ? (this.emptyPointSettings.fill || color) : color;\n    };\n    /**\n     * To set border color for empty point\n     * @private\n     */\n    Series.prototype.setBorderColor = function (point, border) {\n        border.width = point.isEmpty ? (this.emptyPointSettings.border.width || border.width) : border.width;\n        border.color = point.isEmpty ? (this.emptyPointSettings.border.color || border.color) : border.color;\n        return border;\n    };\n    __decorate([\n        Property('')\n    ], Series.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], Series.prototype, \"yName\", void 0);\n    __decorate([\n        Property('Line')\n    ], Series.prototype, \"drawType\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"isClosed\", void 0);\n    __decorate([\n        Property('#2ecd71')\n    ], Series.prototype, \"bearFillColor\", void 0);\n    __decorate([\n        Property('#e74c3d')\n    ], Series.prototype, \"bullFillColor\", void 0);\n    __decorate([\n        Property(false)\n    ], Series.prototype, \"enableSolidCandles\", void 0);\n    __decorate([\n        Property('')\n    ], Series.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Series.prototype, \"stackingGroup\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"visible\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 0 }, Border)\n    ], Series.prototype, \"border\", void 0);\n    __decorate([\n        Property(1)\n    ], Series.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Line')\n    ], Series.prototype, \"type\", void 0);\n    __decorate([\n        Complex(null, ErrorBarSettings)\n    ], Series.prototype, \"errorBar\", void 0);\n    __decorate([\n        Complex(null, MarkerSettings)\n    ], Series.prototype, \"marker\", void 0);\n    __decorate([\n        Collection([], Trendline)\n    ], Series.prototype, \"trendlines\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], Series.prototype, \"legendShape\", void 0);\n    __decorate([\n        Property(null)\n    ], Series.prototype, \"selectionStyle\", void 0);\n    __decorate([\n        Property(1)\n    ], Series.prototype, \"minRadius\", void 0);\n    __decorate([\n        Property(3)\n    ], Series.prototype, \"maxRadius\", void 0);\n    __decorate([\n        Property('Natural')\n    ], Series.prototype, \"splineType\", void 0);\n    __decorate([\n        Property(0.5)\n    ], Series.prototype, \"cardinalSplineTension\", void 0);\n    __decorate([\n        Complex(null, EmptyPointSettings)\n    ], Series.prototype, \"emptyPointSettings\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"showMean\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Series.prototype, \"boxPlotMode\", void 0);\n    __decorate([\n        Property(0.7)\n    ], Series.prototype, \"columnWidth\", void 0);\n    __decorate([\n        Property(0)\n    ], Series.prototype, \"columnSpacing\", void 0);\n    __decorate([\n        Property('#C64E4A')\n    ], Series.prototype, \"negativeFillColor\", void 0);\n    __decorate([\n        Property('#4E81BC')\n    ], Series.prototype, \"summaryFillColor\", void 0);\n    __decorate([\n        Property()\n    ], Series.prototype, \"intermediateSumIndexes\", void 0);\n    __decorate([\n        Property()\n    ], Series.prototype, \"sumIndexes\", void 0);\n    __decorate([\n        Complex({ color: 'black', width: 2 }, Connector)\n    ], Series.prototype, \"connector\", void 0);\n    __decorate([\n        Complex(null, CornerRadius)\n    ], Series.prototype, \"cornerRadius\", void 0);\n    return Series;\n}(SeriesBase));\nexport { Series };\n","import { Query, DataManager } from '@syncfusion/ej2-data';\n/**\n * data module is used to generate query and dataSource\n */\nvar Data = /** @class */ (function () {\n    /**\n     * Constructor for data module\n     * @private\n     */\n    function Data(dataSource, query) {\n        this.initDataManager(dataSource, query);\n    }\n    /**\n     * The function used to initialize dataManager and query\n     * @return {void}\n     * @private\n     */\n    Data.prototype.initDataManager = function (dataSource, query) {\n        this.dataManager = dataSource instanceof DataManager ? dataSource : new DataManager(dataSource);\n        this.query = query instanceof Query ? query : new Query();\n    };\n    /**\n     * The function used to generate updated Query from chart model\n     * @return {void}\n     * @private\n     */\n    Data.prototype.generateQuery = function () {\n        var query = this.query.clone();\n        return query;\n    };\n    /**\n     * The function used to get dataSource by executing given Query\n     * @param  {Query} query - A Query that specifies to generate dataSource\n     * @return {void}\n     * @private\n     */\n    Data.prototype.getData = function (query) {\n        return this.dataManager.executeQuery(query);\n    };\n    return Data;\n}());\nexport { Data };\n","import { withInBounds, PointData, Rect, getValueXByPoint, getValueYByPoint, } from '../../common/utils/helper';\n/**\n * To get the data on mouse move.\n * @private\n */\nvar Data = /** @class */ (function () {\n    /**\n     * Constructor for the data.\n     * @private\n     */\n    function Data(chart) {\n        /** @private */\n        this.currentPoints = [];\n        /** @private */\n        this.previousPoints = [];\n        this.chart = chart;\n        this.lierIndex = 0;\n    }\n    /**\n     * Method to get the Data.\n     * @private\n     */\n    Data.prototype.getData = function () {\n        var chart = this.chart;\n        var point = null;\n        var series = null;\n        var width;\n        var height;\n        for (var len = chart.visibleSeries.length, i = len - 1; i >= 0; i--) {\n            series = chart.visibleSeries[i];\n            width = (series.type === 'Scatter' || series.drawType === 'Scatter' || (!series.isRectSeries && series.marker.visible))\n                ? (series.marker.height + 5) / 2 : 0;\n            height = (series.type === 'Scatter' || series.drawType === 'Scatter' || (!series.isRectSeries && series.marker.visible))\n                ? (series.marker.width + 5) / 2 : 0;\n            if (series.visible && withInBounds(chart.mouseX, chart.mouseY, series.clipRect, width, height)) {\n                point = this.getRectPoint(series, series.clipRect, chart.mouseX, chart.mouseY);\n            }\n            if (point) {\n                return new PointData(point, series);\n            }\n        }\n        return new PointData(point, series);\n    };\n    Data.prototype.getRectPoint = function (series, rect, x, y) {\n        var currentRect;\n        var fromCenterX;\n        var fromCenterY;\n        var clickAngle;\n        var arcAngle = 0;\n        var startAngle;\n        var endAngle;\n        var distanceFromCenter;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (!point.regionData) {\n                if (!point.regions || !point.regions.length) {\n                    continue;\n                }\n            }\n            if (point.regionData && this.chart.chartAreaType === 'PolarRadar' && series.drawType.indexOf('Column') > -1) {\n                fromCenterX = x - (series.clipRect.width / 2 + series.clipRect.x);\n                fromCenterY = y - (series.clipRect.height / 2 + series.clipRect.y);\n                arcAngle = 2 * Math.PI * (point.regionData.currentXPosition < 0 ? 1 + point.regionData.currentXPosition\n                    : point.regionData.currentXPosition);\n                clickAngle = (Math.atan2(fromCenterY, fromCenterX) + 0.5 * Math.PI - arcAngle) % (2 * Math.PI);\n                clickAngle = clickAngle < 0 ? 2 * Math.PI + clickAngle : clickAngle;\n                clickAngle = clickAngle + 2 * Math.PI * series.chart.primaryXAxis.startAngle;\n                startAngle = point.regionData.startAngle;\n                startAngle -= arcAngle;\n                startAngle = startAngle < 0 ? 2 * Math.PI + startAngle : startAngle;\n                endAngle = point.regionData.endAngle;\n                endAngle -= arcAngle;\n                endAngle = endAngle < 0 ? 2 * Math.PI + endAngle : endAngle;\n                distanceFromCenter = Math.sqrt(Math.pow(Math.abs(fromCenterX), 2) + Math.pow(Math.abs(fromCenterY), 2));\n                if (clickAngle >= startAngle && clickAngle <= endAngle &&\n                    (((distanceFromCenter >= point.regionData.innerRadius && distanceFromCenter <= point.regionData.radius) ||\n                        (distanceFromCenter <= point.regionData.innerRadius && distanceFromCenter >= point.regionData.radius))\n                        && distanceFromCenter <= series.chart.radius)) {\n                    return point;\n                }\n            }\n            else if (this.checkRegionContainsPoint(point.regions, rect, x, y)) {\n                return point;\n            }\n        }\n        return null;\n    };\n    /**\n     * Checks whether the region contains a point\n     */\n    Data.prototype.checkRegionContainsPoint = function (regionRect, rect, x, y) {\n        var _this = this;\n        return regionRect.some(function (region, index) {\n            _this.lierIndex = index;\n            return withInBounds(x, y, new Rect((_this.chart.chartAreaType === 'Cartesian' ? rect.x : 0) + region.x, (_this.chart.chartAreaType === 'Cartesian' ? rect.y : 0) + region.y, region.width, region.height));\n        });\n    };\n    Data.prototype.getClosest = function (series, value) {\n        var xData = series.xData;\n        var closest;\n        if (value >= series.xMin - 0.5 && value <= series.xMax + 0.5) {\n            for (var _i = 0, xData_1 = xData; _i < xData_1.length; _i++) {\n                var data = xData_1[_i];\n                if (closest == null || Math.abs(data - value) < Math.abs(closest - value)) {\n                    closest = data;\n                }\n            }\n        }\n        return closest;\n    };\n    Data.prototype.getClosestX = function (chart, series) {\n        var value;\n        var rect = series.clipRect;\n        if (!chart.requireInvertedAxis) {\n            value = getValueXByPoint(chart.mouseX - rect.x, rect.width, series.xAxis);\n        }\n        else {\n            value = getValueYByPoint(chart.mouseY - rect.y, rect.height, series.xAxis);\n        }\n        var closest = this.getClosest(series, value);\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (closest === point.xValue && point.visible) {\n                return new PointData(point, series);\n            }\n        }\n        return null;\n    };\n    return Data;\n}());\nexport { Data };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { drawSymbol, PathOption, Size } from '../../common/utils/helper';\nimport { Browser, extend, remove } from '@syncfusion/ej2-base';\nimport { Data } from '../../chart/utils/get-data';\nimport { withInBounds, PointData, stopTimer } from '../../common/utils/helper';\nimport { colorNameToHex, convertHexToColor } from '../../common/utils/helper';\n/**\n * Marker Module used to render the marker for line type series.\n */\nvar MarkerExplode = /** @class */ (function (_super) {\n    __extends(MarkerExplode, _super);\n    /**\n     * Constructor for the marker module.\n     * @private\n     */\n    function MarkerExplode(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.addEventListener();\n        _this.elementId = chart.element.id;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    /**\n     * @hidden\n     */\n    /* public removeEventListener(): void {\n         if (this.chart.isDestroyed) { return; }\n         this.chart.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n    }*/\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.mouseUpHandler = function () {\n        var chart = this.chart;\n        if (chart.isTouch && !chart.crosshair.enable) {\n            this.markerMove(true);\n        }\n    };\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.mouseMoveHandler = function () {\n        var chart = this.chart;\n        if ((!chart.crosshair.enable || (chart.tooltip.enable)) && (!chart.isTouch || chart.startMove)) {\n            this.markerMove(false);\n        }\n    };\n    MarkerExplode.prototype.markerMove = function (remove) {\n        var _this = this;\n        var chart = this.chart;\n        this.currentPoints = [];\n        var data;\n        var explodeSeries;\n        if (!chart.tooltip.shared || !chart.tooltip.enable) {\n            data = this.getData();\n            explodeSeries = (data.series.type === 'BoxAndWhisker' || data.series.type === 'Bubble' || data.series.drawType === 'Scatter'\n                || data.series.type === 'Scatter' || (!data.series.isRectSeries && data.series.marker.visible));\n            data.lierIndex = this.lierIndex;\n            if (data.point && explodeSeries && ((!this.previousPoints[0] || (this.previousPoints[0].point !== data.point)) ||\n                (this.previousPoints[0] && this.previousPoints[0].lierIndex > 3 && this.previousPoints[0].lierIndex !== this.lierIndex))) {\n                this.currentPoints.push(data);\n            }\n        }\n        else {\n            if (!withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                return null;\n            }\n            if (chart.tooltip.enable) {\n                var pointData = chart.chartAreaType === 'PolarRadar' ? this.getData() : null;\n                for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                    var chartSeries = _a[_i];\n                    if (!chartSeries.enableTooltip || chartSeries.category === 'Indicator') {\n                        continue;\n                    }\n                    if (chart.chartAreaType === 'Cartesian' && chartSeries.visible) {\n                        data = this.getClosestX(chart, chartSeries);\n                    }\n                    else if (chart.chartAreaType === 'PolarRadar' && chartSeries.visible && pointData.point !== null) {\n                        data = new PointData(chartSeries.points[pointData.point.index], chartSeries);\n                    }\n                    if (data) {\n                        this.currentPoints.push(data);\n                        data = null;\n                    }\n                }\n            }\n        }\n        var length = this.previousPoints.length;\n        if (this.currentPoints.length > 0) {\n            if (length === 0 || (length > 0 && this.previousPoints[0].point !== this.currentPoints[0].point)) {\n                if (this.previousPoints.length > 0) {\n                    this.removeHighlightedMarker();\n                }\n                var _loop_1 = function (data_1) {\n                    if (data_1 && data_1.point &&\n                        (!data_1.series.isRectSeries || data_1.series.type === 'BoxAndWhisker')) {\n                        stopTimer(this_1.markerExplode);\n                        this_1.isRemove = true;\n                        data_1.point.symbolLocations.map(function (location, index) {\n                            _this.drawTrackBall(data_1.series, data_1.point, location, index);\n                        });\n                    }\n                };\n                var this_1 = this;\n                for (var _b = 0, _c = this.currentPoints; _b < _c.length; _b++) {\n                    var data_1 = _c[_b];\n                    _loop_1(data_1);\n                }\n                this.previousPoints = extend([], this.currentPoints, null, true);\n            }\n        }\n        if (!chart.tooltip.enable && ((this.currentPoints.length === 0 && this.isRemove) || (remove && this.isRemove) ||\n            !withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect))) {\n            this.isRemove = false;\n            this.markerExplode = setTimeout(function () {\n                _this.removeHighlightedMarker();\n            }, 2000);\n        }\n        this.currentPoints = [];\n    };\n    MarkerExplode.prototype.drawTrackBall = function (series, point, location, index) {\n        var marker = series.marker;\n        var element = series.symbolElement || series.seriesElement;\n        var shape = series.type === 'Bubble' ? 'Circle' : marker.shape;\n        var symbolId = this.elementId + '_Series_' + series.index + '_Point_' + point.index + '_Trackball' +\n            (index ? index : '');\n        var width = (series.type !== 'Bubble') ? marker.width : (point.regions[0].width);\n        var height = (series.type !== 'Bubble') ? marker.height : (point.regions[0].height);\n        var size = new Size(width + 5, height + 5);\n        var border = (series.type === 'Bubble' || series.type === 'Scatter' ? series.border : marker.border);\n        var explodeSeries = (series.type === 'BoxAndWhisker' || series.type === 'Bubble' || series.type === 'Scatter');\n        var borderColor = (border.color && border.color !== 'transparent') ? border.color :\n            explodeSeries ? point.color : series.interior;\n        var colorValue = convertHexToColor(colorNameToHex(borderColor));\n        for (var i = 0; i < 2; i++) {\n            var options = new PathOption(symbolId + '_' + i, i ? (marker.fill || point.color || (explodeSeries ? series.interior : '#ffffff')) : 'transparent', marker.border.width + (i ? 0 : 8), i ? borderColor : 'rgba(' + colorValue.r + ',' + colorValue.g + ',' + colorValue.b + ',0.2)', marker.opacity, null, null);\n            var symbol = drawSymbol(location, shape, size, marker.imageUrl, options, '');\n            symbol.setAttribute('style', 'pointer-events:none');\n            symbol.setAttribute('class', 'EJ2-Trackball');\n            element.appendChild(symbol);\n        }\n    };\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.removeHighlightedMarker = function () {\n        var elements = document.getElementsByClassName('EJ2-Trackball');\n        for (var i = 0, len = elements.length; i < len; i++) {\n            remove(elements[0]);\n        }\n        this.previousPoints = [];\n    };\n    return MarkerExplode;\n}(Data));\nexport { MarkerExplode };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { drawSymbol, PathOption, Size, markerAnimate, CircleOption, RectOption } from '../../common/utils/helper';\nimport { findlElement } from '../../common/utils/helper';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pointRender } from '../../common/model/constants';\nimport { MarkerExplode } from './marker-explode';\nimport { getSaturationColor } from '../../common/utils/helper';\n/**\n * Marker Module used to render the marker for line type series.\n */\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    /**\n     * Constructor for the marker module.\n     * @private\n     */\n    function Marker(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Render the marker for series.\n     * @return {void}\n     * @private\n     */\n    Marker.prototype.render = function (series) {\n        var _this = this;\n        this.createElement(series);\n        var _loop_1 = function (point) {\n            if (point.visible && point.symbolLocations.length) {\n                point.symbolLocations.map(function (location, index) {\n                    _this.renderMarker(series, point, location, index);\n                });\n            }\n        };\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            _loop_1(point);\n        }\n    };\n    Marker.prototype.renderMarker = function (series, point, location, index) {\n        var seriesIndex = series.index;\n        var marker = series.marker;\n        var border = {\n            color: marker.border.color,\n            width: marker.border.width\n        };\n        var shape = marker.shape;\n        var borderColor = marker.border.color;\n        var symbolId;\n        var shapeOption;\n        var isBoxPlot = series.type === 'BoxAndWhisker';\n        var fill = marker.fill || (isBoxPlot ? series.interior : '#ffffff');\n        var argsData;\n        var parentElement = isBoxPlot ?\n            findlElement(series.seriesElement.childNodes, 'Series_' + series.index + '_Point_' + point.index)\n            : series.symbolElement;\n        border.color = borderColor || series.interior;\n        symbolId = this.elementId + '_Series_' + seriesIndex + '_Point_' + point.index + '_Symbol' +\n            (index ? index : '');\n        argsData = {\n            cancel: false, name: pointRender, series: series, point: point, fill: series.setPointColor(point, fill),\n            border: {\n                color: series.type === 'BoxAndWhisker' ?\n                    (!isNullOrUndefined(borderColor) && borderColor !== 'transparent') ? borderColor :\n                        getSaturationColor(fill, -0.6)\n                    : border.color,\n                width: border.width\n            },\n            height: marker.height,\n            width: marker.width\n        };\n        argsData.border = series.setBorderColor(point, { width: argsData.border.width, color: argsData.border.color });\n        this.chart.trigger(pointRender, argsData);\n        point.color = argsData.fill;\n        if (!argsData.cancel) {\n            var y = void 0;\n            if (series.type === 'RangeArea') {\n                y = index ? point.low : point.high;\n            }\n            else if (isBoxPlot) {\n                y = point.outliers[index];\n            }\n            else {\n                y = point.y;\n            }\n            shapeOption = new PathOption(symbolId, argsData.fill, argsData.border.width, argsData.border.color, marker.opacity, null);\n            if (parentElement !== undefined && parentElement !== null) {\n                parentElement.appendChild(drawSymbol(location, shape, new Size(argsData.width, argsData.height), marker.imageUrl, shapeOption, point.x.toString() + ':' + y.toString()));\n            }\n        }\n        else {\n            location = null;\n        }\n    };\n    Marker.prototype.createElement = function (series) {\n        var markerClipRect;\n        var marker = series.marker;\n        // 8 for extend border value 5 for extend size value\n        var explodeValue = marker.border.width + 8 + 5;\n        var render = series.chart.renderer;\n        var transform;\n        transform = series.chart.chartAreaType === 'Cartesian' ? 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')' : '';\n        if (marker.visible) {\n            var markerHeight = (marker.height + explodeValue) / 2;\n            var markerWidth = (marker.width + explodeValue) / 2;\n            if (series.chart.chartAreaType === 'Cartesian') {\n                markerClipRect = render.drawClipPath(new RectOption(this.elementId + '_ChartMarkerClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                    x: -markerWidth, y: -markerHeight,\n                    width: series.clipRect.width + markerWidth * 2,\n                    height: series.clipRect.height + markerHeight * 2\n                }));\n            }\n            else {\n                markerClipRect = render.drawCircularClipPath(new CircleOption(this.elementId + '_ChartMarkerClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, series.clipRect.width / 2 + series.clipRect.x, series.clipRect.height / 2 + series.clipRect.y, series.chart.radius + Math.max(markerHeight, markerWidth)));\n            }\n            series.symbolElement = render.createGroup({\n                'id': this.elementId + 'SymbolGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.elementId + '_ChartMarkerClipRect_' + series.index + ')'\n            });\n            series.symbolElement.appendChild(markerClipRect);\n        }\n    };\n    Marker.prototype.getRangeLowPoint = function (region, series) {\n        var x = region.x;\n        var y = region.y;\n        if (series.chart.requireInvertedAxis) {\n            y += region.height / 2;\n            x += series.yAxis.isInversed ? region.width : 0;\n        }\n        else {\n            y += series.yAxis.isInversed ? 0 : region.height;\n            x += region.width / 2;\n        }\n        return { x: x, y: y };\n    };\n    /**\n     * Animates the marker.\n     * @return {void}.\n     * @private\n     */\n    Marker.prototype.doMarkerAnimation = function (series) {\n        if (!(series.isRectSeries || series.type === 'Scatter' || series.type === 'Bubble' ||\n            (series.chart.chartAreaType === 'PolarRadar' && (series.drawType === 'Scatter' || series.drawType.indexOf('Column') > -1)))) {\n            var markerElements = series.symbolElement.childNodes;\n            var delay = series.animation.delay + series.animation.duration;\n            var j = 1;\n            var incFactor = series.type === 'RangeArea' ? 2 : 1;\n            for (var i = 0; i < series.points.length; i++) {\n                if (!series.points[i].symbolLocations.length) {\n                    continue;\n                }\n                markerAnimate(markerElements[j], delay, 200, series, i, series.points[i].symbolLocations[0], false);\n                if (incFactor === 2) {\n                    var lowPoint = this.getRangeLowPoint(series.points[i].regions[0], series);\n                    markerAnimate(markerElements[j + 1], delay, 200, series, i, lowPoint, false);\n                }\n                j += incFactor;\n            }\n        }\n    };\n    return Marker;\n}(MarkerExplode));\nexport { Marker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, Complex, ChildProperty } from '@syncfusion/ej2-base';\nimport { Font, Border } from '../model/base';\nimport { Theme } from '../model/theme';\nimport { Size, Rect, subtractThickness, Thickness, drawSymbol, measureText, ChartLocation, PathOption } from '../utils/helper';\nimport { RectOption, TextOption, textElement, stringToNumber, removeElement, showTooltip, getElement } from '../utils/helper';\n/**\n * Configures the location for the legend.\n */\nvar Location = /** @class */ (function (_super) {\n    __extends(Location, _super);\n    function Location() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Location.prototype, \"x\", void 0);\n    __decorate([\n        Property(0)\n    ], Location.prototype, \"y\", void 0);\n    return Location;\n}(ChildProperty));\nexport { Location };\n/**\n * Configures the legends in charts.\n */\nvar LegendSettings = /** @class */ (function (_super) {\n    __extends(LegendSettings, _super);\n    function LegendSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0 }, Location)\n    ], LegendSettings.prototype, \"location\", void 0);\n    __decorate([\n        Property('Auto')\n    ], LegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(8)\n    ], LegendSettings.prototype, \"padding\", void 0);\n    __decorate([\n        Property('Center')\n    ], LegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, Font)\n    ], LegendSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(10)\n    ], LegendSettings.prototype, \"shapeHeight\", void 0);\n    __decorate([\n        Property(10)\n    ], LegendSettings.prototype, \"shapeWidth\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], LegendSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property(5)\n    ], LegendSettings.prototype, \"shapePadding\", void 0);\n    __decorate([\n        Property('transparent')\n    ], LegendSettings.prototype, \"background\", void 0);\n    __decorate([\n        Property(1)\n    ], LegendSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"toggleVisibility\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"description\", void 0);\n    __decorate([\n        Property(3)\n    ], LegendSettings.prototype, \"tabIndex\", void 0);\n    return LegendSettings;\n}(ChildProperty));\nexport { LegendSettings };\n/**\n * Legend base class for Chart and Accumulation chart.\n * @private\n */\nvar BaseLegend = /** @class */ (function () {\n    /**\n     * Constructor for the dateTime module.\n     * @private\n     */\n    function BaseLegend(chart) {\n        this.rowCount = 0; // legend row counts per page \n        this.columnCount = 0; // legend column counts per page \n        this.pageButtonSize = 8;\n        this.pageXCollections = []; // pages of x locations\n        this.maxColumns = 0;\n        this.isTrimmed = false;\n        this.maxWidth = 0;\n        this.currentPage = 1;\n        this.chart = chart;\n        this.legend = chart.legendSettings;\n        this.legendID = chart.element.id + '_chart_legend';\n        this.isChartControl = (chart.getModuleName() === 'chart');\n    }\n    /**\n     * Calculate the bounds for the legends.\n     * @return {void}\n     * @private\n     */\n    BaseLegend.prototype.calculateLegendBounds = function (rect, availableSize) {\n        var legend = this.legend;\n        this.getPosition(legend.position, availableSize);\n        this.legendBounds = new Rect(rect.x, rect.y, 0, 0);\n        this.isVertical = (this.position === 'Left' || this.position === 'Right');\n        if (this.isVertical) {\n            this.legendBounds.height = stringToNumber(legend.height, availableSize.height - (rect.y - this.chart.margin.top)) || rect.height;\n            this.legendBounds.width = stringToNumber(legend.width || '20%', availableSize.width);\n        }\n        else {\n            this.legendBounds.width = stringToNumber(legend.width, availableSize.width) || rect.width;\n            this.legendBounds.height = stringToNumber(legend.height || '20%', availableSize.height);\n        }\n        this.library.getLegendBounds(availableSize, this.legendBounds, legend);\n        this.getLocation(this.position, legend.alignment, this.legendBounds, rect, availableSize);\n    };\n    /**\n     * To find legend position based on available size for chart and accumulation chart\n     */\n    BaseLegend.prototype.getPosition = function (position, availableSize) {\n        if (this.isChartControl) {\n            this.position = (position !== 'Auto') ? position : 'Bottom';\n        }\n        else {\n            if (position === 'Auto' && this.chart.visibleSeries &&\n                (this.chart.visibleSeries[0].type === 'Funnel' || this.chart.visibleSeries[0].type === 'Pyramid')) {\n                position = 'Top';\n            }\n            this.position = (position !== 'Auto') ? position :\n                (availableSize.width > availableSize.height ? 'Right' : 'Bottom');\n        }\n    };\n    /**\n     * To set bounds for chart and accumulation chart\n     */\n    BaseLegend.prototype.setBounds = function (computedWidth, computedHeight, legend, legendBounds) {\n        computedWidth = computedWidth < legendBounds.width ? computedWidth : legendBounds.width;\n        computedHeight = computedHeight < legendBounds.height ? computedHeight : legendBounds.height;\n        legendBounds.width = !legend.width ? computedWidth : legendBounds.width;\n        legendBounds.height = !legend.height ? computedHeight : legendBounds.height;\n        this.rowCount = Math.max(1, Math.ceil((legendBounds.height - legend.padding) / (this.maxItemHeight + legend.padding)));\n    };\n    /**\n     * To find legend location based on position, alignment for chart and accumulation chart\n     */\n    BaseLegend.prototype.getLocation = function (position, alignment, legendBounds, rect, availableSize) {\n        var padding = this.legend.border.width;\n        var legendHeight = legendBounds.height + padding;\n        var legendWidth = legendBounds.width + padding;\n        var marginBottom = this.chart.margin.bottom;\n        if (position === 'Bottom') {\n            legendBounds.x = this.alignLegend(legendBounds.x, availableSize.width, legendBounds.width, alignment);\n            legendBounds.y = rect.y + (rect.height - legendHeight) + padding;\n            subtractThickness(rect, new Thickness(0, 0, 0, legendHeight));\n        }\n        else if (position === 'Top') {\n            legendBounds.x = this.alignLegend(legendBounds.x, availableSize.width, legendBounds.width, alignment);\n            legendBounds.y = rect.y + padding;\n            subtractThickness(rect, new Thickness(0, 0, legendHeight, 0));\n        }\n        else if (position === 'Right') {\n            legendBounds.x = rect.x + (rect.width - legendBounds.width);\n            legendBounds.y = rect.y + this.alignLegend(0, availableSize.height - (rect.y + marginBottom), legendBounds.height, alignment);\n            subtractThickness(rect, new Thickness(0, legendWidth, 0, 0));\n        }\n        else if (position === 'Left') {\n            legendBounds.y = rect.y + this.alignLegend(0, availableSize.height - (rect.y + marginBottom), legendBounds.height, alignment);\n            subtractThickness(rect, new Thickness(legendWidth, 0, 0, 0));\n        }\n        else {\n            legendBounds.x = this.legend.location.x;\n            legendBounds.y = this.legend.location.y;\n            subtractThickness(rect, new Thickness(0, 0, 0, 0));\n        }\n    };\n    /**\n     * To find legend alignment for chart and accumulation chart\n     */\n    BaseLegend.prototype.alignLegend = function (start, size, legendSize, alignment) {\n        switch (alignment) {\n            case 'Far':\n                start = (size - legendSize) - start;\n                break;\n            case 'Center':\n                start = ((size - legendSize) / 2);\n                break;\n        }\n        return start;\n    };\n    /**\n     * Renders the legend.\n     * @return {void}\n     * @private\n     */\n    BaseLegend.prototype.renderLegend = function (chart, legend, legendBounds) {\n        var firstLegend = this.findFirstLegendPosition(this.legendCollections);\n        var padding = legend.padding;\n        this.maxItemHeight = Math.max(this.legendCollections[0].textSize.height, legend.shapeHeight);\n        var legendGroup = chart.renderer.createGroup({ id: this.legendID + '_g' });\n        var legendTranslateGroup = this.createLegendElements(chart, legendBounds, legendGroup, legend, this.legendID);\n        if (firstLegend !== this.legendCollections.length) {\n            var legendSeriesGroup = void 0; // legendItem group for each series group element\n            var start = void 0; // starting shape center x,y position && to resolve lint error used new line for declaration\n            start = new ChartLocation(legendBounds.x + padding + (legend.shapeWidth / 2), legendBounds.y + padding + this.maxItemHeight / 2);\n            var textOptions = new TextOption('', start.x, start.y, 'start');\n            //  initialization for totalPages legend click totalpage again calculate\n            this.totalPages = this.isChartControl ? this.totalPages : 0;\n            var textPadding = legend.shapePadding + padding + legend.shapeWidth;\n            var count = 0;\n            this.pageXCollections = [];\n            this.legendCollections[firstLegend].location = start;\n            var previousLegend = this.legendCollections[firstLegend];\n            for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n                var legendOption = _a[_i];\n                if (legendOption.render && legendOption.text !== '') {\n                    legendSeriesGroup = chart.renderer.createGroup({\n                        id: this.legendID + this.generateId(legendOption, '_g_', count)\n                    });\n                    legendSeriesGroup.setAttribute('tabindex', legend.tabIndex.toString());\n                    legendSeriesGroup.setAttribute('aria-label', legend.description || 'Click to show or hide the ' + legendOption.text + ' series');\n                    this.library.getRenderPoint(legendOption, start, textPadding, previousLegend, legendBounds, count, firstLegend);\n                    this.renderSymbol(legendOption, legendSeriesGroup, count);\n                    this.renderText(chart, legendOption, legendSeriesGroup, textOptions, count);\n                    legendSeriesGroup.setAttribute('style', 'cursor: ' + ((!legend.toggleVisibility && chart.selectionMode === 'None') ? 'auto' : 'pointer'));\n                    legendTranslateGroup.appendChild(legendSeriesGroup);\n                    previousLegend = legendOption;\n                }\n                count++;\n            }\n            if (this.isPaging) {\n                this.renderPagingElements(chart, legendBounds, textOptions, legendGroup);\n            }\n        }\n        chart.svgObject.appendChild(legendGroup);\n    };\n    /**\n     * To find first valid legend text index for chart and accumulation chart\n     */\n    BaseLegend.prototype.findFirstLegendPosition = function (legendCollection) {\n        var count = 0;\n        for (var _i = 0, legendCollection_1 = legendCollection; _i < legendCollection_1.length; _i++) {\n            var legend = legendCollection_1[_i];\n            if (legend.render && legend.text !== '') {\n                break;\n            }\n            count++;\n        }\n        return count;\n    };\n    /**\n     * To create legend rendering elements for chart and accumulation chart\n     */\n    BaseLegend.prototype.createLegendElements = function (chart, legendBounds, legendGroup, legend, id) {\n        var padding = legend.padding;\n        var options = new RectOption(id + '_element', legend.background, legend.border, legend.opacity, legendBounds);\n        legendGroup.appendChild(chart.renderer.drawRectangle(options));\n        var legendItemsGroup = chart.renderer.createGroup({ id: id + '_collections' });\n        legendGroup.appendChild(legendItemsGroup);\n        this.legendTranslateGroup = chart.renderer.createGroup({ id: id + '_translate_g' });\n        legendItemsGroup.appendChild(this.legendTranslateGroup);\n        var clippath = chart.renderer.createClipPath({ id: id + '_clipPath' });\n        options.y += padding;\n        options.id += '_clipPath_rect';\n        options.width = (!this.isChartControl && this.isVertical) ? this.maxWidth - padding : legendBounds.width;\n        this.clipRect = chart.renderer.drawRectangle(options);\n        clippath.appendChild(this.clipRect);\n        chart.svgObject.appendChild(clippath);\n        legendItemsGroup.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n        return this.legendTranslateGroup;\n    };\n    /**\n     * To render legend symbols for chart and accumulation chart\n     */\n    BaseLegend.prototype.renderSymbol = function (legendOption, group, i) {\n        var symbolColor = legendOption.visible ? legendOption.fill : '#D3D3D3';\n        var shape = (legendOption.shape === 'SeriesType') ? legendOption.type : legendOption.shape;\n        shape = shape === 'Scatter' ? legendOption.markerShape : shape;\n        var symbolOption = new PathOption(this.legendID + this.generateId(legendOption, '_shape_', i), symbolColor, 1, symbolColor, 1, '', '');\n        group.appendChild(drawSymbol(legendOption.location, shape, new Size(this.legend.shapeWidth, this.legend.shapeHeight), '', symbolOption, 'Click to show or hide the ' + legendOption.text + ' series'));\n        if (shape === 'Line' && legendOption.markerVisibility && legendOption.markerShape !== 'Image' ||\n            legendOption.type === 'Doughnut') {\n            symbolOption.id = this.legendID + this.generateId(legendOption, '_shape_marker_', i);\n            shape = legendOption.type === 'Doughnut' ? 'Circle' : legendOption.markerShape;\n            symbolOption.fill = legendOption.type === 'Doughnut' ? '#FFFFFF' : symbolOption.fill;\n            group.appendChild(drawSymbol(legendOption.location, shape, new Size(this.legend.shapeWidth / 2, this.legend.shapeHeight / 2), '', symbolOption, 'Click to show or hide the ' + legendOption.text + ' series'));\n        }\n    };\n    /**\n     * To render legend text for chart and accumulation chart\n     */\n    BaseLegend.prototype.renderText = function (chart, legendOption, group, textOptions, i) {\n        var legend = chart.legendSettings;\n        var hiddenColor = '#D3D3D3';\n        textOptions.id = this.legendID + this.generateId(legendOption, '_text_', i);\n        var fontcolor = legendOption.visible ? legend.textStyle.color : hiddenColor;\n        textOptions.text = legendOption.text;\n        textOptions.x = legendOption.location.x + (legend.shapeWidth / 2) + legend.shapePadding;\n        textOptions.y = legendOption.location.y + this.maxItemHeight / 4;\n        var element = textElement(textOptions, legend.textStyle, fontcolor, group);\n        element.setAttribute('aria-label', legend.description || 'Click to show or hide the ' + legendOption.text + ' series');\n    };\n    /**\n     * To render legend paging elements for chart and accumulation chart\n     */\n    BaseLegend.prototype.renderPagingElements = function (chart, bounds, textOption, legendGroup) {\n        var paginggroup = chart.renderer.createGroup({ id: this.legendID + '_navigation' });\n        legendGroup.appendChild(paginggroup);\n        var grayColor = '#545454';\n        var legend = chart.legendSettings; // to solve parameter lint error, legend declaration is here\n        var padding = 8; // const padding for paging elements\n        if (this.isChartControl || !this.isVertical) {\n            this.totalPages = Math.ceil(this.totalPages / Math.max(1, this.rowCount - 1));\n        }\n        else {\n            this.totalPages = Math.ceil(this.totalPages / this.maxColumns);\n        }\n        var symbolOption = new PathOption(this.legendID + '_pageup', 'transparent', 5, grayColor, 1, '', '');\n        var iconSize = this.pageButtonSize;\n        paginggroup.setAttribute('style', 'cursor: pointer');\n        // Page left arrow drawing calculation started here\n        this.clipPathHeight = (this.rowCount - 1) * (this.maxItemHeight + legend.padding);\n        this.clipRect.setAttribute('height', this.clipPathHeight.toString());\n        var x = bounds.x + iconSize / 2;\n        var y = bounds.y + this.clipPathHeight + ((bounds.height - this.clipPathHeight) / 2);\n        paginggroup.appendChild(drawSymbol({ x: x, y: y }, 'LeftArrow', new Size(iconSize, iconSize), '', symbolOption, 'LeftArrow'));\n        // Page numbering rendering calculation started here\n        textOption.x = x + (iconSize / 2) + padding;\n        var size = measureText(this.totalPages + '/' + this.totalPages, legend.textStyle);\n        textOption.y = y + (size.height / 4);\n        textOption.id = this.legendID + '_pagenumber';\n        textOption.text = '1/' + this.totalPages;\n        var pageTextElement = textElement(textOption, legend.textStyle, legend.textStyle.color, paginggroup);\n        // Page right arrow rendering calculation started here\n        x = (textOption.x + padding + (iconSize / 2) + size.width);\n        symbolOption.id = this.legendID + '_pagedown';\n        paginggroup.appendChild(drawSymbol({ x: x, y: y }, 'RightArrow', new Size(iconSize, iconSize), '', symbolOption, 'RightArrow'));\n        // placing the navigation buttons and page numbering in legend right corner\n        paginggroup.setAttribute('transform', 'translate(' + (bounds.width - (2 * (iconSize + padding) +\n            padding + size.width)) + ', ' + 0 + ')');\n        this.translatePage(pageTextElement, this.currentPage - 1, this.currentPage);\n    };\n    /**\n     * To translate legend pages for chart and accumulation chart\n     */\n    BaseLegend.prototype.translatePage = function (pagingText, page, pageNumber) {\n        var size = (this.clipPathHeight) * page;\n        var translate = 'translate(0,-' + size + ')';\n        if (!this.isChartControl && this.isVertical) {\n            var pageLength = page * this.maxColumns;\n            size = this.pageXCollections[page * this.maxColumns] - this.legendBounds.x;\n            size = size < 0 ? 0 : size; // to avoid small pixel variation\n            translate = 'translate(-' + size + ',0)';\n        }\n        this.legendTranslateGroup.setAttribute('transform', translate);\n        pagingText.textContent = (pageNumber) + '/' + this.totalPages;\n        this.currentPage = pageNumber;\n    };\n    /**\n     * To change legend pages for chart and accumulation chart\n     */\n    BaseLegend.prototype.changePage = function (event, pageUp) {\n        var pageText = document.getElementById(this.legendID + '_pagenumber');\n        var page = parseInt(pageText.textContent.split('/')[0], 10);\n        if (pageUp && page > 1) {\n            this.translatePage(pageText, (page - 2), (page - 1));\n        }\n        else if (!pageUp && page < this.totalPages) {\n            this.translatePage(pageText, page, (page + 1));\n        }\n    };\n    /**\n     * To find legend elements id based on chart or accumulation chart\n     * @private\n     */\n    BaseLegend.prototype.generateId = function (option, prefix, count) {\n        if (this.isChartControl) {\n            return prefix + count;\n        }\n        else {\n            return prefix + option.pointIndex;\n        }\n    };\n    /**\n     * To show or hide trimmed text tooltip for legend.\n     * @return {void}\n     * @private\n     */\n    BaseLegend.prototype.move = function (event) {\n        var _this = this;\n        var x = this.chart.mouseX;\n        var y = this.chart.mouseY;\n        if (event.target.textContent.indexOf('...') > -1) {\n            var targetId = event.target.id.split(this.legendID + '_text_');\n            if (targetId.length === 2) {\n                var index = parseInt(targetId[1], 10);\n                var element = this.chart.element;\n                if (!isNaN(index)) {\n                    if (this.chart.isTouch) {\n                        removeElement(this.chart.element.id + '_EJ2_Legend_Tooltip');\n                    }\n                    if (this.isChartControl) {\n                        showTooltip(this.chart.series[index].name, x, y, element.offsetWidth, element.id + '_EJ2_Legend_Tooltip', getElement(this.chart.element.id + '_Secondary_Element'));\n                    }\n                    else {\n                        var location_1 = this.chart.removeSvgOffset(x, y);\n                        showTooltip(this.chart.visibleSeries[0].points[index].x.toString(), location_1.x + 10, location_1.y + 10, element.offsetWidth, element.id + '_EJ2_Legend_Tooltip', getElement(this.chart.element.id + '_Secondary_Element'));\n                    }\n                }\n            }\n        }\n        else {\n            removeElement(this.chart.element.id + '_EJ2_Legend_Tooltip');\n        }\n        if (this.chart.isTouch) {\n            clearTimeout(this.clearTooltip);\n            this.clearTooltip = setTimeout(function () { removeElement(_this.chart.element.id + '_EJ2_Legend_Tooltip'); }, 1000);\n        }\n    };\n    return BaseLegend;\n}());\nexport { BaseLegend };\n/**\n * Class for legend options\n * @private\n */\nvar LegendOptions = /** @class */ (function () {\n    function LegendOptions(text, fill, shape, visible, type, markerShape, markerVisibility, pointIndex, seriesIndex) {\n        this.location = { x: 0, y: 0 };\n        this.text = text;\n        this.fill = fill;\n        this.shape = shape;\n        this.visible = visible;\n        this.type = type;\n        this.markerVisibility = markerVisibility;\n        this.markerShape = markerShape;\n        this.pointIndex = pointIndex;\n        this.seriesIndex = seriesIndex;\n    }\n    return LegendOptions;\n}());\nexport { LegendOptions };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../series/chart-series-model.d.ts' />\nimport { Property, Complex } from '@syncfusion/ej2-base';\nimport { Connector } from '../../common/model/base';\nimport { SeriesBase } from '../series/chart-series';\nimport { Rect, firstToLowerCase } from '../../common/utils/helper';\n/**\n * Defines how to represent the market trend using technical indicators\n */\nvar TechnicalIndicator = /** @class */ (function (_super) {\n    __extends(TechnicalIndicator, _super);\n    function TechnicalIndicator() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        return _this;\n    }\n    /** @private */\n    TechnicalIndicator.prototype.setDataSource = function (series, chart) {\n        if (series) {\n            this.xData = series.xData;\n            this.yData = series.yData;\n            this.points = series.points;\n        }\n        var type = firstToLowerCase(this.type);\n        chart[type + 'IndicatorModule'].initDataSource(this, chart);\n        chart.visibleSeriesCount += this.targetSeries.length;\n    };\n    __decorate([\n        Property('Sma')\n    ], TechnicalIndicator.prototype, \"type\", void 0);\n    __decorate([\n        Property(14)\n    ], TechnicalIndicator.prototype, \"period\", void 0);\n    __decorate([\n        Property(14)\n    ], TechnicalIndicator.prototype, \"kPeriod\", void 0);\n    __decorate([\n        Property(3)\n    ], TechnicalIndicator.prototype, \"dPeriod\", void 0);\n    __decorate([\n        Property(80)\n    ], TechnicalIndicator.prototype, \"overBought\", void 0);\n    __decorate([\n        Property(20)\n    ], TechnicalIndicator.prototype, \"overSold\", void 0);\n    __decorate([\n        Property(2)\n    ], TechnicalIndicator.prototype, \"standardDeviation\", void 0);\n    __decorate([\n        Property('Close')\n    ], TechnicalIndicator.prototype, \"field\", void 0);\n    __decorate([\n        Property(12)\n    ], TechnicalIndicator.prototype, \"slowPeriod\", void 0);\n    __decorate([\n        Property(26)\n    ], TechnicalIndicator.prototype, \"fastPeriod\", void 0);\n    __decorate([\n        Property(true)\n    ], TechnicalIndicator.prototype, \"showZones\", void 0);\n    __decorate([\n        Complex({ color: '#ff9933', width: 2 }, Connector)\n    ], TechnicalIndicator.prototype, \"macdLine\", void 0);\n    __decorate([\n        Property('Both')\n    ], TechnicalIndicator.prototype, \"macdType\", void 0);\n    __decorate([\n        Property('#2ecd71')\n    ], TechnicalIndicator.prototype, \"macdPositiveColor\", void 0);\n    __decorate([\n        Property('#e74c3d')\n    ], TechnicalIndicator.prototype, \"macdNegativeColor\", void 0);\n    __decorate([\n        Property('rgba(211,211,211,0.25)')\n    ], TechnicalIndicator.prototype, \"bandColor\", void 0);\n    __decorate([\n        Complex({ color: '#ffb735', width: 1 }, Connector)\n    ], TechnicalIndicator.prototype, \"upperLine\", void 0);\n    __decorate([\n        Complex({ color: '#f2ec2f', width: 1 }, Connector)\n    ], TechnicalIndicator.prototype, \"lowerLine\", void 0);\n    __decorate([\n        Complex({ color: '#f2ec2f', width: 1 }, Connector)\n    ], TechnicalIndicator.prototype, \"periodLine\", void 0);\n    __decorate([\n        Property('')\n    ], TechnicalIndicator.prototype, \"seriesName\", void 0);\n    return TechnicalIndicator;\n}(SeriesBase));\nexport { TechnicalIndicator };\n","import { print as printWindow, createElement } from '@syncfusion/ej2-base';\nimport { getElement } from '../utils/helper';\nimport { beforePrint } from '../model/constants';\n/**\n * Annotation Module handles the Annotation for chart and accumulation series.\n */\nvar ExportUtils = /** @class */ (function () {\n    /**\n     * Constructor for chart and accumulation annotation\n     * @param control\n     */\n    function ExportUtils(control) {\n        this.control = control;\n    }\n    /**\n     * To print the accumulation and chart elements\n     * @param elements\n     */\n    ExportUtils.prototype.print = function (elements) {\n        this.printWindow = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWindow.moveTo(0, 0);\n        this.printWindow.resizeTo(screen.availWidth, screen.availHeight);\n        var argsData = {\n            cancel: false, htmlContent: this.getHTMLContent(elements), name: beforePrint\n        };\n        this.control.trigger(beforePrint, argsData);\n        if (!argsData.cancel) {\n            printWindow(argsData.htmlContent, this.printWindow);\n        }\n    };\n    /**\n     * To get the html string of the chart and accumulation\n     * @param elements\n     * @private\n     */\n    ExportUtils.prototype.getHTMLContent = function (elements) {\n        var div = createElement('div');\n        if (elements) {\n            if (elements instanceof Array) {\n                elements.forEach(function (value) {\n                    div.appendChild(getElement(value).cloneNode(true));\n                });\n            }\n            else if (elements instanceof Element) {\n                div.appendChild(elements.cloneNode(true));\n            }\n            else {\n                div.appendChild(getElement(elements).cloneNode(true));\n            }\n        }\n        else {\n            div.appendChild(this.control.element.cloneNode(true));\n        }\n        return div;\n    };\n    /**\n     * To export the chart svgObject\n     * @param type\n     * @param fileName\n     */\n    ExportUtils.prototype.export = function (type, fileName) {\n        var element = createElement('canvas', {\n            id: 'ej2-canvas',\n            attrs: {\n                'width': this.control.availableSize.width.toString(),\n                'height': this.control.availableSize.height.toString()\n            }\n        });\n        var url = window.URL.createObjectURL(new Blob([(new XMLSerializer()).serializeToString(this.control.svgObject)], { type: 'image/svg+xml' }));\n        var image = new Image();\n        var ctx = element.getContext('2d');\n        image.onload = (function () {\n            ctx.drawImage(image, 0, 0);\n            window.URL.revokeObjectURL(url);\n            if (window.navigator.msSaveOrOpenBlob) {\n                window.navigator.msSaveOrOpenBlob(element.msToBlob(), fileName + '.' + type.toLocaleLowerCase());\n            }\n            else {\n                var imgURI = element.toDataURL('image/png').replace('image/png', 'image/octet-stream');\n                createElement('a', {\n                    attrs: {\n                        'download': fileName + '.' + type.toLocaleLowerCase(),\n                        'href': imgURI\n                    }\n                }).dispatchEvent(new MouseEvent('click', {\n                    view: window,\n                    bubbles: false,\n                    cancelable: true\n                }));\n            }\n        });\n        image.src = url;\n    };\n    return ExportUtils;\n}());\nexport { ExportUtils };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, NotifyPropertyChanges, Internationalization, L10n } from '@syncfusion/ej2-base';\nimport { ChildProperty } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { extend } from '@syncfusion/ej2-base';\nimport { Browser, Touch } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, Complex, Collection } from '@syncfusion/ej2-base';\nimport { findClipRect, measureText, TextOption, textTrim, showTooltip, removeElement } from '../common/utils/helper';\nimport { textElement, RectOption, createSvg, firstToLowerCase, titlePositionX } from '../common/utils/helper';\nimport { getSeriesColor, Theme } from '../common/model/theme';\nimport { Margin, Border, ChartArea, Font, Indexes } from '../common/model/base';\nimport { Row, Column, Axis } from './axis/axis';\nimport { CartesianAxisLayoutPanel } from './axis/cartesian-panel';\nimport { Rect } from '../common/utils/helper';\nimport { Series } from './series/chart-series';\nimport { Data } from '../common/model/data';\nimport { Marker } from './series/marker';\nimport { LegendSettings } from '../common/legend/legend';\nimport { TechnicalIndicator } from './technical-indicators/technical-indicator';\nimport { chartMouseClick, chartMouseLeave, chartMouseDown, chartMouseMove, chartMouseUp, load } from '../common/model/constants';\nimport { ExportUtils } from '../common/utils/export';\nimport { ChartAnnotationSettings } from './model/chart-base';\nimport { getElement } from '../common/utils/helper';\n/**\n * Configures the ToolTips in the chart.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], TooltipSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(false)\n    ], TooltipSettings.prototype, \"shared\", void 0);\n    __decorate([\n        Property('#000816')\n    ], TooltipSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"header\", void 0);\n    __decorate([\n        Property(0.75)\n    ], TooltipSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Complex(Theme.tooltipLabelFont, Font)\n    ], TooltipSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Complex({ color: '#cccccc', width: 0.5 }, Border)\n    ], TooltipSettings.prototype, \"border\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n/**\n * Configures the crosshair in the chart.\n */\nvar CrosshairSettings = /** @class */ (function (_super) {\n    __extends(CrosshairSettings, _super);\n    function CrosshairSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], CrosshairSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Complex({ color: '#4f4f4f', width: 1 }, Border)\n    ], CrosshairSettings.prototype, \"line\", void 0);\n    __decorate([\n        Property('Both')\n    ], CrosshairSettings.prototype, \"lineType\", void 0);\n    return CrosshairSettings;\n}(ChildProperty));\nexport { CrosshairSettings };\n/**\n * Configures the zooming behavior for the chart.\n */\nvar ZoomSettings = /** @class */ (function (_super) {\n    __extends(ZoomSettings, _super);\n    function ZoomSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enableSelectionZooming\", void 0);\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enablePinchZooming\", void 0);\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enableMouseWheelZooming\", void 0);\n    __decorate([\n        Property(true)\n    ], ZoomSettings.prototype, \"enableDeferredZooming\", void 0);\n    __decorate([\n        Property('XY')\n    ], ZoomSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(['Zoom', 'ZoomIn', 'ZoomOut', 'Pan', 'Reset'])\n    ], ZoomSettings.prototype, \"toolbarItems\", void 0);\n    return ZoomSettings;\n}(ChildProperty));\nexport { ZoomSettings };\n/**\n * Represents the Chart control.\n * ```html\n * <div id=\"chart\"/>\n * <script>\n *   var chartObj = new Chart({ isResponsive : true });\n *   chartObj.appendTo(\"#chart\");\n * </script>\n * ```\n */\nvar Chart = /** @class */ (function (_super) {\n    __extends(Chart, _super);\n    /**\n     * Constructor for creating the widget\n     * @hidden\n     */\n    function Chart(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @private */\n        _this.chartAreaType = 'Cartesian';\n        return _this;\n    }\n    /**\n     * Initialize the event handler.\n     */\n    Chart.prototype.preRender = function () {\n        this.unWireEvents();\n        this.initPrivateVariable();\n        this.setCulture();\n        this.setTheme();\n        this.createChartSvg();\n        this.wireEvents();\n    };\n    Chart.prototype.initPrivateVariable = function () {\n        this.animateSeries = true;\n        this.horizontalAxes = [];\n        this.verticalAxes = [];\n        this.refreshAxis();\n        this.refreshDefinition(this.rows);\n        this.refreshDefinition(this.columns);\n        if (this.tooltipModule) {\n            this.tooltipModule.previousPoints = [];\n        }\n    };\n    /**\n     * To Initialize the control rendering.\n     */\n    Chart.prototype.render = function () {\n        this.trigger(load, { chart: this });\n        this.markerRender = new Marker(this);\n        this.calculateAreaType();\n        this.calculateVisibleSeries();\n        this.initTechnicalIndicators();\n        this.initTrendLines();\n        this.calculateVisibleAxis();\n        this.processData();\n    };\n    /**\n     * Gets the localized label by locale keyword.\n     * @param  {string} key\n     * @return {string}\n     */\n    Chart.prototype.getLocalizedLabel = function (key) {\n        return this.localeObject.getConstant(key);\n    };\n    /**\n     * Refresh the chart bounds.\n     * @private\n     */\n    Chart.prototype.refreshBound = function () {\n        if (this.legendModule && this.legendSettings.visible) {\n            this.legendModule.getLegendOptions(this.visibleSeries);\n        }\n        var isCalculateStacking = false;\n        var series;\n        for (var i = 0, len = this.visibleSeries.length; i < len; i++) {\n            series = this.visibleSeries[i];\n            series.position = series.rectCount = undefined;\n            if (((series.type.indexOf('Stacking') !== -1) || (series.drawType.indexOf('Stacking') !== -1\n                && this.chartAreaType === 'PolarRadar')) && !isCalculateStacking) {\n                series.calculateStackedValue(series.type.indexOf('100') > -1);\n                isCalculateStacking = true;\n            }\n        }\n        this.calculateBounds();\n        this.renderElements();\n    };\n    Chart.prototype.renderElements = function () {\n        this.renderBorder();\n        this.renderTitle();\n        this.renderAreaBorder();\n        this.renderSeriesElements();\n        this.applyZoomkit();\n        this.performSelection();\n        this.setSecondaryElementPosition();\n        this.renderAnnotation();\n    };\n    /**\n     * To set the left and top position for data label template for center aligned chart\n     */\n    Chart.prototype.setSecondaryElementPosition = function () {\n        var element = getElement(this.element.id + '_Secondary_Element');\n        if (!element) {\n            return;\n        }\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        element.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\n        element.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\n    };\n    Chart.prototype.initializeModuleElements = function () {\n        this.dataLabelCollections = [];\n        this.seriesElements = this.renderer.createGroup({ id: this.element.id + 'SeriesCollection' });\n        this.yAxisElements = this.renderer.createGroup({ id: this.element.id + 'yAxisCollection' });\n        if (this.indicators.length) {\n            this.indicatorElements = this.renderer.createGroup({ id: this.element.id + 'IndicatorCollection' });\n        }\n        if (this.hasTrendlines()) {\n            this.trendLineElements = this.renderer.createGroup({ id: this.element.id + 'TrendLineCollection' });\n        }\n        this.dataLabelElements = this.renderer.createGroup({ id: this.element.id + 'DataLabelCollection' });\n    };\n    Chart.prototype.hasTrendlines = function () {\n        var isTrendline;\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n            var series = _a[_i];\n            isTrendline = series.trendlines.length ? true : false;\n            if (isTrendline) {\n                break;\n            }\n        }\n        return isTrendline;\n    };\n    Chart.prototype.renderSeriesElements = function () {\n        // Initialize the series elements values\n        this.initializeModuleElements();\n        if (this.rows.length > 0 && this.columns.length > 0) {\n            this.chartAxisLayoutPanel.renderAxes();\n            var tooltipDiv = document.createElement('div');\n            tooltipDiv.id = this.element.id + '_Secondary_Element';\n            tooltipDiv.setAttribute('style', 'position: relative');\n            this.element.appendChild(tooltipDiv);\n            // For userInteraction\n            if (this.tooltip.enable) {\n                this.svgObject.appendChild(this.renderer.createGroup({ id: this.element.id + '_UserInteraction', style: 'pointer-events:none;' }));\n            }\n            for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n                var indicator = _a[_i];\n                if (this[firstToLowerCase(indicator.type) + 'IndicatorModule']) {\n                    this[firstToLowerCase(indicator.type) + 'IndicatorModule'].createIndicatorElements(this, indicator, indicator.index);\n                }\n            }\n            for (var _b = 0, _c = this.visibleSeries; _b < _c.length; _b++) {\n                var series = _c[_b];\n                if (series.trendlines.length) {\n                    this.trendLineModule.getTrendLineElements(series, this);\n                }\n            }\n            for (var _d = 0, _e = this.visibleSeries; _d < _e.length; _d++) {\n                var item = _e[_d];\n                if (item.visible) {\n                    findClipRect(item);\n                    item.renderSeries(this, item.index);\n                }\n            }\n        }\n        //Append the series elements method calling here\n        this.appendSeriesElements();\n    };\n    Chart.prototype.appendSeriesElements = function () {\n        var clipRect = this.renderer.drawClipPath({\n            'id': this.element.id + '_ChartAreaClipRect_',\n            'x': this.chartAxisLayoutPanel.seriesClipRect.x,\n            'y': this.chartAxisLayoutPanel.seriesClipRect.y,\n            'width': this.chartAxisLayoutPanel.seriesClipRect.width,\n            'height': this.chartAxisLayoutPanel.seriesClipRect.height,\n            'fill': 'transparent',\n            'stroke-width': 1,\n            'stroke': 'Gray'\n        });\n        this.seriesElements.appendChild(clipRect);\n        if (this.dataLabelElements.hasChildNodes()) {\n            this.seriesElements.appendChild(this.dataLabelElements);\n        }\n        if (this.stripLineModule) {\n            this.stripLineModule.renderStripLine(this, 'Behind', this.axisCollections);\n        }\n        this.svgObject.appendChild(this.seriesElements);\n        if (this.chartAreaType === 'PolarRadar') {\n            this.svgObject.appendChild(this.yAxisElements);\n        }\n        if (this.indicatorElements) {\n            this.svgObject.appendChild(this.indicatorElements);\n        }\n        if (this.trendLineElements) {\n            this.svgObject.appendChild(this.trendLineElements);\n        }\n        if (this.stripLineModule) {\n            this.stripLineModule.renderStripLine(this, 'Over', this.axisCollections);\n        }\n        if (this.legendModule) {\n            this.legendModule.renderLegend(this, this.legendSettings, this.legendModule.legendBounds);\n        }\n        if (!this.tooltip.enable) {\n            this.svgObject.appendChild(this.renderer.createGroup({ id: this.element.id + '_UserInteraction', style: 'pointer-events:none;' }));\n        }\n        this.element.appendChild(this.svgObject);\n    };\n    Chart.prototype.applyZoomkit = function () {\n        if (this.zoomModule && this.zoomModule.isZoomed) {\n            this.zoomModule.applyZoomToolkit(this, this.axisCollections);\n        }\n    };\n    Chart.prototype.renderAnnotation = function () {\n        if (this.annotationModule) {\n            this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n        }\n    };\n    Chart.prototype.performSelection = function () {\n        var selectedDataIndexes = [];\n        if (this.selectionModule) {\n            selectedDataIndexes = extend([], this.selectionModule.selectedDataIndexes, null, true);\n            this.selectionModule.invokeSelection(this);\n        }\n        if (selectedDataIndexes.length > 0) {\n            this.selectionModule.selectedDataIndexes = selectedDataIndexes;\n            this.selectionModule.redrawSelection(this, this.selectionMode);\n        }\n    };\n    Chart.prototype.processData = function () {\n        var series;\n        this.visibleSeriesCount = 0;\n        var check = true;\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series_1 = _a[_i];\n            if (!series_1.visible) {\n                this.visibleSeriesCount++;\n                continue;\n            }\n            if (series_1.category !== 'Indicator' && series_1.category !== 'TrendLine') {\n                this.initializeDataModule(series_1);\n            }\n        }\n        for (var _b = 0, _c = this.indicators; _b < _c.length; _b++) {\n            var indicator = _c[_b];\n            if (!indicator.seriesName && indicator.dataSource) {\n                var techIndicator = indicator;\n                this.initializeDataModule(techIndicator);\n                check = false;\n            }\n        }\n        if (!this.visibleSeries.length || this.visibleSeriesCount === this.visibleSeries.length && check) {\n            this.refreshBound();\n            this.trigger('loaded', { chart: this });\n        }\n    };\n    Chart.prototype.initializeDataModule = function (series) {\n        series.xData = [];\n        series.yData = [];\n        series.dataModule = new Data(series.dataSource, series.query);\n        series.points = [];\n        series.refreshDataManager(this);\n    };\n    Chart.prototype.calculateBounds = function () {\n        var padding = 15;\n        var margin = this.margin;\n        // Title Height;\n        var titleHeight = 0;\n        if (this.title) {\n            titleHeight = measureText(this.title, this.titleStyle).height + padding;\n        }\n        var top = margin.top + titleHeight + this.chartArea.border.width / 2;\n        var left = margin.left;\n        var width = this.availableSize.width - left - margin.right - this.border.width;\n        var height = this.availableSize.height - top - this.border.width - margin.bottom;\n        this.initialClipRect = new Rect(left, top, width, height);\n        if (this.legendModule) {\n            this.legendModule.calculateLegendBounds(this.initialClipRect, this.availableSize);\n        }\n        this.chartAxisLayoutPanel.measureAxis(this.initialClipRect);\n    };\n    /**\n     * Handles the print method for chart control.\n     */\n    Chart.prototype.print = function (id) {\n        var exportChart = new ExportUtils(this);\n        exportChart.print(id);\n    };\n    /**\n     * Handles the export method for chart control.\n     * @param type\n     * @param fileName\n     */\n    Chart.prototype.export = function (type, fileName) {\n        var exportChart = new ExportUtils(this);\n        exportChart.export(type, fileName);\n    };\n    /**\n     * Defines the trendline initialization\n     */\n    Chart.prototype.initTrendLines = function () {\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            var trendIndex = 0;\n            for (var _b = 0, _c = series.trendlines; _b < _c.length; _b++) {\n                var trendline = _c[_b];\n                var trendLine = trendline;\n                var type = firstToLowerCase(trendLine.type);\n                if (this.trendLineModule) {\n                    trendLine.index = trendIndex;\n                    trendLine.sourceIndex = series.index;\n                    this.trendLineModule.initSeriesCollection(trendLine, this);\n                    if (trendLine.targetSeries) {\n                        this.visibleSeries.push(trendLine.targetSeries);\n                    }\n                }\n                trendIndex++;\n            }\n        }\n    };\n    Chart.prototype.calculateAreaType = function () {\n        var series = this.series[0];\n        if (series) {\n            this.requireInvertedAxis = ((series.type.indexOf('Bar') !== -1) && !this.isTransposed) ||\n                ((series.type.indexOf('Bar') === -1) && this.isTransposed && this.chartAreaType !== 'PolarRadar');\n        }\n        this.chartAxisLayoutPanel = this.chartAreaType === 'PolarRadar' ? (this.polarSeriesModule || this.radarSeriesModule)\n            : new CartesianAxisLayoutPanel(this);\n    };\n    Chart.prototype.calculateVisibleAxis = function () {\n        var axis;\n        var series;\n        var axes = [this.primaryXAxis, this.primaryYAxis];\n        axes = this.chartAreaType === 'Cartesian' ? axes.concat(this.axes) : axes;\n        this.axisCollections = [];\n        for (var i = 0, len = axes.length; i < len; i++) {\n            axis = axes[i];\n            axis.series = [];\n            axis.labels = [];\n            for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n                var series_2 = _a[_i];\n                this.initAxis(series_2, axis, true);\n            }\n            for (var _b = 0, _c = this.indicators; _b < _c.length; _b++) {\n                var indicator = _c[_b];\n                this.initAxis(indicator, axis, false);\n            }\n            if (axis.orientation != null) {\n                this.axisCollections.push(axis);\n            }\n        }\n        if (this.rows.length > 0 && this.columns.length > 0) {\n            this.chartAxisLayoutPanel.measure();\n        }\n    };\n    Chart.prototype.initAxis = function (series, axis, isSeries) {\n        if (series.xAxisName === axis.name || (series.xAxisName == null && axis.name === 'primaryXAxis')) {\n            axis.orientation = this.requireInvertedAxis ? 'Vertical' : 'Horizontal';\n            series.xAxis = axis;\n            if (isSeries) {\n                axis.series.push(series);\n            }\n        }\n        else if (series.yAxisName === axis.name || (series.yAxisName == null && axis.name === 'primaryYAxis')) {\n            axis.orientation = this.requireInvertedAxis ? 'Horizontal' : 'Vertical';\n            series.yAxis = axis;\n            if (isSeries) {\n                axis.series.push(series);\n            }\n        }\n    };\n    Chart.prototype.initTechnicalIndicators = function () {\n        var i = 0;\n        for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n            var indicator = _a[_i];\n            var techIndicator = indicator;\n            var type = firstToLowerCase(techIndicator.type);\n            if (this[type + 'IndicatorModule']) {\n                techIndicator.index = i;\n                this[type + 'IndicatorModule'].initSeriesCollection(techIndicator, this);\n                for (var _b = 0, _c = techIndicator.targetSeries; _b < _c.length; _b++) {\n                    var targetSeries = _c[_b];\n                    if (indicator.seriesName || indicator.dataSource) {\n                        this.visibleSeries.push(targetSeries);\n                    }\n                }\n            }\n            i++;\n        }\n    };\n    /** @private */\n    Chart.prototype.refreshTechnicalIndicator = function (series) {\n        if (this.indicators.length) {\n            var targetIndicator = null;\n            if (series instanceof Series && series.category !== 'Indicator') {\n                for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n                    var indicator = _a[_i];\n                    if (indicator.seriesName === series.name && !indicator.dataSource) {\n                        targetIndicator = indicator;\n                        targetIndicator.setDataSource(series, this);\n                    }\n                }\n            }\n            else if (series instanceof TechnicalIndicator) {\n                targetIndicator = series;\n                targetIndicator.setDataSource(series instanceof Series ? series : null, this);\n            }\n        }\n    };\n    Chart.prototype.calculateVisibleSeries = function () {\n        var series;\n        this.visibleSeries = [];\n        var colors = this.palettes.length ? this.palettes : getSeriesColor(this.theme);\n        var count = colors.length;\n        for (var i = 0, len = this.series.length; i < len; i++) {\n            series = this.series[i];\n            series.index = i;\n            series.interior = series.fill || colors[i % count];\n            switch (series.type) {\n                case 'Bar':\n                case 'StackingBar':\n                case 'StackingBar100':\n                    if (this.series[0].type.indexOf('Bar') === -1) {\n                        continue;\n                    }\n                    break;\n                case 'Polar':\n                case 'Radar':\n                    if (this.chartAreaType !== 'PolarRadar') {\n                        continue;\n                    }\n                    if (this.chartAreaType === 'PolarRadar' && ((series.xAxisName === null && series.yAxisName !== null) ||\n                        (series.xAxisName !== null && series.yAxisName === null) ||\n                        (series.xAxisName !== null && series.yAxisName !== null))) {\n                        continue;\n                    }\n                    break;\n                default:\n                    if (this.chartAreaType === 'PolarRadar' || this.series[0].type.indexOf('Bar') > -1) {\n                        continue;\n                    }\n                    break;\n            }\n            this.visibleSeries.push(series);\n            this.series[i] = series;\n        }\n    };\n    Chart.prototype.renderTitle = function () {\n        if (this.title) {\n            var maxTitleSize = this.availableSize.width - this.margin.left - this.margin.right;\n            var trimmedTitle = textTrim(maxTitleSize, this.title, this.titleStyle);\n            this.elementSize = measureText(trimmedTitle, this.titleStyle);\n            var options = new TextOption(this.element.id + '_ChartTitle', titlePositionX(this.availableSize, this.margin.left, this.margin.right, this.titleStyle, this.elementSize), this.margin.top + 3 * (this.elementSize.height / 4), 'start', trimmedTitle);\n            var element = textElement(options, this.titleStyle, this.titleStyle.color, this.svgObject);\n            element.setAttribute('aria-label', this.description || this.title);\n            element.setAttribute('tabindex', this.tabIndex.toString());\n        }\n    };\n    Chart.prototype.renderBorder = function () {\n        var width = this.border.width;\n        var rect = new RectOption(this.element.id + '_ChartBorder', this.background, this.border, 1, new Rect(width / 2, width / 2, this.availableSize.width - width, this.availableSize.height - width));\n        this.htmlObject = this.renderer.drawRectangle(rect);\n        this.svgObject.appendChild(this.htmlObject);\n    };\n    Chart.prototype.renderAreaBorder = function () {\n        if (this.chartAreaType === 'PolarRadar') {\n            return null;\n        }\n        else {\n            var rect = new RectOption(this.element.id + '_ChartAreaBorder', this.chartArea.background, this.chartArea.border, this.chartArea.opacity, this.chartAxisLayoutPanel.seriesClipRect);\n            this.htmlObject = this.renderer.drawRectangle(rect);\n            this.svgObject.appendChild(this.htmlObject);\n        }\n    };\n    /**\n     * To add series for the chart\n     * @param {SeriesModel[]} seriesCollection - Defines the series collection to be added in chart.\n     * @return {void}.\n     */\n    Chart.prototype.addSeries = function (seriesCollection) {\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            series = new Series(this, 'series', series);\n            this.series.push(series);\n        }\n        this.refresh();\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}.\n     * @member of Chart\n     */\n    Chart.prototype.destroy = function () {\n        this.unWireEvents();\n        _super.prototype.destroy.call(this);\n        this.element.classList.remove('e-chart');\n    };\n    /**\n     * Get component name\n     */\n    Chart.prototype.getModuleName = function () {\n        return 'chart';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Chart.prototype.getPersistData = function () {\n        var keyEntity = ['loaded', 'animationComplete'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Method to create SVG element.\n     */\n    Chart.prototype.createChartSvg = function () {\n        this.removeSvg();\n        createSvg(this);\n    };\n    /**\n     * Method to bind events for chart\n     */\n    Chart.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        var startEvent = Browser.touchStartEvent;\n        var moveEvent = Browser.touchMoveEvent;\n        var stopEvent = Browser.touchEndEvent;\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        /*! UnBind the Event handler */\n        EventHandler.remove(this.element, startEvent, this.chartOnMouseDown);\n        EventHandler.remove(this.element, moveEvent, this.mouseMove);\n        EventHandler.remove(this.element, stopEvent, this.mouseEnd);\n        EventHandler.remove(this.element, 'click', this.chartOnMouseClick);\n        EventHandler.remove(this.element, 'contextmenu', this.chartRightClick);\n        EventHandler.remove(this.element, cancelEvent, this.mouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.chartResize);\n    };\n    Chart.prototype.wireEvents = function () {\n        /*! Find the Events type */\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        /*! Bind the Event handler */\n        EventHandler.add(this.element, Browser.touchStartEvent, this.chartOnMouseDown, this);\n        EventHandler.add(this.element, Browser.touchMoveEvent, this.mouseMove, this);\n        EventHandler.add(this.element, Browser.touchEndEvent, this.mouseEnd, this);\n        EventHandler.add(this.element, 'click', this.chartOnMouseClick, this);\n        EventHandler.add(this.element, 'contextmenu', this.chartRightClick, this);\n        EventHandler.add(this.element, cancelEvent, this.mouseLeave, this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.chartResize.bind(this));\n        this.longPress = this.longPress.bind(this);\n        new Touch(this.element, { tapHold: this.longPress, tapHoldThreshold: 500 });\n        /*! Apply the style for chart */\n        this.setStyle(this.element);\n    };\n    Chart.prototype.chartRightClick = function (event) {\n        if (this.crosshair.enable && this.crosshairModule &&\n            (event.buttons === 2 || event.which === 0 || event.pointerType === 'touch')) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        return true;\n    };\n    Chart.prototype.setStyle = function (element) {\n        var zooming = this.zoomSettings;\n        var disableScroll = zooming.enableSelectionZooming || zooming.enableMouseWheelZooming || zooming.enablePinchZooming ||\n            this.selectionMode !== 'None' || this.crosshair.enable;\n        element.style.touchAction = disableScroll ? 'none' : 'element';\n        element.style.msTouchAction = disableScroll ? 'none' : 'element';\n        element.style.msContentZooming = 'none';\n        element.style.msUserSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n        element.style.display = 'block';\n    };\n    /**\n     * Finds the orientation.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.isOrientation = function () {\n        return ('orientation' in window && 'onorientationchange' in window);\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.longPress = function (e) {\n        this.mouseX = (e && e.originalEvent.changedTouches) ? (e.originalEvent.changedTouches[0].clientX) : 0;\n        this.mouseY = (e && e.originalEvent.changedTouches) ? (e.originalEvent.changedTouches[0].clientY) : 0;\n        this.startMove = true;\n        this.setMouseXY(this.mouseX, this.mouseY);\n        this.notify('tapHold', e);\n        return false;\n    };\n    /**\n     * To find mouse x, y for aligned chart element svg position\n     */\n    Chart.prototype.setMouseXY = function (pageX, pageY) {\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        this.mouseX = (pageX - rect.left) - Math.max(svgRect.left - rect.left, 0);\n        this.mouseY = (pageY - rect.top) - Math.max(svgRect.top - rect.top, 0);\n    };\n    /**\n     * Handles the chart resize.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartResize = function (e) {\n        var _this = this;\n        this.animateSeries = false;\n        if (this.resizeTo) {\n            clearTimeout(this.resizeTo);\n        }\n        this.resizeTo = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTo);\n                return;\n            }\n            _this.createChartSvg();\n            _this.refreshAxis();\n            _this.refreshBound();\n            _this.trigger('loaded', { chart: _this });\n        }, 500);\n        return false;\n    };\n    /**\n     * Handles the mouse move.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.mouseMove = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        if (e.type === 'touchmove') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2' || this.isTouch;\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        this.setMouseXY(pageX, pageY);\n        this.chartOnMouseMove(e);\n        return false;\n    };\n    /**\n     * Handles the mouse leave.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.mouseLeave = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        if (e.type === 'touchleave') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        this.setMouseXY(pageX, pageY);\n        this.chartOnMouseLeave(e);\n        return false;\n    };\n    /**\n     * Handles the mouse leave on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseLeave = function (e) {\n        var element = e.target;\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.trigger(chartMouseLeave, { target: element.id, x: this.mouseX, y: this.mouseY });\n        this.isChartDrag = false;\n        this.notify(cancelEvent, e);\n        return false;\n    };\n    /**\n     * Handles the mouse click on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseClick = function (e) {\n        var element = e.target;\n        this.trigger(chartMouseClick, { target: element.id, x: this.mouseX, y: this.mouseY });\n        this.notify('click', e);\n        return false;\n    };\n    /**\n     * Handles the mouse move on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseMove = function (e) {\n        var element = e.target;\n        this.trigger(chartMouseMove, { target: element.id, x: this.mouseX, y: this.mouseY });\n        // Tooltip for chart series.\n        if (!this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY);\n            this.axisTooltip(e, this.mouseX, this.mouseY);\n        }\n        this.notify(Browser.touchMoveEvent, e);\n        this.isTouch = false;\n        return false;\n    };\n    Chart.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId === (this.element.id + '_ChartTitle')) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.title, x, y, this.element.offsetWidth, this.element.id + '_EJ2_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_Title_Tooltip');\n        }\n    };\n    Chart.prototype.axisTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId.indexOf('AxisLabel') > -1) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.findAxisLabel(targetId), x, y, this.element.offsetWidth, this.element.id + '_EJ2_AxisLabel_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_AxisLabel_Tooltip');\n        }\n    };\n    Chart.prototype.findAxisLabel = function (text) {\n        var texts = ((text.replace(this.element.id, '')).replace('AxisLabel_', '')).split('_');\n        return this.axisCollections[parseInt(texts[0], 10)].visibleLabels[parseInt(texts[1], 10)].originalText;\n    };\n    /**\n     * Handles the mouse down on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseDown = function (e) {\n        var pageX;\n        var pageY;\n        var target;\n        var touchArg;\n        var offset = Browser.isDevice ? 20 : 30;\n        var rect = this.element.getBoundingClientRect();\n        var element = e.target;\n        this.trigger(chartMouseDown, { target: element.id, x: this.mouseX, y: this.mouseY });\n        if (e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n            target = touchArg.target;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch';\n            pageX = e.clientX;\n            pageY = e.clientY;\n            target = e.target;\n        }\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        this.mouseDownX = this.previousMouseMoveX = (pageX - rect.left) - Math.max(svgRect.left - rect.left, 0);\n        this.mouseDownY = this.previousMouseMoveY = (pageY - rect.top) - Math.max(svgRect.top - rect.top, 0);\n        if (this.isTouch) {\n            this.isDoubleTap = (new Date().getTime() < this.threshold && target.id.indexOf(this.element.id + '_Zooming_') === -1 &&\n                (this.mouseDownX - offset >= this.mouseX || this.mouseDownX + offset >= this.mouseX) &&\n                (this.mouseDownY - offset >= this.mouseY || this.mouseDownY + offset >= this.mouseY) &&\n                (this.mouseX - offset >= this.mouseDownX || this.mouseX + offset >= this.mouseDownX) &&\n                (this.mouseY - offset >= this.mouseDownY || this.mouseY + offset >= this.mouseDownY));\n        }\n        this.notify(Browser.touchStartEvent, e);\n        return false;\n    };\n    /**\n     * Handles the mouse up.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.mouseEnd = function (e) {\n        var pageY;\n        var pageX;\n        var touchArg;\n        if (e.type === 'touchend') {\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            this.isTouch = true;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            pageY = e.clientY;\n            pageX = e.clientX;\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n        }\n        this.setMouseXY(pageX, pageY);\n        this.chartOnMouseUp(e);\n        return false;\n    };\n    /**\n     * Handles the mouse up.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseUp = function (e) {\n        var element = e.target;\n        this.trigger(chartMouseUp, { target: element.id, x: this.mouseX, y: this.mouseY });\n        this.isChartDrag = false;\n        if (this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n            this.axisTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n            this.threshold = new Date().getTime() + 300;\n        }\n        this.seriesElements.removeAttribute('clip-path');\n        this.notify(Browser.touchEndEvent, e);\n        return false;\n    };\n    /**\n     * Method to set culture for chart\n     */\n    Chart.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n        this.setLocaleConstants();\n        this.localeObject = new L10n(this.getModuleName(), this.defaultLocalConstants, this.locale);\n    };\n    /**\n     * Method to set locale constants\n     */\n    Chart.prototype.setLocaleConstants = function () {\n        this.defaultLocalConstants = {\n            ZoomIn: 'ZoomIn',\n            Zoom: 'Zoom',\n            ZoomOut: 'ZoomOut',\n            Pan: 'Pan',\n            Reset: 'Reset',\n            ResetZoom: 'Reset Zoom'\n        };\n    };\n    /**\n     * Themeing for chart goes here\n     */\n    Chart.prototype.setTheme = function () {\n        /*! Set theme */\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return {ModuleDeclaration[]}\n     * @private\n     */\n    Chart.prototype.requiredModules = function () {\n        var _this = this;\n        var modules = [];\n        var series = this.series;\n        var enableAnnotation = false;\n        var moduleName;\n        var errorBarVisible = false;\n        var dataLabelEnable = false;\n        var zooming = this.zoomSettings;\n        this.chartAreaType = (series.length > 0 && (series[0].type === 'Polar' || series[0].type === 'Radar')) ? 'PolarRadar' : 'Cartesian';\n        if (this.tooltip.enable) {\n            modules.push({\n                member: 'Tooltip',\n                args: [this]\n            });\n        }\n        series.map(function (value) {\n            _this.isLegend = (_this.legendSettings.visible && ((value.name !== '') || !!_this.isLegend));\n            moduleName = value.type.indexOf('100') !== -1 ? value.type.replace('100', '') + 'Series' : value.type + 'Series';\n            errorBarVisible = value.errorBar.visible || errorBarVisible;\n            dataLabelEnable = value.marker.dataLabel.visible || dataLabelEnable;\n            modules.push({\n                member: moduleName,\n                args: [_this, series]\n            });\n            if (_this.chartAreaType === 'PolarRadar') {\n                modules.push({\n                    member: value.drawType + 'Series',\n                    args: [_this, series]\n                });\n            }\n        });\n        this.findIndicatorModules(modules);\n        this.findTrendLineModules(modules);\n        modules = this.findAxisModule(modules);\n        enableAnnotation = this.annotations.some(function (value) {\n            return (value.content !== null);\n        });\n        if (errorBarVisible) {\n            modules.push({\n                member: 'ErrorBar',\n                args: [this, series]\n            });\n        }\n        if (this.isLegend) {\n            modules.push({\n                member: 'Legend',\n                args: [this]\n            });\n        }\n        if (this.chartAreaType !== 'PolarRadar' && (zooming.enableSelectionZooming\n            || zooming.enableMouseWheelZooming || zooming.enablePinchZooming)) {\n            modules.push({\n                member: 'Zoom',\n                args: [this, this.zoomSettings]\n            });\n        }\n        if (this.chartAreaType !== 'PolarRadar' || (this.chartAreaType === 'PolarRadar' &&\n            (!(this.selectionMode.indexOf('DragX') > -1 || this.selectionMode.indexOf('DragXY') > -1 ||\n                this.selectionMode.indexOf('DragY') > -1)))) {\n            modules.push({\n                member: 'Selection',\n                args: [this]\n            });\n        }\n        if (dataLabelEnable) {\n            modules.push({\n                member: 'DataLabel',\n                args: [this, series]\n            });\n        }\n        if (enableAnnotation) {\n            modules.push({\n                member: 'Annotation',\n                args: [this, this.annotations]\n            });\n        }\n        if (this.chartAreaType !== 'PolarRadar' && this.crosshair.enable) {\n            modules.push({\n                member: 'Crosshair',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    Chart.prototype.findAxisModule = function (modules) {\n        var axisCollections = [];\n        axisCollections.push(this.primaryXAxis);\n        axisCollections.push(this.primaryYAxis);\n        axisCollections = axisCollections.concat(this.axes);\n        var datetimeEnabled = false;\n        var categoryEnabled = false;\n        var logarithmicEnabled = false;\n        var striplineEnabled = false;\n        for (var _i = 0, axisCollections_1 = axisCollections; _i < axisCollections_1.length; _i++) {\n            var axis = axisCollections_1[_i];\n            datetimeEnabled = axis.valueType === 'DateTime' || datetimeEnabled;\n            categoryEnabled = axis.valueType === 'Category' || categoryEnabled;\n            logarithmicEnabled = axis.valueType === 'Logarithmic' || logarithmicEnabled;\n            striplineEnabled = this.findStriplineVisibility(axis.stripLines) || striplineEnabled;\n        }\n        if (datetimeEnabled) {\n            modules.push({\n                member: 'DateTime',\n                args: [this]\n            });\n        }\n        if (categoryEnabled) {\n            modules.push({\n                member: 'Category',\n                args: [this]\n            });\n        }\n        if (logarithmicEnabled) {\n            modules.push({\n                member: 'Logarithmic',\n                args: [this]\n            });\n        }\n        if (striplineEnabled) {\n            modules.push({\n                member: 'StripLine',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    Chart.prototype.findIndicatorModules = function (modules) {\n        var macdEnable;\n        var bandEnable;\n        var indicators = this.indicators;\n        if (this.indicators.length) {\n            modules.push({\n                member: 'LineSeries',\n                args: [this]\n            });\n            indicators.map(function (indicator) {\n                macdEnable = macdEnable || indicator.type === 'Macd';\n                bandEnable = bandEnable || indicator.type === 'BollingerBands';\n            });\n            if (macdEnable) {\n                modules.push({\n                    member: 'ColumnSeries',\n                    args: [this]\n                });\n            }\n            if (bandEnable) {\n                modules.push({\n                    member: 'RangeAreaSeries',\n                    args: [this]\n                });\n            }\n            for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n                var indicator = _a[_i];\n                modules.push({\n                    member: indicator.type + 'Indicator',\n                    args: [this]\n                });\n            }\n        }\n    };\n    Chart.prototype.findTrendLineModules = function (modules) {\n        var isLine;\n        var isSpline;\n        var _loop_1 = function (series) {\n            var markerEnable;\n            series.trendlines.map(function (trendline) {\n                markerEnable = markerEnable || trendline.marker.visible;\n                isLine = isLine || (trendline.type === 'Linear' || trendline.type === 'MovingAverage') ? true : false;\n                isSpline = isSpline || !isLine ? true : false;\n            });\n            if (markerEnable) {\n                modules.push({\n                    member: 'Marker',\n                    args: [this_1, series]\n                });\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n            var series = _a[_i];\n            _loop_1(series);\n        }\n        if (isLine || isSpline) {\n            modules.push({\n                member: 'TrendLine',\n                args: [this]\n            });\n        }\n        if (isLine) {\n            modules.push({\n                member: 'LineSeries',\n                args: [this]\n            });\n        }\n        if (isSpline) {\n            modules.push({\n                member: 'SplineSeries',\n                args: [this]\n            });\n        }\n    };\n    Chart.prototype.findStriplineVisibility = function (striplines) {\n        var visible = false;\n        for (var _i = 0, striplines_1 = striplines; _i < striplines_1.length; _i++) {\n            var stripline = striplines_1[_i];\n            if (stripline.visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * To Remove the SVG.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.removeSvg = function () {\n        if (document.getElementById(this.element.id + '_Secondary_Element')) {\n            remove(document.getElementById(this.element.id + '_Secondary_Element'));\n        }\n        var removeLength = 0;\n        if (this.zoomModule && this.zoomModule.pinchTarget) {\n            this.zoomModule.pinchTarget.id = '';\n            this.zoomModule.pinchTarget.setAttribute('opacity', '0');\n            this.svgObject.appendChild(this.zoomModule.pinchTarget);\n            removeLength = 1;\n        }\n        if (this.svgObject) {\n            while (this.svgObject.childNodes.length > removeLength) {\n                this.svgObject.removeChild(this.svgObject.firstChild);\n            }\n            if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode) {\n                remove(this.svgObject);\n            }\n        }\n    };\n    Chart.prototype.refreshDefinition = function (definitions) {\n        for (var _i = 0, definitions_1 = definitions; _i < definitions_1.length; _i++) {\n            var item = definitions_1[_i];\n            item.axes = [];\n        }\n    };\n    /**\n     * Refresh the axis default value.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.refreshAxis = function () {\n        var axis = this.primaryXAxis;\n        axis.rect = new Rect(undefined, undefined, 0, 0);\n        axis = this.primaryYAxis;\n        axis.isStack100 = false;\n        axis.rect = new Rect(undefined, undefined, 0, 0);\n        for (var _i = 0, _a = this.axes; _i < _a.length; _i++) {\n            var item = _a[_i];\n            axis = item;\n            axis.rect = new Rect(undefined, undefined, 0, 0);\n            axis.isStack100 = false;\n        }\n    };\n    Chart.prototype.axisChange = function (axis) {\n        if (!axis.name && !axis.valueType) {\n            return false;\n        }\n        this.refreshDefinition(this.columns);\n        this.refreshDefinition(this.rows);\n        this.calculateVisibleAxis();\n        this.processData();\n        return true;\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    Chart.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var renderer = false;\n        var refreshBounds = false;\n        if (Object.keys(newProp).length === 1 && Object.keys(newProp)[0] === 'indicators') {\n            //add valid check, it should happen only when property change is triggered for target series\n            return;\n        }\n        this.animateSeries = false;\n        if (!this.delayRedraw) {\n            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'primaryXAxis':\n                        refreshBounds = this.axisChange(newProp.primaryXAxis);\n                        if (newProp.primaryXAxis.edgeLabelPlacement) {\n                            renderer = true;\n                        }\n                        if (!newProp.primaryXAxis.crosshairTooltip) {\n                            refreshBounds = true;\n                        }\n                        break;\n                    case 'primaryYAxis':\n                        refreshBounds = this.axisChange(newProp.primaryYAxis);\n                        if (newProp.primaryYAxis.edgeLabelPlacement) {\n                            renderer = true;\n                        }\n                        if (!newProp.primaryYAxis.crosshairTooltip) {\n                            refreshBounds = true;\n                        }\n                        break;\n                    case 'height':\n                    case 'width':\n                        this.createChartSvg();\n                        refreshBounds = true;\n                        break;\n                    case 'title':\n                        if (newProp.title === '' || oldProp.title === '') {\n                            refreshBounds = true;\n                        }\n                        else {\n                            renderer = true;\n                        }\n                        break;\n                    case 'titleStyle':\n                        if (newProp.titleStyle && newProp.titleStyle.size) {\n                            refreshBounds = true;\n                        }\n                        else {\n                            renderer = true;\n                        }\n                        break;\n                    case 'border':\n                        renderer = true;\n                        break;\n                    case 'zoomSettings':\n                    case 'background':\n                        renderer = true;\n                        break;\n                    case 'chartArea':\n                        if (newProp.chartArea.border && newProp.chartArea.border.width) {\n                            refreshBounds = true;\n                        }\n                        renderer = true;\n                        break;\n                    case 'legendSettings':\n                        if (!newProp.legendSettings.background || !newProp.legendSettings.opacity) {\n                            refreshBounds = true;\n                        }\n                        renderer = true;\n                        break;\n                    case 'palettes':\n                        this.calculateVisibleSeries();\n                        renderer = true;\n                        break;\n                    case 'selectedDataIndexes':\n                    case 'selectionMode':\n                        if (this.selectionModule && newProp.selectionMode && newProp.selectionMode.indexOf('Drag') === -1) {\n                            this.selectionModule.redrawSelection(this, oldProp.selectionMode);\n                        }\n                        break;\n                    case 'isMultiSelect':\n                        if (this.selectionModule && !newProp.isMultiSelect && this.selectionModule.selectedDataIndexes.length > 1) {\n                            this.selectionModule.redrawSelection(this, oldProp.selectionMode);\n                        }\n                        break;\n                    case 'theme':\n                        this.animateSeries = true;\n                        break;\n                    case 'locale':\n                        this.setCulture();\n                        renderer = true;\n                        break;\n                    case 'tooltip':\n                        this.tooltipModule.previousPoints = [];\n                        break;\n                }\n            }\n            if (!refreshBounds && renderer) {\n                this.removeSvg();\n                this.renderElements();\n                this.trigger('loaded', { chart: this });\n            }\n            if (refreshBounds) {\n                this.removeSvg();\n                this.refreshAxis();\n                this.refreshBound();\n                this.trigger('loaded', { chart: this });\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Chart.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.chartTitleFont, Font)\n    ], Chart.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], Chart.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\n    ], Chart.prototype, \"border\", void 0);\n    __decorate([\n        Property(Theme.chartBackgroundColor)\n    ], Chart.prototype, \"background\", void 0);\n    __decorate([\n        Complex({ border: { color: 'Gray', width: 0.5 }, background: 'transparent' }, ChartArea)\n    ], Chart.prototype, \"chartArea\", void 0);\n    __decorate([\n        Complex({ name: 'primaryXAxis' }, Axis)\n    ], Chart.prototype, \"primaryXAxis\", void 0);\n    __decorate([\n        Complex({ name: 'primaryYAxis' }, Axis)\n    ], Chart.prototype, \"primaryYAxis\", void 0);\n    __decorate([\n        Collection([{}], Row)\n    ], Chart.prototype, \"rows\", void 0);\n    __decorate([\n        Collection([{}], Column)\n    ], Chart.prototype, \"columns\", void 0);\n    __decorate([\n        Collection([{}], Axis)\n    ], Chart.prototype, \"axes\", void 0);\n    __decorate([\n        Collection([{}], Series)\n    ], Chart.prototype, \"series\", void 0);\n    __decorate([\n        Collection([{}], ChartAnnotationSettings)\n    ], Chart.prototype, \"annotations\", void 0);\n    __decorate([\n        Property([])\n    ], Chart.prototype, \"palettes\", void 0);\n    __decorate([\n        Property('Material')\n    ], Chart.prototype, \"theme\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Chart.prototype, \"tooltip\", void 0);\n    __decorate([\n        Complex({}, CrosshairSettings)\n    ], Chart.prototype, \"crosshair\", void 0);\n    __decorate([\n        Complex({}, LegendSettings)\n    ], Chart.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, ZoomSettings)\n    ], Chart.prototype, \"zoomSettings\", void 0);\n    __decorate([\n        Property('None')\n    ], Chart.prototype, \"selectionMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Chart.prototype, \"isMultiSelect\", void 0);\n    __decorate([\n        Collection([], Indexes)\n    ], Chart.prototype, \"selectedDataIndexes\", void 0);\n    __decorate([\n        Property(false)\n    ], Chart.prototype, \"useGroupingSeparator\", void 0);\n    __decorate([\n        Property(false)\n    ], Chart.prototype, \"isTransposed\", void 0);\n    __decorate([\n        Collection([], TechnicalIndicator)\n    ], Chart.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"description\", void 0);\n    __decorate([\n        Property(1)\n    ], Chart.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Property(true)\n    ], Chart.prototype, \"enableSideBySidePlacement\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"annotationRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"animationComplete\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"legendRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"textRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"pointRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"seriesRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"axisLabelRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseClick\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseLeave\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseDown\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseUp\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"dragComplete\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"zoomComplete\", void 0);\n    Chart = __decorate([\n        NotifyPropertyChanges\n    ], Chart);\n    return Chart;\n}(Component));\nexport { Chart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Double } from '../axis/double-axis';\nimport { DoubleRange } from '../utils/double-range';\nimport { withIn, firstToLowerCase } from '../../common/utils/helper';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * DateTime module is used to render DateTime axis.\n */\nvar DateTime = /** @class */ (function (_super) {\n    __extends(DateTime, _super);\n    /**\n     * Constructor for the dateTime module.\n     * @private\n     */\n    function DateTime(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     */\n    DateTime.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis);\n    };\n    /**\n     * Actual Range for the axis.\n     * @private\n     */\n    DateTime.prototype.getActualRange = function (axis, size) {\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = this.chart.intl.getDateParser(option);\n        var dateFormatter = this.chart.intl.getDateFormat(option);\n        // Axis min\n        if ((axis.minimum) !== null) {\n            this.min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: axis.minimum }).val))));\n        }\n        else if (this.min === null || this.min === Number.POSITIVE_INFINITY) {\n            this.min = Date.parse(dateParser(dateFormatter(new Date(1970, 1, 1))));\n        }\n        // Axis Max\n        if ((axis.maximum) !== null) {\n            this.max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: axis.maximum }).val))));\n        }\n        else if (this.max === null || this.max === Number.NEGATIVE_INFINITY) {\n            this.max = Date.parse(dateParser(dateFormatter(new Date(1970, 5, 1))));\n        }\n        if (this.min === this.max) {\n            this.max = this.max + 2592000000;\n            this.min = this.min - 2592000000;\n        }\n        axis.actualRange = {};\n        axis.doubleRange = new DoubleRange(this.min, this.max);\n        var datetimeInterval = this.calculateDateTimeNiceInterval(axis, size, axis.doubleRange.start, axis.doubleRange.end);\n        if (!axis.interval) {\n            axis.actualRange.interval = datetimeInterval;\n        }\n        else {\n            axis.actualRange.interval = axis.interval;\n        }\n        axis.actualRange.min = axis.doubleRange.start;\n        axis.actualRange.max = axis.doubleRange.end;\n    };\n    /**\n     * Apply padding for the range.\n     * @private\n     */\n    DateTime.prototype.applyRangePadding = function (axis, size) {\n        this.start = (axis.actualRange.min);\n        this.end = (axis.actualRange.max);\n        var minimum;\n        var maximum;\n        var interval = axis.actualRange.interval;\n        if (!axis.setRange()) {\n            var rangePadding = axis.getRangePadding(this.chart);\n            minimum = new Date(this.start);\n            maximum = new Date(this.end);\n            var intervalType = axis.actualIntervalType;\n            if (rangePadding === 'None') {\n                this.start = minimum.getTime();\n                this.end = maximum.getTime();\n            }\n            else if (rangePadding === 'Additional' || rangePadding === 'Round') {\n                switch (intervalType) {\n                    case 'Years':\n                        this.getYear(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Months':\n                        this.getMonth(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Days':\n                        this.getDay(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Hours':\n                        this.getHour(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Minutes':\n                        var minute = (minimum.getMinutes() / interval) * interval;\n                        var endMinute = maximum.getMinutes() + (minimum.getMinutes() - minute);\n                        if (rangePadding === 'Round') {\n                            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), minimum.getHours(), minute, 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), endMinute, 59)).getTime();\n                        }\n                        else {\n                            this.start = (new Date(minimum.getFullYear(), maximum.getMonth(), minimum.getDate(), minimum.getHours(), minute + (-interval), 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), endMinute + (interval), 0)).getTime();\n                        }\n                        break;\n                    case 'Seconds':\n                        var second = (minimum.getSeconds() / interval) * interval;\n                        var endSecond = maximum.getSeconds() + (minimum.getSeconds() - second);\n                        if (rangePadding === 'Round') {\n                            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), minimum.getHours(), minimum.getMinutes(), second, 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), maximum.getMinutes(), endSecond, 0)).getTime();\n                        }\n                        else {\n                            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), minimum.getHours(), minimum.getMinutes(), second + (-interval), 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), maximum.getMinutes(), endSecond + (interval), 0)).getTime();\n                        }\n                        break;\n                }\n            }\n        }\n        axis.actualRange.min = (axis.minimum != null) ? this.min : this.start;\n        axis.actualRange.max = (axis.maximum != null) ? this.max : this.end;\n        axis.actualRange.delta = (axis.actualRange.max - axis.actualRange.min);\n        axis.doubleRange = new DoubleRange(axis.actualRange.min, axis.actualRange.max);\n        this.calculateVisibleRange(size, axis);\n    };\n    DateTime.prototype.getYear = function (minimum, maximum, rangePadding, interval) {\n        var startYear = minimum.getFullYear();\n        var endYear = maximum.getFullYear();\n        if (rangePadding === 'Additional') {\n            this.start = (new Date(startYear - interval, 1, 1, 0, 0, 0)).getTime();\n            this.end = (new Date(endYear + interval, 1, 1, 0, 0, 0)).getTime();\n        }\n        else {\n            this.start = new Date(startYear, 0, 0, 0, 0, 0).getTime();\n            this.end = new Date(endYear, 11, 30, 23, 59, 59).getTime();\n        }\n    };\n    DateTime.prototype.getMonth = function (minimum, maximum, rangePadding, interval) {\n        var month = minimum.getMonth();\n        var endMonth = maximum.getMonth();\n        if (rangePadding === 'Round') {\n            this.start = (new Date(minimum.getFullYear(), month, 0, 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), endMonth, new Date(maximum.getFullYear(), maximum.getMonth(), 0).getDate(), 23, 59, 59)).getTime();\n        }\n        else {\n            this.start = (new Date(minimum.getFullYear(), month + (-interval), 1, 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), endMonth + (interval), endMonth === 2 ? 28 : 30, 0, 0, 0)).getTime();\n        }\n    };\n    DateTime.prototype.getDay = function (minimum, maximum, rangePadding, interval) {\n        var day = minimum.getDate();\n        var endDay = maximum.getDate();\n        if (rangePadding === 'Round') {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), day, 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), endDay, 23, 59, 59)).getTime();\n        }\n        else {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), day + (-interval), 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), endDay + (interval), 0, 0, 0)).getTime();\n        }\n    };\n    DateTime.prototype.getHour = function (minimum, maximum, rangePadding, interval) {\n        var hour = (minimum.getHours() / interval) * interval;\n        var endHour = maximum.getHours() + (minimum.getHours() - hour);\n        if (rangePadding === 'Round') {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), hour, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), endHour, 59, 59)).getTime();\n        }\n        else {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), hour + (-interval), 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), endHour + (interval), 0, 0)).getTime();\n        }\n    };\n    /**\n     * Calculate visible range for axis.\n     * @private\n     */\n    DateTime.prototype.calculateVisibleRange = function (size, axis) {\n        axis.visibleRange = {\n            min: axis.actualRange.min,\n            max: axis.actualRange.max,\n            interval: axis.actualRange.interval,\n            delta: axis.actualRange.delta,\n        };\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            axis.calculateVisibleRange(size);\n            axis.visibleRange.interval = (axis.enableAutoIntervalOnZooming) ?\n                this.calculateDateTimeNiceInterval(axis, size, axis.visibleRange.min, axis.visibleRange.max)\n                : axis.visibleRange.interval;\n        }\n        axis.dateTimeInterval = this.increaseDateTimeInterval(axis, axis.visibleRange.min, axis.visibleRange.interval).getTime()\n            - axis.visibleRange.min;\n    };\n    /**\n     * Calculate visible labels for the axis.\n     * @private\n     */\n    DateTime.prototype.calculateVisibleLabels = function (axis) {\n        axis.visibleLabels = [];\n        var tempInterval = axis.visibleRange.min;\n        if (!axis.setRange()) {\n            tempInterval = this.alignRangeStart(axis, tempInterval, axis.visibleRange.interval, axis.actualIntervalType).getTime();\n        }\n        axis.format = this.chart.intl.getDateFormat({\n            format: axis.labelFormat, type: firstToLowerCase(axis.skeletonType), skeleton: this.getSkeleton(axis)\n        });\n        axis.startLabel = axis.format(new Date(axis.visibleRange.min));\n        axis.endLabel = axis.format(new Date(axis.visibleRange.max));\n        while (tempInterval <= axis.visibleRange.max) {\n            if (withIn(tempInterval, axis.visibleRange)) {\n                axis.triggerLabelRender(this.chart, tempInterval, axis.format(new Date(tempInterval)));\n            }\n            tempInterval = this.increaseDateTimeInterval(axis, tempInterval, axis.visibleRange.interval).getTime();\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /** @private */\n    DateTime.prototype.increaseDateTimeInterval = function (axis, value, interval) {\n        var result = new Date(value);\n        interval = Math.ceil(interval);\n        switch (axis.actualIntervalType) {\n            case 'Years':\n                result.setFullYear(result.getFullYear() + interval);\n                return result;\n            case 'Months':\n                result.setMonth(result.getMonth() + interval);\n                return result;\n            case 'Days':\n                result.setDate(result.getDate() + interval);\n                return result;\n            case 'Hours':\n                result.setHours(result.getHours() + interval);\n                return result;\n            case 'Minutes':\n                result.setMinutes(result.getMinutes() + interval);\n                return result;\n            case 'Seconds':\n                result.setSeconds(result.getSeconds() + interval);\n                return result;\n        }\n        return result;\n    };\n    DateTime.prototype.alignRangeStart = function (axis, sDate, intervalSize, intervalType) {\n        var sResult = new Date(sDate);\n        switch (axis.actualIntervalType) {\n            case 'Years':\n                var year = Math.floor(Math.floor(sResult.getFullYear() / intervalSize) * intervalSize);\n                sResult = new Date(year, sResult.getMonth(), sResult.getDate(), 0, 0, 0);\n                return sResult;\n            case 'Months':\n                var month = Math.floor(Math.floor((sResult.getMonth()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), month, sResult.getDate(), 0, 0, 0);\n                return sResult;\n            case 'Days':\n                var day = Math.floor(Math.floor((sResult.getDate()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), day, 0, 0, 0);\n                return sResult;\n            case 'Hours':\n                var hour = Math.floor(Math.floor((sResult.getHours()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), sResult.getDate(), hour, 0, 0);\n                return sResult;\n            case 'Minutes':\n                var minutes = Math.floor(Math.floor((sResult.getMinutes()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), sResult.getDate(), sResult.getHours(), minutes, 0, 0);\n                return sResult;\n            case 'Seconds':\n                var seconds = Math.floor(Math.floor((sResult.getSeconds()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), sResult.getDate(), sResult.getHours(), sResult.getMinutes(), seconds, 0);\n                return sResult;\n        }\n        return sResult;\n    };\n    /**\n     * To get the skeleton for the DateTime axis.\n     * @return {string}\n     * @private\n     */\n    DateTime.prototype.getSkeleton = function (axis) {\n        var skeleton;\n        if (axis.skeleton) {\n            return axis.skeleton;\n        }\n        if (axis.actualIntervalType === 'Years') {\n            skeleton = 'yMMM';\n        }\n        else if (axis.actualIntervalType === 'Months') {\n            skeleton = 'MMMd';\n        }\n        else if (axis.actualIntervalType === 'Days') {\n            skeleton = 'yMd';\n        }\n        else if (axis.actualIntervalType === 'Hours') {\n            skeleton = 'EHm';\n        }\n        else if (axis.actualIntervalType === 'Minutes' || axis.actualIntervalType === 'Seconds') {\n            skeleton = 'Hms';\n        }\n        else {\n            skeleton = 'Hms';\n        }\n        return skeleton;\n    };\n    DateTime.prototype.calculateDateTimeNiceInterval = function (axis, size, start, end) {\n        var oneDay = 24 * 60 * 60 * 1000;\n        var startDate = new Date(start);\n        var endDate = new Date(end);\n        //var axisInterval ;\n        var totalDays = (Math.abs((startDate.getTime() - endDate.getTime()) / (oneDay)));\n        var interval;\n        axis.actualIntervalType = axis.intervalType;\n        switch (axis.intervalType) {\n            case 'Years':\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 365, size);\n                break;\n            case 'Months':\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 30, size);\n                break;\n            case 'Days':\n                interval = this.calculateNumericNiceInterval(axis, totalDays, size);\n                break;\n            case 'Hours':\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24, size);\n                break;\n            case 'Minutes':\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60, size);\n                break;\n            case 'Seconds':\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60 * 60, size);\n                break;\n            case 'Auto':\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 365, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Years';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 30, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Months';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Days';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Hours';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Minutes';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60 * 60, size);\n                axis.actualIntervalType = 'Seconds';\n                return interval;\n        }\n        return interval;\n    };\n    /**\n     * Get module name\n     */\n    DateTime.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'DateTime';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    DateTime.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return DateTime;\n}(Double));\nexport { DateTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Double } from '../axis/double-axis';\nimport { DoubleRange } from '../utils/double-range';\nimport { withIn } from '../../common/utils/helper';\n/**\n * Category module is used to render category axis.\n */\nvar Category = /** @class */ (function (_super) {\n    __extends(Category, _super);\n    /**\n     * Constructor for the category module.\n     * @private\n     */\n    function Category(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     */\n    Category.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis);\n    };\n    /**\n     * Actual Range for the axis.\n     * @private\n     */\n    Category.prototype.getActualRange = function (axis, size) {\n        axis.doubleRange = new DoubleRange(this.min, this.max);\n        axis.actualRange = {};\n        if (!axis.interval) {\n            axis.actualRange.interval = Math.max(1, Math.floor(axis.doubleRange.delta / axis.getActualDesiredIntervalsCount(size)));\n        }\n        else {\n            axis.actualRange.interval = Math.ceil(axis.interval);\n        }\n        axis.actualRange.min = axis.doubleRange.start;\n        axis.actualRange.max = axis.doubleRange.end;\n        axis.actualRange.delta = axis.doubleRange.delta;\n    };\n    /**\n     * Padding for the axis.\n     * @private\n     */\n    Category.prototype.applyRangePadding = function (axis, size) {\n        var ticks = (axis.labelPlacement === 'BetweenTicks' && this.chart.chartAreaType !== 'PolarRadar') ? 0.5 : 0;\n        if (ticks > 0) {\n            axis.actualRange.min -= ticks;\n            axis.actualRange.max += ticks;\n        }\n        else {\n            axis.actualRange.max += axis.actualRange.max ? 0 : 0.5;\n        }\n        axis.doubleRange = new DoubleRange(axis.actualRange.min, axis.actualRange.max);\n        axis.actualRange.delta = axis.doubleRange.delta;\n        this.calculateVisibleRange(size, axis);\n    };\n    /**\n     * Calculate label for the axis.\n     * @private\n     */\n    Category.prototype.calculateVisibleLabels = function (axis) {\n        /*! Generate axis labels */\n        axis.visibleLabels = [];\n        var tempInterval = axis.visibleRange.min - (axis.visibleRange.min % axis.visibleRange.interval);\n        var position;\n        axis.startLabel = axis.labels[Math.round(axis.visibleRange.min)];\n        axis.endLabel = axis.labels[Math.floor(axis.visibleRange.max)];\n        for (; tempInterval <= axis.visibleRange.max; tempInterval += axis.visibleRange.interval) {\n            if (withIn(tempInterval, axis.visibleRange) && axis.labels.length > 0) {\n                position = Math.round(tempInterval);\n                axis.triggerLabelRender(this.chart, position, axis.labels[position] ? axis.labels[position] : position.toString());\n            }\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /**\n     * Get module name\n     */\n    Category.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Category';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    Category.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Category;\n}(Double));\nexport { Category };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Double } from '../axis/double-axis';\nimport { logBase, withIn } from '../../common/utils/helper';\n/**\n * Logarithmic module is used to render log axis.\n */\nvar Logarithmic = /** @class */ (function (_super) {\n    __extends(Logarithmic, _super);\n    /**\n     * Constructor for the logerithmic module.\n     * @private\n     */\n    function Logarithmic(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The method to calculate the range and labels for the axis.\n     * @return {void}\n     */\n    Logarithmic.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.calculateVisibleRange(size, axis);\n        this.calculateVisibleLabels(axis, this.chart);\n    };\n    /**\n     * Calculates actual range for the axis.\n     * @private\n     */\n    Logarithmic.prototype.getActualRange = function (axis, size) {\n        this.initializeDoubleRange(axis);\n        this.min = this.min < 0 ? 0 : this.min;\n        var logStart = logBase(this.min, axis.logBase);\n        logStart = isFinite(logStart) ? logStart : this.min;\n        var logEnd = logBase(this.max, axis.logBase);\n        logEnd = isFinite(logStart) ? logEnd : this.max;\n        this.min = Math.floor(logStart / 1);\n        this.max = Math.ceil(logEnd / 1);\n        axis.actualRange.interval = axis.interval || this.calculateLogNiceInterval(this.max - this.min, size, axis);\n        axis.actualRange.min = this.min;\n        axis.actualRange.max = this.max;\n        axis.actualRange.delta = this.max - this.min;\n    };\n    /**\n     * Calculates visible range for the axis.\n     * @private\n     */\n    Logarithmic.prototype.calculateVisibleRange = function (size, axis) {\n        axis.visibleRange = {\n            interval: axis.actualRange.interval, max: axis.actualRange.max,\n            min: axis.actualRange.min, delta: axis.actualRange.delta\n        };\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            axis.calculateVisibleRange(size);\n            axis.visibleRange.interval = (axis.enableAutoIntervalOnZooming) ?\n                this.calculateLogNiceInterval(axis.doubleRange.delta, size, axis)\n                : axis.visibleRange.interval;\n            axis.visibleRange.interval = Math.floor(axis.visibleRange.interval) === 0 ? 1 : Math.floor(axis.visibleRange.interval);\n        }\n    };\n    /**\n     * Calculates log iInteval for the axis.\n     * @private\n     */\n    Logarithmic.prototype.calculateLogNiceInterval = function (delta, size, axis) {\n        var actualDesiredIntervalsCount = axis.getActualDesiredIntervalsCount(size);\n        var niceInterval = delta;\n        var minInterval = Math.pow(10, Math.floor(logBase(niceInterval, 10)));\n        for (var j = 0, len = axis.intervalDivs.length; j < len; j++) {\n            var currentInterval = minInterval * axis.intervalDivs[j];\n            if (actualDesiredIntervalsCount < (delta / currentInterval)) {\n                break;\n            }\n            niceInterval = currentInterval;\n        }\n        return niceInterval;\n    };\n    /**\n     * Calculates labels for the axis.\n     * @private\n     */\n    Logarithmic.prototype.calculateVisibleLabels = function (axis, chart) {\n        /*! Generate axis labels */\n        var tempInterval = axis.visibleRange.min;\n        axis.visibleLabels = [];\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            tempInterval = axis.visibleRange.min - (axis.visibleRange.min % axis.visibleRange.interval);\n        }\n        var axisFormat = this.getFormat(axis);\n        var isCustomFormat = axisFormat.match('{value}') !== null;\n        axis.format = chart.intl.getNumberFormat({ format: isCustomFormat ? '' : axisFormat,\n            useGrouping: chart.useGroupingSeparator });\n        axis.startLabel = axis.format(Math.pow(axis.logBase, axis.visibleRange.min));\n        axis.endLabel = axis.format(Math.pow(axis.logBase, axis.visibleRange.max));\n        for (; tempInterval <= axis.visibleRange.max; tempInterval += axis.visibleRange.interval) {\n            if (withIn(tempInterval, axis.visibleRange)) {\n                axis.triggerLabelRender(this.chart, tempInterval, this.formatValue(axis, isCustomFormat, axisFormat, Math.pow(axis.logBase, tempInterval)));\n            }\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /**\n     * Get module name\n     */\n    Logarithmic.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Logarithmic';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    Logarithmic.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Logarithmic;\n}(Double));\nexport { Logarithmic };\n","/**\n * StripLine src\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Rect, TextOption, measureText, valueToCoefficient, textElement, logBase, RectOption } from '../../common/utils/helper';\n/**\n * `StripLine` module used to render the stripLine in chart.\n */\nvar StripLine = /** @class */ (function () {\n    function StripLine() {\n    }\n    StripLine.prototype.measureStripLine = function (axis, stripline, seriesClipRect) {\n        var rect = this.getFromTovalue(stripline.start, stripline.end, stripline.size, stripline.startFromAxis, axis);\n        var height = (axis.orientation === 'Vertical') ? (rect.to - rect.from) * axis.rect.height : seriesClipRect.height;\n        var width = (axis.orientation === 'Horizontal') ? (rect.to - rect.from) * axis.rect.width : seriesClipRect.width;\n        var x = (axis.orientation === 'Vertical') ? seriesClipRect.x : ((rect.from * axis.rect.width) + axis.rect.x);\n        var y = (axis.orientation === 'Horizontal') ? seriesClipRect.y : (axis.rect.y + axis.rect.height -\n            (rect.to * axis.rect.height));\n        if (height !== 0 && width !== 0) {\n            return new Rect(x, y, width, height);\n        }\n        return new Rect(0, 0, 0, 0);\n    };\n    /**\n     * To get from to value from start, end, size, start from axis\n     */\n    StripLine.prototype.getFromTovalue = function (start, end, size, startFromAxis, axis) {\n        var from = startFromAxis ? axis.visibleRange.min : this.findValue(Math.min(start, isNullOrUndefined(end) ? start : end), axis);\n        var to = this.findValue(this.getToValue(Math.max(start, isNullOrUndefined(end) ? start : end), from, size, axis, end), axis);\n        return { from: valueToCoefficient(axis.isInversed ? to : from, axis), to: valueToCoefficient(axis.isInversed ? from : to, axis) };\n    };\n    StripLine.prototype.getToValue = function (to, from, size, axis, end) {\n        if (axis.valueType === 'DateTime') {\n            return (isNullOrUndefined(end) ? new Date(new Date(from).getTime() + size) : to);\n        }\n        else {\n            return isNullOrUndefined(end) ? (axis.valueType === 'Logarithmic' ? Math.pow(axis.logBase, from) : from) + size : to;\n        }\n    };\n    StripLine.prototype.findValue = function (value, axis) {\n        if (axis.valueType === 'Logarithmic') {\n            value = logBase(value, axis.logBase);\n        }\n        if (value < axis.visibleRange.min) {\n            value = axis.visibleRange.min;\n        }\n        else if (value > axis.visibleRange.max) {\n            value = axis.visibleRange.max;\n        }\n        return value;\n    };\n    /**\n     * To render striplines based start and end.\n     * @private\n     * @param chart\n     * @param position\n     * @param axes\n     */\n    StripLine.prototype.renderStripLine = function (chart, position, axes) {\n        var id = chart.element.id + '_stripline_' + position + '_';\n        var striplineGroup = chart.renderer.createGroup({ id: id + 'collections' });\n        var seriesClipRect = chart.chartAxisLayoutPanel.seriesClipRect;\n        var rect;\n        var count = 0;\n        for (var _i = 0, axes_1 = axes; _i < axes_1.length; _i++) {\n            var axis = axes_1[_i];\n            for (var _a = 0, _b = axis.stripLines; _a < _b.length; _a++) {\n                var stripline = _b[_a];\n                if (stripline.visible && stripline.zIndex === position) {\n                    rect = this.measureStripLine(axis, stripline, seriesClipRect);\n                    this.renderRectangle(stripline, rect, id + 'rect_' + count, striplineGroup, chart);\n                    this.renderText(stripline, rect, id + 'text_' + count, striplineGroup, chart, axis);\n                    count++;\n                }\n            }\n        }\n        chart.svgObject.appendChild(striplineGroup);\n    };\n    StripLine.prototype.renderRectangle = function (stripline, rect, id, parent, chart) {\n        parent.appendChild(chart.renderer.drawRectangle(new RectOption(id, stripline.color, stripline.border, stripline.opacity, rect, 0, 0, '', '')));\n    };\n    StripLine.prototype.renderText = function (stripline, rect, id, parent, chart, axis) {\n        var textSize = measureText(stripline.text, stripline.textStyle);\n        var textMid = 3 * (textSize.height / 8);\n        var ty = rect.y + (rect.height / 2) + textMid;\n        var rotation = (stripline.rotation === null) ? ((axis.orientation === 'Vertical') ? 0 : -90) : stripline.rotation;\n        var tx = rect.x + (rect.width / 2);\n        var alignment;\n        var anchor;\n        var padding = 5;\n        if (axis.orientation === 'Horizontal') {\n            tx = this.getTextStart(tx + (textMid * this.factor(stripline.horizontalAlignment)), rect.width, stripline.horizontalAlignment);\n            ty = this.getTextStart(ty - textMid, rect.height, stripline.verticalAlignment);\n            alignment = this.invertAlignment(stripline.verticalAlignment);\n        }\n        else {\n            tx = this.getTextStart(tx, rect.width, stripline.horizontalAlignment);\n            ty = this.getTextStart(ty + (textMid * this.factor(stripline.verticalAlignment)) - padding, rect.height, stripline.verticalAlignment);\n            alignment = stripline.horizontalAlignment;\n        }\n        anchor = alignment;\n        textElement(new TextOption(id, tx, ty, anchor, stripline.text, 'rotate(' + rotation + ' ' + tx + ',' + ty + ')', 'middle'), stripline.textStyle, stripline.textStyle.color, parent);\n    };\n    StripLine.prototype.invertAlignment = function (anchor) {\n        switch (anchor) {\n            case 'Start':\n                anchor = 'End';\n                break;\n            case 'End':\n                anchor = 'Start';\n                break;\n        }\n        return anchor;\n    };\n    StripLine.prototype.factor = function (anchor) {\n        var factor = 0;\n        switch (anchor) {\n            case 'Start':\n                factor = 1;\n                break;\n            case 'End':\n                factor = -1;\n                break;\n        }\n        return factor;\n    };\n    StripLine.prototype.getTextStart = function (xy, size, textAlignment) {\n        var padding = 5;\n        switch (textAlignment) {\n            case 'Start':\n                xy = xy - (size / 2) + padding;\n                break;\n            case 'End':\n                xy = xy + (size / 2) - padding;\n                break;\n        }\n        return xy;\n    };\n    /**\n     * To get the module name for `StripLine`.\n     * @private\n     */\n    StripLine.prototype.getModuleName = function () {\n        return 'StripLine';\n    };\n    /**\n     * To destroy the `StripLine` module.\n     * @private\n     */\n    StripLine.prototype.destroy = function () {\n        // destroy peform here\n    };\n    return StripLine;\n}());\nexport { StripLine };\n","import { getAnimationFunction } from '../../common/utils/helper';\nimport { Animation } from '@syncfusion/ej2-base';\n/**\n * render Line series\n */\nvar LineBase = /** @class */ (function () {\n    /** @private */\n    function LineBase(chartModule) {\n        this.chart = chartModule;\n        this.padding = 5;\n    }\n    /**\n     * To improve the chart performance.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.improveChartPerformance = function (series) {\n        var tempPoints = [];\n        var xVisibleRange = series.xAxis.visibleRange;\n        var yVisibleRange = series.yAxis.visibleRange;\n        var seriesPoints = series.points;\n        var areaBounds = series.clipRect;\n        var xTolerance = Math.abs(xVisibleRange.delta / areaBounds.width);\n        var yTolerance = Math.abs(yVisibleRange.delta / areaBounds.height);\n        var prevXValue = (seriesPoints[0] && seriesPoints[0].x > xTolerance) ? 0 : xTolerance;\n        var prevYValue = (seriesPoints[0] && seriesPoints[0].y > yTolerance) ? 0 : yTolerance;\n        var xVal = 0;\n        var yVal = 0;\n        var currentPoint;\n        for (var _i = 0, seriesPoints_1 = seriesPoints; _i < seriesPoints_1.length; _i++) {\n            var currentPoint_1 = seriesPoints_1[_i];\n            currentPoint_1.symbolLocations = [];\n            xVal = currentPoint_1.xValue ? currentPoint_1.xValue : xVisibleRange.min;\n            yVal = currentPoint_1.yValue ? currentPoint_1.yValue : yVisibleRange.min;\n            if (Math.abs(prevXValue - xVal) >= xTolerance || Math.abs(prevYValue - yVal) >= yTolerance) {\n                tempPoints.push(currentPoint_1);\n                prevXValue = xVal;\n                prevYValue = yVal;\n            }\n        }\n        return tempPoints;\n    };\n    /**\n     * To append the line path.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.appendLinePath = function (options, series) {\n        var htmlObject = series.chart.renderer.drawPath(options);\n        series.pathElement = htmlObject;\n        series.seriesElement.appendChild(htmlObject);\n        series.isRectSeries = false;\n    };\n    /**\n     * To render the marker for the series.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.renderMarker = function (series) {\n        if (series.marker.visible) {\n            series.chart.markerRender.render(series);\n        }\n    };\n    /**\n     * To do the progressive animation.\n     * @return {void}\n     */\n    LineBase.prototype.doProgressiveAnimation = function (series, option) {\n        var animation = new Animation({});\n        var path = series.pathElement;\n        var strokeDashArray = path.getAttribute('stroke-dasharray');\n        var pathLength = series.pathElement.getTotalLength();\n        var currentTime;\n        path.style.visibility = 'hidden';\n        animation.animate(path, {\n            duration: option.duration,\n            delay: option.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    path.style.visibility = 'visible';\n                    currentTime = Math.abs(Math.round(((args.timeStamp - args.delay) * pathLength) / args.duration));\n                    path.setAttribute('stroke-dasharray', currentTime + ',' + pathLength);\n                }\n            },\n            end: function (model) {\n                path.setAttribute('stroke-dasharray', strokeDashArray);\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        });\n    };\n    /**\n     * To do the linear animation.\n     * @return {void}\n     */\n    LineBase.prototype.doLinearAnimation = function (series, animation) {\n        var clipRect = series.clipRectElement.childNodes[0].childNodes[0];\n        var effect = getAnimationFunction('Linear');\n        var elementHeight = +clipRect.getAttribute('height');\n        var elementWidth = +clipRect.getAttribute('width');\n        var xCenter = +clipRect.getAttribute('x');\n        var yCenter = series.chart.requireInvertedAxis ? +clipRect.getAttribute('height') + +clipRect.getAttribute('y') :\n            +clipRect.getAttribute('y');\n        var value;\n        clipRect.style.visibility = 'hidden';\n        new Animation({}).animate(clipRect, {\n            duration: animation.duration,\n            delay: animation.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    clipRect.style.visibility = 'visible';\n                    if (series.chart.requireInvertedAxis) {\n                        value = effect(args.timeStamp - args.delay, 0, elementHeight, args.duration);\n                        clipRect.setAttribute('transform', 'translate(' + xCenter + ' ' + yCenter +\n                            ') scale(1,' + (value / elementHeight) + ') translate(' + (-xCenter) + ' ' + (-yCenter) + ')');\n                    }\n                    else {\n                        value = effect(args.timeStamp - args.delay, 0, elementWidth, args.duration);\n                        clipRect.setAttribute('transform', 'translate(' + xCenter + ' ' + yCenter +\n                            ') scale(' + (value / elementWidth) + ', 1) translate(' + (-xCenter) + ' ' + (-yCenter) + ')');\n                    }\n                }\n            },\n            end: function (model) {\n                clipRect.setAttribute('transform', 'translate(0,0)');\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        });\n    };\n    return LineBase;\n}());\nexport { LineBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, getPoint, PathOption, Rect, TransformToVisible } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * Line Module used to render the line series.\n */\nvar LineSeries = /** @class */ (function (_super) {\n    __extends(LineSeries, _super);\n    function LineSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Line Series.\n     * @return {void}.\n     * @private\n     */\n    LineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var point1;\n        var point2;\n        var direction = '';\n        var prevPoint = null;\n        var startPoint = 'M';\n        var options;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        var visiblePoints = this.improveChartPerformance(series);\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                if (prevPoint != null) {\n                    point1 = getCoordinate(prevPoint.xValue, prevPoint.yValue, xAxis, yAxis, isInverted, series);\n                    point2 = getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series);\n                    direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ' +\n                        'L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n                    startPoint = 'L';\n                }\n                prevPoint = point;\n                point.symbolLocations.push(getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series));\n                point.regions.push(new Rect(point.symbolLocations[0].x - series.marker.width, point.symbolLocations[0].y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n            }\n            else {\n                prevPoint = (series.emptyPointSettings.mode === 'Drop') ? prevPoint : null;\n                startPoint = (series.emptyPointSettings.mode === 'Drop') ? startPoint : 'M';\n                point.symbolLocations = [];\n            }\n        }\n        if (series.chart.chartAreaType === 'PolarRadar') {\n            if (series.isClosed) {\n                point2 = getCoordinate(visiblePoints[visiblePoints.length - 1].xValue, visiblePoints[visiblePoints.length - 1].yValue, xAxis, yAxis, isInverted, series);\n                point1 = getCoordinate(visiblePoints[0].xValue, visiblePoints[0].yValue, xAxis, yAxis, isInverted, series);\n                direction = direction.concat(startPoint + ' ' + point2.x + ' ' + point2.y + ' ' + 'L' + ' ' + point1.x + ' ' + point1.y);\n            }\n        }\n        var name = series.category === 'Indicator' ? series.chart.element.id + '_Indicator_' + series.index + '_' + series.name :\n            series.category === 'TrendLine' ? series.chart.element.id + '_Series_' + series.sourceIndex + '_TrendLine_' + series.index :\n                series.chart.element.id + '_Series_' + series.index;\n        options = new PathOption(name, 'none', series.width, series.interior, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series);\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    LineSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doProgressiveAnimation(series, option);\n    };\n    /**\n     * Get module name.\n     */\n    LineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'LineSeries';\n    };\n    /**\n     * To destroy the line series.\n     * @return {void}\n     * @private\n     */\n    LineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return LineSeries;\n}(LineBase));\nexport { LineSeries };\n","import { Animation } from '@syncfusion/ej2-base';\nimport { DoubleRange } from '../utils/double-range';\nimport { Rect, valueToCoefficient, getMinPointsDelta, PathOption } from '../../common/utils/helper';\nimport { getAnimationFunction, getPoint } from '../../common/utils/helper';\nimport { pointRender } from '../../common/model/constants';\n/**\n * Column Series Base\n */\nvar ColumnBase = /** @class */ (function () {\n    function ColumnBase() {\n    }\n    /**\n     * To get the position of the column series.\n     * @return {DoubleRange}\n     * @private\n     */\n    ColumnBase.prototype.getSideBySideInfo = function (series) {\n        if (series.chart.enableSideBySidePlacement && !series.position) {\n            this.getSideBySidePositions(series);\n        }\n        var position = !series.chart.enableSideBySidePlacement ? 0 : series.position;\n        var rectCount = !series.chart.enableSideBySidePlacement ? 1 : series.rectCount;\n        series.isRectSeries = true;\n        var visibleSeries = series.chart.visibleSeries;\n        var seriesSpacing = series.chart.enableSideBySidePlacement ? series.columnSpacing : 0; // Column Spacing\n        var pointSpacing = series.columnWidth; // Column width\n        var minimumPointDelta = getMinPointsDelta(series.xAxis, visibleSeries);\n        var width = minimumPointDelta * pointSpacing;\n        var radius;\n        var location = (position) / rectCount - 0.5;\n        var doubleRange = new DoubleRange(location, location + (1 / rectCount));\n        if (!(isNaN(doubleRange.start) || isNaN(doubleRange.end))) {\n            doubleRange = new DoubleRange(doubleRange.start * width, doubleRange.end * width);\n            radius = seriesSpacing * doubleRange.delta;\n            doubleRange = new DoubleRange(doubleRange.start + radius / 2, doubleRange.end - radius / 2);\n        }\n        return doubleRange;\n    };\n    /**\n     * To get the rect values.\n     * @return {Rect}\n     * @private\n     */\n    ColumnBase.prototype.getRectangle = function (x1, y1, x2, y2, series) {\n        var point1 = getPoint(x1, y1, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        var point2 = getPoint(x2, y2, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        return new Rect(Math.min(point1.x, point2.x), Math.min(point1.y, point2.y), Math.abs(point2.x - point1.x), Math.abs(point2.y - point1.y));\n    };\n    /**\n     * To get the position of each series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.getSideBySidePositions = function (series) {\n        var chart = series.chart;\n        var seriesCollection = [];\n        for (var _i = 0, _a = chart.columns; _i < _a.length; _i++) {\n            var columnItem = _a[_i];\n            for (var _b = 0, _c = chart.rows; _b < _c.length; _b++) {\n                var item = _c[_b];\n                this.findRectPosition(series.findSeriesCollection(columnItem, item, false));\n            }\n        }\n    };\n    ColumnBase.prototype.findRectPosition = function (seriesCollection) {\n        var stackingGroup = [];\n        var vSeries = { rectCount: 0, position: null };\n        seriesCollection.forEach(function (value) {\n            if (value.type.indexOf('Stacking') !== -1) {\n                if (value.stackingGroup) {\n                    if (stackingGroup[value.stackingGroup] === undefined) {\n                        value.position = vSeries.rectCount;\n                        stackingGroup[value.stackingGroup] = vSeries.rectCount++;\n                    }\n                    else {\n                        value.position = stackingGroup[value.stackingGroup];\n                    }\n                }\n                else {\n                    if (vSeries.position === null) {\n                        value.position = vSeries.rectCount;\n                        vSeries.position = vSeries.rectCount++;\n                    }\n                    else {\n                        value.position = vSeries.position;\n                    }\n                }\n            }\n            else {\n                value.position = vSeries.rectCount++;\n            }\n        });\n        seriesCollection.forEach(function (value) {\n            value.rectCount = vSeries.rectCount;\n        });\n    };\n    /**\n     * Updates the symbollocation for points\n     * @return void\n     * @private\n     */\n    ColumnBase.prototype.updateSymbolLocation = function (point, rect, series) {\n        if (!series.chart.requireInvertedAxis) {\n            this.updateXRegion(point, rect, series);\n        }\n        else {\n            this.updateYRegion(point, rect, series);\n        }\n    };\n    /**\n     * Update the region for the point.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.updateXRegion = function (point, rect, series) {\n        point.regions.push(rect);\n        point.symbolLocations.push({\n            x: rect.x + (rect.width) / 2,\n            y: (series.seriesType === 'BoxPlot' || series.seriesType.indexOf('HighLow') !== -1 ||\n                (point.yValue >= 0 === !series.yAxis.isInversed)) ? rect.y : (rect.y + rect.height)\n        });\n    };\n    /**\n     * Update the region for the point in bar series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.updateYRegion = function (point, rect, series) {\n        point.regions.push(rect);\n        point.symbolLocations.push({\n            x: (series.seriesType === 'BoxPlot' || series.seriesType.indexOf('HighLow') !== -1 ||\n                (point.yValue >= 0 === !series.yAxis.isInversed)) ? rect.x + rect.width : rect.x,\n            y: rect.y + rect.height / 2\n        });\n    };\n    /**\n     * To trigger the point rendering event.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.triggerEvent = function (series, point, fill, border) {\n        var argsData = {\n            cancel: false, name: pointRender, series: series, point: point,\n            fill: series.setPointColor(point, fill),\n            border: series.setBorderColor(point, border)\n        };\n        series.chart.trigger(pointRender, argsData);\n        point.color = argsData.fill;\n        return argsData;\n    };\n    /**\n     * To draw the rectangle for points.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.drawRectangle = function (series, point, rect, argsData) {\n        var check = series.chart.requireInvertedAxis ? rect.height : rect.width;\n        if (check <= 0) {\n            return null;\n        }\n        var direction = this.calculateRoundedRectPath(rect, series.cornerRadius.topLeft, series.cornerRadius.topRight, series.cornerRadius.bottomLeft, series.cornerRadius.bottomRight);\n        var name = series.category === 'Indicator' ? series.chart.element.id + '_Indicator_' + series.index + '_' + series.name +\n            '_Point_' + point.index : series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index;\n        var options = new PathOption(name, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n        var element = series.chart.renderer.drawPath(options);\n        switch (series.seriesType) {\n            case 'XY':\n                element.setAttribute('aria-label', point.x.toString() + ':' + point.yValue.toString());\n                break;\n            case 'HighLow':\n                element.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString() + ':' + point.low.toString());\n                break;\n        }\n        series.seriesElement.appendChild(element);\n    };\n    /**\n     * To animate the series.\n     * @return {void}\n     */\n    ColumnBase.prototype.animate = function (series) {\n        var rectElements = series.seriesElement.childNodes;\n        var count = series.category === 'Indicator' ? 0 : 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (!point.symbolLocations.length && !(series.type === 'BoxAndWhisker' && point.regions.length)) {\n                continue;\n            }\n            this.animateRect(rectElements[count], series, point);\n            count++;\n        }\n    };\n    /**\n     * To animate the series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.animateRect = function (element, series, point) {\n        var option = series.animation;\n        var effect = getAnimationFunction('Linear');\n        var isPlot = point.yValue < 0;\n        var x;\n        var y;\n        var elementHeight = +point.regions[0].height;\n        var elementWidth = +point.regions[0].width;\n        var centerX;\n        var centerY;\n        if (!series.chart.requireInvertedAxis) {\n            x = +point.regions[0].x;\n            if (series.type.indexOf('Stacking') > -1) {\n                y = (1 - valueToCoefficient(0, series.yAxis)) * (series.yAxis.rect.height);\n                centerX = x;\n                centerY = y;\n            }\n            else {\n                y = +point.regions[0].y;\n                centerY = (series.seriesType.indexOf('HighLow') !== -1 || series.type.indexOf('Waterfall') !== -1) ? y + elementHeight / 2 :\n                    (isPlot !== series.yAxis.isInversed) ? y : y + elementHeight;\n                centerX = isPlot ? x : x + elementWidth;\n            }\n        }\n        else {\n            y = +point.regions[0].y;\n            if (series.type.indexOf('Stacking') > -1) {\n                x = (valueToCoefficient(0, series.yAxis)) * series.yAxis.rect.width;\n                centerX = x;\n                centerY = y;\n            }\n            else {\n                x = +point.regions[0].x;\n                centerY = isPlot ? y : y + elementHeight;\n                centerX = (series.seriesType.indexOf('HighLow') !== -1 || series.type.indexOf('Waterfall') !== -1) ? x + elementWidth / 2 :\n                    (isPlot !== series.yAxis.isInversed) ? x + elementWidth : x;\n            }\n        }\n        var value;\n        element.style.visibility = 'hidden';\n        new Animation({}).animate(element, {\n            duration: option.duration,\n            delay: option.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    element.style.visibility = 'visible';\n                    if (!series.chart.requireInvertedAxis) {\n                        elementHeight = elementHeight ? elementHeight : 1;\n                        value = effect(args.timeStamp - args.delay, 0, elementHeight, args.duration);\n                        element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY +\n                            ') scale(1,' + (value / elementHeight) + ') translate(' + (-centerX) + ' ' + (-centerY) + ')');\n                    }\n                    else {\n                        elementWidth = elementWidth ? elementWidth : 1;\n                        value = effect(args.timeStamp - args.delay, 0, elementWidth, args.duration);\n                        element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY +\n                            ') scale(' + (value / elementWidth) + ', 1) translate(' + (-centerX) + ' ' + (-centerY) + ')');\n                    }\n                }\n            },\n            end: function (model) {\n                element.setAttribute('transform', 'translate(0,0)');\n                var seriesElement = series.seriesElement;\n                if (element === seriesElement.lastElementChild || point.index === series.points.length - 1 ||\n                    (series.type === 'Waterfall' && element === seriesElement.children[seriesElement.childElementCount - 2])) {\n                    series.chart.trigger('animationComplete', { series: series });\n                    if (series.type === 'Waterfall') {\n                        var rectElements = seriesElement.childNodes;\n                        for (var i = 0; i < rectElements.length; i++) {\n                            if (rectElements[i].id.indexOf('Connector') !== -1) {\n                                rectElements[i].style.visibility = 'visible';\n                                rectElements[i].setAttribute('transform', 'translate(0,0)');\n                            }\n                        }\n                    }\n                }\n            }\n        });\n    };\n    /**\n     * To get rounded rect path direction\n     */\n    ColumnBase.prototype.calculateRoundedRectPath = function (rect, topLeft, topRight, bottomLeft, bottomRight) {\n        return 'M' + ' ' + rect.x + ' ' + (topLeft + rect.y) +\n            ' Q ' + rect.x + ' ' + rect.y + ' ' + (rect.x + topLeft) + ' ' +\n            rect.y + ' ' + 'L' + ' ' + (rect.x + rect.width - topRight) + ' ' + rect.y +\n            ' Q ' + (rect.x + rect.width) + ' ' + rect.y + ' ' +\n            (rect.x + rect.width) + ' ' + (rect.y + topRight) + ' ' + 'L ' +\n            (rect.x + rect.width) + ' ' + (rect.y + rect.height - bottomRight)\n            + ' Q ' + (rect.x + rect.width) + ' ' + (rect.y + rect.height) + ' ' + (rect.x + rect.width - bottomRight) + ' ' +\n            (rect.y + rect.height) + ' ' + 'L ' + (rect.x + bottomLeft) + ' ' + (rect.y + rect.height) + ' Q ' + rect.x + ' ' +\n            (rect.y + rect.height) + ' ' + rect.x + ' ' + (rect.y + rect.height - bottomLeft) + ' ' + 'L' + ' ' + rect.x + ' ' +\n            (topLeft + rect.y) + ' ' + 'Z';\n    };\n    return ColumnBase;\n}());\nexport { ColumnBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Column Module used to render the column series.\n */\nvar ColumnSeries = /** @class */ (function (_super) {\n    __extends(ColumnSeries, _super);\n    function ColumnSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Column series.\n     * @return {void}\n     * @private\n     */\n    ColumnSeries.prototype.render = function (series) {\n        var rect;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var pointColumn = _a[_i];\n            pointColumn.symbolLocations = [];\n            pointColumn.regions = [];\n            if (pointColumn.visible && withInRange(series.points[pointColumn.index - 1], pointColumn, series.points[pointColumn.index + 1], series)) {\n                rect = this.getRectangle(pointColumn.xValue + sideBySideInfo.start, pointColumn.yValue, pointColumn.xValue + sideBySideInfo.end, origin, series);\n                var color = series.category === 'Indicator' ? pointColumn.color : series.interior;\n                argsData = this.triggerEvent(series, pointColumn, color, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(pointColumn, rect, series);\n                    this.drawRectangle(series, pointColumn, rect, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @return {void}\n     * @private\n     */\n    ColumnSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    ColumnSeries.prototype.getModuleName = function () {\n        return 'ColumnSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the column series.\n     * @return {void}\n     * @private\n     */\n    ColumnSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return ColumnSeries;\n}(ColumnBase));\nexport { ColumnSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getPoint, withInRange, ChartLocation, PathOption, Rect, TransformToVisible } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * Area Module used to render the Area series.\n */\nvar AreaSeries = /** @class */ (function (_super) {\n    __extends(AreaSeries, _super);\n    function AreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Area series.\n     * @return {void}\n     * @private\n     */\n    AreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var firstPoint;\n        var endPoint;\n        var startPoint = null;\n        var direction = '';\n        var pointsLength = series.points.length;\n        var origin = series.chart.chartAreaType === 'PolarRadar' ? series.points[0].yValue :\n            Math.max(series.yAxis.visibleRange.min, 0);\n        var options;\n        var point;\n        var currentXValue;\n        var symbolLocation;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        for (var i = 0; i < pointsLength; i++) {\n            point = series.points[i];\n            currentXValue = point.xValue;\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[i - 1], point, series.points[i + 1], series)) {\n                if (startPoint === null) {\n                    startPoint = new ChartLocation(currentXValue, origin);\n                    // Start point for the current path\n                    firstPoint = getCoordinate(currentXValue, origin, xAxis, yAxis, isInverted, series);\n                    direction += ('M' + ' ' + (firstPoint.x) + ' ' + (firstPoint.y) + ' ');\n                }\n                // First Point to draw the area path\n                firstPoint = getCoordinate(currentXValue, point.yValue, xAxis, yAxis, isInverted, series);\n                direction += ('L' + ' ' + (firstPoint.x) + ' ' + (firstPoint.y) + ' ');\n                if (series.points[i + 1] && !series.points[i + 1].visible && series.emptyPointSettings.mode !== 'Drop') {\n                    // current start point\n                    firstPoint = getCoordinate(currentXValue, origin, xAxis, yAxis, isInverted, series);\n                    // current end point\n                    endPoint = getCoordinate(startPoint.x, startPoint.y, xAxis, yAxis, isInverted, series);\n                    direction += ('L' + ' ' + (firstPoint.x) + ' ' + (firstPoint.y) + ' ' + 'L' +\n                        ' ' + (endPoint.x) + ' ' + (endPoint.y) + ' ');\n                    startPoint = null;\n                }\n                symbolLocation = getCoordinate(currentXValue, point.yValue, xAxis, yAxis, isInverted, series);\n                point.symbolLocations.push(symbolLocation);\n                point.regions.push(new Rect(symbolLocation.x - series.marker.width, symbolLocation.y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n            }\n        }\n        if (pointsLength > 1) {\n            startPoint = {\n                'x': series.points[pointsLength - 1].xValue,\n                'y': series.chart.chartAreaType === 'PolarRadar' ? series.points[pointsLength - 1].yValue : origin\n            };\n            endPoint = getCoordinate(startPoint.x, startPoint.y, xAxis, yAxis, isInverted, series);\n            direction += ('L' + ' ' + (endPoint.x) + ' ' + (endPoint.y) + ' ');\n        }\n        else {\n            direction = '';\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series);\n        this.renderMarker(series);\n    };\n    /**\n     * To destroy the area series.\n     * @return {void}\n     * @private\n     */\n    AreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name\n     */\n    AreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'AreaSeries';\n    };\n    /**\n     * Animates the series.\n     * @return {void}\n     * @private\n     */\n    AreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    return AreaSeries;\n}(LineBase));\nexport { AreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Bar Module used to render the bar series.\n */\nvar BarSeries = /** @class */ (function (_super) {\n    __extends(BarSeries, _super);\n    function BarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Bar series.\n     * @return {void}\n     * @private\n     */\n    BarSeries.prototype.render = function (series) {\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var rect;\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var pointBar = _a[_i];\n            pointBar.symbolLocations = [];\n            pointBar.regions = [];\n            if (pointBar.visible && withInRange(series.points[pointBar.index - 1], pointBar, series.points[pointBar.index + 1], series)) {\n                rect = this.getRectangle(pointBar.xValue + sideBySideInfo.start, pointBar.yValue, pointBar.xValue + sideBySideInfo.end, origin, series);\n                argsData = this.triggerEvent(series, pointBar, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(pointBar, rect, series);\n                    this.drawRectangle(series, pointBar, rect, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @return {void}\n     * @private\n     */\n    BarSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the bar series.\n     * @return {void}\n     * @private\n     */\n    BarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * Get module name\n     */\n    BarSeries.prototype.getModuleName = function () {\n        return 'BarSeries';\n    };\n    return BarSeries;\n}(ColumnBase));\nexport { BarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { valueToCoefficient, TextOption, inside, measureText } from '../../common/utils/helper';\nimport { Size, Rect, PathOption, CircleOption } from '../../common/utils/helper';\nimport { LineBase } from '../series/line-base';\nimport { textElement, valueToPolarCoefficient, CoefficientToVector } from '../../common/utils/helper';\n/**\n * Specifies the Polar Axis Layout.\n */\nvar axisPadding = 10;\nvar PolarRadarPanel = /** @class */ (function (_super) {\n    __extends(PolarRadarPanel, _super);\n    function PolarRadarPanel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Measure the polar radar axis size.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.measureAxis = function (rect) {\n        var chart = this.chart;\n        this.initialClipRect = rect;\n        this.seriesClipRect = new Rect(rect.x, rect.y, rect.width, rect.height);\n        //Measure axis size calculation\n        this.measureRowAxis(chart, this.initialClipRect);\n        this.measureColumnAxis(chart, this.initialClipRect);\n        this.calculateAxisSize();\n    };\n    PolarRadarPanel.prototype.measureRowAxis = function (chart, rect) {\n        this.calculateRowSize(rect);\n        var row = chart.rows[0];\n        this.measureDefinition(row, chart, new Size(chart.availableSize.width, row.computedHeight), rect);\n    };\n    PolarRadarPanel.prototype.measureColumnAxis = function (chart, rect) {\n        this.calculateColumnSize(rect);\n        var column = chart.columns[0];\n        this.measureDefinition(column, chart, new Size(column.computedWidth, chart.availableSize.height), rect);\n    };\n    /**\n     * Measure the column and row in chart.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.measureDefinition = function (definition, chart, size, clipRect) {\n        for (var _i = 0, _a = definition.axes; _i < _a.length; _i++) {\n            var axis = _a[_i];\n            axis.getModule(chart);\n            axis.baseModule.calculateRangeAndInterval(size, axis);\n        }\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.calculateAxisSize = function () {\n        var chart = this.chart;\n        var axis;\n        var padding = 5;\n        this.centerX = this.initialClipRect.width * 0.5 + this.initialClipRect.x;\n        this.centerY = this.initialClipRect.height * 0.5 + this.initialClipRect.y;\n        chart.radius = Math.min(this.initialClipRect.width, this.initialClipRect.height) / 2 - padding -\n            chart.primaryXAxis.majorTickLines.height - chart.primaryXAxis.maxLabelSize.height;\n        chart.radius = (chart.primaryXAxis.coefficient * chart.radius) / 100;\n        this.seriesClipRect.y = this.centerY - chart.radius;\n        this.seriesClipRect.x = this.centerX - chart.radius;\n        this.seriesClipRect.height = 2 * chart.radius;\n        this.seriesClipRect.width = 2 * chart.radius;\n        this.calculateRowSize(this.seriesClipRect);\n        axis = chart.primaryYAxis;\n        axis.rect = this.seriesClipRect;\n        this.calculateColumnSize(this.seriesClipRect);\n        axis = chart.primaryXAxis;\n        axis.rect = this.seriesClipRect;\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.measure = function () {\n        var chart = this.chart;\n        chart.verticalAxes.push(chart.primaryYAxis);\n        var row = chart.rows[0];\n        row.axes[0] = chart.primaryYAxis;\n        chart.rows[0] = row;\n        chart.horizontalAxes.push(chart.primaryXAxis);\n        var column = chart.columns[0];\n        column.axes[0] = chart.primaryXAxis;\n        chart.columns[0] = column;\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    PolarRadarPanel.prototype.calculateRowSize = function (rect) {\n        /*! Calculate row size */\n        var chart = this.chart;\n        var row = chart.rows[0];\n        row.computedHeight = rect.height / 2;\n        row.computedTop = rect.y;\n        chart.rows[0] = row;\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    PolarRadarPanel.prototype.calculateColumnSize = function (rect) {\n        /*! Calculate column size */\n        var chart = this.chart;\n        var column = chart.columns[0];\n        column.computedLeft = rect.x;\n        column.computedWidth = rect.width;\n        chart.columns[0] = column;\n    };\n    /**\n     * To render the axis element.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.renderAxes = function () {\n        var axis;\n        var chart = this.chart;\n        this.startAngle = chart.primaryXAxis.startAngle;\n        var axisElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisCollection' });\n        for (var i = 0, len = chart.axisCollections.length; i < len; i++) {\n            this.element = chart.renderer.createGroup({ id: chart.element.id + 'AxisGroup' + i });\n            axis = chart.axisCollections[i];\n            if (axis.orientation === 'Horizontal') {\n                if (axis.majorGridLines.width > 0 || axis.majorTickLines.width > 0) {\n                    this.drawXAxisGridLine(axis, i);\n                }\n                if (axis.visible) {\n                    this.drawXAxisLabels(axis, i);\n                }\n            }\n            else {\n                this.drawYAxisGridLine(axis, i);\n                if (axis.lineStyle.width > 0) {\n                    this.drawYAxisLine(axis, i, axis.plotOffset, 0);\n                }\n                if (axis.visible) {\n                    this.drawYAxisLabels(axis, i);\n                }\n            }\n            axisElement.appendChild(this.element);\n        }\n        axisElement.appendChild(this.element);\n        chart.svgObject.appendChild(axisElement);\n    };\n    PolarRadarPanel.prototype.drawYAxisLine = function (axis, index, plotX, plotY) {\n        var chart = this.chart;\n        var optionsLine = {};\n        var vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value, axis), this.startAngle);\n        var axisLine = 'M ' + this.centerX + ' ' + this.centerY + 'L ' +\n            (this.centerX + chart.radius * vector.x) + ' ' + (this.centerY + chart.radius * vector.y);\n        optionsLine = {\n            'id': chart.element.id + 'AxisLine_' + index,\n            'd': axisLine,\n            'stroke-dasharray': axis.lineStyle.dashArray,\n            'stroke-width': axis.lineStyle.width,\n            'stroke': axis.lineStyle.color\n        };\n        chart.yAxisElements.appendChild(chart.renderer.drawPath(optionsLine));\n    };\n    PolarRadarPanel.prototype.drawYAxisLabels = function (axis, index) {\n        var chart = this.chart;\n        var elementSize;\n        var options;\n        var pointX = 0;\n        var pointY = 0;\n        var vector;\n        var angle = this.startAngle < 0 ? this.startAngle + 360 : this.startAngle;\n        var anchor = 'middle';\n        var radius;\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value, axis), this.startAngle);\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            radius = chart.radius * valueToCoefficient(axis.visibleLabels[i].value, axis);\n            elementSize = axis.visibleLabels[i].size;\n            radius = chart.radius * valueToCoefficient(axis.visibleLabels[i].value, axis);\n            pointX = (this.centerX + radius * vector.x) -\n                (axis.majorTickLines.height + elementSize.width / 2) * (Math.cos(angle * Math.PI / 180));\n            pointY = (this.centerY + radius * vector.y) -\n                (axis.majorTickLines.height + elementSize.height / 2) * (Math.sin(angle * Math.PI / 180));\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY + (elementSize.height / 4), anchor, axis.visibleLabels[i].text);\n            textElement(options, axis.labelStyle, axis.labelStyle.color, labelElement);\n        }\n        chart.yAxisElements.appendChild(labelElement);\n    };\n    PolarRadarPanel.prototype.drawYAxisGridLine = function (axis, index) {\n        var chart = this.chart;\n        var options;\n        var radius;\n        var majorTick = '';\n        var majorGrid = '';\n        var vector;\n        var vector2;\n        var angle = this.startAngle < 0 ? this.startAngle + 360 : this.startAngle;\n        var rect = axis.rect;\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        if (axis.majorGridLines.width > 0) {\n            if (chart.visibleSeries[0].type === 'Polar') {\n                for (var j = 0; j < axis.visibleLabels.length; j++) {\n                    radius = chart.radius * valueToCoefficient(axis.visibleLabels[j].value, axis);\n                    options = new CircleOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines, axis.majorGridLines.width, this.centerX, this.centerY, radius);\n                    this.element.appendChild(chart.renderer.drawCircle(options));\n                }\n            }\n            else {\n                for (var j = 0; j < axis.visibleLabels.length; j++) {\n                    radius = chart.radius * valueToCoefficient(axis.visibleLabels[j].value, axis);\n                    for (var i = 0, len = chart.primaryXAxis.visibleLabels.length; i < len; i++) {\n                        vector = CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[i].value, chart.primaryXAxis), this.startAngle);\n                        if (i + 1 < len) {\n                            vector2 = CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[i + 1].value, chart.primaryXAxis), this.startAngle);\n                        }\n                        else {\n                            vector2 = CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[0].value, chart.primaryXAxis), this.startAngle);\n                        }\n                        x1 = this.centerX + radius * vector.x;\n                        y1 = this.centerY + radius * vector.y;\n                        x2 = this.centerX + radius * vector2.x;\n                        y2 = this.centerY + radius * vector2.y;\n                        majorGrid = majorGrid.concat('M' + ' ' + x1 + ' ' + y1 + ' ' + 'L' + ' ' + x2 + ' ' + y2 + ' ');\n                    }\n                }\n                options = new PathOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines.width, axis.majorGridLines.color, null, null, majorGrid);\n                this.element.appendChild(chart.renderer.drawPath(options));\n            }\n        }\n        if (axis.majorTickLines.width > 0) {\n            vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value, axis), this.startAngle);\n            for (var i = 0; i < axis.visibleLabels.length; i++) {\n                radius = chart.radius * valueToCoefficient(axis.visibleLabels[i].value, axis);\n                x1 = this.centerX + radius * vector.x;\n                y1 = this.centerY + radius * vector.y;\n                x2 = x1 - axis.majorTickLines.height * (Math.cos(angle * Math.PI / 180));\n                y2 = y1 - axis.majorTickLines.height * (Math.sin(angle * Math.PI / 180));\n                majorTick = majorTick.concat('M ' + x1 + ' ' + y1 +\n                    ' L ' + x2 + ' ' + y2 + ' ');\n            }\n        }\n        this.renderTickLine(axis, index, majorTick, '');\n    };\n    PolarRadarPanel.prototype.drawXAxisGridLine = function (axis, index) {\n        var chart = this.chart;\n        var tempInterval;\n        var vector;\n        var majorGrid = '';\n        var majorTick = '';\n        var minorGirdLine = '';\n        var minorTickLine = '';\n        var x1 = this.centerX;\n        var x2;\n        var y1 = this.centerY;\n        var y2;\n        var minorDirection;\n        var tickSize = axis.majorTickLines.height;\n        var rect = axis.rect;\n        var length = axis.visibleLabels.length;\n        //Gridlines\n        for (var i = 0; i < length; i++) {\n            tempInterval = axis.visibleLabels[i].value;\n            vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[i].value, axis), this.startAngle);\n            x2 = this.centerX + chart.radius * vector.x;\n            y2 = this.centerY + chart.radius * vector.y;\n            majorGrid = majorGrid.concat('M ' + x1 + ' ' + y1 + ' ' + 'L' + x2 + ' ' + y2);\n            majorTick = majorTick.concat('M ' + x2 + ' ' + y2 +\n                ' L ' + (x2 + axis.majorTickLines.height * vector.x) + ' ' + (y2 + axis.majorTickLines.height * vector.y) + ' ');\n            if (axis.minorTicksPerInterval > 0 && (axis.minorGridLines.width > 0 || axis.minorTickLines.width > 0)\n                && axis.valueType !== 'Category' && chart.visibleSeries[0].type !== 'Radar') {\n                minorDirection = this.drawAxisMinorLine(axis, tempInterval, minorGirdLine, minorTickLine);\n                minorGirdLine = minorDirection[0];\n                minorTickLine = minorDirection[1];\n            }\n        }\n        this.renderTickLine(axis, index, majorTick, minorTickLine);\n        this.renderGridLine(axis, index, majorGrid, minorGirdLine);\n    };\n    PolarRadarPanel.prototype.drawAxisMinorLine = function (axis, tempInterval, minorGird, minorTick) {\n        var value = tempInterval;\n        var x;\n        var y;\n        var vector;\n        var range = axis.visibleRange;\n        var direction = [];\n        var tickSize = axis.minorTickLines.height;\n        var rect = axis.rect;\n        for (var j = 0; j < axis.minorTicksPerInterval; j++) {\n            value += (axis.valueType === 'DateTime' ? axis.dateTimeInterval : axis.visibleRange.interval) /\n                (axis.minorTicksPerInterval + 1);\n            if (inside(value, range)) {\n                vector = CoefficientToVector(valueToPolarCoefficient(value, axis), this.startAngle);\n                x = this.centerX + this.chart.radius * vector.x;\n                y = this.centerY + this.chart.radius * vector.y;\n                minorGird = minorGird.concat('M' + ' ' + this.centerX + ' ' + this.centerY\n                    + 'L ' + x + ' ' + y);\n                minorTick = minorTick.concat('M' + ' ' + x + ' ' + y + 'L' + ' ' + (x + axis.minorTickLines.height * vector.x) + ' ' +\n                    (y + (axis.minorTickLines.height * vector.y)));\n            }\n        }\n        direction.push(minorGird);\n        direction.push(minorTick);\n        return direction;\n    };\n    /**\n     * To render the axis label.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.drawXAxisLabels = function (axis, index) {\n        var chart = this.chart;\n        var pointX = 0;\n        var elementSize;\n        var pointY = 0;\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        var options;\n        var vector;\n        var labelText;\n        var firstLabelX;\n        var padding = 5;\n        var lastLabelX;\n        var textAnchor = '';\n        var ticksbwtLabel = axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks'\n            && chart.visibleSeries[0].type !== 'Radar' ? 0.5 : 0;\n        var radius = chart.radius + axis.majorTickLines.height;\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[i].value + ticksbwtLabel, axis), this.startAngle);\n            if (!isNaN(vector.x) && !isNaN(vector.y)) {\n                pointX = this.centerX + (radius + axis.majorTickLines.height + padding) * vector.x;\n                pointY = this.centerY + (radius + axis.majorTickLines.height + padding) * vector.y;\n                textAnchor = parseFloat(pointX.toFixed(1)) === parseFloat(this.centerX.toFixed(1)) ? 'middle' :\n                    (pointX < this.centerX) ? 'end' : 'start';\n            }\n            labelText = axis.visibleLabels[i].text;\n            if (i === 0) {\n                firstLabelX = pointX;\n            }\n            else if (i === axis.visibleLabels.length - 1 && axis.valueType !== 'Category') {\n                lastLabelX = measureText(labelText, axis.labelStyle).height;\n                lastLabelX += pointX;\n                labelText = (lastLabelX > firstLabelX) ? '' : labelText;\n            }\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY, textAnchor, labelText, '', 'central');\n            textElement(options, axis.labelStyle, axis.labelStyle.color, labelElement);\n        }\n        this.element.appendChild(labelElement);\n    };\n    PolarRadarPanel.prototype.renderTickLine = function (axis, index, majorTickLine, minorTickLine) {\n        var tickOptions;\n        var chart = this.chart;\n        if (axis.majorTickLines.width > 0) {\n            tickOptions = new PathOption(chart.element.id + '_MajorTickLine_' + index, 'transparent', axis.majorTickLines.width, axis.majorTickLines.color, null, null, majorTickLine);\n            chart.yAxisElements.appendChild(chart.renderer.drawPath(tickOptions));\n        }\n        if (axis.minorTickLines.width > 0) {\n            tickOptions = new PathOption(chart.element.id + '_MinorTickLine_' + index, 'transparent', axis.minorTickLines.width, axis.minorTickLines.color, null, null, minorTickLine);\n            chart.yAxisElements.appendChild(chart.renderer.drawPath(tickOptions));\n        }\n    };\n    PolarRadarPanel.prototype.renderGridLine = function (axis, index, majorGrid, minorGird) {\n        var chart = this.chart;\n        var gridOptions;\n        if (axis.majorGridLines.width > 0) {\n            gridOptions = new PathOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines.width, axis.majorGridLines.color, null, axis.majorGridLines.dashArray, majorGrid);\n            this.element.appendChild(chart.renderer.drawPath(gridOptions));\n        }\n        if (axis.minorGridLines.width > 0) {\n            gridOptions = new PathOption(chart.element.id + '_MinorGridLine_' + index, 'transparent', axis.minorGridLines.width, axis.minorGridLines.color, null, axis.minorGridLines.dashArray, minorGird);\n            this.element.appendChild(chart.renderer.drawPath(gridOptions));\n        }\n    };\n    return PolarRadarPanel;\n}(LineBase));\nexport { PolarRadarPanel };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption, logBase, CoefficientToVector, markerAnimate, PolarArc, valueToCoefficient, firstToLowerCase, valueToPolarCoefficient } from '../../common/utils/helper';\nimport { PolarRadarPanel } from '../axis/polar-radar-panel';\nimport { pointRender } from '../../common/model/constants';\nimport { Animation } from '@syncfusion/ej2-base';\n/**\n * `PolarSeries` Module used to render the polar series.\n */\nvar PolarSeries = /** @class */ (function (_super) {\n    __extends(PolarSeries, _super);\n    function PolarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Polar Series.\n     * @return {void}.\n     * @private\n     */\n    PolarSeries.prototype.render = function (series) {\n        var seriesType = firstToLowerCase(series.drawType);\n        if (series.drawType.indexOf('Column') > -1) {\n            this.columnDrawTypeRender(series);\n        }\n        else {\n            series.chart[seriesType + 'SeriesModule'].render(series, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        }\n    };\n    /**\n     * Render Column DrawType.\n     * @return {void}.\n     * @private\n     */\n    PolarSeries.prototype.columnDrawTypeRender = function (series) {\n        var visiblePoints = series.points;\n        var rect;\n        var options;\n        var argsData;\n        var startAngle;\n        var endAngle;\n        var itemCurrentXPos;\n        var radius;\n        var pointStartAngle;\n        var pointEndAngle;\n        var x1;\n        var x2;\n        var y1;\n        var y2;\n        var startValue;\n        var endValue;\n        var innerRadius;\n        var centerX = (series.clipRect.width / 2) + series.clipRect.x;\n        var dStartX;\n        var dStartY;\n        var centerY = (series.clipRect.height / 2) + series.clipRect.y;\n        var dEndX;\n        var dEndY;\n        var axisInversed = series.xAxis.isInversed ? 1 : 0;\n        var direction = '';\n        var sumofYValues = 0;\n        var interval = (series.points[1] ? series.points[1].xValue : 2 * series.points[0].xValue) - series.points[0].xValue;\n        var ticks = series.xAxis.valueType === 'Category' && series.xAxis.labelPlacement === 'BetweenTicks' ? 0 : interval / 2;\n        var rangeInterval = series.xAxis.valueType === 'DateTime' ? series.xAxis.dateTimeInterval : 1;\n        var min = series.xAxis.actualRange.min;\n        var inversedValue;\n        var vector;\n        this.getSeriesPosition(series);\n        var position = series.xAxis.isInversed ? (series.rectCount - 1 - series.position) : series.position;\n        var ticksbwtLabel = series.xAxis.valueType === 'Category' && series.xAxis.labelPlacement === 'BetweenTicks' ? 0.5\n            : 0.5 - (series.rectCount / 2);\n        do {\n            sumofYValues += rangeInterval;\n            min += rangeInterval;\n        } while (min <= series.xAxis.actualRange.max - (series.xAxis.valueType === 'Category' ? 0 : 1));\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                inversedValue = series.xAxis.isInversed ? (series.xAxis.visibleRange.max - point.xValue) :\n                    point.xValue - series.xAxis.visibleRange.min;\n                itemCurrentXPos = (inversedValue) +\n                    ((interval / series.rectCount) * position - ticks) + (sumofYValues / 360 * series.xAxis.startAngle);\n                itemCurrentXPos = (((itemCurrentXPos) / (sumofYValues)));\n                startAngle = 2 * Math.PI * (itemCurrentXPos + series.xAxis.startAngle);\n                endAngle = 2 * Math.PI * ((itemCurrentXPos + series.xAxis.startAngle) + (interval / series.rectCount) / (sumofYValues));\n                pointStartAngle = startAngle;\n                pointEndAngle = endAngle;\n                startAngle = (startAngle - 0.5 * Math.PI);\n                endAngle = (endAngle - 0.5 * Math.PI) - 0.000001;\n                if (series.drawType === 'StackingColumn' || series.drawType === 'RangeColumn') {\n                    startValue = series.drawType === 'RangeColumn' ? point.low : series.stackedValues.startValues[point.index];\n                    endValue = series.drawType === 'RangeColumn' ? point.high : series.stackedValues.endValues[point.index];\n                    endValue = (series.yAxis.valueType === 'Logarithmic' ?\n                        logBase(endValue === 0 ? 1 : endValue, series.yAxis.logBase) : endValue);\n                    endValue = endValue > series.yAxis.actualRange.max ? series.yAxis.actualRange.max : endValue;\n                    radius = startValue === endValue ? 0 : series.chart.radius * valueToCoefficient(endValue, series.yAxis);\n                    x1 = centerX + radius * Math.cos(startAngle);\n                    x2 = centerX + radius * Math.cos(endAngle);\n                    y1 = centerY + radius * Math.sin(startAngle);\n                    y2 = centerY + radius * Math.sin(endAngle);\n                    innerRadius = series.chart.radius * valueToCoefficient((startValue === 0 && series.yAxis.visibleRange.min !== 0) ? series.yAxis.visibleRange.min : startValue, series.yAxis);\n                    dStartX = centerX + innerRadius * Math.cos(startAngle);\n                    dStartY = centerY + innerRadius * Math.sin(startAngle);\n                    dEndX = centerX + innerRadius * Math.cos(endAngle);\n                    dEndY = centerY + innerRadius * Math.sin(endAngle);\n                    if (series.type === 'Polar') {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'A' + ' ' + radius + ' ' + radius + ' ' + '0' + ' '\n                            + '0' + ' ' + 1 + ' ' + x2 + ' ' + y2 + ' ' + 'L' + ' ' + dEndX + ' ' + dEndY + ' ' +\n                            'A' + ' ' + innerRadius + ' ' + innerRadius + ' ' + '1' + ' ' + '0' + ' ' + '0' + ' '\n                            + dStartX + ' ' + dStartY + ' ' + 'z');\n                    }\n                    else {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'L' + ' ' + x2 + ' ' + y2 + ' ' + 'L'\n                            + dEndX + ' ' + dEndY + ' ' + 'L' + ' ' + dStartX + ' ' + dStartY + ' ' + 'z');\n                    }\n                    point.regionData = new PolarArc(pointStartAngle, pointEndAngle, innerRadius, radius, itemCurrentXPos);\n                }\n                else {\n                    endValue = point.yValue > series.yAxis.actualRange.max ? series.yAxis.actualRange.max : point.yValue;\n                    radius = series.chart.radius * valueToCoefficient((series.yAxis.valueType === 'Logarithmic' ? logBase(endValue, series.yAxis.logBase) : endValue), series.yAxis);\n                    x1 = centerX + radius * Math.cos(startAngle);\n                    x2 = centerX + radius * Math.cos(endAngle);\n                    y1 = centerY + radius * Math.sin(startAngle);\n                    y2 = centerY + radius * Math.sin(endAngle);\n                    if (series.type === 'Polar') {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'A' + ' ' + radius + ' ' + radius + ' ' + '0' + ' ' +\n                            '0' + ' ' + 1 + ' ' + x2 + ' ' + y2 + ' ' + 'L' + ' ' + centerX + ' ' +\n                            centerY + ' ' + 'z');\n                    }\n                    else {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'L' + ' ' + x2 + ' ' + y2 + ' ' + 'L' + ' '\n                            + centerX + ' ' + centerY + ' ' + 'z');\n                    }\n                    point.regionData = new PolarArc(pointStartAngle, pointEndAngle, 0, radius, itemCurrentXPos);\n                }\n                argsData = this.triggerEvent(series.chart, series, point);\n                options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n                if (!argsData.cancel) {\n                    this.appendLinePath(options, series);\n                    if (series.type === 'Polar') {\n                        vector = CoefficientToVector(valueToPolarCoefficient((point.xValue + ticksbwtLabel / series.rectCount + series.position / series.rectCount), series.xAxis), series.chart.primaryXAxis.startAngle);\n                        point.symbolLocations.push({\n                            x: series.clipRect.width / 2 + series.clipRect.x + radius * vector.x,\n                            y: series.clipRect.height / 2 + series.clipRect.y + radius * vector.y\n                        });\n                    }\n                    else {\n                        point.symbolLocations.push({ x: (x1 + x2) / 2, y: (y1 + y2) / 2 });\n                    }\n                }\n            }\n        }\n        series.isRectSeries = true;\n    };\n    /**\n     * To trigger the point rendering event.\n     * @return {void}\n     * @private\n     */\n    PolarSeries.prototype.triggerEvent = function (chart, series, point) {\n        var argsData = {\n            cancel: false, name: pointRender, series: series, point: point,\n            fill: series.setPointColor(point, series.interior),\n            border: series.setBorderColor(point, { width: series.border.width, color: series.border.color })\n        };\n        chart.trigger(pointRender, argsData);\n        point.color = argsData.fill;\n        return argsData;\n    };\n    /** get position for column drawtypes\n     * @return {void}.\n     * @private\n     */\n    PolarSeries.prototype.getSeriesPosition = function (series) {\n        var chart = series.chart;\n        var seriesCollection = [];\n        var stackingGroup = [];\n        var vSeries = { rectCount: 0, position: null };\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series_1 = _a[_i];\n            if (series_1.visible && (series_1.type === 'Polar' || series_1.type === 'Radar') && series_1.drawType.indexOf('Column') !== -1) {\n                seriesCollection.push(series_1);\n            }\n        }\n        seriesCollection.forEach(function (series) {\n            if (series.drawType.indexOf('Stacking') !== -1) {\n                if (series.stackingGroup) {\n                    if (stackingGroup[series.stackingGroup] === undefined) {\n                        series.position = vSeries.rectCount;\n                        stackingGroup[series.stackingGroup] = vSeries.rectCount++;\n                    }\n                    else {\n                        series.position = stackingGroup[series.stackingGroup];\n                    }\n                }\n                else {\n                    if (vSeries.position === null) {\n                        series.position = vSeries.rectCount;\n                        vSeries.position = vSeries.rectCount++;\n                    }\n                    else {\n                        series.position = vSeries.position;\n                    }\n                }\n            }\n            else {\n                series.position = vSeries.rectCount++;\n            }\n        });\n        seriesCollection.forEach(function (value) {\n            value.rectCount = vSeries.rectCount;\n        });\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     */\n    PolarSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        var duration = series.animation.duration;\n        var delay = series.animation.delay;\n        var rectElements = series.seriesElement.childNodes;\n        var count = 1;\n        if (series.drawType === 'Scatter') {\n            for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                if (!point.symbolLocations.length || !rectElements[count]) {\n                    continue;\n                }\n                markerAnimate(rectElements[count], delay, duration, series, point.index, point.symbolLocations[0], false);\n                count++;\n            }\n        }\n        else {\n            for (count = 1; count < rectElements.length; count++) {\n                this.doPolarRadarAnimation(rectElements[count], delay, duration, series);\n            }\n        }\n    };\n    /**\n     * To do the Polar Radar draw type column animation.\n     * @return {void}\n     * @private\n     */\n    PolarSeries.prototype.doPolarRadarAnimation = function (animateElement, delay, duration, series) {\n        var chartcenterX = series.clipRect.width / 2 + series.clipRect.x;\n        var chartcenterY = series.clipRect.height / 2 + series.clipRect.y;\n        var elementHeight = 0;\n        animateElement.style.visibility = 'hidden';\n        new Animation({}).animate(animateElement, {\n            duration: duration,\n            delay: delay,\n            progress: function (args) {\n                if (args.timeStamp > args.delay) {\n                    args.element.style.visibility = 'visible';\n                    elementHeight = ((args.timeStamp - args.delay) / args.duration);\n                    animateElement.setAttribute('transform', 'translate(' + chartcenterX\n                        + ' ' + chartcenterY + ') scale(' + elementHeight + ') translate(' + (-chartcenterX) + ' ' + (-chartcenterY) + ')');\n                }\n            },\n            end: function (model) {\n                animateElement.style.visibility = 'visible';\n                animateElement.removeAttribute('transform');\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        });\n    };\n    /**\n     * Get module name.\n     */\n    PolarSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'PolarSeries';\n    };\n    /**\n     * To destroy the polar series.\n     * @return {void}\n     * @private\n     */\n    PolarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return PolarSeries;\n}(PolarRadarPanel));\nexport { PolarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { PolarSeries } from '../series/polar-series';\n/**\n * `RadarSeries` Module used to render the radar series.\n */\nvar RadarSeries = /** @class */ (function (_super) {\n    __extends(RadarSeries, _super);\n    function RadarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render radar Series.\n     * @return {void}.\n     * @private\n     */\n    RadarSeries.prototype.render = function (series) {\n        var seriesType = firstToLowerCase(series.drawType);\n        if (series.drawType.indexOf('Column') === -1) {\n            series.chart[seriesType + 'SeriesModule'].render(series, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        }\n        else {\n            this.columnDrawTypeRender(series);\n        }\n    };\n    /**\n     * Get module name.\n     */\n    RadarSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'RadarSeries';\n    };\n    /**\n     * To destroy the radar series.\n     * @return {void}\n     * @private\n     */\n    RadarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return RadarSeries;\n}(PolarSeries));\nexport { RadarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Stacking Bar Module used to render the Stacking Bar series.\n */\nvar StackingBarSeries = /** @class */ (function (_super) {\n    __extends(StackingBarSeries, _super);\n    function StackingBarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Stacking bar series.\n     * @return {void}\n     * @private\n     */\n    StackingBarSeries.prototype.render = function (series) {\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var stackedValue = series.stackedValues;\n        var rect;\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var pointStack = _a[_i];\n            pointStack.symbolLocations = [];\n            pointStack.regions = [];\n            if (pointStack.visible && withInRange(series.points[pointStack.index - 1], pointStack, series.points[pointStack.index + 1], series)) {\n                rect = this.getRectangle(pointStack.xValue + sideBySideInfo.start, stackedValue.endValues[pointStack.index], pointStack.xValue + sideBySideInfo.end, stackedValue.startValues[pointStack.index], series);\n                argsData = this.triggerEvent(series, pointStack, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.drawRectangle(series, pointStack, rect, argsData);\n                    this.updateSymbolLocation(pointStack, rect, series);\n                }\n            }\n        }\n    };\n    /**\n     * To destroy the stacking bar.\n     * @return {void}\n     * @private\n     */\n    StackingBarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StackingBarSeries.prototype.getModuleName = function () {\n        return 'StackingBarSeries';\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    StackingBarSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    return StackingBarSeries;\n}(ColumnBase));\nexport { StackingBarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Candle Module used to render the candle series.\n */\nvar CandleSeries = /** @class */ (function (_super) {\n    __extends(CandleSeries, _super);\n    function CandleSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Candle series.\n     * @return {void}\n     * @private\n     */\n    CandleSeries.prototype.render = function (series) {\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        var borderWidth = Math.max(series.border.width, 1);\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            var direction = '';\n            var centerRegion = void 0;\n            var tickRegion = void 0;\n            var midPoint = void 0;\n            midPoint = (sideBySideInfo.start + sideBySideInfo.end) / 2;\n            //initializing after zooming and also normal initialization\n            point.regions = [];\n            point.symbolLocations = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                //region to cover the top and bottom ticks\n                tickRegion = this.getRectangle((point.xValue + sideBySideInfo.median), Math.max(point.high, point.low), (point.xValue + sideBySideInfo.median), Math.min(point.high, point.low), series);\n                if (!series.chart.requireInvertedAxis) {\n                    tickRegion.x -= borderWidth / 2;\n                    tickRegion.width = borderWidth;\n                }\n                else {\n                    tickRegion.y -= borderWidth / 2;\n                    tickRegion.height = borderWidth;\n                }\n                //get middleRect\n                centerRegion = this.getRectangle((point.xValue + sideBySideInfo.start), Math.max(point.open, point.close), (point.xValue + sideBySideInfo.end), Math.min(point.open, point.close), series);\n                direction = this.getPathString(tickRegion, centerRegion, series);\n                argsData = this.triggerPointRenderEvent(series, point);\n                if (!argsData.cancel) {\n                    this.drawCandle(series, point, centerRegion, argsData, direction);\n                    this.updateSymbolLocation(point, tickRegion, series);\n                    this.updateSymbolLocation(point, centerRegion, series);\n                }\n            }\n        }\n    };\n    /**\n     * Trigger point rendering event\n     */\n    CandleSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var fill;\n        fill = this.getCandleColor(point, series);\n        var border = { color: series.border.color, width: Math.max(series.border.width, 1) };\n        return this.triggerEvent(series, point, fill, border);\n    };\n    /**\n     * Find the color of the candle\n     * @param series\n     * @private\n     */\n    CandleSeries.prototype.getCandleColor = function (point, series) {\n        var currentPoint = point;\n        var previousPoint = series.points[point.index - 1];\n        if (series.enableSolidCandles === false) {\n            if (!previousPoint) {\n                return series.bearFillColor;\n            }\n            else {\n                return previousPoint.close > point.close ? series.bullFillColor :\n                    series.bearFillColor;\n            }\n        }\n        else {\n            return point.open > point.close ? series.bullFillColor :\n                series.bearFillColor;\n        }\n    };\n    /**\n     * Finds the path of the candle shape\n     * @param Series\n     * @private\n     */\n    CandleSeries.prototype.getPathString = function (topRect, midRect, series) {\n        var direction = '';\n        var width = series.chart.requireInvertedAxis ? topRect.height : topRect.width;\n        var center = series.chart.requireInvertedAxis ? topRect.y + topRect.height / 2 :\n            topRect.x + topRect.width / 2;\n        //tick 1 segment\n        direction += !series.chart.requireInvertedAxis ?\n            'M' + ' ' + (center) + ' ' + (topRect.y) + ' ' + 'L' + ' ' + (center) + ' ' + midRect.y :\n            'M' + ' ' + (topRect.x) + ' ' + (center) + ' ' + 'L' + ' ' + (midRect.x) + ' ' + center;\n        direction = direction.concat(' M' + ' ' + (midRect.x) + ' ' + (midRect.y) + ' ' +\n            'L' + ' ' + (midRect.x + midRect.width) + ' ' + (midRect.y) + ' ' +\n            'L' + ' ' + (midRect.x + midRect.width) + ' ' +\n            (midRect.y + midRect.height) + ' ' +\n            'L' + ' ' + (midRect.x) + ' ' + (midRect.y + midRect.height) +\n            ' ' + 'Z');\n        direction += !series.chart.requireInvertedAxis ?\n            ' M' + ' ' + (center) + ' ' + (midRect.y + midRect.height) + ' ' + 'L' + ' ' + (center) + ' ' + (topRect.y +\n                topRect.height) :\n            ' M' + ' ' + (midRect.x + midRect.width) + ' ' + (center) + ' ' + 'L' + ' ' +\n                (topRect.x + topRect.width) + ' ' + center;\n        return direction;\n    };\n    /**\n     * Draws the candle shape\n     * @param series\n     * @private\n     */\n    CandleSeries.prototype.drawCandle = function (series, point, rect, argsData, direction) {\n        var check = series.chart.requireInvertedAxis ? rect.height : rect.width;\n        if (check <= 0) {\n            return null;\n        }\n        var fill = !series.enableSolidCandles ?\n            (point.open > point.close ? argsData.fill : 'transparent') : argsData.fill;\n        argsData.border.color = argsData.fill;\n        var options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index, fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n        var candleElement = series.chart.renderer.drawPath(options);\n        candleElement.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString()\n            + ':' + point.low.toString() + ':' + point.close.toString() + ':' + point.open.toString());\n        series.seriesElement.appendChild(candleElement);\n    };\n    /**\n     * Animate the series\n     * @param series\n     * @private\n     */\n    CandleSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    CandleSeries.prototype.getModuleName = function () {\n        return 'CandleSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the candle series.\n     * @return {void}\n     * @private\n     */\n    CandleSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the candle series.\n         */\n    };\n    return CandleSeries;\n}(ColumnBase));\nexport { CandleSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Stacking Column Module used to render the Stacking Column series.\n */\nvar StackingColumnSeries = /** @class */ (function (_super) {\n    __extends(StackingColumnSeries, _super);\n    function StackingColumnSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Stacking column series.\n     * @return {void}\n     * @private\n     */\n    StackingColumnSeries.prototype.render = function (series) {\n        series.isRectSeries = true;\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var rect;\n        var argsData;\n        var stackedValue = series.stackedValues;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                rect = this.getRectangle(point.xValue + sideBySideInfo.start, stackedValue.endValues[point.index], point.xValue + sideBySideInfo.end, stackedValue.startValues[point.index], series);\n                argsData = this.triggerEvent(series, point, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.drawRectangle(series, point, rect, argsData);\n                    this.updateSymbolLocation(point, rect, series);\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    StackingColumnSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the stacking column.\n     * @return {void}\n     * @private\n     */\n    StackingColumnSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StackingColumnSeries.prototype.getModuleName = function () {\n        return 'StackingColumnSeries';\n    };\n    return StackingColumnSeries;\n}(ColumnBase));\nexport { StackingColumnSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, getPoint, withInRange, Rect } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * StepLine Module used to render the step line series.\n */\nvar StepLineSeries = /** @class */ (function (_super) {\n    __extends(StepLineSeries, _super);\n    function StepLineSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Step line series.\n     * @return {void}\n     * @private\n     */\n    StepLineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var direction = '';\n        var startPoint = 'M';\n        var prevPoint = null;\n        var pathOptions;\n        var lineLength;\n        var point1;\n        var point2;\n        var visiblePoints = this.improveChartPerformance(series);\n        if (xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks') {\n            lineLength = 0.5;\n        }\n        else {\n            lineLength = 0;\n        }\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                if (prevPoint != null) {\n                    point2 = getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted);\n                    point1 = getPoint(prevPoint.xValue, prevPoint.yValue, xAxis, yAxis, isInverted);\n                    direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ' + 'L' + ' ' +\n                        (point2.x) + ' ' + (point1.y) + 'L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n                    startPoint = 'L';\n                }\n                else {\n                    point1 = getPoint(point.xValue - lineLength, point.yValue, xAxis, yAxis, isInverted);\n                    direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n                    startPoint = 'L';\n                }\n                point.symbolLocations.push(getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted));\n                prevPoint = point;\n                point.regions.push(new Rect(point.symbolLocations[0].x - series.marker.width, point.symbolLocations[0].y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n            }\n            else {\n                prevPoint = series.emptyPointSettings.mode === 'Drop' ? prevPoint : null;\n                startPoint = series.emptyPointSettings.mode === 'Drop' ? startPoint : 'M';\n            }\n        }\n        point1 = getPoint(visiblePoints[visiblePoints.length - 1].xValue + lineLength, visiblePoints[visiblePoints.length - 1].yValue, xAxis, yAxis, isInverted);\n        direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n        pathOptions = new PathOption(series.chart.element.id + '_Series_' + series.index, 'transparent', series.width, series.interior, series.opacity, series.dashArray, direction);\n        this.appendLinePath(pathOptions, series);\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    StepLineSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * To destroy the step line series.\n     * @return {void}\n     * @private\n     */\n    StepLineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StepLineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'StepLineSeries';\n    };\n    return StepLineSeries;\n}(LineBase));\nexport { StepLineSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getPoint, withInRange, ChartLocation, PathOption, Rect } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * StepArea Module used to render the StepArea series.\n */\nvar StepAreaSeries = /** @class */ (function (_super) {\n    __extends(StepAreaSeries, _super);\n    function StepAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render StepArea series.\n     * @return {void}\n     * @private\n     */\n    StepAreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var currentPoint;\n        var secondPoint;\n        var start = null;\n        var direction = '';\n        var pointsLength = series.points.length;\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var options;\n        var point;\n        var xValue;\n        var lineLength;\n        var prevPoint = null;\n        if (xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks') {\n            lineLength = 0.5;\n        }\n        else {\n            lineLength = 0;\n        }\n        for (var i = 0; i < pointsLength; i++) {\n            point = series.points[i];\n            xValue = point.xValue;\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[i - 1], point, series.points[i + 1], series)) {\n                if (start === null) {\n                    start = new ChartLocation(xValue, 0);\n                    // Start point for the current path\n                    currentPoint = getPoint(xValue - lineLength, origin, xAxis, yAxis, isInverted);\n                    direction += ('M' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ');\n                    currentPoint = getPoint(xValue - lineLength, point.yValue - lineLength, xAxis, yAxis, isInverted);\n                    direction += ('L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ');\n                }\n                // First Point to draw the Steparea path\n                if (prevPoint != null) {\n                    currentPoint = getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted);\n                    secondPoint = getPoint(prevPoint.xValue, prevPoint.yValue, xAxis, yAxis, isInverted);\n                    direction += ('L' + ' ' +\n                        (currentPoint.x) + ' ' + (secondPoint.y) + 'L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ');\n                }\n                else if (series.emptyPointSettings.mode === 'Gap') {\n                    currentPoint = getPoint(point.xValue + lineLength, point.yValue, xAxis, yAxis, isInverted);\n                    direction += 'L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ';\n                }\n                point.symbolLocations.push(getPoint(xValue, point.yValue, xAxis, yAxis, isInverted));\n                point.regions.push(new Rect(point.symbolLocations[0].x - series.marker.width, point.symbolLocations[0].y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n                prevPoint = point;\n            }\n            if (series.points[i + 1] && !series.points[i + 1].visible && series.emptyPointSettings.mode !== 'Drop') {\n                // current start point\n                currentPoint = getPoint(xValue + lineLength, origin, xAxis, yAxis, isInverted);\n                direction += ('L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y));\n                start = null;\n                prevPoint = null;\n            }\n        }\n        if (pointsLength > 1) {\n            start = { 'x': series.points[pointsLength - 1].xValue + lineLength, 'y': series.points[pointsLength - 1].yValue };\n            secondPoint = getPoint(start.x, start.y, xAxis, yAxis, isInverted);\n            direction += ('L' + ' ' + (secondPoint.x) + ' ' + (secondPoint.y) + ' ');\n            start = { 'x': series.points[pointsLength - 1].xValue + lineLength, 'y': origin };\n            secondPoint = getPoint(start.x, start.y, xAxis, yAxis, isInverted);\n            direction += ('L' + ' ' + (secondPoint.x) + ' ' + (secondPoint.y) + ' ');\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series);\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    StepAreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * To destroy the step Area series.\n     * @return {void}\n     * @private\n     */\n    StepAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StepAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'StepAreaSeries';\n    };\n    return StepAreaSeries;\n}(LineBase));\nexport { StepAreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, getPoint, withInRange, Rect, TransformToVisible } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * Stacking Area Module used to render the Stacking Area series.\n */\nvar StackingAreaSeries = /** @class */ (function (_super) {\n    __extends(StackingAreaSeries, _super);\n    function StackingAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Stacking area series.\n     * @return {void}\n     * @private\n     */\n    StackingAreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        var lineDirection = '';\n        var visiblePoints = series.points;\n        var pointsLength = visiblePoints.length;\n        var stackedvalue = series.stackedValues;\n        var origin = series.chart.chartAreaType === 'PolarRadar' ?\n            Math.max(series.yAxis.visibleRange.min, stackedvalue.endValues[0]) :\n            Math.max(series.yAxis.visibleRange.min, stackedvalue.startValues[0]);\n        var border = series.border;\n        var options;\n        var startPoint = 0;\n        var point1 = getCoordinate(visiblePoints[0].xValue, origin, xAxis, yAxis, isInverted, series);\n        var point2;\n        lineDirection = lineDirection.concat('M' + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n        for (var i = 0; i < pointsLength; i++) {\n            visiblePoints[i].symbolLocations = [];\n            visiblePoints[i].regions = [];\n            if (visiblePoints[i].visible && withInRange(visiblePoints[i - 1], visiblePoints[i], visiblePoints[i + 1], series)) {\n                point1 = getCoordinate(visiblePoints[i].xValue, stackedvalue.endValues[i], xAxis, yAxis, isInverted, series);\n                lineDirection = lineDirection.concat('L' + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n                visiblePoints[i].symbolLocations.push(getCoordinate(visiblePoints[i].xValue, stackedvalue.endValues[i], xAxis, yAxis, isInverted, series));\n                visiblePoints[i].regions.push(new Rect(visiblePoints[i].symbolLocations[0].x - series.marker.width, visiblePoints[i].symbolLocations[0].y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n            }\n            else {\n                if (series.emptyPointSettings.mode !== 'Drop') {\n                    for (var j = i - 1; j >= startPoint; j--) {\n                        point2 = getCoordinate(visiblePoints[j].xValue, stackedvalue.startValues[j], xAxis, yAxis, isInverted, series);\n                        lineDirection = lineDirection.concat('L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n                    }\n                    if (visiblePoints[i + 1] && visiblePoints[i + 1].visible) {\n                        point1 = getCoordinate(visiblePoints[i + 1].xValue, stackedvalue.startValues[i + 1], xAxis, yAxis, isInverted, series);\n                        lineDirection = lineDirection.concat('M' + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n                    }\n                    startPoint = i + 1;\n                }\n            }\n        }\n        if (series.chart.chartAreaType === 'PolarRadar' && visiblePoints.length > 1) {\n            point1 = { 'x': series.points[0].xValue, 'y': stackedvalue.endValues[0] };\n            point2 = getCoordinate(point1.x, point1.y, xAxis, yAxis, isInverted, series);\n            lineDirection += ('L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n            point1 = { 'x': series.points[0].xValue, 'y': stackedvalue.startValues[0] };\n            point2 = getCoordinate(point1.x, point1.y, xAxis, yAxis, isInverted, series);\n            lineDirection += ('L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n        }\n        for (var j = pointsLength - 1; j >= startPoint; j--) {\n            var previousSeries = this.getPreviousSeries(series);\n            if (previousSeries.emptyPointSettings.mode !== 'Drop' || !previousSeries.points[j].isEmpty) {\n                point2 = getCoordinate(visiblePoints[j].xValue, stackedvalue.startValues[j], xAxis, yAxis, isInverted, series);\n                lineDirection = lineDirection.concat('L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n            }\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, lineDirection);\n        this.appendLinePath(options, series);\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    StackingAreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * To destroy the stacking area.\n     * @return {void}\n     * @private\n     */\n    StackingAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StackingAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'StackingAreaSeries';\n    };\n    /**\n     * To find previous visible series\n     */\n    StackingAreaSeries.prototype.getPreviousSeries = function (series) {\n        var seriesCollection = series.chart.visibleSeries;\n        for (var i = 0, length_1 = seriesCollection.length; i < length_1; i++) {\n            if (series.index === seriesCollection[i].index && i !== 0) {\n                return seriesCollection[i - 1];\n            }\n        }\n        return seriesCollection[0];\n    };\n    return StackingAreaSeries;\n}(LineBase));\nexport { StackingAreaSeries };\n","import { withInRange, getPoint, PathOption, drawSymbol, Size, Rect, markerAnimate, TransformToVisible } from '../../common/utils/helper';\nimport { pointRender } from '../../common/model/constants';\n/**\n * Scatter Module used to render the scatter series.\n */\nvar ScatterSeries = /** @class */ (function () {\n    function ScatterSeries() {\n    }\n    /**\n     * Render the scatter series.\n     * @return {void}\n     * @private\n     */\n    ScatterSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var seriesIndex = series.index;\n        var marker = series.marker;\n        var border = series.border;\n        var shape = marker.shape;\n        var visiblePoints = series.points;\n        var pointIndex;\n        var symbolId;\n        var shapeOption;\n        var argsData;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                point.symbolLocations.push(getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series));\n                symbolId = series.chart.element.id + '_Series_' + seriesIndex + '_Point_' + point.index;\n                argsData = {\n                    cancel: false, name: pointRender, series: series, point: point,\n                    fill: series.setPointColor(point, series.interior),\n                    border: series.setBorderColor(point, { width: series.border.width, color: series.border.color }),\n                    height: marker.height, width: marker.width\n                };\n                series.chart.trigger(pointRender, argsData);\n                if (!argsData.cancel) {\n                    point.color = argsData.fill;\n                    shapeOption = new PathOption(symbolId, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, null);\n                    series.seriesElement.appendChild(drawSymbol(point.symbolLocations[0], shape, new Size(argsData.width, argsData.height), marker.imageUrl, shapeOption, point.x.toString() + ':' + point.yValue.toString()));\n                    point.regions.push(new Rect(point.symbolLocations[0].x - marker.width, point.symbolLocations[0].y - marker.height, 2 * marker.width, 2 * marker.height));\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     */\n    ScatterSeries.prototype.doAnimation = function (series) {\n        var duration = series.animation.duration;\n        var delay = series.animation.delay;\n        var rectElements = series.seriesElement.childNodes;\n        var count = 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (!point.symbolLocations.length || !rectElements[count]) {\n                continue;\n            }\n            markerAnimate(rectElements[count], delay, duration, series, point.index, point.symbolLocations[0], false);\n            count++;\n        }\n    };\n    /**\n     * Get module name.\n     */\n    ScatterSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'ScatterSeries';\n    };\n    /**\n     * To destroy the scatter.\n     * @return {void}\n     * @private\n     */\n    ScatterSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return ScatterSeries;\n}());\nexport { ScatterSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `RangeColumnSeries` Module used to render the range column series.\n */\nvar RangeColumnSeries = /** @class */ (function (_super) {\n    __extends(RangeColumnSeries, _super);\n    function RangeColumnSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Range Column series.\n     * @return {void}\n     * @private\n     */\n    RangeColumnSeries.prototype.render = function (series) {\n        var rect;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        //let origin: number = Math.max(<number>series.yAxis.visibleRange.min, 0);\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var rangePoint = _a[_i];\n            rangePoint.symbolLocations = [];\n            rangePoint.regions = [];\n            if (rangePoint.visible && withInRange(series.points[rangePoint.index - 1], rangePoint, series.points[rangePoint.index + 1], series)) {\n                rect = this.getRectangle(rangePoint.xValue + sideBySideInfo.start, rangePoint.high, rangePoint.xValue + sideBySideInfo.end, rangePoint.low, series);\n                argsData = this.triggerEvent(series, rangePoint, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(rangePoint, rect, series);\n                    this.drawRectangle(series, rangePoint, rect, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * Get module name.\n     */\n    RangeColumnSeries.prototype.getModuleName = function () {\n        return 'RangeColumnSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * Animates the series.\n     * @return {void}\n     * @private\n     */\n    RangeColumnSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the range column series.\n     * @return {void}\n     * @private\n     */\n    RangeColumnSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return RangeColumnSeries;\n}(ColumnBase));\nexport { RangeColumnSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, withInRange, subArraySum } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Waterfall Module used to render the waterfall series.\n */\nvar WaterfallSeries = /** @class */ (function (_super) {\n    __extends(WaterfallSeries, _super);\n    function WaterfallSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render waterfall series.\n     * @return {void}\n     * @private\n     */\n    WaterfallSeries.prototype.render = function (series) {\n        var rect;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var argsData;\n        var prevEndValue = 0;\n        var direction = '';\n        var currentEndValue = 0;\n        var originValue;\n        var prevRegion = null;\n        var y;\n        var isInversed = series.chart.requireInvertedAxis;\n        var intermediateOrigin = 0;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                //Calcute the current point value to render waterfall series.\n                var isSum = this.isIntermediateSum(series, point.index);\n                var totalSum = this.isSumIndex(series, point.index);\n                currentEndValue += isSum || totalSum === true ? 0 : point.yValue;\n                //Calcute the origin value for points\n                originValue = (isSum === true ? intermediateOrigin : ((prevEndValue !== null && !totalSum) ? prevEndValue : origin));\n                rect = this.getRectangle(point.xValue + sideBySideInfo.start, currentEndValue, point.xValue + sideBySideInfo.end, originValue, series);\n                argsData = this.triggerPointRenderEvent(series, point);\n                //intermediateOrigin is used only for imtermediate data \n                if (isSum) {\n                    intermediateOrigin = currentEndValue;\n                }\n                prevEndValue = currentEndValue;\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(point, rect, series);\n                    this.drawRectangle(series, point, rect, argsData);\n                }\n                var currentRegion = point.regions[0];\n                if (prevRegion !== null) {\n                    var prevLeft = isInversed ? prevRegion.x : prevRegion.y;\n                    var currentLeft = isInversed ? currentRegion.x : currentRegion.y;\n                    var prevBottom = isInversed ? prevRegion.x + prevRegion.width : prevRegion.y + prevRegion.height;\n                    var currentBottom = isInversed ?\n                        currentRegion.x + currentRegion.width : currentRegion.y + currentRegion.height;\n                    if (Math.round(prevLeft) === Math.round(currentLeft) ||\n                        Math.round(prevBottom) === Math.round(currentLeft)) {\n                        y = isInversed ? currentRegion.x : currentRegion.y;\n                    }\n                    else {\n                        y = currentBottom;\n                    }\n                    if (isInversed) {\n                        direction = direction.concat('M' + ' ' + y + ' ' + (prevRegion.y + prevRegion.height) + ' ' +\n                            'L' + ' ' + y + ' ' + currentRegion.y + ' ');\n                    }\n                    else {\n                        direction = direction.concat('M' + ' ' + prevRegion.x + ' ' + y + ' ' +\n                            'L' + ' ' + (currentRegion.x + currentRegion.width) + ' ' + y + ' ');\n                    }\n                }\n                prevRegion = point.regions[0];\n            }\n        }\n        var options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Connector_', 'none', series.connector.width, series.connector.color, series.opacity, series.connector.dashArray, direction);\n        var element = series.chart.renderer.drawPath(options);\n        if (series.chart.animateSeries) {\n            element.style.visibility = 'hidden';\n        }\n        series.seriesElement.appendChild(element);\n    };\n    /**\n     * To check intermediateSumIndex in waterfall series.\n     * @return boolean\n     * @private\n     */\n    WaterfallSeries.prototype.isIntermediateSum = function (series, index) {\n        if (series.intermediateSumIndexes !== undefined && series.intermediateSumIndexes.indexOf(index) !== -1) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To check sumIndex in waterfall series.\n     * @return boolean\n     * @private\n     */\n    WaterfallSeries.prototype.isSumIndex = function (series, index) {\n        if (series.sumIndexes !== undefined && series.sumIndexes.indexOf(index) !== -1) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To trigger the point rendering event for waterfall series.\n     * @return IPointRenderEventArgs\n     * @private\n     */\n    WaterfallSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var color;\n        var isSum = this.isIntermediateSum(series, point.index);\n        var totalSum = this.isSumIndex(series, point.index);\n        if (isSum || totalSum) {\n            color = series.summaryFillColor;\n        }\n        else if (point.y < 0) {\n            color = series.negativeFillColor;\n        }\n        else {\n            color = series.interior;\n        }\n        return this.triggerEvent(series, point, color, { color: series.border.color, width: series.border.width });\n    };\n    /**\n     * Add sumIndex and intermediateSumIndex data.\n     * @return {object[]}\n     * @private\n     */\n    WaterfallSeries.prototype.processWaterfallData = function (json, series) {\n        var data = json;\n        var length = json.length;\n        var index;\n        var intermediateSum = series.intermediateSumIndexes;\n        var sumIndex = series.sumIndexes;\n        if (intermediateSum !== undefined && intermediateSum.length > 0) {\n            for (var i = 0; i < intermediateSum.length; i++) {\n                for (var j = 0; j < data.length; j++) {\n                    if (j === intermediateSum[i]) {\n                        if (i === 0) {\n                            index = subArraySum(data, -1, intermediateSum[i], null, series);\n                        }\n                        else {\n                            index = subArraySum(data, intermediateSum[i - 1], intermediateSum[i], null, series);\n                        }\n                        data[j][series.yName] = index;\n                    }\n                }\n            }\n        }\n        if (sumIndex !== undefined && sumIndex.length > 0) {\n            for (var k = 0; k < sumIndex.length; k++) {\n                for (var j = 0; j < data.length; j++) {\n                    if (j === sumIndex[k]) {\n                        if (intermediateSum !== undefined) {\n                            index = subArraySum(data, -1, sumIndex[k], sumIndex, series);\n                        }\n                        else {\n                            index = subArraySum(data, -1, sumIndex[k], null, series);\n                        }\n                        data[j][series.yName] = index;\n                    }\n                }\n            }\n        }\n        return data;\n    };\n    /**\n     * Animates the waterfall series.\n     * @return {void}\n     * @private\n     */\n    WaterfallSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    WaterfallSeries.prototype.getModuleName = function () {\n        return 'WaterfallSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the waterfall series.\n     * @return {void}\n     * @private\n     */\n    WaterfallSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the waterfall series.\n         */\n    };\n    return WaterfallSeries;\n}(ColumnBase));\nexport { WaterfallSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Hilo Module used to render the Hilo series.\n */\nvar HiloSeries = /** @class */ (function (_super) {\n    __extends(HiloSeries, _super);\n    function HiloSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Hiloseries.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.render = function (series) {\n        var region;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible &&\n                withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                region = this.getRectangle(point.xValue + sideBySideInfo.median, point.high, point.xValue + sideBySideInfo.median, point.low, series);\n                argsData = this.triggerPointRenderEvent(series, point);\n                if (!argsData.cancel) {\n                    if (!series.chart.requireInvertedAxis) {\n                        region.width = argsData.border.width;\n                        region.x = region.x - (region.width / 2);\n                    }\n                    else {\n                        region.height = argsData.border.width;\n                        region.y = region.y - (region.height / 2);\n                    }\n                    argsData.border.width = 0;\n                    this.updateSymbolLocation(point, region, series);\n                    this.drawRectangle(series, point, region, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * To trigger the point rendering event.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var border = { color: series.fill, width: Math.max(series.border.width, 2) };\n        return _super.prototype.triggerEvent.call(this, series, point, series.interior, border);\n    };\n    /**\n     * Get module name.\n     */\n    HiloSeries.prototype.getModuleName = function () {\n        return 'HiloSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * Animates the series.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the Hilo series.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the Hilo Series\n         */\n    };\n    return HiloSeries;\n}(ColumnBase));\nexport { HiloSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * hiloOpenClose Module used to render the hiloOpenClose series.\n */\nvar HiloOpenCloseSeries = /** @class */ (function (_super) {\n    __extends(HiloOpenCloseSeries, _super);\n    function HiloOpenCloseSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render HiloOpenCloseSeries series.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.render = function (series) {\n        var highLowRect;\n        var open;\n        var close;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        var borderWidth = Math.max(series.border.width, 2);\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible &&\n                withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                //highlow\n                highLowRect = this.getRectangle(point.xValue + sideBySideInfo.start, Math.max(point.high, point.low), point.xValue + sideBySideInfo.end, Math.min(point.high, point.low), series);\n                point.regions.push(this.getRectangle(point.xValue + sideBySideInfo.median, Math.max(point.high, point.low), point.xValue + sideBySideInfo.median, Math.min(point.high, point.low), series));\n                this.updateTickRegion(!series.chart.requireInvertedAxis, point.regions[0], borderWidth);\n                //open\n                point.regions.push(this.getRectangle(point.xValue + sideBySideInfo.start, Math.max(point.open, point.close), point.xValue + sideBySideInfo.median, Math.max(point.open, point.close), series));\n                //close\n                point.regions.push(this.getRectangle(point.xValue + sideBySideInfo.median, Math.min(point.open, point.close), point.xValue + sideBySideInfo.end, Math.min(point.open, point.close), series));\n                argsData = this.triggerPointRenderEvent(series, point);\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(point, point.regions[0], series);\n                    var open_1 = { x: point.regions[1].x, y: point.regions[1].y };\n                    var close_1 = { x: point.regions[2].x, y: point.regions[2].y };\n                    this.drawHiloOpenClosePath(series, point, open_1, close_1, highLowRect, argsData);\n                }\n                this.updateTickRegion(series.chart.requireInvertedAxis, point.regions[1], borderWidth);\n                this.updateTickRegion(series.chart.requireInvertedAxis, point.regions[2], borderWidth);\n            }\n        }\n    };\n    /**\n     * Updates the tick region\n     */\n    HiloOpenCloseSeries.prototype.updateTickRegion = function (horizontal, region, borderWidth) {\n        if (horizontal) {\n            region.x -= borderWidth / 2;\n            region.width = borderWidth;\n        }\n        else {\n            region.y -= borderWidth / 2;\n            region.height = borderWidth;\n        }\n    };\n    /**\n     * Trigger point rendering event\n     */\n    HiloOpenCloseSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var fill = (point.open <= point.close) ? series.bearFillColor : series.bullFillColor;\n        var border = { color: series.border.color, width: Math.max(series.border.width, 1) };\n        return this.triggerEvent(series, point, fill, border);\n    };\n    /**\n     * To draw the rectangle for points.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.drawHiloOpenClosePath = function (series, point, open, close, rect, argsData) {\n        // region highlow\n        var direction;\n        var options;\n        if (series.chart.requireInvertedAxis) {\n            direction = ('M' + ' ' + (rect.x) + ' ' + (rect.y + rect.height / 2) + ' ' +\n                'L' + ' ' + (rect.x + rect.width) + ' ' + (rect.y + rect.height / 2) + ' ');\n            direction += ('M' + ' ' + (open.x) + ' ' + (rect.y + rect.height / 2) + ' ' +\n                'L' + ' ' + (open.x) + ' ' + (rect.y + rect.height) + ' ');\n            direction += ('M' + ' ' + (close.x) + ' ' + (rect.y + rect.height / 2) + ' ' +\n                'L' + ' ' + (close.x) + ' ' + (rect.y) + ' ');\n        }\n        else {\n            direction = ('M' + ' ' + (rect.x + rect.width / 2) + ' ' + (rect.y + rect.height) + ' ' +\n                'L' + ' ' + (rect.x + rect.width / 2) + ' ' + (rect.y) + ' ');\n            //region opentick\n            direction += ('M' + ' ' + (rect.x) + ' ' + (open.y) + ' ' +\n                'L' + ' ' + (rect.x + rect.width / 2) + ' ' + (open.y) + ' ');\n            //region closetick\n            direction += ('M' + ' ' + (rect.x + rect.width / 2) + ' ' + (close.y) + ' ' +\n                'L' + ' ' + (rect.x + rect.width) + ' ' + (close.y) + ' ');\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index, argsData.fill, argsData.border.width, argsData.fill, series.opacity, series.dashArray, direction);\n        var element = series.chart.renderer.drawPath(options);\n        element.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString()\n            + ':' + point.low.toString() + ':' + point.close.toString() + ':' + point.open.toString());\n        series.seriesElement.appendChild(element);\n    };\n    /**\n     * Get module name.\n     */\n    HiloOpenCloseSeries.prototype.getModuleName = function () {\n        return 'HiloOpenCloseSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * Animates the series.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the column series.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return HiloOpenCloseSeries;\n}(ColumnBase));\nexport { HiloOpenCloseSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, getPoint, PathOption, Rect } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * RangeAreaSeries Module used to render the rangeArea series.\n */\nvar RangeAreaSeries = /** @class */ (function (_super) {\n    __extends(RangeAreaSeries, _super);\n    function RangeAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render RangeArea Series.\n     * @return {void}.\n     * @private\n     */\n    RangeAreaSeries.prototype.render = function (series) {\n        var point;\n        var direction = '';\n        var command = 'M';\n        var closed = undefined;\n        var visiblePoints = this.improveChartPerformance(series);\n        for (var i = 0, length_1 = visiblePoints.length; i < length_1; i++) {\n            point = visiblePoints[i];\n            point.symbolLocations = [];\n            point.regions = [];\n            var low = Math.min(point.low, point.high);\n            var high = Math.max(point.low, point.high);\n            if (series.yAxis.isInversed) {\n                var temp = low;\n                low = high;\n                high = temp;\n            }\n            var lowPoint = getPoint(point.xValue, low, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n            var highPoint = getPoint(point.xValue, high, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n            point.symbolLocations.push(highPoint);\n            point.symbolLocations.push(lowPoint);\n            var rect = new Rect(Math.min(lowPoint.x, highPoint.x), Math.min(lowPoint.y, highPoint.y), Math.max(Math.abs(highPoint.x - lowPoint.x), series.marker.width), Math.max(Math.abs(highPoint.y - lowPoint.y), series.marker.width));\n            if (!series.chart.requireInvertedAxis) {\n                rect.x -= series.marker.width / 2;\n            }\n            else {\n                rect.y -= series.marker.width / 2;\n            }\n            point.regions.push(rect);\n            //Path to connect the high points\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                direction = direction.concat(command + ' ' + (lowPoint.x) + ' ' + (lowPoint.y) + ' ');\n                closed = false;\n                if ((i + 1 < visiblePoints.length && !visiblePoints[i + 1].visible)\n                    || i === visiblePoints.length - 1) {\n                    // Path to connect the low points\n                    direction = this.closeRangeAreaPath(visiblePoints, point, series, direction, i);\n                    command = 'M';\n                    direction = direction.concat(' ' + 'Z');\n                    closed = true;\n                }\n                command = 'L';\n            }\n            else {\n                if (closed === false && i !== 0) {\n                    direction = this.closeRangeAreaPath(visiblePoints, point, series, direction, i);\n                    closed = true;\n                }\n                command = 'M';\n                point.symbolLocations = [];\n            }\n        }\n        var name = series.category === 'Indicator' ? series.chart.element.id + '_Indicator_' + series.index + '_' + series.name :\n            series.chart.element.id + '_Series_' + series.index;\n        var options = new PathOption(name, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series);\n        this.renderMarker(series);\n    };\n    /**\n     * path for rendering the low points\n     * @return {void}.\n     * @private\n     */\n    RangeAreaSeries.prototype.closeRangeAreaPath = function (visiblePoints, point, series, direction, i) {\n        for (var j = i; j >= 0; j--) {\n            if (visiblePoints[j].visible && visiblePoints[j].symbolLocations[0]) {\n                point = visiblePoints[j];\n                direction += 'L' + ' ' + (point.symbolLocations[0].x) + ' ' + ((point.symbolLocations[0].y)) + ' ';\n            }\n            else {\n                break;\n            }\n        }\n        return direction;\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    RangeAreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * Get module name.\n     */\n    RangeAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'RangeAreaSeries';\n    };\n    /**\n     * To destroy the line series.\n     * @return {void}\n     * @private\n     */\n    RangeAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys range area series\n         */\n    };\n    return RangeAreaSeries;\n}(LineBase));\nexport { RangeAreaSeries };\n","import { withInRange, getPoint, PathOption, drawSymbol, Size, Rect, markerAnimate } from '../../common/utils/helper';\nimport { pointRender } from '../../common/model/constants';\n/**\n * Bubble Module used to render the Bubble series.\n */\nvar BubbleSeries = /** @class */ (function () {\n    function BubbleSeries() {\n    }\n    /**\n     * Render the Bubble series.\n     * @return {void}\n     * @private\n     */\n    BubbleSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var marker = series.marker;\n        var visiblePoints = series.points;\n        var shapeOption;\n        var argsData;\n        //let bubbleMode: RadiusMode = bubbleOptions.radiusMode;\n        var segmentRadius;\n        var radius;\n        var value = Math.max(series.chart.initialClipRect.height, series.chart.initialClipRect.width);\n        var percentChange = value / 100;\n        var maxRadius = series.maxRadius * percentChange;\n        var minRadius = series.minRadius * percentChange;\n        var maximumSize = null;\n        var maxValue = null;\n        if ((series.maxRadius === null || series.minRadius === null)) {\n            for (var _i = 0, _a = series.chart.visibleSeries; _i < _a.length; _i++) {\n                var value_1 = _a[_i];\n                if (value_1.type === 'Bubble' && value_1.visible === true && (value_1.maxRadius === null || value_1.minRadius === null)) {\n                    maximumSize = value_1.sizeMax > maximumSize ? value_1.sizeMax : maximumSize;\n                }\n            }\n            maxValue = (value / 5) / 2;\n            minRadius = maxRadius = 1;\n            radius = maxValue * maxRadius;\n        }\n        else {\n            maximumSize = series.sizeMax;\n            radius = maxRadius - minRadius;\n        }\n        for (var _b = 0, visiblePoints_1 = visiblePoints; _b < visiblePoints_1.length; _b++) {\n            var bubblePoint = visiblePoints_1[_b];\n            bubblePoint.symbolLocations = [];\n            bubblePoint.regions = [];\n            if (bubblePoint.visible &&\n                withInRange(visiblePoints[bubblePoint.index - 1], bubblePoint, visiblePoints[bubblePoint.index + 1], series)) {\n                bubblePoint.symbolLocations.push(getPoint(bubblePoint.xValue, bubblePoint.yValue, xAxis, yAxis, isInverted));\n                if ((series.maxRadius === null || series.minRadius === null)) {\n                    segmentRadius = radius * Math.abs(+bubblePoint.size / maximumSize);\n                }\n                else {\n                    segmentRadius = minRadius + radius * Math.abs(+bubblePoint.size / maximumSize);\n                }\n                segmentRadius = segmentRadius || minRadius;\n                argsData = {\n                    cancel: false, name: pointRender, series: series, point: bubblePoint,\n                    fill: series.setPointColor(bubblePoint, series.interior),\n                    border: series.setBorderColor(bubblePoint, { width: series.border.width, color: series.border.color }),\n                    height: 2 * segmentRadius, width: 2 * segmentRadius\n                };\n                series.chart.trigger(pointRender, argsData);\n                if (!argsData.cancel) {\n                    bubblePoint.color = argsData.fill;\n                    shapeOption = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + bubblePoint.index, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, null);\n                    series.seriesElement.appendChild(drawSymbol(bubblePoint.symbolLocations[0], 'Circle', new Size(argsData.width, argsData.height), marker.imageUrl, shapeOption, bubblePoint.x.toString() + ':' + bubblePoint.yValue.toString()));\n                    bubblePoint.regions.push(new Rect(bubblePoint.symbolLocations[0].x - segmentRadius, bubblePoint.symbolLocations[0].y - segmentRadius, 2 * segmentRadius, 2 * segmentRadius));\n                }\n            }\n        }\n    };\n    /**\n     * To destroy the Bubble.\n     * @return {void}\n     * @private\n     */\n    BubbleSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    BubbleSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'BubbleSeries';\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     */\n    BubbleSeries.prototype.doAnimation = function (series) {\n        var duration = series.animation.duration;\n        var delay = series.animation.delay;\n        var rectElements = series.seriesElement.childNodes;\n        var count = 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var bubblePoint = _a[_i];\n            if (!bubblePoint.symbolLocations.length) {\n                continue;\n            }\n            markerAnimate(rectElements[count], delay, duration, series, bubblePoint.index, bubblePoint.symbolLocations[0], false);\n            count++;\n        }\n    };\n    return BubbleSeries;\n}());\nexport { BubbleSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ChartLocation, PathOption, ControlPoints, getPoint, Rect, withInRange, TransformToVisible } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * Spline Module used to render the spline series.\n */\nvar SplineSeries = /** @class */ (function (_super) {\n    __extends(SplineSeries, _super);\n    function SplineSeries() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splinePoints = [];\n        return _this;\n    }\n    /**\n     * Render the spline series.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var chart = series.chart;\n        var marker = series.marker;\n        var ySpline;\n        var options;\n        var firstPoint = null;\n        var secondPoint = null;\n        var direction = '';\n        var pt1;\n        var pt2;\n        var bpt1;\n        var bpt2;\n        var data;\n        var controlPointCount = 0;\n        var controlPoint1;\n        var controlPoint2;\n        var startPoint = 'M';\n        var points = this.filterEmptyPoints(series);\n        var previous;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var point = points_1[_i];\n            previous = this.getPreviousIndex(points, point.index - 1, series);\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(points[previous], point, points[this.getNextIndex(points, point.index - 1, series)], series)) {\n                if (firstPoint !== null) {\n                    data = series.drawPoints[previous];\n                    controlPoint1 = data.controlPoint1;\n                    controlPoint2 = data.controlPoint2;\n                    pt1 = getCoordinate(firstPoint.xValue, firstPoint.yValue, xAxis, yAxis, isInverted, series);\n                    pt2 = getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series);\n                    bpt1 = getCoordinate(controlPoint1.x, controlPoint1.y, xAxis, yAxis, isInverted, series);\n                    bpt2 = getCoordinate(controlPoint2.x, controlPoint2.y, xAxis, yAxis, isInverted, series);\n                    direction = direction.concat((startPoint + ' ' + (pt1.x) + ' ' + (pt1.y) + ' ' + 'C' + ' ' + (bpt1.x) + ' '\n                        + (bpt1.y) + ' ' + (bpt2.x) + ' ' + (bpt2.y) + ' ' + (pt2.x) + ' ' + (pt2.y) + ' '));\n                    startPoint = 'L';\n                }\n                firstPoint = point;\n                point.symbolLocations.push(getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series));\n                point.regions.push(new Rect(point.symbolLocations[0].x - marker.width, point.symbolLocations[0].y - marker.height, 2 * marker.width, 2 * marker.height));\n            }\n            else {\n                startPoint = 'M';\n                firstPoint = null;\n                point.symbolLocations = [];\n            }\n        }\n        var name = series.category === 'TrendLine' ? series.chart.element.id + '_Series_' + series.sourceIndex + '_TrendLine_' + series.index :\n            series.chart.element.id + '_Series_' + series.index;\n        options = new PathOption(name, 'transparent', series.width, series.interior, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series);\n        this.renderMarker(series);\n    };\n    /**\n     * To find the control points for spline.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.findSplinePoint = function (series) {\n        var spline = series.chart.splineSeriesModule;\n        var value;\n        var points = this.filterEmptyPoints(series);\n        this.splinePoints = this.findSplineCoefficients(points, series);\n        if (points.length > 1) {\n            series.drawPoints = [];\n            for (var _i = 0, points_2 = points; _i < points_2.length; _i++) {\n                var point = points_2[_i];\n                if (point.index !== 0) {\n                    var previous = this.getPreviousIndex(points, point.index - 1, series);\n                    value = this.getControlPoints(points[previous], point, this.splinePoints[previous], this.splinePoints[point.index], series);\n                    series.drawPoints.push(value);\n                    if (point.yValue && value.controlPoint1.y && value.controlPoint2.y) {\n                        series.yMin = Math.floor(Math.min(series.yMin, point.yValue, value.controlPoint1.y, value.controlPoint2.y));\n                        series.yMax = Math.ceil(Math.max(series.yMax, point.yValue, value.controlPoint1.y, value.controlPoint2.y));\n                    }\n                }\n            }\n        }\n    };\n    SplineSeries.prototype.getPreviousIndex = function (points, i, series) {\n        if (series.emptyPointSettings.mode !== 'Drop') {\n            return i;\n        }\n        while (isNullOrUndefined(points[i]) && i > -1) {\n            i = i - 1;\n        }\n        return i;\n    };\n    SplineSeries.prototype.getNextIndex = function (points, i, series) {\n        if (series.emptyPointSettings.mode !== 'Drop') {\n            return i;\n        }\n        while (isNullOrUndefined(points[i]) && i < points.length) {\n            i = i + 1;\n        }\n        return i;\n    };\n    SplineSeries.prototype.filterEmptyPoints = function (series) {\n        if (series.emptyPointSettings.mode !== 'Drop') {\n            return series.points;\n        }\n        var points = extend([], series.points, null, true);\n        for (var i = 0; i < points.length; i++) {\n            points[i].index = i;\n            if (points[i].isEmpty) {\n                points[i].symbolLocations = [];\n                points[i].regions = [];\n                points.splice(i, 1);\n                i--;\n            }\n        }\n        return points;\n    };\n    /**\n     * To find the natural spline.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.findSplineCoefficients = function (points, series) {\n        var count = points.length;\n        var ySpline = [];\n        var ySplineDuplicate = [];\n        var coefficient1;\n        var coefficient2;\n        var coefficient3;\n        var dy1;\n        var dy2;\n        var dx = [];\n        var dy = [];\n        var slope = [];\n        var interPoint;\n        var slopeLength;\n        var cardinalSplineTension = series.cardinalSplineTension ? series.cardinalSplineTension : 0.5;\n        cardinalSplineTension = cardinalSplineTension < 0 ? 0 : cardinalSplineTension > 1 ? 1 : cardinalSplineTension;\n        switch (series.splineType) {\n            case 'Monotonic':\n                for (var i = 0; i < count - 1; i++) {\n                    dx[i] = points[i + 1].xValue - points[i].xValue;\n                    dy[i] = points[i + 1].yValue - points[i].yValue;\n                    slope[i] = dy[i] / dx[i];\n                }\n                //interpolant points\n                slopeLength = slope.length;\n                // to find the first and last co-efficient value\n                ySpline[0] = slope[0];\n                ySpline[count - 1] = slope[slopeLength - 1];\n                //to find the other co-efficient values\n                for (var j = 0; j < dx.length; j++) {\n                    if (slopeLength > j + 1) {\n                        if (slope[j] * slope[j + 1] <= 0) {\n                            ySpline[j + 1] = 0;\n                        }\n                        else {\n                            interPoint = dx[j] + dx[j + 1];\n                            ySpline[j + 1] = 3 * interPoint / ((interPoint + dx[j + 1]) / slope[j] + (interPoint + dx[j]) / slope[j + 1]);\n                        }\n                    }\n                }\n                break;\n            case 'Cardinal':\n                for (var i = 0; i < count; i++) {\n                    if (i === 0) {\n                        ySpline[i] = (count > 2) ? (cardinalSplineTension * (points[i + 2].xValue - points[i].xValue)) : 0;\n                    }\n                    else if (i === (count - 1)) {\n                        ySpline[i] = (count > 2) ? (cardinalSplineTension * (points[count - 1].xValue - points[count - 3].xValue)) : 0;\n                    }\n                    else {\n                        ySpline[i] = (cardinalSplineTension * (points[i + 1].xValue - points[i - 1].xValue));\n                    }\n                }\n                break;\n            default:\n                if (series.splineType === 'Clamped') {\n                    var firstIndex = (points[1].yValue - points[0].yValue) / (points[1].xValue - points[0].xValue);\n                    var lastIndex = (points[count - 1].xValue - points[count - 2].xValue) /\n                        (points[count - 1].yValue - points[count - 2].yValue);\n                    ySpline[0] = (3 * (points[1].yValue - points[0].yValue)) / (points[1].xValue - points[0].xValue) - 3;\n                    ySplineDuplicate[0] = 0.5;\n                    ySpline[points.length - 1] = (3 * (points[points.length - 1].yValue - points[points.length - 2].yValue)) /\n                        (points[points.length - 1].xValue - points[points.length - 2].xValue);\n                    ySpline[0] = ySplineDuplicate[0] = Math.abs(ySpline[0]) === Infinity ? 0 : ySpline[0];\n                    ySpline[points.length - 1] = ySplineDuplicate[points.length - 1] = Math.abs(ySpline[points.length - 1]) === Infinity ?\n                        0 : ySpline[points.length - 1];\n                }\n                else {\n                    // assigning the first and last value as zero\n                    ySpline[0] = ySplineDuplicate[0] = 0;\n                    ySpline[points.length - 1] = 0;\n                }\n                for (var i = 1; i < count - 1; i++) {\n                    coefficient1 = points[i].xValue - points[i - 1].xValue;\n                    coefficient2 = points[i + 1].xValue - points[i - 1].xValue;\n                    coefficient3 = points[i + 1].xValue - points[i].xValue;\n                    dy1 = points[i + 1].yValue - points[i].yValue || null;\n                    dy2 = points[i].yValue - points[i - 1].yValue || null;\n                    if (coefficient1 === 0 || coefficient2 === 0 || coefficient3 === 0) {\n                        ySpline[i] = 0;\n                        ySplineDuplicate[i] = 0;\n                    }\n                    else {\n                        var p = 1 / (coefficient1 * ySpline[i - 1] + 2 * coefficient2);\n                        ySpline[i] = -p * coefficient3;\n                        ySplineDuplicate[i] = p * (6 * (dy1 / coefficient3 - dy2 / coefficient1) - coefficient1 * ySplineDuplicate[i - 1]);\n                    }\n                }\n                for (var k = count - 2; k >= 0; k--) {\n                    ySpline[k] = ySpline[k] * ySpline[k + 1] + ySplineDuplicate[k];\n                }\n                break;\n        }\n        return ySpline;\n    };\n    /**\n     * To find the control points for spline.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.getControlPoints = function (point1, point2, ySpline1, ySpline2, series) {\n        var controlPoint1;\n        var controlPoint2;\n        var point;\n        var ySplineDuplicate1 = ySpline1;\n        var ySplineDuplicate2 = ySpline2;\n        switch (series.splineType) {\n            case 'Cardinal':\n                if (series.xAxis.valueType === 'DateTime') {\n                    ySplineDuplicate1 = ySpline1 / this.dateTimeInterval(series);\n                    ySplineDuplicate2 = ySpline2 / this.dateTimeInterval(series);\n                }\n                controlPoint1 = new ChartLocation(point1.xValue + ySpline1 / 3, point1.yValue + ySplineDuplicate1 / 3);\n                controlPoint2 = new ChartLocation(point2.xValue - ySpline2 / 3, point2.yValue - ySplineDuplicate2 / 3);\n                point = new ControlPoints(controlPoint1, controlPoint2);\n                break;\n            case 'Monotonic':\n                var value = (point2.xValue - point1.xValue) / 3;\n                controlPoint1 = new ChartLocation(point1.xValue + value, point1.yValue + ySpline1 * value);\n                controlPoint2 = new ChartLocation(point2.xValue - value, point2.yValue - ySpline2 * value);\n                point = new ControlPoints(controlPoint1, controlPoint2);\n                break;\n            default:\n                var one3 = 1 / 3.0;\n                var deltaX2 = (point2.xValue - point1.xValue);\n                deltaX2 = deltaX2 * deltaX2;\n                var y1 = one3 * (((2 * point1.yValue) + point2.yValue) - one3 * deltaX2 * (ySpline1 + 0.5 * ySpline2));\n                var y2 = one3 * ((point1.yValue + (2 * point2.yValue)) - one3 * deltaX2 * (0.5 * ySpline1 + ySpline2));\n                controlPoint1 = new ChartLocation((2 * (point1.xValue) + (point2.xValue)) * one3, y1);\n                controlPoint2 = new ChartLocation(((point1.xValue) + 2 * (point2.xValue)) * one3, y2);\n                point = new ControlPoints(controlPoint1, controlPoint2);\n                break;\n        }\n        return point;\n    };\n    /**\n     * calculate datetime interval in hours\n     *\n     */\n    SplineSeries.prototype.dateTimeInterval = function (series) {\n        var interval = series.xAxis.actualIntervalType;\n        var intervalInMilliseconds;\n        if (interval === 'Years') {\n            intervalInMilliseconds = 365 * 24 * 60 * 60 * 1000;\n        }\n        else if (interval === 'Months') {\n            intervalInMilliseconds = 30 * 24 * 60 * 60 * 1000;\n        }\n        else if (interval === 'Days') {\n            intervalInMilliseconds = 24 * 60 * 60 * 1000;\n        }\n        else if (interval === 'Hours') {\n            intervalInMilliseconds = 60 * 60 * 1000;\n        }\n        else if (interval === 'Minutes') {\n            intervalInMilliseconds = 60 * 1000;\n        }\n        else if (interval === 'Seconds') {\n            intervalInMilliseconds = 1000;\n        }\n        else {\n            intervalInMilliseconds = 30 * 24 * 60 * 60 * 1000;\n        }\n        return intervalInMilliseconds;\n    };\n    /**\n     * Get module name.\n     */\n    SplineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'SplineSeries';\n    };\n    /**\n     * To destroy the spline.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    SplineSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    return SplineSeries;\n}(LineBase));\nexport { SplineSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { LineBase } from '../series/line-base';\nimport { Series, Points } from '../series/chart-series';\nimport { RectOption, Rect } from '../../common/utils/helper';\nimport { findClipRect } from '../../common/utils/helper';\n/**\n * Technical Analysis module helps to predict the market trend\n */\nvar TechnicalAnalysis = /** @class */ (function (_super) {\n    __extends(TechnicalAnalysis, _super);\n    function TechnicalAnalysis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series, that are used to represent the given technical indicator\n     * @private\n     */\n    TechnicalAnalysis.prototype.initSeriesCollection = function (indicator, chart) {\n        indicator.targetSeries = [];\n        var signalLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(signalLine, indicator, 'SignalLine', indicator.fill, indicator.width, chart);\n    };\n    /**\n     * Initializes the properties of the given series\n     * @private\n     */\n    TechnicalAnalysis.prototype.setSeriesProperties = function (series, indicator, name, fill, width, chart) {\n        series.name = name;\n        series.xName = 'x';\n        series.yName = 'y';\n        series.fill = fill || '#606eff';\n        series.dashArray = indicator.dashArray;\n        series.width = width;\n        series.xAxisName = indicator.xAxisName;\n        series.animation = indicator.animation;\n        series.yAxisName = indicator.yAxisName;\n        series.clipRectElement = indicator.clipRectElement;\n        series.points = [];\n        series.enableTooltip = true;\n        series.interior = series.fill;\n        series.category = 'Indicator';\n        series.index = indicator.index;\n        series.chart = chart;\n        series.xMin = Infinity;\n        series.xMax = -Infinity;\n        series.yMin = Infinity;\n        series.yMax = -Infinity;\n        series.xData = [];\n        series.yData = [];\n        series.marker.visible = false;\n        indicator.targetSeries.push(series);\n    };\n    /**\n     * Creates the elements of a technical indicator\n     * @private\n     */\n    TechnicalAnalysis.prototype.createIndicatorElements = function (chart, indicator, index) {\n        if (indicator.seriesName || indicator.dataSource) {\n            findClipRect(indicator.targetSeries[0]);\n        }\n        var clipRect = new Rect(0, 0, 0, 0);\n        if (indicator.seriesName || indicator.dataSource) {\n            clipRect = indicator.targetSeries[0].clipRect;\n        }\n        //defines the clip rect element\n        var clipRectElement = chart.renderer.drawClipPath(new RectOption(chart.element.id + '_ChartIndicatorClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n            x: 0, y: 0, width: clipRect.width,\n            height: clipRect.height,\n        }));\n        //creates the group for an indicator\n        indicator.indicatorElement = chart.renderer.createGroup({\n            'id': chart.element.id + 'IndicatorGroup' + index,\n            'transform': 'translate(' + clipRect.x + ',' + clipRect.y + ')',\n            'clip-path': 'url(#' + chart.element.id + '_ChartIndicatorClipRect_' + index + ')'\n        });\n        indicator.indicatorElement.appendChild(clipRectElement);\n        //Defines a group for each series in a technical indicator\n        for (var _i = 0, _a = indicator.targetSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            series.clipRectElement = clipRectElement;\n            var element = series.chart.renderer.createGroup({\n                'id': series.chart.element.id + '_Indicator_' +\n                    indicator.index + '_' + series.name + '_Group'\n            });\n            indicator.indicatorElement.appendChild(element);\n            series.seriesElement = element;\n        }\n        chart.indicatorElements.appendChild(indicator.indicatorElement);\n    };\n    TechnicalAnalysis.prototype.getDataPoint = function (x, y, sourcePoint, series, index, indicator) {\n        if (indicator === void 0) { indicator = null; }\n        var point = new Points();\n        point.x = x;\n        point.y = y;\n        point.xValue = sourcePoint.xValue;\n        point.color = series.fill;\n        point.index = index;\n        point.yValue = y;\n        point.visible = true;\n        series.xMin = Math.min(series.xMin, point.xValue);\n        series.yMin = Math.min(series.yMin, point.yValue);\n        series.xMax = Math.max(series.xMax, point.xValue);\n        series.yMax = Math.max(series.yMax, point.yValue);\n        series.xData.push(point.xValue);\n        if (indicator && indicator.type === 'Macd' && series.type === 'Column') {\n            if (point.y >= 0) {\n                point.color = indicator.macdPositiveColor;\n            }\n            else {\n                point.color = indicator.macdNegativeColor;\n            }\n        }\n        return point;\n    };\n    TechnicalAnalysis.prototype.getRangePoint = function (x, high, low, sourcePoint, series, index, indicator) {\n        if (indicator === void 0) { indicator = null; }\n        var point = new Points();\n        point.x = x;\n        point.high = high;\n        point.low = low;\n        point.xValue = sourcePoint.xValue;\n        point.color = series.fill;\n        point.index = index;\n        point.visible = true;\n        series.xData.push(point.xValue);\n        return point;\n    };\n    TechnicalAnalysis.prototype.setSeriesRange = function (points, indicator, series) {\n        if (series === void 0) { series = null; }\n        if (!series) {\n            indicator.targetSeries[0].points = points;\n        }\n        else {\n            series.points = points;\n        }\n    };\n    return TechnicalAnalysis;\n}(LineBase));\nexport { TechnicalAnalysis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * SMA Indicator predicts the trend using moving average approach\n */\nvar SmaIndicator = /** @class */ (function (_super) {\n    __extends(SmaIndicator, _super);\n    function SmaIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions based on SMA approach\n     * @private\n     */\n    SmaIndicator.prototype.initDataSource = function (indicator, chart) {\n        var smaPoints = [];\n        var points = indicator.points;\n        if (points && points.length) {\n            //prepare data\n            var validData = points;\n            var field = firstToLowerCase(indicator.field);\n            var xField = 'x';\n            var signalSeries = indicator.targetSeries[0];\n            if (validData && validData.length && validData.length >= indicator.period) {\n                //find initial average\n                var average = 0;\n                var sum = 0;\n                for (var i = 0; i < indicator.period; i++) {\n                    sum += validData[i][field];\n                }\n                average = sum / indicator.period;\n                smaPoints.push(this.getDataPoint(validData[indicator.period - 1][xField], average, validData[indicator.period - 1], signalSeries, smaPoints.length));\n                var index = indicator.period;\n                while (index < validData.length) {\n                    sum -= validData[index - indicator.period][field];\n                    sum += validData[index][field];\n                    average = sum / indicator.period;\n                    smaPoints.push(this.getDataPoint(validData[index][xField], average, validData[index], signalSeries, smaPoints.length));\n                    index++;\n                }\n            }\n            this.setSeriesRange(smaPoints, indicator);\n        }\n    };\n    /**\n     * To destroy the SMA indicator\n     * @return {void}\n     * @private\n     */\n    SmaIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the SMA indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    SmaIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'SmaIndicator';\n    };\n    return SmaIndicator;\n}(TechnicalAnalysis));\nexport { SmaIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * EMA Indicator predicts the trend using moving average approach\n */\nvar EmaIndicator = /** @class */ (function (_super) {\n    __extends(EmaIndicator, _super);\n    function EmaIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions based on EMA approach\n     * @private\n     */\n    EmaIndicator.prototype.initDataSource = function (indicator, chart) {\n        var field = firstToLowerCase(indicator.field);\n        var xField = 'x';\n        var emaPoints = [];\n        var signalSeries = indicator.targetSeries[0];\n        //prepare data\n        var validData = indicator.points;\n        if (validData && validData.length && validData.length >= indicator.period) {\n            //find initial average\n            var sum = 0;\n            var average = 0;\n            //smoothing factor\n            var k = (2 / (indicator.period + 1));\n            for (var i = 0; i < indicator.period; i++) {\n                sum += validData[i][field];\n            }\n            average = sum / indicator.period;\n            emaPoints.push(this.getDataPoint(validData[indicator.period - 1][xField], average, validData[indicator.period - 1], signalSeries, emaPoints.length));\n            var index = indicator.period;\n            while (index < validData.length) {\n                //previous average\n                var prevAverage = emaPoints[index - indicator.period][signalSeries.yName];\n                var yValue = (validData[index][field] - prevAverage) * k + prevAverage;\n                emaPoints.push(this.getDataPoint(validData[index][xField], yValue, validData[index], signalSeries, emaPoints.length));\n                index++;\n            }\n        }\n        this.setSeriesRange(emaPoints, indicator);\n    };\n    /**\n     * To destroy the EMA Indicator\n     * @return {void}\n     * @private\n     */\n    EmaIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the EMA Indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    EmaIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'EmaIndicator';\n    };\n    return EmaIndicator;\n}(TechnicalAnalysis));\nexport { EmaIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * TMA Indicator predicts the trend using moving average approach\n */\nvar TmaIndicator = /** @class */ (function (_super) {\n    __extends(TmaIndicator, _super);\n    function TmaIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions based on TMA approach\n     * @private\n     */\n    TmaIndicator.prototype.initDataSource = function (indicator, chart) {\n        var tmaPoints = [];\n        var field = firstToLowerCase(indicator.field);\n        var xField = 'x';\n        var signalSeries = indicator.targetSeries[0];\n        //prepare data\n        var validData = indicator.points;\n        if (validData && validData.length && validData.length >= indicator.period) {\n            var signalSeries_1 = indicator.targetSeries[0];\n            //prepare data\n            var validData_1 = indicator.points;\n            if (validData_1.length && validData_1.length >= indicator.period) {\n                //smoothing factor\n                var k = (2 / (indicator.period + 1));\n                //find initial average\n                var average = 0;\n                var sum = 0;\n                var sumOfSMA = 0;\n                var averageSMA = 0;\n                var smaValues = [];\n                //sma values\n                var index = 0;\n                var length_1 = validData_1.length;\n                var period = indicator.period;\n                while (length_1 >= period) {\n                    sum = 0;\n                    index = validData_1.length - length_1;\n                    for (var j = index; j < index + period; j++) {\n                        sum = sum + validData_1[j][field];\n                    }\n                    sum = sum / period;\n                    smaValues.push(sum);\n                    length_1--;\n                }\n                //initial values\n                for (var k_1 = 0; k_1 < period - 1; k_1++) {\n                    sum = 0;\n                    for (var j = 0; j < k_1 + 1; j++) {\n                        sum = sum + validData_1[j][field];\n                    }\n                    sum = sum / (k_1 + 1);\n                    smaValues.splice(k_1, 0, sum);\n                }\n                index = indicator.period;\n                while (index <= smaValues.length) {\n                    sum = 0;\n                    for (var j = index - indicator.period; j < index; j++) {\n                        sum = sum + smaValues[j];\n                    }\n                    sum = sum / indicator.period;\n                    tmaPoints.push(this.getDataPoint(validData_1[index - 1][xField], sum, validData_1[index - 1], signalSeries_1, tmaPoints.length));\n                    index++;\n                }\n            }\n        }\n        this.setSeriesRange(tmaPoints, indicator);\n    };\n    /**\n     * To destroy the TMA indicator.\n     * @return {void}\n     * @private\n     */\n    TmaIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the TMA Indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    TmaIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'TmaIndicator';\n    };\n    return TmaIndicator;\n}(TechnicalAnalysis));\nexport { TmaIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * Defines How to represent the Accumulation Distribution TechnicalIndicator\n */\nvar AccumulationDistributionIndicator = /** @class */ (function (_super) {\n    __extends(AccumulationDistributionIndicator, _super);\n    function AccumulationDistributionIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions using accumulation distribution approach\n     * @private\n     */\n    AccumulationDistributionIndicator.prototype.initDataSource = function (indicator, chart) {\n        var sourceSeries = indicator.sourceSeries;\n        var adPoints = [];\n        var validData = indicator.points;\n        if (validData.length > 0 && validData.length > indicator.period) {\n            adPoints = this.calculateADPoints(indicator, validData);\n        }\n        this.setSeriesRange(adPoints, indicator);\n    };\n    /**\n     *  Calculates the Accumulation Distribution values\n     * @private\n     */\n    AccumulationDistributionIndicator.prototype.calculateADPoints = function (indicator, validData) {\n        var temp = [];\n        var sum = 0;\n        var i = 0;\n        var value = 0;\n        var high = 0;\n        var low = 0;\n        var close = 0;\n        var signalSeries = indicator.targetSeries[0];\n        for (i = 0; i < validData.length; i++) {\n            high = Number(validData[i].high);\n            low = Number(validData[i].low);\n            close = Number(validData[i].close);\n            /**\n             * Money Flow Multiplier = [(Close -  Low) - (High - Close)] /(High - Low)\n             * Money Flow Volume = Money Flow Multiplier x Volume for the Period\n             * ADL = Previous ADL + Current Period's Money Flow Volume\n             */\n            value = ((close - low) - (high - close)) / (high - low);\n            /**\n             * Sum is to calculate the Y values of the Accumulation distribution indicator\n             */\n            sum = sum + value * Number(validData[i].volume);\n            /**\n             * To calculate the x and y values for the Accumulation distribution indicator\n             */\n            temp[i] = this.getDataPoint(validData[i].x, sum, validData[i], signalSeries, temp.length);\n        }\n        return temp;\n    };\n    /**\n     * To destroy the Accumulation Distribution Technical Indicator.\n     * @return {void}\n     * @private\n     */\n    AccumulationDistributionIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the Accumulation Distribution Technical indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationDistributionIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the Indicator\n         */\n        return 'AccumulationDistributionIndicator';\n    };\n    return AccumulationDistributionIndicator;\n}(TechnicalAnalysis));\nexport { AccumulationDistributionIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * Defines How to represent the Average true Range Technical Indicator\n */\nvar AtrIndicator = /** @class */ (function (_super) {\n    __extends(AtrIndicator, _super);\n    function AtrIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions using Average True Range approach\n     * @private\n     */\n    AtrIndicator.prototype.initDataSource = function (indicator, chart) {\n        var sourceSeries = indicator.sourceSeries;\n        var atrPoints = [];\n        var validData = indicator.points;\n        if (validData.length > 0 && validData.length > indicator.period) {\n            this.calculateATRPoints(indicator, validData);\n        }\n    };\n    /**\n     *  To calculate Average True Range indicator points\n     * @private\n     */\n    AtrIndicator.prototype.calculateATRPoints = function (indicator, validData) {\n        var average = 0;\n        var highLow = 0;\n        var highClose = 0;\n        var lowClose = 0;\n        var trueRange = 0;\n        var points = [];\n        var temp = [];\n        var period = indicator.period;\n        var sum = 0;\n        var y = 'y';\n        var signalSeries = indicator.targetSeries[0];\n        for (var i = 0; i < validData.length; i++) {\n            /**\n             * Current High less the current Low\n             * Current High less the previous Close (absolute value)\n             * Current Low less the previous Close (absolute value)\n             */\n            highLow = Number(validData[i].high) - Number(validData[i].low);\n            if (i > 0) {\n                //\n                highClose = Math.abs(Number(validData[i].high) - Number(validData[i - 1].close));\n                lowClose = Math.abs(Number(validData[i].low) - Number(validData[i - 1].close));\n            }\n            /**\n             * To find the maximum of highLow, highClose, lowClose\n             */\n            trueRange = Math.max(highLow, highClose, lowClose);\n            sum = sum + trueRange;\n            /**\n             * Push the x and y values for the Average true range indicator\n             */\n            if (i >= period) {\n                average = (Number(temp[i - 1][y]) * (period - 1) + trueRange) / period;\n                points.push(this.getDataPoint(validData[i].x, average, validData[i], signalSeries, points.length));\n            }\n            else {\n                average = sum / period;\n                if (i === period - 1) {\n                    points.push(this.getDataPoint(validData[i].x, average, validData[i], signalSeries, points.length));\n                }\n            }\n            temp[i] = { x: validData[i].x, y: average };\n        }\n        this.setSeriesRange(points, indicator);\n    };\n    /**\n     * To destroy the Average true range indicator.\n     * @return {void}\n     * @private\n     */\n    AtrIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroy the Average true range indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    AtrIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the Indicator\n         */\n        return 'AtrIndicator';\n    };\n    return AtrIndicator;\n}(TechnicalAnalysis));\nexport { AtrIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * Defines how to represent the market trend using momentum indicators\n */\nvar MomentumIndicator = /** @class */ (function (_super) {\n    __extends(MomentumIndicator, _super);\n    function MomentumIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series to represent a momentum indicator\n     * @private\n     */\n    MomentumIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        var upperLine = new Series(indicator, 'targetSeries', {}, true);\n        _super.prototype.setSeriesProperties.call(this, upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n    };\n    /**\n     * Defines the predictions using momentum approach\n     * @private\n     */\n    MomentumIndicator.prototype.initDataSource = function (indicator, chart) {\n        var upperCollection = [];\n        var signalCollection = [];\n        var validData = indicator.points;\n        if (validData && validData.length) {\n            var upperSeries = indicator.targetSeries[1];\n            var signalSeries = indicator.targetSeries[0];\n            var length_1 = indicator.period;\n            if (validData.length >= indicator.period) {\n                for (var i = 0; i < validData.length; i++) {\n                    upperCollection.push(this.getDataPoint(validData[i].x, 100, validData[i], upperSeries, upperCollection.length));\n                    if (!(i < length_1)) {\n                        signalCollection.push(this.getDataPoint(validData[i].x, (Number(validData[i].close) / Number(validData[i - length_1].close) * 100), validData[i], signalSeries, signalCollection.length));\n                    }\n                }\n            }\n            this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n            this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[1]);\n        }\n    };\n    /**\n     * To destroy the momentum indicator\n     * @return {void}\n     * @private\n     */\n    MomentumIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the momentum indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    MomentumIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'MomentumIndicator';\n    };\n    return MomentumIndicator;\n}(TechnicalAnalysis));\nexport { MomentumIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * RSI predicts the trend using RSI approach\n */\nvar RsiIndicator = /** @class */ (function (_super) {\n    __extends(RsiIndicator, _super);\n    function RsiIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the series collection to represent the RSI Indicator\n     * @private\n     */\n    RsiIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        if (indicator.showZones) {\n            var lowerLine = new Series(indicator, 'targetSeries', {}, true);\n            _super.prototype.setSeriesProperties.call(this, lowerLine, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n            var upperLine = new Series(indicator, 'targetSeries', {}, true);\n            _super.prototype.setSeriesProperties.call(this, upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n        }\n    };\n    /**\n     * Defines the predictions using RSI approach\n     * @private\n     */\n    RsiIndicator.prototype.initDataSource = function (indicator, chart) {\n        var signalCollection = [];\n        var lowerCollection = [];\n        var upperCollection = [];\n        var signalSeries = indicator.targetSeries[0];\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            //Find upper band and lower band values\n            if (indicator.showZones) {\n                for (var i = 0; i < validData.length; i++) {\n                    upperCollection.push(this.getDataPoint(validData[i].x, indicator.overBought, validData[i], indicator.targetSeries[1], upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[i].x, indicator.overSold, validData[i], indicator.targetSeries[2], lowerCollection.length));\n                }\n            }\n            //Find signal line value\n            var prevClose = Number(validData[0].close);\n            var gain = 0;\n            var loss = 0;\n            for (var i = 1; i <= indicator.period; i++) {\n                var close_1 = Number(validData[i].close);\n                if (close_1 > prevClose) {\n                    gain += close_1 - prevClose;\n                }\n                else {\n                    loss += prevClose - close_1;\n                }\n                prevClose = close_1;\n            }\n            gain = gain / indicator.period;\n            loss = loss / indicator.period;\n            signalCollection.push(this.getDataPoint(validData[indicator.period].x, 100 - (100 / (1 + gain / loss)), validData[indicator.period], signalSeries, signalCollection.length));\n            for (var j = indicator.period + 1; j < validData.length; j++) {\n                var close_2 = Number(validData[j].close);\n                if (close_2 > prevClose) {\n                    gain = (gain * (indicator.period - 1) + (close_2 - prevClose)) / indicator.period;\n                    loss = (loss * (indicator.period - 1)) / indicator.period;\n                }\n                else if (close_2 < prevClose) {\n                    loss = (loss * (indicator.period - 1) + (prevClose - close_2)) / indicator.period;\n                    gain = (gain * (indicator.period - 1)) / indicator.period;\n                }\n                prevClose = close_2;\n                signalCollection.push(this.getDataPoint(validData[j].x, 100 - (100 / (1 + gain / loss)), validData[j], signalSeries, signalCollection.length));\n            }\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n        if (indicator.showZones) {\n            this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[1]);\n            this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[2]);\n        }\n    };\n    /**\n     * To destroy the RSI Indicator.\n     * @return {void}\n     * @private\n     */\n    RsiIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the RSI Indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    RsiIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the indicator.\n         */\n        return 'RsiIndicator';\n    };\n    return RsiIndicator;\n}(TechnicalAnalysis));\nexport { RsiIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * Stochastic predicts the trend using Stochastic approach\n */\nvar StochasticIndicator = /** @class */ (function (_super) {\n    __extends(StochasticIndicator, _super);\n    function StochasticIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series that represents the stochastic indicator\n     * @private\n     */\n    StochasticIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        var periodLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(periodLine, indicator, 'PeriodLine', indicator.periodLine.color, indicator.periodLine.width, chart);\n        if (indicator.showZones) {\n            var upperSeries = new Series(indicator, 'targetSeries', {}, true);\n            this.setSeriesProperties(upperSeries, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n            var lowerSeries = new Series(indicator, 'targetSeries', {}, true);\n            this.setSeriesProperties(lowerSeries, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n        }\n    };\n    /**\n     * Defines the predictions based on stochastic approach\n     * @private\n     */\n    StochasticIndicator.prototype.initDataSource = function (indicator, chart) {\n        var signalCollection = [];\n        var upperCollection = [];\n        var lowerCollection = [];\n        var periodCollection = [];\n        var source = [];\n        var sourceSeries = indicator.sourceSeries;\n        var point = {};\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            if (indicator.showZones) {\n                for (var i = 0; i < validData.length; i++) {\n                    upperCollection.push(this.getDataPoint(validData[i].x, indicator.overBought, validData[i], indicator.targetSeries[2], upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[i].x, indicator.overSold, validData[i], indicator.targetSeries[3], lowerCollection.length));\n                }\n            }\n            source = this.calculatePeriod(indicator.period, indicator.kPeriod, validData, indicator.targetSeries[1]);\n            periodCollection = this.smaCalculation(indicator.period, indicator.kPeriod, source, indicator.targetSeries[1]);\n            signalCollection = this.smaCalculation(indicator.period + indicator.kPeriod - 1, indicator.dPeriod, source, indicator.targetSeries[0]);\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n        this.setSeriesRange(periodCollection, indicator, indicator.targetSeries[1]);\n        if (indicator.showZones) {\n            this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[2]);\n            this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[3]);\n        }\n    };\n    /**\n     * Calculates the SMA Values\n     * @private\n     */\n    StochasticIndicator.prototype.smaCalculation = function (period, kPeriod, data, sourceSeries) {\n        var pointCollection = [];\n        if (data.length >= period + kPeriod) {\n            var count = period + (kPeriod - 1);\n            var temp = [];\n            var values = [];\n            for (var i = 0; i < data.length; i++) {\n                var value = Number(data[i].y);\n                temp.push(value);\n            }\n            var length_1 = temp.length;\n            while (length_1 >= count) {\n                var sum = 0;\n                for (var i = period - 1; i < (period + kPeriod - 1); i++) {\n                    sum = sum + temp[i];\n                }\n                sum = sum / kPeriod;\n                values.push(sum.toFixed(2));\n                temp.splice(0, 1);\n                length_1 = temp.length;\n            }\n            var len = count - 1;\n            for (var i = 0; i < data.length; i++) {\n                if (!(i < len)) {\n                    pointCollection.push(this.getDataPoint(data[i].x, Number(values[i - len]), data[i], sourceSeries, pointCollection.length));\n                    data[i].y = Number((values[i - len]));\n                }\n            }\n        }\n        return pointCollection;\n    };\n    /**\n     * Calculates the period line values.\n     * @private\n     */\n    StochasticIndicator.prototype.calculatePeriod = function (period, kPeriod, data, series) {\n        var lowValues = [];\n        var highValues = [];\n        var closeValues = [];\n        var modifiedSource = [];\n        for (var j = 0; j < data.length; j++) {\n            lowValues[j] = data[j].low;\n            highValues[j] = data[j].high;\n            closeValues[j] = data[j].close;\n        }\n        if (data.length > period) {\n            var totalPeriod = period + kPeriod;\n            var mins = [];\n            var maxs = [];\n            for (var i = 0; i < period - 1; ++i) {\n                maxs.push(0);\n                mins.push(0);\n                modifiedSource.push(this.getDataPoint(data[i].x, data[i].close, data[i], series, modifiedSource.length));\n            }\n            for (var i = period - 1; i < data.length; ++i) {\n                var min = Number.MAX_VALUE;\n                var max = Number.MIN_VALUE;\n                for (var j = 0; j < period; ++j) {\n                    min = Math.min(min, lowValues[i - j]);\n                    max = Math.max(max, highValues[i - j]);\n                }\n                maxs.push(max);\n                mins.push(min);\n            }\n            for (var i = period - 1; i < data.length; ++i) {\n                var top_1 = 0;\n                var bottom = 0;\n                top_1 += closeValues[i] - mins[i];\n                bottom += maxs[i] - mins[i];\n                modifiedSource.push(this.getDataPoint(data[i].x, (top_1 / bottom) * 100, data[i], series, modifiedSource.length));\n            }\n        }\n        return modifiedSource;\n    };\n    /**\n     * To destroy the Stocastic Indicator.\n     * @return {void}\n     * @private\n     */\n    StochasticIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the stochastic indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StochasticIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the indicator.\n         */\n        return 'StochasticIndicator';\n    };\n    return StochasticIndicator;\n}(TechnicalAnalysis));\nexport { StochasticIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * Bollinger Band Indicator predicts the trend using Bollinger approach\n */\nvar BollingerBands = /** @class */ (function (_super) {\n    __extends(BollingerBands, _super);\n    function BollingerBands() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the series collection to represent bollinger band\n     */\n    BollingerBands.prototype.initSeriesCollection = function (indicator, chart) {\n        indicator.targetSeries = [];\n        var rangeArea = new Series(indicator, 'targetSeries', {}, true);\n        rangeArea.type = 'RangeArea';\n        if (indicator.bandColor !== 'transparent' && indicator.bandColor !== 'none') {\n            this.setSeriesProperties(rangeArea, indicator, 'BollingerBand', indicator.bandColor, 0, chart);\n        }\n        var signalLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(signalLine, indicator, 'SignalLine', indicator.fill, indicator.width, chart);\n        var upperLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n        var lowerLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(lowerLine, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n    };\n    /**\n     * Defines the predictions using Bollinger Band Approach\n     * @private\n     */\n    BollingerBands.prototype.initDataSource = function (indicator, chart) {\n        var enableBand = indicator.bandColor !== 'transparent' && indicator.bandColor !== 'none';\n        var start = enableBand ? 1 : 0;\n        var signalCollection = [];\n        var upperCollection = [];\n        var lowerCollection = [];\n        var bandCollection = [];\n        var upperSeries = indicator.targetSeries[start + 1];\n        var lowerSeries = indicator.targetSeries[start + 2];\n        var signalSeries = indicator.targetSeries[start];\n        var rangeAreaSeries = enableBand ? indicator.targetSeries[0] : null;\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            var sum = 0;\n            var deviationSum = 0;\n            var multiplier = indicator.standardDeviation;\n            var limit = validData.length;\n            var length_1 = Math.round(indicator.period);\n            var smaPoints = [];\n            var deviations = [];\n            var bollingerPoints = [];\n            for (var i_1 = 0; i_1 < length_1; i_1++) {\n                sum += Number(validData[i_1].close);\n            }\n            var sma = sum / indicator.period;\n            for (var i_2 = 0; i_2 < limit; i_2++) {\n                var y = Number(validData[i_2].close);\n                if (i_2 >= length_1 - 1 && i_2 < limit) {\n                    if (i_2 - indicator.period >= 0) {\n                        var diff = y - Number(validData[i_2 - length_1].close);\n                        sum = sum + diff;\n                        sma = sum / (indicator.period);\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2] - deviations[i_2 - length_1];\n                    }\n                    else {\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2];\n                    }\n                    var range = Math.sqrt(deviationSum / (indicator.period));\n                    var lowerBand = smaPoints[i_2] - (multiplier * range);\n                    var upperBand = smaPoints[i_2] + (multiplier * range);\n                    if (i_2 + 1 === length_1) {\n                        for (var j_1 = 0; j_1 < length_1 - 1; j_1++) {\n                            bollingerPoints[j_1] = {\n                                'X': validData[j_1].x, 'mb': smaPoints[i_2],\n                                'lb': lowerBand, 'ub': upperBand, visible: true\n                            };\n                        }\n                    }\n                    bollingerPoints[i_2] = {\n                        'X': validData[i_2].x, 'mb': smaPoints[i_2],\n                        'lb': lowerBand, 'ub': upperBand, visible: true\n                    };\n                }\n                else {\n                    if (i_2 < indicator.period - 1) {\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2];\n                    }\n                }\n            }\n            var i = -1;\n            var j = -1;\n            for (var k = 0; k < limit; k++) {\n                if (k >= (length_1 - 1)) {\n                    var ub = 'ub';\n                    var lb = 'lb';\n                    var mb = 'mb';\n                    upperCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][ub], validData[k], upperSeries, upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][lb], validData[k], lowerSeries, lowerCollection.length));\n                    signalCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][mb], validData[k], signalSeries, signalCollection.length));\n                    if (enableBand) {\n                        bandCollection.push(this.getRangePoint(validData[k].x, upperCollection[++i].y, lowerCollection[++j].y, validData[k], rangeAreaSeries, bandCollection.length));\n                    }\n                }\n            }\n        }\n        if (enableBand) {\n            this.setSeriesRange(bandCollection, indicator, indicator.targetSeries[0]);\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[start]);\n        this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[start + 1]);\n        this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[start + 2]);\n    };\n    /**\n     * To destroy the Bollinger Band.\n     * @return {void}\n     * @private\n     */\n    BollingerBands.prototype.destroy = function (chart) {\n        /**\n         * Destroys the bollinger band\n         */\n    };\n    /**\n     * Get module name.\n     */\n    BollingerBands.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'BollingerBandsIndicator';\n    };\n    return BollingerBands;\n}(TechnicalAnalysis));\nexport { BollingerBands };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * MACD Indicator predicts the trend using MACD approach\n */\nvar MacdIndicator = /** @class */ (function (_super) {\n    __extends(MacdIndicator, _super);\n    function MacdIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series to represent the MACD indicator\n     * @private\n     */\n    MacdIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        if (indicator.macdType === 'Line' || indicator.macdType === 'Both') {\n            var macdSeries = new Series(indicator, 'targetSeries', {}, true);\n            this.setSeriesProperties(macdSeries, indicator, 'MacdLine', indicator.macdLine.color, indicator.macdLine.width, chart);\n        }\n        if (indicator.macdType === 'Histogram' || indicator.macdType === 'Both') {\n            var histogramSeries = new Series(indicator, 'targetSeries', {}, true);\n            histogramSeries.type = 'Column';\n            this.setSeriesProperties(histogramSeries, indicator, 'Histogram', indicator.macdPositiveColor, indicator.width, chart);\n        }\n    };\n    /**\n     * Defines the predictions using MACD approach\n     * @private\n     */\n    MacdIndicator.prototype.initDataSource = function (indicator, chart) {\n        var signalCollection = [];\n        var fastPeriod = indicator.fastPeriod;\n        var slowPeriod = indicator.slowPeriod;\n        var trigger = indicator.period;\n        var length = fastPeriod + trigger;\n        var macdCollection = [];\n        var histogramCollection = [];\n        var validData = indicator.points;\n        var signalSeries = indicator.targetSeries[0];\n        var histogramSeries;\n        var macdLineSeries;\n        if (indicator.macdType === 'Histogram') {\n            histogramSeries = indicator.targetSeries[1];\n        }\n        else {\n            macdLineSeries = indicator.targetSeries[1];\n            if (indicator.macdType === 'Both') {\n                histogramSeries = indicator.targetSeries[2];\n            }\n        }\n        if (validData && length < validData.length && slowPeriod <= fastPeriod &&\n            slowPeriod > 0 && (length - 2) >= 0) {\n            var shortEMA = this.calculateEMAValues(slowPeriod, validData, 'close');\n            var longEMA = this.calculateEMAValues(fastPeriod, validData, 'close');\n            var macdValues = this.getMACDVales(indicator, shortEMA, longEMA);\n            macdCollection = this.getMACDPoints(indicator, macdValues, validData, macdLineSeries || signalSeries);\n            var signalEMA = this.calculateEMAValues(trigger, macdCollection, 'y');\n            signalCollection = this.getSignalPoints(indicator, signalEMA, validData, signalSeries);\n            if (histogramSeries) {\n                histogramCollection = this.getHistogramPoints(indicator, macdValues, signalEMA, validData, histogramSeries);\n            }\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n        if (histogramSeries) {\n            this.setSeriesRange(histogramCollection, indicator, histogramSeries);\n        }\n        if (macdLineSeries) {\n            this.setSeriesRange(macdCollection, indicator, macdLineSeries);\n        }\n    };\n    /**\n     * Calculates the EMA values for the given period\n     */\n    MacdIndicator.prototype.calculateEMAValues = function (period, validData, field) {\n        var sum = 0;\n        var initialEMA = 0;\n        var emaValues = [];\n        var emaPercent = (2 / (period + 1));\n        for (var i = 0; i < period; i++) {\n            sum += Number(validData[i][field]);\n        }\n        initialEMA = (sum / period);\n        emaValues.push(initialEMA);\n        var emaAvg = initialEMA;\n        for (var j = period; j < validData.length; j++) {\n            emaAvg = (Number(validData[j][field]) - emaAvg) * emaPercent + emaAvg;\n            emaValues.push(emaAvg);\n        }\n        return emaValues;\n    };\n    /**\n     * Defines the MACD Points\n     */\n    MacdIndicator.prototype.getMACDPoints = function (indicator, macdPoints, validData, series) {\n        var macdCollection = [];\n        var dataMACDIndex = indicator.fastPeriod - 1;\n        var macdIndex = 0;\n        while (dataMACDIndex < validData.length) {\n            macdCollection.push(this.getDataPoint(validData[dataMACDIndex].x, macdPoints[macdIndex], validData[dataMACDIndex], series, macdCollection.length));\n            dataMACDIndex++;\n            macdIndex++;\n        }\n        return macdCollection;\n    };\n    /**\n     * Calculates the signal points\n     */\n    MacdIndicator.prototype.getSignalPoints = function (indicator, signalEma, validData, series) {\n        var dataSignalIndex = indicator.fastPeriod + indicator.period - 2;\n        var signalIndex = 0;\n        var signalCollection = [];\n        while (dataSignalIndex < validData.length) {\n            signalCollection.push(this.getDataPoint(validData[dataSignalIndex].x, signalEma[signalIndex], validData[dataSignalIndex], series, signalCollection.length));\n            dataSignalIndex++;\n            signalIndex++;\n        }\n        return signalCollection;\n    };\n    /**\n     * Calculates the MACD values\n     */\n    MacdIndicator.prototype.getMACDVales = function (indicator, shortEma, longEma) {\n        var macdPoints = [];\n        var diff = indicator.fastPeriod - indicator.slowPeriod;\n        for (var i = 0; i < longEma.length; i++) {\n            macdPoints.push((shortEma[i + diff] - longEma[i]));\n        }\n        return macdPoints;\n    };\n    /**\n     * Calculates the Histogram Points\n     */\n    MacdIndicator.prototype.getHistogramPoints = function (indicator, macdPoints, signalEma, validData, series) {\n        var dataHistogramIndex = indicator.fastPeriod + indicator.period - 2;\n        var histogramIndex = 0;\n        var histogramCollection = [];\n        while (dataHistogramIndex < validData.length) {\n            histogramCollection.push(this.getDataPoint(validData[dataHistogramIndex].x, macdPoints[histogramIndex + (indicator.period - 1)] - signalEma[histogramIndex], validData[dataHistogramIndex], series, histogramCollection.length, indicator));\n            dataHistogramIndex++;\n            histogramIndex++;\n        }\n        return histogramCollection;\n    };\n    /**\n     * To destroy the MACD Indicator.\n     * @return {void}\n     * @private\n     */\n    MacdIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the MACD indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    MacdIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'MacdIndicator';\n    };\n    return MacdIndicator;\n}(TechnicalAnalysis));\nexport { MacdIndicator };\n","import { Series, Points } from '../series/chart-series';\nimport { findClipRect, RectOption } from '../../common/utils/helper';\n/**\n * Trendline module helps to predict the market trend using predefined approaches\n */\nvar Trendlines = /** @class */ (function () {\n    function Trendlines() {\n    }\n    /**\n     * Defines the collection of series, that are used to represent a trendline\n     * @private\n     */\n    Trendlines.prototype.initSeriesCollection = function (trendline, chart) {\n        var trendLineSeries = new Series(trendline, 'targetSeries', {}, true);\n        if (trendline.type === 'Linear' || trendline.type === 'MovingAverage') {\n            trendLineSeries.type = 'Line';\n        }\n        else {\n            trendLineSeries.type = 'Spline';\n        }\n        this.setSeriesProperties(trendLineSeries, trendline, trendline.type, trendline.fill, trendline.width, chart);\n    };\n    /**\n     * Initializes the properties of the trendline series\n     */\n    Trendlines.prototype.setSeriesProperties = function (series, trendline, name, fill, width, chart) {\n        series.name = trendline.name;\n        series.xName = 'x';\n        series.yName = 'y';\n        series.fill = fill || 'blue';\n        series.width = width;\n        series.clipRectElement = trendline.clipRectElement;\n        series.points = [];\n        series.enableTooltip = trendline.enableTooltip;\n        series.index = trendline.index;\n        series.sourceIndex = trendline.sourceIndex;\n        series.interior = series.fill;\n        series.animation = trendline.animation;\n        series.legendShape = 'HorizontalLine';\n        series.marker = trendline.marker;\n        series.category = 'TrendLine';\n        series.chart = chart;\n        series.xMin = Infinity;\n        series.xMax = -Infinity;\n        series.yMin = Infinity;\n        series.yMax = -Infinity;\n        series.xData = [];\n        series.yData = [];\n        trendline.targetSeries = series;\n    };\n    /**\n     * Creates the elements of a trendline\n     */\n    Trendlines.prototype.createTrendLineElements = function (chart, trendline, index, element, clipRectElement) {\n        trendline.trendLineElement = element;\n        trendline.targetSeries.clipRectElement = clipRectElement;\n        trendline.targetSeries.seriesElement = element;\n        chart.trendLineElements.appendChild(trendline.trendLineElement);\n    };\n    /**\n     * Defines the data point of trendline\n     */\n    Trendlines.prototype.getDataPoint = function (x, y, sourcePoint, series, index) {\n        var trendPoint = new Points();\n        trendPoint.x = x;\n        trendPoint.y = y;\n        trendPoint.xValue = Number(x);\n        trendPoint.color = series.fill;\n        trendPoint.index = index;\n        trendPoint.yValue = Number(y);\n        trendPoint.visible = true;\n        series.xMin = Math.min(series.xMin, trendPoint.xValue);\n        series.yMin = Math.min(series.yMin, trendPoint.yValue);\n        series.xMax = Math.max(series.xMax, trendPoint.xValue);\n        series.yMax = Math.max(series.yMax, trendPoint.yValue);\n        series.xData.push(trendPoint.xValue);\n        return trendPoint;\n    };\n    /**\n     * Finds the slope and intercept of trendline\n     */\n    Trendlines.prototype.findSlopeIntercept = function (xValues, yValues, trendline, points) {\n        var xAvg = 0;\n        var yAvg = 0;\n        var xyAvg = 0;\n        var xxAvg = 0;\n        var yyAvg = 0;\n        var index = 0;\n        var slope = 0;\n        var intercept = 0;\n        while (index < points.length) {\n            xAvg += xValues[index];\n            yAvg += yValues[index];\n            xyAvg += xValues[index] * yValues[index];\n            xxAvg += xValues[index] * xValues[index];\n            yyAvg += yValues[index] * yValues[index];\n            index++;\n        }\n        var type = trendline.type;\n        if (trendline.intercept && (type === 'Linear' || type === 'Exponential')) {\n            intercept = trendline.intercept;\n            switch (type) {\n                case 'Linear':\n                    slope = ((xyAvg) - (trendline.intercept * xAvg)) / xxAvg;\n                    break;\n                case 'Exponential':\n                    slope = ((xyAvg) - (Math.log(Math.abs(trendline.intercept)) * xAvg)) / xxAvg;\n                    break;\n            }\n        }\n        else {\n            slope = ((points.length * xyAvg) - (xAvg * yAvg)) / ((points.length * xxAvg) - (xAvg * xAvg));\n            if (type === 'Exponential' || type === 'Power') {\n                intercept = Math.exp((yAvg - (slope * xAvg)) / points.length);\n            }\n            else {\n                intercept = (yAvg - (slope * xAvg)) / points.length;\n            }\n        }\n        return { slope: slope, intercept: intercept };\n    };\n    /**\n     * Defines the points to draw the trendlines\n     */\n    Trendlines.prototype.initDataSource = function (trendline, chart) {\n        var points = trendline.points;\n        if (points && points.length) {\n            //prepare data\n            var trendlineSeries = trendline.targetSeries;\n            switch (trendline.type) {\n                case 'Linear':\n                    this.setLinearRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Exponential':\n                    this.setExponentialRange(points, trendline, trendlineSeries);\n                    break;\n                case 'MovingAverage':\n                    this.setMovingAverageRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Polynomial':\n                    this.setPolynomialRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Power':\n                    this.setPowerRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Logarithmic':\n                    this.setLogarithmicRange(points, trendline, trendlineSeries);\n                    break;\n            }\n            if (trendline.type !== 'Linear' && trendline.type !== 'MovingAverage') {\n                trendlineSeries.chart.splineSeriesModule.findSplinePoint(trendlineSeries);\n            }\n        }\n    };\n    /**\n     * Calculation of exponential Points\n     */\n    Trendlines.prototype.setExponentialRange = function (points, trendline, series) {\n        var xValue = [];\n        var yValue = [];\n        var index = 0;\n        var slopeIntercept;\n        while (index < points.length) {\n            var point = points[index];\n            xValue.push(point.xValue);\n            yValue.push(Math.log(point.yValue));\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xValue, yValue, trendline, points);\n        series.points = this.getExponentialPoints(trendline, points, xValue, yValue, series, slopeIntercept);\n    };\n    /**\n     * Calculation of logarithmic points\n     */\n    Trendlines.prototype.setLogarithmicRange = function (points, trendline, series) {\n        var xLogValue = [];\n        var yLogValue = [];\n        var xPointsLgr = [];\n        var slopeIntercept;\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xPointsLgr.push(point.xValue);\n            xLogValue.push(Math.log(point.xValue));\n            yLogValue.push(point.yValue);\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xLogValue, yLogValue, trendline, points);\n        series.points = this.getLogarithmicPoints(trendline, points, xPointsLgr, yLogValue, series, slopeIntercept);\n    };\n    /**\n     * Calculation of polynomial points\n     */\n    Trendlines.prototype.setPolynomialRange = function (points, trendline, series) {\n        var xPolyValues = [];\n        var yPolyValues = [];\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xPolyValues.push(point.xValue);\n            yPolyValues.push(point.yValue);\n            index++;\n        }\n        series.points = this.getPolynomialPoints(trendline, points, xPolyValues, yPolyValues, series);\n    };\n    /**\n     * Calculation of power points\n     */\n    Trendlines.prototype.setPowerRange = function (points, trendline, series) {\n        var xValues = [];\n        var yValues = [];\n        var powerPoints = [];\n        var slopeIntercept;\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            powerPoints.push(point.xValue);\n            xValues.push(Math.log(point.xValue));\n            yValues.push(Math.log(point.yValue));\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xValues, yValues, trendline, points);\n        series.points = this.getPowerPoints(trendline, points, powerPoints, yValues, series, slopeIntercept);\n    };\n    /**\n     * Calculation of linear points\n     */\n    Trendlines.prototype.setLinearRange = function (points, trendline, series) {\n        var xValues = [];\n        var yValues = [];\n        var slopeIntercept;\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xValues.push(point.xValue);\n            yValues.push(point.yValue);\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xValues, yValues, trendline, points);\n        series.points = this.getLinearPoints(trendline, points, xValues, yValues, series, slopeIntercept);\n    };\n    /**\n     * Calculation of moving average points\n     */\n    Trendlines.prototype.setMovingAverageRange = function (points, trendline, series) {\n        var xValues = [];\n        var yValues = [];\n        var xAvgValues = [];\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xAvgValues.push(point.xValue);\n            xValues.push(index + 1);\n            yValues.push(point.yValue);\n            index++;\n        }\n        series.points = this.getMovingAveragePoints(trendline, points, xAvgValues, yValues, series);\n    };\n    /**\n     * Calculation of logarithmic points\n     */\n    Trendlines.prototype.getLogarithmicPoints = function (trendline, points, xValues, yValues, series, slopeInterceptLog) {\n        var midPoint = Math.round((points.length / 2));\n        var pts = [];\n        var x1Log = xValues[0] - trendline.backwardForecast;\n        var y1Log = slopeInterceptLog.intercept + (slopeInterceptLog.slope * Math.log(x1Log));\n        var x2Log = xValues[midPoint - 1];\n        var y2Log = slopeInterceptLog.intercept + (slopeInterceptLog.slope * Math.log(x2Log));\n        var x3Log = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y3Log = slopeInterceptLog.intercept + (slopeInterceptLog.slope * Math.log(x3Log));\n        pts.push(this.getDataPoint(x1Log, y1Log, points[0], series, pts.length));\n        pts.push(this.getDataPoint(x2Log, y2Log, points[midPoint - 1], series, pts.length));\n        pts.push(this.getDataPoint(x3Log, y3Log, points[points.length - 1], series, pts.length));\n        return pts;\n    };\n    /**\n     * Defines the points based on data point\n     */\n    Trendlines.prototype.getPowerPoints = function (trendline, points, xValues, yValues, series, slopeInterceptPower) {\n        var midPoint = Math.round((points.length / 2));\n        var pts = [];\n        var x1 = xValues[0] - trendline.backwardForecast;\n        x1 = x1 > -1 ? x1 : 0;\n        var y1 = slopeInterceptPower.intercept * Math.pow(x1, slopeInterceptPower.slope);\n        var x2 = xValues[midPoint - 1];\n        var y2 = slopeInterceptPower.intercept * Math.pow(x2, slopeInterceptPower.slope);\n        var x3 = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y3 = slopeInterceptPower.intercept * Math.pow(x3, slopeInterceptPower.slope);\n        pts.push(this.getDataPoint(x1, y1, points[0], series, pts.length));\n        pts.push(this.getDataPoint(x2, y2, points[midPoint - 1], series, pts.length));\n        pts.push(this.getDataPoint(x3, y3, points[points.length - 1], series, pts.length));\n        return pts;\n    };\n    /**\n     * Get the polynomial points based on polynomial slopes\n     */\n    Trendlines.prototype.getPolynomialPoints = function (trendline, points, xValues, yValues, series) {\n        var midPoint = Math.round((points.length / 2));\n        var pts = [];\n        var polynomialOrder = points.length <= trendline.polynomialOrder ? points.length : trendline.polynomialOrder;\n        polynomialOrder = Math.max(2, polynomialOrder);\n        polynomialOrder = Math.min(6, polynomialOrder);\n        trendline.polynomialOrder = polynomialOrder;\n        trendline.polynomialSlopes = [];\n        trendline.polynomialSlopes.length = trendline.polynomialOrder + 1;\n        var index = 0;\n        while (index < xValues.length) {\n            var xVal = xValues[index];\n            var yVal = yValues[index];\n            var subIndex = 0;\n            while (subIndex <= trendline.polynomialOrder) {\n                if (!trendline.polynomialSlopes[subIndex]) {\n                    trendline.polynomialSlopes[subIndex] = 0;\n                }\n                trendline.polynomialSlopes[subIndex] += Math.pow(xVal, subIndex) * yVal;\n                ++subIndex;\n            }\n            index++;\n        }\n        var numArray = [];\n        numArray.length = 1 + 2 * trendline.polynomialOrder;\n        var matrix = [];\n        matrix.length = trendline.polynomialOrder + 1;\n        var newIndex = 0;\n        while (newIndex < (trendline.polynomialOrder + 1)) {\n            matrix[newIndex] = [];\n            matrix[newIndex].length = 3;\n            newIndex++;\n        }\n        var nIndex = 0;\n        var num1 = 0;\n        while (nIndex < xValues.length) {\n            var d = xValues[nIndex];\n            var num2 = 1.0;\n            var nIndex2 = 0;\n            while (nIndex2 < numArray.length) {\n                if (!numArray[nIndex2]) {\n                    numArray[nIndex2] = 0;\n                }\n                numArray[nIndex2] += num2;\n                num2 *= d;\n                ++num1;\n                ++nIndex2;\n            }\n            ++nIndex;\n        }\n        var nnIndex = 0;\n        while (nnIndex <= trendline.polynomialOrder) {\n            var nnIndex2 = 0;\n            while (nnIndex2 <= trendline.polynomialOrder) {\n                matrix[nnIndex][nnIndex2] = numArray[nnIndex + nnIndex2];\n                ++nnIndex2;\n            }\n            ++nnIndex;\n        }\n        if (!this.gaussJordanElimination(matrix, trendline.polynomialSlopes)) {\n            trendline.polynomialSlopes = null;\n        }\n        pts = this.getPoints(trendline, points, xValues, yValues, series);\n        return pts;\n    };\n    /**\n     * Defines the moving average points\n     */\n    Trendlines.prototype.getMovingAveragePoints = function (trendline, points, xValues, yValues, series) {\n        var pts = [];\n        var period = trendline.period >= points.length ? points.length - 1 : trendline.period;\n        period = Math.max(2, period);\n        var index = 0;\n        var y;\n        var x;\n        var count;\n        var nullCount;\n        while (index < points.length - 1) {\n            y = count = nullCount = 0;\n            for (var j = index; count < period; j++) {\n                count++;\n                if (!yValues[j]) {\n                    nullCount++;\n                }\n                y += yValues[j];\n            }\n            y = period - nullCount <= 0 ? null : y / (period - nullCount);\n            if (y && !isNaN(y)) {\n                x = xValues[period - 1 + index];\n                pts.push(this.getDataPoint(x, y, points[period - 1 + index], series, pts.length));\n            }\n            index++;\n        }\n        return pts;\n    };\n    /**\n     * Defines the linear points\n     */\n    Trendlines.prototype.getLinearPoints = function (trendline, points, xValues, yValues, series, slopeInterceptLinear) {\n        var pts = [];\n        var x1Linear = xValues[0] - trendline.backwardForecast;\n        var y1Linear = slopeInterceptLinear.slope * x1Linear + slopeInterceptLinear.intercept;\n        var x2Linear = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y2Linear = slopeInterceptLinear.slope * x2Linear + slopeInterceptLinear.intercept;\n        pts.push(this.getDataPoint(x1Linear, y1Linear, points[0], series, pts.length));\n        pts.push(this.getDataPoint(x2Linear, y2Linear, points[points.length - 1], series, pts.length));\n        return pts;\n    };\n    /**\n     * Defines the exponential points\n     */\n    Trendlines.prototype.getExponentialPoints = function (trendline, points, xValues, yValues, series, slopeInterceptExp) {\n        var midPoint = Math.round((points.length / 2));\n        var ptsExp = [];\n        var x1 = xValues[0] - trendline.backwardForecast;\n        var y1 = slopeInterceptExp.intercept * Math.exp(slopeInterceptExp.slope * x1);\n        var x2 = xValues[midPoint - 1];\n        var y2 = slopeInterceptExp.intercept * Math.exp(slopeInterceptExp.slope * x2);\n        var x3 = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y3 = slopeInterceptExp.intercept * Math.exp(slopeInterceptExp.slope * x3);\n        ptsExp.push(this.getDataPoint(x1, y1, points[0], series, ptsExp.length));\n        ptsExp.push(this.getDataPoint(x2, y2, points[midPoint - 1], series, ptsExp.length));\n        ptsExp.push(this.getDataPoint(x3, y3, points[points.length - 1], series, ptsExp.length));\n        return ptsExp;\n    };\n    /**\n     * Defines the points based on data point\n     */\n    Trendlines.prototype.getPoints = function (trendline, points, xValues, yValues, series) {\n        var midPoint = Math.round((points.length / 2));\n        var polynomialSlopes = trendline.polynomialSlopes;\n        var pts = [];\n        var x1 = 1;\n        var index = 1;\n        var xValue;\n        var yValue;\n        while (index <= polynomialSlopes.length) {\n            if (index === 1) {\n                xValue = xValues[0] - trendline.backwardForecast;\n                yValue = this.getPolynomialYValue(polynomialSlopes, xValue);\n                pts.push(this.getDataPoint(xValue, yValue, points[0], series, pts.length));\n            }\n            else if (index === polynomialSlopes.length) {\n                xValue = xValues[points.length - 1] + trendline.forwardForecast;\n                yValue = this.getPolynomialYValue(polynomialSlopes, xValue);\n                pts.push(this.getDataPoint(xValue, yValue, points[points.length - 1], series, pts.length));\n            }\n            else {\n                x1 += (points.length + trendline.forwardForecast) / polynomialSlopes.length;\n                xValue = xValues[parseInt(x1.toString(), 10) - 1];\n                yValue = this.getPolynomialYValue(polynomialSlopes, xValue);\n                pts.push(this.getDataPoint(xValue, yValue, points[parseInt(x1.toString(), 10) - 1], series, pts.length));\n            }\n            index++;\n        }\n        return pts;\n    };\n    /**\n     * Defines the polynomial value of y\n     */\n    Trendlines.prototype.getPolynomialYValue = function (slopes, x) {\n        var sum = 0;\n        var index = 0;\n        while (index < slopes.length) {\n            sum += slopes[index] * Math.pow(x, index);\n            index++;\n        }\n        return sum;\n    };\n    /**\n     * Defines the gauss jordan elimination\n     */\n    Trendlines.prototype.gaussJordanElimination = function (matrix, polynomialSlopes) {\n        var length = matrix.length;\n        var numArray1 = [];\n        var numArray2 = [];\n        var numArray3 = [];\n        numArray1.length = length;\n        numArray2.length = length;\n        numArray3.length = length;\n        var index = 0;\n        while (index < length) {\n            numArray3[index] = 0;\n            ++index;\n        }\n        var index1 = 0;\n        while (index1 < length) {\n            var num1 = 0;\n            var index2 = 0;\n            var index3 = 0;\n            var index4 = 0;\n            while (index4 < length) {\n                if (numArray3[index4] !== 1) {\n                    var index5 = 0;\n                    while (index5 < length) {\n                        if (numArray3[index5] === 0 && Math.abs(matrix[index4][index5]) >= num1) {\n                            num1 = Math.abs(matrix[index4][index5]);\n                            index2 = index4;\n                            index3 = index5;\n                        }\n                        ++index5;\n                    }\n                }\n                ++index4;\n            }\n            ++numArray3[index3];\n            if (index2 !== index3) {\n                var index4_1 = 0;\n                while (index4_1 < length) {\n                    var num2 = matrix[index2][index4_1];\n                    matrix[index2][index4_1] = matrix[index3][index4_1];\n                    matrix[index3][index4_1] = num2;\n                    ++index4_1;\n                }\n                var num3 = polynomialSlopes[index2];\n                polynomialSlopes[index2] = polynomialSlopes[index3];\n                polynomialSlopes[index3] = num3;\n            }\n            numArray2[index1] = index2;\n            numArray1[index1] = index3;\n            if (matrix[index3][index3] === 0.0) {\n                return false;\n            }\n            var num4 = 1.0 / matrix[index3][index3];\n            matrix[index3][index3] = 1.0;\n            var iindex4 = 0;\n            while (iindex4 < length) {\n                matrix[index3][iindex4] *= num4;\n                ++iindex4;\n            }\n            polynomialSlopes[index3] *= num4;\n            var iandex4 = 0;\n            while (iandex4 < length) {\n                if (iandex4 !== index3) {\n                    var num2 = matrix[iandex4][index3];\n                    matrix[iandex4][index3] = 0.0;\n                    var index5 = 0;\n                    while (index5 < length) {\n                        matrix[iandex4][index5] -= matrix[index3][index5] * num2;\n                        ++index5;\n                    }\n                    polynomialSlopes[iandex4] -= polynomialSlopes[index3] * num2;\n                }\n                ++iandex4;\n            }\n            ++index1;\n        }\n        var iindex1 = length - 1;\n        while (iindex1 >= 0) {\n            if (numArray2[iindex1] !== numArray1[iindex1]) {\n                var iindex2 = 0;\n                while (iindex2 < length) {\n                    var num = matrix[iindex2][numArray2[iindex1]];\n                    matrix[iindex2][numArray2[iindex1]] = matrix[iindex2][numArray1[iindex1]];\n                    matrix[iindex2][numArray1[iindex1]] = num;\n                    ++iindex2;\n                }\n            }\n            --iindex1;\n        }\n        return true;\n    };\n    /**\n     * Defines the trendline elements\n     */\n    Trendlines.prototype.getTrendLineElements = function (series, chart) {\n        findClipRect(series);\n        var clipRect = series.clipRect;\n        var clipRectElement = chart.renderer.drawClipPath(new RectOption(chart.element.id + '_ChartTrendlineClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n            x: 0, y: 0, width: clipRect.width,\n            height: clipRect.height,\n        }));\n        var element;\n        element = chart.renderer.createGroup({\n            'id': chart.element.id + 'TrendlineSeriesGroup' + series.index,\n            'transform': 'translate(' + clipRect.x + ',' + clipRect.y + ')',\n            'clip-path': 'url(#' + chart.element.id + '_ChartTrendlineClipRect_' + series.index + ')'\n        });\n        //defines the clip rect element\n        element.appendChild(clipRectElement);\n        for (var _i = 0, _a = series.trendlines; _i < _a.length; _i++) {\n            var trendline = _a[_i];\n            this.createTrendLineElements(chart, trendline, trendline.index, element, clipRectElement);\n        }\n    };\n    /**\n     * To destroy the trendline\n     */\n    Trendlines.prototype.destroy = function (chart) {\n        /**\n         * Destroys the Linear Trendline\n         */\n    };\n    /**\n     * Get module name\n     */\n    Trendlines.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'TrendLine';\n    };\n    return Trendlines;\n}());\nexport { Trendlines };\n","import { Animation, Browser } from '@syncfusion/ej2-base';\nimport { measureText, findDirection, textElement, getValueXByPoint, stopTimer, getValueYByPoint, TextOption, Rect, ChartLocation, PathOption, withInBounds, removeElement } from '../../common/utils/helper';\n/**\n * Crosshair Module used to render the crosshair for chart.\n */\nvar Crosshair = /** @class */ (function () {\n    /**\n     * Constructor for crosshair module.\n     * @private\n     */\n    function Crosshair(chart) {\n        this.arrowLocation = new ChartLocation(0, 0);\n        this.rx = 2;\n        this.ry = 2;\n        this.chart = chart;\n        this.elementID = this.chart.element.id;\n        this.addEventListener();\n    }\n    /**\n     * @hidden\n     */\n    Crosshair.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n        this.chart.on(cancelEvent, this.mouseLeaveHandler, this);\n        this.chart.on('tapHold', this.longPress, this);\n    };\n    Crosshair.prototype.mouseUpHandler = function () {\n        if (this.chart.startMove) {\n            this.removeCrosshair(2000);\n        }\n    };\n    Crosshair.prototype.mouseLeaveHandler = function () {\n        this.removeCrosshair(1000);\n    };\n    Crosshair.prototype.mouseMoveHandler = function (event) {\n        var chart = this.chart;\n        if (event.type === 'touchmove' && (Browser.isIos || Browser.isIos7) && chart.startMove && event.preventDefault) {\n            event.preventDefault();\n        }\n        // Tooltip for chart series.\n        if (!chart.disableTrackTooltip) {\n            if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                if (chart.startMove || !chart.isTouch) {\n                    this.crosshair();\n                }\n            }\n            else {\n                this.removeCrosshair(1000);\n            }\n        }\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Crosshair.prototype.longPress = function () {\n        var chart = this.chart;\n        if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            this.crosshair();\n        }\n        return false;\n    };\n    /**\n     * Renders the crosshair.\n     * @return {void}\n     * @private\n     */\n    Crosshair.prototype.crosshair = function () {\n        var chart = this.chart;\n        var horizontalCross = '';\n        var verticalCross = '';\n        var options;\n        var crosshair = chart.crosshair;\n        var chartRect = chart.chartAxisLayoutPanel.seriesClipRect;\n        var crossGroup = document.getElementById(this.elementID + '_UserInteraction');\n        this.stopAnimation();\n        if (chart.tooltip.enable && !withInBounds(chart.tooltipModule.valueX, chart.tooltipModule.valueY, chartRect)) {\n            return null;\n        }\n        this.valueX = chart.tooltip.enable ? chart.tooltipModule.valueX : chart.mouseX;\n        this.valueY = chart.tooltip.enable ? chart.tooltipModule.valueY : chart.mouseY;\n        crossGroup.setAttribute('opacity', '1');\n        if (crosshair.lineType === 'Both' || crosshair.lineType === 'Horizontal') {\n            horizontalCross += 'M ' + chartRect.x + ' ' + this.valueY +\n                ' L ' + (chartRect.x + chartRect.width) + ' ' + this.valueY;\n        }\n        if (crosshair.lineType === 'Both' || crosshair.lineType === 'Vertical') {\n            verticalCross += 'M ' + this.valueX + ' ' + chartRect.y +\n                ' L ' + this.valueX + ' ' + (chartRect.y + chartRect.height);\n        }\n        if (crossGroup.childNodes.length === 0) {\n            var axisTooltipGroup = chart.renderer.createGroup({ 'id': this.elementID + '_crosshair_axis' });\n            options = new PathOption(this.elementID + '_HorizontalLine', 'none', crosshair.line.width, crosshair.line.color, 1, null, horizontalCross);\n            this.renderCrosshairLine(options, crossGroup);\n            options.d = verticalCross;\n            options.id = this.elementID + '_VerticalLine';\n            this.renderCrosshairLine(options, crossGroup);\n            crossGroup.appendChild(axisTooltipGroup);\n            this.renderAxisTooltip(chart, chartRect, crossGroup.lastChild);\n        }\n        else {\n            document.getElementById(this.elementID + '_HorizontalLine').setAttribute('d', horizontalCross);\n            document.getElementById(this.elementID + '_VerticalLine').setAttribute('d', verticalCross);\n            this.renderAxisTooltip(chart, chartRect, crossGroup.lastChild);\n        }\n    };\n    Crosshair.prototype.renderCrosshairLine = function (options, crossGroup) {\n        var htmlObject = this.chart.renderer.drawPath(options);\n        crossGroup.appendChild(htmlObject);\n    };\n    Crosshair.prototype.renderAxisTooltip = function (chart, chartRect, axisGroup) {\n        var axis;\n        var text;\n        var rect;\n        var pathElement;\n        var textElem;\n        var options;\n        var padding = 5;\n        var direction;\n        for (var k = 0, length_1 = chart.axisCollections.length; k < length_1; k++) {\n            axis = chart.axisCollections[k];\n            if (axis.crosshairTooltip.enable) {\n                if ((this.valueX <= (axis.rect.x + axis.rect.width) && axis.rect.x <= this.valueX) ||\n                    (this.valueY <= (axis.rect.y + axis.rect.height) && axis.rect.y <= this.valueY)) {\n                    pathElement = document.getElementById(this.elementID + '_axis_tooltip_' + k);\n                    textElem = document.getElementById(this.elementID + '_axis_tooltip_text_' + k);\n                    text = this.getAxisText(axis);\n                    if (!text) {\n                        continue;\n                    }\n                    rect = this.tooltipLocation(text, axis, chartRect);\n                    if (pathElement === null) {\n                        pathElement = chart.renderer.drawPath({\n                            'id': this.elementID + '_axis_tooltip_' + k,\n                            'fill': axis.crosshairTooltip.fill\n                        });\n                        axisGroup.appendChild(pathElement);\n                        options = new TextOption(this.elementID + '_axis_tooltip_text_' + k, 0, 0, 'start', text);\n                        textElem = textElement(options, axis.crosshairTooltip.textStyle, axis.crosshairTooltip.textStyle.color, axisGroup);\n                    }\n                    direction = findDirection(this.rx, this.ry, rect, this.arrowLocation, 10, this.isTop, this.isBottom, this.isLeft, this.valueX, this.valueY);\n                    pathElement.setAttribute('d', direction);\n                    textElem.textContent = text;\n                    textElem.setAttribute('x', (rect.x + padding).toString());\n                    textElem.setAttribute('y', (rect.y + padding + 3 * this.elementSize.height / 4).toString());\n                }\n                else {\n                    removeElement(this.elementID + '_axis_tooltip_' + k);\n                    removeElement(this.elementID + '_axis_tooltip_text_' + k);\n                }\n            }\n        }\n    };\n    Crosshair.prototype.getAxisText = function (axis) {\n        var value;\n        this.isBottom = false;\n        this.isTop = false;\n        this.isLeft = false;\n        this.isRight = false;\n        var labelValue = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks')\n            ? 0.5 : 0;\n        if (axis.orientation === 'Horizontal') {\n            value = getValueXByPoint(Math.abs(this.valueX - axis.rect.x), axis.rect.width, axis) + labelValue;\n            this.isBottom = !axis.opposedPosition;\n            this.isTop = axis.opposedPosition;\n        }\n        else {\n            value = getValueYByPoint(Math.abs(this.valueY - axis.rect.y), axis.rect.height, axis) + labelValue;\n            this.isRight = axis.opposedPosition;\n            this.isLeft = !axis.opposedPosition;\n        }\n        if (axis.valueType === 'DateTime') {\n            return axis.format(new Date(value));\n        }\n        else if (axis.valueType === 'Category') {\n            return axis.labels[Math.floor(value)];\n        }\n        else if (axis.valueType === 'Logarithmic') {\n            return value = axis.format(Math.pow(axis.logBase, value));\n        }\n        else {\n            var customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            return customLabelFormat ? axis.labelFormat.replace('{value}', axis.format(value)) : axis.format(value);\n        }\n    };\n    Crosshair.prototype.tooltipLocation = function (text, axis, bounds) {\n        var isBottom = false;\n        var isLeft = false;\n        var padding = 5;\n        var arrowPadding = 10;\n        var tooltipRect;\n        var boundsX = bounds.x;\n        var boundsY = bounds.y;\n        this.elementSize = measureText(text, axis.crosshairTooltip.textStyle);\n        if (axis.orientation === 'Horizontal') {\n            this.arrowLocation = new ChartLocation(this.valueX, axis.rect.y);\n            tooltipRect = new Rect((this.valueX - (this.elementSize.width / 2) - padding), axis.rect.y + arrowPadding, this.elementSize.width + padding * 2, this.elementSize.height + padding * 2);\n            if (axis.opposedPosition) {\n                tooltipRect.y = axis.rect.y - (this.elementSize.height + padding * 2 + arrowPadding);\n            }\n            if (tooltipRect.x < boundsX) {\n                tooltipRect.x = boundsX;\n            }\n            if (tooltipRect.x + tooltipRect.width > boundsX + bounds.width) {\n                tooltipRect.x -= ((tooltipRect.x + tooltipRect.width) - (boundsX + bounds.width));\n            }\n            if (this.arrowLocation.x + arrowPadding / 2 > tooltipRect.x + tooltipRect.width - this.rx) {\n                this.arrowLocation.x = tooltipRect.x + tooltipRect.width - this.rx - arrowPadding / 2;\n            }\n            if (this.arrowLocation.x - arrowPadding / 2 < tooltipRect.x + this.rx) {\n                this.arrowLocation.x = tooltipRect.x + this.rx + arrowPadding / 2;\n            }\n        }\n        else {\n            this.arrowLocation = new ChartLocation(axis.rect.x, this.valueY);\n            tooltipRect = new Rect(axis.rect.x - (this.elementSize.width) - (padding * 2 + arrowPadding), this.valueY - (this.elementSize.height / 2) - padding, this.elementSize.width + (padding * 2), this.elementSize.height + padding * 2);\n            if (axis.opposedPosition) {\n                tooltipRect.x = axis.rect.x + arrowPadding;\n                if ((tooltipRect.x + tooltipRect.width) > this.chart.availableSize.width) {\n                    this.arrowLocation.x -= ((tooltipRect.x + tooltipRect.width) - this.chart.availableSize.width);\n                    tooltipRect.x -= ((tooltipRect.x + tooltipRect.width) - this.chart.availableSize.width);\n                }\n            }\n            else {\n                if (tooltipRect.x < 0) {\n                    this.arrowLocation.x -= tooltipRect.x;\n                    tooltipRect.x = 0;\n                }\n            }\n            if (tooltipRect.y < boundsY) {\n                tooltipRect.y = boundsY;\n            }\n            if (tooltipRect.y + tooltipRect.height >= boundsY + bounds.height) {\n                tooltipRect.y -= ((tooltipRect.y + tooltipRect.height) - (boundsY + bounds.height));\n            }\n            if (this.arrowLocation.y + arrowPadding / 2 > tooltipRect.y + tooltipRect.height - this.ry) {\n                this.arrowLocation.y = tooltipRect.y + tooltipRect.height - this.ry - arrowPadding / 2;\n            }\n            if (this.arrowLocation.y - arrowPadding / 2 < tooltipRect.y + this.ry) {\n                this.arrowLocation.y = tooltipRect.y + this.ry + arrowPadding / 2;\n            }\n        }\n        return tooltipRect;\n    };\n    Crosshair.prototype.stopAnimation = function () {\n        stopTimer(this.crosshairInterval);\n    };\n    /**\n     * Removes the crosshair on mouse leave.\n     * @return {void}\n     * @private\n     */\n    Crosshair.prototype.removeCrosshair = function (duration) {\n        var chart = this.chart;\n        var crosshair = document.getElementById(this.elementID + '_UserInteraction');\n        this.stopAnimation();\n        if (crosshair && crosshair.getAttribute('opacity') !== '0') {\n            this.crosshairInterval = setTimeout(function () {\n                new Animation({}).animate(crosshair, {\n                    duration: 200,\n                    progress: function (args) {\n                        // crosshair.removeAttribute('e-animate');\n                        crosshair.style.animation = '';\n                        crosshair.setAttribute('opacity', (1 - (args.timeStamp / args.duration)).toString());\n                    },\n                    end: function (model) {\n                        crosshair.setAttribute('opacity', '0');\n                        chart.startMove = false;\n                        if (chart.tooltipModule) {\n                            chart.tooltipModule.valueX = null;\n                            chart.tooltipModule.valueY = null;\n                        }\n                    }\n                });\n            }, duration);\n        }\n    };\n    /**\n     * Get module name.\n     */\n    Crosshair.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Crosshair';\n    };\n    /**\n     * To destroy the crosshair.\n     * @return {void}\n     * @private\n     */\n    Crosshair.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Crosshair;\n}());\nexport { Crosshair };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, extend, Browser } from '@syncfusion/ej2-base';\nimport { Animation, compile as templateComplier } from '@syncfusion/ej2-base';\nimport { measureText, TextOption, Size, Rect, PointData, ChartLocation, textElement } from '../../common/utils/helper';\nimport { findDirection, stopTimer, drawSymbol, PathOption, valueToCoefficient, removeElement, valueToPolarCoefficient, withInBounds } from '../../common/utils/helper';\nimport { Data } from '../../chart/utils/get-data';\nimport { tooltipRender } from '../../common/model/constants';\nimport { Theme } from '../../common/model/theme';\n/**\n * Tooltip Module used to render the tooltip for series.\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for tooltip module.\n     * @private.\n     */\n    function Tooltip(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.padding = 5;\n        _this.arrowPadding = 12;\n        _this.rx = 2;\n        _this.ry = 2;\n        _this.markerPoint = [];\n        _this.element = _this.chart.element;\n        _this.addEventListener();\n        _this.textStyle = chart.tooltip.textStyle;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Tooltip.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(cancelEvent, this.mouseLeaveHandler, this);\n        this.chart.on('tapHold', this.longPress, this);\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    Tooltip.prototype.mouseUpHandler = function () {\n        var chart = this.chart;\n        if (chart.isTouch &&\n            ((withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect) && chart.tooltip.shared)\n                || !chart.tooltip.shared)) {\n            if (!chart.crosshair.enable) {\n                this.tooltip();\n                this.removeTooltip(2000);\n            }\n            else if (chart.startMove) {\n                this.removeTooltip(2000);\n            }\n        }\n    };\n    Tooltip.prototype.mouseLeaveHandler = function () {\n        this.removeTooltip(1000);\n    };\n    Tooltip.prototype.mouseMoveHandler = function () {\n        var chart = this.chart;\n        // Tooltip for chart series.      \n        if (!chart.disableTrackTooltip) {\n            if (!chart.tooltip.shared && (!chart.isTouch || (chart.startMove))) {\n                this.tooltip();\n            }\n            if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                if (chart.tooltip.shared && (!chart.isTouch || (chart.startMove))) {\n                    this.tooltip();\n                }\n            }\n            else {\n                if (chart.tooltip.shared) {\n                    this.removeTooltip(1000);\n                }\n            }\n        }\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Tooltip.prototype.longPress = function () {\n        var chart = this.chart;\n        if (chart.crosshair.enable && withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            this.tooltip();\n        }\n        return false;\n    };\n    /**\n     * Renders the tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.tooltip = function () {\n        var isTooltip = this.getElement(this.element.id + '_tooltip');\n        var tooltipDiv;\n        var chart = this.chart;\n        this.inverted = this.chart.requireInvertedAxis;\n        this.updateTemplateFn(chart);\n        this.formattedText = [];\n        this.header = (chart.tooltip.header === null) ? ((chart.tooltip.shared) ? '<b>${point.x}</b>' : '<b>${series.name}</b>')\n            : (chart.tooltip.header);\n        if (!isTooltip) {\n            tooltipDiv = this.createElement(chart);\n        }\n        if (!chart.tooltip.shared) {\n            this.renderSeriesTooltip(chart, !isTooltip, tooltipDiv);\n        }\n        else {\n            this.renderGroupedTooltip(chart, !isTooltip, tooltipDiv);\n        }\n    };\n    Tooltip.prototype.createElement = function (chart) {\n        this.textElements = [];\n        var tooltipDiv = document.createElement('div');\n        tooltipDiv.id = this.element.id + '_tooltip';\n        tooltipDiv.className = 'ejTooltip' + this.element.id;\n        tooltipDiv.setAttribute('style', 'pointer-events:none; position:absolute;z-index: 1');\n        if (!chart.tooltip.template || chart.tooltip.shared) {\n            // SVG element for tooltip\n            var svgObject = chart.renderer.createSvg({ id: this.element.id + '_tooltip_svg' });\n            tooltipDiv.appendChild(svgObject);\n            // Group to hold text and path.\n            var groupElement = chart.renderer.createGroup({ id: this.element.id + '_tooltip_group' });\n            svgObject.appendChild(groupElement);\n            var pathElement = chart.renderer.drawPath({\n                'id': this.element.id + '_tooltip_path', 'stroke-width': chart.tooltip.border.width,\n                'fill': chart.tooltip.fill, 'opacity': chart.tooltip.opacity, 'stroke': chart.tooltip.border.color\n            });\n            groupElement.appendChild(pathElement);\n        }\n        return tooltipDiv;\n    };\n    Tooltip.prototype.getElement = function (id) {\n        return document.getElementById(id);\n    };\n    Tooltip.prototype.renderPoint = function (point, isFirst, fill, firstText) {\n        if (firstText === void 0) { firstText = true; }\n        var argsData = {\n            cancel: false, name: tooltipRender, textCollections: this.getTooltipText(point, firstText),\n            point: point.point, series: point.series, textStyle: this.textStyle\n        };\n        this.chart.trigger(tooltipRender, argsData);\n        if (!argsData.cancel) {\n            if (point.series.type === 'BoxAndWhisker') {\n                this.removeText();\n                isFirst = true;\n            }\n            this.formattedText = this.formattedText.concat(argsData.textCollections);\n        }\n        return !argsData.cancel;\n    };\n    Tooltip.prototype.removeText = function () {\n        this.textElements = [];\n        var element = this.getElement(this.element.id + '_tooltip_group');\n        if (element.childNodes.length > 0) {\n            while (element.lastChild && element.childNodes.length !== 1) {\n                element.removeChild(element.lastChild);\n            }\n        }\n    };\n    Tooltip.prototype.findHeader = function (data) {\n        this.header = this.parseTemplate(data.point, data.series, this.header, data.series.xAxis, data.series.yAxis);\n        if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n            this.formattedText = this.formattedText.concat(this.header);\n        }\n    };\n    Tooltip.prototype.renderSeriesTooltip = function (chart, isFirst, tooltipDiv) {\n        var data = this.getData();\n        data.lierIndex = this.lierIndex;\n        this.currentPoints = [];\n        if (data.point && ((!this.previousPoints[0] || (this.previousPoints[0].point !== data.point)) ||\n            (this.previousPoints[0] && this.previousPoints[0].lierIndex > 3 && this.previousPoints[0].lierIndex !== this.lierIndex))) {\n            this.currentPoints.push(data);\n            if (data.series.enableTooltip) {\n                this.stopAnimation();\n                if (isFirst) {\n                    document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n                }\n                if (!chart.tooltip.template) {\n                    if (this.header !== '') {\n                        this.findHeader(data);\n                    }\n                    if (this.renderPoint(data, isFirst, this.textStyle.color || '#212121')) {\n                        this.renderText(isFirst, chart);\n                        this.removeHighlight(chart);\n                        this.highlightPoints(data);\n                        this.renderTooltip(chart, data, isFirst);\n                    }\n                    else {\n                        this.removeHighlight(chart);\n                        this.getElement(this.element.id + '_tooltip').remove();\n                    }\n                }\n                else {\n                    this.removeHighlight(chart);\n                    this.createTemplate(chart, data, this.getElement(this.element.id + '_tooltip'), isFirst);\n                }\n                this.isRemove = true;\n            }\n            this.previousPoints = extend([], this.currentPoints, null, true);\n        }\n        else {\n            if (!data.point && this.isRemove) {\n                this.removeTooltip(1000);\n                this.isRemove = false;\n            }\n            else {\n                for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                    var series = _a[_i];\n                    if (series.visible) {\n                        data = this.getClosestX(chart, series) || data;\n                    }\n                }\n            }\n        }\n        if (data && data.point) {\n            this.findMouseValue(data, chart);\n        }\n    };\n    Tooltip.prototype.updateTemplateFn = function (chart) {\n        if (chart.tooltip.template) {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(chart.tooltip.template).length) {\n                    this.templateFn = templateComplier(document.querySelector(chart.tooltip.template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                this.templateFn = templateComplier(chart.tooltip.template);\n            }\n        }\n    };\n    Tooltip.prototype.createTemplate = function (chart, data, parent, isFirst) {\n        this.highlightPoints(data);\n        var argsData = { cancel: false, name: tooltipRender, point: data.point, series: data.series, };\n        this.chart.trigger(tooltipRender, argsData);\n        var firstElement = this.getElement(this.element.id + '_tooltip').firstChild;\n        if (firstElement) {\n            firstElement.remove();\n        }\n        var point = extend({}, data.point);\n        point.x = this.formatPointValue(data.point, data.series.xAxis, 'x', true, false);\n        if ((data.series.seriesType === 'XY')) {\n            point.y = this.formatPointValue(data.point, data.series.yAxis, 'y', false, true);\n        }\n        else {\n            point.low = this.formatPointValue(data.point, data.series.yAxis, 'low', false, true);\n            point.high = this.formatPointValue(data.point, data.series.yAxis, 'high', false, true);\n        }\n        if (!argsData.cancel) {\n            var templateElement = this.templateFn(point);\n            var elem = createElement('div');\n            while (templateElement.length > 0) {\n                elem.appendChild(templateElement[0]);\n            }\n            parent.appendChild(elem);\n            var rect = parent.getBoundingClientRect();\n            this.padding = 0;\n            this.elementSize = new Size(rect.width, rect.height);\n            var tooltipRect = this.seriesTooltipLocation(data, new ChartLocation(0, 0), new ChartLocation(0, 0));\n            if (chart.tooltip.enableAnimation && !chart.tooltip.shared && !isFirst && !this.isComplete) {\n                this.animateTooltipDiv(parent, tooltipRect);\n            }\n            else {\n                this.updateDiv(parent, tooltipRect.x, tooltipRect.y);\n            }\n            this.isComplete = false;\n        }\n        else {\n            this.removeHighlight(chart);\n            this.getElement(this.element.id + '_tooltip').remove();\n        }\n    };\n    Tooltip.prototype.findMouseValue = function (data, chart) {\n        if (!chart.requireInvertedAxis) {\n            if (chart.chartAreaType === 'PolarRadar') {\n                this.valueX = valueToPolarCoefficient(data.point.xValue, data.series.xAxis) * data.series.xAxis.rect.width\n                    + data.series.xAxis.rect.x;\n            }\n            else {\n                this.valueX = valueToCoefficient(data.point.xValue, data.series.xAxis) * data.series.xAxis.rect.width\n                    + data.series.xAxis.rect.x;\n            }\n            this.valueY = chart.mouseY;\n        }\n        else {\n            this.valueY = (1 - valueToCoefficient(data.point.xValue, data.series.xAxis)) * data.series.xAxis.rect.height\n                + data.series.xAxis.rect.y;\n            this.valueX = chart.mouseX;\n        }\n    };\n    Tooltip.prototype.renderGroupedTooltip = function (chart, isFirst, tooltipDiv) {\n        var data;\n        var height = 0;\n        var width = 0;\n        var pointData = chart.chartAreaType === 'PolarRadar' ? this.getData() : null;\n        this.stopAnimation();\n        this.removeHighlight(chart);\n        this.currentPoints = [];\n        var extraPoints = [];\n        if (isFirst) {\n            document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n        }\n        this.removeText();\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (!series.enableTooltip) {\n                continue;\n            }\n            if (chart.chartAreaType === 'Cartesian' && series.visible) {\n                data = this.getClosestX(chart, series);\n            }\n            else if (chart.chartAreaType === 'PolarRadar' && series.visible && pointData.point !== null) {\n                data = new PointData(series.points[pointData.point.index], series);\n            }\n            if (data && this.header !== '' && this.currentPoints.length === 0) {\n                this.findHeader(data);\n            }\n            if (data && this.renderPoint(data, true, this.textStyle.color || data.point.color, this.currentPoints.length === 0)) {\n                if (series.category === 'Series') {\n                    this.highlightPoints(data);\n                }\n                this.findMouseValue(data, chart);\n                this.currentPoints.push(data);\n                data = null;\n            }\n            else if (data) {\n                extraPoints.push(data);\n            }\n        }\n        this.renderText(isFirst, chart);\n        if (this.currentPoints.length > 0) {\n            this.renderTooltip(chart, this.currentPoints[0], isFirst);\n        }\n        else {\n            this.getElement(this.element.id + '_tooltip_path').setAttribute('d', '');\n        }\n        this.currentPoints = this.currentPoints.concat(extraPoints);\n        this.previousPoints = extend([], this.currentPoints, null, true);\n    };\n    Tooltip.prototype.renderTooltip = function (chart, pointData, isFirst) {\n        var tooltipDiv = this.getElement(this.element.id + '_tooltip');\n        var arrowLocation = new ChartLocation(0, 0);\n        var tipLocation = new ChartLocation(0, 0);\n        var textHeights;\n        var svgObject = this.getElement(this.element.id + '_tooltip_svg');\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var pathElement = this.getElement(this.element.id + '_tooltip_path');\n        var rect;\n        var isTop = false;\n        var isLeft = false;\n        var isBottom = false;\n        var x = 0;\n        var y = 0;\n        var location = pointData.series.type === 'BoxAndWhisker' ?\n            this.getBoxLocation(pointData) : pointData.point.symbolLocations[0];\n        this.tipRadius = 1;\n        var series = pointData.series;\n        var point = pointData.point;\n        if (this.header !== '') {\n            this.elementSize.height += 5;\n        }\n        if (this.currentPoints.length > 1) {\n            this.arrowPadding = 0;\n            rect = this.sharedTooltipLocation(chart.chartAxisLayoutPanel.seriesClipRect, this.valueX, this.valueY);\n            isTop = true;\n        }\n        else {\n            this.arrowPadding = 12;\n            rect = this.seriesTooltipLocation(pointData, arrowLocation, tipLocation);\n            if (!this.inverted || !series.isRectSeries) {\n                isTop = (rect.y < (location.y + (chart.chartAreaType === 'Cartesian' ? series.clipRect.y : 0)));\n                isBottom = !isTop;\n                y = (isTop ? 0 : this.arrowPadding);\n            }\n            else {\n                isLeft = (rect.x < (location.x + series.clipRect.x));\n                x = (isLeft ? 0 : this.arrowPadding);\n            }\n        }\n        if (this.header !== '') {\n            var headerSize = measureText(this.header, chart.tooltip.textStyle).height + (this.padding * 2) +\n                (isBottom ? this.arrowPadding : 0); //header padding;\n            var xLength = (this.padding * 3) + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0);\n            var direction = 'M ' + xLength + ' ' + headerSize +\n                'L ' + (rect.width + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0) - (this.padding * 2)) +\n                ' ' + headerSize;\n            var pathElement_1 = this.chart.renderer.drawPath({\n                'id': this.element.id + '_header_path', 'stroke-width': 1,\n                'fill': null, 'opacity': 0.8, 'stroke': '#ffffff', 'd': direction\n            });\n            groupElement.appendChild(pathElement_1);\n        }\n        var start = chart.tooltip.border.width / 2;\n        var pointRect = new Rect(start + x, start + y, rect.width - start, rect.height - start);\n        groupElement.setAttribute('opacity', '1');\n        if (chart.tooltip.enableAnimation && !chart.tooltip.shared && !isFirst && !this.isComplete) {\n            this.animateTooltipDiv(tooltipDiv, rect);\n        }\n        else {\n            this.updateDiv(tooltipDiv, rect.x, rect.y);\n        }\n        this.isComplete = false;\n        svgObject.setAttribute('height', (rect.height + chart.tooltip.border.width + (!((!this.inverted) ||\n            (!pointData.series.isRectSeries)) ? 0 : this.arrowPadding)).toString());\n        svgObject.setAttribute('width', (rect.width + chart.tooltip.border.width + (((!this.inverted) ||\n            (!pointData.series.isRectSeries)) ? 0 : this.arrowPadding)).toString());\n        svgObject.setAttribute('opacity', '1');\n        pathElement.setAttribute('d', findDirection(this.rx, this.ry, pointRect, arrowLocation, this.arrowPadding, isTop, isBottom, isLeft, tipLocation.x, tipLocation.y, this.tipRadius));\n        pathElement.setAttribute('filter', Browser.isIE ? '' : 'url(#chart_shadow_tooltip)');\n        var shadowElement = '<filter id=\"chart_shadow_tooltip\" height=\"130%\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\"/>';\n        shadowElement += '<feOffset dx=\"3\" dy=\"3\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"0.5\"/>';\n        shadowElement += '</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n        var defElement = chart.renderer.createDefs();\n        defElement.setAttribute('id', 'chart_tooltip_definition');\n        groupElement.appendChild(defElement);\n        defElement.innerHTML = shadowElement;\n        pathElement.setAttribute('stroke', chart.tooltip.border.color);\n        this.changeText(new ChartLocation(x, y), isBottom, !isLeft && !isTop && !isBottom, rect);\n    };\n    Tooltip.prototype.sharedTooltipLocation = function (bounds, x, y) {\n        var width = this.elementSize.width + (2 * this.padding);\n        var height = this.elementSize.height + (2 * this.padding);\n        var tooltipRect = new Rect(x + 2 * this.padding, y - height - this.padding, width, height);\n        if (tooltipRect.y < bounds.y) {\n            tooltipRect.y += (tooltipRect.height + 2 * this.padding);\n        }\n        if (tooltipRect.x + tooltipRect.width > bounds.x + bounds.width) {\n            tooltipRect.x -= (tooltipRect.width + 4 * this.padding);\n        }\n        return tooltipRect;\n    };\n    Tooltip.prototype.getBoxLocation = function (data) {\n        var location;\n        location = this.lierIndex > 3 ? data.point.symbolLocations[this.lierIndex - 4] :\n            {\n                x: data.point.regions[0].x + (data.point.regions[0].width / 2),\n                y: data.point.regions[0].y + (data.point.regions[0].height / 2)\n            };\n        return location;\n    };\n    Tooltip.prototype.seriesTooltipLocation = function (pointData, arrowLocation, tipLocation) {\n        var series = pointData.series;\n        var isBoxPlot = series.type === 'BoxAndWhisker';\n        var symbolLocation = isBoxPlot ? this.getBoxLocation(pointData) : pointData.point.symbolLocations[0];\n        var location = new ChartLocation(symbolLocation.x, symbolLocation.y);\n        if (series.type === 'RangeArea' && pointData.point.regions[0]) {\n            if (!series.chart.requireInvertedAxis) {\n                location.y = pointData.point.regions[0].y + pointData.point.regions[0].height / 2;\n            }\n            else {\n                location.x = pointData.point.regions[0].x + pointData.point.regions[0].width / 2;\n            }\n        }\n        var width = this.elementSize.width + (2 * this.padding);\n        var height = this.elementSize.height + (2 * this.padding);\n        var bounds = this.chart.chartAxisLayoutPanel.seriesClipRect;\n        var markerHeight = 0;\n        if (!series.isRectSeries) {\n            markerHeight = (this.chart.tooltip.shared || series.marker.visible || series.type === 'Scatter'\n                || series.drawType === 'Scatter') ? ((series.marker.height + 2) / 2 + (2 * series.marker.border.width)) : 0;\n        }\n        var clipX = this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.x;\n        var clipY = this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.y;\n        var boundsX = bounds.x;\n        var boundsY = bounds.y;\n        if (!this.inverted || !series.isRectSeries) {\n            location.y = (series.type === 'Waterfall' && pointData.point.y < 0) ?\n                location.y - pointData.point.regions[0].height : location.y;\n            location = new ChartLocation(location.x + clipX - this.elementSize.width / 2 - this.padding, location.y + clipY - this.elementSize.height - (2 * this.padding) - this.arrowPadding - markerHeight);\n            arrowLocation.x = tipLocation.x = width / 2;\n            if (location.y < boundsY || (series.isRectSeries && pointData.point.y < 0 && series.type !== 'Waterfall')) {\n                location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + clipY + markerHeight;\n            }\n            if (location.y + height + this.arrowPadding > boundsY + bounds.height) {\n                location.y = (symbolLocation.y > bounds.height ? bounds.height : symbolLocation.y)\n                    + clipY - this.elementSize.height - (2 * this.padding) - this.arrowPadding - markerHeight;\n            }\n            tipLocation.x = width / 2;\n            if (location.x < boundsX) {\n                arrowLocation.x -= (boundsX - location.x);\n                tipLocation.x -= (boundsX - location.x);\n                location.x = boundsX;\n            }\n            if (location.x + width > boundsX + bounds.width) {\n                arrowLocation.x += ((location.x + width) - (boundsX + bounds.width));\n                tipLocation.x += ((location.x + width) - (boundsX + bounds.width));\n                location.x -= ((location.x + width) - (boundsX + bounds.width));\n            }\n            if (arrowLocation.x + this.arrowPadding / 2 > width - this.rx) {\n                arrowLocation.x = width - this.rx - this.arrowPadding / 2;\n                tipLocation.x = width;\n                this.tipRadius = 0;\n            }\n            if (arrowLocation.x - this.arrowPadding / 2 < this.rx) {\n                arrowLocation.x = this.rx + this.arrowPadding / 2;\n                tipLocation.x = 0;\n                this.tipRadius = 0;\n            }\n        }\n        else {\n            location.x = (series.type === 'Waterfall' && pointData.point.y < 0) ?\n                location.x + pointData.point.regions[0].width : location.x;\n            location = new ChartLocation(location.x + clipX + markerHeight, location.y + clipY - this.elementSize.height / 2 - (this.padding));\n            arrowLocation.y = tipLocation.y = height / 2;\n            if ((location.x + width + this.arrowPadding > boundsX + bounds.width) || (series.isRectSeries &&\n                pointData.point.y < 0 && series.type !== 'Waterfall')) {\n                location.x = (symbolLocation.x > bounds.width ? bounds.width : symbolLocation.x)\n                    + clipX - markerHeight - (width + this.arrowPadding);\n            }\n            if (location.x < boundsX) {\n                location.x = (symbolLocation.x < 0 ? 0 : symbolLocation.x) + clipX + markerHeight;\n            }\n            if (location.y <= boundsY) {\n                arrowLocation.y -= (boundsY - location.y);\n                tipLocation.y -= (boundsY - location.y);\n                location.y = boundsY;\n            }\n            if (location.y + height >= boundsY + bounds.height) {\n                arrowLocation.y += ((location.y + height) - (boundsY + bounds.height));\n                tipLocation.y += ((location.y + height) - (boundsY + bounds.height));\n                location.y -= ((location.y + height) - (boundsY + bounds.height));\n            }\n            if (arrowLocation.y + this.arrowPadding / 2 > height - this.ry) {\n                arrowLocation.y = height - this.ry - this.arrowPadding / 2;\n                tipLocation.y = height;\n                this.tipRadius = 0;\n            }\n            if (arrowLocation.y - this.arrowPadding / 2 < this.ry) {\n                arrowLocation.y = this.ry + this.arrowPadding / 2;\n                tipLocation.y = 0;\n                this.tipRadius = 0;\n            }\n        }\n        return new Rect(location.x, location.y, width, height);\n    };\n    Tooltip.prototype.removeHighlight = function (chart, removeRect) {\n        if (removeRect === void 0) { removeRect = false; }\n        var item;\n        for (var i = 0, len = this.previousPoints.length; i < len; i++) {\n            item = this.previousPoints[i];\n            if (item.series.isRectSeries && item.series.visible) {\n                this.highlightPoint(item.series, item.point.index, false);\n                continue;\n            }\n            if (!item.series.marker.visible && item.series.type !== 'Scatter' && item.series.type !== 'Bubble') {\n                this.previousPoints.shift();\n                len -= 1;\n            }\n        }\n    };\n    Tooltip.prototype.highlightPoints = function (item) {\n        if (item.series.isRectSeries) {\n            this.highlightPoint(item.series, item.point.index, true);\n            return null;\n        }\n    };\n    Tooltip.prototype.highlightPoint = function (series, pointIndex, highlight) {\n        var element = this.getElement(this.element.id + '_Series_' + series.index + '_Point_' + pointIndex);\n        if (element) {\n            element.setAttribute('opacity', (highlight ? series.opacity / 2 : series.opacity).toString());\n        }\n    };\n    Tooltip.prototype.getTooltipText = function (pointData, isFirst) {\n        if (isFirst === void 0) { isFirst = true; }\n        var series = pointData.series;\n        var text;\n        return this.parseTemplate(pointData.point, series, this.getFormat(this.chart, series), series.xAxis, series.yAxis);\n    };\n    Tooltip.prototype.renderText = function (isRender, chart) {\n        var height = 0;\n        var width = 0; // Padding for text;\n        var subWidth = 0;\n        var size;\n        var lines;\n        var key = 'properties';\n        var font = extend({}, this.chart.tooltip.textStyle, null, true)[key];\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var tspanElement;\n        var tspanStyle = '';\n        var line;\n        var tspanOption;\n        this.header = this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim();\n        var headerSpace = (this.header !== '' && this.formattedText[0] !== '') ? 5 : 0;\n        var isRow = true;\n        var isColumn = true;\n        this.markerPoint = [];\n        var markerSize = 10;\n        var spaceWidth = 4;\n        var dy = (22 / parseFloat(Theme.tooltipLabelFont.size)) * (parseFloat(font.size));\n        if (!isRender) {\n            removeElement(this.element.id + '_tooltip_text');\n            removeElement(this.element.id + '_header_path');\n            removeElement(this.element.id + '_tooltip_trackball_group');\n            removeElement('chart_tooltip_definition');\n        }\n        var options = new TextOption(this.element.id + '_tooltip_text', this.padding * 2, this.padding * 4, 'start', '');\n        var parentElement = textElement(options, font, null, groupElement, false);\n        for (var k = 0, pointsLength = this.formattedText.length; k < pointsLength; k++) {\n            var textCollection = this.formattedText[k].replace(/<(b|strong)>/g, '<b>')\n                .replace(/<\\/(b|strong)>/g, '</b>')\n                .split(/<br.*?>/g);\n            size = measureText(this.formattedText[k], font);\n            if ((k !== 0) || (this.header === '')) {\n                this.markerPoint.push((this.header !== '' ? (this.padding) : 0) + options.y + height);\n            }\n            for (var i = 0, len = textCollection.length; i < len; i++) {\n                lines = textCollection[i].replace(/<b>/g, '<br><b>').replace(/<\\/b>/g, '</b><br>').split('<br>');\n                subWidth = 0;\n                isColumn = true;\n                height += dy;\n                for (var k_1 = 0, len_1 = lines.length; k_1 < len_1; k_1++) {\n                    line = lines[k_1];\n                    if (line.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n                        subWidth += spaceWidth;\n                        if (isColumn && !isRow) {\n                            tspanOption = { x: (this.padding * 2) + (markerSize + 5), dy: dy + ((isColumn) ? headerSpace : 0), fill: '' };\n                            headerSpace = null;\n                        }\n                        else {\n                            if (isRow && isColumn) {\n                                tspanOption = { x: (this.header === '') ? ((this.padding * 2) + (markerSize + 5)) : (this.padding * 2) };\n                            }\n                            else {\n                                tspanOption = {};\n                            }\n                        }\n                        isColumn = false;\n                        tspanElement = chart.renderer.createTSpan(tspanOption, '');\n                        parentElement.appendChild(tspanElement);\n                        if (line.indexOf('<b>') > -1) {\n                            tspanStyle = 'font-weight:bold';\n                            font.fontWeight = 'bold';\n                            (tspanElement).setAttribute('fill', chart.tooltip.textStyle.color || '#ffffff');\n                        }\n                        else {\n                            tspanStyle = '';\n                            font.fontWeight = 'Normal';\n                            (tspanElement).setAttribute('fill', chart.tooltip.textStyle.color || '#dbdbdb');\n                        }\n                        (tspanElement).textContent = line = line.replace(/<[a-zA-Z\\/](.|\\n)*?>/g, '');\n                        subWidth += measureText(line, font).width;\n                        if (tspanStyle !== '') {\n                            tspanElement.setAttribute('style', tspanStyle);\n                        }\n                        isRow = false;\n                    }\n                }\n                subWidth -= spaceWidth;\n                width = Math.max(width, subWidth);\n            }\n        }\n        height -= (this.header ? this.padding : 0);\n        this.elementSize = new Size(width + (width > 0 ? (2 * this.padding) : 0), height + (this.header !== '' ? this.padding : 0));\n        this.elementSize.width += (markerSize + 5); // marker size + marker Spacing\n        var element = (parentElement.childNodes[0]);\n        if (this.header !== '' && element) {\n            font.fontWeight = 'bold';\n            var width_1 = (this.elementSize.width + (2 * this.padding)) / 2 - measureText(this.header, font).width / 2;\n            element.setAttribute('x', width_1.toString());\n        }\n    };\n    Tooltip.prototype.changeText = function (point, isBottom, isRight, rect) {\n        var element = document.getElementById(this.element.id + '_tooltip_text');\n        if (isBottom) {\n            element.setAttribute('transform', 'translate(0,' + this.arrowPadding + ')');\n        }\n        if (isRight) {\n            element.setAttribute('transform', 'translate(' + this.arrowPadding + ' 0)');\n        }\n        this.drawMarker(isBottom, isRight, 10);\n    };\n    Tooltip.prototype.drawMarker = function (isBottom, isRight, size) {\n        var count = 0;\n        var shapeOption;\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var markerGroup = this.chart.renderer.createGroup({ id: this.element.id + '_tooltip_trackball_group' });\n        var x = (this.padding * 2) + (size / 2) + (isRight ? this.arrowPadding : 0);\n        var series;\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n            var data = _a[_i];\n            series = data.series;\n            if (series.visible && series.enableTooltip && data.point.visible) {\n                shapeOption = new PathOption(this.element.id + '_Tooltip_Trackball_' + series.index, series.marker.fill ||\n                    ((data.point && data.point.color && data.point.color !== '#ffffff') ? data.point.color : series.interior), 1, '#cccccc', series.opacity, null);\n                markerGroup.appendChild(drawSymbol(new ChartLocation(x, this.markerPoint[count] - this.padding + (isBottom ? this.arrowPadding : 0)), series.marker.shape, new Size(size, size), series.marker.imageUrl, shapeOption, null));\n                count++;\n            }\n        }\n        groupElement.appendChild(markerGroup);\n    };\n    Tooltip.prototype.parseTemplate = function (point, series, format, xAxis, yAxis) {\n        var val;\n        var textValue;\n        var xFormat;\n        var customLabelFormat;\n        var chart = this.chart;\n        for (var _i = 0, _a = Object.keys(point); _i < _a.length; _i++) {\n            var dataValue = _a[_i];\n            val = new RegExp('${point' + '.' + dataValue + '}', 'gm');\n            format = format.replace(val.source, this.formatPointValue(point, val.source === '${point.x}' ? xAxis : yAxis, dataValue, val.source === '${point.x}', (val.source === '${point.high}' ||\n                val.source === '${point.open}' ||\n                val.source === '${point.close}' ||\n                val.source === '${point.low}' ||\n                val.source === '${point.y}' ||\n                val.source === '${point.minimum}' ||\n                val.source === '${point.maximum}' ||\n                val.source === '${point.outliers}' ||\n                val.source === '${point.upperQuartile}' ||\n                val.source === '${point.lowerQuartile}' ||\n                val.source === '${point.median}')));\n        }\n        for (var _b = 0, _c = Object.keys(Object.getPrototypeOf(series)); _b < _c.length; _b++) {\n            var dataValue = _c[_b];\n            val = new RegExp('${series' + '.' + dataValue + '}', 'gm');\n            textValue = series[dataValue];\n            format = format.replace(val.source, textValue);\n        }\n        return format;\n    };\n    Tooltip.prototype.formatPointValue = function (point, axis, dataValue, isXPoint, isYPoint) {\n        var textValue;\n        var customLabelFormat;\n        var value;\n        if (axis.valueType !== 'Category' && isXPoint) {\n            customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            textValue = customLabelFormat ? axis.labelFormat.replace('{value}', axis.format(point[dataValue])) :\n                axis.format(point[dataValue]);\n        }\n        else if (isYPoint) {\n            customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            value = dataValue === 'outliers' ? axis.format(point[dataValue][this.lierIndex - 4]) :\n                axis.format(point[dataValue]);\n            textValue = customLabelFormat ? axis.labelFormat.replace('{value}', value) : value;\n        }\n        else {\n            textValue = point[dataValue];\n        }\n        return textValue;\n    };\n    Tooltip.prototype.getFormat = function (chart, series) {\n        if (chart.tooltip.format) {\n            if (series.seriesType === 'XY' && series.category === 'Indicator') {\n                return this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n            }\n            return chart.tooltip.format;\n        }\n        var format = !chart.tooltip.shared ? '${point.x}' : '${series.name}';\n        switch (series.seriesType) {\n            case 'XY':\n                if (series.category === 'Indicator') {\n                    this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n                }\n                return format + ' : ' + ((series.type === 'Bubble') ? '<b>${point.y}</b>  Size : <b>${point.size}</b>'\n                    : '<b>${point.y}</b>');\n            case 'HighLow':\n                return format + ('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>');\n            case 'HighLowOpenClose':\n                return format + ('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>' +\n                    'Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>');\n            case 'BoxPlot': {\n                return format + '<br/>' + (this.lierIndex > 3 ? 'Outliers : <b>${point.outliers}</b>' :\n                    'Maximum : <b>${point.maximum}</b><br/>Q1 : <b>${point.upperQuartile}</b><br/>' +\n                        'Median : <b>${point.median}</b><br/>Q3 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>');\n            }\n        }\n        return '';\n    };\n    Tooltip.prototype.getIndicatorTooltipFormat = function (series, chart, format) {\n        var toolTip;\n        var points = [];\n        if (series.seriesType === 'XY') {\n            toolTip = series.name + ' : ${point.y}';\n        }\n        else {\n            toolTip = format;\n        }\n        return toolTip;\n    };\n    Tooltip.prototype.stopAnimation = function () {\n        stopTimer(this.toolTipInterval);\n    };\n    /**\n     * Removes the tooltip on mouse leave.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.removeTooltip = function (duration) {\n        var _this = this;\n        var chart = this.chart;\n        var tooltipElement = this.getElement(this.element.id + '_tooltip');\n        this.stopAnimation();\n        if (tooltipElement && this.previousPoints.length > 0) {\n            var data_1 = this.previousPoints;\n            this.toolTipInterval = setTimeout(function () {\n                var series = data_1[0].series;\n                var tooltipGroup = tooltipElement.firstChild;\n                var opacity = parseFloat(tooltipGroup.getAttribute('opacity')) || 1;\n                var element = _this.getElement(chart.element.id + '_Series_' + data_1[0].series.index\n                    + '_Point_' + data_1[0].point.index);\n                var rectOpacity;\n                if (element && series.isRectSeries && !chart.tooltip.shared) {\n                    rectOpacity = parseFloat(element.getAttribute('opacity'));\n                }\n                new Animation({}).animate(tooltipGroup, {\n                    duration: 200,\n                    progress: function (args) {\n                        //  tooltipGroup.removeAttribute('e-animate');\n                        tooltipGroup.style.animation = '';\n                        tooltipGroup.setAttribute('opacity', (opacity - (args.timeStamp / args.duration)).toString());\n                        if (element && series.isRectSeries && !chart.tooltip.shared) {\n                            element.setAttribute('opacity', (rectOpacity + (rectOpacity * (args.timeStamp / args.duration))).toString());\n                        }\n                    },\n                    end: function (model) {\n                        _this.valueX = null;\n                        _this.valueY = null;\n                        _this.currentPoints = [];\n                        if (element && series.isRectSeries && !chart.tooltip.shared) {\n                            element.setAttribute('opacity', series.opacity.toString());\n                        }\n                        _this.removeHighlight(chart, chart.tooltip.shared);\n                        _this.removeHighlightedMarker(data_1);\n                        tooltipGroup.setAttribute('opacity', '0');\n                        if (chart.tooltip.template && !chart.tooltip.shared) {\n                            tooltipGroup.style.display = 'none';\n                        }\n                        chart.trigger('animationComplete', {});\n                        _this.isComplete = true;\n                    }\n                });\n            }, duration);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Tooltip.prototype.removeHighlightedMarker = function (data) {\n        for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {\n            var item = data_2[_i];\n            removeElement(this.element.id + '_Series_' + item.series.index +\n                '_Point_' + item.point.index + '_Trackball');\n        }\n        if (this.chart.markerRender) {\n            this.chart.markerRender.removeHighlightedMarker();\n        }\n        this.previousPoints = [];\n    };\n    Tooltip.prototype.animateTooltipDiv = function (tooltipDiv, rect) {\n        var _this = this;\n        var x = parseFloat(tooltipDiv.style.left);\n        var y = parseFloat(tooltipDiv.style.top);\n        var currenDiff;\n        new Animation({}).animate(tooltipDiv, {\n            duration: 300,\n            progress: function (args) {\n                currenDiff = (args.timeStamp / args.duration);\n                tooltipDiv.style.animation = null;\n                tooltipDiv.style.left = (x + currenDiff * (rect.x - x)) + 'px';\n                tooltipDiv.style.top = (y + currenDiff * (rect.y - y)) + 'px';\n            },\n            end: function (model) {\n                _this.updateDiv(tooltipDiv, rect.x, rect.y);\n            }\n        });\n    };\n    Tooltip.prototype.updateDiv = function (tooltipDiv, x, y) {\n        tooltipDiv.style.left = x + 'px';\n        tooltipDiv.style.top = y + 'px';\n    };\n    /**\n     * Get module name.\n     */\n    Tooltip.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Tooltip';\n    };\n    /**\n     * To destroy the tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Tooltip;\n}(Data));\nexport { Tooltip };\n","import { EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { removeElement, measureText, RectOption, Rect, PolygonOption, PathOption, createTooltip, minMax } from '../../common/utils/helper';\nimport { textElement, TextOption } from '../../common/utils/helper';\n/**\n * Zooming Toolkit created here\n * @private\n */\nvar Toolkit = /** @class */ (function () {\n    /** @private */\n    function Toolkit(chart) {\n        this.chart = chart;\n        this.elementId = chart.element.id;\n        this.selectionColor = '#ff4081';\n        this.fillColor = '#737373';\n    }\n    /**\n     * To create the pan button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createPanButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.chart.zoomModule.isPanning ? this.selectionColor : this.fillColor;\n        var direction = 'M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,';\n        direction += '11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z';\n        childElement.id = this.elementId + '_Zooming_Pan';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('Pan'));\n        this.panElements = childElement;\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Pan_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Pan_2', fillColor, null, null, 1, null, direction)));\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.pan);\n    };\n    /**\n     * To create the zoom button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createZoomButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.chart.zoomModule.isPanning ? this.fillColor : this.selectionColor;\n        var direction = 'M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,';\n        direction += '5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571';\n        direction = direction + 'L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,';\n        childElement.id = this.elementId + '_Zooming_Zoom';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('Zoom'));\n        this.zoomElements = childElement;\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Zoom_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Zoom_3', fillColor, null, null, 1, null, direction + '4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z')));\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoom);\n    };\n    /**\n     * To create the ZoomIn button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createZoomInButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.fillColor;\n        var direction = 'M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,';\n        direction += '14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,';\n        direction += '5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,';\n        childElement.id = this.elementId + '_Zooming_ZoomIn';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('ZoomIn'));\n        var polygonDirection = '12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466';\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_ZoomIn_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_ZoomIn_2', fillColor, null, null, 1, null, direction + '4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z')));\n        childElement.appendChild(render.drawPolygon(new PolygonOption(this.elementId + '_Zooming_ZoomIn_3', polygonDirection + ' 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466', fillColor)));\n        this.zoomInElements = childElement;\n        this.elementOpacity = chart.zoomModule.isPanning ? '0.2' : '1';\n        childElement.setAttribute('opacity', this.elementOpacity);\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoomIn);\n    };\n    /**\n     * To create the ZoomOut button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createZoomOutButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.fillColor;\n        var direction = 'M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,';\n        direction += '1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,';\n        direction += '1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,';\n        childElement.id = this.elementId + '_Zooming_ZoomOut';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('ZoomOut'));\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_ZoomOut_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_ZoomOut_2', fillColor, null, null, 1, null, direction + '4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z')));\n        this.zoomOutElements = childElement;\n        this.elementOpacity = chart.zoomModule.isPanning ? '0.2' : '1';\n        childElement.setAttribute('opacity', this.elementOpacity);\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoomOut);\n    };\n    /**\n     * To create the Reset button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createResetButton = function (childElement, parentElement, chart, isDevice) {\n        var render = this.chart.renderer;\n        var fillColor = this.fillColor;\n        var size;\n        var direction = 'M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,';\n        direction += '1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,';\n        direction += '13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,';\n        childElement.id = this.elementId + '_Zooming_Reset';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('Reset'));\n        if (!isDevice) {\n            childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Reset_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n            childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Reset_2', fillColor, null, null, 1, null, direction + '3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z')));\n        }\n        else {\n            size = measureText(this.chart.getLocalizedLabel('ResetZoom'), { size: '12px' });\n            childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Reset_1', 'transparent', {}, 1, new Rect(0, 0, size.width, size.height))));\n            textElement(new TextOption(this.elementId + '_Zooming_Reset_2', 0 + size.width / 2, 0 + size.height * 3 / 4, 'middle', this.chart.getLocalizedLabel('ResetZoom'), 'rotate(0,' + (0) + ',' + (0) + ')', 'auto'), { size: '12px' }, 'black', childElement);\n        }\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.reset);\n    };\n    /**\n     * To bind events.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.wireEvents = function (element, process) {\n        EventHandler.add(element, 'mousedown touchstart', process, this);\n        EventHandler.add(element, 'mouseover', this.showTooltip, this);\n        EventHandler.add(element, 'mouseout', this.removeTooltip, this);\n    };\n    /**\n     * To show tooltip.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.showTooltip = function (event) {\n        var text = event.currentTarget.id.split('_Zooming_')[1];\n        var left = (event.pageX - (measureText(text, { size: '10px' }).width + 5));\n        if (!this.chart.isTouch) {\n            createTooltip('EJ2_Chart_ZoomTip', this.chart.getLocalizedLabel(text), (event.pageY + 10), left, '10px');\n        }\n    };\n    /** @private */\n    Toolkit.prototype.removeTooltip = function () {\n        removeElement('EJ2_Chart_ZoomTip');\n    };\n    // Toolkit events function calculation here.\n    /** @private */\n    Toolkit.prototype.reset = function () {\n        var chart = this.chart;\n        if (!chart.zoomModule.isDevice) {\n            remove(chart.zoomModule.toolkitElements);\n        }\n        this.removeTooltip();\n        chart.svgObject.setAttribute('cursor', 'auto');\n        chart.axisCollections.forEach(function (axis) {\n            axis.zoomFactor = 1;\n            axis.zoomPosition = 0;\n        });\n        chart.disableTrackTooltip = false;\n        chart.zoomModule.isZoomed = chart.zoomModule.isPanning = chart.isChartDrag = chart.delayRedraw = false;\n        chart.zoomModule.touchMoveList = chart.zoomModule.touchStartList = [];\n        chart.zoomModule.pinchTarget = null;\n        chart.removeSvg();\n        chart.refreshAxis();\n        chart.refreshBound();\n        this.elementOpacity = '1';\n        return false;\n    };\n    Toolkit.prototype.zoomIn = function (e) {\n        this.zoomInOutCalculation(1, this.chart, this.chart.axisCollections, this.chart.zoomSettings.mode);\n        return false;\n    };\n    Toolkit.prototype.zoomOut = function (e) {\n        this.zoomInOutCalculation(-1, this.chart, this.chart.axisCollections, this.chart.zoomSettings.mode);\n        return false;\n    };\n    Toolkit.prototype.zoom = function (e) {\n        this.chart.zoomModule.isPanning = false;\n        var zoomModule = this.chart.zoomModule;\n        this.elementOpacity = '1';\n        this.chart.svgObject.setAttribute('cursor', 'auto');\n        this.zoomInElements.setAttribute('opacity', this.elementOpacity);\n        this.zoomOutElements.setAttribute('opacity', this.elementOpacity);\n        this.applySelection(this.zoomElements.childNodes, this.selectionColor);\n        this.applySelection(this.panElements.childNodes, '#737373');\n        return false;\n    };\n    /** @private */\n    Toolkit.prototype.pan = function () {\n        var zoomModule = this.chart.zoomModule;\n        var element;\n        this.chart.zoomModule.isPanning = true;\n        this.chart.svgObject.setAttribute('cursor', 'pointer');\n        this.elementOpacity = '0.2';\n        element = this.zoomInElements ? this.zoomInElements.setAttribute('opacity', this.elementOpacity) : null;\n        element = this.zoomOutElements ? this.zoomOutElements.setAttribute('opacity', this.elementOpacity) : null;\n        element = this.panElements ? this.applySelection(this.panElements.childNodes, this.selectionColor) : null;\n        element = this.zoomElements ? this.applySelection(this.zoomElements.childNodes, '#737373') : null;\n        return false;\n    };\n    Toolkit.prototype.zoomInOutCalculation = function (scale, chart, axes, mode) {\n        if (!chart.zoomModule.isPanning && this.elementOpacity !== '0.2') {\n            var zoomFactor_1;\n            var zoomPosition_1;\n            var cumulative_1;\n            chart.disableTrackTooltip = true;\n            chart.delayRedraw = true;\n            axes.forEach(function (axis) {\n                if ((axis.orientation === 'Horizontal' && mode !== 'Y') ||\n                    (axis.orientation === 'Vertical' && mode !== 'X')) {\n                    cumulative_1 = Math.max(Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1) + (0.25 * scale), 1);\n                    zoomFactor_1 = (cumulative_1 === 1) ? 1 : minMax(1 / cumulative_1, 0, 1);\n                    zoomPosition_1 = (cumulative_1 === 1) ? 0 : axis.zoomPosition + ((axis.zoomFactor - zoomFactor_1) * 0.5);\n                    if (axis.zoomPosition !== zoomPosition_1 || axis.zoomFactor !== zoomFactor_1) {\n                        zoomFactor_1 = (zoomPosition_1 + zoomFactor_1) > 1 ? (1 - zoomPosition_1) : zoomFactor_1;\n                    }\n                    axis.zoomFactor = zoomFactor_1;\n                    axis.zoomPosition = zoomPosition_1;\n                }\n            });\n        }\n    };\n    Toolkit.prototype.applySelection = function (elements, color) {\n        for (var i = 1, length_1 = elements.length; i < length_1; i++) {\n            elements[i].setAttribute('fill', color);\n        }\n    };\n    return Toolkit;\n}());\nexport { Toolkit };\n","import { EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { getRectLocation, minMax, getElement, ChartLocation, Rect, RectOption, measureText } from '../../common/utils/helper';\nimport { Toolkit } from './zooming-toolkit';\nimport { Theme } from '../../common/model/theme';\nimport { zoomComplete } from '../../common/model/constants';\nimport { withInBounds } from '../../common/utils/helper';\n/**\n * Zooming Module handles the zooming for chart.\n */\nvar Zoom = /** @class */ (function () {\n    /**\n     * Constructor for Zooming module.\n     * @private.\n     */\n    function Zoom(chart) {\n        this.chart = chart;\n        this.isPointer = Browser.isPointer;\n        this.browserName = Browser.info.name;\n        this.wheelEvent = this.browserName === 'mozilla' ? (this.isPointer ? 'mousewheel' : 'DOMMouseScroll') : 'mousewheel';\n        this.cancelEvent = this.isPointer ? 'pointerleave' : 'mouseleave';\n        this.addEventListener();\n        this.isDevice = Browser.isDevice;\n        var zooming = chart.zoomSettings;\n        this.toolkit = new Toolkit(chart);\n        this.zooming = zooming;\n        this.elementId = chart.element.id;\n        this.zoomingRect = new Rect(0, 0, 0, 0);\n        this.zoomAxes = [];\n        this.zoomkitOpacity = 0.3;\n        this.isIOS = Browser.isIos || Browser.isIos7;\n    }\n    /**\n     * Function that handles the Rectangular zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.renderZooming = function (e, chart, isTouch) {\n        this.calculateZoomAxesRange(chart, chart.axisCollections);\n        if (this.zooming.enableSelectionZooming && (!isTouch\n            || (chart.isDoubleTap && this.touchStartList.length === 1)) && (!this.isPanning || chart.isDoubleTap)) {\n            this.isPanning = this.isDevice ? true : this.isPanning;\n            this.drawZoomingRectangle(chart);\n        }\n        else if (this.isPanning && chart.isChartDrag) {\n            if (!isTouch || (isTouch && this.touchStartList.length === 1)) {\n                this.pinchTarget = isTouch ? e.target : null;\n                this.doPan(chart, chart.axisCollections);\n            }\n        }\n        chart.startMove = (chart.startMove) ? !this.isPanning : chart.startMove;\n    };\n    // Zooming rectangle drawn here\n    Zoom.prototype.drawZoomingRectangle = function (chart) {\n        var areaBounds = chart.chartAxisLayoutPanel.seriesClipRect;\n        var startLocation = new ChartLocation(chart.previousMouseMoveX, chart.previousMouseMoveY);\n        var endLocation = new ChartLocation(chart.mouseX, chart.mouseY);\n        var rect = this.zoomingRect = getRectLocation(startLocation, endLocation, areaBounds);\n        if (rect.width > 0 && rect.height > 0) {\n            this.isZoomed = true;\n            chart.disableTrackTooltip = true;\n            chart.svgObject.setAttribute('cursor', 'crosshair');\n            if (this.zooming.mode === 'X') {\n                rect.height = areaBounds.height;\n                rect.y = areaBounds.y;\n            }\n            else if (this.zooming.mode === 'Y') {\n                rect.width = areaBounds.width;\n                rect.x = areaBounds.x;\n            }\n            chart.svgObject.appendChild(chart.renderer.drawRectangle(new RectOption(this.elementId + '_ZoomArea', Theme.selectionRectFill, { color: Theme.selectionRectStroke, width: 1 }, 1, rect, 0, 0, '', '3')));\n        }\n    };\n    // Panning performed here\n    Zoom.prototype.doPan = function (chart, axes) {\n        var currentScale;\n        var offset;\n        this.isZoomed = true;\n        var translateX;\n        var translateY;\n        this.offset = !chart.delayRedraw ? chart.chartAxisLayoutPanel.seriesClipRect : this.offset;\n        chart.delayRedraw = true;\n        chart.disableTrackTooltip = true;\n        axes.forEach(function (axis) {\n            currentScale = Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1);\n            if (axis.orientation === 'Horizontal') {\n                offset = (chart.previousMouseMoveX - chart.mouseX) / axis.rect.width / currentScale;\n                axis.zoomPosition = minMax(axis.zoomPosition + offset, 0, (1 - axis.zoomFactor));\n            }\n            else {\n                offset = (chart.previousMouseMoveY - chart.mouseY) / axis.rect.height / currentScale;\n                axis.zoomPosition = minMax(axis.zoomPosition - offset, 0, (1 - axis.zoomFactor));\n            }\n        });\n        if (this.zooming.enableDeferredZooming) {\n            translateX = chart.mouseX - chart.mouseDownX;\n            translateY = chart.mouseY - chart.mouseDownY;\n            switch (this.zooming.mode) {\n                case 'X':\n                    translateY = 0;\n                    break;\n                case 'Y':\n                    translateX = 0;\n                    break;\n            }\n            this.setTransform(translateX, translateY, null, null, chart, false);\n            this.refreshAxis(chart.chartAxisLayoutPanel, chart, chart.axisCollections);\n        }\n        else {\n            this.performZoomRedraw(chart);\n        }\n        chart.previousMouseMoveX = chart.mouseX;\n        chart.previousMouseMoveY = chart.mouseY;\n    };\n    /**\n     * Redraw the chart on zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.performZoomRedraw = function (chart) {\n        var rect = this.zoomingRect;\n        chart.animateSeries = false;\n        if (this.isZoomed) {\n            if (rect.width > 0 && rect.height > 0) {\n                chart.svgObject.setAttribute('cursor', 'auto');\n                this.doZoom(chart, chart.axisCollections, chart.chartAxisLayoutPanel.seriesClipRect);\n                chart.isDoubleTap = false;\n            }\n            else if (chart.disableTrackTooltip) {\n                chart.disableTrackTooltip = false;\n                chart.delayRedraw = false;\n                chart.removeSvg();\n                chart.refreshAxis();\n                chart.refreshBound();\n            }\n        }\n    };\n    Zoom.prototype.refreshAxis = function (layout, chart, axes) {\n        var mode = chart.zoomSettings.mode;\n        layout.measureAxis(new Rect(chart.initialClipRect.x, chart.initialClipRect.y, chart.initialClipRect.width, chart.initialClipRect.height));\n        axes.map(function (axis, index) {\n            if (axis.orientation === 'Horizontal' && mode !== 'Y') {\n                layout.drawXAxisLabels(axis, index);\n            }\n            if (axis.orientation === 'Vertical' && mode !== 'X') {\n                layout.drawYAxisLabels(axis, index);\n            }\n        });\n    };\n    // Rectangular zoom calculated here performed here\n    Zoom.prototype.doZoom = function (chart, axes, bounds) {\n        var zoomRect = this.zoomingRect;\n        var mode = this.zooming.mode;\n        var argsData;\n        var previousZF;\n        var previousZP;\n        var currentZF;\n        var currentZP;\n        axes.forEach(function (axis) {\n            previousZF = currentZF = axis.zoomFactor;\n            previousZP = currentZP = axis.zoomPosition;\n            argsData = {\n                cancel: false, name: zoomComplete, axis: axis, previousZoomFactor: previousZF, previousZoomPosition: previousZP,\n                currentZoomFactor: currentZF, currentZoomPosition: currentZP\n            };\n            if (axis.orientation === 'Horizontal') {\n                if (mode !== 'Y') {\n                    currentZP += Math.abs((zoomRect.x - bounds.x) / (bounds.width)) * axis.zoomFactor;\n                    currentZF *= (zoomRect.width / bounds.width);\n                    argsData.currentZoomPosition = currentZP;\n                    argsData.currentZoomFactor = currentZF;\n                    chart.trigger(zoomComplete, argsData);\n                }\n            }\n            else {\n                if (mode !== 'X') {\n                    currentZP += (1 - Math.abs((zoomRect.height + (zoomRect.y - bounds.y)) / (bounds.height))) * axis.zoomFactor;\n                    currentZF *= (zoomRect.height / bounds.height);\n                    argsData.currentZoomFactor = currentZF;\n                    argsData.currentZoomPosition = currentZP;\n                    chart.trigger(zoomComplete, argsData);\n                }\n            }\n            if (!argsData.cancel) {\n                axis.zoomFactor = argsData.currentZoomFactor;\n                axis.zoomPosition = argsData.currentZoomPosition;\n            }\n        });\n        this.zoomingRect = new Rect(0, 0, 0, 0);\n        this.performZoomRedraw(chart);\n    };\n    /**\n     * Function that handles the Mouse wheel zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.performMouseWheelZooming = function (e, mouseX, mouseY, chart, axes) {\n        var direction = (this.browserName === 'mozilla' && !this.isPointer) ?\n            -(e.detail) / 3 > 0 ? 1 : -1 : (e.wheelDelta / 120) > 0 ? 1 : -1;\n        var mode = this.zooming.mode;\n        var origin = 0.5;\n        var cumulative;\n        var zoomFactor;\n        var zoomPosition;\n        this.isZoomed = true;\n        this.calculateZoomAxesRange(chart, chart.axisCollections);\n        chart.disableTrackTooltip = true;\n        axes.forEach(function (axis) {\n            if ((axis.orientation === 'Vertical' && mode !== 'X') ||\n                (axis.orientation === 'Horizontal' && mode !== 'Y')) {\n                cumulative = Math.max(Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1) + (0.25 * direction), 1);\n                if (cumulative >= 1) {\n                    origin = axis.orientation === 'Horizontal' ? mouseX / axis.rect.width : 1 - (mouseY / axis.rect.height);\n                    origin = origin > 1 ? 1 : origin < 0 ? 0 : origin;\n                    zoomFactor = (cumulative === 1) ? 1 : minMax(1 / cumulative, 0, 1);\n                    zoomPosition = (cumulative === 1) ? 0 : axis.zoomPosition + ((axis.zoomFactor - zoomFactor) * origin);\n                    if (axis.zoomPosition !== zoomPosition || axis.zoomFactor !== zoomFactor) {\n                        zoomFactor = (zoomPosition + zoomFactor) > 1 ? (1 - zoomPosition) : zoomFactor;\n                    }\n                }\n                axis.zoomFactor = zoomFactor;\n                axis.zoomPosition = zoomPosition;\n            }\n        });\n        this.performZoomRedraw(chart);\n    };\n    /**\n     * Function that handles the Pinch zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.performPinchZooming = function (e, chart) {\n        if (this.zoomingRect.width > 0 && this.zoomingRect.height > 0) {\n            return false;\n        }\n        this.calculateZoomAxesRange(chart, chart.axisCollections);\n        this.isZoomed = true;\n        this.isPanning = true;\n        this.offset = !chart.delayRedraw ? chart.chartAxisLayoutPanel.seriesClipRect : this.offset;\n        chart.delayRedraw = true;\n        chart.disableTrackTooltip = true;\n        var elementOffset = chart.element.getBoundingClientRect();\n        var touchDown = this.touchStartList;\n        var touchMove = this.touchMoveList;\n        var touch0StartX = touchDown[0].pageX - elementOffset.left;\n        var touch0StartY = touchDown[0].pageY - elementOffset.top;\n        var touch0EndX = touchMove[0].pageX - elementOffset.left;\n        var touch0EndY = touchMove[0].pageY - elementOffset.top;\n        var touch1StartX = touchDown[1].pageX - elementOffset.left;\n        var touch1StartY = touchDown[1].pageY - elementOffset.top;\n        var touch1EndX = touchMove[1].pageX - elementOffset.left;\n        var touch1EndY = touchMove[1].pageY - elementOffset.top;\n        var scaleX;\n        var scaleY;\n        var translateXValue;\n        var translateYValue;\n        var pinchRect;\n        var clipX;\n        var clipY;\n        scaleX = Math.abs(touch0EndX - touch1EndX) / Math.abs(touch0StartX - touch1StartX);\n        scaleY = Math.abs(touch0EndY - touch1EndY) / Math.abs(touch0StartY - touch1StartY);\n        clipX = ((this.offset.x - touch0EndX) / scaleX) + touch0StartX;\n        clipY = ((this.offset.y - touch0EndY) / scaleY) + touch0StartY;\n        pinchRect = new Rect(clipX, clipY, this.offset.width / scaleX, this.offset.height / scaleY);\n        translateXValue = (touch0EndX - (scaleX * touch0StartX));\n        translateYValue = (touch0EndY - (scaleY * touch0StartY));\n        if (!isNaN(scaleX - scaleX) && !isNaN(scaleY - scaleY)) {\n            switch (this.zooming.mode) {\n                case 'XY':\n                    this.setTransform(translateXValue, translateYValue, scaleX, scaleY, chart, true);\n                    break;\n                case 'X':\n                    this.setTransform(translateXValue, 0, scaleX, 1, chart, true);\n                    break;\n                case 'Y':\n                    this.setTransform(0, translateYValue, 1, scaleY, chart, true);\n                    break;\n            }\n        }\n        this.calculatePinchZoomFactor(chart, pinchRect);\n        this.refreshAxis(chart.chartAxisLayoutPanel, chart, chart.axisCollections);\n        chart.startMove = (chart.startMove) ? !this.isPanning : chart.startMove;\n        return true;\n    };\n    Zoom.prototype.calculatePinchZoomFactor = function (chart, pinchRect) {\n        var _this = this;\n        var mode = this.zooming.mode;\n        var selectionMin;\n        var selectionMax;\n        var rangeMin;\n        var rangeMax;\n        var value;\n        var axisTrans;\n        chart.axisCollections.forEach(function (axis, index) {\n            if ((axis.orientation === 'Horizontal' && mode !== 'Y') ||\n                (axis.orientation === 'Vertical' && mode !== 'X')) {\n                if (axis.orientation === 'Horizontal') {\n                    value = pinchRect.x - _this.offset.x;\n                    axisTrans = axis.rect.width / _this.zoomAxes[index].delta;\n                    rangeMin = value / axisTrans + _this.zoomAxes[index].min;\n                    value = pinchRect.x + pinchRect.width - _this.offset.x;\n                    rangeMax = value / axisTrans + _this.zoomAxes[index].min;\n                }\n                else {\n                    value = pinchRect.y - _this.offset.y;\n                    axisTrans = axis.rect.height / _this.zoomAxes[index].delta;\n                    rangeMin = (value * -1 + axis.rect.height) / axisTrans + _this.zoomAxes[index].min;\n                    value = pinchRect.y + pinchRect.height - _this.offset.y;\n                    rangeMax = (value * -1 + axis.rect.height) / axisTrans + _this.zoomAxes[index].min;\n                }\n                selectionMin = Math.min(rangeMin, rangeMax);\n                selectionMax = Math.max(rangeMin, rangeMax);\n                axis.zoomPosition = (selectionMin - _this.zoomAxes[index].actualMin) / _this.zoomAxes[index].actualDelta;\n                axis.zoomFactor = (selectionMax - selectionMin) / _this.zoomAxes[index].actualDelta;\n                axis.zoomPosition = axis.zoomPosition < 0 ? 0 : axis.zoomPosition;\n                axis.zoomFactor = axis.zoomFactor > 1 ? 1 : axis.zoomFactor;\n            }\n        });\n    };\n    // Series transformation style applied here.\n    Zoom.prototype.setTransform = function (transX, transY, scaleX, scaleY, chart, isPinch) {\n        chart.seriesElements.setAttribute('clip-path', 'url(#' + this.elementId + '_ChartAreaClipRect_)');\n        var translate;\n        var xAxisLoc;\n        var yAxisLoc;\n        var element;\n        if (transX !== null && transY !== null) {\n            chart.visibleSeries.forEach(function (value) {\n                xAxisLoc = chart.requireInvertedAxis ? value.yAxis.rect.x : value.xAxis.rect.x;\n                yAxisLoc = chart.requireInvertedAxis ? value.xAxis.rect.y : value.yAxis.rect.y;\n                translate = 'translate(' + (transX + (isPinch ? (scaleX * xAxisLoc) : xAxisLoc)) +\n                    ',' + (transY + (isPinch ? (scaleY * yAxisLoc) : yAxisLoc)) + ')';\n                translate = (scaleX || scaleY) ? translate + ' scale(' + scaleX + ' ' + scaleY + ')' : translate;\n                value.seriesElement.setAttribute('transform', translate);\n                element = getElement(chart.element.id + '_Series_' + value.index + '_DataLabelCollections');\n                if (value.errorBarElement) {\n                    value.errorBarElement.setAttribute('transform', translate);\n                }\n                if (value.symbolElement) {\n                    value.symbolElement.setAttribute('transform', translate);\n                }\n                if (value.textElement) {\n                    value.textElement.setAttribute('visibility', 'hidden');\n                    value.shapeElement.setAttribute('visibility', 'hidden');\n                }\n                if (element) {\n                    element.style.visibility = 'hidden';\n                }\n            });\n        }\n    };\n    Zoom.prototype.calculateZoomAxesRange = function (chart, axes) {\n        var _this = this;\n        var range;\n        var axisRange;\n        chart.axisCollections.forEach(function (axis, index) {\n            axisRange = axis.visibleRange;\n            if (_this.zoomAxes[index]) {\n                if (!chart.delayRedraw) {\n                    _this.zoomAxes[index].min = axisRange.min;\n                    _this.zoomAxes[index].delta = axisRange.delta;\n                }\n            }\n            else {\n                range = {\n                    actualMin: axis.actualRange.min,\n                    actualDelta: axis.actualRange.delta,\n                    min: axisRange.min,\n                    delta: axisRange.delta\n                };\n                _this.zoomAxes[index] = range;\n            }\n        });\n    };\n    // Zooming Toolkit created here\n    Zoom.prototype.showZoomingToolkit = function (chart) {\n        var toolboxItems = this.zooming.toolbarItems;\n        var areaBounds = chart.chartAxisLayoutPanel.seriesClipRect;\n        var spacing = 5;\n        var render = chart.renderer;\n        var length = this.isDevice ? 1 : toolboxItems.length;\n        var iconSize = this.isDevice ? measureText('Reset Zoom', { size: '12px' }).width : 16;\n        var height = this.isDevice ? measureText('Reset Zoom', { size: '12px' }).height : 22;\n        var width = (length * iconSize) + ((length + 1) * spacing) + ((length - 1) * spacing);\n        var transX = areaBounds.x + areaBounds.width - width - spacing;\n        var transY = (areaBounds.y + spacing);\n        var xPosition = spacing;\n        var outerElement;\n        var toolkit = this.toolkit;\n        var element;\n        var shadowElement = '<filter id=\"chart_shadow\" height=\"130%\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"5\"/>';\n        shadowElement += '<feOffset dx=\"-3\" dy=\"4\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"1\"/>';\n        shadowElement += '</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n        if (length === 0 || getElement(this.elementId + '_Zooming_KitCollection')) {\n            return false;\n        }\n        var defElement = render.createDefs();\n        toolboxItems = this.isDevice ? ['Reset'] : toolboxItems;\n        defElement.innerHTML = shadowElement;\n        this.toolkitElements = render.createGroup({\n            id: this.elementId + '_Zooming_KitCollection',\n            transform: 'translate(' + transX + ',' + transY + ')'\n        });\n        this.toolkitElements.appendChild(defElement);\n        this.toolkitElements.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Rect', '#fafafa', { color: 'transparent', width: 1 }, 1, new Rect(0, 0, width, (height + (spacing * 2))), 0, 0)));\n        outerElement = render.drawRectangle(new RectOption(this.elementId + '_Zooming_Rect', '#fafafa', { color: 'transparent', width: 1 }, 0.1, new Rect(0, 0, width, (height + (spacing * 2))), 0, 0));\n        outerElement.setAttribute('filter', 'url(#chart_shadow)');\n        this.toolkitElements.appendChild(outerElement);\n        var currentItem;\n        for (var i = 1; i <= length; i++) {\n            currentItem = toolboxItems[i - 1];\n            element = render.createGroup({\n                transform: 'translate(' + xPosition + ',' + (this.isDevice ? spacing : (spacing + 3)) + ')'\n            });\n            // for desktop toolkit hight is 32 and top padding is 8 icon size 16\n            switch (currentItem) {\n                case 'Pan':\n                    toolkit.createPanButton(element, this.toolkitElements, chart);\n                    break;\n                case 'Zoom':\n                    toolkit.createZoomButton(element, this.toolkitElements, chart);\n                    break;\n                case 'ZoomIn':\n                    toolkit.createZoomInButton(element, this.toolkitElements, chart);\n                    break;\n                case 'ZoomOut':\n                    toolkit.createZoomOutButton(element, this.toolkitElements, chart);\n                    break;\n                case 'Reset':\n                    toolkit.createResetButton(element, this.toolkitElements, chart, this.isDevice);\n                    break;\n            }\n            xPosition += iconSize + (spacing * 2);\n        }\n        this.toolkitElements.setAttribute('opacity', this.isDevice ? '1' : '' + this.zoomkitOpacity);\n        this.toolkitElements.setAttribute('cursor', 'auto');\n        chart.svgObject.appendChild(this.toolkitElements);\n        if (!this.isDevice) {\n            EventHandler.add(this.toolkitElements, 'mousemove touchstart', this.zoomToolkitMove, this);\n            EventHandler.add(this.toolkitElements, 'mouseleave touchend', this.zoomToolkitLeave, this);\n            if (this.isPanning) {\n                toolkit.pan();\n            }\n        }\n        return true;\n    };\n    /**\n     * To the show the zooming toolkit.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.applyZoomToolkit = function (chart, axes) {\n        var showToolkit = false;\n        axes.forEach(function (axis) {\n            showToolkit = (showToolkit || (axis.zoomFactor !== 1 || axis.zoomPosition !== 0));\n        });\n        if (showToolkit) {\n            this.showZoomingToolkit(chart);\n            this.isZoomed = true;\n        }\n        else {\n            this.toolkit.removeTooltip();\n            this.isPanning = false;\n            this.isZoomed = false;\n        }\n    };\n    Zoom.prototype.zoomToolkitMove = function (e) {\n        var element = this.toolkitElements;\n        var opacity = +element.getAttribute('opacity');\n        this.zoomkitOpacity = 1;\n        element.setAttribute('opacity', '' + this.zoomkitOpacity);\n        return false;\n    };\n    Zoom.prototype.zoomToolkitLeave = function (e) {\n        var element = this.toolkitElements;\n        this.zoomkitOpacity = 0.3;\n        element.setAttribute('opacity', '' + this.zoomkitOpacity);\n        return false;\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        EventHandler.add(this.chart.element, this.wheelEvent, this.chartMouseWheel, this);\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchStartEvent, this.mouseDownHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n        this.chart.on(this.cancelEvent, this.mouseCancelHandler, this);\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        EventHandler.remove(this.chart.element, this.wheelEvent, this.chartMouseWheel);\n        this.chart.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n        this.chart.off(Browser.touchStartEvent, this.mouseDownHandler);\n        this.chart.off(Browser.touchEndEvent, this.mouseUpHandler);\n        this.chart.off(this.cancelEvent, this.mouseCancelHandler);\n    };\n    /**\n     * Handles the mouse wheel on chart.\n     * @return {boolean}\n     * @private\n     */\n    Zoom.prototype.chartMouseWheel = function (e) {\n        var chart = this.chart;\n        var offset = chart.element.getBoundingClientRect();\n        var svgRect = getElement(chart.element.id + '_svg').getBoundingClientRect();\n        var mouseX = (e.clientX - offset.left) - Math.max(svgRect.left - offset.left, 0);\n        var mouseY = (e.clientY - offset.top) - Math.max(svgRect.top - offset.top, 0);\n        if (this.zooming.enableMouseWheelZooming &&\n            withInBounds(mouseX, mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            e.preventDefault();\n            this.performMouseWheelZooming(e, mouseX, mouseY, chart, chart.axisCollections);\n        }\n        return false;\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseMoveHandler = function (e) {\n        //Zooming for chart\n        var chart = this.chart;\n        var touches = null;\n        if (e.type === 'touchmove') {\n            if (e.preventDefault && this.isIOS &&\n                (this.isPanning || (chart.isDoubleTap)\n                    || (this.zooming.enablePinchZooming && this.touchStartList.length > 1))) {\n                e.preventDefault();\n            }\n            touches = e.touches;\n        }\n        if (chart.isChartDrag) {\n            if (chart.isTouch) {\n                this.touchMoveList = this.addTouchPointer(this.touchMoveList, e, touches);\n                if (this.zooming.enablePinchZooming && this.touchMoveList.length > 1\n                    && this.touchStartList.length > 1) {\n                    this.performPinchZooming(e, chart);\n                }\n            }\n            this.renderZooming(e, chart, chart.isTouch);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseDownHandler = function (e) {\n        //Zooming for chart\n        var chart = this.chart;\n        var touches = null;\n        var target;\n        if (e.type === 'touchstart') {\n            touches = e.touches;\n            target = e.target;\n        }\n        else {\n            target = e.target;\n        }\n        if (target.id.indexOf(chart.element.id + '_Zooming_') === -1 &&\n            withInBounds(chart.previousMouseMoveX, chart.previousMouseMoveY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            chart.isChartDrag = true;\n        }\n        if (chart.isTouch) {\n            this.touchStartList = this.addTouchPointer(this.touchStartList, e, touches);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseUpHandler = function (e) {\n        var chart = this.chart;\n        var performZoomRedraw = e.target.id.indexOf(chart.element.id + '_ZoomOut_') === -1 ||\n            e.target.id.indexOf(chart.element.id + '_ZoomIn_') === -1;\n        if (chart.isChartDrag || performZoomRedraw) {\n            this.performZoomRedraw(chart);\n        }\n        if (chart.isTouch) {\n            if (chart.isDoubleTap && withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)\n                && this.touchStartList.length === 1 && this.isZoomed) {\n                this.toolkit.reset();\n            }\n            this.touchStartList = [];\n            chart.isDoubleTap = false;\n        }\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseCancelHandler = function (e) {\n        if (this.isZoomed) {\n            this.performZoomRedraw(this.chart);\n        }\n        this.pinchTarget = null;\n        this.touchStartList = [];\n        this.touchMoveList = [];\n    };\n    /**\n     * Handles the touch pointer.\n     * @return {boolean}\n     * @private\n     */\n    Zoom.prototype.addTouchPointer = function (touchList, e, touches) {\n        if (touches) {\n            touchList = [];\n            for (var i = 0, length_1 = touches.length; i < length_1; i++) {\n                touchList.push({ pageX: touches[i].clientX, pageY: touches[i].clientY, pointerId: null });\n            }\n        }\n        else {\n            touchList = touchList ? touchList : [];\n            if (touchList.length === 0) {\n                touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n            }\n            else {\n                for (var i = 0, length_2 = touchList.length; i < length_2; i++) {\n                    if (touchList[i].pointerId === e.pointerId) {\n                        touchList[i] = { pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId };\n                    }\n                    else {\n                        touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n                    }\n                }\n            }\n        }\n        return touchList;\n    };\n    /**\n     * Get module name.\n     */\n    Zoom.prototype.getModuleName = function () {\n        // Returns te module name\n        return 'Zoom';\n    };\n    /**\n     * To destroy the zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.destroy = function (chart) {\n        // Destroy method performed here\n        this.removeEventListener();\n    };\n    return Zoom;\n}());\nexport { Zoom };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Selection Module handles the selection for chart.\n * @private\n */\nvar BaseSelection = /** @class */ (function () {\n    function BaseSelection(control) {\n        this.control = control;\n    }\n    /**\n     * To create selection styles for series\n     */\n    BaseSelection.prototype.seriesStyles = function () {\n        var seriesclass;\n        var style = document.getElementById(this.styleId);\n        if (isNullOrUndefined(style)) {\n            style = document.createElement('style');\n            style.setAttribute('id', this.styleId);\n            for (var _i = 0, _a = this.control.visibleSeries; _i < _a.length; _i++) {\n                var series = _a[_i];\n                seriesclass = series.selectionStyle || this.styleId + '_series_' + series.index;\n                style.innerHTML += series.selectionStyle ? '' : '.' + seriesclass + ' { } ';\n            }\n            style.innerHTML += '.' + this.unselected + ' { opacity:' + (0.3) + ';} ';\n            document.body.appendChild(style);\n        }\n    };\n    /**\n     * To concat indexes\n     */\n    BaseSelection.prototype.concatIndexes = function (userIndexes, localIndexes) {\n        return userIndexes.concat(localIndexes);\n    };\n    /**\n     * Selected points series visibility checking on legend click\n     */\n    BaseSelection.prototype.checkVisibility = function (selectedIndexes) {\n        var visible = false;\n        var uniqueSeries = [];\n        for (var _i = 0, selectedIndexes_1 = selectedIndexes; _i < selectedIndexes_1.length; _i++) {\n            var index = selectedIndexes_1[_i];\n            if (uniqueSeries.indexOf(index.series) === -1) {\n                uniqueSeries.push(index.series);\n            }\n        }\n        for (var _a = 0, uniqueSeries_1 = uniqueSeries; _a < uniqueSeries_1.length; _a++) {\n            var index = uniqueSeries_1[_a];\n            if (this.control.series[index].visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * To add svg element style class\n     * @private\n     */\n    BaseSelection.prototype.addSvgClass = function (element, className) {\n        var elementClassName = element.getAttribute('class') || '';\n        elementClassName += ((elementClassName !== '') ? ' ' : '');\n        if (elementClassName.indexOf(className) === -1) {\n            element.setAttribute('class', elementClassName + className);\n        }\n    };\n    /**\n     * To remove svg element style class\n     * @private\n     */\n    BaseSelection.prototype.removeSvgClass = function (element, className) {\n        var elementClassName = element.getAttribute('class') || '';\n        if (elementClassName.indexOf(className) > -1) {\n            element.setAttribute('class', elementClassName.replace(className, ''));\n        }\n    };\n    /**\n     * To get children from parent element\n     */\n    BaseSelection.prototype.getChildren = function (parent) {\n        var children = [];\n        for (var i = 0; i < parent.childNodes.length; i++) {\n            if (parent.childNodes[i].tagName !== 'defs') {\n                children.push(parent.childNodes[i]);\n            }\n        }\n        return children;\n    };\n    return BaseSelection;\n}());\nexport { BaseSelection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Selection src file\n */\nimport { Browser } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ChartLocation, Rect, RectOption, CircleOption, withInBounds, getDraggedRectLocation, removeElement, getElement } from '../../common/utils/helper';\nimport { Index } from '../../common/model/base';\nimport { Theme } from '../../common/model/theme';\nimport { dragComplete } from '../../common/model/constants';\nimport { BaseSelection } from '../../common/selection/selection';\n/**\n * Selection Module handles the selection for chart.\n * @private\n */\nvar Selection = /** @class */ (function (_super) {\n    __extends(Selection, _super);\n    /**\n     * Constructor for selection module.\n     * @private.\n     */\n    function Selection(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.chart = chart;\n        _this.renderer = chart.renderer;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Binding events for selection module.\n     */\n    Selection.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(Browser.touchMoveEvent, this.mouseMove, this);\n        this.chart.on(cancelEvent, this.completeSelection, this);\n        this.chart.on('click', this.calculateSelectedElements, this);\n        this.chart.on(Browser.touchStartEvent, this.mousedown, this);\n        this.chart.on(Browser.touchEndEvent, this.completeSelection, this);\n    };\n    /**\n     * Chart mouse down\n     */\n    Selection.prototype.mousedown = function (e) {\n        var chart = this.chart;\n        if (chart.selectionMode === 'None' || chart.isChartDrag) {\n            return;\n        }\n        if (chart.isDoubleTap || !chart.isTouch || this.rectPoints) {\n            this.dragStart(chart, chart.chartAxisLayoutPanel.seriesClipRect, chart.mouseDownX, chart.mouseDownY, e);\n        }\n    };\n    /**\n     * UnBinding events for selection module.\n     */\n    Selection.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.off(Browser.touchMoveEvent, this.mouseMove);\n        this.chart.off('pointerleave' || 'mouseleave', this.completeSelection);\n        this.chart.off('click', this.calculateSelectedElements);\n        this.chart.off(Browser.touchStartEvent, this.mousedown);\n        this.chart.off(Browser.touchEndEvent, this.completeSelection);\n    };\n    /**\n     * To find private variable values\n     */\n    Selection.prototype.initPrivateVariables = function (chart) {\n        this.styleId = chart.element.id + '_ej2_chart_selection';\n        this.unselected = chart.element.id + '_ej2_deselected';\n        this.closeIconId = chart.element.id + '_ej2_drag_close';\n        this.draggedRectGroup = chart.element.id + '_ej2_drag_group';\n        this.draggedRect = chart.element.id + '_ej2_drag_rect';\n        this.selectedDataIndexes = [];\n        this.rectPoints = null;\n        this.isSeriesMode = chart.selectionMode === 'Series';\n    };\n    /**\n     * Method to select the point and series.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.invokeSelection = function (chart) {\n        this.initPrivateVariables(chart);\n        this.series = extend({}, chart.visibleSeries, null, true);\n        this.seriesStyles();\n        if (!(chart.selectionMode.indexOf('Drag') > -1)) {\n            this.selectDataIndex(chart, this.concatIndexes(chart.selectedDataIndexes, this.selectedDataIndexes));\n        }\n    };\n    Selection.prototype.generateStyle = function (series) {\n        if (series) {\n            return (series.selectionStyle || this.styleId + '_series_' + series.index);\n        }\n        return 'undefined';\n    };\n    Selection.prototype.selectDataIndex = function (chart, indexes) {\n        for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\n            var index = indexes_1[_i];\n            this.performSelection(index, chart, this.getElementByIndex(chart, index)[0]);\n        }\n    };\n    Selection.prototype.getElementByIndex = function (chart, index, suffix) {\n        if (suffix === void 0) { suffix = ''; }\n        var elementId = chart.element.id + '_Series_' + index.series + '_Point' + '_' + index.point;\n        var series = chart.series[index.series];\n        elementId = (!series.isRectSeries && series.type !== 'Scatter' && series.type !== 'Bubble' &&\n            series.marker.visible) ? (elementId + '_Symbol' + suffix) : elementId;\n        return [getElement(elementId), (series.type === 'RangeArea' && series.marker.visible) ? getElement(elementId + '1') : null];\n    };\n    Selection.prototype.getClusterElements = function (chart, index) {\n        var clusters = [];\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            index = new Index(series.index, index.point);\n            clusters.push(this.getElementByIndex(chart, index)[0]);\n        }\n        return clusters;\n    };\n    Selection.prototype.findElements = function (chart, series, index, suffix) {\n        if (suffix === void 0) { suffix = ''; }\n        if (this.isSeriesMode) {\n            return this.getSeriesElements(series);\n        }\n        else if (chart.selectionMode === 'Cluster') {\n            return this.getClusterElements(chart, index);\n        }\n        else {\n            return this.getElementByIndex(chart, index, suffix);\n        }\n    };\n    /**\n     * To find the selected element.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.calculateSelectedElements = function (event) {\n        if (this.chart.selectionMode === 'None' || event.target.id.indexOf(this.chart.element.id + '_') === -1) {\n            return;\n        }\n        if (event.target.id.indexOf('_Series_') > -1) {\n            this.performSelection(this.indexFinder(event.target.id), this.chart, event.target);\n        }\n    };\n    Selection.prototype.performSelection = function (index, chart, element) {\n        this.isSeriesMode = chart.selectionMode === 'Series';\n        if (chart.series[index.series].type === 'BoxAndWhisker' &&\n            element.id === chart.element.id + '_Series_' + index.series + '_Point_' + index.point + '_BoxPath') {\n            element = element.parentElement;\n        }\n        switch (chart.selectionMode) {\n            case 'Series':\n                this.selection(chart, index, this.getSeriesElements(chart.series[index.series]));\n                this.blurEffect(chart.element.id, chart.visibleSeries);\n                break;\n            case 'Point':\n                if (!isNaN(index.point)) {\n                    this.selection(chart, index, [element]);\n                    this.blurEffect(chart.element.id, chart.visibleSeries);\n                }\n                break;\n            case 'Cluster':\n                if (!isNaN(index.point)) {\n                    this.clusterSelection(chart, chart.series, index);\n                    this.blurEffect(chart.element.id, chart.visibleSeries);\n                }\n                break;\n        }\n    };\n    Selection.prototype.selection = function (chart, index, selectedElements) {\n        if (!chart.isMultiSelect && (chart.selectionMode.indexOf('Drag') === -1)) {\n            this.removeMultiSelectEelments(chart, this.selectedDataIndexes, index, chart.series);\n        }\n        var className = selectedElements[0] && (selectedElements[0].getAttribute('class') || '');\n        if (selectedElements[0] && className.indexOf(this.getSelectionClass(selectedElements[0].id)) > -1) {\n            this.removeStyles(selectedElements);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index);\n        }\n        else {\n            this.applyStyles(selectedElements);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index, true);\n        }\n    };\n    Selection.prototype.clusterSelection = function (chart, series, index) {\n        this.selection(chart, index, this.getClusterElements(chart, new Index(index.series, index.point)));\n    };\n    Selection.prototype.removeMultiSelectEelments = function (chart, index, currentIndex, seriesCollection) {\n        var series;\n        for (var i = 0; i < index.length; i++) {\n            series = seriesCollection[index[i].series];\n            if ((this.isSeriesMode && !this.toEquals(index[i], currentIndex, this.isSeriesMode)) ||\n                (this.control.selectionMode === 'Cluster' && !this.toEquals(index[i], currentIndex, false)) ||\n                (!this.isSeriesMode && this.toEquals(index[i], currentIndex, true) && !this.toEquals(index[i], currentIndex, false))) {\n                this.removeStyles(this.findElements(chart, series, index[i]));\n                index.splice(i, 1);\n                i--;\n            }\n        }\n    };\n    Selection.prototype.blurEffect = function (chartId, visibleSeries) {\n        var visibility = this.checkVisibility(this.selectedDataIndexes); // legend click scenario\n        for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n            var series = visibleSeries_1[_i];\n            if (series.visible) {\n                this.checkSelectionElements(getElement(chartId + 'SeriesGroup' + series.index), this.generateStyle(series), visibility);\n                if (!isNullOrUndefined(getElement(chartId + 'SymbolGroup' + series.index))) {\n                    this.checkSelectionElements(getElement(chartId + 'SymbolGroup' + series.index), this.generateStyle(series), visibility);\n                }\n            }\n        }\n    };\n    Selection.prototype.checkSelectionElements = function (element, className, visibility) {\n        var children = (this.isSeriesMode ? [element] : element.childNodes);\n        var elementClassName;\n        var parentClassName;\n        for (var i = 0; i < children.length; i++) {\n            elementClassName = children[i].getAttribute('class') || '';\n            parentClassName = children[i].parentNode.getAttribute('class') || '';\n            if (elementClassName.indexOf(className) === -1 &&\n                parentClassName.indexOf(className) === -1 && visibility) {\n                this.addSvgClass(children[i], this.unselected);\n            }\n            else {\n                this.removeSvgClass(children[i], this.unselected);\n            }\n        }\n    };\n    Selection.prototype.applyStyles = function (elements) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            if (element) {\n                this.removeSvgClass(element.parentNode, this.unselected);\n                this.removeSvgClass(element, this.unselected);\n                this.addSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    Selection.prototype.getSelectionClass = function (id) {\n        return this.generateStyle(this.control.series[this.indexFinder(id).series]);\n    };\n    Selection.prototype.removeStyles = function (elements) {\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            if (element) {\n                this.removeSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    Selection.prototype.addOrRemoveIndex = function (indexes, index, add) {\n        for (var i = 0; i < indexes.length; i++) {\n            if (this.toEquals(indexes[i], index, this.isSeriesMode)) {\n                indexes.splice(i, 1);\n                i--;\n            }\n        }\n        if (add) {\n            indexes.push(index);\n        }\n    };\n    Selection.prototype.toEquals = function (first, second, checkSeriesOnly) {\n        return ((first.series === second.series || (this.control.selectionMode === 'Cluster' && !checkSeriesOnly))\n            && (checkSeriesOnly || (first.point === second.point)));\n    };\n    /**\n     * To redraw the selected points.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.redrawSelection = function (chart, oldMode) {\n        this.isSeriesMode = oldMode === 'Series';\n        var selectedDataIndexes = extend([], this.selectedDataIndexes, null, true);\n        this.removeSelectedElements(chart, this.selectedDataIndexes, chart.series);\n        this.blurEffect(chart.element.id, chart.visibleSeries);\n        this.selectDataIndex(chart, selectedDataIndexes);\n    };\n    /** @private */\n    Selection.prototype.legendSelection = function (chart, series) {\n        var seriesStyle = this.generateStyle(chart.visibleSeries[series]);\n        var selectedElements = document.getElementsByClassName(seriesStyle);\n        this.isSeriesMode = chart.selectionMode === 'Series';\n        var isBlurEffectNeeded = true;\n        if (selectedElements.length > 0) {\n            var elements = [];\n            for (var i = 0; i < selectedElements.length; i++) {\n                elements.push(selectedElements[i]);\n            }\n            this.removeStyles(elements);\n            this.isSeriesMode = true;\n            this.addOrRemoveIndex(this.selectedDataIndexes, new Index(series, NaN));\n            for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                var series_1 = _a[_i];\n                seriesStyle = this.generateStyle(series_1);\n                if (document.getElementsByClassName(seriesStyle).length > 0) {\n                    for (var _b = 0, elements_3 = elements; _b < elements_3.length; _b++) {\n                        var element = elements_3[_b];\n                        this.checkSelectionElements(element, seriesStyle, true);\n                    }\n                    isBlurEffectNeeded = false;\n                    break;\n                }\n            }\n            if (isBlurEffectNeeded) {\n                this.isSeriesMode = chart.selectionMode === 'Series';\n                this.blurEffect(chart.element.id, chart.visibleSeries);\n            }\n        }\n        else {\n            var seriesElements = this.getSeriesElements(chart.visibleSeries[series]);\n            for (var _c = 0, seriesElements_1 = seriesElements; _c < seriesElements_1.length; _c++) {\n                var seriesElement = seriesElements_1[_c];\n                this.checkSelectionElements(seriesElement, seriesStyle, false);\n            }\n            this.isSeriesMode = true;\n            this.selection(chart, new Index(series, NaN), seriesElements);\n            this.isSeriesMode = chart.selectionMode === 'Series';\n            this.blurEffect(chart.element.id, chart.visibleSeries);\n        }\n    };\n    Selection.prototype.getSeriesElements = function (series) {\n        var seriesElements = [series.seriesElement];\n        if (series.marker.visible && !series.isRectSeries) {\n            seriesElements.push(series.symbolElement);\n        }\n        return seriesElements;\n    };\n    Selection.prototype.indexFinder = function (id) {\n        var ids = ['NaN', 'NaN'];\n        if (id.indexOf('SeriesGroup') > -1) {\n            ids = id.split('SeriesGroup');\n            ids[0] = ids[1];\n        }\n        else if (id.indexOf('SymbolGroup') > -1) {\n            ids = id.split('SymbolGroup');\n            ids[0] = ids[1];\n        }\n        else if (id.indexOf('_Point_') > -1) {\n            ids = id.split('_Series_')[1].split('_Point_');\n        }\n        else if (id.indexOf('_Series_') > -1) {\n            ids[0] = id.split('_Series_')[1];\n        }\n        return new Index(parseInt(ids[0], 10), parseInt(ids[1], 10));\n    };\n    /**\n     * Drag selection that returns the selected data.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.calculateDragSelectedElements = function (chart, dragRect) {\n        this.removeSelectedElements(chart, this.selectedDataIndexes, chart.series);\n        var rect = new Rect(dragRect.x, dragRect.y, dragRect.width, dragRect.height);\n        var axisOffset = new ChartLocation(chart.chartAxisLayoutPanel.seriesClipRect.x, chart.chartAxisLayoutPanel.seriesClipRect.y);\n        this.removeOffset(rect, axisOffset);\n        var points;\n        var index;\n        var selectedPointValues = [];\n        var selectedSeriesValues = [];\n        this.isSeriesMode = false;\n        var symbolLocation;\n        var _loop_1 = function (series) {\n            if (series.visible) {\n                points = series.points;\n                selectedPointValues = [];\n                var xAxisOffset_1;\n                var yAxisOffset_1;\n                if ((chart.isTransposed || series.type.indexOf('Bar') !== -1) &&\n                    !(chart.isTransposed && series.type.indexOf('Bar') !== -1)) {\n                    xAxisOffset_1 = series.xAxis.rect.y - axisOffset.y;\n                    yAxisOffset_1 = series.yAxis.rect.x - axisOffset.x;\n                }\n                else {\n                    xAxisOffset_1 = series.xAxis.rect.x - axisOffset.x;\n                    yAxisOffset_1 = series.yAxis.rect.y - axisOffset.y;\n                }\n                for (var j = 0; j < points.length; j++) {\n                    var yValue = series.type !== 'RangeArea' ? points[j].yValue :\n                        points[j].regions[0].y;\n                    var isCurrentPoint = void 0;\n                    if (series.type === 'BoxAndWhisker') {\n                        isCurrentPoint = points[j].regions.some(function (region) {\n                            return withInBounds(region.x + xAxisOffset_1, region.y + yAxisOffset_1, rect);\n                        });\n                    }\n                    else {\n                        isCurrentPoint = points[j].symbolLocations.some(function (location) {\n                            return location && withInBounds(location.x + xAxisOffset_1, location.y + yAxisOffset_1, rect);\n                        });\n                    }\n                    if (isCurrentPoint && series.category !== 'Indicator') {\n                        index = new Index(series.index, points[j].index);\n                        this_1.selection(chart, index, this_1.findElements(chart, series, index));\n                        selectedPointValues.push({ x: points[j].xValue.toString(), y: yValue });\n                    }\n                    if (isCurrentPoint && series.type === 'RangeArea') {\n                        selectedPointValues.push({ x: points[j].xValue.toString(), y: points[j].regions[0].y });\n                    }\n                }\n                selectedSeriesValues.push(selectedPointValues);\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            _loop_1(series);\n        }\n        this.blurEffect(chart.element.id, chart.visibleSeries);\n        this.rectPoints = new Rect(dragRect.x, dragRect.y, dragRect.width, dragRect.height);\n        this.createCloseButton((dragRect.x + dragRect.width), dragRect.y);\n        var args = {\n            name: dragComplete,\n            selectedDataValues: selectedSeriesValues,\n            cancel: false\n        };\n        chart.trigger(dragComplete, args);\n    };\n    Selection.prototype.removeOffset = function (rect, clip) {\n        rect.x -= clip.x;\n        rect.y -= clip.y;\n    };\n    /**\n     * Method to draw dragging rect.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.drawDraggingRect = function (chart, dragRect) {\n        var cartesianLayout = chart.chartAxisLayoutPanel.seriesClipRect;\n        switch (chart.selectionMode) {\n            case 'DragX':\n                dragRect.y = cartesianLayout.y;\n                dragRect.height = cartesianLayout.height;\n                break;\n            case 'DragY':\n                dragRect.x = cartesianLayout.x;\n                dragRect.width = cartesianLayout.width;\n                break;\n        }\n        if (dragRect.width < 5 || dragRect.height < 5) {\n            return null;\n        }\n        var element = getElement(this.draggedRect);\n        if (this.closeIcon) {\n            removeElement(this.closeIconId);\n        }\n        if (element) {\n            this.setAttributes(element, dragRect);\n        }\n        else {\n            var dragGroup = this.renderer.createGroup({ id: this.draggedRectGroup });\n            chart.svgObject.appendChild(dragGroup);\n            element = this.renderer.drawRectangle(new RectOption(this.draggedRect, Theme.selectionRectFill, { color: Theme.selectionRectStroke, width: 1 }, 1, dragRect));\n            element.setAttribute('style', 'cursor:move;');\n            dragGroup.appendChild(element);\n        }\n    };\n    Selection.prototype.createCloseButton = function (x, y) {\n        var closeIcon = this.renderer.createGroup({\n            id: this.closeIconId,\n            style: 'cursor:pointer; visibility: visible;'\n        });\n        closeIcon.appendChild(this.renderer.drawCircle(new CircleOption(this.closeIconId + '_circle', '#FFFFFF', { color: Theme.selectionRectStroke, width: 1 }, 1, x, y, 10)));\n        var direction = 'M ' + (x - 4) + ' ' + (y - 4) + ' L ' + (x + 4) + ' ' + (y + 4) + ' M ' + (x - 4) + ' ' + (y + 4) +\n            ' L ' + (x + 4) + ' ' + (y - 4);\n        closeIcon.appendChild(this.renderer.drawPath({\n            id: this.closeIconId + '_cross', d: direction, stroke: Theme.selectionRectStroke,\n            'stroke-width': 2, fill: Theme.selectionRectStroke\n        }));\n        this.closeIcon = closeIcon;\n        getElement(this.draggedRectGroup).appendChild(closeIcon);\n    };\n    /**\n     * Method to remove dragged element.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.removeDraggedElements = function (chart, event) {\n        if ((event.target.id.indexOf(this.closeIconId) > -1) && (event.type.indexOf('move') === -1)) {\n            this.removeSelectedElements(chart, this.selectedDataIndexes, chart.series);\n            this.blurEffect(chart.element.id, chart.visibleSeries);\n            remove(getElement(this.draggedRectGroup));\n            this.changeCursorStyle(false, chart.svgObject, 'auto');\n            this.rectPoints = null;\n        }\n    };\n    /**\n     * Method to resize the drag rect.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.resizingSelectionRect = function (chart, location, tapped) {\n        var rect = new Rect(this.rectPoints.x, this.rectPoints.y, this.rectPoints.width, this.rectPoints.height);\n        var resize = this.findResizeMode(chart.svgObject, rect, location);\n        if (this.resizing) {\n            rect = getDraggedRectLocation(rect.x, rect.y, (rect.x + rect.width), (rect.y + rect.height), chart.chartAxisLayoutPanel.seriesClipRect);\n            this.drawDraggingRect(chart, rect);\n            this.dragRect = rect;\n        }\n        if (tapped) {\n            this.resizing = resize;\n        }\n    };\n    Selection.prototype.findResizeMode = function (chartSvgObject, rect, location) {\n        var cursorStyle = 'se-resize';\n        var resize = false;\n        if (!this.resizing) {\n            var resizeEdges = [new Rect(rect.x, (rect.y - 10), rect.width - 5, 20),\n                new Rect((rect.x - 10), rect.y, 20, rect.height),\n                new Rect(rect.x, (rect.y + rect.height - 10), rect.width - 10, 20),\n                new Rect((rect.x + rect.width - 10), rect.y + 5, 20, rect.height - 15),\n                new Rect((rect.x + rect.width - 10), (rect.y + rect.height - 10), 20, 20)]; //corner\n            for (var i = 0; i < resizeEdges.length; i++) {\n                if (withInBounds(location.x, location.y, resizeEdges[i])) {\n                    cursorStyle = (i === 4) ? cursorStyle : (i % 2 === 0) ? 'ns-resize' : 'ew-resize';\n                    resize = true;\n                    this.resizeMode = i;\n                    break;\n                }\n            }\n        }\n        else {\n            var x = rect.x;\n            var y = rect.y;\n            var width = (location.x - x);\n            var height = (location.y - y);\n            switch (this.resizeMode) {\n                case 0:\n                    height = Math.abs((rect.height + rect.y) - location.y);\n                    rect.y = Math.min((rect.height + rect.y), location.y);\n                    rect.height = height;\n                    break;\n                case 1:\n                    width = Math.abs((rect.width + rect.x) - location.x);\n                    rect.x = Math.min((rect.width + rect.x), location.x);\n                    rect.width = width;\n                    break;\n                case 2:\n                    rect.height = Math.abs(height);\n                    rect.y = Math.min(location.y, y);\n                    break;\n                case 3:\n                    rect.width = Math.abs(width);\n                    rect.x = Math.min(location.x, x);\n                    break;\n                case 4:\n                    rect.width = Math.abs(width);\n                    rect.height = Math.abs(height);\n                    rect.x = Math.min(location.x, x);\n                    rect.y = Math.min(location.y, y);\n                    break;\n            }\n        }\n        this.changeCursorStyle(resize, getElement(this.draggedRect), cursorStyle);\n        this.changeCursorStyle(resize, chartSvgObject, cursorStyle);\n        return resize;\n    };\n    Selection.prototype.changeCursorStyle = function (isResize, rectelement, cursorStyle) {\n        cursorStyle = isResize ? cursorStyle : (this.control.svgObject === rectelement) ? 'auto' : 'move';\n        rectelement.setAttribute('style', 'cursor:' + cursorStyle + ';');\n    };\n    Selection.prototype.removeSelectedElements = function (chart, index, seriesCollection) {\n        index.splice(0, index.length);\n        var seriesElements;\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            seriesElements = this.getSeriesElements(series);\n            this.removeStyles(seriesElements);\n            for (var _a = 0, seriesElements_2 = seriesElements; _a < seriesElements_2.length; _a++) {\n                var seriesElement = seriesElements_2[_a];\n                this.removeStyles(this.getChildren(seriesElement));\n            }\n        }\n    };\n    Selection.prototype.setAttributes = function (ele, object) {\n        var keys = Object.keys(object);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            ele.setAttribute(key, object[key]);\n        }\n    };\n    /**\n     * Method to move the dragged rect.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.draggedRectMoved = function (chart, grabbedPoint, doDrawing) {\n        var rect = new Rect(this.rectPoints.x, this.rectPoints.y, this.rectPoints.width, this.rectPoints.height);\n        rect.x -= (grabbedPoint.x - chart.mouseX);\n        rect.y -= (grabbedPoint.y - chart.mouseY);\n        rect = getDraggedRectLocation(rect.x, rect.y, rect.x + rect.width, rect.height + rect.y, chart.chartAxisLayoutPanel.seriesClipRect);\n        if (doDrawing) {\n            this.drawDraggingRect(chart, rect);\n        }\n        else {\n            this.calculateDragSelectedElements(chart, rect);\n        }\n    };\n    /**\n     * To complete the selection.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.completeSelection = function (e) {\n        var chart = this.chart;\n        if (chart.selectionMode === 'None') {\n            return;\n        }\n        if ((this.dragging || this.resizing) && this.dragRect.width > 5 && this.dragRect.height > 5) {\n            this.calculateDragSelectedElements(chart, this.dragRect);\n        }\n        else if (this.rectGrabbing && this.rectPoints.width && this.rectPoints.height) {\n            this.draggedRectMoved(chart, this.dragRect);\n        }\n        this.dragging = false;\n        this.rectGrabbing = false;\n        this.resizing = false;\n        this.removeDraggedElements(chart, e);\n    };\n    Selection.prototype.getDragRect = function (chart, seriesClipRect) {\n        return getDraggedRectLocation(chart.mouseDownX, chart.mouseDownY, chart.mouseX, chart.mouseY, seriesClipRect);\n    };\n    /** @private */\n    Selection.prototype.dragStart = function (chart, seriesClipRect, mouseDownX, mouseDownY, event) {\n        this.dragging = (chart.selectionMode.indexOf('Drag') > -1) && (chart.isDoubleTap || !chart.isTouch) &&\n            chart.chartAreaType !== 'PolarRadar';\n        if (this.dragging) {\n            this.dragRect = new Rect(chart.mouseDownX, chart.mouseDownY, 0, 0);\n            if (chart.mouseDownX < seriesClipRect.x || chart.mouseDownX > (seriesClipRect.x + seriesClipRect.width) ||\n                chart.mouseDownY < seriesClipRect.y || chart.mouseDownY > (seriesClipRect.y + seriesClipRect.height)) {\n                this.dragging = false;\n            }\n        }\n        if (this.rectPoints) {\n            this.dragRect = new Rect(chart.mouseDownX, chart.mouseDownY, 0, 0);\n            this.resizingSelectionRect(chart, new ChartLocation(mouseDownX, mouseDownY), true);\n            this.rectGrabbing = withInBounds(mouseDownX, mouseDownY, this.rectPoints);\n        }\n    };\n    /** @private */\n    Selection.prototype.mouseMove = function (event) {\n        var chart = this.chart;\n        if (chart.selectionMode === 'None') {\n            return;\n        }\n        if (event.type === 'touchmove' && (Browser.isIos || Browser.isIos7) && this.dragging && event.preventDefault) {\n            event.preventDefault();\n        }\n        var insideMoving = withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect);\n        if (insideMoving) {\n            if (this.rectGrabbing && !this.resizing) {\n                this.draggedRectMoved(chart, this.dragRect, true);\n            }\n            else if (this.dragging && !this.resizing) {\n                this.dragRect = this.getDragRect(chart, chart.chartAxisLayoutPanel.seriesClipRect);\n                this.drawDraggingRect(chart, this.dragRect);\n            }\n            if (this.rectPoints) {\n                this.resizingSelectionRect(chart, new ChartLocation(chart.mouseX, chart.mouseY));\n            }\n        }\n        else {\n            this.completeSelection(event);\n        }\n    };\n    /**\n     * Get module name.\n     * @private\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'Selection';\n    };\n    /**\n     * To destroy the selection.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.destroy = function (chart) {\n        this.removeEventListener();\n        // Destroy method performed here\n    };\n    return Selection;\n}(BaseSelection));\nexport { Selection };\n","import { ChartLocation, Rect, TextOption, RectOption, isCollide, markerAnimate } from '../../common/utils/helper';\nimport { getLabelText, measureText, convertHexToColor, calculateRect, textElement, colorNameToHex } from '../../common/utils/helper';\nimport { textRender } from '../../common/model/constants';\nimport { createTemplate, getFontStyle, getElement, measureElementRect, templateAnimate, withIn, CoefficientToVector, valueToPolarCoefficient } from '../../common/utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\nimport { getPoint } from '../../common/utils/helper';\n/**\n * DataLabel Module used to render the column series.\n */\nvar DataLabel = /** @class */ (function () {\n    /**\n     * Constructor for the data label module.\n     * @private\n     */\n    function DataLabel(chart) {\n        this.errorHeight = 0;\n        this.chart = chart;\n    }\n    DataLabel.prototype.initPrivateVariables = function (series, marker) {\n        var transform;\n        var render = series.chart.renderer;\n        transform = series.chart.chartAreaType === 'Cartesian' ? 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')' : '';\n        if (marker.dataLabel.visible) {\n            series.shapeElement = render.createGroup({\n                'id': this.chart.element.id + 'ShapeGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.chart.element.id + '_ChartSeriesClipRect_' + series.index + ')'\n            });\n            series.textElement = render.createGroup({\n                'id': this.chart.element.id + 'TextGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.chart.element.id + '_ChartSeriesClipRect_' + series.index + ')'\n            });\n        }\n        this.markerHeight = ((series.type === 'Scatter' || marker.visible) && !this.isRectSeries(series)) ? (marker.height / 2) : 0;\n        this.commonId = this.chart.element.id + '_Series_' + series.index + '_Point_';\n        this.calculateErrorHeight(series, series.marker.dataLabel.position);\n    };\n    DataLabel.prototype.calculateErrorHeight = function (series, position) {\n        if (!series.errorBar.visible) {\n            return null;\n        }\n        else if (series.errorBar.visible && this.chart.chartAreaType !== 'PolarRadar') {\n            var direction = series.errorBar.direction;\n            var positiveHeight = this.chart.errorBarModule.positiveHeight;\n            var negativeHeight = this.chart.errorBarModule.negativeHeight;\n            if (this.isRectSeries(series)) {\n                if (position === 'Top' || position === 'Auto') {\n                    if (direction === 'Both' || direction === 'Minus') {\n                        this.errorHeight = negativeHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n                if (position === 'Outer' || position === 'Auto') {\n                    if (direction === 'Both' || direction === 'Plus') {\n                        this.errorHeight = positiveHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n            }\n            else {\n                if (position === 'Top' || position === 'Outer' || position === 'Auto') {\n                    if ((direction === 'Both' || direction === 'Plus') && (!series.chart.isTransposed)) {\n                        this.errorHeight = positiveHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n                if (position === 'Bottom' || position === 'Auto') {\n                    if (direction === 'Both' || direction === 'Minus') {\n                        this.errorHeight = negativeHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n            }\n        }\n        else {\n            this.errorHeight = 0;\n        }\n    };\n    DataLabel.prototype.isRectSeries = function (series) {\n        return series.isRectSeries || series.type === 'RangeArea';\n    };\n    /**\n     * Render the data label for series.\n     * @return {void}\n     * @private\n     */\n    DataLabel.prototype.render = function (series, chart, dataLabel) {\n        var _this = this;\n        // initialize the private variable\n        this.initPrivateVariables(series, series.marker);\n        var rect;\n        var rgbValue;\n        var contrast;\n        var argsData;\n        var border;\n        var textSize;\n        this.inverted = chart.requireInvertedAxis;\n        this.yAxisInversed = series.yAxis.isInversed;\n        var element = createElement('div', {\n            id: chart.element.id + '_Series_' + series.index + '_DataLabelCollections'\n        });\n        // Data label point iteration started\n        series.points.map(function (point, index) {\n            _this.margin = dataLabel.margin;\n            var labelText = [];\n            var labelLength;\n            var clip = series.clipRect;\n            border = { width: dataLabel.border.width, color: dataLabel.border.color };\n            if ((point.symbolLocations.length && point.symbolLocations[0]) ||\n                (series.type === 'BoxAndWhisker' && point.regions.length)) {\n                labelText = getLabelText(point, series, chart);\n                labelLength = labelText.length;\n                for (var i = 0; i < labelLength; i++) {\n                    argsData = {\n                        cancel: false, name: textRender, series: series,\n                        point: point, text: labelText[i], border: border,\n                        color: dataLabel.fill, template: dataLabel.template\n                    };\n                    chart.trigger(textRender, argsData);\n                    if (!argsData.cancel) {\n                        _this.fontBackground = argsData.color;\n                        _this.isDataLabelShape(argsData);\n                        _this.markerHeight = series.type === 'Bubble' ? (point.regions[0].height / 2) : _this.markerHeight;\n                        if (argsData.template !== null) {\n                            _this.createDataLabelTemplate(element, series, dataLabel, point, argsData, i);\n                        }\n                        else {\n                            textSize = measureText(argsData.text, dataLabel.font);\n                            rect = _this.calculateTextPosition(point, series, textSize, dataLabel, i);\n                            if (!isCollide(rect, chart.dataLabelCollections, clip)) {\n                                chart.dataLabelCollections.push(new Rect(rect.x + clip.x, rect.y + clip.y, rect.width, rect.height));\n                                if (_this.isShape) {\n                                    series.shapeElement.appendChild(chart.renderer.drawRectangle(new RectOption(_this.commonId + index + '_TextShape_' + i, argsData.color, argsData.border, dataLabel.opacity, rect, dataLabel.rx, dataLabel.ry)));\n                                }\n                                // Checking the font color\n                                rgbValue = convertHexToColor(colorNameToHex(_this.fontBackground));\n                                contrast = Math.round((rgbValue.r * 299 + rgbValue.g * 587 + rgbValue.b * 114) / 1000);\n                                textElement(new TextOption(_this.commonId + index + '_Text_' + i, rect.x + _this.margin.left + textSize.width / 2, rect.y + _this.margin.top + textSize.height * 3 / 4, 'middle', argsData.text, 'rotate(0,' + (rect.x) + ',' + (rect.y) + ')', 'auto'), dataLabel.font, dataLabel.font.color ||\n                                    ((contrast >= 128 || series.type === 'Hilo') ? 'black' : 'white'), series.textElement);\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        if (element.childElementCount) {\n            getElement(chart.element.id + '_Secondary_Element').appendChild(element);\n        }\n    };\n    /**\n     * Render the data label template.\n     * @return {void}\n     * @private\n     */\n    DataLabel.prototype.createDataLabelTemplate = function (parentElement, series, dataLabel, point, data, labelIndex) {\n        this.margin = { left: 0, right: 0, bottom: 0, top: 0 };\n        var clip = series.clipRect;\n        var childElement = createTemplate(createElement('div', {\n            id: this.chart.element.id + '_Series_' + series.index + '_DataLabel_'\n                + point.index + (labelIndex ? ('_' + labelIndex) : ''),\n            styles: 'position: absolute;background-color:' + data.color + ';' +\n                getFontStyle(dataLabel.font) + ';border:' + data.border.width + 'px solid ' + data.border.color + ';'\n        }), point.index, data.template, this.chart, point, series);\n        var elementRect = measureElementRect(childElement);\n        var rect = this.calculateTextPosition(point, series, { width: elementRect.width, height: elementRect.height }, dataLabel, labelIndex);\n        childElement.style.left = ((this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.x) + rect.x) + 'px';\n        childElement.style.top = ((this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.y) + rect.y) + 'px';\n        var rgbValue = convertHexToColor(colorNameToHex(this.fontBackground));\n        childElement.style.color = dataLabel.font.color ||\n            ((Math.round((rgbValue.r * 299 + rgbValue.g * 587 + rgbValue.b * 114) / 1000)) >= 128 ? 'black' : 'white');\n        if (childElement.childElementCount && !isCollide(rect, this.chart.dataLabelCollections, clip)\n            && (series.seriesType !== 'XY' || point.yValue === undefined || withIn(point.yValue, series.yAxis.visibleRange))\n            && withIn(point.xValue, series.xAxis.visibleRange)) {\n            this.chart.dataLabelCollections.push(new Rect(rect.x + clip.x, rect.y + clip.y, rect.width, rect.height));\n            parentElement.appendChild(childElement);\n            if (series.animation.enable && this.chart.animateSeries) {\n                this.doDataLabelAnimation(series, childElement);\n            }\n        }\n    };\n    DataLabel.prototype.calculateTextPosition = function (point, series, textSize, dataLabel, labelIndex) {\n        var labelRegion = labelIndex > 1 ? (series.type === 'Candle') ? point.regions[1] : point.regions[0] : point.regions[0];\n        if (labelIndex > 1 && series.type === 'HiloOpenClose') {\n            labelRegion = (labelIndex === 2) ? point.regions[1] : point.regions[2];\n        }\n        var location;\n        location = this.getLabelLocation(point, series, textSize, labelIndex);\n        var padding = 5;\n        var clipRect = series.clipRect;\n        var rect;\n        // calculating alignment\n        if (!this.chart.requireInvertedAxis || !this.isRectSeries(series) || series.type === 'BoxAndWhisker') {\n            this.locationX = location.x;\n            var alignmentValue = textSize.height + (this.borderWidth * 2) + this.markerHeight +\n                this.margin.bottom + this.margin.top + padding;\n            location.y = (dataLabel.position === 'Auto') ? location.y :\n                this.calculateAlignment(alignmentValue, location.y, dataLabel.alignment, this.isRectSeries(series) ? point.yValue < 0 : false);\n            // calculating position\n            location.y = (!this.isRectSeries(series) || series.type === 'BoxAndWhisker') ?\n                this.calculatePathPosition(location.y, dataLabel.position, series, point, textSize, labelIndex) :\n                this.calculateRectPosition(location.y, labelRegion, point.yValue < 0 !== this.yAxisInversed, dataLabel.position, series, textSize, labelIndex, point);\n            if (this.isRectSeries(series) && this.chart.chartAreaType === 'PolarRadar') {\n                location = this.calculatePolarRectPosition(location, dataLabel.position, series, point, textSize, labelIndex);\n            }\n        }\n        else {\n            this.locationY = location.y;\n            var alignmentValue = textSize.width + this.borderWidth + this.margin.left + this.margin.right - padding;\n            location.x = dataLabel.position === 'Auto' ? location.x :\n                this.calculateAlignment(alignmentValue, location.x, dataLabel.alignment, point.yValue < 0);\n            location.x = this.calculateRectPosition(location.x, labelRegion, point.yValue < 0 !== this.yAxisInversed, dataLabel.position, series, textSize, labelIndex, point);\n        }\n        rect = calculateRect(location, textSize, this.margin);\n        // Checking the condition whether data Label has been exist the clip rect\n        if (!((rect.y > clipRect.height) || (rect.x > clipRect.width) ||\n            (rect.x + rect.width < 0) || (rect.y + rect.height < 0))) {\n            rect.x = rect.x < 0 ? padding : rect.x;\n            rect.y = rect.y < 0 ? padding : rect.y;\n            rect.x -= (rect.x + rect.width) > clipRect.width ? (rect.x + rect.width) - clipRect.width + padding : 0;\n            rect.y -= (rect.y + rect.height) > clipRect.height ? (rect.y + rect.height) - clipRect.height + padding : 0;\n            this.fontBackground = this.fontBackground === 'transparent' ? this.chart.chartArea.background : this.fontBackground;\n        }\n        return rect;\n    };\n    // Calculation label location for polar column draw types\n    DataLabel.prototype.calculatePolarRectPosition = function (location, position, series, point, size, labelIndex) {\n        var padding = 5;\n        var columnRadius;\n        if (labelIndex === 0) {\n            columnRadius = point.regionData.radius < point.regionData.innerRadius ? point.regionData.innerRadius\n                : point.regionData.radius;\n        }\n        else {\n            columnRadius = point.regionData.radius > point.regionData.innerRadius ? point.regionData.innerRadius\n                : point.regionData.radius;\n        }\n        var vector;\n        var ticksbwtLabel = series.xAxis.valueType === 'Category' && series.xAxis.labelPlacement === 'BetweenTicks' ? 0.5\n            : 0.5 - (series.rectCount / 2);\n        this.fontBackground = this.fontBackground === 'transparent' ? this.chart.chartArea.background : this.fontBackground;\n        if (series.drawType.indexOf('Stacking') > -1) {\n            position = position === 'Outer' ? 'Top' : position;\n        }\n        else if (series.drawType.indexOf('Range') > -1) {\n            position = (position === 'Outer' || position === 'Top') ? position : 'Auto';\n        }\n        if (position === 'Outer') {\n            columnRadius = labelIndex === 0 ? columnRadius + 2 * padding : columnRadius - 2 * padding;\n        }\n        else if (position === 'Middle') {\n            columnRadius = columnRadius / 2 + padding;\n        }\n        else if (position === 'Top') {\n            columnRadius = labelIndex === 0 ? columnRadius - 2 * padding : columnRadius + 2 * padding;\n        }\n        else if (position === 'Bottom') {\n            columnRadius = padding;\n        }\n        else {\n            if (labelIndex === 0) {\n                columnRadius = columnRadius >= series.chart.radius ? columnRadius - padding :\n                    series.drawType === 'StackingColumn' ? columnRadius - 2 * padding : columnRadius + 2 * padding;\n            }\n            else {\n                columnRadius = columnRadius >= series.chart.radius ? columnRadius + padding : columnRadius - 2 * padding;\n            }\n        }\n        vector = CoefficientToVector(valueToPolarCoefficient((point.xValue + ticksbwtLabel / series.rectCount + series.position / series.rectCount), series.xAxis), series.chart.primaryXAxis.startAngle);\n        location.x = series.clipRect.width / 2 + series.clipRect.x + columnRadius * vector.x;\n        location.y = series.clipRect.height / 2 + series.clipRect.y + columnRadius * vector.y;\n        return location;\n    };\n    /**\n     * Get the label location\n     */\n    DataLabel.prototype.getLabelLocation = function (point, series, textSize, labelIndex) {\n        var location = new ChartLocation(0, 0);\n        var labelRegion = (series.type === 'Candle' && labelIndex > 1) ? point.regions[1] : point.regions[0];\n        if (series.type === 'HiloOpenClose') {\n            labelRegion = (labelIndex === 2) ? point.regions[1] : point.regions[2];\n        }\n        var xAxis = series.xAxis;\n        var yAxis = series.yAxis;\n        var isInverted = series.chart.requireInvertedAxis;\n        if (series.type === 'BoxAndWhisker') {\n            this.markerHeight = 0;\n            switch (labelIndex) {\n                case 0:\n                    location = getPoint(point.xValue, point.median, xAxis, yAxis, isInverted);\n                    break;\n                case 1:\n                    location = getPoint(point.xValue, point.maximum, xAxis, yAxis, isInverted);\n                    break;\n                case 2:\n                    location = getPoint(point.xValue, point.minimum, xAxis, yAxis, isInverted);\n                    break;\n                case 3:\n                    location = getPoint(point.xValue, point.upperQuartile, xAxis, yAxis, isInverted);\n                    break;\n                case 4:\n                    location = getPoint(point.xValue, point.lowerQuartile, xAxis, yAxis, isInverted);\n                    break;\n                default: {\n                    location = getPoint(point.xValue, point.outliers[labelIndex - 5], xAxis, yAxis, isInverted);\n                    this.markerHeight = series.marker.height / 2;\n                    break;\n                }\n            }\n        }\n        else if (labelIndex === 0 || labelIndex === 1) {\n            location = new ChartLocation(point.symbolLocations[0].x, point.symbolLocations[0].y);\n        }\n        else if ((labelIndex === 2 || labelIndex === 3) && series.type === 'Candle') {\n            location = new ChartLocation(point.symbolLocations[1].x, point.symbolLocations[1].y);\n        }\n        else if (isInverted) {\n            location = { x: labelRegion.x + (labelRegion.width) / 2, y: labelRegion.y };\n        }\n        else {\n            location = { x: labelRegion.x + labelRegion.width, y: labelRegion.y + (labelRegion.height) / 2 };\n        }\n        //Aligning the label at the beginning of the tick, when tick size is less than text size\n        if (labelIndex > 1 && series.type === 'HiloOpenClose') {\n            if (series.chart.requireInvertedAxis) {\n                var height = labelRegion.height;\n                location.y = labelRegion.y + height / 2 + 2 * (labelIndex === 2 ? 1 : -1);\n            }\n            else {\n                var width = labelRegion.width;\n                location.x = labelRegion.x + width / 2 + 2 * (labelIndex === 2 ? 1 : -1);\n            }\n        }\n        return location;\n    };\n    DataLabel.prototype.calculateRectPosition = function (labelLocation, rect, isMinus, position, series, textSize, labelIndex, point) {\n        if (series.chart.chartAreaType === 'PolarRadar') {\n            return null;\n        }\n        var padding = 5;\n        var margin = this.margin;\n        var textLength = !this.inverted ? textSize.height : textSize.width;\n        var extraSpace = this.borderWidth + textLength / 2 + padding;\n        if (series.type.indexOf('Stacking') > -1) {\n            position = position === 'Outer' ? 'Top' : position;\n        }\n        else if (series.type.indexOf('Range') > -1) {\n            position = (position === 'Outer' || position === 'Top') ? position : 'Auto';\n        }\n        else if (series.type === 'Waterfall') {\n            position = position === 'Auto' ? 'Middle' : position;\n        }\n        switch (position) {\n            case 'Bottom':\n                labelLocation = !this.inverted ?\n                    isMinus ? (labelLocation - rect.height + extraSpace + margin.top) :\n                        (labelLocation + rect.height - extraSpace - margin.bottom) :\n                    isMinus ? (labelLocation + rect.width - extraSpace - margin.left) :\n                        (labelLocation - rect.width + extraSpace + margin.right);\n                break;\n            case 'Middle':\n                labelLocation = labelLocation = !this.inverted ?\n                    (isMinus ? labelLocation - (rect.height / 2) : labelLocation + (rect.height / 2)) :\n                    (isMinus ? labelLocation + (rect.width / 2) : labelLocation - (rect.width / 2));\n                break;\n            case 'Auto':\n                labelLocation = this.calculateRectActualPosition(labelLocation, rect, isMinus, series, textSize, labelIndex, point);\n                break;\n            default:\n                extraSpace += this.errorHeight;\n                labelLocation = this.calculateTopAndOuterPosition(labelLocation, rect, position, series, labelIndex, extraSpace, isMinus);\n                break;\n        }\n        var check = !this.inverted ? (labelLocation < rect.y || labelLocation > rect.y + rect.height) :\n            (labelLocation < rect.x || labelLocation > rect.x + rect.width);\n        this.fontBackground = check ?\n            (this.fontBackground === 'transparent' ? this.chart.chartArea.background : this.fontBackground)\n            : this.fontBackground === 'transparent' ? (point.color || series.interior) : this.fontBackground;\n        return labelLocation;\n    };\n    DataLabel.prototype.calculatePathPosition = function (labelLocation, position, series, point, size, labelIndex) {\n        var padding = 5;\n        if ((series.type.indexOf('Area') > -1 && series.type !== 'RangeArea')\n            && this.yAxisInversed && series.marker.dataLabel.position !== 'Auto') {\n            position = position === 'Top' ? 'Bottom' : position === 'Bottom' ? 'Top' : position;\n        }\n        this.fontBackground = this.fontBackground === 'transparent' ? this.chart.chartArea.background : this.fontBackground;\n        switch (position) {\n            case 'Top':\n            case 'Outer':\n                labelLocation = labelLocation - this.markerHeight - this.borderWidth - size.height / 2 - this.margin.bottom - padding -\n                    this.errorHeight;\n                break;\n            case 'Bottom':\n                labelLocation = labelLocation + this.markerHeight + this.borderWidth + size.height / 2 + this.margin.top + padding +\n                    this.errorHeight;\n                break;\n            case 'Auto':\n                labelLocation = this.calculatePathActualPosition(labelLocation, this.markerHeight, series, point, size, labelIndex);\n                break;\n        }\n        return labelLocation;\n    };\n    DataLabel.prototype.isDataLabelShape = function (style) {\n        this.isShape = (style.color !== 'transparent' || style.border.width > 0);\n        this.borderWidth = style.border.width;\n        if (!this.isShape) {\n            this.margin = { left: 0, right: 0, bottom: 0, top: 0 };\n        }\n    };\n    DataLabel.prototype.calculateRectActualPosition = function (labelLocation, rect, isMinus, series, size, labelIndex, point) {\n        var location;\n        var labelRect;\n        var isOverLap = true;\n        var position = 0;\n        var collection = this.chart.dataLabelCollections;\n        var finalPosition = series.type.indexOf('Range') !== -1 || series.type === 'Hilo' ? 2 : 4;\n        while (isOverLap && position < finalPosition) {\n            location = this.calculateRectPosition(labelLocation, rect, isMinus, this.getPosition(position), series, size, labelIndex, point);\n            if (!this.inverted) {\n                labelRect = calculateRect(new ChartLocation(this.locationX, location), size, this.margin);\n                isOverLap = labelRect.y < 0 || isCollide(labelRect, collection, series.clipRect) || labelRect.y > series.clipRect.height;\n            }\n            else {\n                labelRect = calculateRect(new ChartLocation(location, this.locationY), size, this.margin);\n                isOverLap = labelRect.x < 0 || isCollide(labelRect, collection, series.clipRect) ||\n                    labelRect.x + labelRect.width > series.clipRect.width;\n            }\n            position++;\n        }\n        return location;\n    };\n    // alignment calculation assigned here\n    DataLabel.prototype.calculateAlignment = function (value, labelLocation, alignment, isMinus) {\n        switch (alignment) {\n            case 'Far':\n                labelLocation = !this.inverted ? (isMinus ? labelLocation + value : labelLocation - value) :\n                    (isMinus ? labelLocation - value : labelLocation + value);\n                break;\n            case 'Near':\n                labelLocation = !this.inverted ? (isMinus ? labelLocation - value : labelLocation + value) :\n                    (isMinus ? labelLocation + value : labelLocation - value);\n                break;\n            case 'Center':\n                labelLocation = labelLocation;\n                break;\n        }\n        return labelLocation;\n    };\n    //calculation for top and outer position of datalabel for rect series\n    DataLabel.prototype.calculateTopAndOuterPosition = function (location, rect, position, series, index, extraSpace, isMinus) {\n        var margin = this.margin;\n        var top;\n        switch (series.type) {\n            case 'RangeColumn':\n            case 'RangeArea':\n            case 'Hilo':\n                top = (index === 0 && !this.yAxisInversed) || (index === 1 && this.yAxisInversed);\n                location = this.updateLabelLocation(position, location, extraSpace, margin, rect, top);\n                break;\n            case 'Candle':\n                top = (index === 0 || index === 2) && !this.yAxisInversed\n                    || (index === 1 || index === 3) && this.yAxisInversed;\n                location = this.updateLabelLocation(position, location, extraSpace, margin, rect, top, index > 1);\n                break;\n            case 'HiloOpenClose':\n                if (index <= 1) {\n                    top = (index === 0 && !this.yAxisInversed) || (index === 1 && this.yAxisInversed);\n                    location = this.updateLabelLocation(position, location, extraSpace, margin, rect, top);\n                }\n                else {\n                    if (this.yAxisInversed) {\n                        location = !this.inverted ? location + extraSpace + margin.top : location - extraSpace - margin.right;\n                    }\n                    else {\n                        location = !this.inverted ? location - extraSpace - margin.bottom : location + extraSpace + margin.left;\n                    }\n                }\n                break;\n            default:\n                if ((isMinus && position === 'Top') || (!isMinus && position === 'Outer')) {\n                    location = !this.inverted ? location - extraSpace - margin.bottom : location + extraSpace + margin.left;\n                }\n                else {\n                    location = !this.inverted ? location + extraSpace + margin.top : location - extraSpace - margin.right;\n                }\n                break;\n        }\n        return location;\n    };\n    /**\n     * Updates the label location\n     */\n    DataLabel.prototype.updateLabelLocation = function (position, location, extraSpace, margin, rect, top, inside) {\n        if (inside === void 0) { inside = false; }\n        if (!this.inverted) {\n            if (top) {\n                location = (position === 'Outer' && !inside) ? location - extraSpace - margin.bottom : location + extraSpace + margin.top;\n            }\n            else {\n                location = (position === 'Outer' && !inside) ? location + rect.height + extraSpace + margin.top :\n                    location + rect.height - extraSpace - margin.bottom;\n            }\n        }\n        else {\n            if (top) {\n                location = (position === 'Outer' && !inside) ? location + extraSpace + margin.left : location - extraSpace - margin.right;\n            }\n            else {\n                location = (position === 'Outer' && !inside) ? location - rect.width - extraSpace - margin.right :\n                    location - rect.width + extraSpace + margin.left;\n            }\n        }\n        return location;\n    };\n    DataLabel.prototype.calculatePathActualPosition = function (y, markerSize, series, point, size, labelIndex) {\n        var points = series.points;\n        var index = point.index;\n        var yValue = points[index].yValue;\n        var position;\n        var nextPoint = points.length - 1 > index ? points[index + 1] : null;\n        var previousPoint = index > 0 ? points[index - 1] : null;\n        var yLocation;\n        var isOverLap = true;\n        var labelRect;\n        var isBottom;\n        var positionIndex;\n        var collection = this.chart.dataLabelCollections;\n        if (series.type === 'Bubble') {\n            position = 'Top';\n        }\n        else if (series.type.indexOf('Step') > -1) {\n            position = 'Top';\n            if (index) {\n                position = (!previousPoint || !previousPoint.visible || (yValue > previousPoint.yValue !== this.yAxisInversed)\n                    || yValue === previousPoint.yValue) ? 'Top' : 'Bottom';\n            }\n        }\n        else if (series.type === 'BoxAndWhisker') {\n            if (labelIndex === 1 || labelIndex === 3 || labelIndex > 4) {\n                position = series.yAxis.isInversed ? 'Bottom' : 'Top';\n            }\n            else if (labelIndex === 2 || labelIndex === 4) {\n                position = series.yAxis.isInversed ? 'Top' : 'Bottom';\n            }\n            else {\n                isOverLap = false;\n                position = 'Middle';\n                yLocation = this.calculatePathPosition(y, position, series, point, size, labelIndex);\n            }\n        }\n        else {\n            if (index === 0) {\n                position = (!nextPoint || !nextPoint.visible || yValue > nextPoint.yValue ||\n                    (yValue < nextPoint.yValue && this.yAxisInversed)) ? 'Top' : 'Bottom';\n            }\n            else if (index === points.length - 1) {\n                position = (!previousPoint || !previousPoint.visible || yValue > previousPoint.yValue ||\n                    (yValue < previousPoint.yValue && this.yAxisInversed)) ? 'Top' : 'Bottom';\n            }\n            else {\n                if (!nextPoint.visible && !(previousPoint && previousPoint.visible)) {\n                    position = 'Top';\n                }\n                else if (!nextPoint.visible || !previousPoint) {\n                    position = (nextPoint.yValue > yValue || (previousPoint && previousPoint.yValue > yValue)) ?\n                        'Bottom' : 'Top';\n                }\n                else {\n                    var slope = (nextPoint.yValue - previousPoint.yValue) / 2;\n                    var intersectY = (slope * index) + (nextPoint.yValue - (slope * (index + 1)));\n                    position = !this.yAxisInversed ? intersectY < yValue ? 'Top' : 'Bottom' :\n                        intersectY < yValue ? 'Bottom' : 'Top';\n                }\n            }\n        }\n        isBottom = position === 'Bottom';\n        positionIndex = ['Outer', 'Top', 'Bottom', 'Middle', 'Auto'].indexOf(position);\n        while (isOverLap && positionIndex < 4) {\n            yLocation = this.calculatePathPosition(y, this.getPosition(positionIndex), series, point, size, labelIndex);\n            labelRect = calculateRect(new ChartLocation(this.locationX, yLocation), size, this.margin);\n            isOverLap = labelRect.y < 0 || isCollide(labelRect, collection, series.clipRect)\n                || (labelRect.y + labelRect.height) > series.clipRect.height;\n            positionIndex = isBottom ? positionIndex - 1 : positionIndex + 1;\n            isBottom = false;\n        }\n        return yLocation;\n    };\n    /**\n     * Animates the data label.\n     * @return {void}.\n     * @private\n     */\n    DataLabel.prototype.doDataLabelAnimation = function (series, element) {\n        var shapeElements = series.shapeElement.childNodes;\n        var textNode = series.textElement.childNodes;\n        var delay = series.animation.delay + series.animation.duration;\n        var location;\n        var length = element ? 1 : textNode.length;\n        for (var i = 0; i < length; i++) {\n            if (element) {\n                element.style.visibility = 'hidden';\n                templateAnimate(element, delay, 200, 'ZoomIn');\n            }\n            else {\n                location = new ChartLocation((+textNode[i].getAttribute('x')) + ((+textNode[i].getAttribute('width')) / 2), (+textNode[i].getAttribute('y')) + ((+textNode[i].getAttribute('height')) / 2));\n                markerAnimate(textNode[i], delay, 200, series, null, location, true);\n                if (shapeElements[i]) {\n                    location = new ChartLocation((+shapeElements[i].getAttribute('x')) + ((+shapeElements[i].getAttribute('width')) / 2), (+shapeElements[i].getAttribute('y')) + ((+shapeElements[i].getAttribute('height')) / 2));\n                    markerAnimate(shapeElements[i], delay, 200, series, null, location, true);\n                }\n            }\n        }\n    };\n    DataLabel.prototype.getPosition = function (index) {\n        return (['Outer', 'Top', 'Bottom', 'Middle', 'Auto'][index]);\n    };\n    /**\n     * Get module name.\n     */\n    DataLabel.prototype.getModuleName = function () {\n        // Returns the module name\n        return 'DataLabel';\n    };\n    /**\n     * To destroy the dataLabel for series.\n     * @return {void}\n     * @private\n     */\n    DataLabel.prototype.destroy = function (chart) {\n        // Destroy method performed here\n    };\n    return DataLabel;\n}());\nexport { DataLabel };\n","import { Mean, RectOption } from '../../common/utils/helper';\nimport { getPoint, PathOption, sum, templateAnimate } from '../../common/utils/helper';\n/**\n * Error bar Module used to render the error bar for series.\n */\nvar ErrorBar = /** @class */ (function () {\n    /**\n     * Constructor for the error bar module.\n     * @private\n     */\n    function ErrorBar(chart) {\n        this.chart = chart;\n    }\n    /**\n     * Render the error bar for series.\n     * @return {void}\n     * @private\n     */\n    ErrorBar.prototype.render = function (series) {\n        if (this.chart.chartAreaType === 'PolarRadar') {\n            return null;\n        }\n        this.createElement(series);\n        this.renderErrorBar(series);\n    };\n    ErrorBar.prototype.renderErrorBar = function (series) {\n        var seriesIndex = series.index;\n        var point;\n        var symbolId;\n        var capId;\n        var errorbar = series.errorBar;\n        var errorBarCap = series.errorBar.errorBarCap;\n        var border = series.border;\n        var start;\n        var mid;\n        var end;\n        var isInverted;\n        var isVert;\n        var errorDirection = ['', ''];\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point_1 = _a[_i];\n            if (point_1.visible && point_1.symbolLocations[0]) {\n                var errorX = 0;\n                var errorY = 0;\n                switch (errorbar.mode) {\n                    case 'Vertical':\n                        errorY = errorbar.verticalError;\n                        break;\n                    case 'Horizontal':\n                        errorX = errorbar.horizontalError;\n                        break;\n                    case 'Both':\n                        errorX = errorbar.horizontalError;\n                        errorY = errorbar.verticalError;\n                        break;\n                }\n                errorDirection = this['calculate' + errorbar.type + 'Value'](point_1, series, this.chart.requireInvertedAxis, errorX, errorY);\n                symbolId = this.chart.element.id + '_Series_' + '_ErrorBarGroup_' + seriesIndex + '_Point_' + point_1.index;\n                capId = this.chart.element.id + '_Series_' + '_ErrorBarCap_' + seriesIndex + '_Point_' + point_1.index;\n                var shapeOption = new PathOption(symbolId, '', errorbar.width, errorbar.color, null, '', errorDirection[0]);\n                var path = this.chart.renderer.drawPath(shapeOption);\n                series.errorBarElement.appendChild(path);\n                var capOption = new PathOption(capId, '', errorBarCap.width, errorBarCap.color, null, '', errorDirection[1]);\n                var capPath = this.chart.renderer.drawPath(capOption);\n                series.errorBarElement.appendChild(capPath);\n            }\n        }\n    };\n    // path calculation for error bar\n    ErrorBar.prototype.findLocation = function (point, series, isInverted, x1, y1) {\n        var errorbar = series.errorBar;\n        var direction = errorbar.direction;\n        var location = [];\n        var stackedValue = series.stackedValues;\n        var yValue = series.type.indexOf('Stacking') > -1 ? series.stackedValues.endValues[point.index] :\n            (series.seriesType === 'HighLow' || series.seriesType === 'HighLowOpenClose') ? (series.points[point.index].high) :\n                point.yValue;\n        var startPoint = getPoint(point.xValue + ((direction === 'Plus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Horizontal' || errorbar.mode === 'Both')) ? x1 = errorbar.horizontalPositiveError : x1 : 0), yValue + ((direction === 'Plus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Vertical' || errorbar.mode === 'Both')) ? y1 = errorbar.verticalPositiveError : y1 : 0), series.xAxis, series.yAxis, isInverted);\n        location.push(startPoint);\n        if (series.isRectSeries) {\n            var midPoint = point.symbolLocations[0];\n            location.push(midPoint);\n        }\n        else {\n            var midPoint = getPoint(point.xValue, point.yValue, series.xAxis, series.yAxis, isInverted);\n            location.push(midPoint);\n        }\n        var endPoint = getPoint(point.xValue - ((direction === 'Minus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Horizontal' || errorbar.mode === 'Both')) ? x1 = errorbar.horizontalNegativeError : x1 : 0), yValue - ((direction === 'Minus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Vertical' || errorbar.mode === 'Both')) ? y1 = errorbar.verticalNegativeError : y1 : 0), series.xAxis, series.yAxis, isInverted);\n        location.push(endPoint);\n        // calculate error height for datalabel position alignment\n        point.error = (errorbar.mode === 'Vertical') ? errorbar.verticalError : errorbar.horizontalError;\n        this.negativeHeight = (errorbar.mode === 'Vertical' || errorbar.mode === 'Both') ? (isInverted ? (location[1].x - location[2].x) :\n            (location[2].y - location[1].y)) : 0;\n        this.positiveHeight = (errorbar.mode === 'Vertical' || errorbar.mode === 'Both') ? (isInverted ? (location[0].x - location[1].x) :\n            (location[1].y - location[0].y)) : 0;\n        return this.getErrorDirection(location[0], location[1], location[2], series, isInverted);\n    };\n    // calculations for eror bar types\n    ErrorBar.prototype.calculateFixedValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var errorbar = series.errorBar;\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculatePercentageValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        errorX = (errorX / 100) * point.xValue;\n        errorY = (errorY / 100) * point.yValue;\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculateStandardDeviationValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var getMean = this.meanCalculation(series, series.errorBar.mode);\n        errorX = errorX * (getMean.horizontalSquareRoot + getMean.horizontalMean);\n        errorY = errorY * (getMean.verticalSquareRoot + getMean.verticalMean);\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculateStandardErrorValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var length = series.points.length;\n        var getMean = this.meanCalculation(series, series.errorBar.mode);\n        errorX = ((errorX * getMean.horizontalSquareRoot) / Math.sqrt(length));\n        errorY = ((errorY * getMean.verticalSquareRoot) / Math.sqrt(length));\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculateCustomValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var errorbar = series.errorBar;\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.getHorizontalDirection = function (start, mid, end, direction, errorMode, capLength) {\n        var path = '';\n        var capDirection = '';\n        path += ' M ' + start.x + ' ' + mid.y + ' L ' + end.x + ' ' + mid.y;\n        capDirection += (direction === 'Plus' || direction === 'Both') ? ' M ' + (start.x) + ' ' + (mid.y - capLength) + ' L '\n            + (start.x) + ' ' + (mid.y + capLength) : '';\n        capDirection += (direction === 'Minus' || direction === 'Both') ? ' M ' + (end.x) + ' ' + (mid.y - capLength) + ' L '\n            + (end.x) + ' ' + (mid.y + capLength) : ' ';\n        return [path, capDirection];\n    };\n    ErrorBar.prototype.getVerticalDirection = function (start, mid, end, direction, errorMode, capLength) {\n        var path = '';\n        var capDirection = '';\n        path += ' M ' + mid.x + ' ' + start.y + ' L ' + mid.x + ' ' + end.y;\n        capDirection += (direction === 'Plus' || direction === 'Both') ? ' M ' + (mid.x - capLength) + ' ' + start.y + ' L '\n            + (mid.x + capLength) + ' ' + start.y : '';\n        capDirection += (direction === 'Minus' || direction === 'Both') ? ' M ' + (mid.x - capLength) + ' ' + end.y + ' L '\n            + (mid.x + capLength) + ' ' + end.y : '';\n        return [path, capDirection];\n    };\n    ErrorBar.prototype.getBothDirection = function (start, mid, end, direction, errorMode, capLength) {\n        var capDirection = '';\n        var path = '';\n        var pathH = this.getHorizontalDirection(start, mid, end, direction, errorMode, capLength);\n        var pathV = this.getVerticalDirection(start, mid, end, direction, errorMode, capLength);\n        path = pathH[0].concat(pathV[0]);\n        capDirection = pathH[1].concat(pathV[1]);\n        return [path, capDirection];\n    };\n    ErrorBar.prototype.getErrorDirection = function (start, mid, end, series, isInverted) {\n        var direction = series.errorBar.direction;\n        var mode = series.errorBar.mode;\n        var capLength = series.errorBar.errorBarCap.length;\n        var path = '';\n        var paths;\n        var capDirection = '';\n        var errorMode = mode;\n        switch (mode) {\n            case 'Both':\n                errorMode = mode;\n                break;\n            case 'Horizontal':\n                errorMode = (isInverted) ? 'Vertical' : mode;\n                break;\n            case 'Vertical':\n                errorMode = (isInverted) ? 'Horizontal' : mode;\n                break;\n        }\n        switch (errorMode) {\n            case 'Horizontal':\n                paths = this.getHorizontalDirection(start, mid, end, direction, errorMode, capLength);\n                break;\n            case 'Vertical':\n                paths = this.getVerticalDirection(start, mid, end, direction, errorMode, capLength);\n                break;\n            case 'Both':\n                paths = this.getBothDirection(start, mid, end, direction, errorMode, capLength);\n                break;\n        }\n        return [paths[0], paths[1]];\n    };\n    // mean calculation for standard deviation and standard error\n    ErrorBar.prototype.meanCalculation = function (series, mode) {\n        var sumOfX = 0;\n        var sumOfY = 0;\n        var verticalMean = 0;\n        var horizontalMean = 0;\n        var horSquareDev;\n        var verStandardMean;\n        var horStandardMean;\n        var verSquareTotal;\n        var horSquareTotal;\n        var verSquareRoot;\n        var horSquareRoot;\n        var length = series.points.length;\n        switch (mode) {\n            case 'Vertical':\n                sumOfY = sum(series.yData);\n                verticalMean = sumOfY / length;\n                break;\n            case 'Horizontal':\n                sumOfX = sum(series.xData);\n                horizontalMean = sumOfX / length;\n                break;\n            case 'Both':\n                sumOfY = sum(series.yData);\n                verticalMean = sumOfY / length;\n                sumOfX = sum(series.xData);\n                horizontalMean = sumOfX / length;\n        }\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (mode === 'Vertical') {\n                sumOfY = sumOfY + Math.pow((point.yValue - verticalMean), 2);\n            }\n            else if (mode === 'Horizontal') {\n                sumOfX = sumOfX + Math.pow((point.xValue - horizontalMean), 2);\n            }\n            else {\n                sumOfY = sumOfY + Math.pow((point.yValue - verticalMean), 2);\n                sumOfX = sumOfX + Math.pow((point.xValue - horizontalMean), 2);\n            }\n        }\n        verStandardMean = sumOfY / (length - 1);\n        verSquareRoot = Math.sqrt(sumOfY / (length - 1));\n        horStandardMean = sumOfX / (length - 1);\n        horSquareRoot = Math.sqrt(sumOfX / (length - 1));\n        return new Mean(verStandardMean, verSquareRoot, horStandardMean, horSquareRoot, verticalMean, horizontalMean);\n    };\n    ErrorBar.prototype.createElement = function (series) {\n        var explodeValue = 5;\n        var render = series.chart.renderer;\n        var transform;\n        transform = series.chart.chartAreaType === 'Cartesian' ? 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')' : '';\n        var markerHeight = (series.marker.height + explodeValue) / 2;\n        var markerWidth = (series.marker.width + explodeValue) / 2;\n        if (series.chart.chartAreaType === 'Cartesian') {\n            var errorBarClipRect = render.drawClipPath(new RectOption(this.chart.element.id + '_ChartErrorBarClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                x: -markerWidth, y: -markerHeight,\n                width: series.clipRect.width + markerWidth * 2, height: series.clipRect.height + markerHeight * 2\n            }));\n            series.errorBarElement = render.createGroup({\n                'id': this.chart.element.id + 'ErrorBarGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.chart.element.id + '_ChartErrorBarClipRect_' + series.index + ')'\n            });\n            series.errorBarElement.appendChild(errorBarClipRect);\n        }\n    };\n    /**\n     * Animates the error bar.\n     * @return {void}.\n     * @private\n     */\n    ErrorBar.prototype.doErrorBarAnimation = function (series) {\n        var errorBarElements = series.errorBarElement.childNodes;\n        if (!errorBarElements) {\n            return null;\n        }\n        var delay = series.animation.delay + series.animation.duration;\n        var j = 1;\n        while (j < errorBarElements.length) {\n            for (var i = 0; i < series.points.length; i++) {\n                if (!series.points[i].symbolLocations[0]) {\n                    continue;\n                }\n                errorBarElements[j].style.visibility = 'hidden';\n                templateAnimate(errorBarElements[j], delay, 350, series.chart.requireInvertedAxis ? 'SlideLeftIn' : 'SlideBottomIn', false);\n            }\n            j++;\n        }\n    };\n    /**\n     * Get module name.\n     */\n    ErrorBar.prototype.getModuleName = function () {\n        // Returns the module name\n        return 'ErrorBar';\n    };\n    /**\n     * To destroy the errorBar for series.\n     * @return {void}\n     * @private\n     */\n    ErrorBar.prototype.destroy = function (chart) {\n        // Destroy method performed here\n    };\n    return ErrorBar;\n}());\nexport { ErrorBar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Chart legend\n */\nimport { remove, Browser } from '@syncfusion/ej2-base';\nimport { extend } from '@syncfusion/ej2-base';\nimport { LegendOptions, BaseLegend } from '../../common/legend/legend';\nimport { measureText, textTrim } from '../../common/utils/helper';\nimport { legendRender } from '../../common/model/constants';\n/**\n * `Legend` module used to render legend for the chart.\n */\nvar Legend = /** @class */ (function (_super) {\n    __extends(Legend, _super);\n    function Legend(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.library = _this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Binding events for legend module.\n     */\n    Legend.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on(Browser.touchMoveEvent, this.mouseMove, this);\n        this.chart.on('click', this.click, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseEnd, this);\n    };\n    /**\n     * UnBinding events for legend module.\n     */\n    Legend.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.off(Browser.touchMoveEvent, this.mouseMove);\n        this.chart.off('click', this.click);\n        this.chart.off(Browser.touchEndEvent, this.mouseEnd);\n    };\n    /**\n     * To handle mosue move for legend module\n     */\n    Legend.prototype.mouseMove = function (e) {\n        if (this.chart.legendSettings.visible && !this.chart.isTouch) {\n            this.move(e);\n        }\n    };\n    /**\n     * To handle mosue end for legend module\n     */\n    Legend.prototype.mouseEnd = function (e) {\n        if (this.chart.legendSettings.visible && this.chart.isTouch) {\n            this.move(e);\n        }\n    };\n    /**\n     * Get the legend options.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.getLegendOptions = function (visibleSeriesCollection) {\n        this.legendCollections = [];\n        var seriesType;\n        for (var _i = 0, visibleSeriesCollection_1 = visibleSeriesCollection; _i < visibleSeriesCollection_1.length; _i++) {\n            var series = visibleSeriesCollection_1[_i];\n            if (series.category !== 'Indicator') {\n                seriesType = (visibleSeriesCollection[0].chart.chartAreaType === 'PolarRadar') ? series.drawType :\n                    series.type;\n                this.legendCollections.push(new LegendOptions(series.name, series.interior, series.legendShape, series.visible, seriesType, series.marker.shape, series.marker.visible));\n            }\n        }\n    };\n    /** @private */\n    Legend.prototype.getLegendBounds = function (availableSize, legendBounds, legend) {\n        var padding = legend.padding;\n        var extraHeight = 0;\n        var extraWidth = 0;\n        if (!this.isVertical) {\n            extraHeight = !legend.height ? ((availableSize.height / 100) * 5) : 0;\n        }\n        else {\n            extraWidth = !legend.width ? ((availableSize.width / 100) * 5) : 0;\n        }\n        legendBounds.height += extraHeight;\n        legendBounds.width += extraWidth;\n        var shapeHeight = legend.shapeHeight;\n        var shapeWidth = legend.shapeWidth;\n        var shapePadding = legend.shapePadding;\n        var maximumWidth = 0;\n        var rowWidth = 0;\n        var legendWidth = 0;\n        var columnHeight = 0;\n        var rowCount = 0;\n        var legendEventArgs;\n        this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n        var render = false;\n        for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n            var legendOption = _a[_i];\n            legendEventArgs = {\n                fill: legendOption.fill, text: legendOption.text, shape: legendOption.shape,\n                markerShape: legendOption.markerShape, name: legendRender, cancel: false\n            };\n            this.chart.trigger(legendRender, legendEventArgs);\n            legendOption.render = !legendEventArgs.cancel;\n            legendOption.text = legendEventArgs.text;\n            legendOption.fill = legendEventArgs.fill;\n            legendOption.shape = legendEventArgs.shape;\n            legendOption.markerShape = legendEventArgs.markerShape;\n            legendOption.textSize = measureText(legendOption.text, legend.textStyle);\n            if (legendOption.render && legendOption.text !== '') {\n                render = true;\n                legendWidth = shapeWidth + shapePadding + legendOption.textSize.width + padding;\n                rowWidth = rowWidth + legendWidth;\n                if (legendBounds.width < (padding + rowWidth) || this.isVertical) {\n                    maximumWidth = Math.max(maximumWidth, (rowWidth + padding - (this.isVertical ? 0 : legendWidth)));\n                    if (rowCount === 0 && (legendWidth !== rowWidth)) {\n                        rowCount = 1;\n                    }\n                    rowWidth = this.isVertical ? 0 : legendWidth;\n                    rowCount++;\n                    columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding;\n                }\n            }\n        }\n        columnHeight = Math.max(columnHeight, (this.maxItemHeight + padding) + padding);\n        this.isPaging = legendBounds.height < columnHeight;\n        this.totalPages = rowCount;\n        if (render) {\n            this.setBounds(Math.max((rowWidth + padding), maximumWidth), columnHeight, legend, legendBounds);\n        }\n        else {\n            this.setBounds(0, 0, legend, legendBounds);\n        }\n    };\n    /** @private */\n    Legend.prototype.getRenderPoint = function (legendOption, start, textPadding, prevLegend, rect, count, firstLegend) {\n        var padding = this.legend.padding;\n        var previousBound = (prevLegend.location.x + textPadding + prevLegend.textSize.width);\n        if ((previousBound + (legendOption.textSize.width + textPadding)) > (rect.x + rect.width + this.legend.shapeWidth / 2) ||\n            this.isVertical) {\n            legendOption.location.x = start.x;\n            legendOption.location.y = (count === firstLegend) ? prevLegend.location.y :\n                prevLegend.location.y + this.maxItemHeight + padding;\n        }\n        else {\n            legendOption.location.x = (count === firstLegend) ? prevLegend.location.x : previousBound;\n            legendOption.location.y = prevLegend.location.y;\n        }\n        var availwidth = (this.legendBounds.x + this.legendBounds.width) - (legendOption.location.x +\n            textPadding - this.legend.shapeWidth / 2);\n        legendOption.text = textTrim(+availwidth.toFixed(4), legendOption.text, this.legend.textStyle);\n    };\n    /** @private */\n    Legend.prototype.LegendClick = function (seriesIndex) {\n        var chart = this.chart;\n        var series = chart.visibleSeries[seriesIndex];\n        var legend = this.legendCollections[seriesIndex];\n        var selectedDataIndexes = [];\n        if (chart.selectionModule) {\n            selectedDataIndexes = extend([], chart.selectionModule.selectedDataIndexes, null, true);\n        }\n        if (chart.legendSettings.toggleVisibility) {\n            if (!series.visible) {\n                series.visible = true;\n            }\n            else {\n                series.visible = false;\n            }\n            legend.visible = (series.visible);\n            if (chart.svgObject.childNodes.length > 0) {\n                while (chart.svgObject.lastChild) {\n                    chart.svgObject.removeChild(chart.svgObject.lastChild);\n                }\n                remove(chart.svgObject);\n            }\n            chart.animateSeries = false;\n            chart.removeSvg();\n            chart.refreshAxis();\n            series.refreshAxisLabel();\n            this.refreshSeries(chart.visibleSeries);\n            chart.refreshBound();\n            if (selectedDataIndexes.length > 0) {\n                chart.selectionModule.selectedDataIndexes = selectedDataIndexes;\n                chart.selectionModule.redrawSelection(chart, chart.selectionMode);\n            }\n        }\n        else if (chart.selectionModule) {\n            chart.selectionModule.legendSelection(chart, seriesIndex);\n        }\n    };\n    Legend.prototype.refreshSeries = function (seriesCollection) {\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            series.position = undefined;\n        }\n    };\n    /**\n     * To show the tooltip for the trimmed text in legend.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.click = function (event) {\n        if (!this.chart.legendSettings.visible) {\n            return;\n        }\n        var targetId = event.target.id;\n        var legendItemsId = [this.legendID + '_text_', this.legendID + '_shape_marker_',\n            this.legendID + '_shape_'];\n        var seriesIndex;\n        for (var _i = 0, legendItemsId_1 = legendItemsId; _i < legendItemsId_1.length; _i++) {\n            var id = legendItemsId_1[_i];\n            if (targetId.indexOf(id) > -1) {\n                seriesIndex = parseInt(targetId.split(id)[1], 10);\n                this.LegendClick(seriesIndex);\n            }\n        }\n        if (targetId.indexOf(this.legendID + '_pageup') > -1) {\n            this.changePage(event, true);\n        }\n        else if (targetId.indexOf(this.legendID + '_pagedown') > -1) {\n            this.changePage(event, false);\n        }\n    };\n    /**\n     * Get module name\n     */\n    Legend.prototype.getModuleName = function () {\n        return 'Legend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.destroy = function (chart) {\n        this.removeEventListener();\n    };\n    return Legend;\n}(BaseLegend));\nexport { Legend };\n","import { createTemplate, measureElementRect, logBase } from '../utils/helper';\nimport { ChartLocation, stringToNumber, appendElement, withIn, Rect } from '../utils/helper';\nimport { getPoint } from '../utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\nimport { annotationRender } from '../model/constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Annotation Module handles the Annotation for chart and accumulation series.\n */\nvar AnnotationBase = /** @class */ (function () {\n    /**\n     * Constructor for chart and accumulation annotation\n     * @param control\n     */\n    function AnnotationBase(control) {\n        this.control = control;\n    }\n    /**\n     * Method to render the annotation for chart and accumulation series.\n     * @private\n     * @param annotation\n     * @param index\n     */\n    AnnotationBase.prototype.render = function (annotation, index) {\n        this.isChart = this.control.getModuleName() === 'chart';\n        this.annotation = annotation;\n        var childElement = createTemplate(createElement('div', {\n            id: this.control.element.id + '_Annotation_' + index,\n            styles: 'position: absolute;'\n        }), index, annotation.content, this.control);\n        return childElement;\n    };\n    /**\n     * Method to calculate the location for annotation - coordinate unit as pixel.\n     * @private\n     * @param location\n     */\n    AnnotationBase.prototype.setAnnotationPixelValue = function (location) {\n        var rect;\n        rect = this.annotation.region === 'Chart' ?\n            new Rect(0, 0, this.control.availableSize.width, this.control.availableSize.height) :\n            this.isChart ?\n                this.control.chartAxisLayoutPanel.seriesClipRect :\n                this.control.series[0].accumulationBound;\n        location.x = ((typeof this.annotation.x !== 'string') ?\n            ((typeof this.annotation.x === 'number') ? this.annotation.x : 0) :\n            stringToNumber(this.annotation.x, rect.width)) + rect.x;\n        location.y = ((typeof this.annotation.y === 'number') ? this.annotation.y :\n            stringToNumber(this.annotation.y, rect.height)) + rect.y;\n        return true;\n    };\n    /**\n     * Method to calculate the location for annotation - coordinate unit as point.\n     * @private\n     * @param location\n     */\n    AnnotationBase.prototype.setAnnotationPointValue = function (location) {\n        var symbolLocation = new ChartLocation(0, 0);\n        if (this.isChart) {\n            var xAxis = void 0;\n            var yAxis = void 0;\n            var chart = this.control;\n            var annotation = this.annotation;\n            var xValue = void 0;\n            var isLog = false;\n            var xAxisName = annotation.xAxisName;\n            var yAxisName = annotation.yAxisName;\n            var isInverted = chart.requireInvertedAxis;\n            for (var _i = 0, _a = chart.axisCollections; _i < _a.length; _i++) {\n                var axis = _a[_i];\n                if (xAxisName === axis.name || (xAxisName == null && axis.name === 'primaryXAxis')) {\n                    xAxis = axis;\n                    if (xAxis.valueType === 'Category') {\n                        if (xAxis.labels.indexOf(annotation.x) < 0) {\n                            return false;\n                        }\n                        else {\n                            xValue = xAxis.labels.indexOf(annotation.x);\n                        }\n                    }\n                    else if (xAxis.valueType === 'DateTime') {\n                        var option = { skeleton: 'full', type: 'dateTime' };\n                        xValue = (typeof this.annotation.x === 'object') ?\n                            Date.parse(chart.intl.getDateParser(option)(chart.intl.getDateFormat(option)(new Date(DataUtil.parse.parseJson({ val: annotation.x }).val)))) : 0;\n                    }\n                    else {\n                        xValue = +annotation.x;\n                    }\n                }\n                else if (yAxisName === axis.name || (yAxisName == null && axis.name === 'primaryYAxis')) {\n                    yAxis = axis;\n                    isLog = yAxis.valueType === 'Logarithmic';\n                }\n            }\n            if (xAxis && yAxis && withIn(xAxis.valueType === 'Logarithmic' ? logBase(xValue, xAxis.logBase) : xValue, xAxis.visibleRange)) {\n                symbolLocation = getPoint(xValue, withIn((isLog ? logBase(+this.annotation.y, yAxis.logBase) : +this.annotation.y), yAxis.visibleRange) ? +annotation.y :\n                    isLog ? Math.pow(yAxis.logBase, yAxis.visibleRange.max) :\n                        +annotation.y > yAxis.visibleRange.max ? yAxis.visibleRange.max : yAxis.visibleRange.min, xAxis, yAxis, isInverted);\n                location.x = symbolLocation.x + (isInverted ? yAxis.rect.x : xAxis.rect.x);\n                location.y = symbolLocation.y + (isInverted ? xAxis.rect.y : yAxis.rect.y);\n            }\n            else {\n                return false;\n            }\n            return true;\n        }\n        else {\n            return this.setAccumulationPointValue(location);\n        }\n    };\n    /**\n     * Method to calculate the location for annotation - coordinate unit as point in accumulation chart.\n     * @private\n     * @param location\n     */\n    AnnotationBase.prototype.setAccumulationPointValue = function (location) {\n        var accumulation = this.control;\n        var point;\n        for (var _i = 0, _a = accumulation.visibleSeries[0].points; _i < _a.length; _i++) {\n            var accPoint = _a[_i];\n            if (typeof accPoint.x === 'object') {\n                if (Date.parse(accPoint.x) === Date.parse(this.annotation.x) &&\n                    accPoint.y === this.annotation.y) {\n                    point = accPoint;\n                    break;\n                }\n            }\n            else {\n                if (accPoint.x === this.annotation.x && accPoint.y === this.annotation.y) {\n                    point = accPoint;\n                    break;\n                }\n            }\n        }\n        if (point && point.visible) {\n            location.x = point.symbolLocation.x;\n            location.y = point.symbolLocation.y;\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Method to set the element style for accumulation / chart annotation.\n     * @private\n     * @param location\n     * @param element\n     * @param parentElement\n     */\n    AnnotationBase.prototype.setElementStyle = function (location, element, parentElement) {\n        var elementRect = measureElementRect(element);\n        var argsData = {\n            cancel: false, name: annotationRender, content: element,\n            location: location\n        };\n        this.control.trigger(annotationRender, argsData);\n        if (!argsData.cancel) {\n            argsData.content.style.left = this.setAlignmentValue(this.annotation.horizontalAlignment, elementRect.width, argsData.location.x) + 'px';\n            argsData.content.style.top = this.setAlignmentValue(this.annotation.verticalAlignment, elementRect.height, argsData.location.y) + 'px';\n            argsData.content.setAttribute('aria-label', this.annotation.description || 'Annotation');\n            appendElement(argsData.content, parentElement);\n        }\n    };\n    /**\n     * Method to calculate the alignment value for annotation.\n     * @private\n     * @param alignment\n     * @param size\n     * @param value\n     */\n    AnnotationBase.prototype.setAlignmentValue = function (alignment, size, value) {\n        switch (alignment) {\n            case 'Top':\n            case 'Near':\n                value -= size;\n                break;\n            case 'Bottom':\n            case 'Far':\n                value += 0;\n                break;\n            case 'Middle':\n            case 'Center':\n                value -= (size / 2);\n                break;\n        }\n        return value;\n    };\n    return AnnotationBase;\n}());\nexport { AnnotationBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AnnotationBase } from '../../common/annotation/annotation';\nimport { ChartLocation, appendElement } from '../../common/utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\n/**\n * Annotation Module handles the Annotation for chart.\n */\nvar ChartAnnotation = /** @class */ (function (_super) {\n    __extends(ChartAnnotation, _super);\n    /**\n     * Constructor for chart annotation.\n     * @private.\n     */\n    function ChartAnnotation(control, annotations) {\n        var _this = _super.call(this, control) || this;\n        _this.chart = control;\n        _this.annotations = annotations;\n        return _this;\n    }\n    /**\n     * Method to render the annotation for chart\n     * @param element\n     * @private\n     */\n    ChartAnnotation.prototype.renderAnnotations = function (element) {\n        var _this = this;\n        var annotationElement;\n        var location;\n        this.parentElement = createElement('div', {\n            id: this.chart.element.id + '_Annotation_Collections'\n        });\n        this.annotations.map(function (annotation, index) {\n            annotationElement = _this.render(annotation, index);\n            location = new ChartLocation(0, 0);\n            if (_this['setAnnotation' + annotation.coordinateUnits + 'Value'](location)) {\n                _this.setElementStyle(location, annotationElement, _this.parentElement);\n            }\n        });\n        appendElement(this.parentElement, element);\n    };\n    /**\n     * To destroy the annotation.\n     * @return {void}\n     * @private\n     */\n    ChartAnnotation.prototype.destroy = function (control) {\n        // Destroy method performed here\n    };\n    /**\n     * Get module name.\n     */\n    ChartAnnotation.prototype.getModuleName = function () {\n        // Returns te module name\n        return 'Annotation';\n    };\n    return ChartAnnotation;\n}(AnnotationBase));\nexport { ChartAnnotation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption, sum } from '../../common/utils/helper';\nimport { Size, getSaturationColor, getPoint } from '../../common/utils/helper';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ColumnBase } from './column-base';\nimport { getMedian } from '../../common/utils/helper';\n/**\n * Box and whisker Module used to render the box and whisker series.\n */\nvar BoxAndWhiskerSeries = /** @class */ (function (_super) {\n    __extends(BoxAndWhiskerSeries, _super);\n    function BoxAndWhiskerSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render BoxAndWhisker series.\n     * @return {void}\n     * @private\n     */\n    BoxAndWhiskerSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        var centerRegion;\n        var borderWidth = series.border.width || 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            var centerRegion_1 = void 0;\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                this.findBoxPlotValues(point.y, point, series.boxPlotMode);\n                //region to cover the top and bottom ticks\n                this.updateTipRegion(series, point, sideBySideInfo);\n                //get middleRect\n                centerRegion_1 = this.getRectangle((point.xValue + sideBySideInfo.start), point.upperQuartile, (point.xValue + sideBySideInfo.end), point.lowerQuartile, series);\n                point.regions.push(centerRegion_1);\n                argsData = this.triggerEvent(series, point, series.interior, {\n                    color: (!isNullOrUndefined(series.border.color) && series.border.color !== 'transparent') ? series.border.color :\n                        getSaturationColor(series.interior, -0.6),\n                    width: series.border.width ? series.border.width : 1\n                });\n                if (!argsData.cancel) {\n                    this.renderBoxAndWhisker(series, point, centerRegion_1, argsData, this.getPathString(point, series, getPoint(point.xValue, point.median, xAxis, yAxis, isInverted), getPoint(point.xValue, point.average, xAxis, yAxis, isInverted)));\n                }\n            }\n        }\n        if (series.marker.visible) {\n            series.chart.markerRender.render(series);\n        }\n    };\n    /**\n     * update the tip region fo box plot\n     * @param series\n     * @param point\n     * @param sideBySideInfo\n     */\n    BoxAndWhiskerSeries.prototype.updateTipRegion = function (series, point, sideBySideInfo) {\n        var tipRegion = this.getRectangle((point.xValue + sideBySideInfo.median), point.maximum, (point.xValue + sideBySideInfo.median), point.minimum, series);\n        this.updateTipSize(series, point, tipRegion, series.chart.requireInvertedAxis);\n    };\n    /**\n     * Update tip size to tip regions\n     * @param series\n     * @param point\n     * @param region\n     * @param isInverted\n     */\n    BoxAndWhiskerSeries.prototype.updateTipSize = function (series, point, region, isInverted) {\n        var borderWidth = series.border.width || 1;\n        if (!isInverted) {\n            region.x -= borderWidth / 2;\n            region.width = region.width || borderWidth;\n        }\n        else {\n            region.y -= borderWidth / 2;\n            region.height = region.height || borderWidth;\n        }\n        point.regions.push(region);\n    };\n    /**\n     * Calculation for path direction performed here\n     * @param point\n     * @param series\n     * @param median\n     * @param average\n     */\n    BoxAndWhiskerSeries.prototype.getPathString = function (point, series, median, average) {\n        var topRect = point.regions[0];\n        var midRect = point.regions[1];\n        var direction = '';\n        var width = series.chart.requireInvertedAxis ? topRect.height : topRect.width;\n        var center = series.chart.requireInvertedAxis ? topRect.y + topRect.height / 2 :\n            topRect.x + topRect.width / 2;\n        var midWidth = midRect.x + midRect.width;\n        var midHeight = midRect.y + midRect.height;\n        var topWidth = topRect.x + topRect.width;\n        var topHeight = topRect.y + topRect.height;\n        if (!series.chart.requireInvertedAxis) {\n            this.updateTipSize(series, point, { x: midRect.x, y: topRect.y, width: midWidth - midRect.x, height: 0 }, true);\n            this.updateTipSize(series, point, { x: midRect.x, y: topHeight, width: midWidth - midRect.x, height: 0 }, true);\n            direction += 'M ' + midRect.x + ' ' + topRect.y + ' ' + ' L ' + midWidth + ' ' + topRect.y;\n            direction += ' M ' + center + ' ' + topRect.y + ' ' + ' L ' + center + ' ' + midRect.y;\n            direction += ' M ' + midRect.x + ' ' + midRect.y + ' ' + ' L ' + midWidth + ' ' + midRect.y +\n                ' L ' + midWidth + ' ' + midHeight + ' L ' + midRect.x + ' ' + midHeight + ' Z';\n            direction += ' M ' + center + ' ' + midHeight + ' L ' + center + ' ' + topHeight;\n            direction += ' M ' + midRect.x + ' ' + topHeight + ' L ' + midWidth + ' ' + topHeight;\n            direction += ' M ' + midRect.x + ' ' + median.y + ' L ' + midWidth + ' ' + median.y;\n            direction += series.showMean ?\n                ' M ' + (average.x - 5) + ' ' + (average.y - 5) + ' L ' + (average.x + 5) + ' ' + (average.y + 5) +\n                    ' M ' + (average.x + 5) + ' ' + (average.y - 5) + ' L ' + (average.x - 5) + ' ' + (average.y + 5) : '';\n        }\n        else {\n            this.updateTipSize(series, point, { x: topRect.x, y: midRect.y, width: 0, height: midHeight - midRect.y }, false);\n            this.updateTipSize(series, point, { x: topWidth, y: midRect.y, width: 0, height: midHeight - midRect.y }, true);\n            direction += 'M ' + topRect.x + ' ' + midRect.y + ' L ' + topRect.x + ' ' + midHeight;\n            direction += 'M ' + topRect.x + ' ' + center + ' ' + ' L ' + midRect.x + ' ' + center;\n            direction += ' M ' + midRect.x + ' ' + midRect.y + ' ' + ' L ' + midWidth + ' ' + midRect.y +\n                ' L ' + midWidth + ' ' + midHeight + ' L ' + midRect.x + ' ' + midHeight + ' Z';\n            direction += ' M ' + midWidth + ' ' + center + ' L ' + topWidth + ' ' + center;\n            direction += ' M ' + topWidth + ' ' + midRect.y + ' L ' + topWidth + ' ' + midHeight;\n            direction += ' M ' + median.x + ' ' + midRect.y + ' ' + ' L ' + median.x + ' ' + midHeight;\n            direction += series.showMean ?\n                'M ' + (average.x + 5) + ' ' + (average.y - 5) + ' L ' + (average.x - 5) + ' ' + (average.y + 5) +\n                    'M ' + (average.x - 5) + ' ' + (average.y - 5) + ' L ' + (average.x + 5) + ' ' + (average.y + 5) : '';\n        }\n        return direction;\n    };\n    /**\n     * Rendering for box and whisker append here.\n     * @param series\n     * @param point\n     * @param rect\n     * @param argsData\n     * @param direction\n     */\n    BoxAndWhiskerSeries.prototype.renderBoxAndWhisker = function (series, point, rect, argsData, direction) {\n        var location;\n        var size;\n        var symbolId = series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index;\n        var element = series.chart.renderer.drawPath(new PathOption(symbolId + '_BoxPath', argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction));\n        element.setAttribute('aria-label', point.x.toString() + ':' + point.maximum.toString()\n            + ':' + point.minimum.toString() + ':' + point.lowerQuartile.toString() + ':' + point.upperQuartile.toString());\n        var parentElement = series.chart.renderer.createGroup({\n            'id': symbolId\n        });\n        parentElement.appendChild(element);\n        for (var i = 0; i < point.outliers.length; i++) {\n            location = getPoint(point.xValue, point.outliers[i], series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n            size = new Size(series.marker.width, series.marker.height);\n            point.symbolLocations.push(location);\n            this.updateTipSize(series, point, {\n                x: location.x - (size.width / 2), y: location.y - (size.height / 2),\n                width: size.width, height: size.height\n            }, true);\n        }\n        series.seriesElement.appendChild(parentElement);\n    };\n    /**\n     * To find the box plot values\n     * @param yValues\n     * @param point\n     * @param mode\n     */\n    BoxAndWhiskerSeries.prototype.findBoxPlotValues = function (yValues, point, mode) {\n        var yCount = yValues.length;\n        var quartile = {\n            average: sum(yValues) / yCount,\n            lowerQuartile: 0, upperQuartile: 0,\n            maximum: 0, minimum: 0,\n            median: 0, outliers: []\n        };\n        if (mode === 'Exclusive') {\n            quartile.lowerQuartile = this.getExclusiveQuartileValue(yValues, yCount, 0.25);\n            quartile.upperQuartile = this.getExclusiveQuartileValue(yValues, yCount, 0.75);\n            quartile.median = this.getExclusiveQuartileValue(yValues, yCount, 0.5);\n        }\n        else if (mode === 'Inclusive') {\n            quartile.lowerQuartile = this.getInclusiveQuartileValue(yValues, yCount, 0.25);\n            quartile.upperQuartile = this.getInclusiveQuartileValue(yValues, yCount, 0.75);\n            quartile.median = this.getInclusiveQuartileValue(yValues, yCount, 0.5);\n        }\n        else {\n            quartile.median = getMedian(yValues);\n            this.getQuartileValues(yValues, yCount, quartile);\n        }\n        this.getMinMaxOutlier(yValues, yCount, quartile);\n        point.minimum = quartile.minimum;\n        point.maximum = quartile.maximum;\n        point.lowerQuartile = quartile.lowerQuartile;\n        point.upperQuartile = quartile.upperQuartile;\n        point.median = quartile.median;\n        point.outliers = quartile.outliers;\n        point.average = quartile.average;\n    };\n    /**\n     * to find the exclusive quartile values\n     * @param yValues\n     * @param count\n     * @param percentile\n     */\n    BoxAndWhiskerSeries.prototype.getExclusiveQuartileValue = function (yValues, count, percentile) {\n        if (count === 0) {\n            return 0;\n        }\n        else if (count === 1) {\n            return yValues[0];\n        }\n        var value = 0;\n        var rank = percentile * (count + 1);\n        var integerRank = Math.floor(Math.abs(rank));\n        var fractionRank = rank - integerRank;\n        if (integerRank === 0) {\n            value = yValues[0];\n        }\n        else if (integerRank > count - 1) {\n            value = yValues[count - 1];\n        }\n        else {\n            value = fractionRank * (yValues[integerRank] - yValues[integerRank - 1]) + yValues[integerRank - 1];\n        }\n        return value;\n    };\n    /**\n     * to find the inclusive quartile values\n     * @param yValues\n     * @param count\n     * @param percentile\n     */\n    BoxAndWhiskerSeries.prototype.getInclusiveQuartileValue = function (yValues, count, percentile) {\n        if (count === 0) {\n            return 0;\n        }\n        else if (count === 1) {\n            return yValues[0];\n        }\n        var value = 0;\n        var rank = percentile * (count - 1);\n        var integerRank = Math.floor(Math.abs(rank));\n        var fractionRank = rank - integerRank;\n        value = fractionRank * (yValues[integerRank + 1] - yValues[integerRank]) + yValues[integerRank];\n        return value;\n    };\n    /**\n     * To find the quartile values\n     * @param yValues\n     * @param count\n     * @param lowerQuartile\n     * @param upperQuartile\n     */\n    BoxAndWhiskerSeries.prototype.getQuartileValues = function (yValues, count, quartile) {\n        if (count === 1) {\n            quartile.lowerQuartile = yValues[0];\n            quartile.upperQuartile = yValues[0];\n            return null;\n        }\n        var isEvenList = count % 2 === 0;\n        var halfLength = count / 2;\n        var lowerQuartileArray = yValues.slice(0, halfLength);\n        var upperQuartileArray = yValues.slice(isEvenList ? halfLength : halfLength + 1, count);\n        quartile.lowerQuartile = getMedian(lowerQuartileArray);\n        quartile.upperQuartile = getMedian(upperQuartileArray);\n    };\n    /**\n     * To find the min, max and outlier values\n     * @param yValues\n     * @param lowerQuartile\n     * @param upperQuartile\n     * @param minimum\n     * @param maximum\n     * @param outliers\n     */\n    BoxAndWhiskerSeries.prototype.getMinMaxOutlier = function (yValues, count, quartile) {\n        var interquartile = quartile.upperQuartile - quartile.lowerQuartile;\n        var rangeIQR = 1.5 * interquartile;\n        for (var i = 0; i < count; i++) {\n            if (yValues[i] < quartile.lowerQuartile - rangeIQR) {\n                quartile.outliers.push(yValues[i]);\n            }\n            else {\n                quartile.minimum = yValues[i];\n                break;\n            }\n        }\n        for (var i = count - 1; i >= 0; i--) {\n            if (yValues[i] > quartile.upperQuartile + rangeIQR) {\n                quartile.outliers.push(yValues[i]);\n            }\n            else {\n                quartile.maximum = yValues[i];\n                break;\n            }\n        }\n    };\n    /**\n     * Animate the series\n     * @param series\n     * @private\n     */\n    BoxAndWhiskerSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    BoxAndWhiskerSeries.prototype.getModuleName = function () {\n        return 'BoxAndWhiskerSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the candle series.\n     * @return {void}\n     * @private\n     */\n    BoxAndWhiskerSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the candle series.\n         */\n    };\n    return BoxAndWhiskerSeries;\n}(ColumnBase));\nexport { BoxAndWhiskerSeries };\n","/**\n * Defines the common functionalities of accumulation series\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { degreeToLocation, getElement } from '../../common/utils/helper';\nimport { pointByIndex, indexFinder } from '../model/acc-base';\n/**\n * Accumulation Base used to do some base calculation for accumulation chart.\n */\nvar AccumulationBase = /** @class */ (function () {\n    /** @private */\n    function AccumulationBase(accumulation) {\n        this.accumulation = accumulation;\n    }\n    Object.defineProperty(AccumulationBase.prototype, \"center\", {\n        /**\n         * Gets the center of the pie\n         * @private\n         */\n        get: function () {\n            return this.pieCenter || (this.accumulation.visibleSeries[0].type === 'Pie' ?\n                this.accumulation.pieSeriesModule.center : null);\n        },\n        /**\n         * Sets the center of the pie\n         * @private\n         */\n        set: function (value) {\n            this.pieCenter = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AccumulationBase.prototype, \"radius\", {\n        /**\n         * Gets the radius of the pie\n         * @private\n         */\n        get: function () {\n            return this.pieRadius !== undefined ? this.pieRadius :\n                this.accumulation.pieSeriesModule.radius;\n        },\n        /**\n         * Sets the radius of the pie\n         * @private\n         */\n        set: function (value) {\n            this.pieRadius = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AccumulationBase.prototype, \"labelRadius\", {\n        /**\n         * Gets the label radius of the pie\n         * @private\n         */\n        get: function () {\n            return this.pieLabelRadius !== undefined ? this.pieLabelRadius :\n                this.accumulation.pieSeriesModule.labelRadius;\n        },\n        /**\n         * Sets the label radius of the pie\n         * @private\n         */\n        set: function (value) {\n            this.pieLabelRadius = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Checks whether the series is circular or not\n     * @private\n     */\n    AccumulationBase.prototype.isCircular = function () {\n        return this.accumulation.type === 'Pie';\n    };\n    /**\n     * To get tooltip point from mouse x, y\n     * @private\n     */\n    AccumulationBase.prototype.getTooltipPoint = function (e, accumulation, x, y) {\n        var target = e.target;\n        target = accumulation.isTouch ? document.elementFromPoint(x, y) : target;\n        var id = target.id.split(accumulation.element.id + '_Series_');\n        if (id[1]) {\n            var seriesIndex = parseInt(id[1].split('_Point_')[0], 10);\n            var pointIndex = parseInt(id[1].split('_Point_')[1], 10);\n            if (!isNullOrUndefined(seriesIndex) && !isNaN(seriesIndex) && !isNullOrUndefined(pointIndex) && !isNaN(pointIndex)) {\n                var series = this.getSeriesFromIndex(seriesIndex, accumulation.visibleSeries);\n                if (series.enableTooltip) {\n                    accumulation.accumulationTooltipModule.renderTooltip(series.points[pointIndex], series.index);\n                }\n            }\n        }\n        else if (accumulation.accumulationTooltipModule && accumulation.accumulationTooltipModule.tooltip && !this.isDataLabel(target)) {\n            accumulation.accumulationTooltipModule.tooltip.close();\n        }\n    };\n    /**\n     * To find datalabel from target element\n     */\n    AccumulationBase.prototype.isDataLabel = function (target) {\n        if (target.id.indexOf(this.accumulation.element.id + '_datalabel_Series_') > -1) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To get series from index\n     */\n    AccumulationBase.prototype.getSeriesFromIndex = function (index, visibleSeries) {\n        return visibleSeries[0];\n    };\n    /**\n     * To process the explode on accumulation chart loading\n     * @private\n     */\n    AccumulationBase.prototype.processExplode = function (event) {\n        if (event.target.id.indexOf('_Series_') > -1 || event.target.id.indexOf('_datalabel_') > -1) {\n            var pointIndex = indexFinder(event.target.id).point;\n            if (isNaN(pointIndex) || (event.target.id.indexOf('_datalabel_') > -1 &&\n                this.accumulation.visibleSeries[0].points[pointIndex].labelPosition === 'Outside')) {\n                return null;\n            }\n            this.explodePoints(pointIndex, this.accumulation);\n            this.deExplodeAll(pointIndex);\n        }\n    };\n    /**\n     * To invoke the explode on accumulation chart loading\n     * @private\n     */\n    AccumulationBase.prototype.invokeExplode = function () {\n        if (this.accumulation.visibleSeries[0].explodeAll) {\n            for (var _i = 0, _a = this.accumulation.visibleSeries[0].points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                this.explodePoints(point.index, this.accumulation);\n            }\n        }\n        else if (!isNullOrUndefined(this.accumulation.visibleSeries[0].explodeIndex)) {\n            this.explodePoints(this.accumulation.visibleSeries[0].explodeIndex, this.accumulation);\n        }\n        if (this.accumulation.accumulationSelectionModule && this.accumulation.selectionMode !== 'None' &&\n            this.accumulation.accumulationSelectionModule.selectedDataIndexes.length) {\n            for (var _b = 0, _c = this.accumulation.accumulationSelectionModule.selectedDataIndexes; _b < _c.length; _b++) {\n                var index = _c[_b];\n                this.explodePoints(index.point, this.accumulation, true);\n                this.deExplodeAll(index.point);\n            }\n        }\n    };\n    /**\n     * To deExplode all points in the series\n     */\n    AccumulationBase.prototype.deExplodeAll = function (index) {\n        var pointId = this.accumulation.element.id + '_Series_0_Point_';\n        var points = this.accumulation.visibleSeries[0].points;\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var currentPoint = points_1[_i];\n            if (index !== currentPoint.index) {\n                this.deExplodeSlice(currentPoint.index, pointId, this.center);\n            }\n        }\n    };\n    /**\n     * To explode point by index\n     * @private\n     */\n    AccumulationBase.prototype.explodePoints = function (index, chart, explode) {\n        if (explode === void 0) { explode = false; }\n        var pointId = this.accumulation.element.id + '_Series_0_Point_';\n        var translate;\n        var points = this.accumulation.visibleSeries[0].points;\n        var point = pointByIndex(index, this.accumulation.visibleSeries[0].points);\n        if (isNullOrUndefined(point)) {\n            return null;\n        }\n        if (!this.isCircular()) {\n            translate = { x: chart.explodeDistance, y: 0 };\n        }\n        else {\n            translate = degreeToLocation(point.midAngle, chart.explodeDistance, this.center);\n        }\n        if (this.isExplode(pointId + index) || explode) {\n            this.explodeSlice(index, translate, pointId, this.center || { x: 0, y: 0 });\n        }\n        else {\n            this.deExplodeSlice(index, pointId, this.center);\n        }\n    };\n    /**\n     * To check point is exploded by id\n     */\n    AccumulationBase.prototype.isExplode = function (id) {\n        var element = getElement(id);\n        if (element && (element.getAttribute('transform') === 'translate(0, 0)' || element.getAttribute('transform') === null ||\n            element.getAttribute('transform') === 'translate(0)')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * To deExplode the point by index\n     */\n    AccumulationBase.prototype.deExplodeSlice = function (index, sliceId, center) {\n        var position = 'translate(0, 0)';\n        this.setTranslate(index, sliceId, position);\n    };\n    /**\n     * To translate the point elements by index and position\n     */\n    AccumulationBase.prototype.setTranslate = function (index, sliceId, position) {\n        this.setElementTransform(sliceId + index, position);\n        if (this.accumulation.visibleSeries[0].dataLabel.visible) {\n            sliceId = this.accumulation.element.id + '_datalabel_Series_0_';\n            this.setElementTransform(sliceId + 'shape_' + index, position);\n            this.setElementTransform(sliceId + 'text_' + index, position);\n            this.setElementTransform(sliceId + 'connector_' + index, position);\n        }\n    };\n    /**\n     * To translate the point element by id and position\n     */\n    AccumulationBase.prototype.setElementTransform = function (id, position) {\n        var element = getElement(id);\n        if (element) {\n            element.setAttribute('transform', position);\n        }\n    };\n    /**\n     * To translate the point elements by index position\n     */\n    AccumulationBase.prototype.explodeSlice = function (index, translate, sliceId, center) {\n        var position = 'translate(' + (translate.x - center.x) + ', ' + (translate.y - center.y) + ')';\n        this.setTranslate(index, sliceId, position);\n    };\n    return AccumulationBase;\n}());\nexport { AccumulationBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Accumulation charts base file\n */\nimport { Animation } from '@syncfusion/ej2-base';\nimport { stringToNumber, ChartLocation, degreeToLocation, Rect, getAnimationFunction, getElement } from '../../common/utils/helper';\nimport { animationComplete } from '../../common/model/constants';\nimport { AccumulationBase } from './accumulation-base';\n/**\n * PieBase class used to do pie base calculations.\n */\nvar PieBase = /** @class */ (function (_super) {\n    __extends(PieBase, _super);\n    function PieBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * To initialize the property values.\n     * @private\n     */\n    PieBase.prototype.initProperties = function (chart, series) {\n        this.accumulation = chart;\n        var size = Math.min(chart.initialClipRect.width, chart.initialClipRect.height);\n        this.initAngles(series);\n        this.radius = stringToNumber(series.radius, size / 2);\n        this.innerRadius = stringToNumber(series.innerRadius, this.radius);\n        this.labelRadius = series.dataLabel.position === 'Inside' ? (((this.radius - this.innerRadius) / 2) + this.innerRadius) :\n            (this.radius + stringToNumber(series.dataLabel.connectorStyle.length || '4%', size / 2));\n        chart.explodeDistance = series.explode ? stringToNumber(series.explodeOffset, this.radius) : 0;\n        this.findCenter(chart, series);\n        this.defaultLabelBound(series, series.dataLabel.visible, series.dataLabel.position);\n        this.totalAngle -= 0.001;\n    };\n    /**\n     * To find the center of the accumulation.\n     * @private\n     */\n    PieBase.prototype.findCenter = function (accumulation, series) {\n        this.accumulation = accumulation;\n        this.center = {\n            x: stringToNumber('50%', accumulation.initialClipRect.width) + (accumulation.initialClipRect.x),\n            y: stringToNumber('50%', accumulation.initialClipRect.height) + (accumulation.initialClipRect.y)\n        };\n        var accumulationRect = this.getSeriesBound(series);\n        var accumulationRectCenter = new ChartLocation(accumulationRect.x + accumulationRect.width / 2, accumulationRect.y + accumulationRect.height / 2);\n        this.center.x += (this.center.x - accumulationRectCenter.x);\n        this.center.y += (this.center.y - accumulationRectCenter.y);\n        this.accumulation.center = this.center;\n    };\n    /**\n     * To find angles from series.\n     */\n    PieBase.prototype.initAngles = function (series) {\n        this.totalAngle = (series.endAngle - series.startAngle) % 360;\n        this.startAngle = series.startAngle - 90;\n        this.totalAngle = this.totalAngle <= 0 ? (360 + this.totalAngle) : this.totalAngle;\n        this.startAngle = (this.startAngle < 0 ? (this.startAngle + 360) : this.startAngle) % 360;\n    };\n    /**\n     * To calculate data-label bound\n     * @private\n     */\n    PieBase.prototype.defaultLabelBound = function (series, visible, position) {\n        var accumulationBound = this.getSeriesBound(series);\n        series.accumulationBound = accumulationBound;\n        series.labelBound = new Rect(accumulationBound.x, accumulationBound.y, accumulationBound.width + accumulationBound.x, accumulationBound.height + accumulationBound.y);\n        if (visible && position === 'Outside') {\n            series.labelBound = new Rect(Infinity, Infinity, -Infinity, -Infinity);\n        }\n    };\n    /**\n     * To calculate series bound\n     * @private\n     */\n    PieBase.prototype.getSeriesBound = function (series) {\n        var rect = new Rect(Infinity, Infinity, -Infinity, -Infinity);\n        this.initAngles(series);\n        var start = this.startAngle;\n        var total = this.totalAngle;\n        var end = (this.startAngle + total) % 360;\n        end = (end === 0) ? 360 : end;\n        series.findMaxBounds(rect, this.getRectFromAngle(start));\n        series.findMaxBounds(rect, this.getRectFromAngle(end));\n        series.findMaxBounds(rect, new Rect(this.center.x, this.center.y, 0, 0));\n        var nextQuandrant = (Math.floor(start / 90) * 90 + 90) % 360;\n        var lastQuadrant = (Math.floor(end / 90) * 90) % 360;\n        lastQuadrant = (lastQuadrant === 0) ? 360 : lastQuadrant;\n        if (total >= 90 || lastQuadrant === nextQuandrant) {\n            series.findMaxBounds(rect, this.getRectFromAngle(nextQuandrant));\n            series.findMaxBounds(rect, this.getRectFromAngle(lastQuadrant));\n        }\n        if (start === 0 || (start + total >= 360)) {\n            series.findMaxBounds(rect, this.getRectFromAngle(0));\n        }\n        var length = nextQuandrant === lastQuadrant ? 0 : Math.floor(total / 90);\n        for (var i = 1; i < length; i++) {\n            nextQuandrant = nextQuandrant + 90;\n            if ((nextQuandrant < lastQuadrant || end < start) || total === 360) {\n                series.findMaxBounds(rect, this.getRectFromAngle(nextQuandrant));\n            }\n        }\n        rect.width -= rect.x;\n        rect.height -= rect.y;\n        return rect;\n    };\n    /**\n     * To get rect location size from angle\n     */\n    PieBase.prototype.getRectFromAngle = function (angle) {\n        var location = degreeToLocation(angle, this.radius, this.center);\n        return new Rect(location.x, location.y, 0, 0);\n    };\n    /**\n     * To get path arc direction\n     */\n    PieBase.prototype.getPathArc = function (center, start, end, radius, innerRadius) {\n        var degree = end - start;\n        degree = degree < 0 ? (degree + 360) : degree;\n        var flag = (degree < 180) ? 0 : 1;\n        if (!innerRadius && innerRadius === 0) {\n            return this.getPiePath(center, degreeToLocation(start, radius, center), degreeToLocation(end, radius, center), radius, flag);\n        }\n        else {\n            return this.getDoughnutPath(center, degreeToLocation(start, radius, center), degreeToLocation(end, radius, center), radius, degreeToLocation(start, innerRadius, center), degreeToLocation(end, innerRadius, center), innerRadius, flag);\n        }\n    };\n    /**\n     * To get pie direction\n     */\n    PieBase.prototype.getPiePath = function (center, start, end, radius, clockWise) {\n        return 'M ' + center.x + ' ' + center.y + ' L ' + start.x + ' ' + start.y + ' A ' + radius + ' ' +\n            radius + ' 0 ' + clockWise + ' 1 ' + end.x + ' ' + end.y + ' Z';\n    };\n    /**\n     * To get doughnut direction\n     */\n    PieBase.prototype.getDoughnutPath = function (center, start, end, radius, innerStart, innerEnd, innerRadius, clockWise) {\n        return 'M ' + start.x + ' ' + start.y + ' A ' + radius + ' ' + radius + ' 0 ' + clockWise +\n            ' 1 ' + end.x + ' ' + end.y + ' L ' + innerEnd.x + ' ' + innerEnd.y + ' A ' + innerRadius +\n            ' ' + innerRadius + ' 0 ' + clockWise + ',0 ' + innerStart.x + ' ' + innerStart.y + ' Z';\n    };\n    /**\n     * Method to start animation for pie series.\n     */\n    PieBase.prototype.doAnimation = function (slice, series) {\n        var _this = this;\n        var startAngle = series.startAngle - 85;\n        var value;\n        var radius = Math.max(this.accumulation.availableSize.height, this.accumulation.availableSize.width) * 0.75;\n        radius += radius * (0.414); // formula r + r / 2 * (1.414 -1)\n        var effect = getAnimationFunction('Linear'); // need to check animation type\n        new Animation({}).animate(slice, {\n            duration: series.animation.duration,\n            delay: series.animation.delay,\n            progress: function (args) {\n                value = effect(args.timeStamp, startAngle, _this.totalAngle, args.duration);\n                slice.setAttribute('d', _this.getPathArc(_this.center, startAngle, value, radius, 0));\n            },\n            end: function (args) {\n                slice.setAttribute('d', _this.getPathArc(_this.center, 0, 359.99999, radius, 0));\n                _this.accumulation.trigger(animationComplete, { series: series, accumulation: _this.accumulation });\n                var datalabelGroup = getElement(_this.accumulation.element.id + '_datalabel_Series_' + series.index);\n                datalabelGroup.style.visibility = _this.accumulation.isDestroyed ? 'hidden' : 'visible';\n            }\n        });\n    };\n    return PieBase;\n}(AccumulationBase));\nexport { PieBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, degreeToLocation } from '../../common/utils/helper';\nimport { PieBase } from '../renderer/pie-base';\n/**\n * PieSeries module used to render `Pie` Series.\n */\nvar PieSeries = /** @class */ (function (_super) {\n    __extends(PieSeries, _super);\n    function PieSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * To get path option, degree, symbolLocation from the point.\n     * @private\n     */\n    PieSeries.prototype.renderPoint = function (point, series, chart, option) {\n        var sum = series.sumOfPoints;\n        var degree = ((Math.abs(point.y) / sum) * (this.totalAngle));\n        option.d = this.getPathOption(point, degree);\n        point.midAngle = (this.startAngle - (degree / 2)) % 360;\n        point.endAngle = this.startAngle % 360;\n        point.symbolLocation = degreeToLocation(point.midAngle, (this.radius + this.innerRadius) / 2, this.center);\n        return option;\n    };\n    /**\n     * To get path option from the point.\n     */\n    PieSeries.prototype.getPathOption = function (point, degree) {\n        var path = this.getPathArc(this.center, this.startAngle % 360, (this.startAngle + degree) % 360, this.radius, this.innerRadius);\n        this.startAngle += degree;\n        return path;\n    };\n    /**\n     * To animate the pie series.\n     * @private\n     */\n    PieSeries.prototype.animateSeries = function (accumulation, option, series, slice) {\n        var groupId = accumulation.element.id + 'SeriesGroup' + series.index;\n        if (series.animation.enable && accumulation.animateSeries) {\n            var clippath = accumulation.renderer.createClipPath({ id: groupId + '_clipPath' });\n            var path = new PathOption(groupId + '_slice', 'transparent', 1, 'transparent', 1, '', '');\n            var clipslice = accumulation.renderer.drawPath(path);\n            clippath.appendChild(clipslice);\n            accumulation.svgObject.appendChild(clippath);\n            slice.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n            this.doAnimation(clipslice, series);\n        }\n    };\n    /**\n     * To get the module name of the Pie series.\n     */\n    PieSeries.prototype.getModuleName = function () {\n        return 'PieSeries';\n    };\n    /**\n     * To destroy the pie series.\n     * @return {void}\n     * @private\n     */\n    PieSeries.prototype.destroy = function (accumulation) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return PieSeries;\n}(PieBase));\nexport { PieSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * AccumulationChart file\n */\nimport { Property, Component, Complex, Collection, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { Internationalization, Event, Browser, EventHandler, Touch } from '@syncfusion/ej2-base';\nimport { remove, extend, isNullOrUndefined, createElement } from '@syncfusion/ej2-base';\nimport { Font, Margin, Border, Indexes } from '../common/model/base';\nimport { AccumulationSeries, AccumulationTooltipSettings } from './model/acc-base';\nimport { Theme } from '../common/model/theme';\nimport { load, chartMouseClick, chartMouseDown } from '../common/model/constants';\nimport { chartMouseLeave, chartMouseMove, chartMouseUp, resized } from '../common/model/constants';\nimport { LegendSettings } from '../common/legend/legend';\nimport { Rect, Size, subtractRect, measureText, RectOption, textTrim, showTooltip } from '../common/utils/helper';\nimport { textElement, TextOption, createSvg, calculateSize, removeElement, firstToLowerCase } from '../common/utils/helper';\nimport { getElement, titlePositionX } from '../common/utils/helper';\nimport { Data } from '../common/model/data';\nimport { AccumulationBase } from './renderer/accumulation-base';\nimport { PieSeries } from './renderer/pie-series';\nimport { AccumulationAnnotationSettings } from './model/acc-base';\nimport { ExportUtils } from '../common/utils/export';\n/**\n * Represents the AccumulationChart control.\n * ```html\n * <div id=\"accumulation\"/>\n * <script>\n *   var accObj = new AccumulationChart({ });\n *   accObj.appendTo(\"#accumulation\");\n * </script>\n * ```\n */\nvar AccumulationChart = /** @class */ (function (_super) {\n    __extends(AccumulationChart, _super);\n    /**\n     * Constructor for creating the AccumulationChart widget\n     * @private\n     */\n    function AccumulationChart(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @private explode radius internal property */\n        _this.explodeDistance = 0;\n        return _this;\n    }\n    Object.defineProperty(AccumulationChart.prototype, \"type\", {\n        /** @private */\n        get: function () {\n            if (this.series && this.series.length) {\n                return this.series[0].type;\n            }\n            return 'Pie';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // accumulation chart methods\n    /**\n     *  To create svg object, renderer and binding events for the container.\n     */\n    AccumulationChart.prototype.preRender = function () {\n        this.unWireEvents();\n        this.setCulture();\n        this.animateSeries = true;\n        calculateSize(this);\n        this.wireEvents();\n    };\n    /**\n     * To render the accumulation chart elements\n     */\n    AccumulationChart.prototype.render = function () {\n        this.trigger(load, { accumulation: this });\n        this.accBaseModule = new AccumulationBase(this);\n        this.pieSeriesModule = new PieSeries(this);\n        this.calculateVisibleSeries();\n        this.processData();\n    };\n    /**\n     * Method to unbind events for accumulation chart\n     */\n    AccumulationChart.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var move = Browser.touchMoveEvent;\n        var stop = Browser.touchEndEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        /*! UnBind the Event handler */\n        EventHandler.remove(this.element, move, this.accumulationMouseMove);\n        EventHandler.remove(this.element, stop, this.accumulationMouseEnd);\n        EventHandler.remove(this.element, start, this.accumulationMouseStart);\n        EventHandler.remove(this.element, 'click', this.accumulationOnMouseClick);\n        EventHandler.remove(this.element, 'contextmenu', this.accumulationRightClick);\n        EventHandler.remove(this.element, cancel, this.accumulationMouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.accumulationResize);\n    };\n    /**\n     * Method to bind events for the accumulation chart\n     */\n    AccumulationChart.prototype.wireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        /*! Bind the Event handler */\n        EventHandler.add(this.element, move, this.accumulationMouseMove, this);\n        EventHandler.add(this.element, stop, this.accumulationMouseEnd, this);\n        EventHandler.add(this.element, start, this.accumulationMouseStart, this);\n        EventHandler.add(this.element, 'click', this.accumulationOnMouseClick, this);\n        EventHandler.add(this.element, 'contextmenu', this.accumulationRightClick, this);\n        EventHandler.add(this.element, cancel, this.accumulationMouseLeave, this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.accumulationResize.bind(this));\n        new Touch(this.element); // To avoid geasture blocking for browser\n        /*! Apply the style for chart */\n        this.setStyle(this.element);\n    };\n    /**\n     * Method to set mouse x, y from events\n     */\n    AccumulationChart.prototype.setMouseXY = function (e) {\n        var pageX;\n        var pageY;\n        if (e.type.indexOf('touch') > -1) {\n            this.isTouch = true;\n            var touchArg = e;\n            pageY = touchArg.changedTouches[0].clientY;\n            pageX = touchArg.changedTouches[0].clientX;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        this.mouseY = pageY;\n        this.mouseX = pageX;\n    };\n    /**\n     * Handles the mouse end.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseEnd = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseUp, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        if (this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n            if (this.accumulationTooltipModule && this.accumulationTooltipModule.tooltip) {\n                this.accBaseModule.getTooltipPoint(e, this, this.mouseX, this.mouseY);\n                this.accumulationTooltipModule.fadeOutTooltip();\n            }\n            if (this.accumulationDataLabelModule && this.visibleSeries[0].dataLabel.visible) {\n                this.accumulationDataLabelModule.move(e, this.mouseX, this.mouseY, this.isTouch);\n            }\n            if (this.accumulationLegendModule && this.legendSettings.visible) {\n                this.accumulationLegendModule.move(e);\n            }\n        }\n        return false;\n    };\n    /**\n     * To find mouse x, y for aligned chart element svg position\n     * @private\n     */\n    AccumulationChart.prototype.removeSvgOffset = function (x, y) {\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        return { x: (x - rect.left) - Math.max(svgRect.left - rect.left, 0), y: (y - rect.top) - Math.max(svgRect.top - rect.top, 0) };\n    };\n    /**\n     * Handles the mouse start.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseStart = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseDown, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        return false;\n    };\n    /**\n     * Handles the accumulation chart resize.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationResize = function (e) {\n        var _this = this;\n        var args = {\n            accumulation: this,\n            previousSize: new Size(this.availableSize.width, this.availableSize.height),\n            name: resized,\n            currentSize: new Size(0, 0)\n        };\n        if (this.resizeTo) {\n            clearTimeout(this.resizeTo);\n        }\n        this.resizeTo = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTo);\n                return;\n            }\n            calculateSize(_this);\n            args.currentSize = _this.availableSize;\n            _this.trigger(resized, args);\n            _this.refreshSeries();\n            _this.refreshChart();\n        }, 500);\n        return false;\n    };\n    /**\n     * Handles the export method for chart control.\n     */\n    AccumulationChart.prototype.export = function (type, fileName) {\n        var exportChart = new ExportUtils(this);\n        exportChart.export(type, fileName);\n    };\n    /**\n     * Handles the print method for accumulation chart control.\n     */\n    AccumulationChart.prototype.print = function (id) {\n        var exportChart = new ExportUtils(this);\n        exportChart.print(id);\n    };\n    /**\n     * Applying styles for accumulation chart element\n     */\n    AccumulationChart.prototype.setStyle = function (element) {\n        element.style.touchAction = 'element';\n        element.style.msTouchAction = 'element';\n        element.style.msContentZooming = 'none';\n        element.style.msUserSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n    };\n    /**\n     * Handles the mouse move on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseMove = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseMove, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        if (this.accumulationLegendModule && this.legendSettings.visible) {\n            this.accumulationLegendModule.move(e);\n        }\n        if (this.accumulationDataLabelModule && this.visibleSeries[0] && this.visibleSeries[0].dataLabel.visible) {\n            this.accumulationDataLabelModule.move(e, this.mouseX, this.mouseY);\n        }\n        if (this.accumulationTooltipModule && this.accBaseModule && this.tooltip.enable && !this.isTouch) {\n            this.accBaseModule.getTooltipPoint(e, this, this.mouseX, this.mouseY);\n        }\n        if (!this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY);\n        }\n        return false;\n    };\n    AccumulationChart.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((event.target.textContent.indexOf('...') > -1) && (targetId === (this.element.id + '_title'))) {\n            showTooltip(this.title, x, y, this.element.offsetWidth, this.element.id + '_EJ2_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_Title_Tooltip');\n        }\n    };\n    /**\n     * Handles the mouse click on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationOnMouseClick = function (e) {\n        this.setMouseXY(e);\n        if (this.accumulationLegendModule && this.legendSettings.visible) {\n            this.accumulationLegendModule.click(e);\n        }\n        if (this.selectionMode !== 'None' && this.accumulationSelectionModule) {\n            this.accumulationSelectionModule.calculateSelectedElements(this, e);\n        }\n        if (this.visibleSeries[0].explode) {\n            this.accBaseModule.processExplode(e);\n        }\n        this.trigger(chartMouseClick, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        return false;\n    };\n    /**\n     * Handles the mouse right click on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationRightClick = function (event) {\n        if (event.buttons === 2 || event.pointerType === 'touch') {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Handles the mouse leave on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseLeave = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseLeave, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        if (this.accumulationTooltipModule && this.tooltip.enable) {\n            this.accumulationTooltipModule.tooltip.close();\n        }\n        return false;\n    };\n    /**\n     * Method to set culture for chart\n     */\n    AccumulationChart.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n    };\n    /**\n     * Method to create SVG element for accumulation chart.\n     */\n    AccumulationChart.prototype.createPieSvg = function () {\n        this.removeSvg();\n        createSvg(this);\n    };\n    /**\n     * To Remove the SVG from accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.removeSvg = function () {\n        removeElement(this.element.id + '_Secondary_Element');\n        if (this.svgObject) {\n            while (this.svgObject.childNodes.length > 0) {\n                this.svgObject.removeChild(this.svgObject.firstChild);\n            }\n            if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode) {\n                remove(this.svgObject);\n            }\n        }\n        removeElement('EJ2_legend_tooltip');\n        removeElement('EJ2_datalabel_tooltip');\n    };\n    /**\n     * Method to create the secondary element for tooltip, datalabel and annotaitons.\n     */\n    AccumulationChart.prototype.createSecondaryElement = function () {\n        this.element.appendChild(createElement('div', {\n            id: this.element.id + '_Secondary_Element',\n            styles: 'position: relative'\n        }));\n    };\n    /**\n     * Method to find visible series based on series types\n     */\n    AccumulationChart.prototype.calculateVisibleSeries = function () {\n        this.visibleSeries = [];\n        for (var i = 0, length_1 = this.series.length; i < length_1; i++) {\n            this.series[i].index = i;\n            if (this.series[i].type === this.type && this.visibleSeries.length === 0) {\n                this.visibleSeries.push(this.series[i]);\n                break;\n            }\n        }\n    };\n    /**\n     * To find points from dataSource\n     */\n    AccumulationChart.prototype.processData = function () {\n        this.seriesCounts = 0;\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            series.dataModule = new Data(series.dataSource, series.query);\n            series.refreshDataManager(this);\n        }\n    };\n    /**\n     * To refresh the accumulation chart\n     * @private\n     */\n    AccumulationChart.prototype.refreshChart = function () {\n        this.doGrouppingProcess();\n        this.createPieSvg();\n        this.calculateBounds();\n        this.renderElements();\n    };\n    /**\n     * Method to find groupped points\n     */\n    AccumulationChart.prototype.doGrouppingProcess = function () {\n        var series = this.visibleSeries[0];\n        if (!isNullOrUndefined(series.resultData) && ((!isNullOrUndefined(series.lastGroupTo) &&\n            series.lastGroupTo !== series.groupTo))) {\n            series.getPoints(series.resultData, this);\n        }\n    };\n    /**\n     * Method to calculate bounds for accumulation chart\n     */\n    AccumulationChart.prototype.calculateBounds = function () {\n        this.initialClipRect = new Rect(this.margin.left, this.margin.top, this.availableSize.width, this.availableSize.height);\n        subtractRect(this.initialClipRect, new Rect(0, measureText(this.title, this.titleStyle).height, this.margin.right + this.margin.left, this.margin.bottom + this.margin.top));\n        this.calculateLegendBounds();\n    };\n    /*\n     * Method to calculate legend bounds for accumulation chart\n     */\n    AccumulationChart.prototype.calculateLegendBounds = function () {\n        if (!this.accumulationLegendModule || !this.legendSettings.visible) {\n            return null;\n        }\n        this.accumulationLegendModule.getLegendOptions(this, this.visibleSeries);\n        this.accumulationLegendModule.calculateLegendBounds(this.initialClipRect, this.availableSize);\n    };\n    /**\n     * To render elements for accumulation chart\n     * @private\n     */\n    AccumulationChart.prototype.renderElements = function () {\n        this.renderBorder();\n        this.renderTitle();\n        this.createSecondaryElement();\n        this.renderSeries();\n        this.renderLegend();\n        this.element.appendChild(this.svgObject);\n        this.processSelection();\n        this.processExplode();\n        this.renderAnnotation();\n        this.setSecondaryElementPosition();\n        this.trigger('loaded', { accumulation: this });\n        this.animateSeries = false;\n    };\n    /**\n     * To set the left and top position for data label template for center aligned chart\n     */\n    AccumulationChart.prototype.setSecondaryElementPosition = function () {\n        var tooltipParent = getElement(this.element.id + '_Secondary_Element');\n        if (!tooltipParent) {\n            return;\n        }\n        var targetElement = createElement('div', {\n            id: this.element.id + '_pie_tooltip',\n            styles: 'position: absolute;background: transparent;height: 2px;width: 2px;'\n        });\n        tooltipParent.appendChild(targetElement);\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        tooltipParent.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\n        tooltipParent.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\n    };\n    /**\n     * To render the annotaitions for accumulation series.\n     */\n    AccumulationChart.prototype.renderAnnotation = function () {\n        if (this.annotationModule) {\n            this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n        }\n    };\n    /**\n     * Method to process the explode in accumulation chart\n     */\n    AccumulationChart.prototype.processExplode = function () {\n        if (!this.visibleSeries[0].explode) {\n            return null;\n        }\n        this.accBaseModule.invokeExplode();\n    };\n    /**\n     * Method to render series for accumulation chart\n     */\n    AccumulationChart.prototype.renderSeries = function () {\n        this.svgObject.appendChild(this.renderer.createGroup({ id: this.element.id + '_SeriesCollection' }));\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (series.visible && this[(firstToLowerCase(series.type) + 'SeriesModule')]) {\n                this[(firstToLowerCase(series.type) + 'SeriesModule')].initProperties(this, series);\n                series.renderSeries(this);\n            }\n        }\n    };\n    /**\n     * Method to render border for accumulation chart\n     */\n    AccumulationChart.prototype.renderBorder = function () {\n        var padding = this.border.width;\n        this.svgObject.appendChild(this.renderer.drawRectangle(new RectOption(this.element.id + '_border', this.background, this.border, 1, new Rect(padding / 2, padding / 2, this.availableSize.width - padding, this.availableSize.height - padding))));\n    };\n    /**\n     * Method to render legend for accumulation chart\n     */\n    AccumulationChart.prototype.renderLegend = function () {\n        if (!this.accumulationLegendModule || !this.legendSettings.visible) {\n            return null;\n        }\n        if (this.accumulationLegendModule.legendCollections.length) {\n            if (this.visibleSeries[0].type === 'Pie') {\n                this.accumulationLegendModule.getSmartLegendLocation(this.visibleSeries[0].labelBound, this.accumulationLegendModule.legendBounds, this.margin);\n            }\n            this.accumulationLegendModule.renderLegend(this, this.legendSettings, this.accumulationLegendModule.legendBounds);\n        }\n    };\n    /**\n     * To process the selection in accumulation chart\n     */\n    AccumulationChart.prototype.processSelection = function () {\n        if (!this.accumulationSelectionModule || this.selectionMode === 'None') {\n            return null;\n        }\n        var selectedDataIndexes = extend([], this.accumulationSelectionModule.selectedDataIndexes, null, true);\n        this.accumulationSelectionModule.invokeSelection(this);\n        if (selectedDataIndexes.length > 0) {\n            this.accumulationSelectionModule.selectedDataIndexes = selectedDataIndexes;\n            this.accumulationSelectionModule.redrawSelection(this, this.selectionMode);\n        }\n    };\n    /**\n     * To render title for accumulation chart\n     */\n    AccumulationChart.prototype.renderTitle = function () {\n        if (!this.title) {\n            return null;\n        }\n        var maxTitleSize = this.availableSize.width - this.margin.left - this.margin.right;\n        var trimmedTitle = textTrim(maxTitleSize, this.title, this.titleStyle);\n        var elementSize = measureText(trimmedTitle, this.titleStyle);\n        textElement(new TextOption(this.element.id + '_title', titlePositionX(this.availableSize, this.margin.left, this.margin.left, this.titleStyle, elementSize), this.margin.top + (elementSize.height * 3 / 4), 'start', trimmedTitle, '', 'auto'), this.titleStyle, this.titleStyle.color, this.svgObject);\n    };\n    /**\n     * To get the series parent element\n     * @private\n     */\n    AccumulationChart.prototype.getSeriesElement = function () {\n        return this.svgObject.getElementsByTagName('g')[0];\n    };\n    /**\n     * To refresh the all visible series points\n     * @private\n     */\n    AccumulationChart.prototype.refreshSeries = function () {\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            this.refreshPoints(series.points);\n        }\n    };\n    /**\n     * To refresh points label region and visible\n     * @private\n     */\n    AccumulationChart.prototype.refreshPoints = function (points) {\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var point = points_1[_i];\n            point.labelPosition = null;\n            point.labelRegion = null;\n            point.labelVisible = true;\n        }\n    };\n    /**\n     * To get Module name\n     *  @private\n     */\n    AccumulationChart.prototype.getModuleName = function () {\n        return 'accumulationchart';\n    };\n    /**\n     * To destroy the accumulationcharts\n     * @private\n     */\n    AccumulationChart.prototype.destroy = function () {\n        this.unWireEvents();\n        _super.prototype.destroy.call(this);\n        this.element.classList.remove('e-accumulationchart');\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return {ModuleDeclaration[]}\n     * @private\n     */\n    AccumulationChart.prototype.requiredModules = function () {\n        var modules = [];\n        var enableAnnotation = false;\n        modules.push({\n            member: this.type + 'Series',\n            args: [this]\n        });\n        if (this.legendSettings.visible) {\n            modules.push({\n                member: 'AccumulationLegend',\n                args: [this]\n            });\n        }\n        if (this.findDatalabelVisibility()) {\n            modules.push({\n                member: 'AccumulationDataLabel',\n                args: [this]\n            });\n        }\n        if (this.tooltip.enable) {\n            modules.push({\n                member: 'AccumulationTooltip',\n                args: [this]\n            });\n        }\n        if (this.selectionMode !== 'None') {\n            modules.push({\n                member: 'AccumulationSelection',\n                args: [this]\n            });\n        }\n        enableAnnotation = this.annotations.some(function (value) {\n            return (value.content !== null);\n        });\n        if (enableAnnotation) {\n            modules.push({\n                member: 'Annotation',\n                args: [this, this.annotations]\n            });\n        }\n        return modules;\n    };\n    /**\n     * To find datalabel visibility in series\n     */\n    AccumulationChart.prototype.findDatalabelVisibility = function () {\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (series.dataLabel.visible) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    AccumulationChart.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    AccumulationChart.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var update = {\n            refreshElements: false, refreshBounds: false\n        };\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'theme':\n                    this.animateSeries = true;\n                    break;\n                case 'title':\n                    if (newProp.title === '' || oldProp.title === '') {\n                        update.refreshBounds = true;\n                    }\n                    else {\n                        update.refreshElements = true;\n                    }\n                    break;\n                case 'height':\n                case 'width':\n                case 'margin':\n                    update.refreshBounds = true;\n                    break;\n                case 'titleStyle':\n                    if (newProp.titleStyle && newProp.titleStyle.size) {\n                        update.refreshBounds = true;\n                    }\n                    else {\n                        update.refreshElements = true;\n                    }\n                    break;\n                case 'legendSettings':\n                    update.refreshBounds = true;\n                    update.refreshElements = true;\n                    break;\n                case 'background':\n                case 'border':\n                case 'annotations':\n                case 'enableSmartLabels':\n                    update.refreshElements = true;\n                    break;\n                case 'isMultiSelect':\n                case 'selectedDataIndexes':\n                case 'selectionMode':\n                    if (this.accumulationSelectionModule) {\n                        if (isNullOrUndefined(this.accumulationSelectionModule.selectedDataIndexes)) {\n                            this.accumulationSelectionModule.invokeSelection(this);\n                        }\n                        else {\n                            this.accumulationSelectionModule.redrawSelection(this, oldProp.selectionMode);\n                        }\n                    }\n                    break;\n            }\n        }\n        if (!update.refreshBounds && update.refreshElements) {\n            this.createPieSvg();\n            this.renderElements();\n        }\n        else if (update.refreshBounds) {\n            this.refreshSeries();\n            this.createPieSvg();\n            this.calculateBounds();\n            this.renderElements();\n        }\n    };\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.chartTitleFont, Font)\n    ], AccumulationChart.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Complex({}, LegendSettings)\n    ], AccumulationChart.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, AccumulationTooltipSettings)\n    ], AccumulationChart.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('None')\n    ], AccumulationChart.prototype, \"selectionMode\", void 0);\n    __decorate([\n        Property(false)\n    ], AccumulationChart.prototype, \"isMultiSelect\", void 0);\n    __decorate([\n        Collection([], Indexes)\n    ], AccumulationChart.prototype, \"selectedDataIndexes\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], AccumulationChart.prototype, \"margin\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationChart.prototype, \"enableSmartLabels\", void 0);\n    __decorate([\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\n    ], AccumulationChart.prototype, \"border\", void 0);\n    __decorate([\n        Property(Theme.chartBackgroundColor)\n    ], AccumulationChart.prototype, \"background\", void 0);\n    __decorate([\n        Collection([{}], AccumulationSeries)\n    ], AccumulationChart.prototype, \"series\", void 0);\n    __decorate([\n        Collection([{}], AccumulationAnnotationSettings)\n    ], AccumulationChart.prototype, \"annotations\", void 0);\n    __decorate([\n        Property('Material')\n    ], AccumulationChart.prototype, \"theme\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"seriesRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"legendRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"textRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"pointRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"annotationRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseClick\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"animationComplete\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseDown\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseLeave\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseUp\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"resized\", void 0);\n    AccumulationChart = __decorate([\n        NotifyPropertyChanges\n    ], AccumulationChart);\n    return AccumulationChart;\n}(Component));\nexport { AccumulationChart };\n","/**\n * Defines the common behavior of funnel and pyramid series\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Size, stringToNumber, Rect } from '../../common/utils/helper';\nimport { AccumulationBase } from './accumulation-base';\n/**\n * TriangularBase is used to calculate base functions for funnel/pyramid series.\n */\nvar TriangularBase = /** @class */ (function (_super) {\n    __extends(TriangularBase, _super);\n    function TriangularBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the properties of funnel/pyramid series\n     * @private\n     */\n    TriangularBase.prototype.initProperties = function (chart, series) {\n        var actualChartArea = chart.initialClipRect;\n        series.triangleSize = new Size(stringToNumber(series.width, actualChartArea.width), stringToNumber(series.height, actualChartArea.height));\n        series.neckSize = new Size(stringToNumber(series.neckWidth, actualChartArea.width), stringToNumber(series.neckHeight, actualChartArea.height));\n        this.defaultLabelBound(series, series.dataLabel.visible, series.dataLabel.position, chart);\n        if (series.explodeOffset === '30%') {\n            series.explodeOffset = '25px';\n        }\n        chart.explodeDistance = stringToNumber(series.explodeOffset, actualChartArea.width);\n        var points = series.points;\n        this.initializeSizeRatio(points, series);\n    };\n    /**\n     * Initializes the size of the pyramid/funnel segments\n     * @private\n     */\n    TriangularBase.prototype.initializeSizeRatio = function (points, series, reverse) {\n        if (reverse === void 0) { reverse = false; }\n        var sumOfPoints = series.sumOfPoints;\n        //Limiting the ratio within the range of 0 to 1\n        var gapRatio = Math.min(Math.max(series.gapRatio, 0), 1);\n        //% equivalence of a value 1\n        var coEff = 1 / (sumOfPoints * (1 + gapRatio / (1 - gapRatio)));\n        var spacing = gapRatio / (points.length - 1);\n        var y = 0;\n        //starting from bottom\n        for (var i = points.length - 1; i >= 0; i--) {\n            var index = reverse ? points.length - 1 - i : i;\n            if (points[index].visible) {\n                var height = coEff * points[index].y;\n                points[index].yRatio = y;\n                points[index].heightRatio = height;\n                y += height + spacing;\n            }\n        }\n    };\n    /**\n     * Marks the label location from the set of points that forms a pyramid/funnel segment\n     * @private\n     */\n    TriangularBase.prototype.setLabelLocation = function (series, point, points) {\n        var last = points.length - 1;\n        var bottom = series.type === 'Funnel' ? points.length - 2 : points.length - 1;\n        var x = (points[0].x + points[bottom].x) / 2;\n        var right = (points[1].x + points[bottom - 1].x) / 2;\n        point.region = new Rect(x, points[0].y, right - x, points[bottom].y - points[0].y);\n        point.symbolLocation = {\n            x: point.region.x + point.region.width / 2,\n            y: point.region.y + point.region.height / 2\n        };\n        point.labelOffset = {\n            x: point.symbolLocation.x - (points[0].x + points[last].x) / 2,\n            y: point.symbolLocation.y - (points[0].y + points[last].y) / 2\n        };\n    };\n    /**\n     * Finds the path to connect the list of points\n     * @private\n     */\n    TriangularBase.prototype.findPath = function (locations) {\n        var path = 'M';\n        for (var i = 0; i < locations.length; i++) {\n            path += locations[i].x + ' ' + locations[i].y;\n            if (i !== locations.length - 1) {\n                path += ' L';\n            }\n        }\n        return path;\n    };\n    /**\n     * To calculate data-label bounds\n     * @private\n     */\n    TriangularBase.prototype.defaultLabelBound = function (series, visible, position, chart) {\n        var x = (chart.initialClipRect.width - series.triangleSize.width) / 2;\n        var y = (chart.initialClipRect.height - series.triangleSize.height) / 2;\n        var accumulationBound = new Rect(x, y, series.triangleSize.width, series.triangleSize.height);\n        series.labelBound = new Rect(accumulationBound.x, accumulationBound.y, accumulationBound.width + accumulationBound.x, accumulationBound.height + accumulationBound.y);\n        series.accumulationBound = accumulationBound;\n        if (visible && position === 'Outside') {\n            series.labelBound = new Rect(Infinity, Infinity, -Infinity, -Infinity);\n        }\n    };\n    return TriangularBase;\n}(AccumulationBase));\nexport { TriangularBase };\n","/**\n * Defines the behavior of a funnel series\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TriangularBase } from './triangular-base';\n/**\n * FunnelSeries module used to render `Funnel` Series.\n */\nvar FunnelSeries = /** @class */ (function (_super) {\n    __extends(FunnelSeries, _super);\n    function FunnelSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the path of a funnel segment\n     */\n    FunnelSeries.prototype.getSegmentData = function (point, series, chart) {\n        var lineWidth;\n        var topRadius;\n        var bottomRadius;\n        var endTop;\n        var endBottom;\n        var minRadius;\n        var endMin;\n        var bottomY;\n        var area = series.triangleSize;\n        var offset = 0;\n        var extraSpace = (chart.initialClipRect.width - series.triangleSize.width) / 2;\n        var emptySpaceAtLeft = extraSpace + chart.initialClipRect.x;\n        var seriesTop = chart.initialClipRect.y + (chart.initialClipRect.height - area.height) / 2;\n        //defines the top and bottom of a segment\n        var top = point.yRatio * area.height;\n        var bottom = top + point.heightRatio * area.height;\n        var neckSize = series.neckSize;\n        lineWidth = neckSize.width + (area.width - neckSize.width) * ((area.height - neckSize.height - top) /\n            (area.height - neckSize.height));\n        topRadius = (area.width / 2) - lineWidth / 2;\n        //Calculating the middle slope change and bottom\n        endTop = topRadius + lineWidth;\n        if (bottom > area.height - neckSize.height || area.height === neckSize.height) {\n            lineWidth = neckSize.width;\n        }\n        else {\n            lineWidth = neckSize.width + (area.width - neckSize.width) *\n                ((area.height - neckSize.height - bottom) / (area.height - neckSize.height));\n        }\n        bottomRadius = (area.width / 2) - (lineWidth / 2);\n        endBottom = bottomRadius + lineWidth;\n        if (top >= area.height - neckSize.height) {\n            topRadius = bottomRadius = minRadius = (area.width / 2) - neckSize.width / 2;\n            endTop = endBottom = endMin = (area.width / 2) + neckSize.width / 2;\n        }\n        else if (bottom > (area.height - neckSize.height)) {\n            minRadius = bottomRadius = (area.width / 2) - lineWidth / 2;\n            endMin = endBottom = minRadius + lineWidth;\n            bottomY = area.height - neckSize.height;\n        }\n        var points = [];\n        top += seriesTop;\n        bottom += seriesTop;\n        bottomY += seriesTop;\n        var line1 = { x: emptySpaceAtLeft + offset + topRadius, y: top };\n        var line2 = { x: emptySpaceAtLeft + offset + endTop, y: top };\n        var line4 = { x: emptySpaceAtLeft + offset + endBottom, y: bottom };\n        var line5 = { x: emptySpaceAtLeft + offset + bottomRadius, y: bottom };\n        var line3 = { x: emptySpaceAtLeft + offset + endBottom, y: bottom };\n        var line6 = { x: emptySpaceAtLeft + offset + bottomRadius, y: bottom };\n        if (bottomY) {\n            line3 = { x: emptySpaceAtLeft + offset + endMin, y: bottomY };\n            line6 = { x: emptySpaceAtLeft + offset + minRadius, y: bottomY };\n        }\n        var polygon = [line1, line2, line3, line4, line5, line6];\n        this.setLabelLocation(series, point, polygon);\n        var direction = this.findPath(polygon);\n        return direction;\n    };\n    /**\n     * Renders a funnel segment\n     * @private\n     */\n    FunnelSeries.prototype.renderPoint = function (point, series, chart, options) {\n        var direction = this.getSegmentData(point, series, chart);\n        point.midAngle = 0;\n        options.d = direction;\n    };\n    /**\n     * To get the module name of the funnel series.\n     */\n    FunnelSeries.prototype.getModuleName = function () {\n        return 'FunnelSeries';\n    };\n    /**\n     * To destroy the funnel series.\n     * @return {void}\n     * @private\n     */\n    FunnelSeries.prototype.destroy = function (accumulation) {\n        /**\n         * Destroys the funnel series\n         */\n    };\n    return FunnelSeries;\n}(TriangularBase));\nexport { FunnelSeries };\n","/**\n * Defines the behavior of a pyramid series\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TriangularBase } from './triangular-base';\n/**\n * PyramidSeries module used to render `Pyramid` Series.\n */\nvar PyramidSeries = /** @class */ (function (_super) {\n    __extends(PyramidSeries, _super);\n    function PyramidSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the path of a pyramid segment\n     */\n    PyramidSeries.prototype.getSegmentData = function (point, series, chart) {\n        var area = series.triangleSize;\n        //top of th series\n        var seriesTop = chart.initialClipRect.y + (chart.initialClipRect.height - area.height) / 2;\n        var points = [];\n        //consider, if the point is exploded\n        var offset = 0;\n        var extraSpace = (chart.initialClipRect.width - series.triangleSize.width) / 2;\n        var emptySpaceAtLeft = extraSpace + chart.initialClipRect.x;\n        //top and bottom\n        var top = point.yRatio;\n        var bottom = point.yRatio + point.heightRatio;\n        //width of the top and bottom edge\n        var topRadius = 0.5 * (1 - point.yRatio);\n        var bottomRadius = 0.5 * (1 - bottom);\n        top += seriesTop / area.height;\n        bottom += seriesTop / area.height;\n        var line1 = {\n            x: emptySpaceAtLeft + offset + topRadius * area.width,\n            y: top * area.height\n        };\n        var line2 = {\n            x: emptySpaceAtLeft + offset + (1 - topRadius) * area.width,\n            y: top * area.height\n        };\n        var line3 = {\n            x: emptySpaceAtLeft + offset + (1 - bottomRadius) * area.width,\n            y: bottom * area.height\n        };\n        var line4 = {\n            x: emptySpaceAtLeft + offset + bottomRadius * area.width,\n            y: bottom * area.height\n        };\n        var polygon = [line1, line2, line3, line4];\n        this.setLabelLocation(series, point, polygon);\n        var direction = this.findPath(polygon);\n        return direction;\n    };\n    /**\n     * Initializes the size of the pyramid segments\n     * @private\n     */\n    PyramidSeries.prototype.initializeSizeRatio = function (points, series) {\n        if (series.pyramidMode === 'Linear') {\n            _super.prototype.initializeSizeRatio.call(this, points, series, true);\n        }\n        else {\n            this.calculateSurfaceSegments(series);\n        }\n    };\n    /**\n     * Defines the size of the pyramid segments, the surface of that will reflect the values\n     */\n    PyramidSeries.prototype.calculateSurfaceSegments = function (series) {\n        var count = series.points.length;\n        var sumOfValues = series.sumOfPoints;\n        var yRatio = 0;\n        var y = [];\n        var height = [];\n        var gapRatio = Math.min(0, Math.max(series.gapRatio, 1));\n        var gapHeight = gapRatio / (count - 1);\n        var preSum = this.getSurfaceHeight(0, sumOfValues);\n        var currY = 0;\n        for (var i = 0; i < count; i++) {\n            if (series.points[i].visible) {\n                y[i] = currY;\n                height[i] = this.getSurfaceHeight(currY, Math.abs(series.points[i].y));\n                currY += height[i] + gapHeight * preSum;\n            }\n        }\n        var coef = 1 / (currY - gapHeight * preSum);\n        for (var i = 0; i < count; i++) {\n            if (series.points[i].visible) {\n                series.points[i].yRatio = coef * y[i];\n                series.points[i].heightRatio = coef * height[i];\n            }\n        }\n    };\n    /**\n     * Finds the height of pyramid segment\n     */\n    PyramidSeries.prototype.getSurfaceHeight = function (y, surface) {\n        var result = this.solveQuadraticEquation(1, 2 * y, -surface);\n        return result;\n    };\n    /**\n     * Solves quadratic equation\n     */\n    PyramidSeries.prototype.solveQuadraticEquation = function (a, b, c) {\n        var root1;\n        var root2;\n        var d = b * b - 4 * a * c;\n        if (d >= 0) {\n            var sd = Math.sqrt(d);\n            root1 = (-b - sd) / (2 * a);\n            root2 = (-b + sd) / (2 * a);\n            return Math.max(root1, root2);\n        }\n        return 0;\n    };\n    /**\n     * Renders a pyramid segment\n     */\n    PyramidSeries.prototype.renderPoint = function (point, series, chart, options) {\n        var direction = this.getSegmentData(point, series, chart);\n        point.midAngle = 0;\n        options.d = direction;\n    };\n    /**\n     * To get the module name of the Pyramid series.\n     */\n    PyramidSeries.prototype.getModuleName = function () {\n        return 'PyramidSeries';\n    };\n    /**\n     * To destroy the pyramid series\n     * @return {void}\n     * @private\n     */\n    PyramidSeries.prototype.destroy = function (accumulation) {\n        /**\n         * Destroys the pyramid series\n         */\n    };\n    return PyramidSeries;\n}(TriangularBase));\nexport { PyramidSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * AccumulationChart legend\n */\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pointByIndex } from '../model/acc-base';\nimport { BaseLegend, LegendOptions } from '../../common/legend/legend';\nimport { Rect, measureText, textTrim } from '../../common/utils/helper';\n/**\n * AccumulationLegend module used to render `Legend` for Accumulation chart.\n */\nvar AccumulationLegend = /** @class */ (function (_super) {\n    __extends(AccumulationLegend, _super);\n    /**\n     * Constructor for Accumulation Legend.\n     * @param chart\n     */\n    function AccumulationLegend(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.library = _this;\n        _this.titleRect = new Rect(0, chart.margin.top, 0, 0);\n        return _this;\n    }\n    /**\n     * Get the legend options.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.getLegendOptions = function (chart, series) {\n        this.legendCollections = [];\n        for (var i = 0; i < 1; i++) {\n            var seriesType = series[i].type;\n            if (seriesType === 'Pie' || seriesType === 'Doughnut') {\n                seriesType = (series[i].innerRadius !== '0' && series[i].innerRadius !== '0%') ?\n                    'Doughnut' : 'Pie';\n            }\n            for (var _i = 0, _a = series[i].points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                if (!isNullOrUndefined(point.x) && !isNullOrUndefined(point.y)) {\n                    this.legendCollections.push(new LegendOptions(point.x.toString(), point.color, series[i].legendShape, point.visible, seriesType, null, null, point.index, series[i].index));\n                }\n            }\n        }\n    };\n    /**\n     * To find legend bounds for accumulation chart.\n     * @private\n     */\n    AccumulationLegend.prototype.getLegendBounds = function (availableSize, legendBounds, legend) {\n        var extraWidth = 0;\n        var extraHeight = 0;\n        var padding = legend.padding;\n        if (!this.isVertical) {\n            extraHeight = !legend.height ? ((availableSize.height / 100) * 5) : 0;\n        }\n        else {\n            extraWidth = !legend.width ? ((availableSize.width / 100) * 5) : 0;\n        }\n        legendBounds.width += extraWidth;\n        legendBounds.height += extraHeight;\n        var shapePadding = legend.shapePadding;\n        var maximumWidth = 0;\n        var shapeWidth = legend.shapeWidth;\n        var rowWidth = 0;\n        var rowCount = 0;\n        var columnWidth = [];\n        var columnHeight = 0;\n        var legendWidth = 0;\n        this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n        var legendEventArgs;\n        var render = false;\n        for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n            var legendOption = _a[_i];\n            legendEventArgs = { fill: legendOption.fill, text: legendOption.text, shape: legendOption.shape,\n                name: 'legendRender', cancel: false };\n            this.chart.trigger('legendRender', legendEventArgs);\n            legendOption.render = !legendEventArgs.cancel;\n            legendOption.text = legendEventArgs.text;\n            legendOption.fill = legendEventArgs.fill;\n            legendOption.shape = legendEventArgs.shape;\n            legendOption.textSize = measureText(legendOption.text, legend.textStyle);\n            if (legendOption.render && legendOption.text !== '') {\n                render = true;\n                legendWidth = shapeWidth + shapePadding + legendOption.textSize.width + padding;\n                if (this.isVertical) {\n                    ++rowCount;\n                    columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding;\n                    if ((rowCount * (this.maxItemHeight + padding)) + padding > legendBounds.height) {\n                        columnHeight = Math.max(columnHeight, (rowCount * (this.maxItemHeight + padding)) + padding);\n                        rowWidth = rowWidth + maximumWidth;\n                        columnWidth.push(maximumWidth);\n                        this.totalPages = Math.max(rowCount, this.totalPages || 1);\n                        maximumWidth = 0;\n                        rowCount = 1;\n                    }\n                    maximumWidth = Math.max(legendWidth, maximumWidth);\n                }\n                else {\n                    rowWidth = rowWidth + legendWidth;\n                    if (legendBounds.width < (padding + rowWidth)) {\n                        maximumWidth = Math.max(maximumWidth, (rowWidth + padding - legendWidth));\n                        if (rowCount === 0 && (legendWidth !== rowWidth)) {\n                            rowCount = 1;\n                        }\n                        rowWidth = legendWidth;\n                        rowCount++;\n                        columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding;\n                    }\n                }\n            }\n        }\n        if (this.isVertical) {\n            rowWidth = rowWidth + maximumWidth;\n            this.isPaging = legendBounds.width < (rowWidth + padding);\n            columnHeight = Math.max(columnHeight, ((this.totalPages || 1) * (this.maxItemHeight + padding)) + padding);\n            this.isPaging = this.isPaging && (this.totalPages > 1);\n            if (columnWidth[columnWidth.length - 1] !== maximumWidth) {\n                columnWidth.push(maximumWidth);\n            }\n        }\n        else {\n            this.isPaging = legendBounds.height < columnHeight;\n            this.totalPages = this.totalRowCount = rowCount;\n            columnHeight = Math.max(columnHeight, (this.maxItemHeight + padding) + padding);\n        }\n        this.maxColumns = 0; // initialization for max columns\n        var width = this.isVertical ? this.getMaxColumn(columnWidth, legendBounds.width, padding, rowWidth + padding) :\n            Math.max(rowWidth + padding, maximumWidth);\n        if (render) {\n            this.setBounds(width, columnHeight, legend, legendBounds);\n        }\n        else {\n            this.setBounds(0, 0, legend, legendBounds);\n        }\n    };\n    /**\n     * To find maximum column size for legend\n     */\n    AccumulationLegend.prototype.getMaxColumn = function (columns, width, padding, rowWidth) {\n        var maxPageColumn = padding;\n        this.maxColumnWidth = Math.max.apply(null, columns);\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            maxPageColumn += this.maxColumnWidth;\n            this.maxColumns++;\n            if (maxPageColumn + padding > width) {\n                maxPageColumn -= this.maxColumnWidth;\n                this.maxColumns--;\n                break;\n            }\n        }\n        this.isPaging = (maxPageColumn < rowWidth) && (this.totalPages > 1);\n        if (maxPageColumn === padding) {\n            maxPageColumn = width;\n        }\n        this.maxColumns = Math.max(1, this.maxColumns);\n        this.maxWidth = maxPageColumn;\n        return maxPageColumn;\n    };\n    /**\n     * To find available width from legend x position.\n     */\n    AccumulationLegend.prototype.getAvailWidth = function (tx, width, legendX) {\n        if (this.isVertical) {\n            width = this.maxWidth;\n        }\n        return width - ((this.legend.padding * 2) + this.legend.shapeWidth + this.legend.shapePadding);\n    };\n    /**\n     * To find legend rendering locations from legend options.\n     * @private\n     */\n    AccumulationLegend.prototype.getRenderPoint = function (legendOption, start, textPadding, prevLegend, rect, count, firstLegend) {\n        var padding = this.legend.padding;\n        if (this.isVertical) {\n            if (count === firstLegend || (prevLegend.location.y + (this.maxItemHeight * 1.5) + (padding * 2) > rect.y + rect.height)) {\n                legendOption.location.x = prevLegend.location.x + ((count === firstLegend) ? 0 : this.maxColumnWidth);\n                legendOption.location.y = start.y;\n                this.pageXCollections.push(legendOption.location.x - (this.legend.shapeWidth / 2) - padding);\n                this.totalPages++;\n            }\n            else {\n                legendOption.location.x = prevLegend.location.x;\n                legendOption.location.y = prevLegend.location.y + this.maxItemHeight + padding;\n            }\n        }\n        else {\n            var previousBound = (prevLegend.location.x + textPadding + prevLegend.textSize.width);\n            if ((previousBound + (legendOption.textSize.width + textPadding)) > (rect.x + rect.width + this.legend.shapeWidth / 2)) {\n                legendOption.location.y = (count === firstLegend) ? prevLegend.location.y :\n                    prevLegend.location.y + this.maxItemHeight + padding;\n                legendOption.location.x = start.x;\n            }\n            else {\n                legendOption.location.y = prevLegend.location.y;\n                legendOption.location.x = (count === firstLegend) ? prevLegend.location.x : previousBound;\n            }\n            this.totalPages = this.totalRowCount;\n        }\n        var availablewidth = this.getAvailWidth(legendOption.location.x, this.legendBounds.width, this.legendBounds.x);\n        legendOption.text = textTrim(+availablewidth.toFixed(4), legendOption.text, this.legend.textStyle);\n    };\n    /**\n     * finding the smart legend place according to positions.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.getSmartLegendLocation = function (labelBound, legendBound, margin) {\n        var space;\n        switch (this.position) {\n            case 'Left':\n                space = ((labelBound.x - legendBound.width) - margin.left) / 2;\n                legendBound.x = (labelBound.x - legendBound.width) < margin.left ? legendBound.x :\n                    (labelBound.x - legendBound.width) - space;\n                break;\n            case 'Right':\n                space = ((this.chart.availableSize.width - margin.right) - (labelBound.x + labelBound.width + legendBound.width)) / 2;\n                legendBound.x = (labelBound.x + labelBound.width + legendBound.width) > (this.chart.availableSize.width - margin.right) ?\n                    legendBound.x : (labelBound.x + labelBound.width + space);\n                break;\n            case 'Top':\n                this.getTitleRect(this.chart);\n                space = ((labelBound.y - legendBound.height) - (this.titleRect.y + this.titleRect.height)) / 2;\n                legendBound.y = (labelBound.y - legendBound.height) < margin.top ? legendBound.y :\n                    (labelBound.y - legendBound.height) - space;\n                break;\n            case 'Bottom':\n                space = ((this.chart.availableSize.height - margin.bottom) - (labelBound.y + labelBound.height + legendBound.height)) / 2;\n                legendBound.y = labelBound.y + labelBound.height + legendBound.height > (this.chart.availableSize.height - margin.bottom) ?\n                    legendBound.y : (labelBound.y + labelBound.height) + space;\n                break;\n        }\n    };\n    /**\n     * To get title rect.\n     */\n    AccumulationLegend.prototype.getTitleRect = function (accumulation) {\n        if (!accumulation.title) {\n            return null;\n        }\n        var titleSize = measureText(accumulation.title, accumulation.titleStyle);\n        this.titleRect = new Rect(accumulation.availableSize.width / 2 - titleSize.width / 2, accumulation.margin.top, titleSize.width, titleSize.height);\n    };\n    /**\n     * To get legend by index\n     */\n    AccumulationLegend.prototype.legendByIndex = function (index, legendCollections) {\n        for (var _i = 0, legendCollections_1 = legendCollections; _i < legendCollections_1.length; _i++) {\n            var legend = legendCollections_1[_i];\n            if (legend.pointIndex === index) {\n                return legend;\n            }\n        }\n        return null;\n    };\n    /**\n     * To show or hide the legend on clicking the legend.\n     * @return {void}\n     */\n    AccumulationLegend.prototype.click = function (event) {\n        var targetId = event.target.id;\n        var legendItemsId = [this.legendID + '_text_', this.legendID + '_shape_',\n            this.legendID + '_shape_marker_'];\n        var selectedDataIndexes = [];\n        if (this.chart.accumulationSelectionModule) {\n            selectedDataIndexes = extend([], this.chart.accumulationSelectionModule.selectedDataIndexes, null, true);\n        }\n        for (var _i = 0, legendItemsId_1 = legendItemsId; _i < legendItemsId_1.length; _i++) {\n            var id = legendItemsId_1[_i];\n            if (targetId.indexOf(id) > -1) {\n                var pointIndex = parseInt(targetId.split(id)[1], 10);\n                var currentSeries = this.chart.visibleSeries[0];\n                var point = pointByIndex(pointIndex, currentSeries.points);\n                var legendOption = this.legendByIndex(pointIndex, this.legendCollections);\n                if (this.chart.legendSettings.toggleVisibility) {\n                    point.visible = !point.visible;\n                    legendOption.visible = point.visible;\n                    this.chart.removeSvg();\n                    if (point.visible) {\n                        currentSeries.sumOfPoints += point.y;\n                    }\n                    else {\n                        currentSeries.sumOfPoints -= point.y;\n                    }\n                    this.chart.refreshPoints(currentSeries.points);\n                    this.chart.renderElements();\n                }\n                else if (this.chart.accumulationSelectionModule) {\n                    this.chart.accumulationSelectionModule.legendSelection(this.chart, 0, pointIndex);\n                }\n            }\n        }\n        if (targetId.indexOf(this.legendID + '_pageup') > -1) {\n            this.changePage(event, true);\n        }\n        else if (targetId.indexOf(this.legendID + '_pagedown') > -1) {\n            this.changePage(event, false);\n        }\n    };\n    /**\n     * Get module name\n     */\n    AccumulationLegend.prototype.getModuleName = function () {\n        return 'AccumulationLegend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return AccumulationLegend;\n}(BaseLegend));\nexport { AccumulationLegend };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * AccumulationChart DataLabel module file\n */\nimport { extend, createElement } from '@syncfusion/ej2-base';\nimport { ChartLocation, degreeToLocation, Rect, isOverlap, stringToNumber, getAngle, TextOption } from '../../common/utils/helper';\nimport { textTrim, subtractThickness, Thickness, getElement } from '../../common/utils/helper';\nimport { removeElement, measureText, RectOption, textElement, showTooltip } from '../../common/utils/helper';\nimport { PathOption, colorNameToHex, convertHexToColor, containsRect } from '../../common/utils/helper';\nimport { getSeriesFromIndex } from '../model/acc-base';\nimport { textRender } from '../../common/model/constants';\nimport { getFontStyle, createTemplate, measureElementRect, templateAnimate } from '../../common/utils/helper';\nimport { AccumulationBase } from './accumulation-base';\n/**\n * AccumulationDataLabel module used to render `dataLabel`.\n */\nvar AccumulationDataLabel = /** @class */ (function (_super) {\n    __extends(AccumulationDataLabel, _super);\n    function AccumulationDataLabel(accumulation) {\n        var _this = _super.call(this, accumulation) || this;\n        _this.id = accumulation.element.id + '_datalabel_Series_';\n        if (accumulation.title) {\n            var titleSize = measureText(accumulation.title, accumulation.titleStyle);\n            _this.titleRect = new Rect(accumulation.availableSize.width / 2 - titleSize.width / 2, accumulation.margin.top, titleSize.width, titleSize.height);\n        }\n        return _this;\n    }\n    /**\n     * Method to get datalabel text location.\n     * @private\n     */\n    AccumulationDataLabel.prototype.getDataLabelPosition = function (point, dataLabel, textSize, points, parent, id) {\n        var radius = this.isCircular() ? this.labelRadius : this.getLabelDistance(point, dataLabel);\n        this.getLabelRegion(point, dataLabel.position, textSize, radius, this.marginValue);\n        point.labelAngle = point.midAngle;\n        point.labelPosition = dataLabel.position;\n        if (this.accumulation.enableSmartLabels) {\n            this.getSmartLabel(point, dataLabel, textSize, points, parent, id);\n        }\n    };\n    /**\n     * Method to get datalabel bound.\n     */\n    AccumulationDataLabel.prototype.getLabelRegion = function (point, position, textSize, labelRadius, margin, endAngle) {\n        if (endAngle === void 0) { endAngle = 0; }\n        var labelAngle = endAngle || point.midAngle;\n        var space = 10;\n        var location = degreeToLocation(labelAngle, labelRadius, this.isCircular() ? this.center :\n            this.getLabelLocation(point, position));\n        location.y = (position === 'Inside') ? (location.y - textSize.height / 2) : location.y;\n        location.x = (position === 'Inside') ? (location.x - textSize.width / 2) : location.x;\n        point.labelRegion = new Rect(location.x, location.y, textSize.width + (margin * 2), textSize.height + (margin * 2));\n        if (position === 'Outside') {\n            point.labelRegion.y -= point.labelRegion.height / 2;\n            if (labelAngle >= 90 && labelAngle <= 270) {\n                point.labelRegion.x -= (point.labelRegion.width + space);\n            }\n            else {\n                point.labelRegion.x += space;\n            }\n        }\n    };\n    /**\n     * Method to get datalabel smart position.\n     */\n    AccumulationDataLabel.prototype.getSmartLabel = function (point, dataLabel, textSize, points, parent, id) {\n        var circular = this.isCircular();\n        var labelRadius = circular ? this.radius : this.getLabelDistance(point, dataLabel);\n        var connectorLength = circular ? (dataLabel.connectorStyle.length || '4%') :\n            '0px';\n        labelRadius += stringToNumber(connectorLength, labelRadius);\n        var previousPoint = this.findPreviousPoint(points, point.index, point.labelPosition);\n        if (dataLabel.position === 'Inside') {\n            if (previousPoint && previousPoint.labelRegion && (isOverlap(point.labelRegion, previousPoint.labelRegion)\n                || this.isOverlapping(point, points)) || !circular && !containsRect(point.region, point.labelRegion)) {\n                point.labelPosition = 'Outside';\n                if (!circular) {\n                    labelRadius = this.getLabelDistance(point, dataLabel);\n                }\n                this.getLabelRegion(point, point.labelPosition, textSize, labelRadius, this.marginValue);\n                previousPoint = this.findPreviousPoint(points, point.index, point.labelPosition);\n                if (previousPoint && (isOverlap(point.labelRegion, previousPoint.labelRegion) ||\n                    this.isConnectorLineOverlapping(point, previousPoint))) {\n                    this.setOuterSmartLabel(previousPoint, point, dataLabel.border.width, labelRadius, textSize, this.marginValue);\n                }\n            }\n        }\n        else {\n            if (previousPoint && previousPoint.labelRegion && (isOverlap(point.labelRegion, previousPoint.labelRegion)\n                || this.isOverlapping(point, points) || this.isConnectorLineOverlapping(point, previousPoint))) {\n                this.setOuterSmartLabel(previousPoint, point, dataLabel.border.width, labelRadius, textSize, this.marginValue);\n            }\n        }\n        if (this.isOverlapping(point, points) || (this.titleRect && point.labelRegion && isOverlap(point.labelRegion, this.titleRect))) {\n            this.setPointVisibileFalse(point);\n        }\n        if (this.accumulation.accumulationLegendModule && point.labelVisible && point.labelRegion) {\n            var rect = this.accumulation.accumulationLegendModule.legendBounds;\n            var padding = this.accumulation.legendSettings.border.width / 2;\n            this.textTrimming(point, new Rect(rect.x - padding, rect.y - padding, rect.width + (2 * padding), rect.height + (2 * padding)), dataLabel.font, this.accumulation.accumulationLegendModule.position);\n        }\n        if (point.labelVisible && point.labelRegion) {\n            var position = this.isCircular() ? (point.labelRegion.x >= this.center.x) ? 'InsideRight' : 'InsideLeft' :\n                'InsideRight';\n            this.textTrimming(point, this.areaRect, dataLabel.font, position);\n        }\n        if (point.labelVisible && point.labelRegion && ((point.labelRegion.y + point.labelRegion.height >\n            this.areaRect.y + this.areaRect.height || point.labelRegion.y < this.areaRect.y) || (point.labelRegion.x < this.areaRect.x ||\n            point.labelRegion.x + point.labelRegion.width > this.areaRect.x + this.areaRect.width))) {\n            this.setPointVisibileFalse(point);\n        }\n    };\n    /**\n     * To find trimmed datalabel tooltip needed.\n     * @return {void}\n     * @private\n     */\n    AccumulationDataLabel.prototype.move = function (e, x, y, isTouch) {\n        var _this = this;\n        var location = this.accumulation.removeSvgOffset(x, y);\n        if (e.target.textContent.indexOf('...') > -1) {\n            var targetId = e.target.id.split(this.id);\n            if (targetId.length === 2) {\n                var seriesIndex = parseInt(targetId[1].split('_text_')[0], 10);\n                var pointIndex = parseInt(targetId[1].split('_text_')[1], 10);\n                if (!isNaN(seriesIndex) && !isNaN(pointIndex)) {\n                    if (isTouch) {\n                        removeElement(this.accumulation.element.id + '_EJ2_Datalabel_Tooltip');\n                    }\n                    var point = getSeriesFromIndex(seriesIndex, (this.accumulation).visibleSeries).points[pointIndex];\n                    showTooltip(point.text || point.y.toString(), location.x, location.y, this.areaRect.width, this.accumulation.element.id + '_EJ2_Datalabel_Tooltip', getElement(this.accumulation.element.id + '_Secondary_Element'));\n                }\n            }\n        }\n        else {\n            removeElement(this.accumulation.element.id + '_EJ2_Datalabel_Tooltip');\n        }\n        if (isTouch) {\n            clearTimeout(this.clearTooltip);\n            this.clearTooltip = setTimeout(function () { removeElement(_this.accumulation.element.id + '_EJ2_Datalabel_Tooltip'); }, 1000);\n        }\n    };\n    /**\n     * To find previous valid label point\n     */\n    AccumulationDataLabel.prototype.findPreviousPoint = function (points, index, position) {\n        var point = points[0];\n        for (var i = index - 1; i >= 0; i--) {\n            point = points[i];\n            if (point.visible && point.labelVisible && point.labelRegion && point.labelPosition === position) {\n                return point;\n            }\n        }\n        return null;\n    };\n    /**\n     * To find current point datalabel is overlapping with other points\n     */\n    AccumulationDataLabel.prototype.isOverlapping = function (currentPoint, points) {\n        for (var i = currentPoint.index - 1; i >= 0; i--) {\n            if (points[i].visible && points[i].labelVisible && points[i].labelRegion && currentPoint.labelRegion &&\n                currentPoint.labelVisible && isOverlap(currentPoint.labelRegion, points[i].labelRegion)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To get text trimmed while exceeds the accumulation chart area.\n     */\n    AccumulationDataLabel.prototype.textTrimming = function (point, rect, font, position) {\n        if (isOverlap(point.labelRegion, rect)) {\n            var size = point.labelRegion.width;\n            if (position === 'Right') {\n                size = rect.x - point.labelRegion.x;\n            }\n            else if (position === 'Left') {\n                size = point.labelRegion.x - (rect.x + rect.width);\n                if (size < 0) {\n                    size += point.labelRegion.width;\n                    point.labelRegion.x = rect.x + rect.width;\n                }\n            }\n            else if (position === 'InsideRight') {\n                size = (rect.x + rect.width) - point.labelRegion.x;\n            }\n            else if (position === 'InsideLeft') {\n                size = (point.labelRegion.x + point.labelRegion.width) - rect.x;\n                if (size < point.labelRegion.width) {\n                    point.labelRegion.x = rect.x;\n                }\n            }\n            else {\n                this.setPointVisibileFalse(point);\n            }\n            if (point.labelVisible && point.labelRegion) {\n                if (size < point.labelRegion.width) {\n                    point.label = textTrim(size - (this.marginValue * 2), point.label, font);\n                    point.labelRegion.width = size;\n                }\n                if (point.label.length === 3 && point.label.indexOf('...') > -1) {\n                    this.setPointVisibileFalse(point);\n                }\n            }\n        }\n    };\n    /**\n     * To set point label visible and region to disable.\n     */\n    AccumulationDataLabel.prototype.setPointVisibileFalse = function (point) {\n        point.labelVisible = false;\n        point.labelRegion = null;\n    };\n    /**\n     * To set datalabel angle position for outside labels\n     */\n    AccumulationDataLabel.prototype.setOuterSmartLabel = function (previousPoint, point, border, labelRadius, textsize, margin) {\n        if (!this.isCircular()) {\n            this.setSmartLabelForSegments(point, previousPoint, labelRadius, textsize, margin);\n        }\n        else {\n            var labelAngle = this.getOverlappedAngle(previousPoint.labelRegion, point.labelRegion, point.midAngle, border * 2);\n            this.getLabelRegion(point, 'Outside', textsize, labelRadius, margin, labelAngle);\n            if (labelAngle > point.endAngle) {\n                this.setPointVisibileFalse(point);\n            }\n            point.labelAngle = labelAngle;\n            while (point.labelVisible && (isOverlap(previousPoint.labelRegion, point.labelRegion) || labelAngle <= previousPoint.labelAngle\n                || this.isConnectorLineOverlapping(point, previousPoint))) {\n                if (labelAngle > point.endAngle) {\n                    this.setPointVisibileFalse(point);\n                    break;\n                }\n                point.labelAngle = labelAngle;\n                this.getLabelRegion(point, 'Outside', textsize, labelRadius, margin, labelAngle);\n                labelAngle += 0.1;\n            }\n        }\n    };\n    /**\n     * Sets smart label positions for funnel and pyramid series\n     */\n    AccumulationDataLabel.prototype.setSmartLabelForSegments = function (point, prevPoint, distance, textSize, margin) {\n        var textRegion = point.labelRegion;\n        //let overlapWidth: number = prevPoint.labelRegion.x + prevPoint.labelRegion.width - textRegion.x;\n        var overlapHeight = this.accumulation.type === 'Funnel' ?\n            prevPoint.labelRegion.y - (textRegion.y + textRegion.height) :\n            point.labelRegion.y - (prevPoint.labelRegion.y + prevPoint.labelRegion.height);\n        if (overlapHeight < 0) {\n            point.labelRegion.y += this.accumulation.type === 'Funnel' ? overlapHeight : -overlapHeight;\n        }\n    };\n    /**\n     * To find connector line overlapping.\n     */\n    AccumulationDataLabel.prototype.isConnectorLineOverlapping = function (point, previous) {\n        var start = this.getLabelLocation(point);\n        var end = new ChartLocation(0, 0);\n        this.getEdgeOfLabel(point.labelRegion, point.labelAngle, end);\n        var previousstart = this.getLabelLocation(previous);\n        var previousend = new ChartLocation(0, 0);\n        this.getEdgeOfLabel(previous.labelRegion, previous.labelAngle, previousend);\n        return this.isLineRectangleIntersect(start, end, point.labelRegion) ||\n            this.isLineRectangleIntersect(start, end, previous.labelRegion) ||\n            this.isLineRectangleIntersect(previousstart, previousend, point.labelRegion);\n    };\n    /**\n     * To find two rectangle intersect\n     */\n    AccumulationDataLabel.prototype.isLineRectangleIntersect = function (line1, line2, rect) {\n        var rectPoints = [\n            new ChartLocation(Math.round(rect.x), Math.round(rect.y)),\n            new ChartLocation(Math.round((rect.x + rect.width)), Math.round(rect.y)),\n            new ChartLocation(Math.round((rect.x + rect.width)), Math.round((rect.y + rect.height))),\n            new ChartLocation(Math.round(rect.x), Math.round((rect.y + rect.height)))\n        ];\n        line1.x = Math.round(line1.x);\n        line1.y = Math.round(line1.y);\n        line2.x = Math.round(line2.x);\n        line2.y = Math.round(line2.y);\n        for (var i = 0; i < rectPoints.length; i++) {\n            if (this.isLinesIntersect(line1, line2, rectPoints[i], rectPoints[(i + 1) % rectPoints.length])) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To find two line intersect\n     */\n    AccumulationDataLabel.prototype.isLinesIntersect = function (point1, point2, point11, point12) {\n        var a1 = point2.y - point1.y;\n        var b1 = point1.x - point2.x;\n        var c1 = a1 * point1.x + b1 * point1.y;\n        var a2 = point12.y - point11.y;\n        var b2 = point11.x - point12.x;\n        var c2 = a2 * point11.x + b2 * point11.y;\n        var delta = a1 * b2 - a2 * b1;\n        if (delta !== 0) {\n            var x = (b2 * c1 - b1 * c2) / delta;\n            var y = (a1 * c2 - a2 * c1) / delta;\n            var lies = Math.min(point1.x, point2.x) <= x && x <= Math.max(point1.x, point2.x);\n            lies = lies && Math.min(point1.y, point2.y) <= y && y <= Math.max(point1.y, point2.y);\n            lies = lies && Math.min(point11.x, point12.x) <= x && x <= Math.max(point11.x, point12.x);\n            lies = lies && Math.min(point11.y, point12.y) <= y && y <= Math.max(point11.y, point12.y);\n            return lies;\n        }\n        return false;\n    };\n    /**\n     * To get two rectangle overlapping angles.\n     */\n    AccumulationDataLabel.prototype.getOverlappedAngle = function (first, second, angle, padding) {\n        var x = first.x;\n        if (angle >= 90 && angle <= 270) {\n            second.y = first.y - (padding + second.height / 2);\n            x = first.x + first.width;\n        }\n        else {\n            second.y = first.y + first.height + padding;\n        }\n        return getAngle(this.center, new ChartLocation(x, second.y));\n    };\n    /**\n     * To get connector line path\n     */\n    AccumulationDataLabel.prototype.getConnectorPath = function (label, point, dataLabel, end) {\n        if (end === void 0) { end = 0; }\n        var connector = dataLabel.connectorStyle;\n        var labelRadius = this.isCircular() ? this.labelRadius : this.getLabelDistance(point, dataLabel);\n        var start = this.getConnectorStartPoint(point, connector);\n        var labelAngle = end || point.midAngle;\n        var middle = new ChartLocation(0, 0);\n        var endPoint = this.getEdgeOfLabel(label, labelAngle, middle, connector.width);\n        if (connector.type === 'Curve') {\n            if (this.isCircular()) {\n                var r = labelRadius - this.radius;\n                middle = degreeToLocation(labelAngle, labelRadius - (r / 2), this.center);\n                return 'M ' + start.x + ' ' + start.y + ' Q' + middle.x + ',' + middle.y + ' ' + endPoint.x + ',' + endPoint.y;\n            }\n            else {\n                return this.getPolyLinePath(start, endPoint);\n            }\n        }\n        else {\n            return 'M ' + start.x + ' ' + start.y + ' L ' + middle.x + ' ' + middle.y + ' L ' + endPoint.x + ' ' + endPoint.y;\n        }\n    };\n    /**\n     * Finds the curved path for funnel/pyramid data label connectors\n     */\n    AccumulationDataLabel.prototype.getPolyLinePath = function (start, end) {\n        var controlPoints = [start, end];\n        if (start.y === end.y) {\n            return 'M ' + start.x + ' ' + start.y + ' L ' + end.x + ' ' + end.y;\n        }\n        var path = 'M';\n        for (var i = 0; i <= 16; i++) {\n            var t = i / 16;\n            var points = this.getBezierPoint(t, controlPoints, 0, 2);\n            path += points.x + ',' + points.y;\n            if (i !== 16) {\n                path += ' L';\n            }\n        }\n        return path;\n    };\n    /**\n     * Finds the bezier point for funnel/pyramid data label connectors\n     */\n    AccumulationDataLabel.prototype.getBezierPoint = function (t, controlPoints, index, count) {\n        if (count === 1) {\n            return controlPoints[index];\n        }\n        var p0 = this.getBezierPoint(t, controlPoints, index, count - 1);\n        var p1 = this.getBezierPoint(t, controlPoints, index + 1, count - 1);\n        var x = (p0.x) ? p0.x : p0.x;\n        var y = (p0.y) ? p0.y : p0.y;\n        var x1 = (p1.x) ? p1.x : p1.x;\n        var y1 = (p1.y) ? p1.y : p1.y;\n        var x2 = (1 - t) * x + t * x1;\n        var y2 = (1 - t) * y + t * y1;\n        if (p0.x) {\n            return { x: x2, y: y2 };\n        }\n        else {\n            return { x: x2, y: y2 };\n        }\n    };\n    /**\n     * To get label edges based on the center and label rect position.\n     */\n    AccumulationDataLabel.prototype.getEdgeOfLabel = function (labelshape, angle, middle, border) {\n        if (border === void 0) { border = 1; }\n        var edge = new ChartLocation(labelshape.x, labelshape.y);\n        if (angle >= 90 && angle <= 270) {\n            edge.x += labelshape.width + border / 2;\n            edge.y += labelshape.height / 2;\n            middle.x = edge.x + 10;\n            middle.y = edge.y;\n        }\n        else {\n            edge.x -= border / 2;\n            edge.y += labelshape.height / 2;\n            middle.x = edge.x - 10;\n            middle.y = edge.y;\n        }\n        return edge;\n    };\n    /**\n     * Finds the distance between the label position and the edge/center of the funnel/pyramid\n     */\n    AccumulationDataLabel.prototype.getLabelDistance = function (point, dataLabel) {\n        if (point.labelPosition && dataLabel.position !== point.labelPosition || dataLabel.connectorStyle.length) {\n            var length_1 = stringToNumber(dataLabel.connectorStyle.length || '70px', this.accumulation.initialClipRect.width);\n            if (length_1 < this.accumulation.initialClipRect.width) {\n                return length_1;\n            }\n        }\n        var position = point.labelPosition || dataLabel.position;\n        var series = this.accumulation.visibleSeries[0];\n        var extraSpace = (this.accumulation.initialClipRect.width - series.triangleSize.width) / 2;\n        var labelLocation;\n        switch (position) {\n            case 'Inside':\n                return 0;\n            case 'Outside':\n                labelLocation = point.symbolLocation.x + point.labelOffset.x;\n                return this.accumulation.initialClipRect.width - labelLocation - extraSpace;\n        }\n    };\n    /**\n     * Finds the label position / beginning of the connector(ouside funnel labels)\n     */\n    AccumulationDataLabel.prototype.getLabelLocation = function (point, position) {\n        if (position === void 0) { position = 'Outside'; }\n        if (this.accumulation.type !== 'Pie') {\n            position = point.labelPosition || position;\n            var location_1 = {\n                x: point.symbolLocation.x,\n                y: point.symbolLocation.y - point.labelOffset.y\n            };\n            switch (position) {\n                case 'Inside':\n                    location_1.y = point.region.y + point.region.height / 2;\n                    break;\n                case 'Outside':\n                    location_1.x += point.labelOffset.x;\n            }\n            return location_1;\n        }\n        else {\n            return degreeToLocation(point.midAngle, this.radius, this.center);\n        }\n    };\n    /**\n     * Finds the beginning of connector line\n     */\n    AccumulationDataLabel.prototype.getConnectorStartPoint = function (point, connector) {\n        return this.isCircular() ? degreeToLocation(point.midAngle, this.radius - connector.width, this.center) :\n            this.getLabelLocation(point);\n    };\n    /**\n     * To find area rect based on margin, available size.\n     * @private\n     */\n    AccumulationDataLabel.prototype.findAreaRect = function () {\n        this.areaRect = new Rect(0, 0, this.accumulation.availableSize.width, this.accumulation.availableSize.height);\n        var margin = this.accumulation.margin;\n        subtractThickness(this.areaRect, new Thickness(margin.left, margin.right, margin.top, margin.bottom));\n    };\n    /**\n     * To render the datalabels from series points.\n     * @private\n     */\n    AccumulationDataLabel.prototype.renderDataLabel = function (point, dataLabel, parent, points, series, templateElement) {\n        var id = this.accumulation.element.id + '_datalabel_Series_' + series + '_';\n        var datalabelGroup = this.accumulation.renderer.createGroup({ id: id + 'g_' + point.index });\n        point.label = point.originalText || point.y.toString();\n        var argsData = {\n            cancel: false, name: textRender, series: this.accumulation.visibleSeries[0], point: point,\n            text: point.label, border: dataLabel.border, color: dataLabel.fill, template: dataLabel.template\n        };\n        this.accumulation.trigger(textRender, argsData);\n        var isTemplate = argsData.template !== null;\n        point.labelVisible = !argsData.cancel;\n        point.text = point.label = argsData.text;\n        this.marginValue = argsData.border.width ? (5 + argsData.border.width) : 1;\n        // Template element\n        var childElement = createElement('div', {\n            id: this.accumulation.element.id + '_Series_' + 0 + '_DataLabel_' + point.index,\n            styles: 'position: absolute;background-color:' + argsData.color + ';' +\n                getFontStyle(dataLabel.font) + ';border:' + argsData.border.width + 'px solid ' + argsData.border.color + ';'\n        });\n        var textSize = isTemplate ? this.getTemplateSize(childElement, point, argsData) :\n            measureText(point.label, dataLabel.font);\n        textSize.height += 4; // 4 for calculation with padding for smart label shape\n        textSize.width += 4;\n        this.getDataLabelPosition(point, dataLabel, textSize, points, datalabelGroup, id);\n        if (point.labelVisible) {\n            this.correctLabelRegion(point.labelRegion, textSize);\n            if (isTemplate) {\n                this.setTemplateStyle(childElement, point, templateElement, dataLabel.font.color, argsData.color);\n            }\n            else {\n                datalabelGroup.appendChild(this.accumulation.renderer.drawRectangle(new RectOption(id + 'shape_' + point.index, argsData.color, argsData.border, 1, point.labelRegion, dataLabel.rx, dataLabel.ry)));\n                textElement(new TextOption(id + 'text_' + point.index, point.labelRegion.x + this.marginValue, point.labelRegion.y + (textSize.height * 3 / 4) + this.marginValue, 'start', point.label, '', 'auto'), dataLabel.font, dataLabel.font.color || this.getSaturatedColor(point, argsData.color), datalabelGroup);\n            }\n            if (this.accumulation.accumulationLegendModule && (dataLabel.position === 'Outside' || this.accumulation.enableSmartLabels)) {\n                this.accumulation.visibleSeries[0].findMaxBounds(this.accumulation.visibleSeries[0].labelBound, point.labelRegion);\n            }\n            if (point.labelPosition === 'Outside') {\n                var path = this.getConnectorPath(extend({}, point.labelRegion, null, true), point, dataLabel, point.labelAngle);\n                var pathElement = this.accumulation.renderer.drawPath(new PathOption(id + 'connector_' + point.index, 'transparent', dataLabel.connectorStyle.width, dataLabel.connectorStyle.color || point.color, 1, '', path));\n                datalabelGroup.appendChild(pathElement);\n            }\n            parent.appendChild(datalabelGroup);\n        }\n    };\n    /**\n     * To find the template element size\n     * @param element\n     * @param point\n     * @param argsData\n     */\n    AccumulationDataLabel.prototype.getTemplateSize = function (element, point, argsData) {\n        var clientRect;\n        element = createTemplate(element, point.index, argsData.template, this.accumulation, point, this.accumulation.visibleSeries[0]);\n        clientRect = measureElementRect(element);\n        return { width: clientRect.width, height: clientRect.height };\n    };\n    /**\n     * To set the template element style\n     * @param childElement\n     * @param point\n     * @param parent\n     * @param labelColor\n     * @param fill\n     */\n    AccumulationDataLabel.prototype.setTemplateStyle = function (childElement, point, parent, labelColor, fill) {\n        childElement.style.left = (point.labelRegion.x) + 'px';\n        childElement.style.top = (point.labelRegion.y) + 'px';\n        childElement.style.color = labelColor ||\n            this.getSaturatedColor(point, fill);\n        if (childElement.childElementCount) {\n            parent.appendChild(childElement);\n            this.doTemplateAnimation(this.accumulation, childElement);\n        }\n    };\n    /**\n     * To find saturated color for datalabel\n     */\n    AccumulationDataLabel.prototype.getSaturatedColor = function (point, color) {\n        var saturatedColor;\n        if (this.marginValue >= 1) {\n            saturatedColor = color === 'transparent' ? this.getLabelBackground(point) : color;\n        }\n        else {\n            saturatedColor = this.getLabelBackground(point);\n        }\n        saturatedColor = (saturatedColor === 'transparent') ? window.getComputedStyle(document.body, null).backgroundColor : saturatedColor;\n        var rgbValue = convertHexToColor(colorNameToHex(saturatedColor));\n        var contrast = Math.round((rgbValue.r * 299 + rgbValue.g * 587 + rgbValue.b * 114) / 1000);\n        return contrast >= 128 ? 'black' : 'white';\n    };\n    /**\n     * Animates the data label template.\n     * @return {void}.\n     * @private\n     */\n    AccumulationDataLabel.prototype.doTemplateAnimation = function (accumulation, element) {\n        var series = accumulation.visibleSeries[0];\n        var delay = series.animation.delay + series.animation.duration;\n        if (series.animation.enable && accumulation.animateSeries) {\n            element.style.visibility = 'hidden';\n            templateAnimate(element, delay, 200, 'ZoomIn');\n        }\n    };\n    /**\n     * To find background color for the datalabel\n     */\n    AccumulationDataLabel.prototype.getLabelBackground = function (point) {\n        return point.labelPosition === 'Outside' ? this.accumulation.background : point.color;\n    };\n    /**\n     * To correct the padding between datalabel regions.\n     */\n    AccumulationDataLabel.prototype.correctLabelRegion = function (labelRegion, textSize, padding) {\n        if (padding === void 0) { padding = 4; }\n        labelRegion.height -= padding;\n        labelRegion.width -= padding;\n        labelRegion.x += padding / 2;\n        labelRegion.y += padding / 2;\n        textSize.height -= padding;\n        textSize.width -= padding;\n    };\n    /**\n     * To get the dataLabel module name\n     */\n    AccumulationDataLabel.prototype.getModuleName = function () {\n        return 'AccumulationDataLabel';\n    };\n    /**\n     * To destroy the data label.\n     * @return {void}\n     * @private\n     */\n    AccumulationDataLabel.prototype.destroy = function (accumulation) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return AccumulationDataLabel;\n}(AccumulationBase));\nexport { AccumulationDataLabel };\n","/**\n * AccumulationChart Tooltip file\n */\nimport { compile as templateComplier } from '@syncfusion/ej2-base';\nimport { createElement, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { getSeriesFromIndex } from '../model/acc-base';\nimport { getElement } from '../../common/utils/helper';\nimport { tooltipRender } from '../../common/model/constants';\n/**\n * AccumulationTooltip module used to render `Tooltip` for Accumulation Chart.\n */\nvar AccumulationTooltip = /** @class */ (function () {\n    function AccumulationTooltip(accumulation) {\n        this.accumulation = accumulation;\n        this.tooltipOption = accumulation.tooltip;\n        this.targetId = accumulation.element.id + '_pie_tooltip';\n        this.tooltip = new Tooltip({\n            opensOn: 'custom',\n            beforeOpen: this.tooltipCustomization.bind(this),\n            openDelay: 0,\n            closeDelay: 1000\n        });\n        this.tooltip.appendTo(accumulation.element);\n    }\n    /**\n     * To set template function for toooltip\n     */\n    AccumulationTooltip.prototype.setTemplateFunction = function (template) {\n        var e;\n        try {\n            if (document.querySelectorAll(template).length) {\n                this.templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\n            }\n        }\n        catch (e) {\n            this.templateFn = templateComplier(template);\n        }\n    };\n    /**\n     * To render the tooltip for the point\n     */\n    AccumulationTooltip.prototype.renderTooltip = function (point, seriesIndex) {\n        var element = getElement(this.targetId);\n        if (element && (element.getAttribute('data-tooltip-id') === null) ||\n            this.tooltipIndex !== 'series_' + seriesIndex + '_point_' + point.index) {\n            this.updatePosition(this.targetId, point.symbolLocation.x, point.symbolLocation.y, this.accumulation.element.id + '_Series_0_Point_' + point.index);\n            this.setTemplateFunction(this.tooltipOption.template);\n            this.currentPoint = point;\n            this.tooltip.content = this.getTooltipContent(point, seriesIndex);\n            this.tooltip.open(getElement(this.targetId));\n            this.tooltipIndex = 'series_' + seriesIndex + '_point_' + point.index;\n        }\n    };\n    /**\n     * To remove accumulation chart tooltip with animation\n     * @private\n     */\n    AccumulationTooltip.prototype.fadeOutTooltip = function () {\n        clearTimeout(this.clearTooltip);\n        this.removeTooltip = this.removeTooltip.bind(this);\n        this.clearTooltip = setTimeout(this.removeTooltip, 500);\n    };\n    /**\n     * To remove accumulation chart tooltip element\n     * @private\n     */\n    AccumulationTooltip.prototype.removeTooltip = function () {\n        if (this.tooltip) {\n            this.tooltip.close();\n        }\n    };\n    /**\n     * To get accumulation chart point tooltip content\n     */\n    AccumulationTooltip.prototype.getTooltipContent = function (point, seriesIndex) {\n        if (this.tooltipOption.template && this.templateFn) {\n            var templates = this.templateFn(point);\n            var element = createElement('div');\n            while (templates.length > 0) {\n                element.appendChild(templates[0]);\n            }\n            return element;\n        }\n        else {\n            return this.getTooltipText(point, this.tooltipOption, seriesIndex);\n        }\n    };\n    /**\n     * To customize the accumulation chart tooltip\n     */\n    AccumulationTooltip.prototype.tooltipCustomization = function (args) {\n        var argsData = {\n            cancel: false, name: tooltipRender,\n            content: this.tooltip.content,\n            textStyle: this.tooltipOption.textStyle,\n            series: this.accumulation.visibleSeries[0],\n            point: this.currentPoint\n        };\n        this.accumulation.trigger(tooltipRender, argsData);\n        args.cancel = argsData.cancel;\n        this.tooltip.content = argsData.content;\n        this.tooltipOption.textStyle = argsData.textStyle;\n        var content = document.getElementsByClassName('e-tooltip-wrap')[0];\n        var font = this.tooltipOption.textStyle;\n        var position = this.tooltip.position.split(' ');\n        var borderColor = this.tooltipOption.border.color || this.currentPoint.color;\n        var pointerSize = 8;\n        var outerWidth;\n        var innerWidth;\n        args.element.classList.remove('e-popup-close');\n        args.element.classList.add('e-popup-open');\n        var arrowEle = args.element.querySelector('.e-arrow-tip');\n        var borderWidth = this.tooltipOption.border.width;\n        setStyleAttribute(args.element, {\n            'backgroundColor': this.tooltipOption.fill, 'borderColor': borderColor,\n            'borderWidth': borderWidth, 'borderRadius': '5px', 'pointer-events': 'none'\n        });\n        setStyleAttribute(args.element.querySelector('.e-tip-content'), {\n            'color': font.color || '#000000', 'fontFamily': font.fontFamily, 'fontSize': font.size,\n            'fontWeight': font.fontWeight, 'opacity': font.opacity.toString(), 'fontStyle': font.fontStyle\n        });\n        pointerSize = args.element.querySelector('.e-arrow-tip').offsetHeight;\n        outerWidth = pointerSize + 'px';\n        setStyleAttribute(args.element.querySelector('.e-arrow-tip-outer'), {\n            'borderRightColor': 'transparent', 'borderLeftColor': 'transparent', 'borderBottomColor': borderColor,\n            'borderLeftWidth': outerWidth, 'borderRightWidth': outerWidth, 'borderBottomWidth': outerWidth,\n            'borderTopColor': borderColor,\n        });\n        innerWidth = (pointerSize - borderWidth) + 'px';\n        setStyleAttribute(args.element.querySelector('.e-arrow-tip-inner'), {\n            'borderRightColor': 'transparent', 'borderLeftColor': 'transparent', 'borderBottomColor': borderColor,\n            'borderLeftWidth': innerWidth, 'borderRightWidth': innerWidth, 'borderBottomWidth': innerWidth,\n            'left': borderWidth, 'top': 0, 'borderTopColor': this.tooltipOption.fill\n        });\n        setStyleAttribute(args.element, {\n            'display': 'block', 'transitionProperty': 'left,top',\n            'transitionDuration': this.tooltipOption.enableAnimation ? '500ms' : '0ms'\n        });\n        this.tooltip.dataBind();\n    };\n    /**\n     * To update the tooltip element position\n     * @private\n     */\n    AccumulationTooltip.prototype.updatePosition = function (id, x, y, pointId) {\n        var pointElement = getElement(pointId);\n        var translate = pointElement.getAttribute('transform');\n        if (!isNullOrUndefined(translate) && translate !== '') {\n            translate = translate.replace('translate(', '');\n            translate = translate.replace(')', '');\n            var tx = parseInt(translate.split(',')[0], 10);\n            var ty = parseInt(translate.split(',')[1], 10);\n            x = !isNaN(tx) ? tx + x : x;\n            y = !isNaN(ty) ? ty + y : y;\n        }\n        var tooltip = getElement(id);\n        if (tooltip) {\n            tooltip.style.top = y + 'px';\n            tooltip.style.left = x + 'px';\n        }\n        else {\n            tooltip = createElement('div', {\n                id: id,\n                styles: 'position:absolute;left:' + x + 'px;top:' + y +\n                    'px;width:2px;height:2px;background:transparent'\n            });\n            getElement(this.accumulation.element.id + '_Secondary_Element').appendChild(tooltip);\n        }\n    };\n    /**\n     * To get accumulation chart tooltip text from format.\n     */\n    AccumulationTooltip.prototype.getTooltipText = function (point, tooltip, seriesIndex) {\n        var format = tooltip.format ? tooltip.format : '${point.x} : ${point.y}';\n        var series = getSeriesFromIndex(seriesIndex, this.accumulation.visibleSeries);\n        return this.parseTemplate(point, format, series);\n    };\n    /**\n     * To parse the tooltip template\n     */\n    AccumulationTooltip.prototype.parseTemplate = function (point, format, series) {\n        var value;\n        var textValue;\n        for (var _i = 0, _a = Object.keys(point); _i < _a.length; _i++) {\n            var dataValue = _a[_i];\n            value = new RegExp('${point' + '.' + dataValue + '}', 'gm');\n            format = format.replace(value.source, point[dataValue]);\n        }\n        for (var _b = 0, _c = Object.keys(Object.getPrototypeOf(series)); _b < _c.length; _b++) {\n            var dataValue = _c[_b];\n            value = new RegExp('${series' + '.' + dataValue + '}', 'gm');\n            textValue = series[dataValue];\n            format = format.replace(value.source, textValue);\n        }\n        return format;\n    };\n    /**\n     * Get module name\n     */\n    AccumulationTooltip.prototype.getModuleName = function () {\n        return 'AccumulationTooltip';\n    };\n    /**\n     * To destroy the Tooltip.\n     * @return {void}\n     * @private\n     */\n    AccumulationTooltip.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return AccumulationTooltip;\n}());\nexport { AccumulationTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend } from '@syncfusion/ej2-base';\nimport { indexFinder, pointByIndex } from '../model/acc-base';\nimport { Index } from '../../common/model/base';\nimport { BaseSelection } from '../../common/selection/selection';\n/**\n * Selection Module handles the selection for chart.\n * @private\n */\nvar AccumulationSelection = /** @class */ (function (_super) {\n    __extends(AccumulationSelection, _super);\n    function AccumulationSelection(accumulation) {\n        var _this = _super.call(this, accumulation) || this;\n        _this.renderer = accumulation.renderer;\n        return _this;\n    }\n    /**\n     * To initialize the private variables\n     */\n    AccumulationSelection.prototype.initPrivateVariables = function (accumulation) {\n        this.styleId = accumulation.element.id + '_ej2_chart_selection';\n        this.unselected = accumulation.element.id + '_ej2_deselected';\n        this.selectedDataIndexes = [];\n        this.rectPoints = null;\n    };\n    /**\n     * Method to select the point and series.\n     * @return {void}\n     */\n    AccumulationSelection.prototype.invokeSelection = function (accumulation) {\n        this.initPrivateVariables(accumulation);\n        this.series = extend({}, accumulation.visibleSeries, null, true);\n        this.seriesStyles();\n        this.selectDataIndex(this.concatIndexes(accumulation.selectedDataIndexes, this.selectedDataIndexes), accumulation);\n    };\n    /**\n     * To get series selection style by series.\n     */\n    AccumulationSelection.prototype.generateStyle = function (series) {\n        return (series.selectionStyle || this.styleId + '_series_' + series.index);\n    };\n    /**\n     * To get elements by index, series\n     */\n    AccumulationSelection.prototype.findElements = function (accumulation, series, index) {\n        return [this.getElementByIndex(index)];\n    };\n    /**\n     * To get series point element by index\n     */\n    AccumulationSelection.prototype.getElementByIndex = function (index) {\n        var elementId = this.control.element.id + '_Series_' + index.series + '_Point_' + index.point;\n        return document.getElementById(elementId);\n    };\n    /**\n     * To calculate selected elements on mouse click or touch\n     * @private\n     */\n    AccumulationSelection.prototype.calculateSelectedElements = function (accumulation, event) {\n        if (event.target.id.indexOf(accumulation.element.id + '_') === -1) {\n            return;\n        }\n        if (event.target.id.indexOf('_Series_') > -1 || event.target.id.indexOf('_datalabel_') > -1) {\n            this.performSelection(indexFinder(event.target.id), accumulation, event.target);\n        }\n    };\n    /**\n     * To perform the selection process based on index and element.\n     */\n    AccumulationSelection.prototype.performSelection = function (index, accumulation, element) {\n        element = element.id.indexOf('datalabel') > -1 ?\n            accumulation.getSeriesElement().childNodes[index.series].childNodes[index.point]\n            : element;\n        switch (accumulation.selectionMode) {\n            case 'Point':\n                if (!isNaN(index.point)) {\n                    this.selection(accumulation, index, [element]);\n                    this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n                }\n                break;\n        }\n    };\n    /**\n     * To select the element by index. Adding or removing selection style class name.\n     */\n    AccumulationSelection.prototype.selection = function (accumulation, index, selectedElements) {\n        if (!accumulation.isMultiSelect) {\n            this.removeMultiSelectEelments(accumulation, this.selectedDataIndexes, index, accumulation.series);\n        }\n        var className = selectedElements[0] && (selectedElements[0].getAttribute('class') || '');\n        if (selectedElements[0] && className.indexOf(this.getSelectionClass(selectedElements[0].id)) > -1) {\n            this.removeStyles(selectedElements, index);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index);\n        }\n        else {\n            this.applyStyles(selectedElements, index);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index, true);\n        }\n    };\n    /**\n     * To redraw the selection process on accumulation chart refresh.\n     * @private\n     */\n    AccumulationSelection.prototype.redrawSelection = function (accumulation, oldMode) {\n        var selectedDataIndexes = extend([], this.selectedDataIndexes, null, true);\n        this.removeSelectedElements(accumulation, this.selectedDataIndexes);\n        this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n        this.selectDataIndex(selectedDataIndexes, accumulation);\n    };\n    /**\n     * To remove the selected elements style classes by indexes.\n     */\n    AccumulationSelection.prototype.removeSelectedElements = function (accumulation, indexes) {\n        var seriesgroup = accumulation.getSeriesElement();\n        for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\n            var index = indexes_1[_i];\n            this.removeStyles([this.getElementByIndex(index)], index);\n        }\n    };\n    /**\n     * To perform the selection for legend elements.\n     * @private\n     */\n    AccumulationSelection.prototype.legendSelection = function (accumulation, series, pointIndex) {\n        var element = accumulation.getSeriesElement().childNodes[series].childNodes[pointIndex];\n        var seriesStyle = this.generateStyle(accumulation.visibleSeries[series]);\n        var seriesElements = accumulation.getSeriesElement().childNodes[series].childNodes[pointIndex];\n        this.selection(accumulation, new Index(series, pointIndex), [seriesElements]);\n        this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n    };\n    /**\n     * To select the element by selected data indexes.\n     */\n    AccumulationSelection.prototype.selectDataIndex = function (indexes, accumulation) {\n        var element;\n        for (var _i = 0, indexes_2 = indexes; _i < indexes_2.length; _i++) {\n            var index = indexes_2[_i];\n            element = this.getElementByIndex(index);\n            if (element) {\n                this.performSelection(index, accumulation, element);\n            }\n        }\n    };\n    /**\n     * To remove the selection styles for multi selection process.\n     */\n    AccumulationSelection.prototype.removeMultiSelectEelments = function (accumulation, index, currentIndex, seriesCollection) {\n        var series;\n        for (var i = 0; i < index.length; i++) {\n            series = seriesCollection[index[i].series];\n            if (!this.checkEquals(index[i], currentIndex)) {\n                this.removeStyles(this.findElements(accumulation, series, index[i]), index[i]);\n                index.splice(i, 1);\n                i--;\n            }\n        }\n    };\n    /**\n     * To apply the opacity effect for accumulation chart series elements.\n     */\n    AccumulationSelection.prototype.blurEffect = function (pieId, visibleSeries) {\n        var visibility = this.checkPointVisibility(this.selectedDataIndexes); // legend click scenario\n        for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n            var series = visibleSeries_1[_i];\n            if (series.visible) {\n                this.checkSelectionElements(document.getElementById(pieId + '_SeriesCollection'), this.generateStyle(series), visibility);\n            }\n        }\n    };\n    /**\n     * To check selection elements by style class name.\n     */\n    AccumulationSelection.prototype.checkSelectionElements = function (element, className, visibility) {\n        var children = (element.childNodes[0].childNodes);\n        var legendShape;\n        var elementClass;\n        var parentClass;\n        for (var i = 0; i < children.length; i++) {\n            elementClass = children[i].getAttribute('class') || '';\n            parentClass = children[i].parentNode.getAttribute('class') || '';\n            if (elementClass.indexOf(className) === -1 && parentClass.indexOf(className) === -1 && visibility) {\n                this.addSvgClass(children[i], this.unselected);\n            }\n            else {\n                this.removeSvgClass(children[i], this.unselected);\n            }\n            if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + i);\n                if (legendShape) {\n                    if (elementClass.indexOf(className) === -1 && parentClass.indexOf(className) === -1 && visibility) {\n                        this.addSvgClass(legendShape, this.unselected);\n                    }\n                    else {\n                        this.removeSvgClass(legendShape, this.unselected);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To apply selection style for elements.\n     */\n    AccumulationSelection.prototype.applyStyles = function (elements, index) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            var legendShape = void 0;\n            if (element) {\n                if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                    legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + index.point);\n                    this.removeSvgClass(legendShape, this.unselected);\n                    this.addSvgClass(legendShape, this.getSelectionClass(legendShape.id));\n                }\n                this.removeSvgClass(element.parentNode, this.unselected);\n                this.removeSvgClass(element, this.unselected);\n                this.addSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    /**\n     * To get selection style class name by id\n     */\n    AccumulationSelection.prototype.getSelectionClass = function (id) {\n        return this.generateStyle(this.control.series[indexFinder(id).series]);\n    };\n    /**\n     * To remove selection style for elements.\n     */\n    AccumulationSelection.prototype.removeStyles = function (elements, index) {\n        var legendShape;\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            if (element) {\n                if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                    legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + index.point);\n                    this.removeSvgClass(legendShape, this.getSelectionClass(legendShape.id));\n                }\n                this.removeSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    /**\n     * To apply or remove selected elements index.\n     */\n    AccumulationSelection.prototype.addOrRemoveIndex = function (indexes, index, add) {\n        for (var i = 0; i < indexes.length; i++) {\n            if (this.checkEquals(indexes[i], index)) {\n                indexes.splice(i, 1);\n                i--;\n            }\n        }\n        if (add) {\n            indexes.push(index);\n        }\n    };\n    /**\n     * To check two index, point and series are equal\n     */\n    AccumulationSelection.prototype.checkEquals = function (first, second) {\n        return ((first.point === second.point) && (first.series === second.series));\n    };\n    /**\n     * To check selected points are visibility\n     */\n    AccumulationSelection.prototype.checkPointVisibility = function (selectedDataIndexes) {\n        var visible = false;\n        for (var _i = 0, selectedDataIndexes_1 = selectedDataIndexes; _i < selectedDataIndexes_1.length; _i++) {\n            var data = selectedDataIndexes_1[_i];\n            if (pointByIndex(data.point, this.control.visibleSeries[0].points).visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationSelection.prototype.getModuleName = function () {\n        return 'AccumulationSelection';\n    };\n    /**\n     * To destroy the selection.\n     * @return {void}\n     * @private\n     */\n    AccumulationSelection.prototype.destroy = function (accumulation) {\n        // Destroy method performed here\n    };\n    return AccumulationSelection;\n}(BaseSelection));\nexport { AccumulationSelection };\n","/**\n * AccumulationChart annotation properties\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AnnotationBase } from '../../common/annotation/annotation';\nimport { ChartLocation, appendElement } from '../../common/utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\n/**\n * Annotation Module handles the Annotation for accumulation chart.\n */\nvar AccumulationAnnotation = /** @class */ (function (_super) {\n    __extends(AccumulationAnnotation, _super);\n    /**\n     * Constructor for Accumulation chart annotation.\n     * @private.\n     */\n    function AccumulationAnnotation(control, annotations) {\n        var _this = _super.call(this, control) || this;\n        _this.pie = control;\n        _this.annotations = annotations;\n        return _this;\n    }\n    /**\n     * Method to render the annotation for accumulation chart\n     * @param element\n     */\n    AccumulationAnnotation.prototype.renderAnnotations = function (element) {\n        var _this = this;\n        var annotationElement;\n        var location;\n        this.parentElement = createElement('div', {\n            id: this.pie.element.id + '_Annotation_Collections'\n        });\n        this.annotations.map(function (annotation, index) {\n            location = new ChartLocation(0, 0);\n            annotationElement = _this.render(annotation, index);\n            if (_this['setAnnotation' + annotation.coordinateUnits + 'Value'](location)) {\n                _this.setElementStyle(location, annotationElement, _this.parentElement);\n            }\n        });\n        appendElement(this.parentElement, element);\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationAnnotation.prototype.getModuleName = function () {\n        // Returns te module name\n        return 'Annotation';\n    };\n    /**\n     * To destroy the annotation.\n     * @return {void}\n     * @private\n     */\n    AccumulationAnnotation.prototype.destroy = function (control) {\n        // Destroy method performed here\n    };\n    return AccumulationAnnotation;\n}(AnnotationBase));\nexport { AccumulationAnnotation };\n"],"names":["measureText","text","font","htmlObject","document","getElementById","createElement","id","body","appendChild","innerHTML","style","position","fontSize","size","fontWeight","fontStyle","fontFamily","visibility","top","left","whiteSpace","lineHeight","Size","clientWidth","clientHeight","rotateTextSize","angle","chart","box","options","renderer","SvgRenderer","element","font-size","font-style","font-family","font-weight","transform","text-anchor","createText","delayRedraw","svgObject","getBoundingClientRect","remove","right","bottom","removeElement","getElement","logBase","value","base","Math","log","showTooltip","x","y","areaWidth","isTouch","tooltip","width","toString","styles","setTimeout","inside","range","max","min","withIn","withInRange","previousPoint","currentPoint","nextPoint","series","mX2","logWithIn","xValue","xAxis","mX1","mX3","xStart","floor","visibleRange","xEnd","ceil","sum","values","_i","values_1","length","subArraySum","first","last","index","i","indexOf","yName","subtractThickness","rect","thickness","height","subtractRect","degreeToLocation","degree","radius","center","radian","PI","ChartLocation","cos","sin","getAngle","point","atan2","subArray","push","valueToCoefficient","axis","result","isInversed","TransformToVisible","yAxis","isInverted","valueType","labelPlacement","type","CoefficientToVector","valueToPolarCoefficient","primaryXAxis","startAngle","clipRect","coefficient","delta","dateTimeInterval","interval","visibleLabels","createTooltip","setAttribute","createZoomingLabels","parent","isVertical","arrowLocation","direction","opposedPosition","anchor","chartRect","availableSize","endLabel","startLabel","labelStyle","findDirection","Rect","drawPath","PathOption","textElement","TextOption","color","withInBounds","bounds","getValueXByPoint","getValueYByPoint","findClipRect","requireInvertedAxis","firstToLowerCase","str","substr","toLowerCase","getMinPointsDelta","seriesCollection","xValues","minVal","minDelta","Number","MAX_VALUE","forEach","visible","name","xAxisName","points","map","sort","second","xMin","getAnimationFunction","effect","functionName","linear","currentTime","startValue","endValue","duration","markerAnimate","delay","pointIndex","isLabel","centerX","centerY","Animation","animate","progress","args","timeStamp","end","model","removeAttribute","trigger","templateAnimate","isRemove","drawSymbol","location","shape","url","label","temp","calculateShapes","renderOption","path","locX","locY","merge","rx","ry","cx","cy","d","yValue","concat","href","calculateLegendShapes","getRectLocation","startLocation","endLocation","outerRect","abs","minMax","getTemplateFunction","template","templateFn","querySelectorAll","templateComplier","querySelector","trim","e","createTemplate","childElement","content","templateElement","getFontStyle","opacity","measureElementRect","findlElement","elements","length_1","getPoint","xLength","yLength","xvalue","yvalue","appendElement","child","hasChildNodes","getDraggedRectLocation","x1","y1","x2","y2","checkBounds","start","getLabelText","labelFormat","customLabelFormat","match","seriesType","high","low","open","close","median","maximum","minimum","upperQuartile","lowerQuartile","_a","outliers","liers","replace","format","parseFloat","stopTimer","timer","window","clearInterval","isCollide","collections","currentRect","some","isOverlap","containsRect","calculateRect","textSize","margin","convertToHexCode","componentToHex","r","g","b","hex","convertHexToColor","exec","ColorValue","parseInt","colorNameToHex","getComputedStyle","isRGBValue","getSaturationColor","factor","colorCode","rgb","round","getMedian","half","fill","space","stroke","mode","cartesianlarge","cartesiansmall","getAccumulationLegend","textTrim","maxWidth","substring","stringToNumber","containerSize","undefined","rX","rY","arrowPadding","tipX","tipY","tipRadius","startX","startY","isMinus","tspanElement","renderOptions","dominant-baseline","baseLine","len","createTSpan","calculateSize","containerWidth","containerHeight","createSvg","titlePositionX","chartSize","leftPadding","rightPadding","titleStyle","textAlignment","getSeriesColor","theme","palette","getSeriesFromIndex","visibleSeries","visibleSeries_1","pointByIndex","points_1","indexFinder","ids","split","Index","__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","Mean","verticalStandardMean","verticalSquareRoot","horizontalStandardMean","horizontalSquareRoot","verticalMean","horizontalMean","PolarArc","endAngle","innerRadius","currentXPosition","CustomizeOption","StackValues","startValues","endValues","_super","_this","call","dashArray","RectOption","border","CircleOption","PolygonOption","Thickness","PointData","lierIndex","ControlPoints","controlPoint1","controlPoint2","Theme","axisLabelFont","axisTitleFont","chartTitleFont","crosshairLabelFont","tooltipLabelFont","legendLabelFont","stripLineLabelFont","axisLineColor","axisMajorGridLineColor","axisMinorGridLineColor","axisMajorTickLineColor","axisMinorTickLineColor","crossHairLabelColor","chartBackgroundColor","selectionRectFill","selectionRectStroke","__decorate","decorators","target","key","desc","c","arguments","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Connector","apply","Property","ChildProperty","Font","Border","ChartArea","Complex","Margin","Indexes","CornerRadius","seriesIndex","EmptyPointSettings","DoubleRange","mStart","mEnd","get","enumerable","configurable","Double","calculateNumericNiceInterval","actualDesiredIntervalsCount","getActualDesiredIntervalsCount","niceInterval","desiredIntervals","minInterval","pow","intervalDivs","currentInterval","getActualRange","initializeDoubleRange","actualRange","doubleRange","POSITIVE_INFINITY","NEGATIVE_INFINITY","calculateRangeAndInterval","calculateRange","applyRangePadding","calculateVisibleLabels","setRange","series_1","paddingInterval","orientation","rangePadding","findMinMax","yMin","yMax","xMax","padding","getRangePadding","findAdditional","findNormal","updateActualRange","calculateVisibleRange","zoomFactor","zoomPosition","enableAutoIntervalOnZooming","tempInterval","getFormat","isCustom","intl","getNumberFormat","useGrouping","useGroupingSeparator","triggerLabelRender","formatValue","getMaxLabelWidth","isStack100","animationComplete","legendRender","textRender","pointRender","seriesRender","axisLabelRender","tooltipRender","chartMouseMove","chartMouseClick","chartMouseLeave","chartMouseDown","chartMouseUp","zoomComplete","dragComplete","beforePrint","annotationRender","ChartAnnotationSettings","StripLineSettings","Row","axes","nearSizes","farSizes","computeSize","titleSize","title","majorTickLines","maxLabelSize","lineStyle","Column","MajorGridLines","MinorGridLines","AxisLine","MajorTickLines","MinorTickLines","CrosshairTooltip","Axis","axisBottomLine","labelRotation","baseRange","desiredIntervalsCount","maximumLabels","argsData","cancel","VisibleLabels","pointX","previousEnd","isIntersect","action","labelIntersectAction","rotatedLabel","edgeLabelPlacement","findMultiRows","findWrap","currentX","currentLabel","intervalLength","textCollection","labelCollection","store","getModule","baseModule","Collection","originalText","CartesianAxisLayoutPanel","chartModule","measureAxis","seriesClipRect","initialClipRect","leftSize","rightSize","topSize","bottomSize","measureRowAxis","measureColumnAxis","calculateAxisSize","refreshAxis","row","calculateRowSize","rows","arrangeAxis","measureDefinition","computedHeight","column","calculateColumnSize","columns","computedWidth","definition","axis_1","nearCount","farCount","j","len_1","k","len_2","span","computedTop","plotOffset","len_3","len_4","computedLeft","measure","actualIndex","axisCollections","axis_2","verticalAxes","getActualRow","pushAxis","horizontalAxes","getActualColumn","axisCollection","actualLength","pos","columnIndex","rowIndex","rowTop","remainingHeight","columnLeft","remainingWidth","renderAxes","axisElement","createGroup","drawAxisLine","majorGridLines","drawXAxisGridLine","drawXAxisLabels","drawXAxisTitle","drawYAxisGridLine","drawYAxisLabels","drawYAxisTitle","drawBottomLine","isRow","definitionName","optionsLine","stroke-width","drawLine","plotX","plotY","stroke-dasharray","minorDirection","pointY","majorGrid","majorTick","minorGird","minorTick","tickSize","axisLineSize","ticksbwtLabel","isBorder","minorGridLines","minorTickLines","minorTicksPerInterval","drawAxisMinorLine","renderGridLine","renderTickLine","chartArea","startIndex","endIndex","elementSize","labelElement","createZoomingLabel","description","tabIndex","logStart","coor","logInterval","logPosition","findLogNumeric","labelPadding","rotateSize","diffHeight","yLocation","anglePadding","findAxisLabel","parentNode","zoomElement","replaceChild","Points","symbolLocations","regions","regionData","DataLabelSettings","MarkerSettings","Trendline","setDataSource","trendLineModule","initDataSource","visibleSeriesCount","ErrorBarCapSettings","ErrorBarSettings","SeriesBase","currentViewData","processJsonData","keys","textMappingName","Series","marker","dataLabel","processWaterfallData","Infinity","sizeMax","getSeriesType","dataPoint","pushCategoryData","pushData","setEmptyPoint","option","skeleton","dateParser","getDateParser","dateFormatter","getDateFormat","Date","DataUtil","parse","parseJson","val","drawType","splineSeriesModule","findSplinePoint","xData","getValue","xName","volume","findVisibility","isEmpty","emptyPointSettings","yData","isNullOrUndefined","getAverage","yValues","setXYMinMax","setHiloMinMax","filter","a","chartAreaType","isIndexed","labels","member","data","refreshDataManager","query","dataSource","dataModule","getData","generateQuery","requiresCount","then","dataManagerSuccess","count","isRemoteData","interior","recordsCount","refreshChart","refreshTechnicalIndicator","category","trendlines","refreshBound","propName","defaultValue","isArray","isRectSeries","drawPoints","delayedAnimation","refreshAxisLabel","item","_b","_c","findSeriesCollection","isStack","rowSeries","_d","_e","_f","_g","rectSeriesInChart","calculateStackedValue","isStacking100","columnItem","calculateStackingValues","stackingGroup","lastValue","lastPositive","lastNegative","frequencies","findFrequencies","seriesCollection_1","pointsLength","isNaN","percent","toFixed","stackedValues","seriesCollection_2","renderSeries","createSeriesElements","render","errorBar","errorBarModule","dataLabelModule","appendSeriesElement","seriesElements","performAnimation","elementId","explodeValue","markerHeight","markerWidth","clipRectElement","drawCircularClipPath","drawClipPath","symbolElement","seriesElement","clip-path","errorBarElement","dataLabelElements","shapeElement","animation","enable","animateSeries","doAnimation","doErrorBarAnimation","markerRender","doMarkerAnimation","doDataLabelAnimation","setPointColor","setBorderColor","Data","initDataManager","dataManager","DataManager","Query","clone","executeQuery","currentPoints","previousPoints","mouseX","mouseY","getRectPoint","fromCenterX","fromCenterY","clickAngle","distanceFromCenter","arcAngle","sqrt","checkRegionContainsPoint","regionRect","region","getClosest","closest","xData_1","getClosestX","MarkerExplode","addEventListener","isDestroyed","on","Browser","touchMoveEvent","mouseMoveHandler","touchEndEvent","mouseUpHandler","crosshair","markerMove","startMove","explodeSeries","shared","chartAxisLayoutPanel","pointData","chartSeries","enableTooltip","removeHighlightedMarker","_loop_1","data_1","this_1","markerExplode","drawTrackBall","extend","symbolId","borderColor","colorValue","symbol","imageUrl","getElementsByClassName","Marker","renderMarker","shapeOption","isBoxPlot","parentElement","childNodes","markerClipRect","getRangeLowPoint","markerElements","incFactor","lowPoint","Location","LegendSettings","BaseLegend","rowCount","columnCount","pageButtonSize","pageXCollections","maxColumns","isTrimmed","currentPage","legend","legendSettings","legendID","isChartControl","getModuleName","calculateLegendBounds","getPosition","legendBounds","library","getLegendBounds","getLocation","alignment","setBounds","maxItemHeight","legendHeight","legendWidth","marginBottom","alignLegend","legendSize","renderLegend","firstLegend","findFirstLegendPosition","legendCollections","shapeHeight","legendGroup","legendTranslateGroup","createLegendElements","legendSeriesGroup","shapeWidth","textOptions","totalPages","textPadding","shapePadding","previousLegend","legendOption","generateId","getRenderPoint","renderSymbol","renderText","toggleVisibility","selectionMode","isPaging","renderPagingElements","legendCollection","legendCollection_1","background","drawRectangle","legendItemsGroup","clippath","createClipPath","group","symbolColor","markerShape","symbolOption","markerVisibility","fontcolor","textStyle","textOption","paginggroup","iconSize","clipPathHeight","pageTextElement","translatePage","pagingText","page","pageNumber","translate","textContent","changePage","event","pageUp","pageText","prefix","move","targetId","offsetWidth","location_1","removeSvgOffset","clearTimeout","clearTooltip","LegendOptions","TechnicalIndicator","targetSeries","ExportUtils","control","print","printWindow","outerHeight","outerWidth","moveTo","resizeTo","screen","availWidth","availHeight","htmlContent","getHTMLContent","div","cloneNode","Element","export","fileName","attrs","URL","createObjectURL","Blob","XMLSerializer","serializeToString","image","Image","ctx","getContext","onload","drawImage","revokeObjectURL","navigator","msSaveOrOpenBlob","msToBlob","toLocaleLowerCase","imgURI","toDataURL","download","dispatchEvent","MouseEvent","view","bubbles","cancelable","src","TooltipSettings","CrosshairSettings","ZoomSettings","Chart","preRender","unWireEvents","initPrivateVariable","setCulture","setTheme","createChartSvg","wireEvents","refreshDefinition","tooltipModule","calculateAreaType","calculateVisibleSeries","initTechnicalIndicators","initTrendLines","calculateVisibleAxis","processData","getLocalizedLabel","localeObject","getConstant","legendModule","getLegendOptions","isCalculateStacking","rectCount","calculateBounds","renderElements","renderBorder","renderTitle","renderAreaBorder","renderSeriesElements","applyZoomkit","performSelection","setSecondaryElementPosition","renderAnnotation","svgRect","initializeModuleElements","dataLabelCollections","yAxisElements","indicators","indicatorElements","hasTrendlines","trendLineElements","isTrendline","tooltipDiv","indicator","createIndicatorElements","getTrendLineElements","appendSeriesElements","stripLineModule","renderStripLine","zoomModule","isZoomed","applyZoomToolkit","annotationModule","renderAnnotations","selectedDataIndexes","selectionModule","invokeSelection","redrawSelection","check","initializeDataModule","seriesName","techIndicator","titleHeight","trendIndex","trendLine","sourceIndex","initSeriesCollection","isTransposed","polarSeriesModule","radarSeriesModule","primaryYAxis","series_2","initAxis","isSeries","yAxisName","colors","palettes","trimmedTitle","addSeries","refresh","destroy","classList","getPersistData","addOnPersist","removeSvg","startEvent","touchStartEvent","moveEvent","stopEvent","cancelEvent","isPointer","EventHandler","chartOnMouseDown","mouseMove","mouseEnd","chartOnMouseClick","chartRightClick","mouseLeave","removeEventListener","chartResize","add","bind","longPress","Touch","tapHold","tapHoldThreshold","setStyle","crosshairModule","buttons","which","pointerType","preventDefault","stopPropagation","zooming","zoomSettings","disableScroll","enableSelectionZooming","enableMouseWheelZooming","enablePinchZooming","touchAction","msTouchAction","msContentZooming","msUserSelect","webkitUserSelect","display","isOrientation","originalEvent","changedTouches","setMouseXY","notify","pageX","pageY","touchArg","clientX","clientY","chartOnMouseMove","chartOnMouseLeave","isChartDrag","titleTooltip","axisTooltip","texts","offset","isDevice","mouseDownX","previousMouseMoveX","mouseDownY","previousMouseMoveY","isDoubleTap","getTime","threshold","chartOnMouseUp","Internationalization","setLocaleConstants","L10n","defaultLocalConstants","locale","ZoomIn","Zoom","ZoomOut","Pan","Reset","ResetZoom","requiredModules","moduleName","modules","enableAnnotation","errorBarVisible","dataLabelEnable","isLegend","findIndicatorModules","findTrendLineModules","findAxisModule","annotations","datetimeEnabled","categoryEnabled","logarithmicEnabled","striplineEnabled","axisCollections_1","findStriplineVisibility","stripLines","macdEnable","bandEnable","isLine","isSpline","markerEnable","trendline","striplines","striplines_1","removeLength","pinchTarget","removeChild","firstChild","definitions","definitions_1","axisChange","onPropertyChanged","newProp","oldProp","refreshBounds","crosshairTooltip","isMultiSelect","Event","NotifyPropertyChanges","Component","DateTime","datetimeInterval","calculateDateTimeNiceInterval","intervalType","actualIntervalType","getYear","getMonth","getDay","getHour","minute","getMinutes","endMinute","getFullYear","getDate","getHours","getSeconds","endSecond","startYear","endYear","month","endMonth","day","endDay","hour","endHour","increaseDateTimeInterval","alignRangeStart","skeletonType","getSkeleton","setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","sDate","intervalSize","sResult","year","minutes","seconds","startDate","endDate","totalDays","Category","ticks","Logarithmic","isFinite","logEnd","calculateLogNiceInterval","axisFormat","isCustomFormat","StripLine","measureStripLine","stripline","getFromTovalue","startFromAxis","to","from","findValue","getToValue","striplineGroup","axes_1","zIndex","renderRectangle","textMid","ty","rotation","tx","getTextStart","horizontalAlignment","verticalAlignment","invertAlignment","xy","LineBase","improveChartPerformance","tempPoints","xVisibleRange","yVisibleRange","seriesPoints","areaBounds","xTolerance","yTolerance","prevXValue","prevYValue","xVal","yVal","seriesPoints_1","currentPoint_1","appendLinePath","pathElement","doProgressiveAnimation","strokeDashArray","getAttribute","pathLength","getTotalLength","doLinearAnimation","elementHeight","elementWidth","xCenter","yCenter","LineSeries","point1","point2","prevPoint","startPoint","getCoordinate","visiblePoints","visiblePoints_1","isClosed","ColumnBase","getSideBySideInfo","enableSideBySidePlacement","getSideBySidePositions","seriesSpacing","columnSpacing","pointSpacing","columnWidth","getRectangle","findRectPosition","vSeries","updateSymbolLocation","updateYRegion","updateXRegion","triggerEvent","calculateRoundedRectPath","cornerRadius","topLeft","topRight","bottomLeft","bottomRight","rectElements","animateRect","isPlot","lastElementChild","children","childElementCount","ColumnSeries","sideBySideInfo","origin","pointColumn","AreaSeries","firstPoint","endPoint","currentXValue","symbolLocation","BarSeries","pointBar","PolarRadarPanel","drawYAxisLine","vector","axisLine","vector2","drawCircle","minorGirdLine","minorTickLine","labelText","firstLabelX","lastLabelX","textAnchor","majorTickLine","tickOptions","gridOptions","PolarSeries","columnDrawTypeRender","itemCurrentXPos","pointStartAngle","pointEndAngle","dStartX","dStartY","dEndX","dEndY","sumofYValues","rangeInterval","getSeriesPosition","doPolarRadarAnimation","animateElement","chartcenterX","chartcenterY","RadarSeries","StackingBarSeries","stackedValue","pointStack","CandleSeries","borderWidth","centerRegion","tickRegion","getPathString","triggerPointRenderEvent","drawCandle","getCandleColor","enableSolidCandles","bullFillColor","bearFillColor","topRect","midRect","candleElement","StackingColumnSeries","StepLineSeries","pathOptions","lineLength","StepAreaSeries","secondPoint","StackingAreaSeries","lineDirection","stackedvalue","previousSeries","getPreviousSeries","ScatterSeries","RangeColumnSeries","rangePoint","WaterfallSeries","originValue","prevEndValue","currentEndValue","prevRegion","intermediateOrigin","isSum","isIntermediateSum","totalSum","isSumIndex","currentRegion","prevLeft","currentLeft","prevBottom","currentBottom","connector","intermediateSumIndexes","sumIndexes","summaryFillColor","negativeFillColor","json","intermediateSum","sumIndex","HiloSeries","HiloOpenCloseSeries","highLowRect","updateTickRegion","open_1","close_1","drawHiloOpenClosePath","horizontal","RangeAreaSeries","command","closed","highPoint","closeRangeAreaPath","BubbleSeries","segmentRadius","percentChange","maxRadius","minRadius","maximumSize","value_1","bubblePoint","SplineSeries","splinePoints","pt1","pt2","bpt1","bpt2","previous","filterEmptyPoints","getPreviousIndex","getNextIndex","findSplineCoefficients","points_2","getControlPoints","splice","coefficient1","coefficient2","coefficient3","dy1","dy2","interPoint","slopeLength","ySpline","ySplineDuplicate","dx","dy","slope","cardinalSplineTension","splineType","ySpline1","ySpline2","ySplineDuplicate1","ySplineDuplicate2","deltaX2","TechnicalAnalysis","signalLine","setSeriesProperties","indicatorElement","getDataPoint","sourcePoint","macdPositiveColor","macdNegativeColor","getRangePoint","setSeriesRange","SmaIndicator","smaPoints","validData","field","signalSeries","period","average","EmaIndicator","emaPoints","prevAverage","TmaIndicator","tmaPoints","signalSeries_1","validData_1","smaValues","k_1","AccumulationDistributionIndicator","sourceSeries","adPoints","calculateADPoints","AtrIndicator","calculateATRPoints","highLow","highClose","lowClose","trueRange","MomentumIndicator","upperLine","upperCollection","signalCollection","upperSeries","RsiIndicator","showZones","lowerLine","lowerCollection","overBought","overSold","prevClose","gain","loss","close_2","StochasticIndicator","periodLine","lowerSeries","periodCollection","source","calculatePeriod","kPeriod","smaCalculation","dPeriod","pointCollection","lowValues","highValues","closeValues","modifiedSource","mins","maxs","MIN_VALUE","top_1","BollingerBands","rangeArea","bandColor","enableBand","bandCollection","rangeAreaSeries","deviationSum","multiplier","standardDeviation","limit","deviations","bollingerPoints","i_1","sma","i_2","lowerBand","upperBand","j_1","X","mb","lb","ub","MacdIndicator","macdType","macdSeries","macdLine","histogramSeries","macdLineSeries","fastPeriod","slowPeriod","macdCollection","histogramCollection","shortEMA","calculateEMAValues","longEMA","macdValues","getMACDVales","getMACDPoints","signalEMA","getSignalPoints","getHistogramPoints","initialEMA","emaValues","emaPercent","emaAvg","macdPoints","dataMACDIndex","macdIndex","signalEma","dataSignalIndex","signalIndex","shortEma","longEma","diff","dataHistogramIndex","histogramIndex","Trendlines","trendLineSeries","legendShape","createTrendLineElements","trendLineElement","trendPoint","findSlopeIntercept","xAvg","yAvg","xyAvg","xxAvg","yyAvg","intercept","exp","trendlineSeries","setLinearRange","setExponentialRange","setMovingAverageRange","setPolynomialRange","setPowerRange","setLogarithmicRange","slopeIntercept","getExponentialPoints","xLogValue","yLogValue","xPointsLgr","getLogarithmicPoints","xPolyValues","yPolyValues","getPolynomialPoints","powerPoints","getPowerPoints","getLinearPoints","xAvgValues","getMovingAveragePoints","slopeInterceptLog","midPoint","pts","x1Log","backwardForecast","y1Log","x2Log","y2Log","x3Log","forwardForecast","y3Log","slopeInterceptPower","x3","y3","polynomialOrder","polynomialSlopes","subIndex","numArray","matrix","newIndex","nIndex","num2","nIndex2","nnIndex","nnIndex2","gaussJordanElimination","getPoints","nullCount","slopeInterceptLinear","x1Linear","y1Linear","x2Linear","y2Linear","slopeInterceptExp","ptsExp","getPolynomialYValue","slopes","numArray1","numArray2","numArray3","index1","num1","index2","index3","index4","index5","index4_1","num3","num4","iindex4","iandex4","iindex1","iindex2","num","Crosshair","elementID","mouseLeaveHandler","removeCrosshair","isIos","isIos7","disableTrackTooltip","horizontalCross","verticalCross","crossGroup","stopAnimation","valueX","valueY","lineType","axisTooltipGroup","line","renderCrosshairLine","renderAxisTooltip","lastChild","axisGroup","textElem","getAxisText","tooltipLocation","isTop","isBottom","isLeft","isRight","labelValue","tooltipRect","boundsX","boundsY","crosshairInterval","Tooltip","markerPoint","removeTooltip","isTooltip","inverted","updateTemplateFn","formattedText","header","renderGroupedTooltip","renderSeriesTooltip","textElements","className","groupElement","renderPoint","isFirst","firstText","textCollections","getTooltipText","removeText","findHeader","parseTemplate","removeHighlight","highlightPoints","renderTooltip","findMouseValue","firstElement","formatPointValue","elem","seriesTooltipLocation","enableAnimation","isComplete","updateDiv","animateTooltipDiv","extraPoints","tipLocation","getBoxLocation","sharedTooltipLocation","headerSize","pathElement_1","pointRect","isIE","shadowElement","defElement","createDefs","changeText","clipX","clipY","removeRect","highlightPoint","shift","highlight","isRender","lines","tspanOption","subWidth","tspanStyle","headerSpace","isColumn","width_1","drawMarker","markerGroup","textValue","dataValue","RegExp","getPrototypeOf","isXPoint","isYPoint","getIndicatorTooltipFormat","toolTipInterval","tooltipElement","rectOpacity","tooltipGroup","data_2","currenDiff","Toolkit","selectionColor","fillColor","createPanButton","isPanning","panElements","pan","createZoomButton","zoomElements","zoom","createZoomInButton","drawPolygon","polygonDirection","zoomInElements","elementOpacity","zoomIn","createZoomOutButton","zoomOutElements","zoomOut","createResetButton","reset","process","currentTarget","toolkitElements","touchMoveList","touchStartList","zoomInOutCalculation","applySelection","scale","zoomFactor_1","zoomPosition_1","cumulative_1","browserName","info","wheelEvent","toolkit","zoomingRect","zoomAxes","zoomkitOpacity","isIOS","renderZooming","calculateZoomAxesRange","doPan","drawZoomingRectangle","currentScale","translateX","translateY","enableDeferredZooming","setTransform","performZoomRedraw","doZoom","layout","previousZF","previousZP","currentZF","currentZP","zoomRect","previousZoomFactor","previousZoomPosition","currentZoomFactor","currentZoomPosition","performMouseWheelZooming","cumulative","wheelDelta","performPinchZooming","scaleX","scaleY","translateXValue","translateYValue","pinchRect","elementOffset","touchDown","touchMove","touch0StartX","touch0StartY","touch0EndX","touch0EndY","touch1StartX","touch1StartY","touch1EndX","touch1EndY","calculatePinchZoomFactor","selectionMin","selectionMax","rangeMin","rangeMax","axisTrans","actualMin","actualDelta","transX","transY","isPinch","xAxisLoc","yAxisLoc","axisRange","showZoomingToolkit","outerElement","toolboxItems","toolbarItems","xPosition","currentItem","zoomToolkitMove","zoomToolkitLeave","showToolkit","chartMouseWheel","mouseDownHandler","mouseCancelHandler","off","touches","addTouchPointer","touchList","pointerId","length_2","BaseSelection","seriesStyles","seriesclass","styleId","selectionStyle","unselected","concatIndexes","userIndexes","localIndexes","checkVisibility","selectedIndexes","uniqueSeries","selectedIndexes_1","uniqueSeries_1","addSvgClass","elementClassName","removeSvgClass","getChildren","tagName","Selection","completeSelection","calculateSelectedElements","mousedown","rectPoints","dragStart","initPrivateVariables","closeIconId","draggedRectGroup","draggedRect","isSeriesMode","selectDataIndex","generateStyle","indexes","indexes_1","getElementByIndex","suffix","getClusterElements","clusters","findElements","getSeriesElements","selection","blurEffect","clusterSelection","selectedElements","removeMultiSelectEelments","getSelectionClass","removeStyles","addOrRemoveIndex","applyStyles","currentIndex","toEquals","chartId","checkSelectionElements","parentClassName","elements_1","elements_2","checkSeriesOnly","oldMode","removeSelectedElements","legendSelection","seriesStyle","isBlurEffectNeeded","NaN","elements_3","seriesElements_1","calculateDragSelectedElements","dragRect","axisOffset","removeOffset","selectedPointValues","selectedSeriesValues","xAxisOffset_1","yAxisOffset_1","isCurrentPoint","createCloseButton","selectedDataValues","clip","drawDraggingRect","cartesianLayout","closeIcon","setAttributes","dragGroup","removeDraggedElements","changeCursorStyle","resizingSelectionRect","tapped","resize","findResizeMode","resizing","chartSvgObject","cursorStyle","resizeMode","resizeEdges","isResize","rectelement","seriesElements_2","ele","object","keys_1","draggedRectMoved","grabbedPoint","doDrawing","dragging","rectGrabbing","getDragRect","DataLabel","errorHeight","commonId","calculateErrorHeight","positiveHeight","negativeHeight","rgbValue","contrast","yAxisInversed","labelLength","fontBackground","isDataLabelShape","createDataLabelTemplate","calculateTextPosition","isShape","labelIndex","elementRect","labelRegion","getLabelLocation","locationY","alignmentValue","calculateAlignment","calculateRectPosition","locationX","calculatePathPosition","calculatePolarRectPosition","columnRadius","labelLocation","textLength","extraSpace","calculateRectActualPosition","calculateTopAndOuterPosition","calculatePathActualPosition","labelRect","isOverLap","collection","finalPosition","updateLabelLocation","markerSize","positionIndex","intersectY","shapeElements","textNode","ErrorBar","renderErrorBar","capId","errorbar","errorBarCap","errorDirection","point_1","errorX","errorY","verticalError","horizontalError","capOption","capPath","findLocation","horizontalPositiveError","verticalPositiveError","horizontalNegativeError","verticalNegativeError","error","getErrorDirection","calculateFixedValue","calculatePercentageValue","calculateStandardDeviationValue","getMean","meanCalculation","calculateStandardErrorValue","calculateCustomValue","getHorizontalDirection","mid","errorMode","capLength","capDirection","getVerticalDirection","getBothDirection","pathH","pathV","paths","verStandardMean","horStandardMean","verSquareRoot","horSquareRoot","sumOfX","sumOfY","errorBarClipRect","errorBarElements","Legend","click","visibleSeriesCollection","visibleSeriesCollection_1","extraHeight","extraWidth","legendEventArgs","maximumWidth","rowWidth","columnHeight","prevLegend","previousBound","availwidth","LegendClick","refreshSeries","legendItemsId_1","AnnotationBase","annotation","isChart","setAnnotationPixelValue","accumulationBound","setAnnotationPointValue","isLog","setAccumulationPointValue","accPoint","setElementStyle","setAlignmentValue","ChartAnnotation","annotationElement","coordinateUnits","BoxAndWhiskerSeries","centerRegion_1","findBoxPlotValues","boxPlotMode","updateTipRegion","renderBoxAndWhisker","tipRegion","updateTipSize","midWidth","midHeight","topWidth","topHeight","showMean","yCount","quartile","getExclusiveQuartileValue","getInclusiveQuartileValue","getQuartileValues","getMinMaxOutlier","percentile","rank","integerRank","fractionRank","isEvenList","halfLength","lowerQuartileArray","slice","upperQuartileArray","rangeIQR","AccumulationAnnotationSettings","AccumulationDataLabelSettings","AccumulationTooltipSettings","AccPoints","labelVisible","AccumulationSeries","sumOfPoints","accumulation","resultData","seriesCounts","findSumOfPoints","sumOfClub","clubValue","groupTo","setPoints","isClub","pushPoints","lastGroupTo","clubPoint","setAccEmptyPoint","seriesGroup","renderPoints","datalabelGroup","accumulationDataLabelModule","renderDataLabel","findMaxBounds","labelBound","pieSeriesModule","accumulationLegendModule","explodeDistance","pointId","getSeriesElement","findAreaRect","totalbound","bound","next","AccumulationBase","pieCenter","set","pieRadius","pieLabelRadius","labelRadius","isCircular","getTooltipPoint","elementFromPoint","accumulationTooltipModule","isDataLabel","processExplode","labelPosition","explodePoints","deExplodeAll","invokeExplode","explodeAll","explodeIndex","accumulationSelectionModule","deExplodeSlice","explode","midAngle","isExplode","explodeSlice","sliceId","setTranslate","setElementTransform","PieBase","initProperties","initAngles","connectorStyle","explodeOffset","findCenter","defaultLabelBound","totalAngle","accumulationRect","getSeriesBound","accumulationRectCenter","total","getRectFromAngle","nextQuandrant","lastQuadrant","getPathArc","flag","getDoughnutPath","getPiePath","clockWise","innerStart","innerEnd","PieSeries","getPathOption","groupId","clipslice","AccumulationChart","accBaseModule","isIE11Pointer","stop","accumulationMouseMove","accumulationMouseEnd","accumulationMouseStart","accumulationOnMouseClick","accumulationRightClick","accumulationMouseLeave","accumulationResize","fadeOutTooltip","previousSize","currentSize","createPieSvg","createSecondaryElement","doGrouppingProcess","processSelection","tooltipParent","targetElement","getSmartLegendLocation","getElementsByTagName","refreshPoints","findDatalabelVisibility","update","refreshElements","TriangularBase","actualChartArea","triangleSize","neckSize","neckWidth","neckHeight","initializeSizeRatio","reverse","gapRatio","coEff","spacing","yRatio","heightRatio","setLabelLocation","labelOffset","findPath","locations","FunnelSeries","getSegmentData","lineWidth","topRadius","bottomRadius","endTop","endBottom","endMin","bottomY","area","emptySpaceAtLeft","seriesTop","line3","line6","polygon","PyramidSeries","pyramidMode","calculateSurfaceSegments","sumOfValues","gapHeight","preSum","getSurfaceHeight","currY","coef","surface","solveQuadraticEquation","root1","root2","sd","AccumulationLegend","titleRect","totalRowCount","getMaxColumn","maxPageColumn","maxColumnWidth","columns_1","getAvailWidth","legendX","availablewidth","legendBound","getTitleRect","legendByIndex","legendCollections_1","legendItemsId","currentSeries","AccumulationDataLabel","getDataLabelPosition","getLabelDistance","getLabelRegion","marginValue","labelAngle","enableSmartLabels","getSmartLabel","circular","findPreviousPoint","isOverlapping","isConnectorLineOverlapping","setOuterSmartLabel","setPointVisibileFalse","textTrimming","areaRect","textsize","getOverlappedAngle","setSmartLabelForSegments","distance","textRegion","overlapHeight","getEdgeOfLabel","previousstart","previousend","isLineRectangleIntersect","line1","line2","isLinesIntersect","point11","point12","a1","b1","c1","a2","b2","c2","lies","getConnectorPath","getConnectorStartPoint","middle","getPolyLinePath","controlPoints","t","getBezierPoint","p0","p1","labelshape","edge","isTemplate","getTemplateSize","correctLabelRegion","setTemplateStyle","getSaturatedColor","clientRect","labelColor","doTemplateAnimation","saturatedColor","getLabelBackground","backgroundColor","AccumulationTooltip","tooltipOption","opensOn","beforeOpen","tooltipCustomization","openDelay","closeDelay","appendTo","setTemplateFunction","tooltipIndex","updatePosition","getTooltipContent","templates","innerWidth","pointerSize","setStyleAttribute","borderRadius","pointer-events","offsetHeight","borderRightColor","borderLeftColor","borderBottomColor","borderLeftWidth","borderRightWidth","borderBottomWidth","borderTopColor","transitionProperty","transitionDuration","dataBind","AccumulationSelection","indexes_2","checkEquals","pieId","checkPointVisibility","elementClass","parentClass","selectedDataIndexes_1","AccumulationAnnotation","pie"],"mappings":"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"}