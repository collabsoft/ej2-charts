{"version":3,"file":"ej2-charts.umd.min.js","sources":["src/es5/common/model/theme.js","src/es5/common/utils/helper.js","src/es5/accumulation-chart/model/acc-base.js","src/es5/common/model/base.js","src/es5/chart/utils/double-range.js","src/es5/chart/axis/double-axis.js","src/es5/common/model/constants.js","src/es5/chart/model/chart-base.js","src/es5/chart/axis/axis.js","src/es5/chart/axis/cartesian-panel.js","src/es5/chart/utils/get-data.js","src/es5/chart/series/chart-series.js","src/es5/common/model/data.js","src/es5/chart/series/marker-explode.js","src/es5/chart/series/marker.js","src/es5/common/legend/legend.js","src/es5/chart/technical-indicators/technical-indicator.js","src/es5/common/utils/export.js","src/es5/chart/chart.js","src/es5/chart/axis/axis-helper.js","src/es5/chart/axis/date-time-axis.js","src/es5/chart/axis/category-axis.js","src/es5/chart/axis/logarithmic-axis.js","src/es5/chart/axis/date-time-category-axis.js","src/es5/chart/axis/strip-line.js","src/es5/chart/series/line-base.js","src/es5/chart/series/line-series.js","src/es5/chart/series/column-base.js","src/es5/chart/series/column-series.js","src/es5/chart/series/multi-colored-base.js","src/es5/chart/series/area-series.js","src/es5/chart/series/bar-series.js","src/es5/chart/axis/polar-radar-panel.js","src/es5/chart/series/polar-series.js","src/es5/chart/series/radar-series.js","src/es5/chart/series/stacking-bar-series.js","src/es5/chart/series/candle-series.js","src/es5/chart/series/stacking-column-series.js","src/es5/chart/series/step-line-series.js","src/es5/chart/series/step-area-series.js","src/es5/chart/series/stacking-area-series.js","src/es5/chart/series/scatter-series.js","src/es5/chart/series/range-column-series.js","src/es5/chart/series/waterfall-series.js","src/es5/chart/series/hilo-series.js","src/es5/chart/series/hilo-open-close-series.js","src/es5/chart/series/range-area-series.js","src/es5/chart/series/bubble-series.js","src/es5/chart/series/spline-base.js","src/es5/chart/series/spline-series.js","src/es5/chart/series/spline-area-series.js","src/es5/chart/technical-indicators/indicator-base.js","src/es5/chart/technical-indicators/sma-indicator.js","src/es5/chart/technical-indicators/ema-indicator.js","src/es5/chart/technical-indicators/tma-indicator.js","src/es5/chart/technical-indicators/ad-indicator.js","src/es5/chart/technical-indicators/atr-indicator.js","src/es5/chart/technical-indicators/momentum-indicator.js","src/es5/chart/technical-indicators/rsi-indicator.js","src/es5/chart/technical-indicators/stochastic-indicator.js","src/es5/chart/technical-indicators/bollinger-bands.js","src/es5/chart/technical-indicators/macd-indicator.js","src/es5/chart/trend-lines/trend-line.js","src/es5/chart/user-interaction/crosshair.js","src/es5/common/user-interaction/tooltip.js","src/es5/chart/user-interaction/tooltip.js","src/es5/chart/user-interaction/zooming-toolkit.js","src/es5/chart/user-interaction/zooming.js","src/es5/common/user-interaction/selection.js","src/es5/chart/user-interaction/selection.js","src/es5/chart/series/data-label.js","src/es5/chart/series/error-bar.js","src/es5/chart/legend/legend.js","src/es5/common/annotation/annotation.js","src/es5/chart/annotation/annotation.js","src/es5/chart/series/box-and-whisker-series.js","src/es5/chart/series/multi-colored-area-series.js","src/es5/chart/series/multi-colored-line-series.js","src/es5/chart/axis/multi-level-labels.js","src/es5/accumulation-chart/renderer/accumulation-base.js","src/es5/accumulation-chart/renderer/pie-base.js","src/es5/accumulation-chart/renderer/pie-series.js","src/es5/accumulation-chart/accumulation.js","src/es5/accumulation-chart/renderer/triangular-base.js","src/es5/accumulation-chart/renderer/funnel-series.js","src/es5/accumulation-chart/renderer/pyramid-series.js","src/es5/accumulation-chart/renderer/legend.js","src/es5/accumulation-chart/renderer/dataLabel.js","src/es5/accumulation-chart/user-interaction/tooltip.js","src/es5/accumulation-chart/user-interaction/selection.js","src/es5/accumulation-chart/annotation/annotation.js"],"sourcesContent":["/**\n * Specifies Chart Themes\n */\nexport var Theme;\n(function (Theme) {\n    /** @private */\n    Theme.axisLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisTitleFont = {\n        size: '14px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.chartTitleFont = {\n        size: '15px',\n        fontWeight: '500',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.crosshairLabelFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.tooltipLabelFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.legendLabelFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.stripLineLabelFont = {\n        size: '12px',\n        fontWeight: 'Regular',\n        color: '#353535',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n})(Theme || (Theme = {}));\n/** @private */\nexport function getSeriesColor(theme) {\n    var palette;\n    switch (theme) {\n        case 'Fabric':\n            palette = ['#4472c4', '#ed7d31', '#ffc000', '#70ad47', '#5b9bd5',\n                '#c1c1c1', '#6f6fe2', '#e269ae', '#9e480e', '#997300'];\n            break;\n        case 'Bootstrap':\n            palette = ['#a16ee5', '#f7ce69', '#55a5c2', '#7ddf1e', '#ff6ea6',\n                '#7953ac', '#b99b4f', '#407c92', '#5ea716', '#b91c52'];\n            break;\n        case 'Highcontrast':\n            palette = ['#79ECE4', '#E98272', '#DFE6B6', '#C6E773', '#BA98FF',\n                '#FA83C3', '#00C27A', '#43ACEF', '#D681EF', '#D8BC6E'];\n            break;\n        default:\n            palette = ['#00bdae', '#404041', '#357cd2', '#e56590', '#f8b883',\n                '#70ad47', '#dd8abd', '#7f84e8', '#7bb4eb', '#ea7a57'];\n            break;\n    }\n    return palette;\n}\n/** @private */\nexport function getThemeColor(theme) {\n    var style;\n    switch (theme) {\n        case 'Highcontrast':\n            style = {\n                axisLabel: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLine: '#ffffff',\n                majorGridLine: '#BFBFBF',\n                minorGridLine: '#969696',\n                majorTickLine: '#BFBFBF',\n                minorTickLine: '#969696',\n                chartTitle: '#ffffff',\n                legendLabel: '#ffffff',\n                background: '#000000',\n                areaBorder: '#ffffff',\n                errorBar: '#ffffff',\n                crosshairLine: '#ffffff',\n                crosshairFill: '#ffffff',\n                crosshairLabel: '#000000',\n                tooltipFill: '#ffffff',\n                tooltipBoldLabel: '#000000',\n                tooltipLightLabel: '#000000',\n                tooltipHeaderLine: '#969696',\n                markerShadow: '#BFBFBF',\n                selectionRectFill: 'rgba(255, 217, 57, 0.3)',\n                selectionRectStroke: '#ffffff',\n                selectionCircleStroke: '#FFD939'\n            };\n            break;\n        default:\n            style = {\n                axisLabel: '#686868',\n                axisTitle: '#424242',\n                axisLine: '#b5b5b5',\n                majorGridLine: '#dbdbdb',\n                minorGridLine: '#eaeaea',\n                majorTickLine: '#b5b5b5',\n                minorTickLine: '#d6d6d6',\n                chartTitle: '#424242',\n                legendLabel: '#353535',\n                background: '#FFFFFF',\n                areaBorder: 'Gray',\n                errorBar: '#000000',\n                crosshairLine: '#4f4f4f',\n                crosshairFill: '#4f4f4f',\n                crosshairLabel: '#e5e5e5',\n                tooltipFill: 'rgba(0, 8, 22, 0.75)',\n                tooltipBoldLabel: '#ffffff',\n                tooltipLightLabel: '#dbdbdb',\n                tooltipHeaderLine: '#ffffff',\n                markerShadow: null,\n                selectionRectFill: 'rgba(41, 171, 226, 0.1)',\n                selectionRectStroke: '#29abe2',\n                selectionCircleStroke: '#29abe2'\n            };\n            break;\n    }\n    return style;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { SvgRenderer, Animation, compile as templateComplier } from '@syncfusion/ej2-base';\nimport { merge, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { createElement, remove } from '@syncfusion/ej2-base';\nimport { Index } from '../../common/model/base';\n/**\n * Methods for calculating the text size.\n */\n/**\n * Function to measure the height and width of the text.\n * @param  {string} text\n * @param  {FontModel} font\n * @param  {string} id\n * @returns no\n * @private\n */\nexport function measureText(text, font) {\n    var htmlObject = document.getElementById('chartmeasuretext');\n    if (htmlObject === null) {\n        htmlObject = createElement('text', { id: 'chartmeasuretext' });\n        document.body.appendChild(htmlObject);\n    }\n    htmlObject.innerHTML = text;\n    htmlObject.style.position = 'absolute';\n    htmlObject.style.fontSize = font.size;\n    htmlObject.style.fontWeight = font.fontWeight;\n    htmlObject.style.fontStyle = font.fontStyle;\n    htmlObject.style.fontFamily = font.fontFamily;\n    htmlObject.style.visibility = 'hidden';\n    htmlObject.style.top = '-100';\n    htmlObject.style.left = '0';\n    htmlObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    htmlObject.style.lineHeight = 'normal';\n    return new Size(htmlObject.clientWidth, htmlObject.clientHeight);\n}\n/**\n * Function to sort the dataSource, by default it sort the data in ascending order.\n * @param  {Object} data\n * @param  {string} fields\n * @param  {boolean} isDescending\n * @returns Object\n */\nexport function sort(data, fields, isDescending) {\n    var sortData = extend([], data, null);\n    sortData.sort(function (a, b) {\n        var first = 0;\n        var second = 0;\n        for (var i = 0; i < fields.length; i++) {\n            first += a[fields[i]];\n            second += b[fields[i]];\n        }\n        if ((!isDescending && first < second) || (isDescending && first > second)) {\n            return -1;\n        }\n        else if (first === second) {\n            return 0;\n        }\n        return 1;\n    });\n    return sortData;\n}\n/** @private */\nexport function rotateTextSize(font, text, angle, chart) {\n    var renderer = new SvgRenderer(chart.element.id);\n    var box;\n    var options;\n    var htmlObject;\n    options = {\n        'font-size': font.size,\n        'font-style': font.fontStyle,\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight,\n        'transform': 'rotate(' + angle + ', 0, 0)',\n        'text-anchor': 'middle'\n    };\n    htmlObject = renderer.createText(options, text);\n    if (!chart.delayRedraw) {\n        chart.element.appendChild(chart.svgObject);\n    }\n    chart.svgObject.appendChild(htmlObject);\n    box = htmlObject.getBoundingClientRect();\n    remove(htmlObject);\n    if (!chart.delayRedraw) {\n        remove(chart.svgObject);\n    }\n    return new Size((box.right - box.left), (box.bottom - box.top));\n}\n/** @private */\nexport function removeElement(id) {\n    var element = getElement(id);\n    if (element) {\n        remove(element);\n    }\n}\n/** @private */\nexport function logBase(value, base) {\n    return Math.log(value) / Math.log(base);\n}\n/** @private */\nexport function showTooltip(text, x, y, areaWidth, id, element, isTouch) {\n    //let id1: string = 'EJ2_legend_tooltip';\n    var tooltip = document.getElementById(id);\n    var width = measureText(text, {\n        fontFamily: 'Segoe UI', size: '12px',\n        fontStyle: 'Normal', fontWeight: 'Regular'\n    }).width + 5;\n    x = (x + width > areaWidth) ? x - width : x;\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            innerHTML: text,\n            id: id,\n            styles: 'top:' + (y + 15).toString() + 'px;left:' + (x + 15).toString() + 'px;background-color: rgb(255, 255, 255);' +\n                'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;' +\n                'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: \"Segoe UI\"'\n        });\n        element.appendChild(tooltip);\n    }\n    else {\n        tooltip.innerHTML = text;\n        tooltip.style.top = (y + 15).toString() + 'px';\n        tooltip.style.left = (x + 15).toString() + 'px';\n    }\n    if (isTouch) {\n        setTimeout(function () { removeElement(id); }, 1500);\n    }\n}\n/** @private */\nexport function inside(value, range) {\n    return (value < range.max) && (value > range.min);\n}\n/** @private */\nexport function withIn(value, range) {\n    return (value <= range.max) && (value >= range.min);\n}\n/** @private */\nexport function withInRange(previousPoint, currentPoint, nextPoint, series) {\n    var mX2 = series.logWithIn(currentPoint.xValue, series.xAxis);\n    var mX1 = previousPoint ? series.logWithIn(previousPoint.xValue, series.xAxis) : mX2;\n    var mX3 = nextPoint ? series.logWithIn(nextPoint.xValue, series.xAxis) : mX2;\n    var xStart = Math.floor(series.xAxis.visibleRange.min);\n    var xEnd = Math.ceil(series.xAxis.visibleRange.max);\n    return ((mX1 >= xStart && mX1 <= xEnd) || (mX2 >= xStart && mX2 <= xEnd) ||\n        (mX3 >= xStart && mX3 <= xEnd) || (xStart >= mX1 && xStart <= mX3));\n}\n/** @private */\nexport function sum(values) {\n    var sum = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        sum += value;\n    }\n    return sum;\n}\n/** @private */\nexport function subArraySum(values, first, last, index, series) {\n    var sum = 0;\n    if (index !== null) {\n        for (var i = (first + 1); i < last; i++) {\n            if (index.indexOf(i) === -1) {\n                sum += values[i][series.yName];\n            }\n        }\n    }\n    else {\n        for (var i = (first + 1); i < last; i++) {\n            if (!isNullOrUndefined(values[i][series.yName])) {\n                sum += values[i][series.yName];\n            }\n        }\n    }\n    return sum;\n}\n/** @private */\nexport function subtractThickness(rect, thickness) {\n    rect.x += thickness.left;\n    rect.y += thickness.top;\n    rect.width -= thickness.left + thickness.right;\n    rect.height -= thickness.top + thickness.bottom;\n    return rect;\n}\n/** @private */\nexport function subtractRect(rect, thickness) {\n    rect.x += thickness.x;\n    rect.y += thickness.y;\n    rect.width -= thickness.x + thickness.width;\n    rect.height -= thickness.y + thickness.height;\n    return rect;\n}\n/** @private */\nexport function degreeToLocation(degree, radius, center) {\n    var radian = (degree * Math.PI) / 180;\n    return new ChartLocation(Math.cos(radian) * radius + center.x, Math.sin(radian) * radius + center.y);\n}\nfunction getAccumulationLegend(locX, locY, r, height, width, mode) {\n    var cartesianlarge = degreeToLocation(270, r, new ChartLocation(locX, locY));\n    var cartesiansmall = degreeToLocation(270, r, new ChartLocation(locX + (width / 10), locY));\n    return 'M' + ' ' + locX + ' ' + locY + ' ' + 'L' + ' ' + (locX + r) + ' ' + (locY) + ' ' + 'A' + ' ' + (r) + ' ' + (r) +\n        ' ' + 0 + ' ' + 1 + ' ' + 1 + ' ' + cartesianlarge.x + ' ' + cartesianlarge.y + ' ' + 'Z' + ' ' + 'M' + ' ' + (locX +\n        (width / 10)) + ' ' + (locY - (height / 10)) + ' ' + 'L' + (locX + (r)) + ' ' + (locY - height / 10) + ' ' + 'A' + ' '\n        + (r) + ' ' + (r) + ' ' + 0 + ' ' + 0 + ' ' + 0 + ' ' + cartesiansmall.x + ' ' + cartesiansmall.y + ' ' + 'Z';\n}\n/** @private */\nexport function getAngle(center, point) {\n    var angle = Math.atan2((point.y - center.y), (point.x - center.x));\n    angle = angle < 0 ? (6.283 + angle) : angle;\n    return angle * (180 / Math.PI);\n}\n/** @private */\nexport function subArray(values, index) {\n    var subArray = [];\n    for (var i = 0; i <= index - 1; i++) {\n        subArray.push(values[i]);\n    }\n    return subArray;\n}\n/** @private */\nexport function valueToCoefficient(value, axis) {\n    var range = axis.visibleRange;\n    var result = (value - range.min) / (range.delta);\n    return axis.isInversed ? (1 - result) : result;\n}\n/** @private */\nexport function TransformToVisible(x, y, xAxis, yAxis, isInverted, series) {\n    x = (xAxis.valueType === 'Logarithmic' ? logBase(x > 1 ? x : 1, xAxis.logBase) : x);\n    y = (yAxis.valueType === 'Logarithmic' ?\n        logBase(y > 1 ? y : 1, yAxis.logBase) : y);\n    x += xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks' && series.type !== 'Radar' ? 0.5 : 0;\n    var radius = series.chart.radius * valueToCoefficient(y, yAxis);\n    var point = CoefficientToVector(valueToPolarCoefficient(x, xAxis), series.chart.primaryXAxis.startAngle);\n    return {\n        x: (series.clipRect.width / 2 + series.clipRect.x) + radius * point.x,\n        y: (series.clipRect.height / 2 + series.clipRect.y) + radius * point.y\n    };\n}\n/**\n * method to find series, point index by element id\n * @private\n */\nexport function indexFinder(id, isPoint) {\n    if (isPoint === void 0) { isPoint = false; }\n    var ids = ['NaN', 'NaN'];\n    if (id.indexOf('_Point_') > -1) {\n        ids = id.split('_Series_')[1].split('_Point_');\n    }\n    else if (id.indexOf('_shape_') > -1 && (!isPoint || (isPoint && id.indexOf('_legend_') === -1))) {\n        ids = id.split('_shape_');\n        ids[0] = '0';\n    }\n    else if (id.indexOf('_text_') > -1 && (!isPoint || (isPoint && id.indexOf('_legend_') === -1))) {\n        ids = id.split('_text_');\n        ids[0] = '0';\n    }\n    return new Index(parseInt(ids[0], 10), parseInt(ids[1], 10));\n}\n/** @private */\nexport function CoefficientToVector(coefficient, startAngle) {\n    startAngle = startAngle < 0 ? startAngle + 360 : startAngle;\n    var angle = Math.PI * (1.5 - 2 * coefficient);\n    angle = angle + (startAngle * Math.PI) / 180;\n    return { x: Math.cos(angle), y: Math.sin(angle) };\n}\n/** @private */\nexport function valueToPolarCoefficient(value, axis) {\n    var range = axis.visibleRange;\n    var delta;\n    var length;\n    if (axis.valueType !== 'Category') {\n        delta = (range.max - (axis.valueType === 'DateTime' ? axis.dateTimeInterval : range.interval)) - range.min;\n        length = axis.visibleLabels.length - 1;\n        delta = delta === 0 ? 1 : delta;\n    }\n    else {\n        delta = range.delta;\n        length = axis.visibleLabels.length;\n    }\n    return axis.isInversed ? ((value - range.min) / delta) * (1 - 1 / (length)) :\n        1 - ((value - range.min) / delta) * (1 - 1 / (length));\n}\n/** @private */\nvar Mean = /** @class */ (function () {\n    function Mean(verticalStandardMean, verticalSquareRoot, horizontalStandardMean, horizontalSquareRoot, verticalMean, horizontalMean) {\n        this.verticalStandardMean = verticalStandardMean;\n        this.horizontalStandardMean = horizontalStandardMean;\n        this.verticalSquareRoot = verticalSquareRoot;\n        this.horizontalSquareRoot = horizontalSquareRoot;\n        this.verticalMean = verticalMean;\n        this.horizontalMean = horizontalMean;\n    }\n    return Mean;\n}());\nexport { Mean };\n/** @private */\nvar PolarArc = /** @class */ (function () {\n    function PolarArc(startAngle, endAngle, innerRadius, radius, currentXPosition) {\n        this.startAngle = startAngle;\n        this.endAngle = endAngle;\n        this.innerRadius = innerRadius;\n        this.radius = radius;\n        this.currentXPosition = currentXPosition;\n    }\n    return PolarArc;\n}());\nexport { PolarArc };\n/** @private */\nexport function createTooltip(id, text, top, left, fontSize) {\n    var tooltip = getElement(id);\n    var style = 'top:' + top.toString() + 'px;' +\n        'left:' + left.toString() + 'px;' +\n        'background:' + '#FFFFFF' + ';' +\n        'position:absolute;border:1px solid #707070;font-size:' + fontSize + ';border-radius:2px;';\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            id: id, innerHTML: '&nbsp;' + text + '&nbsp;', styles: style\n        });\n        document.body.appendChild(tooltip);\n    }\n    else {\n        tooltip.setAttribute('innerHTML', '&nbsp;' + text + '&nbsp;');\n        tooltip.setAttribute('styles', style);\n    }\n}\n/** @private */\nexport function createZoomingLabels(chart, axis, parent, index, isVertical, rect) {\n    var margin = 5;\n    var opposedPosition = axis.opposedPosition;\n    var anchor = isVertical ? 'start' : 'auto';\n    var size;\n    var chartRect = chart.availableSize.width;\n    var x;\n    var y;\n    var rx = 3;\n    var arrowLocation;\n    var direction;\n    for (var i = 0; i < 2; i++) {\n        size = measureText(i ? axis.endLabel : axis.startLabel, axis.labelStyle);\n        if (isVertical) {\n            arrowLocation = i ? new ChartLocation(rect.x, rect.y + rx) :\n                new ChartLocation(axis.rect.x, (rect.y + rect.height - rx));\n            x = (rect.x + (opposedPosition ? (rect.width + margin) : -(size.width + margin + margin)));\n            y = (rect.y + (i ? 0 : rect.height - size.height - margin));\n            x += (x < 0 || ((chartRect) < (x + size.width + margin))) ? (opposedPosition ? -(size.width / 2) : size.width / 2) : 0;\n            direction = findDirection(rx, rx, new Rect(x, y, size.width + margin, size.height + margin), arrowLocation, margin, false, false, !opposedPosition, arrowLocation.x, arrowLocation.y + (i ? -rx : rx));\n        }\n        else {\n            arrowLocation = i ? new ChartLocation((rect.x + rect.width - rx), (rect.y + rect.height)) :\n                new ChartLocation(rect.x + rx, (rect.y + rect.height));\n            x = (rect.x + (i ? (rect.width - size.width - margin) : 0));\n            y = (opposedPosition ? (rect.y - size.height - 10) : (rect.y + rect.height + margin));\n            direction = findDirection(rx, rx, new Rect(x, y, size.width + margin, size.height + margin), arrowLocation, margin, opposedPosition, !opposedPosition, false, arrowLocation.x + (i ? rx : -rx), arrowLocation.y);\n        }\n        x = x + (margin / 2);\n        y = y + (3 * (size.height / 4)) + (margin / 2);\n        parent.appendChild(chart.renderer.drawPath(new PathOption(chart.element.id + '_Zoom_' + index + '_AxisLabel_Shape_' + i, '#414141', 2, '#414141', 1, null, direction)));\n        textElement(new TextOption(chart.element.id + '_Zoom_' + index + '_AxisLabel_' + i, x, y, anchor, i ? axis.endLabel : axis.startLabel), { color: 'white', fontFamily: 'Segoe UI', fontWeight: 'Regular', size: '11px' }, 'white', parent);\n    }\n    return parent;\n}\n//Within bounds\n/** @private */\nexport function withInBounds(x, y, bounds, width, height) {\n    if (width === void 0) { width = 0; }\n    if (height === void 0) { height = 0; }\n    return (x >= bounds.x - width && x <= bounds.x + bounds.width + width && y >= bounds.y - height\n        && y <= bounds.y + bounds.height + height);\n}\n/** @private */\nexport function getValueXByPoint(value, size, axis) {\n    var actualValue = !axis.isInversed ? value / size : (1 - (value / size));\n    return actualValue * (axis.visibleRange.delta) + axis.visibleRange.min;\n}\n/** @private */\nexport function getValueYByPoint(value, size, axis) {\n    var actualValue = axis.isInversed ? value / size : (1 - (value / size));\n    return actualValue * (axis.visibleRange.delta) + axis.visibleRange.min;\n}\n/** @private */\nexport function findClipRect(series) {\n    var rect = series.clipRect;\n    if (series.chart.requireInvertedAxis) {\n        rect.x = series.yAxis.rect.x;\n        rect.y = series.xAxis.rect.y;\n        rect.width = series.yAxis.rect.width;\n        rect.height = series.xAxis.rect.height;\n    }\n    else {\n        rect.x = series.xAxis.rect.x;\n        rect.y = series.yAxis.rect.y;\n        rect.width = series.xAxis.rect.width;\n        rect.height = series.yAxis.rect.height;\n    }\n}\n/** @private */\nexport function firstToLowerCase(str) {\n    return str.substr(0, 1).toLowerCase() + str.substr(1);\n}\n/** @private */\nexport function getMinPointsDelta(axis, seriesCollection) {\n    var minDelta = Number.MAX_VALUE;\n    var xValues;\n    var minVal;\n    seriesCollection.forEach(function (series, index) {\n        xValues = [];\n        if (series.visible &&\n            (axis.name === series.xAxisName || (axis.name === 'primaryXAxis' && series.xAxisName === null)\n                || (axis.name === series.chart.primaryXAxis.name && !series.xAxisName))) {\n            xValues = series.points.map(function (point, index) {\n                return point.xValue;\n            });\n            xValues.sort(function (first, second) { return first - second; });\n            if (xValues.length === 1) {\n                minVal = xValues[0] - ((series.xMin && series.xAxis.valueType !== 'DateTime') ?\n                    series.xMin : axis.visibleRange.min);\n                if (minVal !== 0) {\n                    minDelta = Math.min(minDelta, minVal);\n                }\n            }\n            else {\n                xValues.forEach(function (value, index, xValues) {\n                    if (index > 0 && value) {\n                        minVal = value - xValues[index - 1];\n                        if (minVal !== 0) {\n                            minDelta = Math.min(minDelta, minVal);\n                        }\n                    }\n                });\n            }\n        }\n    });\n    if (minDelta === Number.MAX_VALUE) {\n        minDelta = 1;\n    }\n    return minDelta;\n}\n/** @private */\nexport function getAnimationFunction(effect) {\n    var functionName;\n    switch (effect) {\n        case 'Linear':\n            functionName = linear;\n            break;\n    }\n    return functionName;\n}\n/**\n * Animation Effect Calculation Started Here\n * @param currentTime\n * @param startValue\n * @param endValue\n * @param duration\n * @private\n */\nexport function linear(currentTime, startValue, endValue, duration) {\n    return -endValue * Math.cos(currentTime / duration * (Math.PI / 2)) + endValue + startValue;\n}\n/**\n * Animation Effect Calculation End\n * @private\n */\nexport function markerAnimate(element, delay, duration, series, pointIndex, point, isLabel) {\n    var centerX = point.x;\n    var centerY = point.y;\n    var height = 0;\n    element.style.visibility = 'hidden';\n    new Animation({}).animate(element, {\n        duration: duration,\n        delay: delay,\n        progress: function (args) {\n            if (args.timeStamp > args.delay) {\n                args.element.style.visibility = 'visible';\n                height = ((args.timeStamp - args.delay) / args.duration);\n                element.setAttribute('transform', 'translate(' + centerX\n                    + ' ' + centerY + ') scale(' + height + ') translate(' + (-centerX) + ' ' + (-centerY) + ')');\n            }\n        },\n        end: function (model) {\n            element.style.visibility = '';\n            element.removeAttribute('transform');\n            if ((series.type === 'Scatter' || series.type === 'Bubble') && !isLabel && (pointIndex === series.points.length - 1)) {\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        }\n    });\n}\n/**\n * Animation for template\n * @private\n */\nexport function templateAnimate(element, delay, duration, name, isRemove) {\n    new Animation({}).animate(element, {\n        duration: duration,\n        delay: delay,\n        name: name,\n        progress: function (args) {\n            args.element.style.visibility = 'visible';\n        },\n        end: function (args) {\n            if (isRemove) {\n                remove(args.element);\n            }\n            else {\n                args.element.style.visibility = 'visible';\n            }\n        },\n    });\n}\n/** @private */\nexport function drawSymbol(location, shape, size, url, options, label) {\n    var functionName = 'Path';\n    var renderer = new SvgRenderer('');\n    var temp = calculateShapes(location, size, shape, options, url);\n    var htmlObject = renderer['draw' + temp.functionName](temp.renderOption);\n    htmlObject.setAttribute('aria-label', label);\n    return htmlObject;\n}\n/** @private */\nexport function calculateShapes(location, size, shape, options, url) {\n    var path;\n    var functionName = 'Path';\n    var width = size.width;\n    var height = size.height;\n    var locX = location.x;\n    var locY = location.y;\n    var x = location.x + (-width / 2);\n    var y = location.y + (-height / 2);\n    switch (shape) {\n        case 'Circle':\n        case 'Bubble':\n            functionName = 'Ellipse';\n            merge(options, { 'rx': width / 2, 'ry': height / 2, 'cx': locX, 'cy': locY });\n            break;\n        case 'Cross':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + locY + ' ' +\n                'M' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + locX + ' ' +\n                (locY + (-height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'HorizontalLine':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + locY;\n            merge(options, { 'd': path });\n            break;\n        case 'VerticalLine':\n            path = 'M' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + locX + ' ' + (locY + (-height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'Diamond':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + locY + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + locY + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Rectangle':\n        case 'Hilo':\n        case 'HiloOpenClose':\n        case 'Candle':\n        case 'Waterfall':\n        case 'BoxAndWhisker':\n        case 'StepArea':\n            path = 'M' + ' ' + x + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (-height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pyramid':\n        case 'Triangle':\n            path = 'M' + ' ' + x + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Funnel':\n        case 'InvertedTriangle':\n            path = 'M' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + (locX - (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pentagon':\n            var eq = 72;\n            var xValue = void 0;\n            var yValue = void 0;\n            for (var i = 0; i <= 5; i++) {\n                xValue = (width / 2) * Math.cos((Math.PI / 180) * (i * eq));\n                yValue = (height / 2) * Math.sin((Math.PI / 180) * (i * eq));\n                if (i === 0) {\n                    path = 'M' + ' ' + (locX + xValue) + ' ' + (locY + yValue) + ' ';\n                }\n                else {\n                    path = path.concat('L' + ' ' + (locX + xValue) + ' ' + (locY + yValue) + ' ');\n                }\n            }\n            path = path.concat('Z');\n            merge(options, { 'd': path });\n            break;\n        case 'Image':\n            functionName = 'Image';\n            merge(options, { 'href': url, 'height': height, 'width': width, x: x, y: y });\n            break;\n    }\n    options = calculateLegendShapes(location, new Size(width, height), shape, options).renderOption;\n    return { renderOption: options, functionName: functionName };\n}\n/** @private */\nexport function getRectLocation(startLocation, endLocation, outerRect) {\n    var x;\n    var y;\n    x = (endLocation.x < outerRect.x) ? outerRect.x :\n        (endLocation.x > (outerRect.x + outerRect.width)) ? outerRect.x + outerRect.width : endLocation.x;\n    y = (endLocation.y < outerRect.y) ? outerRect.y :\n        (endLocation.y > (outerRect.y + outerRect.height)) ? outerRect.y + outerRect.height : endLocation.y;\n    return new Rect((x > startLocation.x ? startLocation.x : x), (y > startLocation.y ? startLocation.y : y), Math.abs(x - startLocation.x), Math.abs(y - startLocation.y));\n}\n/** @private */\nexport function minMax(value, min, max) {\n    return value > max ? max : (value < min ? min : value);\n}\n/** @private */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/** @private */\nexport function getTemplateFunction(template) {\n    var templateFn = null;\n    var e;\n    try {\n        if (document.querySelectorAll(template).length) {\n            templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\n        }\n    }\n    catch (e) {\n        templateFn = templateComplier(template);\n    }\n    return templateFn;\n}\n/** @private */\nexport function createTemplate(childElement, pointIndex, content, chart, point, series) {\n    var templateFn;\n    var templateElement;\n    templateFn = getTemplateFunction(content);\n    try {\n        if (templateFn && templateFn({ chart: chart, series: series, point: point }).length) {\n            templateElement = templateFn({ chart: chart, series: series, point: point });\n            while (templateElement.length > 0) {\n                childElement.appendChild(templateElement[0]);\n            }\n        }\n    }\n    catch (e) {\n        return childElement;\n    }\n    return childElement;\n}\n/** @private */\nexport function getFontStyle(font) {\n    var style = '';\n    style = 'font-size:' + font.size +\n        '; font-style:' + font.fontStyle + '; font-weight:' + font.fontWeight +\n        '; font-family:' + font.fontFamily + ';opacity:' + font.opacity +\n        '; color:' + font.color + ';';\n    return style;\n}\n/** @private */\nexport function measureElementRect(element) {\n    var bounds;\n    document.body.appendChild(element);\n    bounds = element.getBoundingClientRect();\n    removeElement(element.id);\n    return bounds;\n}\n/** @private */\nexport function findlElement(elements, id) {\n    var element;\n    for (var i = 0, length_1 = elements.length; i < length_1; i++) {\n        if (elements[i].id.indexOf(id) > -1) {\n            element = elements[i];\n            continue;\n        }\n    }\n    return element;\n}\n/** @private */\nexport function getPoint(x, y, xAxis, yAxis, isInverted, series) {\n    x = ((xAxis.valueType === 'Logarithmic') ? logBase(((x > 1) ? x : 1), xAxis.logBase) : x);\n    y = ((yAxis.valueType === 'Logarithmic') ? logBase(((y > 1) ? y : 1), yAxis.logBase) : y);\n    x = valueToCoefficient(x, xAxis);\n    y = valueToCoefficient(y, yAxis);\n    var xLength = (isInverted ? xAxis.rect.height : xAxis.rect.width);\n    var yLength = (isInverted ? yAxis.rect.width : yAxis.rect.height);\n    var locationX = isInverted ? y * (yLength) : x * (xLength);\n    var locationY = isInverted ? (1 - x) * (xLength) : (1 - y) * (yLength);\n    return new ChartLocation(locationX, locationY);\n}\n/** @private */\nexport function appendElement(child, parent) {\n    if (child && child.hasChildNodes() && parent) {\n        parent.appendChild(child);\n    }\n    else {\n        return null;\n    }\n}\n/** @private */\nexport function getDraggedRectLocation(x1, y1, x2, y2, outerRect) {\n    var width = Math.abs(x1 - x2);\n    var height = Math.abs(y1 - y2);\n    var x = Math.max(checkBounds(Math.min(x1, x2), width, outerRect.x, outerRect.width), outerRect.x);\n    var y = Math.max(checkBounds(Math.min(y1, y2), height, outerRect.y, outerRect.height), outerRect.y);\n    return new Rect(x, y, Math.min(width, outerRect.width), Math.min(height, outerRect.height));\n}\n/** @private */\nexport function checkBounds(start, size, min, max) {\n    if (start < min) {\n        start = min;\n    }\n    else if ((start + size) > (max + min)) {\n        start = (max + min) - size;\n    }\n    return start;\n}\n/** @private */\nexport function getLabelText(currentPoint, series, chart) {\n    var labelFormat = series.yAxis.labelFormat;\n    var text = [];\n    var customLabelFormat = labelFormat.match('{value}') !== null;\n    switch (series.seriesType) {\n        case 'XY':\n            text.push(currentPoint.text || currentPoint.yValue.toString());\n            break;\n        case 'HighLow':\n            text.push(currentPoint.text || Math.max(currentPoint.high, currentPoint.low).toString());\n            text.push(currentPoint.text || Math.min(currentPoint.high, currentPoint.low).toString());\n            break;\n        case 'HighLowOpenClose':\n            text.push(currentPoint.text || Math.max(currentPoint.high, currentPoint.low).toString());\n            text.push(currentPoint.text || Math.min(currentPoint.high, currentPoint.low).toString());\n            text.push(currentPoint.text || Math.max(currentPoint.open, currentPoint.close).toString());\n            text.push(currentPoint.text || Math.min(currentPoint.open, currentPoint.close).toString());\n            break;\n        case 'BoxPlot':\n            text.push(currentPoint.text || currentPoint.median.toString());\n            text.push(currentPoint.text || currentPoint.maximum.toString());\n            text.push(currentPoint.text || currentPoint.minimum.toString());\n            text.push(currentPoint.text || currentPoint.upperQuartile.toString());\n            text.push(currentPoint.text || currentPoint.lowerQuartile.toString());\n            for (var _i = 0, _a = currentPoint.outliers; _i < _a.length; _i++) {\n                var liers = _a[_i];\n                text.push(currentPoint.text || liers.toString());\n            }\n            break;\n    }\n    if (labelFormat && !currentPoint.text) {\n        for (var i = 0; i < text.length; i++) {\n            text[i] = customLabelFormat ? labelFormat.replace('{value}', series.yAxis.format(parseFloat(text[i]))) :\n                series.yAxis.format(parseFloat(text[i]));\n        }\n    }\n    return text;\n}\n/** @private */\nexport function stopTimer(timer) {\n    window.clearInterval(timer);\n}\n/** @private */\nexport function isCollide(rect, collections, clipRect) {\n    var isCollide;\n    var currentRect = new Rect(rect.x + clipRect.x, rect.y + clipRect.y, rect.width, rect.height);\n    isCollide = collections.some(function (rect) {\n        return (currentRect.x < rect.x + rect.width && currentRect.x + currentRect.width > rect.x &&\n            currentRect.y < rect.y + rect.height && currentRect.height + currentRect.y > rect.y);\n    });\n    return isCollide;\n}\n/** @private */\nexport function isOverlap(currentRect, rect) {\n    return (currentRect.x < rect.x + rect.width && currentRect.x + currentRect.width > rect.x &&\n        currentRect.y < rect.y + rect.height && currentRect.height + currentRect.y > rect.y);\n}\n/** @private */\nexport function containsRect(currentRect, rect) {\n    return (currentRect.x <= rect.x && currentRect.x + currentRect.width >= rect.x + rect.width &&\n        currentRect.y <= rect.y && currentRect.height + currentRect.y >= rect.y + rect.height);\n}\n/** @private */\nexport function calculateRect(location, textSize, margin) {\n    return new Rect((location.x - (textSize.width / 2) - margin.left), (location.y - (textSize.height / 2) - margin.top), textSize.width + margin.left + margin.right, textSize.height + margin.top + margin.bottom);\n}\n/** @private */\nexport function convertToHexCode(value) {\n    return '#' + componentToHex(value.r) + componentToHex(value.g) + componentToHex(value.b);\n}\n/** @private */\nexport function componentToHex(value) {\n    var hex = value.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n}\n/** @private */\nexport function convertHexToColor(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? new ColorValue(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) :\n        new ColorValue(255, 255, 255);\n}\n/** @private */\nexport function colorNameToHex(color) {\n    var element;\n    color = color === 'transparent' ? 'white' : color;\n    element = document.getElementById('chartmeasuretext');\n    element.style.color = color;\n    color = window.getComputedStyle(element).color;\n    var exp = /^(rgb|hsl)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/;\n    var isRGBValue = exp.exec(color);\n    return convertToHexCode(new ColorValue(parseInt(isRGBValue[3], 10), parseInt(isRGBValue[4], 10), parseInt(isRGBValue[5], 10)));\n}\n/** @private */\nexport function getSaturationColor(color, factor) {\n    color = colorNameToHex(color);\n    color = color.replace(/[^0-9a-f]/gi, '');\n    if (color.length < 6) {\n        color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n    }\n    factor = factor || 0;\n    // convert to decimal and change luminosity\n    var rgb = '#';\n    var colorCode;\n    for (var i = 0; i < 3; i++) {\n        colorCode = parseInt(color.substr(i * 2, 2), 16);\n        colorCode = Math.round(Math.min(Math.max(0, colorCode + (colorCode * factor)), 255));\n        rgb += ('00' + colorCode.toString(16)).substr(colorCode.toString(16).length);\n    }\n    return rgb;\n}\n/** @private */\nexport function getMedian(values) {\n    var half = Math.floor(values.length / 2);\n    return values.length % 2 ? values[half] : ((values[half - 1] + values[half]) / 2.0);\n}\n/** @private */\n// tslint:disable-next-line:max-func-body-length\nexport function calculateLegendShapes(location, size, shape, options) {\n    var padding = 10;\n    var path = '';\n    var height = size.height;\n    var width = size.width;\n    var locX = location.x;\n    var locY = location.y;\n    switch (shape) {\n        case 'MultiColoredLine':\n        case 'Line':\n            path = 'M' + ' ' + (locX + (-width / 2)) + ' ' + (locY) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY);\n            merge(options, { 'd': path });\n            break;\n        case 'StepLine':\n            options.fill = 'transparent';\n            path = 'M' + ' ' + (locX + (-width / 2) - (padding / 4)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX +\n                (-width / 2) + (width / 10)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX + (-width / 2) + (width / 10))\n                + ' ' + (locY) + ' ' + 'L' + ' ' + (locX + (-width / 10)) + ' ' + (locY) + ' ' + 'L' + ' ' + (locX + (-width / 10))\n                + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX + (width / 5)) + ' ' + (locY + (height / 2)) + ' ' + 'L' +\n                ' ' + (locX + (width / 5)) + ' ' + (locY + (-height / 2)) + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + (locY +\n                (-height / 2)) + 'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + '' + (locX + (width / 2)\n                + (padding / 4)) + ' ' + (locY + (height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'RightArrow':\n            var space = 2;\n            path = 'M' + ' ' + (locX + (-width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY) + ' ' + 'L' + ' ' +\n                (locX + (-width / 2)) + ' ' + (locY + (height / 2)) + ' L' + ' ' + (locX + (-width / 2)) + ' ' +\n                (locY + (height / 2) - space) + ' ' + 'L' + ' ' + (locX + (width / 2) - (2 * space)) + ' ' + (locY) +\n                ' L' + (locX + (-width / 2)) + ' ' + (locY - (height / 2) + space) + ' Z';\n            merge(options, { 'd': path });\n            break;\n        case 'LeftArrow':\n            options.fill = options.stroke;\n            options.stroke = 'transparent';\n            space = 2;\n            path = 'M' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (-width / 2)) + ' ' + (locY) + ' ' + 'L' + ' ' +\n                (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' +\n                (locX + (width / 2)) + ' ' + (locY + (height / 2) - space) + ' L' + ' ' + (locX + (-width / 2) + (2 * space))\n                + ' ' + (locY) + ' L' + (locX + (width / 2)) + ' ' + (locY - (height / 2) + space) + ' Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Column':\n        case 'StackingColumn':\n        case 'StackingColumn100':\n        case 'RangeColumn':\n            path = 'M' + ' ' + (locX - 3 * (width / 5)) + ' ' + (locY - (height / 5)) + ' ' + 'L' + ' ' +\n                (locX + 3 * (-width / 10)) + ' ' + (locY - (height / 5)) + ' ' + 'L' + ' ' +\n                (locX + 3 * (-width / 10)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX - 3 *\n                (width / 5)) + ' ' + (locY + (height / 2)) + ' ' + 'Z' + ' ' + 'M' + ' ' +\n                (locX + (-width / 10) - (width / 20)) + ' ' + (locY - (height / 4) - (padding / 2))\n                + ' ' + 'L' + ' ' + (locX + (width / 10) + (width / 20)) + ' ' + (locY - (height / 4) -\n                (padding / 2)) + ' ' + 'L' + ' ' + (locX + (width / 10) + (width / 20)) + ' ' + (locY\n                + (height / 2)) + ' ' + 'L' + ' ' + (locX + (-width / 10) - (width / 20)) + ' ' + (locY +\n                (height / 2)) + ' ' + 'Z' + ' ' + 'M' + ' ' + (locX + 3 * (width / 10)) + ' ' + (locY) + ' ' +\n                'L' + ' ' + (locX + 3 * (width / 5)) + ' ' + (locY) + ' ' + 'L' + ' '\n                + (locX + 3 * (width / 5)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' '\n                + (locX + 3 * (width / 10)) + ' ' + (locY + (height / 2)) + ' ' + 'Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Bar':\n        case 'StackingBar':\n        case 'StackingBar100':\n            path = 'M' + ' ' + (locX + (-width / 2) + (-padding / 4)) + ' ' + (locY - 3 * (height / 5)) + ' '\n                + 'L' + ' ' + (locX + 3 * (width / 10)) + ' ' + (locY - 3 * (height / 5)) + ' ' + 'L' + ' ' +\n                (locX + 3 * (width / 10)) + ' ' + (locY - 3 * (height / 10)) + ' ' + 'L' + ' ' +\n                (locX - (width / 2) + (-padding / 4)) + ' ' + (locY - 3 * (height / 10)) + ' ' + 'Z' + ' '\n                + 'M' + ' ' + (locX + (-width / 2) + (-padding / 4)) + ' ' + (locY - (height / 5)\n                + (padding / 20)) + ' ' + 'L' + ' ' + (locX + (width / 2) + (padding / 4)) + ' ' + (locY\n                - (height / 5) + (padding / 20)) + ' ' + 'L' + ' ' + (locX + (width / 2) + (padding / 4))\n                + ' ' + (locY + (height / 10) + (padding / 20)) + ' ' + 'L' + ' ' + (locX - (width / 2)\n                + (-padding / 4)) + ' ' + (locY + (height / 10) + (padding / 20)) + ' ' + 'Z' + ' ' + 'M'\n                + ' ' + (locX - (width / 2) + (-padding / 4)) + ' ' + (locY + (height / 5)\n                + (padding / 10)) + ' ' + 'L' + ' ' + (locX + (-width / 4)) + ' ' + (locY + (height / 5)\n                + (padding / 10)) + ' ' + 'L' + ' ' + (locX + (-width / 4)) + ' ' + (locY + (height / 2)\n                + (padding / 10)) + ' ' + 'L' + ' ' + (locX - (width / 2) + (-padding / 4))\n                + ' ' + (locY + (height / 2) + (padding / 10)) + ' ' + 'Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Spline':\n            options.fill = 'transparent';\n            path = 'M' + ' ' + (locX - (width / 2)) + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' '\n                + locX + ' ' + (locY - height) + ' ' + locX + ' ' + (locY + (height / 5))\n                + ' ' + 'M' + ' ' + locX + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' ' + (locX\n                + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' + (locX + (width / 2)) + ' '\n                + (locY - (height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'Area':\n        case 'MultiColoredArea':\n        case 'RangeArea':\n        case 'StackingArea':\n        case 'StackingArea100':\n            path = 'M' + ' ' + (locX - (width / 2) - (padding / 4)) + ' ' + (locY + (height / 2))\n                + ' ' + 'L' + ' ' + (locX + (-width / 4) + (-padding / 8)) + ' ' + (locY - (height / 2))\n                + ' ' + 'L' + ' ' + (locX) + ' ' + (locY + (height / 4)) + ' ' + 'L' + ' ' + (locX\n                + (width / 4) + (padding / 8)) + ' ' + (locY + (-height / 2) + (height / 4)) + ' '\n                + 'L' + ' ' + (locX + (height / 2) + (padding / 4)) + ' ' + (locY + (height / 2)) + ' ' + 'Z';\n            merge(options, { 'd': path });\n            break;\n        case 'SplineArea':\n            path = 'M' + ' ' + (locX - (width / 2)) + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' ' + locX\n                + ' ' + (locY - height) + ' ' + locX + ' ' + (locY + (height / 5)) + ' ' + 'Z' + ' ' + 'M'\n                + ' ' + locX + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' ' + (locX + (width / 2)) + ' '\n                + (locY + (height / 2)) + ' ' + (locX + (width / 2)) + ' '\n                + (locY - (height / 2)) + ' ' + ' Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pie':\n        case 'Doughnut':\n            options.stroke = 'transparent';\n            var r = Math.min(height, width) / 2;\n            path = getAccumulationLegend(locX, locY, r, height, width, shape);\n            merge(options, { 'd': path });\n            break;\n    }\n    return { renderOption: options };\n}\n/** @private */\nexport function textTrim(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var i = textLength - 1; i >= 0; --i) {\n            label = text.substring(0, i) + '...';\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nexport function stringToNumber(value, containerSize) {\n    if (value !== null && value !== undefined) {\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\n    }\n    return null;\n}\n/** @private */\nexport function findDirection(rX, rY, rect, arrowLocation, arrowPadding, top, bottom, left, tipX, tipY, tipRadius) {\n    var direction = '';\n    var startX = rect.x;\n    var startY = rect.y;\n    var width = rect.x + rect.width;\n    var height = rect.y + rect.height;\n    tipRadius = tipRadius ? tipRadius : 0;\n    if (top) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + startY + ' ' + (startX + rX) + ' ' + startY + ' ' +\n            ' L' + ' ' + (width - rX) + ' ' + (startY) + ' Q ' + width + ' '\n            + startY + ' ' + (width) + ' ' + (startY + rY));\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + width + ' '\n            + (height) + ' ' + (width - rX) + ' ' + (height));\n        if (arrowPadding !== 0) {\n            direction = direction.concat(' L' + ' ' + (arrowLocation.x + arrowPadding / 2) + ' ' + (height));\n            direction = direction.concat(' L' + ' ' + (tipX + tipRadius) + ' ' + (height + arrowPadding - tipRadius));\n            direction += ' Q' + ' ' + (tipX) + ' ' + (height + arrowPadding) + ' ' + (tipX - tipRadius) +\n                ' ' + (height + arrowPadding - tipRadius);\n        }\n        if ((arrowLocation.x - arrowPadding / 2) > startX) {\n            direction = direction.concat(' L' + ' ' + (arrowLocation.x - arrowPadding / 2) + ' ' + height +\n                ' L' + ' ' + (startX + rX) + ' ' + height + ' Q ' + startX + ' '\n                + height + ' ' + (startX) + ' ' + (height - rY) + ' z');\n        }\n        else {\n            if (arrowPadding === 0) {\n                direction = direction.concat(' L' + ' ' + (startX + rX) + ' ' + height + ' Q ' + startX + ' '\n                    + height + ' ' + (startX) + ' ' + (height - rY) + ' z');\n            }\n            else {\n                direction = direction.concat(' L' + ' ' + (startX) + ' ' + (height + rY) + ' z');\n            }\n        }\n    }\n    else if (bottom) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + (startY) + ' ' + (startX + rX) + ' ' + (startY) + ' L' + ' ' + (arrowLocation.x - arrowPadding / 2) + ' ' + (startY));\n        direction = direction.concat(' L' + ' ' + (tipX - tipRadius) + ' ' + (arrowLocation.y + tipRadius));\n        direction += ' Q' + ' ' + (tipX) + ' ' + (arrowLocation.y) + ' ' + (tipX + tipRadius) + ' ' + (arrowLocation.y + tipRadius);\n        direction = direction.concat(' L' + ' ' + (arrowLocation.x + arrowPadding / 2) + ' ' + (startY) + ' L' + ' '\n            + (width - rX) + ' ' + (startY) + ' Q ' + (width) + ' ' + (startY) + ' ' + (width) + ' ' + (startY + rY));\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + (width) + ' '\n            + (height) + ' ' + (width - rX) + ' ' + (height) +\n            ' L' + ' ' + (startX + rX) + ' ' + (height) + ' Q ' + (startX) + ' '\n            + (height) + ' ' + (startX) + ' ' + (height - rY) + ' z');\n    }\n    else if (left) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + (startY) + ' ' + (startX + rX) + ' ' + (startY));\n        direction = direction.concat(' L' + ' ' + (width - rX) + ' ' + (startY) + ' Q ' + (width) + ' '\n            + (startY) + ' ' + (width) + ' ' + (startY + rY) + ' L' + ' ' + (width) + ' ' + (arrowLocation.y - arrowPadding / 2));\n        direction = direction.concat(' L' + ' ' + (width + arrowPadding - tipRadius) + ' ' + (tipY - tipRadius));\n        direction += ' Q ' + (width + arrowPadding) + ' ' + (tipY) + ' ' + (width + arrowPadding - tipRadius) + ' ' + (tipY + tipRadius);\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (arrowLocation.y + arrowPadding / 2) +\n            ' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + width + ' ' + (height) + ' ' + (width - rX) + ' ' + (height));\n        direction = direction.concat(' L' + ' ' + (startX + rX) + ' ' + (height) + ' Q ' + startX + ' '\n            + (height) + ' ' + (startX) + ' ' + (height - rY) + ' z');\n    }\n    else {\n        direction = direction.concat('M' + ' ' + (startX + rX) + ' ' + (startY) + ' Q ' + (startX) + ' '\n            + (startY) + ' ' + (startX) + ' ' + (startY + rY) + ' L' + ' ' + (startX) + ' ' + (arrowLocation.y - arrowPadding / 2));\n        direction = direction.concat(' L' + ' ' + (startX - arrowPadding + tipRadius) + ' ' + (tipY - tipRadius));\n        direction += ' Q ' + (startX - arrowPadding) + ' ' + (tipY) + ' ' + (startX - arrowPadding + tipRadius) + ' ' + (tipY + tipRadius);\n        direction = direction.concat(' L' + ' ' + (startX) + ' ' + (arrowLocation.y + arrowPadding / 2) +\n            ' L' + ' ' + (startX) + ' ' + (height - rY) + ' Q ' + startX + ' '\n            + (height) + ' ' + (startX + rX) + ' ' + (height));\n        direction = direction.concat(' L' + ' ' + (width - rX) + ' ' + (height) + ' Q ' + width + ' '\n            + (height) + ' ' + (width) + ' ' + (height - rY) +\n            ' L' + ' ' + (width) + ' ' + (startY + rY) + ' Q ' + width + ' '\n            + (startY) + ' ' + (width - rX) + ' ' + (startY) + ' z');\n    }\n    return direction;\n}\n/** @private */\nexport function textElement(options, font, color, parent, isMinus) {\n    if (isMinus === void 0) { isMinus = false; }\n    var renderOptions = {};\n    var htmlObject;\n    var tspanElement;\n    var renderer = new SvgRenderer('');\n    var text;\n    var height;\n    renderOptions = {\n        'id': options.id,\n        'x': options.x,\n        'y': options.y,\n        'fill': color,\n        'font-size': font.size,\n        'font-style': font.fontStyle,\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight,\n        'text-anchor': options.anchor,\n        'transform': options.transform,\n        'opacity': font.opacity,\n        'dominant-baseline': options.baseLine\n    };\n    text = typeof options.text === 'string' ? options.text : isMinus ? options.text[options.text.length - 1] : options.text[0];\n    htmlObject = renderer.createText(renderOptions, text);\n    if (typeof options.text !== 'string' && options.text.length > 1) {\n        for (var i = 1, len = options.text.length; i < len; i++) {\n            height = (measureText(options.text[i], font).height);\n            tspanElement = renderer.createTSpan({\n                'x': options.x, 'id': options.id,\n                'y': (options.y) + ((isMinus) ? -(i * height) : (i * height))\n            }, isMinus ? options.text[options.text.length - (i + 1)] : options.text[i]);\n            htmlObject.appendChild(tspanElement);\n        }\n    }\n    parent.appendChild(htmlObject);\n    return htmlObject;\n}\n/**\n * Method to calculate the width and height of the chart\n */\nexport function calculateSize(chart) {\n    var containerWidth = chart.element.clientWidth;\n    var containerHeight = chart.element.clientHeight;\n    chart.availableSize = new Size(stringToNumber(chart.width, containerWidth) || containerWidth || 600, stringToNumber(chart.height, containerHeight) || containerHeight || 450);\n}\nexport function createSvg(chart) {\n    chart.renderer = new SvgRenderer(chart.element.id);\n    calculateSize(chart);\n    chart.svgObject = chart.renderer.createSvg({\n        id: chart.element.id + '_svg',\n        width: chart.availableSize.width,\n        height: chart.availableSize.height\n    });\n}\n/**\n * To calculate chart title and height\n * @param title\n * @param style\n * @param width\n */\nexport function getTitle(title, style, width) {\n    var titleCollection = [];\n    switch (style.textOverflow) {\n        case 'Wrap':\n            titleCollection = textWrap(title, width, style);\n            break;\n        case 'Trim':\n            titleCollection.push(textTrim(width, title, style));\n            break;\n        default:\n            titleCollection.push(title);\n            break;\n    }\n    return titleCollection;\n}\n/**\n * Method to calculate x position of title\n */\nexport function titlePositionX(chartSize, leftPadding, rightPadding, titleStyle) {\n    var positionX;\n    if (titleStyle.textAlignment === 'Near') {\n        positionX = leftPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionX = chartSize.width / 2;\n    }\n    else {\n        positionX = chartSize.width - rightPadding;\n    }\n    return positionX;\n}\n/**\n * Method to find new text and element size based on textOverflow\n */\nexport function textWrap(currentLabel, maximumWidth, font) {\n    var textCollection = currentLabel.split(' ');\n    var label = '';\n    var labelCollection = [];\n    var text;\n    for (var i = 0, len = textCollection.length; i < len; i++) {\n        text = textCollection[i];\n        if (measureText(label.concat(text), font).width < maximumWidth) {\n            label = label.concat((label === '' ? '' : ' ') + text);\n        }\n        else {\n            if (label !== '') {\n                labelCollection.push(textTrim(maximumWidth, label, font));\n                label = text;\n            }\n            else {\n                labelCollection.push(textTrim(maximumWidth, text, font));\n                text = '';\n            }\n        }\n        if (label && i === len - 1) {\n            labelCollection.push(textTrim(maximumWidth, label, font));\n        }\n    }\n    return labelCollection;\n}\n/** @private */\nvar CustomizeOption = /** @class */ (function () {\n    function CustomizeOption(id) {\n        this.id = id;\n    }\n    return CustomizeOption;\n}());\nexport { CustomizeOption };\n/** @private */\nvar StackValues = /** @class */ (function () {\n    function StackValues(startValue, endValue) {\n        this.startValues = startValue;\n        this.endValues = endValue;\n    }\n    return StackValues;\n}());\nexport { StackValues };\n/** @private */\nvar TextOption = /** @class */ (function (_super) {\n    __extends(TextOption, _super);\n    function TextOption(id, x, y, anchor, text, transform, baseLine) {\n        if (transform === void 0) { transform = ''; }\n        var _this = _super.call(this, id) || this;\n        _this.transform = '';\n        _this.baseLine = 'auto';\n        _this.x = x;\n        _this.y = y;\n        _this.anchor = anchor;\n        _this.text = text;\n        _this.transform = transform;\n        _this.baseLine = baseLine;\n        return _this;\n    }\n    return TextOption;\n}(CustomizeOption));\nexport { TextOption };\n/** @private */\nvar PathOption = /** @class */ (function (_super) {\n    __extends(PathOption, _super);\n    function PathOption(id, fill, width, color, opacity, dashArray, d) {\n        var _this = _super.call(this, id) || this;\n        _this.opacity = opacity;\n        _this.fill = fill;\n        _this.stroke = color;\n        _this['stroke-width'] = width;\n        _this['stroke-dasharray'] = dashArray;\n        _this.d = d;\n        return _this;\n    }\n    return PathOption;\n}(CustomizeOption));\nexport { PathOption };\n/** @private */\nvar RectOption = /** @class */ (function (_super) {\n    __extends(RectOption, _super);\n    function RectOption(id, fill, border, opacity, rect, rx, ry, transform, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, border.color, opacity, dashArray) || this;\n        _this.y = rect.y;\n        _this.x = rect.x;\n        _this.height = rect.height;\n        _this.width = rect.width;\n        _this.rx = rx ? rx : 0;\n        _this.ry = ry ? ry : 0;\n        _this.transform = transform ? transform : '';\n        return _this;\n    }\n    return RectOption;\n}(PathOption));\nexport { RectOption };\n/** @private */\nvar CircleOption = /** @class */ (function (_super) {\n    __extends(CircleOption, _super);\n    function CircleOption(id, fill, border, opacity, cx, cy, r) {\n        var _this = _super.call(this, id, fill, border.width, border.color, opacity) || this;\n        _this.cy = cy;\n        _this.cx = cx;\n        _this.r = r;\n        return _this;\n    }\n    return CircleOption;\n}(PathOption));\nexport { CircleOption };\n/** @private */\nvar PolygonOption = /** @class */ (function () {\n    function PolygonOption(id, points, fill) {\n        this.id = id;\n        this.points = points;\n        this.fill = fill;\n    }\n    return PolygonOption;\n}());\nexport { PolygonOption };\n/** @private */\nvar Size = /** @class */ (function () {\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/** @private */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\n/** @private */\nvar ChartLocation = /** @class */ (function () {\n    function ChartLocation(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return ChartLocation;\n}());\nexport { ChartLocation };\n/** @private */\nvar Thickness = /** @class */ (function () {\n    function Thickness(left, right, top, bottom) {\n        this.left = left;\n        this.right = right;\n        this.top = top;\n        this.bottom = bottom;\n    }\n    return Thickness;\n}());\nexport { Thickness };\n/** @private */\nvar ColorValue = /** @class */ (function () {\n    function ColorValue(r, g, b) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n    }\n    return ColorValue;\n}());\nexport { ColorValue };\n/** @private */\nvar PointData = /** @class */ (function () {\n    function PointData(point, series, index) {\n        if (index === void 0) { index = 0; }\n        this.point = point;\n        this.series = series;\n        this.lierIndex = index;\n    }\n    return PointData;\n}());\nexport { PointData };\n/** @private */\nvar AccPointData = /** @class */ (function () {\n    function AccPointData(point, series, index) {\n        if (index === void 0) { index = 0; }\n        this.point = point;\n        this.series = series;\n    }\n    return AccPointData;\n}());\nexport { AccPointData };\n/** @private */\nvar ControlPoints = /** @class */ (function () {\n    function ControlPoints(controlPoint1, controlPoint2) {\n        this.controlPoint1 = controlPoint1;\n        this.controlPoint2 = controlPoint2;\n    }\n    return ControlPoints;\n}());\nexport { ControlPoints };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * AccumulationChart base file\n */\nimport { Property, ChildProperty, Complex, createElement } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Border, Font, Animation, EmptyPointSettings, Connector } from '../../common/model/base';\nimport { Rect, stringToNumber, PathOption } from '../../common/utils/helper';\nimport { seriesRender, pointRender } from '../../common/model/constants';\nimport { getSeriesColor } from '../../common/model/theme';\nimport { getElement, firstToLowerCase } from '../../common/utils/helper';\n/**\n * Annotation for accumulation series\n */\nvar AccumulationAnnotationSettings = /** @class */ (function (_super) {\n    __extends(AccumulationAnnotationSettings, _super);\n    function AccumulationAnnotationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AccumulationAnnotationSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('0')\n    ], AccumulationAnnotationSettings.prototype, \"x\", void 0);\n    __decorate([\n        Property('0')\n    ], AccumulationAnnotationSettings.prototype, \"y\", void 0);\n    __decorate([\n        Property('Pixel')\n    ], AccumulationAnnotationSettings.prototype, \"coordinateUnits\", void 0);\n    __decorate([\n        Property('Chart')\n    ], AccumulationAnnotationSettings.prototype, \"region\", void 0);\n    __decorate([\n        Property('Middle')\n    ], AccumulationAnnotationSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Property('Center')\n    ], AccumulationAnnotationSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationAnnotationSettings.prototype, \"description\", void 0);\n    return AccumulationAnnotationSettings;\n}(ChildProperty));\nexport { AccumulationAnnotationSettings };\n/**\n * Configures the dataLabel in accumulation chart.\n */\nvar AccumulationDataLabelSettings = /** @class */ (function (_super) {\n    __extends(AccumulationDataLabelSettings, _super);\n    function AccumulationDataLabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], AccumulationDataLabelSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationDataLabelSettings.prototype, \"name\", void 0);\n    __decorate([\n        Property('transparent')\n    ], AccumulationDataLabelSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property('Inside')\n    ], AccumulationDataLabelSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(5)\n    ], AccumulationDataLabelSettings.prototype, \"rx\", void 0);\n    __decorate([\n        Property(5)\n    ], AccumulationDataLabelSettings.prototype, \"ry\", void 0);\n    __decorate([\n        Complex({ width: null, color: null }, Border)\n    ], AccumulationDataLabelSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex({ size: '11px', color: null }, Font)\n    ], AccumulationDataLabelSettings.prototype, \"font\", void 0);\n    __decorate([\n        Complex({}, Connector)\n    ], AccumulationDataLabelSettings.prototype, \"connectorStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationDataLabelSettings.prototype, \"template\", void 0);\n    return AccumulationDataLabelSettings;\n}(ChildProperty));\nexport { AccumulationDataLabelSettings };\n/**\n * Points model for the series.\n */\nvar AccPoints = /** @class */ (function () {\n    function AccPoints() {\n        this.visible = true;\n        this.symbolLocation = null;\n        /** @private */\n        this.region = null;\n        /** @private */\n        this.labelRegion = null;\n        /** @private */\n        this.labelVisible = true;\n        this.regions = null;\n    }\n    return AccPoints;\n}());\nexport { AccPoints };\n/**\n *  Configures the series in accumulation chart.\n */\nvar AccumulationSeries = /** @class */ (function (_super) {\n    __extends(AccumulationSeries, _super);\n    function AccumulationSeries() {\n        /**\n         * Specifies the dataSource for the series. It can be an array of JSON objects or an instance of DataManager.\n         * ```html\n         * <div id='Pie'></div>\n         * ```\n         * ```typescript\n         * let dataManager: DataManager = new DataManager({\n         *         url: 'http://mvc.syncfusion.com/Services/Northwnd.svc/Tasks/'\n         * });\n         * let query: Query = new Query().take(50).where('Estimate', 'greaterThan', 0, false);\n         * let pie: AccumulationChart = new AccumulationChart({\n         * ...\n         *     series: [{\n         *        dataSource: dataManager,\n         *        xName: 'Id',\n         *        yName: 'Estimate',\n         *        query: query\n         *    }],\n         * ...\n         * });\n         * pie.appendTo('#Pie');\n         * ```\n         * @default ''\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.points = [];\n        /** @private */\n        _this.sumOfPoints = 0;\n        /** @private */\n        _this.isRectSeries = true;\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        return _this;\n    }\n    /** @private To refresh the Datamanager for series */\n    AccumulationSeries.prototype.refreshDataManager = function (accumulation) {\n        var _this = this;\n        if (isNullOrUndefined(this.query)) {\n            this.dataManagerSuccess({ result: this.dataSource, count: this.dataSource.length }, accumulation);\n            return;\n        }\n        var dataManager = this.dataModule.getData(this.dataModule.generateQuery().requiresCount());\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e, accumulation); });\n    };\n    /**\n     * To get points on dataManager is success\n     * @private\n     */\n    AccumulationSeries.prototype.dataManagerSuccess = function (e, accumulation) {\n        var argsData = {\n            name: seriesRender, series: this, data: e.result,\n        };\n        accumulation.trigger(seriesRender, argsData);\n        this.resultData = e.result;\n        this.getPoints(e.result, accumulation);\n        if (++accumulation.seriesCounts === accumulation.visibleSeries.length) {\n            accumulation.refreshChart();\n        }\n    };\n    /** @private To find points from result data */\n    AccumulationSeries.prototype.getPoints = function (result, accumulation) {\n        var length = Object.keys(result).length;\n        this.sumOfPoints = 0;\n        if (length === 0) {\n            return null;\n        }\n        this.findSumOfPoints(result);\n        this.points = [];\n        this.sumOfClub = 0;\n        var point;\n        var colors = this.palettes.length ? this.palettes : getSeriesColor(accumulation.theme);\n        var clubValue = stringToNumber(this.groupTo, this.sumOfPoints);\n        for (var i = 0; i < length; i++) {\n            point = this.setPoints(result, i, colors);\n            var currentY = point.y;\n            if (!this.isClub(point, clubValue)) {\n                if (isNullOrUndefined(point.y)) {\n                    point.visible = false;\n                }\n                this.pushPoints(point, colors);\n            }\n        }\n        this.lastGroupTo = this.groupTo;\n        if (this.sumOfClub > 0) {\n            var clubPoint = new AccPoints();\n            clubPoint.x = 'Others';\n            clubPoint.y = this.sumOfClub;\n            clubPoint.text = clubPoint.originalText = clubPoint.x + ': ' + this.sumOfClub;\n            this.pushPoints(clubPoint, colors);\n        }\n    };\n    /**\n     * Method to set point index and color\n     */\n    AccumulationSeries.prototype.pushPoints = function (point, colors) {\n        point.index = this.points.length;\n        point.color = point.color || colors[point.index % colors.length];\n        this.points.push(point);\n    };\n    /**\n     * Method to find club point\n     */\n    AccumulationSeries.prototype.isClub = function (point, clubValue) {\n        if (Math.abs(point.y) <= clubValue && !isNullOrUndefined(clubValue)) {\n            this.sumOfClub += Math.abs(point.y);\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Method to find sum of points in the series\n     */\n    AccumulationSeries.prototype.findSumOfPoints = function (result) {\n        var length = Object.keys(result).length;\n        for (var i = 0; i < length; i++) {\n            if (!isNullOrUndefined(result[i][this.yName])) {\n                this.sumOfPoints += Math.abs(result[i][this.yName]);\n            }\n        }\n    };\n    /**\n     * Method to set points x, y and text from data source\n     */\n    AccumulationSeries.prototype.setPoints = function (data, i, colors) {\n        var point = new AccPoints();\n        point.x = getValue(this.xName, data[i]);\n        point.y = getValue(this.yName, data[i]);\n        point.color = getValue(this.pointColorMapping, data[i]);\n        point.text = point.originalText = getValue(this.dataLabel.name || '', data[i]);\n        this.setAccEmptyPoint(point, i, data, colors);\n        return point;\n    };\n    /**\n     * Method render the series elements for accumulation chart\n     * @private\n     */\n    AccumulationSeries.prototype.renderSeries = function (accumulation) {\n        var seriesGroup = accumulation.renderer.createGroup({ id: accumulation.element.id + '_Series_' + this.index });\n        this.renderPoints(accumulation, seriesGroup);\n        var datalabelGroup;\n        if (accumulation.accumulationDataLabelModule && this.dataLabel.visible) {\n            datalabelGroup = accumulation.renderer.createGroup({ id: accumulation.element.id + '_datalabel_Series_' + this.index });\n            datalabelGroup.style.visibility =\n                (this.animation.enable && accumulation.animateSeries && this.type === 'Pie') ? 'hidden' : 'visible';\n            this.renderDataLabel(accumulation, datalabelGroup);\n        }\n        if (this.type === 'Pie') {\n            this.findMaxBounds(this.labelBound, this.accumulationBound);\n            accumulation.pieSeriesModule.animateSeries(accumulation, this.animation, this, seriesGroup);\n        }\n        if (accumulation.accumulationLegendModule) {\n            this.labelBound.x -= accumulation.explodeDistance;\n            this.labelBound.y -= accumulation.explodeDistance;\n            this.labelBound.height += (accumulation.explodeDistance - this.labelBound.y);\n            this.labelBound.width += (accumulation.explodeDistance - this.labelBound.x);\n        }\n    };\n    /**\n     * Method render the points elements for accumulation chart series.\n     */\n    AccumulationSeries.prototype.renderPoints = function (accumulation, seriesGroup) {\n        var pointId = accumulation.element.id + '_Series_' + this.index + '_Point_';\n        var option;\n        for (var _i = 0, _a = this.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            var argsData = {\n                cancel: false, name: pointRender, series: this, point: point, fill: point.color,\n                border: this.isEmpty(point) ? { width: this.emptyPointSettings.border.width, color: this.emptyPointSettings.border.color } :\n                    { width: this.border.width, color: this.border.color }\n            };\n            accumulation.trigger(pointRender, argsData);\n            point.color = argsData.fill;\n            if (point.visible) {\n                option = new PathOption(pointId + point.index, point.color, argsData.border.width || 1, argsData.border.color || point.color, 1, '', '');\n                accumulation[(firstToLowerCase(this.type) + 'SeriesModule')].\n                    renderPoint(point, this, accumulation, option);\n                seriesGroup.appendChild(accumulation.renderer.drawPath(option));\n            }\n        }\n        accumulation.getSeriesElement().appendChild(seriesGroup);\n    };\n    /**\n     * Method render the datalabel elements for accumulation chart.\n     */\n    AccumulationSeries.prototype.renderDataLabel = function (accumulation, datalabelGroup) {\n        accumulation.accumulationDataLabelModule.findAreaRect();\n        var element = createElement('div', {\n            id: accumulation.element.id + '_Series_0' + '_DataLabelCollections'\n        });\n        for (var _i = 0, _a = this.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (point.visible) {\n                accumulation.accumulationDataLabelModule.renderDataLabel(point, this.dataLabel, datalabelGroup, this.points, this.index, element);\n            }\n        }\n        if (this.dataLabel.template !== null && element.childElementCount) {\n            getElement(accumulation.element.id + '_Secondary_Element').appendChild(element);\n        }\n        accumulation.getSeriesElement().appendChild(datalabelGroup);\n    };\n    /**\n     * To find maximum bounds for smart legend placing\n     * @private\n     */\n    AccumulationSeries.prototype.findMaxBounds = function (totalbound, bound) {\n        totalbound.x = bound.x < totalbound.x ? bound.x : totalbound.x;\n        totalbound.y = bound.y < totalbound.y ? bound.y : totalbound.y;\n        totalbound.height = (bound.y + bound.height) > totalbound.height ? (bound.y + bound.height) : totalbound.height;\n        totalbound.width = (bound.x + bound.width) > totalbound.width ? (bound.x + bound.width) : totalbound.width;\n    };\n    /**\n     * To set empty point value for null points\n     * @private\n     */\n    AccumulationSeries.prototype.setAccEmptyPoint = function (point, i, data, colors) {\n        if (!isNullOrUndefined(point.y)) {\n            return null;\n        }\n        point.color = this.emptyPointSettings.fill || point.color;\n        switch (this.emptyPointSettings.mode) {\n            case 'Zero':\n                point.y = 0;\n                point.visible = true;\n                break;\n            case 'Average':\n                var previous = data[i - 1] ? (data[i - 1][this.yName] || 0) : 0;\n                var next = data[i + 1] ? (data[i + 1][this.yName] || 0) : 0;\n                point.y = (Math.abs(previous) + Math.abs(next)) / 2;\n                this.sumOfPoints += point.y;\n                point.visible = true;\n                break;\n            case 'Drop':\n                point.visible = false;\n                break;\n        }\n    };\n    /**\n     * To find point is empty\n     */\n    AccumulationSeries.prototype.isEmpty = function (point) {\n        return point.color === this.emptyPointSettings.fill;\n    };\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], AccumulationSeries.prototype, \"query\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"xName\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"yName\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationSeries.prototype, \"visible\", void 0);\n    __decorate([\n        Complex({ color: null, width: 0 }, Border)\n    ], AccumulationSeries.prototype, \"border\", void 0);\n    __decorate([\n        Complex(null, Animation)\n    ], AccumulationSeries.prototype, \"animation\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], AccumulationSeries.prototype, \"legendShape\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"pointColorMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationSeries.prototype, \"selectionStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationSeries.prototype, \"groupTo\", void 0);\n    __decorate([\n        Complex({}, AccumulationDataLabelSettings)\n    ], AccumulationSeries.prototype, \"dataLabel\", void 0);\n    __decorate([\n        Property([])\n    ], AccumulationSeries.prototype, \"palettes\", void 0);\n    __decorate([\n        Property(0)\n    ], AccumulationSeries.prototype, \"startAngle\", void 0);\n    __decorate([\n        Property(360)\n    ], AccumulationSeries.prototype, \"endAngle\", void 0);\n    __decorate([\n        Property('80%')\n    ], AccumulationSeries.prototype, \"radius\", void 0);\n    __decorate([\n        Property('0')\n    ], AccumulationSeries.prototype, \"innerRadius\", void 0);\n    __decorate([\n        Property('Pie')\n    ], AccumulationSeries.prototype, \"type\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationSeries.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], AccumulationSeries.prototype, \"explode\", void 0);\n    __decorate([\n        Property('30%')\n    ], AccumulationSeries.prototype, \"explodeOffset\", void 0);\n    __decorate([\n        Property(false)\n    ], AccumulationSeries.prototype, \"explodeAll\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationSeries.prototype, \"explodeIndex\", void 0);\n    __decorate([\n        Complex({ mode: 'Drop' }, EmptyPointSettings)\n    ], AccumulationSeries.prototype, \"emptyPointSettings\", void 0);\n    __decorate([\n        Property(0)\n    ], AccumulationSeries.prototype, \"gapRatio\", void 0);\n    __decorate([\n        Property('80%')\n    ], AccumulationSeries.prototype, \"width\", void 0);\n    __decorate([\n        Property('80%')\n    ], AccumulationSeries.prototype, \"height\", void 0);\n    __decorate([\n        Property('20%')\n    ], AccumulationSeries.prototype, \"neckWidth\", void 0);\n    __decorate([\n        Property('20%')\n    ], AccumulationSeries.prototype, \"neckHeight\", void 0);\n    __decorate([\n        Property('Linear')\n    ], AccumulationSeries.prototype, \"pyramidMode\", void 0);\n    __decorate([\n        Property(1)\n    ], AccumulationSeries.prototype, \"opacity\", void 0);\n    return AccumulationSeries;\n}(ChildProperty));\nexport { AccumulationSeries };\n/**\n * method to get series from index\n * @private\n */\nexport function getSeriesFromIndex(index, visibleSeries) {\n    for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n        var series = visibleSeries_1[_i];\n        if (index === series.index) {\n            return series;\n        }\n    }\n    return visibleSeries[0];\n}\n/**\n * method to get point from index\n * @private\n */\nexport function pointByIndex(index, points) {\n    for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n        var point = points_1[_i];\n        if (point.index === index) {\n            return point;\n        }\n    }\n    return null;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { Theme } from '../model/theme';\n/**\n * Defines the appearance of the connectors\n */\nvar Connector = /** @class */ (function (_super) {\n    __extends(Connector, _super);\n    function Connector() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Line')\n    ], Connector.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], Connector.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Connector.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Connector.prototype, \"length\", void 0);\n    __decorate([\n        Property('')\n    ], Connector.prototype, \"dashArray\", void 0);\n    return Connector;\n}(ChildProperty));\nexport { Connector };\n/**\n * Configures the fonts in charts.\n */\nvar Font = /** @class */ (function (_super) {\n    __extends(Font, _super);\n    function Font() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('16px')\n    ], Font.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Font.prototype, \"color\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], Font.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property(1)\n    ], Font.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Center')\n    ], Font.prototype, \"textAlignment\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Font.prototype, \"textOverflow\", void 0);\n    return Font;\n}(ChildProperty));\nexport { Font };\n/**\n * Configures the borders in the chart.\n */\nvar Border = /** @class */ (function (_super) {\n    __extends(Border, _super);\n    function Border() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Border.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Border.prototype, \"width\", void 0);\n    return Border;\n}(ChildProperty));\nexport { Border };\n/**\n * Configures the chart area.\n */\nvar ChartArea = /** @class */ (function (_super) {\n    __extends(ChartArea, _super);\n    function ChartArea() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Border)\n    ], ChartArea.prototype, \"border\", void 0);\n    __decorate([\n        Property('transparent')\n    ], ChartArea.prototype, \"background\", void 0);\n    __decorate([\n        Property(1)\n    ], ChartArea.prototype, \"opacity\", void 0);\n    return ChartArea;\n}(ChildProperty));\nexport { ChartArea };\n/**\n * Configures the chart margins.\n */\nvar Margin = /** @class */ (function (_super) {\n    __extends(Margin, _super);\n    function Margin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"left\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"right\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"top\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"bottom\", void 0);\n    return Margin;\n}(ChildProperty));\nexport { Margin };\n/**\n * Configures the animation behavior for chart series.\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], Animation.prototype, \"enable\", void 0);\n    __decorate([\n        Property(1000)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/** @private */\nvar Indexes = /** @class */ (function (_super) {\n    __extends(Indexes, _super);\n    function Indexes() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Indexes.prototype, \"series\", void 0);\n    __decorate([\n        Property(0)\n    ], Indexes.prototype, \"point\", void 0);\n    return Indexes;\n}(ChildProperty));\nexport { Indexes };\n/**\n * Column series rounded corner options\n */\nvar CornerRadius = /** @class */ (function (_super) {\n    __extends(CornerRadius, _super);\n    function CornerRadius() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"topLeft\", void 0);\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"topRight\", void 0);\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"bottomLeft\", void 0);\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"bottomRight\", void 0);\n    return CornerRadius;\n}(ChildProperty));\nexport { CornerRadius };\n/**\n * @private\n */\nvar Index = /** @class */ (function () {\n    function Index(seriesIndex, pointIndex) {\n        this.series = seriesIndex;\n        this.point = pointIndex;\n    }\n    return Index;\n}());\nexport { Index };\n/**\n * Configures the Empty Points of series\n */\nvar EmptyPointSettings = /** @class */ (function (_super) {\n    __extends(EmptyPointSettings, _super);\n    function EmptyPointSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EmptyPointSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 0 }, Border)\n    ], EmptyPointSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property('Gap')\n    ], EmptyPointSettings.prototype, \"mode\", void 0);\n    return EmptyPointSettings;\n}(ChildProperty));\nexport { EmptyPointSettings };\n/**\n * Configures the ToolTips in the chart.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], TooltipSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(false)\n    ], TooltipSettings.prototype, \"shared\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"header\", void 0);\n    __decorate([\n        Property(0.75)\n    ], TooltipSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Complex(Theme.tooltipLabelFont, Font)\n    ], TooltipSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Complex({ color: '#cccccc', width: 0.5 }, Border)\n    ], TooltipSettings.prototype, \"border\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","/**\n * Numeric Range.\n * @private\n */\nvar DoubleRange = /** @class */ (function () {\n    function DoubleRange(start, end) {\n        /*\n          if (!isNaN(start) && !isNaN(end)) {\n           this.mIsEmpty = true;\n          } else {\n              this.mIsEmpty = false;\n          }*/\n        if (start < end) {\n            this.mStart = start;\n            this.mEnd = end;\n        }\n        else {\n            this.mStart = end;\n            this.mEnd = start;\n        }\n    }\n    Object.defineProperty(DoubleRange.prototype, \"start\", {\n        //private mIsEmpty: boolean;\n        /** @private */\n        get: function () {\n            return this.mStart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DoubleRange.prototype, \"end\", {\n        /** @private */\n        get: function () {\n            return this.mEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DoubleRange.prototype, \"delta\", {\n        /*\n          get isEmpty(): boolean {\n             return this.mIsEmpty;\n         }*/\n        /** @private */\n        get: function () {\n            return (this.mEnd - this.mStart);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DoubleRange.prototype, \"median\", {\n        /** @private */\n        get: function () {\n            return this.mStart + (this.mEnd - this.mStart) / 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return DoubleRange;\n}());\nexport { DoubleRange };\n","import { getMinPointsDelta } from '../../common/utils/helper';\nimport { DoubleRange } from '../utils/double-range';\nimport { withIn, logBase } from '../../common/utils/helper';\n/**\n * Numeric module is used to render numeric axis.\n */\nvar Double = /** @class */ (function () {\n    /**\n     * Constructor for the dateTime module.\n     * @private\n     */\n    function Double(chart) {\n        this.chart = chart;\n    }\n    /**\n     * Numeric Nice Interval for the axis.\n     * @private\n     */\n    Double.prototype.calculateNumericNiceInterval = function (axis, delta, size) {\n        var actualDesiredIntervalsCount = axis.getActualDesiredIntervalsCount(size);\n        var niceInterval = delta / actualDesiredIntervalsCount;\n        if (axis.desiredIntervals != null) {\n            return niceInterval;\n        }\n        var minInterval = Math.pow(10, Math.floor(logBase(niceInterval, 10)));\n        for (var _i = 0, _a = axis.intervalDivs; _i < _a.length; _i++) {\n            var interval = _a[_i];\n            var currentInterval = minInterval * interval;\n            if (actualDesiredIntervalsCount < (delta / currentInterval)) {\n                break;\n            }\n            niceInterval = currentInterval;\n        }\n        return niceInterval;\n    };\n    /**\n     * Actual Range for the axis.\n     * @private\n     */\n    Double.prototype.getActualRange = function (axis, size) {\n        this.initializeDoubleRange(axis);\n        axis.actualRange.interval = axis.interval || this.calculateNumericNiceInterval(axis, axis.doubleRange.delta, size);\n        axis.actualRange.min = axis.doubleRange.start;\n        axis.actualRange.max = axis.doubleRange.end;\n    };\n    /**\n     * Range for the axis.\n     * @private\n     */\n    Double.prototype.initializeDoubleRange = function (axis) {\n        //Axis Min\n        if (axis.minimum !== null) {\n            this.min = axis.minimum;\n        }\n        else if (this.min === null || this.min === Number.POSITIVE_INFINITY) {\n            this.min = 0;\n        }\n        // Axis Max\n        if (axis.maximum !== null) {\n            this.max = axis.maximum;\n        }\n        else if (this.max === null || this.max === Number.NEGATIVE_INFINITY) {\n            this.max = 5;\n        }\n        if (this.min === this.max) {\n            this.max = axis.valueType.indexOf('Category') > -1 ? this.max : this.min + 1;\n        }\n        axis.doubleRange = new DoubleRange(this.min, this.max);\n        axis.actualRange = {};\n    };\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     * @private\n     */\n    Double.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis, this.chart);\n    };\n    /**\n     * Calculate Range for the axis.\n     * @private\n     */\n    Double.prototype.calculateRange = function (axis, size) {\n        /*! Generate axis range */\n        var series;\n        this.min = null;\n        this.max = null;\n        if (!axis.setRange()) {\n            for (var _i = 0, _a = axis.series; _i < _a.length; _i++) {\n                var series_1 = _a[_i];\n                if (!series_1.visible) {\n                    continue;\n                }\n                this.paddingInterval = 0;\n                if ((series_1.type.indexOf('Column') > -1 && axis.orientation === 'Horizontal')\n                    || (series_1.type.indexOf('Bar') > -1 && axis.orientation === 'Vertical')) {\n                    if ((series_1.xAxis.valueType === 'Double' || series_1.xAxis.valueType === 'DateTime')\n                        && series_1.xAxis.rangePadding === 'Auto') {\n                        this.paddingInterval = getMinPointsDelta(series_1.xAxis, axis.series) / 2;\n                    }\n                }\n                //For xRange\n                if (axis.orientation === 'Horizontal') {\n                    if (this.chart.requireInvertedAxis) {\n                        this.findMinMax(series_1.yMin, series_1.yMax);\n                    }\n                    else {\n                        this.findMinMax(series_1.xMin - this.paddingInterval, series_1.xMax + this.paddingInterval);\n                    }\n                }\n                // For yRange\n                if (axis.orientation === 'Vertical') {\n                    if (this.chart.requireInvertedAxis) {\n                        this.findMinMax(series_1.xMin - this.paddingInterval, series_1.xMax + this.paddingInterval);\n                    }\n                    else {\n                        this.findMinMax(series_1.yMin, series_1.yMax);\n                    }\n                }\n            }\n        }\n    };\n    Double.prototype.findMinMax = function (min, max) {\n        if (this.min === null || this.min > min) {\n            this.min = min;\n        }\n        if (this.max === null || this.max < max) {\n            this.max = max;\n        }\n    };\n    /**\n     * Apply padding for the range.\n     * @private\n     */\n    Double.prototype.applyRangePadding = function (axis, size) {\n        var range;\n        var start = axis.actualRange.min;\n        var end = axis.actualRange.max;\n        if (!axis.setRange()) {\n            var interval = axis.actualRange.interval;\n            var padding = axis.getRangePadding(this.chart);\n            if (padding === 'Additional' || padding === 'Round') {\n                this.findAdditional(axis, start, end, interval);\n            }\n            else if (padding === 'Normal') {\n                this.findNormal(axis, start, end, interval, size);\n            }\n            else {\n                this.updateActualRange(axis, start, end, interval);\n            }\n        }\n        axis.actualRange.delta = axis.actualRange.max - axis.actualRange.min;\n        this.calculateVisibleRange(size, axis);\n    };\n    Double.prototype.updateActualRange = function (axis, minimum, maximum, interval) {\n        axis.actualRange.min = axis.minimum != null ? axis.minimum : minimum;\n        axis.actualRange.max = axis.maximum != null ? axis.maximum : maximum;\n        axis.actualRange.interval = axis.interval != null ? axis.interval : interval;\n    };\n    Double.prototype.findAdditional = function (axis, start, end, interval) {\n        var minimum;\n        var maximum;\n        minimum = Math.floor(start / interval) * interval;\n        maximum = Math.ceil(end / interval) * interval;\n        if (axis.rangePadding === 'Additional') {\n            minimum -= interval;\n            maximum += interval;\n        }\n        this.updateActualRange(axis, minimum, maximum, interval);\n    };\n    Double.prototype.findNormal = function (axis, start, end, interval, size) {\n        var remaining;\n        var minimum;\n        var maximum;\n        var startValue = start;\n        if (start < 0) {\n            startValue = 0;\n            minimum = start + (start / 20);\n            remaining = interval + (minimum % interval);\n            if ((0.365 * interval) >= remaining) {\n                minimum -= interval;\n            }\n            if (minimum % interval < 0) {\n                minimum = (minimum - interval) - (minimum % interval);\n            }\n        }\n        else {\n            minimum = start < ((5.0 / 6.0) * end) ? 0 : (start - (end - start) / 2);\n            if (minimum % interval > 0) {\n                minimum -= (minimum % interval);\n            }\n        }\n        maximum = (end > 0) ? (end + (end - startValue) / 20) : (end - (end - startValue) / 20);\n        remaining = interval - (maximum % interval);\n        if ((0.365 * interval) >= remaining) {\n            maximum += interval;\n        }\n        if (maximum % interval > 0) {\n            maximum = (maximum + interval) - (maximum % interval);\n        }\n        axis.doubleRange = new DoubleRange(minimum, maximum);\n        if (minimum === 0) {\n            interval = this.calculateNumericNiceInterval(axis, axis.doubleRange.delta, size);\n            maximum = Math.ceil(maximum / interval) * interval;\n        }\n        this.updateActualRange(axis, minimum, maximum, interval);\n    };\n    /**\n     * Calculate visible range for axis.\n     * @private\n     */\n    Double.prototype.calculateVisibleRange = function (size, axis) {\n        axis.visibleRange = {\n            max: axis.actualRange.max, min: axis.actualRange.min,\n            delta: axis.actualRange.delta, interval: axis.actualRange.interval\n        };\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            axis.calculateVisibleRange(size);\n            axis.visibleRange.interval = (axis.enableAutoIntervalOnZooming && axis.valueType !== 'Category') ?\n                this.calculateNumericNiceInterval(axis, axis.doubleRange.delta, size)\n                : axis.visibleRange.interval;\n        }\n        axis.triggerRangeRender(this.chart, axis.visibleRange.min, axis.visibleRange.max, axis.visibleRange.interval);\n    };\n    /**\n     * Calculate label for the axis.\n     * @private\n     */\n    Double.prototype.calculateVisibleLabels = function (axis, chart) {\n        /*! Generate axis labels */\n        axis.visibleLabels = [];\n        var tempInterval = axis.visibleRange.min;\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0 || this.paddingInterval) {\n            tempInterval = axis.visibleRange.min - (axis.visibleRange.min % axis.visibleRange.interval);\n        }\n        var format = this.getFormat(axis);\n        var isCustom = format.match('{value}') !== null;\n        axis.format = chart.intl.getNumberFormat({\n            format: isCustom ? '' : format,\n            useGrouping: chart.useGroupingSeparator\n        });\n        axis.startLabel = axis.format(axis.visibleRange.min);\n        axis.endLabel = axis.format(axis.visibleRange.max);\n        for (; tempInterval <= axis.visibleRange.max; tempInterval += axis.visibleRange.interval) {\n            if (withIn(tempInterval, axis.visibleRange)) {\n                axis.triggerLabelRender(chart, tempInterval, this.formatValue(axis, isCustom, format, tempInterval), axis.labelStyle);\n            }\n        }\n        axis.getMaxLabelWidth(chart);\n    };\n    /**\n     * Format of the axis label.\n     * @private\n     */\n    Double.prototype.getFormat = function (axis) {\n        if (axis.labelFormat) {\n            return axis.labelFormat;\n        }\n        return axis.isStack100 ? '{value}%' : '';\n    };\n    /**\n     * Formatted the axis label.\n     * @private\n     */\n    Double.prototype.formatValue = function (axis, isCustom, format, tempInterval) {\n        return isCustom ? format.replace('{value}', axis.format(tempInterval))\n            : axis.format(tempInterval);\n    };\n    return Double;\n}());\nexport { Double };\n","/**\n * Specifies the chart constant value\n */\n/** @private */\nexport var loaded = 'loaded';\n/** @private */\nexport var load = 'load';\n/** @private */\nexport var animationComplete = 'animationComplete';\n/** @private */\nexport var legendRender = 'legendRender';\n/** @private */\nexport var textRender = 'textRender';\n/** @private */\nexport var pointRender = 'pointRender';\n/** @private */\nexport var seriesRender = 'seriesRender';\n/** @private */\nexport var axisLabelRender = 'axisLabelRender';\n/** @private */\nexport var axisRangeCalculated = 'axisRangeCalculated';\n/** @private */\nexport var axisMultiLabelRender = 'axisMultiLabelRender';\n/** @private */\nexport var tooltipRender = 'tooltipRender';\n/** @private */\nexport var chartMouseMove = 'chartMouseMove';\n/** @private */\nexport var chartMouseClick = 'chartMouseClick';\n/** @private */\nexport var pointClick = 'pointClick';\n/** @private */\nexport var pointMove = 'pointMove';\n/** @private */\nexport var chartMouseLeave = 'chartMouseLeave';\n/** @private */\nexport var chartMouseDown = 'chartMouseDown';\n/** @private */\nexport var chartMouseUp = 'chartMouseUp';\n/** @private */\nexport var zoomComplete = 'zoomComplete';\n/** @private */\nexport var dragComplete = 'dragComplete';\n/** @private */\nexport var resized = 'resized';\n/** @private */\nexport var beforePrint = 'beforePrint';\n/** @private */\nexport var annotationRender = 'annotationRender';\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Complex, Collection } from '@syncfusion/ej2-base';\nimport { Theme } from '../../common/model/theme';\nimport { Font, Border } from '../../common/model/base';\n/**\n * Configures the Annotation for chart.\n */\nvar ChartAnnotationSettings = /** @class */ (function (_super) {\n    __extends(ChartAnnotationSettings, _super);\n    function ChartAnnotationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('0')\n    ], ChartAnnotationSettings.prototype, \"x\", void 0);\n    __decorate([\n        Property('0')\n    ], ChartAnnotationSettings.prototype, \"y\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('Center')\n    ], ChartAnnotationSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property('Pixel')\n    ], ChartAnnotationSettings.prototype, \"coordinateUnits\", void 0);\n    __decorate([\n        Property('Chart')\n    ], ChartAnnotationSettings.prototype, \"region\", void 0);\n    __decorate([\n        Property('Middle')\n    ], ChartAnnotationSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"xAxisName\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"yAxisName\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"description\", void 0);\n    return ChartAnnotationSettings;\n}(ChildProperty));\nexport { ChartAnnotationSettings };\n/**\n * label border properties.\n */\nvar LabelBorder = /** @class */ (function (_super) {\n    __extends(LabelBorder, _super);\n    function LabelBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], LabelBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], LabelBorder.prototype, \"width\", void 0);\n    __decorate([\n        Property('Rectangle')\n    ], LabelBorder.prototype, \"type\", void 0);\n    return LabelBorder;\n}(ChildProperty));\nexport { LabelBorder };\n/**\n * categories for multi level labels\n */\nvar MultiLevelCategories = /** @class */ (function (_super) {\n    __extends(MultiLevelCategories, _super);\n    function MultiLevelCategories() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"end\", void 0);\n    __decorate([\n        Property('')\n    ], MultiLevelCategories.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"maximumTextWidth\", void 0);\n    return MultiLevelCategories;\n}(ChildProperty));\nexport { MultiLevelCategories };\n/**\n * Strip line properties\n */\nvar StripLineSettings = /** @class */ (function (_super) {\n    __extends(StripLineSettings, _super);\n    function StripLineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], StripLineSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(false)\n    ], StripLineSettings.prototype, \"startFromAxis\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"end\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"size\", void 0);\n    __decorate([\n        Property('#808080')\n    ], StripLineSettings.prototype, \"color\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 1 }, Border)\n    ], StripLineSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property('')\n    ], StripLineSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"rotation\", void 0);\n    __decorate([\n        Property('Middle')\n    ], StripLineSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property('Middle')\n    ], StripLineSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Complex(Theme.stripLineLabelFont, Font)\n    ], StripLineSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('Behind')\n    ], StripLineSettings.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(1)\n    ], StripLineSettings.prototype, \"opacity\", void 0);\n    return StripLineSettings;\n}(ChildProperty));\nexport { StripLineSettings };\n/**\n * MultiLevelLabels properties\n */\nvar MultiLevelLabels = /** @class */ (function (_super) {\n    __extends(MultiLevelLabels, _super);\n    function MultiLevelLabels() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Center')\n    ], MultiLevelLabels.prototype, \"alignment\", void 0);\n    __decorate([\n        Property('Wrap')\n    ], MultiLevelLabels.prototype, \"overflow\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], MultiLevelLabels.prototype, \"textStyle\", void 0);\n    __decorate([\n        Complex({ color: null, width: 1, type: 'Rectangle' }, LabelBorder)\n    ], MultiLevelLabels.prototype, \"border\", void 0);\n    __decorate([\n        Collection([], MultiLevelCategories)\n    ], MultiLevelLabels.prototype, \"categories\", void 0);\n    return MultiLevelLabels;\n}(ChildProperty));\nexport { MultiLevelLabels };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, Complex, ChildProperty, Collection, extend } from '@syncfusion/ej2-base';\nimport { Font, Border } from '../../common/model/base';\nimport { Size, Rect, measureText, rotateTextSize, firstToLowerCase, valueToCoefficient, inside } from '../../common/utils/helper';\nimport { DoubleRange } from '../utils/double-range';\nimport { Double } from '../axis/double-axis';\nimport { Theme } from '../../common/model/theme';\nimport { axisLabelRender, axisRangeCalculated } from '../../common/model/constants';\nimport { StripLineSettings, MultiLevelLabels, LabelBorder } from '../model/chart-base';\nimport { textWrap } from '../../common/utils/helper';\nvar axisPadding = 10;\n/**\n * Configures the `rows` of the chart.\n */\nvar Row = /** @class */ (function (_super) {\n    __extends(Row, _super);\n    function Row() {\n        /**\n         * The height of the row as a string accept input both as '100px' and '100%'.\n         * If specified as '100%, row renders to the full height of its chart.\n         * @default '100%'\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.axes = [];\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        return _this;\n    }\n    /**\n     * Measure the row size\n     * @return {void}\n     * @private\n     */\n    Row.prototype.computeSize = function (axis, clipRect) {\n        var width = 0;\n        var innerPadding = 5;\n        if (axis.visible) {\n            width += (axis.findTickSize(axis.crossInAxis) +\n                axis.findLabelSize(axis.crossInAxis, innerPadding) + axis.lineStyle.width / 2);\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(width);\n        }\n        else {\n            this.nearSizes.push(width);\n        }\n    };\n    __decorate([\n        Property('100%')\n    ], Row.prototype, \"height\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], Row.prototype, \"border\", void 0);\n    return Row;\n}(ChildProperty));\nexport { Row };\n/**\n * Configures the `columns` of the chart.\n */\nvar Column = /** @class */ (function (_super) {\n    __extends(Column, _super);\n    function Column() {\n        /**\n         * The width of the column as a string accepts input both as like '100px' or '100%'.\n         * If specified as '100%, column renders to the full width of its chart.\n         * @default '100%'\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.axes = [];\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        /** @private */\n        _this.padding = 0;\n        return _this;\n    }\n    /**\n     * Measure the column size\n     * @return {void}\n     * @private\n     */\n    Column.prototype.computeSize = function (axis, clipRect) {\n        var height = 0;\n        var innerPadding = 5;\n        if (axis.visible) {\n            height += (axis.findTickSize(axis.crossInAxis) +\n                axis.findLabelSize(axis.crossInAxis, innerPadding) + axis.lineStyle.width / 2);\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(height);\n        }\n        else {\n            this.nearSizes.push(height);\n        }\n    };\n    __decorate([\n        Property('100%')\n    ], Column.prototype, \"width\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], Column.prototype, \"border\", void 0);\n    return Column;\n}(ChildProperty));\nexport { Column };\n/**\n * Configures the major grid lines in the `axis`.\n */\nvar MajorGridLines = /** @class */ (function (_super) {\n    __extends(MajorGridLines, _super);\n    function MajorGridLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], MajorGridLines.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], MajorGridLines.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(null)\n    ], MajorGridLines.prototype, \"color\", void 0);\n    return MajorGridLines;\n}(ChildProperty));\nexport { MajorGridLines };\n/**\n * Configures the minor grid lines in the `axis`.\n */\nvar MinorGridLines = /** @class */ (function (_super) {\n    __extends(MinorGridLines, _super);\n    function MinorGridLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0.7)\n    ], MinorGridLines.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], MinorGridLines.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(null)\n    ], MinorGridLines.prototype, \"color\", void 0);\n    return MinorGridLines;\n}(ChildProperty));\nexport { MinorGridLines };\n/**\n * Configures the axis line of a chart.\n */\nvar AxisLine = /** @class */ (function (_super) {\n    __extends(AxisLine, _super);\n    function AxisLine() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], AxisLine.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], AxisLine.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(null)\n    ], AxisLine.prototype, \"color\", void 0);\n    return AxisLine;\n}(ChildProperty));\nexport { AxisLine };\n/**\n * Configures the major tick lines.\n */\nvar MajorTickLines = /** @class */ (function (_super) {\n    __extends(MajorTickLines, _super);\n    function MajorTickLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], MajorTickLines.prototype, \"width\", void 0);\n    __decorate([\n        Property(5)\n    ], MajorTickLines.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], MajorTickLines.prototype, \"color\", void 0);\n    return MajorTickLines;\n}(ChildProperty));\nexport { MajorTickLines };\n/**\n * Configures the minor tick lines.\n */\nvar MinorTickLines = /** @class */ (function (_super) {\n    __extends(MinorTickLines, _super);\n    function MinorTickLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0.7)\n    ], MinorTickLines.prototype, \"width\", void 0);\n    __decorate([\n        Property(5)\n    ], MinorTickLines.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], MinorTickLines.prototype, \"color\", void 0);\n    return MinorTickLines;\n}(ChildProperty));\nexport { MinorTickLines };\n/**\n * Configures the crosshair ToolTip.\n */\nvar CrosshairTooltip = /** @class */ (function (_super) {\n    __extends(CrosshairTooltip, _super);\n    function CrosshairTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], CrosshairTooltip.prototype, \"enable\", void 0);\n    __decorate([\n        Property(null)\n    ], CrosshairTooltip.prototype, \"fill\", void 0);\n    __decorate([\n        Complex(Theme.crosshairLabelFont, Font)\n    ], CrosshairTooltip.prototype, \"textStyle\", void 0);\n    return CrosshairTooltip;\n}(ChildProperty));\nexport { CrosshairTooltip };\n/**\n * Configures the axes in the chart.\n */\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis() {\n        /**\n         * Options to customize the axis label.\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.visibleLabels = [];\n        /** @private */\n        _this.series = [];\n        /** @private */\n        _this.rect = new Rect(undefined, undefined, 0, 0);\n        /** @private */\n        _this.axisBottomLine = null;\n        /** @private */\n        _this.intervalDivs = [10, 5, 2, 1];\n        /** @private */\n        _this.angle = _this.labelRotation;\n        /** @private */\n        _this.isStack100 = false;\n        /** @private */\n        _this.crossAt = null;\n        /** @private */\n        _this.updatedRect = null;\n        /** @private */\n        _this.multiLevelLabelHeight = 0;\n        return _this;\n    }\n    /**\n     * The function used to find tick size.\n     * @return {number}\n     * @private\n     */\n    Axis.prototype.findTickSize = function (crossAxis) {\n        if (this.tickPosition === 'Inside') {\n            return 0;\n        }\n        if (crossAxis && (!crossAxis.visibleRange || this.isInside(crossAxis.visibleRange))) {\n            return 0;\n        }\n        return this.majorTickLines.height;\n    };\n    /**\n     * The function used to find axis position.\n     * @return {number}\n     * @private\n     */\n    Axis.prototype.isInside = function (range) {\n        return (inside(this.crossAt, range) ||\n            (!this.opposedPosition && this.crossAt >= range.max) || (this.opposedPosition && this.crossAt <= range.min));\n    };\n    /**\n     * The function used to find label Size.\n     * @return {number}\n     * @private\n     */\n    Axis.prototype.findLabelSize = function (crossAxis, innerPadding) {\n        var titleSize = 0;\n        if (this.title) {\n            titleSize = measureText(this.title, this.titleStyle).height + innerPadding;\n        }\n        if (this.labelPosition === 'Inside') {\n            return titleSize + innerPadding;\n        }\n        var diff;\n        var value;\n        var labelSize = titleSize + innerPadding + axisPadding +\n            ((this.orientation === 'Vertical') ? this.maxLabelSize.width : this.maxLabelSize.height) + this.multiLevelLabelHeight;\n        if (crossAxis && this.placeNextToAxisLine) {\n            var range = crossAxis.visibleRange;\n            var size = (crossAxis.orientation === 'Horizontal') ? crossAxis.rect.width : crossAxis.rect.height;\n            if (!range || !size) {\n                return 0;\n            }\n            else if (this.isInside(range)) {\n                value = this.findDifference(crossAxis);\n                diff = (value) * (size / range.delta);\n                diff = (value) * ((size - (diff < labelSize ? (labelSize - diff) : 0)) / range.delta);\n                labelSize = (diff < labelSize) ? (labelSize - diff) : 0;\n            }\n        }\n        return labelSize;\n    };\n    /**\n     * The function used to find axis position.\n     * @return {number}\n     * @private\n     */\n    Axis.prototype.updateCrossValue = function (chart) {\n        var value = this.crossAt;\n        if (value === null || !this.isInside(this.crossInAxis.visibleRange)) {\n            this.updatedRect = this.rect;\n            return null;\n        }\n        var range = this.crossInAxis.visibleRange;\n        if (!this.opposedPosition) {\n            if (this.crossAt > range.max) {\n                value = range.max;\n            }\n        }\n        else {\n            if (this.crossAt < range.min) {\n                value = range.min;\n            }\n        }\n        this.updatedRect = extend({}, this.rect, null, true);\n        if (this.orientation === 'Horizontal') {\n            value = this.crossInAxis.rect.height - (valueToCoefficient(value, this.crossInAxis) * this.crossInAxis.rect.height);\n            this.updatedRect.y = this.crossInAxis.rect.y + value;\n        }\n        else {\n            value = valueToCoefficient(value, this.crossInAxis) * this.crossInAxis.rect.width;\n            this.updatedRect.x = this.crossInAxis.rect.x + value;\n        }\n    };\n    Axis.prototype.findDifference = function (crossAxis) {\n        var value = 0;\n        if (this.opposedPosition) {\n            value = crossAxis.isInversed ? crossAxis.visibleRange.min : crossAxis.visibleRange.max;\n        }\n        else {\n            value = crossAxis.isInversed ? crossAxis.visibleRange.max : crossAxis.visibleRange.min;\n        }\n        return Math.abs(this.crossAt - value);\n    };\n    /**\n     * The function used to find whether the range is set.\n     * @return {boolean}\n     * @private\n     */\n    Axis.prototype.setRange = function () {\n        if (this.minimum != null && this.maximum != null) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Calculate visible range for axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.calculateVisibleRange = function (size) {\n        if (this.zoomFactor < 1 || this.zoomPosition > 0) {\n            var baseRange = this.actualRange;\n            var start = void 0;\n            var end = void 0;\n            if (!this.isInversed) {\n                start = this.actualRange.min + this.zoomPosition * this.actualRange.delta;\n                end = start + this.zoomFactor * this.actualRange.delta;\n            }\n            else {\n                start = this.actualRange.max - (this.zoomPosition * this.actualRange.delta);\n                end = start - (this.zoomFactor * this.actualRange.delta);\n            }\n            if (start < baseRange.min) {\n                end = end + (baseRange.min - start);\n                start = baseRange.min;\n            }\n            if (end > baseRange.max) {\n                start = start - (end - baseRange.max);\n                end = baseRange.max;\n            }\n            this.doubleRange = new DoubleRange(start, end);\n            this.visibleRange.min = this.doubleRange.start;\n            this.visibleRange.max = this.doubleRange.end;\n            this.visibleRange.delta = this.doubleRange.delta;\n        }\n    };\n    /**\n     * Calculate desired interval for the axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.getActualDesiredIntervalsCount = function (availableSize) {\n        var size = this.orientation === 'Horizontal' ? availableSize.width : availableSize.height;\n        if (this.desiredIntervals === null) {\n            var desiredIntervalsCount = (this.orientation === 'Horizontal' ? 0.533 : 1) * this.maximumLabels;\n            desiredIntervalsCount = Math.max((size * (desiredIntervalsCount / 100)), 1);\n            return desiredIntervalsCount;\n        }\n        else {\n            return this.desiredIntervals;\n        }\n    };\n    /**\n     * Triggers the event.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.triggerLabelRender = function (chart, tempInterval, text, labelStyle) {\n        var argsData;\n        argsData = {\n            cancel: false, name: axisLabelRender, axis: this,\n            text: text, value: tempInterval, labelStyle: labelStyle\n        };\n        chart.trigger(axisLabelRender, argsData);\n        if (!argsData.cancel) {\n            this.visibleLabels.push(new VisibleLabels(argsData.text, argsData.value, argsData.labelStyle));\n        }\n    };\n    /**\n     * Triggers the event.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.triggerRangeRender = function (chart, minimum, maximum, interval) {\n        var argsData;\n        argsData = {\n            cancel: false, name: axisRangeCalculated, axis: this,\n            minimum: minimum, maximum: maximum, interval: interval\n        };\n        chart.trigger(axisRangeCalculated, argsData);\n        if (!argsData.cancel) {\n            this.visibleRange.min = argsData.minimum;\n            this.visibleRange.max = argsData.maximum;\n            this.visibleRange.interval = argsData.interval;\n            this.visibleRange.delta = argsData.maximum - argsData.minimum;\n        }\n    };\n    /**\n     * Calculate padding for the axis.\n     * @return {string}\n     * @private\n     */\n    Axis.prototype.getRangePadding = function (chart) {\n        var padding = this.rangePadding;\n        if (padding !== 'Auto') {\n            return padding;\n        }\n        switch (this.orientation) {\n            case 'Horizontal':\n                if (chart.requireInvertedAxis) {\n                    padding = (this.isStack100 ? 'Round' : 'Normal');\n                }\n                else {\n                    padding = 'None';\n                }\n                break;\n            case 'Vertical':\n                if (!chart.requireInvertedAxis) {\n                    padding = (this.isStack100 ? 'Round' : 'Normal');\n                }\n                else {\n                    padding = 'None';\n                }\n                break;\n        }\n        return padding;\n    };\n    /**\n     * Calculate maximum label width for the axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.getMaxLabelWidth = function (chart) {\n        var prevSize = new Size(0, 0);\n        var rotatedLabel;\n        var pointX;\n        var previousEnd = 0;\n        var isIntersect = false;\n        this.angle = this.labelRotation;\n        this.maxLabelSize = new Size(0, 0);\n        var action = this.labelIntersectAction;\n        var label;\n        for (var i = 0; i < this.visibleLabels.length; i++) {\n            label = this.visibleLabels[i];\n            label.size = measureText(label.text, this.labelStyle);\n            if (label.size.width > this.maxLabelSize.width) {\n                this.maxLabelSize.width = label.size.width;\n                this.rotatedLabel = label.text;\n            }\n            if (label.size.height > this.maxLabelSize.height) {\n                this.maxLabelSize.height = label.size.height;\n            }\n            if (action === 'None' || action === 'Hide' || action === 'Trim') {\n                continue;\n            }\n            if ((action !== 'None' || this.angle % 360 === 0) && this.orientation === 'Horizontal' &&\n                this.rect.width > 0 && !isIntersect) {\n                pointX = (valueToCoefficient(label.value, this) * this.rect.width) + this.rect.x;\n                pointX -= label.size.width / 2;\n                if (this.edgeLabelPlacement === 'Shift') {\n                    if (i === 0 && pointX < this.rect.x) {\n                        pointX = this.rect.x;\n                    }\n                    if (i === this.visibleLabels.length - 1 && ((pointX + label.size.width) > (this.rect.x + this.rect.width))) {\n                        pointX = this.rect.x + this.rect.width - label.size.width;\n                    }\n                }\n                switch (action) {\n                    case 'MultipleRows':\n                        if (i > 0) {\n                            this.findMultiRows(i, pointX, label);\n                        }\n                        break;\n                    case 'Rotate45':\n                    case 'Rotate90':\n                        if (i > 0 && (!this.isInversed ? pointX <= previousEnd : pointX + label.size.width >= previousEnd)) {\n                            this.angle = (action === 'Rotate45') ? 45 : 90;\n                            isIntersect = true;\n                        }\n                        break;\n                    default:\n                        label.text = textWrap(label.text, this.rect.width / this.visibleLabels.length, this.labelStyle);\n                        var height = (label.size.height * label.text.length);\n                        if (height > this.maxLabelSize.height) {\n                            this.maxLabelSize.height = height;\n                        }\n                        break;\n                }\n                previousEnd = this.isInversed ? pointX : pointX + label.size.width;\n            }\n        }\n        if (this.angle !== 0 && this.orientation === 'Horizontal') {\n            this.maxLabelSize = rotateTextSize(this.labelStyle, this.rotatedLabel, this.angle, chart);\n        }\n        if (chart.multiLevelLabelModule && this.multiLevelLabels.length > 0) {\n            chart.multiLevelLabelModule.getMultilevelLabelsHeight(this);\n        }\n    };\n    /**\n     * Finds the multiple rows for axis.\n     * @return {void}\n     */\n    Axis.prototype.findMultiRows = function (length, currentX, currentLabel) {\n        var label;\n        var pointX;\n        var store = [];\n        var isMultiRows;\n        for (var i = length - 1; i >= 0; i--) {\n            label = this.visibleLabels[i];\n            pointX = (valueToCoefficient(label.value, this) * this.rect.width) + this.rect.x;\n            isMultiRows = !this.isInversed ? currentX < (pointX + label.size.width / 2) :\n                currentX + currentLabel.size.width > (pointX - label.size.width / 2);\n            if (isMultiRows) {\n                store.push(label.index);\n                currentLabel.index = (currentLabel.index > label.index) ? currentLabel.index : label.index + 1;\n            }\n            else {\n                currentLabel.index = store.indexOf(label.index) > -1 ? currentLabel.index : label.index;\n            }\n        }\n        var height = (currentLabel.size.height * currentLabel.index) + (5 * (currentLabel.index - 1));\n        if (height > this.maxLabelSize.height) {\n            this.maxLabelSize.height = height;\n        }\n    };\n    /**\n     * Finds the default module for axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.getModule = function (chart) {\n        if (this.valueType === 'Double') {\n            this.baseModule = new Double(chart);\n        }\n        else {\n            this.baseModule = chart[firstToLowerCase(this.valueType) + 'Module'];\n        }\n    };\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], Axis.prototype, \"labelStyle\", void 0);\n    __decorate([\n        Complex({}, CrosshairTooltip)\n    ], Axis.prototype, \"crosshairTooltip\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.axisTitleFont, Font)\n    ], Axis.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"skeleton\", void 0);\n    __decorate([\n        Property('DateTime')\n    ], Axis.prototype, \"skeletonType\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"plotOffset\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isIndexed\", void 0);\n    __decorate([\n        Property(10)\n    ], Axis.prototype, \"logBase\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"rowIndex\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"span\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"desiredIntervals\", void 0);\n    __decorate([\n        Property(3)\n    ], Axis.prototype, \"maximumLabels\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"zoomFactor\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"zoomPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"opposedPosition\", void 0);\n    __decorate([\n        Property(true)\n    ], Axis.prototype, \"enableAutoIntervalOnZooming\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Axis.prototype, \"rangePadding\", void 0);\n    __decorate([\n        Property('Double')\n    ], Axis.prototype, \"valueType\", void 0);\n    __decorate([\n        Property('None')\n    ], Axis.prototype, \"edgeLabelPlacement\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Axis.prototype, \"intervalType\", void 0);\n    __decorate([\n        Property('BetweenTicks')\n    ], Axis.prototype, \"labelPlacement\", void 0);\n    __decorate([\n        Property('Outside')\n    ], Axis.prototype, \"tickPosition\", void 0);\n    __decorate([\n        Property('Outside')\n    ], Axis.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"name\", void 0);\n    __decorate([\n        Property(true)\n    ], Axis.prototype, \"visible\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"minorTicksPerInterval\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"labelRotation\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"crossesAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Axis.prototype, \"placeNextToAxisLine\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"crossesInAxis\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"minimum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"maximum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"interval\", void 0);\n    __decorate([\n        Complex({}, MajorTickLines)\n    ], Axis.prototype, \"majorTickLines\", void 0);\n    __decorate([\n        Complex({}, MinorTickLines)\n    ], Axis.prototype, \"minorTickLines\", void 0);\n    __decorate([\n        Complex({}, MajorGridLines)\n    ], Axis.prototype, \"majorGridLines\", void 0);\n    __decorate([\n        Complex({}, MinorGridLines)\n    ], Axis.prototype, \"minorGridLines\", void 0);\n    __decorate([\n        Complex({}, AxisLine)\n    ], Axis.prototype, \"lineStyle\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Axis.prototype, \"labelIntersectAction\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isInversed\", void 0);\n    __decorate([\n        Property(100)\n    ], Axis.prototype, \"coefficient\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"startAngle\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"description\", void 0);\n    __decorate([\n        Property(2)\n    ], Axis.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Collection([], StripLineSettings)\n    ], Axis.prototype, \"stripLines\", void 0);\n    __decorate([\n        Collection([], MultiLevelLabels)\n    ], Axis.prototype, \"multiLevelLabels\", void 0);\n    __decorate([\n        Complex({ color: null, width: 0, type: 'Rectangle' }, LabelBorder)\n    ], Axis.prototype, \"border\", void 0);\n    return Axis;\n}(ChildProperty));\nexport { Axis };\n/** @private */\nvar VisibleLabels = /** @class */ (function () {\n    function VisibleLabels(text, value, labelStyle, size, index) {\n        if (size === void 0) { size = new Size(0, 0); }\n        if (index === void 0) { index = 1; }\n        this.text = text;\n        this.originalText = text;\n        this.value = value;\n        this.labelStyle = labelStyle;\n        this.size = size;\n        this.index = 1;\n    }\n    return VisibleLabels;\n}());\nexport { VisibleLabels };\n","import { DataUtil } from '@syncfusion/ej2-data';\nimport { subtractThickness, valueToCoefficient, sum, subArray, TextOption, inside, measureText } from '../../common/utils/helper';\nimport { Size, Rect, Thickness, PathOption, logBase, createZoomingLabels, getElement, rotateTextSize } from '../../common/utils/helper';\nimport { textElement, textTrim } from '../../common/utils/helper';\n/**\n * Specifies the Cartesian Axis Layout.\n */\nvar axisPadding = 10;\nvar CartesianAxisLayoutPanel = /** @class */ (function () {\n    /** @private */\n    function CartesianAxisLayoutPanel(chartModule) {\n        this.chart = chartModule;\n        this.padding = 5;\n    }\n    /**\n     * Measure the axis size.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.measureAxis = function (rect) {\n        var chart = this.chart;\n        this.crossAt(chart);\n        this.seriesClipRect = new Rect(rect.x, rect.y, rect.width, rect.height);\n        this.initialClipRect = rect;\n        this.leftSize = 0;\n        this.rightSize = 0;\n        this.topSize = 0;\n        this.bottomSize = 0;\n        //Measure Axis size with initial Rect\n        this.measureRowAxis(chart, this.initialClipRect);\n        this.initialClipRect = subtractThickness(this.initialClipRect, new Thickness(this.leftSize, this.rightSize, 0, 0));\n        this.measureColumnAxis(chart, this.initialClipRect);\n        this.initialClipRect = subtractThickness(this.initialClipRect, new Thickness(0, 0, this.topSize, this.bottomSize));\n        if (!this.chart.delayRedraw) {\n            this.calculateAxisSize(this.initialClipRect);\n        }\n        this.leftSize = 0;\n        this.rightSize = 0;\n        this.topSize = 0;\n        this.bottomSize = 0;\n        //Measure Axis size with series Rect\n        this.measureRowAxis(chart, this.initialClipRect);\n        this.seriesClipRect = subtractThickness(this.seriesClipRect, new Thickness(this.leftSize, this.rightSize, 0, 0));\n        this.measureColumnAxis(chart, this.initialClipRect);\n        this.seriesClipRect = subtractThickness(this.seriesClipRect, new Thickness(0, 0, this.topSize, this.bottomSize));\n        if (!this.chart.delayRedraw) {\n            chart.refreshAxis();\n            this.calculateAxisSize(this.seriesClipRect);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.measureRowAxis = function (chart, rect) {\n        var row;\n        this.calculateRowSize(rect);\n        for (var _i = 0, _a = chart.rows; _i < _a.length; _i++) {\n            var item = _a[_i];\n            row = item;\n            row.nearSizes = [];\n            row.farSizes = [];\n            this.arrangeAxis(row);\n            this.measureDefinition(row, chart, new Size(chart.availableSize.width, row.computedHeight), rect);\n            if (this.leftSize < sum(row.nearSizes)) {\n                this.leftSize = sum(row.nearSizes);\n            }\n            if (this.rightSize < sum(row.farSizes)) {\n                this.rightSize = sum(row.farSizes);\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.measureColumnAxis = function (chart, rect) {\n        var column;\n        this.calculateColumnSize(rect);\n        for (var _i = 0, _a = chart.columns; _i < _a.length; _i++) {\n            var item = _a[_i];\n            column = item;\n            column.farSizes = [];\n            column.nearSizes = [];\n            this.arrangeAxis(column);\n            this.measureDefinition(column, chart, new Size(column.computedWidth, chart.availableSize.height), rect);\n            if (this.bottomSize < sum(column.nearSizes)) {\n                this.bottomSize = sum(column.nearSizes);\n            }\n            if (this.topSize < sum(column.farSizes)) {\n                this.topSize = sum(column.farSizes);\n            }\n        }\n    };\n    /**\n     * Measure the column and row in chart.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.measureDefinition = function (definition, chart, size, clipRect) {\n        var axis;\n        var axisType;\n        for (var _i = 0, _a = definition.axes; _i < _a.length; _i++) {\n            var axis_1 = _a[_i];\n            axis_1.getModule(chart);\n            axis_1.baseModule.calculateRangeAndInterval(size, axis_1);\n            definition.computeSize(axis_1, clipRect);\n        }\n        if (definition.farSizes.length > 0) {\n            definition.farSizes[definition.farSizes.length - 1] -= axisPadding;\n        }\n        if (definition.nearSizes.length > 0) {\n            definition.nearSizes[definition.nearSizes.length - 1] -= axisPadding;\n        }\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.calculateAxisSize = function (rect) {\n        var chart = this.chart;\n        var row;\n        var column;\n        var definition;\n        var axis;\n        var nearCount = 0;\n        var farCount = 0;\n        var size = 0;\n        var x;\n        var y;\n        this.calculateRowSize(rect);\n        for (var i = 0, len = chart.rows.length; i < len; i++) {\n            row = chart.rows[i];\n            nearCount = 0;\n            farCount = 0;\n            for (var j = 0, len_1 = row.axes.length; j < len_1; j++) {\n                axis = row.axes[j];\n                if (axis.rect.height === 0) {\n                    axis.rect.height = row.computedHeight;\n                    size = 0;\n                    for (var k = i + 1, len_2 = i + axis.span; k < len_2; k++) {\n                        definition = chart.rows[k];\n                        size += definition.computedHeight;\n                    }\n                    axis.rect.y = (row.computedTop - size) + axis.plotOffset;\n                    axis.rect.height = (axis.rect.height + size) - (2 * axis.plotOffset);\n                    axis.rect.width = 0;\n                }\n                if (axis.opposedPosition) {\n                    x = rect.x + rect.width + sum(subArray(row.farSizes, farCount));\n                    axis.rect.x = axis.rect.x >= x ? axis.rect.x : x;\n                    farCount++;\n                }\n                else {\n                    x = rect.x - sum(subArray(row.nearSizes, nearCount));\n                    axis.rect.x = axis.rect.x <= x ? axis.rect.x : x;\n                    nearCount++;\n                }\n            }\n        }\n        this.calculateColumnSize(rect);\n        for (var i = 0, len = chart.columns.length; i < len; i++) {\n            column = chart.columns[i];\n            nearCount = 0;\n            farCount = 0;\n            for (var j = 0, len_3 = column.axes.length; j < len_3; j++) {\n                axis = column.axes[j];\n                if (axis.rect.width === 0) {\n                    for (var k = i, len_4 = (i + axis.span); k < len_4; k++) {\n                        definition = chart.columns[k];\n                        axis.rect.width += definition.computedWidth;\n                    }\n                    axis.rect.x = column.computedLeft + axis.plotOffset;\n                    axis.rect.width -= (2 * axis.plotOffset);\n                    axis.rect.height = 0;\n                }\n                if (axis.opposedPosition) {\n                    y = rect.y - sum(subArray(column.farSizes, farCount));\n                    axis.rect.y = axis.rect.y <= y ? axis.rect.y : y;\n                    farCount++;\n                }\n                else {\n                    y = rect.y + rect.height + sum(subArray(column.nearSizes, nearCount));\n                    axis.rect.y = axis.rect.y >= y ? axis.rect.y : y;\n                    nearCount++;\n                }\n            }\n        }\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.measure = function () {\n        var chart = this.chart;\n        var row;\n        var column;\n        var definition;\n        var axis;\n        var actualIndex;\n        var span;\n        var axisLength;\n        for (var _i = 0, _a = chart.axisCollections; _i < _a.length; _i++) {\n            var axis_2 = _a[_i];\n            //definition.Axes = axis;\n            if (axis_2.orientation === 'Vertical') {\n                chart.verticalAxes.push(axis_2);\n                actualIndex = this.getActualRow(axis_2);\n                row = chart.rows[actualIndex];\n                this.pushAxis(row, axis_2);\n                span = ((actualIndex + axis_2.span) > chart.rows.length ? chart.rows.length : (actualIndex + axis_2.span));\n                for (var j = actualIndex + 1; j < span; j++) {\n                    definition = chart.rows[j];\n                    definition.axes[row.axes.length - 1] = axis_2;\n                    chart.rows[j] = definition;\n                }\n                chart.rows[actualIndex] = row;\n            }\n            else {\n                chart.horizontalAxes.push(axis_2);\n                actualIndex = this.getActualColumn(axis_2);\n                column = chart.columns[actualIndex];\n                this.pushAxis(column, axis_2);\n                span = ((actualIndex + axis_2.span) > chart.columns.length ? chart.columns.length : (actualIndex + axis_2.span));\n                for (var j = actualIndex + 1; j < span; j++) {\n                    definition = chart.columns[j];\n                    definition.axes[column.axes.length - 1] = axis_2;\n                    chart.columns[j] = definition;\n                }\n                chart.columns[actualIndex] = column;\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.crossAt = function (chart) {\n        for (var _i = 0, _a = chart.axisCollections; _i < _a.length; _i++) {\n            var axis = _a[_i];\n            if (axis.crossesAt === null) {\n                continue;\n            }\n            var isTransposed = chart.isTransposed;\n            if (!axis.crossesInAxis) {\n                if (chart.requireInvertedAxis) {\n                    axis.crossInAxis = ((axis.orientation === 'Horizontal')) ? chart.primaryXAxis : chart.primaryYAxis;\n                }\n                else {\n                    axis.crossInAxis = ((axis.orientation === 'Horizontal')) ? chart.primaryYAxis : chart.primaryXAxis;\n                }\n                axis.crossAt = this.updateCrossAt(axis.crossInAxis, axis.crossesAt);\n                continue;\n            }\n            else {\n                for (var i = 2, len = chart.axisCollections.length; i < len; i++) {\n                    if (axis.crossesInAxis === chart.axisCollections[i].name) {\n                        axis.crossInAxis = chart.axisCollections[i];\n                        axis.crossAt = this.updateCrossAt(axis.crossInAxis, axis.crossesAt);\n                        continue;\n                    }\n                }\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.updateCrossAt = function (axis, crossAt) {\n        switch (axis.valueType) {\n            case 'DateTime':\n                var option = {\n                    skeleton: 'full',\n                    type: 'dateTime'\n                };\n                var dateParser = this.chart.intl.getDateParser(option);\n                var dateFormatter = this.chart.intl.getDateFormat(option);\n                return Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: crossAt }).val))));\n            case 'Category':\n                return parseFloat(crossAt) ? parseFloat(crossAt) : axis.labels.indexOf(crossAt);\n            case 'Logarithmic':\n                return logBase(crossAt, axis.logBase);\n            default:\n                return crossAt;\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.pushAxis = function (definition, axis) {\n        for (var i = 0, len = definition.axes.length; i <= len; i++) {\n            if (!definition.axes[i]) {\n                definition.axes[i] = axis;\n                break;\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.arrangeAxis = function (definition) {\n        var axisCollection = [];\n        for (var i = 0, len = definition.axes.length; i <= len; i++) {\n            if (definition.axes[i]) {\n                axisCollection.push(definition.axes[i]);\n            }\n        }\n        definition.axes = axisCollection;\n    };\n    CartesianAxisLayoutPanel.prototype.getActualColumn = function (axis) {\n        var actualLength = this.chart.columns.length;\n        var pos = axis.columnIndex;\n        var result = pos >= actualLength ? actualLength - 1 : (pos < 0 ? 0 : pos);\n        return result;\n    };\n    CartesianAxisLayoutPanel.prototype.getActualRow = function (axis) {\n        var actualLength = this.chart.rows.length;\n        var pos = axis.rowIndex;\n        var result = pos >= actualLength ? actualLength - 1 : (pos < 0 ? 0 : pos);\n        return result;\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    CartesianAxisLayoutPanel.prototype.calculateRowSize = function (rect) {\n        /*! Calculate row size */\n        var chart = this.chart;\n        var row;\n        var rowTop = rect.y + rect.height;\n        var height = 0;\n        var remainingHeight = Math.max(0, rect.height);\n        for (var i = 0, len = chart.rows.length; i < len; i++) {\n            row = chart.rows[i];\n            if (row.height.indexOf('%') !== -1) {\n                height = Math.min(remainingHeight, (rect.height * parseInt(row.height, 10) / 100));\n            }\n            else {\n                height = Math.min(remainingHeight, parseInt(row.height, 10));\n            }\n            height = (i !== (len - 1)) ? height : remainingHeight;\n            row.computedHeight = height;\n            rowTop -= height;\n            row.computedTop = rowTop;\n            remainingHeight -= height;\n        }\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    CartesianAxisLayoutPanel.prototype.calculateColumnSize = function (rect) {\n        /*! Calculate column size */\n        var chart = this.chart;\n        var column;\n        var columnLeft = rect.x;\n        var width = 0;\n        var remainingWidth = Math.max(0, rect.width);\n        for (var i = 0, len = chart.columns.length; i < len; i++) {\n            column = chart.columns[i];\n            if (column.width.indexOf('%') !== -1) {\n                width = Math.min(remainingWidth, (rect.width * parseInt(column.width, 10) / 100));\n            }\n            else {\n                width = Math.min(remainingWidth, parseInt(column.width, 10));\n            }\n            width = (i !== (len - 1)) ? width : remainingWidth;\n            column.computedWidth = width;\n            column.computedLeft = columnLeft;\n            columnLeft += width;\n            remainingWidth -= width;\n        }\n    };\n    /**\n     * To render the axis element.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.renderAxes = function () {\n        var chart = this.chart;\n        var axis;\n        var axisElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisInsideCollection' });\n        var axisLineElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisOutsideCollection' });\n        var outsideElement;\n        var isInside;\n        for (var i = 0, len = chart.axisCollections.length; i < len; i++) {\n            axis = chart.axisCollections[i];\n            this.element = chart.renderer.createGroup({ id: chart.element.id + 'AxisGroup' + i + 'Inside' });\n            outsideElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisGroup' + i + 'Outside' });\n            isInside = this.findAxisPosition(axis);\n            if (axis.orientation === 'Horizontal') {\n                axis.updateCrossValue(chart);\n                if (axis.visible && axis.lineStyle.width > 0) {\n                    this.drawAxisLine(axis, i, axis.plotOffset, 0, isInside ? outsideElement : this.element, axis.updatedRect);\n                }\n                if (axis.majorGridLines.width > 0 || axis.majorTickLines.width > 0) {\n                    this.drawXAxisGridLine(axis, i, (isInside || axis.tickPosition === 'Inside') ? outsideElement : this.element, axis.updatedRect);\n                }\n                if (axis.visible) {\n                    this.drawXAxisLabels(axis, i, (isInside || axis.labelPosition === 'Inside') ? outsideElement : this.element, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n                    this.drawXAxisBorder(axis, i, (isInside || axis.labelPosition === 'Inside') ? outsideElement : this.element, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n                    this.drawXAxisTitle(axis, i, isInside ? outsideElement : this.element, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n                }\n            }\n            else {\n                axis.updateCrossValue(chart);\n                if (axis.visible && axis.lineStyle.width > 0) {\n                    this.drawAxisLine(axis, i, 0, axis.plotOffset, isInside ? outsideElement : this.element, axis.updatedRect);\n                }\n                if (axis.majorGridLines.width > 0 || axis.majorTickLines.width > 0) {\n                    this.drawYAxisGridLine(axis, i, (isInside || axis.tickPosition === 'Inside') ? outsideElement : this.element, axis.updatedRect);\n                }\n                if (axis.visible) {\n                    this.drawYAxisLabels(axis, i, (isInside || axis.labelPosition === 'Inside') ? outsideElement : this.element, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n                    this.drawYAxisBorder(axis, i, (isInside || axis.labelPosition === 'Inside') ? outsideElement : this.element, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n                    this.drawYAxisTitle(axis, i, isInside ? outsideElement : this.element, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n                }\n            }\n            axisElement.appendChild(this.element);\n            if (outsideElement && outsideElement.childNodes.length > 0) {\n                axisLineElement.appendChild(outsideElement);\n            }\n        }\n        this.element = chart.renderer.createGroup({ id: chart.element.id + 'DefinitionLine' });\n        for (var j = 0, len = chart.rows.length; j < len; j++) {\n            var row = chart.rows[j];\n            if (row.border.color) {\n                this.drawBottomLine(row, j, true);\n            }\n        }\n        for (var j = 0, len = chart.columns.length; j < len; j++) {\n            var column = chart.columns[j];\n            if (column.border.color) {\n                this.drawBottomLine(column, j, false);\n            }\n        }\n        axisElement.appendChild(this.element);\n        chart.svgObject.appendChild(axisElement);\n        return axisLineElement;\n    };\n    CartesianAxisLayoutPanel.prototype.findAxisPosition = function (axis) {\n        return axis.crossAt !== null && axis.isInside(axis.crossInAxis.visibleRange);\n    };\n    CartesianAxisLayoutPanel.prototype.drawBottomLine = function (definition, index, isRow) {\n        var chart = this.chart;\n        var optionsLine = {};\n        var x1;\n        var x2;\n        var y1;\n        var y2;\n        var definitionName;\n        if (isRow) {\n            definition = definition;\n            y1 = y2 = definition.computedTop + definition.computedHeight;\n            x1 = this.seriesClipRect.x;\n            x2 = x1 + this.seriesClipRect.width;\n            definitionName = 'Row';\n        }\n        else {\n            definition = definition;\n            x1 = x2 = definition.computedLeft;\n            y1 = this.seriesClipRect.y;\n            y2 = y1 + this.seriesClipRect.height;\n            definitionName = 'Column';\n        }\n        optionsLine = {\n            'id': chart.element.id + '_AxisBottom_' + definitionName + index,\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            'stroke-width': definition.border.width,\n            'stroke': definition.border.color,\n        };\n        this.htmlObject = chart.renderer.drawLine(optionsLine);\n        this.element.appendChild(this.htmlObject);\n    };\n    CartesianAxisLayoutPanel.prototype.drawAxisLine = function (axis, index, plotX, plotY, parent, rect) {\n        var chart = this.chart;\n        var optionsLine = {};\n        optionsLine = {\n            'id': chart.element.id + 'AxisLine_' + index,\n            x1: rect.x - plotX,\n            y1: rect.y - plotY,\n            x2: rect.x + rect.width + plotX,\n            y2: rect.y + rect.height + plotY,\n            'stroke-dasharray': axis.lineStyle.dashArray,\n            'stroke-width': axis.lineStyle.width,\n            'stroke': axis.lineStyle.color || chart.themeStyle.axisLine\n        };\n        this.htmlObject = chart.renderer.drawLine(optionsLine);\n        parent.appendChild(this.htmlObject);\n    };\n    CartesianAxisLayoutPanel.prototype.drawYAxisGridLine = function (axis, index, parent, rect) {\n        var chart = this.chart;\n        var tempInterval;\n        var pointY = 0;\n        var majorGrid = '';\n        var majorTick = '';\n        var minorGird = '';\n        var minorTick = '';\n        var minorDirection;\n        var tickSize = axis.opposedPosition ? axis.majorTickLines.height : -axis.majorTickLines.height;\n        var axisLineSize = (axis.opposedPosition) ? axis.lineStyle.width / 2 : -axis.lineStyle.width / 2;\n        var ticksbwtLabel = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') ?\n            0.5 : 0;\n        var ticks = axis.tickPosition === 'Inside' ? (rect.x - tickSize - axisLineSize) : (rect.x + tickSize + axisLineSize);\n        var length = axis.visibleLabels.length;\n        if (axis.valueType.indexOf('Category') && axis.labelPlacement === 'BetweenTicks' && length > 0) {\n            length += 1;\n        }\n        //Gridlines\n        for (var i = 0; i < length; i++) {\n            tempInterval = !axis.visibleLabels[i] ? (axis.visibleLabels[i - 1].value + axis.visibleRange.interval) - ticksbwtLabel\n                : axis.visibleLabels[i].value - ticksbwtLabel;\n            pointY = valueToCoefficient(tempInterval, axis) * rect.height;\n            pointY = (pointY * -1) + (rect.y + rect.height);\n            if (pointY >= rect.y && (rect.y + rect.height) >= pointY) {\n                if ((inside(tempInterval, axis.visibleRange)) || this.isBorder(axis, i, pointY)) {\n                    majorGrid = majorGrid.concat('M ' + this.seriesClipRect.x + ' ' + (pointY) +\n                        ' L ' + (this.seriesClipRect.x + this.seriesClipRect.width) + ' ' + pointY + ' ');\n                }\n                majorTick = majorTick.concat('M ' + (rect.x + axisLineSize) + ' ' + pointY +\n                    ' L ' + (ticks) + ' ' + pointY + ' ');\n            }\n            if ((axis.minorGridLines.width > 0 || axis.minorTickLines.width > 0) && axis.minorTicksPerInterval > 0) {\n                minorDirection = this.drawAxisMinorLine(axis, tempInterval, minorGird, minorTick, rect, i);\n                minorGird = minorDirection[0];\n                minorTick = minorDirection[1];\n            }\n        }\n        this.renderGridLine(axis, index, majorGrid, minorGird);\n        this.renderTickLine(axis, index, majorTick, minorTick, parent);\n    };\n    CartesianAxisLayoutPanel.prototype.isBorder = function (axis, index, value) {\n        var chart = this.chart;\n        var border = chart.chartArea.border;\n        var rect = this.seriesClipRect;\n        var orientation = axis.orientation;\n        var start = (orientation === 'Horizontal') ? rect.x : rect.y;\n        var size = (orientation === 'Horizontal') ? rect.width : rect.height;\n        var startIndex = (orientation === 'Horizontal') ? 0 : axis.visibleLabels.length - 1;\n        var endIndex = (orientation === 'Horizontal') ? axis.visibleLabels.length - 1 : 0;\n        if (axis.plotOffset > 0) {\n            return true;\n        }\n        else if ((value === start || value === (start + size)) && (border.width <= 0 || border.color === 'transparent')) {\n            return true;\n        }\n        else if ((value !== start && index === startIndex) || (value !== (start + size) && index === endIndex)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To render the axis label.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.drawYAxisLabels = function (axis, index, parent, rect) {\n        var chart = this.chart;\n        var pointX = 0;\n        var pointY = 0;\n        var elementSize;\n        var options;\n        var isLabelInside = axis.labelPosition === 'Inside';\n        var isTickInside = axis.tickPosition === 'Inside';\n        var isOpposed = axis.opposedPosition;\n        var tickSpace = axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0;\n        var padding = tickSpace + this.padding + axis.lineStyle.width / 2;\n        padding = (axis.opposedPosition) ? padding : -padding;\n        var anchor = ((isOpposed && isLabelInside) || (!isOpposed && !isLabelInside)) ? 'end' : 'start';\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            pointX = isLabelInside ? (rect.x - padding) : (rect.x + padding);\n            elementSize = axis.visibleLabels[i].size;\n            pointY = valueToCoefficient(axis.visibleLabels[i].value, axis) * rect.height;\n            pointY = Math.floor((pointY * -1) + (rect.y + rect.height));\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY + (elementSize.height / 4), anchor, axis.visibleLabels[i].text);\n            if (axis.edgeLabelPlacement) {\n                switch (axis.edgeLabelPlacement) {\n                    case 'None':\n                        break;\n                    case 'Hide':\n                        if (((i === 0 || (axis.isInversed && i === len - 1)) && options.y > rect.y + rect.height) ||\n                            (((i === len - 1) || (axis.isInversed && i === 0)) && options.y - elementSize.height / 2 < rect.y)) {\n                            options.text = '';\n                        }\n                        break;\n                    case 'Shift':\n                        if ((i === 0 || (axis.isInversed && i === len - 1)) && options.y > rect.y + rect.height) {\n                            options.y = pointY = rect.y + rect.height;\n                        }\n                        else if (((i === len - 1) || (axis.isInversed && i === 0)) && (options.y - elementSize.height / 2 < rect.y)) {\n                            options.y = pointY = rect.y + elementSize.height / 2;\n                        }\n                        break;\n                }\n            }\n            textElement(options, axis.labelStyle, axis.labelStyle.color || chart.themeStyle.axisLabel, labelElement);\n        }\n        if (!chart.delayRedraw) {\n            parent.appendChild(labelElement);\n        }\n        else if (axis.visible) {\n            this.createZoomingLabel(this.chart, labelElement, axis, index, rect);\n        }\n    };\n    /**\n     * To render the axis label border.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.drawYAxisBorder = function (axis, index, parent, rect) {\n        if (axis.border.width > 0) {\n            var startY = void 0;\n            var pointY = void 0;\n            var gap = (rect.height / axis.visibleRange.delta) * (axis.valueType === 'DateTime' ? axis.dateTimeInterval\n                : axis.visibleRange.interval);\n            var endY = void 0;\n            var length_1 = axis.maxLabelSize.width + 10 + ((axis.tickPosition === axis.labelPosition) ?\n                axis.majorTickLines.height : 0);\n            var labelBorder = '';\n            var ticksbwtLabel = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') ? -0.5 : 0;\n            var endX = ((axis.opposedPosition && axis.labelPosition === 'Inside') ||\n                (!axis.opposedPosition && axis.labelPosition === 'Outside')) ? rect.x - length_1 : rect.x + length_1;\n            for (var i = 0; i < axis.visibleLabels.length; i++) {\n                pointY = valueToCoefficient(axis.visibleLabels[i].value + ticksbwtLabel, axis);\n                pointY = (axis.isInversed ? (1 - pointY) : pointY) * rect.height;\n                if (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') {\n                    startY = Math.floor((pointY * -1) + (rect.y + rect.height));\n                    endY = Math.floor((pointY * -1) - (gap) + (rect.y + rect.height));\n                }\n                else {\n                    startY = Math.floor((pointY * -1) + gap / 2 + (rect.y + rect.height));\n                    endY = Math.floor((pointY * -1) - gap / 2 + (rect.y + rect.height));\n                }\n                switch (axis.border.type) {\n                    case 'Rectangle':\n                    case 'WithoutTopBorder':\n                        if (startY > (rect.y + rect.height)) {\n                            labelBorder += ('M' + ' ' + endX + ' ' + (rect.y + rect.height) + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ');\n                        }\n                        else if (Math.floor(rect.y) > (endY)) {\n                            labelBorder += ('M' + ' ' + rect.x + ' ' + startY + ' ' + 'L' + ' ' + endX\n                                + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + (rect.y) + ' ');\n                        }\n                        else {\n                            labelBorder += ('M' + ' ' + rect.x + ' ' + startY + ' ' + 'L' + ' ' + endX +\n                                ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ');\n                            if (i === axis.visibleLabels.length - 1) {\n                                labelBorder += ('M' + ' ' + rect.x + ' ' + endY + ' ' + 'L' + ' ' +\n                                    endX + ' ' + endY + ' ');\n                            }\n                        }\n                        break;\n                    case 'WithoutTopandBottomBorder':\n                        if (!(startY > rect.y + rect.height) && !((endY) < Math.floor(rect.y))) {\n                            labelBorder += ('M' + ' ' + rect.x + ' ' + startY + ' ' + 'L' + ' ' + endX +\n                                ' ' + startY + ' ' + 'M' + ' ' + endX + ' ' + endY + ' ' +\n                                'L' + ' ' + rect.x + ' ' + endY);\n                        }\n                        break;\n                }\n            }\n            labelBorder += (axis.border.type === 'Rectangle') ? ('M' + ' ' + rect.x + ' ' + rect.y + ' ' + 'L' + ' ' +\n                rect.x + ' ' + (rect.y + rect.height) + ' ') : '';\n            if (labelBorder !== '') {\n                this.createAxisBorderElement(axis, index, labelBorder, parent);\n            }\n        }\n        if (axis.multiLevelLabels.length > 0 && this.chart.multiLevelLabelModule) {\n            this.chart.multiLevelLabelModule.renderYAxisMultiLevelLabels(axis, index, parent, rect);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.drawYAxisTitle = function (axis, index, parent, rect) {\n        var chart = this.chart;\n        var labelRotation = (axis.opposedPosition) ? 90 : -90;\n        var elementSize = measureText(axis.title, axis.titleStyle);\n        var padding = (axis.tickPosition === 'Inside' ? 0 : axis.majorTickLines.height + this.padding) +\n            (axis.labelPosition === 'Inside' ? 0 :\n                (axis.maxLabelSize.width + axis.multiLevelLabelHeight + this.padding));\n        padding = axis.opposedPosition ? padding : -padding;\n        var x = rect.x + padding;\n        var y = rect.y + rect.height / 2;\n        var options = new TextOption(chart.element.id + '_AxisTitle_' + index, x, y - this.padding, 'middle', axis.title, 'rotate(' + labelRotation + ',' + (x) + ',' + (y) + ')');\n        var element = textElement(options, axis.titleStyle, axis.titleStyle.color || chart.themeStyle.axisTitle, parent);\n        element.setAttribute('aria-label', axis.description || axis.title);\n        element.setAttribute('tabindex', axis.tabIndex.toString());\n    };\n    CartesianAxisLayoutPanel.prototype.drawXAxisGridLine = function (axis, index, parent, rect) {\n        var chart = this.chart;\n        var tempInterval;\n        var pointX = 0;\n        var majorGrid = '';\n        var majorTick = '';\n        var minorGird = '';\n        var minorTick = '';\n        var minorDirection;\n        var tickSize = (axis.opposedPosition) ? -axis.majorTickLines.height : axis.majorTickLines.height;\n        var axisLineSize = (axis.opposedPosition) ? -axis.lineStyle.width / 2 : axis.lineStyle.width / 2;\n        var ticksbwtLabel = (axis.valueType.indexOf('Category') > -1 && axis.labelPlacement === 'BetweenTicks') ?\n            0.5 : 0;\n        var length = axis.visibleLabels.length;\n        var ticks = axis.tickPosition === 'Inside' ? (rect.y - tickSize - axisLineSize) : (rect.y + tickSize + axisLineSize);\n        if (axis.valueType.indexOf('Category') > -1 && length > 0 && axis.labelPlacement === 'BetweenTicks') {\n            length += 1;\n        }\n        //Gridlines\n        for (var i = 0; i < length; i++) {\n            if (axis.valueType !== 'DateTimeCategory') {\n                tempInterval = axis.visibleLabels[i] ? axis.visibleLabels[i].value - ticksbwtLabel\n                    : (axis.visibleLabels[i - 1].value + axis.visibleRange.interval) - ticksbwtLabel;\n            }\n            else {\n                tempInterval = axis.visibleLabels[i] ?\n                    axis.visibleLabels[i].value - ticksbwtLabel : axis.visibleRange.max;\n            }\n            pointX = (valueToCoefficient(tempInterval, axis) * rect.width) + rect.x;\n            if (pointX >= rect.x && (rect.x + rect.width) >= pointX) {\n                if (inside(tempInterval, axis.visibleRange) || this.isBorder(axis, i, pointX)) {\n                    majorGrid = majorGrid.concat('M ' + pointX + ' ' + (this.seriesClipRect.y + this.seriesClipRect.height) +\n                        ' L ' + pointX + ' ' + this.seriesClipRect.y + ' ');\n                }\n                majorTick = majorTick.concat('M ' + (pointX) + ' ' + (rect.y + axisLineSize) +\n                    ' L ' + (pointX) + ' ' + ticks + ' ');\n            }\n            if (axis.minorTicksPerInterval > 0 && (axis.minorGridLines.width > 0 || axis.minorTickLines.width > 0)) {\n                minorDirection = this.drawAxisMinorLine(axis, tempInterval, minorGird, minorTick, rect, i);\n                minorGird = minorDirection[0];\n                minorTick = minorDirection[1];\n            }\n        }\n        this.renderGridLine(axis, index, majorGrid, minorGird);\n        this.renderTickLine(axis, index, majorTick, minorTick, parent);\n    };\n    CartesianAxisLayoutPanel.prototype.drawAxisMinorLine = function (axis, tempInterval, minorGird, minorTick, rect, labelIndex) {\n        var value = tempInterval;\n        var coor = 0;\n        var position = 0;\n        var range = axis.visibleRange;\n        var isTickInside = axis.tickPosition === 'Inside';\n        var direction = [];\n        var tickSize = axis.opposedPosition ? -axis.minorTickLines.height : axis.minorTickLines.height;\n        var logStart;\n        var logEnd;\n        var logInterval = 1;\n        var logPosition = 1;\n        var ticksX = isTickInside ? (rect.y - tickSize) : (rect.y + tickSize);\n        var ticksY = isTickInside ? (rect.x + tickSize) : (rect.x - tickSize);\n        if (axis.valueType === 'Logarithmic') {\n            logStart = Math.pow(axis.logBase, value - range.interval);\n            logEnd = Math.pow(axis.logBase, value);\n            logInterval = (logEnd - logStart) / (axis.minorTicksPerInterval + 1);\n            logPosition = logStart + logInterval;\n        }\n        if (axis.orientation === 'Horizontal') {\n            for (var j = 0; j < axis.minorTicksPerInterval; j++) {\n                value = this.findLogNumeric(axis, logPosition, logInterval, value, labelIndex);\n                logPosition += logInterval;\n                if (inside(value, range)) {\n                    position = ((value - range.min) / (range.max - range.min));\n                    position = Math.ceil((axis.isInversed ? (1 - position) : position) * rect.width);\n                    coor = (Math.floor(position + rect.x));\n                    minorGird = minorGird.concat('M' + ' ' + coor + ' ' + (this.seriesClipRect.y)\n                        + 'L ' + coor + ' ' + (this.seriesClipRect.y + this.seriesClipRect.height));\n                    coor = (Math.floor(position + rect.x));\n                    minorTick = minorTick.concat('M' + ' ' + coor + ' ' + (rect.y)\n                        + 'L ' + coor + ' ' + ticksX);\n                }\n            }\n        }\n        else {\n            tickSize = axis.opposedPosition ? axis.minorTickLines.height : -axis.minorTickLines.height;\n            for (var j = 0; j < axis.minorTicksPerInterval; j++) {\n                value = this.findLogNumeric(axis, logPosition, logInterval, value, labelIndex);\n                if (inside(value, range)) {\n                    position = Math.ceil(((value - range.min) / (range.max - range.min)) * rect.height) * -1;\n                    coor = (Math.floor(position + rect.y + rect.height));\n                    minorGird = minorGird.concat('M' + ' ' + (this.seriesClipRect.x) + ' ' + coor\n                        + 'L ' + (this.seriesClipRect.x + this.seriesClipRect.width) + ' ' + coor);\n                    coor = (Math.floor(position + rect.y + rect.height));\n                    minorTick = minorTick.concat('M' + ' ' + rect.x + ' ' + coor + 'L ' + ticksY + ' ' + coor);\n                }\n                logPosition += logInterval;\n            }\n        }\n        direction.push(minorGird);\n        direction.push(minorTick);\n        return direction;\n    };\n    CartesianAxisLayoutPanel.prototype.findLogNumeric = function (axis, logPosition, logInterval, value, labelIndex) {\n        var range = axis.visibleRange;\n        if (axis.valueType === 'Logarithmic') {\n            value = logBase(logPosition, axis.logBase);\n        }\n        else if (axis.valueType === 'DateTime') {\n            value += axis.dateTimeInterval / (axis.minorTicksPerInterval + 1);\n        }\n        else if (axis.valueType === 'DateTimeCategory') {\n            var padding = axis.labelPlacement === 'BetweenTicks' ? 0.5 : 0;\n            value += ((axis.visibleLabels[labelIndex + 1] ?\n                axis.visibleLabels[labelIndex + 1].value - padding : axis.visibleRange.max) -\n                (axis.visibleLabels[labelIndex] ?\n                    axis.visibleLabels[labelIndex].value - padding : axis.visibleRange.min)) /\n                (axis.minorTicksPerInterval + 1);\n        }\n        else {\n            value += range.interval / (axis.minorTicksPerInterval + 1);\n        }\n        return value;\n    };\n    /**\n     * To render the axis label.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.drawXAxisLabels = function (axis, index, parent, rect) {\n        var chart = this.chart;\n        var pointX = 0;\n        var pointY = 0;\n        var elementSize;\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        var labelPosition = axis.labelPosition;\n        var islabelInside = axis.labelPosition === 'Inside';\n        var isTickInside = axis.tickPosition === 'Inside';\n        var isOpposed = axis.opposedPosition;\n        var tickSpace = axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0;\n        var labelPadding;\n        var padding = tickSpace + this.padding + axis.lineStyle.width / 2;\n        var rotateSize;\n        var diffHeight;\n        var angle;\n        var anglePadding = ((axis.angle === 90 || axis.angle === -90)) ? -2 : 0;\n        var options;\n        var yLocation;\n        var previousEnd = axis.isInversed ? (rect.x + rect.width) : rect.x;\n        var width = 0;\n        var length = axis.visibleLabels.length;\n        var intervalLength;\n        var label;\n        for (var i = 0, len = length; i < len; i++) {\n            label = axis.visibleLabels[i];\n            pointX = (valueToCoefficient(label.value, axis) * rect.width) + rect.x;\n            elementSize = label.size;\n            intervalLength = rect.width / length;\n            width = ((axis.labelIntersectAction === 'Trim' || axis.labelIntersectAction === 'Wrap')\n                && elementSize.width > intervalLength) ? intervalLength : elementSize.width;\n            pointX -= width / 2;\n            if (islabelInside && axis.angle) {\n                pointY = isOpposed ? (rect.y + padding) : (rect.y - padding);\n            }\n            else {\n                labelPadding = (isOpposed && !islabelInside) || (!isOpposed && islabelInside) ?\n                    -(padding + (axis.angle ? (3 * (elementSize.height / 4) + (2 * axis.maxLabelSize.height / 5)) :\n                        (label.index > 1 ? (2 * (elementSize.height / 4)) : 0)))\n                    : padding + (axis.angle ? (3 * (elementSize.height / 4)) + (2 * axis.maxLabelSize.height / 5)\n                        : (3 * (elementSize.height / 4)));\n                pointY = (rect.y + (labelPadding * label.index));\n            }\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY, '');\n            if (axis.edgeLabelPlacement) {\n                switch (axis.edgeLabelPlacement) {\n                    case 'None':\n                        break;\n                    case 'Hide':\n                        if (((i === 0 || (axis.isInversed && i === len - 1)) && options.x < rect.x) ||\n                            ((i === len - 1 || (axis.isInversed && i === 0)) && (options.x + width > rect.x + rect.width))) {\n                            continue;\n                        }\n                        break;\n                    case 'Shift':\n                        if ((i === 0 || (axis.isInversed && i === len - 1)) && options.x < rect.x) {\n                            intervalLength -= (rect.x - options.x);\n                            options.x = pointX = rect.x;\n                        }\n                        else if ((i === len - 1 || (axis.isInversed && i === 0)) && ((options.x + width) > rect.x + rect.width)) {\n                            if (elementSize.width > intervalLength && axis.labelIntersectAction === 'Trim') {\n                                intervalLength -= (options.x + width - (rect.x + rect.width));\n                            }\n                            else {\n                                intervalLength = width;\n                            }\n                            options.x = pointX = rect.x + rect.width - intervalLength;\n                        }\n                        break;\n                }\n            }\n            options.text = this.findAxisLabel(axis, label.text, intervalLength);\n            if (axis.angle % 360 === 0 && axis.labelIntersectAction === 'Hide' && i !== 0 &&\n                (!axis.isInversed ? options.x <= previousEnd : options.x + width >= previousEnd)) {\n                continue;\n            }\n            previousEnd = axis.isInversed ? options.x : options.x + width;\n            if (axis.angle !== 0) {\n                angle = (axis.angle > 360) ? axis.angle % 360 : axis.angle;\n                rotateSize = rotateTextSize(axis.labelStyle, label.text, angle, chart);\n                diffHeight = islabelInside ? rotateSize.height :\n                    axis.maxLabelSize.height - Math.ceil(rotateSize.height - elementSize.height);\n                yLocation = axis.opposedPosition ? diffHeight / 2 : -diffHeight / 2;\n                options.transform = 'rotate(' + angle + ',' + (pointX + width / 2 + anglePadding) + ','\n                    + (pointY + yLocation) + ')';\n                options.y += yLocation;\n            }\n            textElement(options, axis.labelStyle, axis.labelStyle.color || chart.themeStyle.axisLabel, labelElement, (axis.opposedPosition !== (axis.labelPosition === 'Inside'))).setAttribute('style', 'cursor: default');\n        }\n        if (!chart.delayRedraw) {\n            parent.appendChild(labelElement);\n        }\n        else if (axis.visible) {\n            this.createZoomingLabel(this.chart, labelElement, axis, index, rect);\n        }\n    };\n    /**\n     * To render the axis label border.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.drawXAxisBorder = function (axis, index, parent, axisRect) {\n        if (axis.border.width > 0) {\n            var startX = void 0;\n            var startY = axisRect.y;\n            var padding = 10;\n            var pointX = void 0;\n            var gap = (axisRect.width / axis.visibleRange.delta) * (axis.valueType === 'DateTime' ? axis.dateTimeInterval\n                : axis.visibleRange.interval);\n            var endX = void 0;\n            var length_2 = axis.maxLabelSize.height +\n                ((axis.tickPosition === axis.labelPosition) ? axis.majorTickLines.height : 0);\n            var labelBorder = '';\n            var ticksbwtLabel = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') ? -0.5 : 0;\n            var endY = ((axis.opposedPosition && axis.labelPosition === 'Inside') ||\n                (!axis.opposedPosition && axis.labelPosition === 'Outside')) ?\n                (axisRect.y + length_2 + padding) : (axisRect.y - length_2 - padding);\n            for (var i = 0; i < axis.visibleLabels.length; i++) {\n                pointX = valueToCoefficient(axis.visibleLabels[i].value + ticksbwtLabel, axis);\n                pointX = (axis.isInversed ? (1 - pointX) : pointX) * axisRect.width;\n                if (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') {\n                    startX = pointX + axisRect.x;\n                    endX = pointX + (gap) + axisRect.x;\n                }\n                else {\n                    startX = pointX - gap / 2 + axisRect.x;\n                    endX = pointX + gap / 2 + axisRect.x;\n                }\n                switch (axis.border.type) {\n                    case 'Rectangle':\n                    case 'WithoutTopBorder':\n                        if (startX < axisRect.x) {\n                            labelBorder += ('M' + ' ' + axisRect.x + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ');\n                        }\n                        else if (Math.floor(endX) > axisRect.width + axisRect.x) {\n                            labelBorder += ('M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                                'L' + ' ' + (axisRect.width + axisRect.x) + ' ' + endY + ' ');\n                        }\n                        else {\n                            labelBorder += ('M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' +\n                                endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ');\n                            if (i === axis.visibleLabels.length - 1) {\n                                labelBorder += ('M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ' +\n                                    'M ' + endX + ' ' + endY + ' L ' + (axisRect.width + axisRect.x) + ' ' + endY);\n                            }\n                        }\n                        break;\n                    case 'WithoutTopandBottomBorder':\n                        if (!(startX < axisRect.x) && !(Math.floor(endX) > axisRect.width + axisRect.x)) {\n                            labelBorder += ('M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                                'M ' + endX + ' ' + startY + ' L ' + endX + ' ' + endY);\n                        }\n                        break;\n                }\n            }\n            labelBorder += (axis.border.type === 'Rectangle' ? ('M ' + ' ' + axisRect.x + ' ' + startY + 'L' + ' ' +\n                (axisRect.x + axisRect.width) + ' ' + startY) : '');\n            if (labelBorder !== '') {\n                this.createAxisBorderElement(axis, index, labelBorder, parent);\n            }\n        }\n        if (this.chart.multiLevelLabelModule && axis.multiLevelLabels.length > 0) {\n            this.chart.multiLevelLabelModule.renderXAxisMultiLevelLabels(axis, index, parent, axisRect);\n        }\n    };\n    /**\n     * To create border element for axis.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.createAxisBorderElement = function (axis, index, labelBorder, parent) {\n        var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + '_BorderLine_' + index, 'transparent', axis.border.width, axis.border.color || this.chart.themeStyle.axisLine, 1, '', labelBorder));\n        borderElement.setAttribute('style', 'pointer-events: none');\n        parent.appendChild(borderElement);\n    };\n    CartesianAxisLayoutPanel.prototype.findAxisLabel = function (axis, label, width) {\n        switch (axis.labelIntersectAction) {\n            case 'Trim':\n                return textTrim(width, label, axis.labelStyle);\n            default:\n                return label;\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.drawXAxisTitle = function (axis, index, parent, rect) {\n        var chart = this.chart;\n        var elementSize = measureText(axis.title, axis.titleStyle);\n        var padding = (axis.tickPosition === 'Inside' ? 0 : axis.majorTickLines.height + this.padding) +\n            (axis.labelPosition === 'Inside' ? 0 :\n                axis.maxLabelSize.height + axis.multiLevelLabelHeight + this.padding);\n        padding = axis.opposedPosition ? -(padding + elementSize.height / 4) : (padding + (3 * elementSize.height / 4));\n        var options = new TextOption(chart.element.id + '_AxisTitle_' + index, rect.x + rect.width / 2, rect.y + padding, 'middle', axis.title);\n        var element = textElement(options, axis.titleStyle, axis.titleStyle.color || chart.themeStyle.axisTitle, parent);\n        element.setAttribute('aria-label', axis.description || axis.title);\n        element.setAttribute('tabindex', axis.tabIndex.toString());\n    };\n    CartesianAxisLayoutPanel.prototype.renderTickLine = function (axis, index, majorTick, minorTick, parent) {\n        var options;\n        var chart = this.chart;\n        if (axis.majorTickLines.width > 0 && axis.visible) {\n            options = new PathOption(chart.element.id + '_MajorTickLine_' + index, 'transparent', axis.majorTickLines.width, axis.majorTickLines.color || chart.themeStyle.majorTickLine, null, null, majorTick);\n            this.htmlObject = chart.renderer.drawPath(options);\n            parent.appendChild(this.htmlObject);\n        }\n        if (axis.minorTickLines.width > 0 && axis.visible) {\n            options = new PathOption(chart.element.id + '_MinorTickLine_' + index, 'transparent', axis.minorTickLines.width, axis.minorTickLines.color || chart.themeStyle.minorTickLine, null, null, minorTick);\n            this.htmlObject = chart.renderer.drawPath(options);\n            parent.appendChild(this.htmlObject);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.renderGridLine = function (axis, index, majorGrid, minorGird) {\n        var chart = this.chart;\n        var options;\n        if (axis.majorGridLines.width > 0) {\n            options = new PathOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines.width, axis.majorGridLines.color || chart.themeStyle.majorGridLine, null, axis.majorGridLines.dashArray, majorGrid);\n            this.htmlObject = chart.renderer.drawPath(options);\n            this.element.appendChild(this.htmlObject);\n        }\n        if (axis.minorGridLines.width > 0) {\n            options = new PathOption(chart.element.id + '_MinorGridLine_' + index, 'transparent', axis.minorGridLines.width, axis.minorGridLines.color || chart.themeStyle.minorGridLine, null, axis.minorGridLines.dashArray, minorGird);\n            this.htmlObject = chart.renderer.drawPath(options);\n            this.element.appendChild(this.htmlObject);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.findParentNode = function (chart, label, axis, index) {\n        if (axis.crossAt === null) {\n            return document.getElementById(chart.element.id + 'AxisGroup' + index + 'Inside');\n        }\n        if (document.getElementById(chart.element.id + 'AxisGroup' + index + 'Inside').contains(document.getElementById(label.id))) {\n            return document.getElementById(chart.element.id + 'AxisGroup' + index + 'Inside');\n        }\n        else {\n            return document.getElementById(chart.element.id + 'AxisGroup' + index + 'Outside');\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.createZoomingLabel = function (chart, labelElement, axis, index, rect) {\n        var parentNode = this.findParentNode(chart, labelElement, axis, index);\n        labelElement.setAttribute('opacity', '0.3');\n        var zoomElement = chart.renderer.createGroup({\n            id: chart.element.id + 'AxisLabels_Zoom' + index\n        });\n        zoomElement = createZoomingLabels(chart, axis, zoomElement, index, axis.orientation === 'Vertical', rect);\n        parentNode.replaceChild(labelElement, document.getElementById(labelElement.id));\n        if (getElement(chart.element.id + 'AxisLabels_Zoom' + index)) {\n            parentNode.replaceChild(zoomElement, document.getElementById(zoomElement.id));\n        }\n        else {\n            parentNode.appendChild(zoomElement);\n        }\n    };\n    return CartesianAxisLayoutPanel;\n}());\nexport { CartesianAxisLayoutPanel };\n","import { withInBounds, PointData, Rect, getValueXByPoint, getValueYByPoint } from '../../common/utils/helper';\n/**\n * To get the data on mouse move.\n * @private\n */\nvar ChartData = /** @class */ (function () {\n    /**\n     * Constructor for the data.\n     * @private\n     */\n    function ChartData(chart) {\n        /** @private */\n        this.currentPoints = [];\n        /** @private */\n        this.previousPoints = [];\n        this.chart = chart;\n        this.lierIndex = 0;\n    }\n    /**\n     * Method to get the Data.\n     * @private\n     */\n    ChartData.prototype.getData = function () {\n        var chart = this.chart;\n        var point = null;\n        var series = null;\n        var width;\n        var height;\n        for (var len = chart.visibleSeries.length, i = len - 1; i >= 0; i--) {\n            series = chart.visibleSeries[i];\n            width = (series.type === 'Scatter' || series.drawType === 'Scatter' || (!series.isRectSeries && series.marker.visible))\n                ? (series.marker.height + 5) / 2 : 0;\n            height = (series.type === 'Scatter' || series.drawType === 'Scatter' || (!series.isRectSeries && series.marker.visible))\n                ? (series.marker.width + 5) / 2 : 0;\n            if (series.visible && withInBounds(chart.mouseX, chart.mouseY, series.clipRect, width, height)) {\n                point = this.getRectPoint(series, series.clipRect, chart.mouseX, chart.mouseY);\n            }\n            if (point) {\n                return new PointData(point, series);\n            }\n        }\n        return new PointData(point, series);\n    };\n    ChartData.prototype.isSelected = function (chart) {\n        return (chart.selectionMode.indexOf('Drag') > -1 && chart.selectionModule && chart.selectionModule.rectPoints !== null);\n    };\n    ChartData.prototype.getRectPoint = function (series, rect, x, y) {\n        var currentRect;\n        var fromCenterX;\n        var fromCenterY;\n        var clickAngle;\n        var arcAngle = 0;\n        var startAngle;\n        var endAngle;\n        var distanceFromCenter;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (!point.regionData) {\n                if (!point.regions || !point.regions.length) {\n                    continue;\n                }\n            }\n            if (point.regionData && this.chart.chartAreaType === 'PolarRadar' && series.drawType.indexOf('Column') > -1) {\n                fromCenterX = x - (series.clipRect.width / 2 + series.clipRect.x);\n                fromCenterY = y - (series.clipRect.height / 2 + series.clipRect.y);\n                arcAngle = 2 * Math.PI * (point.regionData.currentXPosition < 0 ? 1 + point.regionData.currentXPosition\n                    : point.regionData.currentXPosition);\n                clickAngle = (Math.atan2(fromCenterY, fromCenterX) + 0.5 * Math.PI - arcAngle) % (2 * Math.PI);\n                clickAngle = clickAngle < 0 ? 2 * Math.PI + clickAngle : clickAngle;\n                clickAngle = clickAngle + 2 * Math.PI * series.chart.primaryXAxis.startAngle;\n                startAngle = point.regionData.startAngle;\n                startAngle -= arcAngle;\n                startAngle = startAngle < 0 ? 2 * Math.PI + startAngle : startAngle;\n                endAngle = point.regionData.endAngle;\n                endAngle -= arcAngle;\n                endAngle = endAngle < 0 ? 2 * Math.PI + endAngle : endAngle;\n                distanceFromCenter = Math.sqrt(Math.pow(Math.abs(fromCenterX), 2) + Math.pow(Math.abs(fromCenterY), 2));\n                if (clickAngle >= startAngle && clickAngle <= endAngle &&\n                    (((distanceFromCenter >= point.regionData.innerRadius && distanceFromCenter <= point.regionData.radius) ||\n                        (distanceFromCenter <= point.regionData.innerRadius && distanceFromCenter >= point.regionData.radius))\n                        && distanceFromCenter <= series.chart.radius)) {\n                    return point;\n                }\n            }\n            else if (this.checkRegionContainsPoint(point.regions, rect, x, y)) {\n                return point;\n            }\n        }\n        return null;\n    };\n    /**\n     * Checks whether the region contains a point\n     */\n    ChartData.prototype.checkRegionContainsPoint = function (regionRect, rect, x, y) {\n        var _this = this;\n        return regionRect.some(function (region, index) {\n            _this.lierIndex = index;\n            return withInBounds(x, y, new Rect((_this.chart.chartAreaType === 'Cartesian' ? rect.x : 0) + region.x, (_this.chart.chartAreaType === 'Cartesian' ? rect.y : 0) + region.y, region.width, region.height));\n        });\n    };\n    ChartData.prototype.getClosest = function (series, value) {\n        var xData = series.xData;\n        var closest;\n        if (value >= series.xMin - 0.5 && value <= series.xMax + 0.5) {\n            for (var _i = 0, xData_1 = xData; _i < xData_1.length; _i++) {\n                var data = xData_1[_i];\n                if (closest == null || Math.abs(data - value) < Math.abs(closest - value)) {\n                    closest = data;\n                }\n            }\n        }\n        return closest;\n    };\n    ChartData.prototype.getClosestX = function (chart, series) {\n        var value;\n        var rect = series.clipRect;\n        if (!chart.requireInvertedAxis) {\n            value = getValueXByPoint(chart.mouseX - rect.x, rect.width, series.xAxis);\n        }\n        else {\n            value = getValueYByPoint(chart.mouseY - rect.y, rect.height, series.xAxis);\n        }\n        var closest = this.getClosest(series, value);\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (closest === point.xValue && point.visible) {\n                return new PointData(point, series);\n            }\n        }\n        return null;\n    };\n    return ChartData;\n}());\nexport { ChartData };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Collection } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { StackValues, RectOption } from '../../common/utils/helper';\nimport { firstToLowerCase, Rect, logBase, CircleOption } from '../../common/utils/helper';\nimport { Border, Font, Margin, Animation, EmptyPointSettings, CornerRadius, Connector } from '../../common/model/base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { seriesRender } from '../../common/model/constants';\n/**\n * Configures the data label in the series.\n */\nvar DataLabelSettings = /** @class */ (function (_super) {\n    __extends(DataLabelSettings, _super);\n    function DataLabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], DataLabelSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], DataLabelSettings.prototype, \"name\", void 0);\n    __decorate([\n        Property('transparent')\n    ], DataLabelSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], DataLabelSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Auto')\n    ], DataLabelSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(5)\n    ], DataLabelSettings.prototype, \"rx\", void 0);\n    __decorate([\n        Property(5)\n    ], DataLabelSettings.prototype, \"ry\", void 0);\n    __decorate([\n        Property('Center')\n    ], DataLabelSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Complex({ width: null, color: null }, Border)\n    ], DataLabelSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex({ left: 5, right: 5, top: 5, bottom: 5 }, Margin)\n    ], DataLabelSettings.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ size: '11px', color: null }, Font)\n    ], DataLabelSettings.prototype, \"font\", void 0);\n    __decorate([\n        Property(null)\n    ], DataLabelSettings.prototype, \"template\", void 0);\n    return DataLabelSettings;\n}(ChildProperty));\nexport { DataLabelSettings };\n/**\n *  Configures the marker in the series.\n */\nvar MarkerSettings = /** @class */ (function (_super) {\n    __extends(MarkerSettings, _super);\n    function MarkerSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], MarkerSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Circle')\n    ], MarkerSettings.prototype, \"shape\", void 0);\n    __decorate([\n        Property('')\n    ], MarkerSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property(5)\n    ], MarkerSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(5)\n    ], MarkerSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ width: 2, color: null }, Border)\n    ], MarkerSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property(null)\n    ], MarkerSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], MarkerSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Complex({}, DataLabelSettings)\n    ], MarkerSettings.prototype, \"dataLabel\", void 0);\n    return MarkerSettings;\n}(ChildProperty));\nexport { MarkerSettings };\n/**\n * Points model for the series.\n * @private\n */\nvar Points = /** @class */ (function () {\n    function Points() {\n        this.symbolLocations = null;\n        this.regions = null;\n        this.regionData = null;\n        this.marker = {\n            visible: true\n        };\n    }\n    return Points;\n}());\nexport { Points };\n/**\n * Defines the behavior of the Trendlines\n */\nvar Trendline = /** @class */ (function (_super) {\n    __extends(Trendline, _super);\n    function Trendline() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        return _this;\n    }\n    /** @private */\n    Trendline.prototype.setDataSource = function (series, chart) {\n        if (series) {\n            this.points = series.points;\n        }\n        var type = firstToLowerCase(this.type);\n        chart.trendLineModule.initDataSource(this, chart);\n        chart.visibleSeriesCount++;\n    };\n    __decorate([\n        Property('')\n    ], Trendline.prototype, \"name\", void 0);\n    __decorate([\n        Property('Linear')\n    ], Trendline.prototype, \"type\", void 0);\n    __decorate([\n        Property(2)\n    ], Trendline.prototype, \"period\", void 0);\n    __decorate([\n        Property(2)\n    ], Trendline.prototype, \"polynomialOrder\", void 0);\n    __decorate([\n        Property(0)\n    ], Trendline.prototype, \"backwardForecast\", void 0);\n    __decorate([\n        Property(0)\n    ], Trendline.prototype, \"forwardForecast\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Trendline.prototype, \"animation\", void 0);\n    __decorate([\n        Complex({}, MarkerSettings)\n    ], Trendline.prototype, \"marker\", void 0);\n    __decorate([\n        Property(true)\n    ], Trendline.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property(null)\n    ], Trendline.prototype, \"intercept\", void 0);\n    __decorate([\n        Property('')\n    ], Trendline.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], Trendline.prototype, \"width\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], Trendline.prototype, \"legendShape\", void 0);\n    return Trendline;\n}(ChildProperty));\nexport { Trendline };\n/**\n * Configures Error bar in series.\n */\nvar ErrorBarCapSettings = /** @class */ (function (_super) {\n    __extends(ErrorBarCapSettings, _super);\n    function ErrorBarCapSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], ErrorBarCapSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property(10)\n    ], ErrorBarCapSettings.prototype, \"length\", void 0);\n    __decorate([\n        Property(null)\n    ], ErrorBarCapSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarCapSettings.prototype, \"opacity\", void 0);\n    return ErrorBarCapSettings;\n}(ChildProperty));\nexport { ErrorBarCapSettings };\nvar ChartSegment = /** @class */ (function (_super) {\n    __extends(ChartSegment, _super);\n    function ChartSegment() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ChartSegment.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartSegment.prototype, \"color\", void 0);\n    __decorate([\n        Property('0')\n    ], ChartSegment.prototype, \"dashArray\", void 0);\n    return ChartSegment;\n}(ChildProperty));\nexport { ChartSegment };\nvar ErrorBarSettings = /** @class */ (function (_super) {\n    __extends(ErrorBarSettings, _super);\n    function ErrorBarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], ErrorBarSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Fixed')\n    ], ErrorBarSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], ErrorBarSettings.prototype, \"direction\", void 0);\n    __decorate([\n        Property('Vertical')\n    ], ErrorBarSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(null)\n    ], ErrorBarSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"verticalError\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"horizontalError\", void 0);\n    __decorate([\n        Property(3)\n    ], ErrorBarSettings.prototype, \"verticalPositiveError\", void 0);\n    __decorate([\n        Property(3)\n    ], ErrorBarSettings.prototype, \"verticalNegativeError\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"horizontalPositiveError\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"horizontalNegativeError\", void 0);\n    __decorate([\n        Complex(null, ErrorBarCapSettings)\n    ], ErrorBarSettings.prototype, \"errorBarCap\", void 0);\n    return ErrorBarSettings;\n}(ChildProperty));\nexport { ErrorBarSettings };\n/**\n * Defines the common behavior of Series and Technical Indicators\n */\nvar SeriesBase = /** @class */ (function (_super) {\n    __extends(SeriesBase, _super);\n    function SeriesBase() {\n        /**\n         * The DataSource field that contains the x value.\n         * It is applicable for series and technical indicators\n         * @default ''\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.currentViewData = [];\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        /** @private */\n        _this.seriesType = 'XY';\n        return _this;\n    }\n    /**\n     * Process data for the series.\n     * @hidden\n     */\n    SeriesBase.prototype.processJsonData = function () {\n        var i = 0;\n        var len = Object.keys(this.currentViewData).length;\n        var point = new Points();\n        var textMappingName = this instanceof Series && this.marker.dataLabel.name ?\n            this.marker.dataLabel.name : '';\n        if (this instanceof Series && this.type === 'Waterfall') {\n            this.chart[firstToLowerCase(this.type) + 'SeriesModule'].\n                processWaterfallData(this.currentViewData, this);\n        }\n        this.points = [];\n        this.xMin = Infinity;\n        this.xMax = -Infinity;\n        this.yMin = Infinity;\n        this.yMax = -Infinity;\n        this.sizeMax = -Infinity;\n        this.getSeriesType();\n        if (this.xAxis.valueType === 'Category') {\n            while (i < len) {\n                point = this.dataPoint(i, textMappingName);\n                this.pushCategoryData(point, i, point.x);\n                this.pushData(point, i);\n                this.setEmptyPoint(point, i);\n                i++;\n            }\n        }\n        else if (this.xAxis.valueType.indexOf('DateTime') > -1) {\n            var option = {\n                skeleton: 'full',\n                type: 'dateTime'\n            };\n            var dateParser = this.chart.intl.getDateParser(option);\n            var dateFormatter = this.chart.intl.getDateFormat(option);\n            while (i < len) {\n                point = this.dataPoint(i, textMappingName);\n                point.x = new Date(DataUtil.parse.parseJson({ val: point.x }).val);\n                if (this.xAxis.valueType === 'DateTime') {\n                    point.xValue = Date.parse(dateParser(dateFormatter(point.x)));\n                }\n                else {\n                    this.pushCategoryData(point, i, Date.parse(dateParser(dateFormatter(point.x))).toString());\n                }\n                this.pushData(point, i);\n                this.setEmptyPoint(point, i);\n                i++;\n            }\n        }\n        else {\n            while (i < len) {\n                point = this.dataPoint(i, textMappingName);\n                point.xValue = point.x;\n                this.pushData(point, i);\n                this.setEmptyPoint(point, i);\n                i++;\n            }\n        }\n        if (this instanceof Series) {\n            if (this.type.indexOf('Spline') > -1 || (this.drawType.indexOf('Spline') > -1 && this.chart.chartAreaType === 'PolarRadar')) {\n                var isArea = (this.type.indexOf('Area') > -1 || this.drawType === 'Area');\n                this.chart['spline' + (isArea ? 'Area' : '') + 'SeriesModule'].findSplinePoint(this);\n            }\n        }\n    };\n    SeriesBase.prototype.pushData = function (point, i) {\n        point.index = i;\n        point.yValue = point.y;\n        // To find the min, max for the axis range.\n        this.xMin = Math.min(this.xMin, point.xValue);\n        this.xMax = Math.max(this.xMax, point.xValue);\n        this.xData.push(point.xValue);\n    };\n    /** @private */\n    SeriesBase.prototype.dataPoint = function (i, textMappingName) {\n        var point;\n        this.points[i] = new Points();\n        point = this.points[i];\n        var currentViewData = this.currentViewData;\n        point.x = getValue(this.xName, currentViewData[i]);\n        point.high = getValue(this.high, currentViewData[i]);\n        point.low = getValue(this.low, currentViewData[i]);\n        point.open = getValue(this.open, currentViewData[i]);\n        point.close = getValue(this.close, currentViewData[i]);\n        point.volume = getValue(this.volume, currentViewData[i]);\n        point.interior = getValue(this.pointColorMapping, currentViewData[i]);\n        if (this instanceof Series) {\n            point.y = getValue(this.yName, currentViewData[i]);\n            point.size = getValue(this.size, currentViewData[i]);\n            point.text = getValue(textMappingName, currentViewData[i]);\n        }\n        return point;\n    };\n    /**\n     * To set empty point value based on empty point mode\n     * @private\n     */\n    SeriesBase.prototype.setEmptyPoint = function (point, i) {\n        if (!this.findVisibility(point)) {\n            point.visible = true;\n            return null;\n        }\n        point.isEmpty = true;\n        var mode = this instanceof Series ? this.emptyPointSettings.mode : 'Drop';\n        switch (mode) {\n            case 'Zero':\n                point.visible = true;\n                if (this instanceof Series && this.seriesType.indexOf('HighLow') > -1) {\n                    point.high = point.low = 0;\n                    if (this.seriesType.indexOf('HighLowOpenClose') > -1) {\n                        point.open = point.close = 0;\n                    }\n                }\n                else {\n                    point.y = point.yValue = this.yData[i] = 0;\n                }\n                break;\n            case 'Average':\n                if (this instanceof Series) {\n                    if (this.seriesType.indexOf('HighLow') > -1) {\n                        point.high = isNullOrUndefined(point.high) ? this.getAverage(this.high, i) : point.high;\n                        point.low = isNullOrUndefined(point.low) ? this.getAverage(this.low, i) : point.low;\n                        if (this.seriesType.indexOf('HighLowOpenClose') > -1) {\n                            point.open = isNullOrUndefined(point.open) ? this.getAverage(this.open, i) : point.open;\n                            point.close = isNullOrUndefined(point.close) ? this.getAverage(this.close, i) :\n                                point.close;\n                        }\n                    }\n                    else {\n                        point.y = point.yValue = this.yData[i] = this.getAverage(this.yName, i);\n                    }\n                }\n                point.visible = true;\n                break;\n            case 'Drop':\n            case 'Gap':\n                this.yData[i] = null;\n                point.visible = false;\n                break;\n        }\n    };\n    SeriesBase.prototype.findVisibility = function (point) {\n        var type = this instanceof Series ? this.seriesType : 'HighLowOpenClose';\n        var yValues;\n        switch (type) {\n            case 'XY':\n                this.setXYMinMax(point.yValue);\n                this.yData.push(point.yValue);\n                if (this instanceof Series && this.type === 'Bubble') {\n                    this.sizeMax = Math.max(this.sizeMax, isNullOrUndefined(point.size) ? this.sizeMax : point.size);\n                }\n                return isNullOrUndefined(point.x) || isNullOrUndefined(point.y);\n            case 'HighLow':\n                this.setHiloMinMax(point.high, point.low);\n                return isNullOrUndefined(point.x) || isNullOrUndefined(point.low) || isNullOrUndefined(point.high);\n            case 'HighLowOpenClose':\n                this.setHiloMinMax(point.high, point.low);\n                return isNullOrUndefined(point.x) || isNullOrUndefined(point.low) ||\n                    isNullOrUndefined(point.open) || isNullOrUndefined(point.close)\n                    || isNullOrUndefined(point.high);\n            case 'BoxPlot':\n                yValues = (point.y || [null]).filter(function (value) {\n                    return !isNullOrUndefined(value);\n                }).sort(function (a, b) {\n                    return a - b;\n                });\n                point.y = yValues;\n                this.yMin = Math.min(this.yMin, Math.min.apply(Math, yValues));\n                this.yMax = Math.max(this.yMax, Math.max.apply(Math, yValues));\n                return !yValues.length;\n        }\n    };\n    /**\n     * To get Y min max for the provided point seriesType XY\n     */\n    SeriesBase.prototype.setXYMinMax = function (yValue) {\n        this.yMin = Math.min(this.yMin, isNullOrUndefined(yValue) ? this.yMin : yValue);\n        this.yMax = Math.max(this.yMax, isNullOrUndefined(yValue) ? this.yMax : yValue);\n    };\n    /**\n     * To get Y min max for the provided point seriesType XY\n     */\n    SeriesBase.prototype.setHiloMinMax = function (high, low) {\n        this.yMin = Math.min(this.yMin, Math.min(isNullOrUndefined(low) ? this.yMin : low, isNullOrUndefined(high) ? this.yMin : high));\n        this.yMax = Math.max(this.yMax, Math.max(isNullOrUndefined(low) ? this.yMax : low, isNullOrUndefined(high) ? this.yMax : high));\n    };\n    /**\n     * Finds the type of the series\n     * @private\n     */\n    SeriesBase.prototype.getSeriesType = function () {\n        var type;\n        if (this instanceof Series) {\n            var seriesType = this.chart.chartAreaType === 'PolarRadar' ? this.drawType : this.type;\n            if (seriesType) {\n                switch (seriesType) {\n                    case 'RangeColumn':\n                    case 'RangeArea':\n                    case 'Hilo':\n                        type = 'HighLow';\n                        break;\n                    case 'HiloOpenClose':\n                    case 'Candle':\n                        type = 'HighLowOpenClose';\n                        break;\n                    case 'BoxAndWhisker':\n                        type = 'BoxPlot';\n                        break;\n                    default:\n                        type = 'XY';\n                }\n            }\n        }\n        this.seriesType = type;\n    };\n    /** @private */\n    SeriesBase.prototype.pushCategoryData = function (point, index, pointX) {\n        if (!this.xAxis.isIndexed) {\n            if (this.xAxis.labels.indexOf(pointX) < 0) {\n                this.xAxis.labels.push(pointX);\n            }\n            point.xValue = this.xAxis.labels.indexOf(pointX);\n        }\n        else {\n            this.xAxis.labels[index] ? this.xAxis.labels[index] += ', ' + pointX :\n                this.xAxis.labels.push(pointX);\n            point.xValue = index;\n        }\n    };\n    /**\n     * To find average of given property\n     */\n    SeriesBase.prototype.getAverage = function (member, i, data) {\n        if (data === void 0) { data = this.currentViewData; }\n        var previous = data[i - 1] ? (data[i - 1][member] || 0) : 0;\n        var next = data[i + 1] ? (data[i + 1][member] || 0) : 0;\n        return (previous + next) / 2;\n    };\n    /**\n     * To find the control points for spline.\n     * @return {void}\n     * @private\n     */\n    SeriesBase.prototype.refreshDataManager = function (chart) {\n        var _this = this;\n        this.chart = chart;\n        if (isNullOrUndefined(this.query) && !isNullOrUndefined(this.dataSource)) {\n            this.dataManagerSuccess({ result: this.dataSource, count: this.dataSource.length }, chart, false);\n            return;\n        }\n        var dataManager = this.dataModule.getData(this.dataModule.generateQuery().requiresCount());\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e, chart); });\n    };\n    SeriesBase.prototype.dataManagerSuccess = function (e, chart, isRemoteData) {\n        if (isRemoteData === void 0) { isRemoteData = true; }\n        this.currentViewData = e.result !== '' ? e.result : [];\n        if (this instanceof Series) {\n            var argsData = {\n                name: seriesRender, series: this, data: this.currentViewData, fill: this.interior\n            };\n            this.chart.trigger(seriesRender, argsData);\n            this.interior = argsData.fill;\n            this.currentViewData = argsData.data;\n        }\n        this.processJsonData();\n        this.recordsCount = e.count;\n        this.refreshChart(isRemoteData);\n    };\n    SeriesBase.prototype.refreshChart = function (isRemoteData) {\n        var chart = this.chart;\n        if (this instanceof Series) {\n            chart.visibleSeriesCount += isRemoteData ? 1 : 0;\n        }\n        chart.refreshTechnicalIndicator(this);\n        if (this instanceof Series && this.category !== 'TrendLine') {\n            for (var _i = 0, _a = this.trendlines; _i < _a.length; _i++) {\n                var trendline = _a[_i];\n                trendline.setDataSource(this, chart);\n            }\n        }\n        //if (chart.visibleSeries.length === (chart.visibleSeriesCount - chart.indicators.length)) {\n        if (chart.visibleSeries.length === (chart.visibleSeriesCount)) {\n            chart.refreshBound();\n            chart.trigger('loaded', { chart: chart });\n        }\n        if (this instanceof Series) {\n            chart.visibleSeriesCount += isRemoteData ? 0 : 1;\n        }\n    };\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"xName\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"high\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"low\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"open\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"close\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"volume\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"pointColorMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], SeriesBase.prototype, \"xAxisName\", void 0);\n    __decorate([\n        Property(null)\n    ], SeriesBase.prototype, \"yAxisName\", void 0);\n    __decorate([\n        Complex(null, Animation)\n    ], SeriesBase.prototype, \"animation\", void 0);\n    __decorate([\n        Property(null)\n    ], SeriesBase.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], SeriesBase.prototype, \"width\", void 0);\n    __decorate([\n        Property('0')\n    ], SeriesBase.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], SeriesBase.prototype, \"query\", void 0);\n    __decorate([\n        Collection([], ChartSegment)\n    ], SeriesBase.prototype, \"segments\", void 0);\n    __decorate([\n        Property('X')\n    ], SeriesBase.prototype, \"segmentAxis\", void 0);\n    return SeriesBase;\n}(ChildProperty));\nexport { SeriesBase };\n/**\n *  Configures the series in charts.\n */\nvar Series = /** @class */ (function (_super) {\n    __extends(Series, _super);\n    // tslint:disable-next-line:no-any\n    function Series(parent, propName, defaultValue, isArray) {\n        var _this = _super.call(this, parent, propName, defaultValue, isArray) || this;\n        _this.visibleSeriesCount = 0;\n        /** @private */\n        _this.category = 'Series';\n        /** @private */\n        _this.isRectSeries = false;\n        /** @private */\n        _this.drawPoints = [];\n        /** @private */\n        _this.delayedAnimation = false;\n        return _this;\n    }\n    /**\n     * Refresh the axis label.\n     * @return {boolean}\n     * @private\n     */\n    Series.prototype.refreshAxisLabel = function () {\n        if (this.xAxis.valueType !== 'Category') {\n            return null;\n        }\n        this.xAxis.labels = [];\n        for (var _i = 0, _a = this.xAxis.series; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.visible) {\n                item.xMin = Infinity;\n                item.xMax = -Infinity;\n                for (var _b = 0, _c = item.points; _b < _c.length; _b++) {\n                    var point = _c[_b];\n                    item.pushCategoryData(point, point.index, point.x);\n                    item.xMin = Math.min(item.xMin, point.xValue);\n                    item.xMax = Math.max(item.xMax, point.xValue);\n                }\n            }\n        }\n    };\n    /**\n     * To get the series collection.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.findSeriesCollection = function (column, row, isStack) {\n        var seriesCollection = [];\n        for (var _i = 0, _a = row.axes; _i < _a.length; _i++) {\n            var rowAxis = _a[_i];\n            for (var _b = 0, _c = rowAxis.series; _b < _c.length; _b++) {\n                var rowSeries = _c[_b];\n                for (var _d = 0, _e = column.axes; _d < _e.length; _d++) {\n                    var axis = _e[_d];\n                    for (var _f = 0, _g = axis.series; _f < _g.length; _f++) {\n                        var series = _g[_f];\n                        if (series === rowSeries && series.visible && this.rectSeriesInChart(series, isStack)) {\n                            seriesCollection.push(series);\n                        }\n                    }\n                }\n            }\n        }\n        return seriesCollection;\n    };\n    /**\n     * To get the column type series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.rectSeriesInChart = function (series, isStack) {\n        var type = (series.type).toLowerCase();\n        return (type.indexOf('column') !== -1 || type.indexOf('bar') !== -1 ||\n            type.indexOf('hiloopenclose') !== -1 || type.indexOf('candle') !== -1 ||\n            type.indexOf('hilo') !== -1 || series.drawType.indexOf('Column') !== -1 ||\n            type.indexOf('waterfall') !== -1 || type.indexOf('boxandwhisker') !== -1 || isStack);\n    };\n    /**\n     * To calculate the stacked values.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.calculateStackedValue = function (isStacking100, chart) {\n        var axisSeries;\n        for (var _i = 0, _a = chart.columns; _i < _a.length; _i++) {\n            var columnItem = _a[_i];\n            for (var _b = 0, _c = chart.rows; _b < _c.length; _b++) {\n                var item = _c[_b];\n                this.calculateStackingValues(this.findSeriesCollection(columnItem, item, true), isStacking100);\n            }\n        }\n    };\n    Series.prototype.calculateStackingValues = function (seriesCollection, isStacking100) {\n        var startValues;\n        var endValues;\n        var yValues = [];\n        var lastPositive = [];\n        var lastNegative = [];\n        var stackingGroup;\n        var lastValue;\n        var value;\n        var frequencies = [];\n        if (isStacking100) {\n            frequencies = this.findFrequencies(seriesCollection);\n        }\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            if (series.type.indexOf('Stacking') !== -1 || (series.drawType.indexOf('Stacking') !== -1 &&\n                (series.chart.chartAreaType === 'PolarRadar'))) {\n                stackingGroup = (series.type.indexOf('StackingArea') !== -1) ? 'StackingArea100' : series.stackingGroup;\n                if (!lastPositive[stackingGroup]) {\n                    lastPositive[stackingGroup] = [];\n                    lastNegative[stackingGroup] = [];\n                }\n                yValues = series.yData;\n                startValues = [];\n                endValues = [];\n                for (var j = 0, pointsLength = series.points.length; j < pointsLength; j++) {\n                    lastValue = 0;\n                    value = yValues[j];\n                    if (lastPositive[stackingGroup][series.points[j].xValue] === undefined) {\n                        lastPositive[stackingGroup][series.points[j].xValue] = 0;\n                    }\n                    if (lastNegative[stackingGroup][series.points[j].xValue] === undefined) {\n                        lastNegative[stackingGroup][series.points[j].xValue] = 0;\n                    }\n                    if (isStacking100) {\n                        value = value / frequencies[stackingGroup][series.points[j].xValue] * 100;\n                        value = !isNaN(value) ? value : 0;\n                        series.points[j].percent = value.toFixed(2);\n                    }\n                    if (value >= 0) {\n                        lastValue = lastPositive[stackingGroup][series.points[j].xValue];\n                        lastPositive[stackingGroup][series.points[j].xValue] += value;\n                    }\n                    else {\n                        lastValue = lastNegative[stackingGroup][series.points[j].xValue];\n                        lastNegative[stackingGroup][series.points[j].xValue] += value;\n                    }\n                    startValues.push(lastValue);\n                    endValues.push(value + lastValue);\n                    if (isStacking100 && (endValues[j] > 100)) {\n                        endValues[j] = 100;\n                    }\n                }\n                series.stackedValues = new StackValues(startValues, endValues);\n                series.yMin = Math.min.apply(0, startValues);\n                series.yMax = Math.max.apply(0, endValues);\n                if (series.yMin > Math.min.apply(0, endValues)) {\n                    series.yMin = (isStacking100) ? -100 : Math.min.apply(0, endValues);\n                }\n                if (series.yMax < Math.max.apply(0, startValues)) {\n                    series.yMax = 0;\n                }\n            }\n        }\n    };\n    Series.prototype.findFrequencies = function (seriesCollection) {\n        var frequencies = [];\n        var stackingGroup;\n        for (var _i = 0, seriesCollection_2 = seriesCollection; _i < seriesCollection_2.length; _i++) {\n            var series = seriesCollection_2[_i];\n            series.yAxis.isStack100 = series.type.indexOf('100') !== -1 ? true : false;\n            if (series.type.indexOf('Stacking') !== -1) {\n                stackingGroup = (series.type.indexOf('StackingArea') !== -1) ? 'StackingArea100' : series.stackingGroup;\n                if (!frequencies[stackingGroup]) {\n                    frequencies[stackingGroup] = [];\n                }\n                for (var j = 0, pointsLength = series.points.length; j < pointsLength; j++) {\n                    if (frequencies[stackingGroup][series.points[j].xValue] === undefined) {\n                        frequencies[stackingGroup][series.points[j].xValue] = 0;\n                    }\n                    if (series.yData[j] > 0) {\n                        frequencies[stackingGroup][series.points[j].xValue] += series.yData[j];\n                    }\n                    else {\n                        frequencies[stackingGroup][series.points[j].xValue] -= series.yData[j];\n                    }\n                }\n            }\n        }\n        return frequencies;\n    };\n    /**\n     * To find the log values.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.logWithIn = function (value, axis) {\n        if (axis.valueType === 'Logarithmic') {\n            value = logBase(value, axis.logBase);\n        }\n        else {\n            value = value;\n        }\n        return value;\n    };\n    /* private dataManagerFailure(e: { result: Object[] }): void {\n         this.currentViewData = [];\n         this.refreshChart();\n     }*/\n    /** @private */\n    Series.prototype.renderSeries = function (chart, index) {\n        var seriesType = firstToLowerCase(this.type);\n        if (seriesType.indexOf('100') !== -1) {\n            seriesType = seriesType.replace('100', '');\n        }\n        if (chart[seriesType + 'SeriesModule']) {\n            if (this.category !== 'Indicator' && this.category !== 'TrendLine') {\n                this.createSeriesElements(chart);\n            }\n            chart[seriesType + 'SeriesModule'].render(this, this.xAxis, this.yAxis, chart.requireInvertedAxis);\n            if (this.category !== 'Indicator') {\n                if (this.errorBar.visible) {\n                    this.chart.errorBarModule.render(this);\n                }\n                if (this.marker.dataLabel.visible) {\n                    chart.dataLabelModule.render(this, this.chart, this.marker.dataLabel);\n                }\n                this.appendSeriesElement(chart.seriesElements, chart);\n            }\n            this.performAnimation(chart, seriesType, this.errorBar, this.marker, this.marker.dataLabel);\n        }\n    };\n    /**\n     * To create seris element.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.createSeriesElements = function (chart) {\n        if (this.category !== 'Indicator') {\n            var elementId = chart.element.id;\n            var xAxisRect = this.xAxis.rect;\n            // 8 for extend border value 5 for extend size value\n            var explodeValue = this.marker.border.width + 8 + 5;\n            var yAxisRect = this.yAxis.rect;\n            var marker = this.marker;\n            var render = chart.renderer;\n            var index = this.index;\n            var markerHeight = (this.type === 'Scatter') ? (this.marker.height + explodeValue) / 2 : 0;\n            var markerWidth = (this.type === 'Scatter') ? (this.marker.width + explodeValue) / 2 : 0;\n            if (chart.chartAreaType === 'PolarRadar') {\n                this.clipRectElement = render.drawCircularClipPath(new CircleOption(elementId + '_ChartSeriesClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, this.clipRect.width / 2 + this.clipRect.x, this.clipRect.height / 2 + this.clipRect.y, chart.radius));\n            }\n            else {\n                this.clipRectElement = render.drawClipPath(new RectOption(elementId + '_ChartSeriesClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                    x: -markerWidth, y: -markerHeight,\n                    width: this.clipRect.width + markerWidth * 2,\n                    height: this.clipRect.height + markerHeight * 2\n                }));\n            }\n            var transform = void 0;\n            transform = chart.chartAreaType === 'Cartesian' ? 'translate(' + this.clipRect.x + ',' + (this.clipRect.y) + ')' : '';\n            this.symbolElement = null;\n            this.seriesElement = render.createGroup({\n                'id': elementId + 'SeriesGroup' + index,\n                'transform': transform,\n                'clip-path': 'url(#' + elementId + '_ChartSeriesClipRect_' + index + ')'\n            });\n            this.seriesElement.appendChild(this.clipRectElement);\n        }\n    };\n    /**\n     * To append the series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.appendSeriesElement = function (element, chart) {\n        var marker = this.marker;\n        var dataLabel = marker.dataLabel;\n        if (this.category !== 'TrendLine') {\n            chart.seriesElements.appendChild(this.seriesElement);\n            var errorBar = this.errorBar;\n            if (errorBar.visible) {\n                if (chart.chartAreaType === 'PolarRadar') {\n                    chart.seriesElements.appendChild(this.seriesElement);\n                }\n                else {\n                    chart.seriesElements.appendChild(this.errorBarElement);\n                }\n            }\n            if (this.type === 'Scatter' || this.type === 'Bubble') {\n                chart.seriesElements.appendChild(this.seriesElement);\n            }\n        }\n        if (marker.visible && ((chart.chartAreaType === 'Cartesian' && (!this.isRectSeries || this.type === 'BoxAndWhisker'))\n            || ((this.drawType !== 'Scatter' && !this.isRectSeries) && chart.chartAreaType === 'PolarRadar')) &&\n            this.type !== 'Scatter' && this.type !== 'Bubble') {\n            chart.seriesElements.appendChild(this.symbolElement);\n        }\n        if (dataLabel.visible) {\n            chart.dataLabelElements.appendChild(this.shapeElement);\n            chart.dataLabelElements.appendChild(this.textElement);\n        }\n        if (chart.dataLabelElements.hasChildNodes()) {\n            chart.seriesElements.appendChild(chart.dataLabelElements);\n        }\n    };\n    /**\n     * To perform animation for chart series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.performAnimation = function (chart, type, errorBar, marker, dataLabel) {\n        if (this.animation.enable && chart.animateSeries) {\n            chart[type + 'SeriesModule'].doAnimation(this);\n            if (errorBar.visible) {\n                chart.errorBarModule.doErrorBarAnimation(this);\n            }\n            if (marker.visible) {\n                chart.markerRender.doMarkerAnimation(this);\n            }\n            if (dataLabel.visible) {\n                chart.dataLabelModule.doDataLabelAnimation(this);\n            }\n        }\n    };\n    /**\n     * To set border color for empty point\n     * @private\n     */\n    Series.prototype.setPointColor = function (point, color) {\n        color = point.interior || color;\n        return point.isEmpty ? (this.emptyPointSettings.fill || color) : color;\n    };\n    /**\n     * To set border color for empty point\n     * @private\n     */\n    Series.prototype.setBorderColor = function (point, border) {\n        border.width = point.isEmpty ? (this.emptyPointSettings.border.width || border.width) : border.width;\n        border.color = point.isEmpty ? (this.emptyPointSettings.border.color || border.color) : border.color;\n        return border;\n    };\n    __decorate([\n        Property('')\n    ], Series.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], Series.prototype, \"yName\", void 0);\n    __decorate([\n        Property('Line')\n    ], Series.prototype, \"drawType\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"isClosed\", void 0);\n    __decorate([\n        Property('#2ecd71')\n    ], Series.prototype, \"bearFillColor\", void 0);\n    __decorate([\n        Property('#e74c3d')\n    ], Series.prototype, \"bullFillColor\", void 0);\n    __decorate([\n        Property(false)\n    ], Series.prototype, \"enableSolidCandles\", void 0);\n    __decorate([\n        Property('')\n    ], Series.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Series.prototype, \"stackingGroup\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"visible\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 0 }, Border)\n    ], Series.prototype, \"border\", void 0);\n    __decorate([\n        Property(1)\n    ], Series.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Line')\n    ], Series.prototype, \"type\", void 0);\n    __decorate([\n        Complex(null, ErrorBarSettings)\n    ], Series.prototype, \"errorBar\", void 0);\n    __decorate([\n        Complex(null, MarkerSettings)\n    ], Series.prototype, \"marker\", void 0);\n    __decorate([\n        Collection([], Trendline)\n    ], Series.prototype, \"trendlines\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], Series.prototype, \"legendShape\", void 0);\n    __decorate([\n        Property(null)\n    ], Series.prototype, \"selectionStyle\", void 0);\n    __decorate([\n        Property(1)\n    ], Series.prototype, \"minRadius\", void 0);\n    __decorate([\n        Property(3)\n    ], Series.prototype, \"maxRadius\", void 0);\n    __decorate([\n        Property('Natural')\n    ], Series.prototype, \"splineType\", void 0);\n    __decorate([\n        Property(0.5)\n    ], Series.prototype, \"cardinalSplineTension\", void 0);\n    __decorate([\n        Complex(null, EmptyPointSettings)\n    ], Series.prototype, \"emptyPointSettings\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"showMean\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Series.prototype, \"boxPlotMode\", void 0);\n    __decorate([\n        Property(0.7)\n    ], Series.prototype, \"columnWidth\", void 0);\n    __decorate([\n        Property(0)\n    ], Series.prototype, \"columnSpacing\", void 0);\n    __decorate([\n        Property('#C64E4A')\n    ], Series.prototype, \"negativeFillColor\", void 0);\n    __decorate([\n        Property('#4E81BC')\n    ], Series.prototype, \"summaryFillColor\", void 0);\n    __decorate([\n        Property()\n    ], Series.prototype, \"intermediateSumIndexes\", void 0);\n    __decorate([\n        Property()\n    ], Series.prototype, \"sumIndexes\", void 0);\n    __decorate([\n        Complex({ color: 'black', width: 2 }, Connector)\n    ], Series.prototype, \"connector\", void 0);\n    __decorate([\n        Complex(null, CornerRadius)\n    ], Series.prototype, \"cornerRadius\", void 0);\n    return Series;\n}(SeriesBase));\nexport { Series };\n","import { Query, DataManager } from '@syncfusion/ej2-data';\n/**\n * data module is used to generate query and dataSource\n */\nvar Data = /** @class */ (function () {\n    /**\n     * Constructor for data module\n     * @private\n     */\n    function Data(dataSource, query) {\n        this.initDataManager(dataSource, query);\n    }\n    /**\n     * The function used to initialize dataManager and query\n     * @return {void}\n     * @private\n     */\n    Data.prototype.initDataManager = function (dataSource, query) {\n        this.dataManager = dataSource instanceof DataManager ? dataSource : new DataManager(dataSource);\n        this.query = query instanceof Query ? query : new Query();\n    };\n    /**\n     * The function used to generate updated Query from chart model\n     * @return {void}\n     * @private\n     */\n    Data.prototype.generateQuery = function () {\n        var query = this.query.clone();\n        return query;\n    };\n    /**\n     * The function used to get dataSource by executing given Query\n     * @param  {Query} query - A Query that specifies to generate dataSource\n     * @return {void}\n     * @private\n     */\n    Data.prototype.getData = function (query) {\n        return this.dataManager.executeQuery(query);\n    };\n    return Data;\n}());\nexport { Data };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { drawSymbol, PathOption, Size } from '../../common/utils/helper';\nimport { Browser, extend, remove } from '@syncfusion/ej2-base';\nimport { ChartData } from '../../chart/utils/get-data';\nimport { withInBounds, PointData, stopTimer } from '../../common/utils/helper';\nimport { colorNameToHex, convertHexToColor } from '../../common/utils/helper';\n/**\n * Marker Module used to render the marker for line type series.\n */\nvar MarkerExplode = /** @class */ (function (_super) {\n    __extends(MarkerExplode, _super);\n    /**\n     * Constructor for the marker module.\n     * @private\n     */\n    function MarkerExplode(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.addEventListener();\n        _this.elementId = chart.element.id;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    /**\n     * @hidden\n     */\n    /* public removeEventListener(): void {\n         if (this.chart.isDestroyed) { return; }\n         this.chart.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n    }*/\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.mouseUpHandler = function () {\n        var chart = this.chart;\n        if (chart.isTouch && !chart.crosshair.enable && !this.isSelected(chart)) {\n            this.markerMove(true);\n        }\n    };\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.mouseMoveHandler = function () {\n        var chart = this.chart;\n        if ((!chart.crosshair.enable || (chart.tooltip.enable)) && (!chart.isTouch || chart.startMove) && !this.isSelected(chart)) {\n            this.markerMove(false);\n        }\n    };\n    MarkerExplode.prototype.markerMove = function (remove) {\n        var _this = this;\n        var chart = this.chart;\n        this.currentPoints = [];\n        var data;\n        var previous;\n        var explodeSeries;\n        if (!chart.tooltip.shared || !chart.tooltip.enable) {\n            data = this.getData();\n            previous = this.previousPoints[0];\n            explodeSeries = data.series && (data.series.type === 'BoxAndWhisker' || data.series.type === 'Bubble' || data.series.drawType === 'Scatter'\n                || data.series.type === 'Scatter' || (!data.series.isRectSeries && data.series.marker.visible));\n            data.lierIndex = this.lierIndex;\n            if (data.point && explodeSeries && ((!previous || (previous.point !== data.point)) ||\n                (previous && previous.lierIndex > 3 && previous.lierIndex !== this.lierIndex))) {\n                this.currentPoints.push(data);\n            }\n        }\n        else {\n            if (!withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                return null;\n            }\n            if (chart.tooltip.enable) {\n                var pointData = chart.chartAreaType === 'PolarRadar' ? this.getData() : null;\n                for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                    var chartSeries = _a[_i];\n                    if (!chartSeries.enableTooltip || chartSeries.category === 'Indicator') {\n                        continue;\n                    }\n                    if (chart.chartAreaType === 'Cartesian' && chartSeries.visible) {\n                        data = this.getClosestX(chart, chartSeries);\n                    }\n                    else if (chart.chartAreaType === 'PolarRadar' && chartSeries.visible && pointData.point !== null) {\n                        data = new PointData(chartSeries.points[pointData.point.index], chartSeries);\n                    }\n                    if (data) {\n                        this.currentPoints.push(data);\n                        data = null;\n                    }\n                }\n            }\n        }\n        var length = this.previousPoints.length;\n        if (this.currentPoints.length > 0) {\n            if (length === 0 || (length > 0 && this.previousPoints[0].point !== this.currentPoints[0].point)) {\n                if (this.previousPoints.length > 0) {\n                    this.removeHighlightedMarker();\n                }\n                var _loop_1 = function (data_1) {\n                    if (data_1 && data_1.point &&\n                        (!data_1.series.isRectSeries || data_1.series.type === 'BoxAndWhisker')) {\n                        stopTimer(this_1.markerExplode);\n                        this_1.isRemove = true;\n                        data_1.point.symbolLocations.map(function (location, index) {\n                            if (data_1.point.marker.visible) {\n                                _this.drawTrackBall(data_1.series, data_1.point, location, index);\n                            }\n                        });\n                    }\n                };\n                var this_1 = this;\n                for (var _b = 0, _c = this.currentPoints; _b < _c.length; _b++) {\n                    var data_1 = _c[_b];\n                    _loop_1(data_1);\n                }\n                this.previousPoints = extend([], this.currentPoints, null, true);\n            }\n        }\n        if (!chart.tooltip.enable && ((this.currentPoints.length === 0 && this.isRemove) || (remove && this.isRemove) ||\n            !withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect))) {\n            this.isRemove = false;\n            this.markerExplode = setTimeout(function () {\n                _this.removeHighlightedMarker();\n            }, 2000);\n        }\n        this.currentPoints = [];\n    };\n    MarkerExplode.prototype.drawTrackBall = function (series, point, location, index) {\n        var marker = point.marker;\n        var seriesMarker = series.marker;\n        var shape = marker.shape || seriesMarker.shape;\n        var element = series.symbolElement || series.seriesElement;\n        var symbolId = this.elementId + '_Series_' + series.index + '_Point_' + point.index + '_Trackball' +\n            (index ? index : '');\n        var size = new Size((marker.width || seriesMarker.width) + 5, (marker.height || seriesMarker.height) + 5);\n        var border = (marker.border || series.border);\n        var explodeSeries = (series.type === 'BoxAndWhisker' || series.type === 'Bubble' || series.type === 'Scatter');\n        var borderColor = (border.color && border.color !== 'transparent') ? border.color :\n            marker.fill || point.interior || (explodeSeries ? point.color : series.interior);\n        var colorValue = convertHexToColor(colorNameToHex(borderColor));\n        var borderWidth = marker.border ? marker.border.width : seriesMarker.border.width;\n        var markerShadow = series.chart.themeStyle.markerShadow ||\n            'rgba(' + colorValue.r + ',' + colorValue.g + ',' + colorValue.b + ',0.2)';\n        for (var i = 0; i < 2; i++) {\n            var options = new PathOption(symbolId + '_' + i, i ? (marker.fill || point.color || (explodeSeries ? series.interior : '#ffffff')) : 'transparent', borderWidth + (i ? 0 : 8), i ? borderColor : markerShadow, (marker.opacity || seriesMarker.opacity), null, null);\n            var symbol = drawSymbol(location, shape, size, seriesMarker.imageUrl, options, '');\n            symbol.setAttribute('style', 'pointer-events:none');\n            symbol.setAttribute('class', 'EJ2-Trackball');\n            element.appendChild(symbol);\n        }\n    };\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.removeHighlightedMarker = function () {\n        var elements = document.getElementsByClassName('EJ2-Trackball');\n        for (var i = 0, len = elements.length; i < len; i++) {\n            remove(elements[0]);\n        }\n        this.previousPoints = [];\n    };\n    return MarkerExplode;\n}(ChartData));\nexport { MarkerExplode };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { drawSymbol, PathOption, Size, markerAnimate, CircleOption, RectOption } from '../../common/utils/helper';\nimport { findlElement } from '../../common/utils/helper';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pointRender } from '../../common/model/constants';\nimport { MarkerExplode } from './marker-explode';\nimport { getSaturationColor } from '../../common/utils/helper';\n/**\n * Marker module used to render the marker for line type series.\n */\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    /**\n     * Constructor for the marker module.\n     * @private\n     */\n    function Marker(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Render the marker for series.\n     * @return {void}\n     * @private\n     */\n    Marker.prototype.render = function (series) {\n        var _this = this;\n        this.createElement(series);\n        var _loop_1 = function (point) {\n            if (point.visible && point.symbolLocations.length) {\n                point.symbolLocations.map(function (location, index) {\n                    _this.renderMarker(series, point, location, index);\n                });\n            }\n        };\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            _loop_1(point);\n        }\n    };\n    Marker.prototype.renderMarker = function (series, point, location, index) {\n        var seriesIndex = series.index;\n        var marker = series.marker;\n        var border = {\n            color: marker.border.color,\n            width: marker.border.width\n        };\n        var borderColor = marker.border.color;\n        var symbolId;\n        var shapeOption;\n        var isBoxPlot = series.type === 'BoxAndWhisker';\n        var fill = marker.fill || (isBoxPlot ? point.interior || series.interior : '#ffffff');\n        var argsData;\n        var parentElement = isBoxPlot ?\n            findlElement(series.seriesElement.childNodes, 'Series_' + series.index + '_Point_' + point.index)\n            : series.symbolElement;\n        border.color = borderColor || series.setPointColor(point, series.interior);\n        symbolId = this.elementId + '_Series_' + seriesIndex + '_Point_' + point.index + '_Symbol' +\n            (index ? index : '');\n        argsData = {\n            cancel: false, name: pointRender, series: series, point: point,\n            fill: point.isEmpty ? (series.emptyPointSettings.fill || fill) : fill,\n            border: {\n                color: series.type === 'BoxAndWhisker' ?\n                    (!isNullOrUndefined(borderColor) && borderColor !== 'transparent') ? borderColor :\n                        getSaturationColor(fill, -0.6)\n                    : border.color,\n                width: border.width\n            },\n            height: marker.height,\n            width: marker.width,\n            shape: marker.shape\n        };\n        argsData.border = series.setBorderColor(point, { width: argsData.border.width, color: argsData.border.color });\n        this.chart.trigger(pointRender, argsData);\n        point.color = argsData.fill;\n        if (!argsData.cancel) {\n            var y = void 0;\n            if (series.type === 'RangeArea') {\n                y = index ? point.low : point.high;\n            }\n            else if (isBoxPlot) {\n                y = point.outliers[index];\n            }\n            else {\n                y = point.y;\n            }\n            shapeOption = new PathOption(symbolId, argsData.fill, argsData.border.width, argsData.border.color, marker.opacity, null);\n            if (parentElement !== undefined && parentElement !== null) {\n                parentElement.appendChild(drawSymbol(location, argsData.shape, new Size(argsData.width, argsData.height), marker.imageUrl, shapeOption, point.x.toString() + ':' + y.toString()));\n            }\n            point.marker = {\n                border: argsData.border,\n                fill: argsData.fill,\n                height: argsData.height,\n                visible: true,\n                shape: argsData.shape,\n                width: argsData.width\n            };\n        }\n        else {\n            location = null;\n            point.marker = {\n                visible: false\n            };\n        }\n    };\n    Marker.prototype.createElement = function (series) {\n        var markerClipRect;\n        var marker = series.marker;\n        // 8 for extend border value 5 for extend size value\n        var explodeValue = marker.border.width + 8 + 5;\n        var render = series.chart.renderer;\n        var transform;\n        transform = series.chart.chartAreaType === 'Cartesian' ? 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')' : '';\n        if (marker.visible) {\n            var markerHeight = (marker.height + explodeValue) / 2;\n            var markerWidth = (marker.width + explodeValue) / 2;\n            if (series.chart.chartAreaType === 'Cartesian') {\n                markerClipRect = render.drawClipPath(new RectOption(this.elementId + '_ChartMarkerClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                    x: -markerWidth, y: -markerHeight,\n                    width: series.clipRect.width + markerWidth * 2,\n                    height: series.clipRect.height + markerHeight * 2\n                }));\n            }\n            else {\n                markerClipRect = render.drawCircularClipPath(new CircleOption(this.elementId + '_ChartMarkerClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, series.clipRect.width / 2 + series.clipRect.x, series.clipRect.height / 2 + series.clipRect.y, series.chart.radius + Math.max(markerHeight, markerWidth)));\n            }\n            series.symbolElement = render.createGroup({\n                'id': this.elementId + 'SymbolGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.elementId + '_ChartMarkerClipRect_' + series.index + ')'\n            });\n            series.symbolElement.appendChild(markerClipRect);\n        }\n    };\n    Marker.prototype.getRangeLowPoint = function (region, series) {\n        var x = region.x;\n        var y = region.y;\n        if (series.chart.requireInvertedAxis) {\n            y += region.height / 2;\n            x += series.yAxis.isInversed ? region.width : 0;\n        }\n        else {\n            y += series.yAxis.isInversed ? 0 : region.height;\n            x += region.width / 2;\n        }\n        return { x: x, y: y };\n    };\n    /**\n     * Animates the marker.\n     * @return {void}.\n     * @private\n     */\n    Marker.prototype.doMarkerAnimation = function (series) {\n        if (!(series.isRectSeries || series.type === 'Scatter' || series.type === 'Bubble' ||\n            (series.chart.chartAreaType === 'PolarRadar' && (series.drawType === 'Scatter' || series.drawType.indexOf('Column') > -1)))) {\n            var markerElements = series.symbolElement.childNodes;\n            var delay = series.animation.delay + series.animation.duration;\n            var j = 1;\n            var incFactor = series.type === 'RangeArea' ? 2 : 1;\n            for (var i = 0; i < series.points.length; i++) {\n                if (!series.points[i].symbolLocations.length) {\n                    continue;\n                }\n                markerAnimate(markerElements[j], delay, 200, series, i, series.points[i].symbolLocations[0], false);\n                if (incFactor === 2) {\n                    var lowPoint = this.getRangeLowPoint(series.points[i].regions[0], series);\n                    markerAnimate(markerElements[j + 1], delay, 200, series, i, lowPoint, false);\n                }\n                j += incFactor;\n            }\n        }\n    };\n    return Marker;\n}(MarkerExplode));\nexport { Marker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, Complex, ChildProperty } from '@syncfusion/ej2-base';\nimport { Font, Border } from '../model/base';\nimport { Theme } from '../model/theme';\nimport { Size, Rect, subtractThickness, Thickness, drawSymbol, measureText, ChartLocation, PathOption } from '../utils/helper';\nimport { RectOption, TextOption, textElement, stringToNumber, removeElement, showTooltip, getElement } from '../utils/helper';\n/**\n * Configures the location for the legend.\n */\nvar Location = /** @class */ (function (_super) {\n    __extends(Location, _super);\n    function Location() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Location.prototype, \"x\", void 0);\n    __decorate([\n        Property(0)\n    ], Location.prototype, \"y\", void 0);\n    return Location;\n}(ChildProperty));\nexport { Location };\n/**\n * Configures the legends in charts.\n */\nvar LegendSettings = /** @class */ (function (_super) {\n    __extends(LegendSettings, _super);\n    function LegendSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0 }, Location)\n    ], LegendSettings.prototype, \"location\", void 0);\n    __decorate([\n        Property('Auto')\n    ], LegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(8)\n    ], LegendSettings.prototype, \"padding\", void 0);\n    __decorate([\n        Property('Center')\n    ], LegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, Font)\n    ], LegendSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(10)\n    ], LegendSettings.prototype, \"shapeHeight\", void 0);\n    __decorate([\n        Property(10)\n    ], LegendSettings.prototype, \"shapeWidth\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], LegendSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property(5)\n    ], LegendSettings.prototype, \"shapePadding\", void 0);\n    __decorate([\n        Property('transparent')\n    ], LegendSettings.prototype, \"background\", void 0);\n    __decorate([\n        Property(1)\n    ], LegendSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"toggleVisibility\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"description\", void 0);\n    __decorate([\n        Property(3)\n    ], LegendSettings.prototype, \"tabIndex\", void 0);\n    return LegendSettings;\n}(ChildProperty));\nexport { LegendSettings };\n/**\n * Legend base class for Chart and Accumulation chart.\n * @private\n */\nvar BaseLegend = /** @class */ (function () {\n    /**\n     * Constructor for the dateTime module.\n     * @private\n     */\n    function BaseLegend(chart) {\n        this.rowCount = 0; // legend row counts per page \n        this.columnCount = 0; // legend column counts per page \n        this.pageButtonSize = 8;\n        this.pageXCollections = []; // pages of x locations\n        this.maxColumns = 0;\n        this.isTrimmed = false;\n        this.maxWidth = 0;\n        this.currentPage = 1;\n        this.chart = chart;\n        this.legend = chart.legendSettings;\n        this.legendID = chart.element.id + '_chart_legend';\n        this.isChartControl = (chart.getModuleName() === 'chart');\n    }\n    /**\n     * Calculate the bounds for the legends.\n     * @return {void}\n     * @private\n     */\n    BaseLegend.prototype.calculateLegendBounds = function (rect, availableSize) {\n        var legend = this.legend;\n        this.getPosition(legend.position, availableSize);\n        this.legendBounds = new Rect(rect.x, rect.y, 0, 0);\n        this.isVertical = (this.position === 'Left' || this.position === 'Right');\n        if (this.isVertical) {\n            this.legendBounds.height = stringToNumber(legend.height, availableSize.height - (rect.y - this.chart.margin.top)) || rect.height;\n            this.legendBounds.width = stringToNumber(legend.width || '20%', availableSize.width);\n        }\n        else {\n            this.legendBounds.width = stringToNumber(legend.width, availableSize.width) || rect.width;\n            this.legendBounds.height = stringToNumber(legend.height || '20%', availableSize.height);\n        }\n        this.library.getLegendBounds(availableSize, this.legendBounds, legend);\n        this.getLocation(this.position, legend.alignment, this.legendBounds, rect, availableSize);\n    };\n    /**\n     * To find legend position based on available size for chart and accumulation chart\n     */\n    BaseLegend.prototype.getPosition = function (position, availableSize) {\n        if (this.isChartControl) {\n            this.position = (position !== 'Auto') ? position : 'Bottom';\n        }\n        else {\n            if (position === 'Auto' && this.chart.visibleSeries &&\n                (this.chart.visibleSeries[0].type === 'Funnel' || this.chart.visibleSeries[0].type === 'Pyramid')) {\n                position = 'Top';\n            }\n            this.position = (position !== 'Auto') ? position :\n                (availableSize.width > availableSize.height ? 'Right' : 'Bottom');\n        }\n    };\n    /**\n     * To set bounds for chart and accumulation chart\n     */\n    BaseLegend.prototype.setBounds = function (computedWidth, computedHeight, legend, legendBounds) {\n        computedWidth = computedWidth < legendBounds.width ? computedWidth : legendBounds.width;\n        computedHeight = computedHeight < legendBounds.height ? computedHeight : legendBounds.height;\n        legendBounds.width = !legend.width ? computedWidth : legendBounds.width;\n        legendBounds.height = !legend.height ? computedHeight : legendBounds.height;\n        this.rowCount = Math.max(1, Math.ceil((legendBounds.height - legend.padding) / (this.maxItemHeight + legend.padding)));\n    };\n    /**\n     * To find legend location based on position, alignment for chart and accumulation chart\n     */\n    BaseLegend.prototype.getLocation = function (position, alignment, legendBounds, rect, availableSize) {\n        var padding = this.legend.border.width;\n        var legendHeight = legendBounds.height + padding;\n        var legendWidth = legendBounds.width + padding;\n        var marginBottom = this.chart.margin.bottom;\n        if (position === 'Bottom') {\n            legendBounds.x = this.alignLegend(legendBounds.x, availableSize.width, legendBounds.width, alignment);\n            legendBounds.y = rect.y + (rect.height - legendHeight) + padding;\n            subtractThickness(rect, new Thickness(0, 0, 0, legendHeight));\n        }\n        else if (position === 'Top') {\n            legendBounds.x = this.alignLegend(legendBounds.x, availableSize.width, legendBounds.width, alignment);\n            legendBounds.y = rect.y + padding;\n            subtractThickness(rect, new Thickness(0, 0, legendHeight, 0));\n        }\n        else if (position === 'Right') {\n            legendBounds.x = rect.x + (rect.width - legendBounds.width);\n            legendBounds.y = rect.y + this.alignLegend(0, availableSize.height - (rect.y + marginBottom), legendBounds.height, alignment);\n            subtractThickness(rect, new Thickness(0, legendWidth, 0, 0));\n        }\n        else if (position === 'Left') {\n            legendBounds.y = rect.y + this.alignLegend(0, availableSize.height - (rect.y + marginBottom), legendBounds.height, alignment);\n            subtractThickness(rect, new Thickness(legendWidth, 0, 0, 0));\n        }\n        else {\n            legendBounds.x = this.legend.location.x;\n            legendBounds.y = this.legend.location.y;\n            subtractThickness(rect, new Thickness(0, 0, 0, 0));\n        }\n    };\n    /**\n     * To find legend alignment for chart and accumulation chart\n     */\n    BaseLegend.prototype.alignLegend = function (start, size, legendSize, alignment) {\n        switch (alignment) {\n            case 'Far':\n                start = (size - legendSize) - start;\n                break;\n            case 'Center':\n                start = ((size - legendSize) / 2);\n                break;\n        }\n        return start;\n    };\n    /**\n     * Renders the legend.\n     * @return {void}\n     * @private\n     */\n    BaseLegend.prototype.renderLegend = function (chart, legend, legendBounds) {\n        var firstLegend = this.findFirstLegendPosition(this.legendCollections);\n        var padding = legend.padding;\n        this.maxItemHeight = Math.max(this.legendCollections[0].textSize.height, legend.shapeHeight);\n        var legendGroup = chart.renderer.createGroup({ id: this.legendID + '_g' });\n        var legendTranslateGroup = this.createLegendElements(chart, legendBounds, legendGroup, legend, this.legendID);\n        if (firstLegend !== this.legendCollections.length) {\n            var legendSeriesGroup = void 0; // legendItem group for each series group element\n            var start = void 0; // starting shape center x,y position && to resolve lint error used new line for declaration\n            start = new ChartLocation(legendBounds.x + padding + (legend.shapeWidth / 2), legendBounds.y + padding + this.maxItemHeight / 2);\n            var textOptions = new TextOption('', start.x, start.y, 'start');\n            //  initialization for totalPages legend click totalpage again calculate\n            this.totalPages = this.isChartControl ? this.totalPages : 0;\n            var textPadding = legend.shapePadding + padding + legend.shapeWidth;\n            var count = 0;\n            this.pageXCollections = [];\n            this.legendCollections[firstLegend].location = start;\n            var previousLegend = this.legendCollections[firstLegend];\n            for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n                var legendOption = _a[_i];\n                if (legendOption.render && legendOption.text !== '') {\n                    legendSeriesGroup = chart.renderer.createGroup({\n                        id: this.legendID + this.generateId(legendOption, '_g_', count)\n                    });\n                    legendSeriesGroup.setAttribute('tabindex', legend.tabIndex.toString());\n                    legendSeriesGroup.setAttribute('aria-label', legend.description || 'Click to show or hide the ' + legendOption.text + ' series');\n                    this.library.getRenderPoint(legendOption, start, textPadding, previousLegend, legendBounds, count, firstLegend);\n                    this.renderSymbol(legendOption, legendSeriesGroup, count);\n                    this.renderText(chart, legendOption, legendSeriesGroup, textOptions, count);\n                    legendSeriesGroup.setAttribute('style', 'cursor: ' + ((!legend.toggleVisibility && chart.selectionMode === 'None') ? 'auto' : 'pointer'));\n                    legendTranslateGroup.appendChild(legendSeriesGroup);\n                    previousLegend = legendOption;\n                }\n                count++;\n            }\n            if (this.isPaging) {\n                this.renderPagingElements(chart, legendBounds, textOptions, legendGroup);\n            }\n        }\n        chart.svgObject.appendChild(legendGroup);\n    };\n    /**\n     * To find first valid legend text index for chart and accumulation chart\n     */\n    BaseLegend.prototype.findFirstLegendPosition = function (legendCollection) {\n        var count = 0;\n        for (var _i = 0, legendCollection_1 = legendCollection; _i < legendCollection_1.length; _i++) {\n            var legend = legendCollection_1[_i];\n            if (legend.render && legend.text !== '') {\n                break;\n            }\n            count++;\n        }\n        return count;\n    };\n    /**\n     * To create legend rendering elements for chart and accumulation chart\n     */\n    BaseLegend.prototype.createLegendElements = function (chart, legendBounds, legendGroup, legend, id) {\n        var padding = legend.padding;\n        var options = new RectOption(id + '_element', legend.background, legend.border, legend.opacity, legendBounds);\n        legendGroup.appendChild(chart.renderer.drawRectangle(options));\n        var legendItemsGroup = chart.renderer.createGroup({ id: id + '_collections' });\n        legendGroup.appendChild(legendItemsGroup);\n        this.legendTranslateGroup = chart.renderer.createGroup({ id: id + '_translate_g' });\n        legendItemsGroup.appendChild(this.legendTranslateGroup);\n        var clippath = chart.renderer.createClipPath({ id: id + '_clipPath' });\n        options.y += padding;\n        options.id += '_clipPath_rect';\n        options.width = (!this.isChartControl && this.isVertical) ? this.maxWidth - padding : legendBounds.width;\n        this.clipRect = chart.renderer.drawRectangle(options);\n        clippath.appendChild(this.clipRect);\n        chart.svgObject.appendChild(clippath);\n        legendItemsGroup.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n        return this.legendTranslateGroup;\n    };\n    /**\n     * To render legend symbols for chart and accumulation chart\n     */\n    BaseLegend.prototype.renderSymbol = function (legendOption, group, i) {\n        var symbolColor = legendOption.visible ? legendOption.fill : '#D3D3D3';\n        var shape = (legendOption.shape === 'SeriesType') ? legendOption.type : legendOption.shape;\n        shape = shape === 'Scatter' ? legendOption.markerShape : shape;\n        var symbolOption = new PathOption(this.legendID + this.generateId(legendOption, '_shape_', i), symbolColor, 1, symbolColor, 1, '', '');\n        group.appendChild(drawSymbol(legendOption.location, shape, new Size(this.legend.shapeWidth, this.legend.shapeHeight), '', symbolOption, 'Click to show or hide the ' + legendOption.text + ' series'));\n        if (shape === 'Line' && legendOption.markerVisibility && legendOption.markerShape !== 'Image' ||\n            legendOption.type === 'Doughnut') {\n            symbolOption.id = this.legendID + this.generateId(legendOption, '_shape_marker_', i);\n            shape = legendOption.type === 'Doughnut' ? 'Circle' : legendOption.markerShape;\n            symbolOption.fill = legendOption.type === 'Doughnut' ? '#FFFFFF' : symbolOption.fill;\n            group.appendChild(drawSymbol(legendOption.location, shape, new Size(this.legend.shapeWidth / 2, this.legend.shapeHeight / 2), '', symbolOption, 'Click to show or hide the ' + legendOption.text + ' series'));\n        }\n    };\n    /**\n     * To render legend text for chart and accumulation chart\n     */\n    BaseLegend.prototype.renderText = function (chart, legendOption, group, textOptions, i) {\n        var legend = chart.legendSettings;\n        var hiddenColor = '#D3D3D3';\n        textOptions.id = this.legendID + this.generateId(legendOption, '_text_', i);\n        var fontcolor = legendOption.visible ? legend.textStyle.color || chart.themeStyle.legendLabel : hiddenColor;\n        textOptions.text = legendOption.text;\n        textOptions.x = legendOption.location.x + (legend.shapeWidth / 2) + legend.shapePadding;\n        textOptions.y = legendOption.location.y + this.maxItemHeight / 4;\n        var element = textElement(textOptions, legend.textStyle, fontcolor, group);\n        element.setAttribute('aria-label', legend.description || 'Click to show or hide the ' + legendOption.text + ' series');\n    };\n    /**\n     * To render legend paging elements for chart and accumulation chart\n     */\n    BaseLegend.prototype.renderPagingElements = function (chart, bounds, textOption, legendGroup) {\n        var paginggroup = chart.renderer.createGroup({ id: this.legendID + '_navigation' });\n        legendGroup.appendChild(paginggroup);\n        var grayColor = '#545454';\n        var legend = chart.legendSettings; // to solve parameter lint error, legend declaration is here\n        var padding = 8; // const padding for paging elements\n        if (this.isChartControl || !this.isVertical) {\n            this.totalPages = Math.ceil(this.totalPages / Math.max(1, this.rowCount - 1));\n        }\n        else {\n            this.totalPages = Math.ceil(this.totalPages / this.maxColumns);\n        }\n        var symbolOption = new PathOption(this.legendID + '_pageup', 'transparent', 5, grayColor, 1, '', '');\n        var iconSize = this.pageButtonSize;\n        paginggroup.setAttribute('style', 'cursor: pointer');\n        // Page left arrow drawing calculation started here\n        this.clipPathHeight = (this.rowCount - 1) * (this.maxItemHeight + legend.padding);\n        this.clipRect.setAttribute('height', this.clipPathHeight.toString());\n        var x = bounds.x + iconSize / 2;\n        var y = bounds.y + this.clipPathHeight + ((bounds.height - this.clipPathHeight) / 2);\n        paginggroup.appendChild(drawSymbol({ x: x, y: y }, 'LeftArrow', new Size(iconSize, iconSize), '', symbolOption, 'LeftArrow'));\n        // Page numbering rendering calculation started here\n        textOption.x = x + (iconSize / 2) + padding;\n        var size = measureText(this.totalPages + '/' + this.totalPages, legend.textStyle);\n        textOption.y = y + (size.height / 4);\n        textOption.id = this.legendID + '_pagenumber';\n        textOption.text = '1/' + this.totalPages;\n        var pageTextElement = textElement(textOption, legend.textStyle, legend.textStyle.color, paginggroup);\n        // Page right arrow rendering calculation started here\n        x = (textOption.x + padding + (iconSize / 2) + size.width);\n        symbolOption.id = this.legendID + '_pagedown';\n        paginggroup.appendChild(drawSymbol({ x: x, y: y }, 'RightArrow', new Size(iconSize, iconSize), '', symbolOption, 'RightArrow'));\n        // placing the navigation buttons and page numbering in legend right corner\n        paginggroup.setAttribute('transform', 'translate(' + (bounds.width - (2 * (iconSize + padding) +\n            padding + size.width)) + ', ' + 0 + ')');\n        this.translatePage(pageTextElement, this.currentPage - 1, this.currentPage);\n    };\n    /**\n     * To translate legend pages for chart and accumulation chart\n     */\n    BaseLegend.prototype.translatePage = function (pagingText, page, pageNumber) {\n        var size = (this.clipPathHeight) * page;\n        var translate = 'translate(0,-' + size + ')';\n        if (!this.isChartControl && this.isVertical) {\n            var pageLength = page * this.maxColumns;\n            size = this.pageXCollections[page * this.maxColumns] - this.legendBounds.x;\n            size = size < 0 ? 0 : size; // to avoid small pixel variation\n            translate = 'translate(-' + size + ',0)';\n        }\n        this.legendTranslateGroup.setAttribute('transform', translate);\n        pagingText.textContent = (pageNumber) + '/' + this.totalPages;\n        this.currentPage = pageNumber;\n    };\n    /**\n     * To change legend pages for chart and accumulation chart\n     */\n    BaseLegend.prototype.changePage = function (event, pageUp) {\n        var pageText = document.getElementById(this.legendID + '_pagenumber');\n        var page = parseInt(pageText.textContent.split('/')[0], 10);\n        if (pageUp && page > 1) {\n            this.translatePage(pageText, (page - 2), (page - 1));\n        }\n        else if (!pageUp && page < this.totalPages) {\n            this.translatePage(pageText, page, (page + 1));\n        }\n    };\n    /**\n     * To find legend elements id based on chart or accumulation chart\n     * @private\n     */\n    BaseLegend.prototype.generateId = function (option, prefix, count) {\n        if (this.isChartControl) {\n            return prefix + count;\n        }\n        else {\n            return prefix + option.pointIndex;\n        }\n    };\n    /**\n     * To show or hide trimmed text tooltip for legend.\n     * @return {void}\n     * @private\n     */\n    BaseLegend.prototype.move = function (event) {\n        var _this = this;\n        var x = this.chart.mouseX;\n        var y = this.chart.mouseY;\n        if (event.target.textContent.indexOf('...') > -1) {\n            var targetId = event.target.id.split(this.legendID + '_text_');\n            if (targetId.length === 2) {\n                var index = parseInt(targetId[1], 10);\n                var element = this.chart.element;\n                if (!isNaN(index)) {\n                    if (this.chart.isTouch) {\n                        removeElement(this.chart.element.id + '_EJ2_Legend_Tooltip');\n                    }\n                    if (this.isChartControl) {\n                        showTooltip(this.chart.series[index].name, x, y, element.offsetWidth, element.id + '_EJ2_Legend_Tooltip', getElement(this.chart.element.id + '_Secondary_Element'));\n                    }\n                    else {\n                        showTooltip(this.chart.visibleSeries[0].points[index].x.toString(), x + 10, y + 10, element.offsetWidth, element.id + '_EJ2_Legend_Tooltip', getElement(this.chart.element.id + '_Secondary_Element'));\n                    }\n                }\n            }\n        }\n        else {\n            removeElement(this.chart.element.id + '_EJ2_Legend_Tooltip');\n        }\n        if (this.chart.isTouch) {\n            clearTimeout(this.clearTooltip);\n            this.clearTooltip = setTimeout(function () { removeElement(_this.chart.element.id + '_EJ2_Legend_Tooltip'); }, 1000);\n        }\n    };\n    return BaseLegend;\n}());\nexport { BaseLegend };\n/**\n * Class for legend options\n * @private\n */\nvar LegendOptions = /** @class */ (function () {\n    function LegendOptions(text, fill, shape, visible, type, markerShape, markerVisibility, pointIndex, seriesIndex) {\n        this.location = { x: 0, y: 0 };\n        this.text = text;\n        this.fill = fill;\n        this.shape = shape;\n        this.visible = visible;\n        this.type = type;\n        this.markerVisibility = markerVisibility;\n        this.markerShape = markerShape;\n        this.pointIndex = pointIndex;\n        this.seriesIndex = seriesIndex;\n    }\n    return LegendOptions;\n}());\nexport { LegendOptions };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../series/chart-series-model.d.ts' />\nimport { Property, Complex } from '@syncfusion/ej2-base';\nimport { Connector } from '../../common/model/base';\nimport { SeriesBase } from '../series/chart-series';\nimport { Rect, firstToLowerCase } from '../../common/utils/helper';\n/**\n * Defines how to represent the market trend using technical indicators\n */\nvar TechnicalIndicator = /** @class */ (function (_super) {\n    __extends(TechnicalIndicator, _super);\n    function TechnicalIndicator() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        return _this;\n    }\n    /** @private */\n    TechnicalIndicator.prototype.setDataSource = function (series, chart) {\n        if (series) {\n            this.xData = series.xData;\n            this.yData = series.yData;\n            this.points = series.points;\n        }\n        var type = firstToLowerCase(this.type);\n        chart[type + 'IndicatorModule'].initDataSource(this, chart);\n        chart.visibleSeriesCount += this.targetSeries.length;\n    };\n    __decorate([\n        Property('Sma')\n    ], TechnicalIndicator.prototype, \"type\", void 0);\n    __decorate([\n        Property(14)\n    ], TechnicalIndicator.prototype, \"period\", void 0);\n    __decorate([\n        Property(14)\n    ], TechnicalIndicator.prototype, \"kPeriod\", void 0);\n    __decorate([\n        Property(3)\n    ], TechnicalIndicator.prototype, \"dPeriod\", void 0);\n    __decorate([\n        Property(80)\n    ], TechnicalIndicator.prototype, \"overBought\", void 0);\n    __decorate([\n        Property(20)\n    ], TechnicalIndicator.prototype, \"overSold\", void 0);\n    __decorate([\n        Property(2)\n    ], TechnicalIndicator.prototype, \"standardDeviation\", void 0);\n    __decorate([\n        Property('Close')\n    ], TechnicalIndicator.prototype, \"field\", void 0);\n    __decorate([\n        Property(12)\n    ], TechnicalIndicator.prototype, \"slowPeriod\", void 0);\n    __decorate([\n        Property(26)\n    ], TechnicalIndicator.prototype, \"fastPeriod\", void 0);\n    __decorate([\n        Property(true)\n    ], TechnicalIndicator.prototype, \"showZones\", void 0);\n    __decorate([\n        Complex({ color: '#ff9933', width: 2 }, Connector)\n    ], TechnicalIndicator.prototype, \"macdLine\", void 0);\n    __decorate([\n        Property('Both')\n    ], TechnicalIndicator.prototype, \"macdType\", void 0);\n    __decorate([\n        Property('#2ecd71')\n    ], TechnicalIndicator.prototype, \"macdPositiveColor\", void 0);\n    __decorate([\n        Property('#e74c3d')\n    ], TechnicalIndicator.prototype, \"macdNegativeColor\", void 0);\n    __decorate([\n        Property('rgba(211,211,211,0.25)')\n    ], TechnicalIndicator.prototype, \"bandColor\", void 0);\n    __decorate([\n        Complex({ color: '#ffb735', width: 1 }, Connector)\n    ], TechnicalIndicator.prototype, \"upperLine\", void 0);\n    __decorate([\n        Complex({ color: '#f2ec2f', width: 1 }, Connector)\n    ], TechnicalIndicator.prototype, \"lowerLine\", void 0);\n    __decorate([\n        Complex({ color: '#f2ec2f', width: 1 }, Connector)\n    ], TechnicalIndicator.prototype, \"periodLine\", void 0);\n    __decorate([\n        Property('')\n    ], TechnicalIndicator.prototype, \"seriesName\", void 0);\n    return TechnicalIndicator;\n}(SeriesBase));\nexport { TechnicalIndicator };\n","import { print as printWindow, createElement, isNullOrUndefined, Browser } from '@syncfusion/ej2-base';\nimport { getElement } from '../utils/helper';\nimport { beforePrint } from '../model/constants';\nimport { PdfPageOrientation, PdfDocument, PdfBitmap } from '@syncfusion/ej2-pdf-export';\n/**\n * Annotation Module handles the Annotation for chart and accumulation series.\n */\nvar ExportUtils = /** @class */ (function () {\n    /**\n     * Constructor for chart and accumulation annotation\n     * @param control\n     */\n    function ExportUtils(control) {\n        this.control = control;\n    }\n    /**\n     * To print the accumulation and chart elements\n     * @param elements\n     */\n    ExportUtils.prototype.print = function (elements) {\n        this.printWindow = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWindow.moveTo(0, 0);\n        this.printWindow.resizeTo(screen.availWidth, screen.availHeight);\n        var argsData = {\n            cancel: false, htmlContent: this.getHTMLContent(elements), name: beforePrint\n        };\n        this.control.trigger(beforePrint, argsData);\n        if (!argsData.cancel) {\n            printWindow(argsData.htmlContent, this.printWindow);\n        }\n    };\n    /**\n     * To get the html string of the chart and accumulation\n     * @param elements\n     * @private\n     */\n    ExportUtils.prototype.getHTMLContent = function (elements) {\n        var div = createElement('div');\n        if (elements) {\n            if (elements instanceof Array) {\n                elements.forEach(function (value) {\n                    div.appendChild(getElement(value).cloneNode(true));\n                });\n            }\n            else if (elements instanceof Element) {\n                div.appendChild(elements.cloneNode(true));\n            }\n            else {\n                div.appendChild(getElement(elements).cloneNode(true));\n            }\n        }\n        else {\n            div.appendChild(this.control.element.cloneNode(true));\n        }\n        return div;\n    };\n    /**\n     * To export the file as image/svg format\n     * @param type\n     * @param fileName\n     */\n    ExportUtils.prototype.export = function (type, fileName, orientation) {\n        var _this = this;\n        var element = createElement('canvas', {\n            id: 'ej2-canvas',\n            attrs: {\n                'width': this.control.availableSize.width.toString(),\n                'height': this.control.availableSize.height.toString()\n            }\n        });\n        var isDownload = !(Browser.userAgent.toString().indexOf('HeadlessChrome') > -1);\n        orientation = isNullOrUndefined(orientation) ? PdfPageOrientation.Landscape : orientation;\n        var svgData = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">' +\n            this.control.svgObject.outerHTML +\n            '</svg>';\n        var url = window.URL.createObjectURL(new Blob(type === 'SVG' ? [svgData] :\n            [(new XMLSerializer()).serializeToString(this.control.svgObject)], { type: 'image/svg+xml' }));\n        if (type === 'SVG') {\n            this.triggerDownload(fileName, type, url, isDownload);\n        }\n        else {\n            var image_1 = new Image();\n            var ctx_1 = element.getContext('2d');\n            image_1.onload = (function () {\n                ctx_1.drawImage(image_1, 0, 0);\n                window.URL.revokeObjectURL(url);\n                if (type === 'PDF') {\n                    var document_1 = new PdfDocument();\n                    var imageString = element.toDataURL('image/jpeg').replace('image/jpeg', 'image/octet-stream');\n                    document_1.pageSettings.orientation = orientation;\n                    imageString = imageString.slice(imageString.indexOf(',') + 1);\n                    document_1.pages.add().graphics.drawImage(new PdfBitmap(imageString), 0, 0, _this.control.availableSize.width, _this.control.availableSize.height);\n                    if (isDownload) {\n                        document_1.save(fileName + '.pdf');\n                        document_1.destroy();\n                    }\n                }\n                else {\n                    if (window.navigator.msSaveOrOpenBlob) {\n                        window.navigator.msSaveOrOpenBlob(element.msToBlob(), fileName + '.' + type.toLocaleLowerCase());\n                    }\n                    else {\n                        _this.triggerDownload(fileName, type, element.toDataURL('image/png').replace('image/png', 'image/octet-stream'), isDownload);\n                    }\n                }\n            });\n            image_1.src = url;\n        }\n    };\n    /**\n     * To trigger the download element\n     * @param fileName\n     * @param type\n     * @param url\n     */\n    ExportUtils.prototype.triggerDownload = function (fileName, type, url, isDownload) {\n        createElement('a', {\n            attrs: {\n                'download': fileName + '.' + type.toLocaleLowerCase(),\n                'href': url\n            }\n        }).dispatchEvent(new MouseEvent(isDownload ? 'click' : 'move', {\n            view: window,\n            bubbles: false,\n            cancelable: true\n        }));\n    };\n    return ExportUtils;\n}());\nexport { ExportUtils };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, NotifyPropertyChanges, Internationalization } from '@syncfusion/ej2-base';\nimport { L10n, createElement } from '@syncfusion/ej2-base';\nimport { ChildProperty } from '@syncfusion/ej2-base';\nimport { remove, extend } from '@syncfusion/ej2-base';\nimport { Browser, Touch } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, Complex, Collection } from '@syncfusion/ej2-base';\nimport { findClipRect, measureText, TextOption, showTooltip, removeElement } from '../common/utils/helper';\nimport { textElement, RectOption, createSvg, firstToLowerCase, titlePositionX } from '../common/utils/helper';\nimport { getSeriesColor, Theme, getThemeColor } from '../common/model/theme';\nimport { Margin, Border, ChartArea, Font, Indexes, TooltipSettings } from '../common/model/base';\nimport { Row, Column, Axis } from './axis/axis';\nimport { CartesianAxisLayoutPanel } from './axis/cartesian-panel';\nimport { Rect } from '../common/utils/helper';\nimport { ChartData } from './utils/get-data';\nimport { Series } from './series/chart-series';\nimport { Data } from '../common/model/data';\nimport { Marker } from './series/marker';\nimport { LegendSettings } from '../common/legend/legend';\nimport { TechnicalIndicator } from './technical-indicators/technical-indicator';\nimport { chartMouseClick, pointClick, pointMove, chartMouseLeave } from '../common/model/constants';\nimport { chartMouseDown, chartMouseMove, chartMouseUp, load } from '../common/model/constants';\nimport { ExportUtils } from '../common/utils/export';\nimport { ChartAnnotationSettings } from './model/chart-base';\nimport { getElement, getTitle } from '../common/utils/helper';\n/**\n * Configures the crosshair in the chart.\n */\nvar CrosshairSettings = /** @class */ (function (_super) {\n    __extends(CrosshairSettings, _super);\n    function CrosshairSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], CrosshairSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Complex({ color: null, width: 1 }, Border)\n    ], CrosshairSettings.prototype, \"line\", void 0);\n    __decorate([\n        Property('Both')\n    ], CrosshairSettings.prototype, \"lineType\", void 0);\n    return CrosshairSettings;\n}(ChildProperty));\nexport { CrosshairSettings };\n/**\n * Configures the zooming behavior for the chart.\n */\nvar ZoomSettings = /** @class */ (function (_super) {\n    __extends(ZoomSettings, _super);\n    function ZoomSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enableSelectionZooming\", void 0);\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enablePinchZooming\", void 0);\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enableMouseWheelZooming\", void 0);\n    __decorate([\n        Property(true)\n    ], ZoomSettings.prototype, \"enableDeferredZooming\", void 0);\n    __decorate([\n        Property('XY')\n    ], ZoomSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(['Zoom', 'ZoomIn', 'ZoomOut', 'Pan', 'Reset'])\n    ], ZoomSettings.prototype, \"toolbarItems\", void 0);\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enablePan\", void 0);\n    return ZoomSettings;\n}(ChildProperty));\nexport { ZoomSettings };\n/**\n * Represents the Chart control.\n * ```html\n * <div id=\"chart\"/>\n * <script>\n *   var chartObj = new Chart({ isResponsive : true });\n *   chartObj.appendTo(\"#chart\");\n * </script>\n * ```\n */\nvar Chart = /** @class */ (function (_super) {\n    __extends(Chart, _super);\n    /**\n     * Constructor for creating the widget\n     * @hidden\n     */\n    function Chart(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @private */\n        _this.chartAreaType = 'Cartesian';\n        return _this;\n    }\n    /**\n     * Initialize the event handler.\n     */\n    Chart.prototype.preRender = function () {\n        this.unWireEvents();\n        this.initPrivateVariable();\n        this.setCulture();\n        this.wireEvents();\n    };\n    Chart.prototype.initPrivateVariable = function () {\n        this.animateSeries = true;\n        this.horizontalAxes = [];\n        this.verticalAxes = [];\n        this.refreshAxis();\n        this.refreshDefinition(this.rows);\n        this.refreshDefinition(this.columns);\n        if (this.tooltipModule) {\n            this.tooltipModule.previousPoints = [];\n        }\n    };\n    /**\n     * To Initialize the control rendering.\n     */\n    Chart.prototype.render = function () {\n        this.trigger(load, { chart: this });\n        this.createChartSvg();\n        this.setTheme();\n        this.markerRender = new Marker(this);\n        this.calculateAreaType();\n        this.calculateVisibleSeries();\n        this.initTechnicalIndicators();\n        this.initTrendLines();\n        this.calculateVisibleAxis();\n        this.processData();\n    };\n    /**\n     * Gets the localized label by locale keyword.\n     * @param  {string} key\n     * @return {string}\n     */\n    Chart.prototype.getLocalizedLabel = function (key) {\n        return this.localeObject.getConstant(key);\n    };\n    /**\n     * Refresh the chart bounds.\n     * @private\n     */\n    Chart.prototype.refreshBound = function () {\n        if (this.legendModule && this.legendSettings.visible) {\n            this.legendModule.getLegendOptions(this.visibleSeries, this);\n        }\n        var isCalculateStacking = false;\n        var series;\n        for (var i = 0, len = this.visibleSeries.length; i < len; i++) {\n            series = this.visibleSeries[i];\n            series.position = series.rectCount = undefined;\n            if (((series.type.indexOf('Stacking') !== -1) || (series.drawType.indexOf('Stacking') !== -1\n                && this.chartAreaType === 'PolarRadar')) && !isCalculateStacking) {\n                series.calculateStackedValue(series.type.indexOf('100') > -1, this);\n                isCalculateStacking = true;\n            }\n        }\n        this.calculateBounds();\n        this.renderElements();\n    };\n    Chart.prototype.renderElements = function () {\n        this.renderBorder();\n        this.renderTitle();\n        this.renderAreaBorder();\n        var axisElement = this.renderAxes();\n        this.renderSeriesElements(axisElement);\n        this.renderLegend();\n        this.applyZoomkit();\n        this.performSelection();\n        this.setSecondaryElementPosition();\n        this.renderAnnotation();\n    };\n    /**\n     * To render the legend\n     */\n    Chart.prototype.renderAxes = function () {\n        this.yAxisElements = this.renderer.createGroup({ id: this.element.id + 'yAxisCollection' });\n        var axisElement;\n        if (this.rows.length > 0 && this.columns.length > 0) {\n            axisElement = this.chartAxisLayoutPanel.renderAxes();\n        }\n        if (this.stripLineModule) {\n            this.stripLineModule.renderStripLine(this, 'Behind', this.axisCollections);\n        }\n        return axisElement;\n    };\n    /**\n     * To render the legend\n     */\n    Chart.prototype.renderLegend = function () {\n        if (this.legendModule && this.legendModule.legendCollections.length) {\n            this.legendModule.renderLegend(this, this.legendSettings, this.legendModule.legendBounds);\n        }\n        this.element.appendChild(this.svgObject);\n    };\n    /**\n     * To set the left and top position for data label template for center aligned chart\n     */\n    Chart.prototype.setSecondaryElementPosition = function () {\n        var element = getElement(this.element.id + '_Secondary_Element');\n        if (!element) {\n            return;\n        }\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        element.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\n        element.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\n    };\n    Chart.prototype.initializeModuleElements = function () {\n        this.dataLabelCollections = [];\n        this.seriesElements = this.renderer.createGroup({ id: this.element.id + 'SeriesCollection' });\n        if (this.indicators.length) {\n            this.indicatorElements = this.renderer.createGroup({ id: this.element.id + 'IndicatorCollection' });\n        }\n        if (this.hasTrendlines()) {\n            this.trendLineElements = this.renderer.createGroup({ id: this.element.id + 'TrendLineCollection' });\n        }\n        this.dataLabelElements = this.renderer.createGroup({ id: this.element.id + 'DataLabelCollection' });\n    };\n    Chart.prototype.hasTrendlines = function () {\n        var isTrendline;\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n            var series = _a[_i];\n            isTrendline = series.trendlines.length ? true : false;\n            if (isTrendline) {\n                break;\n            }\n        }\n        return isTrendline;\n    };\n    Chart.prototype.renderSeriesElements = function (axisElement) {\n        // Initialize the series elements values\n        this.initializeModuleElements();\n        var tooltipDiv = document.createElement('div');\n        tooltipDiv.id = this.element.id + '_Secondary_Element';\n        tooltipDiv.setAttribute('style', 'position: relative');\n        this.element.appendChild(tooltipDiv);\n        // For userInteraction\n        if (this.tooltip.enable) {\n            this.svgObject.appendChild(this.renderer.createGroup({ id: this.element.id + '_UserInteraction', style: 'pointer-events:none;' }));\n        }\n        if (this.rows.length > 0 && this.columns.length > 0) {\n            this.initializeIndicator();\n            this.initializeTrendLine();\n            this.renderSeries();\n            this.appendElementsAfterSeries(axisElement);\n        }\n    };\n    Chart.prototype.renderSeries = function () {\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.visible) {\n                findClipRect(item);\n                item.renderSeries(this, item.index);\n            }\n        }\n        var clipRect = this.renderer.drawClipPath({\n            'id': this.element.id + '_ChartAreaClipRect_',\n            'x': this.chartAxisLayoutPanel.seriesClipRect.x,\n            'y': this.chartAxisLayoutPanel.seriesClipRect.y,\n            'width': this.chartAxisLayoutPanel.seriesClipRect.width,\n            'height': this.chartAxisLayoutPanel.seriesClipRect.height,\n            'fill': 'transparent',\n            'stroke-width': 1,\n            'stroke': 'Gray'\n        });\n        this.seriesElements.appendChild(clipRect);\n        this.svgObject.appendChild(this.seriesElements);\n    };\n    Chart.prototype.initializeIndicator = function () {\n        for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n            var indicator = _a[_i];\n            if (this[firstToLowerCase(indicator.type) + 'IndicatorModule']) {\n                this[firstToLowerCase(indicator.type) + 'IndicatorModule'].createIndicatorElements(this, indicator, indicator.index);\n            }\n        }\n        if (this.indicatorElements) {\n            this.svgObject.appendChild(this.indicatorElements);\n        }\n    };\n    Chart.prototype.initializeTrendLine = function () {\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (series.trendlines.length) {\n                this.trendLineModule.getTrendLineElements(series, this);\n            }\n        }\n        if (this.trendLineElements) {\n            this.svgObject.appendChild(this.trendLineElements);\n        }\n    };\n    Chart.prototype.appendElementsAfterSeries = function (axisElement) {\n        if (this.chartAreaType === 'PolarRadar') {\n            this.svgObject.appendChild(this.yAxisElements);\n        }\n        this.svgObject.appendChild(axisElement);\n        if (this.stripLineModule) {\n            this.stripLineModule.renderStripLine(this, 'Over', this.axisCollections);\n        }\n        if (!this.tooltip.enable) {\n            this.svgObject.appendChild(this.renderer.createGroup({ id: this.element.id + '_UserInteraction', style: 'pointer-events:none;' }));\n        }\n    };\n    Chart.prototype.applyZoomkit = function () {\n        if (this.zoomModule && this.zoomModule.isZoomed && (!this.zoomSettings.enablePan || this.zoomModule.performedUI)) {\n            this.zoomModule.applyZoomToolkit(this, this.axisCollections);\n        }\n    };\n    Chart.prototype.renderAnnotation = function () {\n        if (this.annotationModule) {\n            this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n        }\n    };\n    Chart.prototype.performSelection = function () {\n        var selectedDataIndexes = [];\n        if (this.selectionModule) {\n            selectedDataIndexes = extend([], this.selectionModule.selectedDataIndexes, null, true);\n            this.selectionModule.invokeSelection(this);\n        }\n        if (selectedDataIndexes.length > 0) {\n            this.selectionModule.selectedDataIndexes = selectedDataIndexes;\n            this.selectionModule.redrawSelection(this, this.selectionMode);\n        }\n    };\n    Chart.prototype.processData = function () {\n        var series;\n        this.visibleSeriesCount = 0;\n        var check = true;\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series_1 = _a[_i];\n            if (!series_1.visible && !this.legendSettings.visible) {\n                this.visibleSeriesCount++;\n                continue;\n            }\n            if (series_1.category !== 'Indicator' && series_1.category !== 'TrendLine') {\n                this.initializeDataModule(series_1);\n            }\n        }\n        for (var _b = 0, _c = this.indicators; _b < _c.length; _b++) {\n            var indicator = _c[_b];\n            if (indicator.dataSource) {\n                var techIndicator = indicator;\n                this.initializeDataModule(techIndicator);\n                check = false;\n            }\n        }\n        if (!this.visibleSeries.length || this.visibleSeriesCount === this.visibleSeries.length && check) {\n            this.refreshBound();\n            this.trigger('loaded', { chart: this });\n        }\n    };\n    Chart.prototype.initializeDataModule = function (series) {\n        series.xData = [];\n        series.yData = [];\n        series.dataModule = new Data(series.dataSource, series.query);\n        series.points = [];\n        series.refreshDataManager(this);\n    };\n    Chart.prototype.calculateBounds = function () {\n        var margin = this.margin;\n        // Title Height;\n        var titleHeight = 0;\n        var padding = 15;\n        var left = margin.left;\n        var width = this.availableSize.width - left - margin.right - this.border.width;\n        this.titleCollection = [];\n        if (this.title) {\n            this.titleCollection = getTitle(this.title, this.titleStyle, width);\n            titleHeight = (measureText(this.title, this.titleStyle).height * this.titleCollection.length) + padding;\n        }\n        var top = margin.top + titleHeight + this.chartArea.border.width / 2;\n        var height = this.availableSize.height - top - this.border.width - margin.bottom;\n        this.initialClipRect = new Rect(left, top, width, height);\n        if (this.legendModule) {\n            this.legendModule.calculateLegendBounds(this.initialClipRect, this.availableSize);\n        }\n        this.chartAxisLayoutPanel.measureAxis(this.initialClipRect);\n    };\n    /**\n     * Handles the print method for chart control.\n     */\n    Chart.prototype.print = function (id) {\n        var exportChart = new ExportUtils(this);\n        exportChart.print(id);\n    };\n    /**\n     * Handles the export method for chart control.\n     * @param type\n     * @param fileName\n     */\n    Chart.prototype.export = function (type, fileName, orientation) {\n        var exportChart = new ExportUtils(this);\n        exportChart.export(type, fileName, orientation);\n    };\n    /**\n     * Defines the trendline initialization\n     */\n    Chart.prototype.initTrendLines = function () {\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            var trendIndex = 0;\n            for (var _b = 0, _c = series.trendlines; _b < _c.length; _b++) {\n                var trendline = _c[_b];\n                var trendLine = trendline;\n                var type = firstToLowerCase(trendLine.type);\n                if (this.trendLineModule) {\n                    trendLine.index = trendIndex;\n                    trendLine.sourceIndex = series.index;\n                    this.trendLineModule.initSeriesCollection(trendLine, this);\n                    if (trendLine.targetSeries) {\n                        trendLine.targetSeries.xAxisName = series.xAxisName;\n                        trendLine.targetSeries.yAxisName = series.yAxisName;\n                        this.visibleSeries.push(trendLine.targetSeries);\n                    }\n                }\n                trendIndex++;\n            }\n        }\n    };\n    Chart.prototype.calculateAreaType = function () {\n        var series = this.series[0];\n        if (series) {\n            this.requireInvertedAxis = ((series.type.indexOf('Bar') !== -1) && !this.isTransposed) ||\n                ((series.type.indexOf('Bar') === -1) && this.isTransposed && this.chartAreaType !== 'PolarRadar');\n        }\n        this.chartAxisLayoutPanel = this.chartAreaType === 'PolarRadar' ? (this.polarSeriesModule || this.radarSeriesModule)\n            : new CartesianAxisLayoutPanel(this);\n    };\n    Chart.prototype.calculateVisibleAxis = function () {\n        var axis;\n        var series;\n        var axes = [this.primaryXAxis, this.primaryYAxis];\n        axes = this.chartAreaType === 'Cartesian' ? axes.concat(this.axes) : axes;\n        this.axisCollections = [];\n        if (this.zoomModule) {\n            this.zoomModule.isPanning = this.zoomModule.isAxisZoomed(axes) && this.zoomSettings.enablePan;\n            this.svgObject.setAttribute('cursor', this.zoomModule.isPanning ? 'pointer' : 'auto');\n        }\n        for (var i = 0, len = axes.length; i < len; i++) {\n            axis = axes[i];\n            axis.series = [];\n            axis.labels = [];\n            for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n                var series_2 = _a[_i];\n                this.initAxis(series_2, axis, true);\n            }\n            for (var _b = 0, _c = this.indicators; _b < _c.length; _b++) {\n                var indicator = _c[_b];\n                this.initAxis(indicator, axis, false);\n            }\n            if (axis.orientation != null) {\n                this.axisCollections.push(axis);\n            }\n        }\n        if (this.rows.length > 0 && this.columns.length > 0) {\n            this.chartAxisLayoutPanel.measure();\n        }\n    };\n    Chart.prototype.initAxis = function (series, axis, isSeries) {\n        if (series.xAxisName === axis.name || (series.xAxisName == null && axis.name === 'primaryXAxis')) {\n            axis.orientation = this.requireInvertedAxis ? 'Vertical' : 'Horizontal';\n            series.xAxis = axis;\n            if (isSeries) {\n                axis.series.push(series);\n            }\n        }\n        else if (series.yAxisName === axis.name || (series.yAxisName == null && axis.name === 'primaryYAxis')) {\n            axis.orientation = this.requireInvertedAxis ? 'Horizontal' : 'Vertical';\n            series.yAxis = axis;\n            if (isSeries) {\n                axis.series.push(series);\n            }\n        }\n    };\n    Chart.prototype.initTechnicalIndicators = function () {\n        var i = 0;\n        for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n            var indicator = _a[_i];\n            var techIndicator = indicator;\n            var type = firstToLowerCase(techIndicator.type);\n            if (this[type + 'IndicatorModule']) {\n                techIndicator.index = i;\n                this[type + 'IndicatorModule'].initSeriesCollection(techIndicator, this);\n                for (var _b = 0, _c = techIndicator.targetSeries; _b < _c.length; _b++) {\n                    var targetSeries = _c[_b];\n                    if (indicator.seriesName || indicator.dataSource) {\n                        this.visibleSeries.push(targetSeries);\n                    }\n                }\n            }\n            i++;\n        }\n    };\n    /** @private */\n    Chart.prototype.refreshTechnicalIndicator = function (series) {\n        if (this.indicators.length) {\n            var targetIndicator = null;\n            if (series instanceof Series && series.category !== 'Indicator') {\n                for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n                    var indicator = _a[_i];\n                    if (indicator.seriesName === series.name && !indicator.dataSource) {\n                        targetIndicator = indicator;\n                        targetIndicator.setDataSource(series, this);\n                    }\n                }\n            }\n            else if (series instanceof TechnicalIndicator) {\n                targetIndicator = series;\n                targetIndicator.setDataSource(series instanceof Series ? series : null, this);\n            }\n        }\n    };\n    Chart.prototype.calculateVisibleSeries = function () {\n        var series;\n        this.visibleSeries = [];\n        var colors = this.palettes.length ? this.palettes : getSeriesColor(this.theme);\n        var count = colors.length;\n        for (var i = 0, len = this.series.length; i < len; i++) {\n            series = this.series[i];\n            series.index = i;\n            series.interior = series.fill || colors[i % count];\n            switch (series.type) {\n                case 'Bar':\n                case 'StackingBar':\n                case 'StackingBar100':\n                    if (this.series[0].type.indexOf('Bar') === -1) {\n                        continue;\n                    }\n                    break;\n                case 'Polar':\n                case 'Radar':\n                    if (this.chartAreaType !== 'PolarRadar') {\n                        continue;\n                    }\n                    if (this.chartAreaType === 'PolarRadar' && ((series.xAxisName === null && series.yAxisName !== null) ||\n                        (series.xAxisName !== null && series.yAxisName === null) ||\n                        (series.xAxisName !== null && series.yAxisName !== null))) {\n                        continue;\n                    }\n                    break;\n                default:\n                    if (this.chartAreaType === 'PolarRadar' || this.series[0].type.indexOf('Bar') > -1) {\n                        continue;\n                    }\n                    break;\n            }\n            this.visibleSeries.push(series);\n            this.series[i] = series;\n        }\n    };\n    Chart.prototype.renderTitle = function () {\n        if (this.title) {\n            var anchor = this.titleStyle.textAlignment === 'Near' ? 'start' :\n                this.titleStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            this.elementSize = measureText(this.title, this.titleStyle);\n            var options = new TextOption(this.element.id + '_ChartTitle', titlePositionX(this.availableSize, this.margin.left, this.margin.right, this.titleStyle), this.margin.top + ((this.elementSize.height) * 3 / 4), anchor, this.titleCollection, '', 'auto');\n            var element = textElement(options, this.titleStyle, this.titleStyle.color || this.themeStyle.chartTitle, this.svgObject);\n            element.setAttribute('aria-label', this.description || this.title);\n            element.setAttribute('tabindex', this.tabIndex.toString());\n        }\n    };\n    Chart.prototype.renderBorder = function () {\n        var width = this.border.width;\n        var rect = new RectOption(this.element.id + '_ChartBorder', this.background || this.themeStyle.background, this.border, 1, new Rect(width / 2, width / 2, this.availableSize.width - width, this.availableSize.height - width));\n        this.htmlObject = this.renderer.drawRectangle(rect);\n        this.svgObject.appendChild(this.htmlObject);\n    };\n    Chart.prototype.renderAreaBorder = function () {\n        if (this.chartAreaType === 'PolarRadar') {\n            return null;\n        }\n        else {\n            var rect = new RectOption(this.element.id + '_ChartAreaBorder', this.chartArea.background, { width: this.chartArea.border.width, color: this.chartArea.border.color || this.themeStyle.areaBorder }, this.chartArea.opacity, this.chartAxisLayoutPanel.seriesClipRect);\n            this.htmlObject = this.renderer.drawRectangle(rect);\n            this.svgObject.appendChild(this.htmlObject);\n        }\n    };\n    /**\n     * To add series for the chart\n     * @param {SeriesModel[]} seriesCollection - Defines the series collection to be added in chart.\n     * @return {void}.\n     */\n    Chart.prototype.addSeries = function (seriesCollection) {\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            series = new Series(this, 'series', series);\n            this.series.push(series);\n        }\n        this.refresh();\n    };\n    /**\n     * To Remove series for the chart\n     * @param index - Defines the series index to be remove in chart series\n     * @return {void}\n     */\n    Chart.prototype.removeSeries = function (index) {\n        this.series.splice(index);\n        this.refresh();\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}.\n     * @member of Chart\n     */\n    Chart.prototype.destroy = function () {\n        this.unWireEvents();\n        _super.prototype.destroy.call(this);\n        this.element.classList.remove('e-chart');\n    };\n    /**\n     * Get component name\n     */\n    Chart.prototype.getModuleName = function () {\n        return 'chart';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Chart.prototype.getPersistData = function () {\n        var keyEntity = ['loaded', 'animationComplete'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Method to create SVG element.\n     */\n    Chart.prototype.createChartSvg = function () {\n        this.removeSvg();\n        createSvg(this);\n    };\n    /**\n     * Method to bind events for chart\n     */\n    Chart.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        var startEvent = Browser.touchStartEvent;\n        var moveEvent = Browser.touchMoveEvent;\n        var stopEvent = Browser.touchEndEvent;\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        /*! UnBind the Event handler */\n        EventHandler.remove(this.element, startEvent, this.chartOnMouseDown);\n        EventHandler.remove(this.element, moveEvent, this.mouseMove);\n        EventHandler.remove(this.element, stopEvent, this.mouseEnd);\n        EventHandler.remove(this.element, 'click', this.chartOnMouseClick);\n        EventHandler.remove(this.element, 'contextmenu', this.chartRightClick);\n        EventHandler.remove(this.element, cancelEvent, this.mouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.chartResize);\n    };\n    Chart.prototype.wireEvents = function () {\n        /*! Find the Events type */\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        /*! Bind the Event handler */\n        EventHandler.add(this.element, Browser.touchStartEvent, this.chartOnMouseDown, this);\n        EventHandler.add(this.element, Browser.touchMoveEvent, this.mouseMove, this);\n        EventHandler.add(this.element, Browser.touchEndEvent, this.mouseEnd, this);\n        EventHandler.add(this.element, 'click', this.chartOnMouseClick, this);\n        EventHandler.add(this.element, 'contextmenu', this.chartRightClick, this);\n        EventHandler.add(this.element, cancelEvent, this.mouseLeave, this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.chartResize.bind(this));\n        this.longPress = this.longPress.bind(this);\n        new Touch(this.element, { tapHold: this.longPress, tapHoldThreshold: 500 });\n        /*! Apply the style for chart */\n        this.setStyle(this.element);\n    };\n    Chart.prototype.chartRightClick = function (event) {\n        if (this.crosshair.enable && this.crosshairModule &&\n            (event.buttons === 2 || event.which === 0 || event.pointerType === 'touch')) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        return true;\n    };\n    Chart.prototype.setStyle = function (element) {\n        var zooming = this.zoomSettings;\n        var disableScroll = zooming.enableSelectionZooming || zooming.enableMouseWheelZooming || zooming.enablePinchZooming ||\n            this.selectionMode !== 'None' || this.crosshair.enable;\n        element.style.touchAction = disableScroll ? 'none' : 'element';\n        element.style.msTouchAction = disableScroll ? 'none' : 'element';\n        element.style.msContentZooming = 'none';\n        element.style.msUserSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n        element.style.display = 'block';\n    };\n    /**\n     * Finds the orientation.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.isOrientation = function () {\n        return ('orientation' in window && 'onorientationchange' in window);\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.longPress = function (e) {\n        this.mouseX = (e && e.originalEvent.changedTouches) ? (e.originalEvent.changedTouches[0].clientX) : 0;\n        this.mouseY = (e && e.originalEvent.changedTouches) ? (e.originalEvent.changedTouches[0].clientY) : 0;\n        this.startMove = true;\n        this.setMouseXY(this.mouseX, this.mouseY);\n        this.notify('tapHold', e);\n        return false;\n    };\n    /**\n     * To find mouse x, y for aligned chart element svg position\n     */\n    Chart.prototype.setMouseXY = function (pageX, pageY) {\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        this.mouseX = (pageX - rect.left) - Math.max(svgRect.left - rect.left, 0);\n        this.mouseY = (pageY - rect.top) - Math.max(svgRect.top - rect.top, 0);\n    };\n    /**\n     * Handles the chart resize.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartResize = function (e) {\n        var _this = this;\n        this.animateSeries = false;\n        if (this.resizeTo) {\n            clearTimeout(this.resizeTo);\n        }\n        this.resizeTo = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTo);\n                return;\n            }\n            _this.createChartSvg();\n            _this.refreshAxis();\n            _this.refreshBound();\n            _this.trigger('loaded', { chart: _this });\n        }, 500);\n        return false;\n    };\n    /**\n     * Handles the mouse move.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.mouseMove = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        if (e.type === 'touchmove') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2' || this.isTouch;\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        this.setMouseXY(pageX, pageY);\n        this.chartOnMouseMove(e);\n        return false;\n    };\n    /**\n     * Handles the mouse leave.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.mouseLeave = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        if (e.type === 'touchleave') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        this.setMouseXY(pageX, pageY);\n        this.chartOnMouseLeave(e);\n        return false;\n    };\n    /**\n     * Handles the mouse leave on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseLeave = function (e) {\n        var element = e.target;\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.trigger(chartMouseLeave, { target: element.id, x: this.mouseX, y: this.mouseY });\n        this.isChartDrag = false;\n        this.notify(cancelEvent, e);\n        return false;\n    };\n    /**\n     * Handles the mouse click on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseClick = function (e) {\n        var element = e.target;\n        this.trigger(chartMouseClick, { target: element.id, x: this.mouseX, y: this.mouseY });\n        if (this.pointClick) {\n            this.triggerPointEvent(pointClick);\n        }\n        this.notify('click', e);\n        return false;\n    };\n    Chart.prototype.triggerPointEvent = function (event) {\n        var data = new ChartData(this);\n        var pointData = data.getData();\n        if (pointData.series && pointData.point) {\n            this.trigger(event, { series: pointData.series,\n                point: pointData.point,\n                seriesIndex: pointData.series.index, pointIndex: pointData.point.index,\n                x: this.mouseX, y: this.mouseY });\n        }\n    };\n    /**\n     * Handles the mouse move on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseMove = function (e) {\n        var element = e.target;\n        this.trigger(chartMouseMove, { target: element.id, x: this.mouseX, y: this.mouseY });\n        if (this.pointMove) {\n            this.triggerPointEvent(pointMove);\n        }\n        // Tooltip for chart series.\n        if (!this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY);\n            this.axisTooltip(e, this.mouseX, this.mouseY);\n        }\n        this.notify(Browser.touchMoveEvent, e);\n        this.isTouch = false;\n        return false;\n    };\n    Chart.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId === (this.element.id + '_ChartTitle')) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.title, x, y, this.element.offsetWidth, this.element.id + '_EJ2_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_Title_Tooltip');\n        }\n    };\n    Chart.prototype.axisTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if (((targetId.indexOf('AxisLabel') > -1) || targetId.indexOf('Axis_MultiLevelLabel') > -1) &&\n            (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.findAxisLabel(targetId), x, y, this.element.offsetWidth, this.element.id + '_EJ2_AxisLabel_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_AxisLabel_Tooltip');\n        }\n    };\n    Chart.prototype.findAxisLabel = function (text) {\n        var texts;\n        if (text.indexOf('AxisLabel') > -1) {\n            texts = ((text.replace(this.element.id, '')).replace('AxisLabel_', '')).split('_');\n            return this.axisCollections[parseInt(texts[0], 10)].visibleLabels[parseInt(texts[1], 10)].originalText;\n        }\n        else {\n            texts = ((text.replace(this.element.id, '')).replace('Axis_MultiLevelLabel_Level_', '').replace('Text_', '')).split('_');\n            return (this.axisCollections[parseInt(texts[0], 10)].multiLevelLabels[parseInt(texts[1], 10)]\n                .categories[parseInt(texts[2], 10)].text);\n        }\n    };\n    /**\n     * Handles the mouse down on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseDown = function (e) {\n        var pageX;\n        var pageY;\n        var target;\n        var touchArg;\n        var offset = Browser.isDevice ? 20 : 30;\n        var rect = this.element.getBoundingClientRect();\n        var element = e.target;\n        this.trigger(chartMouseDown, { target: element.id, x: this.mouseX, y: this.mouseY });\n        if (e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n            target = touchArg.target;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch';\n            pageX = e.clientX;\n            pageY = e.clientY;\n            target = e.target;\n        }\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        this.mouseDownX = this.previousMouseMoveX = (pageX - rect.left) - Math.max(svgRect.left - rect.left, 0);\n        this.mouseDownY = this.previousMouseMoveY = (pageY - rect.top) - Math.max(svgRect.top - rect.top, 0);\n        if (this.isTouch) {\n            this.isDoubleTap = (new Date().getTime() < this.threshold && target.id.indexOf(this.element.id + '_Zooming_') === -1 &&\n                (this.mouseDownX - offset >= this.mouseX || this.mouseDownX + offset >= this.mouseX) &&\n                (this.mouseDownY - offset >= this.mouseY || this.mouseDownY + offset >= this.mouseY) &&\n                (this.mouseX - offset >= this.mouseDownX || this.mouseX + offset >= this.mouseDownX) &&\n                (this.mouseY - offset >= this.mouseDownY || this.mouseY + offset >= this.mouseDownY));\n        }\n        this.notify(Browser.touchStartEvent, e);\n        return false;\n    };\n    /**\n     * Handles the mouse up.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.mouseEnd = function (e) {\n        var pageY;\n        var pageX;\n        var touchArg;\n        if (e.type === 'touchend') {\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            this.isTouch = true;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            pageY = e.clientY;\n            pageX = e.clientX;\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n        }\n        this.setMouseXY(pageX, pageY);\n        this.chartOnMouseUp(e);\n        return false;\n    };\n    /**\n     * Handles the mouse up.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseUp = function (e) {\n        var element = e.target;\n        this.trigger(chartMouseUp, { target: element.id, x: this.mouseX, y: this.mouseY });\n        this.isChartDrag = false;\n        if (this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n            this.axisTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n            this.threshold = new Date().getTime() + 300;\n        }\n        this.seriesElements.removeAttribute('clip-path');\n        this.notify(Browser.touchEndEvent, e);\n        return false;\n    };\n    /**\n     * Method to set culture for chart\n     */\n    Chart.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n        this.setLocaleConstants();\n        this.localeObject = new L10n(this.getModuleName(), this.defaultLocalConstants, this.locale);\n    };\n    /**\n     * Method to set the annotation content dynamically for chart.\n     */\n    Chart.prototype.setAnnotationValue = function (annotationIndex, content) {\n        var parentNode = getElement(this.element.id + '_Annotation_Collections');\n        var annotation = this.annotations[annotationIndex];\n        var element;\n        if (content !== null) {\n            annotation.content = content;\n            if (parentNode) {\n                removeElement(this.element.id + '_Annotation_' + annotationIndex);\n                element = createElement('div');\n                this.annotationModule.processAnnotation(annotation, annotationIndex, element);\n                parentNode.appendChild(element.children[0]);\n            }\n            else {\n                this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n            }\n        }\n    };\n    /**\n     * Method to set locale constants\n     */\n    Chart.prototype.setLocaleConstants = function () {\n        this.defaultLocalConstants = {\n            ZoomIn: 'ZoomIn',\n            Zoom: 'Zoom',\n            ZoomOut: 'ZoomOut',\n            Pan: 'Pan',\n            Reset: 'Reset',\n            ResetZoom: 'Reset Zoom'\n        };\n    };\n    /**\n     * Theming for chart\n     */\n    Chart.prototype.setTheme = function () {\n        /*! Set theme */\n        this.themeStyle = getThemeColor(this.theme);\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return {ModuleDeclaration[]}\n     * @private\n     */\n    Chart.prototype.requiredModules = function () {\n        var _this = this;\n        var modules = [];\n        var series = this.series;\n        var enableAnnotation = false;\n        var moduleName;\n        var errorBarVisible = false;\n        var dataLabelEnable = false;\n        var zooming = this.zoomSettings;\n        this.chartAreaType = (series.length > 0 && (series[0].type === 'Polar' || series[0].type === 'Radar')) ? 'PolarRadar' : 'Cartesian';\n        if (this.tooltip.enable) {\n            modules.push({\n                member: 'Tooltip',\n                args: [this]\n            });\n        }\n        series.map(function (value) {\n            _this.isLegend = (_this.legendSettings.visible && ((value.name !== '') || !!_this.isLegend));\n            moduleName = value.type.indexOf('100') !== -1 ? value.type.replace('100', '') + 'Series' : value.type + 'Series';\n            errorBarVisible = value.errorBar.visible || errorBarVisible;\n            dataLabelEnable = value.marker.dataLabel.visible || dataLabelEnable;\n            if (!modules.some(function (currentModule) {\n                return currentModule.member === moduleName;\n            })) {\n                modules.push({\n                    member: moduleName,\n                    args: [_this, series]\n                });\n            }\n            if (_this.chartAreaType === 'PolarRadar') {\n                modules.push({\n                    member: value.drawType + 'Series',\n                    args: [_this, series]\n                });\n            }\n        });\n        this.findIndicatorModules(modules);\n        this.findTrendLineModules(modules);\n        modules = this.findAxisModule(modules);\n        enableAnnotation = this.annotations.some(function (value) {\n            return (value.content !== null);\n        });\n        if (errorBarVisible) {\n            modules.push({\n                member: 'ErrorBar',\n                args: [this, series]\n            });\n        }\n        if (this.isLegend) {\n            modules.push({\n                member: 'Legend',\n                args: [this]\n            });\n        }\n        if (this.chartAreaType !== 'PolarRadar' && (zooming.enableSelectionZooming\n            || zooming.enableMouseWheelZooming || zooming.enablePinchZooming || zooming.enablePan)) {\n            modules.push({\n                member: 'Zoom',\n                args: [this, this.zoomSettings]\n            });\n        }\n        if (this.selectionMode !== 'None' && !(this.chartAreaType === 'PolarRadar' &&\n            this.selectionMode.indexOf('Drag') > -1)) {\n            modules.push({\n                member: 'Selection',\n                args: [this]\n            });\n        }\n        if (dataLabelEnable) {\n            modules.push({\n                member: 'DataLabel',\n                args: [this, series]\n            });\n        }\n        if (enableAnnotation) {\n            modules.push({\n                member: 'Annotation',\n                args: [this, this.annotations]\n            });\n        }\n        if (this.chartAreaType !== 'PolarRadar' && this.crosshair.enable) {\n            modules.push({\n                member: 'Crosshair',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    Chart.prototype.findAxisModule = function (modules) {\n        var axisCollections = [];\n        axisCollections.push(this.primaryXAxis);\n        axisCollections.push(this.primaryYAxis);\n        axisCollections = axisCollections.concat(this.axes);\n        var datetimeEnabled = false;\n        var categoryEnabled = false;\n        var logarithmicEnabled = false;\n        var striplineEnabled = false;\n        var dateTimeCategoryEnabled = false;\n        var multiLevelEnabled = false;\n        for (var _i = 0, axisCollections_1 = axisCollections; _i < axisCollections_1.length; _i++) {\n            var axis = axisCollections_1[_i];\n            datetimeEnabled = axis.valueType === 'DateTime' || datetimeEnabled;\n            categoryEnabled = axis.valueType === 'Category' || categoryEnabled;\n            logarithmicEnabled = axis.valueType === 'Logarithmic' || logarithmicEnabled;\n            dateTimeCategoryEnabled = axis.valueType === 'DateTimeCategory' || dateTimeCategoryEnabled;\n            striplineEnabled = this.findStriplineVisibility(axis.stripLines) || striplineEnabled;\n            multiLevelEnabled = axis.multiLevelLabels.length > 0 || multiLevelEnabled;\n        }\n        if (datetimeEnabled) {\n            modules.push({\n                member: 'DateTime',\n                args: [this]\n            });\n        }\n        if (categoryEnabled) {\n            modules.push({\n                member: 'Category',\n                args: [this]\n            });\n        }\n        if (logarithmicEnabled) {\n            modules.push({\n                member: 'Logarithmic',\n                args: [this]\n            });\n        }\n        if (striplineEnabled) {\n            modules.push({\n                member: 'StripLine',\n                args: [this]\n            });\n        }\n        if (multiLevelEnabled) {\n            modules.push({\n                member: 'MultiLevelLabel',\n                args: [this]\n            });\n        }\n        if (dateTimeCategoryEnabled) {\n            modules.push({\n                member: 'DateTimeCategory',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    Chart.prototype.findIndicatorModules = function (modules) {\n        var macdEnable;\n        var bandEnable;\n        var indicators = this.indicators;\n        if (this.indicators.length) {\n            modules.push({\n                member: 'LineSeries',\n                args: [this]\n            });\n            indicators.map(function (indicator) {\n                macdEnable = macdEnable || indicator.type === 'Macd';\n                bandEnable = bandEnable || indicator.type === 'BollingerBands';\n            });\n            if (macdEnable) {\n                modules.push({\n                    member: 'ColumnSeries',\n                    args: [this]\n                });\n            }\n            if (bandEnable) {\n                modules.push({\n                    member: 'RangeAreaSeries',\n                    args: [this]\n                });\n            }\n            for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n                var indicator = _a[_i];\n                modules.push({\n                    member: indicator.type + 'Indicator',\n                    args: [this]\n                });\n            }\n        }\n    };\n    Chart.prototype.findTrendLineModules = function (modules) {\n        var isLine;\n        var isSpline;\n        var _loop_1 = function (series) {\n            var markerEnable;\n            series.trendlines.map(function (trendline) {\n                markerEnable = markerEnable || trendline.marker.visible;\n                isLine = isLine || (trendline.type === 'Linear' || trendline.type === 'MovingAverage') ? true : false;\n                isSpline = isSpline || !isLine ? true : false;\n            });\n            if (markerEnable) {\n                modules.push({\n                    member: 'Marker',\n                    args: [this_1, series]\n                });\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n            var series = _a[_i];\n            _loop_1(series);\n        }\n        if (isLine || isSpline) {\n            modules.push({\n                member: 'TrendLine',\n                args: [this]\n            });\n        }\n        if (isLine) {\n            modules.push({\n                member: 'LineSeries',\n                args: [this]\n            });\n        }\n        if (isSpline) {\n            modules.push({\n                member: 'SplineSeries',\n                args: [this]\n            });\n        }\n    };\n    Chart.prototype.findStriplineVisibility = function (striplines) {\n        var visible = false;\n        for (var _i = 0, striplines_1 = striplines; _i < striplines_1.length; _i++) {\n            var stripline = striplines_1[_i];\n            if (stripline.visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * To Remove the SVG.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.removeSvg = function () {\n        if (document.getElementById(this.element.id + '_Secondary_Element')) {\n            remove(document.getElementById(this.element.id + '_Secondary_Element'));\n        }\n        var removeLength = 0;\n        if (this.zoomModule && this.zoomModule.pinchTarget) {\n            this.zoomModule.pinchTarget.id = '';\n            this.zoomModule.pinchTarget.setAttribute('opacity', '0');\n            this.svgObject.appendChild(this.zoomModule.pinchTarget);\n            removeLength = 1;\n        }\n        if (this.svgObject) {\n            while (this.svgObject.childNodes.length > removeLength) {\n                this.svgObject.removeChild(this.svgObject.firstChild);\n            }\n            if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode) {\n                remove(this.svgObject);\n            }\n        }\n    };\n    Chart.prototype.refreshDefinition = function (definitions) {\n        for (var _i = 0, definitions_1 = definitions; _i < definitions_1.length; _i++) {\n            var item = definitions_1[_i];\n            item.axes = [];\n        }\n    };\n    /**\n     * Refresh the axis default value.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.refreshAxis = function () {\n        var axis = this.primaryXAxis;\n        axis.rect = new Rect(undefined, undefined, 0, 0);\n        axis = this.primaryYAxis;\n        axis.isStack100 = false;\n        axis.rect = new Rect(undefined, undefined, 0, 0);\n        for (var _i = 0, _a = this.axes; _i < _a.length; _i++) {\n            var item = _a[_i];\n            axis = item;\n            axis.rect = new Rect(undefined, undefined, 0, 0);\n            axis.isStack100 = false;\n        }\n    };\n    Chart.prototype.axisChange = function (axis) {\n        if (!axis.name && !axis.valueType) {\n            return false;\n        }\n        this.refreshDefinition(this.columns);\n        this.refreshDefinition(this.rows);\n        this.calculateVisibleAxis();\n        this.processData();\n        return true;\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    Chart.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var renderer = false;\n        var refreshBounds = false;\n        if (Object.keys(newProp).length === 1 && Object.keys(newProp)[0] === 'indicators') {\n            //add valid check, it should happen only when property change is triggered for target series\n            return;\n        }\n        this.animateSeries = false;\n        if (!this.delayRedraw) {\n            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'primaryXAxis':\n                        refreshBounds = this.axisChange(newProp.primaryXAxis);\n                        if (newProp.primaryXAxis.edgeLabelPlacement) {\n                            renderer = true;\n                        }\n                        if (!newProp.primaryXAxis.crosshairTooltip) {\n                            refreshBounds = true;\n                        }\n                        break;\n                    case 'primaryYAxis':\n                        refreshBounds = this.axisChange(newProp.primaryYAxis);\n                        if (newProp.primaryYAxis.edgeLabelPlacement) {\n                            renderer = true;\n                        }\n                        if (!newProp.primaryYAxis.crosshairTooltip) {\n                            refreshBounds = true;\n                        }\n                        break;\n                    case 'height':\n                    case 'width':\n                        this.createChartSvg();\n                        refreshBounds = true;\n                        break;\n                    case 'title':\n                        refreshBounds = true;\n                        break;\n                    case 'titleStyle':\n                        if (newProp.titleStyle && (newProp.titleStyle.size || newProp.titleStyle.textOverflow)) {\n                            refreshBounds = true;\n                        }\n                        else {\n                            renderer = true;\n                        }\n                        break;\n                    case 'border':\n                        renderer = true;\n                        break;\n                    case 'zoomSettings':\n                    case 'background':\n                        renderer = true;\n                        break;\n                    case 'chartArea':\n                        if (newProp.chartArea.border && newProp.chartArea.border.width) {\n                            refreshBounds = true;\n                        }\n                        renderer = true;\n                        break;\n                    case 'legendSettings':\n                        if (!newProp.legendSettings.background || !newProp.legendSettings.opacity) {\n                            refreshBounds = true;\n                        }\n                        renderer = true;\n                        break;\n                    case 'palettes':\n                        this.calculateVisibleSeries();\n                        renderer = true;\n                        break;\n                    case 'selectedDataIndexes':\n                    case 'selectionMode':\n                        if (this.selectionModule && newProp.selectionMode && newProp.selectionMode.indexOf('Drag') === -1) {\n                            this.selectionModule.redrawSelection(this, oldProp.selectionMode);\n                        }\n                        break;\n                    case 'isMultiSelect':\n                        if (this.selectionModule && !newProp.isMultiSelect && this.selectionModule.selectedDataIndexes.length > 1) {\n                            this.selectionModule.redrawSelection(this, oldProp.selectionMode);\n                        }\n                        break;\n                    case 'theme':\n                        this.animateSeries = true;\n                        break;\n                    case 'locale':\n                    case 'currencyCode':\n                        _super.prototype.refresh.call(this);\n                        break;\n                    case 'tooltip':\n                        this.tooltipModule.previousPoints = [];\n                        break;\n                }\n            }\n            if (!refreshBounds && renderer) {\n                this.removeSvg();\n                this.renderElements();\n                this.trigger('loaded', { chart: this });\n            }\n            if (refreshBounds) {\n                this.removeSvg();\n                this.refreshAxis();\n                this.refreshBound();\n                this.trigger('loaded', { chart: this });\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Chart.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.chartTitleFont, Font)\n    ], Chart.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], Chart.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\n    ], Chart.prototype, \"border\", void 0);\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"background\", void 0);\n    __decorate([\n        Complex({ border: { color: null, width: 0.5 }, background: 'transparent' }, ChartArea)\n    ], Chart.prototype, \"chartArea\", void 0);\n    __decorate([\n        Complex({ name: 'primaryXAxis' }, Axis)\n    ], Chart.prototype, \"primaryXAxis\", void 0);\n    __decorate([\n        Complex({ name: 'primaryYAxis' }, Axis)\n    ], Chart.prototype, \"primaryYAxis\", void 0);\n    __decorate([\n        Collection([{}], Row)\n    ], Chart.prototype, \"rows\", void 0);\n    __decorate([\n        Collection([{}], Column)\n    ], Chart.prototype, \"columns\", void 0);\n    __decorate([\n        Collection([{}], Axis)\n    ], Chart.prototype, \"axes\", void 0);\n    __decorate([\n        Collection([{}], Series)\n    ], Chart.prototype, \"series\", void 0);\n    __decorate([\n        Collection([{}], ChartAnnotationSettings)\n    ], Chart.prototype, \"annotations\", void 0);\n    __decorate([\n        Property([])\n    ], Chart.prototype, \"palettes\", void 0);\n    __decorate([\n        Property('Material')\n    ], Chart.prototype, \"theme\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Chart.prototype, \"tooltip\", void 0);\n    __decorate([\n        Complex({}, CrosshairSettings)\n    ], Chart.prototype, \"crosshair\", void 0);\n    __decorate([\n        Complex({}, LegendSettings)\n    ], Chart.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, ZoomSettings)\n    ], Chart.prototype, \"zoomSettings\", void 0);\n    __decorate([\n        Property('None')\n    ], Chart.prototype, \"selectionMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Chart.prototype, \"isMultiSelect\", void 0);\n    __decorate([\n        Collection([], Indexes)\n    ], Chart.prototype, \"selectedDataIndexes\", void 0);\n    __decorate([\n        Property(false)\n    ], Chart.prototype, \"useGroupingSeparator\", void 0);\n    __decorate([\n        Property(false)\n    ], Chart.prototype, \"isTransposed\", void 0);\n    __decorate([\n        Collection([], TechnicalIndicator)\n    ], Chart.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"description\", void 0);\n    __decorate([\n        Property(1)\n    ], Chart.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Property(true)\n    ], Chart.prototype, \"enableSideBySidePlacement\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"annotationRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"animationComplete\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"legendRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"textRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"pointRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"seriesRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"axisLabelRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"axisRangeCalculated\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"axisMultiLabelRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseClick\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"pointClick\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"pointMove\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseLeave\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseDown\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseUp\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"dragComplete\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"zoomComplete\", void 0);\n    __decorate([\n        Property('USD')\n    ], Chart.prototype, \"currencyCode\", void 0);\n    Chart = __decorate([\n        NotifyPropertyChanges\n    ], Chart);\n    return Chart;\n}(Component));\nexport { Chart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Double } from '../axis/double-axis';\n/**\n * Common axis classes\n * @private\n */\nvar NiceInterval = /** @class */ (function (_super) {\n    __extends(NiceInterval, _super);\n    function NiceInterval() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Method to calculate numeric datetime interval\n     */\n    NiceInterval.prototype.calculateDateTimeNiceInterval = function (axis, size, start, end) {\n        var oneDay = 24 * 60 * 60 * 1000;\n        var startDate = new Date(start);\n        var endDate = new Date(end);\n        //var axisInterval ;\n        var totalDays = (Math.abs((startDate.getTime() - endDate.getTime()) / (oneDay)));\n        var interval;\n        axis.actualIntervalType = axis.intervalType;\n        switch (axis.intervalType) {\n            case 'Years':\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 365, size);\n                break;\n            case 'Months':\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 30, size);\n                break;\n            case 'Days':\n                interval = this.calculateNumericNiceInterval(axis, totalDays, size);\n                break;\n            case 'Hours':\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24, size);\n                break;\n            case 'Minutes':\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60, size);\n                break;\n            case 'Seconds':\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60 * 60, size);\n                break;\n            case 'Auto':\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 365, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Years';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 30, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Months';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Days';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Hours';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Minutes';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60 * 60, size);\n                axis.actualIntervalType = 'Seconds';\n                return interval;\n        }\n        return interval;\n    };\n    /**\n     * To get the skeleton for the DateTime axis.\n     * @return {string}\n     *  @private\n     */\n    NiceInterval.prototype.getSkeleton = function (axis) {\n        var skeleton;\n        if (axis.skeleton) {\n            return axis.skeleton;\n        }\n        if (axis.actualIntervalType === 'Years') {\n            skeleton = 'yMMM';\n        }\n        else if (axis.actualIntervalType === 'Months') {\n            skeleton = 'MMMd';\n        }\n        else if (axis.actualIntervalType === 'Days') {\n            skeleton = 'yMd';\n        }\n        else if (axis.actualIntervalType === 'Hours') {\n            skeleton = 'EHm';\n        }\n        else if (axis.actualIntervalType === 'Minutes' || axis.actualIntervalType === 'Seconds') {\n            skeleton = 'Hms';\n        }\n        else {\n            skeleton = 'Hms';\n        }\n        return skeleton;\n    };\n    return NiceInterval;\n}(Double));\nexport { NiceInterval };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DoubleRange } from '../utils/double-range';\nimport { withIn, firstToLowerCase } from '../../common/utils/helper';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { NiceInterval } from '../axis/axis-helper';\n/**\n * `DateTime` module is used to render datetime axis.\n */\nvar DateTime = /** @class */ (function (_super) {\n    __extends(DateTime, _super);\n    /**\n     * Constructor for the dateTime module.\n     * @private\n     */\n    function DateTime(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     */\n    DateTime.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis);\n    };\n    /**\n     * Actual Range for the axis.\n     * @private\n     */\n    DateTime.prototype.getActualRange = function (axis, size) {\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = this.chart.intl.getDateParser(option);\n        var dateFormatter = this.chart.intl.getDateFormat(option);\n        // Axis min\n        if ((axis.minimum) !== null) {\n            this.min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: axis.minimum }).val))));\n        }\n        else if (this.min === null || this.min === Number.POSITIVE_INFINITY) {\n            this.min = Date.parse(dateParser(dateFormatter(new Date(1970, 1, 1))));\n        }\n        // Axis Max\n        if ((axis.maximum) !== null) {\n            this.max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: axis.maximum }).val))));\n        }\n        else if (this.max === null || this.max === Number.NEGATIVE_INFINITY) {\n            this.max = Date.parse(dateParser(dateFormatter(new Date(1970, 5, 1))));\n        }\n        if (this.min === this.max) {\n            this.max = this.max + 2592000000;\n            this.min = this.min - 2592000000;\n        }\n        axis.actualRange = {};\n        axis.doubleRange = new DoubleRange(this.min, this.max);\n        var datetimeInterval = this.calculateDateTimeNiceInterval(axis, size, axis.doubleRange.start, axis.doubleRange.end);\n        if (!axis.interval) {\n            axis.actualRange.interval = datetimeInterval;\n        }\n        else {\n            axis.actualRange.interval = axis.interval;\n        }\n        axis.actualRange.min = axis.doubleRange.start;\n        axis.actualRange.max = axis.doubleRange.end;\n    };\n    /**\n     * Apply padding for the range.\n     * @private\n     */\n    DateTime.prototype.applyRangePadding = function (axis, size) {\n        this.start = (axis.actualRange.min);\n        this.end = (axis.actualRange.max);\n        var minimum;\n        var maximum;\n        var interval = axis.actualRange.interval;\n        if (!axis.setRange()) {\n            var rangePadding = axis.getRangePadding(this.chart);\n            minimum = new Date(this.start);\n            maximum = new Date(this.end);\n            var intervalType = axis.actualIntervalType;\n            if (rangePadding === 'None') {\n                this.start = minimum.getTime();\n                this.end = maximum.getTime();\n            }\n            else if (rangePadding === 'Additional' || rangePadding === 'Round') {\n                switch (intervalType) {\n                    case 'Years':\n                        this.getYear(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Months':\n                        this.getMonth(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Days':\n                        this.getDay(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Hours':\n                        this.getHour(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Minutes':\n                        var minute = (minimum.getMinutes() / interval) * interval;\n                        var endMinute = maximum.getMinutes() + (minimum.getMinutes() - minute);\n                        if (rangePadding === 'Round') {\n                            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), minimum.getHours(), minute, 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), endMinute, 59)).getTime();\n                        }\n                        else {\n                            this.start = (new Date(minimum.getFullYear(), maximum.getMonth(), minimum.getDate(), minimum.getHours(), minute + (-interval), 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), endMinute + (interval), 0)).getTime();\n                        }\n                        break;\n                    case 'Seconds':\n                        var second = (minimum.getSeconds() / interval) * interval;\n                        var endSecond = maximum.getSeconds() + (minimum.getSeconds() - second);\n                        if (rangePadding === 'Round') {\n                            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), minimum.getHours(), minimum.getMinutes(), second, 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), maximum.getMinutes(), endSecond, 0)).getTime();\n                        }\n                        else {\n                            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), minimum.getHours(), minimum.getMinutes(), second + (-interval), 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), maximum.getMinutes(), endSecond + (interval), 0)).getTime();\n                        }\n                        break;\n                }\n            }\n        }\n        axis.actualRange.min = (axis.minimum != null) ? this.min : this.start;\n        axis.actualRange.max = (axis.maximum != null) ? this.max : this.end;\n        axis.actualRange.delta = (axis.actualRange.max - axis.actualRange.min);\n        axis.doubleRange = new DoubleRange(axis.actualRange.min, axis.actualRange.max);\n        this.calculateVisibleRange(size, axis);\n    };\n    DateTime.prototype.getYear = function (minimum, maximum, rangePadding, interval) {\n        var startYear = minimum.getFullYear();\n        var endYear = maximum.getFullYear();\n        if (rangePadding === 'Additional') {\n            this.start = (new Date(startYear - interval, 1, 1, 0, 0, 0)).getTime();\n            this.end = (new Date(endYear + interval, 1, 1, 0, 0, 0)).getTime();\n        }\n        else {\n            this.start = new Date(startYear, 0, 0, 0, 0, 0).getTime();\n            this.end = new Date(endYear, 11, 30, 23, 59, 59).getTime();\n        }\n    };\n    DateTime.prototype.getMonth = function (minimum, maximum, rangePadding, interval) {\n        var month = minimum.getMonth();\n        var endMonth = maximum.getMonth();\n        if (rangePadding === 'Round') {\n            this.start = (new Date(minimum.getFullYear(), month, 0, 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), endMonth, new Date(maximum.getFullYear(), maximum.getMonth(), 0).getDate(), 23, 59, 59)).getTime();\n        }\n        else {\n            this.start = (new Date(minimum.getFullYear(), month + (-interval), 1, 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), endMonth + (interval), endMonth === 2 ? 28 : 30, 0, 0, 0)).getTime();\n        }\n    };\n    DateTime.prototype.getDay = function (minimum, maximum, rangePadding, interval) {\n        var day = minimum.getDate();\n        var endDay = maximum.getDate();\n        if (rangePadding === 'Round') {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), day, 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), endDay, 23, 59, 59)).getTime();\n        }\n        else {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), day + (-interval), 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), endDay + (interval), 0, 0, 0)).getTime();\n        }\n    };\n    DateTime.prototype.getHour = function (minimum, maximum, rangePadding, interval) {\n        var hour = (minimum.getHours() / interval) * interval;\n        var endHour = maximum.getHours() + (minimum.getHours() - hour);\n        if (rangePadding === 'Round') {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), hour, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), endHour, 59, 59)).getTime();\n        }\n        else {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), hour + (-interval), 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), endHour + (interval), 0, 0)).getTime();\n        }\n    };\n    /**\n     * Calculate visible range for axis.\n     * @private\n     */\n    DateTime.prototype.calculateVisibleRange = function (size, axis) {\n        axis.visibleRange = {\n            min: axis.actualRange.min,\n            max: axis.actualRange.max,\n            interval: axis.actualRange.interval,\n            delta: axis.actualRange.delta,\n        };\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            axis.calculateVisibleRange(size);\n            axis.visibleRange.interval = (axis.enableAutoIntervalOnZooming) ?\n                this.calculateDateTimeNiceInterval(axis, size, axis.visibleRange.min, axis.visibleRange.max)\n                : axis.visibleRange.interval;\n        }\n        axis.dateTimeInterval = this.increaseDateTimeInterval(axis, axis.visibleRange.min, axis.visibleRange.interval).getTime()\n            - axis.visibleRange.min;\n        axis.triggerRangeRender(this.chart, axis.visibleRange.min, axis.visibleRange.max, axis.visibleRange.interval);\n    };\n    /**\n     * Calculate visible labels for the axis.\n     * @private\n     */\n    DateTime.prototype.calculateVisibleLabels = function (axis) {\n        axis.visibleLabels = [];\n        var tempInterval = axis.visibleRange.min;\n        if (!axis.setRange()) {\n            tempInterval = this.alignRangeStart(axis, tempInterval, axis.visibleRange.interval, axis.actualIntervalType).getTime();\n        }\n        axis.format = this.chart.intl.getDateFormat({\n            format: axis.labelFormat, type: firstToLowerCase(axis.skeletonType), skeleton: this.getSkeleton(axis)\n        });\n        axis.startLabel = axis.format(new Date(axis.visibleRange.min));\n        axis.endLabel = axis.format(new Date(axis.visibleRange.max));\n        while (tempInterval <= axis.visibleRange.max) {\n            if (withIn(tempInterval, axis.visibleRange)) {\n                axis.triggerLabelRender(this.chart, tempInterval, axis.format(new Date(tempInterval)), axis.labelStyle);\n            }\n            tempInterval = this.increaseDateTimeInterval(axis, tempInterval, axis.visibleRange.interval).getTime();\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /** @private */\n    DateTime.prototype.increaseDateTimeInterval = function (axis, value, interval) {\n        var result = new Date(value);\n        interval = Math.ceil(interval);\n        switch (axis.actualIntervalType) {\n            case 'Years':\n                result.setFullYear(result.getFullYear() + interval);\n                return result;\n            case 'Months':\n                result.setMonth(result.getMonth() + interval);\n                return result;\n            case 'Days':\n                result.setDate(result.getDate() + interval);\n                return result;\n            case 'Hours':\n                result.setHours(result.getHours() + interval);\n                return result;\n            case 'Minutes':\n                result.setMinutes(result.getMinutes() + interval);\n                return result;\n            case 'Seconds':\n                result.setSeconds(result.getSeconds() + interval);\n                return result;\n        }\n        return result;\n    };\n    DateTime.prototype.alignRangeStart = function (axis, sDate, intervalSize, intervalType) {\n        var sResult = new Date(sDate);\n        switch (axis.actualIntervalType) {\n            case 'Years':\n                var year = Math.floor(Math.floor(sResult.getFullYear() / intervalSize) * intervalSize);\n                sResult = new Date(year, sResult.getMonth(), sResult.getDate(), 0, 0, 0);\n                return sResult;\n            case 'Months':\n                var month = Math.floor(Math.floor((sResult.getMonth()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), month, sResult.getDate(), 0, 0, 0);\n                return sResult;\n            case 'Days':\n                var day = Math.floor(Math.floor((sResult.getDate()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), day, 0, 0, 0);\n                return sResult;\n            case 'Hours':\n                var hour = Math.floor(Math.floor((sResult.getHours()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), sResult.getDate(), hour, 0, 0);\n                return sResult;\n            case 'Minutes':\n                var minutes = Math.floor(Math.floor((sResult.getMinutes()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), sResult.getDate(), sResult.getHours(), minutes, 0, 0);\n                return sResult;\n            case 'Seconds':\n                var seconds = Math.floor(Math.floor((sResult.getSeconds()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), sResult.getDate(), sResult.getHours(), sResult.getMinutes(), seconds, 0);\n                return sResult;\n        }\n        return sResult;\n    };\n    /**\n     * Get module name\n     */\n    DateTime.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'DateTime';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    DateTime.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return DateTime;\n}(NiceInterval));\nexport { DateTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DoubleRange } from '../utils/double-range';\nimport { withIn } from '../../common/utils/helper';\nimport { NiceInterval } from '../axis/axis-helper';\n/**\n * `Category` module is used to render category axis.\n */\nvar Category = /** @class */ (function (_super) {\n    __extends(Category, _super);\n    /**\n     * Constructor for the category module.\n     * @private\n     */\n    function Category(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     */\n    Category.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis);\n    };\n    /**\n     * Actual Range for the axis.\n     * @private\n     */\n    Category.prototype.getActualRange = function (axis, size) {\n        this.initializeDoubleRange(axis);\n        // axis.doubleRange = new DoubleRange(<number>this.min, <number>this.max);\n        axis.actualRange = {};\n        if (!axis.interval) {\n            axis.actualRange.interval = Math.max(1, Math.floor(axis.doubleRange.delta / axis.getActualDesiredIntervalsCount(size)));\n        }\n        else {\n            axis.actualRange.interval = Math.ceil(axis.interval);\n        }\n        axis.actualRange.min = axis.doubleRange.start;\n        axis.actualRange.max = axis.doubleRange.end;\n        axis.actualRange.delta = axis.doubleRange.delta;\n    };\n    /**\n     * Padding for the axis.\n     * @private\n     */\n    Category.prototype.applyRangePadding = function (axis, size) {\n        var ticks = (axis.labelPlacement === 'BetweenTicks' && this.chart.chartAreaType !== 'PolarRadar') ? 0.5 : 0;\n        if (ticks > 0) {\n            axis.actualRange.min -= ticks;\n            axis.actualRange.max += ticks;\n        }\n        else {\n            axis.actualRange.max += axis.actualRange.max ? 0 : 0.5;\n        }\n        axis.doubleRange = new DoubleRange(axis.actualRange.min, axis.actualRange.max);\n        axis.actualRange.delta = axis.doubleRange.delta;\n        this.calculateVisibleRange(size, axis);\n    };\n    /**\n     * Calculate label for the axis.\n     * @private\n     */\n    Category.prototype.calculateVisibleLabels = function (axis) {\n        /*! Generate axis labels */\n        axis.visibleLabels = [];\n        var tempInterval = Math.ceil(axis.visibleRange.min);\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            tempInterval = axis.visibleRange.min - (axis.visibleRange.min % axis.visibleRange.interval);\n        }\n        var position;\n        axis.startLabel = axis.labels[Math.round(axis.visibleRange.min)];\n        axis.endLabel = axis.labels[Math.floor(axis.visibleRange.max)];\n        for (; tempInterval <= axis.visibleRange.max; tempInterval += axis.visibleRange.interval) {\n            if (withIn(tempInterval, axis.visibleRange) && axis.labels.length > 0) {\n                position = Math.round(tempInterval);\n                axis.triggerLabelRender(this.chart, position, axis.labels[position] ? axis.labels[position] : position.toString(), axis.labelStyle);\n            }\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /**\n     * Get module name\n     */\n    Category.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Category';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    Category.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Category;\n}(NiceInterval));\nexport { Category };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Double } from '../axis/double-axis';\nimport { logBase, withIn } from '../../common/utils/helper';\n/**\n * `Logarithmic` module is used to render log axis.\n */\nvar Logarithmic = /** @class */ (function (_super) {\n    __extends(Logarithmic, _super);\n    /**\n     * Constructor for the logerithmic module.\n     * @private\n     */\n    function Logarithmic(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The method to calculate the range and labels for the axis.\n     * @return {void}\n     */\n    Logarithmic.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.calculateVisibleRange(size, axis);\n        this.calculateVisibleLabels(axis, this.chart);\n    };\n    /**\n     * Calculates actual range for the axis.\n     * @private\n     */\n    Logarithmic.prototype.getActualRange = function (axis, size) {\n        this.initializeDoubleRange(axis);\n        this.min = this.min < 0 ? 0 : this.min;\n        var logStart = logBase(this.min, axis.logBase);\n        logStart = isFinite(logStart) ? logStart : this.min;\n        var logEnd = logBase(this.max, axis.logBase);\n        logEnd = isFinite(logStart) ? logEnd : this.max;\n        this.min = Math.floor(logStart / 1);\n        this.max = Math.ceil(logEnd / 1);\n        axis.actualRange.interval = axis.interval || this.calculateLogNiceInterval(this.max - this.min, size, axis);\n        axis.actualRange.min = this.min;\n        axis.actualRange.max = this.max;\n        axis.actualRange.delta = this.max - this.min;\n    };\n    /**\n     * Calculates visible range for the axis.\n     * @private\n     */\n    Logarithmic.prototype.calculateVisibleRange = function (size, axis) {\n        axis.visibleRange = {\n            interval: axis.actualRange.interval, max: axis.actualRange.max,\n            min: axis.actualRange.min, delta: axis.actualRange.delta\n        };\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            axis.calculateVisibleRange(size);\n            axis.visibleRange.interval = (axis.enableAutoIntervalOnZooming) ?\n                this.calculateLogNiceInterval(axis.doubleRange.delta, size, axis)\n                : axis.visibleRange.interval;\n            axis.visibleRange.interval = Math.floor(axis.visibleRange.interval) === 0 ? 1 : Math.floor(axis.visibleRange.interval);\n            axis.triggerRangeRender(this.chart, axis.visibleRange.min, axis.visibleRange.max, axis.visibleRange.interval);\n        }\n    };\n    /**\n     * Calculates log iInteval for the axis.\n     * @private\n     */\n    Logarithmic.prototype.calculateLogNiceInterval = function (delta, size, axis) {\n        var actualDesiredIntervalsCount = axis.getActualDesiredIntervalsCount(size);\n        var niceInterval = delta;\n        var minInterval = Math.pow(10, Math.floor(logBase(niceInterval, 10)));\n        for (var j = 0, len = axis.intervalDivs.length; j < len; j++) {\n            var currentInterval = minInterval * axis.intervalDivs[j];\n            if (actualDesiredIntervalsCount < (delta / currentInterval)) {\n                break;\n            }\n            niceInterval = currentInterval;\n        }\n        return niceInterval;\n    };\n    /**\n     * Calculates labels for the axis.\n     * @private\n     */\n    Logarithmic.prototype.calculateVisibleLabels = function (axis, chart) {\n        /*! Generate axis labels */\n        var tempInterval = axis.visibleRange.min;\n        axis.visibleLabels = [];\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            tempInterval = axis.visibleRange.min - (axis.visibleRange.min % axis.visibleRange.interval);\n        }\n        var axisFormat = this.getFormat(axis);\n        var isCustomFormat = axisFormat.match('{value}') !== null;\n        axis.format = chart.intl.getNumberFormat({\n            format: isCustomFormat ? '' : axisFormat,\n            useGrouping: chart.useGroupingSeparator\n        });\n        axis.startLabel = axis.format(Math.pow(axis.logBase, axis.visibleRange.min));\n        axis.endLabel = axis.format(Math.pow(axis.logBase, axis.visibleRange.max));\n        for (; tempInterval <= axis.visibleRange.max; tempInterval += axis.visibleRange.interval) {\n            if (withIn(tempInterval, axis.visibleRange)) {\n                axis.triggerLabelRender(this.chart, tempInterval, this.formatValue(axis, isCustomFormat, axisFormat, Math.pow(axis.logBase, tempInterval)), axis.labelStyle);\n            }\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /**\n     * Get module name\n     */\n    Logarithmic.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Logarithmic';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    Logarithmic.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Logarithmic;\n}(Double));\nexport { Logarithmic };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Category } from '../axis/category-axis';\nimport { withIn, firstToLowerCase } from '../../common/utils/helper';\n/**\n * Category module is used to render category axis.\n */\nvar DateTimeCategory = /** @class */ (function (_super) {\n    __extends(DateTimeCategory, _super);\n    /**\n     * Constructor for the category module.\n     * @private\n     */\n    function DateTimeCategory(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     * @private\n     */\n    DateTimeCategory.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.axisSize = size;\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis);\n    };\n    /**\n     * Calculate label for the axis.\n     * @private\n     */\n    DateTimeCategory.prototype.calculateVisibleLabels = function (axis) {\n        /*! Generate axis labels */\n        axis.visibleLabels = [];\n        var padding = axis.labelPlacement === 'BetweenTicks' ? 0.5 : 0;\n        if (axis.intervalType === 'Auto') {\n            this.calculateDateTimeNiceInterval(axis, this.axisSize, parseInt(axis.labels[0], 10), parseInt(axis.labels[axis.labels.length - 1], 10));\n        }\n        else {\n            axis.actualIntervalType = axis.intervalType;\n        }\n        axis.format = this.chart.intl.getDateFormat({\n            format: axis.labelFormat, type: firstToLowerCase(axis.skeletonType), skeleton: this.getSkeleton(axis)\n        });\n        for (var i = 0; i < axis.labels.length; i++) {\n            if (!this.sameInterval(axis.labels.map(Number)[i], axis.labels.map(Number)[i - 1], axis.actualIntervalType, i)) {\n                if (withIn(i - padding, axis.visibleRange)) {\n                    axis.triggerLabelRender(this.chart, i, axis.format(new Date(axis.labels.map(Number)[i])), axis.labelStyle);\n                }\n            }\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /**\n     * get same interval\n     */\n    DateTimeCategory.prototype.sameInterval = function (currentDate, previousDate, type, index) {\n        var sameValue;\n        if (index === 0) {\n            sameValue = false;\n        }\n        else {\n            switch (type) {\n                case 'Years':\n                    sameValue = new Date(currentDate).getFullYear() === new Date(previousDate).getFullYear();\n                    break;\n                case 'Months':\n                    sameValue = new Date(currentDate).getFullYear() === new Date(previousDate).getFullYear() &&\n                        new Date(currentDate).getMonth() === new Date(previousDate).getMonth();\n                    break;\n                case 'Days':\n                    sameValue = (Math.abs(currentDate - previousDate) < 24 * 60 * 60 * 1000 &&\n                        new Date(currentDate).getDay() === new Date(previousDate).getDay());\n                    break;\n                case 'Hours':\n                    sameValue = (Math.abs(currentDate - previousDate) < 60 * 60 * 1000 &&\n                        new Date(currentDate).getDay() === new Date(previousDate).getDay());\n                    break;\n                case 'Minutes':\n                    sameValue = (Math.abs(currentDate - previousDate) < 60 * 1000 &&\n                        new Date(currentDate).getMinutes() === new Date(previousDate).getMinutes());\n                    break;\n                case 'Seconds':\n                    sameValue = (Math.abs(currentDate - previousDate) < 1000 &&\n                        new Date(currentDate).getDay() === new Date(previousDate).getDay());\n                    break;\n            }\n        }\n        return sameValue;\n    };\n    /**\n     * Get module name\n     */\n    DateTimeCategory.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'DateTimeCategory';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    DateTimeCategory.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return DateTimeCategory;\n}(Category));\nexport { DateTimeCategory };\n","/**\n * StripLine src\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Rect, TextOption, measureText, valueToCoefficient, textElement, logBase, RectOption } from '../../common/utils/helper';\n/**\n * `StripLine` module is used to render the stripLine in chart.\n */\nvar StripLine = /** @class */ (function () {\n    function StripLine() {\n    }\n    StripLine.prototype.measureStripLine = function (axis, stripline, seriesClipRect) {\n        var actualStart;\n        var actualEnd;\n        if (axis.valueType === 'DateTimeCategory') {\n            var start = stripline.start;\n            var end = stripline.end;\n            actualStart = start ? axis.labels.indexOf(start.getTime().toString()) : null;\n            actualEnd = end ? axis.labels.indexOf(end.getTime().toString()) : null;\n        }\n        else {\n            actualStart = stripline.start;\n            actualEnd = stripline.end;\n        }\n        var rect = this.getFromTovalue(actualStart, actualEnd, stripline.size, stripline.startFromAxis, axis);\n        var height = (axis.orientation === 'Vertical') ? (rect.to - rect.from) * axis.rect.height : seriesClipRect.height;\n        var width = (axis.orientation === 'Horizontal') ? (rect.to - rect.from) * axis.rect.width : seriesClipRect.width;\n        var x = (axis.orientation === 'Vertical') ? seriesClipRect.x : ((rect.from * axis.rect.width) + axis.rect.x);\n        var y = (axis.orientation === 'Horizontal') ? seriesClipRect.y : (axis.rect.y + axis.rect.height -\n            (rect.to * axis.rect.height));\n        if (height !== 0 && width !== 0) {\n            return new Rect(x, y, width, height);\n        }\n        return new Rect(0, 0, 0, 0);\n    };\n    /**\n     * To get from to value from start, end, size, start from axis\n     */\n    StripLine.prototype.getFromTovalue = function (start, end, size, startFromAxis, axis) {\n        var from = startFromAxis ? axis.visibleRange.min : this.findValue(Math.min(start, isNullOrUndefined(end) ? start : end), axis);\n        var to = this.findValue(this.getToValue(Math.max(start, isNullOrUndefined(end) ? start : end), from, size, axis, end), axis);\n        return { from: valueToCoefficient(axis.isInversed ? to : from, axis), to: valueToCoefficient(axis.isInversed ? from : to, axis) };\n    };\n    StripLine.prototype.getToValue = function (to, from, size, axis, end) {\n        if (axis.valueType === 'DateTime') {\n            return (isNullOrUndefined(end) ? new Date(new Date(from).getTime() + size) : to);\n        }\n        else {\n            return isNullOrUndefined(end) ? (axis.valueType === 'Logarithmic' ? Math.pow(axis.logBase, from) : from) + size : to;\n        }\n    };\n    StripLine.prototype.findValue = function (value, axis) {\n        if (axis.valueType === 'Logarithmic') {\n            value = logBase(value, axis.logBase);\n        }\n        if (value < axis.visibleRange.min) {\n            value = axis.visibleRange.min;\n        }\n        else if (value > axis.visibleRange.max) {\n            value = axis.visibleRange.max;\n        }\n        return value;\n    };\n    /**\n     * To render striplines based start and end.\n     * @private\n     * @param chart\n     * @param position\n     * @param axes\n     */\n    StripLine.prototype.renderStripLine = function (chart, position, axes) {\n        var id = chart.element.id + '_stripline_' + position + '_';\n        var striplineGroup = chart.renderer.createGroup({ id: id + 'collections' });\n        var seriesClipRect = chart.chartAxisLayoutPanel.seriesClipRect;\n        var rect;\n        var count = 0;\n        for (var _i = 0, axes_1 = axes; _i < axes_1.length; _i++) {\n            var axis = axes_1[_i];\n            for (var _a = 0, _b = axis.stripLines; _a < _b.length; _a++) {\n                var stripline = _b[_a];\n                if (stripline.visible && stripline.zIndex === position) {\n                    rect = this.measureStripLine(axis, stripline, seriesClipRect);\n                    this.renderRectangle(stripline, rect, id + 'rect_' + count, striplineGroup, chart);\n                    this.renderText(stripline, rect, id + 'text_' + count, striplineGroup, chart, axis);\n                    count++;\n                }\n            }\n        }\n        chart.svgObject.appendChild(striplineGroup);\n    };\n    StripLine.prototype.renderRectangle = function (stripline, rect, id, parent, chart) {\n        parent.appendChild(chart.renderer.drawRectangle(new RectOption(id, stripline.color, stripline.border, stripline.opacity, rect, 0, 0, '', '')));\n    };\n    StripLine.prototype.renderText = function (stripline, rect, id, parent, chart, axis) {\n        var textSize = measureText(stripline.text, stripline.textStyle);\n        var textMid = 3 * (textSize.height / 8);\n        var ty = rect.y + (rect.height / 2) + textMid;\n        var rotation = (stripline.rotation === null) ? ((axis.orientation === 'Vertical') ? 0 : -90) : stripline.rotation;\n        var tx = rect.x + (rect.width / 2);\n        var alignment;\n        var anchor;\n        var padding = 5;\n        if (axis.orientation === 'Horizontal') {\n            tx = this.getTextStart(tx + (textMid * this.factor(stripline.horizontalAlignment)), rect.width, stripline.horizontalAlignment);\n            ty = this.getTextStart(ty - textMid, rect.height, stripline.verticalAlignment);\n            alignment = this.invertAlignment(stripline.verticalAlignment);\n        }\n        else {\n            tx = this.getTextStart(tx, rect.width, stripline.horizontalAlignment);\n            ty = this.getTextStart(ty + (textMid * this.factor(stripline.verticalAlignment)) - padding, rect.height, stripline.verticalAlignment);\n            alignment = stripline.horizontalAlignment;\n        }\n        anchor = alignment;\n        textElement(new TextOption(id, tx, ty, anchor, stripline.text, 'rotate(' + rotation + ' ' + tx + ',' + ty + ')', 'middle'), stripline.textStyle, stripline.textStyle.color, parent);\n    };\n    StripLine.prototype.invertAlignment = function (anchor) {\n        switch (anchor) {\n            case 'Start':\n                anchor = 'End';\n                break;\n            case 'End':\n                anchor = 'Start';\n                break;\n        }\n        return anchor;\n    };\n    StripLine.prototype.factor = function (anchor) {\n        var factor = 0;\n        switch (anchor) {\n            case 'Start':\n                factor = 1;\n                break;\n            case 'End':\n                factor = -1;\n                break;\n        }\n        return factor;\n    };\n    StripLine.prototype.getTextStart = function (xy, size, textAlignment) {\n        var padding = 5;\n        switch (textAlignment) {\n            case 'Start':\n                xy = xy - (size / 2) + padding;\n                break;\n            case 'End':\n                xy = xy + (size / 2) - padding;\n                break;\n        }\n        return xy;\n    };\n    /**\n     * To get the module name for `StripLine`.\n     * @private\n     */\n    StripLine.prototype.getModuleName = function () {\n        return 'StripLine';\n    };\n    /**\n     * To destroy the `StripLine` module.\n     * @private\n     */\n    StripLine.prototype.destroy = function () {\n        // destroy peform here\n    };\n    return StripLine;\n}());\nexport { StripLine };\n","import { Rect, getAnimationFunction } from '../../common/utils/helper';\nimport { Animation } from '@syncfusion/ej2-base';\n/**\n * Base for line type series.\n */\nvar LineBase = /** @class */ (function () {\n    /** @private */\n    function LineBase(chartModule) {\n        this.chart = chartModule;\n        this.padding = 5;\n    }\n    /**\n     * To improve the chart performance.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.improveChartPerformance = function (series) {\n        var tempPoints = [];\n        var xVisibleRange = series.xAxis.visibleRange;\n        var yVisibleRange = series.yAxis.visibleRange;\n        var seriesPoints = series.points;\n        var areaBounds = series.clipRect;\n        var xTolerance = Math.abs(xVisibleRange.delta / areaBounds.width);\n        var yTolerance = Math.abs(yVisibleRange.delta / areaBounds.height);\n        var prevXValue = (seriesPoints[0] && seriesPoints[0].x > xTolerance) ? 0 : xTolerance;\n        var prevYValue = (seriesPoints[0] && seriesPoints[0].y > yTolerance) ? 0 : yTolerance;\n        var xVal = 0;\n        var yVal = 0;\n        var currentPoint;\n        for (var _i = 0, seriesPoints_1 = seriesPoints; _i < seriesPoints_1.length; _i++) {\n            var currentPoint_1 = seriesPoints_1[_i];\n            currentPoint_1.symbolLocations = [];\n            xVal = currentPoint_1.xValue ? currentPoint_1.xValue : xVisibleRange.min;\n            yVal = currentPoint_1.yValue ? currentPoint_1.yValue : yVisibleRange.min;\n            if (Math.abs(prevXValue - xVal) >= xTolerance || Math.abs(prevYValue - yVal) >= yTolerance) {\n                tempPoints.push(currentPoint_1);\n                prevXValue = xVal;\n                prevYValue = yVal;\n            }\n        }\n        return tempPoints;\n    };\n    /**\n     * To generate the line path direction\n     * @param firstPoint\n     * @param secondPoint\n     * @param series\n     * @param isInverted\n     * @param getPointLocation\n     * @param startPoint\n     */\n    LineBase.prototype.getLineDirection = function (firstPoint, secondPoint, series, isInverted, getPointLocation, startPoint) {\n        var direction = '';\n        if (firstPoint != null) {\n            var point1 = getPointLocation(firstPoint.xValue, firstPoint.yValue, series.xAxis, series.yAxis, isInverted, series);\n            var point2 = getPointLocation(secondPoint.xValue, secondPoint.yValue, series.xAxis, series.yAxis, isInverted, series);\n            direction = startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ' +\n                'L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ';\n        }\n        return direction;\n    };\n    /**\n     * To append the line path.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.appendLinePath = function (options, series, clipRect) {\n        var htmlObject = series.chart.renderer.drawPath(options);\n        htmlObject.setAttribute('clip-path', clipRect);\n        series.pathElement = htmlObject;\n        series.seriesElement.appendChild(htmlObject);\n        series.isRectSeries = false;\n    };\n    /**\n     * To render the marker for the series.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.renderMarker = function (series) {\n        if (series.marker.visible) {\n            series.chart.markerRender.render(series);\n        }\n    };\n    /**\n     * To do the progressive animation.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.doProgressiveAnimation = function (series, option) {\n        var animation = new Animation({});\n        var path = series.pathElement;\n        var strokeDashArray = path.getAttribute('stroke-dasharray');\n        var pathLength = series.pathElement.getTotalLength();\n        var currentTime;\n        path.style.visibility = 'hidden';\n        animation.animate(path, {\n            duration: option.duration,\n            delay: option.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    path.style.visibility = 'visible';\n                    currentTime = Math.abs(Math.round(((args.timeStamp - args.delay) * pathLength) / args.duration));\n                    path.setAttribute('stroke-dasharray', currentTime + ',' + pathLength);\n                }\n            },\n            end: function (model) {\n                path.setAttribute('stroke-dasharray', strokeDashArray);\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        });\n    };\n    /**\n     * To store the symbol location and region\n     * @param point\n     * @param series\n     * @param isInverted\n     * @param getLocation\n     */\n    LineBase.prototype.storePointLocation = function (point, series, isInverted, getLocation) {\n        point.symbolLocations.push(getLocation(point.xValue, point.yValue, series.xAxis, series.yAxis, isInverted, series));\n        point.regions.push(new Rect(point.symbolLocations[0].x - series.marker.width, point.symbolLocations[0].y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n    };\n    /**\n     * To do the linear animation.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.doLinearAnimation = function (series, animation) {\n        var clipRect = series.clipRectElement.childNodes[0].childNodes[0];\n        var effect = getAnimationFunction('Linear');\n        var elementHeight = +clipRect.getAttribute('height');\n        var elementWidth = +clipRect.getAttribute('width');\n        var xCenter = +clipRect.getAttribute('x');\n        var yCenter = series.chart.requireInvertedAxis ? +clipRect.getAttribute('height') + +clipRect.getAttribute('y') :\n            +clipRect.getAttribute('y');\n        var value;\n        clipRect.style.visibility = 'hidden';\n        new Animation({}).animate(clipRect, {\n            duration: animation.duration,\n            delay: animation.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    clipRect.style.visibility = 'visible';\n                    if (series.chart.requireInvertedAxis) {\n                        value = effect(args.timeStamp - args.delay, 0, elementHeight, args.duration);\n                        clipRect.setAttribute('transform', 'translate(' + xCenter + ' ' + yCenter +\n                            ') scale(1,' + (value / elementHeight) + ') translate(' + (-xCenter) + ' ' + (-yCenter) + ')');\n                    }\n                    else {\n                        value = effect(args.timeStamp - args.delay, 0, elementWidth, args.duration);\n                        clipRect.setAttribute('transform', 'translate(' + xCenter + ' ' + yCenter +\n                            ') scale(' + (value / elementWidth) + ', 1) translate(' + (-xCenter) + ' ' + (-yCenter) + ')');\n                    }\n                }\n            },\n            end: function (model) {\n                clipRect.setAttribute('transform', 'translate(0,0)');\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        });\n    };\n    return LineBase;\n}());\nexport { LineBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, getPoint, PathOption, TransformToVisible } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * `LineSeries` module used to render the line series.\n */\nvar LineSeries = /** @class */ (function (_super) {\n    __extends(LineSeries, _super);\n    function LineSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Line Series.\n     * @return {void}.\n     * @private\n     */\n    LineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var point1;\n        var point2;\n        var direction = '';\n        var prevPoint = null;\n        var startPoint = 'M';\n        var options;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        var visiblePoints = this.improveChartPerformance(series);\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                direction += this.getLineDirection(prevPoint, point, series, isInverted, getCoordinate, startPoint);\n                startPoint = prevPoint ? 'L' : startPoint;\n                prevPoint = point;\n                this.storePointLocation(point, series, isInverted, getCoordinate);\n            }\n            else {\n                prevPoint = (series.emptyPointSettings.mode === 'Drop') ? prevPoint : null;\n                startPoint = (series.emptyPointSettings.mode === 'Drop') ? startPoint : 'M';\n                point.symbolLocations = [];\n            }\n        }\n        if (series.chart.chartAreaType === 'PolarRadar') {\n            if (series.isClosed) {\n                point2 = getCoordinate(visiblePoints[visiblePoints.length - 1].xValue, visiblePoints[visiblePoints.length - 1].yValue, xAxis, yAxis, isInverted, series);\n                point1 = getCoordinate(visiblePoints[0].xValue, visiblePoints[0].yValue, xAxis, yAxis, isInverted, series);\n                direction = direction.concat(startPoint + ' ' + point2.x + ' ' + point2.y + ' ' + 'L' + ' ' + point1.x + ' ' + point1.y);\n            }\n        }\n        var name = series.category === 'Indicator' ? series.chart.element.id + '_Indicator_' + series.index + '_' + series.name :\n            series.category === 'TrendLine' ? series.chart.element.id + '_Series_' + series.sourceIndex + '_TrendLine_' + series.index :\n                series.chart.element.id + '_Series_' + series.index;\n        options = new PathOption(name, 'none', series.width, series.interior, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    LineSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doProgressiveAnimation(series, option);\n    };\n    /**\n     * Get module name.\n     */\n    LineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'LineSeries';\n    };\n    /**\n     * To destroy the line series.\n     * @return {void}\n     * @private\n     */\n    LineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return LineSeries;\n}(LineBase));\nexport { LineSeries };\n","import { Animation } from '@syncfusion/ej2-base';\nimport { DoubleRange } from '../utils/double-range';\nimport { Rect, valueToCoefficient, getMinPointsDelta, PathOption } from '../../common/utils/helper';\nimport { getAnimationFunction, getPoint } from '../../common/utils/helper';\nimport { pointRender } from '../../common/model/constants';\n/**\n * Column Series Base\n */\nvar ColumnBase = /** @class */ (function () {\n    function ColumnBase() {\n    }\n    /**\n     * To get the position of the column series.\n     * @return {DoubleRange}\n     * @private\n     */\n    ColumnBase.prototype.getSideBySideInfo = function (series) {\n        if (series.chart.enableSideBySidePlacement && !series.position) {\n            this.getSideBySidePositions(series);\n        }\n        var position = !series.chart.enableSideBySidePlacement ? 0 : series.position;\n        var rectCount = !series.chart.enableSideBySidePlacement ? 1 : series.rectCount;\n        series.isRectSeries = true;\n        var visibleSeries = series.chart.visibleSeries;\n        var seriesSpacing = series.chart.enableSideBySidePlacement ? series.columnSpacing : 0; // Column Spacing\n        var pointSpacing = series.columnWidth; // Column width\n        var minimumPointDelta = getMinPointsDelta(series.xAxis, visibleSeries);\n        var width = minimumPointDelta * pointSpacing;\n        var radius;\n        var location = (position) / rectCount - 0.5;\n        var doubleRange = new DoubleRange(location, location + (1 / rectCount));\n        if (!(isNaN(doubleRange.start) || isNaN(doubleRange.end))) {\n            doubleRange = new DoubleRange(doubleRange.start * width, doubleRange.end * width);\n            radius = seriesSpacing * doubleRange.delta;\n            doubleRange = new DoubleRange(doubleRange.start + radius / 2, doubleRange.end - radius / 2);\n        }\n        return doubleRange;\n    };\n    /**\n     * To get the rect values.\n     * @return {Rect}\n     * @private\n     */\n    ColumnBase.prototype.getRectangle = function (x1, y1, x2, y2, series) {\n        var point1 = getPoint(x1, y1, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        var point2 = getPoint(x2, y2, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        return new Rect(Math.min(point1.x, point2.x), Math.min(point1.y, point2.y), Math.abs(point2.x - point1.x), Math.abs(point2.y - point1.y));\n    };\n    /**\n     * To get the position of each series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.getSideBySidePositions = function (series) {\n        var chart = series.chart;\n        var seriesCollection = [];\n        for (var _i = 0, _a = chart.columns; _i < _a.length; _i++) {\n            var columnItem = _a[_i];\n            for (var _b = 0, _c = chart.rows; _b < _c.length; _b++) {\n                var item = _c[_b];\n                this.findRectPosition(series.findSeriesCollection(columnItem, item, false));\n            }\n        }\n    };\n    ColumnBase.prototype.findRectPosition = function (seriesCollection) {\n        var stackingGroup = [];\n        var vSeries = { rectCount: 0, position: null };\n        seriesCollection.forEach(function (value) {\n            if (value.type.indexOf('Stacking') !== -1) {\n                if (value.stackingGroup) {\n                    if (stackingGroup[value.stackingGroup] === undefined) {\n                        value.position = vSeries.rectCount;\n                        stackingGroup[value.stackingGroup] = vSeries.rectCount++;\n                    }\n                    else {\n                        value.position = stackingGroup[value.stackingGroup];\n                    }\n                }\n                else {\n                    if (vSeries.position === null) {\n                        value.position = vSeries.rectCount;\n                        vSeries.position = vSeries.rectCount++;\n                    }\n                    else {\n                        value.position = vSeries.position;\n                    }\n                }\n            }\n            else {\n                value.position = vSeries.rectCount++;\n            }\n        });\n        seriesCollection.forEach(function (value) {\n            value.rectCount = vSeries.rectCount;\n        });\n    };\n    /**\n     * Updates the symbollocation for points\n     * @return void\n     * @private\n     */\n    ColumnBase.prototype.updateSymbolLocation = function (point, rect, series) {\n        if (!series.chart.requireInvertedAxis) {\n            this.updateXRegion(point, rect, series);\n        }\n        else {\n            this.updateYRegion(point, rect, series);\n        }\n    };\n    /**\n     * Update the region for the point.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.updateXRegion = function (point, rect, series) {\n        point.regions.push(rect);\n        point.symbolLocations.push({\n            x: rect.x + (rect.width) / 2,\n            y: (series.seriesType === 'BoxPlot' || series.seriesType.indexOf('HighLow') !== -1 ||\n                (point.yValue >= 0 === !series.yAxis.isInversed)) ? rect.y : (rect.y + rect.height)\n        });\n    };\n    /**\n     * Update the region for the point in bar series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.updateYRegion = function (point, rect, series) {\n        point.regions.push(rect);\n        point.symbolLocations.push({\n            x: (series.seriesType === 'BoxPlot' || series.seriesType.indexOf('HighLow') !== -1 ||\n                (point.yValue >= 0 === !series.yAxis.isInversed)) ? rect.x + rect.width : rect.x,\n            y: rect.y + rect.height / 2\n        });\n    };\n    /**\n     * To trigger the point rendering event.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.triggerEvent = function (series, point, fill, border) {\n        var argsData = {\n            cancel: false, name: pointRender, series: series, point: point,\n            fill: series.setPointColor(point, fill),\n            border: series.setBorderColor(point, border)\n        };\n        series.chart.trigger(pointRender, argsData);\n        point.color = argsData.fill;\n        return argsData;\n    };\n    /**\n     * To draw the rectangle for points.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.drawRectangle = function (series, point, rect, argsData) {\n        var check = series.chart.requireInvertedAxis ? rect.height : rect.width;\n        if (check <= 0) {\n            return null;\n        }\n        var direction = this.calculateRoundedRectPath(rect, series.cornerRadius.topLeft, series.cornerRadius.topRight, series.cornerRadius.bottomLeft, series.cornerRadius.bottomRight);\n        var name = series.category === 'Indicator' ? series.chart.element.id + '_Indicator_' + series.index + '_' + series.name +\n            '_Point_' + point.index : series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index;\n        var options = new PathOption(name, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n        var element = series.chart.renderer.drawPath(options);\n        switch (series.seriesType) {\n            case 'XY':\n                element.setAttribute('aria-label', point.x.toString() + ':' + point.yValue.toString());\n                break;\n            case 'HighLow':\n                element.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString() + ':' + point.low.toString());\n                break;\n        }\n        series.seriesElement.appendChild(element);\n    };\n    /**\n     * To animate the series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.animate = function (series) {\n        var rectElements = series.seriesElement.childNodes;\n        var count = series.category === 'Indicator' ? 0 : 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (!point.symbolLocations.length && !(series.type === 'BoxAndWhisker' && point.regions.length)) {\n                continue;\n            }\n            this.animateRect(rectElements[count], series, point);\n            count++;\n        }\n    };\n    /**\n     * To animate the series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.animateRect = function (element, series, point) {\n        var option = series.animation;\n        var effect = getAnimationFunction('Linear');\n        var isPlot = point.yValue < 0;\n        var x;\n        var y;\n        var elementHeight = +point.regions[0].height;\n        var elementWidth = +point.regions[0].width;\n        var centerX;\n        var centerY;\n        if (!series.chart.requireInvertedAxis) {\n            x = +point.regions[0].x;\n            if (series.type.indexOf('Stacking') > -1) {\n                y = (1 - valueToCoefficient(0, series.yAxis)) * (series.yAxis.rect.height);\n                centerX = x;\n                centerY = y;\n            }\n            else {\n                y = +point.regions[0].y;\n                centerY = (series.seriesType.indexOf('HighLow') !== -1 || series.type.indexOf('Waterfall') !== -1) ? y + elementHeight / 2 :\n                    (isPlot !== series.yAxis.isInversed) ? y : y + elementHeight;\n                centerX = isPlot ? x : x + elementWidth;\n            }\n        }\n        else {\n            y = +point.regions[0].y;\n            if (series.type.indexOf('Stacking') > -1) {\n                x = (valueToCoefficient(0, series.yAxis)) * series.yAxis.rect.width;\n                centerX = x;\n                centerY = y;\n            }\n            else {\n                x = +point.regions[0].x;\n                centerY = isPlot ? y : y + elementHeight;\n                centerX = (series.seriesType.indexOf('HighLow') !== -1 || series.type.indexOf('Waterfall') !== -1) ? x + elementWidth / 2 :\n                    (isPlot !== series.yAxis.isInversed) ? x + elementWidth : x;\n            }\n        }\n        var value;\n        element.style.visibility = 'hidden';\n        new Animation({}).animate(element, {\n            duration: option.duration,\n            delay: option.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    element.style.visibility = 'visible';\n                    if (!series.chart.requireInvertedAxis) {\n                        elementHeight = elementHeight ? elementHeight : 1;\n                        value = effect(args.timeStamp - args.delay, 0, elementHeight, args.duration);\n                        element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY +\n                            ') scale(1,' + (value / elementHeight) + ') translate(' + (-centerX) + ' ' + (-centerY) + ')');\n                    }\n                    else {\n                        elementWidth = elementWidth ? elementWidth : 1;\n                        value = effect(args.timeStamp - args.delay, 0, elementWidth, args.duration);\n                        element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY +\n                            ') scale(' + (value / elementWidth) + ', 1) translate(' + (-centerX) + ' ' + (-centerY) + ')');\n                    }\n                }\n            },\n            end: function (model) {\n                element.setAttribute('transform', 'translate(0,0)');\n                var seriesElement = series.seriesElement;\n                if (element === seriesElement.lastElementChild || point.index === series.points.length - 1 ||\n                    (series.type === 'Waterfall' && element === seriesElement.children[seriesElement.childElementCount - 2])) {\n                    series.chart.trigger('animationComplete', { series: series });\n                    if (series.type === 'Waterfall') {\n                        var rectElements = seriesElement.childNodes;\n                        for (var i = 0; i < rectElements.length; i++) {\n                            if (rectElements[i].id.indexOf('Connector') !== -1) {\n                                rectElements[i].style.visibility = 'visible';\n                                rectElements[i].setAttribute('transform', 'translate(0,0)');\n                            }\n                        }\n                    }\n                }\n            }\n        });\n    };\n    /**\n     * To get rounded rect path direction\n     */\n    ColumnBase.prototype.calculateRoundedRectPath = function (rect, topLeft, topRight, bottomLeft, bottomRight) {\n        return 'M' + ' ' + rect.x + ' ' + (topLeft + rect.y) +\n            ' Q ' + rect.x + ' ' + rect.y + ' ' + (rect.x + topLeft) + ' ' +\n            rect.y + ' ' + 'L' + ' ' + (rect.x + rect.width - topRight) + ' ' + rect.y +\n            ' Q ' + (rect.x + rect.width) + ' ' + rect.y + ' ' +\n            (rect.x + rect.width) + ' ' + (rect.y + topRight) + ' ' + 'L ' +\n            (rect.x + rect.width) + ' ' + (rect.y + rect.height - bottomRight)\n            + ' Q ' + (rect.x + rect.width) + ' ' + (rect.y + rect.height) + ' ' + (rect.x + rect.width - bottomRight) + ' ' +\n            (rect.y + rect.height) + ' ' + 'L ' + (rect.x + bottomLeft) + ' ' + (rect.y + rect.height) + ' Q ' + rect.x + ' ' +\n            (rect.y + rect.height) + ' ' + rect.x + ' ' + (rect.y + rect.height - bottomLeft) + ' ' + 'L' + ' ' + rect.x + ' ' +\n            (topLeft + rect.y) + ' ' + 'Z';\n    };\n    return ColumnBase;\n}());\nexport { ColumnBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `ColumnSeries` Module used to render the column series.\n */\nvar ColumnSeries = /** @class */ (function (_super) {\n    __extends(ColumnSeries, _super);\n    function ColumnSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Column series.\n     * @return {void}\n     * @private\n     */\n    ColumnSeries.prototype.render = function (series) {\n        var rect;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var pointColumn = _a[_i];\n            pointColumn.symbolLocations = [];\n            pointColumn.regions = [];\n            if (pointColumn.visible && withInRange(series.points[pointColumn.index - 1], pointColumn, series.points[pointColumn.index + 1], series)) {\n                rect = this.getRectangle(pointColumn.xValue + sideBySideInfo.start, pointColumn.yValue, pointColumn.xValue + sideBySideInfo.end, origin, series);\n                var color = series.category === 'Indicator' ? pointColumn.color : series.interior;\n                argsData = this.triggerEvent(series, pointColumn, color, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(pointColumn, rect, series);\n                    this.drawRectangle(series, pointColumn, rect, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    ColumnSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    ColumnSeries.prototype.getModuleName = function () {\n        return 'ColumnSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the column series.\n     * @return {void}\n     * @private\n     */\n    ColumnSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return ColumnSeries;\n}(ColumnBase));\nexport { ColumnSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getPoint } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\nimport { RectOption } from '../../common/utils/helper';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Base class for multi colored series\n */\nvar MultiColoredSeries = /** @class */ (function (_super) {\n    __extends(MultiColoredSeries, _super);\n    function MultiColoredSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * To Generate the area path direction\n     * @param xValue\n     * @param yValue\n     * @param series\n     * @param isInverted\n     * @param getPointLocation\n     * @param startPoint\n     * @param startPath\n     */\n    MultiColoredSeries.prototype.getAreaPathDirection = function (xValue, yValue, series, isInverted, getPointLocation, startPoint, startPath) {\n        var direction = '';\n        var firstPoint;\n        if (startPoint === null) {\n            firstPoint = getPointLocation(xValue, yValue, series.xAxis, series.yAxis, isInverted, series);\n            direction += (startPath + ' ' + (firstPoint.x) + ' ' + (firstPoint.y) + ' ');\n        }\n        return direction;\n    };\n    /**\n     * To Generate the empty point direction\n     * @param firstPoint\n     * @param secondPoint\n     * @param series\n     * @param isInverted\n     * @param getPointLocation\n     */\n    MultiColoredSeries.prototype.getAreaEmptyDirection = function (firstPoint, secondPoint, series, isInverted, getPointLocation) {\n        var direction = '';\n        direction += this.getAreaPathDirection(firstPoint.x, firstPoint.y, series, isInverted, getPointLocation, null, 'L');\n        direction += this.getAreaPathDirection(secondPoint.x, secondPoint.y, series, isInverted, getPointLocation, null, 'L');\n        return direction;\n    };\n    /**\n     * To set point color\n     * @param points\n     */\n    MultiColoredSeries.prototype.setPointColor = function (currentPoint, previous, series, isXSegment, segments) {\n        if (series.pointColorMapping === '') {\n            var segment = void 0;\n            var value = void 0;\n            for (var i = 0; i < segments.length; i++) {\n                segment = segments[i];\n                value = isXSegment ? currentPoint.xValue : currentPoint.yValue;\n                if (value <= this.getAxisValue(segment.value, isXSegment ? series.xAxis : series.yAxis, series.chart) || !segment.value) {\n                    currentPoint.interior = segment.color;\n                    break;\n                }\n            }\n            if (currentPoint.interior == null) {\n                currentPoint.interior = series.interior;\n            }\n            return false;\n        }\n        else {\n            if (previous) {\n                return series.setPointColor(currentPoint, series.interior) !== series.setPointColor(previous, series.interior);\n            }\n            else {\n                return false;\n            }\n        }\n    };\n    MultiColoredSeries.prototype.sortSegments = function (series, chartSegments) {\n        var axis = series.segmentAxis === 'X' ? series.xAxis : series.yAxis;\n        var segments = [].concat(chartSegments);\n        var access = this;\n        return segments.sort(function (a, b) {\n            return access.getAxisValue(a.value, axis, series.chart) - access.getAxisValue(b.value, axis, series.chart);\n        });\n    };\n    /**\n     * Segment calculation performed here\n     * @param series\n     * @param options\n     * @param chartSegments\n     */\n    MultiColoredSeries.prototype.applySegmentAxis = function (series, options, segments) {\n        var _this = this;\n        if (series.pointColorMapping !== '') {\n            options.map(function (option) {\n                _this.appendLinePath(option, series, '');\n            });\n            return null;\n        }\n        var isXSegment = series.segmentAxis === 'X';\n        var axis = isXSegment ? series.xAxis : series.yAxis;\n        var chart = series.chart;\n        var segment;\n        this.includeSegment(segments, axis, series, segments.length);\n        var length = segments.length;\n        var value;\n        var clipPath;\n        var _loop_1 = function (index) {\n            segment = segments[index];\n            value = this_1.getAxisValue(segment.value, axis, series.chart);\n            clipPath = this_1.createClipRect(index ? this_1.getAxisValue(segments[index - 1].value, axis, series.chart)\n                : axis.visibleRange.min, value, series, index, isXSegment);\n            if (clipPath) {\n                options.map(function (option) {\n                    series.seriesElement.appendChild(chart.renderer.drawPath({\n                        'clip-path': clipPath,\n                        'stroke-dasharray': segment.dashArray,\n                        'opacity': option.opacity,\n                        'stroke': series.type.indexOf('Line') > -1 ? segment.color || series.interior : series.border.color,\n                        'stroke-width': option['stroke-width'],\n                        'fill': series.type.indexOf('Line') > -1 ? 'none' : segment.color || series.interior,\n                        'id': option.id + '_Segment_' + index,\n                        'd': option.d\n                    }));\n                });\n            }\n        };\n        var this_1 = this;\n        for (var index = 0; index < length; index++) {\n            _loop_1(index);\n        }\n    };\n    MultiColoredSeries.prototype.includeSegment = function (segments, axis, series, length) {\n        if (length <= 0) {\n            segments.push({ value: axis.visibleRange.max, color: series.interior });\n            return null;\n        }\n        if (this.getAxisValue(segments[length - 1].value, axis, series.chart) < axis.visibleRange.max) {\n            segments.push({ value: axis.visibleRange.max, color: series.interior });\n        }\n    };\n    /**\n     * To create clip rect for segment axis\n     * @param startValue\n     * @param endValue\n     * @param series\n     * @param index\n     * @param isX\n     * @param chart\n     */\n    MultiColoredSeries.prototype.createClipRect = function (startValue, endValue, series, index, isX) {\n        var isRequired = series.chart.requireInvertedAxis;\n        var startPointLocation = getPoint(isX ? startValue : series.xAxis.visibleRange.min, isX ? series.yAxis.visibleRange.max : endValue, series.xAxis, series.yAxis, isRequired);\n        var endPointLocation = getPoint(isX ? endValue : series.xAxis.visibleRange.max, isX ? series.yAxis.visibleRange.min : startValue, series.xAxis, series.yAxis, isRequired);\n        endPointLocation = isRequired ?\n            [startPointLocation, startPointLocation = endPointLocation][0] : endPointLocation;\n        if ((endPointLocation.x - startPointLocation.x > 0) && (endPointLocation.y - startPointLocation.y > 0)) {\n            series.seriesElement.appendChild(series.chart.renderer.drawClipPath(new RectOption(series.chart.element.id + '_ChartSegmentClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                x: startPointLocation.x,\n                y: startPointLocation.y,\n                width: endPointLocation.x - startPointLocation.x,\n                height: endPointLocation.y - startPointLocation.y\n            })));\n            return 'url(#' + series.chart.element.id + '_ChartSegmentClipRect_' + index + ')';\n        }\n        return null;\n    };\n    /**\n     * To get exact value from segment value\n     * @param segmentValue\n     * @param axis\n     * @param chart\n     */\n    MultiColoredSeries.prototype.getAxisValue = function (segmentValue, axis, chart) {\n        if (segmentValue === null) {\n            segmentValue = axis.visibleRange.max;\n        }\n        if (axis.valueType === 'DateTime') {\n            var option = { skeleton: 'full', type: 'dateTime' };\n            return Date.parse(chart.intl.getDateParser(option)(chart.intl.getDateFormat(option)(new Date(DataUtil.parse.parseJson({ val: segmentValue }).val))));\n        }\n        else if (axis.valueType.indexOf('Category') > -1) {\n            var xValue = axis.valueType === 'DateTimeCategory' ?\n                (segmentValue.getTime()).toString() :\n                segmentValue;\n            return (axis.labels.indexOf(xValue) < 0) ? +segmentValue : axis.labels.indexOf(xValue);\n        }\n        else {\n            return +segmentValue;\n        }\n    };\n    return MultiColoredSeries;\n}(LineBase));\nexport { MultiColoredSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getPoint, withInRange, ChartLocation, PathOption, TransformToVisible } from '../../common/utils/helper';\nimport { MultiColoredSeries } from './multi-colored-base';\n/**\n * `AreaSeries` module is used to render the area series.\n */\nvar AreaSeries = /** @class */ (function (_super) {\n    __extends(AreaSeries, _super);\n    function AreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Area series.\n     * @return {void}\n     * @private\n     */\n    AreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var _this = this;\n        var startPoint = null;\n        var direction = '';\n        var origin = series.chart.chartAreaType === 'PolarRadar' ? series.points[0].yValue :\n            Math.max(series.yAxis.visibleRange.min, 0);\n        var currentXValue;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        series.points.map(function (point, i, seriesPoints) {\n            currentXValue = point.xValue;\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(seriesPoints[i - 1], point, seriesPoints[i + 1], series)) {\n                direction += _this.getAreaPathDirection(currentXValue, origin, series, isInverted, getCoordinate, startPoint, 'M');\n                startPoint = startPoint || new ChartLocation(currentXValue, origin);\n                // First Point to draw the area path\n                direction += _this.getAreaPathDirection(currentXValue, point.yValue, series, isInverted, getCoordinate, null, 'L');\n                if (seriesPoints[i + 1] && !seriesPoints[i + 1].visible && series.emptyPointSettings.mode !== 'Drop') {\n                    direction += _this.getAreaEmptyDirection({ 'x': currentXValue, 'y': origin }, startPoint, series, isInverted, getCoordinate);\n                    startPoint = null;\n                }\n                _this.storePointLocation(point, series, isInverted, getPoint);\n            }\n        });\n        this.appendLinePath(new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, (series.points.length > 1 ? (direction + this.getAreaPathDirection(series.points[series.points.length - 1].xValue, series.chart.chartAreaType === 'PolarRadar' ?\n            series.points[series.points.length - 1].yValue : origin, series, isInverted, getCoordinate, null, 'L')) : '')), series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * To destroy the area series.\n     * @return {void}\n     * @private\n     */\n    AreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name\n     */\n    AreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'AreaSeries';\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    AreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    return AreaSeries;\n}(MultiColoredSeries));\nexport { AreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `BarSeries` module is used to render the bar series.\n */\nvar BarSeries = /** @class */ (function (_super) {\n    __extends(BarSeries, _super);\n    function BarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Bar series.\n     * @return {void}\n     * @private\n     */\n    BarSeries.prototype.render = function (series) {\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var rect;\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var pointBar = _a[_i];\n            pointBar.symbolLocations = [];\n            pointBar.regions = [];\n            if (pointBar.visible && withInRange(series.points[pointBar.index - 1], pointBar, series.points[pointBar.index + 1], series)) {\n                rect = this.getRectangle(pointBar.xValue + sideBySideInfo.start, pointBar.yValue, pointBar.xValue + sideBySideInfo.end, origin, series);\n                argsData = this.triggerEvent(series, pointBar, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(pointBar, rect, series);\n                    this.drawRectangle(series, pointBar, rect, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    BarSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the bar series.\n     * @return {void}\n     * @private\n     */\n    BarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * Get module name\n     */\n    BarSeries.prototype.getModuleName = function () {\n        return 'BarSeries';\n    };\n    return BarSeries;\n}(ColumnBase));\nexport { BarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { valueToCoefficient, TextOption, inside, measureText } from '../../common/utils/helper';\nimport { Size, Rect, PathOption, CircleOption } from '../../common/utils/helper';\nimport { LineBase } from '../series/line-base';\nimport { textElement, valueToPolarCoefficient, CoefficientToVector } from '../../common/utils/helper';\n/**\n * Specifies the Polar Axis Layout.\n */\nvar axisPadding = 10;\nvar PolarRadarPanel = /** @class */ (function (_super) {\n    __extends(PolarRadarPanel, _super);\n    function PolarRadarPanel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Measure the polar radar axis size.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.measureAxis = function (rect) {\n        var chart = this.chart;\n        this.initialClipRect = rect;\n        this.seriesClipRect = new Rect(rect.x, rect.y, rect.width, rect.height);\n        //Measure axis size calculation\n        this.measureRowAxis(chart, this.initialClipRect);\n        this.measureColumnAxis(chart, this.initialClipRect);\n        this.calculateAxisSize();\n    };\n    PolarRadarPanel.prototype.measureRowAxis = function (chart, rect) {\n        this.calculateRowSize(rect);\n        var row = chart.rows[0];\n        this.measureDefinition(row, chart, new Size(chart.availableSize.width, row.computedHeight), rect);\n    };\n    PolarRadarPanel.prototype.measureColumnAxis = function (chart, rect) {\n        this.calculateColumnSize(rect);\n        var column = chart.columns[0];\n        this.measureDefinition(column, chart, new Size(column.computedWidth, chart.availableSize.height), rect);\n    };\n    /**\n     * Measure the column and row in chart.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.measureDefinition = function (definition, chart, size, clipRect) {\n        for (var _i = 0, _a = definition.axes; _i < _a.length; _i++) {\n            var axis = _a[_i];\n            axis.getModule(chart);\n            axis.baseModule.calculateRangeAndInterval(size, axis);\n        }\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.calculateAxisSize = function () {\n        var chart = this.chart;\n        var axis;\n        var padding = 5;\n        this.centerX = this.initialClipRect.width * 0.5 + this.initialClipRect.x;\n        this.centerY = this.initialClipRect.height * 0.5 + this.initialClipRect.y;\n        chart.radius = Math.min(this.initialClipRect.width, this.initialClipRect.height) / 2 - padding -\n            chart.primaryXAxis.majorTickLines.height - chart.primaryXAxis.maxLabelSize.height;\n        chart.radius = (chart.primaryXAxis.coefficient * chart.radius) / 100;\n        this.seriesClipRect.y = this.centerY - chart.radius;\n        this.seriesClipRect.x = this.centerX - chart.radius;\n        this.seriesClipRect.height = 2 * chart.radius;\n        this.seriesClipRect.width = 2 * chart.radius;\n        this.calculateRowSize(this.seriesClipRect);\n        axis = chart.primaryYAxis;\n        axis.rect = this.seriesClipRect;\n        this.calculateColumnSize(this.seriesClipRect);\n        axis = chart.primaryXAxis;\n        axis.rect = this.seriesClipRect;\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.measure = function () {\n        var chart = this.chart;\n        chart.verticalAxes.push(chart.primaryYAxis);\n        var row = chart.rows[0];\n        row.axes[0] = chart.primaryYAxis;\n        chart.rows[0] = row;\n        chart.horizontalAxes.push(chart.primaryXAxis);\n        var column = chart.columns[0];\n        column.axes[0] = chart.primaryXAxis;\n        chart.columns[0] = column;\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    PolarRadarPanel.prototype.calculateRowSize = function (rect) {\n        /*! Calculate row size */\n        var chart = this.chart;\n        var row = chart.rows[0];\n        row.computedHeight = rect.height / 2;\n        row.computedTop = rect.y;\n        chart.rows[0] = row;\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    PolarRadarPanel.prototype.calculateColumnSize = function (rect) {\n        /*! Calculate column size */\n        var chart = this.chart;\n        var column = chart.columns[0];\n        column.computedLeft = rect.x;\n        column.computedWidth = rect.width;\n        chart.columns[0] = column;\n    };\n    /**\n     * To render the axis element.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.renderAxes = function () {\n        var axis;\n        var chart = this.chart;\n        this.startAngle = chart.primaryXAxis.startAngle;\n        var axisElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisCollection' });\n        var axisLineElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisOutsideCollection' });\n        for (var i = 0, len = chart.axisCollections.length; i < len; i++) {\n            this.element = chart.renderer.createGroup({ id: chart.element.id + 'AxisGroup' + i });\n            axis = chart.axisCollections[i];\n            if (axis.orientation === 'Horizontal') {\n                if (axis.majorGridLines.width > 0 || axis.majorTickLines.width > 0) {\n                    this.drawXAxisGridLine(axis, i);\n                }\n                if (axis.visible) {\n                    this.drawXAxisLabels(axis, i);\n                }\n            }\n            else {\n                this.drawYAxisGridLine(axis, i);\n                if (axis.lineStyle.width > 0) {\n                    this.drawYAxisLine(axis, i, axis.plotOffset, 0);\n                }\n                if (axis.visible) {\n                    this.drawYAxisLabels(axis, i);\n                }\n            }\n            axisElement.appendChild(this.element);\n        }\n        axisElement.appendChild(this.element);\n        chart.svgObject.appendChild(axisElement);\n        return axisLineElement;\n    };\n    PolarRadarPanel.prototype.drawYAxisLine = function (axis, index, plotX, plotY) {\n        var chart = this.chart;\n        var optionsLine = {};\n        var vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value, axis), this.startAngle);\n        var axisLine = 'M ' + this.centerX + ' ' + this.centerY + 'L ' +\n            (this.centerX + chart.radius * vector.x) + ' ' + (this.centerY + chart.radius * vector.y);\n        optionsLine = {\n            'id': chart.element.id + 'AxisLine_' + index,\n            'd': axisLine,\n            'stroke-dasharray': axis.lineStyle.dashArray,\n            'stroke-width': axis.lineStyle.width,\n            'stroke': axis.lineStyle.color || chart.themeStyle.axisLine\n        };\n        chart.yAxisElements.appendChild(chart.renderer.drawPath(optionsLine));\n    };\n    PolarRadarPanel.prototype.drawYAxisLabels = function (axis, index) {\n        var chart = this.chart;\n        var elementSize;\n        var options;\n        var pointX = 0;\n        var pointY = 0;\n        var vector;\n        var angle = this.startAngle < 0 ? this.startAngle + 360 : this.startAngle;\n        var anchor = 'middle';\n        var radius;\n        var padding = 5;\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value, axis), this.startAngle);\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            radius = chart.radius * valueToCoefficient(axis.visibleLabels[i].value, axis);\n            elementSize = axis.visibleLabels[i].size;\n            radius = chart.radius * valueToCoefficient(axis.visibleLabels[i].value, axis);\n            pointX = (this.centerX + radius * vector.x) + ((axis.majorTickLines.height + elementSize.width / 2 + padding / 2)\n                * (Math.cos(angle * Math.PI / 180)) * (axis.labelPosition === 'Inside' ? 1 : -1));\n            pointY = (this.centerY + radius * vector.y) + ((axis.majorTickLines.height + elementSize.height / 2)\n                * (Math.sin(angle * Math.PI / 180)) * (axis.labelPosition === 'Inside' ? 1 : -1));\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY + (elementSize.height / 4), anchor, axis.visibleLabels[i].text);\n            textElement(options, axis.labelStyle, axis.labelStyle.color || chart.themeStyle.axisLabel, labelElement);\n        }\n        chart.yAxisElements.appendChild(labelElement);\n    };\n    PolarRadarPanel.prototype.drawYAxisGridLine = function (axis, index) {\n        var chart = this.chart;\n        var options;\n        var radius;\n        var majorTick = '';\n        var majorGrid = '';\n        var vector;\n        var vector2;\n        var angle = this.startAngle < 0 ? this.startAngle + 360 : this.startAngle;\n        var rect = axis.rect;\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        var border = {\n            color: axis.majorGridLines.color || chart.themeStyle.majorGridLine,\n            width: axis.majorGridLines.width\n        };\n        if (axis.majorGridLines.width > 0) {\n            if (chart.visibleSeries[0].type === 'Polar') {\n                for (var j = 0; j < axis.visibleLabels.length; j++) {\n                    radius = chart.radius * valueToCoefficient(axis.visibleLabels[j].value, axis);\n                    options = new CircleOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', border, axis.majorGridLines.width, this.centerX, this.centerY, radius);\n                    this.element.appendChild(chart.renderer.drawCircle(options));\n                }\n            }\n            else {\n                for (var j = 0; j < axis.visibleLabels.length; j++) {\n                    radius = chart.radius * valueToCoefficient(axis.visibleLabels[j].value, axis);\n                    for (var i = 0, len = chart.primaryXAxis.visibleLabels.length; i < len; i++) {\n                        vector = CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[i].value, chart.primaryXAxis), this.startAngle);\n                        if (i + 1 < len) {\n                            vector2 = CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[i + 1].value, chart.primaryXAxis), this.startAngle);\n                        }\n                        else {\n                            vector2 = CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[0].value, chart.primaryXAxis), this.startAngle);\n                        }\n                        x1 = this.centerX + radius * vector.x;\n                        y1 = this.centerY + radius * vector.y;\n                        x2 = this.centerX + radius * vector2.x;\n                        y2 = this.centerY + radius * vector2.y;\n                        majorGrid = majorGrid.concat('M' + ' ' + x1 + ' ' + y1 + ' ' + 'L' + ' ' + x2 + ' ' + y2 + ' ');\n                    }\n                }\n                options = new PathOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines.width, axis.majorGridLines.color || chart.themeStyle.majorGridLine, null, null, majorGrid);\n                this.element.appendChild(chart.renderer.drawPath(options));\n            }\n        }\n        if (axis.majorTickLines.width > 0) {\n            vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value, axis), this.startAngle);\n            for (var i = 0; i < axis.visibleLabels.length; i++) {\n                radius = chart.radius * valueToCoefficient(axis.visibleLabels[i].value, axis);\n                x1 = this.centerX + radius * vector.x;\n                y1 = this.centerY + radius * vector.y;\n                x2 = x1 + (axis.majorTickLines.height * (Math.cos(angle * Math.PI / 180)) * (axis.tickPosition === 'Inside' ? 1 : -1));\n                y2 = y1 + (axis.majorTickLines.height * (Math.sin(angle * Math.PI / 180)) * (axis.tickPosition === 'Inside' ? 1 : -1));\n                majorTick = majorTick.concat('M ' + x1 + ' ' + y1 +\n                    ' L ' + x2 + ' ' + y2 + ' ');\n            }\n        }\n        this.renderTickLine(axis, index, majorTick, '');\n    };\n    PolarRadarPanel.prototype.drawXAxisGridLine = function (axis, index) {\n        var chart = this.chart;\n        var tempInterval;\n        var vector;\n        var majorGrid = '';\n        var majorTick = '';\n        var minorGirdLine = '';\n        var minorTickLine = '';\n        var x1 = this.centerX;\n        var x2;\n        var y1 = this.centerY;\n        var y2;\n        var minorDirection;\n        var tickSize = axis.majorTickLines.height;\n        var rect = axis.rect;\n        var length = axis.visibleLabels.length;\n        //Gridlines\n        for (var i = 0; i < length; i++) {\n            tempInterval = axis.visibleLabels[i].value;\n            vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[i].value, axis), this.startAngle);\n            x2 = this.centerX + chart.radius * vector.x;\n            y2 = this.centerY + chart.radius * vector.y;\n            var xLoc = x2 + (axis.majorTickLines.height * vector.x * (axis.tickPosition === 'Inside' ? -1 : 1));\n            var yLoc = y2 + (axis.majorTickLines.height * vector.y * (axis.tickPosition === 'Inside' ? -1 : 1));\n            majorGrid = majorGrid.concat('M ' + x1 + ' ' + y1 + ' ' + 'L' + x2 + ' ' + y2);\n            majorTick = majorTick.concat('M ' + x2 + ' ' + y2 +\n                ' L ' + xLoc + ' ' + yLoc + ' ');\n            if (axis.minorTicksPerInterval > 0 && (axis.minorGridLines.width > 0 || axis.minorTickLines.width > 0)\n                && axis.valueType !== 'Category' && chart.visibleSeries[0].type !== 'Radar') {\n                minorDirection = this.drawAxisMinorLine(axis, tempInterval, minorGirdLine, minorTickLine);\n                minorGirdLine = minorDirection[0];\n                minorTickLine = minorDirection[1];\n            }\n        }\n        this.renderTickLine(axis, index, majorTick, minorTickLine);\n        this.renderGridLine(axis, index, majorGrid, minorGirdLine);\n    };\n    PolarRadarPanel.prototype.drawAxisMinorLine = function (axis, tempInterval, minorGird, minorTick) {\n        var value = tempInterval;\n        var x;\n        var y;\n        var vector;\n        var range = axis.visibleRange;\n        var direction = [];\n        var tickSize = axis.minorTickLines.height;\n        var rect = axis.rect;\n        for (var j = 0; j < axis.minorTicksPerInterval; j++) {\n            value += (axis.valueType === 'DateTime' ? axis.dateTimeInterval : axis.visibleRange.interval) /\n                (axis.minorTicksPerInterval + 1);\n            if (inside(value, range)) {\n                vector = CoefficientToVector(valueToPolarCoefficient(value, axis), this.startAngle);\n                x = this.centerX + this.chart.radius * vector.x;\n                y = this.centerY + this.chart.radius * vector.y;\n                var tickXSize = x + (axis.minorTickLines.height * vector.x * (axis.tickPosition === 'Inside' ? -1 : 1));\n                var tickYSize = y + (axis.minorTickLines.height * vector.y * (axis.tickPosition === 'Inside' ? -1 : 1));\n                minorGird = minorGird.concat('M' + ' ' + this.centerX + ' ' + this.centerY\n                    + 'L ' + x + ' ' + y);\n                minorTick = minorTick.concat('M' + ' ' + x + ' ' + y + 'L' + ' ' + (tickXSize) + ' ' +\n                    (tickYSize));\n            }\n        }\n        direction.push(minorGird);\n        direction.push(minorTick);\n        return direction;\n    };\n    /**\n     * To render the axis label.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.drawXAxisLabels = function (axis, index) {\n        var chart = this.chart;\n        var pointX = 0;\n        var elementSize;\n        var pointY = 0;\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        var options;\n        var vector;\n        var labelText;\n        var firstLabelX;\n        var islabelInside = axis.labelPosition === 'Inside';\n        var padding = 5;\n        var lastLabelX;\n        var textAnchor = '';\n        var ticksbwtLabel = axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks'\n            && chart.visibleSeries[0].type !== 'Radar' ? 0.5 : 0;\n        var radius = chart.radius + axis.majorTickLines.height;\n        radius = (islabelInside) ? -radius : radius;\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[i].value + ticksbwtLabel, axis), this.startAngle);\n            if (!isNaN(vector.x) && !isNaN(vector.y)) {\n                pointX = this.centerX + (radius + axis.majorTickLines.height + padding) * vector.x;\n                pointY = this.centerY + (radius + axis.majorTickLines.height + padding) * vector.y;\n                textAnchor = parseFloat(pointX.toFixed(1)) === parseFloat(this.centerX.toFixed(1)) ? 'middle' :\n                    ((pointX < this.centerX && !islabelInside) || (pointX > this.centerX && islabelInside)) ? 'end' : 'start';\n            }\n            labelText = axis.visibleLabels[i].text;\n            if (i === 0) {\n                firstLabelX = pointX;\n            }\n            else if (i === axis.visibleLabels.length - 1 && axis.valueType !== 'Category') {\n                lastLabelX = measureText(labelText, axis.labelStyle).height;\n                lastLabelX += pointX;\n                labelText = (lastLabelX > firstLabelX) ? '' : labelText;\n            }\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY, textAnchor, labelText, '', 'central');\n            textElement(options, axis.labelStyle, axis.labelStyle.color || chart.themeStyle.axisLabel, labelElement);\n        }\n        this.element.appendChild(labelElement);\n    };\n    PolarRadarPanel.prototype.renderTickLine = function (axis, index, majorTickLine, minorTickLine) {\n        var tickOptions;\n        var chart = this.chart;\n        if (axis.majorTickLines.width > 0) {\n            tickOptions = new PathOption(chart.element.id + '_MajorTickLine_' + index, 'transparent', axis.majorTickLines.width, axis.majorTickLines.color || chart.themeStyle.majorTickLine, null, null, majorTickLine);\n            chart.yAxisElements.appendChild(chart.renderer.drawPath(tickOptions));\n        }\n        if (axis.minorTickLines.width > 0) {\n            tickOptions = new PathOption(chart.element.id + '_MinorTickLine_' + index, 'transparent', axis.minorTickLines.width, axis.minorTickLines.color || chart.themeStyle.minorTickLine, null, null, minorTickLine);\n            chart.yAxisElements.appendChild(chart.renderer.drawPath(tickOptions));\n        }\n    };\n    PolarRadarPanel.prototype.renderGridLine = function (axis, index, majorGrid, minorGird) {\n        var chart = this.chart;\n        var gridOptions;\n        if (axis.majorGridLines.width > 0) {\n            gridOptions = new PathOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines.width, axis.majorGridLines.color || chart.themeStyle.majorGridLine, null, axis.majorGridLines.dashArray, majorGrid);\n            this.element.appendChild(chart.renderer.drawPath(gridOptions));\n        }\n        if (axis.minorGridLines.width > 0) {\n            gridOptions = new PathOption(chart.element.id + '_MinorGridLine_' + index, 'transparent', axis.minorGridLines.width, axis.minorGridLines.color || chart.themeStyle.minorGridLine, null, axis.minorGridLines.dashArray, minorGird);\n            this.element.appendChild(chart.renderer.drawPath(gridOptions));\n        }\n    };\n    return PolarRadarPanel;\n}(LineBase));\nexport { PolarRadarPanel };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption, logBase, markerAnimate, PolarArc, valueToCoefficient, firstToLowerCase } from '../../common/utils/helper';\nimport { PolarRadarPanel } from '../axis/polar-radar-panel';\nimport { pointRender } from '../../common/model/constants';\nimport { Animation } from '@syncfusion/ej2-base';\n/**\n * `PolarSeries` module is used to render the polar series.\n */\nvar PolarSeries = /** @class */ (function (_super) {\n    __extends(PolarSeries, _super);\n    function PolarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Polar Series.\n     * @return {void}.\n     * @private\n     */\n    PolarSeries.prototype.render = function (series) {\n        var seriesType = firstToLowerCase(series.drawType);\n        if (series.drawType.indexOf('Column') > -1) {\n            this.columnDrawTypeRender(series);\n        }\n        else {\n            series.chart[seriesType + 'SeriesModule'].render(series, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        }\n    };\n    /**\n     * Render Column DrawType.\n     * @return {void}.\n     * @private\n     */\n    PolarSeries.prototype.columnDrawTypeRender = function (series) {\n        var visiblePoints = series.points;\n        var rect;\n        var options;\n        var argsData;\n        var startAngle;\n        var endAngle;\n        var itemCurrentXPos;\n        var radius;\n        var pointStartAngle;\n        var pointEndAngle;\n        var x1;\n        var x2;\n        var y1;\n        var y2;\n        var startValue;\n        var endValue;\n        var innerRadius;\n        var centerX = (series.clipRect.width / 2) + series.clipRect.x;\n        var dStartX;\n        var dStartY;\n        var centerY = (series.clipRect.height / 2) + series.clipRect.y;\n        var dEndX;\n        var dEndY;\n        var axisInversed = series.xAxis.isInversed ? 1 : 0;\n        var direction = '';\n        var sumofYValues = 0;\n        var interval = (series.points[1] ? series.points[1].xValue : 2 * series.points[0].xValue) - series.points[0].xValue;\n        var ticks = series.xAxis.valueType === 'Category' && series.xAxis.labelPlacement === 'BetweenTicks' ? 0 : interval / 2;\n        var rangeInterval = series.xAxis.valueType === 'DateTime' ? series.xAxis.dateTimeInterval : 1;\n        var min = series.xAxis.actualRange.min;\n        var inversedValue;\n        this.getSeriesPosition(series);\n        var position = series.xAxis.isInversed ? (series.rectCount - 1 - series.position) : series.position;\n        var ticksbwtLabel = series.xAxis.valueType === 'Category' && series.xAxis.labelPlacement === 'BetweenTicks' ? 0.5\n            : 0.5 - (series.rectCount / 2);\n        do {\n            sumofYValues += rangeInterval;\n            min += rangeInterval;\n        } while (min <= series.xAxis.actualRange.max - (series.xAxis.valueType === 'Category' ? 0 : 1));\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                inversedValue = series.xAxis.isInversed ? (series.xAxis.visibleRange.max - point.xValue) :\n                    point.xValue - series.xAxis.visibleRange.min;\n                itemCurrentXPos = (inversedValue) +\n                    ((interval / series.rectCount) * position - ticks) + (sumofYValues / 360 * series.xAxis.startAngle);\n                itemCurrentXPos = (((itemCurrentXPos) / (sumofYValues)));\n                startAngle = 2 * Math.PI * (itemCurrentXPos + series.xAxis.startAngle);\n                endAngle = 2 * Math.PI * ((itemCurrentXPos + series.xAxis.startAngle) + (interval / series.rectCount) / (sumofYValues));\n                pointStartAngle = startAngle;\n                pointEndAngle = endAngle;\n                startAngle = (startAngle - 0.5 * Math.PI);\n                endAngle = (endAngle - 0.5 * Math.PI) - 0.000001;\n                if (series.drawType === 'StackingColumn' || series.drawType === 'RangeColumn') {\n                    startValue = series.drawType === 'RangeColumn' ? point.low : series.stackedValues.startValues[point.index];\n                    endValue = series.drawType === 'RangeColumn' ? point.high : series.stackedValues.endValues[point.index];\n                    endValue = (series.yAxis.valueType === 'Logarithmic' ?\n                        logBase(endValue === 0 ? 1 : endValue, series.yAxis.logBase) : endValue);\n                    endValue = endValue > series.yAxis.actualRange.max ? series.yAxis.actualRange.max : endValue;\n                    radius = startValue === endValue ? 0 : series.chart.radius * valueToCoefficient(endValue, series.yAxis);\n                    x1 = centerX + radius * Math.cos(startAngle);\n                    x2 = centerX + radius * Math.cos(endAngle);\n                    y1 = centerY + radius * Math.sin(startAngle);\n                    y2 = centerY + radius * Math.sin(endAngle);\n                    innerRadius = series.chart.radius * valueToCoefficient((startValue === 0 && series.yAxis.visibleRange.min !== 0) ? series.yAxis.visibleRange.min : startValue, series.yAxis);\n                    dStartX = centerX + innerRadius * Math.cos(startAngle);\n                    dStartY = centerY + innerRadius * Math.sin(startAngle);\n                    dEndX = centerX + innerRadius * Math.cos(endAngle);\n                    dEndY = centerY + innerRadius * Math.sin(endAngle);\n                    if (series.type === 'Polar') {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'A' + ' ' + radius + ' ' + radius + ' ' + '0' + ' '\n                            + '0' + ' ' + 1 + ' ' + x2 + ' ' + y2 + ' ' + 'L' + ' ' + dEndX + ' ' + dEndY + ' ' +\n                            'A' + ' ' + innerRadius + ' ' + innerRadius + ' ' + '1' + ' ' + '0' + ' ' + '0' + ' '\n                            + dStartX + ' ' + dStartY + ' ' + 'z');\n                    }\n                    else {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'L' + ' ' + x2 + ' ' + y2 + ' ' + 'L'\n                            + dEndX + ' ' + dEndY + ' ' + 'L' + ' ' + dStartX + ' ' + dStartY + ' ' + 'z');\n                    }\n                    point.regionData = new PolarArc(pointStartAngle, pointEndAngle, innerRadius, radius, itemCurrentXPos);\n                }\n                else {\n                    endValue = point.yValue > series.yAxis.actualRange.max ? series.yAxis.actualRange.max : point.yValue;\n                    radius = series.chart.radius * valueToCoefficient((series.yAxis.valueType === 'Logarithmic' ? logBase(endValue, series.yAxis.logBase) : endValue), series.yAxis);\n                    x1 = centerX + radius * Math.cos(startAngle);\n                    x2 = centerX + radius * Math.cos(endAngle);\n                    y1 = centerY + radius * Math.sin(startAngle);\n                    y2 = centerY + radius * Math.sin(endAngle);\n                    if (series.type === 'Polar') {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'A' + ' ' + radius + ' ' + radius + ' ' + '0' + ' ' +\n                            '0' + ' ' + 1 + ' ' + x2 + ' ' + y2 + ' ' + 'L' + ' ' + centerX + ' ' +\n                            centerY + ' ' + 'z');\n                    }\n                    else {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'L' + ' ' + x2 + ' ' + y2 + ' ' + 'L' + ' '\n                            + centerX + ' ' + centerY + ' ' + 'z');\n                    }\n                    point.regionData = new PolarArc(pointStartAngle, pointEndAngle, 0, radius, itemCurrentXPos);\n                }\n                argsData = this.triggerEvent(series.chart, series, point);\n                options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n                if (!argsData.cancel) {\n                    this.appendLinePath(options, series, '');\n                    if (series.type === 'Polar') {\n                        point.symbolLocations.push({\n                            x: centerX + radius * Math.cos((startAngle + (endAngle - startAngle) / 2)),\n                            y: centerY + radius * Math.sin((startAngle + (endAngle - startAngle) / 2))\n                        });\n                    }\n                    else {\n                        point.symbolLocations.push({ x: (x1 + x2) / 2, y: (y1 + y2) / 2 });\n                    }\n                }\n            }\n        }\n        series.isRectSeries = true;\n    };\n    /**\n     * To trigger the point rendering event.\n     * @return {void}\n     * @private\n     */\n    PolarSeries.prototype.triggerEvent = function (chart, series, point) {\n        var argsData = {\n            cancel: false, name: pointRender, series: series, point: point,\n            fill: series.setPointColor(point, series.interior),\n            border: series.setBorderColor(point, { width: series.border.width, color: series.border.color })\n        };\n        chart.trigger(pointRender, argsData);\n        point.color = argsData.fill;\n        return argsData;\n    };\n    /** get position for column drawtypes\n     * @return {void}.\n     * @private\n     */\n    PolarSeries.prototype.getSeriesPosition = function (series) {\n        var chart = series.chart;\n        var seriesCollection = [];\n        var stackingGroup = [];\n        var vSeries = { rectCount: 0, position: null };\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series_1 = _a[_i];\n            if (series_1.visible && (series_1.type === 'Polar' || series_1.type === 'Radar') && series_1.drawType.indexOf('Column') !== -1) {\n                seriesCollection.push(series_1);\n            }\n        }\n        seriesCollection.forEach(function (series) {\n            if (series.drawType.indexOf('Stacking') !== -1) {\n                if (series.stackingGroup) {\n                    if (stackingGroup[series.stackingGroup] === undefined) {\n                        series.position = vSeries.rectCount;\n                        stackingGroup[series.stackingGroup] = vSeries.rectCount++;\n                    }\n                    else {\n                        series.position = stackingGroup[series.stackingGroup];\n                    }\n                }\n                else {\n                    if (vSeries.position === null) {\n                        series.position = vSeries.rectCount;\n                        vSeries.position = vSeries.rectCount++;\n                    }\n                    else {\n                        series.position = vSeries.position;\n                    }\n                }\n            }\n            else {\n                series.position = vSeries.rectCount++;\n            }\n        });\n        seriesCollection.forEach(function (value) {\n            value.rectCount = vSeries.rectCount;\n        });\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    PolarSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        var duration = series.animation.duration;\n        var delay = series.animation.delay;\n        var rectElements = series.seriesElement.childNodes;\n        var count = 1;\n        if (series.drawType === 'Scatter') {\n            for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                if (!point.symbolLocations.length || !rectElements[count]) {\n                    continue;\n                }\n                markerAnimate(rectElements[count], delay, duration, series, point.index, point.symbolLocations[0], false);\n                count++;\n            }\n        }\n        else {\n            for (count = 1; count < rectElements.length; count++) {\n                this.doPolarRadarAnimation(rectElements[count], delay, duration, series);\n            }\n        }\n    };\n    /**\n     * To do the Polar Radar draw type column animation.\n     * @return {void}\n     * @private\n     */\n    PolarSeries.prototype.doPolarRadarAnimation = function (animateElement, delay, duration, series) {\n        var chartcenterX = series.clipRect.width / 2 + series.clipRect.x;\n        var chartcenterY = series.clipRect.height / 2 + series.clipRect.y;\n        var elementHeight = 0;\n        animateElement.style.visibility = 'hidden';\n        new Animation({}).animate(animateElement, {\n            duration: duration,\n            delay: delay,\n            progress: function (args) {\n                if (args.timeStamp > args.delay) {\n                    args.element.style.visibility = 'visible';\n                    elementHeight = ((args.timeStamp - args.delay) / args.duration);\n                    animateElement.setAttribute('transform', 'translate(' + chartcenterX\n                        + ' ' + chartcenterY + ') scale(' + elementHeight + ') translate(' + (-chartcenterX) + ' ' + (-chartcenterY) + ')');\n                }\n            },\n            end: function (model) {\n                animateElement.style.visibility = 'visible';\n                animateElement.removeAttribute('transform');\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        });\n    };\n    /**\n     * Get module name.\n     */\n    PolarSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'PolarSeries';\n    };\n    /**\n     * To destroy the polar series.\n     * @return {void}\n     * @private\n     */\n    PolarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return PolarSeries;\n}(PolarRadarPanel));\nexport { PolarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { PolarSeries } from '../series/polar-series';\n/**\n * `RadarSeries` module is used to render the radar series.\n */\nvar RadarSeries = /** @class */ (function (_super) {\n    __extends(RadarSeries, _super);\n    function RadarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render radar Series.\n     * @return {void}.\n     * @private\n     */\n    RadarSeries.prototype.render = function (series) {\n        var seriesType = firstToLowerCase(series.drawType);\n        if (series.drawType.indexOf('Column') === -1) {\n            series.chart[seriesType + 'SeriesModule'].render(series, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        }\n        else {\n            this.columnDrawTypeRender(series);\n        }\n    };\n    /**\n     * Get module name.\n     */\n    RadarSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'RadarSeries';\n    };\n    /**\n     * To destroy the radar series.\n     * @return {void}\n     * @private\n     */\n    RadarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return RadarSeries;\n}(PolarSeries));\nexport { RadarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `StackingBarSeries` module is used to render the stacking bar series.\n */\nvar StackingBarSeries = /** @class */ (function (_super) {\n    __extends(StackingBarSeries, _super);\n    function StackingBarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Stacking bar series.\n     * @return {void}\n     * @private\n     */\n    StackingBarSeries.prototype.render = function (series) {\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var stackedValue = series.stackedValues;\n        var rect;\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var pointStack = _a[_i];\n            pointStack.symbolLocations = [];\n            pointStack.regions = [];\n            if (pointStack.visible && withInRange(series.points[pointStack.index - 1], pointStack, series.points[pointStack.index + 1], series)) {\n                rect = this.getRectangle(pointStack.xValue + sideBySideInfo.start, stackedValue.endValues[pointStack.index], pointStack.xValue + sideBySideInfo.end, stackedValue.startValues[pointStack.index], series);\n                argsData = this.triggerEvent(series, pointStack, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.drawRectangle(series, pointStack, rect, argsData);\n                    this.updateSymbolLocation(pointStack, rect, series);\n                }\n            }\n        }\n    };\n    /**\n     * To destroy the stacking bar.\n     * @return {void}\n     * @private\n     */\n    StackingBarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StackingBarSeries.prototype.getModuleName = function () {\n        return 'StackingBarSeries';\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    StackingBarSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    return StackingBarSeries;\n}(ColumnBase));\nexport { StackingBarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `CandleSeries` module is used to render the candle series.\n */\nvar CandleSeries = /** @class */ (function (_super) {\n    __extends(CandleSeries, _super);\n    function CandleSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Candle series.\n     * @return {void}\n     * @private\n     */\n    CandleSeries.prototype.render = function (series) {\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        var borderWidth = Math.max(series.border.width, 1);\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            var direction = '';\n            var centerRegion = void 0;\n            var tickRegion = void 0;\n            var midPoint = void 0;\n            midPoint = (sideBySideInfo.start + sideBySideInfo.end) / 2;\n            //initializing after zooming and also normal initialization\n            point.regions = [];\n            point.symbolLocations = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                //region to cover the top and bottom ticks\n                tickRegion = this.getRectangle((point.xValue + sideBySideInfo.median), Math.max(point.high, point.low), (point.xValue + sideBySideInfo.median), Math.min(point.high, point.low), series);\n                if (!series.chart.requireInvertedAxis) {\n                    tickRegion.x -= borderWidth / 2;\n                    tickRegion.width = borderWidth;\n                }\n                else {\n                    tickRegion.y -= borderWidth / 2;\n                    tickRegion.height = borderWidth;\n                }\n                //get middleRect\n                centerRegion = this.getRectangle((point.xValue + sideBySideInfo.start), Math.max(point.open, point.close), (point.xValue + sideBySideInfo.end), Math.min(point.open, point.close), series);\n                direction = this.getPathString(tickRegion, centerRegion, series);\n                argsData = this.triggerPointRenderEvent(series, point);\n                if (!argsData.cancel) {\n                    this.drawCandle(series, point, centerRegion, argsData, direction);\n                    this.updateSymbolLocation(point, tickRegion, series);\n                    this.updateSymbolLocation(point, centerRegion, series);\n                }\n            }\n        }\n    };\n    /**\n     * Trigger point rendering event\n     */\n    CandleSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var fill;\n        fill = this.getCandleColor(point, series);\n        var border = { color: series.border.color, width: Math.max(series.border.width, 1) };\n        return this.triggerEvent(series, point, fill, border);\n    };\n    /**\n     * Find the color of the candle\n     * @param series\n     * @private\n     */\n    CandleSeries.prototype.getCandleColor = function (point, series) {\n        var currentPoint = point;\n        var previousPoint = series.points[point.index - 1];\n        if (series.enableSolidCandles === false) {\n            if (!previousPoint) {\n                return series.bearFillColor;\n            }\n            else {\n                return previousPoint.close > point.close ? series.bullFillColor :\n                    series.bearFillColor;\n            }\n        }\n        else {\n            return point.open > point.close ? series.bullFillColor :\n                series.bearFillColor;\n        }\n    };\n    /**\n     * Finds the path of the candle shape\n     * @param Series\n     * @private\n     */\n    CandleSeries.prototype.getPathString = function (topRect, midRect, series) {\n        var direction = '';\n        var width = series.chart.requireInvertedAxis ? topRect.height : topRect.width;\n        var center = series.chart.requireInvertedAxis ? topRect.y + topRect.height / 2 :\n            topRect.x + topRect.width / 2;\n        //tick 1 segment\n        direction += !series.chart.requireInvertedAxis ?\n            'M' + ' ' + (center) + ' ' + (topRect.y) + ' ' + 'L' + ' ' + (center) + ' ' + midRect.y :\n            'M' + ' ' + (topRect.x) + ' ' + (center) + ' ' + 'L' + ' ' + (midRect.x) + ' ' + center;\n        direction = direction.concat(' M' + ' ' + (midRect.x) + ' ' + (midRect.y) + ' ' +\n            'L' + ' ' + (midRect.x + midRect.width) + ' ' + (midRect.y) + ' ' +\n            'L' + ' ' + (midRect.x + midRect.width) + ' ' +\n            (midRect.y + midRect.height) + ' ' +\n            'L' + ' ' + (midRect.x) + ' ' + (midRect.y + midRect.height) +\n            ' ' + 'Z');\n        direction += !series.chart.requireInvertedAxis ?\n            ' M' + ' ' + (center) + ' ' + (midRect.y + midRect.height) + ' ' + 'L' + ' ' + (center) + ' ' + (topRect.y +\n                topRect.height) :\n            ' M' + ' ' + (midRect.x + midRect.width) + ' ' + (center) + ' ' + 'L' + ' ' +\n                (topRect.x + topRect.width) + ' ' + center;\n        return direction;\n    };\n    /**\n     * Draws the candle shape\n     * @param series\n     * @private\n     */\n    CandleSeries.prototype.drawCandle = function (series, point, rect, argsData, direction) {\n        var check = series.chart.requireInvertedAxis ? rect.height : rect.width;\n        if (check <= 0) {\n            return null;\n        }\n        var fill = !series.enableSolidCandles ?\n            (point.open > point.close ? argsData.fill : 'transparent') : argsData.fill;\n        argsData.border.color = argsData.fill;\n        var options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index, fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n        var candleElement = series.chart.renderer.drawPath(options);\n        candleElement.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString()\n            + ':' + point.low.toString() + ':' + point.close.toString() + ':' + point.open.toString());\n        series.seriesElement.appendChild(candleElement);\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    CandleSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    CandleSeries.prototype.getModuleName = function () {\n        return 'CandleSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the candle series.\n     * @return {void}\n     * @private\n     */\n    CandleSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the candle series.\n         */\n    };\n    return CandleSeries;\n}(ColumnBase));\nexport { CandleSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `StackingColumnSeries` module used to render the stacking column series.\n */\nvar StackingColumnSeries = /** @class */ (function (_super) {\n    __extends(StackingColumnSeries, _super);\n    function StackingColumnSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Stacking column series.\n     * @return {void}\n     * @private\n     */\n    StackingColumnSeries.prototype.render = function (series) {\n        series.isRectSeries = true;\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var rect;\n        var argsData;\n        var stackedValue = series.stackedValues;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                rect = this.getRectangle(point.xValue + sideBySideInfo.start, stackedValue.endValues[point.index], point.xValue + sideBySideInfo.end, stackedValue.startValues[point.index], series);\n                argsData = this.triggerEvent(series, point, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.drawRectangle(series, point, rect, argsData);\n                    this.updateSymbolLocation(point, rect, series);\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    StackingColumnSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the stacking column.\n     * @return {void}\n     * @private\n     */\n    StackingColumnSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StackingColumnSeries.prototype.getModuleName = function () {\n        return 'StackingColumnSeries';\n    };\n    return StackingColumnSeries;\n}(ColumnBase));\nexport { StackingColumnSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, getPoint, withInRange } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * `StepLineSeries` module is used to render the step line series.\n */\nvar StepLineSeries = /** @class */ (function (_super) {\n    __extends(StepLineSeries, _super);\n    function StepLineSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Step line series.\n     * @return {void}\n     * @private\n     */\n    StepLineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var direction = '';\n        var startPoint = 'M';\n        var prevPoint = null;\n        var pathOptions;\n        var lineLength;\n        var point1;\n        var point2;\n        var visiblePoints = this.improveChartPerformance(series);\n        if (xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks') {\n            lineLength = 0.5;\n        }\n        else {\n            lineLength = 0;\n        }\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                if (prevPoint != null) {\n                    point2 = getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted);\n                    point1 = getPoint(prevPoint.xValue, prevPoint.yValue, xAxis, yAxis, isInverted);\n                    direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ' + 'L' + ' ' +\n                        (point2.x) + ' ' + (point1.y) + 'L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n                    startPoint = 'L';\n                }\n                else {\n                    point1 = getPoint(point.xValue - lineLength, point.yValue, xAxis, yAxis, isInverted);\n                    direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n                    startPoint = 'L';\n                }\n                this.storePointLocation(point, series, isInverted, getPoint);\n                prevPoint = point;\n            }\n            else {\n                prevPoint = series.emptyPointSettings.mode === 'Drop' ? prevPoint : null;\n                startPoint = series.emptyPointSettings.mode === 'Drop' ? startPoint : 'M';\n            }\n        }\n        point1 = getPoint(visiblePoints[visiblePoints.length - 1].xValue + lineLength, visiblePoints[visiblePoints.length - 1].yValue, xAxis, yAxis, isInverted);\n        direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n        pathOptions = new PathOption(series.chart.element.id + '_Series_' + series.index, 'transparent', series.width, series.interior, series.opacity, series.dashArray, direction);\n        this.appendLinePath(pathOptions, series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    StepLineSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * To destroy the step line series.\n     * @return {void}\n     * @private\n     */\n    StepLineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StepLineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'StepLineSeries';\n    };\n    return StepLineSeries;\n}(LineBase));\nexport { StepLineSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getPoint, withInRange, ChartLocation, PathOption } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * `StepAreaSeries` Module used to render the step area series.\n */\nvar StepAreaSeries = /** @class */ (function (_super) {\n    __extends(StepAreaSeries, _super);\n    function StepAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render StepArea series.\n     * @return {void}\n     * @private\n     */\n    StepAreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var currentPoint;\n        var secondPoint;\n        var start = null;\n        var direction = '';\n        var pointsLength = series.points.length;\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var options;\n        var point;\n        var xValue;\n        var lineLength;\n        var prevPoint = null;\n        if (xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks') {\n            lineLength = 0.5;\n        }\n        else {\n            lineLength = 0;\n        }\n        for (var i = 0; i < pointsLength; i++) {\n            point = series.points[i];\n            xValue = point.xValue;\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[i - 1], point, series.points[i + 1], series)) {\n                if (start === null) {\n                    start = new ChartLocation(xValue, 0);\n                    // Start point for the current path\n                    currentPoint = getPoint(xValue - lineLength, origin, xAxis, yAxis, isInverted);\n                    direction += ('M' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ');\n                    currentPoint = getPoint(xValue - lineLength, point.yValue, xAxis, yAxis, isInverted);\n                    direction += ('L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ');\n                }\n                // First Point to draw the Steparea path\n                if (prevPoint != null) {\n                    currentPoint = getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted);\n                    secondPoint = getPoint(prevPoint.xValue, prevPoint.yValue, xAxis, yAxis, isInverted);\n                    direction += ('L' + ' ' +\n                        (currentPoint.x) + ' ' + (secondPoint.y) + 'L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ');\n                }\n                else if (series.emptyPointSettings.mode === 'Gap') {\n                    currentPoint = getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted);\n                    direction += 'L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ';\n                }\n                this.storePointLocation(point, series, isInverted, getPoint);\n                prevPoint = point;\n            }\n            if (series.points[i + 1] && !series.points[i + 1].visible && series.emptyPointSettings.mode !== 'Drop') {\n                // current start point\n                currentPoint = getPoint(xValue + lineLength, origin, xAxis, yAxis, isInverted);\n                direction += ('L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y));\n                start = null;\n                prevPoint = null;\n            }\n        }\n        if (pointsLength > 1) {\n            start = { 'x': series.points[pointsLength - 1].xValue + lineLength, 'y': series.points[pointsLength - 1].yValue };\n            secondPoint = getPoint(start.x, start.y, xAxis, yAxis, isInverted);\n            direction += ('L' + ' ' + (secondPoint.x) + ' ' + (secondPoint.y) + ' ');\n            start = { 'x': series.points[pointsLength - 1].xValue + lineLength, 'y': origin };\n            secondPoint = getPoint(start.x, start.y, xAxis, yAxis, isInverted);\n            direction += ('L' + ' ' + (secondPoint.x) + ' ' + (secondPoint.y) + ' ');\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    StepAreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * To destroy the step Area series.\n     * @return {void}\n     * @private\n     */\n    StepAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StepAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'StepAreaSeries';\n    };\n    return StepAreaSeries;\n}(LineBase));\nexport { StepAreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, getPoint, withInRange, Rect, TransformToVisible } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * `StackingAreaSeries` module used to render the Stacking Area series.\n */\nvar StackingAreaSeries = /** @class */ (function (_super) {\n    __extends(StackingAreaSeries, _super);\n    function StackingAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Stacking area series.\n     * @return {void}\n     * @private\n     */\n    StackingAreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var polarAreaType = series.chart.chartAreaType === 'PolarRadar';\n        var getCoordinate = polarAreaType ? TransformToVisible : getPoint;\n        var lineDirection = '';\n        var visiblePoints = series.points;\n        var pointsLength = visiblePoints.length;\n        var stackedvalue = series.stackedValues;\n        var origin = polarAreaType ?\n            Math.max(series.yAxis.visibleRange.min, stackedvalue.endValues[0]) :\n            Math.max(series.yAxis.visibleRange.min, stackedvalue.startValues[0]);\n        var border = series.border;\n        var options;\n        var startPoint = 0;\n        var point1 = getCoordinate(visiblePoints[0].xValue, origin, xAxis, yAxis, isInverted, series);\n        var point2;\n        lineDirection = lineDirection.concat('M' + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n        for (var i = 0; i < pointsLength; i++) {\n            visiblePoints[i].symbolLocations = [];\n            visiblePoints[i].regions = [];\n            if (visiblePoints[i].visible && withInRange(visiblePoints[i - 1], visiblePoints[i], visiblePoints[i + 1], series)) {\n                point1 = getCoordinate(visiblePoints[i].xValue, stackedvalue.endValues[i], xAxis, yAxis, isInverted, series);\n                lineDirection = lineDirection.concat('L' + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n                visiblePoints[i].symbolLocations.push(getCoordinate(visiblePoints[i].xValue, stackedvalue.endValues[i], xAxis, yAxis, isInverted, series));\n                visiblePoints[i].regions.push(new Rect(visiblePoints[i].symbolLocations[0].x - series.marker.width, visiblePoints[i].symbolLocations[0].y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n            }\n            else {\n                if (series.emptyPointSettings.mode !== 'Drop') {\n                    for (var j = i - 1; j >= startPoint; j--) {\n                        point2 = getCoordinate(visiblePoints[j].xValue, stackedvalue.startValues[j], xAxis, yAxis, isInverted, series);\n                        lineDirection = lineDirection.concat('L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n                    }\n                    if (visiblePoints[i + 1] && visiblePoints[i + 1].visible) {\n                        point1 = getCoordinate(visiblePoints[i + 1].xValue, stackedvalue.startValues[i + 1], xAxis, yAxis, isInverted, series);\n                        lineDirection = lineDirection.concat('M' + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n                    }\n                    startPoint = i + 1;\n                }\n            }\n        }\n        if (series.chart.chartAreaType === 'PolarRadar' && visiblePoints.length > 1) {\n            point1 = { 'x': series.points[0].xValue, 'y': stackedvalue.endValues[0] };\n            point2 = getCoordinate(point1.x, point1.y, xAxis, yAxis, isInverted, series);\n            lineDirection += ('L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n        }\n        for (var j = pointsLength - 1; j >= startPoint; j--) {\n            var previousSeries = this.getPreviousSeries(series);\n            if (previousSeries.emptyPointSettings.mode !== 'Drop' || !previousSeries.points[j].isEmpty) {\n                point2 = getCoordinate(visiblePoints[j].xValue, stackedvalue.startValues[j], xAxis, yAxis, isInverted, series);\n                lineDirection = lineDirection.concat(((j === (pointsLength - 1) && polarAreaType) ? 'M' : 'L')\n                    + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n            }\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, lineDirection);\n        this.appendLinePath(options, series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    StackingAreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * To destroy the stacking area.\n     * @return {void}\n     * @private\n     */\n    StackingAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StackingAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'StackingAreaSeries';\n    };\n    /**\n     * To find previous visible series\n     */\n    StackingAreaSeries.prototype.getPreviousSeries = function (series) {\n        var seriesCollection = series.chart.visibleSeries;\n        for (var i = 0, length_1 = seriesCollection.length; i < length_1; i++) {\n            if (series.index === seriesCollection[i].index && i !== 0) {\n                return seriesCollection[i - 1];\n            }\n        }\n        return seriesCollection[0];\n    };\n    return StackingAreaSeries;\n}(LineBase));\nexport { StackingAreaSeries };\n","import { withInRange, getPoint, PathOption, drawSymbol, Size, Rect, markerAnimate, TransformToVisible } from '../../common/utils/helper';\nimport { pointRender } from '../../common/model/constants';\n/**\n * `ScatterSeries` module is used to render the scatter series.\n */\nvar ScatterSeries = /** @class */ (function () {\n    function ScatterSeries() {\n    }\n    /**\n     * Render the scatter series.\n     * @return {void}\n     * @private\n     */\n    ScatterSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var seriesIndex = series.index;\n        var marker = series.marker;\n        var border = series.border;\n        var visiblePoints = series.points;\n        var pointIndex;\n        var symbolId;\n        var shapeOption;\n        var argsData;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                point.symbolLocations.push(getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series));\n                symbolId = series.chart.element.id + '_Series_' + seriesIndex + '_Point_' + point.index;\n                argsData = {\n                    cancel: false, name: pointRender, series: series, point: point,\n                    fill: series.setPointColor(point, series.interior),\n                    border: series.setBorderColor(point, { width: series.border.width, color: series.border.color }),\n                    height: marker.height, width: marker.width, shape: marker.shape\n                };\n                series.chart.trigger(pointRender, argsData);\n                if (!argsData.cancel) {\n                    point.color = argsData.fill;\n                    shapeOption = new PathOption(symbolId, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, null);\n                    series.seriesElement.appendChild(drawSymbol(point.symbolLocations[0], argsData.shape, new Size(argsData.width, argsData.height), marker.imageUrl, shapeOption, point.x.toString() + ':' + point.yValue.toString()));\n                    point.regions.push(new Rect(point.symbolLocations[0].x - marker.width, point.symbolLocations[0].y - marker.height, 2 * marker.width, 2 * marker.height));\n                    point.marker = {\n                        border: argsData.border, fill: argsData.fill,\n                        height: argsData.height, visible: true,\n                        width: argsData.width, shape: argsData.shape\n                    };\n                }\n                else {\n                    point.marker = { visible: true };\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    ScatterSeries.prototype.doAnimation = function (series) {\n        var duration = series.animation.duration;\n        var delay = series.animation.delay;\n        var rectElements = series.seriesElement.childNodes;\n        var count = 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (!point.symbolLocations.length || !rectElements[count]) {\n                continue;\n            }\n            markerAnimate(rectElements[count], delay, duration, series, point.index, point.symbolLocations[0], false);\n            count++;\n        }\n    };\n    /**\n     * Get module name.\n     */\n    ScatterSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'ScatterSeries';\n    };\n    /**\n     * To destroy the scatter.\n     * @return {void}\n     */\n    ScatterSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return ScatterSeries;\n}());\nexport { ScatterSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `RangeColumnSeries` module is used to render the range column series.\n */\nvar RangeColumnSeries = /** @class */ (function (_super) {\n    __extends(RangeColumnSeries, _super);\n    function RangeColumnSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Range Column series.\n     * @return {void}\n     * @private\n     */\n    RangeColumnSeries.prototype.render = function (series) {\n        var rect;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        //let origin: number = Math.max(<number>series.yAxis.visibleRange.min, 0);\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var rangePoint = _a[_i];\n            rangePoint.symbolLocations = [];\n            rangePoint.regions = [];\n            if (rangePoint.visible && withInRange(series.points[rangePoint.index - 1], rangePoint, series.points[rangePoint.index + 1], series)) {\n                rect = this.getRectangle(rangePoint.xValue + sideBySideInfo.start, rangePoint.high, rangePoint.xValue + sideBySideInfo.end, rangePoint.low, series);\n                argsData = this.triggerEvent(series, rangePoint, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(rangePoint, rect, series);\n                    this.drawRectangle(series, rangePoint, rect, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * Get module name.\n     */\n    RangeColumnSeries.prototype.getModuleName = function () {\n        return 'RangeColumnSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    RangeColumnSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the range column series.\n     * @return {void}\n     * @private\n     */\n    RangeColumnSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return RangeColumnSeries;\n}(ColumnBase));\nexport { RangeColumnSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, withInRange, subArraySum } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `WaterfallSeries` module is used to render the waterfall series.\n */\nvar WaterfallSeries = /** @class */ (function (_super) {\n    __extends(WaterfallSeries, _super);\n    function WaterfallSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render waterfall series.\n     * @return {void}\n     * @private\n     */\n    WaterfallSeries.prototype.render = function (series) {\n        var rect;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var argsData;\n        var prevEndValue = 0;\n        var direction = '';\n        var currentEndValue = 0;\n        var originValue;\n        var prevRegion = null;\n        var y;\n        var isInversed = series.chart.requireInvertedAxis;\n        var intermediateOrigin = 0;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                //Calcute the current point value to render waterfall series.\n                var isSum = this.isIntermediateSum(series, point.index);\n                var totalSum = this.isSumIndex(series, point.index);\n                currentEndValue += isSum || totalSum === true ? 0 : point.yValue;\n                //Calcute the origin value for points\n                originValue = (isSum === true ? intermediateOrigin : ((prevEndValue !== null && !totalSum) ? prevEndValue : origin));\n                rect = this.getRectangle(point.xValue + sideBySideInfo.start, currentEndValue, point.xValue + sideBySideInfo.end, originValue, series);\n                argsData = this.triggerPointRenderEvent(series, point);\n                //intermediateOrigin is used only for imtermediate data \n                if (isSum) {\n                    intermediateOrigin = currentEndValue;\n                }\n                prevEndValue = currentEndValue;\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(point, rect, series);\n                    this.drawRectangle(series, point, rect, argsData);\n                }\n                var currentRegion = point.regions[0];\n                if (prevRegion !== null) {\n                    var prevLeft = isInversed ? prevRegion.x : prevRegion.y;\n                    var currentLeft = isInversed ? currentRegion.x : currentRegion.y;\n                    var prevBottom = isInversed ? prevRegion.x + prevRegion.width : prevRegion.y + prevRegion.height;\n                    var currentBottom = isInversed ?\n                        currentRegion.x + currentRegion.width : currentRegion.y + currentRegion.height;\n                    if (Math.round(prevLeft) === Math.round(currentLeft) ||\n                        Math.round(prevBottom) === Math.round(currentLeft)) {\n                        y = isInversed ? currentRegion.x : currentRegion.y;\n                    }\n                    else {\n                        y = currentBottom;\n                    }\n                    if (isInversed) {\n                        direction = direction.concat('M' + ' ' + y + ' ' + (prevRegion.y + prevRegion.height) + ' ' +\n                            'L' + ' ' + y + ' ' + currentRegion.y + ' ');\n                    }\n                    else {\n                        direction = direction.concat('M' + ' ' + prevRegion.x + ' ' + y + ' ' +\n                            'L' + ' ' + (currentRegion.x + currentRegion.width) + ' ' + y + ' ');\n                    }\n                }\n                prevRegion = point.regions[0];\n            }\n        }\n        var options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Connector_', 'none', series.connector.width, series.connector.color, series.opacity, series.connector.dashArray, direction);\n        var element = series.chart.renderer.drawPath(options);\n        if (series.chart.animateSeries) {\n            element.style.visibility = 'hidden';\n        }\n        series.seriesElement.appendChild(element);\n    };\n    /**\n     * To check intermediateSumIndex in waterfall series.\n     * @return boolean\n     * @private\n     */\n    WaterfallSeries.prototype.isIntermediateSum = function (series, index) {\n        if (series.intermediateSumIndexes !== undefined && series.intermediateSumIndexes.indexOf(index) !== -1) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To check sumIndex in waterfall series.\n     * @return boolean\n     * @private\n     */\n    WaterfallSeries.prototype.isSumIndex = function (series, index) {\n        if (series.sumIndexes !== undefined && series.sumIndexes.indexOf(index) !== -1) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To trigger the point rendering event for waterfall series.\n     * @return IPointRenderEventArgs\n     * @private\n     */\n    WaterfallSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var color;\n        var isSum = this.isIntermediateSum(series, point.index);\n        var totalSum = this.isSumIndex(series, point.index);\n        if (isSum || totalSum) {\n            color = series.summaryFillColor;\n        }\n        else if (point.y < 0) {\n            color = series.negativeFillColor;\n        }\n        else {\n            color = series.interior;\n        }\n        return this.triggerEvent(series, point, color, { color: series.border.color, width: series.border.width });\n    };\n    /**\n     * Add sumIndex and intermediateSumIndex data.\n     * @return {object[]}\n     * @private\n     */\n    WaterfallSeries.prototype.processWaterfallData = function (json, series) {\n        var data = json;\n        var length = json.length;\n        var index;\n        var intermediateSum = series.intermediateSumIndexes;\n        var sumIndex = series.sumIndexes;\n        if (intermediateSum !== undefined && intermediateSum.length > 0) {\n            for (var i = 0; i < intermediateSum.length; i++) {\n                for (var j = 0; j < data.length; j++) {\n                    if (j === intermediateSum[i]) {\n                        if (i === 0) {\n                            index = subArraySum(data, -1, intermediateSum[i], null, series);\n                        }\n                        else {\n                            index = subArraySum(data, intermediateSum[i - 1], intermediateSum[i], null, series);\n                        }\n                        data[j][series.yName] = index;\n                    }\n                }\n            }\n        }\n        if (sumIndex !== undefined && sumIndex.length > 0) {\n            for (var k = 0; k < sumIndex.length; k++) {\n                for (var j = 0; j < data.length; j++) {\n                    if (j === sumIndex[k]) {\n                        if (intermediateSum !== undefined) {\n                            index = subArraySum(data, -1, sumIndex[k], sumIndex, series);\n                        }\n                        else {\n                            index = subArraySum(data, -1, sumIndex[k], null, series);\n                        }\n                        data[j][series.yName] = index;\n                    }\n                }\n            }\n        }\n        return data;\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    WaterfallSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    WaterfallSeries.prototype.getModuleName = function () {\n        return 'WaterfallSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the waterfall series.\n     * @return {void}\n     * @private\n     */\n    WaterfallSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the waterfall series.\n         */\n    };\n    return WaterfallSeries;\n}(ColumnBase));\nexport { WaterfallSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `HiloSeries` module is used to render the hilo series.\n */\nvar HiloSeries = /** @class */ (function (_super) {\n    __extends(HiloSeries, _super);\n    function HiloSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Hiloseries.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.render = function (series) {\n        var region;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible &&\n                withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                region = this.getRectangle(point.xValue + sideBySideInfo.median, point.high, point.xValue + sideBySideInfo.median, point.low, series);\n                argsData = this.triggerPointRenderEvent(series, point);\n                if (!argsData.cancel) {\n                    if (!series.chart.requireInvertedAxis) {\n                        region.width = argsData.border.width;\n                        region.x = region.x - (region.width / 2);\n                    }\n                    else {\n                        region.height = argsData.border.width;\n                        region.y = region.y - (region.height / 2);\n                    }\n                    argsData.border.width = 0;\n                    this.updateSymbolLocation(point, region, series);\n                    this.drawRectangle(series, point, region, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * To trigger the point rendering event.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var border = { color: series.fill, width: Math.max(series.border.width, 2) };\n        return _super.prototype.triggerEvent.call(this, series, point, series.interior, border);\n    };\n    /**\n     * Get module name.\n     */\n    HiloSeries.prototype.getModuleName = function () {\n        return 'HiloSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    HiloSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the Hilo series.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the Hilo Series\n         */\n    };\n    return HiloSeries;\n}(ColumnBase));\nexport { HiloSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `HiloOpenCloseSeries` module is used to render the hiloOpenClose series.\n */\nvar HiloOpenCloseSeries = /** @class */ (function (_super) {\n    __extends(HiloOpenCloseSeries, _super);\n    function HiloOpenCloseSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render HiloOpenCloseSeries series.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.render = function (series) {\n        var highLowRect;\n        var open;\n        var close;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        var borderWidth = Math.max(series.border.width, 2);\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible &&\n                withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                //highlow\n                highLowRect = this.getRectangle(point.xValue + sideBySideInfo.start, Math.max(point.high, point.low), point.xValue + sideBySideInfo.end, Math.min(point.high, point.low), series);\n                point.regions.push(this.getRectangle(point.xValue + sideBySideInfo.median, Math.max(point.high, point.low), point.xValue + sideBySideInfo.median, Math.min(point.high, point.low), series));\n                this.updateTickRegion(!series.chart.requireInvertedAxis, point.regions[0], borderWidth);\n                //open\n                point.regions.push(this.getRectangle(point.xValue + sideBySideInfo.start, Math.max(point.open, point.close), point.xValue + sideBySideInfo.median, Math.max(point.open, point.close), series));\n                //close\n                point.regions.push(this.getRectangle(point.xValue + sideBySideInfo.median, Math.min(point.open, point.close), point.xValue + sideBySideInfo.end, Math.min(point.open, point.close), series));\n                argsData = this.triggerPointRenderEvent(series, point);\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(point, point.regions[0], series);\n                    var open_1 = { x: point.regions[1].x, y: point.regions[1].y };\n                    var close_1 = { x: point.regions[2].x, y: point.regions[2].y };\n                    this.drawHiloOpenClosePath(series, point, open_1, close_1, highLowRect, argsData);\n                }\n                this.updateTickRegion(series.chart.requireInvertedAxis, point.regions[1], borderWidth);\n                this.updateTickRegion(series.chart.requireInvertedAxis, point.regions[2], borderWidth);\n            }\n        }\n    };\n    /**\n     * Updates the tick region\n     */\n    HiloOpenCloseSeries.prototype.updateTickRegion = function (horizontal, region, borderWidth) {\n        if (horizontal) {\n            region.x -= borderWidth / 2;\n            region.width = borderWidth;\n        }\n        else {\n            region.y -= borderWidth / 2;\n            region.height = borderWidth;\n        }\n    };\n    /**\n     * Trigger point rendering event\n     */\n    HiloOpenCloseSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var fill = (point.open <= point.close) ? series.bearFillColor : series.bullFillColor;\n        var border = { color: series.border.color, width: Math.max(series.border.width, 1) };\n        return this.triggerEvent(series, point, fill, border);\n    };\n    /**\n     * To draw the rectangle for points.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.drawHiloOpenClosePath = function (series, point, open, close, rect, argsData) {\n        // region highlow\n        var direction;\n        var options;\n        if (series.chart.requireInvertedAxis) {\n            direction = ('M' + ' ' + (rect.x) + ' ' + (rect.y + rect.height / 2) + ' ' +\n                'L' + ' ' + (rect.x + rect.width) + ' ' + (rect.y + rect.height / 2) + ' ');\n            direction += ('M' + ' ' + (open.x) + ' ' + (rect.y + rect.height / 2) + ' ' +\n                'L' + ' ' + (open.x) + ' ' + (rect.y + rect.height) + ' ');\n            direction += ('M' + ' ' + (close.x) + ' ' + (rect.y + rect.height / 2) + ' ' +\n                'L' + ' ' + (close.x) + ' ' + (rect.y) + ' ');\n        }\n        else {\n            direction = ('M' + ' ' + (rect.x + rect.width / 2) + ' ' + (rect.y + rect.height) + ' ' +\n                'L' + ' ' + (rect.x + rect.width / 2) + ' ' + (rect.y) + ' ');\n            //region opentick\n            direction += ('M' + ' ' + (rect.x) + ' ' + (open.y) + ' ' +\n                'L' + ' ' + (rect.x + rect.width / 2) + ' ' + (open.y) + ' ');\n            //region closetick\n            direction += ('M' + ' ' + (rect.x + rect.width / 2) + ' ' + (close.y) + ' ' +\n                'L' + ' ' + (rect.x + rect.width) + ' ' + (close.y) + ' ');\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index, argsData.fill, argsData.border.width, argsData.fill, series.opacity, series.dashArray, direction);\n        var element = series.chart.renderer.drawPath(options);\n        element.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString()\n            + ':' + point.low.toString() + ':' + point.close.toString() + ':' + point.open.toString());\n        series.seriesElement.appendChild(element);\n    };\n    /**\n     * Get module name.\n     */\n    HiloOpenCloseSeries.prototype.getModuleName = function () {\n        return 'HiloOpenCloseSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    HiloOpenCloseSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the column series.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return HiloOpenCloseSeries;\n}(ColumnBase));\nexport { HiloOpenCloseSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, getPoint, PathOption, Rect } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * `RangeAreaSeries` module is used to render the range area series.\n */\nvar RangeAreaSeries = /** @class */ (function (_super) {\n    __extends(RangeAreaSeries, _super);\n    function RangeAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render RangeArea Series.\n     * @return {void}.\n     * @private\n     */\n    RangeAreaSeries.prototype.render = function (series) {\n        var point;\n        var direction = '';\n        var command = 'M';\n        var closed = undefined;\n        var visiblePoints = this.improveChartPerformance(series);\n        for (var i = 0, length_1 = visiblePoints.length; i < length_1; i++) {\n            point = visiblePoints[i];\n            point.symbolLocations = [];\n            point.regions = [];\n            var low = Math.min(point.low, point.high);\n            var high = Math.max(point.low, point.high);\n            if (series.yAxis.isInversed) {\n                var temp = low;\n                low = high;\n                high = temp;\n            }\n            var lowPoint = getPoint(point.xValue, low, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n            var highPoint = getPoint(point.xValue, high, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n            point.symbolLocations.push(highPoint);\n            point.symbolLocations.push(lowPoint);\n            var rect = new Rect(Math.min(lowPoint.x, highPoint.x), Math.min(lowPoint.y, highPoint.y), Math.max(Math.abs(highPoint.x - lowPoint.x), series.marker.width), Math.max(Math.abs(highPoint.y - lowPoint.y), series.marker.width));\n            if (!series.chart.requireInvertedAxis) {\n                rect.x -= series.marker.width / 2;\n            }\n            else {\n                rect.y -= series.marker.width / 2;\n            }\n            point.regions.push(rect);\n            //Path to connect the high points\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                direction = direction.concat(command + ' ' + (lowPoint.x) + ' ' + (lowPoint.y) + ' ');\n                closed = false;\n                if ((i + 1 < visiblePoints.length && !visiblePoints[i + 1].visible)\n                    || i === visiblePoints.length - 1) {\n                    // Path to connect the low points\n                    direction = this.closeRangeAreaPath(visiblePoints, point, series, direction, i);\n                    command = 'M';\n                    direction = direction.concat(' ' + 'Z');\n                    closed = true;\n                }\n                command = 'L';\n            }\n            else {\n                if (closed === false && i !== 0) {\n                    direction = this.closeRangeAreaPath(visiblePoints, point, series, direction, i);\n                    closed = true;\n                }\n                command = 'M';\n                point.symbolLocations = [];\n            }\n        }\n        var name = series.category === 'Indicator' ? series.chart.element.id + '_Indicator_' + series.index + '_' + series.name :\n            series.chart.element.id + '_Series_' + series.index;\n        var options = new PathOption(name, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * path for rendering the low points\n     * @return {void}.\n     * @private\n     */\n    RangeAreaSeries.prototype.closeRangeAreaPath = function (visiblePoints, point, series, direction, i) {\n        for (var j = i; j >= 0; j--) {\n            if (visiblePoints[j].visible && visiblePoints[j].symbolLocations[0]) {\n                point = visiblePoints[j];\n                direction += 'L' + ' ' + (point.symbolLocations[0].x) + ' ' + ((point.symbolLocations[0].y)) + ' ';\n            }\n            else {\n                break;\n            }\n        }\n        return direction;\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    RangeAreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * Get module name.\n     */\n    RangeAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'RangeAreaSeries';\n    };\n    /**\n     * To destroy the line series.\n     * @return {void}\n     * @private\n     */\n    RangeAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys range area series\n         */\n    };\n    return RangeAreaSeries;\n}(LineBase));\nexport { RangeAreaSeries };\n","import { withInRange, getPoint, PathOption, drawSymbol, Size, Rect, markerAnimate } from '../../common/utils/helper';\nimport { pointRender } from '../../common/model/constants';\n/**\n * `BubbleSeries` module is used to render the bubble series.\n */\nvar BubbleSeries = /** @class */ (function () {\n    function BubbleSeries() {\n    }\n    /**\n     * Render the Bubble series.\n     * @return {void}\n     * @private\n     */\n    BubbleSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var marker = series.marker;\n        var visiblePoints = series.points;\n        var shapeOption;\n        var argsData;\n        //let bubbleMode: RadiusMode = bubbleOptions.radiusMode;\n        var segmentRadius;\n        var radius;\n        var value = Math.max(series.chart.initialClipRect.height, series.chart.initialClipRect.width);\n        var percentChange = value / 100;\n        var maxRadius = series.maxRadius * percentChange;\n        var minRadius = series.minRadius * percentChange;\n        var maximumSize = null;\n        var maxValue = null;\n        if ((series.maxRadius === null || series.minRadius === null)) {\n            for (var _i = 0, _a = series.chart.visibleSeries; _i < _a.length; _i++) {\n                var value_1 = _a[_i];\n                if (value_1.type === 'Bubble' && value_1.visible === true && (value_1.maxRadius === null || value_1.minRadius === null)) {\n                    maximumSize = value_1.sizeMax > maximumSize ? value_1.sizeMax : maximumSize;\n                }\n            }\n            maxValue = (value / 5) / 2;\n            minRadius = maxRadius = 1;\n            radius = maxValue * maxRadius;\n        }\n        else {\n            maximumSize = series.sizeMax;\n            radius = maxRadius - minRadius;\n        }\n        for (var _b = 0, visiblePoints_1 = visiblePoints; _b < visiblePoints_1.length; _b++) {\n            var bubblePoint = visiblePoints_1[_b];\n            bubblePoint.symbolLocations = [];\n            bubblePoint.regions = [];\n            if (bubblePoint.visible &&\n                withInRange(visiblePoints[bubblePoint.index - 1], bubblePoint, visiblePoints[bubblePoint.index + 1], series)) {\n                bubblePoint.symbolLocations.push(getPoint(bubblePoint.xValue, bubblePoint.yValue, xAxis, yAxis, isInverted));\n                if ((series.maxRadius === null || series.minRadius === null)) {\n                    segmentRadius = radius * Math.abs(+bubblePoint.size / maximumSize);\n                }\n                else {\n                    segmentRadius = minRadius + radius * Math.abs(+bubblePoint.size / maximumSize);\n                }\n                segmentRadius = segmentRadius || minRadius;\n                argsData = {\n                    cancel: false, name: pointRender, series: series, point: bubblePoint,\n                    fill: series.setPointColor(bubblePoint, series.interior),\n                    border: series.setBorderColor(bubblePoint, { width: series.border.width, color: series.border.color }),\n                    height: 2 * segmentRadius, width: 2 * segmentRadius\n                };\n                series.chart.trigger(pointRender, argsData);\n                if (!argsData.cancel) {\n                    bubblePoint.color = argsData.fill;\n                    shapeOption = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + bubblePoint.index, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, null);\n                    series.seriesElement.appendChild(drawSymbol(bubblePoint.symbolLocations[0], 'Circle', new Size(argsData.width, argsData.height), marker.imageUrl, shapeOption, bubblePoint.x.toString() + ':' + bubblePoint.yValue.toString()));\n                    bubblePoint.regions.push(new Rect(bubblePoint.symbolLocations[0].x - segmentRadius, bubblePoint.symbolLocations[0].y - segmentRadius, 2 * segmentRadius, 2 * segmentRadius));\n                    bubblePoint.marker = {\n                        border: argsData.border, fill: argsData.fill,\n                        height: argsData.height, visible: true,\n                        shape: 'Circle', width: argsData.width\n                    };\n                }\n                else {\n                    bubblePoint.marker = { visible: false };\n                }\n            }\n        }\n    };\n    /**\n     * To destroy the Bubble.\n     * @return {void}\n     * @private\n     */\n    BubbleSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    BubbleSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'BubbleSeries';\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    BubbleSeries.prototype.doAnimation = function (series) {\n        var duration = series.animation.duration;\n        var delay = series.animation.delay;\n        var rectElements = series.seriesElement.childNodes;\n        var count = 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var bubblePoint = _a[_i];\n            if (!bubblePoint.symbolLocations.length) {\n                continue;\n            }\n            markerAnimate(rectElements[count], delay, duration, series, bubblePoint.index, bubblePoint.symbolLocations[0], false);\n            count++;\n        }\n    };\n    return BubbleSeries;\n}());\nexport { BubbleSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ChartLocation, ControlPoints } from '../../common/utils/helper';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { LineBase } from './line-base';\n/**\n * render Line series\n */\nvar SplineBase = /** @class */ (function (_super) {\n    __extends(SplineBase, _super);\n    /** @private */\n    function SplineBase(chartModule) {\n        var _this = _super.call(this, chartModule) || this;\n        _this.splinePoints = [];\n        return _this;\n    }\n    /**\n     * To find the control points for spline.\n     * @return {void}\n     * @private\n     */\n    SplineBase.prototype.findSplinePoint = function (series) {\n        var value;\n        var points = this.filterEmptyPoints(series);\n        this.splinePoints = this.findSplineCoefficients(points, series);\n        if (points.length > 1) {\n            series.drawPoints = [];\n            for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n                var point = points_1[_i];\n                if (point.index !== 0) {\n                    var previous = this.getPreviousIndex(points, point.index - 1, series);\n                    value = this.getControlPoints(points[previous], point, this.splinePoints[previous], this.splinePoints[point.index], series);\n                    series.drawPoints.push(value);\n                    if (point.yValue && value.controlPoint1.y && value.controlPoint2.y) {\n                        series.yMin = Math.floor(Math.min(series.yMin, point.yValue, value.controlPoint1.y, value.controlPoint2.y));\n                        series.yMax = Math.ceil(Math.max(series.yMax, point.yValue, value.controlPoint1.y, value.controlPoint2.y));\n                    }\n                }\n            }\n        }\n    };\n    SplineBase.prototype.getPreviousIndex = function (points, i, series) {\n        if (series.emptyPointSettings.mode !== 'Drop') {\n            return i;\n        }\n        while (isNullOrUndefined(points[i]) && i > -1) {\n            i = i - 1;\n        }\n        return i;\n    };\n    SplineBase.prototype.getNextIndex = function (points, i, series) {\n        if (series.emptyPointSettings.mode !== 'Drop') {\n            return i;\n        }\n        while (isNullOrUndefined(points[i]) && i < points.length) {\n            i = i + 1;\n        }\n        return i;\n    };\n    SplineBase.prototype.filterEmptyPoints = function (series) {\n        if (series.emptyPointSettings.mode !== 'Drop') {\n            return series.points;\n        }\n        var points = extend([], series.points, null, true);\n        for (var i = 0; i < points.length; i++) {\n            points[i].index = i;\n            if (points[i].isEmpty) {\n                points[i].symbolLocations = [];\n                points[i].regions = [];\n                points.splice(i, 1);\n                i--;\n            }\n        }\n        return points;\n    };\n    /**\n     * To find the natural spline.\n     * @return {void}\n     * @private\n     */\n    SplineBase.prototype.findSplineCoefficients = function (points, series) {\n        var count = points.length;\n        var ySpline = [];\n        var ySplineDuplicate = [];\n        var coefficient1;\n        var coefficient2;\n        var coefficient3;\n        var dy1;\n        var dy2;\n        var dx = [];\n        var dy = [];\n        var slope = [];\n        var interPoint;\n        var slopeLength;\n        var cardinalSplineTension = series.cardinalSplineTension ? series.cardinalSplineTension : 0.5;\n        cardinalSplineTension = cardinalSplineTension < 0 ? 0 : cardinalSplineTension > 1 ? 1 : cardinalSplineTension;\n        switch (series.splineType) {\n            case 'Monotonic':\n                for (var i = 0; i < count - 1; i++) {\n                    dx[i] = points[i + 1].xValue - points[i].xValue;\n                    dy[i] = points[i + 1].yValue - points[i].yValue;\n                    slope[i] = dy[i] / dx[i];\n                }\n                //interpolant points\n                slopeLength = slope.length;\n                // to find the first and last co-efficient value\n                ySpline[0] = slope[0];\n                ySpline[count - 1] = slope[slopeLength - 1];\n                //to find the other co-efficient values\n                for (var j = 0; j < dx.length; j++) {\n                    if (slopeLength > j + 1) {\n                        if (slope[j] * slope[j + 1] <= 0) {\n                            ySpline[j + 1] = 0;\n                        }\n                        else {\n                            interPoint = dx[j] + dx[j + 1];\n                            ySpline[j + 1] = 3 * interPoint / ((interPoint + dx[j + 1]) / slope[j] + (interPoint + dx[j]) / slope[j + 1]);\n                        }\n                    }\n                }\n                break;\n            case 'Cardinal':\n                for (var i = 0; i < count; i++) {\n                    if (i === 0) {\n                        ySpline[i] = (count > 2) ? (cardinalSplineTension * (points[i + 2].xValue - points[i].xValue)) : 0;\n                    }\n                    else if (i === (count - 1)) {\n                        ySpline[i] = (count > 2) ? (cardinalSplineTension * (points[count - 1].xValue - points[count - 3].xValue)) : 0;\n                    }\n                    else {\n                        ySpline[i] = (cardinalSplineTension * (points[i + 1].xValue - points[i - 1].xValue));\n                    }\n                }\n                break;\n            default:\n                if (series.splineType === 'Clamped') {\n                    var firstIndex = (points[1].yValue - points[0].yValue) / (points[1].xValue - points[0].xValue);\n                    var lastIndex = (points[count - 1].xValue - points[count - 2].xValue) /\n                        (points[count - 1].yValue - points[count - 2].yValue);\n                    ySpline[0] = (3 * (points[1].yValue - points[0].yValue)) / (points[1].xValue - points[0].xValue) - 3;\n                    ySplineDuplicate[0] = 0.5;\n                    ySpline[points.length - 1] = (3 * (points[points.length - 1].yValue - points[points.length - 2].yValue)) /\n                        (points[points.length - 1].xValue - points[points.length - 2].xValue);\n                    ySpline[0] = ySplineDuplicate[0] = Math.abs(ySpline[0]) === Infinity ? 0 : ySpline[0];\n                    ySpline[points.length - 1] = ySplineDuplicate[points.length - 1] = Math.abs(ySpline[points.length - 1]) === Infinity ?\n                        0 : ySpline[points.length - 1];\n                }\n                else {\n                    // assigning the first and last value as zero\n                    ySpline[0] = ySplineDuplicate[0] = 0;\n                    ySpline[points.length - 1] = 0;\n                }\n                for (var i = 1; i < count - 1; i++) {\n                    coefficient1 = points[i].xValue - points[i - 1].xValue;\n                    coefficient2 = points[i + 1].xValue - points[i - 1].xValue;\n                    coefficient3 = points[i + 1].xValue - points[i].xValue;\n                    dy1 = points[i + 1].yValue - points[i].yValue || null;\n                    dy2 = points[i].yValue - points[i - 1].yValue || null;\n                    if (coefficient1 === 0 || coefficient2 === 0 || coefficient3 === 0) {\n                        ySpline[i] = 0;\n                        ySplineDuplicate[i] = 0;\n                    }\n                    else {\n                        var p = 1 / (coefficient1 * ySpline[i - 1] + 2 * coefficient2);\n                        ySpline[i] = -p * coefficient3;\n                        ySplineDuplicate[i] = p * (6 * (dy1 / coefficient3 - dy2 / coefficient1) - coefficient1 * ySplineDuplicate[i - 1]);\n                    }\n                }\n                for (var k = count - 2; k >= 0; k--) {\n                    ySpline[k] = ySpline[k] * ySpline[k + 1] + ySplineDuplicate[k];\n                }\n                break;\n        }\n        return ySpline;\n    };\n    /**\n     * To find the control points for spline.\n     * @return {void}\n     * @private\n     */\n    SplineBase.prototype.getControlPoints = function (point1, point2, ySpline1, ySpline2, series) {\n        var controlPoint1;\n        var controlPoint2;\n        var point;\n        var ySplineDuplicate1 = ySpline1;\n        var ySplineDuplicate2 = ySpline2;\n        switch (series.splineType) {\n            case 'Cardinal':\n                if (series.xAxis.valueType === 'DateTime') {\n                    ySplineDuplicate1 = ySpline1 / this.dateTimeInterval(series);\n                    ySplineDuplicate2 = ySpline2 / this.dateTimeInterval(series);\n                }\n                controlPoint1 = new ChartLocation(point1.xValue + ySpline1 / 3, point1.yValue + ySplineDuplicate1 / 3);\n                controlPoint2 = new ChartLocation(point2.xValue - ySpline2 / 3, point2.yValue - ySplineDuplicate2 / 3);\n                point = new ControlPoints(controlPoint1, controlPoint2);\n                break;\n            case 'Monotonic':\n                var value = (point2.xValue - point1.xValue) / 3;\n                controlPoint1 = new ChartLocation(point1.xValue + value, point1.yValue + ySpline1 * value);\n                controlPoint2 = new ChartLocation(point2.xValue - value, point2.yValue - ySpline2 * value);\n                point = new ControlPoints(controlPoint1, controlPoint2);\n                break;\n            default:\n                var one3 = 1 / 3.0;\n                var deltaX2 = (point2.xValue - point1.xValue);\n                deltaX2 = deltaX2 * deltaX2;\n                var y1 = one3 * (((2 * point1.yValue) + point2.yValue) - one3 * deltaX2 * (ySpline1 + 0.5 * ySpline2));\n                var y2 = one3 * ((point1.yValue + (2 * point2.yValue)) - one3 * deltaX2 * (0.5 * ySpline1 + ySpline2));\n                controlPoint1 = new ChartLocation((2 * (point1.xValue) + (point2.xValue)) * one3, y1);\n                controlPoint2 = new ChartLocation(((point1.xValue) + 2 * (point2.xValue)) * one3, y2);\n                point = new ControlPoints(controlPoint1, controlPoint2);\n                break;\n        }\n        return point;\n    };\n    /**\n     * calculate datetime interval in hours\n     *\n     */\n    SplineBase.prototype.dateTimeInterval = function (series) {\n        var interval = series.xAxis.actualIntervalType;\n        var intervalInMilliseconds;\n        if (interval === 'Years') {\n            intervalInMilliseconds = 365 * 24 * 60 * 60 * 1000;\n        }\n        else if (interval === 'Months') {\n            intervalInMilliseconds = 30 * 24 * 60 * 60 * 1000;\n        }\n        else if (interval === 'Days') {\n            intervalInMilliseconds = 24 * 60 * 60 * 1000;\n        }\n        else if (interval === 'Hours') {\n            intervalInMilliseconds = 60 * 60 * 1000;\n        }\n        else if (interval === 'Minutes') {\n            intervalInMilliseconds = 60 * 1000;\n        }\n        else if (interval === 'Seconds') {\n            intervalInMilliseconds = 1000;\n        }\n        else {\n            intervalInMilliseconds = 30 * 24 * 60 * 60 * 1000;\n        }\n        return intervalInMilliseconds;\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    SplineBase.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    return SplineBase;\n}(LineBase));\nexport { SplineBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, getPoint, withInRange, TransformToVisible } from '../../common/utils/helper';\nimport { SplineBase } from './spline-base';\n/**\n * `SplineSeries` module is used to render the spline series.\n */\nvar SplineSeries = /** @class */ (function (_super) {\n    __extends(SplineSeries, _super);\n    function SplineSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the spline series.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var chart = series.chart;\n        var marker = series.marker;\n        var ySpline;\n        var options;\n        var firstPoint = null;\n        var secondPoint = null;\n        var direction = '';\n        var pt1;\n        var pt2;\n        var bpt1;\n        var bpt2;\n        var data;\n        var controlPointCount = 0;\n        var controlPoint1;\n        var controlPoint2;\n        var startPoint = 'M';\n        var points = this.filterEmptyPoints(series);\n        var previous;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var point = points_1[_i];\n            previous = this.getPreviousIndex(points, point.index - 1, series);\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(points[previous], point, points[this.getNextIndex(points, point.index - 1, series)], series)) {\n                if (firstPoint !== null) {\n                    data = series.drawPoints[previous];\n                    controlPoint1 = data.controlPoint1;\n                    controlPoint2 = data.controlPoint2;\n                    pt1 = getCoordinate(firstPoint.xValue, firstPoint.yValue, xAxis, yAxis, isInverted, series);\n                    pt2 = getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series);\n                    bpt1 = getCoordinate(controlPoint1.x, controlPoint1.y, xAxis, yAxis, isInverted, series);\n                    bpt2 = getCoordinate(controlPoint2.x, controlPoint2.y, xAxis, yAxis, isInverted, series);\n                    direction = direction.concat((startPoint + ' ' + (pt1.x) + ' ' + (pt1.y) + ' ' + 'C' + ' ' + (bpt1.x) + ' '\n                        + (bpt1.y) + ' ' + (bpt2.x) + ' ' + (bpt2.y) + ' ' + (pt2.x) + ' ' + (pt2.y) + ' '));\n                    startPoint = 'L';\n                }\n                firstPoint = point;\n                this.storePointLocation(point, series, isInverted, getCoordinate);\n            }\n            else {\n                startPoint = 'M';\n                firstPoint = null;\n                point.symbolLocations = [];\n            }\n        }\n        var name = series.category === 'TrendLine' ? series.chart.element.id + '_Series_' + series.sourceIndex + '_TrendLine_' + series.index :\n            series.chart.element.id + '_Series_' + series.index;\n        options = new PathOption(name, 'transparent', series.width, series.interior, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * Get module name.\n     */\n    SplineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'SplineSeries';\n    };\n    /**\n     * To destroy the spline.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return SplineSeries;\n}(SplineBase));\nexport { SplineSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, getPoint, withInRange, TransformToVisible } from '../../common/utils/helper';\nimport { SplineBase } from './spline-base';\n/**\n * `SplineAreaSeries` module used to render the spline area series.\n */\nvar SplineAreaSeries = /** @class */ (function (_super) {\n    __extends(SplineAreaSeries, _super);\n    function SplineAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the splineArea series.\n     * @return {void}\n     * @private\n     */\n    SplineAreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var firstPoint = null;\n        var direction = '';\n        var startPoint = null;\n        var startPoint1 = null;\n        var pt1;\n        var pt2;\n        var bpt1;\n        var bpt2;\n        var controlPt1;\n        var controlPt2;\n        var points = this.filterEmptyPoints(series);\n        var pointsLength = series.points.length;\n        var point;\n        var previous;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        var origin = series.chart.chartAreaType === 'PolarRadar' ? series.points[0].yValue :\n            Math.max(series.yAxis.visibleRange.min, 0);\n        for (var i = 0; i < pointsLength; i++) {\n            point = series.points[i];\n            point.symbolLocations = [];\n            point.regions = [];\n            previous = this.getPreviousIndex(points, point.index - 1, series);\n            if (point.visible &&\n                withInRange(points[previous], point, points[this.getNextIndex(points, point.index - 1, series)], series)) {\n                if (firstPoint) {\n                    controlPt1 = series.drawPoints[previous].controlPoint1;\n                    controlPt2 = series.drawPoints[previous].controlPoint2;\n                    pt1 = getCoordinate(firstPoint.xValue, firstPoint.yValue, xAxis, yAxis, isInverted, series);\n                    pt2 = getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series);\n                    bpt1 = getCoordinate(controlPt1.x, controlPt1.y, xAxis, yAxis, isInverted, series);\n                    bpt2 = getCoordinate(controlPt2.x, controlPt2.y, xAxis, yAxis, isInverted, series);\n                    direction = direction.concat(' C' + bpt1.x + ' '\n                        + bpt1.y + ' ' + bpt2.x + ' ' + bpt2.y + ' ' + pt2.x + ' ' + pt2.y + ' ');\n                }\n                else {\n                    // Start point for the current path\n                    startPoint = getCoordinate(point.xValue, origin, xAxis, yAxis, isInverted, series);\n                    direction += ('M ' + startPoint.x + ' ' + startPoint.y + ' ');\n                    // First Point to draw the area path\n                    startPoint1 = getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series);\n                    direction += ('L ' + startPoint1.x + ' ' + startPoint1.y + ' ');\n                }\n                this.storePointLocation(point, series, isInverted, getCoordinate);\n                firstPoint = point;\n            }\n            else {\n                firstPoint = null;\n                point.symbolLocations = [];\n            }\n            if (((i + 1 < pointsLength && !series.points[i + 1].visible) || i === pointsLength - 1)\n                && pt2 && startPoint) {\n                startPoint = getCoordinate(point.xValue, origin, xAxis, yAxis, isInverted, series);\n                direction = direction.concat('L ' + (startPoint.x) + ' ' + (startPoint.y));\n            }\n        }\n        this.appendLinePath(new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, direction), series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * Get module name.\n     */\n    SplineAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'SplineAreaSeries';\n    };\n    /**\n     * To destroy the spline.\n     * @return {void}\n     * @private\n     */\n    SplineAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return SplineAreaSeries;\n}(SplineBase));\nexport { SplineAreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { LineBase } from '../series/line-base';\nimport { Series, Points } from '../series/chart-series';\nimport { RectOption, Rect } from '../../common/utils/helper';\nimport { findClipRect } from '../../common/utils/helper';\n/**\n * Technical Analysis module helps to predict the market trend\n */\nvar TechnicalAnalysis = /** @class */ (function (_super) {\n    __extends(TechnicalAnalysis, _super);\n    function TechnicalAnalysis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series, that are used to represent the given technical indicator\n     * @private\n     */\n    TechnicalAnalysis.prototype.initSeriesCollection = function (indicator, chart) {\n        indicator.targetSeries = [];\n        var signalLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(signalLine, indicator, 'SignalLine', indicator.fill, indicator.width, chart);\n    };\n    /**\n     * Initializes the properties of the given series\n     * @private\n     */\n    TechnicalAnalysis.prototype.setSeriesProperties = function (series, indicator, name, fill, width, chart) {\n        series.name = name;\n        series.xName = 'x';\n        series.yName = 'y';\n        series.fill = fill || '#606eff';\n        series.dashArray = indicator.dashArray;\n        series.width = width;\n        series.xAxisName = indicator.xAxisName;\n        series.animation = indicator.animation;\n        series.yAxisName = indicator.yAxisName;\n        series.clipRectElement = indicator.clipRectElement;\n        series.points = [];\n        series.enableTooltip = true;\n        series.interior = series.fill;\n        series.category = 'Indicator';\n        series.index = indicator.index;\n        series.chart = chart;\n        series.xMin = Infinity;\n        series.xMax = -Infinity;\n        series.yMin = Infinity;\n        series.yMax = -Infinity;\n        series.xData = [];\n        series.yData = [];\n        series.marker.visible = false;\n        indicator.targetSeries.push(series);\n    };\n    /**\n     * Creates the elements of a technical indicator\n     * @private\n     */\n    TechnicalAnalysis.prototype.createIndicatorElements = function (chart, indicator, index) {\n        if (indicator.seriesName || indicator.dataSource) {\n            findClipRect(indicator.targetSeries[0]);\n        }\n        var clipRect = new Rect(0, 0, 0, 0);\n        if (indicator.seriesName || indicator.dataSource) {\n            clipRect = indicator.targetSeries[0].clipRect;\n        }\n        //defines the clip rect element\n        var clipRectElement = chart.renderer.drawClipPath(new RectOption(chart.element.id + '_ChartIndicatorClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n            x: 0, y: 0, width: clipRect.width,\n            height: clipRect.height,\n        }));\n        //creates the group for an indicator\n        indicator.indicatorElement = chart.renderer.createGroup({\n            'id': chart.element.id + 'IndicatorGroup' + index,\n            'transform': 'translate(' + clipRect.x + ',' + clipRect.y + ')',\n            'clip-path': 'url(#' + chart.element.id + '_ChartIndicatorClipRect_' + index + ')'\n        });\n        indicator.indicatorElement.appendChild(clipRectElement);\n        //Defines a group for each series in a technical indicator\n        for (var _i = 0, _a = indicator.targetSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            series.clipRectElement = clipRectElement;\n            var element = series.chart.renderer.createGroup({\n                'id': series.chart.element.id + '_Indicator_' +\n                    indicator.index + '_' + series.name + '_Group'\n            });\n            indicator.indicatorElement.appendChild(element);\n            series.seriesElement = element;\n        }\n        chart.indicatorElements.appendChild(indicator.indicatorElement);\n    };\n    TechnicalAnalysis.prototype.getDataPoint = function (x, y, sourcePoint, series, index, indicator) {\n        if (indicator === void 0) { indicator = null; }\n        var point = new Points();\n        point.x = x;\n        point.y = y;\n        point.xValue = sourcePoint.xValue;\n        point.color = series.fill;\n        point.index = index;\n        point.yValue = y;\n        point.visible = true;\n        series.xMin = Math.min(series.xMin, point.xValue);\n        series.yMin = Math.min(series.yMin, point.yValue);\n        series.xMax = Math.max(series.xMax, point.xValue);\n        series.yMax = Math.max(series.yMax, point.yValue);\n        series.xData.push(point.xValue);\n        if (indicator && indicator.type === 'Macd' && series.type === 'Column') {\n            if (point.y >= 0) {\n                point.color = indicator.macdPositiveColor;\n            }\n            else {\n                point.color = indicator.macdNegativeColor;\n            }\n        }\n        return point;\n    };\n    TechnicalAnalysis.prototype.getRangePoint = function (x, high, low, sourcePoint, series, index, indicator) {\n        if (indicator === void 0) { indicator = null; }\n        var point = new Points();\n        point.x = x;\n        point.high = high;\n        point.low = low;\n        point.xValue = sourcePoint.xValue;\n        point.color = series.fill;\n        point.index = index;\n        point.visible = true;\n        series.xData.push(point.xValue);\n        return point;\n    };\n    TechnicalAnalysis.prototype.setSeriesRange = function (points, indicator, series) {\n        if (series === void 0) { series = null; }\n        if (!series) {\n            indicator.targetSeries[0].points = points;\n        }\n        else {\n            series.points = points;\n        }\n    };\n    return TechnicalAnalysis;\n}(LineBase));\nexport { TechnicalAnalysis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `SmaIndicator` module is used to render SMA indicator.\n */\nvar SmaIndicator = /** @class */ (function (_super) {\n    __extends(SmaIndicator, _super);\n    function SmaIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions based on SMA approach\n     * @private\n     */\n    SmaIndicator.prototype.initDataSource = function (indicator, chart) {\n        var smaPoints = [];\n        var points = indicator.points;\n        if (points && points.length) {\n            //prepare data\n            var validData = points;\n            var field = firstToLowerCase(indicator.field);\n            var xField = 'x';\n            var signalSeries = indicator.targetSeries[0];\n            if (validData && validData.length && validData.length >= indicator.period) {\n                //find initial average\n                var average = 0;\n                var sum = 0;\n                for (var i = 0; i < indicator.period; i++) {\n                    sum += validData[i][field];\n                }\n                average = sum / indicator.period;\n                smaPoints.push(this.getDataPoint(validData[indicator.period - 1][xField], average, validData[indicator.period - 1], signalSeries, smaPoints.length));\n                var index = indicator.period;\n                while (index < validData.length) {\n                    sum -= validData[index - indicator.period][field];\n                    sum += validData[index][field];\n                    average = sum / indicator.period;\n                    smaPoints.push(this.getDataPoint(validData[index][xField], average, validData[index], signalSeries, smaPoints.length));\n                    index++;\n                }\n            }\n            this.setSeriesRange(smaPoints, indicator);\n        }\n    };\n    /**\n     * To destroy the SMA indicator\n     * @return {void}\n     * @private\n     */\n    SmaIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the SMA indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    SmaIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'SmaIndicator';\n    };\n    return SmaIndicator;\n}(TechnicalAnalysis));\nexport { SmaIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `EmaIndicator` module is used to render EMA indicator.\n */\nvar EmaIndicator = /** @class */ (function (_super) {\n    __extends(EmaIndicator, _super);\n    function EmaIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions based on EMA approach\n     * @private\n     */\n    EmaIndicator.prototype.initDataSource = function (indicator, chart) {\n        var field = firstToLowerCase(indicator.field);\n        var xField = 'x';\n        var emaPoints = [];\n        var signalSeries = indicator.targetSeries[0];\n        //prepare data\n        var validData = indicator.points;\n        if (validData && validData.length && validData.length >= indicator.period) {\n            //find initial average\n            var sum = 0;\n            var average = 0;\n            //smoothing factor\n            var k = (2 / (indicator.period + 1));\n            for (var i = 0; i < indicator.period; i++) {\n                sum += validData[i][field];\n            }\n            average = sum / indicator.period;\n            emaPoints.push(this.getDataPoint(validData[indicator.period - 1][xField], average, validData[indicator.period - 1], signalSeries, emaPoints.length));\n            var index = indicator.period;\n            while (index < validData.length) {\n                //previous average\n                var prevAverage = emaPoints[index - indicator.period][signalSeries.yName];\n                var yValue = (validData[index][field] - prevAverage) * k + prevAverage;\n                emaPoints.push(this.getDataPoint(validData[index][xField], yValue, validData[index], signalSeries, emaPoints.length));\n                index++;\n            }\n        }\n        this.setSeriesRange(emaPoints, indicator);\n    };\n    /**\n     * To destroy the EMA Indicator\n     * @return {void}\n     * @private\n     */\n    EmaIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the EMA Indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    EmaIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'EmaIndicator';\n    };\n    return EmaIndicator;\n}(TechnicalAnalysis));\nexport { EmaIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `TmaIndicator` module is used to render TMA indicator.\n */\nvar TmaIndicator = /** @class */ (function (_super) {\n    __extends(TmaIndicator, _super);\n    function TmaIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions based on TMA approach\n     * @private\n     */\n    TmaIndicator.prototype.initDataSource = function (indicator, chart) {\n        var tmaPoints = [];\n        var field = firstToLowerCase(indicator.field);\n        var xField = 'x';\n        var signalSeries = indicator.targetSeries[0];\n        //prepare data\n        var validData = indicator.points;\n        if (validData && validData.length && validData.length >= indicator.period) {\n            var signalSeries_1 = indicator.targetSeries[0];\n            //prepare data\n            var validData_1 = indicator.points;\n            if (validData_1.length && validData_1.length >= indicator.period) {\n                //smoothing factor\n                var k = (2 / (indicator.period + 1));\n                //find initial average\n                var average = 0;\n                var sum = 0;\n                var sumOfSMA = 0;\n                var averageSMA = 0;\n                var smaValues = [];\n                //sma values\n                var index = 0;\n                var length_1 = validData_1.length;\n                var period = indicator.period;\n                while (length_1 >= period) {\n                    sum = 0;\n                    index = validData_1.length - length_1;\n                    for (var j = index; j < index + period; j++) {\n                        sum = sum + validData_1[j][field];\n                    }\n                    sum = sum / period;\n                    smaValues.push(sum);\n                    length_1--;\n                }\n                //initial values\n                for (var k_1 = 0; k_1 < period - 1; k_1++) {\n                    sum = 0;\n                    for (var j = 0; j < k_1 + 1; j++) {\n                        sum = sum + validData_1[j][field];\n                    }\n                    sum = sum / (k_1 + 1);\n                    smaValues.splice(k_1, 0, sum);\n                }\n                index = indicator.period;\n                while (index <= smaValues.length) {\n                    sum = 0;\n                    for (var j = index - indicator.period; j < index; j++) {\n                        sum = sum + smaValues[j];\n                    }\n                    sum = sum / indicator.period;\n                    tmaPoints.push(this.getDataPoint(validData_1[index - 1][xField], sum, validData_1[index - 1], signalSeries_1, tmaPoints.length));\n                    index++;\n                }\n            }\n        }\n        this.setSeriesRange(tmaPoints, indicator);\n    };\n    /**\n     * To destroy the TMA indicator.\n     * @return {void}\n     * @private\n     */\n    TmaIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the TMA Indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    TmaIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'TmaIndicator';\n    };\n    return TmaIndicator;\n}(TechnicalAnalysis));\nexport { TmaIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `AccumulationDistributionIndicator` module is used to render accumulation distribution indicator.\n */\nvar AccumulationDistributionIndicator = /** @class */ (function (_super) {\n    __extends(AccumulationDistributionIndicator, _super);\n    function AccumulationDistributionIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions using accumulation distribution approach\n     * @private\n     */\n    AccumulationDistributionIndicator.prototype.initDataSource = function (indicator, chart) {\n        var sourceSeries = indicator.sourceSeries;\n        var adPoints = [];\n        var validData = indicator.points;\n        if (validData.length > 0 && validData.length > indicator.period) {\n            adPoints = this.calculateADPoints(indicator, validData);\n        }\n        this.setSeriesRange(adPoints, indicator);\n    };\n    /**\n     *  Calculates the Accumulation Distribution values\n     * @private\n     */\n    AccumulationDistributionIndicator.prototype.calculateADPoints = function (indicator, validData) {\n        var temp = [];\n        var sum = 0;\n        var i = 0;\n        var value = 0;\n        var high = 0;\n        var low = 0;\n        var close = 0;\n        var signalSeries = indicator.targetSeries[0];\n        for (i = 0; i < validData.length; i++) {\n            high = Number(validData[i].high);\n            low = Number(validData[i].low);\n            close = Number(validData[i].close);\n            /**\n             * Money Flow Multiplier = [(Close -  Low) - (High - Close)] /(High - Low)\n             * Money Flow Volume = Money Flow Multiplier x Volume for the Period\n             * ADL = Previous ADL + Current Period's Money Flow Volume\n             */\n            value = ((close - low) - (high - close)) / (high - low);\n            /**\n             * Sum is to calculate the Y values of the Accumulation distribution indicator\n             */\n            sum = sum + value * Number(validData[i].volume);\n            /**\n             * To calculate the x and y values for the Accumulation distribution indicator\n             */\n            temp[i] = this.getDataPoint(validData[i].x, sum, validData[i], signalSeries, temp.length);\n        }\n        return temp;\n    };\n    /**\n     * To destroy the Accumulation Distribution Technical Indicator.\n     * @return {void}\n     * @private\n     */\n    AccumulationDistributionIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the Accumulation Distribution Technical indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationDistributionIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the Indicator\n         */\n        return 'AccumulationDistributionIndicator';\n    };\n    return AccumulationDistributionIndicator;\n}(TechnicalAnalysis));\nexport { AccumulationDistributionIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `AtrIndicator` module is used to render ATR indicator.\n */\nvar AtrIndicator = /** @class */ (function (_super) {\n    __extends(AtrIndicator, _super);\n    function AtrIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions using Average True Range approach\n     * @private\n     */\n    AtrIndicator.prototype.initDataSource = function (indicator, chart) {\n        var sourceSeries = indicator.sourceSeries;\n        var atrPoints = [];\n        var validData = indicator.points;\n        if (validData.length > 0 && validData.length > indicator.period) {\n            this.calculateATRPoints(indicator, validData);\n        }\n    };\n    /**\n     *  To calculate Average True Range indicator points\n     * @private\n     */\n    AtrIndicator.prototype.calculateATRPoints = function (indicator, validData) {\n        var average = 0;\n        var highLow = 0;\n        var highClose = 0;\n        var lowClose = 0;\n        var trueRange = 0;\n        var points = [];\n        var temp = [];\n        var period = indicator.period;\n        var sum = 0;\n        var y = 'y';\n        var signalSeries = indicator.targetSeries[0];\n        for (var i = 0; i < validData.length; i++) {\n            /**\n             * Current High less the current Low\n             * Current High less the previous Close (absolute value)\n             * Current Low less the previous Close (absolute value)\n             */\n            highLow = Number(validData[i].high) - Number(validData[i].low);\n            if (i > 0) {\n                //\n                highClose = Math.abs(Number(validData[i].high) - Number(validData[i - 1].close));\n                lowClose = Math.abs(Number(validData[i].low) - Number(validData[i - 1].close));\n            }\n            /**\n             * To find the maximum of highLow, highClose, lowClose\n             */\n            trueRange = Math.max(highLow, highClose, lowClose);\n            sum = sum + trueRange;\n            /**\n             * Push the x and y values for the Average true range indicator\n             */\n            if (i >= period) {\n                average = (Number(temp[i - 1][y]) * (period - 1) + trueRange) / period;\n                points.push(this.getDataPoint(validData[i].x, average, validData[i], signalSeries, points.length));\n            }\n            else {\n                average = sum / period;\n                if (i === period - 1) {\n                    points.push(this.getDataPoint(validData[i].x, average, validData[i], signalSeries, points.length));\n                }\n            }\n            temp[i] = { x: validData[i].x, y: average };\n        }\n        this.setSeriesRange(points, indicator);\n    };\n    /**\n     * To destroy the Average true range indicator.\n     * @return {void}\n     * @private\n     */\n    AtrIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroy the Average true range indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    AtrIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the Indicator\n         */\n        return 'AtrIndicator';\n    };\n    return AtrIndicator;\n}(TechnicalAnalysis));\nexport { AtrIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `MomentumIndicator` module is used to render Momentum indicator.\n */\nvar MomentumIndicator = /** @class */ (function (_super) {\n    __extends(MomentumIndicator, _super);\n    function MomentumIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series to represent a momentum indicator\n     * @private\n     */\n    MomentumIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        var upperLine = new Series(indicator, 'targetSeries', {}, true);\n        _super.prototype.setSeriesProperties.call(this, upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n    };\n    /**\n     * Defines the predictions using momentum approach\n     * @private\n     */\n    MomentumIndicator.prototype.initDataSource = function (indicator, chart) {\n        var upperCollection = [];\n        var signalCollection = [];\n        var validData = indicator.points;\n        if (validData && validData.length) {\n            var upperSeries = indicator.targetSeries[1];\n            var signalSeries = indicator.targetSeries[0];\n            var length_1 = indicator.period;\n            if (validData.length >= indicator.period) {\n                for (var i = 0; i < validData.length; i++) {\n                    upperCollection.push(this.getDataPoint(validData[i].x, 100, validData[i], upperSeries, upperCollection.length));\n                    if (!(i < length_1)) {\n                        signalCollection.push(this.getDataPoint(validData[i].x, (Number(validData[i].close) / Number(validData[i - length_1].close) * 100), validData[i], signalSeries, signalCollection.length));\n                    }\n                }\n            }\n            this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n            this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[1]);\n        }\n    };\n    /**\n     * To destroy the momentum indicator\n     * @return {void}\n     * @private\n     */\n    MomentumIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the momentum indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    MomentumIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'MomentumIndicator';\n    };\n    return MomentumIndicator;\n}(TechnicalAnalysis));\nexport { MomentumIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `RsiIndicator` module is used to render RSI indicator.\n */\nvar RsiIndicator = /** @class */ (function (_super) {\n    __extends(RsiIndicator, _super);\n    function RsiIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the series collection to represent the RSI Indicator\n     * @private\n     */\n    RsiIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        if (indicator.showZones) {\n            var lowerLine = new Series(indicator, 'targetSeries', {}, true);\n            _super.prototype.setSeriesProperties.call(this, lowerLine, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n            var upperLine = new Series(indicator, 'targetSeries', {}, true);\n            _super.prototype.setSeriesProperties.call(this, upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n        }\n    };\n    /**\n     * Defines the predictions using RSI approach\n     * @private\n     */\n    RsiIndicator.prototype.initDataSource = function (indicator, chart) {\n        var signalCollection = [];\n        var lowerCollection = [];\n        var upperCollection = [];\n        var signalSeries = indicator.targetSeries[0];\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            //Find upper band and lower band values\n            if (indicator.showZones) {\n                for (var i = 0; i < validData.length; i++) {\n                    upperCollection.push(this.getDataPoint(validData[i].x, indicator.overBought, validData[i], indicator.targetSeries[1], upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[i].x, indicator.overSold, validData[i], indicator.targetSeries[2], lowerCollection.length));\n                }\n            }\n            //Find signal line value\n            var prevClose = Number(validData[0].close);\n            var gain = 0;\n            var loss = 0;\n            for (var i = 1; i <= indicator.period; i++) {\n                var close_1 = Number(validData[i].close);\n                if (close_1 > prevClose) {\n                    gain += close_1 - prevClose;\n                }\n                else {\n                    loss += prevClose - close_1;\n                }\n                prevClose = close_1;\n            }\n            gain = gain / indicator.period;\n            loss = loss / indicator.period;\n            signalCollection.push(this.getDataPoint(validData[indicator.period].x, 100 - (100 / (1 + gain / loss)), validData[indicator.period], signalSeries, signalCollection.length));\n            for (var j = indicator.period + 1; j < validData.length; j++) {\n                var close_2 = Number(validData[j].close);\n                if (close_2 > prevClose) {\n                    gain = (gain * (indicator.period - 1) + (close_2 - prevClose)) / indicator.period;\n                    loss = (loss * (indicator.period - 1)) / indicator.period;\n                }\n                else if (close_2 < prevClose) {\n                    loss = (loss * (indicator.period - 1) + (prevClose - close_2)) / indicator.period;\n                    gain = (gain * (indicator.period - 1)) / indicator.period;\n                }\n                prevClose = close_2;\n                signalCollection.push(this.getDataPoint(validData[j].x, 100 - (100 / (1 + gain / loss)), validData[j], signalSeries, signalCollection.length));\n            }\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n        if (indicator.showZones) {\n            this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[1]);\n            this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[2]);\n        }\n    };\n    /**\n     * To destroy the RSI Indicator.\n     * @return {void}\n     * @private\n     */\n    RsiIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the RSI Indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    RsiIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the indicator.\n         */\n        return 'RsiIndicator';\n    };\n    return RsiIndicator;\n}(TechnicalAnalysis));\nexport { RsiIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `StochasticIndicator` module is used to render stochastic indicator.\n */\nvar StochasticIndicator = /** @class */ (function (_super) {\n    __extends(StochasticIndicator, _super);\n    function StochasticIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series that represents the stochastic indicator\n     * @private\n     */\n    StochasticIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        var periodLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(periodLine, indicator, 'PeriodLine', indicator.periodLine.color, indicator.periodLine.width, chart);\n        if (indicator.showZones) {\n            var upperSeries = new Series(indicator, 'targetSeries', {}, true);\n            this.setSeriesProperties(upperSeries, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n            var lowerSeries = new Series(indicator, 'targetSeries', {}, true);\n            this.setSeriesProperties(lowerSeries, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n        }\n    };\n    /**\n     * Defines the predictions based on stochastic approach\n     * @private\n     */\n    StochasticIndicator.prototype.initDataSource = function (indicator, chart) {\n        var signalCollection = [];\n        var upperCollection = [];\n        var lowerCollection = [];\n        var periodCollection = [];\n        var source = [];\n        var sourceSeries = indicator.sourceSeries;\n        var point = {};\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            if (indicator.showZones) {\n                for (var i = 0; i < validData.length; i++) {\n                    upperCollection.push(this.getDataPoint(validData[i].x, indicator.overBought, validData[i], indicator.targetSeries[2], upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[i].x, indicator.overSold, validData[i], indicator.targetSeries[3], lowerCollection.length));\n                }\n            }\n            source = this.calculatePeriod(indicator.period, indicator.kPeriod, validData, indicator.targetSeries[1]);\n            periodCollection = this.smaCalculation(indicator.period, indicator.kPeriod, source, indicator.targetSeries[1]);\n            signalCollection = this.smaCalculation(indicator.period + indicator.kPeriod - 1, indicator.dPeriod, source, indicator.targetSeries[0]);\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n        this.setSeriesRange(periodCollection, indicator, indicator.targetSeries[1]);\n        if (indicator.showZones) {\n            this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[2]);\n            this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[3]);\n        }\n    };\n    /**\n     * Calculates the SMA Values\n     * @private\n     */\n    StochasticIndicator.prototype.smaCalculation = function (period, kPeriod, data, sourceSeries) {\n        var pointCollection = [];\n        if (data.length >= period + kPeriod) {\n            var count = period + (kPeriod - 1);\n            var temp = [];\n            var values = [];\n            for (var i = 0; i < data.length; i++) {\n                var value = Number(data[i].y);\n                temp.push(value);\n            }\n            var length_1 = temp.length;\n            while (length_1 >= count) {\n                var sum = 0;\n                for (var i = period - 1; i < (period + kPeriod - 1); i++) {\n                    sum = sum + temp[i];\n                }\n                sum = sum / kPeriod;\n                values.push(sum.toFixed(2));\n                temp.splice(0, 1);\n                length_1 = temp.length;\n            }\n            var len = count - 1;\n            for (var i = 0; i < data.length; i++) {\n                if (!(i < len)) {\n                    pointCollection.push(this.getDataPoint(data[i].x, Number(values[i - len]), data[i], sourceSeries, pointCollection.length));\n                    data[i].y = Number((values[i - len]));\n                }\n            }\n        }\n        return pointCollection;\n    };\n    /**\n     * Calculates the period line values.\n     * @private\n     */\n    StochasticIndicator.prototype.calculatePeriod = function (period, kPeriod, data, series) {\n        var lowValues = [];\n        var highValues = [];\n        var closeValues = [];\n        var modifiedSource = [];\n        for (var j = 0; j < data.length; j++) {\n            lowValues[j] = data[j].low;\n            highValues[j] = data[j].high;\n            closeValues[j] = data[j].close;\n        }\n        if (data.length > period) {\n            var totalPeriod = period + kPeriod;\n            var mins = [];\n            var maxs = [];\n            for (var i = 0; i < period - 1; ++i) {\n                maxs.push(0);\n                mins.push(0);\n                modifiedSource.push(this.getDataPoint(data[i].x, data[i].close, data[i], series, modifiedSource.length));\n            }\n            for (var i = period - 1; i < data.length; ++i) {\n                var min = Number.MAX_VALUE;\n                var max = Number.MIN_VALUE;\n                for (var j = 0; j < period; ++j) {\n                    min = Math.min(min, lowValues[i - j]);\n                    max = Math.max(max, highValues[i - j]);\n                }\n                maxs.push(max);\n                mins.push(min);\n            }\n            for (var i = period - 1; i < data.length; ++i) {\n                var top_1 = 0;\n                var bottom = 0;\n                top_1 += closeValues[i] - mins[i];\n                bottom += maxs[i] - mins[i];\n                modifiedSource.push(this.getDataPoint(data[i].x, (top_1 / bottom) * 100, data[i], series, modifiedSource.length));\n            }\n        }\n        return modifiedSource;\n    };\n    /**\n     * To destroy the Stocastic Indicator.\n     * @return {void}\n     * @private\n     */\n    StochasticIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the stochastic indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StochasticIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the indicator.\n         */\n        return 'StochasticIndicator';\n    };\n    return StochasticIndicator;\n}(TechnicalAnalysis));\nexport { StochasticIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `BollingerBands` module is used to render bollinger band indicator.\n */\nvar BollingerBands = /** @class */ (function (_super) {\n    __extends(BollingerBands, _super);\n    function BollingerBands() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the series collection to represent bollinger band\n     */\n    BollingerBands.prototype.initSeriesCollection = function (indicator, chart) {\n        indicator.targetSeries = [];\n        var rangeArea = new Series(indicator, 'targetSeries', {}, true);\n        rangeArea.type = 'RangeArea';\n        if (indicator.bandColor !== 'transparent' && indicator.bandColor !== 'none') {\n            this.setSeriesProperties(rangeArea, indicator, 'BollingerBand', indicator.bandColor, 0, chart);\n        }\n        var signalLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(signalLine, indicator, 'SignalLine', indicator.fill, indicator.width, chart);\n        var upperLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n        var lowerLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(lowerLine, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n    };\n    /**\n     * Defines the predictions using Bollinger Band Approach\n     * @private\n     */\n    BollingerBands.prototype.initDataSource = function (indicator, chart) {\n        var enableBand = indicator.bandColor !== 'transparent' && indicator.bandColor !== 'none';\n        var start = enableBand ? 1 : 0;\n        var signalCollection = [];\n        var upperCollection = [];\n        var lowerCollection = [];\n        var bandCollection = [];\n        var upperSeries = indicator.targetSeries[start + 1];\n        var lowerSeries = indicator.targetSeries[start + 2];\n        var signalSeries = indicator.targetSeries[start];\n        var rangeAreaSeries = enableBand ? indicator.targetSeries[0] : null;\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            var sum = 0;\n            var deviationSum = 0;\n            var multiplier = indicator.standardDeviation;\n            var limit = validData.length;\n            var length_1 = Math.round(indicator.period);\n            var smaPoints = [];\n            var deviations = [];\n            var bollingerPoints = [];\n            for (var i_1 = 0; i_1 < length_1; i_1++) {\n                sum += Number(validData[i_1].close);\n            }\n            var sma = sum / indicator.period;\n            for (var i_2 = 0; i_2 < limit; i_2++) {\n                var y = Number(validData[i_2].close);\n                if (i_2 >= length_1 - 1 && i_2 < limit) {\n                    if (i_2 - indicator.period >= 0) {\n                        var diff = y - Number(validData[i_2 - length_1].close);\n                        sum = sum + diff;\n                        sma = sum / (indicator.period);\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2] - deviations[i_2 - length_1];\n                    }\n                    else {\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2];\n                    }\n                    var range = Math.sqrt(deviationSum / (indicator.period));\n                    var lowerBand = smaPoints[i_2] - (multiplier * range);\n                    var upperBand = smaPoints[i_2] + (multiplier * range);\n                    if (i_2 + 1 === length_1) {\n                        for (var j_1 = 0; j_1 < length_1 - 1; j_1++) {\n                            bollingerPoints[j_1] = {\n                                'X': validData[j_1].x, 'mb': smaPoints[i_2],\n                                'lb': lowerBand, 'ub': upperBand, visible: true\n                            };\n                        }\n                    }\n                    bollingerPoints[i_2] = {\n                        'X': validData[i_2].x, 'mb': smaPoints[i_2],\n                        'lb': lowerBand, 'ub': upperBand, visible: true\n                    };\n                }\n                else {\n                    if (i_2 < indicator.period - 1) {\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2];\n                    }\n                }\n            }\n            var i = -1;\n            var j = -1;\n            for (var k = 0; k < limit; k++) {\n                if (k >= (length_1 - 1)) {\n                    var ub = 'ub';\n                    var lb = 'lb';\n                    var mb = 'mb';\n                    upperCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][ub], validData[k], upperSeries, upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][lb], validData[k], lowerSeries, lowerCollection.length));\n                    signalCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][mb], validData[k], signalSeries, signalCollection.length));\n                    if (enableBand) {\n                        bandCollection.push(this.getRangePoint(validData[k].x, upperCollection[++i].y, lowerCollection[++j].y, validData[k], rangeAreaSeries, bandCollection.length));\n                    }\n                }\n            }\n        }\n        if (enableBand) {\n            this.setSeriesRange(bandCollection, indicator, indicator.targetSeries[0]);\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[start]);\n        this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[start + 1]);\n        this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[start + 2]);\n    };\n    /**\n     * To destroy the Bollinger Band.\n     * @return {void}\n     * @private\n     */\n    BollingerBands.prototype.destroy = function (chart) {\n        /**\n         * Destroys the bollinger band\n         */\n    };\n    /**\n     * Get module name.\n     */\n    BollingerBands.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'BollingerBandsIndicator';\n    };\n    return BollingerBands;\n}(TechnicalAnalysis));\nexport { BollingerBands };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `MacdIndicator` module is used to render MACD indicator.\n */\nvar MacdIndicator = /** @class */ (function (_super) {\n    __extends(MacdIndicator, _super);\n    function MacdIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series to represent the MACD indicator\n     * @private\n     */\n    MacdIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        if (indicator.macdType === 'Line' || indicator.macdType === 'Both') {\n            var macdSeries = new Series(indicator, 'targetSeries', {}, true);\n            this.setSeriesProperties(macdSeries, indicator, 'MacdLine', indicator.macdLine.color, indicator.macdLine.width, chart);\n        }\n        if (indicator.macdType === 'Histogram' || indicator.macdType === 'Both') {\n            var histogramSeries = new Series(indicator, 'targetSeries', {}, true);\n            histogramSeries.type = 'Column';\n            this.setSeriesProperties(histogramSeries, indicator, 'Histogram', indicator.macdPositiveColor, indicator.width, chart);\n        }\n    };\n    /**\n     * Defines the predictions using MACD approach\n     * @private\n     */\n    MacdIndicator.prototype.initDataSource = function (indicator, chart) {\n        var signalCollection = [];\n        var fastPeriod = indicator.fastPeriod;\n        var slowPeriod = indicator.slowPeriod;\n        var trigger = indicator.period;\n        var length = fastPeriod + trigger;\n        var macdCollection = [];\n        var histogramCollection = [];\n        var validData = indicator.points;\n        var signalSeries = indicator.targetSeries[0];\n        var histogramSeries;\n        var macdLineSeries;\n        if (indicator.macdType === 'Histogram') {\n            histogramSeries = indicator.targetSeries[1];\n        }\n        else {\n            macdLineSeries = indicator.targetSeries[1];\n            if (indicator.macdType === 'Both') {\n                histogramSeries = indicator.targetSeries[2];\n            }\n        }\n        if (validData && length < validData.length && slowPeriod <= fastPeriod &&\n            slowPeriod > 0 && (length - 2) >= 0) {\n            var shortEMA = this.calculateEMAValues(slowPeriod, validData, 'close');\n            var longEMA = this.calculateEMAValues(fastPeriod, validData, 'close');\n            var macdValues = this.getMACDVales(indicator, shortEMA, longEMA);\n            macdCollection = this.getMACDPoints(indicator, macdValues, validData, macdLineSeries || signalSeries);\n            var signalEMA = this.calculateEMAValues(trigger, macdCollection, 'y');\n            signalCollection = this.getSignalPoints(indicator, signalEMA, validData, signalSeries);\n            if (histogramSeries) {\n                histogramCollection = this.getHistogramPoints(indicator, macdValues, signalEMA, validData, histogramSeries);\n            }\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n        if (histogramSeries) {\n            this.setSeriesRange(histogramCollection, indicator, histogramSeries);\n        }\n        if (macdLineSeries) {\n            this.setSeriesRange(macdCollection, indicator, macdLineSeries);\n        }\n    };\n    /**\n     * Calculates the EMA values for the given period\n     */\n    MacdIndicator.prototype.calculateEMAValues = function (period, validData, field) {\n        var sum = 0;\n        var initialEMA = 0;\n        var emaValues = [];\n        var emaPercent = (2 / (period + 1));\n        for (var i = 0; i < period; i++) {\n            sum += Number(validData[i][field]);\n        }\n        initialEMA = (sum / period);\n        emaValues.push(initialEMA);\n        var emaAvg = initialEMA;\n        for (var j = period; j < validData.length; j++) {\n            emaAvg = (Number(validData[j][field]) - emaAvg) * emaPercent + emaAvg;\n            emaValues.push(emaAvg);\n        }\n        return emaValues;\n    };\n    /**\n     * Defines the MACD Points\n     */\n    MacdIndicator.prototype.getMACDPoints = function (indicator, macdPoints, validData, series) {\n        var macdCollection = [];\n        var dataMACDIndex = indicator.fastPeriod - 1;\n        var macdIndex = 0;\n        while (dataMACDIndex < validData.length) {\n            macdCollection.push(this.getDataPoint(validData[dataMACDIndex].x, macdPoints[macdIndex], validData[dataMACDIndex], series, macdCollection.length));\n            dataMACDIndex++;\n            macdIndex++;\n        }\n        return macdCollection;\n    };\n    /**\n     * Calculates the signal points\n     */\n    MacdIndicator.prototype.getSignalPoints = function (indicator, signalEma, validData, series) {\n        var dataSignalIndex = indicator.fastPeriod + indicator.period - 2;\n        var signalIndex = 0;\n        var signalCollection = [];\n        while (dataSignalIndex < validData.length) {\n            signalCollection.push(this.getDataPoint(validData[dataSignalIndex].x, signalEma[signalIndex], validData[dataSignalIndex], series, signalCollection.length));\n            dataSignalIndex++;\n            signalIndex++;\n        }\n        return signalCollection;\n    };\n    /**\n     * Calculates the MACD values\n     */\n    MacdIndicator.prototype.getMACDVales = function (indicator, shortEma, longEma) {\n        var macdPoints = [];\n        var diff = indicator.fastPeriod - indicator.slowPeriod;\n        for (var i = 0; i < longEma.length; i++) {\n            macdPoints.push((shortEma[i + diff] - longEma[i]));\n        }\n        return macdPoints;\n    };\n    /**\n     * Calculates the Histogram Points\n     */\n    MacdIndicator.prototype.getHistogramPoints = function (indicator, macdPoints, signalEma, validData, series) {\n        var dataHistogramIndex = indicator.fastPeriod + indicator.period - 2;\n        var histogramIndex = 0;\n        var histogramCollection = [];\n        while (dataHistogramIndex < validData.length) {\n            histogramCollection.push(this.getDataPoint(validData[dataHistogramIndex].x, macdPoints[histogramIndex + (indicator.period - 1)] - signalEma[histogramIndex], validData[dataHistogramIndex], series, histogramCollection.length, indicator));\n            dataHistogramIndex++;\n            histogramIndex++;\n        }\n        return histogramCollection;\n    };\n    /**\n     * To destroy the MACD Indicator.\n     * @return {void}\n     * @private\n     */\n    MacdIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the MACD indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    MacdIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'MacdIndicator';\n    };\n    return MacdIndicator;\n}(TechnicalAnalysis));\nexport { MacdIndicator };\n","import { Series, Points } from '../series/chart-series';\nimport { findClipRect, RectOption } from '../../common/utils/helper';\n/**\n * `Trendline` module is used to render 6 types of trendlines in chart.\n */\nvar Trendlines = /** @class */ (function () {\n    function Trendlines() {\n    }\n    /**\n     * Defines the collection of series, that are used to represent a trendline\n     * @private\n     */\n    Trendlines.prototype.initSeriesCollection = function (trendline, chart) {\n        var trendLineSeries = new Series(trendline, 'targetSeries', {}, true);\n        if (trendline.type === 'Linear' || trendline.type === 'MovingAverage') {\n            trendLineSeries.type = 'Line';\n        }\n        else {\n            trendLineSeries.type = 'Spline';\n        }\n        this.setSeriesProperties(trendLineSeries, trendline, trendline.type, trendline.fill, trendline.width, chart);\n    };\n    /**\n     * Initializes the properties of the trendline series\n     */\n    Trendlines.prototype.setSeriesProperties = function (series, trendline, name, fill, width, chart) {\n        series.name = trendline.name;\n        series.xName = 'x';\n        series.yName = 'y';\n        series.fill = fill || 'blue';\n        series.width = width;\n        series.clipRectElement = trendline.clipRectElement;\n        series.points = [];\n        series.enableTooltip = trendline.enableTooltip;\n        series.index = trendline.index;\n        series.sourceIndex = trendline.sourceIndex;\n        series.interior = series.fill;\n        series.animation = trendline.animation;\n        series.legendShape = 'HorizontalLine';\n        series.marker = trendline.marker;\n        series.category = 'TrendLine';\n        series.chart = chart;\n        series.xMin = Infinity;\n        series.xMax = -Infinity;\n        series.yMin = Infinity;\n        series.yMax = -Infinity;\n        series.xData = [];\n        series.yData = [];\n        trendline.targetSeries = series;\n    };\n    /**\n     * Creates the elements of a trendline\n     */\n    Trendlines.prototype.createTrendLineElements = function (chart, trendline, index, element, clipRectElement) {\n        trendline.trendLineElement = element;\n        trendline.targetSeries.clipRectElement = clipRectElement;\n        trendline.targetSeries.seriesElement = element;\n        chart.trendLineElements.appendChild(trendline.trendLineElement);\n    };\n    /**\n     * Defines the data point of trendline\n     */\n    Trendlines.prototype.getDataPoint = function (x, y, sourcePoint, series, index) {\n        var trendPoint = new Points();\n        trendPoint.x = x;\n        trendPoint.y = y;\n        trendPoint.xValue = Number(x);\n        trendPoint.color = series.fill;\n        trendPoint.index = index;\n        trendPoint.yValue = Number(y);\n        trendPoint.visible = true;\n        series.xMin = Math.min(series.xMin, trendPoint.xValue);\n        series.yMin = Math.min(series.yMin, trendPoint.yValue);\n        series.xMax = Math.max(series.xMax, trendPoint.xValue);\n        series.yMax = Math.max(series.yMax, trendPoint.yValue);\n        series.xData.push(trendPoint.xValue);\n        return trendPoint;\n    };\n    /**\n     * Finds the slope and intercept of trendline\n     */\n    Trendlines.prototype.findSlopeIntercept = function (xValues, yValues, trendline, points) {\n        var xAvg = 0;\n        var yAvg = 0;\n        var xyAvg = 0;\n        var xxAvg = 0;\n        var yyAvg = 0;\n        var index = 0;\n        var slope = 0;\n        var intercept = 0;\n        while (index < points.length) {\n            xAvg += xValues[index];\n            yAvg += yValues[index];\n            xyAvg += xValues[index] * yValues[index];\n            xxAvg += xValues[index] * xValues[index];\n            yyAvg += yValues[index] * yValues[index];\n            index++;\n        }\n        var type = trendline.type;\n        if (trendline.intercept && (type === 'Linear' || type === 'Exponential')) {\n            intercept = trendline.intercept;\n            switch (type) {\n                case 'Linear':\n                    slope = ((xyAvg) - (trendline.intercept * xAvg)) / xxAvg;\n                    break;\n                case 'Exponential':\n                    slope = ((xyAvg) - (Math.log(Math.abs(trendline.intercept)) * xAvg)) / xxAvg;\n                    break;\n            }\n        }\n        else {\n            slope = ((points.length * xyAvg) - (xAvg * yAvg)) / ((points.length * xxAvg) - (xAvg * xAvg));\n            if (type === 'Exponential' || type === 'Power') {\n                intercept = Math.exp((yAvg - (slope * xAvg)) / points.length);\n            }\n            else {\n                intercept = (yAvg - (slope * xAvg)) / points.length;\n            }\n        }\n        return { slope: slope, intercept: intercept };\n    };\n    /**\n     * Defines the points to draw the trendlines\n     */\n    Trendlines.prototype.initDataSource = function (trendline, chart) {\n        var points = trendline.points;\n        if (points && points.length) {\n            //prepare data\n            var trendlineSeries = trendline.targetSeries;\n            switch (trendline.type) {\n                case 'Linear':\n                    this.setLinearRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Exponential':\n                    this.setExponentialRange(points, trendline, trendlineSeries);\n                    break;\n                case 'MovingAverage':\n                    this.setMovingAverageRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Polynomial':\n                    this.setPolynomialRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Power':\n                    this.setPowerRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Logarithmic':\n                    this.setLogarithmicRange(points, trendline, trendlineSeries);\n                    break;\n            }\n            if (trendline.type !== 'Linear' && trendline.type !== 'MovingAverage') {\n                trendlineSeries.chart.splineSeriesModule.findSplinePoint(trendlineSeries);\n            }\n        }\n    };\n    /**\n     * Calculation of exponential points\n     */\n    Trendlines.prototype.setExponentialRange = function (points, trendline, series) {\n        var xValue = [];\n        var yValue = [];\n        var index = 0;\n        var slopeIntercept;\n        while (index < points.length) {\n            var point = points[index];\n            xValue.push(point.xValue);\n            yValue.push(Math.log(point.yValue));\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xValue, yValue, trendline, points);\n        series.points = this.getExponentialPoints(trendline, points, xValue, yValue, series, slopeIntercept);\n    };\n    /**\n     * Calculation of logarithmic points\n     */\n    Trendlines.prototype.setLogarithmicRange = function (points, trendline, series) {\n        var xLogValue = [];\n        var yLogValue = [];\n        var xPointsLgr = [];\n        var slopeIntercept;\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xPointsLgr.push(point.xValue);\n            xLogValue.push(Math.log(point.xValue));\n            yLogValue.push(point.yValue);\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xLogValue, yLogValue, trendline, points);\n        series.points = this.getLogarithmicPoints(trendline, points, xPointsLgr, yLogValue, series, slopeIntercept);\n    };\n    /**\n     * Calculation of polynomial points\n     */\n    Trendlines.prototype.setPolynomialRange = function (points, trendline, series) {\n        var xPolyValues = [];\n        var yPolyValues = [];\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xPolyValues.push(point.xValue);\n            yPolyValues.push(point.yValue);\n            index++;\n        }\n        series.points = this.getPolynomialPoints(trendline, points, xPolyValues, yPolyValues, series);\n    };\n    /**\n     * Calculation of power points\n     */\n    Trendlines.prototype.setPowerRange = function (points, trendline, series) {\n        var xValues = [];\n        var yValues = [];\n        var powerPoints = [];\n        var slopeIntercept;\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            powerPoints.push(point.xValue);\n            xValues.push(Math.log(point.xValue));\n            yValues.push(Math.log(point.yValue));\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xValues, yValues, trendline, points);\n        series.points = this.getPowerPoints(trendline, points, powerPoints, yValues, series, slopeIntercept);\n    };\n    /**\n     * Calculation of linear points\n     */\n    Trendlines.prototype.setLinearRange = function (points, trendline, series) {\n        var xValues = [];\n        var yValues = [];\n        var slopeIntercept;\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xValues.push(point.xValue);\n            yValues.push(point.yValue);\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xValues, yValues, trendline, points);\n        series.points = this.getLinearPoints(trendline, points, xValues, yValues, series, slopeIntercept);\n    };\n    /**\n     * Calculation of moving average points\n     */\n    Trendlines.prototype.setMovingAverageRange = function (points, trendline, series) {\n        var xValues = [];\n        var yValues = [];\n        var xAvgValues = [];\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xAvgValues.push(point.xValue);\n            xValues.push(index + 1);\n            yValues.push(point.yValue);\n            index++;\n        }\n        series.points = this.getMovingAveragePoints(trendline, points, xAvgValues, yValues, series);\n    };\n    /**\n     * Calculation of logarithmic points\n     */\n    Trendlines.prototype.getLogarithmicPoints = function (trendline, points, xValues, yValues, series, slopeInterceptLog) {\n        var midPoint = Math.round((points.length / 2));\n        var pts = [];\n        var x1Log = xValues[0] - trendline.backwardForecast;\n        var y1Log = slopeInterceptLog.intercept + (slopeInterceptLog.slope * Math.log(x1Log));\n        var x2Log = xValues[midPoint - 1];\n        var y2Log = slopeInterceptLog.intercept + (slopeInterceptLog.slope * Math.log(x2Log));\n        var x3Log = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y3Log = slopeInterceptLog.intercept + (slopeInterceptLog.slope * Math.log(x3Log));\n        pts.push(this.getDataPoint(x1Log, y1Log, points[0], series, pts.length));\n        pts.push(this.getDataPoint(x2Log, y2Log, points[midPoint - 1], series, pts.length));\n        pts.push(this.getDataPoint(x3Log, y3Log, points[points.length - 1], series, pts.length));\n        return pts;\n    };\n    /**\n     * Defines the points based on data point\n     */\n    Trendlines.prototype.getPowerPoints = function (trendline, points, xValues, yValues, series, slopeInterceptPower) {\n        var midPoint = Math.round((points.length / 2));\n        var pts = [];\n        var x1 = xValues[0] - trendline.backwardForecast;\n        x1 = x1 > -1 ? x1 : 0;\n        var y1 = slopeInterceptPower.intercept * Math.pow(x1, slopeInterceptPower.slope);\n        var x2 = xValues[midPoint - 1];\n        var y2 = slopeInterceptPower.intercept * Math.pow(x2, slopeInterceptPower.slope);\n        var x3 = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y3 = slopeInterceptPower.intercept * Math.pow(x3, slopeInterceptPower.slope);\n        pts.push(this.getDataPoint(x1, y1, points[0], series, pts.length));\n        pts.push(this.getDataPoint(x2, y2, points[midPoint - 1], series, pts.length));\n        pts.push(this.getDataPoint(x3, y3, points[points.length - 1], series, pts.length));\n        return pts;\n    };\n    /**\n     * Get the polynomial points based on polynomial slopes\n     */\n    Trendlines.prototype.getPolynomialPoints = function (trendline, points, xValues, yValues, series) {\n        var midPoint = Math.round((points.length / 2));\n        var pts = [];\n        var polynomialOrder = points.length <= trendline.polynomialOrder ? points.length : trendline.polynomialOrder;\n        polynomialOrder = Math.max(2, polynomialOrder);\n        polynomialOrder = Math.min(6, polynomialOrder);\n        trendline.polynomialOrder = polynomialOrder;\n        trendline.polynomialSlopes = [];\n        trendline.polynomialSlopes.length = trendline.polynomialOrder + 1;\n        var index = 0;\n        while (index < xValues.length) {\n            var xVal = xValues[index];\n            var yVal = yValues[index];\n            var subIndex = 0;\n            while (subIndex <= trendline.polynomialOrder) {\n                if (!trendline.polynomialSlopes[subIndex]) {\n                    trendline.polynomialSlopes[subIndex] = 0;\n                }\n                trendline.polynomialSlopes[subIndex] += Math.pow(xVal, subIndex) * yVal;\n                ++subIndex;\n            }\n            index++;\n        }\n        var numArray = [];\n        numArray.length = 1 + 2 * trendline.polynomialOrder;\n        var matrix = [];\n        matrix.length = trendline.polynomialOrder + 1;\n        var newIndex = 0;\n        while (newIndex < (trendline.polynomialOrder + 1)) {\n            matrix[newIndex] = [];\n            matrix[newIndex].length = 3;\n            newIndex++;\n        }\n        var nIndex = 0;\n        var num1 = 0;\n        while (nIndex < xValues.length) {\n            var d = xValues[nIndex];\n            var num2 = 1.0;\n            var nIndex2 = 0;\n            while (nIndex2 < numArray.length) {\n                if (!numArray[nIndex2]) {\n                    numArray[nIndex2] = 0;\n                }\n                numArray[nIndex2] += num2;\n                num2 *= d;\n                ++num1;\n                ++nIndex2;\n            }\n            ++nIndex;\n        }\n        var nnIndex = 0;\n        while (nnIndex <= trendline.polynomialOrder) {\n            var nnIndex2 = 0;\n            while (nnIndex2 <= trendline.polynomialOrder) {\n                matrix[nnIndex][nnIndex2] = numArray[nnIndex + nnIndex2];\n                ++nnIndex2;\n            }\n            ++nnIndex;\n        }\n        if (!this.gaussJordanElimination(matrix, trendline.polynomialSlopes)) {\n            trendline.polynomialSlopes = null;\n        }\n        pts = this.getPoints(trendline, points, xValues, yValues, series);\n        return pts;\n    };\n    /**\n     * Defines the moving average points\n     */\n    Trendlines.prototype.getMovingAveragePoints = function (trendline, points, xValues, yValues, series) {\n        var pts = [];\n        var period = trendline.period >= points.length ? points.length - 1 : trendline.period;\n        period = Math.max(2, period);\n        var index = 0;\n        var y;\n        var x;\n        var count;\n        var nullCount;\n        while (index < points.length - 1) {\n            y = count = nullCount = 0;\n            for (var j = index; count < period; j++) {\n                count++;\n                if (!yValues[j]) {\n                    nullCount++;\n                }\n                y += yValues[j];\n            }\n            y = period - nullCount <= 0 ? null : y / (period - nullCount);\n            if (y && !isNaN(y)) {\n                x = xValues[period - 1 + index];\n                pts.push(this.getDataPoint(x, y, points[period - 1 + index], series, pts.length));\n            }\n            index++;\n        }\n        return pts;\n    };\n    /**\n     * Defines the linear points\n     */\n    Trendlines.prototype.getLinearPoints = function (trendline, points, xValues, yValues, series, slopeInterceptLinear) {\n        var pts = [];\n        var x1Linear = xValues[0] - trendline.backwardForecast;\n        var y1Linear = slopeInterceptLinear.slope * x1Linear + slopeInterceptLinear.intercept;\n        var x2Linear = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y2Linear = slopeInterceptLinear.slope * x2Linear + slopeInterceptLinear.intercept;\n        pts.push(this.getDataPoint(x1Linear, y1Linear, points[0], series, pts.length));\n        pts.push(this.getDataPoint(x2Linear, y2Linear, points[points.length - 1], series, pts.length));\n        return pts;\n    };\n    /**\n     * Defines the exponential points\n     */\n    Trendlines.prototype.getExponentialPoints = function (trendline, points, xValues, yValues, series, slopeInterceptExp) {\n        var midPoint = Math.round((points.length / 2));\n        var ptsExp = [];\n        var x1 = xValues[0] - trendline.backwardForecast;\n        var y1 = slopeInterceptExp.intercept * Math.exp(slopeInterceptExp.slope * x1);\n        var x2 = xValues[midPoint - 1];\n        var y2 = slopeInterceptExp.intercept * Math.exp(slopeInterceptExp.slope * x2);\n        var x3 = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y3 = slopeInterceptExp.intercept * Math.exp(slopeInterceptExp.slope * x3);\n        ptsExp.push(this.getDataPoint(x1, y1, points[0], series, ptsExp.length));\n        ptsExp.push(this.getDataPoint(x2, y2, points[midPoint - 1], series, ptsExp.length));\n        ptsExp.push(this.getDataPoint(x3, y3, points[points.length - 1], series, ptsExp.length));\n        return ptsExp;\n    };\n    /**\n     * Defines the points based on data point\n     */\n    Trendlines.prototype.getPoints = function (trendline, points, xValues, yValues, series) {\n        var midPoint = Math.round((points.length / 2));\n        var polynomialSlopes = trendline.polynomialSlopes;\n        var pts = [];\n        var x1 = 1;\n        var index = 1;\n        var xValue;\n        var yValue;\n        while (index <= polynomialSlopes.length) {\n            if (index === 1) {\n                xValue = xValues[0] - trendline.backwardForecast;\n                yValue = this.getPolynomialYValue(polynomialSlopes, xValue);\n                pts.push(this.getDataPoint(xValue, yValue, points[0], series, pts.length));\n            }\n            else if (index === polynomialSlopes.length) {\n                xValue = xValues[points.length - 1] + trendline.forwardForecast;\n                yValue = this.getPolynomialYValue(polynomialSlopes, xValue);\n                pts.push(this.getDataPoint(xValue, yValue, points[points.length - 1], series, pts.length));\n            }\n            else {\n                x1 += (points.length + trendline.forwardForecast) / polynomialSlopes.length;\n                xValue = xValues[parseInt(x1.toString(), 10) - 1];\n                yValue = this.getPolynomialYValue(polynomialSlopes, xValue);\n                pts.push(this.getDataPoint(xValue, yValue, points[parseInt(x1.toString(), 10) - 1], series, pts.length));\n            }\n            index++;\n        }\n        return pts;\n    };\n    /**\n     * Defines the polynomial value of y\n     */\n    Trendlines.prototype.getPolynomialYValue = function (slopes, x) {\n        var sum = 0;\n        var index = 0;\n        while (index < slopes.length) {\n            sum += slopes[index] * Math.pow(x, index);\n            index++;\n        }\n        return sum;\n    };\n    /**\n     * Defines the gauss jordan elimination\n     */\n    Trendlines.prototype.gaussJordanElimination = function (matrix, polynomialSlopes) {\n        var length = matrix.length;\n        var numArray1 = [];\n        var numArray2 = [];\n        var numArray3 = [];\n        numArray1.length = length;\n        numArray2.length = length;\n        numArray3.length = length;\n        var index = 0;\n        while (index < length) {\n            numArray3[index] = 0;\n            ++index;\n        }\n        var index1 = 0;\n        while (index1 < length) {\n            var num1 = 0;\n            var index2 = 0;\n            var index3 = 0;\n            var index4 = 0;\n            while (index4 < length) {\n                if (numArray3[index4] !== 1) {\n                    var index5 = 0;\n                    while (index5 < length) {\n                        if (numArray3[index5] === 0 && Math.abs(matrix[index4][index5]) >= num1) {\n                            num1 = Math.abs(matrix[index4][index5]);\n                            index2 = index4;\n                            index3 = index5;\n                        }\n                        ++index5;\n                    }\n                }\n                ++index4;\n            }\n            ++numArray3[index3];\n            if (index2 !== index3) {\n                var index4_1 = 0;\n                while (index4_1 < length) {\n                    var num2 = matrix[index2][index4_1];\n                    matrix[index2][index4_1] = matrix[index3][index4_1];\n                    matrix[index3][index4_1] = num2;\n                    ++index4_1;\n                }\n                var num3 = polynomialSlopes[index2];\n                polynomialSlopes[index2] = polynomialSlopes[index3];\n                polynomialSlopes[index3] = num3;\n            }\n            numArray2[index1] = index2;\n            numArray1[index1] = index3;\n            if (matrix[index3][index3] === 0.0) {\n                return false;\n            }\n            var num4 = 1.0 / matrix[index3][index3];\n            matrix[index3][index3] = 1.0;\n            var iindex4 = 0;\n            while (iindex4 < length) {\n                matrix[index3][iindex4] *= num4;\n                ++iindex4;\n            }\n            polynomialSlopes[index3] *= num4;\n            var iandex4 = 0;\n            while (iandex4 < length) {\n                if (iandex4 !== index3) {\n                    var num2 = matrix[iandex4][index3];\n                    matrix[iandex4][index3] = 0.0;\n                    var index5 = 0;\n                    while (index5 < length) {\n                        matrix[iandex4][index5] -= matrix[index3][index5] * num2;\n                        ++index5;\n                    }\n                    polynomialSlopes[iandex4] -= polynomialSlopes[index3] * num2;\n                }\n                ++iandex4;\n            }\n            ++index1;\n        }\n        var iindex1 = length - 1;\n        while (iindex1 >= 0) {\n            if (numArray2[iindex1] !== numArray1[iindex1]) {\n                var iindex2 = 0;\n                while (iindex2 < length) {\n                    var num = matrix[iindex2][numArray2[iindex1]];\n                    matrix[iindex2][numArray2[iindex1]] = matrix[iindex2][numArray1[iindex1]];\n                    matrix[iindex2][numArray1[iindex1]] = num;\n                    ++iindex2;\n                }\n            }\n            --iindex1;\n        }\n        return true;\n    };\n    /**\n     * Defines the trendline elements\n     */\n    Trendlines.prototype.getTrendLineElements = function (series, chart) {\n        findClipRect(series);\n        var clipRect = series.clipRect;\n        var clipRectElement = chart.renderer.drawClipPath(new RectOption(chart.element.id + '_ChartTrendlineClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n            x: 0, y: 0, width: clipRect.width,\n            height: clipRect.height,\n        }));\n        var element;\n        element = chart.renderer.createGroup({\n            'id': chart.element.id + 'TrendlineSeriesGroup' + series.index,\n            'transform': 'translate(' + clipRect.x + ',' + clipRect.y + ')',\n            'clip-path': 'url(#' + chart.element.id + '_ChartTrendlineClipRect_' + series.index + ')'\n        });\n        //defines the clip rect element\n        element.appendChild(clipRectElement);\n        for (var _i = 0, _a = series.trendlines; _i < _a.length; _i++) {\n            var trendline = _a[_i];\n            this.createTrendLineElements(chart, trendline, trendline.index, element, clipRectElement);\n        }\n    };\n    /**\n     * To destroy the trendline\n     */\n    Trendlines.prototype.destroy = function (chart) {\n        /**\n         * Destroys the Linear Trendline\n         */\n    };\n    /**\n     * Get module name\n     */\n    Trendlines.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'TrendLine';\n    };\n    return Trendlines;\n}());\nexport { Trendlines };\n","import { Animation, Browser } from '@syncfusion/ej2-base';\nimport { measureText, findDirection, textElement, getValueXByPoint, stopTimer, getValueYByPoint, TextOption, Rect, ChartLocation, PathOption, withInBounds, removeElement } from '../../common/utils/helper';\n/**\n * `Crosshair` module is used to render the crosshair for chart.\n */\nvar Crosshair = /** @class */ (function () {\n    /**\n     * Constructor for crosshair module.\n     * @private\n     */\n    function Crosshair(chart) {\n        this.arrowLocation = new ChartLocation(0, 0);\n        this.rx = 2;\n        this.ry = 2;\n        this.chart = chart;\n        this.elementID = this.chart.element.id;\n        this.addEventListener();\n    }\n    /**\n     * @hidden\n     */\n    Crosshair.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n        this.chart.on(cancelEvent, this.mouseLeaveHandler, this);\n        this.chart.on('tapHold', this.longPress, this);\n    };\n    Crosshair.prototype.mouseUpHandler = function () {\n        if (this.chart.startMove) {\n            this.removeCrosshair(2000);\n        }\n    };\n    Crosshair.prototype.mouseLeaveHandler = function () {\n        this.removeCrosshair(1000);\n    };\n    Crosshair.prototype.mouseMoveHandler = function (event) {\n        var chart = this.chart;\n        if (event.type === 'touchmove' && (Browser.isIos || Browser.isIos7) && chart.startMove && event.preventDefault) {\n            event.preventDefault();\n        }\n        // Tooltip for chart series.\n        if (!chart.disableTrackTooltip) {\n            if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                if (chart.startMove || !chart.isTouch) {\n                    this.crosshair();\n                }\n            }\n            else {\n                this.removeCrosshair(1000);\n            }\n        }\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Crosshair.prototype.longPress = function () {\n        var chart = this.chart;\n        if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            this.crosshair();\n        }\n        return false;\n    };\n    /**\n     * Renders the crosshair.\n     * @return {void}\n     */\n    Crosshair.prototype.crosshair = function () {\n        var chart = this.chart;\n        var horizontalCross = '';\n        var verticalCross = '';\n        var options;\n        var crosshair = chart.crosshair;\n        var chartRect = chart.chartAxisLayoutPanel.seriesClipRect;\n        var crossGroup = document.getElementById(this.elementID + '_UserInteraction');\n        this.stopAnimation();\n        if (chart.tooltip.enable && !withInBounds(chart.tooltipModule.valueX, chart.tooltipModule.valueY, chartRect)) {\n            return null;\n        }\n        this.valueX = chart.tooltip.enable ? chart.tooltipModule.valueX : chart.mouseX;\n        this.valueY = chart.tooltip.enable ? chart.tooltipModule.valueY : chart.mouseY;\n        crossGroup.setAttribute('opacity', '1');\n        if (crosshair.lineType === 'Both' || crosshair.lineType === 'Horizontal') {\n            horizontalCross += 'M ' + chartRect.x + ' ' + this.valueY +\n                ' L ' + (chartRect.x + chartRect.width) + ' ' + this.valueY;\n        }\n        if (crosshair.lineType === 'Both' || crosshair.lineType === 'Vertical') {\n            verticalCross += 'M ' + this.valueX + ' ' + chartRect.y +\n                ' L ' + this.valueX + ' ' + (chartRect.y + chartRect.height);\n        }\n        if (crossGroup.childNodes.length === 0) {\n            var axisTooltipGroup = chart.renderer.createGroup({ 'id': this.elementID + '_crosshair_axis' });\n            options = new PathOption(this.elementID + '_HorizontalLine', 'none', crosshair.line.width, crosshair.line.color || chart.themeStyle.crosshairLine, 1, null, horizontalCross);\n            this.renderCrosshairLine(options, crossGroup);\n            options.d = verticalCross;\n            options.id = this.elementID + '_VerticalLine';\n            this.renderCrosshairLine(options, crossGroup);\n            crossGroup.appendChild(axisTooltipGroup);\n            this.renderAxisTooltip(chart, chartRect, crossGroup.lastChild);\n        }\n        else {\n            document.getElementById(this.elementID + '_HorizontalLine').setAttribute('d', horizontalCross);\n            document.getElementById(this.elementID + '_VerticalLine').setAttribute('d', verticalCross);\n            this.renderAxisTooltip(chart, chartRect, crossGroup.lastChild);\n        }\n    };\n    Crosshair.prototype.renderCrosshairLine = function (options, crossGroup) {\n        var htmlObject = this.chart.renderer.drawPath(options);\n        crossGroup.appendChild(htmlObject);\n    };\n    Crosshair.prototype.renderAxisTooltip = function (chart, chartRect, axisGroup) {\n        var axis;\n        var text;\n        var rect;\n        var pathElement;\n        var textElem;\n        var options;\n        var padding = 5;\n        var direction;\n        var axisRect;\n        for (var k = 0, length_1 = chart.axisCollections.length; k < length_1; k++) {\n            axis = chart.axisCollections[k];\n            axisRect = !axis.placeNextToAxisLine ? axis.rect : axis.updatedRect;\n            if (axis.crosshairTooltip.enable) {\n                if ((this.valueX <= (axisRect.x + axisRect.width) && axisRect.x <= this.valueX) ||\n                    (this.valueY <= (axisRect.y + axisRect.height) && axisRect.y <= this.valueY)) {\n                    pathElement = document.getElementById(this.elementID + '_axis_tooltip_' + k);\n                    textElem = document.getElementById(this.elementID + '_axis_tooltip_text_' + k);\n                    text = this.getAxisText(axis);\n                    if (!text) {\n                        continue;\n                    }\n                    rect = this.tooltipLocation(text, axis, chartRect, axisRect);\n                    if (pathElement === null) {\n                        pathElement = chart.renderer.drawPath({\n                            'id': this.elementID + '_axis_tooltip_' + k,\n                            'fill': axis.crosshairTooltip.fill || chart.themeStyle.crosshairFill\n                        });\n                        axisGroup.appendChild(pathElement);\n                        options = new TextOption(this.elementID + '_axis_tooltip_text_' + k, 0, 0, 'start', text);\n                        textElem = textElement(options, axis.crosshairTooltip.textStyle, axis.crosshairTooltip.textStyle.color || chart.themeStyle.crosshairLabel, axisGroup);\n                    }\n                    direction = findDirection(this.rx, this.ry, rect, this.arrowLocation, 10, this.isTop, this.isBottom, this.isLeft, this.valueX, this.valueY);\n                    pathElement.setAttribute('d', direction);\n                    textElem.textContent = text;\n                    textElem.setAttribute('x', (rect.x + padding).toString());\n                    textElem.setAttribute('y', (rect.y + padding + 3 * this.elementSize.height / 4).toString());\n                }\n                else {\n                    removeElement(this.elementID + '_axis_tooltip_' + k);\n                    removeElement(this.elementID + '_axis_tooltip_text_' + k);\n                }\n            }\n        }\n    };\n    Crosshair.prototype.getAxisText = function (axis) {\n        var value;\n        this.isBottom = false;\n        this.isTop = false;\n        this.isLeft = false;\n        this.isRight = false;\n        var labelValue = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks')\n            ? 0.5 : 0;\n        if (axis.orientation === 'Horizontal') {\n            value = getValueXByPoint(Math.abs(this.valueX - axis.rect.x), axis.rect.width, axis) + labelValue;\n            this.isBottom = !axis.opposedPosition;\n            this.isTop = axis.opposedPosition;\n        }\n        else {\n            value = getValueYByPoint(Math.abs(this.valueY - axis.rect.y), axis.rect.height, axis) + labelValue;\n            this.isRight = axis.opposedPosition;\n            this.isLeft = !axis.opposedPosition;\n        }\n        if (axis.valueType === 'DateTime') {\n            return axis.format(new Date(value));\n        }\n        else if (axis.valueType === 'Category') {\n            return axis.labels[Math.floor(value)];\n        }\n        else if (axis.valueType === 'Logarithmic') {\n            return value = axis.format(Math.pow(axis.logBase, value));\n        }\n        else {\n            var customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            return customLabelFormat ? axis.labelFormat.replace('{value}', axis.format(value)) : axis.format(value);\n        }\n    };\n    Crosshair.prototype.tooltipLocation = function (text, axis, bounds, axisRect) {\n        var isBottom = false;\n        var isLeft = false;\n        var padding = 5;\n        var arrowPadding = 10;\n        var tooltipRect;\n        var boundsX = bounds.x;\n        var boundsY = bounds.y;\n        var islabelInside = axis.labelPosition === 'Inside';\n        this.elementSize = measureText(text, axis.crosshairTooltip.textStyle);\n        if (axis.orientation === 'Horizontal') {\n            var yLocation = islabelInside ? axisRect.y - this.elementSize.height - (padding * 2 + arrowPadding) : axisRect.y;\n            var height = islabelInside ? axisRect.y - this.elementSize.height - arrowPadding : axisRect.y + arrowPadding;\n            this.arrowLocation = new ChartLocation(this.valueX, yLocation);\n            tooltipRect = new Rect((this.valueX - (this.elementSize.width / 2) - padding), height, this.elementSize.width + padding * 2, this.elementSize.height + padding * 2);\n            if (axis.opposedPosition) {\n                tooltipRect.y = islabelInside ? axisRect.y : axisRect.y - (this.elementSize.height + padding * 2 + arrowPadding);\n            }\n            if (tooltipRect.x < boundsX) {\n                tooltipRect.x = boundsX;\n            }\n            if (tooltipRect.x + tooltipRect.width > boundsX + bounds.width) {\n                tooltipRect.x -= ((tooltipRect.x + tooltipRect.width) - (boundsX + bounds.width));\n            }\n            if (this.arrowLocation.x + arrowPadding / 2 > tooltipRect.x + tooltipRect.width - this.rx) {\n                this.arrowLocation.x = tooltipRect.x + tooltipRect.width - this.rx - arrowPadding / 2;\n            }\n            if (this.arrowLocation.x - arrowPadding / 2 < tooltipRect.x + this.rx) {\n                this.arrowLocation.x = tooltipRect.x + this.rx + arrowPadding / 2;\n            }\n        }\n        else {\n            this.arrowLocation = new ChartLocation(axisRect.x, this.valueY);\n            var width = islabelInside ? axisRect.x : axisRect.x - (this.elementSize.width) - (padding * 2 + arrowPadding);\n            tooltipRect = new Rect(width, this.valueY - (this.elementSize.height / 2) - padding, this.elementSize.width + (padding * 2), this.elementSize.height + padding * 2);\n            if (axis.opposedPosition) {\n                tooltipRect.x = islabelInside ? axisRect.x - this.elementSize.width - arrowPadding : axisRect.x + arrowPadding;\n                if ((tooltipRect.x + tooltipRect.width) > this.chart.availableSize.width) {\n                    this.arrowLocation.x -= ((tooltipRect.x + tooltipRect.width) - this.chart.availableSize.width);\n                    tooltipRect.x -= ((tooltipRect.x + tooltipRect.width) - this.chart.availableSize.width);\n                }\n            }\n            else {\n                if (tooltipRect.x < 0) {\n                    this.arrowLocation.x -= tooltipRect.x;\n                    tooltipRect.x = 0;\n                }\n            }\n            if (tooltipRect.y < boundsY) {\n                tooltipRect.y = boundsY;\n            }\n            if (tooltipRect.y + tooltipRect.height >= boundsY + bounds.height) {\n                tooltipRect.y -= ((tooltipRect.y + tooltipRect.height) - (boundsY + bounds.height));\n            }\n            if (this.arrowLocation.y + arrowPadding / 2 > tooltipRect.y + tooltipRect.height - this.ry) {\n                this.arrowLocation.y = tooltipRect.y + tooltipRect.height - this.ry - arrowPadding / 2;\n            }\n            if (this.arrowLocation.y - arrowPadding / 2 < tooltipRect.y + this.ry) {\n                this.arrowLocation.y = tooltipRect.y + this.ry + arrowPadding / 2;\n            }\n        }\n        return tooltipRect;\n    };\n    Crosshair.prototype.stopAnimation = function () {\n        stopTimer(this.crosshairInterval);\n    };\n    /**\n     * Removes the crosshair on mouse leave.\n     * @return {void}\n     * @private\n     */\n    Crosshair.prototype.removeCrosshair = function (duration) {\n        var chart = this.chart;\n        var crosshair = document.getElementById(this.elementID + '_UserInteraction');\n        this.stopAnimation();\n        if (crosshair && crosshair.getAttribute('opacity') !== '0') {\n            this.crosshairInterval = setTimeout(function () {\n                new Animation({}).animate(crosshair, {\n                    duration: 200,\n                    progress: function (args) {\n                        // crosshair.removeAttribute('e-animate');\n                        crosshair.style.animation = '';\n                        crosshair.setAttribute('opacity', (1 - (args.timeStamp / args.duration)).toString());\n                    },\n                    end: function (model) {\n                        crosshair.setAttribute('opacity', '0');\n                        chart.startMove = false;\n                        if (chart.tooltipModule) {\n                            chart.tooltipModule.valueX = null;\n                            chart.tooltipModule.valueY = null;\n                        }\n                    }\n                });\n            }, duration);\n        }\n    };\n    /**\n     * Get module name.\n     */\n    Crosshair.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Crosshair';\n    };\n    /**\n     * To destroy the crosshair.\n     * @return {void}\n     * @private\n     */\n    Crosshair.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Crosshair;\n}());\nexport { Crosshair };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, extend, Browser } from '@syncfusion/ej2-base';\nimport { Animation, compile as templateComplier } from '@syncfusion/ej2-base';\nimport { measureText, TextOption, Size, Rect, ChartLocation, textElement } from '../../common/utils/helper';\nimport { findDirection, stopTimer, removeElement } from '../../common/utils/helper';\nimport { ChartData } from '../../chart/utils/get-data';\nimport { tooltipRender } from '../../common/model/constants';\nimport { Theme } from '../../common/model/theme';\n/**\n * Tooltip Module used to render the tooltip for series.\n */\nvar BaseTooltip = /** @class */ (function (_super) {\n    __extends(BaseTooltip, _super);\n    /**\n     * Constructor for tooltip module.\n     * @private.\n     */\n    function BaseTooltip(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.padding = 5;\n        _this.arrowPadding = 12;\n        _this.rx = 2;\n        _this.ry = 2;\n        _this.markerPoint = [];\n        _this.element = _this.chart.element;\n        _this.textStyle = chart.tooltip.textStyle;\n        _this.control = chart;\n        return _this;\n    }\n    BaseTooltip.prototype.getElement = function (id) {\n        return document.getElementById(id);\n    };\n    /**\n     * Renders the tooltip.\n     * @return {void}\n     * @private\n     */\n    BaseTooltip.prototype.getTooltipElement = function (isTooltip) {\n        this.inverted = this.chart.requireInvertedAxis;\n        this.updateTemplateFn(this.control);\n        this.formattedText = [];\n        this.header = (this.control.tooltip.header === null) ?\n            ((this.control.tooltip.shared) ? '<b>${point.x}</b>' : '<b>${series.name}</b>')\n            : (this.control.tooltip.header);\n        if (!isTooltip) {\n            var elementCollection = document.getElementsByClassName('ejSVGTooltip');\n            for (var i = elementCollection.length - 1; i >= 0; i--) {\n                if (!this.getElement(this.element.id).contains(elementCollection[i])) {\n                    elementCollection[i].remove();\n                }\n            }\n            return this.createElement(this.control);\n        }\n        return null;\n    };\n    BaseTooltip.prototype.createElement = function (chart) {\n        this.textElements = [];\n        var tooltipDiv = document.createElement('div');\n        tooltipDiv.id = this.element.id + '_tooltip';\n        tooltipDiv.className = 'ejSVGTooltip';\n        tooltipDiv.setAttribute('style', 'pointer-events:none; position:absolute;z-index: 1');\n        if (!chart.tooltip.template || chart.tooltip.shared) {\n            // SVG element for tooltip\n            var svgObject = chart.renderer.createSvg({ id: this.element.id + '_tooltip_svg' });\n            tooltipDiv.appendChild(svgObject);\n            // Group to hold text and path.\n            var groupElement = chart.renderer.createGroup({ id: this.element.id + '_tooltip_group' });\n            svgObject.appendChild(groupElement);\n            var pathElement = chart.renderer.drawPath({\n                'id': this.element.id + '_tooltip_path', 'stroke-width': chart.tooltip.border.width,\n                'fill': chart.tooltip.fill || chart.themeStyle.tooltipFill, 'opacity': chart.tooltip.opacity,\n                'stroke': chart.tooltip.border.color\n            });\n            groupElement.appendChild(pathElement);\n        }\n        return tooltipDiv;\n    };\n    BaseTooltip.prototype.pushData = function (data, isFirst, tooltipDiv, isChart) {\n        if (data.series.enableTooltip) {\n            if (isChart) {\n                this.currentPoints.push(data);\n            }\n            else {\n                this.currentPoints.push(data);\n            }\n            this.stopAnimation();\n            if (isFirst) {\n                document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n            }\n            return true;\n        }\n        return false;\n    };\n    BaseTooltip.prototype.renderTooltip = function (data, areaRect, location, textCollection, isFirst, cartesain) {\n        if (this.triggerEvent(data, isFirst, textCollection)) {\n            this.renderText(isFirst, this.control);\n            this.removeHighlight(this.control);\n            this.highlightPoints(data);\n            return this.renderTooltipElement(this.control, data, areaRect, location, cartesain, isFirst);\n        }\n        else {\n            this.removeHighlight(this.control);\n            this.getElement(this.element.id + '_tooltip').remove();\n            return null;\n        }\n    };\n    BaseTooltip.prototype.renderTemplate = function (data, rect, location, point, isFirst) {\n        this.removeHighlight(this.control);\n        this.createTemplate(point, data, rect, location, this.getElement(this.element.id + '_tooltip'), isFirst);\n    };\n    BaseTooltip.prototype.renderTooltipElement = function (chart, pointData, areaRect, location, cartesain, isFirst) {\n        var tooltipDiv = this.getElement(this.element.id + '_tooltip');\n        var arrowLocation = new ChartLocation(0, 0);\n        var tipLocation = new ChartLocation(0, 0);\n        var textHeights;\n        var svgObject = this.getElement(this.element.id + '_tooltip_svg');\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var pathElement = this.getElement(this.element.id + '_tooltip_path');\n        var rect;\n        var isTop = false;\n        var isLeft = false;\n        var isBottom = false;\n        var x = 0;\n        var y = 0;\n        this.tipRadius = 1;\n        var series = pointData.series;\n        if (this.header !== '') {\n            this.elementSize.height += 5;\n        }\n        if (this.currentPoints.length > 1) {\n            this.arrowPadding = 0;\n            rect = this.sharedTooltipLocation(areaRect, this.valueX, this.valueY);\n            isTop = true;\n        }\n        else {\n            this.arrowPadding = 12;\n            rect = this.seriesTooltipLocation(pointData, areaRect, location, arrowLocation, tipLocation);\n            if (!this.inverted || !series.isRectSeries) {\n                isTop = (rect.y < (location.y + (cartesain ? series.clipRect.y : 0)));\n                isBottom = !isTop;\n                y = (isTop ? 0 : this.arrowPadding);\n            }\n            else {\n                isLeft = (rect.x < (location.x + series.clipRect.x));\n                x = (isLeft ? 0 : this.arrowPadding);\n            }\n        }\n        if (this.header !== '') {\n            var headerSize = measureText(this.header, chart.tooltip.textStyle).height + (this.padding * 2) +\n                (isBottom ? this.arrowPadding : 0); //header padding;\n            var xLength = (this.padding * 3) + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0);\n            var direction = 'M ' + xLength + ' ' + headerSize +\n                'L ' + (rect.width + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0) - (this.padding * 2)) +\n                ' ' + headerSize;\n            var pathElement_1 = this.chart.renderer.drawPath({\n                'id': this.element.id + '_header_path', 'stroke-width': 1,\n                'fill': null, 'opacity': 0.8, 'stroke': chart.themeStyle.tooltipHeaderLine, 'd': direction\n            });\n            groupElement.appendChild(pathElement_1);\n        }\n        var start = chart.tooltip.border.width / 2;\n        var pointRect = new Rect(start + x, start + y, rect.width - start, rect.height - start);\n        groupElement.setAttribute('opacity', '1');\n        if (chart.tooltip.enableAnimation && !chart.tooltip.shared && !isFirst && !this.isComplete) {\n            this.animateTooltipDiv(tooltipDiv, rect);\n        }\n        else {\n            this.updateDiv(tooltipDiv, rect.x, rect.y);\n        }\n        this.isComplete = false;\n        svgObject.setAttribute('height', (rect.height + chart.tooltip.border.width + (!((!this.inverted) ||\n            (!pointData.series.isRectSeries)) ? 0 : this.arrowPadding)).toString());\n        svgObject.setAttribute('width', (rect.width + chart.tooltip.border.width + (((!this.inverted) ||\n            (!pointData.series.isRectSeries)) ? 0 : this.arrowPadding)).toString());\n        svgObject.setAttribute('opacity', '1');\n        pathElement.setAttribute('d', findDirection(this.rx, this.ry, pointRect, arrowLocation, this.arrowPadding, isTop, isBottom, isLeft, tipLocation.x, tipLocation.y, this.tipRadius));\n        pathElement.setAttribute('filter', Browser.isIE ? '' : 'url(#chart_shadow_tooltip)');\n        var shadowElement = '<filter id=\"chart_shadow_tooltip\" height=\"130%\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\"/>';\n        shadowElement += '<feOffset dx=\"3\" dy=\"3\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"0.5\"/>';\n        shadowElement += '</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n        var defElement = chart.renderer.createDefs();\n        defElement.setAttribute('id', 'chart_tooltip_definition');\n        groupElement.appendChild(defElement);\n        defElement.innerHTML = shadowElement;\n        pathElement.setAttribute('stroke', chart.tooltip.border.color);\n        this.changeText(new ChartLocation(x, y), isBottom, !isLeft && !isTop && !isBottom, rect);\n        return new Side(isBottom, !isLeft && !isTop && !isBottom);\n    };\n    BaseTooltip.prototype.changeText = function (point, isBottom, isRight, rect) {\n        var element = document.getElementById(this.element.id + '_tooltip_text');\n        if (isBottom) {\n            element.setAttribute('transform', 'translate(0,' + this.arrowPadding + ')');\n        }\n        if (isRight) {\n            element.setAttribute('transform', 'translate(' + this.arrowPadding + ' 0)');\n        }\n    };\n    BaseTooltip.prototype.renderText = function (isRender, chart) {\n        var height = 0;\n        var width = 0; // Padding for text;\n        var subWidth = 0;\n        var size;\n        var lines;\n        var key = 'properties';\n        var font = extend({}, this.chart.tooltip.textStyle, null, true)[key];\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var tspanElement;\n        var tspanStyle = '';\n        var line;\n        var tspanOption;\n        this.header = this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim();\n        var headerSpace = (this.header !== '' && this.formattedText[0] !== '') ? 5 : 0;\n        var isRow = true;\n        var isColumn = true;\n        this.markerPoint = [];\n        var markerSize = 10;\n        var spaceWidth = 4;\n        var dy = (22 / parseFloat(Theme.tooltipLabelFont.size)) * (parseFloat(font.size));\n        if (!isRender) {\n            removeElement(this.element.id + '_tooltip_text');\n            removeElement(this.element.id + '_header_path');\n            removeElement(this.element.id + '_tooltip_trackball_group');\n            removeElement('chart_tooltip_definition');\n        }\n        var options = new TextOption(this.element.id + '_tooltip_text', this.padding * 2, this.padding * 4, 'start', '');\n        var parentElement = textElement(options, font, null, groupElement, false);\n        for (var k = 0, pointsLength = this.formattedText.length; k < pointsLength; k++) {\n            var textCollection = this.formattedText[k].replace(/<(b|strong)>/g, '<b>')\n                .replace(/<\\/(b|strong)>/g, '</b>')\n                .split(/<br.*?>/g);\n            size = measureText(this.formattedText[k], font);\n            if ((k !== 0) || (this.header === '')) {\n                this.markerPoint.push((this.header !== '' ? (this.padding) : 0) + options.y + height);\n            }\n            for (var i = 0, len = textCollection.length; i < len; i++) {\n                lines = textCollection[i].replace(/<b>/g, '<br><b>').replace(/<\\/b>/g, '</b><br>').split('<br>');\n                subWidth = 0;\n                isColumn = true;\n                height += dy;\n                for (var k_1 = 0, len_1 = lines.length; k_1 < len_1; k_1++) {\n                    line = lines[k_1];\n                    if (line.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n                        subWidth += spaceWidth;\n                        if (isColumn && !isRow) {\n                            tspanOption = { x: (this.padding * 2) + (markerSize + 5), dy: dy + ((isColumn) ? headerSpace : 0), fill: '' };\n                            headerSpace = null;\n                        }\n                        else {\n                            if (isRow && isColumn) {\n                                tspanOption = { x: (this.header === '') ? ((this.padding * 2) + (markerSize + 5)) : (this.padding * 2) };\n                            }\n                            else {\n                                tspanOption = {};\n                            }\n                        }\n                        isColumn = false;\n                        tspanElement = chart.renderer.createTSpan(tspanOption, '');\n                        parentElement.appendChild(tspanElement);\n                        if (line.indexOf('<b>') > -1) {\n                            tspanStyle = 'font-weight:bold';\n                            font.fontWeight = 'bold';\n                            (tspanElement).setAttribute('fill', chart.tooltip.textStyle.color || chart.themeStyle.tooltipBoldLabel);\n                        }\n                        else {\n                            tspanStyle = '';\n                            font.fontWeight = 'Normal';\n                            (tspanElement).setAttribute('fill', chart.tooltip.textStyle.color || chart.themeStyle.tooltipLightLabel);\n                        }\n                        (tspanElement).textContent = line = line.replace(/<[a-zA-Z\\/](.|\\n)*?>/g, '');\n                        subWidth += measureText(line, font).width;\n                        if (tspanStyle !== '') {\n                            tspanElement.setAttribute('style', tspanStyle);\n                        }\n                        isRow = false;\n                    }\n                }\n                subWidth -= spaceWidth;\n                width = Math.max(width, subWidth);\n            }\n        }\n        height -= (this.header ? this.padding : 0);\n        this.elementSize = new Size(width + (width > 0 ? (2 * this.padding) : 0), height + (this.header !== '' ? this.padding : 0));\n        this.elementSize.width += (markerSize + 5); // marker size + marker Spacing\n        var element = (parentElement.childNodes[0]);\n        if (this.header !== '' && element) {\n            font.fontWeight = 'bold';\n            var width_1 = (this.elementSize.width + (2 * this.padding)) / 2 - measureText(this.header, font).width / 2;\n            element.setAttribute('x', width_1.toString());\n        }\n    };\n    BaseTooltip.prototype.createTemplate = function (point, data, areaRect, location, parent, isFirst) {\n        var chart = this.control;\n        this.highlightPoints(data);\n        var argsData = { cancel: false, name: tooltipRender, point: data.point, series: data.series, };\n        this.chart.trigger(tooltipRender, argsData);\n        var firstElement = this.getElement(this.element.id + '_tooltip').firstChild;\n        if (firstElement) {\n            firstElement.remove();\n        }\n        if (!argsData.cancel) {\n            var templateElement = this.templateFn(point);\n            var elem = createElement('div');\n            while (templateElement.length > 0) {\n                elem.appendChild(templateElement[0]);\n            }\n            parent.appendChild(elem);\n            var rect = parent.getBoundingClientRect();\n            this.padding = 0;\n            this.elementSize = new Size(rect.width, rect.height);\n            var tooltipRect = this.seriesTooltipLocation(data, areaRect, location, new ChartLocation(0, 0), new ChartLocation(0, 0));\n            if (chart.tooltip.enableAnimation && !chart.tooltip.shared && !isFirst && !this.isComplete) {\n                this.animateTooltipDiv(parent, tooltipRect);\n            }\n            else {\n                this.updateDiv(parent, tooltipRect.x, tooltipRect.y);\n            }\n            this.isComplete = false;\n        }\n        else {\n            this.removeHighlight(chart);\n            this.getElement(this.element.id + '_tooltip').remove();\n        }\n    };\n    BaseTooltip.prototype.sharedTooltipLocation = function (bounds, x, y) {\n        var width = this.elementSize.width + (2 * this.padding);\n        var height = this.elementSize.height + (2 * this.padding);\n        var tooltipRect = new Rect(x + 2 * this.padding, y - height - this.padding, width, height);\n        if (tooltipRect.y < bounds.y) {\n            tooltipRect.y += (tooltipRect.height + 2 * this.padding);\n        }\n        if (tooltipRect.x + tooltipRect.width > bounds.x + bounds.width) {\n            tooltipRect.x -= (tooltipRect.width + 4 * this.padding);\n        }\n        return tooltipRect;\n    };\n    BaseTooltip.prototype.seriesTooltipLocation = function (pointData, bounds, symbolLocation, arrowLocation, tipLocation) {\n        var series = pointData.series;\n        var location = new ChartLocation(symbolLocation.x, symbolLocation.y);\n        if (series.type === 'RangeArea' && pointData.point.regions[0]) {\n            if (!series.chart.requireInvertedAxis) {\n                location.y = pointData.point.regions[0].y + pointData.point.regions[0].height / 2;\n            }\n            else {\n                location.x = pointData.point.regions[0].x + pointData.point.regions[0].width / 2;\n            }\n        }\n        var width = this.elementSize.width + (2 * this.padding);\n        var height = this.elementSize.height + (2 * this.padding);\n        var markerHeight = 0;\n        if (!series.isRectSeries) {\n            var chartSeries = pointData.series;\n            markerHeight = (this.chart.tooltip.shared || chartSeries.marker.visible || series.type === 'Scatter'\n                || chartSeries.drawType === 'Scatter') ? ((chartSeries.marker.height + 2) / 2 + (2 * chartSeries.marker.border.width)) : 0;\n        }\n        var clipX = this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.x;\n        var clipY = this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.y;\n        var boundsX = bounds.x;\n        var boundsY = bounds.y;\n        if (!this.inverted || !series.isRectSeries) {\n            location.y = (series.type === 'Waterfall' && pointData.point.y < 0) ?\n                location.y - pointData.point.regions[0].height : location.y;\n            location = new ChartLocation(location.x + clipX - this.elementSize.width / 2 - this.padding, location.y + clipY - this.elementSize.height - (2 * this.padding) - this.arrowPadding - markerHeight);\n            arrowLocation.x = tipLocation.x = width / 2;\n            if (location.y < boundsY || (series.isRectSeries && pointData.point.y < 0 && series.type !== 'Waterfall')) {\n                location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + clipY + markerHeight;\n            }\n            if (location.y + height + this.arrowPadding > boundsY + bounds.height) {\n                location.y = (symbolLocation.y > bounds.height ? bounds.height : symbolLocation.y)\n                    + clipY - this.elementSize.height - (2 * this.padding) - this.arrowPadding - markerHeight;\n            }\n            tipLocation.x = width / 2;\n            if (location.x < boundsX) {\n                arrowLocation.x -= (boundsX - location.x);\n                tipLocation.x -= (boundsX - location.x);\n                location.x = boundsX;\n            }\n            if (location.x + width > boundsX + bounds.width) {\n                arrowLocation.x += ((location.x + width) - (boundsX + bounds.width));\n                tipLocation.x += ((location.x + width) - (boundsX + bounds.width));\n                location.x -= ((location.x + width) - (boundsX + bounds.width));\n            }\n            if (arrowLocation.x + this.arrowPadding / 2 > width - this.rx) {\n                arrowLocation.x = width - this.rx - this.arrowPadding / 2;\n                tipLocation.x = width;\n                this.tipRadius = 0;\n            }\n            if (arrowLocation.x - this.arrowPadding / 2 < this.rx) {\n                arrowLocation.x = this.rx + this.arrowPadding / 2;\n                tipLocation.x = 0;\n                this.tipRadius = 0;\n            }\n        }\n        else {\n            location.x = (series.type === 'Waterfall' && pointData.point.y < 0) ?\n                location.x + pointData.point.regions[0].width : location.x;\n            location = new ChartLocation(location.x + clipX + markerHeight, location.y + clipY - this.elementSize.height / 2 - (this.padding));\n            arrowLocation.y = tipLocation.y = height / 2;\n            if ((location.x + width + this.arrowPadding > boundsX + bounds.width) || (series.isRectSeries &&\n                pointData.point.y < 0 && series.type !== 'Waterfall')) {\n                location.x = (symbolLocation.x > bounds.width ? bounds.width : symbolLocation.x)\n                    + clipX - markerHeight - (width + this.arrowPadding);\n            }\n            if (location.x < boundsX) {\n                location.x = (symbolLocation.x < 0 ? 0 : symbolLocation.x) + clipX + markerHeight;\n            }\n            if (location.y <= boundsY) {\n                arrowLocation.y -= (boundsY - location.y);\n                tipLocation.y -= (boundsY - location.y);\n                location.y = boundsY;\n            }\n            if (location.y + height >= boundsY + bounds.height) {\n                arrowLocation.y += ((location.y + height) - (boundsY + bounds.height));\n                tipLocation.y += ((location.y + height) - (boundsY + bounds.height));\n                location.y -= ((location.y + height) - (boundsY + bounds.height));\n            }\n            if (arrowLocation.y + this.arrowPadding / 2 > height - this.ry) {\n                arrowLocation.y = height - this.ry - this.arrowPadding / 2;\n                tipLocation.y = height;\n                this.tipRadius = 0;\n            }\n            if (arrowLocation.y - this.arrowPadding / 2 < this.ry) {\n                arrowLocation.y = this.ry + this.arrowPadding / 2;\n                tipLocation.y = 0;\n                this.tipRadius = 0;\n            }\n        }\n        return new Rect(location.x, location.y, width, height);\n    };\n    /*\n   * @hidden\n   */\n    BaseTooltip.prototype.progressAnimation = function (element, tooltipGroup, series, opacity, rectOpacity, timeStamp, isRect, shared) {\n        tooltipGroup.style.animation = '';\n        tooltipGroup.setAttribute('opacity', (opacity - timeStamp).toString());\n        if (element && isRect && !shared) {\n            element.setAttribute('opacity', (rectOpacity + (rectOpacity * timeStamp)).toString());\n        }\n    };\n    /*\n     * @hidden\n     */\n    BaseTooltip.prototype.endAnimation = function (element, tooltipGroup, series, shared) {\n        this.currentPoints = [];\n        if (element && series.isRectSeries) {\n            element.setAttribute('opacity', series.opacity.toString());\n        }\n        this.removeHighlight(this.control);\n        tooltipGroup.setAttribute('opacity', '0');\n        if (this.control.tooltip.template && !shared) {\n            tooltipGroup.style.display = 'none';\n        }\n        this.isComplete = true;\n        this.control.trigger('animationComplete', {});\n    };\n    BaseTooltip.prototype.removeHighlight = function (chart) {\n        var item;\n        var series;\n        for (var i = 0, len = this.previousPoints.length; i < len; i++) {\n            item = this.previousPoints[i];\n            if (item.series.isRectSeries) {\n                if (item.series.visible) {\n                    this.highlightPoint(item.series, item.point.index, false);\n                }\n                continue;\n            }\n            series = item.series;\n            if (!series.marker.visible && item.series.type !== 'Scatter' && item.series.type !== 'Bubble') {\n                this.previousPoints.shift();\n                len -= 1;\n            }\n        }\n    };\n    BaseTooltip.prototype.highlightPoint = function (series, pointIndex, highlight) {\n        var element = this.getElement(this.element.id + '_Series_' + series.index + '_Point_' + pointIndex);\n        if (element) {\n            element.setAttribute('opacity', (highlight ? series.opacity / 2 : series.opacity).toString());\n        }\n    };\n    BaseTooltip.prototype.highlightPoints = function (item) {\n        if (item.series.isRectSeries) {\n            this.highlightPoint(item.series, item.point.index, true);\n            return null;\n        }\n    };\n    BaseTooltip.prototype.animateTooltipDiv = function (tooltipDiv, rect) {\n        var _this = this;\n        var x = parseFloat(tooltipDiv.style.left);\n        var y = parseFloat(tooltipDiv.style.top);\n        var currenDiff;\n        new Animation({}).animate(tooltipDiv, {\n            duration: 300,\n            progress: function (args) {\n                currenDiff = (args.timeStamp / args.duration);\n                tooltipDiv.style.animation = null;\n                tooltipDiv.style.left = (x + currenDiff * (rect.x - x)) + 'px';\n                tooltipDiv.style.top = (y + currenDiff * (rect.y - y)) + 'px';\n            },\n            end: function (model) {\n                _this.updateDiv(tooltipDiv, rect.x, rect.y);\n            }\n        });\n    };\n    BaseTooltip.prototype.updateDiv = function (tooltipDiv, x, y) {\n        tooltipDiv.style.left = x + 'px';\n        tooltipDiv.style.top = y + 'px';\n    };\n    BaseTooltip.prototype.triggerEvent = function (point, isFirst, textCollection, firstText) {\n        if (firstText === void 0) { firstText = true; }\n        var argsData = {\n            cancel: false, name: tooltipRender, text: textCollection,\n            point: point.point, series: point.series, textStyle: this.textStyle\n        };\n        this.chart.trigger(tooltipRender, argsData);\n        if (!argsData.cancel) {\n            if (point.series.type === 'BoxAndWhisker') {\n                this.removeText();\n                isFirst = true;\n            }\n            this.formattedText = this.formattedText.concat(argsData.text);\n        }\n        return !argsData.cancel;\n    };\n    BaseTooltip.prototype.removeText = function () {\n        this.textElements = [];\n        var element = this.getElement(this.element.id + '_tooltip_group');\n        if (element.childNodes.length > 0) {\n            while (element.lastChild && element.childNodes.length !== 1) {\n                element.removeChild(element.lastChild);\n            }\n        }\n    };\n    BaseTooltip.prototype.updateTemplateFn = function (chart) {\n        if (chart.tooltip.template) {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(chart.tooltip.template).length) {\n                    this.templateFn = templateComplier(document.querySelector(chart.tooltip.template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                this.templateFn = templateComplier(chart.tooltip.template);\n            }\n        }\n    };\n    BaseTooltip.prototype.stopAnimation = function () {\n        stopTimer(this.toolTipInterval);\n    };\n    return BaseTooltip;\n}(ChartData));\nexport { BaseTooltip };\nvar Side = /** @class */ (function () {\n    function Side(bottom, right) {\n        this.isRight = right;\n        this.isBottom = bottom;\n    }\n    return Side;\n}());\nexport { Side };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend, Browser } from '@syncfusion/ej2-base';\nimport { Animation } from '@syncfusion/ej2-base';\nimport { Size, PointData, ChartLocation } from '../../common/utils/helper';\nimport { drawSymbol, PathOption, valueToCoefficient, removeElement, valueToPolarCoefficient, withInBounds } from '../../common/utils/helper';\nimport { BaseTooltip } from '../../common/user-interaction/tooltip';\n/**\n * `Tooltip` module is used to render the tooltip for chart series.\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for tooltip module.\n     * @private.\n     */\n    function Tooltip(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Tooltip.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(cancelEvent, this.mouseLeaveHandler, this);\n        this.chart.on('tapHold', this.longPress, this);\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    Tooltip.prototype.mouseUpHandler = function () {\n        var chart = this.control;\n        if (chart.isTouch && !this.isSelected(chart) &&\n            ((withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect) && chart.tooltip.shared)\n                || !chart.tooltip.shared)) {\n            if (!chart.crosshair.enable) {\n                this.tooltip();\n                this.removeTooltip(2000);\n            }\n            else if (chart.startMove) {\n                this.removeTooltip(2000);\n            }\n        }\n    };\n    Tooltip.prototype.mouseLeaveHandler = function () {\n        this.removeTooltip(1000);\n    };\n    Tooltip.prototype.mouseMoveHandler = function () {\n        var chart = this.chart;\n        // Tooltip for chart series.\n        if (!chart.disableTrackTooltip && !this.isSelected(chart)) {\n            if (!chart.tooltip.shared && (!chart.isTouch || (chart.startMove))) {\n                this.tooltip();\n            }\n            if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                if (chart.tooltip.shared && (!chart.isTouch || (chart.startMove))) {\n                    this.tooltip();\n                }\n            }\n            else {\n                if (chart.tooltip.shared) {\n                    this.removeTooltip(1000);\n                }\n            }\n        }\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Tooltip.prototype.longPress = function () {\n        var chart = this.chart;\n        if (chart.crosshair.enable && withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            this.tooltip();\n        }\n        return false;\n    };\n    /**\n     * Renders the tooltip.\n     * @return {void}\n     */\n    Tooltip.prototype.tooltip = function () {\n        var isTooltip = this.getElement(this.element.id + '_tooltip');\n        var tooltipDiv = this.getTooltipElement(isTooltip);\n        if (!this.chart.tooltip.shared) {\n            this.renderSeriesTooltip(this.chart, !isTooltip, tooltipDiv);\n        }\n        else {\n            this.renderGroupedTooltip(this.chart, !isTooltip, tooltipDiv);\n        }\n    };\n    Tooltip.prototype.findHeader = function (data) {\n        this.header = this.parseTemplate(data.point, data.series, this.header, data.series.xAxis, data.series.yAxis);\n        if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n            this.formattedText = this.formattedText.concat(this.header);\n        }\n    };\n    Tooltip.prototype.renderSeriesTooltip = function (chart, isFirst, tooltipDiv) {\n        var data = this.getData();\n        var markerSide;\n        data.lierIndex = this.lierIndex;\n        var rect = chart.chartAxisLayoutPanel.seriesClipRect;\n        this.currentPoints = [];\n        if (this.findData(data, this.previousPoints[0])) {\n            if (this.pushData(data, isFirst, tooltipDiv, true)) {\n                var text = this.getTooltipText(data);\n                if (!chart.tooltip.template) {\n                    if (this.header !== '') {\n                        this.findHeader(data);\n                    }\n                    markerSide = this.renderTooltip(data, rect, this.getSymbolLocation(data), text, isFirst, chart.chartAreaType === 'Cartesian');\n                    if (markerSide) {\n                        this.drawMarker(markerSide.isBottom, markerSide.isRight, 10);\n                    }\n                }\n                else {\n                    this.renderTemplate(data, rect, this.getSymbolLocation(data), this.getTemplateText(data), isFirst);\n                }\n                this.isRemove = true;\n            }\n            this.previousPoints = extend([], this.currentPoints, null, true);\n        }\n        else {\n            if (!data.point && this.isRemove) {\n                this.removeTooltip(1000);\n                this.isRemove = false;\n            }\n            else {\n                for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                    var series = _a[_i];\n                    if (series.visible) {\n                        data = this.getClosestX(chart, series) || data;\n                    }\n                }\n            }\n        }\n        if (data && data.point) {\n            this.findMouseValue(data, chart);\n        }\n    };\n    Tooltip.prototype.findData = function (data, previous) {\n        return data.point && ((!previous || (previous.point !== data.point)) ||\n            (previous && previous.lierIndex > 3 && previous.lierIndex !== this.lierIndex));\n    };\n    Tooltip.prototype.getSymbolLocation = function (data) {\n        return data.series.type === 'BoxAndWhisker' ?\n            this.getBoxLocation(data) : data.point.symbolLocations[0];\n    };\n    Tooltip.prototype.getTooltipText = function (pointData) {\n        var series = pointData.series;\n        var text;\n        return this.parseTemplate(pointData.point, series, this.getFormat(this.chart, series), series.xAxis, series.yAxis);\n    };\n    Tooltip.prototype.getTemplateText = function (data) {\n        var point = extend({}, data.point);\n        point.x = this.formatPointValue(data.point, data.series.xAxis, 'x', true, false);\n        if ((data.series.seriesType === 'XY')) {\n            point.y = this.formatPointValue(data.point, data.series.yAxis, 'y', false, true);\n        }\n        else {\n            point.low = this.formatPointValue(data.point, data.series.yAxis, 'low', false, true);\n            point.high = this.formatPointValue(data.point, data.series.yAxis, 'high', false, true);\n        }\n        return point;\n    };\n    Tooltip.prototype.findMouseValue = function (data, chart) {\n        if (!chart.requireInvertedAxis) {\n            if (chart.chartAreaType === 'PolarRadar') {\n                this.valueX = valueToPolarCoefficient(data.point.xValue, data.series.xAxis) * data.series.xAxis.rect.width\n                    + data.series.xAxis.rect.x;\n            }\n            else {\n                this.valueX = valueToCoefficient(data.point.xValue, data.series.xAxis) * data.series.xAxis.rect.width\n                    + data.series.xAxis.rect.x;\n            }\n            this.valueY = chart.mouseY;\n        }\n        else {\n            this.valueY = (1 - valueToCoefficient(data.point.xValue, data.series.xAxis)) * data.series.xAxis.rect.height\n                + data.series.xAxis.rect.y;\n            this.valueX = chart.mouseX;\n        }\n    };\n    Tooltip.prototype.renderGroupedTooltip = function (chart, isFirst, tooltipDiv) {\n        var data;\n        var height = 0;\n        var width = 0;\n        var pointData = chart.chartAreaType === 'PolarRadar' ? this.getData() : null;\n        this.stopAnimation();\n        this.removeHighlight(chart);\n        this.currentPoints = [];\n        var extraPoints = [];\n        var markerSide;\n        if (isFirst) {\n            document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n        }\n        this.removeText();\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (!series.enableTooltip) {\n                continue;\n            }\n            if (chart.chartAreaType === 'Cartesian' && series.visible) {\n                data = this.getClosestX(chart, series);\n            }\n            else if (chart.chartAreaType === 'PolarRadar' && series.visible && pointData.point !== null) {\n                data = new PointData(series.points[pointData.point.index], series);\n            }\n            if (data && this.header !== '' && this.currentPoints.length === 0) {\n                this.findHeader(data);\n            }\n            if (data && this.triggerEvent(data, isFirst, this.getTooltipText(data))) {\n                if (series.category === 'Series') {\n                    this.highlightPoints(data);\n                }\n                this.findMouseValue(data, chart);\n                this.currentPoints.push(data);\n                data = null;\n            }\n            else if (data) {\n                extraPoints.push(data);\n            }\n        }\n        if (this.currentPoints.length > 0) {\n            this.renderText(isFirst, chart);\n            markerSide = this.renderTooltipElement(chart, this.currentPoints[0], chart.chartAxisLayoutPanel.seriesClipRect, this.getSymbolLocation(this.currentPoints[0]), chart.chartAreaType === 'Cartesian', isFirst);\n            this.drawMarker(markerSide.isBottom, markerSide.isRight, 10);\n        }\n        else {\n            this.getElement(this.element.id + '_tooltip_path').setAttribute('d', '');\n        }\n        this.currentPoints = this.currentPoints.concat(extraPoints);\n        this.previousPoints = extend([], this.currentPoints, null, true);\n    };\n    Tooltip.prototype.getBoxLocation = function (data) {\n        var location;\n        location = this.lierIndex > 3 ? data.point.symbolLocations[this.lierIndex - 4] :\n            {\n                x: data.point.regions[0].x + (data.point.regions[0].width / 2),\n                y: data.point.regions[0].y + (data.point.regions[0].height / 2)\n            };\n        return location;\n    };\n    Tooltip.prototype.drawMarker = function (isBottom, isRight, size) {\n        var shapeOption;\n        var count = 0;\n        var series;\n        var markerGroup = this.chart.renderer.createGroup({ id: this.element.id + '_tooltip_trackball_group' });\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var x = (this.padding * 2) + (size / 2) + (isRight ? this.arrowPadding : 0);\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n            var data = _a[_i];\n            series = data.series;\n            if (series.visible && series.enableTooltip && data.point.visible) {\n                shapeOption = new PathOption(this.element.id + '_Tooltip_Trackball_' + series.index, this.findColor(data, series) || series.interior, 1, '#cccccc', series.opacity, null);\n                markerGroup.appendChild(drawSymbol(new ChartLocation(x, this.markerPoint[count] - this.padding + (isBottom ? this.arrowPadding : 0)), data.point.marker.shape || series.marker.shape, new Size(size, size), series.marker.imageUrl, shapeOption, null));\n                count++;\n            }\n        }\n        groupElement.appendChild(markerGroup);\n    };\n    Tooltip.prototype.findColor = function (data, series) {\n        if (series.isRectSeries) {\n            return data.point.color;\n        }\n        else {\n            return (data.point.color && data.point.color !== '#ffffff' ? data.point.color : data.point.interior) || series.marker.fill;\n        }\n    };\n    Tooltip.prototype.parseTemplate = function (point, series, format, xAxis, yAxis) {\n        var val;\n        var textValue;\n        var xFormat;\n        var customLabelFormat;\n        var chart = this.chart;\n        for (var _i = 0, _a = Object.keys(point); _i < _a.length; _i++) {\n            var dataValue = _a[_i];\n            val = new RegExp('${point' + '.' + dataValue + '}', 'gm');\n            format = format.replace(val.source, this.formatPointValue(point, val.source === '${point.x}' ? xAxis : yAxis, dataValue, val.source === '${point.x}', (val.source === '${point.high}' ||\n                val.source === '${point.open}' ||\n                val.source === '${point.close}' ||\n                val.source === '${point.low}' ||\n                val.source === '${point.y}' ||\n                val.source === '${point.minimum}' ||\n                val.source === '${point.maximum}' ||\n                val.source === '${point.outliers}' ||\n                val.source === '${point.upperQuartile}' ||\n                val.source === '${point.lowerQuartile}' ||\n                val.source === '${point.median}')));\n        }\n        for (var _b = 0, _c = Object.keys(Object.getPrototypeOf(series)); _b < _c.length; _b++) {\n            var dataValue = _c[_b];\n            val = new RegExp('${series' + '.' + dataValue + '}', 'gm');\n            textValue = series[dataValue];\n            format = format.replace(val.source, textValue);\n        }\n        return format;\n    };\n    Tooltip.prototype.formatPointValue = function (point, axis, dataValue, isXPoint, isYPoint) {\n        var textValue;\n        var customLabelFormat;\n        var value;\n        if (axis.valueType !== 'Category' && isXPoint) {\n            customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            textValue = customLabelFormat ? axis.labelFormat.replace('{value}', axis.format(point[dataValue])) :\n                axis.format(point[dataValue]);\n        }\n        else if (isYPoint) {\n            customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            value = dataValue === 'outliers' ? axis.format(point[dataValue][this.lierIndex - 4]) :\n                axis.format(point[dataValue]);\n            textValue = customLabelFormat ? axis.labelFormat.replace('{value}', value) : value;\n        }\n        else {\n            textValue = point[dataValue];\n        }\n        return textValue;\n    };\n    Tooltip.prototype.getFormat = function (chart, series) {\n        if (chart.tooltip.format) {\n            if (series.seriesType === 'XY' && series.category === 'Indicator') {\n                return this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n            }\n            return chart.tooltip.format;\n        }\n        var format = !chart.tooltip.shared ? '${point.x}' : '${series.name}';\n        switch (series.seriesType) {\n            case 'XY':\n                if (series.category === 'Indicator') {\n                    this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n                }\n                return format + ' : ' + ((series.type === 'Bubble') ? '<b>${point.y}</b>  Size : <b>${point.size}</b>'\n                    : '<b>${point.y}</b>');\n            case 'HighLow':\n                return format + ('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>');\n            case 'HighLowOpenClose':\n                return format + ('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>' +\n                    'Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>');\n            case 'BoxPlot': {\n                return format + '<br/>' + (this.lierIndex > 3 ? 'Outliers : <b>${point.outliers}</b>' :\n                    'Maximum : <b>${point.maximum}</b><br/>Q1 : <b>${point.upperQuartile}</b><br/>' +\n                        'Median : <b>${point.median}</b><br/>Q3 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>');\n            }\n        }\n        return '';\n    };\n    Tooltip.prototype.getIndicatorTooltipFormat = function (series, chart, format) {\n        var toolTip;\n        var points = [];\n        if (series.seriesType === 'XY') {\n            toolTip = series.name + ' : ${point.y}';\n        }\n        else {\n            toolTip = format;\n        }\n        return toolTip;\n    };\n    /*\n   * @hidden\n   */\n    Tooltip.prototype.removeHighlightedMarker = function (data) {\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var item = data_1[_i];\n            removeElement(this.element.id + '_Series_' + item.series.index +\n                '_Point_' + item.point.index + '_Trackball');\n        }\n        if (this.chart.markerRender) {\n            this.chart.markerRender.removeHighlightedMarker();\n        }\n        this.previousPoints = [];\n    };\n    /**\n     * Removes the tooltip on mouse leave.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.removeTooltip = function (duration) {\n        var _this = this;\n        var chart = this.chart;\n        var tooltipElement = this.getElement(this.element.id + '_tooltip');\n        this.stopAnimation();\n        if (tooltipElement && this.previousPoints.length > 0) {\n            var data_2 = this.previousPoints;\n            this.toolTipInterval = setTimeout(function () {\n                var rectOpacity;\n                var tooltipGroup = tooltipElement.firstChild;\n                var series = data_2[0].series;\n                var element = _this.getElement(chart.element.id + '_Series_' + data_2[0].series.index\n                    + '_Point_' + data_2[0].point.index);\n                var opacity = parseFloat(tooltipGroup.getAttribute('opacity')) || 1;\n                if (element && series.isRectSeries && !chart.tooltip.shared) {\n                    rectOpacity = parseFloat(element.getAttribute('opacity'));\n                }\n                new Animation({}).animate(tooltipGroup, {\n                    duration: 200,\n                    progress: function (args) {\n                        //  tooltipGroup.removeAttribute('e-animate');\n                        _this.progressAnimation(element, tooltipGroup, series, opacity, rectOpacity, (args.timeStamp / args.duration), series.isRectSeries, !chart.tooltip.shared);\n                    },\n                    end: function (model) {\n                        _this.valueX = null;\n                        _this.valueY = null;\n                        _this.endAnimation(element, tooltipGroup, series, chart.tooltip.shared);\n                        _this.removeHighlightedMarker(data_2);\n                    }\n                });\n            }, duration);\n        }\n    };\n    /**\n     * Get module name.\n     */\n    Tooltip.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Tooltip';\n    };\n    /**\n     * To destroy the tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Tooltip;\n}(BaseTooltip));\nexport { Tooltip };\n","import { EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { removeElement, measureText, RectOption, Rect, PolygonOption, PathOption, createTooltip, minMax } from '../../common/utils/helper';\nimport { textElement, TextOption } from '../../common/utils/helper';\n/**\n * Zooming Toolkit created here\n * @private\n */\nvar Toolkit = /** @class */ (function () {\n    /** @private */\n    function Toolkit(chart) {\n        this.chart = chart;\n        this.elementId = chart.element.id;\n        this.selectionColor = '#ff4081';\n        this.fillColor = '#737373';\n    }\n    /**\n     * To create the pan button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createPanButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.chart.zoomModule.isPanning ? this.selectionColor : this.fillColor;\n        var direction = 'M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,';\n        direction += '11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z';\n        childElement.id = this.elementId + '_Zooming_Pan';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('Pan'));\n        this.panElements = childElement;\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Pan_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Pan_2', fillColor, null, null, 1, null, direction)));\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.pan);\n    };\n    /**\n     * To create the zoom button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createZoomButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.chart.zoomModule.isPanning ? this.fillColor : this.selectionColor;\n        var direction = 'M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,';\n        direction += '5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571';\n        direction = direction + 'L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,';\n        childElement.id = this.elementId + '_Zooming_Zoom';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('Zoom'));\n        this.zoomElements = childElement;\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Zoom_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Zoom_3', fillColor, null, null, 1, null, direction + '4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z')));\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoom);\n    };\n    /**\n     * To create the ZoomIn button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createZoomInButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.fillColor;\n        var direction = 'M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,';\n        direction += '14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,';\n        direction += '5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,';\n        childElement.id = this.elementId + '_Zooming_ZoomIn';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('ZoomIn'));\n        var polygonDirection = '12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466';\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_ZoomIn_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_ZoomIn_2', fillColor, null, null, 1, null, direction + '4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z')));\n        childElement.appendChild(render.drawPolygon(new PolygonOption(this.elementId + '_Zooming_ZoomIn_3', polygonDirection + ' 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466', fillColor)));\n        this.zoomInElements = childElement;\n        this.elementOpacity = chart.zoomModule.isPanning ? '0.2' : '1';\n        childElement.setAttribute('opacity', this.elementOpacity);\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoomIn);\n    };\n    /**\n     * To create the ZoomOut button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createZoomOutButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.fillColor;\n        var direction = 'M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,';\n        direction += '1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,';\n        direction += '1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,';\n        childElement.id = this.elementId + '_Zooming_ZoomOut';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('ZoomOut'));\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_ZoomOut_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_ZoomOut_2', fillColor, null, null, 1, null, direction + '4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z')));\n        this.zoomOutElements = childElement;\n        this.elementOpacity = chart.zoomModule.isPanning ? '0.2' : '1';\n        childElement.setAttribute('opacity', this.elementOpacity);\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoomOut);\n    };\n    /**\n     * To create the Reset button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createResetButton = function (childElement, parentElement, chart, isDevice) {\n        var render = this.chart.renderer;\n        var fillColor = this.fillColor;\n        var size;\n        var direction = 'M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,';\n        direction += '1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,';\n        direction += '13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,';\n        childElement.id = this.elementId + '_Zooming_Reset';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('Reset'));\n        if (!isDevice) {\n            childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Reset_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n            childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Reset_2', fillColor, null, null, 1, null, direction + '3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z')));\n        }\n        else {\n            size = measureText(this.chart.getLocalizedLabel('ResetZoom'), { size: '12px' });\n            childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Reset_1', 'transparent', {}, 1, new Rect(0, 0, size.width, size.height))));\n            textElement(new TextOption(this.elementId + '_Zooming_Reset_2', 0 + size.width / 2, 0 + size.height * 3 / 4, 'middle', this.chart.getLocalizedLabel('ResetZoom'), 'rotate(0,' + (0) + ',' + (0) + ')', 'auto'), { size: '12px' }, 'black', childElement);\n        }\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.reset);\n    };\n    /**\n     * To bind events.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.wireEvents = function (element, process) {\n        EventHandler.add(element, 'mousedown touchstart', process, this);\n        EventHandler.add(element, 'mouseover', this.showTooltip, this);\n        EventHandler.add(element, 'mouseout', this.removeTooltip, this);\n    };\n    /**\n     * To show tooltip.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.showTooltip = function (event) {\n        var text = event.currentTarget.id.split('_Zooming_')[1];\n        var left = (event.pageX - (measureText(text, { size: '10px' }).width + 5));\n        if (!this.chart.isTouch) {\n            createTooltip('EJ2_Chart_ZoomTip', this.chart.getLocalizedLabel(text), (event.pageY + 10), left, '10px');\n        }\n    };\n    /** @private */\n    Toolkit.prototype.removeTooltip = function () {\n        removeElement('EJ2_Chart_ZoomTip');\n    };\n    // Toolkit events function calculation here.\n    /** @private */\n    Toolkit.prototype.reset = function () {\n        var chart = this.chart;\n        if (!chart.zoomModule.isDevice) {\n            remove(chart.zoomModule.toolkitElements);\n        }\n        this.removeTooltip();\n        chart.svgObject.setAttribute('cursor', 'auto');\n        chart.axisCollections.forEach(function (axis) {\n            axis.zoomFactor = 1;\n            axis.zoomPosition = 0;\n        });\n        chart.disableTrackTooltip = false;\n        chart.zoomModule.isZoomed = chart.zoomModule.isPanning = chart.isChartDrag = chart.delayRedraw = false;\n        chart.zoomModule.touchMoveList = chart.zoomModule.touchStartList = [];\n        chart.zoomModule.pinchTarget = null;\n        chart.removeSvg();\n        chart.refreshAxis();\n        chart.refreshBound();\n        this.elementOpacity = '1';\n        return false;\n    };\n    Toolkit.prototype.zoomIn = function (e) {\n        this.zoomInOutCalculation(1, this.chart, this.chart.axisCollections, this.chart.zoomSettings.mode);\n        return false;\n    };\n    Toolkit.prototype.zoomOut = function (e) {\n        this.zoomInOutCalculation(-1, this.chart, this.chart.axisCollections, this.chart.zoomSettings.mode);\n        return false;\n    };\n    Toolkit.prototype.zoom = function (e) {\n        this.chart.zoomModule.isPanning = false;\n        var zoomModule = this.chart.zoomModule;\n        this.elementOpacity = '1';\n        this.chart.svgObject.setAttribute('cursor', 'auto');\n        this.zoomInElements.setAttribute('opacity', this.elementOpacity);\n        this.zoomOutElements.setAttribute('opacity', this.elementOpacity);\n        this.applySelection(this.zoomElements.childNodes, this.selectionColor);\n        this.applySelection(this.panElements.childNodes, '#737373');\n        return false;\n    };\n    /** @private */\n    Toolkit.prototype.pan = function () {\n        var zoomModule = this.chart.zoomModule;\n        var element;\n        this.chart.zoomModule.isPanning = true;\n        this.chart.svgObject.setAttribute('cursor', 'pointer');\n        this.elementOpacity = '0.2';\n        element = this.zoomInElements ? this.zoomInElements.setAttribute('opacity', this.elementOpacity) : null;\n        element = this.zoomOutElements ? this.zoomOutElements.setAttribute('opacity', this.elementOpacity) : null;\n        element = this.panElements ? this.applySelection(this.panElements.childNodes, this.selectionColor) : null;\n        element = this.zoomElements ? this.applySelection(this.zoomElements.childNodes, '#737373') : null;\n        return false;\n    };\n    Toolkit.prototype.zoomInOutCalculation = function (scale, chart, axes, mode) {\n        if (!chart.zoomModule.isPanning && this.elementOpacity !== '0.2') {\n            var zoomFactor_1;\n            var zoomPosition_1;\n            var cumulative_1;\n            chart.disableTrackTooltip = true;\n            chart.delayRedraw = true;\n            axes.forEach(function (axis) {\n                if ((axis.orientation === 'Horizontal' && mode !== 'Y') ||\n                    (axis.orientation === 'Vertical' && mode !== 'X')) {\n                    cumulative_1 = Math.max(Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1) + (0.25 * scale), 1);\n                    zoomFactor_1 = (cumulative_1 === 1) ? 1 : minMax(1 / cumulative_1, 0, 1);\n                    zoomPosition_1 = (cumulative_1 === 1) ? 0 : axis.zoomPosition + ((axis.zoomFactor - zoomFactor_1) * 0.5);\n                    if (axis.zoomPosition !== zoomPosition_1 || axis.zoomFactor !== zoomFactor_1) {\n                        zoomFactor_1 = (zoomPosition_1 + zoomFactor_1) > 1 ? (1 - zoomPosition_1) : zoomFactor_1;\n                    }\n                    axis.zoomFactor = zoomFactor_1;\n                    axis.zoomPosition = zoomPosition_1;\n                }\n            });\n        }\n    };\n    Toolkit.prototype.applySelection = function (elements, color) {\n        for (var i = 1, length_1 = elements.length; i < length_1; i++) {\n            elements[i].setAttribute('fill', color);\n        }\n    };\n    return Toolkit;\n}());\nexport { Toolkit };\n","import { EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { getRectLocation, minMax, getElement, ChartLocation, Rect, RectOption, measureText } from '../../common/utils/helper';\nimport { Toolkit } from './zooming-toolkit';\nimport { zoomComplete } from '../../common/model/constants';\nimport { withInBounds } from '../../common/utils/helper';\n/**\n * `Zooming` module handles the zooming for chart.\n */\nvar Zoom = /** @class */ (function () {\n    /**\n     * Constructor for Zooming module.\n     * @private.\n     */\n    function Zoom(chart) {\n        this.chart = chart;\n        this.isPointer = Browser.isPointer;\n        this.browserName = Browser.info.name;\n        this.wheelEvent = this.browserName === 'mozilla' ? (this.isPointer ? 'mousewheel' : 'DOMMouseScroll') : 'mousewheel';\n        this.cancelEvent = this.isPointer ? 'pointerleave' : 'mouseleave';\n        this.addEventListener();\n        this.isDevice = Browser.isDevice;\n        var zooming = chart.zoomSettings;\n        this.toolkit = new Toolkit(chart);\n        this.zooming = zooming;\n        this.elementId = chart.element.id;\n        this.zoomingRect = new Rect(0, 0, 0, 0);\n        this.zoomAxes = [];\n        this.zoomkitOpacity = 0.3;\n        this.isIOS = Browser.isIos || Browser.isIos7;\n    }\n    /**\n     * Function that handles the Rectangular zooming.\n     * @return {void}\n     */\n    Zoom.prototype.renderZooming = function (e, chart, isTouch) {\n        this.calculateZoomAxesRange(chart, chart.axisCollections);\n        if (this.zooming.enableSelectionZooming && (!isTouch\n            || (chart.isDoubleTap && this.touchStartList.length === 1)) && (!this.isPanning || chart.isDoubleTap)) {\n            this.isPanning = this.isDevice ? true : this.isPanning;\n            this.performedUI = true;\n            this.drawZoomingRectangle(chart);\n        }\n        else if (this.isPanning && chart.isChartDrag) {\n            if (!isTouch || (isTouch && this.touchStartList.length === 1)) {\n                this.pinchTarget = isTouch ? e.target : null;\n                this.doPan(chart, chart.axisCollections);\n            }\n        }\n    };\n    // Zooming rectangle drawn here\n    Zoom.prototype.drawZoomingRectangle = function (chart) {\n        var areaBounds = chart.chartAxisLayoutPanel.seriesClipRect;\n        var startLocation = new ChartLocation(chart.previousMouseMoveX, chart.previousMouseMoveY);\n        var endLocation = new ChartLocation(chart.mouseX, chart.mouseY);\n        var rect = this.zoomingRect = getRectLocation(startLocation, endLocation, areaBounds);\n        if (rect.width > 0 && rect.height > 0) {\n            this.isZoomed = true;\n            chart.disableTrackTooltip = true;\n            chart.svgObject.setAttribute('cursor', 'crosshair');\n            if (this.zooming.mode === 'X') {\n                rect.height = areaBounds.height;\n                rect.y = areaBounds.y;\n            }\n            else if (this.zooming.mode === 'Y') {\n                rect.width = areaBounds.width;\n                rect.x = areaBounds.x;\n            }\n            chart.svgObject.appendChild(chart.renderer.drawRectangle(new RectOption(this.elementId + '_ZoomArea', chart.themeStyle.selectionRectFill, { color: chart.themeStyle.selectionRectStroke, width: 1 }, 1, rect, 0, 0, '', '3')));\n        }\n    };\n    // Panning performed here\n    Zoom.prototype.doPan = function (chart, axes) {\n        if (chart.startMove && chart.crosshair.enable) {\n            return null;\n        }\n        var currentScale;\n        var offset;\n        this.isZoomed = true;\n        var translateX;\n        var translateY;\n        this.offset = !chart.delayRedraw ? chart.chartAxisLayoutPanel.seriesClipRect : this.offset;\n        chart.delayRedraw = true;\n        chart.disableTrackTooltip = true;\n        axes.forEach(function (axis) {\n            currentScale = Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1);\n            if (axis.orientation === 'Horizontal') {\n                offset = (chart.previousMouseMoveX - chart.mouseX) / axis.rect.width / currentScale;\n                axis.zoomPosition = minMax(axis.zoomPosition + offset, 0, (1 - axis.zoomFactor));\n            }\n            else {\n                offset = (chart.previousMouseMoveY - chart.mouseY) / axis.rect.height / currentScale;\n                axis.zoomPosition = minMax(axis.zoomPosition - offset, 0, (1 - axis.zoomFactor));\n            }\n        });\n        if (this.zooming.enableDeferredZooming) {\n            translateX = chart.mouseX - chart.mouseDownX;\n            translateY = chart.mouseY - chart.mouseDownY;\n            switch (this.zooming.mode) {\n                case 'X':\n                    translateY = 0;\n                    break;\n                case 'Y':\n                    translateX = 0;\n                    break;\n            }\n            this.setTransform(translateX, translateY, null, null, chart, false);\n            this.refreshAxis(chart.chartAxisLayoutPanel, chart, chart.axisCollections);\n        }\n        else {\n            this.performZoomRedraw(chart);\n        }\n        chart.previousMouseMoveX = chart.mouseX;\n        chart.previousMouseMoveY = chart.mouseY;\n    };\n    /**\n     * Redraw the chart on zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.performZoomRedraw = function (chart) {\n        var rect = this.zoomingRect;\n        chart.animateSeries = false;\n        if (this.isZoomed) {\n            if (rect.width > 0 && rect.height > 0) {\n                this.performedUI = true;\n                chart.svgObject.setAttribute('cursor', 'auto');\n                this.doZoom(chart, chart.axisCollections, chart.chartAxisLayoutPanel.seriesClipRect);\n                chart.isDoubleTap = false;\n            }\n            else if (chart.disableTrackTooltip) {\n                chart.disableTrackTooltip = false;\n                chart.delayRedraw = false;\n                chart.removeSvg();\n                chart.refreshAxis();\n                chart.refreshBound();\n            }\n        }\n    };\n    Zoom.prototype.refreshAxis = function (layout, chart, axes) {\n        var mode = chart.zoomSettings.mode;\n        layout.measureAxis(new Rect(chart.initialClipRect.x, chart.initialClipRect.y, chart.initialClipRect.width, chart.initialClipRect.height));\n        axes.map(function (axis, index) {\n            if (axis.orientation === 'Horizontal' && mode !== 'Y') {\n                layout.drawXAxisLabels(axis, index, null, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n            }\n            if (axis.orientation === 'Vertical' && mode !== 'X') {\n                layout.drawYAxisLabels(axis, index, null, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n            }\n        });\n    };\n    // Rectangular zoom calculated here performed here\n    Zoom.prototype.doZoom = function (chart, axes, bounds) {\n        var zoomRect = this.zoomingRect;\n        var mode = this.zooming.mode;\n        var argsData;\n        var previousZF;\n        var previousZP;\n        var currentZF;\n        var currentZP;\n        this.isPanning = chart.zoomSettings.enablePan || this.isPanning;\n        axes.forEach(function (axis) {\n            previousZF = currentZF = axis.zoomFactor;\n            previousZP = currentZP = axis.zoomPosition;\n            argsData = {\n                cancel: false, name: zoomComplete, axis: axis, previousZoomFactor: previousZF, previousZoomPosition: previousZP,\n                currentZoomFactor: currentZF, currentZoomPosition: currentZP\n            };\n            if (axis.orientation === 'Horizontal') {\n                if (mode !== 'Y') {\n                    currentZP += Math.abs((zoomRect.x - bounds.x) / (bounds.width)) * axis.zoomFactor;\n                    currentZF *= (zoomRect.width / bounds.width);\n                    argsData.currentZoomPosition = currentZP;\n                    argsData.currentZoomFactor = currentZF;\n                    chart.trigger(zoomComplete, argsData);\n                }\n            }\n            else {\n                if (mode !== 'X') {\n                    currentZP += (1 - Math.abs((zoomRect.height + (zoomRect.y - bounds.y)) / (bounds.height))) * axis.zoomFactor;\n                    currentZF *= (zoomRect.height / bounds.height);\n                    argsData.currentZoomFactor = currentZF;\n                    argsData.currentZoomPosition = currentZP;\n                    chart.trigger(zoomComplete, argsData);\n                }\n            }\n            if (!argsData.cancel) {\n                axis.zoomFactor = argsData.currentZoomFactor;\n                axis.zoomPosition = argsData.currentZoomPosition;\n            }\n        });\n        this.zoomingRect = new Rect(0, 0, 0, 0);\n        this.performZoomRedraw(chart);\n    };\n    /**\n     * Function that handles the Mouse wheel zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.performMouseWheelZooming = function (e, mouseX, mouseY, chart, axes) {\n        var direction = (this.browserName === 'mozilla' && !this.isPointer) ?\n            -(e.detail) / 3 > 0 ? 1 : -1 : (e.wheelDelta / 120) > 0 ? 1 : -1;\n        var mode = this.zooming.mode;\n        var origin = 0.5;\n        var cumulative;\n        var zoomFactor;\n        var zoomPosition;\n        this.isZoomed = true;\n        this.calculateZoomAxesRange(chart, chart.axisCollections);\n        chart.disableTrackTooltip = true;\n        this.performedUI = true;\n        this.isPanning = chart.zoomSettings.enablePan || this.isPanning;\n        axes.forEach(function (axis) {\n            if ((axis.orientation === 'Vertical' && mode !== 'X') ||\n                (axis.orientation === 'Horizontal' && mode !== 'Y')) {\n                cumulative = Math.max(Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1) + (0.25 * direction), 1);\n                if (cumulative >= 1) {\n                    origin = axis.orientation === 'Horizontal' ? mouseX / axis.rect.width : 1 - (mouseY / axis.rect.height);\n                    origin = origin > 1 ? 1 : origin < 0 ? 0 : origin;\n                    zoomFactor = (cumulative === 1) ? 1 : minMax(1 / cumulative, 0, 1);\n                    zoomPosition = (cumulative === 1) ? 0 : axis.zoomPosition + ((axis.zoomFactor - zoomFactor) * origin);\n                    if (axis.zoomPosition !== zoomPosition || axis.zoomFactor !== zoomFactor) {\n                        zoomFactor = (zoomPosition + zoomFactor) > 1 ? (1 - zoomPosition) : zoomFactor;\n                    }\n                }\n                axis.zoomFactor = zoomFactor;\n                axis.zoomPosition = zoomPosition;\n            }\n        });\n        this.performZoomRedraw(chart);\n    };\n    /**\n     * Function that handles the Pinch zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.performPinchZooming = function (e, chart) {\n        if ((this.zoomingRect.width > 0 && this.zoomingRect.height > 0) || (chart.startMove && chart.crosshair.enable)) {\n            return false;\n        }\n        this.calculateZoomAxesRange(chart, chart.axisCollections);\n        this.isZoomed = true;\n        this.isPanning = true;\n        this.performedUI = true;\n        this.offset = !chart.delayRedraw ? chart.chartAxisLayoutPanel.seriesClipRect : this.offset;\n        chart.delayRedraw = true;\n        chart.disableTrackTooltip = true;\n        var elementOffset = chart.element.getBoundingClientRect();\n        var touchDown = this.touchStartList;\n        var touchMove = this.touchMoveList;\n        var touch0StartX = touchDown[0].pageX - elementOffset.left;\n        var touch0StartY = touchDown[0].pageY - elementOffset.top;\n        var touch0EndX = touchMove[0].pageX - elementOffset.left;\n        var touch0EndY = touchMove[0].pageY - elementOffset.top;\n        var touch1StartX = touchDown[1].pageX - elementOffset.left;\n        var touch1StartY = touchDown[1].pageY - elementOffset.top;\n        var touch1EndX = touchMove[1].pageX - elementOffset.left;\n        var touch1EndY = touchMove[1].pageY - elementOffset.top;\n        var scaleX;\n        var scaleY;\n        var translateXValue;\n        var translateYValue;\n        var pinchRect;\n        var clipX;\n        var clipY;\n        scaleX = Math.abs(touch0EndX - touch1EndX) / Math.abs(touch0StartX - touch1StartX);\n        scaleY = Math.abs(touch0EndY - touch1EndY) / Math.abs(touch0StartY - touch1StartY);\n        clipX = ((this.offset.x - touch0EndX) / scaleX) + touch0StartX;\n        clipY = ((this.offset.y - touch0EndY) / scaleY) + touch0StartY;\n        pinchRect = new Rect(clipX, clipY, this.offset.width / scaleX, this.offset.height / scaleY);\n        translateXValue = (touch0EndX - (scaleX * touch0StartX));\n        translateYValue = (touch0EndY - (scaleY * touch0StartY));\n        if (!isNaN(scaleX - scaleX) && !isNaN(scaleY - scaleY)) {\n            switch (this.zooming.mode) {\n                case 'XY':\n                    this.setTransform(translateXValue, translateYValue, scaleX, scaleY, chart, true);\n                    break;\n                case 'X':\n                    this.setTransform(translateXValue, 0, scaleX, 1, chart, true);\n                    break;\n                case 'Y':\n                    this.setTransform(0, translateYValue, 1, scaleY, chart, true);\n                    break;\n            }\n        }\n        this.calculatePinchZoomFactor(chart, pinchRect);\n        this.refreshAxis(chart.chartAxisLayoutPanel, chart, chart.axisCollections);\n        return true;\n    };\n    Zoom.prototype.calculatePinchZoomFactor = function (chart, pinchRect) {\n        var _this = this;\n        var mode = this.zooming.mode;\n        var selectionMin;\n        var selectionMax;\n        var rangeMin;\n        var rangeMax;\n        var value;\n        var axisTrans;\n        chart.axisCollections.forEach(function (axis, index) {\n            if ((axis.orientation === 'Horizontal' && mode !== 'Y') ||\n                (axis.orientation === 'Vertical' && mode !== 'X')) {\n                if (axis.orientation === 'Horizontal') {\n                    value = pinchRect.x - _this.offset.x;\n                    axisTrans = axis.rect.width / _this.zoomAxes[index].delta;\n                    rangeMin = value / axisTrans + _this.zoomAxes[index].min;\n                    value = pinchRect.x + pinchRect.width - _this.offset.x;\n                    rangeMax = value / axisTrans + _this.zoomAxes[index].min;\n                }\n                else {\n                    value = pinchRect.y - _this.offset.y;\n                    axisTrans = axis.rect.height / _this.zoomAxes[index].delta;\n                    rangeMin = (value * -1 + axis.rect.height) / axisTrans + _this.zoomAxes[index].min;\n                    value = pinchRect.y + pinchRect.height - _this.offset.y;\n                    rangeMax = (value * -1 + axis.rect.height) / axisTrans + _this.zoomAxes[index].min;\n                }\n                selectionMin = Math.min(rangeMin, rangeMax);\n                selectionMax = Math.max(rangeMin, rangeMax);\n                axis.zoomPosition = (selectionMin - _this.zoomAxes[index].actualMin) / _this.zoomAxes[index].actualDelta;\n                axis.zoomFactor = (selectionMax - selectionMin) / _this.zoomAxes[index].actualDelta;\n                axis.zoomPosition = axis.zoomPosition < 0 ? 0 : axis.zoomPosition;\n                axis.zoomFactor = axis.zoomFactor > 1 ? 1 : axis.zoomFactor;\n            }\n        });\n    };\n    // Series transformation style applied here.\n    Zoom.prototype.setTransform = function (transX, transY, scaleX, scaleY, chart, isPinch) {\n        chart.seriesElements.setAttribute('clip-path', 'url(#' + this.elementId + '_ChartAreaClipRect_)');\n        if (chart.indicatorElements) {\n            chart.indicatorElements.setAttribute('clip-path', 'url(#' + this.elementId + '_ChartAreaClipRect_)');\n        }\n        var translate;\n        var xAxisLoc;\n        var yAxisLoc;\n        var element;\n        if (transX !== null && transY !== null) {\n            chart.visibleSeries.forEach(function (value) {\n                xAxisLoc = chart.requireInvertedAxis ? value.yAxis.rect.x : value.xAxis.rect.x;\n                yAxisLoc = chart.requireInvertedAxis ? value.xAxis.rect.y : value.yAxis.rect.y;\n                translate = 'translate(' + (transX + (isPinch ? (scaleX * xAxisLoc) : xAxisLoc)) +\n                    ',' + (transY + (isPinch ? (scaleY * yAxisLoc) : yAxisLoc)) + ')';\n                translate = (scaleX || scaleY) ? translate + ' scale(' + scaleX + ' ' + scaleY + ')' : translate;\n                if (value.category === 'Indicator') {\n                    value.seriesElement.parentElement.setAttribute('transform', translate);\n                }\n                else {\n                    value.seriesElement.setAttribute('transform', translate);\n                }\n                element = getElement(chart.element.id + '_Series_' + value.index + '_DataLabelCollections');\n                if (value.errorBarElement) {\n                    value.errorBarElement.setAttribute('transform', translate);\n                }\n                if (value.symbolElement) {\n                    value.symbolElement.setAttribute('transform', translate);\n                }\n                if (value.textElement) {\n                    value.textElement.setAttribute('visibility', 'hidden');\n                    value.shapeElement.setAttribute('visibility', 'hidden');\n                }\n                if (element) {\n                    element.style.visibility = 'hidden';\n                }\n            });\n        }\n    };\n    Zoom.prototype.calculateZoomAxesRange = function (chart, axes) {\n        var _this = this;\n        var range;\n        var axisRange;\n        chart.axisCollections.forEach(function (axis, index) {\n            axisRange = axis.visibleRange;\n            if (_this.zoomAxes[index]) {\n                if (!chart.delayRedraw) {\n                    _this.zoomAxes[index].min = axisRange.min;\n                    _this.zoomAxes[index].delta = axisRange.delta;\n                }\n            }\n            else {\n                range = {\n                    actualMin: axis.actualRange.min,\n                    actualDelta: axis.actualRange.delta,\n                    min: axisRange.min,\n                    delta: axisRange.delta\n                };\n                _this.zoomAxes[index] = range;\n            }\n        });\n    };\n    // Zooming Toolkit created here\n    Zoom.prototype.showZoomingToolkit = function (chart) {\n        var toolboxItems = this.zooming.toolbarItems;\n        var areaBounds = chart.chartAxisLayoutPanel.seriesClipRect;\n        var spacing = 5;\n        var render = chart.renderer;\n        var length = this.isDevice ? 1 : toolboxItems.length;\n        var iconSize = this.isDevice ? measureText('Reset Zoom', { size: '12px' }).width : 16;\n        var height = this.isDevice ? measureText('Reset Zoom', { size: '12px' }).height : 22;\n        var width = (length * iconSize) + ((length + 1) * spacing) + ((length - 1) * spacing);\n        var transX = areaBounds.x + areaBounds.width - width - spacing;\n        var transY = (areaBounds.y + spacing);\n        var xPosition = spacing;\n        var outerElement;\n        var toolkit = this.toolkit;\n        var element;\n        var shadowElement = '<filter id=\"chart_shadow\" height=\"130%\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"5\"/>';\n        shadowElement += '<feOffset dx=\"-3\" dy=\"4\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"1\"/>';\n        shadowElement += '</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n        if (length === 0 || getElement(this.elementId + '_Zooming_KitCollection')) {\n            return false;\n        }\n        var defElement = render.createDefs();\n        toolboxItems = this.isDevice ? ['Reset'] : toolboxItems;\n        defElement.innerHTML = shadowElement;\n        this.toolkitElements = render.createGroup({\n            id: this.elementId + '_Zooming_KitCollection',\n            transform: 'translate(' + transX + ',' + transY + ')'\n        });\n        this.toolkitElements.appendChild(defElement);\n        this.toolkitElements.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Rect', '#fafafa', { color: 'transparent', width: 1 }, 1, new Rect(0, 0, width, (height + (spacing * 2))), 0, 0)));\n        outerElement = render.drawRectangle(new RectOption(this.elementId + '_Zooming_Rect', '#fafafa', { color: 'transparent', width: 1 }, 0.1, new Rect(0, 0, width, (height + (spacing * 2))), 0, 0));\n        outerElement.setAttribute('filter', 'url(#chart_shadow)');\n        this.toolkitElements.appendChild(outerElement);\n        var currentItem;\n        for (var i = 1; i <= length; i++) {\n            currentItem = toolboxItems[i - 1];\n            element = render.createGroup({\n                transform: 'translate(' + xPosition + ',' + (this.isDevice ? spacing : (spacing + 3)) + ')'\n            });\n            // for desktop toolkit hight is 32 and top padding is 8 icon size 16\n            switch (currentItem) {\n                case 'Pan':\n                    toolkit.createPanButton(element, this.toolkitElements, chart);\n                    break;\n                case 'Zoom':\n                    toolkit.createZoomButton(element, this.toolkitElements, chart);\n                    break;\n                case 'ZoomIn':\n                    toolkit.createZoomInButton(element, this.toolkitElements, chart);\n                    break;\n                case 'ZoomOut':\n                    toolkit.createZoomOutButton(element, this.toolkitElements, chart);\n                    break;\n                case 'Reset':\n                    toolkit.createResetButton(element, this.toolkitElements, chart, this.isDevice);\n                    break;\n            }\n            xPosition += iconSize + (spacing * 2);\n        }\n        this.toolkitElements.setAttribute('opacity', this.isDevice ? '1' : '' + this.zoomkitOpacity);\n        this.toolkitElements.setAttribute('cursor', 'auto');\n        chart.svgObject.appendChild(this.toolkitElements);\n        if (!this.isDevice) {\n            EventHandler.add(this.toolkitElements, 'mousemove touchstart', this.zoomToolkitMove, this);\n            EventHandler.add(this.toolkitElements, 'mouseleave touchend', this.zoomToolkitLeave, this);\n            if (this.isPanning) {\n                toolkit.pan();\n            }\n        }\n        return true;\n    };\n    /**\n     * To the show the zooming toolkit.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.applyZoomToolkit = function (chart, axes) {\n        var showToolkit = this.isAxisZoomed(axes);\n        if (showToolkit) {\n            this.showZoomingToolkit(chart);\n            this.isZoomed = true;\n        }\n        else {\n            this.toolkit.removeTooltip();\n            this.isPanning = false;\n            this.isZoomed = false;\n            chart.svgObject.setAttribute('cursor', 'auto');\n        }\n    };\n    /**\n     * Return boolean property to show zooming toolkit.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.isAxisZoomed = function (axes) {\n        var showToolkit = false;\n        axes.forEach(function (axis) {\n            showToolkit = (showToolkit || (axis.zoomFactor !== 1 || axis.zoomPosition !== 0));\n        });\n        return showToolkit;\n    };\n    Zoom.prototype.zoomToolkitMove = function (e) {\n        var element = this.toolkitElements;\n        var opacity = +element.getAttribute('opacity');\n        this.zoomkitOpacity = 1;\n        element.setAttribute('opacity', '' + this.zoomkitOpacity);\n        return false;\n    };\n    Zoom.prototype.zoomToolkitLeave = function (e) {\n        var element = this.toolkitElements;\n        this.zoomkitOpacity = 0.3;\n        element.setAttribute('opacity', '' + this.zoomkitOpacity);\n        return false;\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        EventHandler.add(this.chart.element, this.wheelEvent, this.chartMouseWheel, this);\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchStartEvent, this.mouseDownHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n        this.chart.on(this.cancelEvent, this.mouseCancelHandler, this);\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        EventHandler.remove(this.chart.element, this.wheelEvent, this.chartMouseWheel);\n        this.chart.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n        this.chart.off(Browser.touchStartEvent, this.mouseDownHandler);\n        this.chart.off(Browser.touchEndEvent, this.mouseUpHandler);\n        this.chart.off(this.cancelEvent, this.mouseCancelHandler);\n    };\n    /**\n     * Handles the mouse wheel on chart.\n     * @return {boolean}\n     * @private\n     */\n    Zoom.prototype.chartMouseWheel = function (e) {\n        var chart = this.chart;\n        var offset = chart.element.getBoundingClientRect();\n        var svgRect = getElement(chart.element.id + '_svg').getBoundingClientRect();\n        var mouseX = (e.clientX - offset.left) - Math.max(svgRect.left - offset.left, 0);\n        var mouseY = (e.clientY - offset.top) - Math.max(svgRect.top - offset.top, 0);\n        if (this.zooming.enableMouseWheelZooming &&\n            withInBounds(mouseX, mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            e.preventDefault();\n            this.performMouseWheelZooming(e, mouseX, mouseY, chart, chart.axisCollections);\n        }\n        return false;\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseMoveHandler = function (e) {\n        //Zooming for chart\n        var chart = this.chart;\n        var touches = null;\n        if (e.type === 'touchmove') {\n            if (e.preventDefault && this.isIOS &&\n                (this.isPanning || (chart.isDoubleTap)\n                    || (this.zooming.enablePinchZooming && this.touchStartList.length > 1))) {\n                e.preventDefault();\n            }\n            touches = e.touches;\n        }\n        if (chart.isChartDrag) {\n            if (chart.isTouch) {\n                this.touchMoveList = this.addTouchPointer(this.touchMoveList, e, touches);\n                if (this.zooming.enablePinchZooming && this.touchMoveList.length > 1\n                    && this.touchStartList.length > 1) {\n                    this.performPinchZooming(e, chart);\n                }\n            }\n            this.renderZooming(e, chart, chart.isTouch);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseDownHandler = function (e) {\n        //Zooming for chart\n        var chart = this.chart;\n        var touches = null;\n        var target;\n        if (e.type === 'touchstart') {\n            touches = e.touches;\n            target = e.target;\n        }\n        else {\n            target = e.target;\n        }\n        if (target.id.indexOf(chart.element.id + '_Zooming_') === -1 &&\n            withInBounds(chart.previousMouseMoveX, chart.previousMouseMoveY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            chart.isChartDrag = true;\n        }\n        if (chart.isTouch) {\n            this.touchStartList = this.addTouchPointer(this.touchStartList, e, touches);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseUpHandler = function (e) {\n        var chart = this.chart;\n        var performZoomRedraw = e.target.id.indexOf(chart.element.id + '_ZoomOut_') === -1 ||\n            e.target.id.indexOf(chart.element.id + '_ZoomIn_') === -1;\n        if (chart.isChartDrag || performZoomRedraw) {\n            this.performZoomRedraw(chart);\n        }\n        if (chart.isTouch) {\n            if (chart.isDoubleTap && withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)\n                && this.touchStartList.length === 1 && this.isZoomed) {\n                this.toolkit.reset();\n            }\n            this.touchStartList = [];\n            chart.isDoubleTap = false;\n        }\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseCancelHandler = function (e) {\n        if (this.isZoomed) {\n            this.performZoomRedraw(this.chart);\n        }\n        this.pinchTarget = null;\n        this.touchStartList = [];\n        this.touchMoveList = [];\n    };\n    /**\n     * Handles the touch pointer.\n     * @return {boolean}\n     * @private\n     */\n    Zoom.prototype.addTouchPointer = function (touchList, e, touches) {\n        if (touches) {\n            touchList = [];\n            for (var i = 0, length_1 = touches.length; i < length_1; i++) {\n                touchList.push({ pageX: touches[i].clientX, pageY: touches[i].clientY, pointerId: null });\n            }\n        }\n        else {\n            touchList = touchList ? touchList : [];\n            if (touchList.length === 0) {\n                touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n            }\n            else {\n                for (var i = 0, length_2 = touchList.length; i < length_2; i++) {\n                    if (touchList[i].pointerId === e.pointerId) {\n                        touchList[i] = { pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId };\n                    }\n                    else {\n                        touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n                    }\n                }\n            }\n        }\n        return touchList;\n    };\n    /**\n     * Get module name.\n     */\n    Zoom.prototype.getModuleName = function () {\n        // Returns te module name\n        return 'Zoom';\n    };\n    /**\n     * To destroy the zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.destroy = function (chart) {\n        // Destroy method performed here\n        this.removeEventListener();\n    };\n    return Zoom;\n}());\nexport { Zoom };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Selection Module handles the selection for chart.\n * @private\n */\nvar BaseSelection = /** @class */ (function () {\n    function BaseSelection(control) {\n        this.control = control;\n    }\n    /**\n     * To create selection styles for series\n     */\n    BaseSelection.prototype.seriesStyles = function () {\n        var seriesclass;\n        var style = document.getElementById(this.styleId);\n        if (isNullOrUndefined(style)) {\n            style = document.createElement('style');\n            style.setAttribute('id', this.styleId);\n            for (var _i = 0, _a = this.control.visibleSeries; _i < _a.length; _i++) {\n                var series = _a[_i];\n                seriesclass = series.selectionStyle || this.styleId + '_series_' + series.index;\n                style.innerHTML += series.selectionStyle ? '' : '.' + seriesclass + ' { } ';\n            }\n            style.innerHTML += '.' + this.unselected + ' { opacity:' + (0.3) + ';} ';\n            document.body.appendChild(style);\n        }\n    };\n    /**\n     * To concat indexes\n     */\n    BaseSelection.prototype.concatIndexes = function (userIndexes, localIndexes) {\n        return userIndexes.concat(localIndexes);\n    };\n    /**\n     * Selected points series visibility checking on legend click\n     */\n    BaseSelection.prototype.checkVisibility = function (selectedIndexes) {\n        var visible = false;\n        var uniqueSeries = [];\n        for (var _i = 0, selectedIndexes_1 = selectedIndexes; _i < selectedIndexes_1.length; _i++) {\n            var index = selectedIndexes_1[_i];\n            if (uniqueSeries.indexOf(index.series) === -1) {\n                uniqueSeries.push(index.series);\n            }\n        }\n        for (var _a = 0, uniqueSeries_1 = uniqueSeries; _a < uniqueSeries_1.length; _a++) {\n            var index = uniqueSeries_1[_a];\n            if (this.control.series[index].visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * To add svg element style class\n     * @private\n     */\n    BaseSelection.prototype.addSvgClass = function (element, className) {\n        var elementClassName = element.getAttribute('class') || '';\n        elementClassName += ((elementClassName !== '') ? ' ' : '');\n        if (elementClassName.indexOf(className) === -1) {\n            element.setAttribute('class', elementClassName + className);\n        }\n    };\n    /**\n     * To remove svg element style class\n     * @private\n     */\n    BaseSelection.prototype.removeSvgClass = function (element, className) {\n        var elementClassName = element.getAttribute('class') || '';\n        if (elementClassName.indexOf(className) > -1) {\n            element.setAttribute('class', elementClassName.replace(className, ''));\n        }\n    };\n    /**\n     * To get children from parent element\n     */\n    BaseSelection.prototype.getChildren = function (parent) {\n        var children = [];\n        for (var i = 0; i < parent.childNodes.length; i++) {\n            if (parent.childNodes[i].tagName !== 'defs') {\n                children.push(parent.childNodes[i]);\n            }\n        }\n        return children;\n    };\n    return BaseSelection;\n}());\nexport { BaseSelection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Selection src file\n */\nimport { Browser } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ChartLocation, Rect, RectOption, CircleOption, withInBounds, getDraggedRectLocation, removeElement, getElement } from '../../common/utils/helper';\nimport { Index } from '../../common/model/base';\nimport { dragComplete } from '../../common/model/constants';\nimport { BaseSelection } from '../../common/user-interaction/selection';\n/**\n * `Selection` module handles the selection for chart.\n * @private\n */\nvar Selection = /** @class */ (function (_super) {\n    __extends(Selection, _super);\n    /**\n     * Constructor for selection module.\n     * @private.\n     */\n    function Selection(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.chart = chart;\n        _this.renderer = chart.renderer;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Binding events for selection module.\n     */\n    Selection.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(Browser.touchMoveEvent, this.mouseMove, this);\n        this.chart.on(cancelEvent, this.completeSelection, this);\n        this.chart.on('click', this.calculateSelectedElements, this);\n        this.chart.on(Browser.touchStartEvent, this.mousedown, this);\n        this.chart.on(Browser.touchEndEvent, this.completeSelection, this);\n    };\n    /**\n     * Chart mouse down\n     */\n    Selection.prototype.mousedown = function (e) {\n        var chart = this.chart;\n        if (chart.selectionMode === 'None' || chart.isChartDrag) {\n            return;\n        }\n        if (chart.isDoubleTap || !chart.isTouch || this.rectPoints) {\n            this.dragStart(chart, chart.chartAxisLayoutPanel.seriesClipRect, chart.mouseDownX, chart.mouseDownY, e);\n        }\n    };\n    /**\n     * UnBinding events for selection module.\n     */\n    Selection.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.off(Browser.touchMoveEvent, this.mouseMove);\n        this.chart.off('pointerleave' || 'mouseleave', this.completeSelection);\n        this.chart.off('click', this.calculateSelectedElements);\n        this.chart.off(Browser.touchStartEvent, this.mousedown);\n        this.chart.off(Browser.touchEndEvent, this.completeSelection);\n    };\n    /**\n     * To find private variable values\n     */\n    Selection.prototype.initPrivateVariables = function (chart) {\n        this.styleId = chart.element.id + '_ej2_chart_selection';\n        this.unselected = chart.element.id + '_ej2_deselected';\n        this.closeIconId = chart.element.id + '_ej2_drag_close';\n        this.draggedRectGroup = chart.element.id + '_ej2_drag_group';\n        this.draggedRect = chart.element.id + '_ej2_drag_rect';\n        this.selectedDataIndexes = [];\n        this.rectPoints = null;\n        this.isSeriesMode = chart.selectionMode === 'Series';\n    };\n    /**\n     * Method to select the point and series.\n     * @return {void}\n     */\n    Selection.prototype.invokeSelection = function (chart) {\n        this.initPrivateVariables(chart);\n        this.series = extend({}, chart.visibleSeries, null, true);\n        this.seriesStyles();\n        if (!(chart.selectionMode.indexOf('Drag') > -1)) {\n            this.selectDataIndex(chart, this.concatIndexes(chart.selectedDataIndexes, this.selectedDataIndexes));\n        }\n    };\n    Selection.prototype.generateStyle = function (series) {\n        if (series) {\n            return (series.selectionStyle || this.styleId + '_series_' + series.index);\n        }\n        return 'undefined';\n    };\n    Selection.prototype.selectDataIndex = function (chart, indexes) {\n        for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\n            var index = indexes_1[_i];\n            this.performSelection(index, chart, this.getElementByIndex(chart, index)[0]);\n        }\n    };\n    Selection.prototype.getElementByIndex = function (chart, index, suffix) {\n        if (suffix === void 0) { suffix = ''; }\n        var elementId = chart.element.id + '_Series_' + index.series + '_Point' + '_' + index.point;\n        var series = chart.series[index.series];\n        elementId = (!series.isRectSeries && series.type !== 'Scatter' && series.type !== 'Bubble' &&\n            series.marker.visible) ? (elementId + '_Symbol' + suffix) : elementId;\n        return [getElement(elementId), (series.type === 'RangeArea' && series.marker.visible) ? getElement(elementId + '1') : null];\n    };\n    Selection.prototype.getClusterElements = function (chart, index) {\n        var clusters = [];\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            index = new Index(series.index, index.point);\n            clusters.push(this.getElementByIndex(chart, index)[0]);\n        }\n        return clusters;\n    };\n    Selection.prototype.findElements = function (chart, series, index, suffix) {\n        if (suffix === void 0) { suffix = ''; }\n        if (this.isSeriesMode) {\n            return this.getSeriesElements(series);\n        }\n        else if (chart.selectionMode === 'Cluster') {\n            return this.getClusterElements(chart, index);\n        }\n        else {\n            return this.getElementByIndex(chart, index, suffix);\n        }\n    };\n    /**\n     * To find the selected element.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.calculateSelectedElements = function (event) {\n        if (this.chart.selectionMode === 'None' || event.target.id.indexOf(this.chart.element.id + '_') === -1) {\n            return;\n        }\n        if (event.target.id.indexOf('_Series_') > -1) {\n            this.performSelection(this.indexFinder(event.target.id), this.chart, event.target);\n        }\n    };\n    Selection.prototype.performSelection = function (index, chart, element) {\n        this.isSeriesMode = chart.selectionMode === 'Series';\n        if (chart.series[index.series].type === 'BoxAndWhisker' &&\n            element.id === chart.element.id + '_Series_' + index.series + '_Point_' + index.point + '_BoxPath') {\n            element = element.parentElement;\n        }\n        switch (chart.selectionMode) {\n            case 'Series':\n                this.selection(chart, index, this.getSeriesElements(chart.series[index.series]));\n                this.blurEffect(chart.element.id, chart.visibleSeries);\n                break;\n            case 'Point':\n                if (!isNaN(index.point)) {\n                    this.selection(chart, index, [element]);\n                    this.blurEffect(chart.element.id, chart.visibleSeries);\n                }\n                break;\n            case 'Cluster':\n                if (!isNaN(index.point)) {\n                    this.clusterSelection(chart, chart.series, index);\n                    this.blurEffect(chart.element.id, chart.visibleSeries);\n                }\n                break;\n        }\n    };\n    Selection.prototype.selection = function (chart, index, selectedElements) {\n        if (!chart.isMultiSelect && (chart.selectionMode.indexOf('Drag') === -1)) {\n            this.removeMultiSelectEelments(chart, this.selectedDataIndexes, index, chart.series);\n        }\n        var className = selectedElements[0] && (selectedElements[0].getAttribute('class') || '');\n        if (selectedElements[0] && className.indexOf(this.getSelectionClass(selectedElements[0].id)) > -1) {\n            this.removeStyles(selectedElements);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index);\n        }\n        else {\n            this.applyStyles(selectedElements);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index, true);\n        }\n    };\n    Selection.prototype.clusterSelection = function (chart, series, index) {\n        this.selection(chart, index, this.getClusterElements(chart, new Index(index.series, index.point)));\n    };\n    Selection.prototype.removeMultiSelectEelments = function (chart, index, currentIndex, seriesCollection) {\n        var series;\n        for (var i = 0; i < index.length; i++) {\n            series = seriesCollection[index[i].series];\n            if ((this.isSeriesMode && !this.toEquals(index[i], currentIndex, this.isSeriesMode)) ||\n                (this.control.selectionMode === 'Cluster' && !this.toEquals(index[i], currentIndex, false)) ||\n                (!this.isSeriesMode && this.toEquals(index[i], currentIndex, true) && !this.toEquals(index[i], currentIndex, false))) {\n                this.removeStyles(this.findElements(chart, series, index[i]));\n                index.splice(i, 1);\n                i--;\n            }\n        }\n    };\n    Selection.prototype.blurEffect = function (chartId, visibleSeries) {\n        var visibility = this.checkVisibility(this.selectedDataIndexes); // legend click scenario\n        for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n            var series = visibleSeries_1[_i];\n            if (series.visible) {\n                this.checkSelectionElements(getElement(chartId + 'SeriesGroup' + series.index), this.generateStyle(series), visibility);\n                if (!isNullOrUndefined(getElement(chartId + 'SymbolGroup' + series.index))) {\n                    this.checkSelectionElements(getElement(chartId + 'SymbolGroup' + series.index), this.generateStyle(series), visibility);\n                }\n            }\n        }\n    };\n    Selection.prototype.checkSelectionElements = function (element, className, visibility) {\n        var children = (this.isSeriesMode ? [element] : element.childNodes);\n        var elementClassName;\n        var parentClassName;\n        var legendShape;\n        var selectElement = element;\n        for (var i = 0; i < children.length; i++) {\n            elementClassName = children[i].getAttribute('class') || '';\n            parentClassName = children[i].parentNode.getAttribute('class') || '';\n            if (elementClassName.indexOf(className) === -1 &&\n                parentClassName.indexOf(className) === -1 && visibility) {\n                this.addSvgClass(children[i], this.unselected);\n            }\n            else {\n                selectElement = children[i];\n                this.removeSvgClass(children[i], this.unselected);\n            }\n        }\n        if (this.control.legendModule && this.control.legendSettings.visible) {\n            legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + className.split('_series_')[1]);\n            if (legendShape) {\n                elementClassName = selectElement.getAttribute('class') || '';\n                parentClassName = selectElement.parentNode.getAttribute('class') || '';\n                if (elementClassName.indexOf(className) === -1 && parentClassName.indexOf(className) === -1 && visibility) {\n                    this.addSvgClass(legendShape, this.unselected);\n                }\n                else {\n                    this.removeSvgClass(legendShape, this.unselected);\n                }\n            }\n        }\n    };\n    Selection.prototype.applyStyles = function (elements) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            if (element) {\n                this.removeSvgClass(element.parentNode, this.unselected);\n                this.removeSvgClass(element, this.unselected);\n                this.addSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    Selection.prototype.getSelectionClass = function (id) {\n        return this.generateStyle(this.control.series[this.indexFinder(id).series]);\n    };\n    Selection.prototype.removeStyles = function (elements) {\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            if (element) {\n                this.removeSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    Selection.prototype.addOrRemoveIndex = function (indexes, index, add) {\n        for (var i = 0; i < indexes.length; i++) {\n            if (this.toEquals(indexes[i], index, this.isSeriesMode)) {\n                indexes.splice(i, 1);\n                i--;\n            }\n        }\n        if (add) {\n            indexes.push(index);\n        }\n    };\n    Selection.prototype.toEquals = function (first, second, checkSeriesOnly) {\n        return ((first.series === second.series || (this.control.selectionMode === 'Cluster' && !checkSeriesOnly))\n            && (checkSeriesOnly || (first.point === second.point)));\n    };\n    /**\n     * To redraw the selected points.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.redrawSelection = function (chart, oldMode) {\n        this.isSeriesMode = oldMode === 'Series';\n        var selectedDataIndexes = extend([], this.selectedDataIndexes, null, true);\n        this.removeSelectedElements(chart, this.selectedDataIndexes, chart.series);\n        this.blurEffect(chart.element.id, chart.visibleSeries);\n        this.selectDataIndex(chart, selectedDataIndexes);\n    };\n    /** @private */\n    Selection.prototype.legendSelection = function (chart, series) {\n        var seriesStyle = this.generateStyle(chart.visibleSeries[series]);\n        var selectedElements = document.getElementsByClassName(seriesStyle);\n        this.isSeriesMode = chart.selectionMode === 'Series';\n        var isBlurEffectNeeded = true;\n        if (selectedElements.length > 0) {\n            var elements = [];\n            for (var i = 0; i < selectedElements.length; i++) {\n                elements.push(selectedElements[i]);\n            }\n            this.removeStyles(elements);\n            this.isSeriesMode = true;\n            this.addOrRemoveIndex(this.selectedDataIndexes, new Index(series, NaN));\n            for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                var series_1 = _a[_i];\n                seriesStyle = this.generateStyle(series_1);\n                if (document.getElementsByClassName(seriesStyle).length > 0) {\n                    for (var _b = 0, elements_3 = elements; _b < elements_3.length; _b++) {\n                        var element = elements_3[_b];\n                        this.checkSelectionElements(element, seriesStyle, true);\n                    }\n                    isBlurEffectNeeded = false;\n                    break;\n                }\n            }\n            if (isBlurEffectNeeded) {\n                this.isSeriesMode = chart.selectionMode === 'Series';\n                this.blurEffect(chart.element.id, chart.visibleSeries);\n            }\n        }\n        else {\n            var seriesElements = this.getSeriesElements(chart.visibleSeries[series]);\n            for (var _c = 0, seriesElements_1 = seriesElements; _c < seriesElements_1.length; _c++) {\n                var seriesElement = seriesElements_1[_c];\n                this.checkSelectionElements(seriesElement, seriesStyle, false);\n            }\n            this.isSeriesMode = true;\n            this.selection(chart, new Index(series, NaN), seriesElements);\n            this.isSeriesMode = chart.selectionMode === 'Series';\n            this.blurEffect(chart.element.id, chart.visibleSeries);\n        }\n    };\n    Selection.prototype.getSeriesElements = function (series) {\n        var seriesElements = [series.seriesElement];\n        if (series.marker.visible && series.type !== 'Scatter' && series.type !== 'Bubble' && !series.isRectSeries) {\n            seriesElements.push(series.symbolElement);\n        }\n        return seriesElements;\n    };\n    Selection.prototype.indexFinder = function (id) {\n        var ids = ['NaN', 'NaN'];\n        if (id.indexOf('SeriesGroup') > -1) {\n            ids = id.split('SeriesGroup');\n            ids[0] = ids[1];\n        }\n        else if (id.indexOf('SymbolGroup') > -1) {\n            ids = id.split('SymbolGroup');\n            ids[0] = ids[1];\n        }\n        else if (id.indexOf('_Point_') > -1) {\n            ids = id.split('_Series_')[1].split('_Point_');\n        }\n        else if (id.indexOf('_Series_') > -1) {\n            ids[0] = id.split('_Series_')[1];\n        }\n        return new Index(parseInt(ids[0], 10), parseInt(ids[1], 10));\n    };\n    /**\n     * Drag selection that returns the selected data.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.calculateDragSelectedElements = function (chart, dragRect) {\n        this.removeSelectedElements(chart, this.selectedDataIndexes, chart.series);\n        var rect = new Rect(dragRect.x, dragRect.y, dragRect.width, dragRect.height);\n        var axisOffset = new ChartLocation(chart.chartAxisLayoutPanel.seriesClipRect.x, chart.chartAxisLayoutPanel.seriesClipRect.y);\n        this.removeOffset(rect, axisOffset);\n        var points;\n        var index;\n        var selectedPointValues = [];\n        var selectedSeriesValues = [];\n        this.isSeriesMode = false;\n        var symbolLocation;\n        var _loop_1 = function (series) {\n            if (series.visible) {\n                points = series.points;\n                selectedPointValues = [];\n                var xAxisOffset_1;\n                var yAxisOffset_1;\n                if ((chart.isTransposed || series.type.indexOf('Bar') !== -1) &&\n                    !(chart.isTransposed && series.type.indexOf('Bar') !== -1)) {\n                    xAxisOffset_1 = series.xAxis.rect.y - axisOffset.y;\n                    yAxisOffset_1 = series.yAxis.rect.x - axisOffset.x;\n                }\n                else {\n                    xAxisOffset_1 = series.xAxis.rect.x - axisOffset.x;\n                    yAxisOffset_1 = series.yAxis.rect.y - axisOffset.y;\n                }\n                for (var j = 0; j < points.length; j++) {\n                    var yValue = series.type !== 'RangeArea' ? points[j].yValue :\n                        points[j].regions[0].y;\n                    var isCurrentPoint = void 0;\n                    if (series.type === 'BoxAndWhisker') {\n                        isCurrentPoint = points[j].regions.some(function (region) {\n                            return withInBounds(region.x + xAxisOffset_1, region.y + yAxisOffset_1, rect);\n                        });\n                    }\n                    else {\n                        isCurrentPoint = points[j].symbolLocations.some(function (location) {\n                            return location && withInBounds(location.x + xAxisOffset_1, location.y + yAxisOffset_1, rect);\n                        });\n                    }\n                    if (isCurrentPoint && series.category !== 'Indicator') {\n                        index = new Index(series.index, points[j].index);\n                        this_1.selection(chart, index, this_1.findElements(chart, series, index));\n                        selectedPointValues.push({ x: points[j].xValue.toString(), y: yValue });\n                    }\n                    if (isCurrentPoint && series.type === 'RangeArea') {\n                        selectedPointValues.push({ x: points[j].xValue.toString(), y: points[j].regions[0].y });\n                    }\n                }\n                selectedSeriesValues.push(selectedPointValues);\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            _loop_1(series);\n        }\n        this.blurEffect(chart.element.id, chart.visibleSeries);\n        this.rectPoints = new Rect(dragRect.x, dragRect.y, dragRect.width, dragRect.height);\n        this.createCloseButton((dragRect.x + dragRect.width), dragRect.y);\n        var args = {\n            name: dragComplete,\n            selectedDataValues: selectedSeriesValues,\n            cancel: false\n        };\n        chart.trigger(dragComplete, args);\n    };\n    Selection.prototype.removeOffset = function (rect, clip) {\n        rect.x -= clip.x;\n        rect.y -= clip.y;\n    };\n    /**\n     * Method to draw dragging rect.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.drawDraggingRect = function (chart, dragRect) {\n        var cartesianLayout = chart.chartAxisLayoutPanel.seriesClipRect;\n        switch (chart.selectionMode) {\n            case 'DragX':\n                dragRect.y = cartesianLayout.y;\n                dragRect.height = cartesianLayout.height;\n                break;\n            case 'DragY':\n                dragRect.x = cartesianLayout.x;\n                dragRect.width = cartesianLayout.width;\n                break;\n        }\n        if (dragRect.width < 5 || dragRect.height < 5) {\n            return null;\n        }\n        var element = getElement(this.draggedRect);\n        if (this.closeIcon) {\n            removeElement(this.closeIconId);\n        }\n        if (element) {\n            this.setAttributes(element, dragRect);\n        }\n        else {\n            var dragGroup = chart.renderer.createGroup({ id: this.draggedRectGroup });\n            chart.svgObject.appendChild(dragGroup);\n            element = chart.renderer.drawRectangle(new RectOption(this.draggedRect, chart.themeStyle.selectionRectFill, { color: chart.themeStyle.selectionRectStroke, width: 1 }, 1, dragRect));\n            element.setAttribute('style', 'cursor:move;');\n            dragGroup.appendChild(element);\n        }\n    };\n    Selection.prototype.createCloseButton = function (x, y) {\n        var closeIcon = this.chart.renderer.createGroup({\n            id: this.closeIconId,\n            style: 'cursor:pointer; visibility: visible;'\n        });\n        closeIcon.appendChild(this.chart.renderer.drawCircle(new CircleOption(this.closeIconId + '_circle', '#FFFFFF', { color: this.chart.themeStyle.selectionCircleStroke, width: 1 }, 1, x, y, 10)));\n        var direction = 'M ' + (x - 4) + ' ' + (y - 4) + ' L ' + (x + 4) + ' ' + (y + 4) + ' M ' + (x - 4) + ' ' + (y + 4) +\n            ' L ' + (x + 4) + ' ' + (y - 4);\n        closeIcon.appendChild(this.chart.renderer.drawPath({\n            id: this.closeIconId + '_cross', d: direction,\n            stroke: this.chart.themeStyle.selectionCircleStroke,\n            'stroke-width': 2, fill: this.chart.themeStyle.selectionCircleStroke\n        }));\n        this.closeIcon = closeIcon;\n        getElement(this.draggedRectGroup).appendChild(closeIcon);\n    };\n    /**\n     * Method to remove dragged element.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.removeDraggedElements = function (chart, event) {\n        if ((event.target.id.indexOf(this.closeIconId) > -1) && (event.type.indexOf('move') === -1)) {\n            this.removeSelectedElements(chart, this.selectedDataIndexes, chart.series);\n            this.blurEffect(chart.element.id, chart.visibleSeries);\n            remove(getElement(this.draggedRectGroup));\n            this.changeCursorStyle(false, chart.svgObject, 'auto');\n            this.rectPoints = null;\n        }\n    };\n    /**\n     * Method to resize the drag rect.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.resizingSelectionRect = function (chart, location, tapped) {\n        var rect = new Rect(this.rectPoints.x, this.rectPoints.y, this.rectPoints.width, this.rectPoints.height);\n        var resize = this.findResizeMode(chart.svgObject, rect, location);\n        if (this.resizing) {\n            rect = getDraggedRectLocation(rect.x, rect.y, (rect.x + rect.width), (rect.y + rect.height), chart.chartAxisLayoutPanel.seriesClipRect);\n            this.drawDraggingRect(chart, rect);\n            this.dragRect = rect;\n        }\n        if (tapped) {\n            this.resizing = resize;\n        }\n    };\n    Selection.prototype.findResizeMode = function (chartSvgObject, rect, location) {\n        var cursorStyle = 'se-resize';\n        var resize = false;\n        if (!this.resizing) {\n            var resizeEdges = [new Rect(rect.x, (rect.y - 10), rect.width - 5, 20),\n                new Rect((rect.x - 10), rect.y, 20, rect.height),\n                new Rect(rect.x, (rect.y + rect.height - 10), rect.width - 10, 20),\n                new Rect((rect.x + rect.width - 10), rect.y + 5, 20, rect.height - 15),\n                new Rect((rect.x + rect.width - 10), (rect.y + rect.height - 10), 20, 20)]; //corner\n            for (var i = 0; i < resizeEdges.length; i++) {\n                if (withInBounds(location.x, location.y, resizeEdges[i])) {\n                    cursorStyle = (i === 4) ? cursorStyle : (i % 2 === 0) ? 'ns-resize' : 'ew-resize';\n                    resize = true;\n                    this.resizeMode = i;\n                    break;\n                }\n            }\n        }\n        else {\n            var x = rect.x;\n            var y = rect.y;\n            var width = (location.x - x);\n            var height = (location.y - y);\n            switch (this.resizeMode) {\n                case 0:\n                    height = Math.abs((rect.height + rect.y) - location.y);\n                    rect.y = Math.min((rect.height + rect.y), location.y);\n                    rect.height = height;\n                    break;\n                case 1:\n                    width = Math.abs((rect.width + rect.x) - location.x);\n                    rect.x = Math.min((rect.width + rect.x), location.x);\n                    rect.width = width;\n                    break;\n                case 2:\n                    rect.height = Math.abs(height);\n                    rect.y = Math.min(location.y, y);\n                    break;\n                case 3:\n                    rect.width = Math.abs(width);\n                    rect.x = Math.min(location.x, x);\n                    break;\n                case 4:\n                    rect.width = Math.abs(width);\n                    rect.height = Math.abs(height);\n                    rect.x = Math.min(location.x, x);\n                    rect.y = Math.min(location.y, y);\n                    break;\n            }\n        }\n        this.changeCursorStyle(resize, getElement(this.draggedRect), cursorStyle);\n        this.changeCursorStyle(resize, chartSvgObject, cursorStyle);\n        return resize;\n    };\n    Selection.prototype.changeCursorStyle = function (isResize, rectelement, cursorStyle) {\n        cursorStyle = isResize ? cursorStyle : (this.control.svgObject === rectelement) ? 'auto' : 'move';\n        rectelement.setAttribute('style', 'cursor:' + cursorStyle + ';');\n    };\n    Selection.prototype.removeSelectedElements = function (chart, index, seriesCollection) {\n        index.splice(0, index.length);\n        var seriesElements;\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            seriesElements = this.getSeriesElements(series);\n            this.removeStyles(seriesElements);\n            for (var _a = 0, seriesElements_2 = seriesElements; _a < seriesElements_2.length; _a++) {\n                var seriesElement = seriesElements_2[_a];\n                this.removeStyles(this.getChildren(seriesElement));\n            }\n        }\n    };\n    Selection.prototype.setAttributes = function (ele, object) {\n        var keys = Object.keys(object);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            ele.setAttribute(key, object[key]);\n        }\n    };\n    /**\n     * Method to move the dragged rect.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.draggedRectMoved = function (chart, grabbedPoint, doDrawing) {\n        var rect = new Rect(this.rectPoints.x, this.rectPoints.y, this.rectPoints.width, this.rectPoints.height);\n        rect.x -= (grabbedPoint.x - chart.mouseX);\n        rect.y -= (grabbedPoint.y - chart.mouseY);\n        rect = getDraggedRectLocation(rect.x, rect.y, rect.x + rect.width, rect.height + rect.y, chart.chartAxisLayoutPanel.seriesClipRect);\n        if (doDrawing) {\n            this.drawDraggingRect(chart, rect);\n        }\n        else {\n            this.calculateDragSelectedElements(chart, rect);\n        }\n    };\n    /**\n     * To complete the selection.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.completeSelection = function (e) {\n        var chart = this.chart;\n        if (chart.selectionMode === 'None') {\n            return;\n        }\n        if ((this.dragging || this.resizing) && this.dragRect.width > 5 && this.dragRect.height > 5) {\n            this.calculateDragSelectedElements(chart, this.dragRect);\n        }\n        else if (this.rectGrabbing && this.rectPoints.width && this.rectPoints.height) {\n            this.draggedRectMoved(chart, this.dragRect);\n        }\n        this.dragging = false;\n        this.rectGrabbing = false;\n        this.resizing = false;\n        this.removeDraggedElements(chart, e);\n    };\n    Selection.prototype.getDragRect = function (chart, seriesClipRect) {\n        return getDraggedRectLocation(chart.mouseDownX, chart.mouseDownY, chart.mouseX, chart.mouseY, seriesClipRect);\n    };\n    /** @private */\n    Selection.prototype.dragStart = function (chart, seriesClipRect, mouseDownX, mouseDownY, event) {\n        this.dragging = (chart.selectionMode.indexOf('Drag') > -1) && (chart.isDoubleTap || !chart.isTouch) &&\n            chart.chartAreaType !== 'PolarRadar';\n        if (this.dragging) {\n            this.dragRect = new Rect(chart.mouseDownX, chart.mouseDownY, 0, 0);\n            if (chart.mouseDownX < seriesClipRect.x || chart.mouseDownX > (seriesClipRect.x + seriesClipRect.width) ||\n                chart.mouseDownY < seriesClipRect.y || chart.mouseDownY > (seriesClipRect.y + seriesClipRect.height)) {\n                this.dragging = false;\n            }\n        }\n        if (this.rectPoints) {\n            this.dragRect = new Rect(chart.mouseDownX, chart.mouseDownY, 0, 0);\n            this.resizingSelectionRect(chart, new ChartLocation(mouseDownX, mouseDownY), true);\n            this.rectGrabbing = withInBounds(mouseDownX, mouseDownY, this.rectPoints);\n        }\n    };\n    /** @private */\n    Selection.prototype.mouseMove = function (event) {\n        var chart = this.chart;\n        if (chart.selectionMode === 'None') {\n            return;\n        }\n        if (event.type === 'touchmove' && (Browser.isIos || Browser.isIos7) && this.dragging && event.preventDefault) {\n            event.preventDefault();\n        }\n        var insideMoving = withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect);\n        if (insideMoving) {\n            if (this.rectGrabbing && !this.resizing) {\n                this.draggedRectMoved(chart, this.dragRect, true);\n            }\n            else if (this.dragging && !this.resizing) {\n                this.dragRect = this.getDragRect(chart, chart.chartAxisLayoutPanel.seriesClipRect);\n                this.drawDraggingRect(chart, this.dragRect);\n            }\n            if (this.rectPoints) {\n                this.resizingSelectionRect(chart, new ChartLocation(chart.mouseX, chart.mouseY));\n            }\n        }\n        else {\n            this.completeSelection(event);\n        }\n    };\n    /**\n     * Get module name.\n     * @private\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'Selection';\n    };\n    /**\n     * To destroy the selection.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.destroy = function (chart) {\n        this.removeEventListener();\n        // Destroy method performed here\n    };\n    return Selection;\n}(BaseSelection));\nexport { Selection };\n","import { ChartLocation, Rect, TextOption, RectOption, isCollide, markerAnimate } from '../../common/utils/helper';\nimport { getLabelText, measureText, convertHexToColor, calculateRect, textElement, colorNameToHex } from '../../common/utils/helper';\nimport { textRender } from '../../common/model/constants';\nimport { createTemplate, getFontStyle, getElement, measureElementRect, templateAnimate, withIn } from '../../common/utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\nimport { getPoint } from '../../common/utils/helper';\n/**\n * `DataLabel` module is used to render data label for the data point.\n */\nvar DataLabel = /** @class */ (function () {\n    /**\n     * Constructor for the data label module.\n     * @private\n     */\n    function DataLabel(chart) {\n        this.errorHeight = 0;\n        this.chart = chart;\n    }\n    DataLabel.prototype.initPrivateVariables = function (series, marker) {\n        var transform;\n        var render = series.chart.renderer;\n        transform = series.chart.chartAreaType === 'Cartesian' ? 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')' : '';\n        if (marker.dataLabel.visible) {\n            series.shapeElement = render.createGroup({\n                'id': this.chart.element.id + 'ShapeGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.chart.element.id + '_ChartSeriesClipRect_' + series.index + ')'\n            });\n            series.textElement = render.createGroup({\n                'id': this.chart.element.id + 'TextGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.chart.element.id + '_ChartSeriesClipRect_' + series.index + ')'\n            });\n        }\n        this.markerHeight = ((series.type === 'Scatter' || marker.visible) && !this.isRectSeries(series)) ? (marker.height / 2) : 0;\n        this.commonId = this.chart.element.id + '_Series_' + series.index + '_Point_';\n        this.calculateErrorHeight(series, series.marker.dataLabel.position);\n        this.chartBackground = this.chart.chartArea.background === 'trasparent' ?\n            this.chart.background || this.chart.themeStyle.background : this.chart.chartArea.background;\n    };\n    DataLabel.prototype.calculateErrorHeight = function (series, position) {\n        if (!series.errorBar.visible) {\n            return null;\n        }\n        else if (series.errorBar.visible && this.chart.chartAreaType !== 'PolarRadar') {\n            var direction = series.errorBar.direction;\n            var positiveHeight = this.chart.errorBarModule.positiveHeight;\n            var negativeHeight = this.chart.errorBarModule.negativeHeight;\n            if (this.isRectSeries(series)) {\n                if (position === 'Top' || position === 'Auto') {\n                    if (direction === 'Both' || direction === 'Minus') {\n                        this.errorHeight = negativeHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n                if (position === 'Outer' || position === 'Auto') {\n                    if (direction === 'Both' || direction === 'Plus') {\n                        this.errorHeight = positiveHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n            }\n            else {\n                if (position === 'Top' || position === 'Outer' || position === 'Auto') {\n                    if ((direction === 'Both' || direction === 'Plus') && (!series.chart.isTransposed)) {\n                        this.errorHeight = positiveHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n                if (position === 'Bottom' || position === 'Auto') {\n                    if (direction === 'Both' || direction === 'Minus') {\n                        this.errorHeight = negativeHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n            }\n        }\n        else {\n            this.errorHeight = 0;\n        }\n    };\n    DataLabel.prototype.isRectSeries = function (series) {\n        return series.isRectSeries || series.type === 'RangeArea';\n    };\n    /**\n     * Render the data label for series.\n     * @return {void}\n     */\n    DataLabel.prototype.render = function (series, chart, dataLabel) {\n        var _this = this;\n        // initialize the private variable\n        this.initPrivateVariables(series, series.marker);\n        var rect;\n        var rgbValue;\n        var contrast;\n        var argsData;\n        var border;\n        var textSize;\n        this.inverted = chart.requireInvertedAxis;\n        this.yAxisInversed = series.yAxis.isInversed;\n        var element = createElement('div', {\n            id: chart.element.id + '_Series_' + series.index + '_DataLabelCollections'\n        });\n        // Data label point iteration started\n        series.points.map(function (point, index) {\n            _this.margin = dataLabel.margin;\n            var labelText = [];\n            var labelLength;\n            var clip = series.clipRect;\n            border = { width: dataLabel.border.width, color: dataLabel.border.color };\n            if ((point.symbolLocations.length && point.symbolLocations[0]) ||\n                (series.type === 'BoxAndWhisker' && point.regions.length)) {\n                labelText = getLabelText(point, series, chart);\n                labelLength = labelText.length;\n                for (var i = 0; i < labelLength; i++) {\n                    argsData = {\n                        cancel: false, name: textRender, series: series,\n                        point: point, text: labelText[i], border: border,\n                        color: dataLabel.fill, template: dataLabel.template\n                    };\n                    chart.trigger(textRender, argsData);\n                    if (!argsData.cancel) {\n                        _this.fontBackground = argsData.color;\n                        _this.isDataLabelShape(argsData);\n                        _this.markerHeight = series.type === 'Bubble' ? (point.regions[0].height / 2) : _this.markerHeight;\n                        if (argsData.template !== null) {\n                            _this.createDataLabelTemplate(element, series, dataLabel, point, argsData, i);\n                        }\n                        else {\n                            textSize = measureText(argsData.text, dataLabel.font);\n                            rect = _this.calculateTextPosition(point, series, textSize, dataLabel, i);\n                            if (!isCollide(rect, chart.dataLabelCollections, clip)) {\n                                chart.dataLabelCollections.push(new Rect(rect.x + clip.x, rect.y + clip.y, rect.width, rect.height));\n                                if (_this.isShape) {\n                                    series.shapeElement.appendChild(chart.renderer.drawRectangle(new RectOption(_this.commonId + index + '_TextShape_' + i, argsData.color, argsData.border, dataLabel.opacity, rect, dataLabel.rx, dataLabel.ry)));\n                                }\n                                // Checking the font color\n                                rgbValue = convertHexToColor(colorNameToHex(_this.fontBackground));\n                                contrast = Math.round((rgbValue.r * 299 + rgbValue.g * 587 + rgbValue.b * 114) / 1000);\n                                textElement(new TextOption(_this.commonId + index + '_Text_' + i, rect.x + _this.margin.left + textSize.width / 2, rect.y + _this.margin.top + textSize.height * 3 / 4, 'middle', argsData.text, 'rotate(0,' + (rect.x) + ',' + (rect.y) + ')', 'auto'), dataLabel.font, dataLabel.font.color ||\n                                    ((contrast >= 128 || series.type === 'Hilo') ? 'black' : 'white'), series.textElement);\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        if (element.childElementCount) {\n            getElement(chart.element.id + '_Secondary_Element').appendChild(element);\n        }\n    };\n    /**\n     * Render the data label template.\n     * @return {void}\n     * @private\n     */\n    DataLabel.prototype.createDataLabelTemplate = function (parentElement, series, dataLabel, point, data, labelIndex) {\n        this.margin = { left: 0, right: 0, bottom: 0, top: 0 };\n        var clip = series.clipRect;\n        var childElement = createTemplate(createElement('div', {\n            id: this.chart.element.id + '_Series_' + series.index + '_DataLabel_'\n                + point.index + (labelIndex ? ('_' + labelIndex) : ''),\n            styles: 'position: absolute;background-color:' + data.color + ';' +\n                getFontStyle(dataLabel.font) + ';border:' + data.border.width + 'px solid ' + data.border.color + ';'\n        }), point.index, data.template, this.chart, point, series);\n        var elementRect = measureElementRect(childElement);\n        var rect = this.calculateTextPosition(point, series, { width: elementRect.width, height: elementRect.height }, dataLabel, labelIndex);\n        childElement.style.left = ((this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.x) + rect.x) + 'px';\n        childElement.style.top = ((this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.y) + rect.y) + 'px';\n        var rgbValue = convertHexToColor(colorNameToHex(this.fontBackground));\n        var vAxis = series.chart.requireInvertedAxis ? series.xAxis : series.yAxis;\n        var hAxis = series.chart.requireInvertedAxis ? series.yAxis : series.xAxis;\n        childElement.style.color = dataLabel.font.color ||\n            ((Math.round((rgbValue.r * 299 + rgbValue.g * 587 + rgbValue.b * 114) / 1000)) >= 128 ? 'black' : 'white');\n        if (childElement.childElementCount && !isCollide(rect, this.chart.dataLabelCollections, clip)\n            && (series.seriesType !== 'XY' || point.yValue === undefined || withIn(point.yValue, series.yAxis.visibleRange) ||\n                (series.type.indexOf('100') > -1 && withIn(series.stackedValues.endValues[point.index], series.yAxis.visibleRange)))\n            && withIn(point.xValue, series.xAxis.visibleRange) && parseFloat(childElement.style.top) >= vAxis.rect.y &&\n            parseFloat(childElement.style.left) >= hAxis.rect.x && parseFloat(childElement.style.top) <= vAxis.rect.y + vAxis.rect.height &&\n            parseFloat(childElement.style.left) <= hAxis.rect.x + hAxis.rect.width) {\n            this.chart.dataLabelCollections.push(new Rect(rect.x + clip.x, rect.y + clip.y, rect.width, rect.height));\n            parentElement.appendChild(childElement);\n            if (series.animation.enable && this.chart.animateSeries) {\n                this.doDataLabelAnimation(series, childElement);\n            }\n        }\n    };\n    DataLabel.prototype.calculateTextPosition = function (point, series, textSize, dataLabel, labelIndex) {\n        var labelRegion = labelIndex > 1 ? (series.type === 'Candle') ? point.regions[1] : point.regions[0] : point.regions[0];\n        if (labelIndex > 1 && series.type === 'HiloOpenClose') {\n            labelRegion = (labelIndex === 2) ? point.regions[1] : point.regions[2];\n        }\n        var location;\n        location = this.getLabelLocation(point, series, textSize, labelIndex);\n        var padding = 5;\n        var clipRect = series.clipRect;\n        var rect;\n        // calculating alignment\n        if (!this.chart.requireInvertedAxis || !this.isRectSeries(series) || series.type === 'BoxAndWhisker') {\n            this.locationX = location.x;\n            var alignmentValue = textSize.height + (this.borderWidth * 2) + this.markerHeight +\n                this.margin.bottom + this.margin.top + padding;\n            location.y = (dataLabel.position === 'Auto') ? location.y :\n                this.calculateAlignment(alignmentValue, location.y, dataLabel.alignment, this.isRectSeries(series) ? point.yValue < 0 : false);\n            // calculating position\n            location.y = (!this.isRectSeries(series) || series.type === 'BoxAndWhisker') ?\n                this.calculatePathPosition(location.y, dataLabel.position, series, point, textSize, labelIndex) :\n                this.calculateRectPosition(location.y, labelRegion, point.yValue < 0 !== this.yAxisInversed, dataLabel.position, series, textSize, labelIndex, point);\n            if (this.isRectSeries(series) && this.chart.chartAreaType === 'PolarRadar') {\n                location = this.calculatePolarRectPosition(location, dataLabel.position, series, point, textSize, labelIndex);\n            }\n        }\n        else {\n            this.locationY = location.y;\n            var alignmentValue = textSize.width + this.borderWidth + this.margin.left + this.margin.right - padding;\n            location.x = dataLabel.position === 'Auto' ? location.x :\n                this.calculateAlignment(alignmentValue, location.x, dataLabel.alignment, point.yValue < 0);\n            location.x = this.calculateRectPosition(location.x, labelRegion, point.yValue < 0 !== this.yAxisInversed, dataLabel.position, series, textSize, labelIndex, point);\n        }\n        rect = calculateRect(location, textSize, this.margin);\n        // Checking the condition whether data Label has been exist the clip rect\n        if (!((rect.y > clipRect.height) || (rect.x > clipRect.width) ||\n            (rect.x + rect.width < 0) || (rect.y + rect.height < 0))) {\n            rect.x = rect.x < 0 ? padding : rect.x;\n            rect.y = rect.y < 0 ? padding : rect.y;\n            rect.x -= (rect.x + rect.width) > clipRect.width ? (rect.x + rect.width) - clipRect.width + padding : 0;\n            rect.y -= (rect.y + rect.height) > clipRect.height ? (rect.y + rect.height) - clipRect.height + padding : 0;\n            this.fontBackground = this.fontBackground === 'transparent' ? this.chartBackground : this.fontBackground;\n        }\n        return rect;\n    };\n    // Calculation label location for polar column draw types\n    DataLabel.prototype.calculatePolarRectPosition = function (location, position, series, point, size, labelIndex) {\n        var padding = 5;\n        var columnRadius;\n        var angle = (point.regionData.startAngle - 0.5 * Math.PI) + (point.regionData.endAngle - point.regionData.startAngle) / 2;\n        if (labelIndex === 0) {\n            columnRadius = point.regionData.radius < point.regionData.innerRadius ? point.regionData.innerRadius\n                : point.regionData.radius;\n        }\n        else {\n            columnRadius = point.regionData.radius > point.regionData.innerRadius ? point.regionData.innerRadius\n                : point.regionData.radius;\n        }\n        this.fontBackground = this.fontBackground === 'transparent' ? this.chartBackground : this.fontBackground;\n        if (series.drawType.indexOf('Stacking') > -1) {\n            position = position === 'Outer' ? 'Top' : position;\n        }\n        else if (series.drawType.indexOf('Range') > -1) {\n            position = (position === 'Outer' || position === 'Top') ? position : 'Auto';\n        }\n        if (position === 'Outer') {\n            columnRadius = labelIndex === 0 ? columnRadius + 2 * padding : columnRadius - 2 * padding;\n        }\n        else if (position === 'Middle') {\n            columnRadius = columnRadius / 2 + padding;\n        }\n        else if (position === 'Top') {\n            columnRadius = labelIndex === 0 ? columnRadius - 2 * padding : columnRadius + 2 * padding;\n        }\n        else if (position === 'Bottom') {\n            columnRadius = padding;\n        }\n        else {\n            if (labelIndex === 0) {\n                columnRadius = columnRadius >= series.chart.radius ? columnRadius - padding :\n                    series.drawType === 'StackingColumn' ? columnRadius - 2 * padding : columnRadius + 2 * padding;\n            }\n            else {\n                columnRadius = columnRadius >= series.chart.radius ? columnRadius + padding : columnRadius - 2 * padding;\n            }\n        }\n        location.x = series.clipRect.width / 2 + series.clipRect.x + columnRadius * Math.cos(angle);\n        location.y = series.clipRect.height / 2 + series.clipRect.y + columnRadius * Math.sin(angle);\n        return location;\n    };\n    /**\n     * Get the label location\n     */\n    DataLabel.prototype.getLabelLocation = function (point, series, textSize, labelIndex) {\n        var location = new ChartLocation(0, 0);\n        var labelRegion = (series.type === 'Candle' && labelIndex > 1) ? point.regions[1] : point.regions[0];\n        if (series.type === 'HiloOpenClose') {\n            labelRegion = (labelIndex === 2) ? point.regions[1] : point.regions[2];\n        }\n        var xAxis = series.xAxis;\n        var yAxis = series.yAxis;\n        var isInverted = series.chart.requireInvertedAxis;\n        if (series.type === 'BoxAndWhisker') {\n            this.markerHeight = 0;\n            switch (labelIndex) {\n                case 0:\n                    location = getPoint(point.xValue, point.median, xAxis, yAxis, isInverted);\n                    break;\n                case 1:\n                    location = getPoint(point.xValue, point.maximum, xAxis, yAxis, isInverted);\n                    break;\n                case 2:\n                    location = getPoint(point.xValue, point.minimum, xAxis, yAxis, isInverted);\n                    break;\n                case 3:\n                    location = getPoint(point.xValue, point.upperQuartile, xAxis, yAxis, isInverted);\n                    break;\n                case 4:\n                    location = getPoint(point.xValue, point.lowerQuartile, xAxis, yAxis, isInverted);\n                    break;\n                default: {\n                    location = getPoint(point.xValue, point.outliers[labelIndex - 5], xAxis, yAxis, isInverted);\n                    this.markerHeight = series.marker.height / 2;\n                    break;\n                }\n            }\n        }\n        else if (labelIndex === 0 || labelIndex === 1) {\n            location = new ChartLocation(point.symbolLocations[0].x, point.symbolLocations[0].y);\n        }\n        else if ((labelIndex === 2 || labelIndex === 3) && series.type === 'Candle') {\n            location = new ChartLocation(point.symbolLocations[1].x, point.symbolLocations[1].y);\n        }\n        else if (isInverted) {\n            location = { x: labelRegion.x + (labelRegion.width) / 2, y: labelRegion.y };\n        }\n        else {\n            location = { x: labelRegion.x + labelRegion.width, y: labelRegion.y + (labelRegion.height) / 2 };\n        }\n        //Aligning the label at the beginning of the tick, when tick size is less than text size\n        if (labelIndex > 1 && series.type === 'HiloOpenClose') {\n            if (series.chart.requireInvertedAxis) {\n                var height = labelRegion.height;\n                location.y = labelRegion.y + height / 2 + 2 * (labelIndex === 2 ? 1 : -1);\n            }\n            else {\n                var width = labelRegion.width;\n                location.x = labelRegion.x + width / 2 + 2 * (labelIndex === 2 ? 1 : -1);\n            }\n        }\n        return location;\n    };\n    DataLabel.prototype.calculateRectPosition = function (labelLocation, rect, isMinus, position, series, textSize, labelIndex, point) {\n        if (series.chart.chartAreaType === 'PolarRadar') {\n            return null;\n        }\n        var padding = 5;\n        var margin = this.margin;\n        var textLength = !this.inverted ? textSize.height : textSize.width;\n        var extraSpace = this.borderWidth + textLength / 2 + padding;\n        if (series.type.indexOf('Stacking') > -1) {\n            position = position === 'Outer' ? 'Top' : position;\n        }\n        else if (series.type.indexOf('Range') > -1) {\n            position = (position === 'Outer' || position === 'Top') ? position : 'Auto';\n        }\n        else if (series.type === 'Waterfall') {\n            position = position === 'Auto' ? 'Middle' : position;\n        }\n        switch (position) {\n            case 'Bottom':\n                labelLocation = !this.inverted ?\n                    isMinus ? (labelLocation - rect.height + extraSpace + margin.top) :\n                        (labelLocation + rect.height - extraSpace - margin.bottom) :\n                    isMinus ? (labelLocation + rect.width - extraSpace - margin.left) :\n                        (labelLocation - rect.width + extraSpace + margin.right);\n                break;\n            case 'Middle':\n                labelLocation = labelLocation = !this.inverted ?\n                    (isMinus ? labelLocation - (rect.height / 2) : labelLocation + (rect.height / 2)) :\n                    (isMinus ? labelLocation + (rect.width / 2) : labelLocation - (rect.width / 2));\n                break;\n            case 'Auto':\n                labelLocation = this.calculateRectActualPosition(labelLocation, rect, isMinus, series, textSize, labelIndex, point);\n                break;\n            default:\n                extraSpace += this.errorHeight;\n                labelLocation = this.calculateTopAndOuterPosition(labelLocation, rect, position, series, labelIndex, extraSpace, isMinus);\n                break;\n        }\n        var check = !this.inverted ? (labelLocation < rect.y || labelLocation > rect.y + rect.height) :\n            (labelLocation < rect.x || labelLocation > rect.x + rect.width);\n        this.fontBackground = check ?\n            (this.fontBackground === 'transparent' ? this.chartBackground : this.fontBackground)\n            : this.fontBackground === 'transparent' ? (point.color || series.interior) : this.fontBackground;\n        return labelLocation;\n    };\n    DataLabel.prototype.calculatePathPosition = function (labelLocation, position, series, point, size, labelIndex) {\n        var padding = 5;\n        if ((series.type.indexOf('Area') > -1 && series.type !== 'RangeArea')\n            && this.yAxisInversed && series.marker.dataLabel.position !== 'Auto') {\n            position = position === 'Top' ? 'Bottom' : position === 'Bottom' ? 'Top' : position;\n        }\n        this.fontBackground = this.fontBackground === 'transparent' ? this.chartBackground : this.fontBackground;\n        switch (position) {\n            case 'Top':\n            case 'Outer':\n                labelLocation = labelLocation - this.markerHeight - this.borderWidth - size.height / 2 - this.margin.bottom - padding -\n                    this.errorHeight;\n                break;\n            case 'Bottom':\n                labelLocation = labelLocation + this.markerHeight + this.borderWidth + size.height / 2 + this.margin.top + padding +\n                    this.errorHeight;\n                break;\n            case 'Auto':\n                labelLocation = this.calculatePathActualPosition(labelLocation, this.markerHeight, series, point, size, labelIndex);\n                break;\n        }\n        return labelLocation;\n    };\n    DataLabel.prototype.isDataLabelShape = function (style) {\n        this.isShape = (style.color !== 'transparent' || style.border.width > 0);\n        this.borderWidth = style.border.width;\n        if (!this.isShape) {\n            this.margin = { left: 0, right: 0, bottom: 0, top: 0 };\n        }\n    };\n    DataLabel.prototype.calculateRectActualPosition = function (labelLocation, rect, isMinus, series, size, labelIndex, point) {\n        var location;\n        var labelRect;\n        var isOverLap = true;\n        var position = 0;\n        var collection = this.chart.dataLabelCollections;\n        var finalPosition = series.type.indexOf('Range') !== -1 || series.type === 'Hilo' ? 2 : 4;\n        while (isOverLap && position < finalPosition) {\n            location = this.calculateRectPosition(labelLocation, rect, isMinus, this.getPosition(position), series, size, labelIndex, point);\n            if (!this.inverted) {\n                labelRect = calculateRect(new ChartLocation(this.locationX, location), size, this.margin);\n                isOverLap = labelRect.y < 0 || isCollide(labelRect, collection, series.clipRect) || labelRect.y > series.clipRect.height;\n            }\n            else {\n                labelRect = calculateRect(new ChartLocation(location, this.locationY), size, this.margin);\n                isOverLap = labelRect.x < 0 || isCollide(labelRect, collection, series.clipRect) ||\n                    labelRect.x + labelRect.width > series.clipRect.width;\n            }\n            position++;\n        }\n        return location;\n    };\n    // alignment calculation assigned here\n    DataLabel.prototype.calculateAlignment = function (value, labelLocation, alignment, isMinus) {\n        switch (alignment) {\n            case 'Far':\n                labelLocation = !this.inverted ? (isMinus ? labelLocation + value : labelLocation - value) :\n                    (isMinus ? labelLocation - value : labelLocation + value);\n                break;\n            case 'Near':\n                labelLocation = !this.inverted ? (isMinus ? labelLocation - value : labelLocation + value) :\n                    (isMinus ? labelLocation + value : labelLocation - value);\n                break;\n            case 'Center':\n                labelLocation = labelLocation;\n                break;\n        }\n        return labelLocation;\n    };\n    //calculation for top and outer position of datalabel for rect series\n    DataLabel.prototype.calculateTopAndOuterPosition = function (location, rect, position, series, index, extraSpace, isMinus) {\n        var margin = this.margin;\n        var top;\n        switch (series.type) {\n            case 'RangeColumn':\n            case 'RangeArea':\n            case 'Hilo':\n                top = (index === 0 && !this.yAxisInversed) || (index === 1 && this.yAxisInversed);\n                location = this.updateLabelLocation(position, location, extraSpace, margin, rect, top);\n                break;\n            case 'Candle':\n                top = (index === 0 || index === 2) && !this.yAxisInversed\n                    || (index === 1 || index === 3) && this.yAxisInversed;\n                location = this.updateLabelLocation(position, location, extraSpace, margin, rect, top, index > 1);\n                break;\n            case 'HiloOpenClose':\n                if (index <= 1) {\n                    top = (index === 0 && !this.yAxisInversed) || (index === 1 && this.yAxisInversed);\n                    location = this.updateLabelLocation(position, location, extraSpace, margin, rect, top);\n                }\n                else {\n                    if (this.yAxisInversed) {\n                        location = !this.inverted ? location + extraSpace + margin.top : location - extraSpace - margin.right;\n                    }\n                    else {\n                        location = !this.inverted ? location - extraSpace - margin.bottom : location + extraSpace + margin.left;\n                    }\n                }\n                break;\n            default:\n                if ((isMinus && position === 'Top') || (!isMinus && position === 'Outer')) {\n                    location = !this.inverted ? location - extraSpace - margin.bottom : location + extraSpace + margin.left;\n                }\n                else {\n                    location = !this.inverted ? location + extraSpace + margin.top : location - extraSpace - margin.right;\n                }\n                break;\n        }\n        return location;\n    };\n    /**\n     * Updates the label location\n     */\n    DataLabel.prototype.updateLabelLocation = function (position, location, extraSpace, margin, rect, top, inside) {\n        if (inside === void 0) { inside = false; }\n        if (!this.inverted) {\n            if (top) {\n                location = (position === 'Outer' && !inside) ? location - extraSpace - margin.bottom : location + extraSpace + margin.top;\n            }\n            else {\n                location = (position === 'Outer' && !inside) ? location + rect.height + extraSpace + margin.top :\n                    location + rect.height - extraSpace - margin.bottom;\n            }\n        }\n        else {\n            if (top) {\n                location = (position === 'Outer' && !inside) ? location + extraSpace + margin.left : location - extraSpace - margin.right;\n            }\n            else {\n                location = (position === 'Outer' && !inside) ? location - rect.width - extraSpace - margin.right :\n                    location - rect.width + extraSpace + margin.left;\n            }\n        }\n        return location;\n    };\n    DataLabel.prototype.calculatePathActualPosition = function (y, markerSize, series, point, size, labelIndex) {\n        var points = series.points;\n        var index = point.index;\n        var yValue = points[index].yValue;\n        var position;\n        var nextPoint = points.length - 1 > index ? points[index + 1] : null;\n        var previousPoint = index > 0 ? points[index - 1] : null;\n        var yLocation;\n        var isOverLap = true;\n        var labelRect;\n        var isBottom;\n        var positionIndex;\n        var collection = this.chart.dataLabelCollections;\n        if (series.type === 'Bubble') {\n            position = 'Top';\n        }\n        else if (series.type.indexOf('Step') > -1) {\n            position = 'Top';\n            if (index) {\n                position = (!previousPoint || !previousPoint.visible || (yValue > previousPoint.yValue !== this.yAxisInversed)\n                    || yValue === previousPoint.yValue) ? 'Top' : 'Bottom';\n            }\n        }\n        else if (series.type === 'BoxAndWhisker') {\n            if (labelIndex === 1 || labelIndex === 3 || labelIndex > 4) {\n                position = series.yAxis.isInversed ? 'Bottom' : 'Top';\n            }\n            else if (labelIndex === 2 || labelIndex === 4) {\n                position = series.yAxis.isInversed ? 'Top' : 'Bottom';\n            }\n            else {\n                isOverLap = false;\n                position = 'Middle';\n                yLocation = this.calculatePathPosition(y, position, series, point, size, labelIndex);\n            }\n        }\n        else {\n            if (index === 0) {\n                position = (!nextPoint || !nextPoint.visible || yValue > nextPoint.yValue ||\n                    (yValue < nextPoint.yValue && this.yAxisInversed)) ? 'Top' : 'Bottom';\n            }\n            else if (index === points.length - 1) {\n                position = (!previousPoint || !previousPoint.visible || yValue > previousPoint.yValue ||\n                    (yValue < previousPoint.yValue && this.yAxisInversed)) ? 'Top' : 'Bottom';\n            }\n            else {\n                if (!nextPoint.visible && !(previousPoint && previousPoint.visible)) {\n                    position = 'Top';\n                }\n                else if (!nextPoint.visible || !previousPoint) {\n                    position = (nextPoint.yValue > yValue || (previousPoint && previousPoint.yValue > yValue)) ?\n                        'Bottom' : 'Top';\n                }\n                else {\n                    var slope = (nextPoint.yValue - previousPoint.yValue) / 2;\n                    var intersectY = (slope * index) + (nextPoint.yValue - (slope * (index + 1)));\n                    position = !this.yAxisInversed ? intersectY < yValue ? 'Top' : 'Bottom' :\n                        intersectY < yValue ? 'Bottom' : 'Top';\n                }\n            }\n        }\n        isBottom = position === 'Bottom';\n        positionIndex = ['Outer', 'Top', 'Bottom', 'Middle', 'Auto'].indexOf(position);\n        while (isOverLap && positionIndex < 4) {\n            yLocation = this.calculatePathPosition(y, this.getPosition(positionIndex), series, point, size, labelIndex);\n            labelRect = calculateRect(new ChartLocation(this.locationX, yLocation), size, this.margin);\n            isOverLap = labelRect.y < 0 || isCollide(labelRect, collection, series.clipRect)\n                || (labelRect.y + labelRect.height) > series.clipRect.height;\n            positionIndex = isBottom ? positionIndex - 1 : positionIndex + 1;\n            isBottom = false;\n        }\n        return yLocation;\n    };\n    /**\n     * Animates the data label.\n     * @param  {Series} series - Data label of the series gets animated.\n     * @return {void}\n     */\n    DataLabel.prototype.doDataLabelAnimation = function (series, element) {\n        var shapeElements = series.shapeElement.childNodes;\n        var textNode = series.textElement.childNodes;\n        var delay = series.animation.delay + series.animation.duration;\n        var location;\n        var length = element ? 1 : textNode.length;\n        for (var i = 0; i < length; i++) {\n            if (element) {\n                element.style.visibility = 'hidden';\n                templateAnimate(element, delay, 200, 'ZoomIn');\n            }\n            else {\n                location = new ChartLocation((+textNode[i].getAttribute('x')) + ((+textNode[i].getAttribute('width')) / 2), (+textNode[i].getAttribute('y')) + ((+textNode[i].getAttribute('height')) / 2));\n                markerAnimate(textNode[i], delay, 200, series, null, location, true);\n                if (shapeElements[i]) {\n                    location = new ChartLocation((+shapeElements[i].getAttribute('x')) + ((+shapeElements[i].getAttribute('width')) / 2), (+shapeElements[i].getAttribute('y')) + ((+shapeElements[i].getAttribute('height')) / 2));\n                    markerAnimate(shapeElements[i], delay, 200, series, null, location, true);\n                }\n            }\n        }\n    };\n    DataLabel.prototype.getPosition = function (index) {\n        return (['Outer', 'Top', 'Bottom', 'Middle', 'Auto'][index]);\n    };\n    /**\n     * Get module name.\n     */\n    DataLabel.prototype.getModuleName = function () {\n        // Returns the module name\n        return 'DataLabel';\n    };\n    /**\n     * To destroy the dataLabel for series.\n     * @return {void}\n     * @private\n     */\n    DataLabel.prototype.destroy = function (chart) {\n        // Destroy method performed here\n    };\n    return DataLabel;\n}());\nexport { DataLabel };\n","import { Mean, RectOption } from '../../common/utils/helper';\nimport { getPoint, PathOption, sum, templateAnimate } from '../../common/utils/helper';\n/**\n * `ErrorBar` module is used to render the error bar for series.\n */\nvar ErrorBar = /** @class */ (function () {\n    /**\n     * Constructor for the error bar module.\n     * @private\n     */\n    function ErrorBar(chart) {\n        this.chart = chart;\n    }\n    /**\n     * Render the error bar for series.\n     * @return {void}\n     */\n    ErrorBar.prototype.render = function (series) {\n        if (this.chart.chartAreaType === 'PolarRadar') {\n            return null;\n        }\n        this.createElement(series);\n        this.renderErrorBar(series);\n    };\n    ErrorBar.prototype.renderErrorBar = function (series) {\n        var seriesIndex = series.index;\n        var point;\n        var symbolId;\n        var capId;\n        var errorbar = series.errorBar;\n        var errorBarCap = series.errorBar.errorBarCap;\n        var border = series.border;\n        var start;\n        var mid;\n        var end;\n        var isInverted;\n        var isVert;\n        var errorDirection = ['', ''];\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point_1 = _a[_i];\n            if (point_1.visible && point_1.symbolLocations[0]) {\n                var errorX = 0;\n                var errorY = 0;\n                switch (errorbar.mode) {\n                    case 'Vertical':\n                        errorY = errorbar.verticalError;\n                        break;\n                    case 'Horizontal':\n                        errorX = errorbar.horizontalError;\n                        break;\n                    case 'Both':\n                        errorX = errorbar.horizontalError;\n                        errorY = errorbar.verticalError;\n                        break;\n                }\n                errorDirection = this['calculate' + errorbar.type + 'Value'](point_1, series, this.chart.requireInvertedAxis, errorX, errorY);\n                symbolId = this.chart.element.id + '_Series_' + '_ErrorBarGroup_' + seriesIndex + '_Point_' + point_1.index;\n                capId = this.chart.element.id + '_Series_' + '_ErrorBarCap_' + seriesIndex + '_Point_' + point_1.index;\n                var shapeOption = new PathOption(symbolId, '', errorbar.width, errorbar.color || this.chart.themeStyle.errorBar, null, '', errorDirection[0]);\n                var path = this.chart.renderer.drawPath(shapeOption);\n                series.errorBarElement.appendChild(path);\n                var capOption = new PathOption(capId, '', errorBarCap.width, errorBarCap.color || this.chart.themeStyle.errorBar, null, '', errorDirection[1]);\n                var capPath = this.chart.renderer.drawPath(capOption);\n                series.errorBarElement.appendChild(capPath);\n            }\n        }\n    };\n    // path calculation for error bar\n    ErrorBar.prototype.findLocation = function (point, series, isInverted, x1, y1) {\n        var errorbar = series.errorBar;\n        var direction = errorbar.direction;\n        var location = [];\n        var stackedValue = series.stackedValues;\n        var yValue = series.type.indexOf('Stacking') > -1 ? series.stackedValues.endValues[point.index] :\n            (series.seriesType === 'HighLow' || series.seriesType === 'HighLowOpenClose') ? (series.points[point.index].high) :\n                point.yValue;\n        var startPoint = getPoint(point.xValue + ((direction === 'Plus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Horizontal' || errorbar.mode === 'Both')) ? x1 = errorbar.horizontalPositiveError : x1 : 0), yValue + ((direction === 'Plus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Vertical' || errorbar.mode === 'Both')) ? y1 = errorbar.verticalPositiveError : y1 : 0), series.xAxis, series.yAxis, isInverted);\n        location.push(startPoint);\n        if (series.isRectSeries) {\n            var midPoint = point.symbolLocations[0];\n            location.push(midPoint);\n        }\n        else {\n            var midPoint = getPoint(point.xValue, point.yValue, series.xAxis, series.yAxis, isInverted);\n            location.push(midPoint);\n        }\n        var endPoint = getPoint(point.xValue - ((direction === 'Minus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Horizontal' || errorbar.mode === 'Both')) ? x1 = errorbar.horizontalNegativeError : x1 : 0), yValue - ((direction === 'Minus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Vertical' || errorbar.mode === 'Both')) ? y1 = errorbar.verticalNegativeError : y1 : 0), series.xAxis, series.yAxis, isInverted);\n        location.push(endPoint);\n        // calculate error height for datalabel position alignment\n        point.error = (errorbar.mode === 'Vertical') ? errorbar.verticalError : errorbar.horizontalError;\n        this.negativeHeight = (errorbar.mode === 'Vertical' || errorbar.mode === 'Both') ? (isInverted ? (location[1].x - location[2].x) :\n            (location[2].y - location[1].y)) : 0;\n        this.positiveHeight = (errorbar.mode === 'Vertical' || errorbar.mode === 'Both') ? (isInverted ? (location[0].x - location[1].x) :\n            (location[1].y - location[0].y)) : 0;\n        return this.getErrorDirection(location[0], location[1], location[2], series, isInverted);\n    };\n    // calculations for eror bar types\n    ErrorBar.prototype.calculateFixedValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var errorbar = series.errorBar;\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculatePercentageValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        errorX = (errorX / 100) * point.xValue;\n        errorY = (errorY / 100) * point.yValue;\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculateStandardDeviationValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var getMean = this.meanCalculation(series, series.errorBar.mode);\n        errorX = errorX * (getMean.horizontalSquareRoot + getMean.horizontalMean);\n        errorY = errorY * (getMean.verticalSquareRoot + getMean.verticalMean);\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculateStandardErrorValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var length = series.points.length;\n        var getMean = this.meanCalculation(series, series.errorBar.mode);\n        errorX = ((errorX * getMean.horizontalSquareRoot) / Math.sqrt(length));\n        errorY = ((errorY * getMean.verticalSquareRoot) / Math.sqrt(length));\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculateCustomValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var errorbar = series.errorBar;\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.getHorizontalDirection = function (start, mid, end, direction, errorMode, capLength) {\n        var path = '';\n        var capDirection = '';\n        path += ' M ' + start.x + ' ' + mid.y + ' L ' + end.x + ' ' + mid.y;\n        capDirection += (direction === 'Plus' || direction === 'Both') ? ' M ' + (start.x) + ' ' + (mid.y - capLength) + ' L '\n            + (start.x) + ' ' + (mid.y + capLength) : '';\n        capDirection += (direction === 'Minus' || direction === 'Both') ? ' M ' + (end.x) + ' ' + (mid.y - capLength) + ' L '\n            + (end.x) + ' ' + (mid.y + capLength) : ' ';\n        return [path, capDirection];\n    };\n    ErrorBar.prototype.getVerticalDirection = function (start, mid, end, direction, errorMode, capLength) {\n        var path = '';\n        var capDirection = '';\n        path += ' M ' + mid.x + ' ' + start.y + ' L ' + mid.x + ' ' + end.y;\n        capDirection += (direction === 'Plus' || direction === 'Both') ? ' M ' + (mid.x - capLength) + ' ' + start.y + ' L '\n            + (mid.x + capLength) + ' ' + start.y : '';\n        capDirection += (direction === 'Minus' || direction === 'Both') ? ' M ' + (mid.x - capLength) + ' ' + end.y + ' L '\n            + (mid.x + capLength) + ' ' + end.y : '';\n        return [path, capDirection];\n    };\n    ErrorBar.prototype.getBothDirection = function (start, mid, end, direction, errorMode, capLength) {\n        var capDirection = '';\n        var path = '';\n        var pathH = this.getHorizontalDirection(start, mid, end, direction, errorMode, capLength);\n        var pathV = this.getVerticalDirection(start, mid, end, direction, errorMode, capLength);\n        path = pathH[0].concat(pathV[0]);\n        capDirection = pathH[1].concat(pathV[1]);\n        return [path, capDirection];\n    };\n    ErrorBar.prototype.getErrorDirection = function (start, mid, end, series, isInverted) {\n        var direction = series.errorBar.direction;\n        var mode = series.errorBar.mode;\n        var capLength = series.errorBar.errorBarCap.length;\n        var path = '';\n        var paths;\n        var capDirection = '';\n        var errorMode = mode;\n        switch (mode) {\n            case 'Both':\n                errorMode = mode;\n                break;\n            case 'Horizontal':\n                errorMode = (isInverted) ? 'Vertical' : mode;\n                break;\n            case 'Vertical':\n                errorMode = (isInverted) ? 'Horizontal' : mode;\n                break;\n        }\n        switch (errorMode) {\n            case 'Horizontal':\n                paths = this.getHorizontalDirection(start, mid, end, direction, errorMode, capLength);\n                break;\n            case 'Vertical':\n                paths = this.getVerticalDirection(start, mid, end, direction, errorMode, capLength);\n                break;\n            case 'Both':\n                paths = this.getBothDirection(start, mid, end, direction, errorMode, capLength);\n                break;\n        }\n        return [paths[0], paths[1]];\n    };\n    // mean calculation for standard deviation and standard error\n    ErrorBar.prototype.meanCalculation = function (series, mode) {\n        var sumOfX = 0;\n        var sumOfY = 0;\n        var verticalMean = 0;\n        var horizontalMean = 0;\n        var horSquareDev;\n        var verStandardMean;\n        var horStandardMean;\n        var verSquareTotal;\n        var horSquareTotal;\n        var verSquareRoot;\n        var horSquareRoot;\n        var length = series.points.length;\n        switch (mode) {\n            case 'Vertical':\n                sumOfY = sum(series.yData);\n                verticalMean = sumOfY / length;\n                break;\n            case 'Horizontal':\n                sumOfX = sum(series.xData);\n                horizontalMean = sumOfX / length;\n                break;\n            case 'Both':\n                sumOfY = sum(series.yData);\n                verticalMean = sumOfY / length;\n                sumOfX = sum(series.xData);\n                horizontalMean = sumOfX / length;\n        }\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (mode === 'Vertical') {\n                sumOfY = sumOfY + Math.pow((point.yValue - verticalMean), 2);\n            }\n            else if (mode === 'Horizontal') {\n                sumOfX = sumOfX + Math.pow((point.xValue - horizontalMean), 2);\n            }\n            else {\n                sumOfY = sumOfY + Math.pow((point.yValue - verticalMean), 2);\n                sumOfX = sumOfX + Math.pow((point.xValue - horizontalMean), 2);\n            }\n        }\n        verStandardMean = sumOfY / (length - 1);\n        verSquareRoot = Math.sqrt(sumOfY / (length - 1));\n        horStandardMean = sumOfX / (length - 1);\n        horSquareRoot = Math.sqrt(sumOfX / (length - 1));\n        return new Mean(verStandardMean, verSquareRoot, horStandardMean, horSquareRoot, verticalMean, horizontalMean);\n    };\n    ErrorBar.prototype.createElement = function (series) {\n        var explodeValue = 5;\n        var render = series.chart.renderer;\n        var transform;\n        transform = series.chart.chartAreaType === 'Cartesian' ? 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')' : '';\n        var markerHeight = (series.marker.height + explodeValue) / 2;\n        var markerWidth = (series.marker.width + explodeValue) / 2;\n        if (series.chart.chartAreaType === 'Cartesian') {\n            var errorBarClipRect = render.drawClipPath(new RectOption(this.chart.element.id + '_ChartErrorBarClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                x: -markerWidth, y: -markerHeight,\n                width: series.clipRect.width + markerWidth * 2, height: series.clipRect.height + markerHeight * 2\n            }));\n            series.errorBarElement = render.createGroup({\n                'id': this.chart.element.id + 'ErrorBarGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.chart.element.id + '_ChartErrorBarClipRect_' + series.index + ')'\n            });\n            series.errorBarElement.appendChild(errorBarClipRect);\n        }\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    ErrorBar.prototype.doErrorBarAnimation = function (series) {\n        var errorBarElements = series.errorBarElement.childNodes;\n        if (!errorBarElements) {\n            return null;\n        }\n        var delay = series.animation.delay + series.animation.duration;\n        var j = 1;\n        while (j < errorBarElements.length) {\n            for (var i = 0; i < series.points.length; i++) {\n                if (!series.points[i].symbolLocations[0]) {\n                    continue;\n                }\n                errorBarElements[j].style.visibility = 'hidden';\n                templateAnimate(errorBarElements[j], delay, 350, series.chart.requireInvertedAxis ? 'SlideLeftIn' : 'SlideBottomIn', false);\n            }\n            j++;\n        }\n    };\n    /**\n     * Get module name.\n     */\n    ErrorBar.prototype.getModuleName = function () {\n        // Returns the module name\n        return 'ErrorBar';\n    };\n    /**\n     * To destroy the errorBar for series.\n     * @return {void}\n     * @private\n     */\n    ErrorBar.prototype.destroy = function (chart) {\n        // Destroy method performed here\n    };\n    return ErrorBar;\n}());\nexport { ErrorBar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Chart legend\n */\nimport { remove, Browser } from '@syncfusion/ej2-base';\nimport { extend } from '@syncfusion/ej2-base';\nimport { LegendOptions, BaseLegend } from '../../common/legend/legend';\nimport { measureText, textTrim } from '../../common/utils/helper';\nimport { legendRender } from '../../common/model/constants';\n/**\n * `Legend` module is used to render legend for the chart.\n */\nvar Legend = /** @class */ (function (_super) {\n    __extends(Legend, _super);\n    function Legend(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.library = _this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Binding events for legend module.\n     */\n    Legend.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on(Browser.touchMoveEvent, this.mouseMove, this);\n        this.chart.on('click', this.click, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseEnd, this);\n    };\n    /**\n     * UnBinding events for legend module.\n     */\n    Legend.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.off(Browser.touchMoveEvent, this.mouseMove);\n        this.chart.off('click', this.click);\n        this.chart.off(Browser.touchEndEvent, this.mouseEnd);\n    };\n    /**\n     * To handle mosue move for legend module\n     */\n    Legend.prototype.mouseMove = function (e) {\n        if (this.chart.legendSettings.visible && !this.chart.isTouch) {\n            this.move(e);\n        }\n    };\n    /**\n     * To handle mosue end for legend module\n     */\n    Legend.prototype.mouseEnd = function (e) {\n        if (this.chart.legendSettings.visible && this.chart.isTouch) {\n            this.move(e);\n        }\n    };\n    /**\n     * Get the legend options.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.getLegendOptions = function (visibleSeriesCollection, chart) {\n        this.legendCollections = [];\n        var seriesType;\n        for (var _i = 0, visibleSeriesCollection_1 = visibleSeriesCollection; _i < visibleSeriesCollection_1.length; _i++) {\n            var series = visibleSeriesCollection_1[_i];\n            if (series.category !== 'Indicator') {\n                seriesType = (chart.chartAreaType === 'PolarRadar') ? series.drawType :\n                    series.type;\n                this.legendCollections.push(new LegendOptions(series.name, series.interior, series.legendShape, series.visible, seriesType, series.marker.shape, series.marker.visible));\n            }\n        }\n    };\n    /** @private */\n    Legend.prototype.getLegendBounds = function (availableSize, legendBounds, legend) {\n        var padding = legend.padding;\n        var extraHeight = 0;\n        var extraWidth = 0;\n        if (!this.isVertical) {\n            extraHeight = !legend.height ? ((availableSize.height / 100) * 5) : 0;\n        }\n        else {\n            extraWidth = !legend.width ? ((availableSize.width / 100) * 5) : 0;\n        }\n        legendBounds.height += extraHeight;\n        legendBounds.width += extraWidth;\n        var shapeHeight = legend.shapeHeight;\n        var shapeWidth = legend.shapeWidth;\n        var shapePadding = legend.shapePadding;\n        var maximumWidth = 0;\n        var rowWidth = 0;\n        var legendWidth = 0;\n        var columnHeight = 0;\n        var rowCount = 0;\n        var legendEventArgs;\n        this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n        var render = false;\n        for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n            var legendOption = _a[_i];\n            legendEventArgs = {\n                fill: legendOption.fill, text: legendOption.text, shape: legendOption.shape,\n                markerShape: legendOption.markerShape, name: legendRender, cancel: false\n            };\n            this.chart.trigger(legendRender, legendEventArgs);\n            legendOption.render = !legendEventArgs.cancel;\n            legendOption.text = legendEventArgs.text;\n            legendOption.fill = legendEventArgs.fill;\n            legendOption.shape = legendEventArgs.shape;\n            legendOption.markerShape = legendEventArgs.markerShape;\n            legendOption.textSize = measureText(legendOption.text, legend.textStyle);\n            if (legendOption.render && legendOption.text !== '') {\n                render = true;\n                legendWidth = shapeWidth + shapePadding + legendOption.textSize.width + padding;\n                rowWidth = rowWidth + legendWidth;\n                if (legendBounds.width < (padding + rowWidth) || this.isVertical) {\n                    maximumWidth = Math.max(maximumWidth, (rowWidth + padding - (this.isVertical ? 0 : legendWidth)));\n                    if (rowCount === 0 && (legendWidth !== rowWidth)) {\n                        rowCount = 1;\n                    }\n                    rowWidth = this.isVertical ? 0 : legendWidth;\n                    rowCount++;\n                    columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding;\n                }\n            }\n        }\n        columnHeight = Math.max(columnHeight, (this.maxItemHeight + padding) + padding);\n        this.isPaging = legendBounds.height < columnHeight;\n        this.totalPages = rowCount;\n        if (render) {\n            this.setBounds(Math.max((rowWidth + padding), maximumWidth), columnHeight, legend, legendBounds);\n        }\n        else {\n            this.setBounds(0, 0, legend, legendBounds);\n        }\n    };\n    /** @private */\n    Legend.prototype.getRenderPoint = function (legendOption, start, textPadding, prevLegend, rect, count, firstLegend) {\n        var padding = this.legend.padding;\n        var previousBound = (prevLegend.location.x + textPadding + prevLegend.textSize.width);\n        if ((previousBound + (legendOption.textSize.width + textPadding)) > (rect.x + rect.width + this.legend.shapeWidth / 2) ||\n            this.isVertical) {\n            legendOption.location.x = start.x;\n            legendOption.location.y = (count === firstLegend) ? prevLegend.location.y :\n                prevLegend.location.y + this.maxItemHeight + padding;\n        }\n        else {\n            legendOption.location.x = (count === firstLegend) ? prevLegend.location.x : previousBound;\n            legendOption.location.y = prevLegend.location.y;\n        }\n        var availwidth = (this.legendBounds.x + this.legendBounds.width) - (legendOption.location.x +\n            textPadding - this.legend.shapeWidth / 2);\n        legendOption.text = textTrim(+availwidth.toFixed(4), legendOption.text, this.legend.textStyle);\n    };\n    /** @private */\n    Legend.prototype.LegendClick = function (seriesIndex) {\n        var chart = this.chart;\n        var series = chart.visibleSeries[seriesIndex];\n        var legend = this.legendCollections[seriesIndex];\n        var selectedDataIndexes = [];\n        if (chart.selectionModule) {\n            selectedDataIndexes = extend([], chart.selectionModule.selectedDataIndexes, null, true);\n        }\n        if (chart.legendSettings.toggleVisibility) {\n            if (!series.visible) {\n                series.visible = true;\n            }\n            else {\n                series.visible = false;\n            }\n            legend.visible = (series.visible);\n            if (chart.svgObject.childNodes.length > 0) {\n                while (chart.svgObject.lastChild) {\n                    chart.svgObject.removeChild(chart.svgObject.lastChild);\n                }\n                remove(chart.svgObject);\n            }\n            chart.animateSeries = false;\n            chart.removeSvg();\n            chart.refreshAxis();\n            series.refreshAxisLabel();\n            this.refreshSeries(chart.visibleSeries);\n            chart.refreshBound();\n            if (selectedDataIndexes.length > 0) {\n                chart.selectionModule.selectedDataIndexes = selectedDataIndexes;\n                chart.selectionModule.redrawSelection(chart, chart.selectionMode);\n            }\n        }\n        else if (chart.selectionModule) {\n            chart.selectionModule.legendSelection(chart, seriesIndex);\n        }\n    };\n    Legend.prototype.refreshSeries = function (seriesCollection) {\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            series.position = undefined;\n        }\n    };\n    /**\n     * To show the tooltip for the trimmed text in legend.\n     * @return {void}\n     */\n    Legend.prototype.click = function (event) {\n        if (!this.chart.legendSettings.visible) {\n            return;\n        }\n        var targetId = event.target.id;\n        var legendItemsId = [this.legendID + '_text_', this.legendID + '_shape_marker_',\n            this.legendID + '_shape_'];\n        var seriesIndex;\n        for (var _i = 0, legendItemsId_1 = legendItemsId; _i < legendItemsId_1.length; _i++) {\n            var id = legendItemsId_1[_i];\n            if (targetId.indexOf(id) > -1) {\n                seriesIndex = parseInt(targetId.split(id)[1], 10);\n                this.LegendClick(seriesIndex);\n            }\n        }\n        if (targetId.indexOf(this.legendID + '_pageup') > -1) {\n            this.changePage(event, true);\n        }\n        else if (targetId.indexOf(this.legendID + '_pagedown') > -1) {\n            this.changePage(event, false);\n        }\n    };\n    /**\n     * Get module name\n     */\n    Legend.prototype.getModuleName = function () {\n        return 'Legend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.destroy = function (chart) {\n        this.removeEventListener();\n    };\n    return Legend;\n}(BaseLegend));\nexport { Legend };\n","import { createTemplate, measureElementRect, logBase } from '../utils/helper';\nimport { ChartLocation, stringToNumber, appendElement, withIn, Rect } from '../utils/helper';\nimport { getPoint } from '../utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\nimport { annotationRender } from '../model/constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Annotation Module handles the Annotation for chart and accumulation series.\n */\nvar AnnotationBase = /** @class */ (function () {\n    /**\n     * Constructor for chart and accumulation annotation\n     * @param control\n     */\n    function AnnotationBase(control) {\n        this.control = control;\n    }\n    /**\n     * Method to render the annotation for chart and accumulation series.\n     * @private\n     * @param annotation\n     * @param index\n     */\n    AnnotationBase.prototype.render = function (annotation, index) {\n        this.isChart = this.control.getModuleName() === 'chart';\n        this.annotation = annotation;\n        var childElement = createTemplate(createElement('div', {\n            id: this.control.element.id + '_Annotation_' + index,\n            styles: 'position: absolute;'\n        }), index, annotation.content, this.control);\n        return childElement;\n    };\n    /**\n     * Method to calculate the location for annotation - coordinate unit as pixel.\n     * @private\n     * @param location\n     */\n    AnnotationBase.prototype.setAnnotationPixelValue = function (location) {\n        var rect;\n        rect = this.annotation.region === 'Chart' ?\n            new Rect(0, 0, this.control.availableSize.width, this.control.availableSize.height) :\n            this.isChart ?\n                this.control.chartAxisLayoutPanel.seriesClipRect :\n                this.control.series[0].accumulationBound;\n        location.x = ((typeof this.annotation.x !== 'string') ?\n            ((typeof this.annotation.x === 'number') ? this.annotation.x : 0) :\n            stringToNumber(this.annotation.x, rect.width)) + rect.x;\n        location.y = ((typeof this.annotation.y === 'number') ? this.annotation.y :\n            stringToNumber(this.annotation.y, rect.height)) + rect.y;\n        return true;\n    };\n    /**\n     * Method to calculate the location for annotation - coordinate unit as point.\n     * @private\n     * @param location\n     */\n    AnnotationBase.prototype.setAnnotationPointValue = function (location) {\n        var symbolLocation = new ChartLocation(0, 0);\n        if (this.isChart) {\n            var xAxis = void 0;\n            var yAxis = void 0;\n            var chart = this.control;\n            var annotation = this.annotation;\n            var xValue = void 0;\n            var isLog = false;\n            var xAxisName = annotation.xAxisName;\n            var yAxisName = annotation.yAxisName;\n            var isInverted = chart.requireInvertedAxis;\n            for (var _i = 0, _a = chart.axisCollections; _i < _a.length; _i++) {\n                var axis = _a[_i];\n                if (xAxisName === axis.name || (xAxisName == null && axis.name === 'primaryXAxis')) {\n                    xAxis = axis;\n                    if (xAxis.valueType.indexOf('Category') > -1) {\n                        var xAnnotation = xAxis.valueType === 'DateTimeCategory' ? (annotation.x.getTime()).toString() :\n                            annotation.x;\n                        if (xAxis.labels.indexOf(xAnnotation) < 0) {\n                            return false;\n                        }\n                        else {\n                            xValue = xAxis.labels.indexOf(xAnnotation);\n                        }\n                    }\n                    else if (xAxis.valueType === 'DateTime') {\n                        var option = { skeleton: 'full', type: 'dateTime' };\n                        xValue = (typeof this.annotation.x === 'object') ?\n                            Date.parse(chart.intl.getDateParser(option)(chart.intl.getDateFormat(option)(new Date(DataUtil.parse.parseJson({ val: annotation.x }).val)))) : 0;\n                    }\n                    else {\n                        xValue = +annotation.x;\n                    }\n                }\n                else if (yAxisName === axis.name || (yAxisName == null && axis.name === 'primaryYAxis')) {\n                    yAxis = axis;\n                    isLog = yAxis.valueType === 'Logarithmic';\n                }\n            }\n            if (xAxis && yAxis && withIn(xAxis.valueType === 'Logarithmic' ? logBase(xValue, xAxis.logBase) : xValue, xAxis.visibleRange)) {\n                symbolLocation = getPoint(xValue, withIn((isLog ? logBase(+this.annotation.y, yAxis.logBase) : +this.annotation.y), yAxis.visibleRange) ? +annotation.y :\n                    isLog ? Math.pow(yAxis.logBase, yAxis.visibleRange.max) :\n                        +annotation.y > yAxis.visibleRange.max ? yAxis.visibleRange.max : yAxis.visibleRange.min, xAxis, yAxis, isInverted);\n                location.x = symbolLocation.x + (isInverted ? yAxis.rect.x : xAxis.rect.x);\n                location.y = symbolLocation.y + (isInverted ? xAxis.rect.y : yAxis.rect.y);\n            }\n            else {\n                return false;\n            }\n            return true;\n        }\n        else {\n            return this.setAccumulationPointValue(location);\n        }\n    };\n    /**\n     * To process the annotation for accumulation chart\n     * @param annotation\n     * @param index\n     * @param parentElement\n     */\n    AnnotationBase.prototype.processAnnotation = function (annotation, index, parentElement) {\n        var annotationElement;\n        var location;\n        location = new ChartLocation(0, 0);\n        annotationElement = this.render(annotation, index);\n        if (this['setAnnotation' + annotation.coordinateUnits + 'Value'](location)) {\n            this.setElementStyle(location, annotationElement, parentElement);\n        }\n    };\n    /**\n     * Method to calculate the location for annotation - coordinate unit as point in accumulation chart.\n     * @private\n     * @param location\n     */\n    AnnotationBase.prototype.setAccumulationPointValue = function (location) {\n        var accumulation = this.control;\n        var point;\n        for (var _i = 0, _a = accumulation.visibleSeries[0].points; _i < _a.length; _i++) {\n            var accPoint = _a[_i];\n            if (typeof accPoint.x === 'object') {\n                if (Date.parse(accPoint.x) === Date.parse(this.annotation.x) &&\n                    accPoint.y === this.annotation.y) {\n                    point = accPoint;\n                    break;\n                }\n            }\n            else {\n                if (accPoint.x === this.annotation.x && accPoint.y === this.annotation.y) {\n                    point = accPoint;\n                    break;\n                }\n            }\n        }\n        if (point && point.visible) {\n            location.x = point.symbolLocation.x;\n            location.y = point.symbolLocation.y;\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Method to set the element style for accumulation / chart annotation.\n     * @private\n     * @param location\n     * @param element\n     * @param parentElement\n     */\n    AnnotationBase.prototype.setElementStyle = function (location, element, parentElement) {\n        var elementRect = measureElementRect(element);\n        var argsData = {\n            cancel: false, name: annotationRender, content: element,\n            location: location\n        };\n        this.control.trigger(annotationRender, argsData);\n        if (!argsData.cancel) {\n            argsData.content.style.left = this.setAlignmentValue(this.annotation.horizontalAlignment, elementRect.width, argsData.location.x) + 'px';\n            argsData.content.style.top = this.setAlignmentValue(this.annotation.verticalAlignment, elementRect.height, argsData.location.y) + 'px';\n            argsData.content.setAttribute('aria-label', this.annotation.description || 'Annotation');\n            appendElement(argsData.content, parentElement);\n        }\n    };\n    /**\n     * Method to calculate the alignment value for annotation.\n     * @private\n     * @param alignment\n     * @param size\n     * @param value\n     */\n    AnnotationBase.prototype.setAlignmentValue = function (alignment, size, value) {\n        switch (alignment) {\n            case 'Top':\n            case 'Near':\n                value -= size;\n                break;\n            case 'Bottom':\n            case 'Far':\n                value += 0;\n                break;\n            case 'Middle':\n            case 'Center':\n                value -= (size / 2);\n                break;\n        }\n        return value;\n    };\n    return AnnotationBase;\n}());\nexport { AnnotationBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AnnotationBase } from '../../common/annotation/annotation';\nimport { appendElement } from '../../common/utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\n/**\n * `ChartAnnotation` module handles the annotation for chart.\n */\nvar ChartAnnotation = /** @class */ (function (_super) {\n    __extends(ChartAnnotation, _super);\n    /**\n     * Constructor for chart annotation.\n     * @private.\n     */\n    function ChartAnnotation(control, annotations) {\n        var _this = _super.call(this, control) || this;\n        _this.chart = control;\n        _this.annotations = annotations;\n        return _this;\n    }\n    /**\n     * Method to render the annotation for chart\n     * @param element\n     * @private\n     */\n    ChartAnnotation.prototype.renderAnnotations = function (element) {\n        var _this = this;\n        this.parentElement = createElement('div', {\n            id: this.chart.element.id + '_Annotation_Collections'\n        });\n        this.annotations.map(function (annotation, index) {\n            _this.processAnnotation(annotation, index, _this.parentElement);\n        });\n        appendElement(this.parentElement, element);\n    };\n    /**\n     * To destroy the annotation.\n     * @return {void}\n     * @private\n     */\n    ChartAnnotation.prototype.destroy = function (control) {\n        // Destroy method performed here\n    };\n    /**\n     * Get module name.\n     */\n    ChartAnnotation.prototype.getModuleName = function () {\n        // Returns te module name\n        return 'Annotation';\n    };\n    return ChartAnnotation;\n}(AnnotationBase));\nexport { ChartAnnotation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption, sum } from '../../common/utils/helper';\nimport { Size, getSaturationColor, getPoint } from '../../common/utils/helper';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ColumnBase } from './column-base';\nimport { getMedian } from '../../common/utils/helper';\n/**\n * `BoxAndWhiskerSeries` module is used to render the box and whisker series.\n */\nvar BoxAndWhiskerSeries = /** @class */ (function (_super) {\n    __extends(BoxAndWhiskerSeries, _super);\n    function BoxAndWhiskerSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render BoxAndWhisker series.\n     * @return {void}\n     * @private\n     */\n    BoxAndWhiskerSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        var centerRegion;\n        var borderWidth = series.border.width || 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            var centerRegion_1 = void 0;\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                this.findBoxPlotValues(point.y, point, series.boxPlotMode);\n                //region to cover the top and bottom ticks\n                this.updateTipRegion(series, point, sideBySideInfo);\n                //get middle rect\n                centerRegion_1 = this.getRectangle((point.xValue + sideBySideInfo.start), point.upperQuartile, (point.xValue + sideBySideInfo.end), point.lowerQuartile, series);\n                point.regions.push(centerRegion_1);\n                argsData = this.triggerEvent(series, point, series.interior, {\n                    color: (!isNullOrUndefined(series.border.color) && series.border.color !== 'transparent') ? series.border.color :\n                        getSaturationColor(series.interior, -0.6),\n                    width: series.border.width ? series.border.width : 1\n                });\n                if (!argsData.cancel) {\n                    this.renderBoxAndWhisker(series, point, centerRegion_1, argsData, this.getPathString(point, series, getPoint(point.xValue, point.median, xAxis, yAxis, isInverted), getPoint(point.xValue, point.average, xAxis, yAxis, isInverted)));\n                }\n            }\n        }\n        if (series.marker.visible) {\n            series.chart.markerRender.render(series);\n        }\n    };\n    /**\n     * update the tip region fo box plot\n     * @param series\n     * @param point\n     * @param sideBySideInfo\n     */\n    BoxAndWhiskerSeries.prototype.updateTipRegion = function (series, point, sideBySideInfo) {\n        var tipRegion = this.getRectangle((point.xValue + sideBySideInfo.median), point.maximum, (point.xValue + sideBySideInfo.median), point.minimum, series);\n        this.updateTipSize(series, point, tipRegion, series.chart.requireInvertedAxis);\n    };\n    /**\n     * Update tip size to tip regions\n     * @param series\n     * @param point\n     * @param region\n     * @param isInverted\n     */\n    BoxAndWhiskerSeries.prototype.updateTipSize = function (series, point, region, isInverted) {\n        var borderWidth = series.border.width || 1;\n        if (!isInverted) {\n            region.x -= borderWidth / 2;\n            region.width = region.width || borderWidth;\n        }\n        else {\n            region.y -= borderWidth / 2;\n            region.height = region.height || borderWidth;\n        }\n        point.regions.push(region);\n    };\n    /**\n     * Calculation for path direction performed here\n     * @param point\n     * @param series\n     * @param median\n     * @param average\n     */\n    BoxAndWhiskerSeries.prototype.getPathString = function (point, series, median, average) {\n        var topRect = point.regions[0];\n        var midRect = point.regions[1];\n        var direction = '';\n        var width = series.chart.requireInvertedAxis ? topRect.height : topRect.width;\n        var center = series.chart.requireInvertedAxis ? topRect.y + topRect.height / 2 :\n            topRect.x + topRect.width / 2;\n        var midWidth = midRect.x + midRect.width;\n        var midHeight = midRect.y + midRect.height;\n        var topWidth = topRect.x + topRect.width;\n        var topHeight = topRect.y + topRect.height;\n        if (!series.chart.requireInvertedAxis) {\n            this.updateTipSize(series, point, { x: midRect.x, y: topRect.y, width: midWidth - midRect.x, height: 0 }, true);\n            this.updateTipSize(series, point, { x: midRect.x, y: topHeight, width: midWidth - midRect.x, height: 0 }, true);\n            direction += 'M ' + midRect.x + ' ' + topRect.y + ' ' + ' L ' + midWidth + ' ' + topRect.y;\n            direction += ' M ' + center + ' ' + topRect.y + ' ' + ' L ' + center + ' ' + midRect.y;\n            direction += ' M ' + midRect.x + ' ' + midRect.y + ' ' + ' L ' + midWidth + ' ' + midRect.y +\n                ' L ' + midWidth + ' ' + midHeight + ' L ' + midRect.x + ' ' + midHeight + ' Z';\n            direction += ' M ' + center + ' ' + midHeight + ' L ' + center + ' ' + topHeight;\n            direction += ' M ' + midRect.x + ' ' + topHeight + ' L ' + midWidth + ' ' + topHeight;\n            direction += ' M ' + midRect.x + ' ' + median.y + ' L ' + midWidth + ' ' + median.y;\n            direction += series.showMean ?\n                ' M ' + (average.x - 5) + ' ' + (average.y - 5) + ' L ' + (average.x + 5) + ' ' + (average.y + 5) +\n                    ' M ' + (average.x + 5) + ' ' + (average.y - 5) + ' L ' + (average.x - 5) + ' ' + (average.y + 5) : '';\n        }\n        else {\n            this.updateTipSize(series, point, { x: topRect.x, y: midRect.y, width: 0, height: midHeight - midRect.y }, false);\n            this.updateTipSize(series, point, { x: topWidth, y: midRect.y, width: 0, height: midHeight - midRect.y }, true);\n            direction += 'M ' + topRect.x + ' ' + midRect.y + ' L ' + topRect.x + ' ' + midHeight;\n            direction += 'M ' + topRect.x + ' ' + center + ' ' + ' L ' + midRect.x + ' ' + center;\n            direction += ' M ' + midRect.x + ' ' + midRect.y + ' ' + ' L ' + midWidth + ' ' + midRect.y +\n                ' L ' + midWidth + ' ' + midHeight + ' L ' + midRect.x + ' ' + midHeight + ' Z';\n            direction += ' M ' + midWidth + ' ' + center + ' L ' + topWidth + ' ' + center;\n            direction += ' M ' + topWidth + ' ' + midRect.y + ' L ' + topWidth + ' ' + midHeight;\n            direction += ' M ' + median.x + ' ' + midRect.y + ' ' + ' L ' + median.x + ' ' + midHeight;\n            direction += series.showMean ?\n                'M ' + (average.x + 5) + ' ' + (average.y - 5) + ' L ' + (average.x - 5) + ' ' + (average.y + 5) +\n                    'M ' + (average.x - 5) + ' ' + (average.y - 5) + ' L ' + (average.x + 5) + ' ' + (average.y + 5) : '';\n        }\n        return direction;\n    };\n    /**\n     * Rendering for box and whisker append here.\n     * @param series\n     * @param point\n     * @param rect\n     * @param argsData\n     * @param direction\n     */\n    BoxAndWhiskerSeries.prototype.renderBoxAndWhisker = function (series, point, rect, argsData, direction) {\n        var location;\n        var size;\n        var symbolId = series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index;\n        var element = series.chart.renderer.drawPath(new PathOption(symbolId + '_BoxPath', argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction));\n        element.setAttribute('aria-label', point.x.toString() + ':' + point.maximum.toString()\n            + ':' + point.minimum.toString() + ':' + point.lowerQuartile.toString() + ':' + point.upperQuartile.toString());\n        var parentElement = series.chart.renderer.createGroup({\n            'id': symbolId\n        });\n        parentElement.appendChild(element);\n        for (var i = 0; i < point.outliers.length; i++) {\n            location = getPoint(point.xValue, point.outliers[i], series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n            size = new Size(series.marker.width, series.marker.height);\n            point.symbolLocations.push(location);\n            this.updateTipSize(series, point, {\n                x: location.x - (size.width / 2), y: location.y - (size.height / 2),\n                width: size.width, height: size.height\n            }, true);\n        }\n        series.seriesElement.appendChild(parentElement);\n    };\n    /**\n     * To find the box plot values\n     * @param yValues\n     * @param point\n     * @param mode\n     */\n    BoxAndWhiskerSeries.prototype.findBoxPlotValues = function (yValues, point, mode) {\n        var yCount = yValues.length;\n        var quartile = {\n            average: sum(yValues) / yCount,\n            lowerQuartile: 0, upperQuartile: 0,\n            maximum: 0, minimum: 0,\n            median: 0, outliers: []\n        };\n        if (mode === 'Exclusive') {\n            quartile.lowerQuartile = this.getExclusiveQuartileValue(yValues, yCount, 0.25);\n            quartile.upperQuartile = this.getExclusiveQuartileValue(yValues, yCount, 0.75);\n            quartile.median = this.getExclusiveQuartileValue(yValues, yCount, 0.5);\n        }\n        else if (mode === 'Inclusive') {\n            quartile.lowerQuartile = this.getInclusiveQuartileValue(yValues, yCount, 0.25);\n            quartile.upperQuartile = this.getInclusiveQuartileValue(yValues, yCount, 0.75);\n            quartile.median = this.getInclusiveQuartileValue(yValues, yCount, 0.5);\n        }\n        else {\n            quartile.median = getMedian(yValues);\n            this.getQuartileValues(yValues, yCount, quartile);\n        }\n        this.getMinMaxOutlier(yValues, yCount, quartile);\n        point.minimum = quartile.minimum;\n        point.maximum = quartile.maximum;\n        point.lowerQuartile = quartile.lowerQuartile;\n        point.upperQuartile = quartile.upperQuartile;\n        point.median = quartile.median;\n        point.outliers = quartile.outliers;\n        point.average = quartile.average;\n    };\n    /**\n     * to find the exclusive quartile values\n     * @param yValues\n     * @param count\n     * @param percentile\n     */\n    BoxAndWhiskerSeries.prototype.getExclusiveQuartileValue = function (yValues, count, percentile) {\n        if (count === 0) {\n            return 0;\n        }\n        else if (count === 1) {\n            return yValues[0];\n        }\n        var value = 0;\n        var rank = percentile * (count + 1);\n        var integerRank = Math.floor(Math.abs(rank));\n        var fractionRank = rank - integerRank;\n        if (integerRank === 0) {\n            value = yValues[0];\n        }\n        else if (integerRank > count - 1) {\n            value = yValues[count - 1];\n        }\n        else {\n            value = fractionRank * (yValues[integerRank] - yValues[integerRank - 1]) + yValues[integerRank - 1];\n        }\n        return value;\n    };\n    /**\n     * to find the inclusive quartile values\n     * @param yValues\n     * @param count\n     * @param percentile\n     */\n    BoxAndWhiskerSeries.prototype.getInclusiveQuartileValue = function (yValues, count, percentile) {\n        if (count === 0) {\n            return 0;\n        }\n        else if (count === 1) {\n            return yValues[0];\n        }\n        var value = 0;\n        var rank = percentile * (count - 1);\n        var integerRank = Math.floor(Math.abs(rank));\n        var fractionRank = rank - integerRank;\n        value = fractionRank * (yValues[integerRank + 1] - yValues[integerRank]) + yValues[integerRank];\n        return value;\n    };\n    /**\n     * To find the quartile values\n     * @param yValues\n     * @param count\n     * @param lowerQuartile\n     * @param upperQuartile\n     */\n    BoxAndWhiskerSeries.prototype.getQuartileValues = function (yValues, count, quartile) {\n        if (count === 1) {\n            quartile.lowerQuartile = yValues[0];\n            quartile.upperQuartile = yValues[0];\n            return null;\n        }\n        var isEvenList = count % 2 === 0;\n        var halfLength = count / 2;\n        var lowerQuartileArray = yValues.slice(0, halfLength);\n        var upperQuartileArray = yValues.slice(isEvenList ? halfLength : halfLength + 1, count);\n        quartile.lowerQuartile = getMedian(lowerQuartileArray);\n        quartile.upperQuartile = getMedian(upperQuartileArray);\n    };\n    /**\n     * To find the min, max and outlier values\n     * @param yValues\n     * @param lowerQuartile\n     * @param upperQuartile\n     * @param minimum\n     * @param maximum\n     * @param outliers\n     */\n    BoxAndWhiskerSeries.prototype.getMinMaxOutlier = function (yValues, count, quartile) {\n        var interquartile = quartile.upperQuartile - quartile.lowerQuartile;\n        var rangeIQR = 1.5 * interquartile;\n        for (var i = 0; i < count; i++) {\n            if (yValues[i] < quartile.lowerQuartile - rangeIQR) {\n                quartile.outliers.push(yValues[i]);\n            }\n            else {\n                quartile.minimum = yValues[i];\n                break;\n            }\n        }\n        for (var i = count - 1; i >= 0; i--) {\n            if (yValues[i] > quartile.upperQuartile + rangeIQR) {\n                quartile.outliers.push(yValues[i]);\n            }\n            else {\n                quartile.maximum = yValues[i];\n                break;\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    BoxAndWhiskerSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    BoxAndWhiskerSeries.prototype.getModuleName = function () {\n        return 'BoxAndWhiskerSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the candle series.\n     * @return {void}\n     * @private\n     */\n    BoxAndWhiskerSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the candle series.\n         */\n    };\n    return BoxAndWhiskerSeries;\n}(ColumnBase));\nexport { BoxAndWhiskerSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getPoint, withInRange, ChartLocation, PathOption } from '../../common/utils/helper';\nimport { MultiColoredSeries } from './multi-colored-base';\n/**\n * `MultiColoredAreaSeries` module used to render the area series with multi color.\n */\nvar MultiColoredAreaSeries = /** @class */ (function (_super) {\n    __extends(MultiColoredAreaSeries, _super);\n    function MultiColoredAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Area series.\n     * @return {void}\n     * @private\n     */\n    MultiColoredAreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var _this = this;\n        var firstPoint;\n        var startPoint = null;\n        var direction = '';\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var options = [];\n        var startRegion;\n        var previous;\n        var color;\n        var rendered;\n        var segments = this.sortSegments(series, series.segments);\n        series.points.map(function (point, i, seriesPoints) {\n            point.symbolLocations = [];\n            point.regions = [];\n            rendered = false;\n            if (point.visible && withInRange(seriesPoints[i - 1], point, seriesPoints[i + 1], series)) {\n                direction += _this.getAreaPathDirection(point.xValue, origin, series, isInverted, getPoint, startPoint, 'M');\n                startPoint = startPoint || new ChartLocation(point.xValue, origin);\n                firstPoint = getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted, series);\n                if (previous && _this.setPointColor(point, previous, series, series.segmentAxis === 'X', segments)) {\n                    rendered = true;\n                    startRegion = getPoint(startPoint.x, origin, xAxis, yAxis, isInverted, series);\n                    direction += ('L' + ' ' + (firstPoint.x) + ' ' + (firstPoint.y) + ' ');\n                    direction += ('L' + ' ' + (firstPoint.x) + ' ' + (startRegion.y) + ' ');\n                    _this.generatePathOption(options, series, previous, direction, '_Point_' + previous.index);\n                    direction = 'M' + ' ' + (firstPoint.x) + ' ' + (startRegion.y) + ' ' + 'L' + ' ' +\n                        (firstPoint.x) + ' ' + (firstPoint.y) + ' ';\n                }\n                else {\n                    direction += ('L' + ' ' + (firstPoint.x) + ' ' + (firstPoint.y) + ' ');\n                    _this.setPointColor(point, null, series, series.segmentAxis === 'X', segments);\n                }\n                if (seriesPoints[i + 1] && !seriesPoints[i + 1].visible && series.emptyPointSettings.mode !== 'Drop') {\n                    direction += _this.getAreaEmptyDirection({ 'x': point.xValue, 'y': origin }, startPoint, series, isInverted, getPoint);\n                    startPoint = null;\n                }\n                previous = point;\n                _this.storePointLocation(point, series, isInverted, getPoint);\n            }\n        });\n        if (!rendered) {\n            direction = series.points.length > 1 ?\n                (direction + this.getAreaPathDirection(previous.xValue, origin, series, isInverted, getPoint, null, 'L')) : '';\n            this.generatePathOption(options, series, previous, direction, '');\n        }\n        this.applySegmentAxis(series, options, segments);\n        this.renderMarker(series);\n    };\n    /**\n     * To Store the path directions of the area\n     */\n    MultiColoredAreaSeries.prototype.generatePathOption = function (options, series, point, direction, id) {\n        options.push(new PathOption(series.chart.element.id + '_Series_' + series.index + id, series.setPointColor(point, series.interior), series.border.width, series.border.color, series.opacity, series.dashArray, direction));\n    };\n    /**\n     * To destroy the area series.\n     * @return {void}\n     * @private\n     */\n    MultiColoredAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name\n     */\n    MultiColoredAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'MultiColoredAreaSeries';\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    MultiColoredAreaSeries.prototype.doAnimation = function (series) {\n        this.doLinearAnimation(series, series.animation);\n    };\n    return MultiColoredAreaSeries;\n}(MultiColoredSeries));\nexport { MultiColoredAreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, getPoint, PathOption } from '../../common/utils/helper';\nimport { MultiColoredSeries } from './multi-colored-base';\n/**\n * `MultiColoredLineSeries` used to render the line series with multi color.\n */\nvar MultiColoredLineSeries = /** @class */ (function (_super) {\n    __extends(MultiColoredLineSeries, _super);\n    function MultiColoredLineSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Line Series.\n     * @return {void}.\n     * @private\n     */\n    MultiColoredLineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var previous = null;\n        var startPoint = 'M';\n        var visiblePoints = this.improveChartPerformance(series);\n        var options = [];\n        var direction = '';\n        var segments = this.sortSegments(series, series.segments);\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                direction += this.getLineDirection(previous, point, series, isInverted, getPoint, startPoint);\n                if (previous != null) {\n                    if (this.setPointColor(point, previous, series, series.segmentAxis === 'X', segments)) {\n                        options.push(new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + previous.index, 'none', series.width, series.setPointColor(previous, series.interior), series.opacity, series.dashArray, direction));\n                        startPoint = 'M';\n                        direction = '';\n                    }\n                    else {\n                        startPoint = 'L';\n                    }\n                }\n                else {\n                    this.setPointColor(point, null, series, series.segmentAxis === 'X', segments);\n                }\n                previous = point;\n                this.storePointLocation(point, series, isInverted, getPoint);\n            }\n            else {\n                previous = (series.emptyPointSettings.mode === 'Drop') ? previous : null;\n                startPoint = (series.emptyPointSettings.mode === 'Drop') ? startPoint : 'M';\n                point.symbolLocations = [];\n            }\n        }\n        if (direction !== '') {\n            options.push(new PathOption(series.chart.element.id + '_Series_' + series.index, 'none', series.width, series.setPointColor(visiblePoints[visiblePoints.length - 1], series.interior), series.opacity, series.dashArray, direction));\n        }\n        this.applySegmentAxis(series, options, segments);\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    MultiColoredLineSeries.prototype.doAnimation = function (series) {\n        this.doLinearAnimation(series, series.animation);\n    };\n    /**\n     * Get module name.\n     */\n    MultiColoredLineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'MultiColoredLineSeries';\n    };\n    /**\n     * To destroy the line series.\n     * @return {void}\n     * @private\n     */\n    MultiColoredLineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return MultiColoredLineSeries;\n}(MultiColoredSeries));\nexport { MultiColoredLineSeries };\n","import { textWrap, TextOption, PathOption } from '../../common/utils/helper';\nimport { valueToCoefficient, measureText, textTrim, textElement } from '../../common/utils/helper';\nimport { axisMultiLabelRender } from '../../common/model/constants';\n/**\n * `MultiLevelLabel` module is used to render the multi level label in chart.\n */\nvar MultiLevelLabel = /** @class */ (function () {\n    /**\n     * Constructor for the logerithmic module.\n     * @private\n     */\n    function MultiLevelLabel(chart) {\n        /** @private */\n        this.xAxisPrevHeight = [];\n        /** @private */\n        this.xAxisMultiLabelHeight = [];\n        /** @private */\n        this.yAxisPrevHeight = [];\n        /** @private */\n        this.yAxisMultiLabelHeight = [];\n        this.chart = chart;\n    }\n    /**\n     * Finds multilevel label height\n     * @return {void}\n     */\n    MultiLevelLabel.prototype.getMultilevelLabelsHeight = function (axis) {\n        var value = 0;\n        var multiLevelLabelsHeight = [];\n        var prevHeight = [];\n        var isVertical = axis.orientation === 'Vertical';\n        var axisValue = isVertical ? axis.rect.height : axis.rect.width;\n        var labelSize;\n        var height;\n        var padding = 10;\n        var gap;\n        axis.multiLevelLabels.map(function (multiLevel, index) {\n            multiLevel.categories.map(function (categoryLabel) {\n                if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    height = isVertical ? labelSize.width : labelSize.height;\n                    height += 2 * multiLevel.border.width +\n                        (multiLevel.border.type === 'CurlyBrace' ? padding : 0);\n                    gap = (categoryLabel.maximumTextWidth !== null) ? categoryLabel.maximumTextWidth :\n                        (valueToCoefficient(typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) :\n                            categoryLabel.end, axis) * axisValue) -\n                            (valueToCoefficient(typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) :\n                                categoryLabel.start, axis) * axisValue);\n                    if ((labelSize.width > gap - padding) && gap > 0 && (multiLevel.overflow === 'Wrap') && !isVertical) {\n                        height = (height * (textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length));\n                    }\n                    multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height :\n                        ((multiLevelLabelsHeight[index] < height) ? height : multiLevelLabelsHeight[index]);\n                }\n            });\n            prevHeight[index] = value;\n            value += multiLevelLabelsHeight[index] ? (multiLevelLabelsHeight[index] + padding) : 0;\n        });\n        axis.multiLevelLabelHeight = value + ((axis.title !== '' || (this.chart.legendModule && this.chart.legendSettings.visible))\n            ? padding / 2 : 0);\n        if (isVertical) {\n            this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.yAxisPrevHeight = prevHeight;\n        }\n        else {\n            this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.xAxisPrevHeight = prevHeight;\n        }\n    };\n    /**\n     * render x axis multi level labels\n     * @private\n     * @return {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisMultiLevelLabels = function (axis, index, parent, axisRect) {\n        var _this = this;\n        var x;\n        var y;\n        var padding = 10;\n        var startX;\n        var startY = (axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.height) + padding;\n        var endX;\n        var endY;\n        var pathRect = '';\n        var start;\n        var end;\n        var labelSize;\n        var clipY;\n        var isOutside = axis.labelPosition === 'Outside';\n        var gap;\n        var anchor;\n        var isInversed = axis.isInversed;\n        var argsData;\n        var labelElement;\n        var opposedPosition = axis.opposedPosition;\n        clipY = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (axisRect.y + startY - axis.majorTickLines.width) : (axisRect.y - startY - axis.multiLevelLabelHeight);\n        this.createClipRect(axisRect.x - axis.majorTickLines.width, clipY, axis.multiLevelLabelHeight + padding, axisRect.width + 2 * axis.majorTickLines.width, this.chart.element.id + '_XAxis_Clippath_' + index, this.chart.element.id + 'XAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            pathRect = '';\n            multiLevel.categories.map(function (categoryLabel, i) {\n                labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                if (((start >= axis.visibleRange.min && start <= axis.visibleRange.max)\n                    || (end >= axis.visibleRange.min && end <= axis.visibleRange.max))) {\n                    argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, axis.multiLevelLabels[level].textStyle, axis.multiLevelLabels[level].alignment);\n                    if (!argsData.cancel) {\n                        startX = valueToCoefficient(start, axis) * axisRect.width;\n                        endX = valueToCoefficient(end, axis) * axisRect.width;\n                        endX = isInversed ? [startX, startX = endX][0] : endX;\n                        labelSize = measureText(argsData.text, argsData.textStyle);\n                        gap = ((categoryLabel.maximumTextWidth === null) ? endX - startX : categoryLabel.maximumTextWidth) - padding;\n                        x = startX + axisRect.x + padding;\n                        y = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ? (startY + axisRect.y +\n                            labelSize.height / 2 + padding + _this.xAxisPrevHeight[level]) : (axisRect.y - startY + labelSize.height / 2 -\n                            _this.xAxisMultiLabelHeight[level] - _this.xAxisPrevHeight[level]);\n                        if (argsData.alignment === 'Center') {\n                            x += (endX - startX - padding) / 2;\n                            anchor = 'middle';\n                        }\n                        else if (argsData.alignment === 'Far') {\n                            x = x + (endX - startX - padding) - multiLevel.border.width / 2;\n                            anchor = 'end';\n                        }\n                        else {\n                            anchor = 'start';\n                            x += multiLevel.border.width / 2;\n                        }\n                        y = multiLevel.border.type === 'CurlyBrace' ?\n                            (((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? y + padding : y - padding / 2) : y;\n                        var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                        if (multiLevel.overflow !== 'None') {\n                            options.text = (multiLevel.overflow === 'Wrap') ?\n                                textWrap(argsData.text, gap, argsData.textStyle) : textTrim(gap, argsData.text, argsData.textStyle);\n                            options.x = options.x - padding / 2;\n                        }\n                        textElement(options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, labelElement);\n                        if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                            pathRect = _this.renderXAxisLabelBorder(level, endX - startX - padding, axis, startX, startY, labelSize, options, axisRect, argsData.alignment, pathRect, isOutside, opposedPosition);\n                        }\n                        _this.multiElements.appendChild(labelElement);\n                    }\n                }\n            });\n            if (pathRect !== '') {\n                _this.createBorderElement(level, index, axis, pathRect);\n            }\n        });\n        parent.appendChild(this.multiElements);\n    };\n    /**\n     * render x axis multi level labels border\n     * @private\n     * @return {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisLabelBorder = function (labelIndex, gap, axis, startX, startY, labelSize, textOptions, axisRect, alignment, path, isOutside, opposedPosition) {\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var value;\n        var value1;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var width = gap + padding;\n        var height = this.xAxisMultiLabelHeight[labelIndex] + padding;\n        var x = startX + axisRect.x;\n        var y = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ?\n            (startY + axisRect.y + this.xAxisPrevHeight[labelIndex]) : (axisRect.y - startY - this.xAxisPrevHeight[labelIndex]);\n        switch (groupLabel.border.type) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M' + x + ' ' + y + 'L' + x + ' ' + (y + height) +\n                    'M' + (x + width) + ' ' + y + 'L' + (x + width) + ' ' + (y + height);\n                path += (groupLabel.border.type !== 'WithoutTopandBottomBorder') ? ('L' + ' ' + (x) + ' ' + (y + height) + ' ') : ' ';\n                path += groupLabel.border.type === 'Rectangle' ? ('M' + x + ' ' + y + 'L' + (x + width) + ' ' + y) : ' ';\n                break;\n            case 'Brace':\n                if (alignment === 'Near') {\n                    value = textOptions.x;\n                    value1 = textOptions.x + labelSize.width + 2;\n                }\n                else if (alignment === 'Center') {\n                    value = textOptions.x - labelSize.width / 2 - 2;\n                    value1 = textOptions.x + labelSize.width / 2 + 2;\n                }\n                else {\n                    value = textOptions.x - labelSize.width - 2;\n                    value1 = textOptions.x;\n                }\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M' + x + ' ' + y + 'L' + x + ' ' + (y + height / 2) +\n                    'M' + x + ' ' + (y + height / 2) + 'L' + (value - 2) + ' ' + (y + height / 2) +\n                    'M' + (value1) + ' ' + (y + height / 2) + 'L' + (x + width) + ' ' + (y + height / 2) +\n                    'M' + (x + width) + ' ' + (y + height / 2) + 'L' + (x + width) + ' ' + (y);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                else {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + 'L' + (x + width / 2 - 5) + ' ' + (y + padding) + 'L' + (x + width / 2) + ' ' + (y + padding1) +\n                        'L' + (x + width / 2 + 5) + ' ' + (y + padding) + 'L' + (x + width - 10) + ' ' + (y + padding) + ' C ' +\n                        (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else if (alignment === 'Near') {\n                    path += 'M' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + 'L' + (x + 15) + ' ' + (y + padding1) + 'L' + (x + 20) + ' ' + (y + padding) + 'L' +\n                        (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' '\n                        + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else {\n                    path += 'M' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + 'L' + (x + width - 20) + ' ' + (y + padding) + 'L' + (x + width - 15) + ' ' + (y + padding1) +\n                        'L' + (x + width - 10) + ' ' + (y + padding) + 'L' + (x + width - 10) + ' ' + (y + padding) + ' C '\n                        + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * render y axis multi level labels\n     * @private\n     * @return {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisMultiLevelLabels = function (axis, index, parent, rect) {\n        var _this = this;\n        var labelSize;\n        var clipX;\n        var isOutside = axis.labelPosition === 'Outside';\n        var x;\n        var y;\n        var padding = 10;\n        var startX = (axis.tickPosition === axis.labelPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.width) + padding;\n        var startY;\n        var path = '';\n        var labelElement;\n        var endY;\n        var argsData;\n        var isInversed = axis.isInversed;\n        var start;\n        var end;\n        var gap;\n        var anchor = 'middle';\n        var opposedPosition = axis.opposedPosition;\n        clipX = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (rect.x - axis.multiLevelLabelHeight - startX - padding) : (rect.x + startX);\n        this.createClipRect(clipX, rect.y - axis.majorTickLines.width, rect.height + 2 * axis.majorTickLines.width, axis.multiLevelLabelHeight + padding, this.chart.element.id + '_YAxis_Clippath_' + index, this.chart.element.id + 'YAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            path = '';\n            multiLevel.categories.map(function (categoryLabel, i) {\n                labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                if (((start >= axis.visibleRange.min && start <= axis.visibleRange.max)\n                    || (end >= axis.visibleRange.min && end <= axis.visibleRange.max))) {\n                    startY = valueToCoefficient((start), axis) * (rect.height);\n                    endY = valueToCoefficient((end), axis) * (rect.height);\n                    endY = isInversed ? [startY, startY = endY][0] : endY;\n                    argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, multiLevel.textStyle, multiLevel.alignment);\n                    if (!argsData.cancel) {\n                        labelSize = measureText(argsData.text, argsData.textStyle);\n                        gap = endY - startY;\n                        x = rect.x - startX - _this.yAxisPrevHeight[level] -\n                            (_this.yAxisMultiLabelHeight[level] / 2) - padding / 2;\n                        y = rect.height + rect.y - startY - (gap / 2);\n                        if (opposedPosition) {\n                            x = isOutside ? rect.x + startX + padding / 2 + (_this.yAxisMultiLabelHeight[level] / 2) +\n                                _this.yAxisPrevHeight[level] : rect.x - startX - (_this.yAxisMultiLabelHeight[level] / 2) -\n                                _this.yAxisPrevHeight[level] - padding / 2;\n                        }\n                        else {\n                            x = isOutside ? x : rect.x + startX + padding / 2 + (_this.yAxisMultiLabelHeight[level] / 2) +\n                                _this.yAxisPrevHeight[level];\n                        }\n                        if (argsData.alignment === 'Center') {\n                            y += labelSize.height / 4;\n                        }\n                        else if (argsData.alignment === 'Far') {\n                            y += gap / 2 - labelSize.height / 2;\n                        }\n                        else {\n                            y = y - gap / 2 + labelSize.height;\n                        }\n                        x = multiLevel.border.type === 'CurlyBrace' ? (((!opposedPosition && isOutside) ||\n                            (opposedPosition && !isOutside)) ? x - padding : x + padding) : x;\n                        var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                        options.text = (multiLevel.overflow === 'Trim') ?\n                            textTrim((categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] :\n                                categoryLabel.maximumTextWidth), argsData.text, argsData.textStyle) : options.text;\n                        textElement(options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, labelElement);\n                        if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                            path = _this.renderYAxisLabelBorder(level, gap, axis, endY, startX, startY, labelSize, options, rect, argsData.alignment, path, isOutside, opposedPosition);\n                        }\n                        _this.multiElements.appendChild(labelElement);\n                    }\n                }\n            });\n            if (path !== '') {\n                _this.createBorderElement(level, index, axis, path);\n            }\n        });\n        parent.appendChild(this.multiElements);\n    };\n    /**\n     * render y axis multi level labels border\n     * @private\n     * @return {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisLabelBorder = function (labelIndex, gap, axis, endY, startX, startY, labelSize, textOptions, rect, alignment, path, isOutside, opposedPosition) {\n        var height = endY - startY;\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var y = rect.y + rect.height - endY;\n        var width = this.yAxisMultiLabelHeight[labelIndex] + padding;\n        var x = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? rect.x - startX -\n            this.yAxisPrevHeight[labelIndex] : rect.x + startX + this.yAxisPrevHeight[labelIndex];\n        switch (groupLabel.border.type) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? -width : width;\n                path += 'M' + x + ' ' + y + 'L' + (x + width) + ' ' + y +\n                    'M' + x + ' ' + (y + height) + 'L' + (x + width) + ' ' + (y + height);\n                path += (groupLabel.border.type !== 'WithoutTopandBottomBorder') ? ('L' + ' ' + (x + width) + ' ' + y + ' ') : ' ';\n                path += (groupLabel.border.type === 'Rectangle') ? ('M' + (x) + ' ' + (y + height) + 'L' + ' ' + (x) + ' ' + y + ' ') : ' ';\n                break;\n            case 'Brace':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? width : -width;\n                path += 'M ' + (x) + ' ' + y + ' L ' + (x - width / 2) + ' ' + y + ' L ' + (x - width / 2) + ' ' +\n                    (textOptions.y - labelSize.height / 2 - 4) + ' M ' + (x - width / 2) + ' ' +\n                    (textOptions.y + labelSize.height / 4 + 2) +\n                    ' L ' + (x - width / 2) + ' ' + (y + height) + ' L ' + (x) + ' ' + (y + height);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                else {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2) + ' L ' + (x + padding1) + ' ' + (y + (height - 10) / 2 + 5)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2 + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' '\n                        + x + ' ' + (y + height);\n                }\n                else if (alignment === 'Far') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + height - 20) + ' ' + ' L ' + (x + padding1) + ' ' + (y + (height - 15)) +\n                        ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding) + ' ' + (y + height) + ' ' + x + ' '\n                        + (y + height);\n                }\n                else {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding1) + ' ' + (y + 15) +\n                        ' L ' + (x + padding) + ' ' + (y + 20) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x +\n                        ' ' + (y + height);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * create cliprect\n     * @return {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createClipRect = function (x, y, height, width, clipId, axisId) {\n        this.multiElements = this.chart.renderer.createGroup({\n            'id': axisId,\n            'clip-path': 'url(#' + clipId + ')'\n        });\n        this.multiElements.appendChild(this.chart.renderer.drawClipPath({\n            'id': clipId,\n            'x': x,\n            'y': y,\n            'width': width,\n            'height': height,\n            'fill': 'white',\n            'stroke-width': 1, 'stroke': 'Gray'\n        }));\n    };\n    /**\n     * create borer element\n     * @return {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createBorderElement = function (borderIndex, axisIndex, axis, path) {\n        var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + axisIndex + '_Axis_MultiLevelLabel_Rect_' + borderIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color || this.chart.themeStyle.axisLine, 1, '', path));\n        borderElement.setAttribute('style', 'pointer-events: none');\n        this.multiElements.appendChild(borderElement);\n    };\n    /**\n     * Triggers the event.\n     * @return {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.triggerMultiLabelRender = function (axis, text, textStyle, textAlignment) {\n        var argsData;\n        argsData = {\n            cancel: false, name: axisMultiLabelRender, axis: axis,\n            text: text, textStyle: textStyle, alignment: textAlignment\n        };\n        this.chart.trigger(axisMultiLabelRender, argsData);\n        return argsData;\n    };\n    /**\n     * To get the module name for `MultiLevelLabel`.\n     * @private\n     */\n    MultiLevelLabel.prototype.getModuleName = function () {\n        return 'MultiLevelLabel';\n    };\n    /**\n     * To destroy the `MultiLevelLabel` module.\n     * @private\n     */\n    MultiLevelLabel.prototype.destroy = function () {\n        // destroy peform here\n    };\n    return MultiLevelLabel;\n}());\nexport { MultiLevelLabel };\n","/**\n * Defines the common functionalities of accumulation series\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { degreeToLocation, getElement, indexFinder } from '../../common/utils/helper';\nimport { pointByIndex } from '../model/acc-base';\n/**\n * Accumulation Base used to do some base calculation for accumulation chart.\n */\nvar AccumulationBase = /** @class */ (function () {\n    /** @private */\n    function AccumulationBase(accumulation) {\n        this.accumulation = accumulation;\n    }\n    Object.defineProperty(AccumulationBase.prototype, \"center\", {\n        /**\n         * Gets the center of the pie\n         * @private\n         */\n        get: function () {\n            return this.pieCenter || (this.accumulation.visibleSeries[0].type === 'Pie' ?\n                this.accumulation.pieSeriesModule.center : null);\n        },\n        /**\n         * Sets the center of the pie\n         * @private\n         */\n        set: function (value) {\n            this.pieCenter = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AccumulationBase.prototype, \"radius\", {\n        /**\n         * Gets the radius of the pie\n         * @private\n         */\n        get: function () {\n            return this.pieRadius !== undefined ? this.pieRadius :\n                this.accumulation.pieSeriesModule.radius;\n        },\n        /**\n         * Sets the radius of the pie\n         * @private\n         */\n        set: function (value) {\n            this.pieRadius = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AccumulationBase.prototype, \"labelRadius\", {\n        /**\n         * Gets the label radius of the pie\n         * @private\n         */\n        get: function () {\n            return this.pieLabelRadius !== undefined ? this.pieLabelRadius :\n                this.accumulation.pieSeriesModule.labelRadius;\n        },\n        /**\n         * Sets the label radius of the pie\n         * @private\n         */\n        set: function (value) {\n            this.pieLabelRadius = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Checks whether the series is circular or not\n     * @private\n     */\n    AccumulationBase.prototype.isCircular = function () {\n        return this.accumulation.type === 'Pie';\n    };\n    /**\n     * To process the explode on accumulation chart loading\n     * @private\n     */\n    AccumulationBase.prototype.processExplode = function (event) {\n        if (event.target.id.indexOf('_Series_') > -1 || event.target.id.indexOf('_datalabel_') > -1) {\n            var pointIndex = indexFinder(event.target.id).point;\n            if (isNaN(pointIndex) || (event.target.id.indexOf('_datalabel_') > -1 &&\n                this.accumulation.visibleSeries[0].points[pointIndex].labelPosition === 'Outside')) {\n                return null;\n            }\n            this.explodePoints(pointIndex, this.accumulation);\n            this.deExplodeAll(pointIndex);\n        }\n    };\n    /**\n     * To invoke the explode on accumulation chart loading\n     * @private\n     */\n    AccumulationBase.prototype.invokeExplode = function () {\n        if (this.accumulation.visibleSeries[0].explodeAll) {\n            for (var _i = 0, _a = this.accumulation.visibleSeries[0].points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                this.explodePoints(point.index, this.accumulation);\n            }\n        }\n        else if (!isNullOrUndefined(this.accumulation.visibleSeries[0].explodeIndex)) {\n            this.explodePoints(this.accumulation.visibleSeries[0].explodeIndex, this.accumulation);\n        }\n        if (this.accumulation.accumulationSelectionModule && this.accumulation.selectionMode !== 'None' &&\n            this.accumulation.accumulationSelectionModule.selectedDataIndexes.length) {\n            for (var _b = 0, _c = this.accumulation.accumulationSelectionModule.selectedDataIndexes; _b < _c.length; _b++) {\n                var index = _c[_b];\n                this.explodePoints(index.point, this.accumulation, true);\n                this.deExplodeAll(index.point);\n            }\n        }\n    };\n    /**\n     * To deExplode all points in the series\n     */\n    AccumulationBase.prototype.deExplodeAll = function (index) {\n        var pointId = this.accumulation.element.id + '_Series_0_Point_';\n        var points = this.accumulation.visibleSeries[0].points;\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var currentPoint = points_1[_i];\n            if (index !== currentPoint.index) {\n                this.deExplodeSlice(currentPoint.index, pointId, this.center);\n            }\n        }\n    };\n    /**\n     * To explode point by index\n     * @private\n     */\n    AccumulationBase.prototype.explodePoints = function (index, chart, explode) {\n        if (explode === void 0) { explode = false; }\n        var pointId = this.accumulation.element.id + '_Series_0_Point_';\n        var translate;\n        var points = this.accumulation.visibleSeries[0].points;\n        var point = pointByIndex(index, this.accumulation.visibleSeries[0].points);\n        if (isNullOrUndefined(point)) {\n            return null;\n        }\n        if (!this.isCircular()) {\n            translate = { x: chart.explodeDistance, y: 0 };\n        }\n        else {\n            translate = degreeToLocation(point.midAngle, chart.explodeDistance, this.center);\n        }\n        if (this.isExplode(pointId + index) || explode) {\n            this.explodeSlice(index, translate, pointId, this.center || { x: 0, y: 0 });\n        }\n        else {\n            this.deExplodeSlice(index, pointId, this.center);\n        }\n    };\n    /**\n     * To check point is exploded by id\n     */\n    AccumulationBase.prototype.isExplode = function (id) {\n        var element = getElement(id);\n        if (element && (element.getAttribute('transform') === 'translate(0, 0)' || element.getAttribute('transform') === null ||\n            element.getAttribute('transform') === 'translate(0)')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * To deExplode the point by index\n     */\n    AccumulationBase.prototype.deExplodeSlice = function (index, sliceId, center) {\n        var position = 'translate(0, 0)';\n        this.setTranslate(index, sliceId, position);\n    };\n    /**\n     * To translate the point elements by index and position\n     */\n    AccumulationBase.prototype.setTranslate = function (index, sliceId, position) {\n        this.setElementTransform(sliceId + index, position);\n        if (this.accumulation.visibleSeries[0].dataLabel.visible) {\n            sliceId = this.accumulation.element.id + '_datalabel_Series_0_';\n            this.setElementTransform(sliceId + 'shape_' + index, position);\n            this.setElementTransform(sliceId + 'text_' + index, position);\n            this.setElementTransform(sliceId + 'connector_' + index, position);\n        }\n    };\n    /**\n     * To translate the point element by id and position\n     */\n    AccumulationBase.prototype.setElementTransform = function (id, position) {\n        var element = getElement(id);\n        if (element) {\n            element.setAttribute('transform', position);\n        }\n    };\n    /**\n     * To translate the point elements by index position\n     */\n    AccumulationBase.prototype.explodeSlice = function (index, translate, sliceId, center) {\n        var position = 'translate(' + (translate.x - center.x) + ', ' + (translate.y - center.y) + ')';\n        this.setTranslate(index, sliceId, position);\n    };\n    return AccumulationBase;\n}());\nexport { AccumulationBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Accumulation charts base file\n */\nimport { Animation } from '@syncfusion/ej2-base';\nimport { stringToNumber, ChartLocation, degreeToLocation, Rect, getAnimationFunction, getElement } from '../../common/utils/helper';\nimport { animationComplete } from '../../common/model/constants';\nimport { AccumulationBase } from './accumulation-base';\n/**\n * PieBase class used to do pie base calculations.\n */\nvar PieBase = /** @class */ (function (_super) {\n    __extends(PieBase, _super);\n    function PieBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * To initialize the property values.\n     * @private\n     */\n    PieBase.prototype.initProperties = function (chart, series) {\n        this.accumulation = chart;\n        var size = Math.min(chart.initialClipRect.width, chart.initialClipRect.height);\n        this.initAngles(series);\n        this.radius = stringToNumber(series.radius, size / 2);\n        this.innerRadius = stringToNumber(series.innerRadius, this.radius);\n        this.labelRadius = series.dataLabel.position === 'Inside' ? (((this.radius - this.innerRadius) / 2) + this.innerRadius) :\n            (this.radius + stringToNumber(series.dataLabel.connectorStyle.length || '4%', size / 2));\n        chart.explodeDistance = series.explode ? stringToNumber(series.explodeOffset, this.radius) : 0;\n        this.findCenter(chart, series);\n        this.defaultLabelBound(series, series.dataLabel.visible, series.dataLabel.position);\n        this.totalAngle -= 0.001;\n    };\n    /**\n     * To find the center of the accumulation.\n     * @private\n     */\n    PieBase.prototype.findCenter = function (accumulation, series) {\n        this.accumulation = accumulation;\n        this.center = {\n            x: stringToNumber('50%', accumulation.initialClipRect.width) + (accumulation.initialClipRect.x),\n            y: stringToNumber('50%', accumulation.initialClipRect.height) + (accumulation.initialClipRect.y)\n        };\n        var accumulationRect = this.getSeriesBound(series);\n        var accumulationRectCenter = new ChartLocation(accumulationRect.x + accumulationRect.width / 2, accumulationRect.y + accumulationRect.height / 2);\n        this.center.x += (this.center.x - accumulationRectCenter.x);\n        this.center.y += (this.center.y - accumulationRectCenter.y);\n        this.accumulation.center = this.center;\n    };\n    /**\n     * To find angles from series.\n     */\n    PieBase.prototype.initAngles = function (series) {\n        this.totalAngle = (series.endAngle - series.startAngle) % 360;\n        this.startAngle = series.startAngle - 90;\n        this.totalAngle = this.totalAngle <= 0 ? (360 + this.totalAngle) : this.totalAngle;\n        this.startAngle = (this.startAngle < 0 ? (this.startAngle + 360) : this.startAngle) % 360;\n    };\n    /**\n     * To calculate data-label bound\n     * @private\n     */\n    PieBase.prototype.defaultLabelBound = function (series, visible, position) {\n        var accumulationBound = this.getSeriesBound(series);\n        series.accumulationBound = accumulationBound;\n        series.labelBound = new Rect(accumulationBound.x, accumulationBound.y, accumulationBound.width + accumulationBound.x, accumulationBound.height + accumulationBound.y);\n        if (visible && position === 'Outside') {\n            series.labelBound = new Rect(Infinity, Infinity, -Infinity, -Infinity);\n        }\n    };\n    /**\n     * To calculate series bound\n     * @private\n     */\n    PieBase.prototype.getSeriesBound = function (series) {\n        var rect = new Rect(Infinity, Infinity, -Infinity, -Infinity);\n        this.initAngles(series);\n        var start = this.startAngle;\n        var total = this.totalAngle;\n        var end = (this.startAngle + total) % 360;\n        end = (end === 0) ? 360 : end;\n        series.findMaxBounds(rect, this.getRectFromAngle(start));\n        series.findMaxBounds(rect, this.getRectFromAngle(end));\n        series.findMaxBounds(rect, new Rect(this.center.x, this.center.y, 0, 0));\n        var nextQuandrant = (Math.floor(start / 90) * 90 + 90) % 360;\n        var lastQuadrant = (Math.floor(end / 90) * 90) % 360;\n        lastQuadrant = (lastQuadrant === 0) ? 360 : lastQuadrant;\n        if (total >= 90 || lastQuadrant === nextQuandrant) {\n            series.findMaxBounds(rect, this.getRectFromAngle(nextQuandrant));\n            series.findMaxBounds(rect, this.getRectFromAngle(lastQuadrant));\n        }\n        if (start === 0 || (start + total >= 360)) {\n            series.findMaxBounds(rect, this.getRectFromAngle(0));\n        }\n        var length = nextQuandrant === lastQuadrant ? 0 : Math.floor(total / 90);\n        for (var i = 1; i < length; i++) {\n            nextQuandrant = nextQuandrant + 90;\n            if ((nextQuandrant < lastQuadrant || end < start) || total === 360) {\n                series.findMaxBounds(rect, this.getRectFromAngle(nextQuandrant));\n            }\n        }\n        rect.width -= rect.x;\n        rect.height -= rect.y;\n        return rect;\n    };\n    /**\n     * To get rect location size from angle\n     */\n    PieBase.prototype.getRectFromAngle = function (angle) {\n        var location = degreeToLocation(angle, this.radius, this.center);\n        return new Rect(location.x, location.y, 0, 0);\n    };\n    /**\n     * To get path arc direction\n     */\n    PieBase.prototype.getPathArc = function (center, start, end, radius, innerRadius) {\n        var degree = end - start;\n        degree = degree < 0 ? (degree + 360) : degree;\n        var flag = (degree < 180) ? 0 : 1;\n        if (!innerRadius && innerRadius === 0) {\n            return this.getPiePath(center, degreeToLocation(start, radius, center), degreeToLocation(end, radius, center), radius, flag);\n        }\n        else {\n            return this.getDoughnutPath(center, degreeToLocation(start, radius, center), degreeToLocation(end, radius, center), radius, degreeToLocation(start, innerRadius, center), degreeToLocation(end, innerRadius, center), innerRadius, flag);\n        }\n    };\n    /**\n     * To get pie direction\n     */\n    PieBase.prototype.getPiePath = function (center, start, end, radius, clockWise) {\n        return 'M ' + center.x + ' ' + center.y + ' L ' + start.x + ' ' + start.y + ' A ' + radius + ' ' +\n            radius + ' 0 ' + clockWise + ' 1 ' + end.x + ' ' + end.y + ' Z';\n    };\n    /**\n     * To get doughnut direction\n     */\n    PieBase.prototype.getDoughnutPath = function (center, start, end, radius, innerStart, innerEnd, innerRadius, clockWise) {\n        return 'M ' + start.x + ' ' + start.y + ' A ' + radius + ' ' + radius + ' 0 ' + clockWise +\n            ' 1 ' + end.x + ' ' + end.y + ' L ' + innerEnd.x + ' ' + innerEnd.y + ' A ' + innerRadius +\n            ' ' + innerRadius + ' 0 ' + clockWise + ',0 ' + innerStart.x + ' ' + innerStart.y + ' Z';\n    };\n    /**\n     * Method to start animation for pie series.\n     */\n    PieBase.prototype.doAnimation = function (slice, series) {\n        var _this = this;\n        var startAngle = series.startAngle - 85;\n        var value;\n        var radius = Math.max(this.accumulation.availableSize.height, this.accumulation.availableSize.width) * 0.75;\n        radius += radius * (0.414); // formula r + r / 2 * (1.414 -1)\n        var effect = getAnimationFunction('Linear'); // need to check animation type\n        new Animation({}).animate(slice, {\n            duration: series.animation.duration,\n            delay: series.animation.delay,\n            progress: function (args) {\n                value = effect(args.timeStamp, startAngle, _this.totalAngle, args.duration);\n                slice.setAttribute('d', _this.getPathArc(_this.center, startAngle, value, radius, 0));\n            },\n            end: function (args) {\n                slice.setAttribute('d', _this.getPathArc(_this.center, 0, 359.99999, radius, 0));\n                _this.accumulation.trigger(animationComplete, { series: series, accumulation: _this.accumulation });\n                var datalabelGroup = getElement(_this.accumulation.element.id + '_datalabel_Series_' + series.index);\n                datalabelGroup.style.visibility = _this.accumulation.isDestroyed ? 'hidden' : 'visible';\n            }\n        });\n    };\n    return PieBase;\n}(AccumulationBase));\nexport { PieBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, degreeToLocation } from '../../common/utils/helper';\nimport { PieBase } from '../renderer/pie-base';\n/**\n * PieSeries module used to render `Pie` Series.\n */\nvar PieSeries = /** @class */ (function (_super) {\n    __extends(PieSeries, _super);\n    function PieSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * To get path option, degree, symbolLocation from the point.\n     * @private\n     */\n    PieSeries.prototype.renderPoint = function (point, series, chart, option) {\n        var sum = series.sumOfPoints;\n        var degree = ((Math.abs(point.y) / sum) * (this.totalAngle));\n        option.d = this.getPathOption(point, degree);\n        point.midAngle = (this.startAngle - (degree / 2)) % 360;\n        point.endAngle = this.startAngle % 360;\n        point.symbolLocation = degreeToLocation(point.midAngle, (this.radius + this.innerRadius) / 2, this.center);\n        return option;\n    };\n    /**\n     * To get path option from the point.\n     */\n    PieSeries.prototype.getPathOption = function (point, degree) {\n        var path = this.getPathArc(this.center, this.startAngle % 360, (this.startAngle + degree) % 360, this.radius, this.innerRadius);\n        this.startAngle += degree;\n        return path;\n    };\n    /**\n     * To animate the pie series.\n     * @private\n     */\n    PieSeries.prototype.animateSeries = function (accumulation, option, series, slice) {\n        var groupId = accumulation.element.id + 'SeriesGroup' + series.index;\n        if (series.animation.enable && accumulation.animateSeries) {\n            var clippath = accumulation.renderer.createClipPath({ id: groupId + '_clipPath' });\n            var path = new PathOption(groupId + '_slice', 'transparent', 1, 'transparent', 1, '', '');\n            var clipslice = accumulation.renderer.drawPath(path);\n            clippath.appendChild(clipslice);\n            accumulation.svgObject.appendChild(clippath);\n            slice.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n            this.doAnimation(clipslice, series);\n        }\n    };\n    /**\n     * To get the module name of the Pie series.\n     */\n    PieSeries.prototype.getModuleName = function () {\n        return 'PieSeries';\n    };\n    /**\n     * To destroy the pie series.\n     * @return {void}\n     * @private\n     */\n    PieSeries.prototype.destroy = function (accumulation) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return PieSeries;\n}(PieBase));\nexport { PieSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * AccumulationChart file\n */\nimport { Property, Component, Complex, Collection, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { Internationalization, Event, Browser, EventHandler, Touch } from '@syncfusion/ej2-base';\nimport { remove, extend, isNullOrUndefined, createElement } from '@syncfusion/ej2-base';\nimport { Font, Margin, Border, TooltipSettings, Indexes } from '../common/model/base';\nimport { AccumulationSeries } from './model/acc-base';\nimport { Theme, getThemeColor } from '../common/model/theme';\nimport { load, pointClick } from '../common/model/constants';\nimport { pointMove, chartMouseClick, chartMouseDown } from '../common/model/constants';\nimport { chartMouseLeave, chartMouseMove, chartMouseUp, resized } from '../common/model/constants';\nimport { LegendSettings } from '../common/legend/legend';\nimport { Rect, Size, subtractRect, indexFinder } from '../common/utils/helper';\nimport { measureText, RectOption, showTooltip } from '../common/utils/helper';\nimport { textElement, TextOption, createSvg, calculateSize, removeElement, firstToLowerCase } from '../common/utils/helper';\nimport { getElement, titlePositionX } from '../common/utils/helper';\nimport { Data } from '../common/model/data';\nimport { AccumulationBase } from './renderer/accumulation-base';\nimport { PieSeries } from './renderer/pie-series';\nimport { AccumulationAnnotationSettings } from './model/acc-base';\nimport { ExportUtils } from '../common/utils/export';\nimport { getTitle } from '../common/utils/helper';\n/**\n * Represents the AccumulationChart control.\n * ```html\n * <div id=\"accumulation\"/>\n * <script>\n *   var accObj = new AccumulationChart({ });\n *   accObj.appendTo(\"#accumulation\");\n * </script>\n * ```\n */\nvar AccumulationChart = /** @class */ (function (_super) {\n    __extends(AccumulationChart, _super);\n    /**\n     * Constructor for creating the AccumulationChart widget\n     * @private\n     */\n    function AccumulationChart(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @private explode radius internal property */\n        _this.explodeDistance = 0;\n        return _this;\n    }\n    Object.defineProperty(AccumulationChart.prototype, \"type\", {\n        /** @private */\n        get: function () {\n            if (this.series && this.series.length) {\n                return this.series[0].type;\n            }\n            return 'Pie';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // accumulation chart methods\n    /**\n     *  To create svg object, renderer and binding events for the container.\n     */\n    AccumulationChart.prototype.preRender = function () {\n        this.unWireEvents();\n        this.setCulture();\n        this.animateSeries = true;\n        calculateSize(this);\n        this.wireEvents();\n    };\n    /**\n     * Themeing for chart goes here\n     */\n    AccumulationChart.prototype.setTheme = function () {\n        /*! Set theme for accumulation chart */\n        this.themeStyle = getThemeColor(this.theme);\n    };\n    /**\n     * To render the accumulation chart elements\n     */\n    AccumulationChart.prototype.render = function () {\n        this.trigger(load, { accumulation: this });\n        this.setTheme();\n        this.accBaseModule = new AccumulationBase(this);\n        this.pieSeriesModule = new PieSeries(this);\n        this.calculateVisibleSeries();\n        this.processData();\n    };\n    /**\n     * Method to unbind events for accumulation chart\n     */\n    AccumulationChart.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var move = Browser.touchMoveEvent;\n        var stop = Browser.touchEndEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        /*! UnBind the Event handler */\n        EventHandler.remove(this.element, move, this.accumulationMouseMove);\n        EventHandler.remove(this.element, stop, this.accumulationMouseEnd);\n        EventHandler.remove(this.element, start, this.accumulationMouseStart);\n        EventHandler.remove(this.element, 'click', this.accumulationOnMouseClick);\n        EventHandler.remove(this.element, 'contextmenu', this.accumulationRightClick);\n        EventHandler.remove(this.element, cancel, this.accumulationMouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.accumulationResize);\n    };\n    /**\n     * Method to bind events for the accumulation chart\n     */\n    AccumulationChart.prototype.wireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        /*! Bind the Event handler */\n        EventHandler.add(this.element, move, this.accumulationMouseMove, this);\n        EventHandler.add(this.element, stop, this.accumulationMouseEnd, this);\n        EventHandler.add(this.element, start, this.accumulationMouseStart, this);\n        EventHandler.add(this.element, 'click', this.accumulationOnMouseClick, this);\n        EventHandler.add(this.element, 'contextmenu', this.accumulationRightClick, this);\n        EventHandler.add(this.element, cancel, this.accumulationMouseLeave, this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.accumulationResize.bind(this));\n        new Touch(this.element); // To avoid geasture blocking for browser\n        /*! Apply the style for chart */\n        this.setStyle(this.element);\n    };\n    /**\n     * Method to set mouse x, y from events\n     */\n    AccumulationChart.prototype.setMouseXY = function (e) {\n        var pageX;\n        var pageY;\n        if (e.type.indexOf('touch') > -1) {\n            this.isTouch = true;\n            var touchArg = e;\n            pageY = touchArg.changedTouches[0].clientY;\n            pageX = touchArg.changedTouches[0].clientX;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        this.mouseX = (pageX - rect.left) - Math.max(svgRect.left - rect.left, 0);\n        this.mouseY = (pageY - rect.top) - Math.max(svgRect.top - rect.top, 0);\n    };\n    /**\n     * Handles the mouse end.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseEnd = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseUp, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        if (this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n            if (this.accumulationDataLabelModule && this.visibleSeries[0].dataLabel.visible) {\n                this.accumulationDataLabelModule.move(e, this.mouseX, this.mouseY, this.isTouch);\n            }\n            if (this.accumulationLegendModule && this.legendSettings.visible) {\n                this.accumulationLegendModule.move(e);\n            }\n        }\n        this.notify(Browser.touchEndEvent, e);\n        return false;\n    };\n    /*public removeSvgOffset(x: number, y: number): ChartLocation {\n        let rect: ClientRect = this.element.getBoundingClientRect();\n        let svgRect: ClientRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        return { x: (x - rect.left) - Math.max(svgRect.left - rect.left, 0), y: (y - rect.top) - Math.max(svgRect.top - rect.top, 0)};\n    }*/\n    /**\n     * Handles the mouse start.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseStart = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseDown, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        return false;\n    };\n    /**\n     * Handles the accumulation chart resize.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationResize = function (e) {\n        var _this = this;\n        this.animateSeries = false;\n        var args = {\n            accumulation: this,\n            previousSize: new Size(this.availableSize.width, this.availableSize.height),\n            name: resized,\n            currentSize: new Size(0, 0)\n        };\n        if (this.resizeTo) {\n            clearTimeout(this.resizeTo);\n        }\n        this.resizeTo = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTo);\n                return;\n            }\n            calculateSize(_this);\n            args.currentSize = _this.availableSize;\n            _this.trigger(resized, args);\n            _this.refreshSeries();\n            _this.refreshChart();\n        }, 500);\n        return false;\n    };\n    /**\n     * Handles the export method for chart control.\n     */\n    AccumulationChart.prototype.export = function (type, fileName, orientation) {\n        var exportChart = new ExportUtils(this);\n        exportChart.export(type, fileName, orientation);\n    };\n    /**\n     * Handles the print method for accumulation chart control.\n     */\n    AccumulationChart.prototype.print = function (id) {\n        var exportChart = new ExportUtils(this);\n        exportChart.print(id);\n    };\n    /**\n     * Applying styles for accumulation chart element\n     */\n    AccumulationChart.prototype.setStyle = function (element) {\n        element.style.touchAction = 'element';\n        element.style.msTouchAction = 'element';\n        element.style.msContentZooming = 'none';\n        element.style.msUserSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n    };\n    /**\n     * Method to set the annotation content dynamically for accumulation.\n     */\n    AccumulationChart.prototype.setAnnotationValue = function (annotationIndex, content) {\n        var annotation = this.annotations[annotationIndex];\n        var element;\n        var parentNode = getElement(this.element.id + '_Annotation_Collections');\n        if (content) {\n            annotation.content = content;\n            if (parentNode) {\n                element = createElement('div');\n                removeElement(this.element.id + '_Annotation_' + annotationIndex);\n                this.annotationModule.processAnnotation(annotation, annotationIndex, element);\n                parentNode.appendChild(element.children[0]);\n            }\n            else {\n                this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n            }\n        }\n    };\n    /**\n     * Handles the mouse move on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseMove = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseMove, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        if (this.pointMove) {\n            this.triggerPointEvent(pointMove, e.target);\n        }\n        if (this.accumulationLegendModule && this.legendSettings.visible) {\n            this.accumulationLegendModule.move(e);\n        }\n        if (this.accumulationDataLabelModule && this.visibleSeries[0] && this.visibleSeries[0].dataLabel.visible) {\n            this.accumulationDataLabelModule.move(e, this.mouseX, this.mouseY);\n        }\n        if (!this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY);\n        }\n        this.notify(Browser.touchMoveEvent, e);\n        return false;\n    };\n    AccumulationChart.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((event.target.textContent.indexOf('...') > -1) && (targetId === (this.element.id + '_title'))) {\n            showTooltip(this.title, x, y, this.element.offsetWidth, this.element.id + '_EJ2_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_Title_Tooltip');\n        }\n    };\n    /**\n     * Handles the mouse click on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationOnMouseClick = function (e) {\n        this.setMouseXY(e);\n        if (this.accumulationLegendModule && this.legendSettings.visible) {\n            this.accumulationLegendModule.click(e);\n        }\n        if (this.selectionMode !== 'None' && this.accumulationSelectionModule) {\n            this.accumulationSelectionModule.calculateSelectedElements(this, e);\n        }\n        if (this.visibleSeries[0].explode) {\n            this.accBaseModule.processExplode(e);\n        }\n        this.trigger(chartMouseClick, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        if (this.pointClick) {\n            this.triggerPointEvent(pointClick, e.target);\n        }\n        return false;\n    };\n    AccumulationChart.prototype.triggerPointEvent = function (event, element) {\n        var indexes = indexFinder(element.id, true);\n        if (indexes.series >= 0 && indexes.point >= 0) {\n            this.trigger(event, { series: this.series[indexes.series],\n                point: this.series[indexes.series].points[indexes.point],\n                seriesIndex: indexes.series, pointIndex: indexes.point,\n                x: this.mouseX, y: this.mouseY });\n        }\n    };\n    /**\n     * Handles the mouse right click on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationRightClick = function (event) {\n        if (event.buttons === 2 || event.pointerType === 'touch') {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Handles the mouse leave on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseLeave = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseLeave, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        this.notify(Browser.isPointer ? 'pointerleave' : 'mouseleave', e);\n        return false;\n    };\n    /**\n     * Method to set culture for chart\n     */\n    AccumulationChart.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n    };\n    /**\n     * Method to create SVG element for accumulation chart.\n     */\n    AccumulationChart.prototype.createPieSvg = function () {\n        this.removeSvg();\n        createSvg(this);\n    };\n    /**\n     * To Remove the SVG from accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.removeSvg = function () {\n        removeElement(this.element.id + '_Secondary_Element');\n        if (this.svgObject) {\n            while (this.svgObject.childNodes.length > 0) {\n                this.svgObject.removeChild(this.svgObject.firstChild);\n            }\n            if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode) {\n                remove(this.svgObject);\n            }\n        }\n        removeElement('EJ2_legend_tooltip');\n        removeElement('EJ2_datalabel_tooltip');\n    };\n    /**\n     * Method to create the secondary element for tooltip, datalabel and annotaitons.\n     */\n    AccumulationChart.prototype.createSecondaryElement = function () {\n        this.element.appendChild(createElement('div', {\n            id: this.element.id + '_Secondary_Element',\n            styles: 'position: relative'\n        }));\n    };\n    /**\n     * Method to find visible series based on series types\n     */\n    AccumulationChart.prototype.calculateVisibleSeries = function () {\n        this.visibleSeries = [];\n        for (var i = 0, length_1 = this.series.length; i < length_1; i++) {\n            this.series[i].index = i;\n            if (this.series[i].type === this.type && this.visibleSeries.length === 0) {\n                this.visibleSeries.push(this.series[i]);\n                break;\n            }\n        }\n    };\n    /**\n     * To find points from dataSource\n     */\n    AccumulationChart.prototype.processData = function () {\n        this.seriesCounts = 0;\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            series.dataModule = new Data(series.dataSource, series.query);\n            series.refreshDataManager(this);\n        }\n    };\n    /**\n     * To refresh the accumulation chart\n     * @private\n     */\n    AccumulationChart.prototype.refreshChart = function () {\n        this.doGrouppingProcess();\n        this.createPieSvg();\n        this.calculateBounds();\n        this.renderElements();\n    };\n    /**\n     * Method to find groupped points\n     */\n    AccumulationChart.prototype.doGrouppingProcess = function () {\n        var series = this.visibleSeries[0];\n        if (!isNullOrUndefined(series.resultData) && ((!isNullOrUndefined(series.lastGroupTo) &&\n            series.lastGroupTo !== series.groupTo))) {\n            series.getPoints(series.resultData, this);\n        }\n    };\n    /**\n     * Method to calculate bounds for accumulation chart\n     */\n    AccumulationChart.prototype.calculateBounds = function () {\n        this.initialClipRect = new Rect(this.margin.left, this.margin.top, this.availableSize.width, this.availableSize.height);\n        this.titleCollection = [];\n        this.titleCollection = getTitle(this.title, this.titleStyle, this.initialClipRect.width);\n        subtractRect(this.initialClipRect, new Rect(0, (measureText(this.title, this.titleStyle).height * this.titleCollection.length), this.margin.right + this.margin.left, this.margin.bottom + this.margin.top));\n        this.calculateLegendBounds();\n    };\n    /*\n     * Method to calculate legend bounds for accumulation chart\n     */\n    AccumulationChart.prototype.calculateLegendBounds = function () {\n        if (!this.accumulationLegendModule || !this.legendSettings.visible) {\n            return null;\n        }\n        this.accumulationLegendModule.getLegendOptions(this, this.visibleSeries);\n        this.accumulationLegendModule.calculateLegendBounds(this.initialClipRect, this.availableSize);\n    };\n    /**\n     * To render elements for accumulation chart\n     * @private\n     */\n    AccumulationChart.prototype.renderElements = function () {\n        this.renderBorder();\n        this.renderTitle();\n        this.createSecondaryElement();\n        this.renderSeries();\n        this.renderLegend();\n        this.element.appendChild(this.svgObject);\n        this.processSelection();\n        this.processExplode();\n        this.renderAnnotation();\n        this.setSecondaryElementPosition();\n        this.trigger('loaded', { accumulation: this });\n        this.animateSeries = false;\n    };\n    /**\n     * To set the left and top position for data label template for center aligned chart\n     */\n    AccumulationChart.prototype.setSecondaryElementPosition = function () {\n        var tooltipParent = getElement(this.element.id + '_Secondary_Element');\n        if (!tooltipParent) {\n            return;\n        }\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        tooltipParent.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\n        tooltipParent.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\n    };\n    /**\n     * To render the annotaitions for accumulation series.\n     */\n    AccumulationChart.prototype.renderAnnotation = function () {\n        if (this.annotationModule) {\n            this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n        }\n    };\n    /**\n     * Method to process the explode in accumulation chart\n     */\n    AccumulationChart.prototype.processExplode = function () {\n        if (!this.visibleSeries[0].explode) {\n            return null;\n        }\n        this.accBaseModule.invokeExplode();\n    };\n    /**\n     * Method to render series for accumulation chart\n     */\n    AccumulationChart.prototype.renderSeries = function () {\n        this.svgObject.appendChild(this.renderer.createGroup({ id: this.element.id + '_SeriesCollection' }));\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (series.visible && this[(firstToLowerCase(series.type) + 'SeriesModule')]) {\n                this[(firstToLowerCase(series.type) + 'SeriesModule')].initProperties(this, series);\n                series.renderSeries(this);\n            }\n        }\n    };\n    /**\n     * Method to render border for accumulation chart\n     */\n    AccumulationChart.prototype.renderBorder = function () {\n        var padding = this.border.width;\n        this.svgObject.appendChild(this.renderer.drawRectangle(new RectOption(this.element.id + '_border', this.background || this.themeStyle.background, this.border, 1, new Rect(padding / 2, padding / 2, this.availableSize.width - padding, this.availableSize.height - padding))));\n    };\n    /**\n     * Method to render legend for accumulation chart\n     */\n    AccumulationChart.prototype.renderLegend = function () {\n        if (!this.accumulationLegendModule || !this.legendSettings.visible) {\n            return null;\n        }\n        if (this.accumulationLegendModule.legendCollections.length) {\n            if (this.visibleSeries[0].type === 'Pie') {\n                this.accumulationLegendModule.getSmartLegendLocation(this.visibleSeries[0].labelBound, this.accumulationLegendModule.legendBounds, this.margin);\n            }\n            this.accumulationLegendModule.renderLegend(this, this.legendSettings, this.accumulationLegendModule.legendBounds);\n        }\n    };\n    /**\n     * To process the selection in accumulation chart\n     */\n    AccumulationChart.prototype.processSelection = function () {\n        if (!this.accumulationSelectionModule || this.selectionMode === 'None') {\n            return null;\n        }\n        var selectedDataIndexes = extend([], this.accumulationSelectionModule.selectedDataIndexes, null, true);\n        this.accumulationSelectionModule.invokeSelection(this);\n        if (selectedDataIndexes.length > 0) {\n            this.accumulationSelectionModule.selectedDataIndexes = selectedDataIndexes;\n            this.accumulationSelectionModule.redrawSelection(this, this.selectionMode);\n        }\n    };\n    /**\n     * To render title for accumulation chart\n     */\n    AccumulationChart.prototype.renderTitle = function () {\n        if (!this.title) {\n            return null;\n        }\n        var titleSize = measureText(this.title, this.titleStyle);\n        var anchor = this.titleStyle.textAlignment === 'Near' ? 'start' :\n            this.titleStyle.textAlignment === 'Far' ? 'end' : 'middle';\n        textElement(new TextOption(this.element.id + '_title', titlePositionX(this.availableSize, this.margin.left, this.margin.left, this.titleStyle), this.margin.top + (titleSize.height * 3 / 4), anchor, this.titleCollection, '', 'auto'), this.titleStyle, this.titleStyle.color || this.themeStyle.chartTitle, this.svgObject);\n    };\n    /**\n     * To get the series parent element\n     * @private\n     */\n    AccumulationChart.prototype.getSeriesElement = function () {\n        return this.svgObject.getElementsByTagName('g')[0];\n    };\n    /**\n     * To refresh the all visible series points\n     * @private\n     */\n    AccumulationChart.prototype.refreshSeries = function () {\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            this.refreshPoints(series.points);\n        }\n    };\n    /**\n     * To refresh points label region and visible\n     * @private\n     */\n    AccumulationChart.prototype.refreshPoints = function (points) {\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var point = points_1[_i];\n            point.labelPosition = null;\n            point.labelRegion = null;\n            point.labelVisible = true;\n        }\n    };\n    /**\n     * To get Module name\n     *  @private\n     */\n    AccumulationChart.prototype.getModuleName = function () {\n        return 'accumulationchart';\n    };\n    /**\n     * To destroy the accumulationcharts\n     * @private\n     */\n    AccumulationChart.prototype.destroy = function () {\n        this.unWireEvents();\n        _super.prototype.destroy.call(this);\n        this.element.classList.remove('e-accumulationchart');\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return {ModuleDeclaration[]}\n     * @private\n     */\n    AccumulationChart.prototype.requiredModules = function () {\n        var modules = [];\n        var enableAnnotation = false;\n        modules.push({\n            member: this.type + 'Series',\n            args: [this]\n        });\n        if (this.legendSettings.visible) {\n            modules.push({\n                member: 'AccumulationLegend',\n                args: [this]\n            });\n        }\n        if (this.findDatalabelVisibility()) {\n            modules.push({\n                member: 'AccumulationDataLabel',\n                args: [this]\n            });\n        }\n        if (this.tooltip.enable) {\n            modules.push({\n                member: 'AccumulationTooltip',\n                args: [this]\n            });\n        }\n        if (this.selectionMode !== 'None') {\n            modules.push({\n                member: 'AccumulationSelection',\n                args: [this]\n            });\n        }\n        enableAnnotation = this.annotations.some(function (value) {\n            return (value.content !== null);\n        });\n        if (enableAnnotation) {\n            modules.push({\n                member: 'Annotation',\n                args: [this, this.annotations]\n            });\n        }\n        return modules;\n    };\n    /**\n     * To find datalabel visibility in series\n     */\n    AccumulationChart.prototype.findDatalabelVisibility = function () {\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (series.dataLabel.visible) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    AccumulationChart.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    AccumulationChart.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var update = {\n            refreshElements: false, refreshBounds: false\n        };\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'theme':\n                    this.animateSeries = true;\n                    break;\n                case 'title':\n                case 'height':\n                case 'width':\n                case 'margin':\n                    update.refreshBounds = true;\n                    break;\n                case 'titleStyle':\n                    if (newProp.titleStyle && (newProp.titleStyle.size || newProp.titleStyle.textOverflow)) {\n                        update.refreshBounds = true;\n                    }\n                    else {\n                        update.refreshElements = true;\n                    }\n                    break;\n                case 'legendSettings':\n                    update.refreshBounds = true;\n                    update.refreshElements = true;\n                    break;\n                case 'locale':\n                case 'currencyCode':\n                    _super.prototype.refresh.call(this);\n                    break;\n                case 'background':\n                case 'border':\n                case 'annotations':\n                case 'enableSmartLabels':\n                    update.refreshElements = true;\n                    break;\n                case 'isMultiSelect':\n                case 'selectedDataIndexes':\n                case 'selectionMode':\n                    if (this.accumulationSelectionModule) {\n                        if (isNullOrUndefined(this.accumulationSelectionModule.selectedDataIndexes)) {\n                            this.accumulationSelectionModule.invokeSelection(this);\n                        }\n                        else {\n                            this.accumulationSelectionModule.redrawSelection(this, oldProp.selectionMode);\n                        }\n                    }\n                    break;\n            }\n        }\n        if (!update.refreshBounds && update.refreshElements) {\n            this.createPieSvg();\n            this.renderElements();\n        }\n        else if (update.refreshBounds) {\n            this.refreshSeries();\n            this.createPieSvg();\n            this.calculateBounds();\n            this.renderElements();\n        }\n    };\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.chartTitleFont, Font)\n    ], AccumulationChart.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Complex({}, LegendSettings)\n    ], AccumulationChart.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], AccumulationChart.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('None')\n    ], AccumulationChart.prototype, \"selectionMode\", void 0);\n    __decorate([\n        Property(false)\n    ], AccumulationChart.prototype, \"isMultiSelect\", void 0);\n    __decorate([\n        Collection([], Indexes)\n    ], AccumulationChart.prototype, \"selectedDataIndexes\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], AccumulationChart.prototype, \"margin\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationChart.prototype, \"enableSmartLabels\", void 0);\n    __decorate([\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\n    ], AccumulationChart.prototype, \"border\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"background\", void 0);\n    __decorate([\n        Collection([{}], AccumulationSeries)\n    ], AccumulationChart.prototype, \"series\", void 0);\n    __decorate([\n        Collection([{}], AccumulationAnnotationSettings)\n    ], AccumulationChart.prototype, \"annotations\", void 0);\n    __decorate([\n        Property('Material')\n    ], AccumulationChart.prototype, \"theme\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"seriesRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"legendRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"textRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"pointRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"annotationRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseClick\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"pointClick\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"pointMove\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"animationComplete\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseDown\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseLeave\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseUp\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"resized\", void 0);\n    __decorate([\n        Property('USD')\n    ], AccumulationChart.prototype, \"currencyCode\", void 0);\n    AccumulationChart = __decorate([\n        NotifyPropertyChanges\n    ], AccumulationChart);\n    return AccumulationChart;\n}(Component));\nexport { AccumulationChart };\n","/**\n * Defines the common behavior of funnel and pyramid series\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Size, stringToNumber, Rect } from '../../common/utils/helper';\nimport { AccumulationBase } from './accumulation-base';\n/**\n * TriangularBase is used to calculate base functions for funnel/pyramid series.\n */\nvar TriangularBase = /** @class */ (function (_super) {\n    __extends(TriangularBase, _super);\n    function TriangularBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the properties of funnel/pyramid series\n     * @private\n     */\n    TriangularBase.prototype.initProperties = function (chart, series) {\n        var actualChartArea = chart.initialClipRect;\n        series.triangleSize = new Size(stringToNumber(series.width, actualChartArea.width), stringToNumber(series.height, actualChartArea.height));\n        series.neckSize = new Size(stringToNumber(series.neckWidth, actualChartArea.width), stringToNumber(series.neckHeight, actualChartArea.height));\n        this.defaultLabelBound(series, series.dataLabel.visible, series.dataLabel.position, chart);\n        if (series.explodeOffset === '30%') {\n            series.explodeOffset = '25px';\n        }\n        chart.explodeDistance = stringToNumber(series.explodeOffset, actualChartArea.width);\n        var points = series.points;\n        this.initializeSizeRatio(points, series);\n    };\n    /**\n     * Initializes the size of the pyramid/funnel segments\n     * @private\n     */\n    TriangularBase.prototype.initializeSizeRatio = function (points, series, reverse) {\n        if (reverse === void 0) { reverse = false; }\n        var sumOfPoints = series.sumOfPoints;\n        //Limiting the ratio within the range of 0 to 1\n        var gapRatio = Math.min(Math.max(series.gapRatio, 0), 1);\n        //% equivalence of a value 1\n        var coEff = 1 / (sumOfPoints * (1 + gapRatio / (1 - gapRatio)));\n        var spacing = gapRatio / (points.length - 1);\n        var y = 0;\n        //starting from bottom\n        for (var i = points.length - 1; i >= 0; i--) {\n            var index = reverse ? points.length - 1 - i : i;\n            if (points[index].visible) {\n                var height = coEff * points[index].y;\n                points[index].yRatio = y;\n                points[index].heightRatio = height;\n                y += height + spacing;\n            }\n        }\n    };\n    /**\n     * Marks the label location from the set of points that forms a pyramid/funnel segment\n     * @private\n     */\n    TriangularBase.prototype.setLabelLocation = function (series, point, points) {\n        var last = points.length - 1;\n        var bottom = series.type === 'Funnel' ? points.length - 2 : points.length - 1;\n        var x = (points[0].x + points[bottom].x) / 2;\n        var right = (points[1].x + points[bottom - 1].x) / 2;\n        point.region = new Rect(x, points[0].y, right - x, points[bottom].y - points[0].y);\n        point.symbolLocation = {\n            x: point.region.x + point.region.width / 2,\n            y: point.region.y + point.region.height / 2\n        };\n        point.labelOffset = {\n            x: point.symbolLocation.x - (points[0].x + points[last].x) / 2,\n            y: point.symbolLocation.y - (points[0].y + points[last].y) / 2\n        };\n    };\n    /**\n     * Finds the path to connect the list of points\n     * @private\n     */\n    TriangularBase.prototype.findPath = function (locations) {\n        var path = 'M';\n        for (var i = 0; i < locations.length; i++) {\n            path += locations[i].x + ' ' + locations[i].y;\n            if (i !== locations.length - 1) {\n                path += ' L';\n            }\n        }\n        return path;\n    };\n    /**\n     * To calculate data-label bounds\n     * @private\n     */\n    TriangularBase.prototype.defaultLabelBound = function (series, visible, position, chart) {\n        var x = (chart.initialClipRect.width - series.triangleSize.width) / 2;\n        var y = (chart.initialClipRect.height - series.triangleSize.height) / 2;\n        var accumulationBound = new Rect(x, y, series.triangleSize.width, series.triangleSize.height);\n        series.labelBound = new Rect(accumulationBound.x, accumulationBound.y, accumulationBound.width + accumulationBound.x, accumulationBound.height + accumulationBound.y);\n        series.accumulationBound = accumulationBound;\n        if (visible && position === 'Outside') {\n            series.labelBound = new Rect(Infinity, Infinity, -Infinity, -Infinity);\n        }\n    };\n    return TriangularBase;\n}(AccumulationBase));\nexport { TriangularBase };\n","/**\n * Defines the behavior of a funnel series\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TriangularBase } from './triangular-base';\n/**\n * FunnelSeries module used to render `Funnel` Series.\n */\nvar FunnelSeries = /** @class */ (function (_super) {\n    __extends(FunnelSeries, _super);\n    function FunnelSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the path of a funnel segment\n     */\n    FunnelSeries.prototype.getSegmentData = function (point, series, chart) {\n        var lineWidth;\n        var topRadius;\n        var bottomRadius;\n        var endTop;\n        var endBottom;\n        var minRadius;\n        var endMin;\n        var bottomY;\n        var area = series.triangleSize;\n        var offset = 0;\n        var extraSpace = (chart.initialClipRect.width - series.triangleSize.width) / 2;\n        var emptySpaceAtLeft = extraSpace + chart.initialClipRect.x;\n        var seriesTop = chart.initialClipRect.y + (chart.initialClipRect.height - area.height) / 2;\n        //defines the top and bottom of a segment\n        var top = point.yRatio * area.height;\n        var bottom = top + point.heightRatio * area.height;\n        var neckSize = series.neckSize;\n        lineWidth = neckSize.width + (area.width - neckSize.width) * ((area.height - neckSize.height - top) /\n            (area.height - neckSize.height));\n        topRadius = (area.width / 2) - lineWidth / 2;\n        //Calculating the middle slope change and bottom\n        endTop = topRadius + lineWidth;\n        if (bottom > area.height - neckSize.height || area.height === neckSize.height) {\n            lineWidth = neckSize.width;\n        }\n        else {\n            lineWidth = neckSize.width + (area.width - neckSize.width) *\n                ((area.height - neckSize.height - bottom) / (area.height - neckSize.height));\n        }\n        bottomRadius = (area.width / 2) - (lineWidth / 2);\n        endBottom = bottomRadius + lineWidth;\n        if (top >= area.height - neckSize.height) {\n            topRadius = bottomRadius = minRadius = (area.width / 2) - neckSize.width / 2;\n            endTop = endBottom = endMin = (area.width / 2) + neckSize.width / 2;\n        }\n        else if (bottom > (area.height - neckSize.height)) {\n            minRadius = bottomRadius = (area.width / 2) - lineWidth / 2;\n            endMin = endBottom = minRadius + lineWidth;\n            bottomY = area.height - neckSize.height;\n        }\n        var points = [];\n        top += seriesTop;\n        bottom += seriesTop;\n        bottomY += seriesTop;\n        var line1 = { x: emptySpaceAtLeft + offset + topRadius, y: top };\n        var line2 = { x: emptySpaceAtLeft + offset + endTop, y: top };\n        var line4 = { x: emptySpaceAtLeft + offset + endBottom, y: bottom };\n        var line5 = { x: emptySpaceAtLeft + offset + bottomRadius, y: bottom };\n        var line3 = { x: emptySpaceAtLeft + offset + endBottom, y: bottom };\n        var line6 = { x: emptySpaceAtLeft + offset + bottomRadius, y: bottom };\n        if (bottomY) {\n            line3 = { x: emptySpaceAtLeft + offset + endMin, y: bottomY };\n            line6 = { x: emptySpaceAtLeft + offset + minRadius, y: bottomY };\n        }\n        var polygon = [line1, line2, line3, line4, line5, line6];\n        this.setLabelLocation(series, point, polygon);\n        var direction = this.findPath(polygon);\n        return direction;\n    };\n    /**\n     * Renders a funnel segment\n     * @private\n     */\n    FunnelSeries.prototype.renderPoint = function (point, series, chart, options) {\n        var direction = this.getSegmentData(point, series, chart);\n        point.midAngle = 0;\n        options.d = direction;\n    };\n    /**\n     * To get the module name of the funnel series.\n     */\n    FunnelSeries.prototype.getModuleName = function () {\n        return 'FunnelSeries';\n    };\n    /**\n     * To destroy the funnel series.\n     * @return {void}\n     * @private\n     */\n    FunnelSeries.prototype.destroy = function (accumulation) {\n        /**\n         * Destroys the funnel series\n         */\n    };\n    return FunnelSeries;\n}(TriangularBase));\nexport { FunnelSeries };\n","/**\n * Defines the behavior of a pyramid series\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TriangularBase } from './triangular-base';\n/**\n * PyramidSeries module used to render `Pyramid` Series.\n */\nvar PyramidSeries = /** @class */ (function (_super) {\n    __extends(PyramidSeries, _super);\n    function PyramidSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the path of a pyramid segment\n     */\n    PyramidSeries.prototype.getSegmentData = function (point, series, chart) {\n        var area = series.triangleSize;\n        //top of th series\n        var seriesTop = chart.initialClipRect.y + (chart.initialClipRect.height - area.height) / 2;\n        var points = [];\n        //consider, if the point is exploded\n        var offset = 0;\n        var extraSpace = (chart.initialClipRect.width - series.triangleSize.width) / 2;\n        var emptySpaceAtLeft = extraSpace + chart.initialClipRect.x;\n        //top and bottom\n        var top = point.yRatio;\n        var bottom = point.yRatio + point.heightRatio;\n        //width of the top and bottom edge\n        var topRadius = 0.5 * (1 - point.yRatio);\n        var bottomRadius = 0.5 * (1 - bottom);\n        top += seriesTop / area.height;\n        bottom += seriesTop / area.height;\n        var line1 = {\n            x: emptySpaceAtLeft + offset + topRadius * area.width,\n            y: top * area.height\n        };\n        var line2 = {\n            x: emptySpaceAtLeft + offset + (1 - topRadius) * area.width,\n            y: top * area.height\n        };\n        var line3 = {\n            x: emptySpaceAtLeft + offset + (1 - bottomRadius) * area.width,\n            y: bottom * area.height\n        };\n        var line4 = {\n            x: emptySpaceAtLeft + offset + bottomRadius * area.width,\n            y: bottom * area.height\n        };\n        var polygon = [line1, line2, line3, line4];\n        this.setLabelLocation(series, point, polygon);\n        var direction = this.findPath(polygon);\n        return direction;\n    };\n    /**\n     * Initializes the size of the pyramid segments\n     * @private\n     */\n    PyramidSeries.prototype.initializeSizeRatio = function (points, series) {\n        if (series.pyramidMode === 'Linear') {\n            _super.prototype.initializeSizeRatio.call(this, points, series, true);\n        }\n        else {\n            this.calculateSurfaceSegments(series);\n        }\n    };\n    /**\n     * Defines the size of the pyramid segments, the surface of that will reflect the values\n     */\n    PyramidSeries.prototype.calculateSurfaceSegments = function (series) {\n        var count = series.points.length;\n        var sumOfValues = series.sumOfPoints;\n        var yRatio = 0;\n        var y = [];\n        var height = [];\n        var gapRatio = Math.min(0, Math.max(series.gapRatio, 1));\n        var gapHeight = gapRatio / (count - 1);\n        var preSum = this.getSurfaceHeight(0, sumOfValues);\n        var currY = 0;\n        for (var i = 0; i < count; i++) {\n            if (series.points[i].visible) {\n                y[i] = currY;\n                height[i] = this.getSurfaceHeight(currY, Math.abs(series.points[i].y));\n                currY += height[i] + gapHeight * preSum;\n            }\n        }\n        var coef = 1 / (currY - gapHeight * preSum);\n        for (var i = 0; i < count; i++) {\n            if (series.points[i].visible) {\n                series.points[i].yRatio = coef * y[i];\n                series.points[i].heightRatio = coef * height[i];\n            }\n        }\n    };\n    /**\n     * Finds the height of pyramid segment\n     */\n    PyramidSeries.prototype.getSurfaceHeight = function (y, surface) {\n        var result = this.solveQuadraticEquation(1, 2 * y, -surface);\n        return result;\n    };\n    /**\n     * Solves quadratic equation\n     */\n    PyramidSeries.prototype.solveQuadraticEquation = function (a, b, c) {\n        var root1;\n        var root2;\n        var d = b * b - 4 * a * c;\n        if (d >= 0) {\n            var sd = Math.sqrt(d);\n            root1 = (-b - sd) / (2 * a);\n            root2 = (-b + sd) / (2 * a);\n            return Math.max(root1, root2);\n        }\n        return 0;\n    };\n    /**\n     * Renders a pyramid segment\n     */\n    PyramidSeries.prototype.renderPoint = function (point, series, chart, options) {\n        var direction = this.getSegmentData(point, series, chart);\n        point.midAngle = 0;\n        options.d = direction;\n    };\n    /**\n     * To get the module name of the Pyramid series.\n     */\n    PyramidSeries.prototype.getModuleName = function () {\n        return 'PyramidSeries';\n    };\n    /**\n     * To destroy the pyramid series\n     * @return {void}\n     * @private\n     */\n    PyramidSeries.prototype.destroy = function (accumulation) {\n        /**\n         * Destroys the pyramid series\n         */\n    };\n    return PyramidSeries;\n}(TriangularBase));\nexport { PyramidSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * AccumulationChart legend\n */\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pointByIndex } from '../model/acc-base';\nimport { BaseLegend, LegendOptions } from '../../common/legend/legend';\nimport { Rect, measureText, textTrim } from '../../common/utils/helper';\n/**\n * AccumulationLegend module used to render `Legend` for Accumulation chart.\n */\nvar AccumulationLegend = /** @class */ (function (_super) {\n    __extends(AccumulationLegend, _super);\n    /**\n     * Constructor for Accumulation Legend.\n     * @param chart\n     */\n    function AccumulationLegend(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.library = _this;\n        _this.titleRect = new Rect(0, chart.margin.top, 0, 0);\n        return _this;\n    }\n    /**\n     * Get the legend options.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.getLegendOptions = function (chart, series) {\n        this.legendCollections = [];\n        for (var i = 0; i < 1; i++) {\n            var seriesType = series[i].type;\n            if (seriesType === 'Pie' || seriesType === 'Doughnut') {\n                seriesType = (series[i].innerRadius !== '0' && series[i].innerRadius !== '0%') ?\n                    'Doughnut' : 'Pie';\n            }\n            for (var _i = 0, _a = series[i].points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                if (!isNullOrUndefined(point.x) && !isNullOrUndefined(point.y)) {\n                    this.legendCollections.push(new LegendOptions(point.x.toString(), point.color, series[i].legendShape, point.visible, seriesType, null, null, point.index, series[i].index));\n                }\n            }\n        }\n    };\n    /**\n     * To find legend bounds for accumulation chart.\n     * @private\n     */\n    AccumulationLegend.prototype.getLegendBounds = function (availableSize, legendBounds, legend) {\n        var extraWidth = 0;\n        var extraHeight = 0;\n        var padding = legend.padding;\n        if (!this.isVertical) {\n            extraHeight = !legend.height ? ((availableSize.height / 100) * 5) : 0;\n        }\n        else {\n            extraWidth = !legend.width ? ((availableSize.width / 100) * 5) : 0;\n        }\n        legendBounds.width += extraWidth;\n        legendBounds.height += extraHeight;\n        var shapePadding = legend.shapePadding;\n        var maximumWidth = 0;\n        var shapeWidth = legend.shapeWidth;\n        var rowWidth = 0;\n        var rowCount = 0;\n        var columnWidth = [];\n        var columnHeight = 0;\n        var legendWidth = 0;\n        this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n        var legendEventArgs;\n        var render = false;\n        for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n            var legendOption = _a[_i];\n            legendEventArgs = { fill: legendOption.fill, text: legendOption.text, shape: legendOption.shape,\n                name: 'legendRender', cancel: false };\n            this.chart.trigger('legendRender', legendEventArgs);\n            legendOption.render = !legendEventArgs.cancel;\n            legendOption.text = legendEventArgs.text;\n            legendOption.fill = legendEventArgs.fill;\n            legendOption.shape = legendEventArgs.shape;\n            legendOption.textSize = measureText(legendOption.text, legend.textStyle);\n            if (legendOption.render && legendOption.text !== '') {\n                render = true;\n                legendWidth = shapeWidth + shapePadding + legendOption.textSize.width + padding;\n                if (this.isVertical) {\n                    ++rowCount;\n                    columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding;\n                    if ((rowCount * (this.maxItemHeight + padding)) + padding > legendBounds.height) {\n                        columnHeight = Math.max(columnHeight, (rowCount * (this.maxItemHeight + padding)) + padding);\n                        rowWidth = rowWidth + maximumWidth;\n                        columnWidth.push(maximumWidth);\n                        this.totalPages = Math.max(rowCount, this.totalPages || 1);\n                        maximumWidth = 0;\n                        rowCount = 1;\n                    }\n                    maximumWidth = Math.max(legendWidth, maximumWidth);\n                }\n                else {\n                    rowWidth = rowWidth + legendWidth;\n                    if (legendBounds.width < (padding + rowWidth)) {\n                        maximumWidth = Math.max(maximumWidth, (rowWidth + padding - legendWidth));\n                        if (rowCount === 0 && (legendWidth !== rowWidth)) {\n                            rowCount = 1;\n                        }\n                        rowWidth = legendWidth;\n                        rowCount++;\n                        columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding;\n                    }\n                }\n            }\n        }\n        if (this.isVertical) {\n            rowWidth = rowWidth + maximumWidth;\n            this.isPaging = legendBounds.width < (rowWidth + padding);\n            columnHeight = Math.max(columnHeight, ((this.totalPages || 1) * (this.maxItemHeight + padding)) + padding);\n            this.isPaging = this.isPaging && (this.totalPages > 1);\n            if (columnWidth[columnWidth.length - 1] !== maximumWidth) {\n                columnWidth.push(maximumWidth);\n            }\n        }\n        else {\n            this.isPaging = legendBounds.height < columnHeight;\n            this.totalPages = this.totalRowCount = rowCount;\n            columnHeight = Math.max(columnHeight, (this.maxItemHeight + padding) + padding);\n        }\n        this.maxColumns = 0; // initialization for max columns\n        var width = this.isVertical ? this.getMaxColumn(columnWidth, legendBounds.width, padding, rowWidth + padding) :\n            Math.max(rowWidth + padding, maximumWidth);\n        if (render) {\n            this.setBounds(width, columnHeight, legend, legendBounds);\n        }\n        else {\n            this.setBounds(0, 0, legend, legendBounds);\n        }\n    };\n    /**\n     * To find maximum column size for legend\n     */\n    AccumulationLegend.prototype.getMaxColumn = function (columns, width, padding, rowWidth) {\n        var maxPageColumn = padding;\n        this.maxColumnWidth = Math.max.apply(null, columns);\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            maxPageColumn += this.maxColumnWidth;\n            this.maxColumns++;\n            if (maxPageColumn + padding > width) {\n                maxPageColumn -= this.maxColumnWidth;\n                this.maxColumns--;\n                break;\n            }\n        }\n        this.isPaging = (maxPageColumn < rowWidth) && (this.totalPages > 1);\n        if (maxPageColumn === padding) {\n            maxPageColumn = width;\n        }\n        this.maxColumns = Math.max(1, this.maxColumns);\n        this.maxWidth = maxPageColumn;\n        return maxPageColumn;\n    };\n    /**\n     * To find available width from legend x position.\n     */\n    AccumulationLegend.prototype.getAvailWidth = function (tx, width, legendX) {\n        if (this.isVertical) {\n            width = this.maxWidth;\n        }\n        return width - ((this.legend.padding * 2) + this.legend.shapeWidth + this.legend.shapePadding);\n    };\n    /**\n     * To find legend rendering locations from legend options.\n     * @private\n     */\n    AccumulationLegend.prototype.getRenderPoint = function (legendOption, start, textPadding, prevLegend, rect, count, firstLegend) {\n        var padding = this.legend.padding;\n        if (this.isVertical) {\n            if (count === firstLegend || (prevLegend.location.y + (this.maxItemHeight * 1.5) + (padding * 2) > rect.y + rect.height)) {\n                legendOption.location.x = prevLegend.location.x + ((count === firstLegend) ? 0 : this.maxColumnWidth);\n                legendOption.location.y = start.y;\n                this.pageXCollections.push(legendOption.location.x - (this.legend.shapeWidth / 2) - padding);\n                this.totalPages++;\n            }\n            else {\n                legendOption.location.x = prevLegend.location.x;\n                legendOption.location.y = prevLegend.location.y + this.maxItemHeight + padding;\n            }\n        }\n        else {\n            var previousBound = (prevLegend.location.x + textPadding + prevLegend.textSize.width);\n            if ((previousBound + (legendOption.textSize.width + textPadding)) > (rect.x + rect.width + this.legend.shapeWidth / 2)) {\n                legendOption.location.y = (count === firstLegend) ? prevLegend.location.y :\n                    prevLegend.location.y + this.maxItemHeight + padding;\n                legendOption.location.x = start.x;\n            }\n            else {\n                legendOption.location.y = prevLegend.location.y;\n                legendOption.location.x = (count === firstLegend) ? prevLegend.location.x : previousBound;\n            }\n            this.totalPages = this.totalRowCount;\n        }\n        var availablewidth = this.getAvailWidth(legendOption.location.x, this.legendBounds.width, this.legendBounds.x);\n        legendOption.text = textTrim(+availablewidth.toFixed(4), legendOption.text, this.legend.textStyle);\n    };\n    /**\n     * finding the smart legend place according to positions.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.getSmartLegendLocation = function (labelBound, legendBound, margin) {\n        var space;\n        switch (this.position) {\n            case 'Left':\n                space = ((labelBound.x - legendBound.width) - margin.left) / 2;\n                legendBound.x = (labelBound.x - legendBound.width) < margin.left ? legendBound.x :\n                    (labelBound.x - legendBound.width) - space;\n                break;\n            case 'Right':\n                space = ((this.chart.availableSize.width - margin.right) - (labelBound.x + labelBound.width + legendBound.width)) / 2;\n                legendBound.x = (labelBound.x + labelBound.width + legendBound.width) > (this.chart.availableSize.width - margin.right) ?\n                    legendBound.x : (labelBound.x + labelBound.width + space);\n                break;\n            case 'Top':\n                this.getTitleRect(this.chart);\n                space = ((labelBound.y - legendBound.height) - (this.titleRect.y + this.titleRect.height)) / 2;\n                legendBound.y = (labelBound.y - legendBound.height) < margin.top ? legendBound.y :\n                    (labelBound.y - legendBound.height) - space;\n                break;\n            case 'Bottom':\n                space = ((this.chart.availableSize.height - margin.bottom) - (labelBound.y + labelBound.height + legendBound.height)) / 2;\n                legendBound.y = labelBound.y + labelBound.height + legendBound.height > (this.chart.availableSize.height - margin.bottom) ?\n                    legendBound.y : (labelBound.y + labelBound.height) + space;\n                break;\n        }\n    };\n    /**\n     * To get title rect.\n     */\n    AccumulationLegend.prototype.getTitleRect = function (accumulation) {\n        if (!accumulation.title) {\n            return null;\n        }\n        var titleSize = measureText(accumulation.title, accumulation.titleStyle);\n        this.titleRect = new Rect(accumulation.availableSize.width / 2 - titleSize.width / 2, accumulation.margin.top, titleSize.width, titleSize.height);\n    };\n    /**\n     * To get legend by index\n     */\n    AccumulationLegend.prototype.legendByIndex = function (index, legendCollections) {\n        for (var _i = 0, legendCollections_1 = legendCollections; _i < legendCollections_1.length; _i++) {\n            var legend = legendCollections_1[_i];\n            if (legend.pointIndex === index) {\n                return legend;\n            }\n        }\n        return null;\n    };\n    /**\n     * To show or hide the legend on clicking the legend.\n     * @return {void}\n     */\n    AccumulationLegend.prototype.click = function (event) {\n        var targetId = event.target.id;\n        var legendItemsId = [this.legendID + '_text_', this.legendID + '_shape_',\n            this.legendID + '_shape_marker_'];\n        var selectedDataIndexes = [];\n        if (this.chart.accumulationSelectionModule) {\n            selectedDataIndexes = extend([], this.chart.accumulationSelectionModule.selectedDataIndexes, null, true);\n        }\n        for (var _i = 0, legendItemsId_1 = legendItemsId; _i < legendItemsId_1.length; _i++) {\n            var id = legendItemsId_1[_i];\n            if (targetId.indexOf(id) > -1) {\n                var pointIndex = parseInt(targetId.split(id)[1], 10);\n                var currentSeries = this.chart.visibleSeries[0];\n                var point = pointByIndex(pointIndex, currentSeries.points);\n                var legendOption = this.legendByIndex(pointIndex, this.legendCollections);\n                if (this.chart.legendSettings.toggleVisibility) {\n                    point.visible = !point.visible;\n                    legendOption.visible = point.visible;\n                    this.chart.removeSvg();\n                    if (point.visible) {\n                        currentSeries.sumOfPoints += point.y;\n                    }\n                    else {\n                        currentSeries.sumOfPoints -= point.y;\n                    }\n                    this.chart.refreshPoints(currentSeries.points);\n                    this.chart.renderElements();\n                }\n                else if (this.chart.accumulationSelectionModule) {\n                    this.chart.accumulationSelectionModule.legendSelection(this.chart, 0, pointIndex);\n                }\n            }\n        }\n        if (targetId.indexOf(this.legendID + '_pageup') > -1) {\n            this.changePage(event, true);\n        }\n        else if (targetId.indexOf(this.legendID + '_pagedown') > -1) {\n            this.changePage(event, false);\n        }\n    };\n    /**\n     * Get module name\n     */\n    AccumulationLegend.prototype.getModuleName = function () {\n        return 'AccumulationLegend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return AccumulationLegend;\n}(BaseLegend));\nexport { AccumulationLegend };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * AccumulationChart DataLabel module file\n */\nimport { extend, createElement } from '@syncfusion/ej2-base';\nimport { ChartLocation, degreeToLocation, Rect, isOverlap, stringToNumber, getAngle, TextOption } from '../../common/utils/helper';\nimport { textTrim, subtractThickness, Thickness, getElement } from '../../common/utils/helper';\nimport { removeElement, measureText, RectOption, textElement, showTooltip } from '../../common/utils/helper';\nimport { PathOption, colorNameToHex, convertHexToColor, containsRect } from '../../common/utils/helper';\nimport { getSeriesFromIndex } from '../model/acc-base';\nimport { textRender } from '../../common/model/constants';\nimport { getFontStyle, createTemplate, measureElementRect, templateAnimate } from '../../common/utils/helper';\nimport { AccumulationBase } from './accumulation-base';\n/**\n * AccumulationDataLabel module used to render `dataLabel`.\n */\nvar AccumulationDataLabel = /** @class */ (function (_super) {\n    __extends(AccumulationDataLabel, _super);\n    function AccumulationDataLabel(accumulation) {\n        var _this = _super.call(this, accumulation) || this;\n        _this.id = accumulation.element.id + '_datalabel_Series_';\n        if (accumulation.title) {\n            var titleSize = measureText(accumulation.title, accumulation.titleStyle);\n            _this.titleRect = new Rect(accumulation.availableSize.width / 2 - titleSize.width / 2, accumulation.margin.top, titleSize.width, titleSize.height);\n        }\n        return _this;\n    }\n    /**\n     * Method to get datalabel text location.\n     * @private\n     */\n    AccumulationDataLabel.prototype.getDataLabelPosition = function (point, dataLabel, textSize, points, parent, id) {\n        var radius = this.isCircular() ? this.labelRadius : this.getLabelDistance(point, dataLabel);\n        this.getLabelRegion(point, dataLabel.position, textSize, radius, this.marginValue);\n        point.labelAngle = point.midAngle;\n        point.labelPosition = dataLabel.position;\n        if (this.accumulation.enableSmartLabels) {\n            this.getSmartLabel(point, dataLabel, textSize, points, parent, id);\n        }\n    };\n    /**\n     * Method to get datalabel bound.\n     */\n    AccumulationDataLabel.prototype.getLabelRegion = function (point, position, textSize, labelRadius, margin, endAngle) {\n        if (endAngle === void 0) { endAngle = 0; }\n        var labelAngle = endAngle || point.midAngle;\n        var space = 10;\n        var location = degreeToLocation(labelAngle, labelRadius, this.isCircular() ? this.center :\n            this.getLabelLocation(point, position));\n        location.y = (position === 'Inside') ? (location.y - textSize.height / 2) : location.y;\n        location.x = (position === 'Inside') ? (location.x - textSize.width / 2) : location.x;\n        point.labelRegion = new Rect(location.x, location.y, textSize.width + (margin * 2), textSize.height + (margin * 2));\n        if (position === 'Outside') {\n            point.labelRegion.y -= point.labelRegion.height / 2;\n            if (labelAngle >= 90 && labelAngle <= 270) {\n                point.labelRegion.x -= (point.labelRegion.width + space);\n            }\n            else {\n                point.labelRegion.x += space;\n            }\n        }\n    };\n    /**\n     * Method to get datalabel smart position.\n     */\n    AccumulationDataLabel.prototype.getSmartLabel = function (point, dataLabel, textSize, points, parent, id) {\n        var circular = this.isCircular();\n        var labelRadius = circular ? this.radius : this.getLabelDistance(point, dataLabel);\n        var connectorLength = circular ? (dataLabel.connectorStyle.length || '4%') :\n            '0px';\n        labelRadius += stringToNumber(connectorLength, labelRadius);\n        var previousPoint = this.findPreviousPoint(points, point.index, point.labelPosition);\n        if (dataLabel.position === 'Inside') {\n            if (previousPoint && previousPoint.labelRegion && (isOverlap(point.labelRegion, previousPoint.labelRegion)\n                || this.isOverlapping(point, points)) || !circular && !containsRect(point.region, point.labelRegion)) {\n                point.labelPosition = 'Outside';\n                if (!circular) {\n                    labelRadius = this.getLabelDistance(point, dataLabel);\n                }\n                this.getLabelRegion(point, point.labelPosition, textSize, labelRadius, this.marginValue);\n                previousPoint = this.findPreviousPoint(points, point.index, point.labelPosition);\n                if (previousPoint && (isOverlap(point.labelRegion, previousPoint.labelRegion) ||\n                    this.isConnectorLineOverlapping(point, previousPoint))) {\n                    this.setOuterSmartLabel(previousPoint, point, dataLabel.border.width, labelRadius, textSize, this.marginValue);\n                }\n            }\n        }\n        else {\n            if (previousPoint && previousPoint.labelRegion && (isOverlap(point.labelRegion, previousPoint.labelRegion)\n                || this.isOverlapping(point, points) || this.isConnectorLineOverlapping(point, previousPoint))) {\n                this.setOuterSmartLabel(previousPoint, point, dataLabel.border.width, labelRadius, textSize, this.marginValue);\n            }\n        }\n        if (this.isOverlapping(point, points) || (this.titleRect && point.labelRegion && isOverlap(point.labelRegion, this.titleRect))) {\n            this.setPointVisibileFalse(point);\n        }\n        if (this.accumulation.accumulationLegendModule && point.labelVisible && point.labelRegion) {\n            var rect = this.accumulation.accumulationLegendModule.legendBounds;\n            var padding = this.accumulation.legendSettings.border.width / 2;\n            this.textTrimming(point, new Rect(rect.x - padding, rect.y - padding, rect.width + (2 * padding), rect.height + (2 * padding)), dataLabel.font, this.accumulation.accumulationLegendModule.position);\n        }\n        if (point.labelVisible && point.labelRegion) {\n            var position = this.isCircular() ? (point.labelRegion.x >= this.center.x) ? 'InsideRight' : 'InsideLeft' :\n                'InsideRight';\n            this.textTrimming(point, this.areaRect, dataLabel.font, position);\n        }\n        if (point.labelVisible && point.labelRegion && ((point.labelRegion.y + point.labelRegion.height >\n            this.areaRect.y + this.areaRect.height || point.labelRegion.y < this.areaRect.y) || (point.labelRegion.x < this.areaRect.x ||\n            point.labelRegion.x + point.labelRegion.width > this.areaRect.x + this.areaRect.width))) {\n            this.setPointVisibileFalse(point);\n        }\n    };\n    /**\n     * To find trimmed datalabel tooltip needed.\n     * @return {void}\n     * @private\n     */\n    AccumulationDataLabel.prototype.move = function (e, x, y, isTouch) {\n        var _this = this;\n        if (e.target.textContent.indexOf('...') > -1) {\n            var targetId = e.target.id.split(this.id);\n            if (targetId.length === 2) {\n                var seriesIndex = parseInt(targetId[1].split('_text_')[0], 10);\n                var pointIndex = parseInt(targetId[1].split('_text_')[1], 10);\n                if (!isNaN(seriesIndex) && !isNaN(pointIndex)) {\n                    if (isTouch) {\n                        removeElement(this.accumulation.element.id + '_EJ2_Datalabel_Tooltip');\n                    }\n                    var point = getSeriesFromIndex(seriesIndex, (this.accumulation).visibleSeries).points[pointIndex];\n                    showTooltip(point.text || point.y.toString(), x, y, this.areaRect.width, this.accumulation.element.id + '_EJ2_Datalabel_Tooltip', getElement(this.accumulation.element.id + '_Secondary_Element'));\n                }\n            }\n        }\n        else {\n            removeElement(this.accumulation.element.id + '_EJ2_Datalabel_Tooltip');\n        }\n        if (isTouch) {\n            clearTimeout(this.clearTooltip);\n            this.clearTooltip = setTimeout(function () { removeElement(_this.accumulation.element.id + '_EJ2_Datalabel_Tooltip'); }, 1000);\n        }\n    };\n    /**\n     * To find previous valid label point\n     */\n    AccumulationDataLabel.prototype.findPreviousPoint = function (points, index, position) {\n        var point = points[0];\n        for (var i = index - 1; i >= 0; i--) {\n            point = points[i];\n            if (point.visible && point.labelVisible && point.labelRegion && point.labelPosition === position) {\n                return point;\n            }\n        }\n        return null;\n    };\n    /**\n     * To find current point datalabel is overlapping with other points\n     */\n    AccumulationDataLabel.prototype.isOverlapping = function (currentPoint, points) {\n        for (var i = currentPoint.index - 1; i >= 0; i--) {\n            if (points[i].visible && points[i].labelVisible && points[i].labelRegion && currentPoint.labelRegion &&\n                currentPoint.labelVisible && isOverlap(currentPoint.labelRegion, points[i].labelRegion)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To get text trimmed while exceeds the accumulation chart area.\n     */\n    AccumulationDataLabel.prototype.textTrimming = function (point, rect, font, position) {\n        if (isOverlap(point.labelRegion, rect)) {\n            var size = point.labelRegion.width;\n            if (position === 'Right') {\n                size = rect.x - point.labelRegion.x;\n            }\n            else if (position === 'Left') {\n                size = point.labelRegion.x - (rect.x + rect.width);\n                if (size < 0) {\n                    size += point.labelRegion.width;\n                    point.labelRegion.x = rect.x + rect.width;\n                }\n            }\n            else if (position === 'InsideRight') {\n                size = (rect.x + rect.width) - point.labelRegion.x;\n            }\n            else if (position === 'InsideLeft') {\n                size = (point.labelRegion.x + point.labelRegion.width) - rect.x;\n                if (size < point.labelRegion.width) {\n                    point.labelRegion.x = rect.x;\n                }\n            }\n            else {\n                this.setPointVisibileFalse(point);\n            }\n            if (point.labelVisible && point.labelRegion) {\n                if (size < point.labelRegion.width) {\n                    point.label = textTrim(size - (this.marginValue * 2), point.label, font);\n                    point.labelRegion.width = size;\n                }\n                if (point.label.length === 3 && point.label.indexOf('...') > -1) {\n                    this.setPointVisibileFalse(point);\n                }\n            }\n        }\n    };\n    /**\n     * To set point label visible and region to disable.\n     */\n    AccumulationDataLabel.prototype.setPointVisibileFalse = function (point) {\n        point.labelVisible = false;\n        point.labelRegion = null;\n    };\n    /**\n     * To set datalabel angle position for outside labels\n     */\n    AccumulationDataLabel.prototype.setOuterSmartLabel = function (previousPoint, point, border, labelRadius, textsize, margin) {\n        if (!this.isCircular()) {\n            this.setSmartLabelForSegments(point, previousPoint, labelRadius, textsize, margin);\n        }\n        else {\n            var labelAngle = this.getOverlappedAngle(previousPoint.labelRegion, point.labelRegion, point.midAngle, border * 2);\n            this.getLabelRegion(point, 'Outside', textsize, labelRadius, margin, labelAngle);\n            if (labelAngle > point.endAngle) {\n                this.setPointVisibileFalse(point);\n            }\n            point.labelAngle = labelAngle;\n            while (point.labelVisible && (isOverlap(previousPoint.labelRegion, point.labelRegion) || labelAngle <= previousPoint.labelAngle\n                || this.isConnectorLineOverlapping(point, previousPoint))) {\n                if (labelAngle > point.endAngle) {\n                    this.setPointVisibileFalse(point);\n                    break;\n                }\n                point.labelAngle = labelAngle;\n                this.getLabelRegion(point, 'Outside', textsize, labelRadius, margin, labelAngle);\n                labelAngle += 0.1;\n            }\n        }\n    };\n    /**\n     * Sets smart label positions for funnel and pyramid series\n     */\n    AccumulationDataLabel.prototype.setSmartLabelForSegments = function (point, prevPoint, distance, textSize, margin) {\n        var textRegion = point.labelRegion;\n        //let overlapWidth: number = prevPoint.labelRegion.x + prevPoint.labelRegion.width - textRegion.x;\n        var overlapHeight = this.accumulation.type === 'Funnel' ?\n            prevPoint.labelRegion.y - (textRegion.y + textRegion.height) :\n            point.labelRegion.y - (prevPoint.labelRegion.y + prevPoint.labelRegion.height);\n        if (overlapHeight < 0) {\n            point.labelRegion.y += this.accumulation.type === 'Funnel' ? overlapHeight : -overlapHeight;\n        }\n    };\n    /**\n     * To find connector line overlapping.\n     */\n    AccumulationDataLabel.prototype.isConnectorLineOverlapping = function (point, previous) {\n        var start = this.getLabelLocation(point);\n        var end = new ChartLocation(0, 0);\n        this.getEdgeOfLabel(point.labelRegion, point.labelAngle, end);\n        var previousstart = this.getLabelLocation(previous);\n        var previousend = new ChartLocation(0, 0);\n        this.getEdgeOfLabel(previous.labelRegion, previous.labelAngle, previousend);\n        return this.isLineRectangleIntersect(start, end, point.labelRegion) ||\n            this.isLineRectangleIntersect(start, end, previous.labelRegion) ||\n            this.isLineRectangleIntersect(previousstart, previousend, point.labelRegion);\n    };\n    /**\n     * To find two rectangle intersect\n     */\n    AccumulationDataLabel.prototype.isLineRectangleIntersect = function (line1, line2, rect) {\n        var rectPoints = [\n            new ChartLocation(Math.round(rect.x), Math.round(rect.y)),\n            new ChartLocation(Math.round((rect.x + rect.width)), Math.round(rect.y)),\n            new ChartLocation(Math.round((rect.x + rect.width)), Math.round((rect.y + rect.height))),\n            new ChartLocation(Math.round(rect.x), Math.round((rect.y + rect.height)))\n        ];\n        line1.x = Math.round(line1.x);\n        line1.y = Math.round(line1.y);\n        line2.x = Math.round(line2.x);\n        line2.y = Math.round(line2.y);\n        for (var i = 0; i < rectPoints.length; i++) {\n            if (this.isLinesIntersect(line1, line2, rectPoints[i], rectPoints[(i + 1) % rectPoints.length])) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To find two line intersect\n     */\n    AccumulationDataLabel.prototype.isLinesIntersect = function (point1, point2, point11, point12) {\n        var a1 = point2.y - point1.y;\n        var b1 = point1.x - point2.x;\n        var c1 = a1 * point1.x + b1 * point1.y;\n        var a2 = point12.y - point11.y;\n        var b2 = point11.x - point12.x;\n        var c2 = a2 * point11.x + b2 * point11.y;\n        var delta = a1 * b2 - a2 * b1;\n        if (delta !== 0) {\n            var x = (b2 * c1 - b1 * c2) / delta;\n            var y = (a1 * c2 - a2 * c1) / delta;\n            var lies = Math.min(point1.x, point2.x) <= x && x <= Math.max(point1.x, point2.x);\n            lies = lies && Math.min(point1.y, point2.y) <= y && y <= Math.max(point1.y, point2.y);\n            lies = lies && Math.min(point11.x, point12.x) <= x && x <= Math.max(point11.x, point12.x);\n            lies = lies && Math.min(point11.y, point12.y) <= y && y <= Math.max(point11.y, point12.y);\n            return lies;\n        }\n        return false;\n    };\n    /**\n     * To get two rectangle overlapping angles.\n     */\n    AccumulationDataLabel.prototype.getOverlappedAngle = function (first, second, angle, padding) {\n        var x = first.x;\n        if (angle >= 90 && angle <= 270) {\n            second.y = first.y - (padding + second.height / 2);\n            x = first.x + first.width;\n        }\n        else {\n            second.y = first.y + first.height + padding;\n        }\n        return getAngle(this.center, new ChartLocation(x, second.y));\n    };\n    /**\n     * To get connector line path\n     */\n    AccumulationDataLabel.prototype.getConnectorPath = function (label, point, dataLabel, end) {\n        if (end === void 0) { end = 0; }\n        var connector = dataLabel.connectorStyle;\n        var labelRadius = this.isCircular() ? this.labelRadius : this.getLabelDistance(point, dataLabel);\n        var start = this.getConnectorStartPoint(point, connector);\n        var labelAngle = end || point.midAngle;\n        var middle = new ChartLocation(0, 0);\n        var endPoint = this.getEdgeOfLabel(label, labelAngle, middle, connector.width);\n        if (connector.type === 'Curve') {\n            if (this.isCircular()) {\n                var r = labelRadius - this.radius;\n                middle = degreeToLocation(labelAngle, labelRadius - (r / 2), this.center);\n                return 'M ' + start.x + ' ' + start.y + ' Q' + middle.x + ',' + middle.y + ' ' + endPoint.x + ',' + endPoint.y;\n            }\n            else {\n                return this.getPolyLinePath(start, endPoint);\n            }\n        }\n        else {\n            return 'M ' + start.x + ' ' + start.y + ' L ' + middle.x + ' ' + middle.y + ' L ' + endPoint.x + ' ' + endPoint.y;\n        }\n    };\n    /**\n     * Finds the curved path for funnel/pyramid data label connectors\n     */\n    AccumulationDataLabel.prototype.getPolyLinePath = function (start, end) {\n        var controlPoints = [start, end];\n        if (start.y === end.y) {\n            return 'M ' + start.x + ' ' + start.y + ' L ' + end.x + ' ' + end.y;\n        }\n        var path = 'M';\n        for (var i = 0; i <= 16; i++) {\n            var t = i / 16;\n            var points = this.getBezierPoint(t, controlPoints, 0, 2);\n            path += points.x + ',' + points.y;\n            if (i !== 16) {\n                path += ' L';\n            }\n        }\n        return path;\n    };\n    /**\n     * Finds the bezier point for funnel/pyramid data label connectors\n     */\n    AccumulationDataLabel.prototype.getBezierPoint = function (t, controlPoints, index, count) {\n        if (count === 1) {\n            return controlPoints[index];\n        }\n        var p0 = this.getBezierPoint(t, controlPoints, index, count - 1);\n        var p1 = this.getBezierPoint(t, controlPoints, index + 1, count - 1);\n        var x = (p0.x) ? p0.x : p0.x;\n        var y = (p0.y) ? p0.y : p0.y;\n        var x1 = (p1.x) ? p1.x : p1.x;\n        var y1 = (p1.y) ? p1.y : p1.y;\n        var x2 = (1 - t) * x + t * x1;\n        var y2 = (1 - t) * y + t * y1;\n        if (p0.x) {\n            return { x: x2, y: y2 };\n        }\n        else {\n            return { x: x2, y: y2 };\n        }\n    };\n    /**\n     * To get label edges based on the center and label rect position.\n     */\n    AccumulationDataLabel.prototype.getEdgeOfLabel = function (labelshape, angle, middle, border) {\n        if (border === void 0) { border = 1; }\n        var edge = new ChartLocation(labelshape.x, labelshape.y);\n        if (angle >= 90 && angle <= 270) {\n            edge.x += labelshape.width + border / 2;\n            edge.y += labelshape.height / 2;\n            middle.x = edge.x + 10;\n            middle.y = edge.y;\n        }\n        else {\n            edge.x -= border / 2;\n            edge.y += labelshape.height / 2;\n            middle.x = edge.x - 10;\n            middle.y = edge.y;\n        }\n        return edge;\n    };\n    /**\n     * Finds the distance between the label position and the edge/center of the funnel/pyramid\n     */\n    AccumulationDataLabel.prototype.getLabelDistance = function (point, dataLabel) {\n        if (point.labelPosition && dataLabel.position !== point.labelPosition || dataLabel.connectorStyle.length) {\n            var length_1 = stringToNumber(dataLabel.connectorStyle.length || '70px', this.accumulation.initialClipRect.width);\n            if (length_1 < this.accumulation.initialClipRect.width) {\n                return length_1;\n            }\n        }\n        var position = point.labelPosition || dataLabel.position;\n        var series = this.accumulation.visibleSeries[0];\n        var extraSpace = (this.accumulation.initialClipRect.width - series.triangleSize.width) / 2;\n        var labelLocation;\n        switch (position) {\n            case 'Inside':\n                return 0;\n            case 'Outside':\n                labelLocation = point.symbolLocation.x + point.labelOffset.x;\n                return this.accumulation.initialClipRect.width - labelLocation - extraSpace;\n        }\n    };\n    /**\n     * Finds the label position / beginning of the connector(ouside funnel labels)\n     */\n    AccumulationDataLabel.prototype.getLabelLocation = function (point, position) {\n        if (position === void 0) { position = 'Outside'; }\n        if (this.accumulation.type !== 'Pie') {\n            position = point.labelPosition || position;\n            var location_1 = {\n                x: point.symbolLocation.x,\n                y: point.symbolLocation.y - point.labelOffset.y\n            };\n            switch (position) {\n                case 'Inside':\n                    location_1.y = point.region.y + point.region.height / 2;\n                    break;\n                case 'Outside':\n                    location_1.x += point.labelOffset.x;\n            }\n            return location_1;\n        }\n        else {\n            return degreeToLocation(point.midAngle, this.radius, this.center);\n        }\n    };\n    /**\n     * Finds the beginning of connector line\n     */\n    AccumulationDataLabel.prototype.getConnectorStartPoint = function (point, connector) {\n        return this.isCircular() ? degreeToLocation(point.midAngle, this.radius - connector.width, this.center) :\n            this.getLabelLocation(point);\n    };\n    /**\n     * To find area rect based on margin, available size.\n     * @private\n     */\n    AccumulationDataLabel.prototype.findAreaRect = function () {\n        this.areaRect = new Rect(0, 0, this.accumulation.availableSize.width, this.accumulation.availableSize.height);\n        var margin = this.accumulation.margin;\n        subtractThickness(this.areaRect, new Thickness(margin.left, margin.right, margin.top, margin.bottom));\n    };\n    /**\n     * To render the data labels from series points.\n     */\n    AccumulationDataLabel.prototype.renderDataLabel = function (point, dataLabel, parent, points, series, templateElement) {\n        var id = this.accumulation.element.id + '_datalabel_Series_' + series + '_';\n        var datalabelGroup = this.accumulation.renderer.createGroup({ id: id + 'g_' + point.index });\n        point.label = point.originalText || point.y.toString();\n        var border = { width: dataLabel.border.width, color: dataLabel.border.color };\n        var argsData = {\n            cancel: false, name: textRender, series: this.accumulation.visibleSeries[0], point: point,\n            text: point.label, border: border, color: dataLabel.fill, template: dataLabel.template\n        };\n        this.accumulation.trigger(textRender, argsData);\n        var isTemplate = argsData.template !== null;\n        point.labelVisible = !argsData.cancel;\n        point.text = point.label = argsData.text;\n        this.marginValue = argsData.border.width ? (5 + argsData.border.width) : 1;\n        // Template element\n        var childElement = createElement('div', {\n            id: this.accumulation.element.id + '_Series_' + 0 + '_DataLabel_' + point.index,\n            styles: 'position: absolute;background-color:' + argsData.color + ';' +\n                getFontStyle(dataLabel.font) + ';border:' + argsData.border.width + 'px solid ' + argsData.border.color + ';'\n        });\n        var textSize = isTemplate ? this.getTemplateSize(childElement, point, argsData) :\n            measureText(point.label, dataLabel.font);\n        textSize.height += 4; // 4 for calculation with padding for smart label shape\n        textSize.width += 4;\n        this.getDataLabelPosition(point, dataLabel, textSize, points, datalabelGroup, id);\n        if (point.labelVisible) {\n            this.correctLabelRegion(point.labelRegion, textSize);\n            if (isTemplate) {\n                this.setTemplateStyle(childElement, point, templateElement, dataLabel.font.color, argsData.color);\n            }\n            else {\n                datalabelGroup.appendChild(this.accumulation.renderer.drawRectangle(new RectOption(id + 'shape_' + point.index, argsData.color, argsData.border, 1, point.labelRegion, dataLabel.rx, dataLabel.ry)));\n                textElement(new TextOption(id + 'text_' + point.index, point.labelRegion.x + this.marginValue, point.labelRegion.y + (textSize.height * 3 / 4) + this.marginValue, 'start', point.label, '', 'auto'), dataLabel.font, dataLabel.font.color || this.getSaturatedColor(point, argsData.color), datalabelGroup);\n            }\n            if (this.accumulation.accumulationLegendModule && (dataLabel.position === 'Outside' || this.accumulation.enableSmartLabels)) {\n                this.accumulation.visibleSeries[0].findMaxBounds(this.accumulation.visibleSeries[0].labelBound, point.labelRegion);\n            }\n            if (point.labelPosition === 'Outside') {\n                var path = this.getConnectorPath(extend({}, point.labelRegion, null, true), point, dataLabel, point.labelAngle);\n                var pathElement = this.accumulation.renderer.drawPath(new PathOption(id + 'connector_' + point.index, 'transparent', dataLabel.connectorStyle.width, dataLabel.connectorStyle.color || point.color, 1, '', path));\n                datalabelGroup.appendChild(pathElement);\n            }\n            parent.appendChild(datalabelGroup);\n        }\n    };\n    /**\n     * To find the template element size\n     * @param element\n     * @param point\n     * @param argsData\n     */\n    AccumulationDataLabel.prototype.getTemplateSize = function (element, point, argsData) {\n        var clientRect;\n        element = createTemplate(element, point.index, argsData.template, this.accumulation, point, this.accumulation.visibleSeries[0]);\n        clientRect = measureElementRect(element);\n        return { width: clientRect.width, height: clientRect.height };\n    };\n    /**\n     * To set the template element style\n     * @param childElement\n     * @param point\n     * @param parent\n     * @param labelColor\n     * @param fill\n     */\n    AccumulationDataLabel.prototype.setTemplateStyle = function (childElement, point, parent, labelColor, fill) {\n        childElement.style.left = (point.labelRegion.x) + 'px';\n        childElement.style.top = (point.labelRegion.y) + 'px';\n        childElement.style.color = labelColor ||\n            this.getSaturatedColor(point, fill);\n        if (childElement.childElementCount) {\n            parent.appendChild(childElement);\n            this.doTemplateAnimation(this.accumulation, childElement);\n        }\n    };\n    /**\n     * To find saturated color for datalabel\n     */\n    AccumulationDataLabel.prototype.getSaturatedColor = function (point, color) {\n        var saturatedColor;\n        if (this.marginValue >= 1) {\n            saturatedColor = color === 'transparent' ? this.getLabelBackground(point) : color;\n        }\n        else {\n            saturatedColor = this.getLabelBackground(point);\n        }\n        saturatedColor = (saturatedColor === 'transparent') ? window.getComputedStyle(document.body, null).backgroundColor : saturatedColor;\n        var rgbValue = convertHexToColor(colorNameToHex(saturatedColor));\n        var contrast = Math.round((rgbValue.r * 299 + rgbValue.g * 587 + rgbValue.b * 114) / 1000);\n        return contrast >= 128 ? 'black' : 'white';\n    };\n    /**\n     * Animates the data label template.\n     * @return {void}.\n     * @private\n     */\n    AccumulationDataLabel.prototype.doTemplateAnimation = function (accumulation, element) {\n        var series = accumulation.visibleSeries[0];\n        var delay = series.animation.delay + series.animation.duration;\n        if (series.animation.enable && accumulation.animateSeries) {\n            element.style.visibility = 'hidden';\n            templateAnimate(element, delay, 200, 'ZoomIn');\n        }\n    };\n    /**\n     * To find background color for the datalabel\n     */\n    AccumulationDataLabel.prototype.getLabelBackground = function (point) {\n        return point.labelPosition === 'Outside' ?\n            this.accumulation.background || this.accumulation.themeStyle.background : point.color;\n    };\n    /**\n     * To correct the padding between datalabel regions.\n     */\n    AccumulationDataLabel.prototype.correctLabelRegion = function (labelRegion, textSize, padding) {\n        if (padding === void 0) { padding = 4; }\n        labelRegion.height -= padding;\n        labelRegion.width -= padding;\n        labelRegion.x += padding / 2;\n        labelRegion.y += padding / 2;\n        textSize.height -= padding;\n        textSize.width -= padding;\n    };\n    /**\n     * To get the dataLabel module name\n     */\n    AccumulationDataLabel.prototype.getModuleName = function () {\n        return 'AccumulationDataLabel';\n    };\n    /**\n     * To destroy the data label.\n     * @return {void}\n     * @private\n     */\n    AccumulationDataLabel.prototype.destroy = function (accumulation) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return AccumulationDataLabel;\n}(AccumulationBase));\nexport { AccumulationDataLabel };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * AccumulationChart Tooltip file\n */\nimport { Browser, Animation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { AccPointData, withInBounds, ChartLocation, PathOption, drawSymbol, Size, indexFinder } from '../../common/utils/helper';\nimport { BaseTooltip } from '../../common/user-interaction/tooltip';\n/**\n * `AccumulationTooltip` module is used to render tooltip for accumulation chart.\n */\nvar AccumulationTooltip = /** @class */ (function (_super) {\n    __extends(AccumulationTooltip, _super);\n    function AccumulationTooltip(accumulation) {\n        var _this = _super.call(this, accumulation) || this;\n        _this.accumulation = accumulation;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    AccumulationTooltip.prototype.addEventListener = function () {\n        if (this.accumulation.isDestroyed) {\n            return;\n        }\n        this.accumulation.on(Browser.isPointer ? 'pointerleave' : 'mouseleave', this.mouseLeaveHandler, this);\n        this.accumulation.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.accumulation.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    AccumulationTooltip.prototype.mouseLeaveHandler = function (e) {\n        this.removeTooltip(1000);\n    };\n    AccumulationTooltip.prototype.mouseUpHandler = function (e) {\n        var control = this.accumulation;\n        if (control.tooltip.enable && control.isTouch && withInBounds(control.mouseX, control.mouseY, control.initialClipRect)) {\n            this.tooltip(e);\n            this.removeTooltip(2000);\n        }\n    };\n    AccumulationTooltip.prototype.mouseMoveHandler = function (e) {\n        var control = this.accumulation;\n        // Tooltip for chart series.    \n        if (control.tooltip.enable && withInBounds(control.mouseX, control.mouseY, control.initialClipRect)) {\n            this.tooltip(e);\n        }\n    };\n    /**\n     * Renders the tooltip.\n     * @param  {PointerEvent} event - Mouse move event.\n     * @return {void}\n     */\n    AccumulationTooltip.prototype.tooltip = function (event) {\n        var isTooltip = this.getElement(this.element.id + '_tooltip');\n        var tooltipDiv = this.getTooltipElement(isTooltip);\n        this.renderSeriesTooltip(event, this.accumulation, !isTooltip, tooltipDiv);\n    };\n    AccumulationTooltip.prototype.renderSeriesTooltip = function (e, chart, isFirst, tooltipDiv) {\n        var data = this.getPieData(e, chart, chart.mouseX, chart.mouseY);\n        var rect = chart.initialClipRect;\n        this.currentPoints = [];\n        var markerSide;\n        if (data.point && (!this.previousPoints[0] || (this.previousPoints[0].point !== data.point))) {\n            if (this.pushData(data, isFirst, tooltipDiv, false)) {\n                var text = this.getTooltipText(data, chart.tooltip);\n                if (!chart.tooltip.template) {\n                    if (this.header !== '') {\n                        this.findHeader(data);\n                    }\n                    markerSide = this.renderTooltip(data, rect, data.point.symbolLocation, text, isFirst, false);\n                    if (markerSide) {\n                        this.drawMarker(markerSide.isBottom, 10);\n                    }\n                }\n                else {\n                    this.renderTemplate(data, rect, data.point.symbolLocation, this.getTemplateText(data), isFirst);\n                }\n                this.isRemove = true;\n            }\n            this.previousPoints = extend([], this.currentPoints, null, true);\n        }\n        else {\n            if (!data.point && this.isRemove) {\n                this.removeTooltip(1000);\n                this.isRemove = false;\n            }\n        }\n    };\n    AccumulationTooltip.prototype.drawMarker = function (isBottom, size) {\n        var count = 0;\n        var shapeOption;\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var markerGroup = this.chart.renderer.createGroup({ id: this.element.id + '_tooltip_trackball_group' });\n        var x = (this.padding * 2) + (size / 2);\n        var y;\n        var series;\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n            var data = _a[_i];\n            series = data.series;\n            y = this.markerPoint[count] - this.padding + (isBottom ? this.arrowPadding : 0);\n            shapeOption = new PathOption(this.element.id + '_Tooltip_Trackball_' + series.index, data.point.color, 1, '#cccccc', series.opacity, null);\n            markerGroup.appendChild(drawSymbol(new ChartLocation(x, y), 'Circle', new Size(size, size), null, shapeOption, null));\n            count++;\n        }\n        groupElement.appendChild(markerGroup);\n    };\n    AccumulationTooltip.prototype.getPieData = function (e, chart, x, y) {\n        var target = e.target;\n        var id = indexFinder(target.id, true);\n        if (!isNaN(id.series)) {\n            var seriesIndex = id.series;\n            var pointIndex = id.point;\n            if (!isNullOrUndefined(seriesIndex) && !isNaN(seriesIndex) && !isNullOrUndefined(pointIndex) && !isNaN(pointIndex)) {\n                var series = this.getSeriesFromIndex(seriesIndex, chart.visibleSeries);\n                if (series.enableTooltip) {\n                    return new AccPointData(series.points[pointIndex], series);\n                }\n            }\n        }\n        return new AccPointData(null, null);\n    };\n    /**\n     * To get series from index\n     */\n    AccumulationTooltip.prototype.getSeriesFromIndex = function (index, visibleSeries) {\n        return visibleSeries[0];\n    };\n    AccumulationTooltip.prototype.getTemplateText = function (data) {\n        var point = extend({}, data.point);\n        return point;\n    };\n    AccumulationTooltip.prototype.getTooltipText = function (data, tooltip) {\n        var series = data.series;\n        var format = tooltip.format ? tooltip.format : '${point.x} : <b>${point.y}</b>';\n        return this.parseTemplate(data.point, series, format);\n    };\n    AccumulationTooltip.prototype.findHeader = function (data) {\n        this.header = this.parseTemplate(data.point, data.series, this.header);\n        if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n            this.formattedText = this.formattedText.concat(this.header);\n        }\n    };\n    AccumulationTooltip.prototype.parseTemplate = function (point, series, format) {\n        var value;\n        var textValue;\n        for (var _i = 0, _a = Object.keys(point); _i < _a.length; _i++) {\n            var dataValue = _a[_i];\n            value = new RegExp('${point' + '.' + dataValue + '}', 'gm');\n            format = format.replace(value.source, point[dataValue]);\n        }\n        for (var _b = 0, _c = Object.keys(Object.getPrototypeOf(series)); _b < _c.length; _b++) {\n            var dataValue = _c[_b];\n            value = new RegExp('${series' + '.' + dataValue + '}', 'gm');\n            textValue = series[dataValue];\n            format = format.replace(value.source, textValue);\n        }\n        return format;\n    };\n    /**\n     * Removes the tooltip on mouse leave.\n     * @return {void}\n     * @private\n     */\n    AccumulationTooltip.prototype.removeTooltip = function (duration) {\n        var _this = this;\n        var chart = this.control;\n        var tooltipElement = this.getElement(this.element.id + '_tooltip');\n        this.stopAnimation();\n        if (tooltipElement && this.previousPoints.length > 0) {\n            var data_1 = this.previousPoints;\n            this.toolTipInterval = setTimeout(function () {\n                var series = data_1[0].series;\n                var tooltipGroup = tooltipElement.firstChild;\n                var opacity = parseFloat(tooltipGroup.getAttribute('opacity')) || 1;\n                var element = _this.getElement(chart.element.id + '_Series_' + data_1[0].series.index\n                    + '_Point_' + data_1[0].point.index);\n                var rectOpacity;\n                if (element) {\n                    rectOpacity = parseFloat(element.getAttribute('opacity'));\n                }\n                new Animation({}).animate(tooltipGroup, {\n                    duration: 200,\n                    progress: function (args) {\n                        _this.progressAnimation(element, tooltipGroup, series, opacity, rectOpacity, (args.timeStamp / args.duration), series.isRectSeries, false);\n                    },\n                    end: function (model) {\n                        _this.previousPoints = [];\n                        _this.endAnimation(element, tooltipGroup, series, false);\n                    }\n                });\n            }, duration);\n        }\n    };\n    /**\n     * Get module name\n     */\n    AccumulationTooltip.prototype.getModuleName = function () {\n        return 'AccumulationTooltip';\n    };\n    /**\n     * To destroy the Tooltip.\n     * @return {void}\n     * @private\n     */\n    AccumulationTooltip.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return AccumulationTooltip;\n}(BaseTooltip));\nexport { AccumulationTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend } from '@syncfusion/ej2-base';\nimport { indexFinder } from '../../common/utils/helper';\nimport { pointByIndex } from '../model/acc-base';\nimport { Index } from '../../common/model/base';\nimport { BaseSelection } from '../../common/user-interaction/selection';\n/**\n * `AccumulationSelection` module handles the selection for accumulation chart.\n * @private\n */\nvar AccumulationSelection = /** @class */ (function (_super) {\n    __extends(AccumulationSelection, _super);\n    function AccumulationSelection(accumulation) {\n        var _this = _super.call(this, accumulation) || this;\n        _this.renderer = accumulation.renderer;\n        return _this;\n    }\n    /**\n     * To initialize the private variables\n     */\n    AccumulationSelection.prototype.initPrivateVariables = function (accumulation) {\n        this.styleId = accumulation.element.id + '_ej2_chart_selection';\n        this.unselected = accumulation.element.id + '_ej2_deselected';\n        this.selectedDataIndexes = [];\n        this.rectPoints = null;\n    };\n    /**\n     * Invoke selection for rendered chart.\n     * @param  {AccumulationChart} chart - Define the chart to invoke the selection.\n     * @return {void}\n     */\n    AccumulationSelection.prototype.invokeSelection = function (accumulation) {\n        this.initPrivateVariables(accumulation);\n        this.series = extend({}, accumulation.visibleSeries, null, true);\n        this.seriesStyles();\n        this.selectDataIndex(this.concatIndexes(accumulation.selectedDataIndexes, this.selectedDataIndexes), accumulation);\n    };\n    /**\n     * To get series selection style by series.\n     */\n    AccumulationSelection.prototype.generateStyle = function (series) {\n        return (series.selectionStyle || this.styleId + '_series_' + series.index);\n    };\n    /**\n     * To get elements by index, series\n     */\n    AccumulationSelection.prototype.findElements = function (accumulation, series, index) {\n        return [this.getElementByIndex(index)];\n    };\n    /**\n     * To get series point element by index\n     */\n    AccumulationSelection.prototype.getElementByIndex = function (index) {\n        var elementId = this.control.element.id + '_Series_' + index.series + '_Point_' + index.point;\n        return document.getElementById(elementId);\n    };\n    /**\n     * To calculate selected elements on mouse click or touch\n     * @private\n     */\n    AccumulationSelection.prototype.calculateSelectedElements = function (accumulation, event) {\n        if (event.target.id.indexOf(accumulation.element.id + '_') === -1) {\n            return;\n        }\n        if (event.target.id.indexOf('_Series_') > -1 || event.target.id.indexOf('_datalabel_') > -1) {\n            this.performSelection(indexFinder(event.target.id), accumulation, event.target);\n        }\n    };\n    /**\n     * To perform the selection process based on index and element.\n     */\n    AccumulationSelection.prototype.performSelection = function (index, accumulation, element) {\n        element = element.id.indexOf('datalabel') > -1 ?\n            accumulation.getSeriesElement().childNodes[index.series].childNodes[index.point]\n            : element;\n        switch (accumulation.selectionMode) {\n            case 'Point':\n                if (!isNaN(index.point)) {\n                    this.selection(accumulation, index, [element]);\n                    this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n                }\n                break;\n        }\n    };\n    /**\n     * To select the element by index. Adding or removing selection style class name.\n     */\n    AccumulationSelection.prototype.selection = function (accumulation, index, selectedElements) {\n        if (!accumulation.isMultiSelect) {\n            this.removeMultiSelectEelments(accumulation, this.selectedDataIndexes, index, accumulation.series);\n        }\n        var className = selectedElements[0] && (selectedElements[0].getAttribute('class') || '');\n        if (selectedElements[0] && className.indexOf(this.getSelectionClass(selectedElements[0].id)) > -1) {\n            this.removeStyles(selectedElements, index);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index);\n        }\n        else {\n            this.applyStyles(selectedElements, index);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index, true);\n        }\n    };\n    /**\n     * To redraw the selection process on accumulation chart refresh.\n     * @private\n     */\n    AccumulationSelection.prototype.redrawSelection = function (accumulation, oldMode) {\n        var selectedDataIndexes = extend([], this.selectedDataIndexes, null, true);\n        this.removeSelectedElements(accumulation, this.selectedDataIndexes);\n        this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n        this.selectDataIndex(selectedDataIndexes, accumulation);\n    };\n    /**\n     * To remove the selected elements style classes by indexes.\n     */\n    AccumulationSelection.prototype.removeSelectedElements = function (accumulation, indexes) {\n        var seriesgroup = accumulation.getSeriesElement();\n        for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\n            var index = indexes_1[_i];\n            this.removeStyles([this.getElementByIndex(index)], index);\n        }\n    };\n    /**\n     * To perform the selection for legend elements.\n     * @private\n     */\n    AccumulationSelection.prototype.legendSelection = function (accumulation, series, pointIndex) {\n        var element = accumulation.getSeriesElement().childNodes[series].childNodes[pointIndex];\n        var seriesStyle = this.generateStyle(accumulation.visibleSeries[series]);\n        var seriesElements = accumulation.getSeriesElement().childNodes[series].childNodes[pointIndex];\n        this.selection(accumulation, new Index(series, pointIndex), [seriesElements]);\n        this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n    };\n    /**\n     * To select the element by selected data indexes.\n     */\n    AccumulationSelection.prototype.selectDataIndex = function (indexes, accumulation) {\n        var element;\n        for (var _i = 0, indexes_2 = indexes; _i < indexes_2.length; _i++) {\n            var index = indexes_2[_i];\n            element = this.getElementByIndex(index);\n            if (element) {\n                this.performSelection(index, accumulation, element);\n            }\n        }\n    };\n    /**\n     * To remove the selection styles for multi selection process.\n     */\n    AccumulationSelection.prototype.removeMultiSelectEelments = function (accumulation, index, currentIndex, seriesCollection) {\n        var series;\n        for (var i = 0; i < index.length; i++) {\n            series = seriesCollection[index[i].series];\n            if (!this.checkEquals(index[i], currentIndex)) {\n                this.removeStyles(this.findElements(accumulation, series, index[i]), index[i]);\n                index.splice(i, 1);\n                i--;\n            }\n        }\n    };\n    /**\n     * To apply the opacity effect for accumulation chart series elements.\n     */\n    AccumulationSelection.prototype.blurEffect = function (pieId, visibleSeries) {\n        var visibility = this.checkPointVisibility(this.selectedDataIndexes); // legend click scenario\n        for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n            var series = visibleSeries_1[_i];\n            if (series.visible) {\n                this.checkSelectionElements(document.getElementById(pieId + '_SeriesCollection'), this.generateStyle(series), visibility);\n            }\n        }\n    };\n    /**\n     * To check selection elements by style class name.\n     */\n    AccumulationSelection.prototype.checkSelectionElements = function (element, className, visibility) {\n        var children = (element.childNodes[0].childNodes);\n        var legendShape;\n        var elementClass;\n        var parentClass;\n        for (var i = 0; i < children.length; i++) {\n            elementClass = children[i].getAttribute('class') || '';\n            parentClass = children[i].parentNode.getAttribute('class') || '';\n            if (elementClass.indexOf(className) === -1 && parentClass.indexOf(className) === -1 && visibility) {\n                this.addSvgClass(children[i], this.unselected);\n            }\n            else {\n                this.removeSvgClass(children[i], this.unselected);\n            }\n            if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + i);\n                if (legendShape) {\n                    if (elementClass.indexOf(className) === -1 && parentClass.indexOf(className) === -1 && visibility) {\n                        this.addSvgClass(legendShape, this.unselected);\n                    }\n                    else {\n                        this.removeSvgClass(legendShape, this.unselected);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To apply selection style for elements.\n     */\n    AccumulationSelection.prototype.applyStyles = function (elements, index) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            var legendShape = void 0;\n            if (element) {\n                if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                    legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + index.point);\n                    this.removeSvgClass(legendShape, this.unselected);\n                    this.addSvgClass(legendShape, this.getSelectionClass(legendShape.id));\n                }\n                this.removeSvgClass(element.parentNode, this.unselected);\n                this.removeSvgClass(element, this.unselected);\n                this.addSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    /**\n     * To get selection style class name by id\n     */\n    AccumulationSelection.prototype.getSelectionClass = function (id) {\n        return this.generateStyle(this.control.series[indexFinder(id).series]);\n    };\n    /**\n     * To remove selection style for elements.\n     */\n    AccumulationSelection.prototype.removeStyles = function (elements, index) {\n        var legendShape;\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            if (element) {\n                if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                    legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + index.point);\n                    this.removeSvgClass(legendShape, this.getSelectionClass(legendShape.id));\n                }\n                this.removeSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    /**\n     * To apply or remove selected elements index.\n     */\n    AccumulationSelection.prototype.addOrRemoveIndex = function (indexes, index, add) {\n        for (var i = 0; i < indexes.length; i++) {\n            if (this.checkEquals(indexes[i], index)) {\n                indexes.splice(i, 1);\n                i--;\n            }\n        }\n        if (add) {\n            indexes.push(index);\n        }\n    };\n    /**\n     * To check two index, point and series are equal\n     */\n    AccumulationSelection.prototype.checkEquals = function (first, second) {\n        return ((first.point === second.point) && (first.series === second.series));\n    };\n    /**\n     * To check selected points are visibility\n     */\n    AccumulationSelection.prototype.checkPointVisibility = function (selectedDataIndexes) {\n        var visible = false;\n        for (var _i = 0, selectedDataIndexes_1 = selectedDataIndexes; _i < selectedDataIndexes_1.length; _i++) {\n            var data = selectedDataIndexes_1[_i];\n            if (pointByIndex(data.point, this.control.visibleSeries[0].points).visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationSelection.prototype.getModuleName = function () {\n        return 'AccumulationSelection';\n    };\n    /**\n     * To destroy the selection.\n     * @return {void}\n     * @private\n     */\n    AccumulationSelection.prototype.destroy = function (accumulation) {\n        // Destroy method performed here\n    };\n    return AccumulationSelection;\n}(BaseSelection));\nexport { AccumulationSelection };\n","/**\n * AccumulationChart annotation properties\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AnnotationBase } from '../../common/annotation/annotation';\nimport { appendElement } from '../../common/utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\n/**\n * `AccumulationAnnotation` module handles the annotation for accumulation chart.\n */\nvar AccumulationAnnotation = /** @class */ (function (_super) {\n    __extends(AccumulationAnnotation, _super);\n    /**\n     * Constructor for accumulation chart annotation.\n     * @private.\n     */\n    function AccumulationAnnotation(control, annotations) {\n        var _this = _super.call(this, control) || this;\n        _this.pie = control;\n        _this.annotations = annotations;\n        return _this;\n    }\n    /**\n     * Method to render the annotation for accumulation chart\n     * @param element\n     */\n    AccumulationAnnotation.prototype.renderAnnotations = function (element) {\n        var _this = this;\n        this.parentElement = createElement('div', {\n            id: this.pie.element.id + '_Annotation_Collections'\n        });\n        this.annotations.map(function (annotation, index) {\n            _this.processAnnotation(annotation, index, _this.parentElement);\n        });\n        appendElement(this.parentElement, element);\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationAnnotation.prototype.getModuleName = function () {\n        // Returns te module name\n        return 'Annotation';\n    };\n    /**\n     * To destroy the annotation.\n     * @return {void}\n     * @private\n     */\n    AccumulationAnnotation.prototype.destroy = function (control) {\n        // Destroy method performed here\n    };\n    return AccumulationAnnotation;\n}(AnnotationBase));\nexport { AccumulationAnnotation };\n"],"names":["getSeriesColor","theme","palette","getThemeColor","style","axisLabel","axisTitle","axisLine","majorGridLine","minorGridLine","majorTickLine","minorTickLine","chartTitle","legendLabel","background","areaBorder","errorBar","crosshairLine","crosshairFill","crosshairLabel","tooltipFill","tooltipBoldLabel","tooltipLightLabel","tooltipHeaderLine","markerShadow","selectionRectFill","selectionRectStroke","selectionCircleStroke","measureText","text","font","htmlObject","document","getElementById","createElement","id","body","appendChild","innerHTML","position","fontSize","size","fontWeight","fontStyle","fontFamily","visibility","top","left","whiteSpace","lineHeight","Size","clientWidth","clientHeight","rotateTextSize","angle","chart","box","options","renderer","SvgRenderer","element","font-size","font-style","font-family","font-weight","transform","text-anchor","createText","delayRedraw","svgObject","getBoundingClientRect","remove","right","bottom","removeElement","getElement","logBase","value","base","Math","log","showTooltip","x","y","areaWidth","isTouch","tooltip","width","toString","styles","setTimeout","inside","range","max","min","withIn","withInRange","previousPoint","currentPoint","nextPoint","series","mX2","logWithIn","xValue","xAxis","mX1","mX3","xStart","floor","visibleRange","xEnd","ceil","sum","values","_i","values_1","length","subArraySum","first","last","index","i","indexOf","yName","isNullOrUndefined","subtractThickness","rect","thickness","height","subtractRect","degreeToLocation","degree","radius","center","radian","PI","ChartLocation","cos","sin","getAngle","point","atan2","subArray","push","valueToCoefficient","axis","result","isInversed","TransformToVisible","yAxis","isInverted","valueType","labelPlacement","type","CoefficientToVector","valueToPolarCoefficient","primaryXAxis","startAngle","clipRect","indexFinder","isPoint","ids","split","Index","parseInt","coefficient","delta","dateTimeInterval","interval","visibleLabels","createTooltip","setAttribute","createZoomingLabels","parent","isVertical","arrowLocation","direction","opposedPosition","anchor","chartRect","availableSize","endLabel","startLabel","labelStyle","findDirection","Rect","drawPath","PathOption","textElement","TextOption","color","withInBounds","bounds","getValueXByPoint","getValueYByPoint","findClipRect","requireInvertedAxis","firstToLowerCase","str","substr","toLowerCase","getMinPointsDelta","seriesCollection","xValues","minVal","minDelta","Number","MAX_VALUE","forEach","visible","name","xAxisName","points","map","sort","second","xMin","getAnimationFunction","effect","functionName","linear","currentTime","startValue","endValue","duration","markerAnimate","delay","pointIndex","isLabel","centerX","centerY","Animation","animate","progress","args","timeStamp","end","model","removeAttribute","trigger","templateAnimate","isRemove","drawSymbol","location","shape","url","label","temp","calculateShapes","renderOption","path","locX","locY","merge","rx","ry","cx","cy","d","yValue","concat","href","calculateLegendShapes","getRectLocation","startLocation","endLocation","outerRect","abs","minMax","getTemplateFunction","template","templateFn","querySelectorAll","templateComplier","querySelector","trim","e","createTemplate","childElement","content","templateElement","getFontStyle","opacity","measureElementRect","findlElement","elements","length_1","getPoint","xLength","yLength","appendElement","child","hasChildNodes","getDraggedRectLocation","x1","y1","x2","y2","checkBounds","start","getLabelText","labelFormat","customLabelFormat","match","seriesType","high","low","open","close","median","maximum","minimum","upperQuartile","lowerQuartile","_a","outliers","liers","replace","format","parseFloat","stopTimer","timer","window","clearInterval","isCollide","collections","currentRect","some","isOverlap","containsRect","calculateRect","textSize","margin","convertToHexCode","componentToHex","r","g","b","hex","convertHexToColor","exec","ColorValue","colorNameToHex","getComputedStyle","isRGBValue","getSaturationColor","factor","colorCode","rgb","round","getMedian","half","fill","space","stroke","mode","cartesianlarge","cartesiansmall","getAccumulationLegend","textTrim","maxWidth","substring","stringToNumber","containerSize","undefined","rX","rY","arrowPadding","tipX","tipY","tipRadius","startX","startY","isMinus","tspanElement","renderOptions","dominant-baseline","baseLine","len","createTSpan","calculateSize","containerWidth","containerHeight","createSvg","getTitle","title","titleCollection","textOverflow","textWrap","titlePositionX","chartSize","leftPadding","rightPadding","titleStyle","textAlignment","currentLabel","maximumWidth","textCollection","labelCollection","getSeriesFromIndex","visibleSeries","visibleSeries_1","pointByIndex","points_1","Theme","axisLabelFont","axisTitleFont","chartTitleFont","crosshairLabelFont","tooltipLabelFont","legendLabelFont","stripLineLabelFont","__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Connector","_super","apply","Property","ChildProperty","Font","Border","ChartArea","Complex","Margin","Indexes","CornerRadius","seriesIndex","EmptyPointSettings","TooltipSettings","Mean","verticalStandardMean","verticalSquareRoot","horizontalStandardMean","horizontalSquareRoot","verticalMean","horizontalMean","PolarArc","endAngle","innerRadius","currentXPosition","CustomizeOption","StackValues","startValues","endValues","_this","call","dashArray","RectOption","border","CircleOption","PolygonOption","Thickness","PointData","lierIndex","AccPointData","ControlPoints","controlPoint1","controlPoint2","DoubleRange","mStart","mEnd","get","enumerable","configurable","Double","calculateNumericNiceInterval","actualDesiredIntervalsCount","getActualDesiredIntervalsCount","niceInterval","desiredIntervals","minInterval","pow","intervalDivs","currentInterval","getActualRange","initializeDoubleRange","actualRange","doubleRange","POSITIVE_INFINITY","NEGATIVE_INFINITY","calculateRangeAndInterval","calculateRange","applyRangePadding","calculateVisibleLabels","setRange","series_1","paddingInterval","orientation","rangePadding","findMinMax","yMin","yMax","xMax","padding","getRangePadding","findAdditional","findNormal","updateActualRange","calculateVisibleRange","zoomFactor","zoomPosition","enableAutoIntervalOnZooming","triggerRangeRender","tempInterval","getFormat","isCustom","intl","getNumberFormat","useGrouping","useGroupingSeparator","triggerLabelRender","formatValue","getMaxLabelWidth","isStack100","animationComplete","legendRender","textRender","pointRender","seriesRender","axisLabelRender","axisRangeCalculated","axisMultiLabelRender","tooltipRender","chartMouseMove","chartMouseClick","pointClick","pointMove","chartMouseLeave","chartMouseDown","chartMouseUp","zoomComplete","dragComplete","beforePrint","annotationRender","ChartAnnotationSettings","LabelBorder","MultiLevelCategories","StripLineSettings","MultiLevelLabels","Collection","Row","axes","nearSizes","farSizes","computeSize","findTickSize","crossInAxis","findLabelSize","lineStyle","Column","MajorGridLines","MinorGridLines","AxisLine","MajorTickLines","MinorTickLines","CrosshairTooltip","Axis","axisBottomLine","labelRotation","crossAt","updatedRect","multiLevelLabelHeight","crossAxis","tickPosition","isInside","majorTickLines","innerPadding","titleSize","labelPosition","diff","labelSize","maxLabelSize","placeNextToAxisLine","findDifference","updateCrossValue","extend","baseRange","desiredIntervalsCount","maximumLabels","argsData","cancel","VisibleLabels","pointX","previousEnd","isIntersect","action","labelIntersectAction","rotatedLabel","edgeLabelPlacement","findMultiRows","multiLevelLabelModule","multiLevelLabels","getMultilevelLabelsHeight","currentX","store","getModule","baseModule","originalText","CartesianAxisLayoutPanel","chartModule","measureAxis","seriesClipRect","initialClipRect","leftSize","rightSize","topSize","bottomSize","measureRowAxis","measureColumnAxis","calculateAxisSize","refreshAxis","row","calculateRowSize","rows","arrangeAxis","measureDefinition","computedHeight","column","calculateColumnSize","columns","computedWidth","definition","axis_1","nearCount","farCount","j","len_1","k","len_2","span","computedTop","plotOffset","len_3","len_4","computedLeft","measure","actualIndex","axisCollections","axis_2","verticalAxes","getActualRow","pushAxis","horizontalAxes","getActualColumn","crossesAt","isTransposed","crossesInAxis","updateCrossAt","primaryYAxis","option","skeleton","dateParser","getDateParser","dateFormatter","getDateFormat","Date","parse","DataUtil","parseJson","val","labels","axisCollection","actualLength","pos","columnIndex","rowIndex","rowTop","remainingHeight","columnLeft","remainingWidth","renderAxes","outsideElement","axisElement","createGroup","axisLineElement","findAxisPosition","drawAxisLine","majorGridLines","drawXAxisGridLine","drawXAxisLabels","drawXAxisBorder","drawXAxisTitle","drawYAxisGridLine","drawYAxisLabels","drawYAxisBorder","drawYAxisTitle","childNodes","drawBottomLine","isRow","definitionName","optionsLine","stroke-width","drawLine","plotX","plotY","stroke-dasharray","themeStyle","minorDirection","pointY","majorGrid","majorTick","minorGird","minorTick","tickSize","axisLineSize","ticksbwtLabel","ticks","isBorder","minorGridLines","minorTickLines","minorTicksPerInterval","drawAxisMinorLine","renderGridLine","renderTickLine","chartArea","startIndex","endIndex","elementSize","isLabelInside","isOpposed","labelElement","createZoomingLabel","gap","endY","labelBorder","endX","createAxisBorderElement","renderYAxisMultiLevelLabels","description","tabIndex","labelIndex","logStart","coor","isTickInside","logInterval","logPosition","ticksX","ticksY","findLogNumeric","labelPadding","rotateSize","diffHeight","yLocation","intervalLength","islabelInside","anglePadding","findAxisLabel","axisRect","length_2","renderXAxisMultiLevelLabels","borderElement","findParentNode","contains","parentNode","zoomElement","replaceChild","ChartData","currentPoints","previousPoints","getData","drawType","isRectSeries","marker","mouseX","mouseY","getRectPoint","isSelected","selectionMode","selectionModule","rectPoints","fromCenterX","fromCenterY","clickAngle","distanceFromCenter","arcAngle","regionData","regions","chartAreaType","sqrt","checkRegionContainsPoint","regionRect","region","getClosest","closest","xData","xData_1","data","getClosestX","DataLabelSettings","MarkerSettings","Points","symbolLocations","Trendline","setDataSource","trendLineModule","initDataSource","visibleSeriesCount","ErrorBarCapSettings","ChartSegment","ErrorBarSettings","SeriesBase","currentViewData","processJsonData","keys","textMappingName","Series","dataLabel","processWaterfallData","Infinity","sizeMax","getSeriesType","dataPoint","pushCategoryData","pushData","setEmptyPoint","isArea","findSplinePoint","getValue","xName","volume","interior","pointColorMapping","findVisibility","isEmpty","emptyPointSettings","yData","getAverage","yValues","setXYMinMax","setHiloMinMax","filter","a","isIndexed","member","refreshDataManager","query","dataSource","dataModule","generateQuery","requiresCount","then","dataManagerSuccess","count","isRemoteData","recordsCount","refreshChart","refreshTechnicalIndicator","category","trendlines","refreshBound","propName","defaultValue","isArray","drawPoints","delayedAnimation","refreshAxisLabel","item","_b","_c","findSeriesCollection","isStack","rowSeries","_d","_e","_f","_g","rectSeriesInChart","calculateStackedValue","isStacking100","columnItem","calculateStackingValues","stackingGroup","lastValue","lastPositive","lastNegative","frequencies","findFrequencies","seriesCollection_1","pointsLength","isNaN","percent","toFixed","stackedValues","seriesCollection_2","renderSeries","createSeriesElements","render","errorBarModule","dataLabelModule","appendSeriesElement","seriesElements","performAnimation","elementId","explodeValue","markerHeight","markerWidth","clipRectElement","drawCircularClipPath","drawClipPath","symbolElement","seriesElement","clip-path","errorBarElement","dataLabelElements","shapeElement","animation","enable","animateSeries","doAnimation","doErrorBarAnimation","markerRender","doMarkerAnimation","doDataLabelAnimation","setPointColor","setBorderColor","Data","initDataManager","dataManager","DataManager","Query","clone","executeQuery","MarkerExplode","addEventListener","isDestroyed","on","Browser","touchMoveEvent","mouseMoveHandler","touchEndEvent","mouseUpHandler","crosshair","markerMove","startMove","previous","explodeSeries","shared","chartAxisLayoutPanel","pointData","chartSeries","enableTooltip","removeHighlightedMarker","_loop_1","data_1","this_1","markerExplode","drawTrackBall","seriesMarker","symbolId","borderColor","colorValue","borderWidth","symbol","imageUrl","getElementsByClassName","Marker","renderMarker","shapeOption","isBoxPlot","parentElement","markerClipRect","getRangeLowPoint","markerElements","incFactor","lowPoint","Location","LegendSettings","BaseLegend","rowCount","columnCount","pageButtonSize","pageXCollections","maxColumns","isTrimmed","currentPage","legend","legendSettings","legendID","isChartControl","getModuleName","calculateLegendBounds","getPosition","legendBounds","library","getLegendBounds","getLocation","alignment","setBounds","maxItemHeight","legendHeight","legendWidth","marginBottom","alignLegend","legendSize","renderLegend","firstLegend","findFirstLegendPosition","legendCollections","shapeHeight","legendGroup","legendTranslateGroup","createLegendElements","legendSeriesGroup","shapeWidth","textOptions","totalPages","textPadding","shapePadding","previousLegend","legendOption","generateId","getRenderPoint","renderSymbol","renderText","toggleVisibility","isPaging","renderPagingElements","legendCollection","legendCollection_1","drawRectangle","legendItemsGroup","clippath","createClipPath","group","symbolColor","markerShape","symbolOption","markerVisibility","fontcolor","textStyle","textOption","paginggroup","iconSize","clipPathHeight","pageTextElement","translatePage","pagingText","page","pageNumber","translate","textContent","changePage","event","pageUp","pageText","prefix","move","targetId","offsetWidth","clearTimeout","clearTooltip","LegendOptions","TechnicalIndicator","targetSeries","ExportUtils","control","print","printWindow","outerHeight","outerWidth","moveTo","resizeTo","screen","availWidth","availHeight","htmlContent","getHTMLContent","div","cloneNode","Element","export","fileName","attrs","isDownload","userAgent","PdfPageOrientation","Landscape","svgData","outerHTML","URL","createObjectURL","Blob","XMLSerializer","serializeToString","triggerDownload","image_1","Image","ctx_1","getContext","onload","drawImage","revokeObjectURL","document_1","PdfDocument","imageString","toDataURL","pageSettings","slice","pages","add","graphics","PdfBitmap","save","destroy","navigator","msSaveOrOpenBlob","msToBlob","toLocaleLowerCase","src","download","dispatchEvent","MouseEvent","view","bubbles","cancelable","CrosshairSettings","ZoomSettings","Chart","preRender","unWireEvents","initPrivateVariable","setCulture","wireEvents","refreshDefinition","tooltipModule","createChartSvg","setTheme","calculateAreaType","calculateVisibleSeries","initTechnicalIndicators","initTrendLines","calculateVisibleAxis","processData","getLocalizedLabel","localeObject","getConstant","legendModule","getLegendOptions","isCalculateStacking","rectCount","calculateBounds","renderElements","renderBorder","renderTitle","renderAreaBorder","renderSeriesElements","applyZoomkit","performSelection","setSecondaryElementPosition","renderAnnotation","yAxisElements","stripLineModule","renderStripLine","svgRect","initializeModuleElements","dataLabelCollections","indicators","indicatorElements","hasTrendlines","trendLineElements","isTrendline","tooltipDiv","initializeIndicator","initializeTrendLine","appendElementsAfterSeries","indicator","createIndicatorElements","getTrendLineElements","zoomModule","isZoomed","zoomSettings","enablePan","performedUI","applyZoomToolkit","annotationModule","renderAnnotations","selectedDataIndexes","invokeSelection","redrawSelection","check","initializeDataModule","techIndicator","titleHeight","trendIndex","trendLine","sourceIndex","initSeriesCollection","yAxisName","polarSeriesModule","radarSeriesModule","isPanning","isAxisZoomed","series_2","initAxis","isSeries","seriesName","colors","palettes","addSeries","refresh","removeSeries","splice","classList","getPersistData","addOnPersist","removeSvg","startEvent","touchStartEvent","moveEvent","stopEvent","cancelEvent","isPointer","EventHandler","chartOnMouseDown","mouseMove","mouseEnd","chartOnMouseClick","chartRightClick","mouseLeave","removeEventListener","chartResize","bind","longPress","Touch","tapHold","tapHoldThreshold","setStyle","crosshairModule","buttons","which","pointerType","preventDefault","stopPropagation","zooming","disableScroll","enableSelectionZooming","enableMouseWheelZooming","enablePinchZooming","touchAction","msTouchAction","msContentZooming","msUserSelect","webkitUserSelect","display","isOrientation","originalEvent","changedTouches","setMouseXY","notify","pageX","pageY","touchArg","clientX","clientY","chartOnMouseMove","chartOnMouseLeave","isChartDrag","triggerPointEvent","titleTooltip","axisTooltip","texts","categories","offset","isDevice","mouseDownX","previousMouseMoveX","mouseDownY","previousMouseMoveY","isDoubleTap","getTime","threshold","chartOnMouseUp","Internationalization","setLocaleConstants","L10n","defaultLocalConstants","locale","setAnnotationValue","annotationIndex","annotation","annotations","processAnnotation","children","ZoomIn","Zoom","ZoomOut","Pan","Reset","ResetZoom","requiredModules","moduleName","modules","enableAnnotation","errorBarVisible","dataLabelEnable","isLegend","currentModule","findIndicatorModules","findTrendLineModules","findAxisModule","datetimeEnabled","categoryEnabled","logarithmicEnabled","striplineEnabled","dateTimeCategoryEnabled","multiLevelEnabled","axisCollections_1","findStriplineVisibility","stripLines","macdEnable","bandEnable","isLine","isSpline","markerEnable","trendline","striplines","striplines_1","removeLength","pinchTarget","removeChild","firstChild","definitions","definitions_1","axisChange","onPropertyChanged","newProp","oldProp","refreshBounds","crosshairTooltip","isMultiSelect","Event","NotifyPropertyChanges","Component","NiceInterval","calculateDateTimeNiceInterval","startDate","endDate","totalDays","actualIntervalType","intervalType","getSkeleton","DateTime","datetimeInterval","getYear","getMonth","getDay","getHour","minute","getMinutes","endMinute","getFullYear","getDate","getHours","getSeconds","endSecond","startYear","endYear","month","endMonth","day","endDay","hour","endHour","increaseDateTimeInterval","alignRangeStart","skeletonType","setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","sDate","intervalSize","sResult","year","minutes","seconds","Category","Logarithmic","isFinite","logEnd","calculateLogNiceInterval","axisFormat","isCustomFormat","DateTimeCategory","axisSize","sameInterval","currentDate","previousDate","sameValue","StripLine","measureStripLine","stripline","actualStart","actualEnd","getFromTovalue","startFromAxis","to","from","findValue","getToValue","striplineGroup","axes_1","zIndex","renderRectangle","textMid","ty","rotation","tx","getTextStart","horizontalAlignment","verticalAlignment","invertAlignment","xy","LineBase","improveChartPerformance","tempPoints","xVisibleRange","yVisibleRange","seriesPoints","areaBounds","xTolerance","yTolerance","prevXValue","prevYValue","xVal","yVal","seriesPoints_1","currentPoint_1","getLineDirection","firstPoint","secondPoint","getPointLocation","startPoint","point1","point2","appendLinePath","pathElement","doProgressiveAnimation","strokeDashArray","getAttribute","pathLength","getTotalLength","storePointLocation","doLinearAnimation","elementHeight","elementWidth","xCenter","yCenter","LineSeries","prevPoint","getCoordinate","visiblePoints","visiblePoints_1","isClosed","ColumnBase","getSideBySideInfo","enableSideBySidePlacement","getSideBySidePositions","seriesSpacing","columnSpacing","pointSpacing","columnWidth","getRectangle","findRectPosition","vSeries","updateSymbolLocation","updateYRegion","updateXRegion","triggerEvent","calculateRoundedRectPath","cornerRadius","topLeft","topRight","bottomLeft","bottomRight","rectElements","animateRect","isPlot","lastElementChild","childElementCount","ColumnSeries","sideBySideInfo","origin","pointColumn","MultiColoredSeries","getAreaPathDirection","startPath","getAreaEmptyDirection","isXSegment","segments","segment","getAxisValue","sortSegments","chartSegments","segmentAxis","access","applySegmentAxis","includeSegment","clipPath","createClipRect","isX","isRequired","startPointLocation","endPointLocation","segmentValue","AreaSeries","currentXValue","BarSeries","pointBar","PolarRadarPanel","drawYAxisLine","vector","vector2","drawCircle","minorGirdLine","xLoc","yLoc","tickXSize","tickYSize","labelText","firstLabelX","lastLabelX","textAnchor","tickOptions","gridOptions","PolarSeries","columnDrawTypeRender","itemCurrentXPos","pointStartAngle","pointEndAngle","dStartX","dStartY","dEndX","dEndY","sumofYValues","rangeInterval","getSeriesPosition","doPolarRadarAnimation","animateElement","chartcenterX","chartcenterY","RadarSeries","StackingBarSeries","stackedValue","pointStack","CandleSeries","centerRegion","tickRegion","getPathString","triggerPointRenderEvent","drawCandle","getCandleColor","enableSolidCandles","bullFillColor","bearFillColor","topRect","midRect","candleElement","StackingColumnSeries","StepLineSeries","pathOptions","lineLength","StepAreaSeries","StackingAreaSeries","polarAreaType","lineDirection","stackedvalue","previousSeries","getPreviousSeries","ScatterSeries","RangeColumnSeries","rangePoint","WaterfallSeries","originValue","prevEndValue","currentEndValue","prevRegion","intermediateOrigin","isSum","isIntermediateSum","totalSum","isSumIndex","currentRegion","prevLeft","currentLeft","prevBottom","currentBottom","connector","intermediateSumIndexes","sumIndexes","summaryFillColor","negativeFillColor","json","intermediateSum","sumIndex","HiloSeries","HiloOpenCloseSeries","highLowRect","updateTickRegion","open_1","close_1","drawHiloOpenClosePath","horizontal","RangeAreaSeries","command","closed","highPoint","closeRangeAreaPath","BubbleSeries","segmentRadius","percentChange","maxRadius","minRadius","maximumSize","value_1","bubblePoint","SplineBase","splinePoints","filterEmptyPoints","findSplineCoefficients","getPreviousIndex","getControlPoints","getNextIndex","coefficient1","coefficient2","coefficient3","dy1","dy2","interPoint","slopeLength","ySpline","ySplineDuplicate","dx","dy","slope","cardinalSplineTension","splineType","ySpline1","ySpline2","ySplineDuplicate1","ySplineDuplicate2","deltaX2","SplineSeries","pt1","pt2","bpt1","bpt2","SplineAreaSeries","controlPt1","controlPt2","startPoint1","TechnicalAnalysis","signalLine","setSeriesProperties","indicatorElement","getDataPoint","sourcePoint","macdPositiveColor","macdNegativeColor","getRangePoint","setSeriesRange","SmaIndicator","smaPoints","validData","field","signalSeries","period","average","EmaIndicator","emaPoints","prevAverage","TmaIndicator","tmaPoints","signalSeries_1","validData_1","smaValues","k_1","AccumulationDistributionIndicator","sourceSeries","adPoints","calculateADPoints","AtrIndicator","calculateATRPoints","highLow","highClose","lowClose","trueRange","MomentumIndicator","upperLine","upperCollection","signalCollection","upperSeries","RsiIndicator","showZones","lowerLine","lowerCollection","overBought","overSold","prevClose","gain","loss","close_2","StochasticIndicator","periodLine","lowerSeries","periodCollection","source","calculatePeriod","kPeriod","smaCalculation","dPeriod","pointCollection","lowValues","highValues","closeValues","modifiedSource","mins","maxs","MIN_VALUE","top_1","BollingerBands","rangeArea","bandColor","enableBand","bandCollection","rangeAreaSeries","deviationSum","multiplier","standardDeviation","limit","deviations","bollingerPoints","i_1","sma","i_2","lowerBand","upperBand","j_1","X","mb","lb","ub","MacdIndicator","macdType","macdSeries","macdLine","histogramSeries","macdLineSeries","fastPeriod","slowPeriod","macdCollection","histogramCollection","shortEMA","calculateEMAValues","longEMA","macdValues","getMACDVales","getMACDPoints","signalEMA","getSignalPoints","getHistogramPoints","initialEMA","emaValues","emaPercent","emaAvg","macdPoints","dataMACDIndex","macdIndex","signalEma","dataSignalIndex","signalIndex","shortEma","longEma","dataHistogramIndex","histogramIndex","Trendlines","trendLineSeries","legendShape","createTrendLineElements","trendLineElement","trendPoint","findSlopeIntercept","xAvg","yAvg","xyAvg","xxAvg","yyAvg","intercept","exp","trendlineSeries","setLinearRange","setExponentialRange","setMovingAverageRange","setPolynomialRange","setPowerRange","setLogarithmicRange","splineSeriesModule","slopeIntercept","getExponentialPoints","xLogValue","yLogValue","xPointsLgr","getLogarithmicPoints","xPolyValues","yPolyValues","getPolynomialPoints","powerPoints","getPowerPoints","getLinearPoints","xAvgValues","getMovingAveragePoints","slopeInterceptLog","midPoint","pts","x1Log","backwardForecast","y1Log","x2Log","y2Log","x3Log","forwardForecast","y3Log","slopeInterceptPower","x3","y3","polynomialOrder","polynomialSlopes","subIndex","numArray","matrix","newIndex","nIndex","num2","nIndex2","nnIndex","nnIndex2","gaussJordanElimination","getPoints","nullCount","slopeInterceptLinear","x1Linear","y1Linear","x2Linear","y2Linear","slopeInterceptExp","ptsExp","getPolynomialYValue","slopes","numArray1","numArray2","numArray3","index1","num1","index2","index3","index4","index5","index4_1","num3","num4","iindex4","iandex4","iindex1","iindex2","num","Crosshair","elementID","mouseLeaveHandler","removeCrosshair","isIos","isIos7","disableTrackTooltip","horizontalCross","verticalCross","crossGroup","stopAnimation","valueX","valueY","lineType","axisTooltipGroup","line","renderCrosshairLine","renderAxisTooltip","lastChild","axisGroup","textElem","getAxisText","tooltipLocation","isTop","isBottom","isLeft","isRight","labelValue","tooltipRect","boundsX","boundsY","crosshairInterval","BaseTooltip","markerPoint","getTooltipElement","isTooltip","inverted","updateTemplateFn","formattedText","header","elementCollection","textElements","className","groupElement","isFirst","isChart","renderTooltip","areaRect","cartesain","removeHighlight","highlightPoints","renderTooltipElement","renderTemplate","tipLocation","sharedTooltipLocation","seriesTooltipLocation","headerSize","pathElement_1","pointRect","enableAnimation","isComplete","updateDiv","animateTooltipDiv","isIE","shadowElement","defElement","createDefs","changeText","Side","isRender","lines","tspanOption","subWidth","tspanStyle","headerSpace","isColumn","width_1","firstElement","elem","symbolLocation","clipX","clipY","progressAnimation","tooltipGroup","rectOpacity","isRect","endAnimation","highlightPoint","shift","highlight","currenDiff","firstText","removeText","toolTipInterval","Tooltip","removeTooltip","renderGroupedTooltip","renderSeriesTooltip","findHeader","parseTemplate","markerSide","findData","getTooltipText","getSymbolLocation","getTemplateText","drawMarker","findMouseValue","getBoxLocation","formatPointValue","extraPoints","markerGroup","findColor","textValue","dataValue","RegExp","getPrototypeOf","isXPoint","isYPoint","getIndicatorTooltipFormat","tooltipElement","data_2","Toolkit","selectionColor","fillColor","createPanButton","panElements","pan","createZoomButton","zoomElements","zoom","createZoomInButton","drawPolygon","polygonDirection","zoomInElements","elementOpacity","zoomIn","createZoomOutButton","zoomOutElements","zoomOut","createResetButton","reset","process","currentTarget","toolkitElements","touchMoveList","touchStartList","zoomInOutCalculation","applySelection","scale","zoomFactor_1","zoomPosition_1","cumulative_1","browserName","info","wheelEvent","toolkit","zoomingRect","zoomAxes","zoomkitOpacity","isIOS","renderZooming","calculateZoomAxesRange","doPan","drawZoomingRectangle","currentScale","translateX","translateY","enableDeferredZooming","setTransform","performZoomRedraw","doZoom","layout","previousZF","previousZP","currentZF","currentZP","zoomRect","previousZoomFactor","previousZoomPosition","currentZoomFactor","currentZoomPosition","performMouseWheelZooming","cumulative","wheelDelta","performPinchZooming","scaleX","scaleY","translateXValue","translateYValue","pinchRect","elementOffset","touchDown","touchMove","touch0StartX","touch0StartY","touch0EndX","touch0EndY","touch1StartX","touch1StartY","touch1EndX","touch1EndY","calculatePinchZoomFactor","selectionMin","selectionMax","rangeMin","rangeMax","axisTrans","actualMin","actualDelta","transX","transY","isPinch","xAxisLoc","yAxisLoc","axisRange","showZoomingToolkit","outerElement","toolboxItems","toolbarItems","xPosition","currentItem","zoomToolkitMove","zoomToolkitLeave","showToolkit","chartMouseWheel","mouseDownHandler","mouseCancelHandler","off","touches","addTouchPointer","touchList","pointerId","BaseSelection","seriesStyles","seriesclass","styleId","selectionStyle","unselected","concatIndexes","userIndexes","localIndexes","checkVisibility","selectedIndexes","uniqueSeries","selectedIndexes_1","uniqueSeries_1","addSvgClass","elementClassName","removeSvgClass","getChildren","tagName","Selection","completeSelection","calculateSelectedElements","mousedown","dragStart","initPrivateVariables","closeIconId","draggedRectGroup","draggedRect","isSeriesMode","selectDataIndex","generateStyle","indexes","indexes_1","getElementByIndex","suffix","getClusterElements","clusters","findElements","getSeriesElements","selection","blurEffect","clusterSelection","selectedElements","removeMultiSelectEelments","getSelectionClass","removeStyles","addOrRemoveIndex","applyStyles","currentIndex","toEquals","chartId","checkSelectionElements","parentClassName","selectElement","elements_1","elements_2","checkSeriesOnly","oldMode","removeSelectedElements","legendSelection","seriesStyle","isBlurEffectNeeded","NaN","elements_3","seriesElements_1","calculateDragSelectedElements","dragRect","axisOffset","removeOffset","selectedPointValues","selectedSeriesValues","xAxisOffset_1","yAxisOffset_1","isCurrentPoint","createCloseButton","selectedDataValues","clip","drawDraggingRect","cartesianLayout","closeIcon","setAttributes","dragGroup","removeDraggedElements","changeCursorStyle","resizingSelectionRect","tapped","resize","findResizeMode","resizing","chartSvgObject","cursorStyle","resizeMode","resizeEdges","isResize","rectelement","seriesElements_2","ele","object","keys_1","draggedRectMoved","grabbedPoint","doDrawing","dragging","rectGrabbing","getDragRect","DataLabel","errorHeight","commonId","calculateErrorHeight","chartBackground","positiveHeight","negativeHeight","rgbValue","contrast","yAxisInversed","labelLength","fontBackground","isDataLabelShape","createDataLabelTemplate","calculateTextPosition","isShape","elementRect","vAxis","hAxis","labelRegion","getLabelLocation","locationY","alignmentValue","calculateAlignment","calculateRectPosition","locationX","calculatePathPosition","calculatePolarRectPosition","columnRadius","labelLocation","textLength","extraSpace","calculateRectActualPosition","calculateTopAndOuterPosition","calculatePathActualPosition","labelRect","isOverLap","collection","finalPosition","updateLabelLocation","markerSize","positionIndex","intersectY","shapeElements","textNode","ErrorBar","renderErrorBar","capId","errorbar","errorBarCap","errorDirection","point_1","errorX","errorY","verticalError","horizontalError","capOption","capPath","findLocation","horizontalPositiveError","verticalPositiveError","endPoint","horizontalNegativeError","verticalNegativeError","error","getErrorDirection","calculateFixedValue","calculatePercentageValue","calculateStandardDeviationValue","getMean","meanCalculation","calculateStandardErrorValue","calculateCustomValue","getHorizontalDirection","mid","errorMode","capLength","capDirection","getVerticalDirection","getBothDirection","pathH","pathV","paths","verStandardMean","horStandardMean","verSquareRoot","horSquareRoot","sumOfX","sumOfY","errorBarClipRect","errorBarElements","Legend","click","visibleSeriesCollection","visibleSeriesCollection_1","extraHeight","extraWidth","legendEventArgs","rowWidth","columnHeight","prevLegend","previousBound","availwidth","LegendClick","refreshSeries","legendItemsId_1","AnnotationBase","setAnnotationPixelValue","accumulationBound","setAnnotationPointValue","isLog","xAnnotation","setAccumulationPointValue","annotationElement","coordinateUnits","setElementStyle","accPoint","setAlignmentValue","ChartAnnotation","BoxAndWhiskerSeries","centerRegion_1","findBoxPlotValues","boxPlotMode","updateTipRegion","renderBoxAndWhisker","tipRegion","updateTipSize","midWidth","midHeight","topWidth","topHeight","showMean","yCount","quartile","getExclusiveQuartileValue","getInclusiveQuartileValue","getQuartileValues","getMinMaxOutlier","percentile","rank","integerRank","fractionRank","isEvenList","halfLength","lowerQuartileArray","upperQuartileArray","rangeIQR","MultiColoredAreaSeries","startRegion","rendered","generatePathOption","MultiColoredLineSeries","MultiLevelLabel","xAxisPrevHeight","xAxisMultiLabelHeight","yAxisPrevHeight","yAxisMultiLabelHeight","multiLevelLabelsHeight","prevHeight","axisValue","multiLevel","categoryLabel","maximumTextWidth","overflow","pathRect","isOutside","level","triggerMultiLabelRender","renderXAxisLabelBorder","multiElements","createBorderElement","padding1","padding2","value1","groupLabel","renderYAxisLabelBorder","clipId","axisId","borderIndex","axisIndex","AccumulationAnnotationSettings","AccumulationDataLabelSettings","AccPoints","labelVisible","AccumulationSeries","sumOfPoints","accumulation","resultData","seriesCounts","findSumOfPoints","sumOfClub","clubValue","groupTo","setPoints","isClub","pushPoints","lastGroupTo","clubPoint","setAccEmptyPoint","seriesGroup","renderPoints","datalabelGroup","accumulationDataLabelModule","renderDataLabel","findMaxBounds","labelBound","pieSeriesModule","accumulationLegendModule","explodeDistance","pointId","renderPoint","getSeriesElement","findAreaRect","totalbound","bound","next","AccumulationBase","pieCenter","set","pieRadius","pieLabelRadius","labelRadius","isCircular","processExplode","explodePoints","deExplodeAll","invokeExplode","explodeAll","explodeIndex","accumulationSelectionModule","deExplodeSlice","explode","midAngle","isExplode","explodeSlice","sliceId","setTranslate","setElementTransform","PieBase","initProperties","initAngles","connectorStyle","explodeOffset","findCenter","defaultLabelBound","totalAngle","accumulationRect","getSeriesBound","accumulationRectCenter","total","getRectFromAngle","nextQuandrant","lastQuadrant","getPathArc","flag","getDoughnutPath","getPiePath","clockWise","innerStart","innerEnd","PieSeries","getPathOption","groupId","clipslice","AccumulationChart","accBaseModule","isIE11Pointer","stop","accumulationMouseMove","accumulationMouseEnd","accumulationMouseStart","accumulationOnMouseClick","accumulationRightClick","accumulationMouseLeave","accumulationResize","previousSize","currentSize","createPieSvg","createSecondaryElement","doGrouppingProcess","processSelection","tooltipParent","getSmartLegendLocation","getElementsByTagName","refreshPoints","findDatalabelVisibility","update","refreshElements","TriangularBase","actualChartArea","triangleSize","neckSize","neckWidth","neckHeight","initializeSizeRatio","reverse","gapRatio","coEff","spacing","yRatio","heightRatio","setLabelLocation","labelOffset","findPath","locations","FunnelSeries","getSegmentData","lineWidth","topRadius","bottomRadius","endTop","endBottom","endMin","bottomY","area","emptySpaceAtLeft","seriesTop","line3","line6","polygon","PyramidSeries","pyramidMode","calculateSurfaceSegments","sumOfValues","gapHeight","preSum","getSurfaceHeight","currY","coef","surface","solveQuadraticEquation","root1","root2","sd","AccumulationLegend","titleRect","totalRowCount","getMaxColumn","maxPageColumn","maxColumnWidth","columns_1","getAvailWidth","legendX","availablewidth","legendBound","getTitleRect","legendByIndex","legendCollections_1","legendItemsId","currentSeries","AccumulationDataLabel","getDataLabelPosition","getLabelDistance","getLabelRegion","marginValue","labelAngle","enableSmartLabels","getSmartLabel","circular","findPreviousPoint","isOverlapping","isConnectorLineOverlapping","setOuterSmartLabel","setPointVisibileFalse","textTrimming","textsize","getOverlappedAngle","setSmartLabelForSegments","distance","textRegion","overlapHeight","getEdgeOfLabel","previousstart","previousend","isLineRectangleIntersect","line1","line2","isLinesIntersect","point11","point12","a1","b1","c1","a2","b2","c2","lies","getConnectorPath","getConnectorStartPoint","middle","getPolyLinePath","controlPoints","t","getBezierPoint","p0","p1","labelshape","edge","location_1","isTemplate","getTemplateSize","correctLabelRegion","setTemplateStyle","getSaturatedColor","clientRect","labelColor","doTemplateAnimation","saturatedColor","getLabelBackground","backgroundColor","AccumulationTooltip","getPieData","AccumulationSelection","indexes_2","checkEquals","pieId","checkPointVisibility","elementClass","parentClass","selectedDataIndexes_1","AccumulationAnnotation","pie","fields","isDescending","sortData"],"mappings":"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"}