/*!
*  filename: ej2-charts.min.js.map
*  version : 15.4.22
*  Copyright Syncfusion Inc. 2001 - 2017. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/

{"version":3,"file":"ej2-charts.min.js","sources":["../../node_modules/@syncfusion/ej2-base/dist/src/es5/util.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/dom.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/notify-property-change.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/animation.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/internationalization.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/template.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/template-engine.js","../src/es5/common/utils/helper.js","../src/es5/common/model/theme.js","../src/es5/accumulation-chart/model/acc-base.js","../../node_modules/@syncfusion/ej2-buttons/dist/src/es5/common/common.js","../../node_modules/@syncfusion/ej2-popups/dist/src/es5/common/position.js","../../node_modules/@syncfusion/ej2-popups/dist/src/es5/common/collision.js","../../node_modules/@syncfusion/ej2-popups/dist/src/es5/popup/popup.js","../../node_modules/@syncfusion/ej2-popups/dist/src/es5/spinner/spinner.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/ajax.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/event-handler.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/observer.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/browser.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/intl-base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/canvas-renderer.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/module-loader.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/child-property.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/parser-base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/number-formatter.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/date-formatter.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/date-parser.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/number-parser.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/component.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/draggable.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/droppable.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/keyboard.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/l10n.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/svg-renderer.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/touch.js","../src/es5/common/model/base.js","../src/es5/chart/utils/double-range.js","../src/es5/chart/axis/double-axis.js","../src/es5/chart/model/chart-base.js","../src/es5/chart/axis/axis.js","../src/es5/common/model/constants.js","../src/es5/chart/axis/cartesian-panel.js","../../node_modules/@syncfusion/ej2-data/dist/src/es5/query.js","../../node_modules/@syncfusion/ej2-data/dist/src/es5/util.js","../../node_modules/@syncfusion/ej2-data/dist/src/es5/adaptors.js","../../node_modules/@syncfusion/ej2-data/dist/src/es5/manager.js","../src/es5/chart/series/chart-series.js","../src/es5/common/model/data.js","../src/es5/chart/utils/get-data.js","../src/es5/chart/series/marker-explode.js","../src/es5/chart/series/marker.js","../src/es5/common/legend/legend.js","../src/es5/chart/technical-indicators/technical-indicator.js","../src/es5/common/utils/export.js","../src/es5/chart/chart.js","../src/es5/chart/axis/date-time-axis.js","../src/es5/chart/axis/category-axis.js","../src/es5/chart/axis/logarithmic-axis.js","../src/es5/chart/axis/strip-line.js","../src/es5/chart/series/line-base.js","../src/es5/chart/series/line-series.js","../src/es5/chart/series/column-base.js","../src/es5/chart/series/column-series.js","../src/es5/chart/series/area-series.js","../src/es5/chart/series/bar-series.js","../src/es5/chart/axis/polar-radar-panel.js","../src/es5/chart/series/polar-series.js","../src/es5/chart/series/radar-series.js","../src/es5/chart/series/stacking-bar-series.js","../src/es5/chart/series/candle-series.js","../src/es5/chart/series/stacking-column-series.js","../src/es5/chart/series/step-line-series.js","../src/es5/chart/series/step-area-series.js","../src/es5/chart/series/stacking-area-series.js","../src/es5/chart/series/scatter-series.js","../src/es5/chart/series/range-column-series.js","../src/es5/chart/series/waterfall-series.js","../src/es5/chart/series/hilo-series.js","../src/es5/chart/series/hilo-open-close-series.js","../src/es5/chart/series/range-area-series.js","../src/es5/chart/series/bubble-series.js","../src/es5/chart/series/spline-series.js","../src/es5/chart/technical-indicators/indicator-base.js","../src/es5/chart/technical-indicators/sma-indicator.js","../src/es5/chart/technical-indicators/ema-indicator.js","../src/es5/chart/technical-indicators/tma-indicator.js","../src/es5/chart/technical-indicators/ad-indicator.js","../src/es5/chart/technical-indicators/atr-indicator.js","../src/es5/chart/technical-indicators/momentum-indicator.js","../src/es5/chart/technical-indicators/rsi-indicator.js","../src/es5/chart/technical-indicators/stochastic-indicator.js","../src/es5/chart/technical-indicators/bollinger-bands.js","../src/es5/chart/technical-indicators/macd-indicator.js","../src/es5/chart/trend-lines/trend-line.js","../src/es5/chart/user-interaction/crosshair.js","../src/es5/chart/user-interaction/tooltip.js","../src/es5/chart/user-interaction/zooming-toolkit.js","../src/es5/chart/user-interaction/zooming.js","../src/es5/common/selection/selection.js","../src/es5/chart/user-interaction/selection.js","../src/es5/chart/series/data-label.js","../src/es5/chart/series/error-bar.js","../src/es5/chart/legend/legend.js","../src/es5/common/annotation/annotation.js","../src/es5/chart/annotation/annotation.js","../src/es5/chart/series/box-and-whisker-series.js","../src/es5/accumulation-chart/renderer/accumulation-base.js","../src/es5/accumulation-chart/renderer/pie-base.js","../src/es5/accumulation-chart/renderer/pie-series.js","../src/es5/accumulation-chart/accumulation.js","../src/es5/accumulation-chart/renderer/triangular-base.js","../src/es5/accumulation-chart/renderer/funnel-series.js","../src/es5/accumulation-chart/renderer/pyramid-series.js","../src/es5/accumulation-chart/renderer/legend.js","../src/es5/accumulation-chart/renderer/dataLabel.js","../../node_modules/@syncfusion/ej2-buttons/dist/src/es5/button/button.js","../../node_modules/@syncfusion/ej2-buttons/dist/src/es5/check-box/check-box.js","../../node_modules/@syncfusion/ej2-buttons/dist/src/es5/radio-button/radio-button.js","../../node_modules/@syncfusion/ej2-popups/dist/src/es5/dialog/dialog.js","../../node_modules/@syncfusion/ej2-popups/dist/src/es5/tooltip/tooltip.js","../src/es5/accumulation-chart/user-interaction/tooltip.js","../src/es5/accumulation-chart/user-interaction/selection.js","../src/es5/accumulation-chart/annotation/annotation.js"],"sourcesContent":["var instances = 'ej2_instances';\nvar uid = 0;\n/**\n * Create Instance from constructor function with desired parameters.\n * @param {Function} classFunction - Class function to which need to create instance\n * @param {any[]} params - Parameters need to passed while creating instance\n * @return {any}\n * @private\n */\nexport function createInstance(classFunction, params) {\n    var arrayParam = params;\n    arrayParam.unshift(undefined);\n    return new (Function.prototype.bind.apply(classFunction, arrayParam));\n}\n/**\n * To run a callback function immediately after the browser has completed other operations.\n * @param {Function} handler - callback function to be triggered.\n * @return {Function}\n * @private\n */\nexport function setImmediate(handler) {\n    var unbind;\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    intCrypto.getRandomValues(num);\n    var secret = 'ej2' + combineArray(num);\n    var messageHandler = function (event) {\n        if (event.source === window && typeof event.data === 'string' && event.data.length <= 32 && event.data === secret) {\n            handler();\n            unbind();\n        }\n    };\n    window.addEventListener('message', messageHandler, false);\n    window.postMessage(secret, '*');\n    return unbind = function () {\n        window.removeEventListener('message', messageHandler);\n    };\n}\n/**\n * To get nameSpace value from the desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} obj - Object to get the inner object value.\n * @return {any}\n * @private\n */\nexport function getValue(nameSpace, obj) {\n    /* tslint:disable no-any */\n    var value = obj;\n    var splits = nameSpace.split('.');\n    for (var i = 0; i < splits.length && !isUndefined(value); i++) {\n        value = value[splits[i]];\n    }\n    return value;\n}\n/**\n * To set value for the nameSpace in desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} value - Value that you need to set.\n * @param {any} obj - Object to get the inner object value.\n * @return {void}\n * @private\n */\nexport function setValue(nameSpace, value, obj) {\n    var keys = nameSpace.split('.');\n    var start = obj || {};\n    var fromObj = start;\n    var i;\n    var length = keys.length;\n    var key;\n    for (i = 0; i < length; i++) {\n        key = keys[i];\n        if (i + 1 === length) {\n            fromObj[key] = value === undefined ? {} : value;\n        }\n        else if (isNullOrUndefined(fromObj[key])) {\n            fromObj[key] = {};\n        }\n        fromObj = fromObj[key];\n    }\n    return start;\n}\n/**\n * Delete an item from Object\n * @param {any} obj - Object in which we need to delete an item.\n * @param {string} params - String value to the get the inner object\n * @return {void}\n * @private\n */\nexport function deleteObject(obj, key) {\n    delete obj[key];\n}\n/**\n * Check weather the given argument is only object.\n * @param {any} obj - Object which is need to check.\n * @return {boolean}\n * @private\n */\nexport function isObject(obj) {\n    var objCon = {};\n    return (!isNullOrUndefined(obj) && obj.constructor === objCon.constructor);\n}\n/**\n * To get enum value by giving the string.\n * @param {any} enumObject - Enum object.\n * @param {string} enumValue - Enum value to be searched\n * @return {any}\n * @private\n */\nexport function getEnumValue(enumObject, enumValue) {\n    return enumObject[enumValue];\n}\n/**\n * Merge the source object into destination object.\n * @param {any} source - source object which is going to merge with destination object\n * @param {any} destination - object need to be merged\n * @return {void}\n * @private\n */\nexport function merge(source, destination) {\n    if (!isNullOrUndefined(destination)) {\n        var temrObj = source;\n        var tempProp = destination;\n        var keys = Object.keys(destination);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            temrObj[key] = tempProp[key];\n        }\n    }\n}\n/**\n * Extend the two object with newer one.\n * @param {any} copied - Resultant object after merged\n * @param {Object} first - First object need to merge\n * @param {Object} second - Second object need to merge\n * @return {Object}\n * @private\n */\nexport function extend(copied, first, second, deep) {\n    var result = copied || {};\n    var length = arguments.length;\n    if (deep) {\n        length = length - 1;\n    }\n    var _loop_1 = function (i) {\n        if (!arguments_1[i]) {\n            return \"continue\";\n        }\n        var obj1 = arguments_1[i];\n        Object.keys(obj1).forEach(function (key) {\n            var src = result[key];\n            var copy = obj1[key];\n            var clone;\n            if (deep && isObject(copy)) {\n                clone = isObject(src) ? src : {};\n                result[key] = extend({}, clone, copy, true);\n            }\n            else {\n                result[key] = copy;\n            }\n        });\n    };\n    var arguments_1 = arguments;\n    for (var i = 1; i < length; i++) {\n        _loop_1(i);\n    }\n    return result;\n}\n/**\n * To check whether the object is null or undefined.\n * @param {Object} value - To check the object is null or undefined\n * @return {boolean}\n * @private\n */\nexport function isNullOrUndefined(value) {\n    return value === undefined || value === null;\n}\n/**\n * To check whether the object is undefined.\n * @param {Object} value - To check the object is undefined\n * @return {boolean}\n * @private\n */\nexport function isUndefined(value) {\n    return ('undefined' === typeof value);\n}\n/**\n * To return the generated unique name\n * @param {string} definedName - To concatenate the unique id to provided name\n * @return {string}\n * @private\n */\nexport function getUniqueID(definedName) {\n    return definedName + '_' + uid++;\n}\n/**\n * It limits the rate at which a function can fire. The function will fire only once every provided second instead of as quickly.\n * @param {Function} eventFunction - Specifies the function to run when the event occurs\n * @param {number} delay - A number that specifies the milliseconds for function delay call option\n * @return {Function}\n * @private\n */\nexport function debounce(eventFunction, delay) {\n    var out;\n    // tslint:disable-next-line\n    return function () {\n        var _this = this;\n        var args = arguments;\n        var later = function () {\n            out = null;\n            return eventFunction.apply(_this, args);\n        };\n        clearTimeout(out);\n        out = setTimeout(later, delay);\n    };\n}\n// Added since lint ignored after added '//tslint:disable-next-line' \n/* tslint:disable:no-any */\n/**\n * To convert the object to string for query url\n * @param  {Object} data\n * @returns string\n * @private\n */\nexport function queryParams(data) {\n    var array = [];\n    var keys = Object.keys(data);\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n        var key = keys_2[_i];\n        array.push(encodeURIComponent(key) + '=' + encodeURIComponent('' + data[key]));\n    }\n    return array.join('&');\n}\n/**\n * To check whether the given array contains object.\n * @param {T[]} value- Specifies the T type array to be checked.\n * @private\n */\nexport function isObjectArray(value) {\n    var parser = Object.prototype.toString;\n    if (parser.call(value) === '[object Array]') {\n        if (parser.call(value[0]) === '[object Object]') {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * To check whether the  child element is descendant to parent element or parent and child are same element.\n * @param{Element} - Specifies the child element to compare with parent.\n * @param{Element} - Specifies the parent element.\n * @return boolean\n * @private\n */\nexport function compareElementParent(child, parent) {\n    var node = child;\n    if (node === parent) {\n        return true;\n    }\n    else if (node === document || !node) {\n        return false;\n    }\n    else {\n        return compareElementParent(node.parentNode, parent);\n    }\n}\n/**\n * To throw custom error message.\n * @param{string} - Specifies the error message to be thrown.\n * @private\n */\nexport function throwError(message) {\n    try {\n        throw new Error(message);\n    }\n    catch (e) {\n        throw e.message + '\\n' + e.stack;\n    }\n}\n/**\n * This function is used to print given element\n * @param{Element} element - Specifies the print content element.\n * @param{Window} printWindow - Specifies the print window.\n * @private\n */\nexport function print(element, printWindow) {\n    var div = document.createElement('div');\n    var links = [].slice.call(document.getElementsByTagName('head')[0].querySelectorAll('link, style'));\n    var reference = '';\n    if (isNullOrUndefined(printWindow)) {\n        printWindow = window.open('', 'print', 'height=452,width=1024,tabbar=no');\n    }\n    div.appendChild(element.cloneNode(true));\n    for (var i = 0, len = links.length; i < len; i++) {\n        reference += links[i].outerHTML;\n    }\n    printWindow.document.write('<!DOCTYPE html> <html><head>' + reference + '</head><body>' + div.innerHTML +\n        '<script> (function() { window.ready = true; })(); </script>' + '</body></html>');\n    printWindow.document.close();\n    printWindow.focus();\n    // tslint:disable-next-line\n    var interval = setInterval(function () {\n        if (printWindow.ready) {\n            printWindow.print();\n            printWindow.close();\n            clearInterval(interval);\n        }\n    }, 500);\n    return printWindow;\n}\n/**\n * Function to normalize the units applied to the element.\n * @param  {number|string} value\n * @return {string} result\n * @private\n */\nexport function formatUnit(value) {\n    var result = value + '';\n    if (result === 'auto' || result.indexOf('%') !== -1 || result.indexOf('px') !== -1) {\n        return result;\n    }\n    return result + 'px';\n}\n/**\n * Function to fetch the Instances of a HTML element for the given component.\n * @param {string | HTMLElement} element\n * @param {any} component\n * @return {Object} inst\n * @private\n */\n// tslint:disable-next-line\nexport function getInstance(element, component) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        for (var _i = 0, _a = elem[instances]; _i < _a.length; _i++) {\n            var inst = _a[_i];\n            if (inst instanceof component) {\n                return inst;\n            }\n        }\n    }\n    return null;\n}\n/**\n * Function to add instances for the given element.\n * @param {string | HTMLElement} element\n * @param {Object} instance\n * @return {void}\n * @private\n */\nexport function addInstance(element, instance) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        elem[instances].push(instance);\n    }\n    else {\n        elem[instances] = [instance];\n    }\n}\nfunction combineArray(num) {\n    var ret = '';\n    for (var i = 0; i < 5; i++) {\n        ret += (i ? ',' : '') + num[i];\n    }\n    return ret;\n}\n","/**\n * Functions related to dom operations.\n */\nimport { EventHandler } from './event-handler';\nimport { isNullOrUndefined } from './util';\n/**\n * Function to create Html element.\n * @param tagName - Name of the tag, id and class names.\n * @param properties - Object to set properties in the element.\n * @param properties.id - To set the id to the created element.\n * @param properties.className - To add classes to the element.\n * @param properties.innerHTML - To set the innerHTML to element.\n * @param properties.styles - To set the some custom styles to element.\n * @param properties.attrs - To set the attributes to element.\n * @private\n */\nexport function createElement(tagName, properties) {\n    var element = document.createElement(tagName);\n    if (typeof (properties) === 'undefined') {\n        return element;\n    }\n    element.innerHTML = (properties.innerHTML ? properties.innerHTML : '');\n    if (properties.className !== undefined) {\n        element.className = properties.className;\n    }\n    if (properties.id !== undefined) {\n        element.id = properties.id;\n    }\n    if (properties.styles !== undefined) {\n        element.setAttribute('style', properties.styles);\n    }\n    if (properties.attrs !== undefined) {\n        attributes(element, properties.attrs);\n    }\n    return element;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to add a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function addClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        for (var _b = 0, classList_1 = classList; _b < classList_1.length; _b++) {\n            var className = classList_1[_b];\n            if (!ele.classList.contains(className)) {\n                ele.classList.add(className);\n            }\n        }\n    }\n    return elements;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to remove a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function removeClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        if (ele.className !== '') {\n            for (var _b = 0, classList_2 = classList; _b < classList_2.length; _b++) {\n                var className = classList_2[_b];\n                ele.classList.remove(className);\n            }\n        }\n    }\n    return elements;\n}\nfunction getClassList(classes) {\n    var classList = [];\n    if (typeof classes === 'string') {\n        classList.push(classes);\n    }\n    else {\n        classList = classes;\n    }\n    return classList;\n}\n/**\n * The function used to check element is visible or not.\n * @param  {Element|Node} element - An element the need to check visibility\n * @private\n */\nexport function isVisible(element) {\n    var ele = element;\n    return (ele.style.visibility === '' && ele.offsetWidth > 0);\n}\n/**\n * The function used to insert an array of elements into a first of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to prepend.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function prepend(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.insertBefore(docFrag, toElement.firstElementChild);\n    return fromElements;\n}\n/**\n * The function used to insert an array of elements into last of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to append.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function append(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.appendChild(docFrag);\n    return fromElements;\n}\n/**\n * The function used to remove the element from the\n * @param  {Element|Node|HTMLElement} element - An element that is going to detach from the Dom\n * @private\n */\nexport function detach(element) {\n    var parentNode = element.parentNode;\n    return parentNode.removeChild(element);\n}\n/**\n * The function used to remove the element from Dom also clear the bounded events\n * @param  {Element|Node|HTMLElement} element - An element remove from the Dom\n * @private\n */\nexport function remove(element) {\n    var parentNode = element.parentNode;\n    EventHandler.clearEvents(element);\n    parentNode.removeChild(element);\n}\n/**\n * The function helps to set multiple attributes to an element\n * @param  {Element|Node} element - An element that need to set attributes.\n * @param  {{[key:string]:string}} attributes - JSON Object that is going to as attributes.\n * @private\n */\nexport function attributes(element, attributes) {\n    var keys = Object.keys(attributes);\n    var ele = element;\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        ele.setAttribute(key, attributes[key]);\n    }\n    return ele;\n}\n/**\n * The function selects the element from giving context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function select(selector, context) {\n    if (context === void 0) { context = document; }\n    return context.querySelector(selector);\n}\n/**\n * The function selects an array of element from the given context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function selectAll(selector, context) {\n    if (context === void 0) { context = document; }\n    var nodeList = context.querySelectorAll(selector);\n    return nodeList;\n}\n/**\n * Returns single closest parent element based on class selector.\n * @param  {Element} element - An element that need to find the closest element.\n * @param  {string} selector - A classSelector of closest element.\n * @private\n */\nexport function closest(element, selector) {\n    var el = element;\n    if (typeof el.closest === 'function') {\n        return el.closest(selector);\n    }\n    while (el && el.nodeType === 1) {\n        if (matches(el, selector)) {\n            return el;\n        }\n        el = el.parentNode;\n    }\n    return null;\n}\n/**\n * Returns all sibling elements of the given element.\n * @param  {Element|Node} element - An element that need to get siblings.\n * @private\n */\nexport function siblings(element) {\n    var siblings = [];\n    var childNodes = Array.prototype.slice.call(element.parentNode.childNodes);\n    for (var _i = 0, childNodes_1 = childNodes; _i < childNodes_1.length; _i++) {\n        var curNode = childNodes_1[_i];\n        if (curNode.nodeType === Node.ELEMENT_NODE && element !== curNode) {\n            siblings.push(curNode);\n        }\n    }\n    return siblings;\n}\n/**\n * set the value if not exist. Otherwise set the existing value\n * @param  {HTMLElement} element - An element to which we need to set value.\n * @param  {string} property - Property need to get or set.\n * @param  {string} value - value need to set.\n * @private\n */\nexport function getAttributeOrDefault(element, property, value) {\n    var attrVal = element.getAttribute(property);\n    if (isNullOrUndefined(attrVal)) {\n        element.setAttribute(property, value.toString());\n        attrVal = value;\n    }\n    return attrVal;\n}\n/**\n * Set the style attributes to Html element.\n * @param {HTMLElement} element - Element which we want to set attributes\n * @param {any} attrs - Set the given attributes to element\n * @return {void}\n * @private\n */\nexport function setStyleAttribute(element, attrs) {\n    if (attrs !== undefined) {\n        Object.keys(attrs).forEach(function (key) {\n            // tslint:disable-next-line:no-any\n            element.style[key] = attrs[key];\n        });\n    }\n}\n/**\n * Method for add and remove classes to a dom element.\n * @param {Element} element - Element for add and remove classes\n * @param {string[]} addClasses - List of classes need to be add to the element\n * @param {string[]} removeClasses - List of classes need to be remove from the element\n * @return {void}\n * @private\n */\nexport function classList(element, addClasses, removeClasses) {\n    addClass([element], addClasses);\n    removeClass([element], removeClasses);\n}\n/**\n * Method to check whether the element matches the given selector.\n * @param {Element} element - Element to compare with the selector.\n * @param {string} selector - String selector which element will satisfy.\n * @return {void}\n * @private\n */\nexport function matches(element, selector) {\n    var matches = element.matches || element.msMatchesSelector || element.webkitMatchesSelector;\n    if (matches) {\n        return matches.call(element, selector);\n    }\n    else {\n        return [].indexOf.call(document.querySelectorAll(selector), element) !== -1;\n    }\n}\n","import { createInstance, isUndefined, merge, extend, getValue } from './util';\n/**\n * Returns the Class Object\n * @param {ClassObject} instance - instance of ClassObject\n * @param {string} curKey - key of the current instance\n * @param {Object} defaultValue - default Value\n * @param {Object[]} type\n */\nfunction getObject(instance, curKey, defaultValue, type) {\n    if (!instance.properties.hasOwnProperty(curKey)) {\n        instance.properties[curKey] = createInstance(type, [instance, curKey, defaultValue]);\n    }\n    return instance.properties[curKey];\n}\n/**\n * Returns object array\n * @param {ClassObject} instance\n * @param {string} curKey\n * @param {Object[]} defaultValue\n * @param type\n * @param {boolean} isSetter\n * @returns {Object[]}\n */\nfunction getObjectArray(instance, curKey, defaultValue, type, isSetter, isFactory) {\n    var result = [];\n    var len = defaultValue.length;\n    for (var i = 0; i < len; i++) {\n        var curType = type;\n        if (isFactory) {\n            curType = type(defaultValue[i]);\n        }\n        if (isSetter) {\n            var inst = createInstance(curType, [instance, curKey, {}, true]);\n            inst.setProperties(defaultValue[i], true);\n            result.push(inst);\n        }\n        else {\n            result.push(createInstance(curType, [instance, curKey, defaultValue[i], true]));\n        }\n    }\n    return result;\n}\n/**\n * Returns the properties of the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertyGetter(defaultValue, curKey) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            this.properties[curKey] = defaultValue;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Set the properties for the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertySetter(defaultValue, curKey) {\n    return function (newValue) {\n        if (this.properties[curKey] !== newValue) {\n            var oldVal = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n            this.saveChanges(curKey, newValue, oldVal);\n            this.properties[curKey] = newValue;\n        }\n    };\n}\n/**\n * Returns complex objects\n */\nfunction complexGetter(defaultValue, curKey, type) {\n    return function () {\n        return getObject(this, curKey, defaultValue, type);\n    };\n}\n/**\n * Sets complex objects\n */\nfunction complexSetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        getObject(this, curKey, defaultValue, type).setProperties(newValue);\n    };\n}\nfunction complexFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        return getObject(this, curKey, defaultValue, curType);\n    };\n}\nfunction complexFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var curType = type(newValue);\n        getObject(this, curKey, defaultValue, curType).setProperties(newValue);\n    };\n}\nfunction complexArrayGetter(defaultValue, curKey, type) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, type, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\nfunction complexArraySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false, true);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, curType, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Method used to create property. General syntax below.\n * @param  {T} defaultValue? - Specifies the default value of property.\n * ```\n * @Property('TypeScript')\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Property(defaultValue) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: propertySetter(defaultValue, key),\n            get: propertyGetter(defaultValue, key),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'prop', defaultValue);\n    };\n}\n/**\n * Method used to create complex property. General syntax below.\n * @param  {T} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Complex<Type>({},Type)\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Complex(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexSetter(defaultValue, key, type),\n            get: complexGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex Factory property. General syntax below.\n * @param  {Function} defaultType - Specifies the default value of property.\n * @param  {Function} type - Specifies the class factory type of complex object.\n * ```\n * @ComplexFactory(defaultType, factoryFunction)\n * propertyName: Type1 | Type2;\n * ```\n * @private\n */\nexport function ComplexFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexFactorySetter({}, key, type),\n            get: complexFactoryGetter({}, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', {}, type);\n    };\n}\n/**\n * Method used to create complex array property. General syntax below.\n * @param  {T[]} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Collection(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArraySetter(defaultValue, key, type),\n            get: complexArrayGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex factory array property. General syntax below.\n * @param  {T[]} defaultType - Specifies the default type of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function CollectionFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArrayFactorySetter([], key, type),\n            get: complexArrayFactoryGetter([], key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', {}, type);\n    };\n}\n/**\n * Method used to create event property. General syntax below.\n * @param  {Function} defaultValue? - Specifies the default value of property.\n * @param  {boolean} isComplex? - Specifies the whether it is complex object.\n * ```\n * @Event(()=>{return true;})\n * ```\n * @private\n */\nexport function Event() {\n    return function (target, key) {\n        var eventDescriptor = {\n            set: function (newValue) {\n                var oldValue = this.properties[key];\n                if (oldValue !== newValue) {\n                    var finalContext = getParentContext(this, key);\n                    if (isUndefined(oldValue) === false) {\n                        finalContext.context.removeEventListener(finalContext.prefix, oldValue);\n                    }\n                    finalContext.context.addEventListener(finalContext.prefix, newValue);\n                    this.properties[key] = newValue;\n                }\n            },\n            get: propertyGetter(undefined, key),\n            enumerable: true,\n            configurable: true\n        };\n        Object.defineProperty(target, key, eventDescriptor);\n        addPropertyCollection(target, key, 'event');\n    };\n}\n/**\n * NotifyPropertyChanges is triggers the call back when the property has been changed.\n *\n * ```\n *  @NotifyPropertyChanges\n * class DemoClass implements INotifyPropertyChanged {\n *\n *     @Property()\n *     property1: string;\n *\n *     dataBind: () => void;\n *\n *     constructor() { }\n *\n *     onPropertyChanged(newProp: any, oldProp: any) {\n *         // Called when property changed\n *     }\n * }\n * ```\n * @private\n */\nexport function NotifyPropertyChanges(classConstructor) {\n    /** Need to code */\n}\n/**\n * Method  used to create the builderObject for the target component.\n * @private\n */\nfunction addPropertyCollection(target, key, propertyType, defaultValue, type) {\n    if (isUndefined(target.propList)) {\n        target.propList = {\n            props: [],\n            complexProps: [],\n            colProps: [],\n            events: [],\n            propNames: [],\n            complexPropNames: [],\n            colPropNames: [],\n            eventNames: []\n        };\n    }\n    /* tslint:disable no-any */\n    target.propList[propertyType + 's'].push({\n        propertyName: key,\n        defaultValue: defaultValue,\n        type: type\n    });\n    target.propList[propertyType + 'Names'].push(key);\n    /* tslint:enable no-any */\n}\n/**\n * Returns an object containing the builder properties\n * @param {Function} component\n * @private\n */\nfunction getBuilderProperties(component) {\n    if (isUndefined(component.prototype.builderObject)) {\n        component.prototype.builderObject = {\n            properties: {}, propCollections: [], add: function () {\n                this.isPropertyArray = true;\n                this.propCollections.push(extend({}, this.properties, {}));\n            }\n        };\n        var rex = /complex/;\n        for (var _i = 0, _a = Object.keys(component.prototype.propList); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var _loop_1 = function (prop) {\n                if (rex.test(key)) {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        var childType = {};\n                        merge(childType, getBuilderProperties(prop.type));\n                        value(childType);\n                        var tempValue;\n                        if (!childType.isPropertyArray) {\n                            tempValue = extend({}, childType.properties, {});\n                        }\n                        else {\n                            tempValue = childType.propCollections;\n                        }\n                        this.properties[prop.propertyName] = tempValue;\n                        childType.properties = {};\n                        childType.propCollections = [];\n                        childType.isPropertyArray = false;\n                        return this;\n                    };\n                }\n                else {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        this.properties[prop.propertyName] = value;\n                        return this;\n                    };\n                }\n            };\n            for (var _b = 0, _c = component.prototype.propList[key]; _b < _c.length; _b++) {\n                var prop = _c[_b];\n                _loop_1(prop);\n            }\n        }\n    }\n    return component.prototype.builderObject;\n}\n/**\n * Method used to create builder for the components\n * @param {any} component -specifies the target component for which builder to be created.\n * @private\n */\nexport function CreateBuilder(component) {\n    var builderFunction = function (element) {\n        this.element = element;\n        return this;\n    };\n    var instanceFunction = function (element) {\n        if (!builderFunction.prototype.hasOwnProperty('create')) {\n            builderFunction.prototype = getBuilderProperties(component);\n            builderFunction.prototype.create = function () {\n                var temp = extend({}, {}, this.properties);\n                this.properties = {};\n                return new component(temp, this.element);\n            };\n        }\n        return new builderFunction(element);\n    };\n    return instanceFunction;\n}\n/**\n * Returns parent options for the object\n * @param {Object} context\n * @param {string} prefix\n * @private\n */\nfunction getParentContext(context, prefix) {\n    if (context.hasOwnProperty('parentObj') === false) {\n        return { context: context, prefix: prefix };\n    }\n    else {\n        var curText = getValue('propName', context);\n        if (curText) {\n            prefix = curText + '-' + prefix;\n        }\n        return getParentContext(getValue('parentObj', context), prefix);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, selectAll, closest } from './dom';\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { EventHandler } from './event-handler';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\n/**\n * The Animation framework provide options to animate the html DOM elements\n * ```typescript\n *   let animeObject = new Animation({\n *      name: 'SlideLeftIn',\n *      duration: 1000\n *   });\n *   animeObject.animate('#anime1');\n *   animeObject.animate('#anime2', { duration: 500 });\n * ```\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation(options) {\n        var _this = _super.call(this, options, undefined) || this;\n        /**\n         * @private\n         */\n        _this.easing = {\n            ease: 'cubic-bezier(0.250, 0.100, 0.250, 1.000)',\n            linear: 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\n            easeIn: 'cubic-bezier(0.420, 0.000, 1.000, 1.000)',\n            easeOut: 'cubic-bezier(0.000, 0.000, 0.580, 1.000)',\n            easeInOut: 'cubic-bezier(0.420, 0.000, 0.580, 1.000)',\n            elasticInOut: 'cubic-bezier(0.5,-0.58,0.38,1.81)',\n            elasticIn: 'cubic-bezier(0.17,0.67,0.59,1.81)',\n            elasticOut: 'cubic-bezier(0.7,-0.75,0.99,1.01)'\n        };\n        return _this;\n    }\n    Animation_1 = Animation;\n    /**\n     * Applies animation to the current element.\n     * @param {string | HTMLElement} element - Element which needs to be animated.\n     * @param {AnimationModel} options - Overriding default animation settings.\n     * @return {void}\n     */\n    Animation.prototype.animate = function (element, options) {\n        options = !options ? {} : options;\n        var model = this.getModel(options);\n        if (typeof element === 'string') {\n            var elements = Array.prototype.slice.call(selectAll(element, document));\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var element_1 = elements_1[_i];\n                model.element = element_1;\n                Animation_1.delayAnimation(model);\n            }\n        }\n        else {\n            model.element = element;\n            Animation_1.delayAnimation(model);\n        }\n    };\n    /**\n     * Stop the animation effect on animated element.\n     * @param {HTMLElement} element - Element which needs to be stop the animation.\n     * @param {AnimationOptions} model - Handling the animation model at stop function.\n     * @return {void}\n     */\n    Animation.stop = function (element, model) {\n        element.style.animation = '';\n        element.removeAttribute('e-animate');\n        var animationId = element.getAttribute('e-animation-id');\n        if (animationId) {\n            var frameId = parseInt(animationId, 10);\n            cancelAnimationFrame(frameId);\n            element.removeAttribute('e-animation-id');\n        }\n        if (model && model.end) {\n            model.end.call(this, model);\n        }\n    };\n    /**\n     * Set delay to animation element\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.delayAnimation = function (model) {\n        if (model.delay) {\n            setTimeout(function () { Animation_1.applyAnimation(model); }, model.delay);\n        }\n        else {\n            Animation_1.applyAnimation(model);\n        }\n    };\n    /**\n     * Triggers animation\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.applyAnimation = function (model) {\n        var _this = this;\n        model.timeStamp = 0;\n        var step = 0;\n        var timerId = 0;\n        var startTime = 0;\n        var prevTimeStamp = 0;\n        var duration = model.duration;\n        model.element.setAttribute('e-animate', 'true');\n        var startAnimation = function (timeStamp) {\n            try {\n                if (timeStamp) {\n                    // let step: number = model.timeStamp = timeStamp - startTime;\n                    /** phantomjs workaround for timestamp fix */\n                    prevTimeStamp = prevTimeStamp === 0 ? timeStamp : prevTimeStamp;\n                    model.timeStamp = (timeStamp + model.timeStamp) - prevTimeStamp;\n                    prevTimeStamp = timeStamp;\n                    /** phantomjs workaround end */\n                    // trigger animation begin event\n                    if (!step && model.begin) {\n                        model.begin.call(_this, model);\n                    }\n                    step = step + 1;\n                    var avg = model.timeStamp / step;\n                    if (model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute('e-animate')) {\n                        // apply animation effect to the current element                \n                        model.element.style.animation = model.name + ' ' + model.duration + 'ms ' + model.timingFunction;\n                        if (model.progress) {\n                            model.progress.call(_this, model);\n                        }\n                        // repeat requestAnimationFrame \n                        requestAnimationFrame(startAnimation);\n                    }\n                    else {\n                        // clear requestAnimationFrame\n                        cancelAnimationFrame(timerId);\n                        model.element.removeAttribute('e-animation-id');\n                        model.element.removeAttribute('e-animate');\n                        model.element.style.animation = '';\n                        if (model.end) {\n                            model.end.call(_this, model);\n                        }\n                    }\n                }\n                else {\n                    startTime = performance.now();\n                    // set initial requestAnimationFrame\n                    timerId = requestAnimationFrame(startAnimation);\n                    model.element.setAttribute('e-animation-id', timerId.toString());\n                }\n            }\n            catch (e) {\n                cancelAnimationFrame(timerId);\n                model.element.removeAttribute('e-animation-id');\n                if (model.fail) {\n                    model.fail.call(_this, e);\n                }\n            }\n        };\n        startAnimation();\n    };\n    /**\n     * Returns Animation Model\n     * @param {AnimationModel} options\n     * @returns {AnimationModel}\n     */\n    Animation.prototype.getModel = function (options) {\n        return {\n            name: options.name || this.name,\n            delay: options.delay || this.delay,\n            duration: (options.duration !== undefined ? options.duration : this.duration),\n            begin: options.begin || this.begin,\n            end: options.end || this.end,\n            fail: options.fail || this.fail,\n            progress: options.progress || this.progress,\n            timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] :\n                (options.timingFunction || this.easing[this.timingFunction])\n        };\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // no code needed\n    };\n    /**\n     * Returns module name as animation\n     * @private\n     */\n    Animation.prototype.getModuleName = function () {\n        return 'animation';\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.destroy = function () {\n        //Override base destroy;\n    };\n    __decorate([\n        Property('FadeIn')\n    ], Animation.prototype, \"name\", void 0);\n    __decorate([\n        Property(400)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], Animation.prototype, \"timingFunction\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"fail\", void 0);\n    Animation = Animation_1 = __decorate([\n        NotifyPropertyChanges\n    ], Animation);\n    return Animation;\n    var Animation_1;\n}(Base));\nexport { Animation };\n/**\n * Ripple provides material theme's wave effect when an element is clicked\n * ```html\n * <div id='ripple'></div>\n * <script>\n *   rippleEffect(document.getElementById('ripple'));\n * </script>\n * ```\n * @private\n * @param HTMLElement element - Target element\n * @param RippleOptions rippleOptions - Ripple options .\n */\nexport function rippleEffect(element, rippleOptions, done) {\n    var rippleModel = getRippleModel(rippleOptions);\n    if (rippleModel.rippleFlag === false || (rippleModel.rippleFlag === undefined && !isRippleEnabled)) {\n        return Function;\n    }\n    element.setAttribute('data-ripple', 'true');\n    EventHandler.add(element, 'mousedown', rippleHandler, { parent: element, rippleOptions: rippleModel });\n    EventHandler.add(element, 'mouseup', rippleUpHandler, { parent: element, rippleOptions: rippleModel, done: done });\n    EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    if (Browser.isPointer) {\n        EventHandler.add(element, 'transitionend', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    }\n    return (function () {\n        element.removeAttribute('data-ripple');\n        EventHandler.remove(element, 'mousedown', rippleHandler);\n        EventHandler.remove(element, 'mouseup', rippleUpHandler);\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n        EventHandler.remove(element, 'transitionend', rippleLeaveHandler);\n    });\n}\nfunction getRippleModel(rippleOptions) {\n    var rippleModel = {\n        selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,\n        ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,\n        rippleFlag: rippleOptions && rippleOptions.rippleFlag,\n        isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,\n        duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350\n    };\n    return rippleModel;\n}\n/**\n * Handler for ripple event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleHandler(e) {\n    var target = (e.target);\n    var selector = this.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (this.rippleOptions && closest(target, this.rippleOptions.ignore))) {\n        return;\n    }\n    var offset = element.getBoundingClientRect();\n    var offsetX = e.pageX - document.body.scrollLeft;\n    var offsetY = e.pageY - document.body.scrollTop;\n    var pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right));\n    var pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom));\n    var radius = Math.sqrt(pageX * pageX + pageY * pageY);\n    var diameter = radius * 2 + 'px';\n    var x = offsetX - offset.left - radius;\n    var y = offsetY - offset.top - radius;\n    if (this.rippleOptions && this.rippleOptions.isCenterRipple) {\n        x = 0;\n        y = 0;\n        diameter = '100%';\n    }\n    element.classList.add('e-ripple');\n    var duration = this.rippleOptions.duration.toString();\n    var styles = 'width: ' + diameter + ';height: ' + diameter + ';left: ' + x + 'px;top: ' + y + 'px;' +\n        'transition-duration: ' + duration + 'ms;';\n    var rippleElement = createElement('div', { className: 'e-ripple-element', styles: styles });\n    element.appendChild(rippleElement);\n    window.getComputedStyle(rippleElement).getPropertyValue('opacity');\n    rippleElement.style.transform = 'scale(1)';\n    if (element !== this.parent) {\n        EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: this.parent, rippleOptions: this.rippleOptions });\n    }\n}\n/**\n * Handler for ripple element mouse up event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleUpHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for ripple element mouse move event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleLeaveHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for removing ripple element\n * @param {MouseEvent} e\n * @param {rippleArgs} eventArgs\n * @returns {void}\n * @private\n */\nfunction removeRipple(e, eventArgs) {\n    var duration = eventArgs.rippleOptions.duration;\n    var target = (e.target);\n    var selector = eventArgs.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (element && element.className.indexOf('e-ripple') === -1)) {\n        return;\n    }\n    var rippleElements = selectAll('.e-ripple-element', element);\n    var rippleElement = rippleElements[rippleElements.length - 1];\n    if (rippleElement) {\n        rippleElement.style.opacity = '0.5';\n    }\n    if (eventArgs.parent !== element) {\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n    }\n    /* tslint:disable:align */\n    setTimeout(function () {\n        if (rippleElement && rippleElement.parentNode) {\n            rippleElement.parentNode.removeChild(rippleElement);\n        }\n        if (!element.getElementsByClassName('e-ripple-element').length) {\n            element.classList.remove('e-ripple');\n        }\n        if (eventArgs.done) {\n            eventArgs.done(e);\n        }\n    }, duration);\n}\nexport var isRippleEnabled = false;\n/**\n * Animation Module provides support to enable ripple effect functionality to Essential JS 2 components.\n * @param {boolean} isRipple Specifies the boolean value to enable or disable ripple effect.\n * @returns {boolean}\n */\nexport function enableRipple(isRipple) {\n    isRippleEnabled = isRipple;\n    return isRippleEnabled;\n}\n","import { DateFormat } from './intl/date-formatter';\nimport { NumberFormat } from './intl/number-formatter';\nimport { DateParser } from './intl/date-parser';\nimport { NumberParser } from './intl/number-parser';\nimport { IntlBase } from './intl/intl-base';\nimport { extend, getValue } from './util';\nimport { Observer } from './observer';\n/**\n * Specifies the observer used for external change detection.\n */\nexport var onIntlChange = new Observer();\n/**\n * Specifies the default rtl status for EJ2 components.\n */\nexport var rightToLeft = false;\n/**\n * Specifies the CLDR data loaded for internationalization functionalities.\n * @private\n */\nexport var cldrData = {};\n/**\n * Specifies the default culture value to be considered.\n * @private\n */\nexport var defaultCulture = 'en-US';\n/**\n * Specifies default currency code to be considered\n * @private\n */\nexport var defaultCurrencyCode = 'USD';\nvar mapper = ['numericObject', 'dateObject'];\n/**\n * Internationalization class provides support to parse and format the number and date object to the desired format.\n * ```typescript\n * // To set the culture globally\n * setCulture('en-GB');\n *\n * // To set currency code globally\n * setCurrencyCode('EUR');\n *\n * //Load cldr data\n * loadCldr(gregorainData);\n * loadCldr(timeZoneData);\n * loadCldr(numbersData);\n * loadCldr(numberSystemData);\n *\n * // To use formatter in component side\n * let Intl:Internationalization = new Internationalization();\n *\n * // Date formatting\n * let dateFormatter: Function = Intl.getDateFormat({skeleton:'long',type:'dateTime'});\n * dateFormatter(new Date('11/2/2016'));\n * dateFormatter(new Date('25/2/2030'));\n * Intl.formatDate(new Date(),{skeleton:'E'});\n *\n * //Number formatting\n * let numberFormatter: Function = Intl.getNumberFormat({skeleton:'C5'})\n * numberFormatter(24563334);\n * Intl.formatNumber(123123,{skeleton:'p2'});\n *\n * // Date parser\n * let dateParser: Function = Intl.getDateParser({skeleton:'short',type:'time'});\n * dateParser('10:30 PM');\n * Intl.parseDate('10',{skeleton:'H'});\n * ```\n */\nvar Internationalization = /** @class */ (function () {\n    function Internationalization(cultureName) {\n        if (cultureName) {\n            this.culture = cultureName;\n        }\n    }\n    /**\n     * Returns the format function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getDateFormat = function (options) {\n        return DateFormat.dateFormat(this.getCulture(), options || { type: 'date', skeleton: 'short' }, cldrData);\n    };\n    /**\n     * Returns the format function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberFormat = function (options) {\n        if (options && !options.currency) {\n            options.currency = defaultCurrencyCode;\n        }\n        return NumberFormat.numberFormatter(this.getCulture(), options || {}, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     * @private\n     */\n    Internationalization.prototype.getDateParser = function (options) {\n        return DateParser.dateParser(this.getCulture(), options || { skeleton: 'short', type: 'date' }, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberParser = function (options) {\n        return NumberParser.numberParser(this.getCulture(), options || { format: 'N' }, cldrData);\n    };\n    /**\n     * Returns the formatted string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {NumberFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatNumber = function (value, option) {\n        return this.getNumberFormat(option)(value);\n    };\n    /**\n     * Returns the formatted date string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {DateFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatDate = function (value, option) {\n        return this.getDateFormat(option)(value);\n    };\n    /**\n     * Returns the date object for given date string and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {DateFormatOptions} option - Specifies the parse options in which the date string will be parsed.\n     * @returns {Date}\n     */\n    Internationalization.prototype.parseDate = function (value, option) {\n        return this.getDateParser(option)(value);\n    };\n    /**\n     * Returns the number object from the given string value and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {NumberFormatOptions} option - Specifies the parse options in which the  string number  will be parsed.\n     * @returns {number}\n     */\n    Internationalization.prototype.parseNumber = function (value, option) {\n        return this.getNumberParser(option)(value);\n    };\n    /**\n     * Returns Native Date Time Pattern\n     * @param {DateFormatOptions} option - Specifies the parse options for resultant date time pattern.\n     * @param {boolean} isExcelFormat - Specifies format value to be converted to excel pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getDatePattern = function (option, isExcelFormat) {\n        return IntlBase.getActualDateTimeFormat(this.getCulture(), option, cldrData, isExcelFormat);\n    };\n    /**\n     * Returns Native Number Pattern\n     * @param {NumberFormatOptions} option - Specifies the parse options for resultant number pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getNumberPattern = function (option) {\n        return IntlBase.getActualNumberFormat(this.getCulture(), option, cldrData);\n    };\n    Internationalization.prototype.getCulture = function () {\n        return this.culture || defaultCulture;\n    };\n    return Internationalization;\n}());\nexport { Internationalization };\n/**\n * Set the default culture to all EJ2 components\n * @param {string} cultureName - Specifies the culture name to be set as default culture.\n */\nexport function setCulture(cultureName) {\n    defaultCulture = cultureName;\n    onIntlChange.notify('notifyExternalChange', { 'locale': defaultCulture });\n}\n/**\n * Set the default currency code to all EJ2 components\n * @param {string} currencyCode Specifies the culture name to be set as default culture.\n * @returns {void}\n */\nexport function setCurrencyCode(currencyCode) {\n    defaultCurrencyCode = currencyCode;\n    onIntlChange.notify('notifyExternalChange', { 'currencyCode': defaultCurrencyCode });\n}\n/**\n * Load the CLDR data into context\n * @param {Object[]} obj Specifies the CLDR data's to be used for formatting and parser.\n * @returns {void}\n */\nexport function loadCldr() {\n    var data = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        data[_i] = arguments[_i];\n    }\n    for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n        var obj = data_1[_a];\n        extend(cldrData, obj, {}, true);\n    }\n}\n/**\n * To enable or disable RTL functionality for all components globally.\n * @param {boolean} status - Optional argument Specifies the status value to enable or disable rtl option.\n * @returns {void}\n */\nexport function enableRtl(status) {\n    if (status === void 0) { status = true; }\n    rightToLeft = status;\n    onIntlChange.notify('notifyExternalChange', { enableRtl: rightToLeft });\n}\n/**\n * To get the numeric CLDR object for given culture\n * @param {string} locale - Specifies the locale for which numericObject to be returned.\n * @ignore\n * @private\n */\nexport function getNumericObject(locale, type) {\n    /* tslint:disable no-any */\n    var numObject = IntlBase.getDependables(cldrData, locale, true)[mapper[0]];\n    var dateObject = IntlBase.getDependables(cldrData, locale)[mapper[1]];\n    var numSystem = getValue('defaultNumberingSystem', numObject);\n    var symbPattern = getValue('symbols-numberSystem-' + numSystem, numObject);\n    var pattern = IntlBase.getSymbolPattern(type || 'decimal', numSystem, numObject, false);\n    return extend(symbPattern, IntlBase.getFormatData(pattern, true, '', true), { 'dateSeparator': IntlBase.getDateSeparator(dateObject) });\n}\n/**\n * To get the default date CLDR object.\n * @ignore\n * @private\n */\nexport function getDefaultDateObject() {\n    return IntlBase.getDependables(cldrData, '', false)[mapper[1]];\n}\n","/**\n * Template Engine\n */\nvar LINES = new RegExp('\\\\n|\\\\r|\\\\s\\\\s+', 'g');\nvar QUOTES = new RegExp(/'|\"/g);\nvar IF_STMT = new RegExp('if ?\\\\(');\nvar ELSE_STMT = new RegExp('else');\nvar FOR_STMT = new RegExp('for ?\\\\(');\nvar IF_OR_FOR = new RegExp('(\\/if|\\/for)');\nvar CALL_FUNCTION = new RegExp('\\\\((.*)\\\\)', '');\nvar NOT_NUMBER = new RegExp('^[0-9]+$', 'g');\nvar WORD = new RegExp('[\\\\w\"\\'.\\\\s+]+', 'g');\nvar DBL_QUOTED_STR = new RegExp('\"(.*?)\"', 'g');\nvar exp = new RegExp('\\\\${([^}]*)}', 'g');\n// let cachedTemplate: Object = {};\n/**\n * The function to set regular expression for template expression string.\n * @param  {RegExp} value - Value expression.\n * @private\n */\nexport function expression(value) {\n    if (value) {\n        exp = value;\n    }\n    return exp;\n}\n// /**\n//  * To render the template string from the given data.\n//  * @param  {string} template - String Template.\n//  * @param  {Object[]|JSON} data - DataSource for the template.\n//  * @param  {Object} helper? - custom helper object.\n//  */\n// export function template(template: string, data: JSON, helper?: Object): string {\n//     let hash: string = hashCode(template);\n//     let tmpl: Function;\n//     if (!cachedTemplate[hash]) {\n//         tmpl = cachedTemplate[hash] = compile(template, helper);\n//     } else {\n//         tmpl = cachedTemplate[hash];\n//     }\n//     return tmpl(data);\n// }\n/**\n * Compile the template string into template function.\n * @param  {string} template - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\nexport function compile(template, helper) {\n    var argName = 'data';\n    var evalExpResult = evalExp(template, argName, helper);\n    var fnCode = \"var str=\\\"\" + evalExpResult + \"\\\"; return str;\";\n    // tslint:disable-next-line:no-function-constructor-with-string-args\n    var fn = new Function(argName, fnCode);\n    return fn.bind(helper);\n}\n// function used to evaluate the function expression\nfunction evalExp(str, nameSpace, helper) {\n    /**\n     * Variable containing Local Keys\n     */\n    var localKeys = [];\n    return str.replace(LINES, '').replace(DBL_QUOTED_STR, '\\'$1\\'').replace(exp, function (match, cnt, offset, matchStr) {\n        var matches = cnt.match(CALL_FUNCTION);\n        // matches to detect any function calls\n        if (matches) {\n            var rlStr = matches[1];\n            if (IF_STMT.test(cnt)) {\n                //handling if condition\n                cnt = '\"; ' + cnt.replace(matches[1], rlStr.replace(WORD, function (str) {\n                    str = str.trim();\n                    return addNameSpace(str, !(QUOTES.test(str)) && (localKeys.indexOf(str) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (FOR_STMT.test(cnt)) {\n                //handling for condition\n                var rlStr_1 = matches[1].split(' of ');\n                // replace for each into actual JavaScript\n                cnt = '\"; ' + cnt.replace(matches[1], function (mtc) {\n                    localKeys.push(rlStr_1[0]);\n                    localKeys.push(rlStr_1[0] + 'Index');\n                    return 'var i=0; i < ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys) + '.length; i++';\n                }) + '{ \\n ' + rlStr_1[0] + '= ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys)\n                    + '[i]; \\n var ' + rlStr_1[0] + 'Index=i; \\n str = str + \"';\n            }\n            else {\n                //helper function handling\n                var fnStr = cnt.split('(');\n                var fNameSpace = (helper && helper.hasOwnProperty(fnStr[0]) ? 'this.' : 'global');\n                fNameSpace = (/\\./.test(fnStr[0]) ? '' : fNameSpace);\n                cnt = '\" + ' + (fNameSpace === 'global' ? '' : fNameSpace) +\n                    cnt.replace(rlStr, addNameSpace(matches[1].replace(',', nameSpace + '.'), (fNameSpace === 'global' ? false : true), nameSpace, localKeys)) +\n                    '+\"';\n            }\n        }\n        else if (ELSE_STMT.test(cnt)) {\n            //handling else condition\n            cnt = '\"; ' + cnt.replace(ELSE_STMT, '} else { \\n str = str + \"');\n        }\n        else if (!!cnt.match(IF_OR_FOR)) {\n            // close condition \n            cnt = cnt.replace(IF_OR_FOR, '\"; \\n } \\n str = str + \"');\n        }\n        else {\n            // evaluate normal expression\n            cnt = '\"+' + addNameSpace(cnt, (localKeys.indexOf(cnt) === -1), nameSpace, localKeys) + '+\"';\n        }\n        return cnt;\n    });\n}\nfunction addNameSpace(str, addNS, nameSpace, ignoreList) {\n    return ((addNS && !(NOT_NUMBER.test(str)) && ignoreList.indexOf(str.split('.')[0]) === -1) ? nameSpace + '.' + str : str);\n}\n// // Create hashCode for template string to storeCached function\n// function hashCode(str: string): string {\n//     return str.split('').reduce((a: number, b: string) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a; }, 0).toString();\n// }\n","/**\n * Template Engine Bridge\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nvar HAS_ROW = /^[\\n\\r.]+\\<tr|^\\<tr/;\n/**\n * Compile the template string into template function.\n * @param  {string} templateString - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\n//tslint:disable-next-line\nexport function compile(templateString, helper) {\n    var compiler = engineObj.compile(templateString, helper);\n    //tslint:disable-next-line\n    return function (data, component, propName) {\n        var result = compiler(data, component, propName);\n        if (typeof result === 'string') {\n            var ele = createElement((HAS_ROW.test(result) ? 'table' : 'div'), { innerHTML: result });\n            return ele.childNodes;\n        }\n        else {\n            return result;\n        }\n    };\n}\n/**\n * Set your custom template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function setTemplateEngine(classObj) {\n    engineObj.compile = classObj.compile;\n}\n/**\n * Get current template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function getTemplateEngine() {\n    return engineObj.compile;\n}\n//Default Engine Class\nvar Engine = /** @class */ (function () {\n    function Engine() {\n    }\n    Engine.prototype.compile = function (templateString, helper) {\n        if (helper === void 0) { helper = {}; }\n        return render(templateString, helper);\n    };\n    return Engine;\n}());\nvar engineObj = { compile: new Engine().compile };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { SvgRenderer, Animation, compile as templateComplier } from '@syncfusion/ej2-base';\nimport { merge } from '@syncfusion/ej2-base';\nimport { createElement, remove } from '@syncfusion/ej2-base';\n/**\n * Methods for calculating the text size.\n */\n/**\n * Function to measure the height and width of the text.\n * @param  {string} text\n * @param  {FontModel} font\n * @param  {string} id\n * @returns no\n * @private\n */\nexport function measureText(text, font) {\n    var htmlObject = document.getElementById('chartmeasuretext');\n    if (htmlObject === null) {\n        htmlObject = createElement('text', { id: 'chartmeasuretext' });\n        document.body.appendChild(htmlObject);\n    }\n    htmlObject.innerHTML = text;\n    htmlObject.style.position = 'absolute';\n    htmlObject.style.fontSize = font.size;\n    htmlObject.style.fontWeight = font.fontWeight;\n    htmlObject.style.fontStyle = font.fontStyle;\n    htmlObject.style.fontFamily = font.fontFamily;\n    htmlObject.style.visibility = 'hidden';\n    htmlObject.style.top = '-100';\n    htmlObject.style.left = '0';\n    htmlObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    htmlObject.style.lineHeight = 'normal';\n    return new Size(htmlObject.clientWidth, htmlObject.clientHeight);\n}\n/** @private */\nexport function rotateTextSize(font, text, angle, chart) {\n    var renderer = new SvgRenderer(chart.element.id);\n    var box;\n    var options;\n    var htmlObject;\n    options = {\n        'font-size': font.size,\n        'font-style': font.fontStyle,\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight,\n        'transform': 'rotate(' + angle + ', 0, 0)',\n        'text-anchor': 'middle'\n    };\n    htmlObject = renderer.createText(options, text);\n    if (!chart.delayRedraw) {\n        chart.element.appendChild(chart.svgObject);\n    }\n    chart.svgObject.appendChild(htmlObject);\n    box = htmlObject.getBoundingClientRect();\n    remove(htmlObject);\n    if (!chart.delayRedraw) {\n        remove(chart.svgObject);\n    }\n    return new Size((box.right - box.left), (box.bottom - box.top));\n}\n/** @private */\nexport function removeElement(id) {\n    var element = getElement(id);\n    if (element) {\n        remove(element);\n    }\n}\n/** @private */\nexport function logBase(value, base) {\n    return Math.log(value) / Math.log(base);\n}\n/** @private */\nexport function showTooltip(text, x, y, areaWidth, id, element, isTouch) {\n    //let id1: string = 'EJ2_legend_tooltip';\n    var tooltip = document.getElementById(id);\n    var width = measureText(text, {\n        fontFamily: 'Segoe UI', size: '12px',\n        fontStyle: 'Normal', fontWeight: 'Regular'\n    }).width + 5;\n    x = (x + width > areaWidth) ? x - width : x;\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            innerHTML: text,\n            id: id,\n            styles: 'top:' + (y + 15).toString() + 'px;left:' + (x + 15).toString() + 'px;background-color: rgb(255, 255, 255);' +\n                'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;' +\n                'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: \"Segoe UI\"'\n        });\n        element.appendChild(tooltip);\n    }\n    else {\n        tooltip.innerHTML = text;\n        tooltip.style.top = (y + 15).toString() + 'px';\n        tooltip.style.left = (x + 15).toString() + 'px';\n    }\n    if (isTouch) {\n        setTimeout(function () { removeElement(id); }, 1500);\n    }\n}\n/** @private */\nexport function inside(value, range) {\n    return (value < range.max) && (value > range.min);\n}\n/** @private */\nexport function withIn(value, range) {\n    return (value <= range.max) && (value >= range.min);\n}\n/** @private */\nexport function withInRange(previousPoint, currentPoint, nextPoint, series) {\n    var mX2 = series.logWithIn(currentPoint.xValue, series.xAxis);\n    var mX1 = previousPoint ? series.logWithIn(previousPoint.xValue, series.xAxis) : mX2;\n    var mX3 = nextPoint ? series.logWithIn(nextPoint.xValue, series.xAxis) : mX2;\n    var xStart = Math.floor(series.xAxis.visibleRange.min);\n    var xEnd = Math.ceil(series.xAxis.visibleRange.max);\n    return ((mX1 >= xStart && mX1 <= xEnd) || (mX2 >= xStart && mX2 <= xEnd) ||\n        (mX3 >= xStart && mX3 <= xEnd) || (xStart >= mX1 && xStart <= mX3));\n}\n/** @private */\nexport function sum(values) {\n    var sum = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        sum += value;\n    }\n    return sum;\n}\n/** @private */\nexport function subArraySum(values, first, last, index, series) {\n    var sum = 0;\n    if (index !== null) {\n        for (var i = (first + 1); i < last; i++) {\n            if (index.indexOf(i) === -1) {\n                sum += values[i][series.yName];\n            }\n        }\n    }\n    else {\n        for (var i = (first + 1); i < last; i++) {\n            sum += values[i][series.yName];\n        }\n    }\n    return sum;\n}\n/** @private */\nexport function subtractThickness(rect, thickness) {\n    rect.x += thickness.left;\n    rect.y += thickness.top;\n    rect.width -= thickness.left + thickness.right;\n    rect.height -= thickness.top + thickness.bottom;\n    return rect;\n}\n/** @private */\nexport function subtractRect(rect, thickness) {\n    rect.x += thickness.x;\n    rect.y += thickness.y;\n    rect.width -= thickness.x + thickness.width;\n    rect.height -= thickness.y + thickness.height;\n    return rect;\n}\n/** @private */\nexport function degreeToLocation(degree, radius, center) {\n    var radian = (degree * Math.PI) / 180;\n    return new ChartLocation(Math.cos(radian) * radius + center.x, Math.sin(radian) * radius + center.y);\n}\nfunction getAccumulationLegend(locX, locY, r, height, width, mode) {\n    var cartesianlarge = degreeToLocation(270, r, new ChartLocation(locX, locY));\n    var cartesiansmall = degreeToLocation(270, r, new ChartLocation(locX + (width / 10), locY));\n    return 'M' + ' ' + locX + ' ' + locY + ' ' + 'L' + ' ' + (locX + r) + ' ' + (locY) + ' ' + 'A' + ' ' + (r) + ' ' + (r) +\n        ' ' + 0 + ' ' + 1 + ' ' + 1 + ' ' + cartesianlarge.x + ' ' + cartesianlarge.y + ' ' + 'Z' + ' ' + 'M' + ' ' + (locX +\n        (width / 10)) + ' ' + (locY - (height / 10)) + ' ' + 'L' + (locX + (r)) + ' ' + (locY - height / 10) + ' ' + 'A' + ' '\n        + (r) + ' ' + (r) + ' ' + 0 + ' ' + 0 + ' ' + 0 + ' ' + cartesiansmall.x + ' ' + cartesiansmall.y + ' ' + 'Z';\n}\n/** @private */\nexport function getAngle(center, point) {\n    var angle = Math.atan2((point.y - center.y), (point.x - center.x));\n    angle = angle < 0 ? (6.283 + angle) : angle;\n    return angle * (180 / Math.PI);\n}\n/** @private */\nexport function subArray(values, index) {\n    var subArray = [];\n    for (var i = 0; i <= index - 1; i++) {\n        subArray.push(values[i]);\n    }\n    return subArray;\n}\n/** @private */\nexport function valueToCoefficient(value, axis) {\n    var range = axis.visibleRange;\n    var result = (value - range.min) / (range.delta);\n    return axis.isInversed ? (1 - result) : result;\n}\n/** @private */\nexport function TransformToVisible(x, y, xAxis, yAxis, isInverted, series) {\n    x = (xAxis.valueType === 'Logarithmic' ? logBase(x, xAxis.logBase) : x);\n    y = (yAxis.valueType === 'Logarithmic' ?\n        logBase(y === 0 ? 1 : y, yAxis.logBase) : y);\n    x += xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks' && series.type !== 'Radar' ? 0.5 : 0;\n    var radius = series.chart.radius * valueToCoefficient(y, yAxis);\n    var point = CoefficientToVector(valueToPolarCoefficient(x, xAxis), series.chart.primaryXAxis.startAngle);\n    return {\n        x: (series.clipRect.width / 2 + series.clipRect.x) + radius * point.x,\n        y: (series.clipRect.height / 2 + series.clipRect.y) + radius * point.y\n    };\n}\n/** @private */\nexport function CoefficientToVector(coefficient, startAngle) {\n    startAngle = startAngle < 0 ? startAngle + 360 : startAngle;\n    var angle = Math.PI * (1.5 - 2 * coefficient);\n    angle = angle + (startAngle * Math.PI) / 180;\n    return { x: Math.cos(angle), y: Math.sin(angle) };\n}\n/** @private */\nexport function valueToPolarCoefficient(value, axis) {\n    var range = axis.visibleRange;\n    var delta;\n    var length;\n    if (axis.valueType !== 'Category') {\n        delta = (range.max - (axis.valueType === 'DateTime' ? axis.dateTimeInterval : range.interval)) - range.min;\n        length = axis.visibleLabels.length - 1;\n        delta = delta === 0 ? 1 : delta;\n    }\n    else {\n        delta = range.delta;\n        length = axis.visibleLabels.length;\n    }\n    return axis.isInversed ? ((value - range.min) / delta) * (1 - 1 / (length)) :\n        1 - ((value - range.min) / delta) * (1 - 1 / (length));\n}\n/** @private */\nvar Mean = /** @class */ (function () {\n    function Mean(verticalStandardMean, verticalSquareRoot, horizontalStandardMean, horizontalSquareRoot, verticalMean, horizontalMean) {\n        this.verticalStandardMean = verticalStandardMean;\n        this.horizontalStandardMean = horizontalStandardMean;\n        this.verticalSquareRoot = verticalSquareRoot;\n        this.horizontalSquareRoot = horizontalSquareRoot;\n        this.verticalMean = verticalMean;\n        this.horizontalMean = horizontalMean;\n    }\n    return Mean;\n}());\nexport { Mean };\n/** @private */\nvar PolarArc = /** @class */ (function () {\n    function PolarArc(startAngle, endAngle, innerRadius, radius, currentXPosition) {\n        this.startAngle = startAngle;\n        this.endAngle = endAngle;\n        this.innerRadius = innerRadius;\n        this.radius = radius;\n        this.currentXPosition = currentXPosition;\n    }\n    return PolarArc;\n}());\nexport { PolarArc };\n/** @private */\nexport function createTooltip(id, text, top, left, fontSize) {\n    var tooltip = getElement(id);\n    var style = 'top:' + top.toString() + 'px;' +\n        'left:' + left.toString() + 'px;' +\n        'background:' + '#FFFFFF' + ';' +\n        'position:absolute;border:1px solid #707070;font-size:' + fontSize + ';border-radius:2px;';\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            id: id, innerHTML: '&nbsp;' + text + '&nbsp;', styles: style\n        });\n        document.body.appendChild(tooltip);\n    }\n    else {\n        tooltip.setAttribute('innerHTML', '&nbsp;' + text + '&nbsp;');\n        tooltip.setAttribute('styles', style);\n    }\n}\n/** @private */\nexport function createZoomingLabels(chart, axis, parent, index, isVertical) {\n    var margin = 5;\n    var opposedPosition = axis.opposedPosition;\n    var anchor = isVertical ? 'start' : 'auto';\n    var size;\n    var chartRect = chart.availableSize.width;\n    var x;\n    var y;\n    var rx = 3;\n    var arrowLocation;\n    var rect = axis.rect;\n    var direction;\n    for (var i = 0; i < 2; i++) {\n        size = measureText(i ? axis.endLabel : axis.startLabel, axis.labelStyle);\n        if (isVertical) {\n            arrowLocation = i ? new ChartLocation(rect.x, rect.y + rx) :\n                new ChartLocation(axis.rect.x, (rect.y + rect.height - rx));\n            x = (rect.x + (opposedPosition ? (rect.width + margin) : -(size.width + margin + margin)));\n            y = (rect.y + (i ? 0 : rect.height - size.height - margin));\n            x += (x < 0 || ((chartRect) < (x + size.width + margin))) ? (opposedPosition ? -(size.width / 2) : size.width / 2) : 0;\n            direction = findDirection(rx, rx, new Rect(x, y, size.width + margin, size.height + margin), arrowLocation, margin, false, false, !opposedPosition, arrowLocation.x, arrowLocation.y + (i ? -rx : rx));\n        }\n        else {\n            arrowLocation = i ? new ChartLocation((rect.x + rect.width - rx), (rect.y + rect.height)) :\n                new ChartLocation(rect.x + rx, (rect.y + rect.height));\n            x = (rect.x + (i ? (rect.width - size.width - margin) : 0));\n            y = (opposedPosition ? (rect.y - size.height - 10) : (rect.y + rect.height + margin));\n            direction = findDirection(rx, rx, new Rect(x, y, size.width + margin, size.height + margin), arrowLocation, margin, opposedPosition, !opposedPosition, false, arrowLocation.x + (i ? rx : -rx), arrowLocation.y);\n        }\n        x = x + (margin / 2);\n        y = y + (3 * (size.height / 4)) + (margin / 2);\n        parent.appendChild(chart.renderer.drawPath(new PathOption(chart.element.id + '_Zoom_' + index + '_AxisLabel_Shape_' + i, '#414141', 2, '#414141', 1, null, direction)));\n        textElement(new TextOption(chart.element.id + '_Zoom_' + index + '_AxisLabel_' + i, x, y, anchor, i ? axis.endLabel : axis.startLabel), { color: 'white', fontFamily: 'Segoe UI', fontWeight: 'Regular', size: '11px' }, 'white', parent);\n    }\n    return parent;\n}\n//Within bounds\n/** @private */\nexport function withInBounds(x, y, bounds, width, height) {\n    if (width === void 0) { width = 0; }\n    if (height === void 0) { height = 0; }\n    return (x >= bounds.x - width && x <= bounds.x + bounds.width + width && y >= bounds.y - height\n        && y <= bounds.y + bounds.height + height);\n}\n/** @private */\nexport function getValueXByPoint(value, size, axis) {\n    var actualValue = !axis.isInversed ? value / size : (1 - (value / size));\n    return actualValue * (axis.visibleRange.delta) + axis.visibleRange.min;\n}\n/** @private */\nexport function getValueYByPoint(value, size, axis) {\n    var actualValue = axis.isInversed ? value / size : (1 - (value / size));\n    return actualValue * (axis.visibleRange.delta) + axis.visibleRange.min;\n}\n/** @private */\nexport function findClipRect(series) {\n    var rect = series.clipRect;\n    if (series.chart.requireInvertedAxis) {\n        rect.x = series.yAxis.rect.x;\n        rect.y = series.xAxis.rect.y;\n        rect.width = series.yAxis.rect.width;\n        rect.height = series.xAxis.rect.height;\n    }\n    else {\n        rect.x = series.xAxis.rect.x;\n        rect.y = series.yAxis.rect.y;\n        rect.width = series.xAxis.rect.width;\n        rect.height = series.yAxis.rect.height;\n    }\n}\n/** @private */\nexport function firstToLowerCase(str) {\n    return str.substr(0, 1).toLowerCase() + str.substr(1);\n}\n/** @private */\nexport function getMinPointsDelta(axis, seriesCollection) {\n    var minDelta = Number.MAX_VALUE;\n    var xValues;\n    var minVal;\n    seriesCollection.forEach(function (series, index) {\n        xValues = [];\n        if (series.visible &&\n            (axis.name === series.xAxisName || (axis.name === 'primaryXAxis' && series.xAxisName === null)\n                || (axis.name === series.chart.primaryXAxis.name && !series.xAxisName))) {\n            xValues = series.points.map(function (point, index) {\n                return point.xValue;\n            });\n            xValues.sort(function (first, second) { return first - second; });\n            if (xValues.length === 1) {\n                minVal = xValues[0] - ((series.xMin && series.xAxis.valueType !== 'DateTime') ?\n                    series.xMin : axis.visibleRange.min);\n                if (minVal !== 0) {\n                    minDelta = Math.min(minDelta, minVal);\n                }\n            }\n            else {\n                xValues.forEach(function (value, index, xValues) {\n                    if (index > 0 && value) {\n                        minVal = value - xValues[index - 1];\n                        if (minVal !== 0) {\n                            minDelta = Math.min(minDelta, minVal);\n                        }\n                    }\n                });\n            }\n        }\n    });\n    if (minDelta === Number.MAX_VALUE) {\n        minDelta = 1;\n    }\n    return minDelta;\n}\n/** @private */\nexport function getAnimationFunction(effect) {\n    var functionName;\n    switch (effect) {\n        case 'Linear':\n            functionName = linear;\n            break;\n    }\n    return functionName;\n}\n/**\n * Animation Effect Calculation Started Here\n * @param currentTime\n * @param startValue\n * @param endValue\n * @param duration\n * @private\n */\nexport function linear(currentTime, startValue, endValue, duration) {\n    return -endValue * Math.cos(currentTime / duration * (Math.PI / 2)) + endValue + startValue;\n}\n/**\n * Animation Effect Calculation End\n * @private\n */\nexport function markerAnimate(element, delay, duration, series, pointIndex, point, isLabel) {\n    var centerX = point.x;\n    var centerY = point.y;\n    var height = 0;\n    element.style.visibility = 'hidden';\n    new Animation({}).animate(element, {\n        duration: duration,\n        delay: delay,\n        progress: function (args) {\n            if (args.timeStamp > args.delay) {\n                args.element.style.visibility = 'visible';\n                height = ((args.timeStamp - args.delay) / args.duration);\n                element.setAttribute('transform', 'translate(' + centerX\n                    + ' ' + centerY + ') scale(' + height + ') translate(' + (-centerX) + ' ' + (-centerY) + ')');\n            }\n        },\n        end: function (model) {\n            element.style.visibility = '';\n            element.removeAttribute('transform');\n            if ((series.type === 'Scatter' || series.type === 'Bubble') && !isLabel && (pointIndex === series.points.length - 1)) {\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        }\n    });\n}\n/**\n * Animation for template\n * @private\n */\nexport function templateAnimate(element, delay, duration, name, isRemove) {\n    new Animation({}).animate(element, {\n        duration: duration,\n        delay: delay,\n        name: name,\n        progress: function (args) {\n            args.element.style.visibility = 'visible';\n        },\n        end: function (args) {\n            if (isRemove) {\n                remove(args.element);\n            }\n            else {\n                args.element.style.visibility = 'visible';\n            }\n        },\n    });\n}\n/** @private */\nexport function drawSymbol(location, shape, size, url, options, label) {\n    var functionName = 'Path';\n    var renderer = new SvgRenderer('');\n    var temp = calculateShapes(location, size, shape, options, url);\n    var htmlObject = renderer['draw' + temp.functionName](temp.renderOption);\n    htmlObject.setAttribute('aria-label', label);\n    return htmlObject;\n}\n/** @private */\nexport function calculateShapes(location, size, shape, options, url) {\n    var path;\n    var functionName = 'Path';\n    var width = size.width;\n    var height = size.height;\n    var locX = location.x;\n    var locY = location.y;\n    var x = location.x + (-width / 2);\n    var y = location.y + (-height / 2);\n    switch (shape) {\n        case 'Circle':\n        case 'Bubble':\n            functionName = 'Ellipse';\n            merge(options, { 'rx': width / 2, 'ry': height / 2, 'cx': locX, 'cy': locY });\n            break;\n        case 'Cross':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + locY + ' ' +\n                'M' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + locX + ' ' +\n                (locY + (-height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'HorizontalLine':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + locY;\n            merge(options, { 'd': path });\n            break;\n        case 'VerticalLine':\n            path = 'M' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + locX + ' ' + (locY + (-height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'Diamond':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + locY + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + locY + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Rectangle':\n        case 'Hilo':\n        case 'HiloOpenClose':\n        case 'Candle':\n        case 'Waterfall':\n        case 'BoxAndWhisker':\n        case 'StepArea':\n            path = 'M' + ' ' + x + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (-height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pyramid':\n        case 'Triangle':\n            path = 'M' + ' ' + x + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Funnel':\n        case 'InvertedTriangle':\n            path = 'M' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + (locX - (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pentagon':\n            var eq = 72;\n            var xValue = void 0;\n            var yValue = void 0;\n            for (var i = 0; i <= 5; i++) {\n                xValue = (width / 2) * Math.cos((Math.PI / 180) * (i * eq));\n                yValue = (height / 2) * Math.sin((Math.PI / 180) * (i * eq));\n                if (i === 0) {\n                    path = 'M' + ' ' + (locX + xValue) + ' ' + (locY + yValue) + ' ';\n                }\n                else {\n                    path = path.concat('L' + ' ' + (locX + xValue) + ' ' + (locY + yValue) + ' ');\n                }\n            }\n            path = path.concat('Z');\n            merge(options, { 'd': path });\n            break;\n        case 'Image':\n            functionName = 'Image';\n            merge(options, { 'href': url, 'height': height, 'width': width, x: x, y: y });\n            break;\n    }\n    options = calculateLegendShapes(location, new Size(width, height), shape, options).renderOption;\n    return { renderOption: options, functionName: functionName };\n}\n/** @private */\nexport function getRectLocation(startLocation, endLocation, outerRect) {\n    var x;\n    var y;\n    x = (endLocation.x < outerRect.x) ? outerRect.x :\n        (endLocation.x > (outerRect.x + outerRect.width)) ? outerRect.x + outerRect.width : endLocation.x;\n    y = (endLocation.y < outerRect.y) ? outerRect.y :\n        (endLocation.y > (outerRect.y + outerRect.height)) ? outerRect.y + outerRect.height : endLocation.y;\n    return new Rect((x > startLocation.x ? startLocation.x : x), (y > startLocation.y ? startLocation.y : y), Math.abs(x - startLocation.x), Math.abs(y - startLocation.y));\n}\n/** @private */\nexport function minMax(value, min, max) {\n    return value > max ? max : (value < min ? min : value);\n}\n/** @private */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/** @private */\nexport function getTemplateFunction(template) {\n    var templateFn = null;\n    var e;\n    try {\n        if (document.querySelectorAll(template).length) {\n            templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\n        }\n    }\n    catch (e) {\n        templateFn = templateComplier(template);\n    }\n    return templateFn;\n}\n/** @private */\nexport function createTemplate(childElement, pointIndex, content, chart, point, series) {\n    var templateFn;\n    var templateElement;\n    templateFn = getTemplateFunction(content);\n    try {\n        if (templateFn && templateFn({ chart: chart, series: series, point: point }).length) {\n            templateElement = templateFn({ chart: chart, series: series, point: point });\n            while (templateElement.length > 0) {\n                childElement.appendChild(templateElement[0]);\n            }\n        }\n    }\n    catch (e) {\n        return childElement;\n    }\n    return childElement;\n}\n/** @private */\nexport function getFontStyle(font) {\n    var style = '';\n    style = 'font-size:' + font.size +\n        '; font-style:' + font.fontStyle + '; font-weight:' + font.fontWeight +\n        '; font-family:' + font.fontFamily + ';opacity:' + font.opacity +\n        '; color:' + font.color + ';';\n    return style;\n}\n/** @private */\nexport function measureElementRect(element) {\n    var bounds;\n    document.body.appendChild(element);\n    bounds = element.getBoundingClientRect();\n    removeElement(element.id);\n    return bounds;\n}\n/** @private */\nexport function findlElement(elements, id) {\n    var element;\n    for (var i = 0, length_1 = elements.length; i < length_1; i++) {\n        if (elements[i].id.indexOf(id) > -1) {\n            element = elements[i];\n            continue;\n        }\n    }\n    return element;\n}\n/** @private */\nexport function getPoint(x, y, xAxis, yAxis, isInverted, series) {\n    var xLength = isInverted ? xAxis.rect.height : xAxis.rect.width;\n    var yLength = isInverted ? yAxis.rect.width : yAxis.rect.height;\n    var xvalue = (xAxis.valueType === 'Logarithmic') ? logBase(((x === 0 || x < 0) ? 1 : x), xAxis.logBase) : x;\n    var yvalue = (yAxis.valueType === 'Logarithmic') ? logBase(((y === 0 || y < 0) ? 1 : y), yAxis.logBase) : y;\n    xvalue = valueToCoefficient(xvalue, xAxis);\n    yvalue = valueToCoefficient(yvalue, yAxis);\n    var locationX = isInverted ? yvalue * (yLength) : xvalue * (xLength);\n    var locationY = isInverted ? (1 - xvalue) * (xLength) : (1 - yvalue) * (yLength);\n    return new ChartLocation(locationX, locationY);\n}\n/** @private */\nexport function appendElement(child, parent) {\n    if (child && child.hasChildNodes() && parent) {\n        parent.appendChild(child);\n    }\n    else {\n        return null;\n    }\n}\n/** @private */\nexport function getDraggedRectLocation(x1, y1, x2, y2, outerRect) {\n    var width = Math.abs(x1 - x2);\n    var height = Math.abs(y1 - y2);\n    var x = Math.max(checkBounds(Math.min(x1, x2), width, outerRect.x, outerRect.width), outerRect.x);\n    var y = Math.max(checkBounds(Math.min(y1, y2), height, outerRect.y, outerRect.height), outerRect.y);\n    return new Rect(x, y, Math.min(width, outerRect.width), Math.min(height, outerRect.height));\n}\n/** @private */\nexport function checkBounds(start, size, min, max) {\n    if (start < min) {\n        start = min;\n    }\n    else if ((start + size) > (max + min)) {\n        start = (max + min) - size;\n    }\n    return start;\n}\n/** @private */\nexport function getLabelText(currentPoint, series, chart) {\n    var labelFormat = series.yAxis.labelFormat;\n    var text = [];\n    var customLabelFormat = labelFormat.match('{value}') !== null;\n    switch (series.seriesType) {\n        case 'XY':\n            text.push(currentPoint.text || currentPoint.yValue.toString());\n            break;\n        case 'HighLow':\n            text.push(currentPoint.text || Math.max(currentPoint.high, currentPoint.low).toString());\n            text.push(currentPoint.text || Math.min(currentPoint.high, currentPoint.low).toString());\n            break;\n        case 'HighLowOpenClose':\n            text.push(currentPoint.text || Math.max(currentPoint.high, currentPoint.low).toString());\n            text.push(currentPoint.text || Math.min(currentPoint.high, currentPoint.low).toString());\n            text.push(currentPoint.text || Math.max(currentPoint.open, currentPoint.close).toString());\n            text.push(currentPoint.text || Math.min(currentPoint.open, currentPoint.close).toString());\n            break;\n        case 'BoxPlot':\n            text.push(currentPoint.text || currentPoint.median.toString());\n            text.push(currentPoint.text || currentPoint.maximum.toString());\n            text.push(currentPoint.text || currentPoint.minimum.toString());\n            text.push(currentPoint.text || currentPoint.upperQuartile.toString());\n            text.push(currentPoint.text || currentPoint.lowerQuartile.toString());\n            for (var _i = 0, _a = currentPoint.outliers; _i < _a.length; _i++) {\n                var liers = _a[_i];\n                text.push(currentPoint.text || liers.toString());\n            }\n            break;\n    }\n    if (labelFormat && !currentPoint.text) {\n        for (var i = 0; i < text.length; i++) {\n            text[i] = customLabelFormat ? labelFormat.replace('{value}', series.yAxis.format(parseFloat(text[i]))) :\n                series.yAxis.format(parseFloat(text[i]));\n        }\n    }\n    return text;\n}\n/** @private */\nexport function stopTimer(timer) {\n    window.clearInterval(timer);\n}\n/** @private */\nexport function isCollide(rect, collections, clipRect) {\n    var isCollide;\n    var currentRect = new Rect(rect.x + clipRect.x, rect.y + clipRect.y, rect.width, rect.height);\n    isCollide = collections.some(function (rect) {\n        return (currentRect.x < rect.x + rect.width && currentRect.x + currentRect.width > rect.x &&\n            currentRect.y < rect.y + rect.height && currentRect.height + currentRect.y > rect.y);\n    });\n    return isCollide;\n}\n/** @private */\nexport function isOverlap(currentRect, rect) {\n    return (currentRect.x < rect.x + rect.width && currentRect.x + currentRect.width > rect.x &&\n        currentRect.y < rect.y + rect.height && currentRect.height + currentRect.y > rect.y);\n}\n/** @private */\nexport function containsRect(currentRect, rect) {\n    return (currentRect.x <= rect.x && currentRect.x + currentRect.width >= rect.x + rect.width &&\n        currentRect.y <= rect.y && currentRect.height + currentRect.y >= rect.y + rect.height);\n}\n/** @private */\nexport function calculateRect(location, textSize, margin) {\n    return new Rect((location.x - (textSize.width / 2) - margin.left), (location.y - (textSize.height / 2) - margin.top), textSize.width + margin.left + margin.right, textSize.height + margin.top + margin.bottom);\n}\n/** @private */\nexport function convertToHexCode(value) {\n    return '#' + componentToHex(value.r) + componentToHex(value.g) + componentToHex(value.b);\n}\n/** @private */\nexport function componentToHex(value) {\n    var hex = value.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n}\n/** @private */\nexport function convertHexToColor(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? new ColorValue(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) :\n        new ColorValue(255, 255, 255);\n}\n/** @private */\nexport function colorNameToHex(color) {\n    var element;\n    color = color === 'transparent' ? 'white' : color;\n    element = document.getElementById('chartmeasuretext');\n    element.style.color = color;\n    color = window.getComputedStyle(element).color;\n    var exp = /^(rgb|hsl)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/;\n    var isRGBValue = exp.exec(color);\n    return convertToHexCode(new ColorValue(parseInt(isRGBValue[3], 10), parseInt(isRGBValue[4], 10), parseInt(isRGBValue[5], 10)));\n}\n/** @private */\nexport function getSaturationColor(color, factor) {\n    color = colorNameToHex(color);\n    color = color.replace(/[^0-9a-f]/gi, '');\n    if (color.length < 6) {\n        color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n    }\n    factor = factor || 0;\n    // convert to decimal and change luminosity\n    var rgb = '#';\n    var colorCode;\n    for (var i = 0; i < 3; i++) {\n        colorCode = parseInt(color.substr(i * 2, 2), 16);\n        colorCode = Math.round(Math.min(Math.max(0, colorCode + (colorCode * factor)), 255));\n        rgb += ('00' + colorCode.toString(16)).substr(colorCode.toString(16).length);\n    }\n    return rgb;\n}\n/** @private */\nexport function getMedian(values) {\n    var half = Math.floor(values.length / 2);\n    return values.length % 2 ? values[half] : ((values[half - 1] + values[half]) / 2.0);\n}\n/** @private */\n// tslint:disable-next-line:max-func-body-length\nexport function calculateLegendShapes(location, size, shape, options) {\n    var padding = 10;\n    var path = '';\n    var height = size.height;\n    var width = size.width;\n    var locX = location.x;\n    var locY = location.y;\n    switch (shape) {\n        case 'Line':\n            path = 'M' + ' ' + (locX + (-width / 2)) + ' ' + (locY) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY);\n            merge(options, { 'd': path });\n            break;\n        case 'StepLine':\n            options.fill = 'transparent';\n            path = 'M' + ' ' + (locX + (-width / 2) - (padding / 4)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX +\n                (-width / 2) + (width / 10)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX + (-width / 2) + (width / 10))\n                + ' ' + (locY) + ' ' + 'L' + ' ' + (locX + (-width / 10)) + ' ' + (locY) + ' ' + 'L' + ' ' + (locX + (-width / 10))\n                + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX + (width / 5)) + ' ' + (locY + (height / 2)) + ' ' + 'L' +\n                ' ' + (locX + (width / 5)) + ' ' + (locY + (-height / 2)) + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + (locY +\n                (-height / 2)) + 'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + '' + (locX + (width / 2)\n                + (padding / 4)) + ' ' + (locY + (height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'RightArrow':\n            var space = 2;\n            path = 'M' + ' ' + (locX + (-width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY) + ' ' + 'L' + ' ' +\n                (locX + (-width / 2)) + ' ' + (locY + (height / 2)) + ' L' + ' ' + (locX + (-width / 2)) + ' ' +\n                (locY + (height / 2) - space) + ' ' + 'L' + ' ' + (locX + (width / 2) - (2 * space)) + ' ' + (locY) +\n                ' L' + (locX + (-width / 2)) + ' ' + (locY - (height / 2) + space) + ' Z';\n            merge(options, { 'd': path });\n            break;\n        case 'LeftArrow':\n            options.fill = options.stroke;\n            options.stroke = 'transparent';\n            space = 2;\n            path = 'M' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (-width / 2)) + ' ' + (locY) + ' ' + 'L' + ' ' +\n                (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' +\n                (locX + (width / 2)) + ' ' + (locY + (height / 2) - space) + ' L' + ' ' + (locX + (-width / 2) + (2 * space))\n                + ' ' + (locY) + ' L' + (locX + (width / 2)) + ' ' + (locY - (height / 2) + space) + ' Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Column':\n        case 'StackingColumn':\n        case 'StackingColumn100':\n        case 'RangeColumn':\n            path = 'M' + ' ' + (locX - 3 * (width / 5)) + ' ' + (locY - (height / 5)) + ' ' + 'L' + ' ' +\n                (locX + 3 * (-width / 10)) + ' ' + (locY - (height / 5)) + ' ' + 'L' + ' ' +\n                (locX + 3 * (-width / 10)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX - 3 *\n                (width / 5)) + ' ' + (locY + (height / 2)) + ' ' + 'Z' + ' ' + 'M' + ' ' +\n                (locX + (-width / 10) - (width / 20)) + ' ' + (locY - (height / 4) - (padding / 2))\n                + ' ' + 'L' + ' ' + (locX + (width / 10) + (width / 20)) + ' ' + (locY - (height / 4) -\n                (padding / 2)) + ' ' + 'L' + ' ' + (locX + (width / 10) + (width / 20)) + ' ' + (locY\n                + (height / 2)) + ' ' + 'L' + ' ' + (locX + (-width / 10) - (width / 20)) + ' ' + (locY +\n                (height / 2)) + ' ' + 'Z' + ' ' + 'M' + ' ' + (locX + 3 * (width / 10)) + ' ' + (locY) + ' ' +\n                'L' + ' ' + (locX + 3 * (width / 5)) + ' ' + (locY) + ' ' + 'L' + ' '\n                + (locX + 3 * (width / 5)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' '\n                + (locX + 3 * (width / 10)) + ' ' + (locY + (height / 2)) + ' ' + 'Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Bar':\n        case 'StackingBar':\n        case 'StackingBar100':\n            path = 'M' + ' ' + (locX + (-width / 2) + (-padding / 4)) + ' ' + (locY - 3 * (height / 5)) + ' '\n                + 'L' + ' ' + (locX + 3 * (width / 10)) + ' ' + (locY - 3 * (height / 5)) + ' ' + 'L' + ' ' +\n                (locX + 3 * (width / 10)) + ' ' + (locY - 3 * (height / 10)) + ' ' + 'L' + ' ' +\n                (locX - (width / 2) + (-padding / 4)) + ' ' + (locY - 3 * (height / 10)) + ' ' + 'Z' + ' '\n                + 'M' + ' ' + (locX + (-width / 2) + (-padding / 4)) + ' ' + (locY - (height / 5)\n                + (padding / 20)) + ' ' + 'L' + ' ' + (locX + (width / 2) + (padding / 4)) + ' ' + (locY\n                - (height / 5) + (padding / 20)) + ' ' + 'L' + ' ' + (locX + (width / 2) + (padding / 4))\n                + ' ' + (locY + (height / 10) + (padding / 20)) + ' ' + 'L' + ' ' + (locX - (width / 2)\n                + (-padding / 4)) + ' ' + (locY + (height / 10) + (padding / 20)) + ' ' + 'Z' + ' ' + 'M'\n                + ' ' + (locX - (width / 2) + (-padding / 4)) + ' ' + (locY + (height / 5)\n                + (padding / 10)) + ' ' + 'L' + ' ' + (locX + (-width / 4)) + ' ' + (locY + (height / 5)\n                + (padding / 10)) + ' ' + 'L' + ' ' + (locX + (-width / 4)) + ' ' + (locY + (height / 2)\n                + (padding / 10)) + ' ' + 'L' + ' ' + (locX - (width / 2) + (-padding / 4))\n                + ' ' + (locY + (height / 2) + (padding / 10)) + ' ' + 'Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Spline':\n            options.fill = 'transparent';\n            path = 'M' + ' ' + (locX - (width / 2)) + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' '\n                + locX + ' ' + (locY - height) + ' ' + locX + ' ' + (locY + (height / 5))\n                + ' ' + 'M' + ' ' + locX + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' ' + (locX\n                + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' + (locX + (width / 2)) + ' '\n                + (locY - (height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'Area':\n        case 'RangeArea':\n        case 'StackingArea':\n        case 'StackingArea100':\n            path = 'M' + ' ' + (locX - (width / 2) - (padding / 4)) + ' ' + (locY + (height / 2))\n                + ' ' + 'L' + ' ' + (locX + (-width / 4) + (-padding / 8)) + ' ' + (locY - (height / 2))\n                + ' ' + 'L' + ' ' + (locX) + ' ' + (locY + (height / 4)) + ' ' + 'L' + ' ' + (locX\n                + (width / 4) + (padding / 8)) + ' ' + (locY + (-height / 2) + (height / 4)) + ' '\n                + 'L' + ' ' + (locX + (height / 2) + (padding / 4)) + ' ' + (locY + (height / 2)) + ' ' + 'Z';\n            merge(options, { 'd': path });\n            break;\n        case 'SplineArea':\n            path = 'M' + ' ' + (locX - (width / 2)) + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' ' + locX\n                + ' ' + (locY - height) + ' ' + locX + ' ' + (locY + (height / 5)) + ' ' + 'Z' + ' ' + 'M'\n                + ' ' + locX + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' ' + (locX + (width / 2)) + ' '\n                + (locY + (height / 2)) + ' ' + (locX + (width / 2)) + ' '\n                + (locY - (height / 2)) + ' ' + ' Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pie':\n        case 'Doughnut':\n            options.stroke = 'transparent';\n            var r = Math.min(height, width) / 2;\n            path = getAccumulationLegend(locX, locY, r, height, width, shape);\n            merge(options, { 'd': path });\n            break;\n    }\n    return { renderOption: options };\n}\n/** @private */\nexport function textTrim(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var i = textLength - 1; i >= 0; --i) {\n            label = text.substring(0, i) + '...';\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nexport function stringToNumber(value, containerSize) {\n    if (value !== null && value !== undefined) {\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\n    }\n    return null;\n}\n/** @private */\nexport function findDirection(rX, rY, rect, arrowLocation, arrowPadding, top, bottom, left, tipX, tipY, tipRadius) {\n    var direction = '';\n    var startX = rect.x;\n    var startY = rect.y;\n    var width = rect.x + rect.width;\n    var height = rect.y + rect.height;\n    tipRadius = tipRadius ? tipRadius : 0;\n    if (top) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + startY + ' ' + (startX + rX) + ' ' + startY + ' ' +\n            ' L' + ' ' + (width - rX) + ' ' + (startY) + ' Q ' + width + ' '\n            + startY + ' ' + (width) + ' ' + (startY + rY));\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + width + ' '\n            + (height) + ' ' + (width - rX) + ' ' + (height));\n        if (arrowPadding !== 0) {\n            direction = direction.concat(' L' + ' ' + (arrowLocation.x + arrowPadding / 2) + ' ' + (height));\n            direction = direction.concat(' L' + ' ' + (tipX + tipRadius) + ' ' + (height + arrowPadding - tipRadius));\n            direction += ' Q' + ' ' + (tipX) + ' ' + (height + arrowPadding) + ' ' + (tipX - tipRadius) +\n                ' ' + (height + arrowPadding - tipRadius);\n        }\n        if ((arrowLocation.x - arrowPadding / 2) > startX) {\n            direction = direction.concat(' L' + ' ' + (arrowLocation.x - arrowPadding / 2) + ' ' + height +\n                ' L' + ' ' + (startX + rX) + ' ' + height + ' Q ' + startX + ' '\n                + height + ' ' + (startX) + ' ' + (height - rY) + ' z');\n        }\n        else {\n            if (arrowPadding === 0) {\n                direction = direction.concat(' L' + ' ' + (startX + rX) + ' ' + height + ' Q ' + startX + ' '\n                    + height + ' ' + (startX) + ' ' + (height - rY) + ' z');\n            }\n            else {\n                direction = direction.concat(' L' + ' ' + (startX) + ' ' + (height + rY) + ' z');\n            }\n        }\n    }\n    else if (bottom) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + (startY) + ' ' + (startX + rX) + ' ' + (startY) + ' L' + ' ' + (arrowLocation.x - arrowPadding / 2) + ' ' + (startY));\n        direction = direction.concat(' L' + ' ' + (tipX - tipRadius) + ' ' + (arrowLocation.y + tipRadius));\n        direction += ' Q' + ' ' + (tipX) + ' ' + (arrowLocation.y) + ' ' + (tipX + tipRadius) + ' ' + (arrowLocation.y + tipRadius);\n        direction = direction.concat(' L' + ' ' + (arrowLocation.x + arrowPadding / 2) + ' ' + (startY) + ' L' + ' '\n            + (width - rX) + ' ' + (startY) + ' Q ' + (width) + ' ' + (startY) + ' ' + (width) + ' ' + (startY + rY));\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + (width) + ' '\n            + (height) + ' ' + (width - rX) + ' ' + (height) +\n            ' L' + ' ' + (startX + rX) + ' ' + (height) + ' Q ' + (startX) + ' '\n            + (height) + ' ' + (startX) + ' ' + (height - rY) + ' z');\n    }\n    else if (left) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + (startY) + ' ' + (startX + rX) + ' ' + (startY));\n        direction = direction.concat(' L' + ' ' + (width - rX) + ' ' + (startY) + ' Q ' + (width) + ' '\n            + (startY) + ' ' + (width) + ' ' + (startY + rY) + ' L' + ' ' + (width) + ' ' + (arrowLocation.y - arrowPadding / 2));\n        direction = direction.concat(' L' + ' ' + (width + arrowPadding - tipRadius) + ' ' + (tipY - tipRadius));\n        direction += ' Q ' + (width + arrowPadding) + ' ' + (tipY) + ' ' + (width + arrowPadding - tipRadius) + ' ' + (tipY + tipRadius);\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (arrowLocation.y + arrowPadding / 2) +\n            ' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + width + ' ' + (height) + ' ' + (width - rX) + ' ' + (height));\n        direction = direction.concat(' L' + ' ' + (startX + rX) + ' ' + (height) + ' Q ' + startX + ' '\n            + (height) + ' ' + (startX) + ' ' + (height - rY) + ' z');\n    }\n    else {\n        direction = direction.concat('M' + ' ' + (startX + rX) + ' ' + (startY) + ' Q ' + (startX) + ' '\n            + (startY) + ' ' + (startX) + ' ' + (startY + rY) + ' L' + ' ' + (startX) + ' ' + (arrowLocation.y - arrowPadding / 2));\n        direction = direction.concat(' L' + ' ' + (startX - arrowPadding + tipRadius) + ' ' + (tipY - tipRadius));\n        direction += ' Q ' + (startX - arrowPadding) + ' ' + (tipY) + ' ' + (startX - arrowPadding + tipRadius) + ' ' + (tipY + tipRadius);\n        direction = direction.concat(' L' + ' ' + (startX) + ' ' + (arrowLocation.y + arrowPadding / 2) +\n            ' L' + ' ' + (startX) + ' ' + (height - rY) + ' Q ' + startX + ' '\n            + (height) + ' ' + (startX + rX) + ' ' + (height));\n        direction = direction.concat(' L' + ' ' + (width - rX) + ' ' + (height) + ' Q ' + width + ' '\n            + (height) + ' ' + (width) + ' ' + (height - rY) +\n            ' L' + ' ' + (width) + ' ' + (startY + rY) + ' Q ' + width + ' '\n            + (startY) + ' ' + (width - rX) + ' ' + (startY) + ' z');\n    }\n    return direction;\n}\n/** @private */\nexport function textElement(options, font, color, parent, isMinus) {\n    if (isMinus === void 0) { isMinus = false; }\n    var renderOptions = {};\n    var htmlObject;\n    var tspanElement;\n    var renderer = new SvgRenderer('');\n    var text;\n    var height;\n    renderOptions = {\n        'id': options.id,\n        'x': options.x,\n        'y': options.y,\n        'fill': color,\n        'font-size': font.size,\n        'font-style': font.fontStyle,\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight,\n        'text-anchor': options.anchor,\n        'transform': options.transform,\n        'opacity': font.opacity,\n        'dominant-baseline': options.baseLine\n    };\n    text = typeof options.text === 'string' ? options.text : isMinus ? options.text[options.text.length - 1] : options.text[0];\n    htmlObject = renderer.createText(renderOptions, text);\n    if (typeof options.text !== 'string' && options.text.length > 1) {\n        for (var i = 1, len = options.text.length; i < len; i++) {\n            height = (measureText(options.text[i], font).height);\n            tspanElement = renderer.createTSpan({\n                'x': options.x, 'id': options.id,\n                'y': (options.y) + ((isMinus) ? -(i * height) : (i * height))\n            }, isMinus ? options.text[options.text.length - (i + 1)] : options.text[i]);\n            htmlObject.appendChild(tspanElement);\n        }\n    }\n    parent.appendChild(htmlObject);\n    return htmlObject;\n}\n/**\n * Method to calculate the width and height of the chart\n */\nexport function calculateSize(chart) {\n    var containerWidth = chart.element.clientWidth;\n    var containerHeight = chart.element.clientHeight;\n    chart.availableSize = new Size(stringToNumber(chart.width, containerWidth) || containerWidth || 600, stringToNumber(chart.height, containerHeight) || containerHeight || 450);\n}\nexport function createSvg(chart) {\n    chart.renderer = new SvgRenderer(chart.element.id);\n    calculateSize(chart);\n    chart.svgObject = chart.renderer.createSvg({\n        id: chart.element.id + '_svg',\n        width: chart.availableSize.width,\n        height: chart.availableSize.height\n    });\n}\n/**\n * Method to calculate x position of title\n */\nexport function titlePositionX(chartSize, leftPadding, rightPadding, titleStyle, textSize) {\n    var positionX;\n    if (titleStyle.textAlignment === 'Near') {\n        positionX = leftPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionX = chartSize.width / 2 - textSize.width / 2;\n    }\n    else {\n        positionX = chartSize.width - rightPadding - textSize.width;\n    }\n    return positionX;\n}\n/** @private */\nvar CustomizeOption = /** @class */ (function () {\n    function CustomizeOption(id) {\n        this.id = id;\n    }\n    return CustomizeOption;\n}());\nexport { CustomizeOption };\n/** @private */\nvar StackValues = /** @class */ (function () {\n    function StackValues(startValue, endValue) {\n        this.startValues = startValue;\n        this.endValues = endValue;\n    }\n    return StackValues;\n}());\nexport { StackValues };\n/** @private */\nvar TextOption = /** @class */ (function (_super) {\n    __extends(TextOption, _super);\n    function TextOption(id, x, y, anchor, text, transform, baseLine) {\n        if (transform === void 0) { transform = ''; }\n        var _this = _super.call(this, id) || this;\n        _this.transform = '';\n        _this.baseLine = 'auto';\n        _this.x = x;\n        _this.y = y;\n        _this.anchor = anchor;\n        _this.text = text;\n        _this.transform = transform;\n        _this.baseLine = baseLine;\n        return _this;\n    }\n    return TextOption;\n}(CustomizeOption));\nexport { TextOption };\n/** @private */\nvar PathOption = /** @class */ (function (_super) {\n    __extends(PathOption, _super);\n    function PathOption(id, fill, width, color, opacity, dashArray, d) {\n        var _this = _super.call(this, id) || this;\n        _this.opacity = opacity;\n        _this.fill = fill;\n        _this.stroke = color;\n        _this['stroke-width'] = width;\n        _this['stroke-dasharray'] = dashArray;\n        _this.d = d;\n        return _this;\n    }\n    return PathOption;\n}(CustomizeOption));\nexport { PathOption };\n/** @private */\nvar RectOption = /** @class */ (function (_super) {\n    __extends(RectOption, _super);\n    function RectOption(id, fill, border, opacity, rect, rx, ry, transform, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, border.color, opacity, dashArray) || this;\n        _this.y = rect.y;\n        _this.x = rect.x;\n        _this.height = rect.height;\n        _this.width = rect.width;\n        _this.rx = rx ? rx : 0;\n        _this.ry = ry ? ry : 0;\n        _this.transform = transform ? transform : '';\n        return _this;\n    }\n    return RectOption;\n}(PathOption));\nexport { RectOption };\n/** @private */\nvar CircleOption = /** @class */ (function (_super) {\n    __extends(CircleOption, _super);\n    function CircleOption(id, fill, border, opacity, cx, cy, r) {\n        var _this = _super.call(this, id, fill, border.width, border.color, opacity) || this;\n        _this.cy = cy;\n        _this.cx = cx;\n        _this.r = r;\n        return _this;\n    }\n    return CircleOption;\n}(PathOption));\nexport { CircleOption };\n/** @private */\nvar PolygonOption = /** @class */ (function () {\n    function PolygonOption(id, points, fill) {\n        this.id = id;\n        this.points = points;\n        this.fill = fill;\n    }\n    return PolygonOption;\n}());\nexport { PolygonOption };\n/** @private */\nvar Size = /** @class */ (function () {\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/** @private */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\n/** @private */\nvar ChartLocation = /** @class */ (function () {\n    function ChartLocation(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return ChartLocation;\n}());\nexport { ChartLocation };\n/** @private */\nvar Thickness = /** @class */ (function () {\n    function Thickness(left, right, top, bottom) {\n        this.left = left;\n        this.right = right;\n        this.top = top;\n        this.bottom = bottom;\n    }\n    return Thickness;\n}());\nexport { Thickness };\n/** @private */\nvar ColorValue = /** @class */ (function () {\n    function ColorValue(r, g, b) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n    }\n    return ColorValue;\n}());\nexport { ColorValue };\n/** @private */\nvar PointData = /** @class */ (function () {\n    function PointData(point, series, index) {\n        if (index === void 0) { index = 0; }\n        this.point = point;\n        this.series = series;\n        this.lierIndex = index;\n    }\n    return PointData;\n}());\nexport { PointData };\n/** @private */\nvar ControlPoints = /** @class */ (function () {\n    function ControlPoints(controlPoint1, controlPoint2) {\n        this.controlPoint1 = controlPoint1;\n        this.controlPoint2 = controlPoint2;\n    }\n    return ControlPoints;\n}());\nexport { ControlPoints };\n","/**\n * Specifies Chart Themes\n */\nexport var Theme;\n(function (Theme) {\n    /** @private */\n    Theme.axisLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: '#686868',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisTitleFont = {\n        size: '14px',\n        fontWeight: 'Normal',\n        color: '#424242',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.chartTitleFont = {\n        size: '15px',\n        fontWeight: '500',\n        color: '#424242',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.crosshairLabelFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: '#e5e5e5',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.tooltipLabelFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.legendLabelFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: '#353535',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.stripLineLabelFont = {\n        size: '12px',\n        fontWeight: 'Regular',\n        color: '#353535',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisLineColor = '#b5b5b5';\n    /** @private */\n    Theme.axisMajorGridLineColor = '#dbdbdb';\n    /** @private */\n    Theme.axisMinorGridLineColor = '#eaeaea';\n    /** @private */\n    Theme.axisMajorTickLineColor = '#b5b5b5';\n    /** @private */\n    Theme.axisMinorTickLineColor = '#d6d6d6';\n    /** @private */\n    Theme.crossHairLabelColor = '#4f4f4f';\n    /** @private */\n    Theme.chartBackgroundColor = '#FFFFFF';\n    /** @private */\n    Theme.selectionRectFill = 'rgba(41, 171, 226, 0.1)';\n    /** @private */\n    Theme.selectionRectStroke = '#29abe2';\n})(Theme || (Theme = {}));\n/** @private */\nexport function getSeriesColor(theme) {\n    var palette;\n    switch (theme) {\n        case 'Material':\n            palette = ['#00bdae', '#404041', '#357cd2', '#e56590', '#f8b883',\n                '#70ad47', '#dd8abd', '#7f84e8', '#7bb4eb', '#ea7a57'];\n            break;\n        case 'Fabric':\n            palette = ['#4472c4', '#ed7d31', '#ffc000', '#70ad47', '#5b9bd5',\n                '#c1c1c1', '#6f6fe2', '#e269ae', '#9e480e', '#997300'];\n            break;\n        case 'Bootstrap':\n            palette = ['#a16ee5', '#f7ce69', '#55a5c2', '#7ddf1e', '#ff6ea6',\n                '#7953ac', '#b99b4f', '#407c92', '#5ea716', '#b91c52'];\n            break;\n    }\n    return palette;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * AccumulationChart base file\n */\nimport { Property, ChildProperty, Complex, createElement } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Border, Font, Animation, Index, EmptyPointSettings, Connector } from '../../common/model/base';\nimport { stringToNumber, PathOption } from '../../common/utils/helper';\nimport { seriesRender, pointRender } from '../../common/model/constants';\nimport { Theme, getSeriesColor } from '../../common/model/theme';\nimport { getElement, firstToLowerCase } from '../../common/utils/helper';\n/**\n * Annotation for accumulation series\n */\nvar AccumulationAnnotationSettings = /** @class */ (function (_super) {\n    __extends(AccumulationAnnotationSettings, _super);\n    function AccumulationAnnotationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AccumulationAnnotationSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('0')\n    ], AccumulationAnnotationSettings.prototype, \"x\", void 0);\n    __decorate([\n        Property('0')\n    ], AccumulationAnnotationSettings.prototype, \"y\", void 0);\n    __decorate([\n        Property('Pixel')\n    ], AccumulationAnnotationSettings.prototype, \"coordinateUnits\", void 0);\n    __decorate([\n        Property('Chart')\n    ], AccumulationAnnotationSettings.prototype, \"region\", void 0);\n    __decorate([\n        Property('Middle')\n    ], AccumulationAnnotationSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Property('Center')\n    ], AccumulationAnnotationSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationAnnotationSettings.prototype, \"description\", void 0);\n    return AccumulationAnnotationSettings;\n}(ChildProperty));\nexport { AccumulationAnnotationSettings };\n/**\n * Configures the dataLabel in accumulation chart.\n */\nvar AccumulationDataLabelSettings = /** @class */ (function (_super) {\n    __extends(AccumulationDataLabelSettings, _super);\n    function AccumulationDataLabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], AccumulationDataLabelSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationDataLabelSettings.prototype, \"name\", void 0);\n    __decorate([\n        Property('transparent')\n    ], AccumulationDataLabelSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property('Inside')\n    ], AccumulationDataLabelSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(5)\n    ], AccumulationDataLabelSettings.prototype, \"rx\", void 0);\n    __decorate([\n        Property(5)\n    ], AccumulationDataLabelSettings.prototype, \"ry\", void 0);\n    __decorate([\n        Complex({ width: null, color: null }, Border)\n    ], AccumulationDataLabelSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex({ size: '11px', color: null }, Font)\n    ], AccumulationDataLabelSettings.prototype, \"font\", void 0);\n    __decorate([\n        Complex({}, Connector)\n    ], AccumulationDataLabelSettings.prototype, \"connectorStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationDataLabelSettings.prototype, \"template\", void 0);\n    return AccumulationDataLabelSettings;\n}(ChildProperty));\nexport { AccumulationDataLabelSettings };\n/**\n * Configures the tooltip in accumulation chart.\n */\nvar AccumulationTooltipSettings = /** @class */ (function (_super) {\n    __extends(AccumulationTooltipSettings, _super);\n    function AccumulationTooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], AccumulationTooltipSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationTooltipSettings.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationTooltipSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('#FFFFFF')\n    ], AccumulationTooltipSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Complex({ color: null }, Border)\n    ], AccumulationTooltipSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationTooltipSettings.prototype, \"template\", void 0);\n    __decorate([\n        Complex(Theme.tooltipLabelFont, Font)\n    ], AccumulationTooltipSettings.prototype, \"textStyle\", void 0);\n    return AccumulationTooltipSettings;\n}(ChildProperty));\nexport { AccumulationTooltipSettings };\n/**\n * Points model for the series.\n * @private\n */\nvar AccPoints = /** @class */ (function () {\n    function AccPoints() {\n        this.visible = true;\n        this.symbolLocation = null;\n        /** @private */\n        this.region = null;\n        /** @private */\n        this.labelRegion = null;\n        /** @private */\n        this.labelVisible = true;\n    }\n    return AccPoints;\n}());\nexport { AccPoints };\n/**\n *  Configures the series in accumulation chart.\n */\nvar AccumulationSeries = /** @class */ (function (_super) {\n    __extends(AccumulationSeries, _super);\n    function AccumulationSeries() {\n        /**\n         * Specifies the dataSource for the series. It can be an array of JSON objects or an instance of DataManager.\n         * ```html\n         * <div id='Pie'></div>\n         * ```\n         * ```typescript\n         * let dataManager: DataManager = new DataManager({\n         *         url: 'http://mvc.syncfusion.com/Services/Northwnd.svc/Tasks/'\n         * });\n         * let query: Query = new Query().take(50).where('Estimate', 'greaterThan', 0, false);\n         * let pie: AccumulationChart = new AccumulationChart({\n         * ...\n         *     series: [{\n         *        dataSource: dataManager,\n         *        xName: 'Id',\n         *        yName: 'Estimate',\n         *        query: query\n         *    }],\n         * ...\n         * });\n         * pie.appendTo('#Pie');\n         * ```\n         * @default ''\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.points = [];\n        /** @private */\n        _this.sumOfPoints = 0;\n        return _this;\n    }\n    /** @private To refresh the Datamanager for series */\n    AccumulationSeries.prototype.refreshDataManager = function (accumulation) {\n        var _this = this;\n        if (isNullOrUndefined(this.query)) {\n            this.dataManagerSuccess({ result: this.dataSource, count: this.dataSource.length }, accumulation);\n            return;\n        }\n        var dataManager = this.dataModule.getData(this.dataModule.generateQuery().requiresCount());\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e, accumulation); });\n    };\n    /**\n     * To get points on dataManager is success\n     * @private\n     */\n    AccumulationSeries.prototype.dataManagerSuccess = function (e, accumulation) {\n        var argsData = {\n            name: seriesRender, series: this, data: e.result,\n        };\n        accumulation.trigger(seriesRender, argsData);\n        this.resultData = e.result;\n        this.getPoints(e.result, accumulation);\n        if (++accumulation.seriesCounts === accumulation.visibleSeries.length) {\n            accumulation.refreshChart();\n        }\n    };\n    /** @private To find points from result data */\n    AccumulationSeries.prototype.getPoints = function (result, accumulation) {\n        var length = Object.keys(result).length;\n        this.sumOfPoints = 0;\n        if (length === 0) {\n            return null;\n        }\n        this.findSumOfPoints(result);\n        this.points = [];\n        this.sumOfClub = 0;\n        var point;\n        var colors = this.palettes.length ? this.palettes : getSeriesColor(accumulation.theme);\n        var clubValue = stringToNumber(this.groupTo, this.sumOfPoints);\n        for (var i = 0; i < length; i++) {\n            point = this.setPoints(result, i, colors);\n            var currentY = point.y;\n            if (!this.isClub(point, clubValue)) {\n                if (isNullOrUndefined(point.y)) {\n                    point.visible = false;\n                }\n                this.pushPoints(point, colors);\n            }\n        }\n        this.lastGroupTo = this.groupTo;\n        if (this.sumOfClub > 0) {\n            var clubPoint = new AccPoints();\n            clubPoint.x = 'Others';\n            clubPoint.y = this.sumOfClub;\n            clubPoint.text = clubPoint.originalText = clubPoint.x + ': ' + this.sumOfClub;\n            this.pushPoints(clubPoint, colors);\n        }\n    };\n    /**\n     * Method to set point index and color\n     */\n    AccumulationSeries.prototype.pushPoints = function (point, colors) {\n        point.index = this.points.length;\n        point.color = point.color || colors[point.index % colors.length];\n        this.points.push(point);\n    };\n    /**\n     * Method to find club point\n     */\n    AccumulationSeries.prototype.isClub = function (point, clubValue) {\n        if (Math.abs(point.y) <= clubValue && !isNullOrUndefined(clubValue)) {\n            this.sumOfClub += Math.abs(point.y);\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Method to find sum of points in the series\n     */\n    AccumulationSeries.prototype.findSumOfPoints = function (result) {\n        var length = Object.keys(result).length;\n        for (var i = 0; i < length; i++) {\n            if (!isNullOrUndefined(result[i][this.yName])) {\n                this.sumOfPoints += Math.abs(result[i][this.yName]);\n            }\n        }\n    };\n    /**\n     * Method to set points x, y and text from data source\n     */\n    AccumulationSeries.prototype.setPoints = function (data, i, colors) {\n        var point = new AccPoints();\n        point.x = getValue(this.xName, data[i]);\n        point.y = getValue(this.yName, data[i]);\n        point.text = point.originalText = getValue(this.dataLabel.name || '', data[i]);\n        this.setAccEmptyPoint(point, i, data, colors);\n        return point;\n    };\n    /**\n     * Method render the series elements for accumulation chart\n     * @private\n     */\n    AccumulationSeries.prototype.renderSeries = function (accumulation) {\n        var seriesGroup = accumulation.renderer.createGroup({ id: accumulation.element.id + '_Series_' + this.index });\n        this.renderPoints(accumulation, seriesGroup);\n        var datalabelGroup;\n        if (accumulation.accumulationDataLabelModule && this.dataLabel.visible) {\n            datalabelGroup = accumulation.renderer.createGroup({ id: accumulation.element.id + '_datalabel_Series_' + this.index });\n            datalabelGroup.style.visibility =\n                (this.animation.enable && accumulation.animateSeries && this.type === 'Pie') ? 'hidden' : 'visible';\n            this.renderDataLabel(accumulation, datalabelGroup);\n        }\n        if (this.type === 'Pie') {\n            this.findMaxBounds(this.labelBound, this.accumulationBound);\n            accumulation.pieSeriesModule.animateSeries(accumulation, this.animation, this, seriesGroup);\n        }\n        if (accumulation.accumulationLegendModule) {\n            this.labelBound.x -= accumulation.explodeDistance;\n            this.labelBound.y -= accumulation.explodeDistance;\n            this.labelBound.height += (accumulation.explodeDistance - this.labelBound.y);\n            this.labelBound.width += (accumulation.explodeDistance - this.labelBound.x);\n        }\n    };\n    /**\n     * Method render the points elements for accumulation chart series.\n     */\n    AccumulationSeries.prototype.renderPoints = function (accumulation, seriesGroup) {\n        var pointId = accumulation.element.id + '_Series_' + this.index + '_Point_';\n        var option;\n        for (var _i = 0, _a = this.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            var argsData = {\n                cancel: false, name: pointRender, series: this, point: point, fill: point.color,\n                border: this.isEmpty(point) ? { width: this.emptyPointSettings.border.width, color: this.emptyPointSettings.border.color } :\n                    { width: this.border.width, color: this.border.color }\n            };\n            accumulation.trigger(pointRender, argsData);\n            point.color = argsData.fill;\n            if (point.visible) {\n                option = new PathOption(pointId + point.index, point.color, argsData.border.width || 1, argsData.border.color || point.color, 1, '', '');\n                accumulation[(firstToLowerCase(this.type) + 'SeriesModule')].\n                    renderPoint(point, this, accumulation, option);\n                seriesGroup.appendChild(accumulation.renderer.drawPath(option));\n            }\n        }\n        accumulation.getSeriesElement().appendChild(seriesGroup);\n    };\n    /**\n     * Method render the datalabel elements for accumulation chart.\n     */\n    AccumulationSeries.prototype.renderDataLabel = function (accumulation, datalabelGroup) {\n        accumulation.accumulationDataLabelModule.findAreaRect();\n        var element = createElement('div', {\n            id: accumulation.element.id + '_Series_0' + '_DataLabelCollections'\n        });\n        for (var _i = 0, _a = this.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (point.visible) {\n                accumulation.accumulationDataLabelModule.renderDataLabel(point, this.dataLabel, datalabelGroup, this.points, this.index, element);\n            }\n        }\n        if (this.dataLabel.template !== null && element.childElementCount) {\n            getElement(accumulation.element.id + '_Secondary_Element').appendChild(element);\n        }\n        accumulation.getSeriesElement().appendChild(datalabelGroup);\n    };\n    /**\n     * To find maximum bounds for smart legend placing\n     * @private\n     */\n    AccumulationSeries.prototype.findMaxBounds = function (totalbound, bound) {\n        totalbound.x = bound.x < totalbound.x ? bound.x : totalbound.x;\n        totalbound.y = bound.y < totalbound.y ? bound.y : totalbound.y;\n        totalbound.height = (bound.y + bound.height) > totalbound.height ? (bound.y + bound.height) : totalbound.height;\n        totalbound.width = (bound.x + bound.width) > totalbound.width ? (bound.x + bound.width) : totalbound.width;\n    };\n    /**\n     * To set empty point value for null points\n     * @private\n     */\n    AccumulationSeries.prototype.setAccEmptyPoint = function (point, i, data, colors) {\n        if (!isNullOrUndefined(point.y)) {\n            return null;\n        }\n        point.color = this.emptyPointSettings.fill || point.color;\n        switch (this.emptyPointSettings.mode) {\n            case 'Zero':\n                point.y = 0;\n                point.visible = true;\n                break;\n            case 'Average':\n                var previous = data[i - 1] ? (data[i - 1][this.yName] || 0) : 0;\n                var next = data[i + 1] ? (data[i + 1][this.yName] || 0) : 0;\n                point.y = (Math.abs(previous) + Math.abs(next)) / 2;\n                this.sumOfPoints += point.y;\n                point.visible = true;\n                break;\n            case 'Drop':\n                point.visible = false;\n                break;\n        }\n    };\n    /**\n     * To find point is empty\n     */\n    AccumulationSeries.prototype.isEmpty = function (point) {\n        return point.color === this.emptyPointSettings.fill;\n    };\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], AccumulationSeries.prototype, \"query\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"xName\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"yName\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationSeries.prototype, \"visible\", void 0);\n    __decorate([\n        Complex({ color: null, width: 0 }, Border)\n    ], AccumulationSeries.prototype, \"border\", void 0);\n    __decorate([\n        Complex(null, Animation)\n    ], AccumulationSeries.prototype, \"animation\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], AccumulationSeries.prototype, \"legendShape\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationSeries.prototype, \"selectionStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationSeries.prototype, \"groupTo\", void 0);\n    __decorate([\n        Complex({}, AccumulationDataLabelSettings)\n    ], AccumulationSeries.prototype, \"dataLabel\", void 0);\n    __decorate([\n        Property([])\n    ], AccumulationSeries.prototype, \"palettes\", void 0);\n    __decorate([\n        Property(0)\n    ], AccumulationSeries.prototype, \"startAngle\", void 0);\n    __decorate([\n        Property(360)\n    ], AccumulationSeries.prototype, \"endAngle\", void 0);\n    __decorate([\n        Property('80%')\n    ], AccumulationSeries.prototype, \"radius\", void 0);\n    __decorate([\n        Property('0')\n    ], AccumulationSeries.prototype, \"innerRadius\", void 0);\n    __decorate([\n        Property('Pie')\n    ], AccumulationSeries.prototype, \"type\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationSeries.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], AccumulationSeries.prototype, \"explode\", void 0);\n    __decorate([\n        Property('30%')\n    ], AccumulationSeries.prototype, \"explodeOffset\", void 0);\n    __decorate([\n        Property(false)\n    ], AccumulationSeries.prototype, \"explodeAll\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationSeries.prototype, \"explodeIndex\", void 0);\n    __decorate([\n        Complex({ mode: 'Drop' }, EmptyPointSettings)\n    ], AccumulationSeries.prototype, \"emptyPointSettings\", void 0);\n    __decorate([\n        Property(0)\n    ], AccumulationSeries.prototype, \"gapRatio\", void 0);\n    __decorate([\n        Property('80%')\n    ], AccumulationSeries.prototype, \"width\", void 0);\n    __decorate([\n        Property('80%')\n    ], AccumulationSeries.prototype, \"height\", void 0);\n    __decorate([\n        Property('20%')\n    ], AccumulationSeries.prototype, \"neckWidth\", void 0);\n    __decorate([\n        Property('20%')\n    ], AccumulationSeries.prototype, \"neckHeight\", void 0);\n    __decorate([\n        Property('Linear')\n    ], AccumulationSeries.prototype, \"pyramidMode\", void 0);\n    return AccumulationSeries;\n}(ChildProperty));\nexport { AccumulationSeries };\n/**\n * method to get series from index\n * @private\n */\nexport function getSeriesFromIndex(index, visibleSeries) {\n    for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n        var series = visibleSeries_1[_i];\n        if (index === series.index) {\n            return series;\n        }\n    }\n    return visibleSeries[0];\n}\n/**\n * method to get point from index\n * @private\n */\nexport function pointByIndex(index, points) {\n    for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n        var point = points_1[_i];\n        if (point.index === index) {\n            return point;\n        }\n    }\n    return null;\n}\n/**\n * method to find series, point index by element id\n * @private\n */\nexport function indexFinder(id) {\n    var ids = ['NaN', 'NaN'];\n    if (id.indexOf('_Point_') > -1) {\n        ids = id.split('_Series_')[1].split('_Point_');\n    }\n    else if (id.indexOf('_shape_') > -1) {\n        ids = id.split('_shape_');\n        ids[0] = '0';\n    }\n    else if (id.indexOf('_text_') > -1) {\n        ids = id.split('_text_');\n        ids[0] = '0';\n    }\n    return new Index(parseInt(ids[0], 10), parseInt(ids[1], 10));\n}\n","import { createElement, detach, rippleEffect, setValue } from '@syncfusion/ej2-base';\nimport { getValue, addClass } from '@syncfusion/ej2-base';\n/**\n * Initialize wrapper element for angular.\n * @private\n */\nexport function wrapperInitialize(tag, type, element, WRAPPER) {\n    if (element.tagName === tag) {\n        var ejInstance = getValue('ej2_instances', element);\n        var input = createElement('input', { attrs: { 'type': type } });\n        var props = ['change', 'cssClass', 'label', 'labelPosition'];\n        var wrapper = createElement(tag, {\n            className: WRAPPER, attrs: { 'role': type, 'aria-checked': 'false' }\n        });\n        for (var index = 0, len = element.attributes.length; index < len; index++) {\n            if (props.indexOf(element.attributes[index].nodeName) === -1) {\n                input.setAttribute(element.attributes[index].nodeName, element.attributes[index].nodeValue);\n            }\n        }\n        element.parentNode.insertBefore(input, element);\n        detach(element);\n        element = input;\n        element.parentNode.insertBefore(wrapper, element);\n        wrapper.appendChild(element);\n        setValue('ej2_instances', ejInstance, element);\n    }\n    return element;\n}\nexport function getTextNode(element) {\n    var node;\n    var childnode = element.childNodes;\n    for (var i = 0; i < childnode.length; i++) {\n        node = childnode[i];\n        if (node.nodeType === 3) {\n            return node;\n        }\n    }\n    return null;\n}\n/**\n * Creates CheckBox component UI with theming and ripple support.\n * @private\n */\nexport function createCheckBox(enableRipple, options) {\n    if (enableRipple === void 0) { enableRipple = false; }\n    if (options === void 0) { options = {}; }\n    var wrapper = createElement('div', { className: 'e-checkbox-wrapper' });\n    if (options.cssClass) {\n        addClass([wrapper], options.cssClass.split(' '));\n    }\n    if (options.enableRtl) {\n        wrapper.classList.add('e-rtl');\n    }\n    if (enableRipple) {\n        var rippleSpan = createElement('span', { className: 'e-ripple-container' });\n        rippleEffect(rippleSpan, { isCenterRipple: true, duration: 400 });\n        wrapper.appendChild(rippleSpan);\n    }\n    var frameSpan = createElement('span', { className: 'e-frame e-icons' });\n    if (options.checked) {\n        frameSpan.classList.add('e-check');\n    }\n    wrapper.appendChild(frameSpan);\n    if (options.label) {\n        var labelSpan = createElement('span', { className: 'e-label', innerHTML: options.label });\n        wrapper.appendChild(labelSpan);\n    }\n    return wrapper;\n}\nexport function rippleMouseHandler(e, rippleSpan) {\n    if (rippleSpan) {\n        var event_1 = document.createEvent('MouseEvents');\n        event_1.initEvent(e.type, false, true);\n        rippleSpan.dispatchEvent(event_1);\n    }\n}\n","/**\n * Position library\n */\nvar elementRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\nexport function calculateRelativeBasedPosition(anchor, element) {\n    var anchorPos = { left: 0, top: 0 };\n    var tempAnchor = anchor;\n    if (!anchor || !element) {\n        return anchorPos;\n    }\n    while (element.offsetParent && anchor && element.offsetParent !== anchor) {\n        anchorPos.left += anchor.offsetLeft;\n        anchorPos.top += anchor.offsetTop;\n        anchor = anchor.offsetParent;\n    }\n    anchor = tempAnchor;\n    while (element.offsetParent && anchor && element.offsetParent !== anchor) {\n        anchorPos.left -= anchor.scrollLeft;\n        anchorPos.top -= anchor.scrollTop;\n        anchor = anchor.parentElement;\n    }\n    return anchorPos;\n}\nexport function calculatePosition(currentElement, positionX, positionY, parentElement) {\n    fixedParent = parentElement ? true : false;\n    if (!currentElement) {\n        return { left: 0, top: 0 };\n    }\n    if (!positionX) {\n        positionX = 'left';\n    }\n    if (!positionY) {\n        positionY = 'top';\n    }\n    parentDocument = currentElement.ownerDocument;\n    element = currentElement;\n    var pos = { left: 0, top: 0 };\n    return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\nfunction setPosx(value, pos) {\n    pos.left = value;\n}\nfunction setPosy(value, pos) {\n    pos.top = value;\n}\nfunction updatePosition(posX, posY, pos) {\n    elementRect = element.getBoundingClientRect();\n    switch (posY + posX) {\n        case 'topcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'topright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'centercenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'bottomcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        default:\n        case 'topleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n    }\n    return pos;\n}\nfunction getBodyScrollTop() {\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getElementBottom() {\n    return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\nfunction getElementVCenter() {\n    return getElementTop() + (elementRect.height / 2);\n}\nfunction getElementTop() {\n    return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\nfunction getElementLeft() {\n    return elementRect.left + getBodyScrollLeft();\n}\nfunction getElementRight() {\n    return elementRect.right + getBodyScrollLeft();\n}\nfunction getElementHCenter() {\n    return getElementLeft() + (elementRect.width / 2);\n}\n","/**\n * Collision module.\n */\nimport { calculatePosition } from './position';\nvar parentDocument;\nvar targetContainer;\nexport function fit(element, viewPortElement, axis, position) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: false, Y: false }; }\n    if (!axis.Y && !axis.X) {\n        return { left: 0, top: 0 };\n    }\n    var elemData = element.getBoundingClientRect();\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    if (!position) {\n        position = calculatePosition(element, 'left', 'top');\n    }\n    if (axis.X) {\n        var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n        var containerLeft = ContainerLeft();\n        var containerRight = ContainerRight();\n        var overLeft = containerLeft - position.left;\n        var overRight = position.left + elemData.width - containerRight;\n        if (elemData.width > containerWidth) {\n            if (overLeft > 0 && overRight <= 0) {\n                position.left = containerRight - elemData.width;\n            }\n            else if (overRight > 0 && overLeft <= 0) {\n                position.left = containerLeft;\n            }\n            else {\n                position.left = overLeft > overRight ? (containerRight - elemData.width) : containerLeft;\n            }\n        }\n        else if (overLeft > 0) {\n            position.left += overLeft;\n        }\n        else if (overRight > 0) {\n            position.left -= overRight;\n        }\n    }\n    if (axis.Y) {\n        var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n        var containerTop = ContainerTop();\n        var containerBottom = ContainerBottom();\n        var overTop = containerTop - position.top;\n        var overBottom = position.top + elemData.height - containerBottom;\n        if (elemData.height > containerHeight) {\n            if (overTop > 0 && overBottom <= 0) {\n                position.top = containerBottom - elemData.height;\n            }\n            else if (overBottom > 0 && overTop <= 0) {\n                position.top = containerTop;\n            }\n            else {\n                position.top = overTop > overBottom ? (containerBottom - elemData.height) : containerTop;\n            }\n        }\n        else if (overTop > 0) {\n            position.top += overTop;\n        }\n        else if (overBottom > 0) {\n            position.top -= overBottom;\n        }\n    }\n    return position;\n}\nexport function isCollide(element, viewPortElement, x, y) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    var elemOffset = calculatePosition(element, 'left', 'top');\n    if (x) {\n        elemOffset.left = x;\n    }\n    if (y) {\n        elemOffset.top = y;\n    }\n    var data = [];\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    var elementRect = element.getBoundingClientRect();\n    var top = elemOffset.top;\n    var left = elemOffset.left;\n    var right = elemOffset.left + elementRect.width;\n    var bottom = elemOffset.top + elementRect.height;\n    var topData = '';\n    var leftData = '';\n    var yAxis = topCollideCheck(top, bottom);\n    var xAxis = leftCollideCheck(left, right);\n    if (yAxis.topSide) {\n        data.push('top');\n    }\n    if (xAxis.rightSide) {\n        data.push('right');\n    }\n    if (xAxis.leftSide) {\n        data.push('left');\n    }\n    if (yAxis.bottomSide) {\n        data.push('bottom');\n    }\n    return data;\n}\nexport function flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement, axis, fixedParent) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: true, Y: true }; }\n    if (!target || !element || !positionX || !positionY || (!axis.X && !axis.Y)) {\n        return;\n    }\n    var tEdge = { TL: null,\n        TR: null,\n        BL: null,\n        BR: null };\n    var eEdge = {\n        TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n    };\n    var elementRect = element.getBoundingClientRect();\n    var pos = {\n        posX: positionX, posY: positionY, offsetX: offsetX, offsetY: offsetY, position: { left: 0, top: 0 }\n    };\n    targetContainer = viewPortElement;\n    parentDocument = target.ownerDocument;\n    updateElementData(target, tEdge, pos, fixedParent);\n    setPosition(eEdge, pos, elementRect);\n    if (axis.X) {\n        leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    if (axis.Y && tEdge.TL.top > -1) {\n        topFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    setPopup(element, pos);\n}\nfunction setPopup(element, pos) {\n    var left = 0;\n    var top = 0;\n    if (element.offsetParent != null\n        && (getComputedStyle(element.offsetParent).position === 'absolute' ||\n            getComputedStyle(element.offsetParent).position === 'relative')) {\n        var data = calculatePosition(element.offsetParent, 'left', 'top');\n        left = data.left;\n        top = data.top;\n    }\n    element.style.top = (pos.position.top + pos.offsetY - (top)) + 'px';\n    element.style.left = (pos.position.left + pos.offsetX - (left)) + 'px';\n}\nfunction updateElementData(target, edge, pos, fixedParent) {\n    pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent);\n    edge.TL = calculatePosition(target, 'left', 'top', fixedParent);\n    edge.TR = calculatePosition(target, 'right', 'top', fixedParent);\n    edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent);\n    edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent);\n}\nfunction setPosition(eStatus, pos, elementRect) {\n    eStatus.TL = { top: pos.position.top + pos.offsetY, left: pos.position.left + pos.offsetX };\n    eStatus.TR = { top: eStatus.TL.top, left: eStatus.TL.left + elementRect.width };\n    eStatus.BL = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left };\n    eStatus.BR = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left + elementRect.width };\n}\nfunction leftCollideCheck(left, right) {\n    var leftSide = false;\n    var rightSide = false;\n    if (((left - getBodyScrollLeft()) < ContainerLeft())) {\n        leftSide = true;\n    }\n    if (right > ContainerRight()) {\n        rightSide = true;\n    }\n    return { leftSide: leftSide, rightSide: rightSide };\n}\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n    if ((tEdge.TL.left - getBodyScrollLeft()) <= ContainerLeft()) {\n        collideSide.leftSide = false;\n    }\n    if (tEdge.TR.left >= ContainerRight()) {\n        collideSide.rightSide = false;\n    }\n    if ((collideSide.leftSide && !collideSide.rightSide) || (!collideSide.leftSide && collideSide.rightSide)) {\n        if (pos.posX === 'right') {\n            pos.posX = 'left';\n        }\n        else {\n            pos.posX = 'right';\n        }\n        pos.offsetX = pos.offsetX + elementRect.width;\n        pos.offsetX = -1 * pos.offsetX;\n        pos.position = calculatePosition(target, pos.posX, pos.posY);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            leftFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n    if ((tEdge.TL.top - getBodyScrollTop()) <= ContainerTop()) {\n        collideSide.topSide = false;\n    }\n    if (tEdge.BL.top >= ContainerBottom()) {\n        collideSide.bottomSide = false;\n    }\n    if ((collideSide.topSide && !collideSide.bottomSide) || (!collideSide.topSide && collideSide.bottomSide)) {\n        if (pos.posY === 'top') {\n            pos.posY = 'bottom';\n        }\n        else {\n            pos.posY = 'top';\n        }\n        pos.offsetY = pos.offsetY + elementRect.height;\n        pos.offsetY = -1 * pos.offsetY;\n        pos.position = calculatePosition(target, pos.posX, pos.posY);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            topFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topCollideCheck(top, bottom) {\n    var topSide = false;\n    var bottomSide = false;\n    if ((top - getBodyScrollTop()) < ContainerTop()) {\n        topSide = true;\n    }\n    if (bottom > ContainerBottom()) {\n        bottomSide = true;\n    }\n    return { topSide: topSide, bottomSide: bottomSide };\n}\nfunction getTargetContainerWidth() {\n    return targetContainer.getBoundingClientRect().width;\n}\nfunction getTargetContainerHeight() {\n    return targetContainer.getBoundingClientRect().height;\n}\nfunction getTargetContainerLeft() {\n    return targetContainer.getBoundingClientRect().left;\n}\nfunction getTargetContainerTop() {\n    return targetContainer.getBoundingClientRect().top;\n}\nfunction ContainerTop() {\n    if (targetContainer) {\n        return getTargetContainerTop();\n    }\n    return 0;\n}\nfunction ContainerLeft() {\n    if (targetContainer) {\n        return getTargetContainerLeft();\n    }\n    return 0;\n}\nfunction ContainerRight() {\n    if (targetContainer) {\n        return (getBodyScrollLeft() + getTargetContainerLeft() + getTargetContainerWidth());\n    }\n    return (getBodyScrollLeft() + getViewPortWidth());\n}\nfunction ContainerBottom() {\n    if (targetContainer) {\n        return (getBodyScrollTop() + getTargetContainerTop() + getTargetContainerHeight());\n    }\n    return (getBodyScrollTop() + getViewPortHeight());\n}\nfunction getBodyScrollTop() {\n    // if(targetContainer)\n    //     return targetContainer.scrollTop;\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    // if(targetContainer)\n    //     return targetContainer.scrollLeft;\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getViewPortHeight() {\n    return window.innerHeight;\n}\nfunction getViewPortWidth() {\n    return window.innerWidth;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide } from '../common/collision';\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.fixedParent = false;\n        return _this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     */\n    Popup.prototype.destroy = function () {\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL);\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.setEnableRtl();\n        this.setContent();\n        this.wireEvents();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     */\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = relateToElement.getBoundingClientRect();\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (scrollElement.getBoundingClientRect) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                this.element.appendChild(this.content);\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     */\n    Popup.prototype.refreshPosition = function (target) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        this.checkCollision();\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if (relateToElement) {\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        this.element.style.left = pos.left + 'px';\n        this.element.style.top = pos.top + 'px';\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n        var eleRect = ele.getBoundingClientRect();\n        var anchorRect = anchorEle.getBoundingClientRect();\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            var data = fit(this.element, this.viewPortElement, param);\n            this.element.style.left = data.left + 'px';\n            this.element.style.top = data.top + 'px';\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     * @param { AnimationModel | Function } collisionOrAnimationOptions? - To pass animation options or collision function.\n     * @param { Function } collision? - To pass the collision function.\n     */\n    Popup.prototype.show = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     * @param { AnimationModel } animationOptions? - To give the animation options.\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property(document.body)\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Property({ X: 'left', Y: 'top' })\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @private\n */\nexport function getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n","import { isNullOrUndefined, classList } from '@syncfusion/ej2-base';\nvar globalTimeOut = {};\nvar spinTemplate = null;\nvar spinCSSClass = null;\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_BOOT_WIDTH = 30;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n * @param args\n * @private\n */\nexport function createSpinner(args) {\n    var radius;\n    var container = create_spinner_container(args.target);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n}\nfunction createLabel(container, label) {\n    var labelEle = document.createElement('div');\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.textContent = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\nfunction createMaterialSpinner(container, radius) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID);\n    mat_calculate_attributes(radius, container);\n}\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\nfunction createFabricSpinner(container, radius) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID);\n    fb_calculate_attributes(radius, container);\n}\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\nfunction setTheme(theme, container, radius) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius);\n    }\n}\nfunction createBootstrapSpinner(innerContainer, radius) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID);\n    boot_calculate_attributes(innerContainer, radius);\n}\nfunction create_bootstrap_element(innerContainer, uniqueID) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    svg.style.width = svg.style.height = radius + 'px';\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    var increment = false;\n    var count = 1;\n    formSeries(start);\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\nfunction calculateRadius(width, theme) {\n    var defaultSize = theme === 'Material' ? DEFT_MAT_WIDTH : theme === 'Fabric' ? DEFT_FAB_WIDTH : DEFT_BOOT_WIDTH;\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\nfunction create_fabric_element(innerContainer, uniqueID) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', CLS_FABRICSPIN);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerContainer.insertBefore(svgFabric, innerContainer.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\nfunction create_material_element(innerContainer, uniqueID) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgMaterial.setAttribute('class', CLS_MATERIALSPIN);\n    svgMaterial.setAttribute('id', uniqueID);\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\nfunction create_spinner_container(target) {\n    var spinnerContainer = document.createElement('div');\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    var spinnerInnerContainer = document.createElement('div');\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            var svg = container.querySelector('svg.e-spin-material');\n            var path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\nfunction mat_calculate_attributes(radius, container) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.e-spin-material');\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('stroke-width', strokeSize + '');\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n    path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n}\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\nfunction fb_calculate_attributes(radius, innerConainer) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    var startArc = 315;\n    var endArc = 45;\n    var svg = innerConainer.querySelector('.e-spin-fabric');\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0,\n    ].join(' ');\n    return d;\n}\n/**\n * Function to show the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function showSpinner(container) {\n    showHideSpinner(container, false);\n}\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n        container.querySelector('.' + CLS_SPINWRAP);\n    var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n    var spinCheck;\n    spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n        !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n    if (spinCheck) {\n        var svgEle = spinnerWrap.querySelector('svg');\n        if (isNullOrUndefined(svgEle)) {\n            return;\n        }\n        var id = svgEle.getAttribute('id');\n        globalTimeOut[id].isAnimate = !isHide;\n        switch (globalTimeOut[id].type) {\n            case 'Material':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                break;\n            case 'Bootstrap':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                break;\n        }\n    }\n    isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n}\n/**\n * Function to hide the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function hideSpinner(container) {\n    showHideSpinner(container, true);\n}\n/**\n * Function to change the Spinners in a page globally from application end.\n * ```\n * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n * ```\n * @param args\n * @private\n */\nexport function setSpinner(args) {\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass);\n    }\n}\nfunction ensureTemplate(template, container, theme, cssClass) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\nfunction replaceTheme(container, theme, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        var id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius);\n}\n","import { isNullOrUndefined, merge } from './util';\nvar headerRegex = /^(.*?):[ \\t]*([^\\r\\n]*)$/gm;\nvar defaultType = 'GET';\n/**\n * Ajax class provides ability to make asynchronous HTTP request to the server\n * ```typescript\n *   var ajax = new Ajax(\"index.html\", \"GET\", true);\n *   ajax.send().then(\n *               function (value) {\n *                   console.log(value);\n *               },\n *               function (reason) {\n *                   console.log(reason);\n *               });\n * ```\n */\nvar Ajax = /** @class */ (function () {\n    /**\n     * Constructor for Ajax class\n     * @param  {string|Object} options?\n     * @param  {string} type?\n     * @param  {boolean} async?\n     * @returns defaultType\n     */\n    function Ajax(options, type, async) {\n        /**\n         * A boolean value indicating whether the request should be sent asynchronous or not.\n         * @default true\n         */\n        this.mode = true;\n        this.options = {};\n        if (typeof options === 'string') {\n            this.url = options;\n            this.type = type ? type.toUpperCase() : defaultType;\n            this.mode = !isNullOrUndefined(async) ? async : true;\n        }\n        else if (typeof options === 'object') {\n            this.options = options;\n            merge(this, this.options);\n        }\n        this.type = this.type ? this.type.toUpperCase() : defaultType;\n    }\n    /**\n     * Send the request to server.\n     * @param {any} data - To send the user data\n     * @return {Promise}\n     */\n    Ajax.prototype.send = function (data) {\n        var _this = this;\n        this.data = isNullOrUndefined(data) ? this.data : data;\n        var promise = new Promise(function (resolve, reject) {\n            _this.httpRequest = new XMLHttpRequest();\n            _this.httpRequest.onreadystatechange = function () { _this.stateChange(resolve, reject); };\n            _this.httpRequest.open(_this.type, _this.url, _this.mode);\n            // Set default headers\n            if (!isNullOrUndefined(_this.data)) {\n                _this.httpRequest.setRequestHeader('Content-Type', _this.contentType || 'application/json; charset=utf-8');\n            }\n            if (_this.beforeSend) {\n                _this.beforeSend();\n            }\n            _this.httpRequest.send(!isNullOrUndefined(_this.data) ? _this.data : null);\n        });\n        return promise;\n    };\n    Ajax.prototype.successHandler = function (data) {\n        if (this.onSuccess) {\n            this.onSuccess(data, this);\n        }\n        return data;\n    };\n    Ajax.prototype.failureHandler = function (reason) {\n        if (this.onFailure) {\n            this.onFailure(this.httpRequest);\n        }\n        return reason;\n    };\n    Ajax.prototype.stateChange = function (resolve, reject) {\n        var data = this.httpRequest.responseText;\n        if (this.dataType && this.dataType.toLowerCase() === 'json') {\n            if (data === '') {\n                data = undefined;\n            }\n            else {\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (error) {\n                    // no exception handle\n                }\n            }\n        }\n        if (this.httpRequest.readyState === 4) {\n            if (this.httpRequest.status === 200 || this.httpRequest.status === 304) {\n                resolve(this.successHandler(data));\n            }\n            else {\n                reject(new Error(this.failureHandler(this.httpRequest.statusText)));\n            }\n        }\n    };\n    /**\n     * To get the response header from XMLHttpRequest\n     * @param  {string} key Key to search in the response header\n     * @returns {string}\n     */\n    Ajax.prototype.getResponseHeader = function (key) {\n        var responseHeaders;\n        var header;\n        responseHeaders = {};\n        var headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        while (headers) {\n            responseHeaders[headers[1].toLowerCase()] = headers[2];\n            headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        }\n        header = responseHeaders[key.toLowerCase()];\n        return isNullOrUndefined(header) ? null : header;\n    };\n    return Ajax;\n}());\nexport { Ajax };\n","import { debounce, extend } from './util';\n/**\n * EventHandler class provides option to add, remove, clear and trigger events to a HTML DOM element\n * @private\n * ```html\n * <div id=\"Eventdiv\">  </div>\n * <script>\n *   let node: HTMLElement = document.querySelector(\"#Eventdiv\");\n *   EventHandler.addEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   EventHandler.addEventListener(node, \"onmouseover\", function(){\n *       // mouseover handler function code\n *   });\n *   EventHandler.removeEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   eventObj.clearEvents();\n * </script>\n * ```\n */\nvar EventHandler = /** @class */ (function () {\n    function EventHandler() {\n    }\n    // to get the event data based on element\n    EventHandler.addOrGetEventData = function (element) {\n        if ('__eventList' in element) {\n            return element.__eventList.events;\n        }\n        else {\n            element.__eventList = {};\n            return element.__eventList.events = [];\n        }\n    };\n    /**\n     * Add an event to the specified DOM element.\n     * @param {any} element - Target HTML DOM element\n     * @param {string} eventName - A string that specifies the name of the event\n     * @param {Function} listener - Specifies the function to run when the event occurs\n     * @param {Object} bindTo - A object that binds 'this' variable in the event handler\n     * @param {number} debounce - Specifies at what interval given event listener should be triggered.\n     * @return {Function}\n     */\n    EventHandler.add = function (element, eventName, listener, bindTo, intDebounce) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var debounceListener;\n        if (intDebounce) {\n            debounceListener = debounce(listener, intDebounce);\n        }\n        else {\n            debounceListener = listener;\n        }\n        if (bindTo) {\n            debounceListener = debounceListener.bind(bindTo);\n        }\n        var event = eventName.split(' ');\n        for (var i = 0; i < event.length; i++) {\n            eventData.push({\n                name: event[i],\n                listener: listener,\n                debounce: debounceListener\n            });\n            element.addEventListener(event[i], debounceListener);\n        }\n        return debounceListener;\n    };\n    /**\n     * Remove an event listener that has been attached before.\n     * @param {any} element - Specifies the target html element to remove the event\n     * @param {string} eventName - A string that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    EventHandler.remove = function (element, eventName, listener) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var event = eventName.split(' ');\n        var _loop_1 = function (j) {\n            var index = -1;\n            var debounceListener;\n            if (eventData && eventData.length !== 0) {\n                eventData.some(function (x, i) {\n                    return x.name === event[j] && x.listener === listener ?\n                        (index = i, debounceListener = x.debounce, true) : false;\n                });\n            }\n            if (index !== -1) {\n                eventData.splice(index, 1);\n            }\n            if (debounceListener) {\n                element.removeEventListener(event[j], debounceListener);\n            }\n        };\n        for (var j = 0; j < event.length; j++) {\n            _loop_1(j);\n        }\n    };\n    /**\n     * Clear all the event listeners that has been previously attached to the element.\n     * @param {any} element - Specifies the target html element to clear the events\n     * @return {void}\n     */\n    EventHandler.clearEvents = function (element) {\n        var eventData;\n        var copyData;\n        eventData = EventHandler.addOrGetEventData(element);\n        copyData = extend([], copyData, eventData);\n        for (var i = 0; i < copyData.length; i++) {\n            element.removeEventListener(copyData[i].name, copyData[i].debounce);\n            eventData.shift();\n        }\n    };\n    /**\n     * Trigger particular event of the element.\n     * @param {any} element - Specifies the target html element to trigger the events\n     * @param {string} eventName - Specifies the event to trigger for the specified element.\n     * Can be a custom event, or any of the standard events.\n     * @param {any} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    EventHandler.trigger = function (element, eventName, eventProp) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var fn = null;\n        for (var _i = 0, eventData_1 = eventData; _i < eventData_1.length; _i++) {\n            var event_1 = eventData_1[_i];\n            if (event_1.name === eventName) {\n                event_1.debounce.call(this, eventProp);\n            }\n        }\n    };\n    return EventHandler;\n}());\nexport { EventHandler };\n","import { isNullOrUndefined, getValue } from './util';\nvar Observer = /** @class */ (function () {\n    function Observer(context) {\n        this.boundedEvents = {};\n        if (isNullOrUndefined(context)) {\n            return;\n        }\n        this.context = context;\n    }\n    ;\n    /**\n     * To attach handler for given property in current context.\n     * @param {string} property - specifies the name of the event.\n     * @param {Function} handler - Specifies the handler function to be called while event notified.\n     * @param {Object} context - Specifies the context binded to the handler.\n     * @return {void}\n     */\n    Observer.prototype.on = function (property, handler, context) {\n        if (isNullOrUndefined(handler)) {\n            return;\n        }\n        var cntxt = context || this.context;\n        if (this.notExist(property)) {\n            this.boundedEvents[property] = [{ handler: handler, context: cntxt }];\n            return;\n        }\n        if (!this.isHandlerPresent(this.boundedEvents[property], handler)) {\n            this.boundedEvents[property].push({ handler: handler, context: cntxt });\n        }\n    };\n    /**\n     * To remove handlers from a event attached using on() function.\n     * @param {string} eventName - specifies the name of the event.\n     * @param {Function} handler - Optional argument specifies the handler function to be called while event notified.\n     * @return {void}\n     */\n    Observer.prototype.off = function (property, handler) {\n        if (this.notExist(property)) {\n            return;\n        }\n        var curObject = getValue(property, this.boundedEvents);\n        if (handler) {\n            for (var i = 0; i < curObject.length; i++) {\n                if (handler === curObject[i].handler) {\n                    curObject.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        else {\n            delete this.boundedEvents[property];\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     *  @param {Object} args - Additional parameters to pass while calling the handler.\n     * @return {void}\n     */\n    Observer.prototype.notify = function (property, argument) {\n        if (this.notExist(property)) {\n            return;\n        }\n        if (argument) {\n            argument.name = property;\n        }\n        var curObject = getValue(property, this.boundedEvents).slice(0);\n        for (var _i = 0, curObject_1 = curObject; _i < curObject_1.length; _i++) {\n            var cur = curObject_1[_i];\n            cur.handler.call(cur.context, argument);\n        }\n    };\n    /**\n     * To destroy handlers in the event\n     */\n    Observer.prototype.destroy = function () {\n        this.boundedEvents = this.context = undefined;\n    };\n    /**\n     * Returns if the property exists.\n     */\n    Observer.prototype.notExist = function (prop) {\n        return this.boundedEvents.hasOwnProperty(prop) === false;\n    };\n    /**\n     * Returns if the handler is present.\n     */\n    Observer.prototype.isHandlerPresent = function (boundedEvents, handler) {\n        for (var _i = 0, boundedEvents_1 = boundedEvents; _i < boundedEvents_1.length; _i++) {\n            var cur = boundedEvents_1[_i];\n            if (cur.handler === handler) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Observer;\n}());\nexport { Observer };\n","import { isUndefined, isNullOrUndefined, merge, setImmediate, setValue } from './util';\nimport { addClass, removeClass } from './dom';\nimport { Observer } from './observer';\n/* tslint:enable:no-any */\n/**\n * Base library module is common module for Framework modules like touch,keyboard and etc.,\n * @private\n */\nvar Base = /** @class */ (function () {\n    /**\n     * Base constructor accept options and element\n     */\n    function Base(options, element) {\n        this.isProtectedOnChange = true;\n        this.properties = {};\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.refreshing = false;\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.childChangedProperties = {};\n        this.modelObserver = new Observer(this);\n        if (!isUndefined(element)) {\n            if ('string' === typeof (element)) {\n                this.element = document.querySelector(element);\n            }\n            else {\n                this.element = element;\n            }\n            if (!isNullOrUndefined(this.element)) {\n                this.isProtectedOnChange = false;\n                this.addInstance();\n            }\n        }\n        if (!isUndefined(options)) {\n            this.setProperties(options, true);\n        }\n        this.isDestroyed = false;\n    }\n    /** Property base section */\n    /**\n     * Function used to set bunch of property at a time.\n     * @private\n     * @param  {Object} prop - JSON object which holds components properties.\n     * @param  {boolean} muteOnChange? - Specifies to true when we set properties.\n     */\n    Base.prototype.setProperties = function (prop, muteOnChange) {\n        var prevDetection = this.isProtectedOnChange;\n        this.isProtectedOnChange = !!muteOnChange;\n        merge(this, prop);\n        if (muteOnChange !== true) {\n            merge(this.changedProperties, prop);\n            this.dataBind();\n        }\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.isProtectedOnChange = prevDetection;\n    };\n    ;\n    /**\n     * Calls for child element data bind\n     * @param {Object} obj\n     * @param {Object} parent\n     * @returns {void}\n     */\n    // tslint:disable-next-line:no-any\n    Base.callChildDataBind = function (obj, parent) {\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (parent[key] instanceof Array) {\n                for (var _a = 0, _b = parent[key]; _a < _b.length; _a++) {\n                    var obj_1 = _b[_a];\n                    if (obj_1.dataBind !== undefined) {\n                        obj_1.dataBind();\n                    }\n                }\n            }\n            else {\n                parent[key].dataBind();\n            }\n        }\n    };\n    Base.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.childChangedProperties = {};\n    };\n    /**\n     * Bind property changes immediately to components\n     */\n    Base.prototype.dataBind = function () {\n        Base.callChildDataBind(this.childChangedProperties, this);\n        if (Object.getOwnPropertyNames(this.changedProperties).length) {\n            var prevDetection = this.isProtectedOnChange;\n            var newChanges = this.changedProperties;\n            var oldChanges = this.oldProperties;\n            this.clearChanges();\n            this.isProtectedOnChange = true;\n            this.onPropertyChanged(newChanges, oldChanges);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    ;\n    Base.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.finalUpdate();\n        this.finalUpdate = setImmediate(this.dataBind.bind(this));\n    };\n    ;\n    /** Event Base Section */\n    /**\n     * Adds the handler to the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event\n     * @param {Function} listener - Specifies the call to run when the event occurs.\n     * @return {void}\n     */\n    Base.prototype.addEventListener = function (eventName, handler) {\n        this.modelObserver.on(eventName, handler);\n    };\n    /**\n     * Removes the handler from the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    Base.prototype.removeEventListener = function (eventName, handler) {\n        this.modelObserver.off(eventName, handler);\n    };\n    /**\n     * Triggers the handlers in the specified event.\n     * @private\n     * @param {string} eventName - Specifies the event to trigger for the specified component properties.\n     * Can be a custom event, or any of the standard events.\n     * @param {Event} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    Base.prototype.trigger = function (eventName, eventProp) {\n        if (this.isDestroyed !== true) {\n            var prevDetection = this.isProtectedOnChange;\n            this.isProtectedOnChange = false;\n            this.modelObserver.notify(eventName, eventProp);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    /**\n     * To maintain instance in base class\n     */\n    Base.prototype.addInstance = function () {\n        // Add module class to the root element\n        var moduleClass = 'e-' + this.getModuleName().toLowerCase();\n        addClass([this.element], ['e-control', moduleClass]);\n        if (!isNullOrUndefined(this.element.ej2_instances)) {\n            this.element.ej2_instances.push(this);\n        }\n        else {\n            setValue('ej2_instances', [this], this.element);\n        }\n    };\n    /**\n     * To remove the instance from the element\n     */\n    Base.prototype.destroy = function () {\n        var _this = this;\n        this.element.ej2_instances =\n            this.element.ej2_instances.filter(function (i) { return i !== _this; });\n        removeClass([this.element], ['e-' + this.getModuleName()]);\n        if (this.element.ej2_instances.length === 0) {\n            // Remove module class from the root element\n            removeClass([this.element], ['e-control']);\n        }\n        this.clearChanges();\n        this.modelObserver.destroy();\n        this.isDestroyed = true;\n    };\n    return Base;\n}());\nexport { Base };\n","import { isUndefined } from './util';\nvar REGX_MOBILE = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i;\nvar REGX_IE = /msie|trident/i;\nvar REGX_IE11 = /Trident\\/7\\./;\nvar REGX_IOS = /(ipad|iphone|ipod touch)/i;\nvar REGX_IOS7 = /(ipad|iphone|ipod touch);.*os 7_\\d|(ipad|iphone|ipod touch);.*os 8_\\d/i;\nvar REGX_ANDROID = /android/i;\nvar REGX_WINDOWS = /trident|windows phone|edge/i;\nvar REGX_VERSION = /(version)[ \\/]([\\w.]+)/i;\nvar REGX_BROWSER = {\n    OPERA: /(opera|opr)(?:.*version|)[ \\/]([\\w.]+)/i,\n    EDGE: /(edge)(?:.*version|)[ \\/]([\\w.]+)/i,\n    CHROME: /(chrome|crios)[ \\/]([\\w.]+)/i,\n    PANTHOMEJS: /(phantomjs)[ \\/]([\\w.]+)/i,\n    SAFARI: /(safari)[ \\/]([\\w.]+)/i,\n    WEBKIT: /(webkit)[ \\/]([\\w.]+)/i,\n    MSIE: /(msie|trident) ([\\w.]+)/i,\n    MOZILLA: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n};\nwindow.browserDetails = window.browserDetails || {};\n/**\n * Get configuration details for Browser\n * @private\n */\nvar Browser = /** @class */ (function () {\n    function Browser() {\n    }\n    Browser.extractBrowserDetail = function () {\n        var browserInfo = { culture: {} };\n        var keys = Object.keys(REGX_BROWSER);\n        var clientInfo = [];\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            clientInfo = Browser.userAgent.match(REGX_BROWSER[key]);\n            if (clientInfo) {\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'opr' ? 'opera' : clientInfo[1].toLowerCase());\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'crios' ? 'chrome' : browserInfo.name);\n                browserInfo.version = clientInfo[2];\n                browserInfo.culture.name = browserInfo.culture.language = navigator.language;\n                if (!!Browser.userAgent.match(REGX_IE11)) {\n                    browserInfo.name = 'msie';\n                    break;\n                }\n                var version = Browser.userAgent.match(REGX_VERSION);\n                if (browserInfo.name === 'safari' && version) {\n                    browserInfo.version = version[2];\n                }\n                break;\n            }\n        }\n        return browserInfo;\n    };\n    /**\n     * To get events from the browser\n     * @param {string} event - type of event triggered.\n     * @returns {Boolean}\n     */\n    Browser.getEvent = function (event) {\n        // tslint:disable-next-line:no-any\n        var events = {\n            start: {\n                isPointer: 'pointerdown', isTouch: 'touchstart', isDevice: 'mousedown'\n            },\n            move: {\n                isPointer: 'pointermove', isTouch: 'touchmove', isDevice: 'mousemove'\n            },\n            end: {\n                isPointer: 'pointerup', isTouch: 'touchend', isDevice: 'mouseup'\n            }\n        };\n        return (Browser.isPointer ? events[event].isPointer :\n            (Browser.isTouch ? events[event].isTouch + (!Browser.isDevice ? ' ' + events[event].isDevice : '')\n                : events[event].isDevice));\n    };\n    /**\n     * To get the Touch start event from browser\n     * @returns {string}\n     */\n    Browser.getTouchStartEvent = function () {\n        return Browser.getEvent('start');\n    };\n    /**\n     * To get the Touch end event from browser\n     * @returns {string}\n     */\n    Browser.getTouchEndEvent = function () {\n        return Browser.getEvent('end');\n    };\n    /**\n     * To get the Touch move event from browser\n     * @returns {string}\n     */\n    Browser.getTouchMoveEvent = function () {\n        return Browser.getEvent('move');\n    };\n    /**\n     * To get the value based on provided key and regX\n     * @param {string} key\n     * @param {RegExp} regX\n     * @returns {Object}\n     */\n    Browser.getValue = function (key, regX) {\n        var browserDetails = window.browserDetails;\n        if ('undefined' === typeof browserDetails[key]) {\n            return browserDetails[key] = regX.test(Browser.userAgent);\n        }\n        return browserDetails[key];\n    };\n    Object.defineProperty(Browser, \"userAgent\", {\n        get: function () {\n            return Browser.uA;\n        },\n        //Properties \n        /**\n         * Property specifies the userAgent of the browser. Default userAgent value is based on the browser.\n         * Also we can set our own userAgent.\n         */\n        set: function (uA) {\n            Browser.uA = uA;\n            window.browserDetails = {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"info\", {\n        //Read Only Properties\n        /**\n         * Property is to get the browser information like Name, Version and Language\n         * @returns BrowserInfo\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.info)) {\n                return window.browserDetails.info = Browser.extractBrowserDetail();\n            }\n            return window.browserDetails.info;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIE\", {\n        /**\n         * Property is to get whether the userAgent is based IE.\n         */\n        get: function () {\n            return Browser.getValue('isIE', REGX_IE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isTouch\", {\n        /**\n         * Property is to get whether the browser has touch support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isTouch)) {\n                return window.browserDetails.isTouch = ('ontouchstart' in window);\n            }\n            return window.browserDetails.isTouch;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isPointer\", {\n        /**\n         * Property is to get whether the browser has Pointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isPointer)) {\n                return window.browserDetails.isPointer = ('pointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isMSPointer\", {\n        /**\n         * Property is to get whether the browser has MSPointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isMSPointer)) {\n                return window.browserDetails.isMSPointer = ('msPointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isMSPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isDevice\", {\n        /**\n         * Property is to get whether the userAgent is device based.\n         */\n        get: function () {\n            return Browser.getValue('isDevice', REGX_MOBILE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos\", {\n        /**\n         * Property is to get whether the userAgent is IOS.\n         */\n        get: function () {\n            return Browser.getValue('isIos', REGX_IOS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos7\", {\n        /**\n         * Property is to get whether the userAgent is Ios7.\n         */\n        get: function () {\n            return Browser.getValue('isIos7', REGX_IOS7);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isAndroid\", {\n        /**\n         * Property is to get whether the userAgent is Android.\n         */\n        get: function () {\n            return Browser.getValue('isAndroid', REGX_ANDROID);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWebView\", {\n        /**\n         * Property is to identify whether application ran in web view.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isWebView)) {\n                window.browserDetails.isWebView = !(isUndefined(window.cordova) && isUndefined(window.PhoneGap)\n                    && isUndefined(window.phonegap) && window.forge !== 'object');\n                return window.browserDetails.isWebView;\n            }\n            return window.browserDetails.isWebView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWindows\", {\n        /**\n         * Property is to get whether the userAgent is Windows.\n         */\n        get: function () {\n            return Browser.getValue('isWindows', REGX_WINDOWS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchStartEvent\", {\n        /**\n         * Property is to get the touch start event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchStartEvent)) {\n                return window.browserDetails.touchStartEvent = Browser.getTouchStartEvent();\n            }\n            return window.browserDetails.touchStartEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchMoveEvent\", {\n        /**\n         * Property is to get the touch move event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchMoveEvent)) {\n                return window.browserDetails.touchMoveEvent = Browser.getTouchMoveEvent();\n            }\n            return window.browserDetails.touchMoveEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchEndEvent\", {\n        /**\n         * Property is to get the touch end event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchEndEvent)) {\n                return window.browserDetails.touchEndEvent = Browser.getTouchEndEvent();\n            }\n            return window.browserDetails.touchEndEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Browser.uA = navigator.userAgent;\n    return Browser;\n}());\nexport { Browser };\n","import { throwError, getValue, isNullOrUndefined, extend } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { DateFormat } from './date-formatter';\nimport { NumberFormat } from './number-formatter';\n/**\n * Date base common constants and function for date parser and formatter.\n */\nexport var IntlBase;\n(function (IntlBase) {\n    // tslint:disable-next-line:max-line-length\n    IntlBase.negativeDataRegex = /^(('[^']+'|''|[^*#@0,.E])*)(\\*.)?((([#,]*[0,]*0+)(\\.0*[0-9]*#*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\\*.)?((([0#,]*[0,]*[0#]*)(\\.[0#]*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.latnParseRegex = /0|1|2|3|4|5|6|7|8|9/g;\n    var fractionRegex = /[0-9]/g;\n    IntlBase.defaultCurrency = '$';\n    var mapper = ['infinity', 'nan', 'group', 'decimal'];\n    var patternRegex = /G|M|L|H|c|'| a|yy|y|EEEE|E/g;\n    var patternMatch = {\n        'G': '',\n        'M': 'm',\n        'L': 'm',\n        'H': 'h',\n        'c': 'd',\n        '\\'': '\"',\n        ' a': ' AM/PM',\n        'yy': 'yy',\n        'y': 'yyyy',\n        'EEEE': 'dddd',\n        'E': 'ddd'\n    };\n    IntlBase.formatRegex = /(^[ncpa]{1})([0-1]?[0-9]|20)?$/i;\n    var typeMapper = {\n        '$': 'isCurrency',\n        '%': 'isPercent',\n        '-': 'isNegative',\n        0: 'nlead',\n        1: 'nend'\n    };\n    IntlBase.dateParseRegex = /([a-z])\\1*|'([^']|'')+'|''|./gi;\n    IntlBase.basicPatterns = ['short', 'medium', 'long', 'full'];\n    /* tslint:disable:quotemark */\n    IntlBase.defaultObject = {\n        'dates': {\n            'calendars': {\n                'gregorian': {\n                    'months': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                '1': 'Jan',\n                                '2': 'Feb',\n                                '3': 'Mar',\n                                '4': 'Apr',\n                                '5': 'May',\n                                '6': 'Jun',\n                                '7': 'Jul',\n                                '8': 'Aug',\n                                '9': 'Sep',\n                                '10': 'Oct',\n                                '11': 'Nov',\n                                '12': 'Dec'\n                            },\n                            'narrow': {\n                                '1': 'J',\n                                '2': 'F',\n                                '3': 'M',\n                                '4': 'A',\n                                '5': 'M',\n                                '6': 'J',\n                                '7': 'J',\n                                '8': 'A',\n                                '9': 'S',\n                                '10': 'O',\n                                '11': 'N',\n                                '12': 'D'\n                            },\n                            'wide': {\n                                '1': 'January',\n                                '2': 'February',\n                                '3': 'March',\n                                '4': 'April',\n                                '5': 'May',\n                                '6': 'June',\n                                '7': 'July',\n                                '8': 'August',\n                                '9': 'September',\n                                '10': 'October',\n                                '11': 'November',\n                                '12': 'December'\n                            }\n                        }\n                    },\n                    \"days\": {\n                        \"stand-alone\": {\n                            \"abbreviated\": {\n                                \"sun\": \"Sun\",\n                                \"mon\": \"Mon\",\n                                \"tue\": \"Tue\",\n                                \"wed\": \"Wed\",\n                                \"thu\": \"Thu\",\n                                \"fri\": \"Fri\",\n                                \"sat\": \"Sat\"\n                            },\n                            \"narrow\": {\n                                \"sun\": \"S\",\n                                \"mon\": \"M\",\n                                \"tue\": \"T\",\n                                \"wed\": \"W\",\n                                \"thu\": \"T\",\n                                \"fri\": \"F\",\n                                \"sat\": \"S\"\n                            },\n                            \"short\": {\n                                \"sun\": \"Su\",\n                                \"mon\": \"Mo\",\n                                \"tue\": \"Tu\",\n                                \"wed\": \"We\",\n                                \"thu\": \"Th\",\n                                \"fri\": \"Fr\",\n                                \"sat\": \"Sa\"\n                            },\n                            \"wide\": {\n                                \"sun\": \"Sunday\",\n                                \"mon\": \"Monday\",\n                                \"tue\": \"Tuesday\",\n                                \"wed\": \"Wednesday\",\n                                \"thu\": \"Thursday\",\n                                \"fri\": \"Friday\",\n                                \"sat\": \"Saturday\"\n                            }\n                        }\n                    },\n                    \"dayPeriods\": {\n                        \"format\": {\n                            \"wide\": {\n                                \"am\": \"AM\",\n                                \"pm\": \"PM\"\n                            }\n                        }\n                    },\n                    'eras': {\n                        'eraNames': {\n                            '0': 'Before Christ',\n                            '0-alt-variant': 'Before Common Era',\n                            '1': 'Anno Domini',\n                            \"1-alt-variant\": \"Common Era\"\n                        },\n                        'eraAbbr': {\n                            '0': 'BC',\n                            '0-alt-variant': 'BCE',\n                            '1': 'AD',\n                            '1-alt-variant': 'CE'\n                        },\n                        'eraNarrow': {\n                            '0': 'B',\n                            '0-alt-variant': 'BCE',\n                            '1': 'A',\n                            '1-alt-variant': 'CE'\n                        }\n                    },\n                    'dateFormats': {\n                        'full': 'EEEE, MMMM d, y',\n                        'long': 'MMMM d, y',\n                        'medium': 'MMM d, y',\n                        'short': 'M/d/yy'\n                    },\n                    'timeFormats': {\n                        'full': 'h:mm:ss a zzzz',\n                        'long': 'h:mm:ss a z',\n                        'medium': 'h:mm:ss a',\n                        'short': 'h:mm a'\n                    },\n                    'dateTimeFormats': {\n                        'full': \"{1} 'at' {0}\",\n                        'long': \"{1} 'at' {0}\",\n                        'medium': '{1}, {0}',\n                        'short': '{1}, {0}',\n                        'availableFormats': {\n                            'd': 'd',\n                            'E': 'ccc',\n                            'Ed': 'd E',\n                            'Ehm': 'E h:mm a',\n                            'EHm': 'E HH:mm',\n                            'Ehms': 'E h:mm:ss a',\n                            'EHms': 'E HH:mm:ss',\n                            'Gy': 'y G',\n                            'GyMMM': 'MMM y G',\n                            'GyMMMd': 'MMM d, y G',\n                            'GyMMMEd': 'E, MMM d, y G',\n                            'h': 'h a',\n                            'H': 'HH',\n                            'hm': 'h:mm a',\n                            'Hm': 'HH:mm',\n                            'hms': 'h:mm:ss a',\n                            'Hms': 'HH:mm:ss',\n                            'hmsv': 'h:mm:ss a v',\n                            'Hmsv': 'HH:mm:ss v',\n                            'hmv': 'h:mm a v',\n                            'Hmv': 'HH:mm v',\n                            'M': 'L',\n                            'Md': 'M/d',\n                            'MEd': 'E, M/d',\n                            'MMM': 'LLL',\n                            'MMMd': 'MMM d',\n                            'MMMEd': 'E, MMM d',\n                            'MMMMd': 'MMMM d',\n                            'ms': 'mm:ss',\n                            'y': 'y',\n                            'yM': 'M/y',\n                            'yMd': 'M/d/y',\n                            'yMEd': 'E, M/d/y',\n                            'yMMM': 'MMM y',\n                            'yMMMd': 'MMM d, y',\n                            'yMMMEd': 'E, MMM d, y',\n                            'yMMMM': 'MMMM y',\n                        },\n                    }\n                }\n            },\n            'timeZoneNames': {\n                \"hourFormat\": \"+HH:mm;-HH:mm\",\n                \"gmtFormat\": \"GMT{0}\",\n                \"gmtZeroFormat\": \"GMT\",\n            }\n        },\n        'numbers': {\n            'currencies': {\n                'USD': {\n                    'displayName': 'US Dollar',\n                    'symbol': '$',\n                    'symbol-alt-narrow': '$'\n                },\n                'EUR': {\n                    'displayName': 'Euro',\n                    'symbol': '',\n                    'symbol-alt-narrow': ''\n                },\n                'GBP': {\n                    'displayName': 'British Pound',\n                    'symbol-alt-narrow': ''\n                },\n            },\n            'defaultNumberingSystem': 'latn',\n            'minimumGroupingDigits': '1',\n            'symbols-numberSystem-latn': {\n                'decimal': '.',\n                'group': ',',\n                'list': ';',\n                'percentSign': '%',\n                'plusSign': '+',\n                'minusSign': '-',\n                'exponential': 'E',\n                'superscriptingExponent': '',\n                'perMille': '',\n                'infinity': '',\n                'nan': 'NaN',\n                'timeSeparator': ':'\n            },\n            'decimalFormats-numberSystem-latn': {\n                'standard': '#,##0.###',\n            },\n            'percentFormats-numberSystem-latn': {\n                'standard': '#,##0%'\n            },\n            'currencyFormats-numberSystem-latn': {\n                'standard': '#,##0.00',\n                'accounting': '#,##0.00;(#,##0.00)'\n            }\n        }\n    };\n    /* tslint:enable:quotemark */\n    IntlBase.monthIndex = {\n        3: 'abbreviated',\n        4: 'wide',\n        5: 'narrow',\n        1: 'abbreviated'\n    };\n    /**\n     *\n     */\n    IntlBase.month = 'months';\n    IntlBase.days = 'days';\n    /**\n     * Default numerber Object\n     */\n    IntlBase.patternMatcher = {\n        C: 'currency',\n        P: 'percent',\n        N: 'decimal',\n        A: 'currency'\n    };\n    /**\n     * Returns the resultant pattern based on the skeleton, dateObject and the type provided\n     * @private\n     * @param {string} skeleton\n     * @param {Object} dateObject\n     * @param {string} type\n     * @returns {string}\n     */\n    function getResultantPattern(skeleton, dateObject, type) {\n        var resPattern;\n        var iType = type || 'date';\n        if (IntlBase.basicPatterns.indexOf(skeleton) !== -1) {\n            resPattern = getValue(iType + 'Formats.' + skeleton, dateObject);\n            if (iType === 'dateTime') {\n                var dPattern = getValue('dateFormats.' + skeleton, dateObject);\n                var tPattern = getValue('timeFormats.' + skeleton, dateObject);\n                resPattern = resPattern.replace('{1}', dPattern).replace('{0}', tPattern);\n            }\n        }\n        else {\n            resPattern = getValue('dateTimeFormats.availableFormats.' + skeleton, dateObject);\n        }\n        return resPattern;\n    }\n    IntlBase.getResultantPattern = getResultantPattern;\n    /**\n     * Returns the dependable object for provided cldr data and culture\n     * @private\n     * @param {Object} cldr\n     * @param {string} culture\n     * @param {boolean} isNumber\n     * @returns {Dependables}\n     */\n    function getDependables(cldr, culture, isNumber) {\n        var ret = {};\n        ret.parserObject = parser.getMainObject(cldr, culture) || IntlBase.defaultObject;\n        if (isNumber) {\n            ret.numericObject = getValue('numbers', ret.parserObject);\n        }\n        else {\n            ret.dateObject = getValue('dates.calendars.gregorian', ret.parserObject);\n        }\n        return ret;\n    }\n    IntlBase.getDependables = getDependables;\n    /**\n     * Returns the symbol pattern for provided parameters\n     * @private\n     * @param {string} type\n     * @param {string} numSystem\n     * @param {Object} obj\n     * @param {boolean} isAccount\n     * @returns {string}\n     */\n    function getSymbolPattern(type, numSystem, obj, isAccount) {\n        return getValue(type + 'Formats-numberSystem-' +\n            numSystem + (isAccount ? '.accounting' : '.standard'), obj) || (isAccount ? getValue(type + 'Formats-numberSystem-' +\n            numSystem + '.standard', obj) : '');\n    }\n    IntlBase.getSymbolPattern = getSymbolPattern;\n    /**\n     * Returns proper numeric skeleton\n     * @private\n     * @param {string} skeleton\n     * @returns {NumericSkeleton}\n     */\n    function getProperNumericSkeleton(skeleton) {\n        var matches = skeleton.match(IntlBase.formatRegex);\n        var ret = {};\n        var pattern = matches[1].toUpperCase();\n        ret.isAccount = (pattern === 'A');\n        /* tslint:disable no-any */\n        ret.type = IntlBase.patternMatcher[pattern];\n        if (skeleton.length > 1) {\n            ret.fractionDigits = parseInt(matches[2], 10);\n        }\n        return ret;\n    }\n    IntlBase.getProperNumericSkeleton = getProperNumericSkeleton;\n    /**\n     * Returns format data for number formatting like minimum fraction, maximum fraction, etc..,\n     * @private\n     * @param {string} pattern\n     * @param {boolean} needFraction\n     * @param {string} cSymbol\n     * @param {boolean} fractionOnly\n     * @returns {NegativeData}\n     */\n    function getFormatData(pattern, needFraction, cSymbol, fractionOnly) {\n        var nData = fractionOnly ? {} : { nlead: '', nend: '' };\n        var match = pattern.match(IntlBase.customRegex);\n        if (match) {\n            if (!fractionOnly) {\n                nData.nlead = changeCurrencySymbol(match[1], cSymbol);\n                nData.nend = changeCurrencySymbol(match[10], cSymbol);\n                nData.groupPattern = match[4];\n            }\n            var fraction = match[7];\n            if (fraction && needFraction) {\n                var fmatch = fraction.match(fractionRegex);\n                if (!isNullOrUndefined(fmatch)) {\n                    nData.minimumFraction = fmatch.length;\n                }\n                else {\n                    nData.minimumFraction = 0;\n                }\n                nData.maximumFraction = fraction.length - 1;\n            }\n        }\n        return nData;\n    }\n    IntlBase.getFormatData = getFormatData;\n    /**\n     * Changes currency symbol\n     * @private\n     * @param {string} val\n     * @param {string} sym\n     * @returns {string}\n     */\n    function changeCurrencySymbol(val, sym) {\n        if (val) {\n            return val.replace(IntlBase.defaultCurrency, sym);\n        }\n        return '';\n    }\n    /**\n     * Returns currency symbol based on currency code\n     * @private\n     * @param {Object} numericObject\n     * @param {string} currencyCode\n     * @returns {string}\n     */\n    function getCurrencySymbol(numericObject, currencyCode) {\n        return getValue('currencies.' + currencyCode + '.symbol', numericObject) || '$';\n    }\n    IntlBase.getCurrencySymbol = getCurrencySymbol;\n    /**\n     * Returns formatting options for custom number format\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Dependables} obj\n     * @returns {GenericFormatOptions}\n     */\n    function customFormat(format, dOptions, obj) {\n        var options = {};\n        var formatSplit = format.split(';');\n        var data = ['pData', 'nData', 'zeroData'];\n        for (var i = 0; i < formatSplit.length; i++) {\n            options[data[i]] = customNumberFormat(formatSplit[i], dOptions, obj);\n        }\n        if (isNullOrUndefined(options.nData)) {\n            options.nData = extend({}, options.pData);\n            options.nData.nlead = isNullOrUndefined(dOptions) ? '-' + options.nData.nlead : dOptions.minusSymbol + options.nData.nlead;\n        }\n        return options;\n    }\n    IntlBase.customFormat = customFormat;\n    /**\n     * Returns custom formatting options\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Object} numObject\n     * @returns {NegativeData}\n     */\n    function customNumberFormat(format, dOptions, numObject) {\n        var cOptions = { type: 'decimal', minimumFractionDigits: 0, maximumFractionDigits: 0 };\n        var pattern = format.match(IntlBase.customRegex);\n        if (isNullOrUndefined(pattern) || pattern[5] === '') {\n            throwError('Given Format is not valid or Cldr data not loaded');\n        }\n        cOptions.nlead = pattern[1];\n        cOptions.nend = pattern[10];\n        var integerPart = pattern[6];\n        cOptions.useGrouping = integerPart.indexOf(',') !== -1;\n        integerPart = integerPart.replace(/,/g, '');\n        var fractionPart = pattern[7];\n        if (integerPart.indexOf('0') !== -1) {\n            cOptions.minimumIntegerDigits = integerPart.length - integerPart.indexOf('0');\n        }\n        if (!isNullOrUndefined(fractionPart)) {\n            cOptions.minimumFractionDigits = fractionPart.lastIndexOf('0');\n            cOptions.maximumFractionDigits = fractionPart.lastIndexOf('#');\n            if (cOptions.minimumFractionDigits === -1) {\n                cOptions.minimumFractionDigits = 0;\n            }\n            if (cOptions.maximumFractionDigits === -1 || cOptions.maximumFractionDigits < cOptions.minimumFractionDigits) {\n                cOptions.maximumFractionDigits = cOptions.minimumFractionDigits;\n            }\n        }\n        if (!isNullOrUndefined(dOptions)) {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '$', dOptions.currencySymbol));\n            if (!cOptions.isCurrency) {\n                extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', dOptions.percentSymbol));\n            }\n        }\n        else {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', '%'));\n        }\n        if (!isNullOrUndefined(numObject)) {\n            var symbolPattern = getSymbolPattern(cOptions.type, dOptions.numberMapper.numberSystem, numObject, false);\n            if (cOptions.useGrouping) {\n                cOptions.groupSeparator = dOptions.numberMapper.numberSymbols[mapper[2]];\n                cOptions.groupData = NumberFormat.getGroupingDetails(symbolPattern.split(';')[0]);\n            }\n            cOptions.nlead = cOptions.nlead.replace(/\\'/g, '');\n            cOptions.nend = cOptions.nend.replace(/\\'/g, '');\n        }\n        return cOptions;\n    }\n    /**\n     * Returns formatting options for currency or percent type\n     * @private\n     * @param {string[]} parts\n     * @param {string} actual\n     * @param {string} symbol\n     * @returns {NegativeData}\n     */\n    function isCurrencyPercent(parts, actual, symbol) {\n        var options = { nlead: parts[0], nend: parts[1] };\n        for (var i = 0; i < 2; i++) {\n            var part = parts[i];\n            var loc = part.indexOf(actual);\n            if ((loc !== -1) && ((loc < part.indexOf('\\'')) || (loc > part.lastIndexOf('\\'')))) {\n                options[typeMapper[i]] = part.substr(0, loc) + symbol + part.substr(loc + 1);\n                options[typeMapper[actual]] = true;\n                options.type = options.isCurrency ? 'currency' : 'percent';\n                break;\n            }\n        }\n        return options;\n    }\n    IntlBase.isCurrencyPercent = isCurrencyPercent;\n    /**\n     * Returns culture based date separator\n     * @private\n     * @param {Object} dateObj\n     * @returns {string}\n     */\n    function getDateSeparator(dateObj) {\n        var value = (getValue('dateFormats.short', dateObj) || '').match(/[dM]([^dM])[dM]/i);\n        return value ? value[1] : '/';\n    }\n    IntlBase.getDateSeparator = getDateSeparator;\n    /**\n     * Returns Native Date Time pattern\n     * @private\n     * @param {string} culture\n     * @param {DateFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualDateTimeFormat(culture, options, cldr, isExcelFormat) {\n        var dependable = getDependables(cldr, culture);\n        var actualPattern = options.format || getResultantPattern(options.skeleton, dependable.dateObject, options.type);\n        if (isExcelFormat) {\n            actualPattern = actualPattern.replace(patternRegex, function (pattern) {\n                return patternMatch[pattern];\n            });\n            if (actualPattern.indexOf('z') !== -1) {\n                var tLength = actualPattern.match(/z/g).length;\n                var timeZonePattern = void 0;\n                var options_1 = { 'timeZone': {} };\n                options_1.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n                options_1.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                var value = new Date();\n                var timezone = value.getTimezoneOffset();\n                var pattern = (tLength < 4) ? '+H;-H' : options_1.timeZone.hourFormat;\n                pattern = pattern.replace(/:/g, options_1.numMapper.timeSeparator);\n                if (timezone === 0) {\n                    timeZonePattern = options_1.timeZone.gmtZeroFormat;\n                }\n                else {\n                    timeZonePattern = DateFormat.getTimeZoneValue(timezone, pattern);\n                    timeZonePattern = options_1.timeZone.gmtFormat.replace(/\\{0\\}/, timeZonePattern);\n                }\n                actualPattern = actualPattern.replace(/[z]+/, '\"' + timeZonePattern + '\"');\n            }\n            actualPattern = actualPattern.replace(/ $/, '');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualDateTimeFormat = getActualDateTimeFormat;\n    /**\n     * Returns Native Number pattern\n     * @private\n     * @param {string} culture\n     * @param {NumberFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualNumberFormat(culture, options, cldr) {\n        var dependable = getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var minFrac;\n        if ((/(c|a)$/ig).test(options.format) && !options.minimumFractionDigits && !options.maximumFractionDigits) {\n            var dOptions = {};\n            dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n            var symbolPattern = getSymbolPattern('currency', dOptions.numberMapper.numberSystem, dependable.numericObject, (/a/i).test(options.format));\n            minFrac = getFormatData(symbolPattern.split(';')[0], true, '', true).minimumFraction;\n        }\n        var actualPattern;\n        if ((IntlBase.formatRegex.test(options.format)) || !(options.format)) {\n            extend(parseOptions, getProperNumericSkeleton(options.format || 'N'));\n            parseOptions.custom = false;\n            actualPattern = '###0';\n            if (parseOptions.fractionDigits || options.minimumFractionDigits || options.maximumFractionDigits || minFrac) {\n                var defaultMinimum = 0;\n                if (parseOptions.fractionDigits) {\n                    options.minimumFractionDigits = options.maximumFractionDigits = parseOptions.fractionDigits;\n                }\n                actualPattern = fractionDigitsPattern(actualPattern, minFrac || parseOptions.fractionDigits ||\n                    options.minimumFractionDigits || defaultMinimum, options.maximumFractionDigits || defaultMinimum);\n            }\n            if (options.minimumIntegerDigits) {\n                actualPattern = minimumIntegerPattern(actualPattern, options.minimumIntegerDigits);\n            }\n            if (options.useGrouping) {\n                actualPattern = groupingPattern(actualPattern);\n            }\n            if (parseOptions.type === 'currency' && !parseOptions.isAccount) {\n                actualPattern = '$ ' + actualPattern;\n            }\n            else if (parseOptions.type === 'currency' && parseOptions.isAccount) {\n                actualPattern = '$ ' + actualPattern + ';($ ' + actualPattern + ')';\n            }\n            if (parseOptions.type === 'percent') {\n                actualPattern += ' %';\n            }\n        }\n        else {\n            actualPattern = options.format.replace(/\\'/g, '\"');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualNumberFormat = getActualNumberFormat;\n    function fractionDigitsPattern(pattern, minDigits, maxDigits) {\n        pattern += '.';\n        for (var a = 0; a < minDigits; a++) {\n            pattern += '0';\n        }\n        if (minDigits < maxDigits) {\n            var diff = maxDigits - minDigits;\n            for (var b = 0; b < diff; b++) {\n                pattern += '#';\n            }\n        }\n        return pattern;\n    }\n    function minimumIntegerPattern(pattern, digits) {\n        var temp = pattern.split('.');\n        var integer = '';\n        for (var x = 0; x < digits; x++) {\n            integer += '0';\n        }\n        return temp[1] ? (integer + '.' + temp[1]) : integer;\n    }\n    function groupingPattern(pattern) {\n        var temp = pattern.split('.');\n        var integer = temp[0];\n        var no = 3 - integer.length % 3;\n        var hash = (no && no === 1) ? '#' : (no === 2 ? '##' : '');\n        integer = hash + integer;\n        pattern = '';\n        for (var x = integer.length - 1; x > 0; x = x - 3) {\n            pattern = ',' + integer[x - 2] + integer[x - 1] + integer[x] + pattern;\n        }\n        pattern = pattern.slice(1);\n        return temp[1] ? (pattern + '.' + temp[1]) : pattern;\n    }\n})(IntlBase || (IntlBase = {}));\n","/**\n * To import utils\n */\nimport { isNullOrUndefined } from './util';\n/**\n * @private\n */\nvar CanvasRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function CanvasRenderer(rootID) {\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    CanvasRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    /* tslint:enable */\n    /**\n     * To create a Html5 canvas element\n     * @param {BaseAttibutes} options - Options to create canvas\n     * @return {HTMLCanvasElement}\n     */\n    CanvasRenderer.prototype.createCanvas = function (options) {\n        var canvasObj = document.createElement('canvas');\n        canvasObj.setAttribute('id', this.rootId + '_canvas');\n        this.ctx = canvasObj.getContext('2d');\n        this.canvasObj = canvasObj;\n        this.setCanvasSize(options.width, options.height);\n        return this.canvasObj;\n    };\n    /**\n     * To set the width and height for the Html5 canvas element\n     * @param {number} width - width of the canvas\n     * @param {number} height - height of the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.setCanvasSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width)) {\n            this.canvasObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.canvasObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height)) {\n            this.canvasObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.canvasObj.setAttribute('height', this.height.toString());\n        }\n    };\n    // To set the values to the attributes\n    CanvasRenderer.prototype.setAttributes = function (options) {\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        var dashArray = this.getOptionValue(options, 'stroke-dasharray');\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            this.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        this.ctx.strokeStyle = this.getOptionValue(options, 'stroke');\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - required options to draw a line on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawLine = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.moveTo(options.x1, options.y1);\n        this.ctx.lineTo(options.x2, options.y2);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a rectangle\n     * @param {RectAttributes} options - required options to draw a rectangle on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawRectangle = function (options) {\n        var canvasCtx = this.ctx;\n        var cornerRadius = options.rx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.globalAlpha = this.getOptionValue(options, 'opacity');\n        this.setAttributes(options);\n        this.ctx.rect(options.x, options.y, options.width, options.height);\n        if (cornerRadius !== null && cornerRadius >= 0) {\n            this.drawCornerRadius(options);\n        }\n        else {\n            if (options.fill === 'none') {\n                options.fill = 'transparent';\n            }\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fillRect(options.x, options.y, options.width, options.height);\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    // To draw the corner of a rectangle\n    CanvasRenderer.prototype.drawCornerRadius = function (options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        this.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        this.ctx.beginPath();\n        this.ctx.moveTo(x + width - cornerRadius, y);\n        this.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        this.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        this.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        this.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        this.ctx.closePath();\n        this.ctx.fill();\n        this.ctx.stroke();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a path on the canvas\n     * @param {PathAttributes} options - options needed to draw path\n     * @param {Int32Array} canvasTranslate - Array of numbers to translate the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPath = function (options, canvasTranslate) {\n        var path = options.d;\n        var dataSplit = path.split(' ');\n        var borderWidth = this.getOptionValue(options, 'stroke-width');\n        var canvasCtx = this.ctx;\n        var flag = true;\n        this.ctx.save();\n        this.ctx.beginPath();\n        if (canvasTranslate) {\n            this.ctx.translate(canvasTranslate[0], canvasTranslate[1]);\n        }\n        this.ctx.globalAlpha = options.opacity ? options.opacity : this.getOptionValue(options, 'fill-opacity');\n        this.setAttributes(options);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    if (!options.innerR && !options.cx) {\n                        this.ctx.moveTo(x1, y1);\n                    }\n                    break;\n                case 'L':\n                    if (!options.innerR) {\n                        this.ctx.lineTo(x1, y1);\n                    }\n                    break;\n                case 'C':\n                    var c1 = parseFloat(dataSplit[i + 3]);\n                    var c2 = parseFloat(dataSplit[i + 4]);\n                    var c3 = parseFloat(dataSplit[i + 5]);\n                    var c4 = parseFloat(dataSplit[i + 6]);\n                    this.ctx.bezierCurveTo(x1, y1, c1, c2, c3, c4);\n                    i = i + 4;\n                    break;\n                case 'A':\n                    if (!options.innerR) {\n                        if (options.cx) {\n                            this.ctx.arc(options.cx, options.cy, options.radius, 0, 2 * Math.PI, options.counterClockWise);\n                        }\n                        else {\n                            this.ctx.moveTo(options.x, options.y);\n                            this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                            this.ctx.lineTo(options.x, options.y);\n                        }\n                    }\n                    else if (flag) {\n                        this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                        this.ctx.arc(options.x, options.y, options.innerR, options.end, options.start, !options.counterClockWise);\n                        flag = false;\n                    }\n                    i = i + 5;\n                    break;\n                case 'z':\n                    this.ctx.closePath();\n                    break;\n            }\n        }\n        if (options.fill !== 'none' && options.fill !== undefined) {\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fill();\n        }\n        if (borderWidth > 0) {\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - options required to draw text\n     * @param {string} label - Specifies the text which has to be drawn on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawText = function (options, label) {\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontSize = this.getOptionValue(options, 'font-size');\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        this.ctx.save();\n        this.ctx.fillStyle = options.fill;\n        this.ctx.font = font;\n        this.ctx.textAlign = anchor;\n        this.ctx.globalAlpha = opacity;\n        if (options.baseline) {\n            this.ctx.textBaseline = options.baseline;\n        }\n        var txtlngth = 0;\n        this.ctx.translate(options.x + (txtlngth / 2), options.y);\n        this.ctx.rotate(options.labelRotation * Math.PI / 180);\n        this.ctx.fillText(label, 0, 0);\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw circle on the canvas\n     * @param {CircleAttributes} options - required options to draw the circle\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawCircle = function (options) {\n        var canvasCtx = this.ctx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.globalAlpha = options.opacity;\n        this.ctx.fill();\n        this.setAttributes(options);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw polyline\n     * @param {PolylineAttributes} options - options needed to draw polyline\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPolyline = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        var points = options.points.split(' ');\n        for (var i = 0; i < points.length - 1; i++) {\n            var point = points[i].split(',');\n            var x = parseFloat(point[0]);\n            var y = parseFloat(point[1]);\n            if (i === 0) {\n                this.ctx.moveTo(x, y);\n            }\n            else {\n                this.ctx.lineTo(x, y);\n            }\n        }\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an ellipse on the canvas\n     * @param {EllipseAttributes} options - options needed to draw ellipse\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawEllipse = function (options) {\n        var canvasCtx = this.ctx;\n        var circumference = Math.max(options.rx, options.ry);\n        var scaleX = options.rx / circumference;\n        var scaleY = options.ry / circumference;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.translate(options.cx, options.cy);\n        this.ctx.save();\n        this.ctx.scale(scaleX, scaleY);\n        this.ctx.arc(0, 0, circumference, 0, 2 * Math.PI, false);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.fill();\n        this.ctx.restore();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - options required to draw an image on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawImage = function (options) {\n        this.ctx.save();\n        var imageObj = new Image();\n        if (!isNullOrUndefined(options.href)) {\n            imageObj.src = options.href;\n            this.ctx.drawImage(imageObj, options.x, options.y, options.width, options.height);\n        }\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To create a linear gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createLinearGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvasObj.height);\n        }\n        var color = this.setGradientValues(colors, myGradient);\n        return color;\n    };\n    /**\n     * To create a radial gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createRadialGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, this.canvasObj.height);\n        }\n        var colorName = this.setGradientValues(colors, myGradient);\n        return colorName;\n    };\n    // To set the gradient values\n    CanvasRenderer.prototype.setGradientValues = function (colors, myGradient) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            for (var i = 0; i <= colors.length - 1; i++) {\n                var color = colors[i].color;\n                var newColorStop = (colors[i].colorStop).slice(0, -1);\n                var stopColor = parseInt(newColorStop, 10) / 100;\n                myGradient.addColorStop(stopColor, color);\n            }\n            colorName = myGradient.toString();\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        this.dataUrl = this.canvasObj.toDataURL();\n        return colorName;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {HTMLElement} element - The element to which the attributes need to be set\n     * @return {HTMLElement}\n     */\n    CanvasRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        var values = Object.keys(options).map(function (key) { return options[key]; });\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], values[i]);\n        }\n        return element;\n    };\n    /**\n     * To update the values of the canvas element attributes\n     * @param {SVGCanvasAttributes} options - Specifies the colors required to create gradient\n     * @return {void}\n     */\n    CanvasRenderer.prototype.updateCanvasAttributes = function (options) {\n        this.setElementAttributes(options, this.canvasObj);\n        var ctx = this.ctx;\n        if (!isNullOrUndefined(this.dataUrl)) {\n            var img_1 = new Image;\n            img_1.onload = function () {\n                ctx.drawImage(img_1, 0, 0);\n            };\n            img_1.src = this.dataUrl;\n        }\n    };\n    return CanvasRenderer;\n}());\nexport { CanvasRenderer };\n","/**\n * Module loading operations\n */\nimport { createInstance, setValue, getValue, deleteObject } from './util';\nvar MODULE_SUFFIX = 'Module';\nvar ModuleLoader = /** @class */ (function () {\n    function ModuleLoader(parent) {\n        this.loadedModules = [];\n        this.parent = parent;\n    }\n    ;\n    /**\n     * Inject required modules in component library\n     * @return {void}\n     * @param {ModuleDeclaration[]} requiredModules - Array of modules to be required\n     * @param {Function[]} moduleList - Array of modules to be injected from sample side\n     */\n    ModuleLoader.prototype.inject = function (requiredModules, moduleList) {\n        var reqLength = requiredModules.length;\n        if (reqLength === 0) {\n            this.clean();\n            return;\n        }\n        if (this.loadedModules.length) {\n            this.clearUnusedModule(requiredModules);\n        }\n        for (var i = 0; i < reqLength; i++) {\n            var modl = requiredModules[i];\n            for (var _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {\n                var module = moduleList_1[_i];\n                var modName = modl.member;\n                if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {\n                    var moduleObject = createInstance(module, modl.args);\n                    var memberName = this.getMemberName(modName);\n                    if (modl.isProperty) {\n                        setValue(memberName, module, this.parent);\n                    }\n                    else {\n                        setValue(memberName, moduleObject, this.parent);\n                    }\n                    var loadedModule = modl;\n                    loadedModule.member = memberName;\n                    this.loadedModules.push(loadedModule);\n                }\n            }\n        }\n    };\n    /**\n     * To remove the created object while destroying the control\n     * @return {void}\n     */\n    ModuleLoader.prototype.clean = function () {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var modules = _a[_i];\n            if (!modules.isProperty) {\n                getValue(modules.member, this.parent).destroy();\n            }\n        }\n        this.loadedModules = [];\n    };\n    /**\n     * Removes all unused modules\n     * @param {ModuleDeclaration[]} moduleList\n     * @returns {void}\n     */\n    ModuleLoader.prototype.clearUnusedModule = function (moduleList) {\n        var _this = this;\n        var usedModules = moduleList.map(function (arg) { return _this.getMemberName(arg.member); });\n        var removableModule = this.loadedModules.filter(function (module) {\n            return usedModules.indexOf(module.member) === -1;\n        });\n        for (var _i = 0, removableModule_1 = removableModule; _i < removableModule_1.length; _i++) {\n            var mod = removableModule_1[_i];\n            if (!mod.isProperty) {\n                getValue(mod.member, this.parent).destroy();\n            }\n            this.loadedModules.splice(this.loadedModules.indexOf(mod), 1);\n            deleteObject(this.parent, mod.member);\n        }\n    };\n    /**\n     * To get the name of the member.\n     * @param {string} name\n     * @returns {string}\n     */\n    ModuleLoader.prototype.getMemberName = function (name) {\n        return name[0].toLowerCase() + name.substring(1) + MODULE_SUFFIX;\n    };\n    /**\n     * Returns boolean based on whether the module specified is loaded or not\n     * @param {string} modName\n     * @returns {boolean}\n     */\n    ModuleLoader.prototype.isModuleLoaded = function (modName) {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var mod = _a[_i];\n            if (mod.member === this.getMemberName(modName)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return ModuleLoader;\n}());\nexport { ModuleLoader };\n","import { getValue, setImmediate, setValue, merge } from './util';\nimport { Base } from './base';\n/**\n * To detect the changes for inner properties.\n * @private\n */\nvar ChildProperty = /** @class */ (function () {\n    function ChildProperty(parent, propName, defaultValue, isArray) {\n        this.properties = {};\n        this.changedProperties = {};\n        this.childChangedProperties = {};\n        this.oldProperties = {};\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.callChildDataBind = getValue('callChildDataBind', Base);\n        this.parentObj = parent;\n        this.controlParent = this.parentObj.controlParent || this.parentObj;\n        this.propName = propName;\n        this.setProperties(defaultValue, true);\n        this.isParentArray = isArray;\n    }\n    /**\n     * Updates the property changes\n     * @param {boolean} val\n     * @param {string} propName\n     * @returns {void}\n     */\n    ChildProperty.prototype.updateChange = function (val, propName) {\n        if (val === true) {\n            this.parentObj.childChangedProperties[propName] = val;\n        }\n        else {\n            delete this.parentObj.childChangedProperties[propName];\n        }\n        if (this.parentObj.updateChange) {\n            this.parentObj.updateChange(val, this.parentObj.propName);\n        }\n    };\n    /**\n     * Updates time out duration\n     */\n    ChildProperty.prototype.updateTimeOut = function () {\n        if (this.parentObj.updateTimeOut) {\n            this.parentObj.finalUpdate();\n            this.parentObj.updateTimeOut();\n        }\n        else {\n            this.parentObj.finalUpdate = setImmediate(this.parentObj.dataBind.bind(this.parentObj));\n        }\n    };\n    /**\n     * Clears changed properties\n     */\n    ChildProperty.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.updateChange(false, this.propName);\n        this.oldProperties = {};\n        this.changedProperties = {};\n    };\n    /**\n     * Set property changes\n     * @param {Object} prop\n     * @param {boolean} muteOnChange\n     * {void}\n     */\n    ChildProperty.prototype.setProperties = function (prop, muteOnChange) {\n        if (muteOnChange === true) {\n            merge(this, prop);\n            this.updateChange(false, this.propName);\n            this.clearChanges();\n        }\n        else {\n            merge(this, prop);\n        }\n    };\n    /**\n     * Binds data\n     */\n    ChildProperty.prototype.dataBind = function () {\n        this.callChildDataBind(this.childChangedProperties, this);\n        if (this.isParentArray) {\n            var curIndex = this.parentObj[this.propName].indexOf(this);\n            if (Object.keys(this.changedProperties).length) {\n                setValue(this.propName + '.' + curIndex, this.changedProperties, this.parentObj.changedProperties);\n                setValue(this.propName + '.' + curIndex, this.oldProperties, this.parentObj.oldProperties);\n            }\n        }\n        else {\n            this.parentObj.changedProperties[this.propName] = this.changedProperties;\n            this.parentObj.oldProperties[this.propName] = this.oldProperties;\n        }\n        this.clearChanges();\n    };\n    /**\n     * Saves changes to newer values\n     * @param {string} key\n     * @param {Object} newValue\n     * @param {Object} oldValue\n     * @returns {void}\n     */\n    ChildProperty.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.controlParent.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.updateChange(true, this.propName);\n        this.finalUpdate();\n        this.updateTimeOut();\n    };\n    return ChildProperty;\n}());\nexport { ChildProperty };\n","/**\n * Parser\n */\nvar defaultNumberingSystem = {\n    'latn': {\n        '_digits': '0123456789',\n        '_type': 'numeric'\n    }\n};\nimport { isUndefined, getValue } from '../util';\nvar latnRegex = /^[0-9]*$/;\nvar defaultNumberSymbols = {\n    'decimal': '.',\n    'group': ',',\n    'percentSign': '%',\n    'plusSign': '+',\n    'minusSign': '-',\n    'infinity': '',\n    'nan': 'NaN',\n    'exponential': 'E'\n};\nvar latnNumberSystem = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n/**\n * Interface for parser base\n * @private\n */\nvar ParserBase = /** @class */ (function () {\n    function ParserBase() {\n    }\n    /**\n     * Returns the cldr object for the culture specifies\n     * @param {Object} obj - Specifies the object from which culture object to be acquired.\n     * @param {string} cName - Specifies the culture name.\n     * @returns {Object}\n     */\n    ParserBase.getMainObject = function (obj, cName) {\n        return getValue('main.' + cName, obj);\n    };\n    /**\n     * Returns the numbering system object from given cldr data.\n     * @param {Object} obj - Specifies the object from which number system is acquired.\n     * @returns {Object}\n     */\n    ParserBase.getNumberingSystem = function (obj) {\n        return getValue('supplemental.numberingSystems', obj) || this.numberingSystems;\n    };\n    /**\n     * Returns the reverse of given object keys or keys specified.\n     * @param {Object} prop - Specifies the object to be reversed.\n     * @param {number[]} keys - Optional parameter specifies the custom keyList for reversal.\n     * @returns {Object}\n     */\n    ParserBase.reverseObject = function (prop, keys) {\n        var propKeys = keys || Object.keys(prop);\n        var res = {};\n        for (var _i = 0, propKeys_1 = propKeys; _i < propKeys_1.length; _i++) {\n            var key = propKeys_1[_i];\n            /* tslint:disable no-any */\n            if (!res.hasOwnProperty(prop[key])) {\n                res[prop[key]] = key;\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns the symbol regex by skipping the escape sequence.\n     * @param {string[]} props - Specifies the array values to be skipped.\n     * @returns {RegExp}\n     */\n    ParserBase.getSymbolRegex = function (props) {\n        var regexStr = props.map(function (str) {\n            return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        }).join('|');\n        return new RegExp(regexStr, 'g');\n    };\n    ParserBase.getSymbolMatch = function (prop) {\n        var matchKeys = Object.keys(defaultNumberSymbols);\n        var ret = {};\n        for (var _i = 0, matchKeys_1 = matchKeys; _i < matchKeys_1.length; _i++) {\n            var key = matchKeys_1[_i];\n            ret[prop[key]] = defaultNumberSymbols[key];\n        }\n        return ret;\n    };\n    /**\n     * Returns regex string for provided value\n     * @param {string} val\n     * @returns {string}\n     */\n    ParserBase.constructRegex = function (val) {\n        var len = val.length;\n        var ret = '';\n        for (var i = 0; i < len; i++) {\n            if (i !== len - 1) {\n                ret += val[i] + '|';\n            }\n            else {\n                ret += val[i];\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     * @param {string} value - Specifies the  values to be replaced.\n     * @param {RegExp} regex - Specifies the  regex to search.\n     * @param {Object} obj - Specifies the  object matcher to be replace value parts.\n     * @returns {string}\n     */\n    ParserBase.convertValueParts = function (value, regex, obj) {\n        return value.replace(regex, function (str) {\n            return obj[str];\n        });\n    };\n    /**\n     * Returns default numbering system object for formatting from cldr data\n     * @param {Object} obj\n     * @returns {NumericObject}\n     */\n    ParserBase.getDefaultNumberingSystem = function (obj) {\n        var ret = {};\n        ret.obj = getValue('numbers', obj);\n        ret.nSystem = getValue('defaultNumberingSystem', ret.obj);\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     */\n    ParserBase.getCurrentNumericOptions = function (curObj, numberSystem, needSymbols) {\n        var ret = {};\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                ret.numericPair = this.reverseObject(digits, latnNumberSystem);\n                ret.numberParseRegex = new RegExp(this.constructRegex(digits), 'g');\n                ret.numericRegex = '[' + digits[0] + '-' + digits[9] + ']';\n                if (needSymbols) {\n                    ret.numericRegex = digits[0] + '-' + digits[9];\n                    ret.symbolNumberSystem = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n                    ret.symbolMatch = this.getSymbolMatch(ret.symbolNumberSystem);\n                    ret.numberSystem = cur.nSystem;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns number mapper object for the provided cldr data\n     * @param {Object} curObj\n     * @param {Object} numberSystem\n     * @param {boolean} isNumber\n     * @returns {NumberMapper}\n     */\n    ParserBase.getNumberMapper = function (curObj, numberSystem, isNumber) {\n        var ret = { mapper: {} };\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            ret.numberSystem = cur.nSystem;\n            ret.numberSymbols = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n            ret.timeSeparator = getValue('timeSeparator', ret.numberSymbols);\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                for (var _i = 0, latnNumberSystem_1 = latnNumberSystem; _i < latnNumberSystem_1.length; _i++) {\n                    var i = latnNumberSystem_1[_i];\n                    ret.mapper[i] = digits[i];\n                }\n            }\n        }\n        return ret;\n    };\n    ParserBase.nPair = 'numericPair';\n    ParserBase.nRegex = 'numericRegex';\n    ParserBase.numberingSystems = defaultNumberingSystem;\n    return ParserBase;\n}());\nexport { ParserBase };\n","import { isUndefined, throwError, isNullOrUndefined, extend } from '../util';\nimport { defaultCurrencyCode } from '../internationalization';\nimport { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nvar errorText = {\n    'ms': 'minimumSignificantDigits',\n    'ls': 'maximumSignificantDigits',\n    'mf': 'minimumFractionDigits',\n    'lf': 'maximumFractionDigits',\n};\nvar integerError = 'minimumIntegerDigits';\nvar percentSign = 'percentSign';\nvar minusSign = 'minusSign';\nvar spaceRegex = /\\s/;\nvar mapper = ['infinity', 'nan', 'group', 'decimal'];\nvar infinity = 'infinity';\nvar nan = 'nan';\n/**\n * Module for number formatting.\n * @private\n */\nvar NumberFormat = /** @class */ (function () {\n    function NumberFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} option - Specific the format in which number  will format.\n     * @param {Object} object- Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberFormat.numberFormatter = function (culture, option, cldr) {\n        var _this = this;\n        var fOptions = extend({}, option);\n        var cOptions = {};\n        var dOptions = {};\n        var symbolPattern;\n        var dependable = base.getDependables(cldr, culture, true);\n        dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        dOptions.currencySymbol = base.getCurrencySymbol(dependable.numericObject, fOptions.currency || defaultCurrencyCode);\n        /* tslint:disable no-any */\n        dOptions.percentSymbol = dOptions.numberMapper.numberSymbols[percentSign];\n        dOptions.minusSymbol = dOptions.numberMapper.numberSymbols[minusSign];\n        var symbols = dOptions.numberMapper.numberSymbols;\n        if ((option.format) && !(base.formatRegex.test(option.format))) {\n            cOptions = base.customFormat(option.format, dOptions, dependable.numericObject);\n        }\n        else {\n            extend(fOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            fOptions.isCurrency = fOptions.type === 'currency';\n            fOptions.isPercent = fOptions.type === 'percent';\n            symbolPattern = base.getSymbolPattern(fOptions.type, dOptions.numberMapper.numberSystem, dependable.numericObject, fOptions.isAccount);\n            fOptions.groupOne = this.checkValueRange(fOptions.maximumSignificantDigits, fOptions.minimumSignificantDigits, true);\n            this.checkValueRange(fOptions.maximumFractionDigits, fOptions.minimumFractionDigits, false, true);\n            if (!isUndefined(fOptions.fractionDigits)) {\n                fOptions.minimumFractionDigits = fOptions.maximumFractionDigits = fOptions.fractionDigits;\n            }\n            if (isUndefined(fOptions.useGrouping)) {\n                fOptions.useGrouping = true;\n            }\n            if (fOptions.isCurrency) {\n                symbolPattern = symbolPattern.replace(/\\u00A4/g, base.defaultCurrency);\n            }\n            var split = symbolPattern.split(';');\n            cOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, dOptions.currencySymbol);\n            cOptions.pData = base.getFormatData(split[0], false, dOptions.currencySymbol);\n            if (fOptions.useGrouping) {\n                fOptions.groupSeparator = symbols[mapper[2]];\n                fOptions.groupData = this.getGroupingDetails(split[0]);\n            }\n            var minFrac = isUndefined(fOptions.minimumFractionDigits);\n            if (minFrac) {\n                fOptions.minimumFractionDigits = cOptions.nData.minimumFraction;\n            }\n            if (isUndefined(fOptions.maximumFractionDigits)) {\n                var mval = cOptions.nData.maximumFraction;\n                fOptions.maximumFractionDigits = isUndefined(mval) && fOptions.isPercent ? 0 : mval;\n            }\n            var mfrac = fOptions.minimumFractionDigits;\n            var lfrac = fOptions.maximumFractionDigits;\n            if (!isUndefined(mfrac) && !isUndefined(lfrac)) {\n                if (mfrac > lfrac) {\n                    fOptions.maximumFractionDigits = mfrac;\n                }\n            }\n        }\n        extend(cOptions.nData, fOptions);\n        extend(cOptions.pData, fOptions);\n        return function (value) {\n            if (isNaN(value)) {\n                return symbols[mapper[1]];\n            }\n            else if (!isFinite(value)) {\n                return symbols[mapper[0]];\n            }\n            return _this.intNumberFormatter(value, cOptions, dOptions);\n        };\n    };\n    /**\n     * Returns grouping details for the pattern provided\n     * @param {string} pattern\n     * @returns {GroupDetails}\n     */\n    NumberFormat.getGroupingDetails = function (pattern) {\n        var ret = {};\n        var match = pattern.match(base.negativeDataRegex);\n        if (match && match[4]) {\n            var pattern_1 = match[4];\n            var p = pattern_1.lastIndexOf(',');\n            if (p !== -1) {\n                var temp = pattern_1.split('.')[0];\n                ret.primary = (temp.length - p) - 1;\n                var s = pattern_1.lastIndexOf(',', p - 1);\n                if (s !== -1) {\n                    ret.secondary = p - 1 - s;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns if the provided integer range is valid.\n     * @param {number} val1\n     * @param {number} val2\n     * @param {boolean} checkbothExist\n     * @param {boolean} isFraction\n     * @returns {boolean}\n     */\n    NumberFormat.checkValueRange = function (val1, val2, checkbothExist, isFraction) {\n        var decide = isFraction ? 'f' : 's';\n        var dint = 0;\n        var str1 = errorText['l' + decide];\n        var str2 = errorText['m' + decide];\n        if (!isUndefined(val1)) {\n            this.checkRange(val1, str1, isFraction);\n            dint++;\n        }\n        if (!isUndefined(val2)) {\n            this.checkRange(val2, str2, isFraction);\n            dint++;\n        }\n        if (dint === 2) {\n            if (val1 < val2) {\n                throwError(str2 + 'specified must be less than the' + str1);\n            }\n            else {\n                return true;\n            }\n        }\n        else if (checkbothExist && dint === 1) {\n            throwError('Both' + str2 + 'and' + str2 + 'must be present');\n        }\n        return false;\n    };\n    /**\n     * Check if the provided fraction range is valid\n     * @param {number} val\n     * @param {string} text\n     * @param {boolean} isFraction\n     * @returns {void}\n     */\n    NumberFormat.checkRange = function (val, text, isFraction) {\n        var range = isFraction ? [0, 20] : [1, 21];\n        if (val < range[0] || val > range[1]) {\n            throwError(text + 'value must be within the range' + range[0] + 'to' + range[1]);\n        }\n    };\n    /**\n     * Returns formatted numeric string for provided formatting options\n     * @param {number} value\n     * @param {base.GenericFormatOptions} fOptions\n     * @param {CommonOptions} dOptions\n     * @returns {string}\n     */\n    NumberFormat.intNumberFormatter = function (value, fOptions, dOptions) {\n        var curData;\n        if (value < 0) {\n            value = value * -1;\n            curData = fOptions.nData;\n        }\n        else if (value === 0) {\n            curData = fOptions.zeroData || fOptions.pData;\n        }\n        else {\n            curData = fOptions.pData;\n        }\n        var fValue = '';\n        if (curData.isPercent) {\n            value = value * 100;\n        }\n        if (curData.groupOne) {\n            fValue = this.processSignificantDigits(value, curData.minimumSignificantDigits, curData.maximumSignificantDigits);\n        }\n        else {\n            fValue = this.processFraction(value, curData.minimumFractionDigits, curData.maximumFractionDigits);\n            if (curData.minimumIntegerDigits) {\n                fValue = this.processMinimumIntegers(fValue, curData.minimumIntegerDigits);\n            }\n        }\n        fValue = fValue.replace('.', dOptions.numberMapper.numberSymbols[mapper[3]]);\n        if (curData.useGrouping) {\n            fValue = this.groupNumbers(fValue, curData.groupData.primary, curData.groupSeparator || ',', dOptions.numberMapper.numberSymbols[mapper[3]] || '.', curData.groupData.secondary);\n        }\n        fValue = parser.convertValueParts(fValue, base.latnParseRegex, dOptions.numberMapper.mapper);\n        return curData.nlead + fValue + curData.nend;\n    };\n    /**\n     * Returns significant digits processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processSignificantDigits = function (value, min, max) {\n        var temp = value + '';\n        var tn;\n        var length = temp.length;\n        if (length < min) {\n            return value.toPrecision(min);\n        }\n        else {\n            temp = value.toPrecision(max);\n            tn = +temp;\n            return tn + '';\n        }\n    };\n    /**\n     * Returns grouped numeric string\n     * @param {string} val\n     * @param {number} level1\n     * @param {string} sep\n     * @param {string} decimalSymbol\n     * @param {number} level2\n     * @returns {string}\n     */\n    NumberFormat.groupNumbers = function (val, level1, sep, decimalSymbol, level2) {\n        var flag = !isNullOrUndefined(level2) && level2 !== 0;\n        var split = val.split(decimalSymbol);\n        var prefix = split[0];\n        var length = prefix.length;\n        var str = '';\n        while (length > level1) {\n            str = prefix.slice(length - level1, length) + (str.length ?\n                (sep + str) : '');\n            length -= level1;\n            if (flag) {\n                level1 = level2;\n                flag = false;\n            }\n        }\n        split[0] = prefix.slice(0, length) + (str.length ? sep : '') + str;\n        return split.join(decimalSymbol);\n    };\n    /**\n     * Returns fraction processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processFraction = function (value, min, max) {\n        var temp = (value + '').split('.')[1];\n        var length = temp ? temp.length : 0;\n        if (min && length < min) {\n            var ret = '';\n            if (length === 0) {\n                ret = value.toFixed(min);\n            }\n            else {\n                ret += value;\n                for (var j = 0; j < min - length; j++) {\n                    ret += '0';\n                }\n                return ret;\n            }\n            return value.toFixed(min);\n        }\n        else if (!isNullOrUndefined(max) && (length > max || max === 0)) {\n            return value.toFixed(max);\n        }\n        return value + '';\n    };\n    /**\n     * Returns integer processed numeric string\n     * @param {string} value\n     * @param {number} min\n     * @returns {string}\n     */\n    NumberFormat.processMinimumIntegers = function (value, min) {\n        var temp = value.split('.');\n        var lead = temp[0];\n        var len = lead.length;\n        if (len < min) {\n            for (var i = 0; i < min - len; i++) {\n                lead = '0' + lead;\n            }\n            temp[0] = lead;\n        }\n        return temp.join('.');\n    };\n    return NumberFormat;\n}());\nexport { NumberFormat };\n","import { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nimport { isUndefined, throwError, getValue } from '../util';\nvar abbreviateRegexGlobal = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi;\nvar standalone = 'stand-alone';\nvar weekdayKey = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nexport var basicPatterns = ['short', 'medium', 'long', 'full'];\nvar timeSetter = {\n    m: 'getMinutes',\n    h: 'getHours',\n    H: 'getHours',\n    s: 'getSeconds',\n    d: 'getDate',\n};\nexport var datePartMatcher = {\n    'M': 'month',\n    'd': 'day',\n    'E': 'weekday',\n    'c': 'weekday',\n    'y': 'year',\n    'm': 'minute',\n    'h': 'hour',\n    'H': 'hour',\n    's': 'second',\n    'L': 'month',\n    'a': 'designator',\n    'z': 'timeZone',\n    'Z': 'timeZone',\n    'G': 'era'\n};\nvar timeSeparator = 'timeSeparator';\n/**\n * Date Format is a framework provides support for date formatting.\n * @private\n */\nvar DateFormat = /** @class */ (function () {\n    function DateFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which date  will format.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    DateFormat.dateFormat = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var formatOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        formatOptions.dateSeperator = base.getDateSeparator(dependable.dateObject);\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            formatOptions.pattern = resPattern;\n            formatOptions.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            var patternMatch = resPattern.match(abbreviateRegexGlobal) || [];\n            for (var _i = 0, patternMatch_1 = patternMatch; _i < patternMatch_1.length; _i++) {\n                var str = patternMatch_1[_i];\n                var len = str.length;\n                var char = str[0];\n                if (char === 'K') {\n                    char = 'h';\n                }\n                /* tslint:disable no-any */\n                var charKey = datePartMatcher[char];\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        formatOptions.weekday = dependable.dateObject[base.days][standalone][base.monthIndex[len]];\n                        break;\n                    case 'M':\n                    case 'L':\n                        formatOptions.month = dependable.dateObject[base.month][standalone][base.monthIndex[len]];\n                        break;\n                    case 'a':\n                        formatOptions.designator = getValue('dayPeriods.format.wide', dependable.dateObject);\n                        break;\n                    case 'G':\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        formatOptions.era = getValue('eras.' + eText, dependable.dateObject);\n                        break;\n                    case 'z':\n                        formatOptions.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                        break;\n                }\n            }\n        }\n        return function (value) {\n            if (isNaN(value.getDate())) {\n                return null;\n            }\n            return _this.intDateFormatter(value, formatOptions);\n        };\n    };\n    /**\n     * Returns formatted date string based on options passed.\n     * @param {Date} value\n     * @param {FormatOptions} options\n     */\n    DateFormat.intDateFormatter = function (value, options) {\n        var pattern = options.pattern;\n        var ret = '';\n        var matches = pattern.match(base.dateParseRegex);\n        for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n            var match = matches_1[_i];\n            var length_1 = match.length;\n            var char = match[0];\n            if (char === 'K') {\n                char = 'h';\n            }\n            var curval = void 0;\n            var isNumber = void 0;\n            var processNumber = void 0;\n            var curstr = '';\n            switch (char) {\n                case 'M':\n                case 'L':\n                    curval = value.getMonth() + 1;\n                    if (length_1 > 2) {\n                        ret += options.month[curval];\n                    }\n                    else {\n                        isNumber = true;\n                    }\n                    break;\n                case 'E':\n                case 'c':\n                    ret += options.weekday[weekdayKey[value.getDay()]];\n                    break;\n                case 'H':\n                case 'h':\n                case 'm':\n                case 's':\n                case 'd':\n                    isNumber = true;\n                    curval = value[timeSetter[char]]();\n                    if (char === 'h') {\n                        curval = curval % 12 || 12;\n                    }\n                    break;\n                case 'y':\n                    processNumber = true;\n                    curstr += value.getFullYear();\n                    if (length_1 === 2) {\n                        curstr = curstr.substr(curstr.length - 2);\n                    }\n                    break;\n                case 'a':\n                    var desig = value.getHours() < 12 ? 'am' : 'pm';\n                    ret += options.designator[desig];\n                    break;\n                case 'G':\n                    var dec = value.getFullYear() < 0 ? 0 : 1;\n                    ret += options.era[dec];\n                    break;\n                case '\\'':\n                    ret += (match === '\\'\\'') ? '\\'' : match.replace(/\\'/g, '');\n                    break;\n                case 'z':\n                    var timezone = value.getTimezoneOffset();\n                    var pattern_1 = (length_1 < 4) ? '+H;-H' : options.timeZone.hourFormat;\n                    pattern_1 = pattern_1.replace(/:/g, options.numMapper.timeSeparator);\n                    if (timezone === 0) {\n                        ret += options.timeZone.gmtZeroFormat;\n                    }\n                    else {\n                        processNumber = true;\n                        curstr = this.getTimeZoneValue(timezone, pattern_1);\n                    }\n                    curstr = options.timeZone.gmtFormat.replace(/\\{0\\}/, curstr);\n                    break;\n                case ':':\n                    ret += options.numMapper.numberSymbols[timeSeparator];\n                    /* tslint:enable no-any */\n                    break;\n                case '/':\n                    ret += options.dateSeperator;\n                    break;\n                default:\n                    ret += match;\n            }\n            if (isNumber) {\n                processNumber = true;\n                curstr = this.checkTwodigitNumber(curval, length_1);\n            }\n            if (processNumber) {\n                ret += parser.convertValueParts(curstr, base.latnParseRegex, options.numMapper.mapper);\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns two digit numbers for given value and length\n     */\n    DateFormat.checkTwodigitNumber = function (val, len) {\n        var ret = val + '';\n        if (len === 2 && ret.length !== 2) {\n            return '0' + ret;\n        }\n        return ret;\n    };\n    /**\n     * Returns the value of the Time Zone.\n     * @param {number} tVal\n     * @param {string} pattern\n     * @private\n     */\n    DateFormat.getTimeZoneValue = function (tVal, pattern) {\n        var _this = this;\n        var splt = pattern.split(';');\n        var curPattern = splt[tVal > 0 ? 1 : 0];\n        var no = Math.abs(tVal);\n        return curPattern = curPattern.replace(/HH?|mm/g, function (str) {\n            var len = str.length;\n            var ishour = str.indexOf('H') !== -1;\n            return _this.checkTwodigitNumber(Math.floor(ishour ? (no / 60) : (no % 60)), len);\n        });\n    };\n    return DateFormat;\n}());\nexport { DateFormat };\n","import { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nimport { isUndefined, throwError, getValue, isNullOrUndefined } from '../util';\nimport { datePartMatcher } from './date-formatter';\nvar number = 'numbers';\nvar defNoSystem = 'defaultNumberingSystem';\nvar noSystem = 'numberingSystem';\nvar standalone = 'stand-alone';\nvar curWeekDay = 'curWeekDay';\nvar latnRegex = /^[0-9]*$/;\nvar abbreviateRegex = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|ccc/;\nvar timeSetter = {\n    minute: 'setMinutes',\n    hour: 'setHours',\n    second: 'setSeconds',\n    day: 'setDate',\n    month: 'setMonth'\n};\nvar month = 'months';\n/* tslint:disable no-any */\n/**\n * Date Parser.\n * @private\n */\nvar DateParser = /** @class */ (function () {\n    function DateParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which string date  will be parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     *  @return Function.\n     */\n    // tslint:disable-next-line:max-func-body-length\n    DateParser.dateParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr));\n        var parseOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        var regexString = '';\n        var hourOnly;\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            parseOptions = { pattern: resPattern, evalposition: {} };\n            var patternMatch = resPattern.match(base.dateParseRegex) || [];\n            var length_1 = patternMatch.length;\n            var gmtCorrection = 0;\n            var zCorrectTemp = 0;\n            var isgmtTraversed = false;\n            var nRegx = numOptions.numericRegex;\n            for (var i = 0; i < length_1; i++) {\n                var str = patternMatch[i];\n                var len = str.length;\n                var char = (str[0] === 'K') ? 'h' : str[0];\n                var isNumber = void 0;\n                var canUpdate = void 0;\n                var charKey = datePartMatcher[char];\n                var optional = (len === 2) ? '' : '?';\n                if (isgmtTraversed) {\n                    gmtCorrection = zCorrectTemp;\n                    isgmtTraversed = false;\n                }\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        // tslint:disable-next-line\n                        var weekObject = parser.reverseObject(dependable.dateObject[base.days][standalone][base.monthIndex[len]]);\n                        regexString += '(' + Object.keys(weekObject).join('|') + ')';\n                        break;\n                    case 'M':\n                    case 'L':\n                    case 'd':\n                    case 'm':\n                    case 's':\n                    case 'h':\n                    case 'H':\n                        canUpdate = true;\n                        if ((char === 'M' || char === 'L') && len > 2) {\n                            // tslint:disable-next-line\n                            parseOptions[charKey] = parser.reverseObject(dependable.dateObject[month][standalone][base.monthIndex[len]]);\n                            /* tslint:disable no-any */\n                            regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        }\n                        else {\n                            isNumber = true;\n                            regexString += '(' + nRegx + nRegx + optional + ')';\n                        }\n                        if (char === 'h') {\n                            parseOptions.hour12 = true;\n                        }\n                        break;\n                    case 'y':\n                        canUpdate = isNumber = true;\n                        if (len === 2) {\n                            regexString += '(' + nRegx + nRegx + ')';\n                        }\n                        else {\n                            regexString += '(' + nRegx + '{' + len + ',})';\n                        }\n                        break;\n                    case 'a':\n                        canUpdate = true;\n                        parseOptions[charKey] = parser.reverseObject(getValue('dayPeriods.format.wide', dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        break;\n                    case 'G':\n                        canUpdate = true;\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        parseOptions[charKey] = parser.reverseObject(getValue('eras.' + eText, dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + '?)';\n                        break;\n                    case 'z':\n                        var tval = new Date().getTimezoneOffset();\n                        canUpdate = (tval !== 0);\n                        parseOptions[charKey] = getValue('dates.timeZoneNames', dependable.parserObject);\n                        var tzone = parseOptions[charKey];\n                        hourOnly = (len < 4);\n                        var hpattern = hourOnly ? '+H;-H' : tzone.hourFormat;\n                        regexString += '(' + this.parseTimeZoneRegx(hpattern, tzone, nRegx) + ')?';\n                        isgmtTraversed = true;\n                        zCorrectTemp = hourOnly ? 6 : 12;\n                        break;\n                    case '\\'':\n                        var iString = str.replace(/\\'/g, '');\n                        regexString += '(' + iString + ')?';\n                        break;\n                    default:\n                        regexString += '(.)?';\n                        break;\n                }\n                if (canUpdate) {\n                    parseOptions.evalposition[charKey] = { isNumber: isNumber, pos: i + 1 + gmtCorrection, hourOnly: hourOnly };\n                }\n                if (i === length_1 - 1 && !isNullOrUndefined(regexString)) {\n                    parseOptions.parserRegex = new RegExp('^' + regexString + '$');\n                }\n            }\n        }\n        return function (value) {\n            var parsedDateParts = _this.internalDateParse(value, parseOptions, numOptions);\n            if (isNullOrUndefined(parsedDateParts) || !Object.keys(parsedDateParts).length) {\n                return null;\n            }\n            return _this.getDateObject(parsedDateParts);\n        };\n    };\n    /**\n     * Returns date object for provided date options\n     * @param {DateParts} options\n     * @param {Date} value\n     * @returns {Date}\n     */\n    DateParser.getDateObject = function (options, value) {\n        var res = value || new Date();\n        res.setMilliseconds(0);\n        var tKeys = ['hour', 'minute', 'second', 'month', 'day'];\n        var y = options.year;\n        var desig = options.designator;\n        var tzone = options.timeZone;\n        if (!isUndefined(y)) {\n            var len = (y + '').length;\n            if (len <= 2) {\n                var century = Math.floor(res.getFullYear() / 100) * 100;\n                y += century;\n            }\n            res.setFullYear(y);\n        }\n        for (var _i = 0, tKeys_1 = tKeys; _i < tKeys_1.length; _i++) {\n            var key = tKeys_1[_i];\n            var tValue = options[key];\n            if (!isUndefined(tValue)) {\n                if (key === 'month') {\n                    tValue -= 1;\n                    if (tValue < 0 || tValue > 11) {\n                        return new Date('invalid');\n                    }\n                    var pDate = res.getDate();\n                    res.setDate(1);\n                    res[timeSetter[key]](tValue);\n                    var lDate = new Date(res.getFullYear(), tValue + 1, 0).getDate();\n                    res.setDate(pDate < lDate ? pDate : lDate);\n                }\n                else {\n                    if (key === 'day') {\n                        var lastDay = new Date(res.getFullYear(), res.getMonth() + 1, 0).getDate();\n                        if ((tValue < 1 || tValue > lastDay)) {\n                            return null;\n                        }\n                    }\n                    res[timeSetter[key]](tValue);\n                }\n            }\n        }\n        if (!isUndefined(desig)) {\n            var hour = res.getHours();\n            if (desig === 'pm') {\n                res.setHours(hour + (hour === 12 ? 0 : 12));\n            }\n            else if (hour === 12) {\n                res.setHours(0);\n            }\n        }\n        if (!isUndefined(tzone)) {\n            var tzValue = tzone - res.getTimezoneOffset();\n            if (tzValue !== 0) {\n                res.setMinutes(res.getMinutes() + tzValue);\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns date parsing options for provided value along with parse and numeric options\n     * @param {string} value\n     * @param {ParseOptions} parseOptions\n     * @param {NumericOptions} num\n     * @returns {DateParts}\n     */\n    DateParser.internalDateParse = function (value, parseOptions, num) {\n        var matches = value.match(parseOptions.parserRegex);\n        var retOptions = { 'hour': 0, 'minute': 0, 'second': 0 };\n        var nRegx = num.numericRegex;\n        if (isNullOrUndefined(matches)) {\n            return null;\n        }\n        else {\n            var props = Object.keys(parseOptions.evalposition);\n            for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n                var prop = props_1[_i];\n                var curObject = parseOptions.evalposition[prop];\n                var matchString = matches[curObject.pos];\n                if (curObject.isNumber) {\n                    retOptions[prop] = this.internalNumberParser(matchString, num);\n                }\n                else {\n                    if (prop === 'timeZone' && !isUndefined(matchString)) {\n                        var pos = curObject.pos;\n                        var val = void 0;\n                        var tmatch = matches[pos + 1];\n                        var flag = !isUndefined(tmatch);\n                        if (curObject.hourOnly) {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 4], num) * 60;\n                        }\n                        else {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 7], num) * 60;\n                            val += this.getZoneValue(flag, matches[pos + 4], matches[pos + 10], num);\n                        }\n                        if (!isNullOrUndefined(val)) {\n                            retOptions[prop] = val;\n                        }\n                    }\n                    else {\n                        retOptions[prop] = parseOptions[prop][matchString];\n                    }\n                }\n            }\n            if (parseOptions.hour12) {\n                retOptions.hour12 = true;\n            }\n        }\n        return retOptions;\n    };\n    /**\n     * Returns parsed number for provided Numeric string and Numeric Options\n     * @param {string} value\n     * @param {NumericOptions} option\n     * @returns {number}\n     */\n    DateParser.internalNumberParser = function (value, option) {\n        value = parser.convertValueParts(value, option.numberParseRegex, option.numericPair);\n        if (latnRegex.test(value)) {\n            return +value;\n        }\n        return null;\n    };\n    /**\n     * Returns parsed time zone RegExp for provided hour format and time zone\n     * @param {string} hourFormat\n     * @param {base.TimeZoneOptions} tZone\n     * @param {string} nRegex\n     * @returns {string}\n     */\n    DateParser.parseTimeZoneRegx = function (hourFormat, tZone, nRegex) {\n        var pattern = tZone.gmtFormat;\n        var ret;\n        var result;\n        var cRegex = '(' + nRegex + ')' + '(' + nRegex + ')';\n        var splitStr;\n        ret = hourFormat.replace('+', '\\\\+');\n        if (hourFormat.indexOf('HH') !== -1) {\n            ret = ret.replace(/HH|mm/g, '(' + cRegex + ')');\n        }\n        else {\n            ret = ret.replace(/H|m/g, '(' + cRegex + '?)');\n        }\n        splitStr = (ret.split(';').map(function (str) {\n            return pattern.replace('{0}', str);\n        }));\n        ret = splitStr.join('|') + '|' + tZone.gmtZeroFormat;\n        return ret;\n    };\n    /**\n     * Returns zone based value.\n     * @param {boolean} flag\n     * @param {string} val1\n     * @param {string} val2\n     * @param {NumericOptions} num\n     * @returns {number}\n     */\n    DateParser.getZoneValue = function (flag, val1, val2, num) {\n        var value = this.internalNumberParser(flag ? val1 : val2, num);\n        if (flag) {\n            return -value;\n        }\n        return value;\n    };\n    return DateParser;\n}());\nexport { DateParser };\n","import { extend, isNullOrUndefined } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nvar formatRegex = /(^[ncpa]{1})([0-1]?[0-9]|20)?$/i;\nvar parseRegex = /^([^0-9]*)(([0-9,]*[0-9]+)(\\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/;\nvar groupRegex = /,/g;\nvar latnDecimalRegex = /^[0-9]*(\\.[0-9]+)?$/;\nvar keys = ['minusSign', 'infinity'];\n/**\n * Module for Number Parser.\n * @private\n */\nvar NumberParser = /** @class */ (function () {\n    function NumberParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} - Specific the format in which number  will parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberParser.numberParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var numOptions;\n        if ((base.formatRegex.test(option.format)) || !(option.format)) {\n            extend(parseOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            parseOptions.custom = false;\n        }\n        else {\n            extend(parseOptions, base.customFormat(option.format, null, null));\n        }\n        numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        parseOptions.symbolRegex = parser.getSymbolRegex(Object.keys(numOptions.symbolMatch));\n        // tslint:disable-next-line:no-any\n        parseOptions.infinity = numOptions.symbolNumberSystem[keys[1]];\n        var symbolpattern = base.getSymbolPattern(parseOptions.type, numOptions.numberSystem, dependable.numericObject, parseOptions.isAccount);\n        if (symbolpattern) {\n            symbolpattern = symbolpattern.replace(/\\u00A4/g, base.defaultCurrency);\n            var split = symbolpattern.split(';');\n            parseOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, '');\n            parseOptions.pData = base.getFormatData(split[0], true, '');\n        }\n        return function (value) {\n            return _this.getParsedNumber(value, parseOptions, numOptions);\n        };\n    };\n    /**\n     * Returns parsed number for the provided formatting options\n     * @param {string} value\n     * @param {NumericParts} options\n     * @param {NumericOptions} numOptions\n     * @returns {number}\n     */\n    NumberParser.getParsedNumber = function (value, options, numOptions) {\n        var isNegative;\n        var isPercent;\n        var tempValue;\n        var lead;\n        var end;\n        var ret;\n        if (value.indexOf(options.infinity) !== -1) {\n            return Infinity;\n        }\n        else {\n            value = parser.convertValueParts(value, options.symbolRegex, numOptions.symbolMatch);\n            value = parser.convertValueParts(value, numOptions.numberParseRegex, numOptions.numericPair);\n            if (value.indexOf('.') === 0) {\n                value = '0' + value;\n            }\n            var matches = value.match(parseRegex);\n            if (isNullOrUndefined(matches)) {\n                return NaN;\n            }\n            lead = matches[1];\n            tempValue = matches[2];\n            var exponent = matches[5];\n            end = matches[6];\n            isNegative = options.custom ? ((lead === options.nData.nlead) && (end === options.nData.nend)) :\n                ((lead.indexOf(options.nData.nlead) !== -1) && (end.indexOf(options.nData.nend) !== -1));\n            isPercent = isNegative ?\n                options.nData.isPercent :\n                options.pData.isPercent;\n            tempValue = tempValue.replace(groupRegex, '');\n            if (exponent) {\n                tempValue += exponent;\n            }\n            ret = +tempValue;\n            if (options.type === 'percent' || isPercent) {\n                ret = ret / 100;\n            }\n            if (options.custom || options.fractionDigits) {\n                ret = parseFloat(ret.toFixed(options.custom ?\n                    (isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits) : options.fractionDigits));\n            }\n            if (isNegative) {\n                ret *= -1;\n            }\n            return ret;\n        }\n    };\n    return NumberParser;\n}());\nexport { NumberParser };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isUndefined, getValue, isNullOrUndefined, setValue, getUniqueID } from './util';\nimport { ModuleLoader } from './module-loader';\nimport { Base } from './base';\nimport { Observer } from './observer';\nimport { ChildProperty } from './child-property';\nimport { Property, NotifyPropertyChanges } from './notify-property-change';\nimport { onIntlChange, rightToLeft, defaultCulture } from './internationalization';\n/**\n * Base class for all Essential JavaScript components\n */\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    /**\n     * Initialize the constructor for component base\n     */\n    function Component(options, selector) {\n        var _this = _super.call(this, options, selector) || this;\n        _this.needsID = false;\n        if (isNullOrUndefined(_this.enableRtl)) {\n            _this.setProperties({ 'enableRtl': rightToLeft }, true);\n        }\n        if (isNullOrUndefined(_this.locale)) {\n            _this.setProperties({ 'locale': defaultCulture }, true);\n        }\n        _this.moduleLoader = new ModuleLoader(_this);\n        _this.localObserver = new Observer(_this);\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        _this.detectFunction = new Function('args', 'var prop = Object.keys(args); if(prop.length){this[prop[0]] = args[prop[0]];}');\n        onIntlChange.on('notifyExternalChange', _this.detectFunction, _this);\n        if (!isUndefined(selector)) {\n            _this.appendTo();\n        }\n        return _this;\n    }\n    Component.prototype.requiredModules = function () {\n        return [];\n    };\n    ;\n    /**\n     * Destroys the sub modules while destroying the widget\n     */\n    Component.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.localObserver.destroy();\n        if (this.refreshing) {\n            return;\n        }\n        this.trigger('destroyed', { cancel: false });\n        _super.prototype.destroy.call(this);\n        this.moduleLoader.clean();\n        onIntlChange.off('notifyExternalChange', this.detectFunction);\n        if (this.enablePersistence) {\n            this.setPersistData();\n        }\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     */\n    Component.prototype.refresh = function () {\n        this.refreshing = true;\n        this.moduleLoader.clean();\n        this.destroy();\n        this.clearChanges();\n        this.localObserver = new Observer(this);\n        this.preRender();\n        this.injectModules();\n        this.render();\n        this.refreshing = false;\n    };\n    /**\n     * Appends the component within the given HTML element\n     * @param {string | HTMLElement} selector - Target element where component needs to be appended.\n     */\n    Component.prototype.appendTo = function (selector) {\n        if (!isNullOrUndefined(selector) && typeof (selector) === 'string') {\n            this.element = document.querySelector(selector);\n        }\n        else if (!isNullOrUndefined(selector)) {\n            this.element = selector;\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.isProtectedOnChange = false;\n            if (this.enablePersistence) {\n                this.mergePersistData();\n                window.addEventListener('unload', this.setPersistData.bind(this));\n            }\n            if (this.needsID && !this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n            var inst = getValue('ej2_instances', this.element);\n            if (!inst || inst.indexOf(this) === -1) {\n                _super.prototype.addInstance.call(this);\n            }\n            this.preRender();\n            this.injectModules();\n            this.render();\n            this.trigger('created');\n        }\n    };\n    /**\n     * When invoked, applies the pending property changes immediately to the component.\n     */\n    Component.prototype.dataBind = function () {\n        this.injectModules();\n        _super.prototype.dataBind.call(this);\n    };\n    ;\n    /**\n     * Attach one or more  event handler to the current component context.\n     * It is used for internal handling event internally within the component only.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the handler to run when the event occurs\n     * @param {Object} context - optional parameter Specifies the context to be bind in the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.on = function (event, handler, context) {\n        if (typeof event === 'string') {\n            this.localObserver.on(event, handler, context);\n        }\n        else {\n            for (var _i = 0, event_1 = event; _i < event_1.length; _i++) {\n                var arg = event_1[_i];\n                this.localObserver.on(arg.event, arg.handler, arg.context);\n            }\n        }\n    };\n    /**\n     * To remove one or more event handler that has been attached with the on() method.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the function to run when the event occurs\n     * @return {void}\n     * @private\n     */\n    Component.prototype.off = function (event, handler) {\n        if (typeof event === 'string') {\n            this.localObserver.off(event, handler);\n        }\n        else {\n            for (var _i = 0, event_2 = event; _i < event_2.length; _i++) {\n                var arg = event_2[_i];\n                this.localObserver.off(arg.event, arg.handler);\n            }\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     * @param {Object} argument - Additional parameters to pass while calling the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.notify = function (property, argument) {\n        if (this.isDestroyed !== true) {\n            this.localObserver.notify(property, argument);\n        }\n    };\n    /**\n     * Get injected modules\n     * @private\n     */\n    Component.prototype.getInjectedModules = function () {\n        return this.injectedModules;\n    };\n    ;\n    /**\n     * Dynamically injects the required modules to the component.\n     */\n    Component.Inject = function () {\n        var moduleList = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            moduleList[_i] = arguments[_i];\n        }\n        if (!this.prototype.injectedModules) {\n            this.prototype.injectedModules = [];\n        }\n        for (var i = 0; i < moduleList.length; i++) {\n            if (this.prototype.injectedModules.indexOf(moduleList[i]) === -1) {\n                this.prototype.injectedModules.push(moduleList[i]);\n            }\n        }\n    };\n    Component.prototype.injectModules = function () {\n        if (this.injectedModules && this.injectedModules.length) {\n            this.moduleLoader.inject(this.requiredModules(), this.injectedModules);\n        }\n    };\n    Component.prototype.mergePersistData = function () {\n        var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n        if (!(isNullOrUndefined(data) || (data === ''))) {\n            this.setProperties(JSON.parse(data), true);\n        }\n    };\n    Component.prototype.setPersistData = function () {\n        window.localStorage.setItem(this.getModuleName() + this.element.id, this.getPersistData());\n    };\n    Component.prototype.clearTemplate = function (templateName) {\n        //No Code\n    };\n    Component.prototype.addOnPersist = function (options) {\n        var _this = this;\n        var persistObj = {};\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var key = options_1[_i];\n            var objValue = void 0;\n            objValue = getValue(key, this);\n            if (!isUndefined(objValue)) {\n                setValue(key, this.getActualProperties(objValue), persistObj);\n            }\n        }\n        return JSON.stringify(persistObj, function (key, value) {\n            return _this.getActualProperties(value);\n        });\n    };\n    Component.prototype.getActualProperties = function (obj) {\n        if (obj instanceof ChildProperty) {\n            return getValue('properties', obj);\n        }\n        else {\n            return obj;\n        }\n    };\n    Component.prototype.ignoreOnPersist = function (options) {\n        return JSON.stringify(this.iterateJsonProperties(this.properties, options));\n    };\n    Component.prototype.iterateJsonProperties = function (obj, ignoreList) {\n        var newObj = {};\n        var _loop_1 = function (key) {\n            if (ignoreList.indexOf(key) === -1) {\n                // tslint:disable-next-line:no-any\n                var value = obj[key];\n                if (typeof value === 'object' && !(value instanceof Array)) {\n                    var newList = ignoreList.filter(function (str) {\n                        return new RegExp(key + '.').test(str);\n                    }).map(function (str) {\n                        return str.replace(key + '.', '');\n                    });\n                    newObj[key] = this_1.iterateJsonProperties(this_1.getActualProperties(value), newList);\n                }\n                else {\n                    newObj[key] = value;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n        return newObj;\n    };\n    __decorate([\n        Property(false)\n    ], Component.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"locale\", void 0);\n    Component = __decorate([\n        NotifyPropertyChanges\n    ], Component);\n    return Component;\n}(Base));\nexport { Component };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent } from './util';\nvar defaultPosition = { left: 0, top: 0, bottom: 0, right: 0 };\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"top\", void 0);\n    return Position;\n}(ChildProperty));\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dragLimit = Draggable_1.getDefaultPosition();\n        _this.borderWidth = Draggable_1.getDefaultPosition();\n        _this.padding = Draggable_1.getDefaultPosition();\n        _this.diffX = 0;\n        _this.diffY = 0;\n        _this.droppables = {};\n        _this.bind();\n        return _this;\n    }\n    Draggable_1 = Draggable;\n    Draggable.prototype.bind = function () {\n        this.toggleEvents();\n        if (Browser.isIE) {\n            addClass([this.element], 'e-block-touch');\n        }\n        this.droppables[this.scope] = {};\n    };\n    Draggable.getDefaultPosition = function () {\n        return extend({}, defaultPosition);\n    };\n    Draggable.prototype.toggleEvents = function (isUnWire) {\n        var ele;\n        if (!isUndefined(this.handle)) {\n            ele = select(this.handle, this.element);\n        }\n        if (isUnWire) {\n            EventHandler.remove(ele || this.element, Browser.touchStartEvent, this.initialize);\n        }\n        else {\n            EventHandler.add(ele || this.element, Browser.touchStartEvent, this.initialize, this);\n        }\n    };\n    Draggable.prototype.initialize = function (evt) {\n        this.target = evt.currentTarget;\n        if (this.preventDefault && !isUndefined(evt.changedTouches)) {\n            evt.preventDefault();\n        }\n        if (this.abort) {\n            if (!isNullOrUndefined(closest(evt.target, this.abort))) {\n                return;\n            }\n        }\n        this.element.setAttribute('aria-grabbed', 'true');\n        var intCoord = this.getCoordinates(evt);\n        this.initialPosition = { x: intCoord.pageX, y: intCoord.pageY };\n        if (!this.clone) {\n            var pos = this.element.getBoundingClientRect();\n            this.relativeXPosition = intCoord.pageX - pos.left;\n            this.relativeYPosition = intCoord.pageY - pos.top;\n        }\n        EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n        EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n        this.toggleEvents(true);\n        document.body.classList.add('e-prevent-select');\n        EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n    };\n    Draggable.prototype.intDragStart = function (evt) {\n        var isChangeTouch = !isUndefined(evt.changedTouches);\n        if (isChangeTouch && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var intCordinate = this.getCoordinates(evt);\n        var pos;\n        var styleProp = getComputedStyle(this.element);\n        this.margin = {\n            left: parseInt(styleProp.marginLeft, 10),\n            top: parseInt(styleProp.marginTop, 10),\n            right: parseInt(styleProp.marginRight, 10),\n            bottom: parseInt(styleProp.marginBottom, 10),\n        };\n        var element = this.element;\n        if (this.clone && this.dragTarget) {\n            var intClosest = closest(evt.target, this.dragTarget);\n            if (!isNullOrUndefined(intClosest)) {\n                element = intClosest;\n            }\n        }\n        this.offset = this.calculateParentPosition(element);\n        this.position = this.getMousePosition(evt);\n        var x = this.initialPosition.x - intCordinate.pageX;\n        var y = this.initialPosition.y - intCordinate.pageY;\n        var distance = Math.sqrt((x * x) + (y * y));\n        if (distance >= this.distance) {\n            var ele = this.getHelperElement(evt);\n            if (!ele || isNullOrUndefined(ele)) {\n                return;\n            }\n            var dragTargetElement = this.helperElement = ele;\n            this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n            if (this.dragStart) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStart', { event: evt, element: element, target: curTarget });\n            }\n            if (this.dragArea) {\n                this.setDragArea();\n            }\n            else {\n                this.dragLimit = { left: 0, right: 0, bottom: 0, top: 0 };\n                this.borderWidth = { top: 0, left: 0 };\n            }\n            pos = { left: this.position.left - this.parentClientRect.left, top: this.position.top - this.parentClientRect.top };\n            if (this.clone && !this.enableTailMode) {\n                this.diffX = this.position.left - this.offset.left;\n                this.diffY = this.position.top - this.offset.top;\n            }\n            var posValue = this.getProcessedPositionValue({ top: (pos.top - this.diffY) + 'px',\n                left: (pos.left - this.diffX) + 'px' });\n            setStyleAttribute(dragTargetElement, {\n                position: 'absolute', top: posValue.top, left: posValue.left\n            });\n            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n            if (isVisible(dragTargetElement)) {\n                EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n                EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n                this.setGlobalDroppables(false, this.element, dragTargetElement);\n            }\n            else {\n                document.body.classList.remove('e-prevent-select');\n            }\n        }\n    };\n    Draggable.prototype.getProcessedPositionValue = function (value) {\n        if (this.axis) {\n            if (this.axis === 'x') {\n                value.top = '0px';\n            }\n            else if (this.axis === 'y') {\n                value.left = '0px';\n            }\n        }\n        if (this.queryPositionInfo) {\n            return this.queryPositionInfo(value);\n        }\n        return value;\n    };\n    Draggable.prototype.calculateParentPosition = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return { left: 0, top: 0 };\n        }\n        var rect = ele.getBoundingClientRect();\n        var style = getComputedStyle(ele);\n        return {\n            left: (rect.left + window.pageXOffset) - parseInt(style.marginLeft, 10),\n            top: (rect.top + window.pageYOffset) - parseInt(style.marginTop, 10)\n        };\n    };\n    Draggable.prototype.intDrag = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var left;\n        var top;\n        this.position = this.getMousePosition(evt);\n        var docHeight = this.getDocumentWidthHeight('Height');\n        if (docHeight < this.position.top) {\n            this.position.top = docHeight;\n        }\n        var docWidth = this.getDocumentWidthHeight('Width');\n        if (docWidth < this.position.left) {\n            this.position.left = docWidth;\n        }\n        if (this.drag) {\n            var curTarget = this.getProperTargetElement(evt);\n            this.trigger('drag', { event: evt, element: this.element, target: curTarget });\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.intOver(evt, eleObj.target);\n            /* tslint:disable no-any */\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            this.hoverObject = eleObj;\n        }\n        else if (this.hoverObject) {\n            this.hoverObject.instance.intOut(evt, eleObj.target);\n            this.hoverObject.instance.dragData[this.scope] = null;\n            this.hoverObject = null;\n        }\n        var helperElement = this.droppables[this.scope].helper;\n        this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n        var tLeft = this.parentClientRect.left;\n        var tTop = this.parentClientRect.top;\n        var intCoord = this.getCoordinates(evt);\n        var pagex = intCoord.pageX;\n        var pagey = intCoord.pageY;\n        var dLeft = this.position.left - this.diffX;\n        var dTop = this.position.top - this.diffY;\n        if (this.dragArea) {\n            var styles = getComputedStyle(helperElement);\n            if (this.pageX !== pagex || this.skipDistanceCheck) {\n                var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft)\n                    + parseFloat(styles.marginRight));\n                if (this.dragLimit.left > dLeft) {\n                    left = this.dragLimit.left;\n                }\n                else if (this.dragLimit.right < dLeft + helperWidth) {\n                    left = this.dragLimit.right - helperWidth;\n                }\n                else {\n                    left = dLeft;\n                }\n            }\n            if (this.pageY !== pagey || this.skipDistanceCheck) {\n                var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                    + parseFloat(styles.marginBottom));\n                if (this.dragLimit.top > dTop) {\n                    top = this.dragLimit.top;\n                }\n                else if (this.dragLimit.bottom < dTop + helperHeight) {\n                    top = this.dragLimit.bottom - helperHeight;\n                }\n                else {\n                    top = dTop;\n                }\n            }\n        }\n        else {\n            left = dLeft;\n            top = dTop;\n        }\n        var iTop = tTop + this.borderWidth.top;\n        var iLeft = tLeft + this.borderWidth.left;\n        var dragValue = this.getProcessedPositionValue({ top: (top - iTop) + 'px', left: (left - iLeft) + 'px' });\n        setStyleAttribute(helperElement, { left: dragValue.left, top: dragValue.top });\n        this.position.left = left;\n        this.position.top = top;\n        this.pageX = pagex;\n        this.pageY = pagey;\n    };\n    Draggable.prototype.getDocumentWidthHeight = function (str) {\n        var docBody = document.body;\n        var docEle = document.documentElement;\n        var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n        return returnValue;\n    };\n    Draggable.prototype.intDragStop = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var type = ['touchend', 'pointerup', 'mouseup'];\n        if (type.indexOf(evt.type) !== -1) {\n            if (this.dragStop) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStop', { event: evt, element: this.element, target: curTarget, helper: this.helperElement });\n            }\n            this.intDestroy(evt);\n        }\n        else {\n            this.element.setAttribute('aria-grabbed', 'false');\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.dragStopCalled = true;\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intDrop(evt, eleObj.target);\n        }\n        this.setGlobalDroppables(true);\n        document.body.classList.remove('e-prevent-select');\n    };\n    Draggable.prototype.intDestroy = function (evt) {\n        this.toggleEvents();\n        document.body.classList.remove('e-prevent-select');\n        this.element.setAttribute('aria-grabbed', 'false');\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n    };\n    // triggers when property changed\n    Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Draggable.prototype.getModuleName = function () {\n        return 'draggable';\n    };\n    Draggable.prototype.setDragArea = function () {\n        var eleWidthBound;\n        var eleHeightBound;\n        var top = 0;\n        var left = 0;\n        var ele;\n        var type = typeof this.dragArea;\n        if (type === 'string') {\n            ele = select(this.dragArea);\n        }\n        else {\n            ele = this.dragArea;\n        }\n        if (ele) {\n            var elementArea = ele.getBoundingClientRect();\n            eleWidthBound = elementArea.width ? elementArea.width : elementArea.right - elementArea.left;\n            eleHeightBound = elementArea.height ? elementArea.height : elementArea.bottom - elementArea.top;\n            var keys = ['Top', 'Left', 'Bottom', 'Right'];\n            var styles = getComputedStyle(ele);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var tborder = styles['border' + key + 'Width'];\n                var tpadding = styles['padding' + key];\n                var lowerKey = key.toLowerCase();\n                this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n                this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n            }\n            top = elementArea.top;\n            left = elementArea.left;\n            this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n            this.dragLimit.top = top + this.borderWidth.top + this.padding.top;\n            this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n            this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n        }\n    };\n    Draggable.prototype.getProperTargetElement = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var ele;\n        var prevStyle = this.helperElement.style.display || '';\n        if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n            this.helperElement.style.display = 'none';\n            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n            this.helperElement.style.display = prevStyle;\n        }\n        else {\n            ele = evt.target;\n        }\n        return ele;\n    };\n    Draggable.prototype.getMousePosition = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var pageX = this.clone ? intCoord.pageX : intCoord.pageX - this.relativeXPosition;\n        var pageY = this.clone ? intCoord.pageY : intCoord.pageY - this.relativeYPosition;\n        return {\n            left: pageX - (this.margin.left + this.cursorAt.left),\n            top: pageY - (this.margin.top + this.cursorAt.top)\n        };\n    };\n    Draggable.prototype.getCoordinates = function (evt) {\n        if (evt.type.indexOf('touch') > -1) {\n            return evt.changedTouches[0];\n        }\n        return evt;\n    };\n    Draggable.prototype.getHelperElement = function (evt) {\n        var element;\n        if (this.clone) {\n            if (this.helper) {\n                element = this.helper({ sender: evt, element: this.target });\n            }\n            else {\n                element = createElement('div', { className: 'e-drag-helper e-block-touch', innerHTML: 'Draggable' });\n                document.body.appendChild(element);\n            }\n        }\n        else {\n            element = this.element;\n        }\n        return element;\n    };\n    Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n        this.droppables[this.scope] = reset ? null : {\n            draggable: drag,\n            helper: helper,\n            draggedElement: this.element\n        };\n    };\n    Draggable.prototype.checkTargetElement = function (evt) {\n        var target = this.getProperTargetElement(evt);\n        var dropIns = this.getDropInstance(target);\n        if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n            var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n            if (parent_1) {\n                dropIns = this.getDropInstance(parent_1);\n            }\n        }\n        return { target: target, instance: dropIns };\n    };\n    Draggable.prototype.getDropInstance = function (ele) {\n        var name = 'getModuleName';\n        var drop;\n        var eleInst = ele && ele.ej2_instances;\n        if (eleInst) {\n            for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n                var inst = eleInst_1[_i];\n                if (inst[name]() === 'droppable') {\n                    drop = inst;\n                    break;\n                }\n            }\n        }\n        return drop;\n    };\n    Draggable.prototype.destroy = function () {\n        this.toggleEvents(true);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({}, Position)\n    ], Draggable.prototype, \"cursorAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"clone\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"dragArea\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStop\", void 0);\n    __decorate([\n        Property(1)\n    ], Draggable.prototype, \"distance\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"handle\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"abort\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"helper\", void 0);\n    __decorate([\n        Property('default')\n    ], Draggable.prototype, \"scope\", void 0);\n    __decorate([\n        Property('')\n    ], Draggable.prototype, \"dragTarget\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"axis\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"queryPositionInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTailMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"skipDistanceCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"preventDefault\", void 0);\n    Draggable = Draggable_1 = __decorate([\n        NotifyPropertyChanges\n    ], Draggable);\n    return Draggable;\n    var Draggable_1;\n}(Base));\nexport { Draggable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible, matches } from './dom';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { compareElementParent } from './util';\n/**\n * Droppable Module provides support to enable droppable functionality in Dom Elements.\n * ```html\n * <div id='drop'>Droppable</div>\n * <script>\n * let ele:HTMLElement = document.getElementById('drop');\n * var drag:Droppable = new Droppable(ele,{\n *     accept:'.drop',\n *     drop: function(e) {\n *      //drop handler code.\n *     }\n * });\n * </script>\n * ```\n */\nvar Droppable = /** @class */ (function (_super) {\n    __extends(Droppable, _super);\n    function Droppable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseOver = false;\n        _this.dragData = {};\n        _this.dragStopCalled = false;\n        _this.bind();\n        return _this;\n    }\n    Droppable.prototype.bind = function () {\n        this.wireEvents();\n    };\n    Droppable.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchEndEvent, this.intDrop, this);\n    };\n    // triggers when property changed\n    Droppable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Droppable.prototype.getModuleName = function () {\n        return 'droppable';\n    };\n    Droppable.prototype.intOver = function (event, element) {\n        if (!this.mouseOver) {\n            this.trigger('over', { event: event, target: element });\n            this.mouseOver = true;\n        }\n    };\n    Droppable.prototype.intOut = function (event, element) {\n        if (this.mouseOver) {\n            this.trigger('out', { evt: event, target: element });\n            this.mouseOver = false;\n        }\n    };\n    Droppable.prototype.intDrop = function (evt, element) {\n        if (!this.dragStopCalled) {\n            return;\n        }\n        else {\n            this.dragStopCalled = false;\n        }\n        var accept = true;\n        var drag = this.dragData[this.scope];\n        var isDrag = drag ? (drag.helper && isVisible(drag.helper)) : false;\n        var area;\n        if (isDrag) {\n            area = this.isDropArea(evt, drag.helper, element);\n            if (this.accept) {\n                accept = matches(drag.helper, this.accept);\n            }\n        }\n        if (isDrag && this.drop && area.canDrop && accept) {\n            this.trigger('drop', { event: evt, target: area.target, droppedElement: drag.helper, dragData: drag });\n        }\n    };\n    Droppable.prototype.isDropArea = function (evt, helper, element) {\n        var area = { canDrop: true, target: element || evt.target };\n        var isTouch = evt.type === 'touchend';\n        if (isTouch || area.target === helper) {\n            helper.style.display = 'none';\n            var coord = isTouch ? (evt.changedTouches[0]) : evt;\n            var ele = document.elementFromPoint(coord.clientX, coord.clientY);\n            area.canDrop = false;\n            area.canDrop = compareElementParent(ele, this.element);\n            if (area.canDrop) {\n                area.target = ele;\n            }\n            helper.style.display = '';\n        }\n        return area;\n    };\n    Droppable.prototype.destroy = function () {\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.intDrop);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property()\n    ], Droppable.prototype, \"accept\", void 0);\n    __decorate([\n        Property('default')\n    ], Droppable.prototype, \"scope\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"over\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"out\", void 0);\n    Droppable = __decorate([\n        NotifyPropertyChanges\n    ], Droppable);\n    return Droppable;\n}(Base));\nexport { Droppable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Base } from './base';\nvar keyCode = {\n    'backspace': 8,\n    'tab': 9,\n    'enter': 13,\n    'shift': 16,\n    'control': 17,\n    'alt': 18,\n    'pause': 19,\n    'capslock': 20,\n    'space': 32,\n    'escape': 27,\n    'pageup': 33,\n    'pagedown': 34,\n    'end': 35,\n    'home': 36,\n    'leftarrow': 37,\n    'uparrow': 38,\n    'rightarrow': 39,\n    'downarrow': 40,\n    'insert': 45,\n    'delete': 46,\n    'f1': 112,\n    'f2': 113,\n    'f3': 114,\n    'f4': 115,\n    'f5': 116,\n    'f6': 117,\n    'f7': 118,\n    'f8': 119,\n    'f9': 120,\n    'f10': 121,\n    'f11': 122,\n    'f12': 123,\n    'semicolon': 186,\n    'plus': 187,\n    'comma': 188,\n    'minus': 189,\n    'dot': 190,\n    'forwardslash': 191,\n    'graveaccent': 192,\n    'openbracket': 219,\n    'backslash': 220,\n    'closebracket': 221,\n    'singlequote': 222\n};\n/**\n * KeyboardEvents class enables you to bind key action desired key combinations for ex., Ctrl+A, Delete, Alt+Space etc.\n * ```html\n * <div id='testEle'>  </div>;\n * <script>\n *   let node: HTMLElement = document.querySelector('#testEle');\n *   let kbInstance = new KeyboardEvents({\n *       element: node,\n *       keyConfigs:{ selectAll : 'ctrl+a' },\n *       keyAction: function (e:KeyboardEvent, action:string) {\n *           // handler function code\n *       }\n *   });\n * </script>\n * ```\n */\nvar KeyboardEvents = /** @class */ (function (_super) {\n    __extends(KeyboardEvents, _super);\n    /**\n     * Initializes the KeyboardEvents\n     * @param {HTMLElement} element\n     * @param {KeyboardEventsModel} options\n     */\n    function KeyboardEvents(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * To handle a key press event returns null\n         */\n        _this.keyPressHandler = function (e) {\n            var isAltKey = e.altKey;\n            var isCtrlKey = e.ctrlKey;\n            var isShiftKey = e.shiftKey;\n            var curkeyCode = e.which;\n            var keys = Object.keys(_this.keyConfigs);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                var configCollection = _this.keyConfigs[key].split(',');\n                for (var _a = 0, configCollection_1 = configCollection; _a < configCollection_1.length; _a++) {\n                    var rconfig = configCollection_1[_a];\n                    var rKeyObj = KeyboardEvents_1.getKeyConfigData(rconfig.trim());\n                    if (isAltKey === rKeyObj.altKey && isCtrlKey === rKeyObj.ctrlKey &&\n                        isShiftKey === rKeyObj.shiftKey && curkeyCode === rKeyObj.keyCode) {\n                        e.action = key;\n                        if (_this.keyAction) {\n                            _this.keyAction(e);\n                        }\n                    }\n                }\n            }\n        };\n        _this.bind();\n        return _this;\n    }\n    KeyboardEvents_1 = KeyboardEvents;\n    /**\n     * Unwire bound events and destroy the instance.\n     * @return {void}\n     */\n    KeyboardEvents.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Function can be used to specify certain action if a property is changed\n     * @param newProp\n     * @param oldProp\n     * @returns {void}\n     * @private\n     */\n    KeyboardEvents.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    ;\n    KeyboardEvents.prototype.bind = function () {\n        this.wireEvents();\n    };\n    /**\n     * To get the module name, returns 'keyboard'.\n     * @private\n     */\n    KeyboardEvents.prototype.getModuleName = function () {\n        return 'keyboard';\n    };\n    /**\n     * Wiring event handlers to events\n     */\n    KeyboardEvents.prototype.wireEvents = function () {\n        this.element.addEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * Unwiring event handlers to events\n     */\n    KeyboardEvents.prototype.unwireEvents = function () {\n        this.element.removeEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * To get the key configuration data\n     * @param {string} config - configuration data\n     * returns {KeyData}\n     */\n    KeyboardEvents.getKeyConfigData = function (config) {\n        if (config in this.configCache) {\n            return this.configCache[config];\n        }\n        var keys = config.toLowerCase().split('+');\n        var keyData = {\n            altKey: (keys.indexOf('alt') !== -1 ? true : false),\n            ctrlKey: (keys.indexOf('ctrl') !== -1 ? true : false),\n            shiftKey: (keys.indexOf('shift') !== -1 ? true : false),\n            keyCode: null\n        };\n        if (keys[keys.length - 1].length > 1 && !!Number(keys[keys.length - 1])) {\n            keyData.keyCode = Number(keys[keys.length - 1]);\n        }\n        else {\n            keyData.keyCode = KeyboardEvents_1.getKeyCode(keys[keys.length - 1]);\n        }\n        KeyboardEvents_1.configCache[config] = keyData;\n        return keyData;\n    };\n    // Return the keycode value as string \n    KeyboardEvents.getKeyCode = function (keyVal) {\n        return keyCode[keyVal] || keyVal.toUpperCase().charCodeAt(0);\n    };\n    KeyboardEvents.configCache = {};\n    __decorate([\n        Property({})\n    ], KeyboardEvents.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property('keyup')\n    ], KeyboardEvents.prototype, \"eventName\", void 0);\n    __decorate([\n        Event()\n    ], KeyboardEvents.prototype, \"keyAction\", void 0);\n    KeyboardEvents = KeyboardEvents_1 = __decorate([\n        NotifyPropertyChanges\n    ], KeyboardEvents);\n    return KeyboardEvents;\n    var KeyboardEvents_1;\n}(Base));\nexport { KeyboardEvents };\n","import { extend } from './util';\nimport { defaultCulture } from './internationalization';\n/**\n * L10n modules provides localized text for different culture.\n * ```typescript\n * import {setCulture} from '@syncfusion/ts-base-library';\n * //load global locale object common for all components.\n * L10n.load({\n *    'fr-BE': {\n *       'button': {\n *            'check': 'vrifi'\n *        }\n *    }\n * });\n * //set globale default locale culture.\n * setCulture('fr-BE');\n * let instance: L10n = new L10n('button', {\n *    check: 'checked'\n * });\n * //Get locale text for current property.\n * instance.getConstant('check');\n * //Change locale culture in a component.\n * instance.setLocale('en-US');\n * ```\n */\nvar L10n = /** @class */ (function () {\n    /**\n     * Constructor\n     */\n    function L10n(controlName, localeStrings, locale) {\n        this.controlName = controlName;\n        this.localeStrings = localeStrings;\n        this.setLocale(locale || defaultCulture);\n    }\n    /**\n     * Sets the locale text\n     * @param {string} locale\n     * @returns {void}\n     */\n    L10n.prototype.setLocale = function (locale) {\n        var intLocale = this.intGetControlConstant(L10n.locale, locale);\n        this.currentLocale = intLocale || this.localeStrings;\n    };\n    /**\n     * Sets the global locale for all components.\n     * @param {Object} localeObject - specifies the localeObject to be set as global locale.\n     */\n    L10n.load = function (localeObject) {\n        this.locale = extend(this.locale, localeObject, {}, true);\n    };\n    /**\n     * Returns current locale text for the property based on the culture name and control name.\n     * @param {string} propertyName - specifies the property for which localize text to be returned.\n     * @return string\n     */\n    L10n.prototype.getConstant = function (prop) {\n        /* tslint:disable no-any */\n        return this.currentLocale[prop] || this.localeStrings[prop] || '';\n    };\n    /**\n     * Returns the control constant object for current object and the locale specified.\n     * @param {Object} curObject\n     * @param {string} locale\n     * @returns {Object}\n     */\n    L10n.prototype.intGetControlConstant = function (curObject, locale) {\n        if (curObject[locale]) {\n            return curObject[locale][this.controlName];\n        }\n        return null;\n    };\n    L10n.locale = {};\n    return L10n;\n}());\nexport { L10n };\n","/**\n * To import utils\n */\nimport { isNullOrUndefined, } from './util';\nvar SvgRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function SvgRenderer(rootID) {\n        //Internal Variables \n        this.svgLink = 'http://www.w3.org/2000/svg';\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    SvgRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    }; /* tslint:enable */\n    /**\n     * To create a Html5 SVG element\n     * @param {SVGAttributes} options - Options to create SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createSvg = function (options) {\n        if (isNullOrUndefined(options.id)) {\n            options.id = this.rootId + '_svg';\n        }\n        this.svgObj = document.getElementById(options.id);\n        if (isNullOrUndefined(document.getElementById(options.id))) {\n            this.svgObj = document.createElementNS(this.svgLink, 'svg');\n        }\n        this.svgObj = this.setElementAttributes(options, this.svgObj);\n        this.setSVGSize(options.width, options.height);\n        return this.svgObj;\n    };\n    // method to set the height and width for the SVG element\n    SvgRenderer.prototype.setSVGSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width) || this.width <= 0) {\n            this.svgObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.svgObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height) || this.height <= 0) {\n            this.svgObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.svgObj.setAttribute('height', this.height.toString());\n        }\n    };\n    /**\n     * To draw a path\n     * @param {PathAttributes} options - Options to draw a path in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPath = function (options) {\n        var path = document.getElementById(options.id);\n        if (path === null) {\n            path = document.createElementNS(this.svgLink, 'path');\n        }\n        path = this.setElementAttributes(options, path);\n        return path;\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - Options to draw a line in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawLine = function (options) {\n        var line = document.getElementById(options.id);\n        if (line === null) {\n            line = document.createElementNS(this.svgLink, 'line');\n        }\n        line = this.setElementAttributes(options, line);\n        return line;\n    };\n    /**\n     * To draw a rectangle\n     * @param {BaseAttibutes} options - Required options to draw a rectangle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawRectangle = function (options) {\n        var rectangle = document.getElementById(options.id);\n        if (rectangle === null) {\n            rectangle = document.createElementNS(this.svgLink, 'rect');\n        }\n        rectangle = this.setElementAttributes(options, rectangle);\n        return rectangle;\n    };\n    /**\n     * To draw a circle\n     * @param {CircleAttributes} options - Required options to draw a circle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircle = function (options) {\n        var circle = document.getElementById(options.id);\n        if (circle === null) {\n            circle = document.createElementNS(this.svgLink, 'circle');\n        }\n        circle = this.setElementAttributes(options, circle);\n        return circle;\n    };\n    /**\n     * To draw a polyline\n     * @param {PolylineAttributes} options - Options required to draw a polyline\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolyline = function (options) {\n        var polyline = document.getElementById(options.id);\n        if (polyline === null) {\n            polyline = document.createElementNS(this.svgLink, 'polyline');\n        }\n        polyline = this.setElementAttributes(options, polyline);\n        return polyline;\n    };\n    /**\n     * To draw an ellipse\n     * @param {EllipseAttributes} options - Options required to draw an ellipse\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawEllipse = function (options) {\n        var ellipse = document.getElementById(options.id);\n        if (ellipse === null) {\n            ellipse = document.createElementNS(this.svgLink, 'ellipse');\n        }\n        ellipse = this.setElementAttributes(options, ellipse);\n        return ellipse;\n    };\n    /**\n     * To draw a polygon\n     * @param {PolylineAttributes} options - Options needed to draw a polygon in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolygon = function (options) {\n        var polygon = document.getElementById(options.id);\n        if (polygon === null) {\n            polygon = document.createElementNS(this.svgLink, 'polygon');\n        }\n        polygon = this.setElementAttributes(options, polygon);\n        return polygon;\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - Required options to draw an image in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawImage = function (options) {\n        var img = document.createElementNS(this.svgLink, 'image');\n        img.setAttributeNS(null, 'height', options.height.toString());\n        img.setAttributeNS(null, 'width', options.width.toString());\n        img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', options.href);\n        img.setAttributeNS(null, 'x', options.x.toString());\n        img.setAttributeNS(null, 'y', options.y.toString());\n        img.setAttributeNS(null, 'id', options.id);\n        img.setAttributeNS(null, 'visibility', options.visibility);\n        if (!isNullOrUndefined(this.getOptionValue(options, 'clip-path'))) {\n            img.setAttributeNS(null, 'clip-path', this.getOptionValue(options, 'clip-path'));\n        }\n        if (!isNullOrUndefined(options.preserveAspectRatio)) {\n            img.setAttributeNS(null, 'preserveAspectRatio', options.preserveAspectRatio);\n        }\n        return img;\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - Options needed to draw a text in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createText = function (options, label) {\n        var text = document.createElementNS(this.svgLink, 'text');\n        text = this.setElementAttributes(options, text);\n        if (!isNullOrUndefined(label)) {\n            text.textContent = label;\n        }\n        return text;\n    };\n    /**\n     * To create a tSpan\n     * @param {TextAttributes} options - Options to create tSpan\n     * @param {string} label - The text content which is to be rendered in the tSpan\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTSpan = function (options, label) {\n        var tSpan = document.createElementNS(this.svgLink, 'tspan');\n        tSpan = this.setElementAttributes(options, tSpan);\n        if (!isNullOrUndefined(label)) {\n            tSpan.textContent = label;\n        }\n        return tSpan;\n    };\n    /**\n     * To create a title\n     * @param {string} text - The text content which is to be rendered in the title\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTitle = function (text) {\n        var title = document.createElementNS(this.svgLink, 'title');\n        title.textContent = text;\n        return title;\n    };\n    /**\n     * To create defs element in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createDefs = function () {\n        var defs = document.createElementNS(this.svgLink, 'defs');\n        return defs;\n    };\n    /**\n     * To create clip path in SVG\n     * @param {BaseAttibutes} options - Options needed to create clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createClipPath = function (options) {\n        var clipPath = document.createElementNS(this.svgLink, 'clipPath');\n        clipPath = this.setElementAttributes(options, clipPath);\n        return clipPath;\n    };\n    /**\n     * To create foreign object in SVG\n     * @param {BaseAttibutes} options - Options needed to create foreign object\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createForeignObject = function (options) {\n        var foreignObject = document.createElementNS(this.svgLink, 'foreignObject');\n        foreignObject = this.setElementAttributes(options, foreignObject);\n        return foreignObject;\n    };\n    /**\n     * To create group element in SVG\n     * @param {BaseAttibutes} options - Options needed to create group\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createGroup = function (options) {\n        var group = document.createElementNS(this.svgLink, 'g');\n        group = this.setElementAttributes(options, group);\n        return group;\n    };\n    /**\n     * To create pattern in SVG\n     * @param {PatternAttributes} options - Required options to create pattern in SVG\n     * @param {string} type - Specifies the name of the pattern\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createPattern = function (options, element) {\n        var pattern = document.createElementNS(this.svgLink, element);\n        pattern = this.setElementAttributes(options, pattern);\n        return pattern;\n    };\n    /**\n     * To create radial gradient in SVG\n     * @param {string[]} colors - Specifies the colors required to create radial gradient\n     * @param {string[]} colorStop - Specifies the colorstop required to create radial gradient\n     * @param {string} name - Specifies the name of the gradient\n     * @param {RadialGradient} options - value for radial gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createRadialGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'radialGradient',\n                'cx': options.cx + '%',\n                'cy': options.cy + '%',\n                'r': options.r + '%',\n                'fx': options.fx + '%',\n                'fy': options.fy + '%'\n            };\n            this.drawGradient('radialGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'radialGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To create linear gradient in SVG\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colors - Array of string specifies the values for colorStop\n     * @param {string} name - Specifies the name of the gradient\n     * @param {LinearGradient} options - Specifies the options for gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createLinearGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'linearGradient',\n                'x1': options.x1 + '%',\n                'y1': options.y1 + '%',\n                'x2': options.x2 + '%',\n                'y2': options.y2 + '%'\n            };\n            this.drawGradient('linearGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'linearGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To render the gradient element in SVG\n     * @param {string} gradientType - Specifies the type of the gradient\n     * @param {RadialGradient | LinearGradient} options - Options required to render a gradient\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colorStop - Array of string specifies the values for colorStop\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawGradient = function (gradientType, options, colors) {\n        var defs = this.createDefs();\n        var gradient = document.createElementNS(this.svgLink, gradientType);\n        gradient = this.setElementAttributes(options, gradient);\n        for (var i = 0; i < colors.length; i++) {\n            var stop_1 = document.createElementNS(this.svgLink, 'stop');\n            stop_1.setAttribute('offset', colors[i].colorStop);\n            stop_1.setAttribute('stop-color', colors[i].color);\n            stop_1.setAttribute('stop-opacity', '1');\n            gradient.appendChild(stop_1);\n        }\n        defs.appendChild(gradient);\n        return defs;\n    };\n    /**\n     * To render a clip path\n     * @param {BaseAttibutes} options - Options required to render a clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var rect = this.drawRectangle(options);\n        clipPath.appendChild(rect);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To create circular clip path in SVG\n     * @param {CircleAttributes} options - Options required to create circular clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircularClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var circle = this.drawCircle(options);\n        clipPath.appendChild(circle);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {Element} element - The element to which the attributes need to be set\n     * @return {Element}\n     */\n    SvgRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], options[keys[i]]);\n        }\n        return element;\n    };\n    return SvgRenderer;\n}());\nexport { SvgRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { extend, isNullOrUndefined } from './util';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Browser } from './browser';\nimport { Base } from './base';\nimport { ChildProperty } from './child-property';\nimport { EventHandler } from './event-handler';\n/**\n * SwipeSettings is a framework module that provides support to handle swipe event like swipe up, swipe right, etc..,\n * @private\n */\nvar SwipeSettings = /** @class */ (function (_super) {\n    __extends(SwipeSettings, _super);\n    function SwipeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(50)\n    ], SwipeSettings.prototype, \"swipeThresholdDistance\", void 0);\n    return SwipeSettings;\n}(ChildProperty));\nexport { SwipeSettings };\nvar swipeRegex = /(Up|Down)/;\n/**\n * Touch class provides support to handle the touch event like tap, double tap, tap hold, etc..,\n * ```typescript\n *    let node: HTMLElement;\n * let touchObj: Touch = new Touch({\n *    element: node,\n *    tap: function (e) {\n *        // tap handler function code\n *    }\n *    doubleTap: function (e) {\n *        // double tap handler function code\n *    }\n *    tapHold: function (e) {\n *        // tap hold handler function code\n *    }\n *    scroll: function (e) {\n *        // scroll handler function code\n *    }\n *    swipe: function (e) {\n *        // swipe handler function code\n *    }\n * });\n * ```\n */\nvar Touch = /** @class */ (function (_super) {\n    __extends(Touch, _super);\n    /* End-Properties */\n    function Touch(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.startEvent = function (evt) {\n            var point = (evt.changedTouches ? evt.changedTouches[0] : evt);\n            _this.isTouchMoved = false;\n            _this.movedDirection = '';\n            _this.startPoint = _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n            _this.startEventData = point;\n            _this.hScrollLocked = _this.vScrollLocked = false;\n            _this.tStampStart = Date.now();\n            _this.timeOutTapHold = setTimeout(function () { _this.tapHoldEvent(evt); }, _this.tapHoldThreshold);\n            EventHandler.add(_this.element, Browser.touchMoveEvent, _this.moveEvent, _this);\n            EventHandler.add(_this.element, Browser.touchEndEvent, _this.endEvent, _this);\n        };\n        _this.moveEvent = function (evt) {\n            var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n            _this.movedPoint = point;\n            _this.isTouchMoved = !(point.clientX === _this.startPoint.clientX && point.clientY === _this.startPoint.clientY);\n            var eScrollArgs = {};\n            if (_this.isTouchMoved) {\n                clearTimeout(_this.timeOutTapHold);\n                _this.calcScrollPoints(evt);\n                var scrollArg = {\n                    startEvents: _this.startEventData,\n                    originalEvent: evt, startX: _this.startPoint.clientX,\n                    startY: _this.startPoint.clientY, distanceX: _this.distanceX,\n                    distanceY: _this.distanceY, scrollDirection: _this.scrollDirection,\n                    velocity: _this.getVelocity(point)\n                };\n                eScrollArgs = extend(eScrollArgs, {}, scrollArg);\n                _this.trigger('scroll', eScrollArgs);\n                _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n            }\n        };\n        _this.endEvent = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            var point = evt;\n            if (evt.changedTouches) {\n                point = evt.changedTouches[0];\n            }\n            _this.isTouchMoved = !(point.clientX === _this.startPoint.clientX && point.clientY === _this.startPoint.clientY);\n            _this.endPoint = point;\n            var dblTapTriggred = false;\n            var eDblTapArgs;\n            var eTapArgs;\n            var eSwipeArgs;\n            var tDistance = _this.swipeSettings.swipeThresholdDistance;\n            _this.calcPoints(evt);\n            var swipeArgs = {\n                originalEvent: evt,\n                startEvents: _this.startEventData,\n                startX: _this.startPoint.clientX,\n                startY: _this.startPoint.clientY,\n                distanceX: _this.distanceX, distanceY: _this.distanceY, swipeDirection: _this.movedDirection,\n                velocity: _this.getVelocity(point)\n            };\n            if (!_this.isTouchMoved) {\n                eDblTapArgs = extend(eDblTapArgs, _this.defaultArgs, {});\n                if (!isNullOrUndefined(_this.lastTapTime) && (new Date().getTime() - _this.lastTapTime) < _this.doubleTapThreshold) {\n                    clearTimeout(_this.timeOutTap);\n                    dblTapTriggred = true;\n                    _this.trigger('doubleTap', eDblTapArgs);\n                }\n                if (!dblTapTriggred) {\n                    eTapArgs = extend(eTapArgs, _this.defaultArgs, {});\n                    _this.timeOutTap = setTimeout(function () {\n                        _this.trigger('tap', eTapArgs);\n                    }, (typeof _this.doubleTap !== 'function' ? 0 : _this.doubleTapThreshold));\n                }\n            }\n            else {\n                eSwipeArgs = extend(eSwipeArgs, _this.defaultArgs, swipeArgs);\n                var canTrigger = false;\n                var ele = _this.element;\n                var scrollBool = _this.isScrollable(ele);\n                var moved = swipeRegex.test(_this.movedDirection);\n                if ((tDistance < _this.distanceX && !moved) || (tDistance < _this.distanceY && moved)) {\n                    if (!scrollBool) {\n                        canTrigger = true;\n                    }\n                    else {\n                        canTrigger = _this.checkSwipe(ele, moved);\n                    }\n                }\n                if (canTrigger) {\n                    _this.trigger('swipe', eSwipeArgs);\n                }\n            }\n            _this.lastTapTime = new Date().getTime();\n            EventHandler.remove(_this.element, Browser.touchMoveEvent, _this.moveEvent);\n            EventHandler.remove(_this.element, Browser.touchEndEvent, _this.endEvent);\n        };\n        _this.bind();\n        return _this;\n    }\n    // triggers when property changed \n    /**\n     * @private\n     * @param newProp\n     * @param oldProp\n     */\n    Touch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Touch.prototype.bind = function () {\n        this.wireEvents();\n        if (Browser.isIE) {\n            this.element.classList.add('e-block-touch');\n        }\n    };\n    /**\n     * To destroy the touch instance.\n     * @return {void}\n     */\n    Touch.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    // Need to changes the event binding once we updated the event handler.\n    Touch.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.startEvent, this);\n    };\n    Touch.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.startEvent);\n    };\n    /**\n     * Returns module name as touch\n     * @returns {string}\n     * @private\n     */\n    Touch.prototype.getModuleName = function () {\n        return 'touch';\n    };\n    /**\n     * Returns if the HTML element is Scrollable.\n     * @param {HTMLElement} element - HTML Element to check if Scrollable.\n     * @returns {boolean}\n     */\n    Touch.prototype.isScrollable = function (element) {\n        var eleStyle = getComputedStyle(element);\n        var style = eleStyle.overflow + eleStyle.overflowX + eleStyle.overflowY;\n        if ((/(auto|scroll)/).test(style)) {\n            return true;\n        }\n        return false;\n    };\n    Touch.prototype.tapHoldEvent = function (evt) {\n        var eTapArgs;\n        EventHandler.remove(this.element, Browser.touchMoveEvent, this.moveEvent);\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.endEvent);\n        eTapArgs = { originalEvent: evt };\n        this.trigger('tapHold', eTapArgs);\n    };\n    Touch.prototype.calcPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.startPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.startPoint.clientY)));\n        if (this.distanceX > this.distanceY) {\n            this.movedDirection = (point.clientX > this.startPoint.clientX) ? 'Right' : 'Left';\n        }\n        else {\n            this.movedDirection = (point.clientY < this.startPoint.clientY) ? 'Up' : 'Down';\n        }\n    };\n    Touch.prototype.calcScrollPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.lastMovedPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.lastMovedPoint.clientY)));\n        if ((this.distanceX > this.distanceY || this.hScrollLocked === true) && this.vScrollLocked === false) {\n            this.scrollDirection = (point.clientX > this.lastMovedPoint.clientX) ? 'Right' : 'Left';\n            this.hScrollLocked = true;\n        }\n        else {\n            this.scrollDirection = (point.clientY < this.lastMovedPoint.clientY) ? 'Up' : 'Down';\n            this.vScrollLocked = true;\n        }\n    };\n    Touch.prototype.getVelocity = function (pnt) {\n        var newX = pnt.clientX;\n        var newY = pnt.clientY;\n        var newT = Date.now();\n        var xDist = newX - this.startPoint.clientX;\n        var yDist = newY - this.startPoint.clientX;\n        var interval = newT - this.tStampStart;\n        return Math.sqrt(xDist * xDist + yDist * yDist) / interval;\n    };\n    // tslint:disable-next-line:no-any\n    Touch.prototype.checkSwipe = function (ele, flag) {\n        var keys = ['scroll', 'offset'];\n        var temp = flag ? ['Height', 'Top'] : ['Width', 'Left'];\n        if ((ele[keys[0] + temp[0]] <= ele[keys[1] + temp[0]])) {\n            return true;\n        }\n        return (ele[keys[0] + temp[1]] === 0) ||\n            (ele[keys[1] + temp[0]] + ele[keys[0] + temp[1]] >= ele[keys[0] + temp[0]]);\n    };\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tap\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"doubleTap\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tapHold\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"swipe\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"scroll\", void 0);\n    __decorate([\n        Property(500)\n    ], Touch.prototype, \"doubleTapThreshold\", void 0);\n    __decorate([\n        Property(750)\n    ], Touch.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Complex({}, SwipeSettings)\n    ], Touch.prototype, \"swipeSettings\", void 0);\n    Touch = __decorate([\n        NotifyPropertyChanges\n    ], Touch);\n    return Touch;\n}(Base));\nexport { Touch };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Defines the appearance of the connectors\n */\nvar Connector = /** @class */ (function (_super) {\n    __extends(Connector, _super);\n    function Connector() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Line')\n    ], Connector.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], Connector.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Connector.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Connector.prototype, \"length\", void 0);\n    __decorate([\n        Property('')\n    ], Connector.prototype, \"dashArray\", void 0);\n    return Connector;\n}(ChildProperty));\nexport { Connector };\n/**\n * Configures the fonts in charts.\n */\nvar Font = /** @class */ (function (_super) {\n    __extends(Font, _super);\n    function Font() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('16px')\n    ], Font.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Font.prototype, \"color\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], Font.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property(1)\n    ], Font.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Center')\n    ], Font.prototype, \"textAlignment\", void 0);\n    return Font;\n}(ChildProperty));\nexport { Font };\n/**\n * Configures the borders in the chart.\n */\nvar Border = /** @class */ (function (_super) {\n    __extends(Border, _super);\n    function Border() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Border.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Border.prototype, \"width\", void 0);\n    return Border;\n}(ChildProperty));\nexport { Border };\n/**\n * Configures the chart area.\n */\nvar ChartArea = /** @class */ (function (_super) {\n    __extends(ChartArea, _super);\n    function ChartArea() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Border)\n    ], ChartArea.prototype, \"border\", void 0);\n    __decorate([\n        Property('transparent')\n    ], ChartArea.prototype, \"background\", void 0);\n    __decorate([\n        Property(1)\n    ], ChartArea.prototype, \"opacity\", void 0);\n    return ChartArea;\n}(ChildProperty));\nexport { ChartArea };\n/**\n * Configures the chart margins.\n */\nvar Margin = /** @class */ (function (_super) {\n    __extends(Margin, _super);\n    function Margin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"left\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"right\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"top\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"bottom\", void 0);\n    return Margin;\n}(ChildProperty));\nexport { Margin };\n/**\n * Configures the animation behavior for chart series.\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], Animation.prototype, \"enable\", void 0);\n    __decorate([\n        Property(1000)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/** @private */\nvar Indexes = /** @class */ (function (_super) {\n    __extends(Indexes, _super);\n    function Indexes() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Indexes.prototype, \"series\", void 0);\n    __decorate([\n        Property(0)\n    ], Indexes.prototype, \"point\", void 0);\n    return Indexes;\n}(ChildProperty));\nexport { Indexes };\n/**\n * Column series rounded corner options\n */\nvar CornerRadius = /** @class */ (function (_super) {\n    __extends(CornerRadius, _super);\n    function CornerRadius() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"topLeft\", void 0);\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"topRight\", void 0);\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"bottomLeft\", void 0);\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"bottomRight\", void 0);\n    return CornerRadius;\n}(ChildProperty));\nexport { CornerRadius };\n/**\n * @private\n */\nvar Index = /** @class */ (function () {\n    function Index(seriesIndex, pointIndex) {\n        this.series = seriesIndex;\n        this.point = pointIndex;\n    }\n    return Index;\n}());\nexport { Index };\n/**\n * Configures the Empty Points of series\n */\nvar EmptyPointSettings = /** @class */ (function (_super) {\n    __extends(EmptyPointSettings, _super);\n    function EmptyPointSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EmptyPointSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 0 }, Border)\n    ], EmptyPointSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property('Gap')\n    ], EmptyPointSettings.prototype, \"mode\", void 0);\n    return EmptyPointSettings;\n}(ChildProperty));\nexport { EmptyPointSettings };\n","/**\n * Numeric Range.\n * @private\n */\nvar DoubleRange = /** @class */ (function () {\n    function DoubleRange(start, end) {\n        /*\n          if (!isNaN(start) && !isNaN(end)) {\n           this.mIsEmpty = true;\n          } else {\n              this.mIsEmpty = false;\n          }*/\n        if (start < end) {\n            this.mStart = start;\n            this.mEnd = end;\n        }\n        else {\n            this.mStart = end;\n            this.mEnd = start;\n        }\n    }\n    Object.defineProperty(DoubleRange.prototype, \"start\", {\n        //private mIsEmpty: boolean;\n        /** @private */\n        get: function () {\n            return this.mStart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DoubleRange.prototype, \"end\", {\n        /** @private */\n        get: function () {\n            return this.mEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DoubleRange.prototype, \"delta\", {\n        /*\n          get isEmpty(): boolean {\n             return this.mIsEmpty;\n         }*/\n        /** @private */\n        get: function () {\n            return (this.mEnd - this.mStart);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DoubleRange.prototype, \"median\", {\n        /** @private */\n        get: function () {\n            return this.mStart + (this.mEnd - this.mStart) / 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return DoubleRange;\n}());\nexport { DoubleRange };\n","import { getMinPointsDelta } from '../../common/utils/helper';\nimport { DoubleRange } from '../utils/double-range';\nimport { withIn, logBase } from '../../common/utils/helper';\n/**\n * Numeric module is used to render numeric axis.\n */\nvar Double = /** @class */ (function () {\n    /**\n     * Constructor for the dateTime module.\n     * @private\n     */\n    function Double(chart) {\n        this.chart = chart;\n    }\n    /**\n     * Numeric Nice Interval for the axis.\n     * @private\n     */\n    Double.prototype.calculateNumericNiceInterval = function (axis, delta, size) {\n        var actualDesiredIntervalsCount = axis.getActualDesiredIntervalsCount(size);\n        var niceInterval = delta / actualDesiredIntervalsCount;\n        if (axis.desiredIntervals != null) {\n            return niceInterval;\n        }\n        var minInterval = Math.pow(10, Math.floor(logBase(niceInterval, 10)));\n        for (var _i = 0, _a = axis.intervalDivs; _i < _a.length; _i++) {\n            var interval = _a[_i];\n            var currentInterval = minInterval * interval;\n            if (actualDesiredIntervalsCount < (delta / currentInterval)) {\n                break;\n            }\n            niceInterval = currentInterval;\n        }\n        return niceInterval;\n    };\n    /**\n     * Actual Range for the axis.\n     * @private\n     */\n    Double.prototype.getActualRange = function (axis, size) {\n        this.initializeDoubleRange(axis);\n        axis.actualRange.interval = axis.interval || this.calculateNumericNiceInterval(axis, axis.doubleRange.delta, size);\n        axis.actualRange.min = axis.doubleRange.start;\n        axis.actualRange.max = axis.doubleRange.end;\n    };\n    /**\n     * Range for the axis.\n     * @private\n     */\n    Double.prototype.initializeDoubleRange = function (axis) {\n        //Axis Min\n        if (axis.minimum !== null) {\n            this.min = axis.minimum;\n        }\n        else if (this.min === null || this.min === Number.POSITIVE_INFINITY) {\n            this.min = 0;\n        }\n        // Axis Max\n        if (axis.maximum !== null) {\n            this.max = axis.maximum;\n        }\n        else if (this.max === null || this.max === Number.NEGATIVE_INFINITY) {\n            this.max = 5;\n        }\n        if (this.min === this.max) {\n            this.max = this.min + 1;\n        }\n        axis.doubleRange = new DoubleRange(this.min, this.max);\n        axis.actualRange = {};\n    };\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     * @private\n     */\n    Double.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis, this.chart);\n    };\n    /**\n     * Calculate Range for the axis.\n     * @private\n     */\n    Double.prototype.calculateRange = function (axis, size) {\n        /*! Generate axis range */\n        var series;\n        this.min = null;\n        this.max = null;\n        if (!axis.setRange()) {\n            for (var _i = 0, _a = axis.series; _i < _a.length; _i++) {\n                var series_1 = _a[_i];\n                if (!series_1.visible) {\n                    continue;\n                }\n                this.paddingInterval = 0;\n                if ((series_1.type.indexOf('Column') > -1 && axis.orientation === 'Horizontal')\n                    || (series_1.type.indexOf('Bar') > -1 && axis.orientation === 'Vertical')) {\n                    if ((series_1.xAxis.valueType === 'Double' || series_1.xAxis.valueType === 'DateTime')\n                        && series_1.xAxis.rangePadding === 'Auto') {\n                        this.paddingInterval = getMinPointsDelta(series_1.xAxis, axis.series) / 2;\n                    }\n                }\n                //For xRange\n                if (axis.orientation === 'Horizontal') {\n                    if (this.chart.requireInvertedAxis) {\n                        this.findMinMax(series_1.yMin, series_1.yMax);\n                    }\n                    else {\n                        this.findMinMax(series_1.xMin - this.paddingInterval, series_1.xMax + this.paddingInterval);\n                    }\n                }\n                // For yRange\n                if (axis.orientation === 'Vertical') {\n                    if (this.chart.requireInvertedAxis) {\n                        this.findMinMax(series_1.xMin - this.paddingInterval, series_1.xMax + this.paddingInterval);\n                    }\n                    else {\n                        this.findMinMax(series_1.yMin, series_1.yMax);\n                    }\n                }\n            }\n        }\n    };\n    Double.prototype.findMinMax = function (min, max) {\n        if (this.min === null || this.min > min) {\n            this.min = min;\n        }\n        if (this.max === null || this.max < max) {\n            this.max = max;\n        }\n    };\n    /**\n     * Apply padding for the range.\n     * @private\n     */\n    Double.prototype.applyRangePadding = function (axis, size) {\n        var range;\n        var start = axis.actualRange.min;\n        var end = axis.actualRange.max;\n        if (!axis.setRange()) {\n            var interval = axis.actualRange.interval;\n            var padding = axis.getRangePadding(this.chart);\n            if (padding === 'Additional' || padding === 'Round') {\n                this.findAdditional(axis, start, end, interval);\n            }\n            else if (padding === 'Normal') {\n                this.findNormal(axis, start, end, interval, size);\n            }\n            else {\n                this.updateActualRange(axis, start, end, interval);\n            }\n        }\n        axis.actualRange.delta = axis.actualRange.max - axis.actualRange.min;\n        this.calculateVisibleRange(size, axis);\n    };\n    Double.prototype.updateActualRange = function (axis, minimum, maximum, interval) {\n        axis.actualRange.min = axis.minimum != null ? axis.minimum : minimum;\n        axis.actualRange.max = axis.maximum != null ? axis.maximum : maximum;\n        axis.actualRange.interval = axis.interval != null ? axis.interval : interval;\n    };\n    Double.prototype.findAdditional = function (axis, start, end, interval) {\n        var minimum;\n        var maximum;\n        minimum = Math.floor(start / interval) * interval;\n        maximum = Math.ceil(end / interval) * interval;\n        if (axis.rangePadding === 'Additional') {\n            minimum -= interval;\n            maximum += interval;\n        }\n        this.updateActualRange(axis, minimum, maximum, interval);\n    };\n    Double.prototype.findNormal = function (axis, start, end, interval, size) {\n        var remaining;\n        var minimum;\n        var maximum;\n        var startValue = start;\n        if (start < 0) {\n            startValue = 0;\n            minimum = start + (start / 20);\n            remaining = interval + (minimum % interval);\n            if ((0.365 * interval) >= remaining) {\n                minimum -= interval;\n            }\n            if (minimum % interval < 0) {\n                minimum = (minimum - interval) - (minimum % interval);\n            }\n        }\n        else {\n            minimum = start < ((5.0 / 6.0) * end) ? 0 : (start - (end - start) / 2);\n            if (minimum % interval > 0) {\n                minimum -= (minimum % interval);\n            }\n        }\n        maximum = (end > 0) ? (end + (end - startValue) / 20) : (end - (end - startValue) / 20);\n        remaining = interval - (maximum % interval);\n        if ((0.365 * interval) >= remaining) {\n            maximum += interval;\n        }\n        if (maximum % interval > 0) {\n            maximum = (maximum + interval) - (maximum % interval);\n        }\n        axis.doubleRange = new DoubleRange(minimum, maximum);\n        if (minimum === 0) {\n            interval = this.calculateNumericNiceInterval(axis, axis.doubleRange.delta, size);\n            maximum = Math.ceil(maximum / interval) * interval;\n        }\n        this.updateActualRange(axis, minimum, maximum, interval);\n    };\n    /**\n     * Calculate visible range for axis.\n     * @private\n     */\n    Double.prototype.calculateVisibleRange = function (size, axis) {\n        axis.visibleRange = {\n            max: axis.actualRange.max, min: axis.actualRange.min,\n            delta: axis.actualRange.delta, interval: axis.actualRange.interval\n        };\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            axis.calculateVisibleRange(size);\n            axis.visibleRange.interval = (axis.enableAutoIntervalOnZooming && axis.valueType !== 'Category') ?\n                this.calculateNumericNiceInterval(axis, axis.doubleRange.delta, size)\n                : axis.visibleRange.interval;\n        }\n    };\n    /**\n     * Calculate label for the axis.\n     * @private\n     */\n    Double.prototype.calculateVisibleLabels = function (axis, chart) {\n        /*! Generate axis labels */\n        axis.visibleLabels = [];\n        var tempInterval = axis.visibleRange.min;\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0 || this.paddingInterval) {\n            tempInterval = axis.visibleRange.min - (axis.visibleRange.min % axis.visibleRange.interval);\n        }\n        var format = this.getFormat(axis);\n        var isCustom = format.match('{value}') !== null;\n        axis.format = chart.intl.getNumberFormat({ format: isCustom ? '' : format,\n            useGrouping: chart.useGroupingSeparator });\n        axis.startLabel = axis.format(axis.visibleRange.min);\n        axis.endLabel = axis.format(axis.visibleRange.max);\n        for (; tempInterval <= axis.visibleRange.max; tempInterval += axis.visibleRange.interval) {\n            if (withIn(tempInterval, axis.visibleRange)) {\n                axis.triggerLabelRender(chart, tempInterval, this.formatValue(axis, isCustom, format, tempInterval));\n            }\n        }\n        axis.getMaxLabelWidth(chart);\n    };\n    /**\n     * Format of the axis label.\n     * @private\n     */\n    Double.prototype.getFormat = function (axis) {\n        if (axis.labelFormat) {\n            return axis.labelFormat;\n        }\n        return axis.isStack100 ? '{value}%' : '';\n    };\n    /**\n     * Formatted the axis label.\n     * @private\n     */\n    Double.prototype.formatValue = function (axis, isCustom, format, tempInterval) {\n        return isCustom ? format.replace('{value}', axis.format(tempInterval))\n            : axis.format(tempInterval);\n    };\n    return Double;\n}());\nexport { Double };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Complex } from '@syncfusion/ej2-base';\nimport { Theme } from '../../common/model/theme';\nimport { Font, Border } from '../../common/model/base';\n/**\n * Configures the Annotation for chart.\n */\nvar ChartAnnotationSettings = /** @class */ (function (_super) {\n    __extends(ChartAnnotationSettings, _super);\n    function ChartAnnotationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('0')\n    ], ChartAnnotationSettings.prototype, \"x\", void 0);\n    __decorate([\n        Property('0')\n    ], ChartAnnotationSettings.prototype, \"y\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('Center')\n    ], ChartAnnotationSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property('Pixel')\n    ], ChartAnnotationSettings.prototype, \"coordinateUnits\", void 0);\n    __decorate([\n        Property('Chart')\n    ], ChartAnnotationSettings.prototype, \"region\", void 0);\n    __decorate([\n        Property('Middle')\n    ], ChartAnnotationSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"xAxisName\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"yAxisName\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"description\", void 0);\n    return ChartAnnotationSettings;\n}(ChildProperty));\nexport { ChartAnnotationSettings };\n/**\n * Strip line properties\n */\nvar StripLineSettings = /** @class */ (function (_super) {\n    __extends(StripLineSettings, _super);\n    function StripLineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], StripLineSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(false)\n    ], StripLineSettings.prototype, \"startFromAxis\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"end\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"size\", void 0);\n    __decorate([\n        Property('#808080')\n    ], StripLineSettings.prototype, \"color\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 1 }, Border)\n    ], StripLineSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property('')\n    ], StripLineSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"rotation\", void 0);\n    __decorate([\n        Property('Middle')\n    ], StripLineSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property('Middle')\n    ], StripLineSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Complex(Theme.stripLineLabelFont, Font)\n    ], StripLineSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('Behind')\n    ], StripLineSettings.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(1)\n    ], StripLineSettings.prototype, \"opacity\", void 0);\n    return StripLineSettings;\n}(ChildProperty));\nexport { StripLineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, Complex, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Font, Border } from '../../common/model/base';\nimport { Size, Rect, measureText, rotateTextSize, firstToLowerCase, valueToCoefficient, textTrim } from '../../common/utils/helper';\nimport { DoubleRange } from '../utils/double-range';\nimport { Double } from '../axis/double-axis';\nimport { Theme } from '../../common/model/theme';\nimport { axisLabelRender } from '../../common/model/constants';\nimport { StripLineSettings } from '../model/chart-base';\nvar axisPadding = 10;\n/**\n * Configures the `rows` of the chart.\n */\nvar Row = /** @class */ (function (_super) {\n    __extends(Row, _super);\n    function Row() {\n        /**\n         * The height of the row as a string accept input both as '100px' and '100%'.\n         * If specified as '100%, row renders to the full height of its chart.\n         * @default 100%.\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.axes = [];\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        return _this;\n    }\n    /**\n     * Measure the row size\n     * @return {void}\n     * @private\n     */\n    Row.prototype.computeSize = function (axis, clipRect) {\n        var titleSize = 0;\n        var width = 0;\n        var innerPadding = 5;\n        if (axis.visible) {\n            if (axis.title) {\n                titleSize = measureText(axis.title, axis.titleStyle).height + innerPadding;\n            }\n            width += (titleSize + axis.majorTickLines.height + axis.maxLabelSize.width + innerPadding + axisPadding +\n                axis.lineStyle.width / 2);\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(width);\n        }\n        else {\n            this.nearSizes.push(width);\n        }\n    };\n    __decorate([\n        Property('100%')\n    ], Row.prototype, \"height\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], Row.prototype, \"border\", void 0);\n    return Row;\n}(ChildProperty));\nexport { Row };\n/**\n * Configures the `columns` of the chart.\n */\nvar Column = /** @class */ (function (_super) {\n    __extends(Column, _super);\n    function Column() {\n        /**\n         * The width of the column as a string accepts input both as like '100px' or '100%'.\n         * If specified as '100%, column renders to the full width of its chart.\n         * @default 100%.\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.axes = [];\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        /** @private */\n        _this.padding = 0;\n        return _this;\n    }\n    /**\n     * Measure the column size\n     * @return {void}\n     * @private\n     */\n    Column.prototype.computeSize = function (axis, clipRect) {\n        var titleSize = 0;\n        var height = 0;\n        var innerPadding = 5;\n        if (axis.visible) {\n            if (axis.title) {\n                titleSize = measureText(axis.title, axis.titleStyle).height + innerPadding;\n            }\n            height += (titleSize + axis.majorTickLines.height + axis.maxLabelSize.height + innerPadding + axisPadding\n                + axis.lineStyle.width / 2);\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(height);\n        }\n        else {\n            this.nearSizes.push(height);\n        }\n    };\n    __decorate([\n        Property('100%')\n    ], Column.prototype, \"width\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], Column.prototype, \"border\", void 0);\n    return Column;\n}(ChildProperty));\nexport { Column };\n/**\n * Configures the major grid lines in the `axis`.\n */\nvar MajorGridLines = /** @class */ (function (_super) {\n    __extends(MajorGridLines, _super);\n    function MajorGridLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], MajorGridLines.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], MajorGridLines.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(Theme.axisMajorGridLineColor)\n    ], MajorGridLines.prototype, \"color\", void 0);\n    return MajorGridLines;\n}(ChildProperty));\nexport { MajorGridLines };\n/**\n * Configures the minor grid lines in the `axis`.\n */\nvar MinorGridLines = /** @class */ (function (_super) {\n    __extends(MinorGridLines, _super);\n    function MinorGridLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0.7)\n    ], MinorGridLines.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], MinorGridLines.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(Theme.axisMinorGridLineColor)\n    ], MinorGridLines.prototype, \"color\", void 0);\n    return MinorGridLines;\n}(ChildProperty));\nexport { MinorGridLines };\n/**\n * Configures the axis line of a chart.\n */\nvar AxisLine = /** @class */ (function (_super) {\n    __extends(AxisLine, _super);\n    function AxisLine() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], AxisLine.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], AxisLine.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(Theme.axisLineColor)\n    ], AxisLine.prototype, \"color\", void 0);\n    return AxisLine;\n}(ChildProperty));\nexport { AxisLine };\n/**\n * Configures the major tick lines.\n */\nvar MajorTickLines = /** @class */ (function (_super) {\n    __extends(MajorTickLines, _super);\n    function MajorTickLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], MajorTickLines.prototype, \"width\", void 0);\n    __decorate([\n        Property(5)\n    ], MajorTickLines.prototype, \"height\", void 0);\n    __decorate([\n        Property(Theme.axisMajorTickLineColor)\n    ], MajorTickLines.prototype, \"color\", void 0);\n    return MajorTickLines;\n}(ChildProperty));\nexport { MajorTickLines };\n/**\n * Configures the minor tick lines.\n */\nvar MinorTickLines = /** @class */ (function (_super) {\n    __extends(MinorTickLines, _super);\n    function MinorTickLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0.7)\n    ], MinorTickLines.prototype, \"width\", void 0);\n    __decorate([\n        Property(5)\n    ], MinorTickLines.prototype, \"height\", void 0);\n    __decorate([\n        Property(Theme.axisMinorTickLineColor)\n    ], MinorTickLines.prototype, \"color\", void 0);\n    return MinorTickLines;\n}(ChildProperty));\nexport { MinorTickLines };\n/**\n * Configures the crosshair ToolTip.\n */\nvar CrosshairTooltip = /** @class */ (function (_super) {\n    __extends(CrosshairTooltip, _super);\n    function CrosshairTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], CrosshairTooltip.prototype, \"enable\", void 0);\n    __decorate([\n        Property(Theme.crossHairLabelColor)\n    ], CrosshairTooltip.prototype, \"fill\", void 0);\n    __decorate([\n        Complex(Theme.crosshairLabelFont, Font)\n    ], CrosshairTooltip.prototype, \"textStyle\", void 0);\n    return CrosshairTooltip;\n}(ChildProperty));\nexport { CrosshairTooltip };\n/**\n * Configures the axes in the chart.\n */\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis() {\n        /**\n         * Options to customize the axis label.\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.visibleLabels = [];\n        /** @private */\n        _this.series = [];\n        /** @private */\n        _this.rect = new Rect(undefined, undefined, 0, 0);\n        /** @private */\n        _this.axisBottomLine = null;\n        /** @private */\n        _this.intervalDivs = [10, 5, 2, 1];\n        /** @private */\n        _this.angle = _this.labelRotation;\n        /** @private */\n        _this.isStack100 = false;\n        return _this;\n    }\n    /**\n     * The function used to find whether the range is set.\n     * @return {boolean}\n     * @private\n     */\n    Axis.prototype.setRange = function () {\n        if (this.minimum != null && this.maximum != null) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Calculate visible range for axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.calculateVisibleRange = function (size) {\n        if (this.zoomFactor < 1 || this.zoomPosition > 0) {\n            var baseRange = this.actualRange;\n            var start = void 0;\n            var end = void 0;\n            if (!this.isInversed) {\n                start = this.actualRange.min + this.zoomPosition * this.actualRange.delta;\n                end = start + this.zoomFactor * this.actualRange.delta;\n            }\n            else {\n                start = this.actualRange.max - (this.zoomPosition * this.actualRange.delta);\n                end = start - (this.zoomFactor * this.actualRange.delta);\n            }\n            if (start < baseRange.min) {\n                end = end + (baseRange.min - start);\n                start = baseRange.min;\n            }\n            if (end > baseRange.max) {\n                start = start - (end - baseRange.max);\n                end = baseRange.max;\n            }\n            this.doubleRange = new DoubleRange(start, end);\n            this.visibleRange.min = this.doubleRange.start;\n            this.visibleRange.max = this.doubleRange.end;\n            this.visibleRange.delta = this.doubleRange.delta;\n        }\n    };\n    /**\n     * Calculate desired interval for the axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.getActualDesiredIntervalsCount = function (availableSize) {\n        var size = this.orientation === 'Horizontal' ? availableSize.width : availableSize.height;\n        if (this.desiredIntervals === null) {\n            var desiredIntervalsCount = (this.orientation === 'Horizontal' ? 0.533 : 1) * this.maximumLabels;\n            desiredIntervalsCount = Math.max((size * (desiredIntervalsCount / 100)), 1);\n            return desiredIntervalsCount;\n        }\n        else {\n            return this.desiredIntervals;\n        }\n    };\n    /**\n     * Triggers the event.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.triggerLabelRender = function (chart, tempInterval, text) {\n        var argsData;\n        argsData = {\n            cancel: false, name: axisLabelRender, axis: this,\n            text: text, value: tempInterval\n        };\n        chart.trigger(axisLabelRender, argsData);\n        if (!argsData.cancel) {\n            this.visibleLabels.push(new VisibleLabels(argsData.text, argsData.value));\n        }\n    };\n    /**\n     * Calculate padding for the axis.\n     * @return {string}\n     * @private\n     */\n    Axis.prototype.getRangePadding = function (chart) {\n        var padding = this.rangePadding;\n        if (padding !== 'Auto') {\n            return padding;\n        }\n        switch (this.orientation) {\n            case 'Horizontal':\n                if (chart.requireInvertedAxis) {\n                    padding = (this.isStack100 ? 'Round' : 'Normal');\n                }\n                else {\n                    padding = 'None';\n                }\n                break;\n            case 'Vertical':\n                if (!chart.requireInvertedAxis) {\n                    padding = (this.isStack100 ? 'Round' : 'Normal');\n                }\n                else {\n                    padding = 'None';\n                }\n                break;\n        }\n        return padding;\n    };\n    /**\n     * Calculate maximum label width for the axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.getMaxLabelWidth = function (chart) {\n        var prevSize = new Size(0, 0);\n        var rotatedLabel;\n        var pointX;\n        var previousEnd = 0;\n        var isIntersect = false;\n        this.angle = this.labelRotation;\n        this.maxLabelSize = new Size(0, 0);\n        var action = this.labelIntersectAction;\n        var label;\n        for (var i = 0; i < this.visibleLabels.length; i++) {\n            label = this.visibleLabels[i];\n            label.size = measureText(label.text, this.labelStyle);\n            if (label.size.width > this.maxLabelSize.width) {\n                this.maxLabelSize.width = label.size.width;\n                this.rotatedLabel = label.text;\n            }\n            if (label.size.height > this.maxLabelSize.height) {\n                this.maxLabelSize.height = label.size.height;\n            }\n            if (action === 'None' || action === 'Hide' || action === 'Trim') {\n                continue;\n            }\n            if (this.angle % 360 === 0 && this.orientation === 'Horizontal' && this.rect.width > 0 && !isIntersect) {\n                pointX = (valueToCoefficient(label.value, this) * this.rect.width) + this.rect.x;\n                pointX -= label.size.width / 2;\n                if (this.edgeLabelPlacement === 'Shift') {\n                    if (i === 0 && pointX < this.rect.x) {\n                        pointX = this.rect.x;\n                    }\n                    if (i === this.visibleLabels.length - 1 && ((pointX + label.size.width) > (this.rect.x + this.rect.width))) {\n                        pointX = this.rect.x + this.rect.width - label.size.width;\n                    }\n                }\n                switch (action) {\n                    case 'MultipleRows':\n                        if (i > 0) {\n                            this.findMultiRows(i, pointX, label);\n                        }\n                        break;\n                    case 'Rotate45':\n                    case 'Rotate90':\n                        if (i > 0 && (!this.isInversed ? pointX <= previousEnd : pointX + label.size.width >= previousEnd)) {\n                            this.angle = (action === 'Rotate45') ? 45 : 90;\n                            isIntersect = true;\n                        }\n                        break;\n                    default:\n                        this.findWrap(i, pointX, label);\n                        break;\n                }\n                previousEnd = this.isInversed ? pointX : pointX + label.size.width;\n            }\n        }\n        if (this.angle !== 0) {\n            this.maxLabelSize = rotateTextSize(this.labelStyle, this.rotatedLabel, this.angle, chart);\n        }\n    };\n    /**\n     * Finds the wrap for axis label.\n     * @return {void}\n     */\n    Axis.prototype.findWrap = function (width, currentX, currentLabel) {\n        var intervalLength = this.rect.width / this.visibleLabels.length;\n        var textCollection = currentLabel.text.split(' ');\n        var label = '';\n        var labelCollection = [];\n        var text;\n        for (var i = 0, len = textCollection.length; i < len; i++) {\n            text = textCollection[i];\n            if (measureText(label.concat(text), this.labelStyle).width < intervalLength) {\n                label = label.concat((label === '' ? '' : ' ') + text);\n            }\n            else {\n                if (label !== '') {\n                    labelCollection.push(textTrim(intervalLength, label, this.labelStyle));\n                    label = text;\n                }\n                else {\n                    labelCollection.push(textTrim(intervalLength, text, this.labelStyle));\n                    text = '';\n                }\n            }\n            if (label && i === len - 1) {\n                labelCollection.push(textTrim(intervalLength, label, this.labelStyle));\n            }\n        }\n        currentLabel.text = labelCollection;\n        var height = (currentLabel.size.height * labelCollection.length);\n        if (height > this.maxLabelSize.height) {\n            this.maxLabelSize.height = height;\n        }\n    };\n    /**\n     * Finds the multiple rows for axis.\n     * @return {void}\n     */\n    Axis.prototype.findMultiRows = function (length, currentX, currentLabel) {\n        var label;\n        var pointX;\n        var store = [];\n        var isMultiRows;\n        for (var i = length - 1; i >= 0; i--) {\n            label = this.visibleLabels[i];\n            pointX = (valueToCoefficient(label.value, this) * this.rect.width) + this.rect.x;\n            isMultiRows = !this.isInversed ? currentX < (pointX + label.size.width / 2) :\n                currentX + currentLabel.size.width > (pointX - label.size.width / 2);\n            if (isMultiRows) {\n                store.push(label.index);\n                currentLabel.index = (currentLabel.index > label.index) ? currentLabel.index : label.index + 1;\n            }\n            else {\n                currentLabel.index = store.indexOf(label.index) > -1 ? currentLabel.index : label.index;\n            }\n        }\n        var height = (currentLabel.size.height * currentLabel.index) + (5 * (currentLabel.index - 1));\n        if (height > this.maxLabelSize.height) {\n            this.maxLabelSize.height = height;\n        }\n    };\n    /**\n     * Finds the default module for axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.getModule = function (chart) {\n        if (this.valueType === 'Double') {\n            this.baseModule = new Double(chart);\n        }\n        else {\n            this.baseModule = chart[firstToLowerCase(this.valueType) + 'Module'];\n        }\n    };\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], Axis.prototype, \"labelStyle\", void 0);\n    __decorate([\n        Complex({}, CrosshairTooltip)\n    ], Axis.prototype, \"crosshairTooltip\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.axisTitleFont, Font)\n    ], Axis.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"skeleton\", void 0);\n    __decorate([\n        Property('DateTime')\n    ], Axis.prototype, \"skeletonType\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"plotOffset\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isIndexed\", void 0);\n    __decorate([\n        Property(10)\n    ], Axis.prototype, \"logBase\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"rowIndex\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"span\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"desiredIntervals\", void 0);\n    __decorate([\n        Property(3)\n    ], Axis.prototype, \"maximumLabels\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"zoomFactor\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"zoomPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"opposedPosition\", void 0);\n    __decorate([\n        Property(true)\n    ], Axis.prototype, \"enableAutoIntervalOnZooming\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Axis.prototype, \"rangePadding\", void 0);\n    __decorate([\n        Property('Double')\n    ], Axis.prototype, \"valueType\", void 0);\n    __decorate([\n        Property('None')\n    ], Axis.prototype, \"edgeLabelPlacement\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Axis.prototype, \"intervalType\", void 0);\n    __decorate([\n        Property('BetweenTicks')\n    ], Axis.prototype, \"labelPlacement\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"name\", void 0);\n    __decorate([\n        Property(true)\n    ], Axis.prototype, \"visible\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"minorTicksPerInterval\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"labelRotation\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"minimum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"maximum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"interval\", void 0);\n    __decorate([\n        Complex({}, MajorTickLines)\n    ], Axis.prototype, \"majorTickLines\", void 0);\n    __decorate([\n        Complex({}, MinorTickLines)\n    ], Axis.prototype, \"minorTickLines\", void 0);\n    __decorate([\n        Complex({}, MajorGridLines)\n    ], Axis.prototype, \"majorGridLines\", void 0);\n    __decorate([\n        Complex({}, MinorGridLines)\n    ], Axis.prototype, \"minorGridLines\", void 0);\n    __decorate([\n        Complex({}, AxisLine)\n    ], Axis.prototype, \"lineStyle\", void 0);\n    __decorate([\n        Property('Hide')\n    ], Axis.prototype, \"labelIntersectAction\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isInversed\", void 0);\n    __decorate([\n        Property(100)\n    ], Axis.prototype, \"coefficient\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"startAngle\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"description\", void 0);\n    __decorate([\n        Property(2)\n    ], Axis.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Collection([], StripLineSettings)\n    ], Axis.prototype, \"stripLines\", void 0);\n    return Axis;\n}(ChildProperty));\nexport { Axis };\n/** @private */\nvar VisibleLabels = /** @class */ (function () {\n    function VisibleLabels(text, value, size, index) {\n        if (size === void 0) { size = new Size(0, 0); }\n        if (index === void 0) { index = 1; }\n        this.text = text;\n        this.originalText = text;\n        this.value = value;\n        this.size = size;\n        this.index = 1;\n    }\n    return VisibleLabels;\n}());\nexport { VisibleLabels };\n","/**\n * Specifies the chart constant value\n */\n/** @private */\nexport var loaded = 'loaded';\n/** @private */\nexport var load = 'load';\n/** @private */\nexport var animationComplete = 'animationComplete';\n/** @private */\nexport var legendRender = 'legendRender';\n/** @private */\nexport var textRender = 'textRender';\n/** @private */\nexport var pointRender = 'pointRender';\n/** @private */\nexport var seriesRender = 'seriesRender';\n/** @private */\nexport var axisLabelRender = 'axisLabelRender';\n/** @private */\nexport var tooltipRender = 'tooltipRender';\n/** @private */\nexport var chartMouseMove = 'chartMouseMove';\n/** @private */\nexport var chartMouseClick = 'chartMouseClick';\n/** @private */\nexport var chartMouseLeave = 'chartMouseLeave';\n/** @private */\nexport var chartMouseDown = 'chartMouseDown';\n/** @private */\nexport var chartMouseUp = 'chartMouseUp';\n/** @private */\nexport var zoomComplete = 'zoomComplete';\n/** @private */\nexport var dragComplete = 'dragComplete';\n/** @private */\nexport var resized = 'resized';\n/** @private */\nexport var beforePrint = 'beforePrint';\n/** @private */\nexport var annotationRender = 'annotationRender';\n","import { subtractThickness, valueToCoefficient, sum, subArray, TextOption, inside, measureText } from '../../common/utils/helper';\nimport { Size, Rect, Thickness, PathOption, logBase, createZoomingLabels, getElement, rotateTextSize } from '../../common/utils/helper';\nimport { textElement, textTrim } from '../../common/utils/helper';\n/**\n * Specifies the Cartesian Axis Layout.\n */\nvar axisPadding = 10;\nvar CartesianAxisLayoutPanel = /** @class */ (function () {\n    /** @private */\n    function CartesianAxisLayoutPanel(chartModule) {\n        this.chart = chartModule;\n        this.padding = 5;\n    }\n    /**\n     * Measure the axis size.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.measureAxis = function (rect) {\n        var chart = this.chart;\n        this.seriesClipRect = new Rect(rect.x, rect.y, rect.width, rect.height);\n        this.initialClipRect = rect;\n        this.leftSize = 0;\n        this.rightSize = 0;\n        this.topSize = 0;\n        this.bottomSize = 0;\n        //Measure Axis size with initial Rect\n        this.measureRowAxis(chart, this.initialClipRect);\n        this.initialClipRect = subtractThickness(this.initialClipRect, new Thickness(this.leftSize, this.rightSize, 0, 0));\n        this.measureColumnAxis(chart, this.initialClipRect);\n        this.initialClipRect = subtractThickness(this.initialClipRect, new Thickness(0, 0, this.topSize, this.bottomSize));\n        if (!this.chart.delayRedraw) {\n            this.calculateAxisSize(this.initialClipRect);\n        }\n        this.leftSize = 0;\n        this.rightSize = 0;\n        this.topSize = 0;\n        this.bottomSize = 0;\n        //Measure Axis size with series Rect\n        this.measureRowAxis(chart, this.initialClipRect);\n        this.seriesClipRect = subtractThickness(this.seriesClipRect, new Thickness(this.leftSize, this.rightSize, 0, 0));\n        this.measureColumnAxis(chart, this.initialClipRect);\n        this.seriesClipRect = subtractThickness(this.seriesClipRect, new Thickness(0, 0, this.topSize, this.bottomSize));\n        if (!this.chart.delayRedraw) {\n            chart.refreshAxis();\n            this.calculateAxisSize(this.seriesClipRect);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.measureRowAxis = function (chart, rect) {\n        var row;\n        this.calculateRowSize(rect);\n        for (var _i = 0, _a = chart.rows; _i < _a.length; _i++) {\n            var item = _a[_i];\n            row = item;\n            row.nearSizes = [];\n            row.farSizes = [];\n            this.arrangeAxis(row);\n            this.measureDefinition(row, chart, new Size(chart.availableSize.width, row.computedHeight), rect);\n            if (this.leftSize < sum(row.nearSizes)) {\n                this.leftSize = sum(row.nearSizes);\n            }\n            if (this.rightSize < sum(row.farSizes)) {\n                this.rightSize = sum(row.farSizes);\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.measureColumnAxis = function (chart, rect) {\n        var column;\n        this.calculateColumnSize(rect);\n        for (var _i = 0, _a = chart.columns; _i < _a.length; _i++) {\n            var item = _a[_i];\n            column = item;\n            column.farSizes = [];\n            column.nearSizes = [];\n            this.arrangeAxis(column);\n            this.measureDefinition(column, chart, new Size(column.computedWidth, chart.availableSize.height), rect);\n            if (this.bottomSize < sum(column.nearSizes)) {\n                this.bottomSize = sum(column.nearSizes);\n            }\n            if (this.topSize < sum(column.farSizes)) {\n                this.topSize = sum(column.farSizes);\n            }\n        }\n    };\n    /**\n     * Measure the column and row in chart.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.measureDefinition = function (definition, chart, size, clipRect) {\n        var axis;\n        var axisType;\n        for (var _i = 0, _a = definition.axes; _i < _a.length; _i++) {\n            var axis_1 = _a[_i];\n            axis_1.getModule(chart);\n            axis_1.baseModule.calculateRangeAndInterval(size, axis_1);\n            definition.computeSize(axis_1, clipRect);\n        }\n        if (definition.farSizes.length > 0) {\n            definition.farSizes[definition.farSizes.length - 1] -= axisPadding;\n        }\n        if (definition.nearSizes.length > 0) {\n            definition.nearSizes[definition.nearSizes.length - 1] -= axisPadding;\n        }\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.calculateAxisSize = function (rect) {\n        var chart = this.chart;\n        var row;\n        var column;\n        var definition;\n        var axis;\n        var nearCount = 0;\n        var farCount = 0;\n        var size = 0;\n        var x;\n        var y;\n        this.calculateRowSize(rect);\n        for (var i = 0, len = chart.rows.length; i < len; i++) {\n            row = chart.rows[i];\n            nearCount = 0;\n            farCount = 0;\n            for (var j = 0, len_1 = row.axes.length; j < len_1; j++) {\n                axis = row.axes[j];\n                if (axis.rect.height === 0) {\n                    axis.rect.height = row.computedHeight;\n                    size = 0;\n                    for (var k = i + 1, len_2 = i + axis.span; k < len_2; k++) {\n                        definition = chart.rows[k];\n                        size += definition.computedHeight;\n                    }\n                    axis.rect.y = (row.computedTop - size) + axis.plotOffset;\n                    axis.rect.height = (axis.rect.height + size) - (2 * axis.plotOffset);\n                    axis.rect.width = 0;\n                }\n                if (axis.opposedPosition) {\n                    x = rect.x + rect.width + sum(subArray(row.farSizes, farCount));\n                    axis.rect.x = axis.rect.x >= x ? axis.rect.x : x;\n                    farCount++;\n                }\n                else {\n                    x = rect.x - sum(subArray(row.nearSizes, nearCount));\n                    axis.rect.x = axis.rect.x <= x ? axis.rect.x : x;\n                    nearCount++;\n                }\n            }\n        }\n        this.calculateColumnSize(rect);\n        for (var i = 0, len = chart.columns.length; i < len; i++) {\n            column = chart.columns[i];\n            nearCount = 0;\n            farCount = 0;\n            for (var j = 0, len_3 = column.axes.length; j < len_3; j++) {\n                axis = column.axes[j];\n                if (axis.rect.width === 0) {\n                    for (var k = i, len_4 = (i + axis.span); k < len_4; k++) {\n                        definition = chart.columns[k];\n                        axis.rect.width += definition.computedWidth;\n                    }\n                    axis.rect.x = column.computedLeft + axis.plotOffset;\n                    axis.rect.width -= (2 * axis.plotOffset);\n                    axis.rect.height = 0;\n                }\n                if (axis.opposedPosition) {\n                    y = rect.y - sum(subArray(column.farSizes, farCount));\n                    axis.rect.y = axis.rect.y <= y ? axis.rect.y : y;\n                    farCount++;\n                }\n                else {\n                    y = rect.y + rect.height + sum(subArray(column.nearSizes, nearCount));\n                    axis.rect.y = axis.rect.y >= y ? axis.rect.y : y;\n                    nearCount++;\n                }\n            }\n        }\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.measure = function () {\n        var chart = this.chart;\n        var row;\n        var column;\n        var definition;\n        var axis;\n        var actualIndex;\n        var span;\n        var axisLength;\n        for (var _i = 0, _a = chart.axisCollections; _i < _a.length; _i++) {\n            var axis_2 = _a[_i];\n            //definition.Axes = axis;\n            if (axis_2.orientation === 'Vertical') {\n                chart.verticalAxes.push(axis_2);\n                actualIndex = this.getActualRow(axis_2);\n                row = chart.rows[actualIndex];\n                this.pushAxis(row, axis_2);\n                span = ((actualIndex + axis_2.span) > chart.rows.length ? chart.rows.length : (actualIndex + axis_2.span));\n                for (var j = actualIndex + 1; j < span; j++) {\n                    definition = chart.rows[j];\n                    definition.axes[row.axes.length - 1] = axis_2;\n                    chart.rows[j] = definition;\n                }\n                chart.rows[actualIndex] = row;\n            }\n            else {\n                chart.horizontalAxes.push(axis_2);\n                actualIndex = this.getActualColumn(axis_2);\n                column = chart.columns[actualIndex];\n                this.pushAxis(column, axis_2);\n                span = ((actualIndex + axis_2.span) > chart.columns.length ? chart.columns.length : (actualIndex + axis_2.span));\n                for (var j = actualIndex + 1; j < span; j++) {\n                    definition = chart.columns[j];\n                    definition.axes[column.axes.length - 1] = axis_2;\n                    chart.columns[j] = definition;\n                }\n                chart.columns[actualIndex] = column;\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.pushAxis = function (definition, axis) {\n        for (var i = 0, len = definition.axes.length; i <= len; i++) {\n            if (!definition.axes[i]) {\n                definition.axes[i] = axis;\n                break;\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.arrangeAxis = function (definition) {\n        var axisCollection = [];\n        for (var i = 0, len = definition.axes.length; i <= len; i++) {\n            if (definition.axes[i]) {\n                axisCollection.push(definition.axes[i]);\n            }\n        }\n        definition.axes = axisCollection;\n    };\n    CartesianAxisLayoutPanel.prototype.getActualColumn = function (axis) {\n        var actualLength = this.chart.columns.length;\n        var pos = axis.columnIndex;\n        var result = pos >= actualLength ? actualLength - 1 : (pos < 0 ? 0 : pos);\n        return result;\n    };\n    CartesianAxisLayoutPanel.prototype.getActualRow = function (axis) {\n        var actualLength = this.chart.rows.length;\n        var pos = axis.rowIndex;\n        var result = pos >= actualLength ? actualLength - 1 : (pos < 0 ? 0 : pos);\n        return result;\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    CartesianAxisLayoutPanel.prototype.calculateRowSize = function (rect) {\n        /*! Calculate row size */\n        var chart = this.chart;\n        var row;\n        var rowTop = rect.y + rect.height;\n        var height = 0;\n        var remainingHeight = Math.max(0, rect.height);\n        for (var i = 0, len = chart.rows.length; i < len; i++) {\n            row = chart.rows[i];\n            if (row.height.indexOf('%') !== -1) {\n                height = Math.min(remainingHeight, (rect.height * parseInt(row.height, 10) / 100));\n            }\n            else {\n                height = Math.min(remainingHeight, parseInt(row.height, 10));\n            }\n            height = (i !== (len - 1)) ? height : remainingHeight;\n            row.computedHeight = height;\n            rowTop -= height;\n            row.computedTop = rowTop;\n            remainingHeight -= height;\n        }\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    CartesianAxisLayoutPanel.prototype.calculateColumnSize = function (rect) {\n        /*! Calculate column size */\n        var chart = this.chart;\n        var column;\n        var columnLeft = rect.x;\n        var width = 0;\n        var remainingWidth = Math.max(0, rect.width);\n        for (var i = 0, len = chart.columns.length; i < len; i++) {\n            column = chart.columns[i];\n            if (column.width.indexOf('%') !== -1) {\n                width = Math.min(remainingWidth, (rect.width * parseInt(column.width, 10) / 100));\n            }\n            else {\n                width = Math.min(remainingWidth, parseInt(column.width, 10));\n            }\n            width = (i !== (len - 1)) ? width : remainingWidth;\n            column.computedWidth = width;\n            column.computedLeft = columnLeft;\n            columnLeft += width;\n            remainingWidth -= width;\n        }\n    };\n    /**\n     * To render the axis element.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.renderAxes = function () {\n        var chart = this.chart;\n        var axis;\n        var axisElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisCollection' });\n        var definitionElement = chart.renderer.createGroup({ id: chart.element.id + 'DefintionLine' });\n        for (var i = 0, len = chart.axisCollections.length; i < len; i++) {\n            axis = chart.axisCollections[i];\n            this.element = chart.renderer.createGroup({ id: chart.element.id + 'AxisGroup' + i });\n            if (axis.orientation === 'Horizontal') {\n                if (axis.visible && axis.lineStyle.width > 0) {\n                    this.drawAxisLine(axis, i, axis.plotOffset, 0);\n                }\n                if (axis.majorGridLines.width > 0 || axis.majorTickLines.width > 0) {\n                    this.drawXAxisGridLine(axis, i);\n                }\n                if (axis.visible) {\n                    this.drawXAxisLabels(axis, i);\n                    this.drawXAxisTitle(axis, i);\n                }\n            }\n            else {\n                if (axis.visible && axis.lineStyle.width > 0) {\n                    this.drawAxisLine(axis, i, 0, axis.plotOffset);\n                }\n                if (axis.majorGridLines.width > 0 || axis.majorTickLines.width > 0) {\n                    this.drawYAxisGridLine(axis, i);\n                }\n                if (axis.visible) {\n                    this.drawYAxisLabels(axis, i);\n                    this.drawYAxisTitle(axis, i);\n                }\n            }\n            axisElement.appendChild(this.element);\n        }\n        this.element = chart.renderer.createGroup({ id: chart.element.id + 'DefintionLine' });\n        for (var j = 0, len = chart.rows.length; j < len; j++) {\n            var row = chart.rows[j];\n            if (row.border.color) {\n                this.drawBottomLine(row, j, true);\n            }\n        }\n        for (var j = 0, len = chart.columns.length; j < len; j++) {\n            var column = chart.columns[j];\n            if (column.border.color) {\n                this.drawBottomLine(column, j, false);\n            }\n        }\n        axisElement.appendChild(this.element);\n        chart.svgObject.appendChild(axisElement);\n    };\n    CartesianAxisLayoutPanel.prototype.drawBottomLine = function (definition, index, isRow) {\n        var chart = this.chart;\n        var optionsLine = {};\n        var x1;\n        var x2;\n        var y1;\n        var y2;\n        var definitionName;\n        if (isRow) {\n            definition = definition;\n            y1 = y2 = definition.computedTop + definition.computedHeight;\n            x1 = this.seriesClipRect.x;\n            x2 = x1 + this.seriesClipRect.width;\n            definitionName = 'Row';\n        }\n        else {\n            definition = definition;\n            x1 = x2 = definition.computedLeft;\n            y1 = this.seriesClipRect.y;\n            y2 = y1 + this.seriesClipRect.height;\n            definitionName = 'Column';\n        }\n        optionsLine = {\n            'id': chart.element.id + '_AxisBottom_' + definitionName + index,\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            'stroke-width': definition.border.width,\n            'stroke': definition.border.color,\n        };\n        this.htmlObject = chart.renderer.drawLine(optionsLine);\n        this.element.appendChild(this.htmlObject);\n    };\n    CartesianAxisLayoutPanel.prototype.drawAxisLine = function (axis, index, plotX, plotY) {\n        var chart = this.chart;\n        var optionsLine = {};\n        var rect = axis.rect;\n        optionsLine = {\n            'id': chart.element.id + 'AxisLine_' + index,\n            x1: rect.x - plotX,\n            y1: rect.y - plotY,\n            x2: rect.x + rect.width + plotX,\n            y2: rect.y + rect.height + plotY,\n            'stroke-dasharray': axis.lineStyle.dashArray,\n            'stroke-width': axis.lineStyle.width,\n            'stroke': axis.lineStyle.color\n        };\n        this.htmlObject = chart.renderer.drawLine(optionsLine);\n        this.element.appendChild(this.htmlObject);\n    };\n    CartesianAxisLayoutPanel.prototype.drawYAxisGridLine = function (axis, index) {\n        var chart = this.chart;\n        var tempInterval;\n        var pointY = 0;\n        var majorGrid = '';\n        var majorTick = '';\n        var minorGird = '';\n        var minorTick = '';\n        var minorDirection;\n        var tickSize = (axis.opposedPosition) ? axis.majorTickLines.height : -axis.majorTickLines.height;\n        var axisLineSize = (axis.opposedPosition) ? axis.lineStyle.width / 2 : -axis.lineStyle.width / 2;\n        var rect = axis.rect;\n        var ticksbwtLabel = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') ?\n            0.5 : 0;\n        var length = axis.visibleLabels.length;\n        if (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks' && length > 0) {\n            length += 1;\n        }\n        //Gridlines\n        for (var i = 0; i < length; i++) {\n            tempInterval = !axis.visibleLabels[i] ? (axis.visibleLabels[i - 1].value + axis.visibleRange.interval) - ticksbwtLabel\n                : axis.visibleLabels[i].value - ticksbwtLabel;\n            pointY = valueToCoefficient(tempInterval, axis) * rect.height;\n            pointY = (pointY * -1) + (rect.y + rect.height);\n            if (pointY >= rect.y && (rect.y + rect.height) >= pointY) {\n                if ((inside(tempInterval, axis.visibleRange)) || this.isBorder(axis, i, pointY)) {\n                    majorGrid = majorGrid.concat('M ' + this.seriesClipRect.x + ' ' + (pointY) +\n                        ' L ' + (this.seriesClipRect.x + this.seriesClipRect.width) + ' ' + pointY + ' ');\n                }\n                majorTick = majorTick.concat('M ' + (rect.x + axisLineSize) + ' ' + pointY +\n                    ' L ' + (rect.x + tickSize + axisLineSize) + ' ' + pointY + ' ');\n            }\n            if ((axis.minorGridLines.width > 0 || axis.minorTickLines.width > 0) && axis.minorTicksPerInterval > 0) {\n                minorDirection = this.drawAxisMinorLine(axis, tempInterval, minorGird, minorTick);\n                minorGird = minorDirection[0];\n                minorTick = minorDirection[1];\n            }\n        }\n        this.renderGridLine(axis, index, majorGrid, minorGird);\n        this.renderTickLine(axis, index, majorTick, minorTick);\n    };\n    CartesianAxisLayoutPanel.prototype.isBorder = function (axis, index, value) {\n        var chart = this.chart;\n        var border = chart.chartArea.border;\n        var rect = this.seriesClipRect;\n        var orientation = axis.orientation;\n        var start = (orientation === 'Horizontal') ? rect.x : rect.y;\n        var size = (orientation === 'Horizontal') ? rect.width : rect.height;\n        var startIndex = (orientation === 'Horizontal') ? 0 : axis.visibleLabels.length - 1;\n        var endIndex = (orientation === 'Horizontal') ? axis.visibleLabels.length - 1 : 0;\n        if (axis.plotOffset > 0) {\n            return true;\n        }\n        else if ((value === start || value === (start + size)) && (border.width <= 0 || border.color === 'transparent')) {\n            return true;\n        }\n        else if ((value !== start && index === startIndex) || (value !== (start + size) && index === endIndex)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To render the axis label.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.drawYAxisLabels = function (axis, index) {\n        var chart = this.chart;\n        var pointX = 0;\n        var pointY = 0;\n        var elementSize;\n        var options;\n        var padding = axis.majorTickLines.height + this.padding + axis.lineStyle.width / 2;\n        padding = (axis.opposedPosition) ? padding : -padding;\n        var anchor = (axis.opposedPosition) ? 'start' : 'end';\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        var rect = axis.rect;\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            pointX = (rect.x + padding);\n            elementSize = axis.visibleLabels[i].size;\n            pointY = valueToCoefficient(axis.visibleLabels[i].value, axis) * rect.height;\n            pointY = Math.floor((pointY * -1) + (rect.y + rect.height));\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY + (elementSize.height / 4), anchor, axis.visibleLabels[i].text);\n            if (axis.edgeLabelPlacement) {\n                switch (axis.edgeLabelPlacement) {\n                    case 'None':\n                        break;\n                    case 'Hide':\n                        if (((i === 0 || (axis.isInversed && i === len - 1)) && options.y > rect.y + rect.height) ||\n                            (((i === len - 1) || (axis.isInversed && i === 0)) && options.y - elementSize.height / 2 < rect.y)) {\n                            options.text = '';\n                        }\n                        break;\n                    case 'Shift':\n                        if ((i === 0 || (axis.isInversed && i === len - 1)) && options.y > rect.y + rect.height) {\n                            options.y = pointY = rect.y + rect.height;\n                        }\n                        else if (((i === len - 1) || (axis.isInversed && i === 0)) && (options.y - elementSize.height / 2 < rect.y)) {\n                            options.y = pointY = rect.y + elementSize.height / 2;\n                        }\n                        break;\n                }\n            }\n            textElement(options, axis.labelStyle, axis.labelStyle.color, labelElement);\n        }\n        if (!chart.delayRedraw) {\n            this.element.appendChild(labelElement);\n        }\n        else if (axis.visible) {\n            this.createZoomingLabel(this.chart, labelElement, axis, index);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.drawYAxisTitle = function (axis, index) {\n        var chart = this.chart;\n        var labelRotation = (axis.opposedPosition) ? 90 : -90;\n        var elementSize = measureText(axis.title, axis.titleStyle);\n        var padding = axis.majorTickLines.height + axis.maxLabelSize.width + this.padding * 2;\n        var rect = axis.rect;\n        padding = axis.opposedPosition ? padding : -padding;\n        var x = rect.x + padding;\n        var y = rect.y + rect.height / 2;\n        var options = new TextOption(chart.element.id + '_AxisTitle_' + index, x, y - this.padding, 'middle', axis.title, 'rotate(' + labelRotation + ',' + (x) + ',' + (y) + ')');\n        var element = textElement(options, axis.titleStyle, axis.titleStyle.color, this.element);\n        element.setAttribute('aria-label', axis.description || axis.title);\n        element.setAttribute('tabindex', axis.tabIndex.toString());\n    };\n    CartesianAxisLayoutPanel.prototype.drawXAxisGridLine = function (axis, index) {\n        var chart = this.chart;\n        var tempInterval;\n        var pointX = 0;\n        var majorGrid = '';\n        var majorTick = '';\n        var minorGird = '';\n        var minorTick = '';\n        var minorDirection;\n        var tickSize = (axis.opposedPosition) ? -axis.majorTickLines.height : axis.majorTickLines.height;\n        var axisLineSize = (axis.opposedPosition) ? -axis.lineStyle.width / 2 : axis.lineStyle.width / 2;\n        var ticksbwtLabel = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') ?\n            0.5 : 0;\n        var rect = axis.rect;\n        var length = axis.visibleLabels.length;\n        if (axis.valueType === 'Category' && length > 0 && axis.labelPlacement === 'BetweenTicks') {\n            length += 1;\n        }\n        //Gridlines\n        for (var i = 0; i < length; i++) {\n            tempInterval = axis.visibleLabels[i] ? axis.visibleLabels[i].value - ticksbwtLabel\n                : (axis.visibleLabels[i - 1].value + axis.visibleRange.interval) - ticksbwtLabel;\n            pointX = (valueToCoefficient(tempInterval, axis) * rect.width) + rect.x;\n            if (pointX >= rect.x && (rect.x + rect.width) >= pointX) {\n                if (inside(tempInterval, axis.visibleRange) || this.isBorder(axis, i, pointX)) {\n                    majorGrid = majorGrid.concat('M ' + pointX + ' ' + (this.seriesClipRect.y + this.seriesClipRect.height) +\n                        ' L ' + pointX + ' ' + this.seriesClipRect.y + ' ');\n                }\n                majorTick = majorTick.concat('M ' + (pointX) + ' ' + (rect.y + axisLineSize) +\n                    ' L ' + (pointX) + ' ' + (rect.y + tickSize + axisLineSize) + ' ');\n            }\n            if (axis.minorTicksPerInterval > 0 && (axis.minorGridLines.width > 0 || axis.minorTickLines.width > 0)) {\n                minorDirection = this.drawAxisMinorLine(axis, tempInterval, minorGird, minorTick);\n                minorGird = minorDirection[0];\n                minorTick = minorDirection[1];\n            }\n        }\n        this.renderGridLine(axis, index, majorGrid, minorGird);\n        this.renderTickLine(axis, index, majorTick, minorTick);\n    };\n    CartesianAxisLayoutPanel.prototype.drawAxisMinorLine = function (axis, tempInterval, minorGird, minorTick) {\n        var value = tempInterval;\n        var coor = 0;\n        var position = 0;\n        var range = axis.visibleRange;\n        var direction = [];\n        var tickSize = axis.opposedPosition ? -axis.minorTickLines.height : axis.minorTickLines.height;\n        var rect = axis.rect;\n        var logStart;\n        var logEnd;\n        var logInterval = 1;\n        var logPosition = 1;\n        if (axis.valueType === 'Logarithmic') {\n            logStart = Math.pow(axis.logBase, value - range.interval);\n            logEnd = Math.pow(axis.logBase, value);\n            logInterval = (logEnd - logStart) / (axis.minorTicksPerInterval + 1);\n            logPosition = logStart + logInterval;\n        }\n        if (axis.orientation === 'Horizontal') {\n            for (var j = 0; j < axis.minorTicksPerInterval; j++) {\n                value = this.findLogNumeric(axis, logPosition, logInterval, value);\n                logPosition += logInterval;\n                if (inside(value, range)) {\n                    position = Math.ceil(((value - range.min) / (range.max - range.min)) * rect.width);\n                    coor = (Math.floor(position + rect.x));\n                    minorGird = minorGird.concat('M' + ' ' + coor + ' ' + (this.seriesClipRect.y)\n                        + 'L ' + coor + ' ' + (this.seriesClipRect.y + this.seriesClipRect.height));\n                    coor = (Math.floor(position + rect.x));\n                    minorTick = minorTick.concat('M' + ' ' + coor + ' ' + (rect.y)\n                        + 'L ' + coor + ' ' + (rect.y + tickSize));\n                }\n            }\n        }\n        else {\n            tickSize = axis.opposedPosition ? axis.minorTickLines.height : -axis.minorTickLines.height;\n            for (var j = 0; j < axis.minorTicksPerInterval; j++) {\n                value = this.findLogNumeric(axis, logPosition, logInterval, value);\n                if (inside(value, range)) {\n                    position = Math.ceil(((value - range.min) / (range.max - range.min)) * rect.height) * -1;\n                    coor = (Math.floor(position + rect.y + rect.height));\n                    minorGird = minorGird.concat('M' + ' ' + (this.seriesClipRect.x) + ' ' + coor\n                        + 'L ' + (this.seriesClipRect.x + this.seriesClipRect.width) + ' ' + coor);\n                    coor = (Math.floor(position + rect.y + rect.height));\n                    minorTick = minorTick.concat('M' + ' ' + rect.x + ' ' + coor + 'L ' + (rect.x + tickSize) + ' ' + coor);\n                }\n                logPosition += logInterval;\n            }\n        }\n        direction.push(minorGird);\n        direction.push(minorTick);\n        return direction;\n    };\n    CartesianAxisLayoutPanel.prototype.findLogNumeric = function (axis, logPosition, logInterval, value) {\n        var range = axis.visibleRange;\n        if (axis.valueType === 'Logarithmic') {\n            value = logBase(logPosition, axis.logBase);\n        }\n        else if (axis.valueType === 'DateTime') {\n            value += axis.dateTimeInterval / (axis.minorTicksPerInterval + 1);\n        }\n        else {\n            value += range.interval / (axis.minorTicksPerInterval + 1);\n        }\n        return value;\n    };\n    /**\n     * To render the axis label.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.drawXAxisLabels = function (axis, index) {\n        var chart = this.chart;\n        var pointX = 0;\n        var pointY = 0;\n        var elementSize;\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        var padding = axis.majorTickLines.height + this.padding + axis.lineStyle.width / 2;\n        var labelPadding;\n        var rotateSize;\n        var diffHeight;\n        var yLocation;\n        var angle;\n        var anglePadding = ((axis.angle === 90 || axis.angle === -90)) ? -2 : 0;\n        var rect = axis.rect;\n        var options;\n        var previousEnd = axis.isInversed ? (rect.x + rect.width) : rect.x;\n        var width = 0;\n        var intervalLength = axis.rect.width / axis.visibleLabels.length;\n        var label;\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            label = axis.visibleLabels[i];\n            pointX = (valueToCoefficient(label.value, axis) * rect.width) + rect.x;\n            elementSize = label.size;\n            width = ((axis.labelIntersectAction === 'Trim' || axis.labelIntersectAction === 'Wrap')\n                && elementSize.width > intervalLength) ? intervalLength : elementSize.width;\n            pointX -= width / 2;\n            labelPadding = (axis.opposedPosition) ?\n                -(padding + ((axis.angle !== 0) ? (3 * (elementSize.height / 4) + (2 * axis.maxLabelSize.height / 5)) :\n                    (label.index > 1 ? (2 * (elementSize.height / 4)) : 0)))\n                : padding + ((axis.angle !== 0) ? (3 * (elementSize.height / 4)) + (2 * axis.maxLabelSize.height / 5)\n                    : (3 * (elementSize.height / 4)));\n            pointY = (rect.y + (labelPadding * label.index));\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY, '', this.findAxisLabel(axis, label.text, intervalLength));\n            if (axis.edgeLabelPlacement) {\n                switch (axis.edgeLabelPlacement) {\n                    case 'None':\n                        break;\n                    case 'Hide':\n                        if (((i === 0 || (axis.isInversed && i === len - 1)) && options.x < rect.x) ||\n                            ((i === len - 1 || (axis.isInversed && i === 0)) && (options.x + width > rect.x + rect.width))) {\n                            continue;\n                        }\n                        break;\n                    case 'Shift':\n                        if ((i === 0 || (axis.isInversed && i === len - 1)) && options.x < rect.x) {\n                            options.x = pointX = rect.x;\n                        }\n                        else if ((i === len - 1 || (axis.isInversed && i === 0)) && ((options.x + width) > rect.x + rect.width)) {\n                            options.x = pointX = rect.x + rect.width - width;\n                        }\n                        break;\n                }\n            }\n            if (axis.angle % 360 === 0 && axis.labelIntersectAction === 'Hide' && i !== 0 &&\n                (!axis.isInversed ? options.x <= previousEnd : options.x + width >= previousEnd)) {\n                continue;\n            }\n            previousEnd = axis.isInversed ? options.x : options.x + width;\n            if (axis.angle !== 0) {\n                angle = (axis.angle > 360) ? axis.angle % 360 : axis.angle;\n                rotateSize = rotateTextSize(axis.labelStyle, label.text, angle, chart);\n                diffHeight = axis.maxLabelSize.height - Math.ceil(rotateSize.height - elementSize.height);\n                yLocation = axis.opposedPosition ? diffHeight / 2 : -diffHeight / 2;\n                options.transform = 'rotate(' + angle + ',' + (pointX + width / 2 + anglePadding) + ','\n                    + (pointY + yLocation) + ')';\n                options.y += yLocation;\n            }\n            textElement(options, axis.labelStyle, axis.labelStyle.color, labelElement, axis.opposedPosition).setAttribute('style', 'cursor: default');\n        }\n        if (!chart.delayRedraw) {\n            this.element.appendChild(labelElement);\n        }\n        else if (axis.visible) {\n            this.createZoomingLabel(this.chart, labelElement, axis, index);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.findAxisLabel = function (axis, label, width) {\n        switch (axis.labelIntersectAction) {\n            case 'Trim':\n                return textTrim(width, label, axis.labelStyle);\n            default:\n                return label;\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.drawXAxisTitle = function (axis, index) {\n        var chart = this.chart;\n        var elementSize = measureText(axis.title, axis.titleStyle);\n        var padding = axis.majorTickLines.height + axis.maxLabelSize.height + this.padding * 2;\n        var rect = axis.rect;\n        padding = axis.opposedPosition ? -(padding + elementSize.height / 4) : (padding + (3 * elementSize.height / 4));\n        var options = new TextOption(chart.element.id + '_AxisTitle_' + index, rect.x + rect.width / 2, rect.y + padding, 'middle', axis.title);\n        var element = textElement(options, axis.titleStyle, axis.titleStyle.color, this.element);\n        element.setAttribute('aria-label', axis.description || axis.title);\n        element.setAttribute('tabindex', axis.tabIndex.toString());\n    };\n    CartesianAxisLayoutPanel.prototype.renderTickLine = function (axis, index, majorTick, minorTick) {\n        var options;\n        var chart = this.chart;\n        if (axis.majorTickLines.width > 0 && axis.visible) {\n            options = new PathOption(chart.element.id + '_MajorTickLine_' + index, 'transparent', axis.majorTickLines.width, axis.majorTickLines.color, null, null, majorTick);\n            this.htmlObject = chart.renderer.drawPath(options);\n            this.element.appendChild(this.htmlObject);\n        }\n        if (axis.minorTickLines.width > 0 && axis.visible) {\n            options = new PathOption(chart.element.id + '_MinorTickLine_' + index, 'transparent', axis.minorTickLines.width, axis.minorTickLines.color, null, null, minorTick);\n            this.htmlObject = chart.renderer.drawPath(options);\n            this.element.appendChild(this.htmlObject);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.renderGridLine = function (axis, index, majorGrid, minorGird) {\n        var chart = this.chart;\n        var options;\n        if (axis.majorGridLines.width > 0) {\n            options = new PathOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines.width, axis.majorGridLines.color, null, axis.majorGridLines.dashArray, majorGrid);\n            this.htmlObject = chart.renderer.drawPath(options);\n            this.element.appendChild(this.htmlObject);\n        }\n        if (axis.minorGridLines.width > 0) {\n            options = new PathOption(chart.element.id + '_MinorGridLine_' + index, 'transparent', axis.minorGridLines.width, axis.minorGridLines.color, null, axis.minorGridLines.dashArray, minorGird);\n            this.htmlObject = chart.renderer.drawPath(options);\n            this.element.appendChild(this.htmlObject);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.createZoomingLabel = function (chart, labelElement, axis, index) {\n        var parentNode = document.getElementById(chart.element.id + 'AxisGroup' + index);\n        labelElement.setAttribute('opacity', '0.3');\n        var zoomElement = chart.renderer.createGroup({\n            id: chart.element.id + 'AxisLabels_Zoom' + index\n        });\n        zoomElement = createZoomingLabels(chart, axis, zoomElement, index, axis.orientation === 'Vertical');\n        parentNode.replaceChild(labelElement, document.getElementById(labelElement.id));\n        if (getElement(chart.element.id + 'AxisLabels_Zoom' + index)) {\n            parentNode.replaceChild(zoomElement, document.getElementById(zoomElement.id));\n        }\n        else {\n            parentNode.appendChild(zoomElement);\n        }\n    };\n    return CartesianAxisLayoutPanel;\n}());\nexport { CartesianAxisLayoutPanel };\n","import { DataUtil } from './util';\n/**\n * Query class is used to build query which is used by the DataManager to communicate with datasource.\n */\nvar Query = /** @class */ (function () {\n    /**\n     * Constructor for Query class.\n     * @param  {string|string[]} from?\n     * @hidden\n     */\n    function Query(from) {\n        /** @hidden */\n        this.subQuery = null;\n        /** @hidden */\n        this.isChild = false;\n        this.queries = [];\n        this.key = '';\n        this.fKey = '';\n        if (typeof from === 'string') {\n            this.fromTable = from;\n        }\n        else if (from && from instanceof Array) {\n            this.lookups = from;\n        }\n        this.expands = [];\n        this.sortedColumns = [];\n        this.groupedColumns = [];\n        this.subQuery = null;\n        this.isChild = false;\n        this.params = [];\n        return this;\n    }\n    /**\n     * Sets the primary key.\n     * @param  {string} field - Defines the column field.\n     */\n    Query.prototype.setKey = function (field) {\n        this.key = field;\n        return this;\n    };\n    /**\n     * Sets default DataManager to execute query.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.using = function (dataManager) {\n        this.dataManager = dataManager;\n        return this;\n    };\n    /**\n     * Executes query with the given DataManager.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     * @param  {Function} done - Defines the success callback.\n     * @param  {Function} fail - Defines the failure callback.\n     * @param  {Function} always - Defines the callback which will be invoked on either success or failure.\n     *\n     * <pre>\n     * let dataManager: DataManager = new DataManager([{ ID: '10' }, { ID: '2' }, { ID: '1' }, { ID: '20' }]);\n     * let query: Query = new Query();\n     * query.sortBy('ID', (x: string, y: string): number => { return parseInt(x, 10) - parseInt(y, 10) });\n     * let promise: Promise< Object > = query.execute(dataManager);\n     * promise.then((e: { result: Object }) => { });\n     * </pre>\n     */\n    Query.prototype.execute = function (dataManager, done, fail, always) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeQuery(this, done, fail, always);\n        }\n        return DataUtil.throwError('Query - execute() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Executes query with the local datasource.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.executeLocal = function (dataManager) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeLocal(this);\n        }\n        return DataUtil.throwError('Query - executeLocal() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Creates deep copy of the Query object.\n     */\n    Query.prototype.clone = function () {\n        var cloned = new Query();\n        cloned.queries = this.queries.slice(0);\n        cloned.key = this.key;\n        cloned.isChild = this.isChild;\n        cloned.dataManager = this.dataManager;\n        cloned.fromTable = this.fromTable;\n        cloned.params = this.params.slice(0);\n        cloned.expands = this.expands.slice(0);\n        cloned.sortedColumns = this.sortedColumns.slice(0);\n        cloned.groupedColumns = this.groupedColumns.slice(0);\n        cloned.subQuerySelector = this.subQuerySelector;\n        cloned.subQuery = this.subQuery;\n        cloned.fKey = this.fKey;\n        cloned.isCountRequired = this.isCountRequired;\n        return cloned;\n    };\n    /**\n     * Specifies the name of table to retrieve data in query execution.\n     * @param  {string} tableName - Defines the table name.\n     */\n    Query.prototype.from = function (tableName) {\n        this.fromTable = tableName;\n        return this;\n    };\n    /**\n     * Adds additional parameter which will be sent along with the request which will be generated while DataManager execute.\n     * @param  {string} key - Defines the key of additional parameter.\n     * @param  {Function|string} value - Defines the value for the key.\n     */\n    Query.prototype.addParams = function (key, value) {\n        if (typeof value === 'function') {\n            this.params.push({ key: key, fn: value });\n        }\n        else {\n            this.params.push({ key: key, value: value });\n        }\n        return this;\n    };\n    /**\n     * Expands the related table.\n     * @param  {string|Object[]} tables\n     */\n    Query.prototype.expand = function (tables) {\n        if (typeof tables === 'string') {\n            this.expands = [].slice.call([tables], 0);\n        }\n        else {\n            this.expands = tables.slice(0);\n        }\n        return this;\n    };\n    /**\n     * Filter data with given filter criteria.\n     * @param  {string|Predicate} fieldName - Defines the column field or Predicate.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string|number|boolean} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.where = function (fieldName, operator, value, ignoreCase) {\n        operator = operator ? (operator).toLowerCase() : null;\n        var predicate = null;\n        if (typeof fieldName === 'string') {\n            predicate = new Predicate(fieldName, operator, value, ignoreCase);\n        }\n        else if (fieldName instanceof Predicate) {\n            predicate = fieldName;\n        }\n        this.queries.push({\n            fn: 'onWhere',\n            e: predicate\n        });\n        return this;\n    };\n    /**\n     * Search data with given search criteria.\n     * @param  {string|number|boolean} searchKey - Defines the search key.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     * @param  {string} operator - Defines the operator how to search data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.search = function (searchKey, fieldNames, operator, ignoreCase) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [fieldNames];\n        }\n        operator = operator || 'contains';\n        var comparer = DataUtil.fnOperators[operator];\n        this.queries.push({\n            fn: 'onSearch',\n            e: {\n                fieldNames: fieldNames,\n                operator: operator,\n                searchKey: searchKey,\n                ignoreCase: ignoreCase,\n                comparer: comparer\n            }\n        });\n        return this;\n    };\n    /**\n     * Sort the data with given sort criteria.\n     * By default, sort direction is ascending.\n     * @param  {string|string[]} fieldName - Defines the single or collection of column fields.\n     * @param  {string|Function} comparer - Defines the sort direction or custom sort comparer function.\n     */\n    Query.prototype.sortBy = function (fieldName, comparer, isFromGroup) {\n        var order = 'ascending';\n        var sorts;\n        var temp;\n        if (typeof fieldName === 'string' && DataUtil.endsWith(fieldName.toLowerCase(), ' desc')) {\n            fieldName = fieldName.replace(/ desc$/i, '');\n            comparer = 'descending';\n        }\n        if (!comparer || typeof comparer === 'string') {\n            order = comparer ? comparer.toLowerCase() : 'ascending';\n            comparer = DataUtil.fnSort(comparer);\n        }\n        if (isFromGroup) {\n            sorts = Query.filterQueries(this.queries, 'onSortBy');\n            for (var i = 0; i < sorts.length; i++) {\n                temp = sorts[i].e.fieldName;\n                if (typeof temp === 'string') {\n                    if (temp === fieldName) {\n                        return this;\n                    }\n                }\n                else if (temp instanceof Array) {\n                    for (var j = 0; j < temp.length; j++) {\n                        if (temp[j] === fieldName || fieldName.toLowerCase() === temp[j] + ' desc') {\n                            return this;\n                        }\n                    }\n                }\n            }\n        }\n        this.queries.push({\n            fn: 'onSortBy',\n            e: {\n                fieldName: fieldName,\n                comparer: comparer,\n                direction: order\n            }\n        });\n        return this;\n    };\n    /**\n     * Sorts data in descending order.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.sortByDesc = function (fieldName) {\n        return this.sortBy(fieldName, 'descending');\n    };\n    /**\n     * Groups data with the given field name.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.group = function (fieldName, fn, format) {\n        this.sortBy(fieldName, null, true);\n        this.queries.push({\n            fn: 'onGroup',\n            e: {\n                fieldName: fieldName,\n                comparer: fn ? fn : null,\n                format: format ? format : null\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given page index and size.\n     * @param  {number} pageIndex - Defines the current page index.\n     * @param  {number} pageSize - Defines the no of records per page.\n     */\n    Query.prototype.page = function (pageIndex, pageSize) {\n        this.queries.push({\n            fn: 'onPage',\n            e: {\n                pageIndex: pageIndex,\n                pageSize: pageSize\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given start and end index.\n     * @param  {number} start - Defines the start index of the datasource.\n     * @param  {number} end - Defines the end index of the datasource.\n     */\n    Query.prototype.range = function (start, end) {\n        this.queries.push({\n            fn: 'onRange',\n            e: {\n                start: start,\n                end: end\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data from the top of the data source based on given number of records count.\n     * @param  {number} nos - Defines the no of records to retrieve from datasource.\n     */\n    Query.prototype.take = function (nos) {\n        this.queries.push({\n            fn: 'onTake',\n            e: {\n                nos: nos\n            }\n        });\n        return this;\n    };\n    /**\n     * Skips data with given number of records count from the top of the data source.\n     * @param  {number} nos - Defines the no of records skip in the datasource.\n     */\n    Query.prototype.skip = function (nos) {\n        this.queries.push({\n            fn: 'onSkip',\n            e: { nos: nos }\n        });\n        return this;\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     */\n    Query.prototype.select = function (fieldNames) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [].slice.call([fieldNames], 0);\n        }\n        this.queries.push({\n            fn: 'onSelect',\n            e: { fieldNames: fieldNames }\n        });\n        return this;\n    };\n    /**\n     * Gets the records in hierarchical relationship from two tables. It requires the foreign key to relate two tables.\n     * @param  {Query} query - Defines the query to relate two tables.\n     * @param  {Function} selectorFn - Defines the custom function to select records.\n     */\n    Query.prototype.hierarchy = function (query, selectorFn) {\n        this.subQuerySelector = selectorFn;\n        this.subQuery = query;\n        return this;\n    };\n    /**\n     * Sets the foreign key which is used to get data from the related table.\n     * @param  {string} key - Defines the foreign key.\n     */\n    Query.prototype.foreignKey = function (key) {\n        this.fKey = key;\n        return this;\n    };\n    /**\n     * It is used to get total number of records in the DataManager execution result.\n     */\n    Query.prototype.requiresCount = function () {\n        this.isCountRequired = true;\n        return this;\n    };\n    //type - sum, avg, min, max\n    /**\n     * Aggregate the data with given type and field name.\n     * @param  {string} type - Defines the aggregate type.\n     * @param  {string} field - Defines the column field to aggregate.\n     */\n    Query.prototype.aggregate = function (type, field) {\n        this.queries.push({\n            fn: 'onAggregates',\n            e: { field: field, type: type }\n        });\n        return this;\n    };\n    /**\n     * Pass array of filterColumn query for performing filter operation.\n     * @param  {QueryOptions[]} queries\n     * @param  {string} name\n     * @hidden\n     */\n    Query.filterQueries = function (queries, name) {\n        return queries.filter(function (q) {\n            return q.fn === name;\n        });\n    };\n    /**\n     * To get the list of queries which is already filtered in current data source.\n     * @param  {Object[]} queries\n     * @param  {string[]} singles\n     * @hidden\n     */\n    Query.filterQueryLists = function (queries, singles) {\n        var filtered = queries.filter(function (q) {\n            return singles.indexOf(q.fn) !== -1;\n        });\n        var res = {};\n        for (var i = 0; i < filtered.length; i++) {\n            if (!res[filtered[i].fn]) {\n                res[filtered[i].fn] = filtered[i].e;\n            }\n        }\n        return res;\n    };\n    return Query;\n}());\nexport { Query };\n/**\n * Predicate class is used to generate complex filter criteria.\n * This will be used by DataManager to perform multiple filtering operation.\n */\nvar Predicate = /** @class */ (function () {\n    /**\n     * Constructor for Predicate class.\n     * @param  {string|Predicate} field\n     * @param  {string} operator\n     * @param  {string|number|boolean|Predicate|Predicate[]} value\n     * @param  {boolean=false} ignoreCase\n     * @hidden\n     */\n    function Predicate(field, operator, value, ignoreCase) {\n        if (ignoreCase === void 0) { ignoreCase = false; }\n        /** @hidden */\n        this.isComplex = false;\n        if (typeof field === 'string') {\n            this.field = field;\n            this.operator = operator.toLowerCase();\n            this.value = value;\n            this.ignoreCase = ignoreCase;\n            this.isComplex = false;\n            this.comparer = DataUtil.fnOperators.processOperator(this.operator);\n        }\n        else if (field instanceof Predicate && value instanceof Predicate || value instanceof Array) {\n            this.isComplex = true;\n            this.condition = operator.toLowerCase();\n            this.predicates = [field];\n            if (value instanceof Array) {\n                [].push.apply(this.predicates, value);\n            }\n            else {\n                this.predicates.push(value);\n            }\n        }\n        return this;\n    }\n    /**\n     * Adds n-number of new predicates on existing predicate with and condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.and = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'and');\n    };\n    /**\n     * Adds new predicate on existing predicate with and condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.and = function (field, operator, value, ignoreCase) {\n        return Predicate.combine(this, field, operator, value, 'and', ignoreCase);\n    };\n    /**\n     * Adds n-number of new predicates on existing predicate with or condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.or = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'or');\n    };\n    /**\n     * Adds new predicate on existing predicate with or condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.or = function (field, operator, value, ignoreCase) {\n        return Predicate.combine(this, field, operator, value, 'or', ignoreCase);\n    };\n    /**\n     * Converts plain JavaScript object to Predicate object.\n     * @param  {Predicate[]|Predicate} json - Defines single or collection of Predicate.\n     */\n    Predicate.fromJson = function (json) {\n        if (json instanceof Array) {\n            var res = [];\n            for (var i = 0, len = json.length; i < len; i++) {\n                res.push(this.fromJSONData(json[i]));\n            }\n            return res;\n        }\n        var pred = json;\n        return this.fromJSONData(pred);\n    };\n    /**\n     * Validate the record based on the predicates.\n     * @param  {Object} record - Defines the datasource record.\n     */\n    Predicate.prototype.validate = function (record) {\n        var predicate = this.predicates ? this.predicates : [];\n        var isAnd;\n        var ret;\n        if (!this.isComplex && this.comparer) {\n            return this.comparer.call(this, DataUtil.getObject(this.field, record), this.value, this.ignoreCase);\n        }\n        isAnd = this.condition === 'and';\n        for (var i = 0; i < predicate.length; i++) {\n            ret = predicate[i].validate(record);\n            if (isAnd) {\n                if (!ret) {\n                    return false;\n                }\n            }\n            else {\n                if (ret) {\n                    return true;\n                }\n            }\n        }\n        return isAnd;\n    };\n    /**\n     * Converts predicates to plain JavaScript.\n     * This method is uses Json stringify when serializing Predicate object.\n     */\n    Predicate.prototype.toJson = function () {\n        var predicates;\n        var p;\n        if (this.isComplex) {\n            predicates = [];\n            p = this.predicates;\n            for (var i = 0; i < p.length; i++) {\n                predicates.push(p[i].toJson());\n            }\n        }\n        return {\n            isComplex: this.isComplex,\n            field: this.field,\n            operator: this.operator,\n            value: this.value,\n            ignoreCase: this.ignoreCase,\n            condition: this.condition,\n            predicates: predicates\n        };\n    };\n    Predicate.combinePredicates = function (predicates, operator) {\n        if (predicates.length === 1) {\n            if (!(predicates[0] instanceof Array)) {\n                return predicates[0];\n            }\n            predicates = predicates[0];\n        }\n        return new Predicate(predicates[0], operator, predicates.slice(1));\n    };\n    Predicate.combine = function (pred, field, operator, value, condition, ignoreCase) {\n        if (field instanceof Predicate) {\n            return Predicate[condition](pred, field);\n        }\n        if (typeof field === 'string') {\n            return Predicate[condition](pred, new Predicate(field, operator, value, ignoreCase));\n        }\n        return DataUtil.throwError('Predicate - ' + condition + ' : invalid arguments');\n    };\n    Predicate.fromJSONData = function (json) {\n        var preds = json.predicates || [];\n        var len = preds.length;\n        var predicates = [];\n        var result;\n        for (var i = 0; i < len; i++) {\n            predicates.push(this.fromJSONData(preds[i]));\n        }\n        if (!json.isComplex) {\n            result = new Predicate(json.field, json.operator, json.value, json.ignoreCase);\n        }\n        else {\n            result = new Predicate(predicates[0], json.condition, predicates.slice(1));\n        }\n        return result;\n    };\n    return Predicate;\n}());\nexport { Predicate };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataManager } from './manager';\nimport { Query } from './query';\nvar consts = { GroupGuid: '{271bbba0-1ee7}' };\n/**\n * Data manager common utility methods.\n * @hidden\n */\nvar DataUtil = /** @class */ (function () {\n    function DataUtil() {\n    }\n    /**\n     * Returns the value by invoking the provided parameter function.\n     * If the paramater is not of type function then it will be returned as it is.\n     * @param  {Function|string|string[]|number} value\n     * @param  {Object} inst?\n     * @hidden\n     */\n    DataUtil.getValue = function (value, inst) {\n        if (typeof value === 'function') {\n            return value.call(inst || {});\n        }\n        return value;\n    };\n    /**\n     * Returns true if the input string ends with given string.\n     * @param  {string} input\n     * @param  {string} substr\n     */\n    DataUtil.endsWith = function (input, substr) {\n        return input.slice(-substr.length) === substr;\n    };\n    /**\n     * Returns true if the input string starts with given string.\n     * @param  {string} str\n     * @param  {string} startstr\n     */\n    DataUtil.startsWith = function (input, start) {\n        return input.slice(0, start.length) === start;\n    };\n    /**\n     * To return the sorting function based on the string.\n     * @param  {string} order\n     * @hidden\n     */\n    DataUtil.fnSort = function (order) {\n        order = order ? order.toLowerCase() : 'ascending';\n        if (order === 'ascending') {\n            return this.fnAscending;\n        }\n        return this.fnDescending;\n    };\n    /**\n     * Comparer function which is used to sort the data in ascending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnAscending = function (x, y) {\n        if (y === null || y === undefined) {\n            return -1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y);\n        }\n        if (x === null || x === undefined) {\n            return 1;\n        }\n        return x - y;\n    };\n    /**\n     * Comparer function which is used to sort the data in descending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnDescending = function (x, y) {\n        if (y === null || y === undefined) {\n            return 1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y) * -1;\n        }\n        if (x === null || x === undefined) {\n            return -1;\n        }\n        return y - x;\n    };\n    DataUtil.extractFields = function (obj, fields) {\n        var newObj = {};\n        if (fields.length === 1) {\n            return this.getObject(fields[0], obj);\n        }\n        for (var i = 0; i < fields.length; i++) {\n            newObj[fields[i].replace('.', '_')] = this.getObject(fields[i], obj);\n        }\n        return newObj;\n    };\n    /**\n     * Select objects by given fields from jsonArray.\n     * @param  {Object[]} jsonArray\n     * @param  {string[]} fields\n     */\n    DataUtil.select = function (jsonArray, fields) {\n        var newData = [];\n        for (var i = 0; i < jsonArray.length; i++) {\n            newData.push(this.extractFields(jsonArray[i], fields));\n        }\n        return newData;\n    };\n    /**\n     * Group the input data based on the field name.\n     * It also performs aggregation of the grouped records based on the aggregates paramater.\n     * @param  {Object[]} jsonArray\n     * @param  {string} field?\n     * @param  {Object[]} agg?\n     * @param  {number} level?\n     * @param  {Object[]} groupDs?\n     */\n    DataUtil.group = function (jsonArray, field, aggregates, level, groupDs, format) {\n        level = level || 1;\n        var jsonData = jsonArray;\n        var guid = 'GroupGuid';\n        if (jsonData.GroupGuid === consts[guid]) {\n            var _loop_1 = function (j) {\n                if (!isNullOrUndefined(groupDs)) {\n                    var indx = -1;\n                    var temp = groupDs.filter(function (e) { return e.key === jsonData[j].key; });\n                    indx = groupDs.indexOf(temp[0]);\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, groupDs[indx].items, format);\n                    jsonData[j].count = groupDs[indx].count;\n                }\n                else {\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, null, format);\n                    jsonData[j].count = jsonData[j].items.length;\n                }\n            };\n            var this_1 = this;\n            for (var j = 0; j < jsonData.length; j++) {\n                _loop_1(j);\n            }\n            jsonData.childLevels += 1;\n            return jsonData;\n        }\n        var grouped = {};\n        var groupedArray = [];\n        groupedArray.GroupGuid = consts[guid];\n        groupedArray.level = level;\n        groupedArray.childLevels = 0;\n        groupedArray.records = jsonData;\n        var _loop_2 = function (i) {\n            var val = this_2.getVal(jsonData, i, field);\n            if (!isNullOrUndefined(format)) {\n                val = format(val, field);\n            }\n            if (!grouped[val]) {\n                grouped[val] = {\n                    key: val,\n                    count: 0,\n                    items: [],\n                    aggregates: {},\n                    field: field\n                };\n                groupedArray.push(grouped[val]);\n                if (!isNullOrUndefined(groupDs)) {\n                    var tempObj = groupDs.filter(function (e) { return e.key === grouped[val].key; });\n                    grouped[val].count = tempObj[0].count;\n                }\n            }\n            grouped[val].count = !isNullOrUndefined(groupDs) ? grouped[val].count : grouped[val].count += 1;\n            grouped[val].items.push(jsonData[i]);\n        };\n        var this_2 = this;\n        for (var i = 0; i < jsonData.length; i++) {\n            _loop_2(i);\n        }\n        if (aggregates && aggregates.length) {\n            var _loop_3 = function (i) {\n                var res = {};\n                var fn = void 0;\n                var aggs = aggregates;\n                for (var j = 0; j < aggregates.length; j++) {\n                    fn = DataUtil.aggregates[aggregates[j].type];\n                    if (!isNullOrUndefined(groupDs)) {\n                        var temp = groupDs.filter(function (e) { return e.key === groupedArray[i].key; });\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(temp[0].items, aggs[j].field);\n                        }\n                    }\n                    else {\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(groupedArray[i].items, aggs[j].field);\n                        }\n                    }\n                }\n                groupedArray[i].aggregates = res;\n            };\n            for (var i = 0; i < groupedArray.length; i++) {\n                _loop_3(i);\n            }\n        }\n        return groupedArray;\n    };\n    /**\n     * It is used to categorize the multiple items based on a specific field in jsonArray.\n     * The hierarchical queries are commonly required when you use foreign key binding.\n     * @param  {string} fKey\n     * @param  {string} from\n     * @param  {Object[]} source\n     * @param  {Group} lookup?\n     * @param  {string} pKey?\n     * @hidden\n     */\n    DataUtil.buildHierarchy = function (fKey, from, source, lookup, pKey) {\n        var i;\n        var grp = {};\n        var temp;\n        if (lookup.result) {\n            lookup = lookup.result;\n        }\n        if (lookup.GroupGuid) {\n            this.throwError('DataManager: Do not have support Grouping in hierarchy');\n        }\n        for (i = 0; i < lookup.length; i++) {\n            var fKeyData = this.getObject(fKey, lookup[i]);\n            temp = grp[fKeyData] || (grp[fKeyData] = []);\n            temp.push(lookup[i]);\n        }\n        for (i = 0; i < source.length; i++) {\n            var fKeyData = this.getObject(pKey || fKey, source[i]);\n            source[i][from] = grp[fKeyData];\n        }\n    };\n    /**\n     * The method used to get the field names which started with specified characters.\n     * @param  {Object} obj\n     * @param  {string[]} fields?\n     * @param  {string} prefix?\n     * @hidden\n     */\n    DataUtil.getFieldList = function (obj, fields, prefix) {\n        if (prefix === undefined) {\n            prefix = '';\n        }\n        if (fields === undefined || fields === null) {\n            return this.getFieldList(obj, [], prefix);\n        }\n        var copyObj = obj;\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var prop = keys_1[_i];\n            if (typeof copyObj[prop] === 'object' && !(copyObj[prop] instanceof Array)) {\n                this.getFieldList(copyObj[prop], fields, prefix + prop + '.');\n            }\n            else {\n                fields.push(prefix + prop);\n            }\n        }\n        return fields;\n    };\n    /**\n     * Gets the value of the property in the given object.\n     * The complex object can be accessed by providing the field names concatenated with dot(.).\n     * @param  {string} nameSpace - The name of the property to be accessed.\n     * @param  {Object} from - Defines the source object.\n     */\n    DataUtil.getObject = function (nameSpace, from) {\n        if (!nameSpace) {\n            return from;\n        }\n        if (nameSpace.indexOf('.') === -1) {\n            return from[nameSpace];\n        }\n        var value = from;\n        var splits = nameSpace.split('.');\n        for (var i = 0; i < splits.length; i++) {\n            if (value == null) {\n                break;\n            }\n            value = value[splits[i]];\n        }\n        return value;\n    };\n    /**\n     * Sort the given data based on the field and comparer.\n     * @param  {Object[]} ds - Defines the input data.\n     * @param  {string} field - Defines the field to be sorted.\n     * @param  {Function} comparer - Defines the comparer function used to sort the records.\n     */\n    DataUtil.sort = function (ds, field, comparer) {\n        if (ds.length <= 1) {\n            return ds;\n        }\n        var middle = parseInt((ds.length / 2).toString(), 10);\n        var left = ds.slice(0, middle);\n        var right = ds.slice(middle);\n        left = this.sort(left, field, comparer);\n        right = this.sort(right, field, comparer);\n        return this.merge(left, right, field, comparer);\n    };\n    DataUtil.merge = function (left, right, fieldName, comparer) {\n        var result = [];\n        var current;\n        while (left.length > 0 || right.length > 0) {\n            if (left.length > 0 && right.length > 0) {\n                if (comparer) {\n                    current = comparer(this.getVal(left, 0, fieldName), this.getVal(right, 0, fieldName)) <= 0 ? left : right;\n                }\n                else {\n                    current = left[0][fieldName] < left[0][fieldName] ? left : right;\n                }\n            }\n            else {\n                current = left.length > 0 ? left : right;\n            }\n            result.push(current.shift());\n        }\n        return result;\n    };\n    DataUtil.getVal = function (array, index, field) {\n        return field ? this.getObject(field, array[index]) : array[index];\n    };\n    DataUtil.toLowerCase = function (val) {\n        return val ? typeof val === 'string' ? val.toLowerCase() : val.toString() : (val === 0 || val === false) ? val.toString() : '';\n    };\n    /**\n     * To perform the filter operation with specified adaptor and returns the result.\n     * @param  {Object} adaptor\n     * @param  {string} fnName\n     * @param  {Object} param1?\n     * @param  {Object} param2?\n     * @hidden\n     */\n    DataUtil.callAdaptorFunction = function (adaptor, fnName, param1, param2) {\n        if (fnName in adaptor) {\n            var res = adaptor[fnName](param1, param2);\n            if (!this.fnOperators.isnull(res)) {\n                param1 = res;\n            }\n        }\n        return param1;\n    };\n    /**\n     * Checks wheather the given input is a plain object or not.\n     * @param  {Object|Object[]} obj\n     */\n    DataUtil.isPlainObject = function (obj) {\n        return (!!obj) && (obj.constructor === Object);\n    };\n    /**\n     * Returns true when the browser cross origin request.\n     */\n    DataUtil.isCors = function () {\n        var xhr = null;\n        var request = 'XMLHttpRequest';\n        try {\n            xhr = new window[request]();\n        }\n        catch (e) {\n            // No exception handling\n        }\n        return !!xhr && ('withCredentials' in xhr);\n    };\n    /**\n     * Generate random GUID value which will be prefixed with the given value.\n     * @param  {string} prefix\n     */\n    DataUtil.getGuid = function (prefix) {\n        var hexs = '0123456789abcdef';\n        var rand;\n        return (prefix || '') + '00000000-0000-4000-0000-000000000000'.replace(/0/g, function (val, i) {\n            if ('crypto' in window && 'getRandomValues' in crypto) {\n                var arr = new Uint8Array(1);\n                window.crypto.getRandomValues(arr);\n                rand = arr[0] % 16 | 0;\n            }\n            else {\n                rand = Math.random() * 16 | 0;\n            }\n            return hexs[i === 19 ? rand & 0x3 | 0x8 : rand];\n        });\n    };\n    /**\n     * Checks wheather the given value is null or not.\n     * @param  {string|Object} val\n     * @returns boolean\n     */\n    DataUtil.isNull = function (val) {\n        return val === undefined || val === null;\n    };\n    /**\n     * To get the required items from collection of objects.\n     * @param  {Object[]} array\n     * @param  {string} field\n     * @param  {Function} comparer\n     * @returns Object\n     * @hidden\n     */\n    DataUtil.getItemFromComparer = function (array, field, comparer) {\n        var keyVal;\n        var current;\n        var key;\n        var i = 0;\n        var castRequired = typeof DataUtil.getVal(array, 0, field) === 'string';\n        if (array.length) {\n            while (isNullOrUndefined(keyVal) && i < array.length) {\n                keyVal = DataUtil.getVal(array, i, field);\n                key = array[i++];\n            }\n        }\n        for (; i < array.length; i++) {\n            current = DataUtil.getVal(array, i, field);\n            if (isNullOrUndefined(current)) {\n                continue;\n            }\n            if (castRequired) {\n                keyVal = +keyVal;\n                current = +current;\n            }\n            if (comparer(keyVal, current) > 0) {\n                keyVal = current;\n                key = array[i];\n            }\n        }\n        return key;\n    };\n    /**\n     * To get distinct values of Array or Array of Objects.\n     * @param  {Object[]} json\n     * @param  {string} field\n     * @param  {boolean} requiresCompleteRecord\n     * @returns Object[]\n     * * distinct array of objects is return when requiresCompleteRecord set as true.\n     * @hidden\n     */\n    DataUtil.distinct = function (json, fieldName, requiresCompleteRecord) {\n        requiresCompleteRecord = isNullOrUndefined(requiresCompleteRecord) ? false : requiresCompleteRecord;\n        var result = [];\n        var val;\n        var tmp = {};\n        json.forEach(function (data, index) {\n            val = DataUtil.getVal(json, index, fieldName);\n            if (!(val in tmp)) {\n                result.push(!requiresCompleteRecord ? val : json[index]);\n                tmp[val] = 1;\n            }\n        });\n        return result;\n    };\n    /**\n     * Specifies the value which will be used to adjust the date value to server timezone.\n     * @default 0\n     */\n    DataUtil.serverTimezoneOffset = 0;\n    /**\n     * Throw error with the given string as message.\n     * @param  {string} er\n     */\n    DataUtil.throwError = function (error) {\n        try {\n            throw new Error(error);\n        }\n        catch (e) {\n            throw e.message + '\\n' + e.stack;\n        }\n    };\n    DataUtil.aggregates = {\n        /**\n         * Calculate sum of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        sum: function (ds, field) {\n            var result = 0;\n            var val;\n            var castRequired = typeof DataUtil.getVal(ds, 0, field) !== 'number';\n            for (var i = 0; i < ds.length; i++) {\n                val = DataUtil.getVal(ds, i, field);\n                if (!isNaN(val) && val !== null) {\n                    if (castRequired) {\n                        val = +val;\n                    }\n                    result += val;\n                }\n            }\n            return result;\n        },\n        /**\n         * Calculate average value of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        average: function (ds, field) {\n            return DataUtil.aggregates.sum(ds, field) / ds.length;\n        },\n        /**\n         * Returns the min value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string|Function} field\n         */\n        min: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnAscending));\n        },\n        /**\n         * Returns the max value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         * @returns number\n         */\n        max: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnDescending));\n        },\n        /**\n         * Returns the total number of true value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        truecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', true, true)).length;\n        },\n        /**\n         * Returns the total number of false value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        falsecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', false, true)).length;\n        },\n        /**\n         * Returns the length of the given data.\n         * @param  {Object[]} ds\n         * @param  {string} field?\n         * @returns number\n         */\n        count: function (ds, field) {\n            return ds.length;\n        }\n    };\n    /**\n     * Specifies the Object with filter operators.\n     */\n    DataUtil.operatorSymbols = {\n        '<': 'lessthan',\n        '>': 'greaterthan',\n        '<=': 'lessthanorequal',\n        '>=': 'greaterthanorequal',\n        '==': 'equal',\n        '!=': 'notequal',\n        '*=': 'contains',\n        '$=': 'endswith',\n        '^=': 'startswith'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * * It will be used for date/number type filter query.\n     */\n    DataUtil.odBiOperator = {\n        '<': ' lt ',\n        '>': ' gt ',\n        '<=': ' le ',\n        '>=': ' ge ',\n        '==': ' eq ',\n        '!=': ' ne ',\n        'lessthan': ' lt ',\n        'lessthanorequal': ' le ',\n        'greaterthan': ' gt ',\n        'greaterthanorequal': ' ge ',\n        'equal': ' eq ',\n        'notequal': ' ne '\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odUniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'substringof',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'substringof'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for ODataV4 filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odv4UniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'contains',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'contains'\n    };\n    DataUtil.fnOperators = {\n        /**\n         * Returns true when the actual input is equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        equal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) === DataUtil.toLowerCase(expected);\n            }\n            return actual === expected;\n        },\n        /**\n         * Returns true when the actual input is not equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        notequal: function (actual, expected, ignoreCase) {\n            return !DataUtil.fnOperators.equal(actual, expected, ignoreCase);\n        },\n        /**\n         * Returns true when the actual input is less than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) < DataUtil.toLowerCase(expected);\n            }\n            return actual < expected;\n        },\n        /**\n         * Returns true when the actual input is greater than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) > DataUtil.toLowerCase(expected);\n            }\n            return actual > expected;\n        },\n        /**\n         * Returns true when the actual input is less than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) <= DataUtil.toLowerCase(expected);\n            }\n            return actual <= expected;\n        },\n        /**\n         * Returns true when the actual input is greater than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) >= DataUtil.toLowerCase(expected);\n            }\n            return actual >= expected;\n        },\n        /**\n         * Returns true when the actual input contains the given string.\n         * @param  {string|number} actual\n         * @param  {string|number} expected\n         * @param  {boolean} ignoreCase?\n         */\n        contains: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                    DataUtil.toLowerCase(actual).indexOf(DataUtil.toLowerCase(expected)) !== -1;\n            }\n            return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                actual.toString().indexOf(expected) !== -1;\n        },\n        /**\n         * Returns true when the given input value is not null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        notnull: function (actual) {\n            return actual !== null;\n        },\n        /**\n         * Returns true when the given input value is null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        isnull: function (actual) {\n            return actual === null;\n        },\n        /**\n         * Returns true when the actual input starts with the given string\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        startswith: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return actual && expected && DataUtil.startsWith(actual.toLowerCase(), expected.toLowerCase());\n            }\n            return actual && expected && DataUtil.startsWith(actual, expected);\n        },\n        /**\n         * Returns true when the actual input ends with the given string.\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        endswith: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return actual && expected && DataUtil.endsWith(actual.toLowerCase(), expected.toLowerCase());\n            }\n            return actual && expected && DataUtil.endsWith(actual, expected);\n        },\n        /**\n         * It will return the filter operator based on the filter symbol.\n         * @param  {string} operator\n         * @hidden\n         */\n        processSymbols: function (operator) {\n            var fnName = DataUtil.operatorSymbols[operator];\n            if (fnName) {\n                var fn = DataUtil.fnOperators[fnName];\n                return fn;\n            }\n            return DataUtil.throwError('Query - Process Operator : Invalid operator');\n        },\n        /**\n         * It will return the valid filter operator based on the specified operators.\n         * @param  {string} operator\n         * @hidden\n         */\n        processOperator: function (operator) {\n            var fn = DataUtil.fnOperators[operator];\n            if (fn) {\n                return fn;\n            }\n            return DataUtil.fnOperators.processSymbols(operator);\n        }\n    };\n    /**\n     * To perform the parse operation on JSON data, like convert to string from JSON or convert to JSON from string.\n     */\n    DataUtil.parse = {\n        /**\n         * Parse the given string to the plain JavaScript object.\n         * @param  {string|Object|Object[]} jsonText\n         */\n        parseJson: function (jsonText) {\n            if (typeof jsonText === 'string') {\n                jsonText = JSON.parse(jsonText, DataUtil.parse.jsonReviver);\n            }\n            else if (jsonText instanceof Array) {\n                DataUtil.parse.iterateAndReviveArray(jsonText);\n            }\n            else if (typeof jsonText === 'object') {\n                DataUtil.parse.iterateAndReviveJson(jsonText);\n            }\n            return jsonText;\n        },\n        /**\n         * It will perform on array of values.\n         * @param  {string[]|Object[]} array\n         * @hidden\n         */\n        iterateAndReviveArray: function (array) {\n            for (var i = 0; i < array.length; i++) {\n                if (typeof array[i] === 'object') {\n                    DataUtil.parse.iterateAndReviveJson(array[i]);\n                }\n                else if (typeof array[i] === 'string' && !/^[\\s]*\\[|^[\\s]*\\{|\\\"/g.test(array[i])) {\n                    array[i] = DataUtil.parse.jsonReviver('', array[i]);\n                }\n                else {\n                    array[i] = DataUtil.parse.parseJson(array[i]);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {JSON} json\n         * @hidden\n         */\n        iterateAndReviveJson: function (json) {\n            var value;\n            var keys = Object.keys(json);\n            for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.startsWith(prop, '__')) {\n                    continue;\n                }\n                value = json[prop];\n                if (typeof value === 'object') {\n                    if (value instanceof Array) {\n                        DataUtil.parse.iterateAndReviveArray(value);\n                    }\n                    else if (value) {\n                        DataUtil.parse.iterateAndReviveJson(value);\n                    }\n                }\n                else {\n                    json[prop] = DataUtil.parse.jsonReviver(json[prop], value);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {string} field\n         * @param  {string|Date} value\n         * @hidden\n         */\n        jsonReviver: function (field, value) {\n            var dupValue = value;\n            if (typeof value === 'string') {\n                var ms = /^\\/Date\\(([+-]?[0-9]+)([+-][0-9]{4})?\\)\\/$/.exec(value);\n                if (ms) {\n                    return DataUtil.parse.jsonReplacer({ value: new Date(parseInt(ms[1], 10)) }, false).value;\n                }\n                else if (/^(\\d{4}\\-\\d\\d\\-\\d\\d([tT][\\d:\\.]*){1})([zZ]|([+\\-])(\\d\\d):?(\\d\\d))?$/.test(value)) {\n                    var arr = dupValue.split(/[^0-9]/);\n                    value = DataUtil.parse.jsonReplacer({\n                        value: new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10), parseInt(arr[3], 10), parseInt(arr[4], 10), parseInt(arr[5], 10))\n                    }, false).value;\n                }\n            }\n            return value;\n        },\n        /**\n         * Check wheather the given value is JSON or not.\n         * @param  {Object[]} jsonData\n         */\n        isJson: function (jsonData) {\n            if (typeof jsonData[0] === 'string') {\n                return jsonData;\n            }\n            return DataUtil.parse.parseJson(jsonData);\n        },\n        /**\n         * Checks wheather the given value is GUID or not.\n         * @param  {string} value\n         */\n        isGuid: function (value) {\n            var regex = /[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i;\n            var match = regex.exec(value);\n            return match != null;\n        },\n        /**\n         * The method used to replace the value based on the type.\n         * @param  {Object} value\n         * @param  {boolean} stringify\n         * @hidden\n         */\n        replacer: function (value, stringify) {\n            if (DataUtil.isPlainObject(value)) {\n                return DataUtil.parse.jsonReplacer(value, stringify);\n            }\n            if (value instanceof Array) {\n                return DataUtil.parse.arrayReplacer(value);\n            }\n            if (value instanceof Date) {\n                return DataUtil.parse.jsonReplacer({ val: value }, stringify).val;\n            }\n            return value;\n        },\n        /**\n         * It will replace the JSON value.\n         * @param  {string} key\n         * @param  {Object} val\n         * @hidden\n         */\n        jsonReplacer: function (val, stringify) {\n            if (stringify === void 0) { stringify = true; }\n            var value;\n            var keys = Object.keys(val);\n            for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n                var prop = keys_3[_i];\n                value = val[prop];\n                if (!(value instanceof Date)) {\n                    continue;\n                }\n                var d = value;\n                var unixstamp = +d - (d.getTimezoneOffset() * 60000);\n                val[prop] = new Date(unixstamp - (DataUtil.serverTimezoneOffset * 3600000));\n                if (stringify) {\n                    val[prop] = val[prop].toJSON();\n                }\n            }\n            return val;\n        },\n        /**\n         * It will replace the Array of value.\n         * @param  {string} key\n         * @param  {Object[]} val\n         * @hidden\n         */\n        arrayReplacer: function (val) {\n            for (var i = 0; i < val.length; i++) {\n                if (DataUtil.isPlainObject(val[i])) {\n                    val[i] = DataUtil.parse.jsonReplacer(val[i]);\n                }\n                else if (val[i] instanceof Date) {\n                    val[i] = DataUtil.parse.jsonReplacer({ date: val[i] }).date;\n                }\n            }\n            return val;\n        }\n    };\n    return DataUtil;\n}());\nexport { DataUtil };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { merge, extend, isNullOrUndefined, setValue, getValue } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query, Predicate } from './query';\n/**\n * Adaptors are specific data source type aware interfaces that are used by DataManager to communicate with DataSource.\n * This is the base adaptor class that other adaptors can extend.\n * @hidden\n */\nvar Adaptor = /** @class */ (function () {\n    /**\n     * Constructor for Adaptor class\n     * @param  {DataOptions} ds?\n     * @hidden\n     * @returns aggregates\n     */\n    function Adaptor(ds) {\n        // common options for all the adaptors \n        this.options = {\n            from: 'table',\n            requestType: 'json',\n            sortBy: 'sorted',\n            select: 'select',\n            skip: 'skip',\n            group: 'group',\n            take: 'take',\n            search: 'search',\n            count: 'requiresCounts',\n            where: 'where',\n            aggregates: 'aggregates'\n        };\n        /**\n         * Specifies the type of adaptor.\n         * @default Adaptor\n         */\n        this.type = Adaptor;\n        this.dataSource = ds;\n        this.pvt = {};\n    }\n    /**\n     * Returns the data from the query processing.\n     * @param  {Object} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @returns Object\n     */\n    Adaptor.prototype.processResponse = function (data, ds, query, xhr) {\n        return data;\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n/**\n * JsonAdaptor is used to process JSON data. It contains methods to process the given JSON data based on the queries.\n * @hidden\n */\nvar JsonAdaptor = /** @class */ (function (_super) {\n    __extends(JsonAdaptor, _super);\n    function JsonAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the JSON data based on the provided queries.\n     * @param  {DataManager} dataManager\n     * @param  {Query} query\n     * @returns Object\n     */\n    JsonAdaptor.prototype.processQuery = function (dataManager, query) {\n        var result = dataManager.dataSource.json.slice(0);\n        var count = result.length;\n        var countFlg = true;\n        var ret;\n        var key;\n        var agg = {};\n        for (var i = 0; i < query.queries.length; i++) {\n            key = query.queries[i];\n            ret = this[key.fn].call(this, result, key.e, query);\n            if (key.fn === 'onAggregates') {\n                agg[key.e.field + ' - ' + key.e.type] = ret;\n            }\n            else {\n                result = ret !== undefined ? ret : result;\n            }\n            if (key.fn === 'onPage' || key.fn === 'onSkip' || key.fn === 'onTake' || key.fn === 'onRange') {\n                countFlg = false;\n            }\n            if (countFlg) {\n                count = result.length;\n            }\n        }\n        if (query.isCountRequired) {\n            result = {\n                result: result,\n                count: count,\n                aggregates: agg\n            };\n        }\n        return result;\n    };\n    /**\n     * Performs batch update in the JSON array which add, remove and update records.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    JsonAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var i;\n        for (i = 0; i < changes.addedRecords.length; i++) {\n            this.insert(dm, changes.addedRecords[i]);\n        }\n        for (i = 0; i < changes.changedRecords.length; i++) {\n            this.update(dm, e.key, changes.changedRecords[i]);\n        }\n        for (i = 0; i < changes.deletedRecords.length; i++) {\n            this.remove(dm, e.key, changes.deletedRecords[i]);\n        }\n        return changes;\n    };\n    /**\n     * Performs filter operation with the given data and where query.\n     * @param  {Object[]} ds\n     * @param  {{validate:Function}} e\n     */\n    JsonAdaptor.prototype.onWhere = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.filter(function (obj) {\n            if (e) {\n                return e.validate(obj);\n            }\n        });\n    };\n    /**\n     * Returns aggregate function based on the aggregate type.\n     * @param  {Object[]} ds\n     * @param  {{field:string} e\n     * @param  {string}} type\n     */\n    JsonAdaptor.prototype.onAggregates = function (ds, e) {\n        var fn = DataUtil.aggregates[e.type];\n        if (!ds || !fn || ds.length === 0) {\n            return null;\n        }\n        return fn(ds, e.field);\n    };\n    /**\n     * Performs search operation based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     */\n    JsonAdaptor.prototype.onSearch = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        if (e.fieldNames.length === 0) {\n            DataUtil.getFieldList(ds[0], e.fieldNames);\n        }\n        return ds.filter(function (obj) {\n            for (var j = 0; j < e.fieldNames.length; j++) {\n                if (e.comparer.call(obj, DataUtil.getObject(e.fieldNames[j], obj), e.searchKey, e.ignoreCase)) {\n                    return true;\n                }\n            }\n            return false;\n        });\n    };\n    /**\n     * Sort the data with given direction and field.\n     * @param  {Object[]} ds\n     * @param  {{comparer:(a:Object} e\n     * @param  {Object} b\n     */\n    JsonAdaptor.prototype.onSortBy = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var fnCompare;\n        var field = DataUtil.getValue(e.fieldName, query);\n        if (!field) {\n            return ds.sort(e.comparer);\n        }\n        if (field instanceof Array) {\n            field = field.slice(0);\n            for (var i = field.length - 1; i >= 0; i--) {\n                if (!field[i]) {\n                    continue;\n                }\n                fnCompare = e.comparer;\n                if (DataUtil.endsWith(field[i], ' desc')) {\n                    fnCompare = DataUtil.fnSort('descending');\n                    field[i] = field[i].replace(' desc', '');\n                }\n                ds = DataUtil.sort(ds, field[i], fnCompare);\n            }\n            return ds;\n        }\n        return DataUtil.sort(ds, field, e.comparer);\n    };\n    /**\n     * Group the data based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onGroup = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var aggQuery = Query.filterQueries(query.queries, 'onAggregates');\n        var agg = [];\n        if (aggQuery.length) {\n            var tmp = void 0;\n            for (var i = 0; i < aggQuery.length; i++) {\n                tmp = aggQuery[i].e;\n                agg.push({ type: tmp.type, field: DataUtil.getValue(tmp.field, query) });\n            }\n        }\n        return DataUtil.group(ds, DataUtil.getValue(e.fieldName, query), agg, null, null, e.comparer);\n    };\n    /**\n     * Retrieves records based on the given page index and size.\n     * @param  {Object[]} ds\n     * @param  {{pageSize:number} e\n     * @param  {number}} pageIndex\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onPage = function (ds, e, query) {\n        var size = DataUtil.getValue(e.pageSize, query);\n        var start = (DataUtil.getValue(e.pageIndex, query) - 1) * size;\n        var end = start + size;\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(start, end);\n    };\n    /**\n     * Retrieves records based on the given start and end index from query.\n     * @param  {Object[]} ds\n     * @param  {{start:number} e\n     * @param  {number}} end\n     */\n    JsonAdaptor.prototype.onRange = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.start), DataUtil.getValue(e.end));\n    };\n    /**\n     * Picks the given count of records from the top of the datasource.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onTake = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(0, DataUtil.getValue(e.nos));\n    };\n    /**\n     * Skips the given count of records from the data source.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onSkip = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.nos));\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {Object[]} ds\n     * @param  {{fieldNames:string}} e\n     */\n    JsonAdaptor.prototype.onSelect = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return DataUtil.select(ds, DataUtil.getValue(e.fieldNames));\n    };\n    /**\n     * Inserts new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {number} position\n     */\n    JsonAdaptor.prototype.insert = function (dm, data, tableName, query, position) {\n        if (isNullOrUndefined(position)) {\n            return dm.dataSource.json.push(data);\n        }\n        else {\n            return dm.dataSource.json.splice(position, 0, data);\n        }\n    };\n    /**\n     * Remove the data from the dataSource based on the key field value.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        if (typeof value === 'object') {\n            value = value[keyField];\n        }\n        for (i = 0; i < ds.length; i++) {\n            if (ds[i][keyField] === value) {\n                break;\n            }\n        }\n        return i !== ds.length ? ds.splice(i, 1) : null;\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        var key = value[keyField];\n        for (i = 0; i < ds.length; i++) {\n            if (ds[i][keyField] === key) {\n                break;\n            }\n        }\n        return i < ds.length ? merge(ds[i], value) : null;\n    };\n    return JsonAdaptor;\n}(Adaptor));\nexport { JsonAdaptor };\n/**\n * URL Adaptor of DataManager can be used when you are required to use remote service to retrieve data.\n * It interacts with server-side for all DataManager Queries and CRUD operations.\n * @hidden\n */\nvar UrlAdaptor = /** @class */ (function (_super) {\n    __extends(UrlAdaptor, _super);\n    function UrlAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the query to generate request body.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns p\n     */\n    UrlAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var params = query.params;\n        var url = dm.dataSource.url;\n        var temp;\n        var skip;\n        var take = null;\n        var options = this.options;\n        var request = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        // calc Paging & Range\n        if ('onPage' in singles) {\n            temp = singles.onPage;\n            skip = DataUtil.getValue(temp.pageIndex, query);\n            take = DataUtil.getValue(temp.pageSize, query);\n            skip = (skip - 1) * take;\n        }\n        else if ('onRange' in singles) {\n            temp = singles.onRange;\n            skip = temp.start;\n            take = temp.end - temp.start;\n        }\n        // Sorting\n        for (var i = 0; i < queries.sorts.length; i++) {\n            temp = DataUtil.getValue(queries.sorts[i].e.fieldName, query);\n            request.sorts.push(DataUtil.callAdaptorFunction(this, 'onEachSort', { name: temp, direction: queries.sorts[i].e.direction }, query));\n        }\n        // hierarchy\n        if (hierarchyFilters) {\n            temp = this.getFiltersFrom(hierarchyFilters, query);\n            if (temp) {\n                request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', temp.toJson(), query));\n            }\n        }\n        // Filters\n        for (var i = 0; i < queries.filters.length; i++) {\n            request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', queries.filters[i].e.toJson(), query));\n            var keys_1 = typeof request.filters[i] === 'object' ? Object.keys(request.filters[i]) : [];\n            for (var _i = 0, keys_2 = keys_1; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.isNull((request)[prop])) {\n                    delete request[prop];\n                }\n            }\n        }\n        // Searches\n        for (var i = 0; i < queries.searches.length; i++) {\n            temp = queries.searches[i].e;\n            request.searches.push(DataUtil.callAdaptorFunction(this, 'onEachSearch', {\n                fields: temp.fieldNames,\n                operator: temp.operator,\n                key: temp.searchKey,\n                ignoreCase: temp.ignoreCase\n            }, query));\n        }\n        // Grouping\n        for (var i = 0; i < queries.groups.length; i++) {\n            request.groups.push(DataUtil.getValue(queries.groups[i].e.fieldName, query));\n        }\n        // aggregates\n        for (var i = 0; i < queries.aggregates.length; i++) {\n            temp = queries.aggregates[i].e;\n            request.aggregates.push({ type: temp.type, field: DataUtil.getValue(temp.field, query) });\n        }\n        var req = {};\n        this.getRequestQuery(options, query, singles, request, req);\n        // Params\n        DataUtil.callAdaptorFunction(this, 'addParams', { dm: dm, query: query, params: params, reqParams: req });\n        // cleanup\n        var keys = Object.keys(req);\n        for (var _a = 0, keys_3 = keys; _a < keys_3.length; _a++) {\n            var prop = keys_3[_a];\n            if (DataUtil.isNull(req[prop]) || req[prop] === '' || req[prop].length === 0) {\n                delete req[prop];\n            }\n        }\n        if (!(options.skip in req && options.take in req) && take !== null) {\n            req[options.skip] = DataUtil.callAdaptorFunction(this, 'onSkip', skip, query);\n            req[options.take] = DataUtil.callAdaptorFunction(this, 'onTake', take, query);\n        }\n        var p = this.pvt;\n        this.pvt = {};\n        if (this.options.requestType === 'json') {\n            return {\n                data: JSON.stringify(req),\n                url: url,\n                pvtData: p,\n                type: 'POST',\n                contentType: 'application/json; charset=utf-8'\n            };\n        }\n        temp = this.convertToQueryString(req, query, dm);\n        temp = (dm.dataSource.url.indexOf('?') !== -1 ? '&' : '/') + temp;\n        return {\n            type: 'GET', url: temp.length ? url.replace(/\\/*$/, temp) : url, pvtData: p\n        };\n    };\n    UrlAdaptor.prototype.getRequestQuery = function (options, query, singles, request, request1) {\n        var param = 'param';\n        var req = request1;\n        req[options.from] = query.fromTable;\n        if (options.expand) {\n            req[options.expand] = query.expands;\n        }\n        req[options.select] = 'onSelect' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onSelect', DataUtil.getValue(singles.onSelect.fieldNames, query), query) : '';\n        req[options.count] = query.isCountRequired ? DataUtil.callAdaptorFunction(this, 'onCount', query.isCountRequired, query) : '';\n        req[options.search] = request.searches.length ? DataUtil.callAdaptorFunction(this, 'onSearch', request.searches, query) : '';\n        req[options.skip] = 'onSkip' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onSkip', DataUtil.getValue(singles.onSkip.nos, query), query) : '';\n        req[options.take] = 'onTake' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onTake', DataUtil.getValue(singles.onTake.nos, query), query) : '';\n        req[options.where] = request.filters.length || request.searches.length ?\n            DataUtil.callAdaptorFunction(this, 'onWhere', request.filters, query) : '';\n        req[options.sortBy] = request.sorts.length ? DataUtil.callAdaptorFunction(this, 'onSortBy', request.sorts, query) : '';\n        req[options.group] = request.groups.length ? DataUtil.callAdaptorFunction(this, 'onGroup', request.groups, query) : '';\n        req[options.aggregates] = request.aggregates.length ?\n            DataUtil.callAdaptorFunction(this, 'onAggregates', request.aggregates, query) : '';\n        req[param] = [];\n    };\n    /**\n     * Convert the object from processQuery to string which can be added query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     */\n    UrlAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        return '';\n        // this needs to be overridden\n    };\n    /**\n     * Return the data from the data manager processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Object} request?\n     * @param  {CrudOptions} changes?\n     */\n    UrlAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var requests = request;\n        var pvt = requests.pvtData || {};\n        var groupDs = data.groupDs;\n        if (xhr && xhr.getResponseHeader('Content-Type') &&\n            xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        var d = JSON.parse(requests.data);\n        if (d && d.action === 'batch' && data.addedRecords) {\n            changes.addedRecords = data.addedRecords;\n            return changes;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        var args = {};\n        if ('count' in data) {\n            args.count = data.count;\n        }\n        args.result = data.result ? data.result : data;\n        this.getAggregateResult(pvt, data, args, groupDs);\n        return DataUtil.isNull(args.count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Add the group query to the adaptor`s option.\n     * @param  {Object[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return e;\n    };\n    /**\n     * Add the aggregate query to the adaptor`s option.\n     * @param  {Aggregates[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {Object} e\n     */\n    UrlAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var url;\n        var key;\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.removeUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify({\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e[url],\n                key: e[key]\n            })\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @returns void\n     */\n    UrlAdaptor.prototype.beforeSend = function (dm, request) {\n        // need to extend this method\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: data,\n                table: tableName,\n                action: 'insert'\n            })\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number|string} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                key: value,\n                keyColumn: keyField,\n                table: tableName,\n                action: 'remove'\n            })\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: value,\n                action: 'update',\n                keyColumn: keyField,\n                key: value[keyField],\n                table: tableName\n            })\n        };\n    };\n    /**\n     * To generate the predicate based on the filtered query.\n     * @param  {Object[]|string[]|number[]} data\n     * @param  {Query} query\n     * @hidden\n     */\n    UrlAdaptor.prototype.getFiltersFrom = function (data, query) {\n        var key = query.fKey;\n        var value;\n        var prop = key;\n        var pKey = query.key;\n        var predicats = [];\n        if (typeof data[0] !== 'object') {\n            prop = null;\n        }\n        for (var i = 0; i < data.length; i++) {\n            if (typeof data[0] === 'object') {\n                value = DataUtil.getObject(pKey || prop, data[i]);\n            }\n            else {\n                value = data[i];\n            }\n            predicats.push(new Predicate(key, 'equal', value));\n        }\n        return Predicate.or(predicats);\n    };\n    UrlAdaptor.prototype.getAggregateResult = function (pvt, data, args, groupDs) {\n        var pData = data;\n        if (data && data.result) {\n            pData = data.result;\n        }\n        if (pvt && pvt.aggregates && pvt.aggregates.length) {\n            var agg = pvt.aggregates;\n            var fn = void 0;\n            var aggregateData = pData;\n            var res = {};\n            if (data.aggregate) {\n                aggregateData = data.aggregate;\n            }\n            for (var i = 0; i < agg.length; i++) {\n                fn = DataUtil.aggregates[agg[i].type];\n                if (fn) {\n                    res[agg[i].field + ' - ' + agg[i].type] = fn(aggregateData, agg[i].field);\n                }\n            }\n            args.aggregates = res;\n        }\n        if (pvt && pvt.groups && pvt.groups.length) {\n            var groups = pvt.groups;\n            for (var i = 0; i < groups.length; i++) {\n                var level = null;\n                if (!isNullOrUndefined(groupDs)) {\n                    groupDs = DataUtil.group(groupDs, groups[i]);\n                }\n                pData = DataUtil.group(pData, groups[i], pvt.aggregates, level, groupDs);\n            }\n            args.result = pData;\n        }\n        return args;\n    };\n    UrlAdaptor.prototype.getQueryRequest = function (query) {\n        var req = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        req.sorts = Query.filterQueries(query.queries, 'onSortBy');\n        req.groups = Query.filterQueries(query.queries, 'onGroup');\n        req.filters = Query.filterQueries(query.queries, 'onWhere');\n        req.searches = Query.filterQueries(query.queries, 'onSearch');\n        req.aggregates = Query.filterQueries(query.queries, 'onAggregates');\n        return req;\n    };\n    UrlAdaptor.prototype.addParams = function (options) {\n        var req = options.reqParams;\n        if (options.params.length) {\n            req.params = {};\n        }\n        for (var _i = 0, _a = options.params; _i < _a.length; _i++) {\n            var tmp = _a[_i];\n            if (req[tmp.key]) {\n                throw new Error('Query() - addParams: Custom Param is conflicting other request arguments');\n            }\n            req[tmp.key] = tmp.value;\n            if (tmp.fn) {\n                req[tmp.key] = tmp.fn.call(options.query, tmp.key, options.query, options.dm);\n            }\n            req.params[tmp.key] = req[tmp.key];\n        }\n    };\n    return UrlAdaptor;\n}(Adaptor));\nexport { UrlAdaptor };\n/**\n * OData Adaptor that is extended from URL Adaptor, is used for consuming data through OData Service.\n * @hidden\n */\nvar ODataAdaptor = /** @class */ (function (_super) {\n    __extends(ODataAdaptor, _super);\n    function ODataAdaptor() {\n        var _this = _super.call(this) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json;odata=light;q=1,application/json;odata=verbose;q=0.5',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$inlinecount',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 '\n        });\n        _this.getModuleName = getValue('getModulename', _this);\n        return _this;\n    }\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var operator;\n        var guid;\n        var val = predicate.value;\n        var type = typeof val;\n        var field = predicate.field ? ODataAdaptor.getField(predicate.field) : null;\n        if (val instanceof Date) {\n            val = 'datetime\\'' + DataUtil.parse.replacer(val) + '\\'';\n        }\n        if (type === 'string') {\n            val = '\\'' + val + '\\'';\n            if (requiresCast) {\n                field = 'cast(' + field + ', \\'Edm.String\\')';\n            }\n            if (DataUtil.parse.isGuid(val)) {\n                guid = 'guid';\n            }\n            if (predicate.ignoreCase) {\n                if (!guid) {\n                    field = 'tolower(' + field + ')';\n                }\n                val = val.toLowerCase();\n            }\n        }\n        operator = DataUtil.odBiOperator[predicate.operator];\n        if (operator) {\n            returnValue += field;\n            returnValue += operator;\n            if (guid) {\n                returnValue += guid;\n            }\n            return returnValue + val;\n        }\n        if (!isNullOrUndefined(this.getModuleName)) {\n            if (this.getModuleName() === 'ODataV4Adaptor') {\n                operator = DataUtil.odv4UniOperator[predicate.operator];\n            }\n        }\n        else {\n            operator = DataUtil.odUniOperator[predicate.operator];\n        }\n        if (operator === 'substringof') {\n            var temp = val;\n            val = field;\n            field = temp;\n        }\n        returnValue += operator + '(';\n        returnValue += field + ',';\n        if (guid) {\n            returnValue += guid;\n        }\n        returnValue += val + ')';\n        return returnValue;\n    };\n    /**\n     * Generate request string based on the multiple filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onComplexPredicate = function (predicate, query, requiresCast) {\n        var res = [];\n        for (var i = 0; i < predicate.predicates.length; i++) {\n            res.push('(' + this.onEachWhere(predicate.predicates[i], query, requiresCast) + ')');\n        }\n        return res.join(' ' + predicate.condition + ' ');\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {Predicate} filter\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onEachWhere = function (filter, query, requiresCast) {\n        return filter.isComplex ? this.onComplexPredicate(filter, query, requiresCast) : this.onPredicate(filter, query, requiresCast);\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {string[]} filters\n     */\n    ODataAdaptor.prototype.onWhere = function (filters) {\n        if (this.pvt.search) {\n            filters.push(this.onEachWhere(this.pvt.search, null, true));\n        }\n        return filters.join(' and ');\n    };\n    /**\n     * Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataAdaptor.prototype.onEachSearch = function (e) {\n        if (e.fields && e.fields.length === 0) {\n            DataUtil.throwError('Query() - Search : oData search requires list of field names to search');\n        }\n        var filter = this.pvt.search || [];\n        for (var i = 0; i < e.fields.length; i++) {\n            filter.push(new Predicate(e.fields[i], e.operator, e.key, e.ignoreCase));\n        }\n        this.pvt.search = filter;\n    };\n    /**\n     * Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataAdaptor.prototype.onSearch = function (e) {\n        this.pvt.search = Predicate.or(this.pvt.search);\n        return '';\n    };\n    /**\n     * Generate query string based on multiple sort criteria from query.\n     * @param  {QueryOptions} e\n     */\n    ODataAdaptor.prototype.onEachSort = function (e) {\n        var res = [];\n        if (e.name instanceof Array) {\n            for (var i = 0; i < e.name.length; i++) {\n                res.push(ODataAdaptor.getField(e.name[i]) + (e.direction === 'descending' ? ' desc' : ''));\n            }\n        }\n        else {\n            res.push(ODataAdaptor.getField(e.name) + (e.direction === 'descending' ? ' desc' : ''));\n        }\n        return res.join(',');\n    };\n    /**\n     * Returns sort query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSortBy = function (e) {\n        return e.reverse().join(',');\n    };\n    /**\n     * Adds the group query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return [];\n    };\n    /**\n     * Returns the select query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSelect = function (e) {\n        for (var i = 0; i < e.length; i++) {\n            e[i] = ODataAdaptor.getField(e[i]);\n        }\n        return e.join(',');\n    };\n    /**\n     * Add the aggregate query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n        return '';\n    };\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onCount = function (e) {\n        return e === true ? 'allpages' : '';\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    ODataAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.options.multipartAccept);\n            request.setRequestHeader('DataServiceVersion', '2.0');\n            request.overrideMimeType('text/plain; charset=x-user-defined');\n        }\n        else {\n            request.setRequestHeader('Accept', this.options.accept);\n        }\n        request.setRequestHeader('DataServiceVersion', '2.0');\n        request.setRequestHeader('MaxDataServiceVersion', '2.0');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        if (!isNullOrUndefined(data.d)) {\n            var dataCopy = ((query && query.isCountRequired) ? data.d.results : data.d);\n            var metaData = '__metadata';\n            if (!isNullOrUndefined(dataCopy)) {\n                for (var i = 0; i < dataCopy.length; i++) {\n                    if (!isNullOrUndefined(dataCopy[i][metaData])) {\n                        delete dataCopy[i][metaData];\n                    }\n                }\n            }\n        }\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = this.processBatchResponse(data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n        var count = null;\n        var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n        if (query && query.isCountRequired) {\n            var oDataCount = '__count';\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n            if (data.d) {\n                data = data.d;\n            }\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n        }\n        if (version === 3 && data.value) {\n            data = data.value;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        if (version < 3 && data.results) {\n            data = data.results;\n        }\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Converts the request object to query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     * @returns tableName\n     */\n    ODataAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        var res = [];\n        var table = 'table';\n        var tableName = request[table] || '';\n        var format = '$format';\n        delete request[table];\n        if (dm.dataSource.requiresFormat) {\n            request[format] = 'json';\n        }\n        var keys = Object.keys(request);\n        for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\n            var prop = keys_4[_i];\n            res.push(prop + '=' + request[prop]);\n        }\n        res = res.join('&');\n        if (dm.dataSource.url && dm.dataSource.url.indexOf('?') !== -1 && !tableName) {\n            return res;\n        }\n        return res.length ? tableName + '?' + res : tableName || '';\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : ''),\n            data: JSON.stringify(data)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : '') + '(' + value + ')'\n        };\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns this\n     */\n    ODataAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'PUT',\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : '') + '(' + value[keyField] + ')',\n            data: JSON.stringify(value),\n            accept: this.options.accept\n        };\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     * @returns {Object}\n     */\n    ODataAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var initialGuid = e.guid = DataUtil.getGuid(this.options.batchPre);\n        var url = dm.dataSource.url.replace(/\\/*$/, '/' + this.options.batch);\n        var args = {\n            url: e.url,\n            key: e.key,\n            cid: 1,\n            cSet: DataUtil.getGuid(this.options.changeSet)\n        };\n        var req = '--' + initialGuid + '\\n';\n        req += 'Content-Type: multipart/mixed; boundary=' + args.cSet.replace('--', '') + '\\n';\n        this.pvt.changeSet = 0;\n        req += this.generateInsertRequest(changes.addedRecords, args);\n        req += this.generateUpdateRequest(changes.changedRecords, args);\n        req += this.generateDeleteRequest(changes.deletedRecords, args);\n        req += args.cSet + '--\\n';\n        req += '--' + initialGuid + '--';\n        return {\n            type: 'POST',\n            url: url,\n            dataType: 'json',\n            contentType: 'multipart/mixed; charset=UTF-8;boundary=' + initialGuid,\n            data: req\n        };\n    };\n    /**\n     * Generate the string content from the removed records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     * @returns this\n     */\n    ODataAdaptor.prototype.generateDeleteRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'DELETE ',\n            'url': function (data, i, key) { return '(' + data[i][key] + ')'; },\n            'data': function (data, i) { return ''; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req + '\\n';\n    };\n    /**\n     * Generate the string content from the inserted records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateInsertRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'POST ',\n            'url': function (data, i, key) { return ''; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req;\n    };\n    /**\n     * Generate the string content from the updated records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateUpdateRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'PUT ',\n            'url': function (data, i, key) { return '(' + data[i][key] + ')'; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req;\n    };\n    ODataAdaptor.getField = function (prop) {\n        return prop.replace(/\\./g, '/');\n    };\n    ODataAdaptor.prototype.generateBodyContent = function (arr, e, stat) {\n        var req = '';\n        for (var i = 0; i < arr.length; i++) {\n            req += '\\n' + e.cSet + '\\n';\n            req += this.options.changeSetContent + '\\n\\n';\n            req += stat.method;\n            req += e.url + stat.url(arr, i, e.key) + ' HTTP/1.1\\n';\n            req += 'Accept: ' + this.options.accept + '\\n';\n            req += 'Content-Id: ' + this.pvt.changeSet++ + '\\n';\n            req += this.options.batchChangeSetContentType + '\\n\\n';\n            req += stat.data(arr, i);\n        }\n        return req;\n    };\n    ODataAdaptor.prototype.processBatchResponse = function (data, query, xhr, request, changes) {\n        if (xhr && xhr.getResponseHeader('Content-Type') && xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        if (request && this.options.batch && DataUtil.endsWith(request.url, this.options.batch) && request.type.toLowerCase() === 'post') {\n            var guid = xhr.getResponseHeader('Content-Type');\n            var cIdx = void 0;\n            var jsonObj = void 0;\n            var d = data + '';\n            guid = guid.substring(guid.indexOf('=batchresponse') + 1);\n            d = d.split(guid);\n            if (d.length < 2) {\n                return {};\n            }\n            d = d[1];\n            var exVal = /(?:\\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(d);\n            if (exVal) {\n                d.replace(exVal[0], '');\n            }\n            var changeGuid = exVal ? exVal[1] : '';\n            d = d.split(changeGuid);\n            for (var i = d.length; i > -1; i--) {\n                if (!/\\bContent-ID:/i.test(d[i]) || !/\\bHTTP.+201/.test(d[i])) {\n                    continue;\n                }\n                cIdx = parseInt(/\\bContent-ID: (\\d+)/i.exec(d[i])[1], 10);\n                if (changes.addedRecords[cIdx]) {\n                    jsonObj = DataUtil.parse.parseJson(/^\\{.+\\}/m.exec(d[i])[0]);\n                    extend({}, changes.addedRecords[cIdx], this.processResponse(jsonObj));\n                }\n            }\n            return changes;\n        }\n        return null;\n    };\n    return ODataAdaptor;\n}(UrlAdaptor));\nexport { ODataAdaptor };\n/**\n * The OData v4 is an improved version of OData protocols.\n * The DataManager uses the ODataV4Adaptor to consume OData v4 services.\n * @hidden\n */\nvar ODataV4Adaptor = /** @class */ (function (_super) {\n    __extends(ODataV4Adaptor, _super);\n    function ODataV4Adaptor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json, text/javascript, */*; q=0.01',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$count',\n            search: '$search',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 '\n        });\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    ODataV4Adaptor.prototype.getModulename = function () {\n        return 'ODataV4Adaptor';\n    };\n    ;\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataV4Adaptor.prototype.onCount = function (e) {\n        return e === true ? 'true' : '';\n    };\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataV4Adaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var val = predicate.value;\n        var isDate = val instanceof Date;\n        returnValue = _super.prototype.onPredicate.call(this, predicate, query, requiresCast);\n        if (isDate) {\n            returnValue = returnValue.replace(/datetime'(.*)'$/, '$1');\n        }\n        return returnValue;\n    };\n    /**\n     *  Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataV4Adaptor.prototype.onEachSearch = function (e) {\n        var search = this.pvt.searches || [];\n        search.push(e.key);\n        this.pvt.searches = search;\n    };\n    /**\n     *  Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataV4Adaptor.prototype.onSearch = function (e) {\n        return this.pvt.searches.join(' OR ');\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    ODataV4Adaptor.prototype.beforeSend = function (dm, request, settings) {\n        request.setRequestHeader('Accept', this.options.accept);\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataV4Adaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = _super.prototype.processBatchResponse.call(this, data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var count = null;\n        var dataCount = '@odata.count';\n        if (query && query.isCountRequired) {\n            if (dataCount in data) {\n                count = data[dataCount];\n            }\n        }\n        data = data.value;\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: count, aggregates: args.aggregates };\n    };\n    return ODataV4Adaptor;\n}(ODataAdaptor));\nexport { ODataV4Adaptor };\n/**\n * The Web API is a programmatic interface to define the request and response messages system that is mostly exposed in JSON or XML.\n * The DataManager uses the WebApiAdaptor to consume Web API.\n * Since this adaptor is targeted to interact with Web API created using OData endpoint, it is extended from ODataAdaptor\n * @hidden\n */\nvar WebApiAdaptor = /** @class */ (function (_super) {\n    __extends(WebApiAdaptor, _super);\n    function WebApiAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.url,\n            data: JSON.stringify(data)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url + '/' + value,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'PUT',\n            url: dm.dataSource.url,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    WebApiAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        request.setRequestHeader('Accept', 'application/json, text/javascript, */*; q=0.01');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    WebApiAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var count = null;\n        var args = {};\n        if (request && request.type.toLowerCase() !== 'post') {\n            var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n            var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n            if (query && query.isCountRequired) {\n                if (!DataUtil.isNull(data.Count)) {\n                    count = data.Count;\n                }\n            }\n            if (version < 3 && data.Items) {\n                data = data.Items;\n            }\n            args.count = count;\n            args.result = data;\n            this.getAggregateResult(pvt, data, args);\n        }\n        args.result = args.result || data;\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    return WebApiAdaptor;\n}(ODataAdaptor));\nexport { WebApiAdaptor };\n/**\n * WebMethodAdaptor can be used by DataManager to interact with web method.\n * @hidden\n */\nvar WebMethodAdaptor = /** @class */ (function (_super) {\n    __extends(WebMethodAdaptor, _super);\n    function WebMethodAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare the request body based on the query.\n     * The query information can be accessed at the WebMethod using variable named `value`.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns application\n     */\n    WebMethodAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var obj = new UrlAdaptor().processQuery(dm, query, hierarchyFilters);\n        var getData = 'data';\n        var data = DataUtil.parse.parseJson(obj[getData]);\n        var result = {};\n        var value = 'value';\n        if (data.param) {\n            for (var i = 0; i < data.param.length; i++) {\n                var param = data.param[i];\n                var key = Object.keys(param)[0];\n                result[key] = param[key];\n            }\n        }\n        result[value] = data;\n        var pvtData = 'pvtData';\n        var url = 'url';\n        return {\n            data: JSON.stringify(result),\n            url: obj[url],\n            pvtData: obj[pvtData],\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8'\n        };\n    };\n    return WebMethodAdaptor;\n}(UrlAdaptor));\nexport { WebMethodAdaptor };\n/**\n * RemoteSaveAdaptor, extended from JsonAdaptor and it is used for binding local data and performs all DataManager queries in client-side.\n * It interacts with server-side only for CRUD operations.\n * @hidden\n */\nvar RemoteSaveAdaptor = /** @class */ (function (_super) {\n    __extends(RemoteSaveAdaptor, _super);\n    /**\n     * @hidden\n     */\n    function RemoteSaveAdaptor() {\n        var _this = _super.call(this) || this;\n        setValue('beforeSend', UrlAdaptor.prototype.beforeSend, _this);\n        setValue('insert', UrlAdaptor.prototype.insert, _this);\n        setValue('update', UrlAdaptor.prototype.update, _this);\n        setValue('remove', UrlAdaptor.prototype.remove, _this);\n        return _this;\n    }\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * Also perform the changes in the locally cached data to sync with the remote data.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    RemoteSaveAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var i;\n        for (i = 0; i < changes.addedRecords.length; i++) {\n            JsonAdaptor.prototype.insert(dm, changes.addedRecords[i]);\n        }\n        for (i = 0; i < changes.changedRecords.length; i++) {\n            JsonAdaptor.prototype.update(dm, e.key, changes.changedRecords[i]);\n        }\n        for (i = 0; i < changes.deletedRecords.length; i++) {\n            JsonAdaptor.prototype.remove(dm, e.key, changes.deletedRecords[i]);\n        }\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify({\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e.url,\n                key: e.key\n            })\n        };\n    };\n    return RemoteSaveAdaptor;\n}(JsonAdaptor));\nexport { RemoteSaveAdaptor };\n/**\n * Cache Adaptor is used to cache the data of the visited pages. It prevents new requests for the previously visited pages.\n * You can configure cache page size and duration of caching by using cachingPageSize and timeTillExpiration properties of the DataManager\n * @hidden\n */\nvar CacheAdaptor = /** @class */ (function (_super) {\n    __extends(CacheAdaptor, _super);\n    /**\n     * Constructor for CacheAdaptor class.\n     * @param  {CacheAdaptor} adaptor?\n     * @param  {number} timeStamp?\n     * @param  {number} pageSize?\n     * @hidden\n     */\n    function CacheAdaptor(adaptor, timeStamp, pageSize) {\n        var _this = _super.call(this) || this;\n        _this.isCrudAction = false;\n        _this.isInsertAction = false;\n        if (!isNullOrUndefined(adaptor)) {\n            _this.cacheAdaptor = adaptor;\n        }\n        _this.pageSize = pageSize;\n        _this.guidId = DataUtil.getGuid('cacheAdaptor');\n        var obj = { keys: [], results: [] };\n        window.localStorage.setItem(_this.guidId, JSON.stringify(obj));\n        var guid = _this.guidId;\n        if (!isNullOrUndefined(timeStamp)) {\n            setInterval(function () {\n                var data;\n                data = DataUtil.parse.parseJson(window.localStorage.getItem(guid));\n                var forDel = [];\n                for (var i = 0; i < data.results.length; i++) {\n                    var currentTime = +new Date();\n                    var requestTime = +new Date(data.results[i].timeStamp);\n                    data.results[i].timeStamp = currentTime - requestTime;\n                    if (currentTime - requestTime > timeStamp) {\n                        forDel.push(i);\n                    }\n                }\n                for (var i = 0; i < forDel.length; i++) {\n                    data.results.splice(forDel[i], 1);\n                    data.keys.splice(forDel[i], 1);\n                }\n                window.localStorage.removeItem(guid);\n                window.localStorage.setItem(guid, JSON.stringify(data));\n            }, timeStamp);\n        }\n        return _this;\n    }\n    /**\n     * It will generate the key based on the URL when we send a request to server.\n     * @param  {string} url\n     * @param  {Query} query?\n     * @hidden\n     */\n    CacheAdaptor.prototype.generateKey = function (url, query) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var key = url;\n        var page = 'onPage';\n        if (page in singles) {\n            key += singles[page].pageIndex;\n        }\n        queries.sorts.forEach(function (obj) {\n            key += obj.e.direction + obj.e.fieldName;\n        });\n        queries.groups.forEach(function (obj) {\n            key += obj.e.fieldName;\n        });\n        queries.searches.forEach(function (obj) {\n            key += obj.e.searchKey;\n        });\n        for (var filter = 0; filter < queries.filters.length; filter++) {\n            var currentFilter = queries.filters[filter];\n            if (currentFilter.e.isComplex) {\n                var newQuery = query.clone();\n                newQuery.queries = [];\n                for (var i = 0; i < currentFilter.e.predicates.length; i++) {\n                    newQuery.queries.push({ fn: 'onWhere', e: currentFilter.e.predicates[i], filter: query.queries.filter });\n                }\n                key += currentFilter.e.condition + this.generateKey(url, newQuery);\n            }\n            else {\n                key += currentFilter.e.field + currentFilter.e.operator + currentFilter.e.value;\n            }\n        }\n        return key;\n    };\n    /**\n     * Process the query to generate request body.\n     * If the data is already cached, it will return the cached data.\n     * @param  {DataManager} dm\n     * @param  {Query} query?\n     * @param  {Object[]} hierarchyFilters?\n     */\n    CacheAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var key = this.generateKey(dm.dataSource.url, query);\n        var cachedItems;\n        cachedItems = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var data = cachedItems ? cachedItems.results[cachedItems.keys.indexOf(key)] : null;\n        if (data != null && !this.isCrudAction && !this.isInsertAction) {\n            return data;\n        }\n        this.isCrudAction = null;\n        this.isInsertAction = null;\n        return this.cacheAdaptor.processQuery.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n    };\n    /**\n     * Returns the data from the query processing.\n     * It will also cache the data for later usage.\n     * @param  {DataResult} data\n     * @param  {DataManager} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     */\n    CacheAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        if (this.isInsertAction || (request && this.cacheAdaptor.options.batch &&\n            DataUtil.endsWith(request.url, this.cacheAdaptor.options.batch) && request.type.toLowerCase() === 'post')) {\n            return this.cacheAdaptor.processResponse(data, ds, query, xhr, request, changes);\n        }\n        data = this.cacheAdaptor.processResponse.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n        var key = query ? this.generateKey(ds.dataSource.url, query) : ds.dataSource.url;\n        var obj = {};\n        obj = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var index = obj.keys.indexOf(key);\n        if (index !== -1) {\n            obj.results.splice(index, 1);\n            obj.keys.splice(index, 1);\n        }\n        obj.results[obj.keys.push(key) - 1] = { keys: key, result: data.result, timeStamp: new Date(), count: data.count };\n        while (obj.results.length > this.pageSize) {\n            obj.results.splice(0, 1);\n            obj.keys.splice(0, 1);\n        }\n        window.localStorage.setItem(this.guidId, JSON.stringify(obj));\n        return data;\n    };\n    /**\n     * Method will trigger before send the request to server side. Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    CacheAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.cacheAdaptor.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.multipartAccept);\n        }\n        if (!dm.dataSource.crossDomain) {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.accept);\n        }\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    CacheAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.update(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.insert = function (dm, data, tableName) {\n        this.isInsertAction = true;\n        return this.cacheAdaptor.insert(dm, data, tableName);\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.remove(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    CacheAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        return this.cacheAdaptor.batchRequest(dm, changes, e);\n    };\n    return CacheAdaptor;\n}(UrlAdaptor));\nexport { CacheAdaptor };\n","import { Ajax } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query } from './query';\nimport { ODataAdaptor, JsonAdaptor, CacheAdaptor, RemoteSaveAdaptor } from './adaptors';\n/**\n * DataManager is used to manage and manipulate relational data.\n */\nvar DataManager = /** @class */ (function () {\n    /**\n     * Constructor for DataManager class\n     * @param  {DataOptions|JSON[]} dataSource?\n     * @param  {Query} query?\n     * @param  {AdaptorOptions|string} adaptor?\n     * @hidden\n     */\n    function DataManager(dataSource, query, adaptor) {\n        var _this = this;\n        /** @hidden */\n        this.dateParse = true;\n        this.requests = [];\n        if (!dataSource && !this.dataSource) {\n            dataSource = [];\n        }\n        adaptor = adaptor || dataSource.adaptor;\n        var data;\n        if (dataSource instanceof Array) {\n            data = {\n                json: dataSource,\n                offline: true\n            };\n        }\n        else if (typeof dataSource === 'object') {\n            if (!dataSource.json) {\n                dataSource.json = [];\n            }\n            data = {\n                url: dataSource.url,\n                insertUrl: dataSource.insertUrl,\n                removeUrl: dataSource.removeUrl,\n                updateUrl: dataSource.updateUrl,\n                crudUrl: dataSource.crudUrl,\n                batchUrl: dataSource.batchUrl,\n                json: dataSource.json,\n                headers: dataSource.headers,\n                accept: dataSource.accept,\n                data: dataSource.data,\n                timeTillExpiration: dataSource.timeTillExpiration,\n                cachingPageSize: dataSource.cachingPageSize,\n                enableCaching: dataSource.enableCaching,\n                requestType: dataSource.requestType,\n                key: dataSource.key,\n                crossDomain: dataSource.crossDomain,\n                jsonp: dataSource.jsonp,\n                dataType: dataSource.dataType,\n                offline: dataSource.offline !== undefined ? dataSource.offline\n                    : dataSource.adaptor instanceof RemoteSaveAdaptor ? false : dataSource.url ? false : true,\n                requiresFormat: dataSource.requiresFormat\n            };\n        }\n        else {\n            DataUtil.throwError('DataManager: Invalid arguments');\n        }\n        if (data.requiresFormat === undefined && !DataUtil.isCors()) {\n            data.requiresFormat = isNullOrUndefined(data.crossDomain) ? true : data.crossDomain;\n        }\n        if (data.dataType === undefined) {\n            data.dataType = 'json';\n        }\n        this.dataSource = data;\n        this.defaultQuery = query;\n        if (data.url && data.offline && !data.json.length) {\n            this.isDataAvailable = false;\n            this.adaptor = adaptor || new ODataAdaptor();\n            this.dataSource.offline = false;\n            this.ready = this.executeQuery(query || new Query());\n            this.ready.then(function (e) {\n                _this.dataSource.offline = true;\n                _this.isDataAvailable = true;\n                data.json = e.result;\n                _this.adaptor = new JsonAdaptor();\n            });\n        }\n        else {\n            this.adaptor = data.offline ? new JsonAdaptor() : new ODataAdaptor();\n        }\n        if (!data.jsonp && this.adaptor instanceof ODataAdaptor) {\n            data.jsonp = 'callback';\n        }\n        this.adaptor = adaptor || this.adaptor;\n        if (data.enableCaching) {\n            this.adaptor = new CacheAdaptor(this.adaptor, data.timeTillExpiration, data.cachingPageSize);\n        }\n        return this;\n    }\n    /**\n     * Overrides DataManager's default query with given query.\n     * @param  {Query} query - Defines the new default query.\n     */\n    DataManager.prototype.setDefaultQuery = function (query) {\n        this.defaultQuery = query;\n        return this;\n    };\n    /**\n     * Executes the given query with local data source.\n     * @param  {Query} query - Defines the query to retrieve data.\n     */\n    DataManager.prototype.executeLocal = function (query) {\n        if (!this.defaultQuery && !(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeLocal() : A query is required to execute');\n        }\n        if (!this.dataSource.json) {\n            DataUtil.throwError('DataManager - executeLocal() : Json data is required to execute');\n        }\n        query = query || this.defaultQuery;\n        var result = this.adaptor.processQuery(this, query);\n        if (query.subQuery) {\n            var from = query.subQuery.fromTable;\n            var lookup = query.subQuery.lookups;\n            var res = query.isCountRequired ? result.result :\n                result;\n            if (lookup && lookup instanceof Array) {\n                DataUtil.buildHierarchy(query.subQuery.fKey, from, res, lookup, query.subQuery.key);\n            }\n            for (var j = 0; j < res.length; j++) {\n                if (res[j][from] instanceof Array) {\n                    res[j] = extend({}, {}, res[j]);\n                    res[j][from] = this.adaptor.processResponse(query.subQuery.using(new DataManager(res[j][from].slice(0))).executeLocal(), this, query);\n                }\n            }\n        }\n        return this.adaptor.processResponse(result, this, query);\n    };\n    /**\n     * Executes the given query with either local or remote data source.\n     * It will be executed as asynchronously and returns Promise object which will be resolved or rejected after action completed.\n     * @param  {Query|Function} query - Defines the query to retrieve data.\n     * @param  {Function} done - Defines the callback function and triggers when the Promise is resolved.\n     * @param  {Function} fail - Defines the callback function and triggers when the Promise is rejected.\n     * @param  {Function} always - Defines the callback function and triggers when the Promise is resolved or rejected.\n     */\n    DataManager.prototype.executeQuery = function (query, done, fail, always) {\n        var _this = this;\n        if (typeof query === 'function') {\n            always = fail;\n            fail = done;\n            done = query;\n            query = null;\n        }\n        if (!query) {\n            query = this.defaultQuery;\n        }\n        if (!(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeQuery() : A query is required to execute');\n        }\n        var deffered = new Deferred();\n        var args = { query: query };\n        if (!this.dataSource.offline && this.dataSource.url !== undefined) {\n            var result = this.adaptor.processQuery(this, query);\n            this.makeRequest(result, deffered, args, query);\n        }\n        else {\n            DataManager.nextTick(function () {\n                var res = _this.executeLocal(query);\n                args = DataManager.getDeferedArgs(query, res, args);\n                deffered.resolve(args);\n            });\n        }\n        return deffered.promise;\n    };\n    DataManager.getDeferedArgs = function (query, result, args) {\n        if (query.isCountRequired) {\n            args.result = result.result;\n            args.count = result.count;\n            args.aggregates = result.aggregates;\n        }\n        else {\n            args.result = result;\n        }\n        return args;\n    };\n    DataManager.nextTick = function (fn) {\n        (window.setImmediate || window.setTimeout)(fn, 0);\n    };\n    DataManager.prototype.extendRequest = function (url, fnSuccess, fnFail) {\n        return extend({}, {\n            type: 'GET',\n            dataType: this.dataSource.dataType,\n            crossDomain: this.dataSource.crossDomain,\n            jsonp: this.dataSource.jsonp,\n            cache: true,\n            processData: false,\n            onSuccess: fnSuccess,\n            onFailure: fnFail\n        }, url);\n    };\n    DataManager.prototype.makeRequest = function (url, deffered, args, query) {\n        var _this = this;\n        var isSelector = !!query.subQuerySelector;\n        var fnFail = function (e) {\n            args.error = e;\n            deffered.reject(args);\n        };\n        var process = function (data, count, xhr, request, actual, aggregates, virtualSelectRecords) {\n            args.xhr = xhr;\n            args.count = count ? parseInt(count.toString(), 10) : 0;\n            args.result = data;\n            args.request = request;\n            args.aggregates = aggregates;\n            args.actual = actual;\n            args.virtualSelectRecords = virtualSelectRecords;\n            deffered.resolve(args);\n        };\n        var fnQueryChild = function (data, selector) {\n            var subDeffer = new Deferred();\n            var childArgs = { parent: args };\n            query.subQuery.isChild = true;\n            var subUrl = _this.adaptor.processQuery(_this, query.subQuery, data ? _this.adaptor.processResponse(data) : selector);\n            var childReq = _this.makeRequest(subUrl, subDeffer, childArgs, query.subQuery);\n            if (!isSelector) {\n                subDeffer.then(function (subData) {\n                    if (data) {\n                        DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, data, subData, query.subQuery.key);\n                        process(data, subData.count, subData.xhr);\n                    }\n                }, fnFail);\n            }\n            return childReq;\n        };\n        var fnSuccess = function (data, request) {\n            if (request.httpRequest.getResponseHeader('Content-Type').indexOf('xml') === -1 && _this.dateParse) {\n                data = DataUtil.parse.parseJson(data);\n            }\n            var result = _this.adaptor.processResponse(data, _this, query, request.httpRequest, request);\n            var count = 0;\n            var aggregates = null;\n            var virtualSelectRecords = 'virtualSelectRecords';\n            var virtualRecords = data[virtualSelectRecords];\n            if (query.isCountRequired) {\n                count = result.count;\n                aggregates = result.aggregates;\n                result = result.result;\n            }\n            if (!query.subQuery) {\n                process(result, count, request.httpRequest, request.type, data, aggregates, virtualRecords);\n                return;\n            }\n            if (!isSelector) {\n                fnQueryChild(result, request);\n            }\n        };\n        var req = this.extendRequest(url, fnSuccess, fnFail);\n        var ajax = new Ajax(req);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        req = ajax.send();\n        req.catch(function (e) { return true; }); // to handle failure remote requests.        \n        this.requests.push(ajax);\n        if (isSelector) {\n            var promise = void 0;\n            var res = query.subQuerySelector.call(this, { query: query.subQuery, parent: query });\n            if (res && res.length) {\n                promise = Promise.all([req, fnQueryChild(null, res)]);\n                promise.then(function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var result = args[0];\n                    var pResult = _this.adaptor.processResponse(result[0], _this, query, _this.requests[0].httpRequest, _this.requests[0]);\n                    var count = 0;\n                    if (query.isCountRequired) {\n                        count = pResult.count;\n                        pResult = pResult.result;\n                    }\n                    var cResult = _this.adaptor.processResponse(result[1], _this, query.subQuery, _this.requests[1].httpRequest, _this.requests[1]);\n                    count = 0;\n                    if (query.subQuery.isCountRequired) {\n                        count = cResult.count;\n                        cResult = cResult.result;\n                    }\n                    DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, pResult, cResult, query.subQuery.key);\n                    isSelector = false;\n                    process(pResult, count, _this.requests[0].httpRequest);\n                });\n            }\n            else {\n                isSelector = false;\n            }\n        }\n        return req;\n    };\n    DataManager.prototype.beforeSend = function (request, settings) {\n        this.adaptor.beforeSend(this, request, settings);\n        var headers = this.dataSource.headers;\n        var props;\n        for (var i = 0; headers && i < headers.length; i++) {\n            props = [];\n            var keys = Object.keys(headers[i]);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var prop = keys_1[_i];\n                props.push(prop);\n                request.setRequestHeader(prop, headers[i][prop]);\n            }\n        }\n    };\n    /**\n     * Save bulk changes to the given table name.\n     * User can add a new record, edit an existing record, and delete a record at the same time.\n     * If the datasource from remote, then updated in a single post.\n     * @param  {Object} changes - Defines the CrudOptions.\n     * @param  {string} key - Defines the column field.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.saveChanges = function (changes, key, tableName, query) {\n        var _this = this;\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var args = {\n            url: tableName,\n            key: key || this.dataSource.key\n        };\n        var req = this.adaptor.batchRequest(this, changes, args, query);\n        if (this.dataSource.offline) {\n            return req;\n        }\n        var deff = new Deferred();\n        var ajax = new Ajax(req);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        ajax.onSuccess = function (data, request) {\n            deff.resolve(_this, [_this.adaptor.processResponse(data, _this, null, request.httpRequest, request, changes)]);\n        };\n        ajax.onFailure = function (e) {\n            deff.reject([{ error: e }]);\n        };\n        ajax.send().catch(function (e) { return true; }); // to handle the failure requests.        \n        return deff.promise;\n    };\n    /**\n     * Inserts new record in the given table.\n     * @param  {Object} data - Defines the data to insert.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.insert = function (data, tableName, query, position) {\n        data = DataUtil.parse.replacer(data);\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var req = this.adaptor.insert(this, data, tableName, query, position);\n        if (this.dataSource.offline) {\n            return req;\n        }\n        return this.doAjaxRequest(req);\n    };\n    /**\n     * Removes data from the table with the given key.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.remove = function (keyField, value, tableName, query) {\n        if (typeof value === 'object') {\n            value = value[keyField];\n        }\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.remove(this, keyField, value, tableName, query);\n        if (this.dataSource.offline) {\n            return res;\n        }\n        return this.doAjaxRequest(res);\n    };\n    /**\n     * Updates existing record in the given table.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.update = function (keyField, value, tableName, query) {\n        value = DataUtil.parse.replacer(value, !this.dataSource.offline);\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.update(this, keyField, value, tableName, query);\n        if (this.dataSource.offline) {\n            return res;\n        }\n        return this.doAjaxRequest(res);\n    };\n    DataManager.prototype.doAjaxRequest = function (res) {\n        var _this = this;\n        var defer = new Deferred();\n        res = extend({}, {\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8',\n            processData: false\n        }, res);\n        var ajax = new Ajax(res);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        ajax.onSuccess = function (record, request) {\n            try {\n                DataUtil.parse.parseJson(record);\n            }\n            catch (e) {\n                record = [];\n            }\n            record = _this.adaptor.processResponse(DataUtil.parse.parseJson(record), _this, null, request.httpRequest, request);\n            defer.resolve(_this, [{ record: record, dataManager: _this }]);\n        };\n        ajax.onFailure = function (e) {\n            defer.reject([{ error: e }]);\n        };\n        ajax.send().catch(function (e) { return true; }); // to handle the failure requests.\n        return defer.promise;\n    };\n    return DataManager;\n}());\nexport { DataManager };\n/**\n * Deferred is used to handle asynchronous operation.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        /**\n         * Promise is an object that represents a value that may not be available yet, but will be resolved at some point in the future.\n         */\n        this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        /**\n         * Defines the callback function triggers when the Deferred object is resolved.\n         */\n        this.then = this.promise.then.bind(this.promise);\n        /**\n         * Defines the callback function triggers when the Deferred object is rejected.\n         */\n        this.catch = this.promise.catch.bind(this.promise);\n    }\n    return Deferred;\n}());\nexport { Deferred };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Collection } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { StackValues, RectOption } from '../../common/utils/helper';\nimport { firstToLowerCase, Rect, logBase, CircleOption } from '../../common/utils/helper';\nimport { Border, Font, Margin, Animation, EmptyPointSettings, CornerRadius, Connector } from '../../common/model/base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { seriesRender } from '../../common/model/constants';\n/**\n * Points model for the series.\n * @private\n */\nvar Points = /** @class */ (function () {\n    function Points() {\n        this.symbolLocations = null;\n        this.regions = null;\n        this.regionData = null;\n    }\n    return Points;\n}());\nexport { Points };\n/**\n * Configures the data label in the series.\n */\nvar DataLabelSettings = /** @class */ (function (_super) {\n    __extends(DataLabelSettings, _super);\n    function DataLabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], DataLabelSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], DataLabelSettings.prototype, \"name\", void 0);\n    __decorate([\n        Property('transparent')\n    ], DataLabelSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], DataLabelSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Auto')\n    ], DataLabelSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(5)\n    ], DataLabelSettings.prototype, \"rx\", void 0);\n    __decorate([\n        Property(5)\n    ], DataLabelSettings.prototype, \"ry\", void 0);\n    __decorate([\n        Property('Center')\n    ], DataLabelSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Complex({ width: null, color: null }, Border)\n    ], DataLabelSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex({ left: 5, right: 5, top: 5, bottom: 5 }, Margin)\n    ], DataLabelSettings.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ size: '11px', color: null }, Font)\n    ], DataLabelSettings.prototype, \"font\", void 0);\n    __decorate([\n        Property(null)\n    ], DataLabelSettings.prototype, \"template\", void 0);\n    return DataLabelSettings;\n}(ChildProperty));\nexport { DataLabelSettings };\n/**\n *  Configures the marker in the series.\n */\nvar MarkerSettings = /** @class */ (function (_super) {\n    __extends(MarkerSettings, _super);\n    function MarkerSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], MarkerSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Circle')\n    ], MarkerSettings.prototype, \"shape\", void 0);\n    __decorate([\n        Property('')\n    ], MarkerSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property(5)\n    ], MarkerSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(5)\n    ], MarkerSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ width: 2, color: null }, Border)\n    ], MarkerSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property(null)\n    ], MarkerSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], MarkerSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Complex({}, DataLabelSettings)\n    ], MarkerSettings.prototype, \"dataLabel\", void 0);\n    return MarkerSettings;\n}(ChildProperty));\nexport { MarkerSettings };\n/**\n * Defines the behavior of the Trendlines\n */\nvar Trendline = /** @class */ (function (_super) {\n    __extends(Trendline, _super);\n    function Trendline() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        return _this;\n    }\n    /** @private */\n    Trendline.prototype.setDataSource = function (series, chart) {\n        if (series) {\n            this.points = series.points;\n        }\n        var type = firstToLowerCase(this.type);\n        chart.trendLineModule.initDataSource(this, chart);\n        chart.visibleSeriesCount++;\n    };\n    __decorate([\n        Property('')\n    ], Trendline.prototype, \"name\", void 0);\n    __decorate([\n        Property('Linear')\n    ], Trendline.prototype, \"type\", void 0);\n    __decorate([\n        Property(2)\n    ], Trendline.prototype, \"period\", void 0);\n    __decorate([\n        Property(2)\n    ], Trendline.prototype, \"polynomialOrder\", void 0);\n    __decorate([\n        Property(0)\n    ], Trendline.prototype, \"backwardForecast\", void 0);\n    __decorate([\n        Property(0)\n    ], Trendline.prototype, \"forwardForecast\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Trendline.prototype, \"animation\", void 0);\n    __decorate([\n        Complex({}, MarkerSettings)\n    ], Trendline.prototype, \"marker\", void 0);\n    __decorate([\n        Property(true)\n    ], Trendline.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property(null)\n    ], Trendline.prototype, \"intercept\", void 0);\n    __decorate([\n        Property('')\n    ], Trendline.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], Trendline.prototype, \"width\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], Trendline.prototype, \"legendShape\", void 0);\n    return Trendline;\n}(ChildProperty));\nexport { Trendline };\nvar ErrorBarCapSettings = /** @class */ (function (_super) {\n    __extends(ErrorBarCapSettings, _super);\n    function ErrorBarCapSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], ErrorBarCapSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property(10)\n    ], ErrorBarCapSettings.prototype, \"length\", void 0);\n    __decorate([\n        Property('black')\n    ], ErrorBarCapSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarCapSettings.prototype, \"opacity\", void 0);\n    return ErrorBarCapSettings;\n}(ChildProperty));\nexport { ErrorBarCapSettings };\nvar ErrorBarSettings = /** @class */ (function (_super) {\n    __extends(ErrorBarSettings, _super);\n    function ErrorBarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], ErrorBarSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Fixed')\n    ], ErrorBarSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], ErrorBarSettings.prototype, \"direction\", void 0);\n    __decorate([\n        Property('Vertical')\n    ], ErrorBarSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('black')\n    ], ErrorBarSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"verticalError\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"horizontalError\", void 0);\n    __decorate([\n        Property(3)\n    ], ErrorBarSettings.prototype, \"verticalPositiveError\", void 0);\n    __decorate([\n        Property(3)\n    ], ErrorBarSettings.prototype, \"verticalNegativeError\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"horizontalPositiveError\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"horizontalNegativeError\", void 0);\n    __decorate([\n        Complex(null, ErrorBarCapSettings)\n    ], ErrorBarSettings.prototype, \"errorBarCap\", void 0);\n    return ErrorBarSettings;\n}(ChildProperty));\nexport { ErrorBarSettings };\n/**\n * Defines the common behavior of Series and Technical Indicators\n */\nvar SeriesBase = /** @class */ (function (_super) {\n    __extends(SeriesBase, _super);\n    function SeriesBase() {\n        /**\n         * The DataSource field that contains the x value.\n         * It is applicable for series and technical indicators\n         * @default ''.\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.currentViewData = [];\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        /** @private */\n        _this.seriesType = 'XY';\n        return _this;\n    }\n    /**\n     * Process data for the series.\n     * @hidden\n     */\n    SeriesBase.prototype.processJsonData = function () {\n        var i = 0;\n        var len = Object.keys(this.currentViewData).length;\n        var point = new Points();\n        var textMappingName = this instanceof Series && this.marker.dataLabel.name ?\n            this.marker.dataLabel.name : '';\n        if (this instanceof Series && this.type === 'Waterfall') {\n            this.chart[firstToLowerCase(this.type) + 'SeriesModule'].\n                processWaterfallData(this.currentViewData, this);\n        }\n        this.points = [];\n        this.xMin = Infinity;\n        this.xMax = -Infinity;\n        this.yMin = Infinity;\n        this.yMax = -Infinity;\n        this.sizeMax = -Infinity;\n        this.getSeriesType();\n        if (this.xAxis.valueType === 'Category') {\n            while (i < len) {\n                point = this.dataPoint(i, textMappingName);\n                this.pushCategoryData(point, i);\n                this.pushData(point, i);\n                this.setEmptyPoint(point, i);\n                i++;\n            }\n        }\n        else if (this.xAxis.valueType === 'DateTime') {\n            var option = {\n                skeleton: 'full',\n                type: 'dateTime'\n            };\n            var dateParser = this.chart.intl.getDateParser(option);\n            var dateFormatter = this.chart.intl.getDateFormat(option);\n            while (i < len) {\n                point = this.dataPoint(i, textMappingName);\n                point.x = new Date(DataUtil.parse.parseJson({ val: point.x }).val);\n                point.xValue = Date.parse(dateParser(dateFormatter(point.x)));\n                this.pushData(point, i);\n                this.setEmptyPoint(point, i);\n                i++;\n            }\n        }\n        else {\n            while (i < len) {\n                point = this.dataPoint(i, textMappingName);\n                point.xValue = point.x;\n                this.pushData(point, i);\n                this.setEmptyPoint(point, i);\n                i++;\n            }\n        }\n        if (this instanceof Series) {\n            if (this.type === 'Spline' || this.drawType === 'Spline') {\n                this.chart.splineSeriesModule.findSplinePoint(this);\n            }\n        }\n    };\n    SeriesBase.prototype.pushData = function (point, i) {\n        point.index = i;\n        point.yValue = point.y;\n        // To find the min, max for the axis range.\n        this.xMin = Math.min(this.xMin, point.xValue);\n        this.xMax = Math.max(this.xMax, point.xValue);\n        this.xData.push(point.xValue);\n    };\n    /** @private */\n    SeriesBase.prototype.dataPoint = function (i, textMappingName) {\n        var point;\n        this.points[i] = new Points();\n        point = this.points[i];\n        var currentViewData = this.currentViewData;\n        point.x = getValue(this.xName, currentViewData[i]);\n        point.high = getValue(this.high, currentViewData[i]);\n        point.low = getValue(this.low, currentViewData[i]);\n        point.open = getValue(this.open, currentViewData[i]);\n        point.close = getValue(this.close, currentViewData[i]);\n        point.volume = getValue(this.volume, currentViewData[i]);\n        if (this instanceof Series) {\n            point.y = getValue(this.yName, currentViewData[i]);\n            point.size = getValue(this.size, currentViewData[i]);\n            point.text = getValue(textMappingName, currentViewData[i]);\n        }\n        return point;\n    };\n    /**\n     * To set empty point value based on empty point mode\n     * @private\n     */\n    SeriesBase.prototype.setEmptyPoint = function (point, i) {\n        if (!this.findVisibility(point)) {\n            point.visible = true;\n            return null;\n        }\n        point.isEmpty = true;\n        var mode = this instanceof Series ? this.emptyPointSettings.mode : 'Drop';\n        switch (mode) {\n            case 'Zero':\n                point.visible = true;\n                if (this instanceof Series && this.seriesType.indexOf('HighLow') > -1) {\n                    point.high = point.low = 0;\n                    if (this.seriesType.indexOf('HighLowOpenClose') > -1) {\n                        point.open = point.close = 0;\n                    }\n                }\n                else {\n                    point.y = point.yValue = this.yData[i] = 0;\n                }\n                break;\n            case 'Average':\n                if (this instanceof Series) {\n                    if (this.seriesType.indexOf('HighLow') > -1) {\n                        point.high = isNullOrUndefined(point.high) ? this.getAverage(this.high, i) : point.high;\n                        point.low = isNullOrUndefined(point.low) ? this.getAverage(this.low, i) : point.low;\n                        if (this.seriesType.indexOf('HighLowOpenClose') > -1) {\n                            point.open = isNullOrUndefined(point.open) ? this.getAverage(this.open, i) : point.open;\n                            point.close = isNullOrUndefined(point.close) ? this.getAverage(this.close, i) : point.close;\n                        }\n                    }\n                    else {\n                        point.y = point.yValue = this.yData[i] = this.getAverage(this.yName, i);\n                    }\n                }\n                point.visible = true;\n                break;\n            case 'Drop':\n            case 'Gap':\n                this.yData[i] = null;\n                point.visible = false;\n                break;\n        }\n    };\n    SeriesBase.prototype.findVisibility = function (point) {\n        var type = this instanceof Series ? this.seriesType : 'HighLowOpenClose';\n        var yValues;\n        switch (type) {\n            case 'XY':\n                this.setXYMinMax(point.yValue);\n                this.yData.push(point.yValue);\n                if (this instanceof Series && this.type === 'Bubble') {\n                    this.sizeMax = Math.max(this.sizeMax, point.size);\n                }\n                return isNullOrUndefined(point.x) || isNullOrUndefined(point.y);\n            case 'HighLow':\n                this.setHiloMinMax(point.high, point.low);\n                return isNullOrUndefined(point.x) || isNullOrUndefined(point.low) || isNullOrUndefined(point.high);\n            case 'HighLowOpenClose':\n                this.setHiloMinMax(point.high, point.low);\n                return isNullOrUndefined(point.x) || isNullOrUndefined(point.low) ||\n                    isNullOrUndefined(point.open) || isNullOrUndefined(point.close)\n                    || isNullOrUndefined(point.high);\n            case 'BoxPlot':\n                yValues = (point.y || [null]).filter(function (value) {\n                    return !isNullOrUndefined(value);\n                }).sort(function (a, b) {\n                    return a - b;\n                });\n                point.y = yValues;\n                this.yMin = Math.min(this.yMin, Math.min.apply(Math, yValues));\n                this.yMax = Math.max(this.yMax, Math.max.apply(Math, yValues));\n                return !yValues.length;\n        }\n    };\n    /**\n     * To get Y min max for the provided point seriesType XY\n     */\n    SeriesBase.prototype.setXYMinMax = function (yValue) {\n        this.yMin = Math.min(this.yMin, isNullOrUndefined(yValue) ? this.yMin : yValue);\n        this.yMax = Math.max(this.yMax, isNullOrUndefined(yValue) ? this.yMax : yValue);\n    };\n    /**\n     * To get Y min max for the provided point seriesType XY\n     */\n    SeriesBase.prototype.setHiloMinMax = function (high, low) {\n        this.yMin = Math.min(this.yMin, Math.min(isNullOrUndefined(low) ? this.yMin : low, isNullOrUndefined(high) ? this.yMin : high));\n        this.yMax = Math.max(this.yMax, Math.max(isNullOrUndefined(low) ? this.yMax : low, isNullOrUndefined(high) ? this.yMax : high));\n    };\n    /**\n     * Finds the type of the series\n     * @private\n     */\n    SeriesBase.prototype.getSeriesType = function () {\n        var type;\n        if (this instanceof Series) {\n            var seriesType = this.chart.chartAreaType === 'PolarRadar' ? this.drawType : this.type;\n            if (seriesType) {\n                switch (seriesType) {\n                    case 'RangeColumn':\n                    case 'RangeArea':\n                    case 'Hilo':\n                        type = 'HighLow';\n                        break;\n                    case 'HiloOpenClose':\n                    case 'Candle':\n                        type = 'HighLowOpenClose';\n                        break;\n                    case 'BoxAndWhisker':\n                        type = 'BoxPlot';\n                        break;\n                    default:\n                        type = 'XY';\n                }\n            }\n        }\n        this.seriesType = type;\n    };\n    /** @private */\n    SeriesBase.prototype.pushCategoryData = function (point, index) {\n        if (!this.xAxis.isIndexed) {\n            if (this.xAxis.labels.indexOf(point.x) < 0) {\n                this.xAxis.labels.push(point.x);\n            }\n            point.xValue = this.xAxis.labels.indexOf(point.x);\n        }\n        else {\n            this.xAxis.labels[index] ? this.xAxis.labels[index] += ', ' + point.x :\n                this.xAxis.labels.push(point.x);\n            point.xValue = index;\n        }\n    };\n    /**\n     * To find average of given property\n     */\n    SeriesBase.prototype.getAverage = function (member, i, data) {\n        if (data === void 0) { data = this.currentViewData; }\n        var previous = data[i - 1] ? (data[i - 1][member] || 0) : 0;\n        var next = data[i + 1] ? (data[i + 1][member] || 0) : 0;\n        return (previous + next) / 2;\n    };\n    /**\n     * To find the control points for spline.\n     * @return {void}\n     * @private\n     */\n    SeriesBase.prototype.refreshDataManager = function (chart) {\n        var _this = this;\n        this.chart = chart;\n        if (isNullOrUndefined(this.query) && !isNullOrUndefined(this.dataSource)) {\n            this.dataManagerSuccess({ result: this.dataSource, count: this.dataSource.length }, chart, false);\n            return;\n        }\n        var dataManager = this.dataModule.getData(this.dataModule.generateQuery().requiresCount());\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e, chart); });\n    };\n    SeriesBase.prototype.dataManagerSuccess = function (e, chart, isRemoteData) {\n        if (isRemoteData === void 0) { isRemoteData = true; }\n        this.currentViewData = e.result !== '' ? e.result : [];\n        if (this instanceof Series) {\n            var argsData = {\n                name: seriesRender, series: this, data: this.currentViewData, fill: this.interior\n            };\n            this.chart.trigger(seriesRender, argsData);\n            this.interior = argsData.fill;\n            this.currentViewData = argsData.data;\n        }\n        this.processJsonData();\n        this.recordsCount = e.count;\n        this.refreshChart(isRemoteData);\n    };\n    SeriesBase.prototype.refreshChart = function (isRemoteData) {\n        var chart = this.chart;\n        if (this instanceof Series) {\n            chart.visibleSeriesCount += isRemoteData ? 1 : 0;\n        }\n        chart.refreshTechnicalIndicator(this);\n        if (this instanceof Series && this.category !== 'TrendLine') {\n            for (var _i = 0, _a = this.trendlines; _i < _a.length; _i++) {\n                var trendline = _a[_i];\n                trendline.setDataSource(this, chart);\n            }\n        }\n        //if (chart.visibleSeries.length === (chart.visibleSeriesCount - chart.indicators.length)) {\n        if (chart.visibleSeries.length === (chart.visibleSeriesCount)) {\n            chart.refreshBound();\n            chart.trigger('loaded', { chart: chart });\n        }\n        if (this instanceof Series) {\n            chart.visibleSeriesCount += isRemoteData ? 0 : 1;\n        }\n    };\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"xName\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"high\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"low\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"open\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"close\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"volume\", void 0);\n    __decorate([\n        Property(null)\n    ], SeriesBase.prototype, \"xAxisName\", void 0);\n    __decorate([\n        Property(null)\n    ], SeriesBase.prototype, \"yAxisName\", void 0);\n    __decorate([\n        Complex(null, Animation)\n    ], SeriesBase.prototype, \"animation\", void 0);\n    __decorate([\n        Property(null)\n    ], SeriesBase.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], SeriesBase.prototype, \"width\", void 0);\n    __decorate([\n        Property('0')\n    ], SeriesBase.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], SeriesBase.prototype, \"query\", void 0);\n    return SeriesBase;\n}(ChildProperty));\nexport { SeriesBase };\n/**\n *  Configures the series in charts.\n */\nvar Series = /** @class */ (function (_super) {\n    __extends(Series, _super);\n    // tslint:disable-next-line:no-any\n    function Series(parent, propName, defaultValue, isArray) {\n        var _this = _super.call(this, parent, propName, defaultValue, isArray) || this;\n        _this.visibleSeriesCount = 0;\n        /** @private */\n        _this.category = 'Series';\n        /** @private */\n        _this.isRectSeries = false;\n        /** @private */\n        _this.drawPoints = [];\n        /** @private */\n        _this.delayedAnimation = false;\n        return _this;\n    }\n    /**\n     * Refresh the axis label.\n     * @return {boolean}\n     * @private\n     */\n    Series.prototype.refreshAxisLabel = function () {\n        if (this.xAxis.valueType !== 'Category') {\n            return null;\n        }\n        this.xAxis.labels = [];\n        for (var _i = 0, _a = this.xAxis.series; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.visible) {\n                item.xMin = Infinity;\n                item.xMax = -Infinity;\n                for (var _b = 0, _c = item.points; _b < _c.length; _b++) {\n                    var point = _c[_b];\n                    item.pushCategoryData(point, point.index);\n                    item.xMin = Math.min(item.xMin, point.xValue);\n                    item.xMax = Math.max(item.xMax, point.xValue);\n                }\n            }\n        }\n    };\n    /**\n     * To get the series collection.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.findSeriesCollection = function (column, row, isStack) {\n        var seriesCollection = [];\n        for (var _i = 0, _a = row.axes; _i < _a.length; _i++) {\n            var rowAxis = _a[_i];\n            for (var _b = 0, _c = rowAxis.series; _b < _c.length; _b++) {\n                var rowSeries = _c[_b];\n                for (var _d = 0, _e = column.axes; _d < _e.length; _d++) {\n                    var axis = _e[_d];\n                    for (var _f = 0, _g = axis.series; _f < _g.length; _f++) {\n                        var series = _g[_f];\n                        if (series === rowSeries && series.visible && this.rectSeriesInChart(series, isStack)) {\n                            seriesCollection.push(series);\n                        }\n                    }\n                }\n            }\n        }\n        return seriesCollection;\n    };\n    /**\n     * To get the column type series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.rectSeriesInChart = function (series, isStack) {\n        var type = (series.type).toLowerCase();\n        return (type.indexOf('column') !== -1 || type.indexOf('bar') !== -1 ||\n            type.indexOf('hiloopenclose') !== -1 || type.indexOf('candle') !== -1 ||\n            type.indexOf('hilo') !== -1 || series.drawType.indexOf('Column') !== -1 ||\n            type.indexOf('waterfall') !== -1 || type.indexOf('boxandwhisker') !== -1 || isStack);\n    };\n    /**\n     * To calculate the stacked values.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.calculateStackedValue = function (isStacking100) {\n        var axisSeries;\n        for (var _i = 0, _a = this.chart.columns; _i < _a.length; _i++) {\n            var columnItem = _a[_i];\n            for (var _b = 0, _c = this.chart.rows; _b < _c.length; _b++) {\n                var item = _c[_b];\n                this.calculateStackingValues(this.findSeriesCollection(columnItem, item, true), isStacking100);\n            }\n        }\n    };\n    Series.prototype.calculateStackingValues = function (seriesCollection, isStacking100) {\n        var startValues;\n        var endValues;\n        var yValues = [];\n        var lastPositive = [];\n        var lastNegative = [];\n        var stackingGroup;\n        var lastValue;\n        var value;\n        var frequencies = [];\n        if (isStacking100) {\n            frequencies = this.findFrequencies(seriesCollection);\n        }\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            if (series.type.indexOf('Stacking') !== -1 || (series.drawType.indexOf('Stacking') !== -1 &&\n                (series.chart.chartAreaType === 'PolarRadar'))) {\n                stackingGroup = (series.type.indexOf('StackingArea') !== -1) ? 'StackingArea100' : series.stackingGroup;\n                if (!lastPositive[stackingGroup]) {\n                    lastPositive[stackingGroup] = [];\n                    lastNegative[stackingGroup] = [];\n                }\n                yValues = series.yData;\n                startValues = [];\n                endValues = [];\n                for (var j = 0, pointsLength = series.points.length; j < pointsLength; j++) {\n                    lastValue = 0;\n                    value = yValues[j];\n                    if (lastPositive[stackingGroup][series.points[j].xValue] === undefined) {\n                        lastPositive[stackingGroup][series.points[j].xValue] = 0;\n                    }\n                    if (lastNegative[stackingGroup][series.points[j].xValue] === undefined) {\n                        lastNegative[stackingGroup][series.points[j].xValue] = 0;\n                    }\n                    if (isStacking100) {\n                        value = value / frequencies[stackingGroup][series.points[j].xValue] * 100;\n                        value = !isNaN(value) ? value : 0;\n                        series.points[j].percent = value.toFixed(2);\n                    }\n                    if (value >= 0) {\n                        lastValue = lastPositive[stackingGroup][series.points[j].xValue];\n                        lastPositive[stackingGroup][series.points[j].xValue] += value;\n                    }\n                    else {\n                        lastValue = lastNegative[stackingGroup][series.points[j].xValue];\n                        lastNegative[stackingGroup][series.points[j].xValue] += value;\n                    }\n                    startValues.push(lastValue);\n                    endValues.push(value + lastValue);\n                    if (isStacking100 && (endValues[j] > 100)) {\n                        endValues[j] = 100;\n                    }\n                }\n                series.stackedValues = new StackValues(startValues, endValues);\n                series.yMin = Math.min.apply(0, startValues);\n                series.yMax = Math.max.apply(0, endValues);\n                if (series.yMin > Math.min.apply(0, endValues)) {\n                    series.yMin = (isStacking100) ? -100 : Math.min.apply(0, endValues);\n                }\n                if (series.yMax < Math.max.apply(0, startValues)) {\n                    series.yMax = 0;\n                }\n            }\n        }\n    };\n    Series.prototype.findFrequencies = function (seriesCollection) {\n        var frequencies = [];\n        var stackingGroup;\n        for (var _i = 0, seriesCollection_2 = seriesCollection; _i < seriesCollection_2.length; _i++) {\n            var series = seriesCollection_2[_i];\n            series.yAxis.isStack100 = series.type.indexOf('100') !== -1 ? true : false;\n            if (series.type.indexOf('Stacking') !== -1) {\n                stackingGroup = (series.type.indexOf('StackingArea') !== -1) ? 'StackingArea100' : series.stackingGroup;\n                if (!frequencies[stackingGroup]) {\n                    frequencies[stackingGroup] = [];\n                }\n                for (var j = 0, pointsLength = series.points.length; j < pointsLength; j++) {\n                    if (frequencies[stackingGroup][series.points[j].xValue] === undefined) {\n                        frequencies[stackingGroup][series.points[j].xValue] = 0;\n                    }\n                    if (series.yData[j] > 0) {\n                        frequencies[stackingGroup][series.points[j].xValue] += series.yData[j];\n                    }\n                    else {\n                        frequencies[stackingGroup][series.points[j].xValue] -= series.yData[j];\n                    }\n                }\n            }\n        }\n        return frequencies;\n    };\n    /**\n     * To find the log values.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.logWithIn = function (value, axis) {\n        if (axis.valueType === 'Logarithmic') {\n            value = logBase(value, axis.logBase);\n        }\n        else {\n            value = value;\n        }\n        return value;\n    };\n    /* private dataManagerFailure(e: { result: Object[] }): void {\n         this.currentViewData = [];\n         this.refreshChart();\n     }*/\n    /** @private */\n    Series.prototype.renderSeries = function (chart, index) {\n        var seriesType = firstToLowerCase(this.type);\n        if (seriesType.indexOf('100') !== -1) {\n            seriesType = seriesType.replace('100', '');\n        }\n        if (chart[seriesType + 'SeriesModule']) {\n            if (this.category !== 'Indicator' && this.category !== 'TrendLine') {\n                this.createSeriesElements(chart);\n            }\n            chart[seriesType + 'SeriesModule'].render(this, this.xAxis, this.yAxis, chart.requireInvertedAxis);\n            if (this.category !== 'Indicator') {\n                if (this.errorBar.visible) {\n                    this.chart.errorBarModule.render(this);\n                }\n                if (this.marker.dataLabel.visible) {\n                    chart.dataLabelModule.render(this, this.chart, this.marker.dataLabel);\n                }\n                this.appendSeriesElement(chart.seriesElements, chart);\n            }\n            this.performAnimation(chart, seriesType, this.errorBar, this.marker, this.marker.dataLabel);\n        }\n    };\n    /**\n     * To create seris element.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.createSeriesElements = function (chart) {\n        if (this.category !== 'Indicator') {\n            var elementId = chart.element.id;\n            var xAxisRect = this.xAxis.rect;\n            // 8 for extend border value 5 for extend size value\n            var explodeValue = this.marker.border.width + 8 + 5;\n            var yAxisRect = this.yAxis.rect;\n            var marker = this.marker;\n            var render = chart.renderer;\n            var index = this.index;\n            var markerHeight = (this.type === 'Scatter') ? (this.marker.height + explodeValue) / 2 : 0;\n            var markerWidth = (this.type === 'Scatter') ? (this.marker.width + explodeValue) / 2 : 0;\n            if (chart.chartAreaType === 'PolarRadar') {\n                this.clipRectElement = render.drawCircularClipPath(new CircleOption(elementId + '_ChartSeriesClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, this.clipRect.width / 2 + this.clipRect.x, this.clipRect.height / 2 + this.clipRect.y, chart.radius));\n            }\n            else {\n                this.clipRectElement = render.drawClipPath(new RectOption(elementId + '_ChartSeriesClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                    x: -markerWidth, y: -markerHeight,\n                    width: this.clipRect.width + markerWidth * 2,\n                    height: this.clipRect.height + markerHeight * 2\n                }));\n            }\n            var transform = void 0;\n            transform = chart.chartAreaType === 'Cartesian' ? 'translate(' + this.clipRect.x + ',' + (this.clipRect.y) + ')' : '';\n            this.symbolElement = null;\n            this.seriesElement = render.createGroup({\n                'id': elementId + 'SeriesGroup' + index,\n                'transform': transform,\n                'clip-path': 'url(#' + elementId + '_ChartSeriesClipRect_' + index + ')'\n            });\n            this.seriesElement.appendChild(this.clipRectElement);\n        }\n    };\n    /**\n     * To append the series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.appendSeriesElement = function (element, chart) {\n        var marker = this.marker;\n        var dataLabel = marker.dataLabel;\n        if (this.category !== 'TrendLine') {\n            chart.seriesElements.appendChild(this.seriesElement);\n            var errorBar = this.errorBar;\n            if (errorBar.visible) {\n                if (chart.chartAreaType === 'PolarRadar') {\n                    chart.seriesElements.appendChild(this.seriesElement);\n                }\n                else {\n                    chart.seriesElements.appendChild(this.errorBarElement);\n                }\n            }\n            if (this.type === 'Scatter' || this.type === 'Bubble') {\n                chart.seriesElements.appendChild(this.seriesElement);\n            }\n        }\n        if (marker.visible && ((chart.chartAreaType === 'Cartesian' && (!this.isRectSeries || this.type === 'BoxAndWhisker'))\n            || ((this.drawType !== 'Scatter' && !this.isRectSeries) && chart.chartAreaType === 'PolarRadar')) &&\n            this.type !== 'Scatter' && this.type !== 'Bubble') {\n            chart.seriesElements.appendChild(this.symbolElement);\n        }\n        if (dataLabel.visible) {\n            chart.dataLabelElements.appendChild(this.shapeElement);\n            chart.dataLabelElements.appendChild(this.textElement);\n        }\n    };\n    /**\n     * To perform animation for chart series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.performAnimation = function (chart, type, errorBar, marker, dataLabel) {\n        if (this.animation.enable && chart.animateSeries) {\n            chart[type + 'SeriesModule'].doAnimation(this);\n            if (errorBar.visible) {\n                chart.errorBarModule.doErrorBarAnimation(this);\n            }\n            if (marker.visible) {\n                chart.markerRender.doMarkerAnimation(this);\n            }\n            if (dataLabel.visible) {\n                chart.dataLabelModule.doDataLabelAnimation(this);\n            }\n        }\n    };\n    /**\n     * To set border color for empty point\n     * @private\n     */\n    Series.prototype.setPointColor = function (point, color) {\n        return point.isEmpty ? (this.emptyPointSettings.fill || color) : color;\n    };\n    /**\n     * To set border color for empty point\n     * @private\n     */\n    Series.prototype.setBorderColor = function (point, border) {\n        border.width = point.isEmpty ? (this.emptyPointSettings.border.width || border.width) : border.width;\n        border.color = point.isEmpty ? (this.emptyPointSettings.border.color || border.color) : border.color;\n        return border;\n    };\n    __decorate([\n        Property('')\n    ], Series.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], Series.prototype, \"yName\", void 0);\n    __decorate([\n        Property('Line')\n    ], Series.prototype, \"drawType\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"isClosed\", void 0);\n    __decorate([\n        Property('#2ecd71')\n    ], Series.prototype, \"bearFillColor\", void 0);\n    __decorate([\n        Property('#e74c3d')\n    ], Series.prototype, \"bullFillColor\", void 0);\n    __decorate([\n        Property(false)\n    ], Series.prototype, \"enableSolidCandles\", void 0);\n    __decorate([\n        Property('')\n    ], Series.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Series.prototype, \"stackingGroup\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"visible\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 0 }, Border)\n    ], Series.prototype, \"border\", void 0);\n    __decorate([\n        Property(1)\n    ], Series.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Line')\n    ], Series.prototype, \"type\", void 0);\n    __decorate([\n        Complex(null, ErrorBarSettings)\n    ], Series.prototype, \"errorBar\", void 0);\n    __decorate([\n        Complex(null, MarkerSettings)\n    ], Series.prototype, \"marker\", void 0);\n    __decorate([\n        Collection([], Trendline)\n    ], Series.prototype, \"trendlines\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], Series.prototype, \"legendShape\", void 0);\n    __decorate([\n        Property(null)\n    ], Series.prototype, \"selectionStyle\", void 0);\n    __decorate([\n        Property(1)\n    ], Series.prototype, \"minRadius\", void 0);\n    __decorate([\n        Property(3)\n    ], Series.prototype, \"maxRadius\", void 0);\n    __decorate([\n        Property('Natural')\n    ], Series.prototype, \"splineType\", void 0);\n    __decorate([\n        Property(0.5)\n    ], Series.prototype, \"cardinalSplineTension\", void 0);\n    __decorate([\n        Complex(null, EmptyPointSettings)\n    ], Series.prototype, \"emptyPointSettings\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"showMean\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Series.prototype, \"boxPlotMode\", void 0);\n    __decorate([\n        Property(0.7)\n    ], Series.prototype, \"columnWidth\", void 0);\n    __decorate([\n        Property(0)\n    ], Series.prototype, \"columnSpacing\", void 0);\n    __decorate([\n        Property('#C64E4A')\n    ], Series.prototype, \"negativeFillColor\", void 0);\n    __decorate([\n        Property('#4E81BC')\n    ], Series.prototype, \"summaryFillColor\", void 0);\n    __decorate([\n        Property()\n    ], Series.prototype, \"intermediateSumIndexes\", void 0);\n    __decorate([\n        Property()\n    ], Series.prototype, \"sumIndexes\", void 0);\n    __decorate([\n        Complex({ color: 'black', width: 2 }, Connector)\n    ], Series.prototype, \"connector\", void 0);\n    __decorate([\n        Complex(null, CornerRadius)\n    ], Series.prototype, \"cornerRadius\", void 0);\n    return Series;\n}(SeriesBase));\nexport { Series };\n","import { Query, DataManager } from '@syncfusion/ej2-data';\n/**\n * data module is used to generate query and dataSource\n */\nvar Data = /** @class */ (function () {\n    /**\n     * Constructor for data module\n     * @private\n     */\n    function Data(dataSource, query) {\n        this.initDataManager(dataSource, query);\n    }\n    /**\n     * The function used to initialize dataManager and query\n     * @return {void}\n     * @private\n     */\n    Data.prototype.initDataManager = function (dataSource, query) {\n        this.dataManager = dataSource instanceof DataManager ? dataSource : new DataManager(dataSource);\n        this.query = query instanceof Query ? query : new Query();\n    };\n    /**\n     * The function used to generate updated Query from chart model\n     * @return {void}\n     * @private\n     */\n    Data.prototype.generateQuery = function () {\n        var query = this.query.clone();\n        return query;\n    };\n    /**\n     * The function used to get dataSource by executing given Query\n     * @param  {Query} query - A Query that specifies to generate dataSource\n     * @return {void}\n     * @private\n     */\n    Data.prototype.getData = function (query) {\n        return this.dataManager.executeQuery(query);\n    };\n    return Data;\n}());\nexport { Data };\n","import { withInBounds, PointData, Rect, getValueXByPoint, getValueYByPoint, } from '../../common/utils/helper';\n/**\n * To get the data on mouse move.\n * @private\n */\nvar Data = /** @class */ (function () {\n    /**\n     * Constructor for the data.\n     * @private\n     */\n    function Data(chart) {\n        /** @private */\n        this.currentPoints = [];\n        /** @private */\n        this.previousPoints = [];\n        this.chart = chart;\n        this.lierIndex = 0;\n    }\n    /**\n     * Method to get the Data.\n     * @private\n     */\n    Data.prototype.getData = function () {\n        var chart = this.chart;\n        var point = null;\n        var series = null;\n        var width;\n        var height;\n        for (var len = chart.visibleSeries.length, i = len - 1; i >= 0; i--) {\n            series = chart.visibleSeries[i];\n            width = (series.type === 'Scatter' || series.drawType === 'Scatter' || (!series.isRectSeries && series.marker.visible))\n                ? (series.marker.height + 5) / 2 : 0;\n            height = (series.type === 'Scatter' || series.drawType === 'Scatter' || (!series.isRectSeries && series.marker.visible))\n                ? (series.marker.width + 5) / 2 : 0;\n            if (series.visible && withInBounds(chart.mouseX, chart.mouseY, series.clipRect, width, height)) {\n                point = this.getRectPoint(series, series.clipRect, chart.mouseX, chart.mouseY);\n            }\n            if (point) {\n                return new PointData(point, series);\n            }\n        }\n        return new PointData(point, series);\n    };\n    Data.prototype.getRectPoint = function (series, rect, x, y) {\n        var currentRect;\n        var fromCenterX;\n        var fromCenterY;\n        var clickAngle;\n        var arcAngle = 0;\n        var startAngle;\n        var endAngle;\n        var distanceFromCenter;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (!point.regionData) {\n                if (!point.regions || !point.regions.length) {\n                    continue;\n                }\n            }\n            if (point.regionData && this.chart.chartAreaType === 'PolarRadar' && series.drawType.indexOf('Column') > -1) {\n                fromCenterX = x - (series.clipRect.width / 2 + series.clipRect.x);\n                fromCenterY = y - (series.clipRect.height / 2 + series.clipRect.y);\n                arcAngle = 2 * Math.PI * (point.regionData.currentXPosition < 0 ? 1 + point.regionData.currentXPosition\n                    : point.regionData.currentXPosition);\n                clickAngle = (Math.atan2(fromCenterY, fromCenterX) + 0.5 * Math.PI - arcAngle) % (2 * Math.PI);\n                clickAngle = clickAngle < 0 ? 2 * Math.PI + clickAngle : clickAngle;\n                clickAngle = clickAngle + 2 * Math.PI * series.chart.primaryXAxis.startAngle;\n                startAngle = point.regionData.startAngle;\n                startAngle -= arcAngle;\n                startAngle = startAngle < 0 ? 2 * Math.PI + startAngle : startAngle;\n                endAngle = point.regionData.endAngle;\n                endAngle -= arcAngle;\n                endAngle = endAngle < 0 ? 2 * Math.PI + endAngle : endAngle;\n                distanceFromCenter = Math.sqrt(Math.pow(Math.abs(fromCenterX), 2) + Math.pow(Math.abs(fromCenterY), 2));\n                if (clickAngle >= startAngle && clickAngle <= endAngle &&\n                    (((distanceFromCenter >= point.regionData.innerRadius && distanceFromCenter <= point.regionData.radius) ||\n                        (distanceFromCenter <= point.regionData.innerRadius && distanceFromCenter >= point.regionData.radius))\n                        && distanceFromCenter <= series.chart.radius)) {\n                    return point;\n                }\n            }\n            else if (this.checkRegionContainsPoint(point.regions, rect, x, y)) {\n                return point;\n            }\n        }\n        return null;\n    };\n    /**\n     * Checks whether the region contains a point\n     */\n    Data.prototype.checkRegionContainsPoint = function (regionRect, rect, x, y) {\n        var _this = this;\n        return regionRect.some(function (region, index) {\n            _this.lierIndex = index;\n            return withInBounds(x, y, new Rect((_this.chart.chartAreaType === 'Cartesian' ? rect.x : 0) + region.x, (_this.chart.chartAreaType === 'Cartesian' ? rect.y : 0) + region.y, region.width, region.height));\n        });\n    };\n    Data.prototype.getClosest = function (series, value) {\n        var xData = series.xData;\n        var closest;\n        if (value >= series.xMin - 0.5 && value <= series.xMax + 0.5) {\n            for (var _i = 0, xData_1 = xData; _i < xData_1.length; _i++) {\n                var data = xData_1[_i];\n                if (closest == null || Math.abs(data - value) < Math.abs(closest - value)) {\n                    closest = data;\n                }\n            }\n        }\n        return closest;\n    };\n    Data.prototype.getClosestX = function (chart, series) {\n        var value;\n        var rect = series.clipRect;\n        if (!chart.requireInvertedAxis) {\n            value = getValueXByPoint(chart.mouseX - rect.x, rect.width, series.xAxis);\n        }\n        else {\n            value = getValueYByPoint(chart.mouseY - rect.y, rect.height, series.xAxis);\n        }\n        var closest = this.getClosest(series, value);\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (closest === point.xValue && point.visible) {\n                return new PointData(point, series);\n            }\n        }\n        return null;\n    };\n    return Data;\n}());\nexport { Data };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { drawSymbol, PathOption, Size } from '../../common/utils/helper';\nimport { Browser, extend, remove } from '@syncfusion/ej2-base';\nimport { Data } from '../../chart/utils/get-data';\nimport { withInBounds, PointData, stopTimer } from '../../common/utils/helper';\nimport { colorNameToHex, convertHexToColor } from '../../common/utils/helper';\n/**\n * Marker Module used to render the marker for line type series.\n */\nvar MarkerExplode = /** @class */ (function (_super) {\n    __extends(MarkerExplode, _super);\n    /**\n     * Constructor for the marker module.\n     * @private\n     */\n    function MarkerExplode(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.addEventListener();\n        _this.elementId = chart.element.id;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    /**\n     * @hidden\n     */\n    /* public removeEventListener(): void {\n         if (this.chart.isDestroyed) { return; }\n         this.chart.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n    }*/\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.mouseUpHandler = function () {\n        var chart = this.chart;\n        if (chart.isTouch && !chart.crosshair.enable) {\n            this.markerMove(true);\n        }\n    };\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.mouseMoveHandler = function () {\n        var chart = this.chart;\n        if ((!chart.crosshair.enable || (chart.tooltip.enable)) && (!chart.isTouch || chart.startMove)) {\n            this.markerMove(false);\n        }\n    };\n    MarkerExplode.prototype.markerMove = function (remove) {\n        var _this = this;\n        var chart = this.chart;\n        this.currentPoints = [];\n        var data;\n        var explodeSeries;\n        if (!chart.tooltip.shared || !chart.tooltip.enable) {\n            data = this.getData();\n            explodeSeries = (data.series.type === 'BoxAndWhisker' || data.series.type === 'Bubble' || data.series.drawType === 'Scatter'\n                || data.series.type === 'Scatter' || (!data.series.isRectSeries && data.series.marker.visible));\n            data.lierIndex = this.lierIndex;\n            if (data.point && explodeSeries && ((!this.previousPoints[0] || (this.previousPoints[0].point !== data.point)) ||\n                (this.previousPoints[0] && this.previousPoints[0].lierIndex > 3 && this.previousPoints[0].lierIndex !== this.lierIndex))) {\n                this.currentPoints.push(data);\n            }\n        }\n        else {\n            if (!withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                return null;\n            }\n            if (chart.tooltip.enable) {\n                var pointData = chart.chartAreaType === 'PolarRadar' ? this.getData() : null;\n                for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                    var chartSeries = _a[_i];\n                    if (!chartSeries.enableTooltip || chartSeries.category === 'Indicator') {\n                        continue;\n                    }\n                    if (chart.chartAreaType === 'Cartesian' && chartSeries.visible) {\n                        data = this.getClosestX(chart, chartSeries);\n                    }\n                    else if (chart.chartAreaType === 'PolarRadar' && chartSeries.visible && pointData.point !== null) {\n                        data = new PointData(chartSeries.points[pointData.point.index], chartSeries);\n                    }\n                    if (data) {\n                        this.currentPoints.push(data);\n                        data = null;\n                    }\n                }\n            }\n        }\n        var length = this.previousPoints.length;\n        if (this.currentPoints.length > 0) {\n            if (length === 0 || (length > 0 && this.previousPoints[0].point !== this.currentPoints[0].point)) {\n                if (this.previousPoints.length > 0) {\n                    this.removeHighlightedMarker();\n                }\n                var _loop_1 = function (data_1) {\n                    if (data_1 && data_1.point &&\n                        (!data_1.series.isRectSeries || data_1.series.type === 'BoxAndWhisker')) {\n                        stopTimer(this_1.markerExplode);\n                        this_1.isRemove = true;\n                        data_1.point.symbolLocations.map(function (location, index) {\n                            _this.drawTrackBall(data_1.series, data_1.point, location, index);\n                        });\n                    }\n                };\n                var this_1 = this;\n                for (var _b = 0, _c = this.currentPoints; _b < _c.length; _b++) {\n                    var data_1 = _c[_b];\n                    _loop_1(data_1);\n                }\n                this.previousPoints = extend([], this.currentPoints, null, true);\n            }\n        }\n        if (!chart.tooltip.enable && ((this.currentPoints.length === 0 && this.isRemove) || (remove && this.isRemove) ||\n            !withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect))) {\n            this.isRemove = false;\n            this.markerExplode = setTimeout(function () {\n                _this.removeHighlightedMarker();\n            }, 2000);\n        }\n        this.currentPoints = [];\n    };\n    MarkerExplode.prototype.drawTrackBall = function (series, point, location, index) {\n        var marker = series.marker;\n        var element = series.symbolElement || series.seriesElement;\n        var shape = series.type === 'Bubble' ? 'Circle' : marker.shape;\n        var symbolId = this.elementId + '_Series_' + series.index + '_Point_' + point.index + '_Trackball' +\n            (index ? index : '');\n        var width = (series.type !== 'Bubble') ? marker.width : (point.regions[0].width);\n        var height = (series.type !== 'Bubble') ? marker.height : (point.regions[0].height);\n        var size = new Size(width + 5, height + 5);\n        var border = (series.type === 'Bubble' || series.type === 'Scatter' ? series.border : marker.border);\n        var explodeSeries = (series.type === 'BoxAndWhisker' || series.type === 'Bubble' || series.type === 'Scatter');\n        var borderColor = (border.color && border.color !== 'transparent') ? border.color :\n            explodeSeries ? point.color : series.interior;\n        var colorValue = convertHexToColor(colorNameToHex(borderColor));\n        for (var i = 0; i < 2; i++) {\n            var options = new PathOption(symbolId + '_' + i, i ? (marker.fill || point.color || (explodeSeries ? series.interior : '#ffffff')) : 'transparent', marker.border.width + (i ? 0 : 8), i ? borderColor : 'rgba(' + colorValue.r + ',' + colorValue.g + ',' + colorValue.b + ',0.2)', marker.opacity, null, null);\n            var symbol = drawSymbol(location, shape, size, marker.imageUrl, options, '');\n            symbol.setAttribute('style', 'pointer-events:none');\n            symbol.setAttribute('class', 'EJ2-Trackball');\n            element.appendChild(symbol);\n        }\n    };\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.removeHighlightedMarker = function () {\n        var elements = document.getElementsByClassName('EJ2-Trackball');\n        for (var i = 0, len = elements.length; i < len; i++) {\n            remove(elements[0]);\n        }\n        this.previousPoints = [];\n    };\n    return MarkerExplode;\n}(Data));\nexport { MarkerExplode };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { drawSymbol, PathOption, Size, markerAnimate, CircleOption, RectOption } from '../../common/utils/helper';\nimport { findlElement } from '../../common/utils/helper';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pointRender } from '../../common/model/constants';\nimport { MarkerExplode } from './marker-explode';\nimport { getSaturationColor } from '../../common/utils/helper';\n/**\n * Marker Module used to render the marker for line type series.\n */\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    /**\n     * Constructor for the marker module.\n     * @private\n     */\n    function Marker(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Render the marker for series.\n     * @return {void}\n     * @private\n     */\n    Marker.prototype.render = function (series) {\n        var _this = this;\n        this.createElement(series);\n        var _loop_1 = function (point) {\n            if (point.visible && point.symbolLocations.length) {\n                point.symbolLocations.map(function (location, index) {\n                    _this.renderMarker(series, point, location, index);\n                });\n            }\n        };\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            _loop_1(point);\n        }\n    };\n    Marker.prototype.renderMarker = function (series, point, location, index) {\n        var seriesIndex = series.index;\n        var marker = series.marker;\n        var border = {\n            color: marker.border.color,\n            width: marker.border.width\n        };\n        var shape = marker.shape;\n        var borderColor = marker.border.color;\n        var symbolId;\n        var shapeOption;\n        var isBoxPlot = series.type === 'BoxAndWhisker';\n        var fill = marker.fill || (isBoxPlot ? series.interior : '#ffffff');\n        var argsData;\n        var parentElement = isBoxPlot ?\n            findlElement(series.seriesElement.childNodes, 'Series_' + series.index + '_Point_' + point.index)\n            : series.symbolElement;\n        border.color = borderColor || series.interior;\n        symbolId = this.elementId + '_Series_' + seriesIndex + '_Point_' + point.index + '_Symbol' +\n            (index ? index : '');\n        argsData = {\n            cancel: false, name: pointRender, series: series, point: point, fill: series.setPointColor(point, fill),\n            border: {\n                color: series.type === 'BoxAndWhisker' ?\n                    (!isNullOrUndefined(borderColor) && borderColor !== 'transparent') ? borderColor :\n                        getSaturationColor(fill, -0.6)\n                    : border.color,\n                width: border.width\n            },\n            height: marker.height,\n            width: marker.width\n        };\n        argsData.border = series.setBorderColor(point, { width: argsData.border.width, color: argsData.border.color });\n        this.chart.trigger(pointRender, argsData);\n        point.color = argsData.fill;\n        if (!argsData.cancel) {\n            var y = void 0;\n            if (series.type === 'RangeArea') {\n                y = index ? point.low : point.high;\n            }\n            else if (isBoxPlot) {\n                y = point.outliers[index];\n            }\n            else {\n                y = point.y;\n            }\n            shapeOption = new PathOption(symbolId, argsData.fill, argsData.border.width, argsData.border.color, marker.opacity, null);\n            if (parentElement !== undefined && parentElement !== null) {\n                parentElement.appendChild(drawSymbol(location, shape, new Size(argsData.width, argsData.height), marker.imageUrl, shapeOption, point.x.toString() + ':' + y.toString()));\n            }\n        }\n        else {\n            location = null;\n        }\n    };\n    Marker.prototype.createElement = function (series) {\n        var markerClipRect;\n        var marker = series.marker;\n        // 8 for extend border value 5 for extend size value\n        var explodeValue = marker.border.width + 8 + 5;\n        var render = series.chart.renderer;\n        var transform;\n        transform = series.chart.chartAreaType === 'Cartesian' ? 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')' : '';\n        if (marker.visible) {\n            var markerHeight = (marker.height + explodeValue) / 2;\n            var markerWidth = (marker.width + explodeValue) / 2;\n            if (series.chart.chartAreaType === 'Cartesian') {\n                markerClipRect = render.drawClipPath(new RectOption(this.elementId + '_ChartMarkerClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                    x: -markerWidth, y: -markerHeight,\n                    width: series.clipRect.width + markerWidth * 2,\n                    height: series.clipRect.height + markerHeight * 2\n                }));\n            }\n            else {\n                markerClipRect = render.drawCircularClipPath(new CircleOption(this.elementId + '_ChartMarkerClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, series.clipRect.width / 2 + series.clipRect.x, series.clipRect.height / 2 + series.clipRect.y, series.chart.radius + Math.max(markerHeight, markerWidth)));\n            }\n            series.symbolElement = render.createGroup({\n                'id': this.elementId + 'SymbolGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.elementId + '_ChartMarkerClipRect_' + series.index + ')'\n            });\n            series.symbolElement.appendChild(markerClipRect);\n        }\n    };\n    Marker.prototype.getRangeLowPoint = function (region, series) {\n        var x = region.x;\n        var y = region.y;\n        if (series.chart.requireInvertedAxis) {\n            y += region.height / 2;\n            x += series.yAxis.isInversed ? region.width : 0;\n        }\n        else {\n            y += series.yAxis.isInversed ? 0 : region.height;\n            x += region.width / 2;\n        }\n        return { x: x, y: y };\n    };\n    /**\n     * Animates the marker.\n     * @return {void}.\n     * @private\n     */\n    Marker.prototype.doMarkerAnimation = function (series) {\n        if (!(series.isRectSeries || series.type === 'Scatter' || series.type === 'Bubble' ||\n            (series.chart.chartAreaType === 'PolarRadar' && (series.drawType === 'Scatter' || series.drawType.indexOf('Column') > -1)))) {\n            var markerElements = series.symbolElement.childNodes;\n            var delay = series.animation.delay + series.animation.duration;\n            var j = 1;\n            var incFactor = series.type === 'RangeArea' ? 2 : 1;\n            for (var i = 0; i < series.points.length; i++) {\n                if (!series.points[i].symbolLocations.length) {\n                    continue;\n                }\n                markerAnimate(markerElements[j], delay, 200, series, i, series.points[i].symbolLocations[0], false);\n                if (incFactor === 2) {\n                    var lowPoint = this.getRangeLowPoint(series.points[i].regions[0], series);\n                    markerAnimate(markerElements[j + 1], delay, 200, series, i, lowPoint, false);\n                }\n                j += incFactor;\n            }\n        }\n    };\n    return Marker;\n}(MarkerExplode));\nexport { Marker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, Complex, ChildProperty } from '@syncfusion/ej2-base';\nimport { Font, Border } from '../model/base';\nimport { Theme } from '../model/theme';\nimport { Size, Rect, subtractThickness, Thickness, drawSymbol, measureText, ChartLocation, PathOption } from '../utils/helper';\nimport { RectOption, TextOption, textElement, stringToNumber, removeElement, showTooltip, getElement } from '../utils/helper';\n/**\n * Configures the location for the legend.\n */\nvar Location = /** @class */ (function (_super) {\n    __extends(Location, _super);\n    function Location() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Location.prototype, \"x\", void 0);\n    __decorate([\n        Property(0)\n    ], Location.prototype, \"y\", void 0);\n    return Location;\n}(ChildProperty));\nexport { Location };\n/**\n * Configures the legends in charts.\n */\nvar LegendSettings = /** @class */ (function (_super) {\n    __extends(LegendSettings, _super);\n    function LegendSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0 }, Location)\n    ], LegendSettings.prototype, \"location\", void 0);\n    __decorate([\n        Property('Auto')\n    ], LegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(8)\n    ], LegendSettings.prototype, \"padding\", void 0);\n    __decorate([\n        Property('Center')\n    ], LegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, Font)\n    ], LegendSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(10)\n    ], LegendSettings.prototype, \"shapeHeight\", void 0);\n    __decorate([\n        Property(10)\n    ], LegendSettings.prototype, \"shapeWidth\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], LegendSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property(5)\n    ], LegendSettings.prototype, \"shapePadding\", void 0);\n    __decorate([\n        Property('transparent')\n    ], LegendSettings.prototype, \"background\", void 0);\n    __decorate([\n        Property(1)\n    ], LegendSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"toggleVisibility\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"description\", void 0);\n    __decorate([\n        Property(3)\n    ], LegendSettings.prototype, \"tabIndex\", void 0);\n    return LegendSettings;\n}(ChildProperty));\nexport { LegendSettings };\n/**\n * Legend base class for Chart and Accumulation chart.\n * @private\n */\nvar BaseLegend = /** @class */ (function () {\n    /**\n     * Constructor for the dateTime module.\n     * @private\n     */\n    function BaseLegend(chart) {\n        this.rowCount = 0; // legend row counts per page \n        this.columnCount = 0; // legend column counts per page \n        this.pageButtonSize = 8;\n        this.pageXCollections = []; // pages of x locations\n        this.maxColumns = 0;\n        this.isTrimmed = false;\n        this.maxWidth = 0;\n        this.currentPage = 1;\n        this.chart = chart;\n        this.legend = chart.legendSettings;\n        this.legendID = chart.element.id + '_chart_legend';\n        this.isChartControl = (chart.getModuleName() === 'chart');\n    }\n    /**\n     * Calculate the bounds for the legends.\n     * @return {void}\n     * @private\n     */\n    BaseLegend.prototype.calculateLegendBounds = function (rect, availableSize) {\n        var legend = this.legend;\n        this.getPosition(legend.position, availableSize);\n        this.legendBounds = new Rect(rect.x, rect.y, 0, 0);\n        this.isVertical = (this.position === 'Left' || this.position === 'Right');\n        if (this.isVertical) {\n            this.legendBounds.height = stringToNumber(legend.height, availableSize.height - (rect.y - this.chart.margin.top)) || rect.height;\n            this.legendBounds.width = stringToNumber(legend.width || '20%', availableSize.width);\n        }\n        else {\n            this.legendBounds.width = stringToNumber(legend.width, availableSize.width) || rect.width;\n            this.legendBounds.height = stringToNumber(legend.height || '20%', availableSize.height);\n        }\n        this.library.getLegendBounds(availableSize, this.legendBounds, legend);\n        this.getLocation(this.position, legend.alignment, this.legendBounds, rect, availableSize);\n    };\n    /**\n     * To find legend position based on available size for chart and accumulation chart\n     */\n    BaseLegend.prototype.getPosition = function (position, availableSize) {\n        if (this.isChartControl) {\n            this.position = (position !== 'Auto') ? position : 'Bottom';\n        }\n        else {\n            if (position === 'Auto' && this.chart.visibleSeries &&\n                (this.chart.visibleSeries[0].type === 'Funnel' || this.chart.visibleSeries[0].type === 'Pyramid')) {\n                position = 'Top';\n            }\n            this.position = (position !== 'Auto') ? position :\n                (availableSize.width > availableSize.height ? 'Right' : 'Bottom');\n        }\n    };\n    /**\n     * To set bounds for chart and accumulation chart\n     */\n    BaseLegend.prototype.setBounds = function (computedWidth, computedHeight, legend, legendBounds) {\n        computedWidth = computedWidth < legendBounds.width ? computedWidth : legendBounds.width;\n        computedHeight = computedHeight < legendBounds.height ? computedHeight : legendBounds.height;\n        legendBounds.width = !legend.width ? computedWidth : legendBounds.width;\n        legendBounds.height = !legend.height ? computedHeight : legendBounds.height;\n        this.rowCount = Math.max(1, Math.ceil((legendBounds.height - legend.padding) / (this.maxItemHeight + legend.padding)));\n    };\n    /**\n     * To find legend location based on position, alignment for chart and accumulation chart\n     */\n    BaseLegend.prototype.getLocation = function (position, alignment, legendBounds, rect, availableSize) {\n        var padding = this.legend.border.width;\n        var legendHeight = legendBounds.height + padding;\n        var legendWidth = legendBounds.width + padding;\n        var marginBottom = this.chart.margin.bottom;\n        if (position === 'Bottom') {\n            legendBounds.x = this.alignLegend(legendBounds.x, availableSize.width, legendBounds.width, alignment);\n            legendBounds.y = rect.y + (rect.height - legendHeight) + padding;\n            subtractThickness(rect, new Thickness(0, 0, 0, legendHeight));\n        }\n        else if (position === 'Top') {\n            legendBounds.x = this.alignLegend(legendBounds.x, availableSize.width, legendBounds.width, alignment);\n            legendBounds.y = rect.y + padding;\n            subtractThickness(rect, new Thickness(0, 0, legendHeight, 0));\n        }\n        else if (position === 'Right') {\n            legendBounds.x = rect.x + (rect.width - legendBounds.width);\n            legendBounds.y = rect.y + this.alignLegend(0, availableSize.height - (rect.y + marginBottom), legendBounds.height, alignment);\n            subtractThickness(rect, new Thickness(0, legendWidth, 0, 0));\n        }\n        else if (position === 'Left') {\n            legendBounds.y = rect.y + this.alignLegend(0, availableSize.height - (rect.y + marginBottom), legendBounds.height, alignment);\n            subtractThickness(rect, new Thickness(legendWidth, 0, 0, 0));\n        }\n        else {\n            legendBounds.x = this.legend.location.x;\n            legendBounds.y = this.legend.location.y;\n            subtractThickness(rect, new Thickness(0, 0, 0, 0));\n        }\n    };\n    /**\n     * To find legend alignment for chart and accumulation chart\n     */\n    BaseLegend.prototype.alignLegend = function (start, size, legendSize, alignment) {\n        switch (alignment) {\n            case 'Far':\n                start = (size - legendSize) - start;\n                break;\n            case 'Center':\n                start = ((size - legendSize) / 2);\n                break;\n        }\n        return start;\n    };\n    /**\n     * Renders the legend.\n     * @return {void}\n     * @private\n     */\n    BaseLegend.prototype.renderLegend = function (chart, legend, legendBounds) {\n        var firstLegend = this.findFirstLegendPosition(this.legendCollections);\n        var padding = legend.padding;\n        this.maxItemHeight = Math.max(this.legendCollections[0].textSize.height, legend.shapeHeight);\n        var legendGroup = chart.renderer.createGroup({ id: this.legendID + '_g' });\n        var legendTranslateGroup = this.createLegendElements(chart, legendBounds, legendGroup, legend, this.legendID);\n        if (firstLegend !== this.legendCollections.length) {\n            var legendSeriesGroup = void 0; // legendItem group for each series group element\n            var start = void 0; // starting shape center x,y position && to resolve lint error used new line for declaration\n            start = new ChartLocation(legendBounds.x + padding + (legend.shapeWidth / 2), legendBounds.y + padding + this.maxItemHeight / 2);\n            var textOptions = new TextOption('', start.x, start.y, 'start');\n            //  initialization for totalPages legend click totalpage again calculate\n            this.totalPages = this.isChartControl ? this.totalPages : 0;\n            var textPadding = legend.shapePadding + padding + legend.shapeWidth;\n            var count = 0;\n            this.pageXCollections = [];\n            this.legendCollections[firstLegend].location = start;\n            var previousLegend = this.legendCollections[firstLegend];\n            for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n                var legendOption = _a[_i];\n                if (legendOption.render && legendOption.text !== '') {\n                    legendSeriesGroup = chart.renderer.createGroup({\n                        id: this.legendID + this.generateId(legendOption, '_g_', count)\n                    });\n                    legendSeriesGroup.setAttribute('tabindex', legend.tabIndex.toString());\n                    legendSeriesGroup.setAttribute('aria-label', legend.description || 'Click to show or hide the ' + legendOption.text + ' series');\n                    this.library.getRenderPoint(legendOption, start, textPadding, previousLegend, legendBounds, count, firstLegend);\n                    this.renderSymbol(legendOption, legendSeriesGroup, count);\n                    this.renderText(chart, legendOption, legendSeriesGroup, textOptions, count);\n                    legendSeriesGroup.setAttribute('style', 'cursor: ' + ((!legend.toggleVisibility && chart.selectionMode === 'None') ? 'auto' : 'pointer'));\n                    legendTranslateGroup.appendChild(legendSeriesGroup);\n                    previousLegend = legendOption;\n                }\n                count++;\n            }\n            if (this.isPaging) {\n                this.renderPagingElements(chart, legendBounds, textOptions, legendGroup);\n            }\n        }\n        chart.svgObject.appendChild(legendGroup);\n    };\n    /**\n     * To find first valid legend text index for chart and accumulation chart\n     */\n    BaseLegend.prototype.findFirstLegendPosition = function (legendCollection) {\n        var count = 0;\n        for (var _i = 0, legendCollection_1 = legendCollection; _i < legendCollection_1.length; _i++) {\n            var legend = legendCollection_1[_i];\n            if (legend.render && legend.text !== '') {\n                break;\n            }\n            count++;\n        }\n        return count;\n    };\n    /**\n     * To create legend rendering elements for chart and accumulation chart\n     */\n    BaseLegend.prototype.createLegendElements = function (chart, legendBounds, legendGroup, legend, id) {\n        var padding = legend.padding;\n        var options = new RectOption(id + '_element', legend.background, legend.border, legend.opacity, legendBounds);\n        legendGroup.appendChild(chart.renderer.drawRectangle(options));\n        var legendItemsGroup = chart.renderer.createGroup({ id: id + '_collections' });\n        legendGroup.appendChild(legendItemsGroup);\n        this.legendTranslateGroup = chart.renderer.createGroup({ id: id + '_translate_g' });\n        legendItemsGroup.appendChild(this.legendTranslateGroup);\n        var clippath = chart.renderer.createClipPath({ id: id + '_clipPath' });\n        options.y += padding;\n        options.id += '_clipPath_rect';\n        options.width = (!this.isChartControl && this.isVertical) ? this.maxWidth - padding : legendBounds.width;\n        this.clipRect = chart.renderer.drawRectangle(options);\n        clippath.appendChild(this.clipRect);\n        chart.svgObject.appendChild(clippath);\n        legendItemsGroup.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n        return this.legendTranslateGroup;\n    };\n    /**\n     * To render legend symbols for chart and accumulation chart\n     */\n    BaseLegend.prototype.renderSymbol = function (legendOption, group, i) {\n        var symbolColor = legendOption.visible ? legendOption.fill : '#D3D3D3';\n        var shape = (legendOption.shape === 'SeriesType') ? legendOption.type : legendOption.shape;\n        shape = shape === 'Scatter' ? legendOption.markerShape : shape;\n        var symbolOption = new PathOption(this.legendID + this.generateId(legendOption, '_shape_', i), symbolColor, 1, symbolColor, 1, '', '');\n        group.appendChild(drawSymbol(legendOption.location, shape, new Size(this.legend.shapeWidth, this.legend.shapeHeight), '', symbolOption, 'Click to show or hide the ' + legendOption.text + ' series'));\n        if (shape === 'Line' && legendOption.markerVisibility && legendOption.markerShape !== 'Image' ||\n            legendOption.type === 'Doughnut') {\n            symbolOption.id = this.legendID + this.generateId(legendOption, '_shape_marker_', i);\n            shape = legendOption.type === 'Doughnut' ? 'Circle' : legendOption.markerShape;\n            symbolOption.fill = legendOption.type === 'Doughnut' ? '#FFFFFF' : symbolOption.fill;\n            group.appendChild(drawSymbol(legendOption.location, shape, new Size(this.legend.shapeWidth / 2, this.legend.shapeHeight / 2), '', symbolOption, 'Click to show or hide the ' + legendOption.text + ' series'));\n        }\n    };\n    /**\n     * To render legend text for chart and accumulation chart\n     */\n    BaseLegend.prototype.renderText = function (chart, legendOption, group, textOptions, i) {\n        var legend = chart.legendSettings;\n        var hiddenColor = '#D3D3D3';\n        textOptions.id = this.legendID + this.generateId(legendOption, '_text_', i);\n        var fontcolor = legendOption.visible ? legend.textStyle.color : hiddenColor;\n        textOptions.text = legendOption.text;\n        textOptions.x = legendOption.location.x + (legend.shapeWidth / 2) + legend.shapePadding;\n        textOptions.y = legendOption.location.y + this.maxItemHeight / 4;\n        var element = textElement(textOptions, legend.textStyle, fontcolor, group);\n        element.setAttribute('aria-label', legend.description || 'Click to show or hide the ' + legendOption.text + ' series');\n    };\n    /**\n     * To render legend paging elements for chart and accumulation chart\n     */\n    BaseLegend.prototype.renderPagingElements = function (chart, bounds, textOption, legendGroup) {\n        var paginggroup = chart.renderer.createGroup({ id: this.legendID + '_navigation' });\n        legendGroup.appendChild(paginggroup);\n        var grayColor = '#545454';\n        var legend = chart.legendSettings; // to solve parameter lint error, legend declaration is here\n        var padding = 8; // const padding for paging elements\n        if (this.isChartControl || !this.isVertical) {\n            this.totalPages = Math.ceil(this.totalPages / Math.max(1, this.rowCount - 1));\n        }\n        else {\n            this.totalPages = Math.ceil(this.totalPages / this.maxColumns);\n        }\n        var symbolOption = new PathOption(this.legendID + '_pageup', 'transparent', 5, grayColor, 1, '', '');\n        var iconSize = this.pageButtonSize;\n        paginggroup.setAttribute('style', 'cursor: pointer');\n        // Page left arrow drawing calculation started here\n        this.clipPathHeight = (this.rowCount - 1) * (this.maxItemHeight + legend.padding);\n        this.clipRect.setAttribute('height', this.clipPathHeight.toString());\n        var x = bounds.x + iconSize / 2;\n        var y = bounds.y + this.clipPathHeight + ((bounds.height - this.clipPathHeight) / 2);\n        paginggroup.appendChild(drawSymbol({ x: x, y: y }, 'LeftArrow', new Size(iconSize, iconSize), '', symbolOption, 'LeftArrow'));\n        // Page numbering rendering calculation started here\n        textOption.x = x + (iconSize / 2) + padding;\n        var size = measureText(this.totalPages + '/' + this.totalPages, legend.textStyle);\n        textOption.y = y + (size.height / 4);\n        textOption.id = this.legendID + '_pagenumber';\n        textOption.text = '1/' + this.totalPages;\n        var pageTextElement = textElement(textOption, legend.textStyle, legend.textStyle.color, paginggroup);\n        // Page right arrow rendering calculation started here\n        x = (textOption.x + padding + (iconSize / 2) + size.width);\n        symbolOption.id = this.legendID + '_pagedown';\n        paginggroup.appendChild(drawSymbol({ x: x, y: y }, 'RightArrow', new Size(iconSize, iconSize), '', symbolOption, 'RightArrow'));\n        // placing the navigation buttons and page numbering in legend right corner\n        paginggroup.setAttribute('transform', 'translate(' + (bounds.width - (2 * (iconSize + padding) +\n            padding + size.width)) + ', ' + 0 + ')');\n        this.translatePage(pageTextElement, this.currentPage - 1, this.currentPage);\n    };\n    /**\n     * To translate legend pages for chart and accumulation chart\n     */\n    BaseLegend.prototype.translatePage = function (pagingText, page, pageNumber) {\n        var size = (this.clipPathHeight) * page;\n        var translate = 'translate(0,-' + size + ')';\n        if (!this.isChartControl && this.isVertical) {\n            var pageLength = page * this.maxColumns;\n            size = this.pageXCollections[page * this.maxColumns] - this.legendBounds.x;\n            size = size < 0 ? 0 : size; // to avoid small pixel variation\n            translate = 'translate(-' + size + ',0)';\n        }\n        this.legendTranslateGroup.setAttribute('transform', translate);\n        pagingText.textContent = (pageNumber) + '/' + this.totalPages;\n        this.currentPage = pageNumber;\n    };\n    /**\n     * To change legend pages for chart and accumulation chart\n     */\n    BaseLegend.prototype.changePage = function (event, pageUp) {\n        var pageText = document.getElementById(this.legendID + '_pagenumber');\n        var page = parseInt(pageText.textContent.split('/')[0], 10);\n        if (pageUp && page > 1) {\n            this.translatePage(pageText, (page - 2), (page - 1));\n        }\n        else if (!pageUp && page < this.totalPages) {\n            this.translatePage(pageText, page, (page + 1));\n        }\n    };\n    /**\n     * To find legend elements id based on chart or accumulation chart\n     * @private\n     */\n    BaseLegend.prototype.generateId = function (option, prefix, count) {\n        if (this.isChartControl) {\n            return prefix + count;\n        }\n        else {\n            return prefix + option.pointIndex;\n        }\n    };\n    /**\n     * To show or hide trimmed text tooltip for legend.\n     * @return {void}\n     * @private\n     */\n    BaseLegend.prototype.move = function (event) {\n        var _this = this;\n        var x = this.chart.mouseX;\n        var y = this.chart.mouseY;\n        if (event.target.textContent.indexOf('...') > -1) {\n            var targetId = event.target.id.split(this.legendID + '_text_');\n            if (targetId.length === 2) {\n                var index = parseInt(targetId[1], 10);\n                var element = this.chart.element;\n                if (!isNaN(index)) {\n                    if (this.chart.isTouch) {\n                        removeElement(this.chart.element.id + '_EJ2_Legend_Tooltip');\n                    }\n                    if (this.isChartControl) {\n                        showTooltip(this.chart.series[index].name, x, y, element.offsetWidth, element.id + '_EJ2_Legend_Tooltip', getElement(this.chart.element.id + '_Secondary_Element'));\n                    }\n                    else {\n                        var location_1 = this.chart.removeSvgOffset(x, y);\n                        showTooltip(this.chart.visibleSeries[0].points[index].x.toString(), location_1.x + 10, location_1.y + 10, element.offsetWidth, element.id + '_EJ2_Legend_Tooltip', getElement(this.chart.element.id + '_Secondary_Element'));\n                    }\n                }\n            }\n        }\n        else {\n            removeElement(this.chart.element.id + '_EJ2_Legend_Tooltip');\n        }\n        if (this.chart.isTouch) {\n            clearTimeout(this.clearTooltip);\n            this.clearTooltip = setTimeout(function () { removeElement(_this.chart.element.id + '_EJ2_Legend_Tooltip'); }, 1000);\n        }\n    };\n    return BaseLegend;\n}());\nexport { BaseLegend };\n/**\n * Class for legend options\n * @private\n */\nvar LegendOptions = /** @class */ (function () {\n    function LegendOptions(text, fill, shape, visible, type, markerShape, markerVisibility, pointIndex, seriesIndex) {\n        this.location = { x: 0, y: 0 };\n        this.text = text;\n        this.fill = fill;\n        this.shape = shape;\n        this.visible = visible;\n        this.type = type;\n        this.markerVisibility = markerVisibility;\n        this.markerShape = markerShape;\n        this.pointIndex = pointIndex;\n        this.seriesIndex = seriesIndex;\n    }\n    return LegendOptions;\n}());\nexport { LegendOptions };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../series/chart-series-model.d.ts' />\nimport { Property, Complex } from '@syncfusion/ej2-base';\nimport { Connector } from '../../common/model/base';\nimport { SeriesBase } from '../series/chart-series';\nimport { Rect, firstToLowerCase } from '../../common/utils/helper';\n/**\n * Defines how to represent the market trend using technical indicators\n */\nvar TechnicalIndicator = /** @class */ (function (_super) {\n    __extends(TechnicalIndicator, _super);\n    function TechnicalIndicator() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        return _this;\n    }\n    /** @private */\n    TechnicalIndicator.prototype.setDataSource = function (series, chart) {\n        if (series) {\n            this.xData = series.xData;\n            this.yData = series.yData;\n            this.points = series.points;\n        }\n        var type = firstToLowerCase(this.type);\n        chart[type + 'IndicatorModule'].initDataSource(this, chart);\n        chart.visibleSeriesCount += this.targetSeries.length;\n    };\n    __decorate([\n        Property('Sma')\n    ], TechnicalIndicator.prototype, \"type\", void 0);\n    __decorate([\n        Property(14)\n    ], TechnicalIndicator.prototype, \"period\", void 0);\n    __decorate([\n        Property(14)\n    ], TechnicalIndicator.prototype, \"kPeriod\", void 0);\n    __decorate([\n        Property(3)\n    ], TechnicalIndicator.prototype, \"dPeriod\", void 0);\n    __decorate([\n        Property(80)\n    ], TechnicalIndicator.prototype, \"overBought\", void 0);\n    __decorate([\n        Property(20)\n    ], TechnicalIndicator.prototype, \"overSold\", void 0);\n    __decorate([\n        Property(2)\n    ], TechnicalIndicator.prototype, \"standardDeviation\", void 0);\n    __decorate([\n        Property('Close')\n    ], TechnicalIndicator.prototype, \"field\", void 0);\n    __decorate([\n        Property(12)\n    ], TechnicalIndicator.prototype, \"slowPeriod\", void 0);\n    __decorate([\n        Property(26)\n    ], TechnicalIndicator.prototype, \"fastPeriod\", void 0);\n    __decorate([\n        Property(true)\n    ], TechnicalIndicator.prototype, \"showZones\", void 0);\n    __decorate([\n        Complex({ color: '#ff9933', width: 2 }, Connector)\n    ], TechnicalIndicator.prototype, \"macdLine\", void 0);\n    __decorate([\n        Property('Both')\n    ], TechnicalIndicator.prototype, \"macdType\", void 0);\n    __decorate([\n        Property('#2ecd71')\n    ], TechnicalIndicator.prototype, \"macdPositiveColor\", void 0);\n    __decorate([\n        Property('#e74c3d')\n    ], TechnicalIndicator.prototype, \"macdNegativeColor\", void 0);\n    __decorate([\n        Property('rgba(211,211,211,0.25)')\n    ], TechnicalIndicator.prototype, \"bandColor\", void 0);\n    __decorate([\n        Complex({ color: '#ffb735', width: 1 }, Connector)\n    ], TechnicalIndicator.prototype, \"upperLine\", void 0);\n    __decorate([\n        Complex({ color: '#f2ec2f', width: 1 }, Connector)\n    ], TechnicalIndicator.prototype, \"lowerLine\", void 0);\n    __decorate([\n        Complex({ color: '#f2ec2f', width: 1 }, Connector)\n    ], TechnicalIndicator.prototype, \"periodLine\", void 0);\n    __decorate([\n        Property('')\n    ], TechnicalIndicator.prototype, \"seriesName\", void 0);\n    return TechnicalIndicator;\n}(SeriesBase));\nexport { TechnicalIndicator };\n","import { print as printWindow, createElement } from '@syncfusion/ej2-base';\nimport { getElement } from '../utils/helper';\nimport { beforePrint } from '../model/constants';\n/**\n * Annotation Module handles the Annotation for chart and accumulation series.\n */\nvar ExportUtils = /** @class */ (function () {\n    /**\n     * Constructor for chart and accumulation annotation\n     * @param control\n     */\n    function ExportUtils(control) {\n        this.control = control;\n    }\n    /**\n     * To print the accumulation and chart elements\n     * @param elements\n     */\n    ExportUtils.prototype.print = function (elements) {\n        this.printWindow = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWindow.moveTo(0, 0);\n        this.printWindow.resizeTo(screen.availWidth, screen.availHeight);\n        var argsData = {\n            cancel: false, htmlContent: this.getHTMLContent(elements), name: beforePrint\n        };\n        this.control.trigger(beforePrint, argsData);\n        if (!argsData.cancel) {\n            printWindow(argsData.htmlContent, this.printWindow);\n        }\n    };\n    /**\n     * To get the html string of the chart and accumulation\n     * @param elements\n     * @private\n     */\n    ExportUtils.prototype.getHTMLContent = function (elements) {\n        var div = createElement('div');\n        if (elements) {\n            if (elements instanceof Array) {\n                elements.forEach(function (value) {\n                    div.appendChild(getElement(value).cloneNode(true));\n                });\n            }\n            else if (elements instanceof Element) {\n                div.appendChild(elements.cloneNode(true));\n            }\n            else {\n                div.appendChild(getElement(elements).cloneNode(true));\n            }\n        }\n        else {\n            div.appendChild(this.control.element.cloneNode(true));\n        }\n        return div;\n    };\n    /**\n     * To export the chart svgObject\n     * @param type\n     * @param fileName\n     */\n    ExportUtils.prototype.export = function (type, fileName) {\n        var element = createElement('canvas', {\n            id: 'ej2-canvas',\n            attrs: {\n                'width': this.control.availableSize.width.toString(),\n                'height': this.control.availableSize.height.toString()\n            }\n        });\n        var url = window.URL.createObjectURL(new Blob([(new XMLSerializer()).serializeToString(this.control.svgObject)], { type: 'image/svg+xml' }));\n        var image = new Image();\n        var ctx = element.getContext('2d');\n        image.onload = (function () {\n            ctx.drawImage(image, 0, 0);\n            window.URL.revokeObjectURL(url);\n            if (window.navigator.msSaveOrOpenBlob) {\n                window.navigator.msSaveOrOpenBlob(element.msToBlob(), fileName + '.' + type.toLocaleLowerCase());\n            }\n            else {\n                var imgURI = element.toDataURL('image/png').replace('image/png', 'image/octet-stream');\n                createElement('a', {\n                    attrs: {\n                        'download': fileName + '.' + type.toLocaleLowerCase(),\n                        'href': imgURI\n                    }\n                }).dispatchEvent(new MouseEvent('click', {\n                    view: window,\n                    bubbles: false,\n                    cancelable: true\n                }));\n            }\n        });\n        image.src = url;\n    };\n    return ExportUtils;\n}());\nexport { ExportUtils };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, NotifyPropertyChanges, Internationalization, L10n } from '@syncfusion/ej2-base';\nimport { ChildProperty } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { extend } from '@syncfusion/ej2-base';\nimport { Browser, Touch } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, Complex, Collection } from '@syncfusion/ej2-base';\nimport { findClipRect, measureText, TextOption, textTrim, showTooltip, removeElement } from '../common/utils/helper';\nimport { textElement, RectOption, createSvg, firstToLowerCase, titlePositionX } from '../common/utils/helper';\nimport { getSeriesColor, Theme } from '../common/model/theme';\nimport { Margin, Border, ChartArea, Font, Indexes } from '../common/model/base';\nimport { Row, Column, Axis } from './axis/axis';\nimport { CartesianAxisLayoutPanel } from './axis/cartesian-panel';\nimport { Rect } from '../common/utils/helper';\nimport { Series } from './series/chart-series';\nimport { Data } from '../common/model/data';\nimport { Marker } from './series/marker';\nimport { LegendSettings } from '../common/legend/legend';\nimport { TechnicalIndicator } from './technical-indicators/technical-indicator';\nimport { chartMouseClick, chartMouseLeave, chartMouseDown, chartMouseMove, chartMouseUp, load } from '../common/model/constants';\nimport { ExportUtils } from '../common/utils/export';\nimport { ChartAnnotationSettings } from './model/chart-base';\nimport { getElement } from '../common/utils/helper';\n/**\n * Configures the ToolTips in the chart.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], TooltipSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(false)\n    ], TooltipSettings.prototype, \"shared\", void 0);\n    __decorate([\n        Property('#000816')\n    ], TooltipSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"header\", void 0);\n    __decorate([\n        Property(0.75)\n    ], TooltipSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Complex(Theme.tooltipLabelFont, Font)\n    ], TooltipSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Complex({ color: '#cccccc', width: 0.5 }, Border)\n    ], TooltipSettings.prototype, \"border\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n/**\n * Configures the crosshair in the chart.\n */\nvar CrosshairSettings = /** @class */ (function (_super) {\n    __extends(CrosshairSettings, _super);\n    function CrosshairSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], CrosshairSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Complex({ color: '#4f4f4f', width: 1 }, Border)\n    ], CrosshairSettings.prototype, \"line\", void 0);\n    __decorate([\n        Property('Both')\n    ], CrosshairSettings.prototype, \"lineType\", void 0);\n    return CrosshairSettings;\n}(ChildProperty));\nexport { CrosshairSettings };\n/**\n * Configures the zooming behavior for the chart.\n */\nvar ZoomSettings = /** @class */ (function (_super) {\n    __extends(ZoomSettings, _super);\n    function ZoomSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enableSelectionZooming\", void 0);\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enablePinchZooming\", void 0);\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enableMouseWheelZooming\", void 0);\n    __decorate([\n        Property(true)\n    ], ZoomSettings.prototype, \"enableDeferredZooming\", void 0);\n    __decorate([\n        Property('XY')\n    ], ZoomSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(['Zoom', 'ZoomIn', 'ZoomOut', 'Pan', 'Reset'])\n    ], ZoomSettings.prototype, \"toolbarItems\", void 0);\n    return ZoomSettings;\n}(ChildProperty));\nexport { ZoomSettings };\n/**\n * Represents the Chart control.\n * ```html\n * <div id=\"chart\"/>\n * <script>\n *   var chartObj = new Chart({ isResponsive : true });\n *   chartObj.appendTo(\"#chart\");\n * </script>\n * ```\n */\nvar Chart = /** @class */ (function (_super) {\n    __extends(Chart, _super);\n    /**\n     * Constructor for creating the widget\n     * @hidden\n     */\n    function Chart(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @private */\n        _this.chartAreaType = 'Cartesian';\n        return _this;\n    }\n    /**\n     * Initialize the event handler.\n     */\n    Chart.prototype.preRender = function () {\n        this.unWireEvents();\n        this.initPrivateVariable();\n        this.setCulture();\n        this.setTheme();\n        this.createChartSvg();\n        this.wireEvents();\n    };\n    Chart.prototype.initPrivateVariable = function () {\n        this.animateSeries = true;\n        this.horizontalAxes = [];\n        this.verticalAxes = [];\n        this.refreshAxis();\n        this.refreshDefinition(this.rows);\n        this.refreshDefinition(this.columns);\n        if (this.tooltipModule) {\n            this.tooltipModule.previousPoints = [];\n        }\n    };\n    /**\n     * To Initialize the control rendering.\n     */\n    Chart.prototype.render = function () {\n        this.trigger(load, { chart: this });\n        this.markerRender = new Marker(this);\n        this.calculateAreaType();\n        this.calculateVisibleSeries();\n        this.initTechnicalIndicators();\n        this.initTrendLines();\n        this.calculateVisibleAxis();\n        this.processData();\n    };\n    /**\n     * Gets the localized label by locale keyword.\n     * @param  {string} key\n     * @return {string}\n     */\n    Chart.prototype.getLocalizedLabel = function (key) {\n        return this.localeObject.getConstant(key);\n    };\n    /**\n     * Refresh the chart bounds.\n     * @private\n     */\n    Chart.prototype.refreshBound = function () {\n        if (this.legendModule && this.legendSettings.visible) {\n            this.legendModule.getLegendOptions(this.visibleSeries);\n        }\n        var isCalculateStacking = false;\n        var series;\n        for (var i = 0, len = this.visibleSeries.length; i < len; i++) {\n            series = this.visibleSeries[i];\n            series.position = series.rectCount = undefined;\n            if (((series.type.indexOf('Stacking') !== -1) || (series.drawType.indexOf('Stacking') !== -1\n                && this.chartAreaType === 'PolarRadar')) && !isCalculateStacking) {\n                series.calculateStackedValue(series.type.indexOf('100') > -1);\n                isCalculateStacking = true;\n            }\n        }\n        this.calculateBounds();\n        this.renderElements();\n    };\n    Chart.prototype.renderElements = function () {\n        this.renderBorder();\n        this.renderTitle();\n        this.renderAreaBorder();\n        this.renderSeriesElements();\n        this.applyZoomkit();\n        this.performSelection();\n        this.setSecondaryElementPosition();\n        this.renderAnnotation();\n    };\n    /**\n     * To set the left and top position for data label template for center aligned chart\n     */\n    Chart.prototype.setSecondaryElementPosition = function () {\n        var element = getElement(this.element.id + '_Secondary_Element');\n        if (!element) {\n            return;\n        }\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        element.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\n        element.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\n    };\n    Chart.prototype.initializeModuleElements = function () {\n        this.dataLabelCollections = [];\n        this.seriesElements = this.renderer.createGroup({ id: this.element.id + 'SeriesCollection' });\n        this.yAxisElements = this.renderer.createGroup({ id: this.element.id + 'yAxisCollection' });\n        if (this.indicators.length) {\n            this.indicatorElements = this.renderer.createGroup({ id: this.element.id + 'IndicatorCollection' });\n        }\n        if (this.hasTrendlines()) {\n            this.trendLineElements = this.renderer.createGroup({ id: this.element.id + 'TrendLineCollection' });\n        }\n        this.dataLabelElements = this.renderer.createGroup({ id: this.element.id + 'DataLabelCollection' });\n    };\n    Chart.prototype.hasTrendlines = function () {\n        var isTrendline;\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n            var series = _a[_i];\n            isTrendline = series.trendlines.length ? true : false;\n            if (isTrendline) {\n                break;\n            }\n        }\n        return isTrendline;\n    };\n    Chart.prototype.renderSeriesElements = function () {\n        // Initialize the series elements values\n        this.initializeModuleElements();\n        if (this.rows.length > 0 && this.columns.length > 0) {\n            this.chartAxisLayoutPanel.renderAxes();\n            var tooltipDiv = document.createElement('div');\n            tooltipDiv.id = this.element.id + '_Secondary_Element';\n            tooltipDiv.setAttribute('style', 'position: relative');\n            this.element.appendChild(tooltipDiv);\n            // For userInteraction\n            if (this.tooltip.enable) {\n                this.svgObject.appendChild(this.renderer.createGroup({ id: this.element.id + '_UserInteraction', style: 'pointer-events:none;' }));\n            }\n            for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n                var indicator = _a[_i];\n                if (this[firstToLowerCase(indicator.type) + 'IndicatorModule']) {\n                    this[firstToLowerCase(indicator.type) + 'IndicatorModule'].createIndicatorElements(this, indicator, indicator.index);\n                }\n            }\n            for (var _b = 0, _c = this.visibleSeries; _b < _c.length; _b++) {\n                var series = _c[_b];\n                if (series.trendlines.length) {\n                    this.trendLineModule.getTrendLineElements(series, this);\n                }\n            }\n            for (var _d = 0, _e = this.visibleSeries; _d < _e.length; _d++) {\n                var item = _e[_d];\n                if (item.visible) {\n                    findClipRect(item);\n                    item.renderSeries(this, item.index);\n                }\n            }\n        }\n        //Append the series elements method calling here\n        this.appendSeriesElements();\n    };\n    Chart.prototype.appendSeriesElements = function () {\n        var clipRect = this.renderer.drawClipPath({\n            'id': this.element.id + '_ChartAreaClipRect_',\n            'x': this.chartAxisLayoutPanel.seriesClipRect.x,\n            'y': this.chartAxisLayoutPanel.seriesClipRect.y,\n            'width': this.chartAxisLayoutPanel.seriesClipRect.width,\n            'height': this.chartAxisLayoutPanel.seriesClipRect.height,\n            'fill': 'transparent',\n            'stroke-width': 1,\n            'stroke': 'Gray'\n        });\n        this.seriesElements.appendChild(clipRect);\n        if (this.dataLabelElements.hasChildNodes()) {\n            this.seriesElements.appendChild(this.dataLabelElements);\n        }\n        if (this.stripLineModule) {\n            this.stripLineModule.renderStripLine(this, 'Behind', this.axisCollections);\n        }\n        this.svgObject.appendChild(this.seriesElements);\n        if (this.chartAreaType === 'PolarRadar') {\n            this.svgObject.appendChild(this.yAxisElements);\n        }\n        if (this.indicatorElements) {\n            this.svgObject.appendChild(this.indicatorElements);\n        }\n        if (this.trendLineElements) {\n            this.svgObject.appendChild(this.trendLineElements);\n        }\n        if (this.stripLineModule) {\n            this.stripLineModule.renderStripLine(this, 'Over', this.axisCollections);\n        }\n        if (this.legendModule) {\n            this.legendModule.renderLegend(this, this.legendSettings, this.legendModule.legendBounds);\n        }\n        if (!this.tooltip.enable) {\n            this.svgObject.appendChild(this.renderer.createGroup({ id: this.element.id + '_UserInteraction', style: 'pointer-events:none;' }));\n        }\n        this.element.appendChild(this.svgObject);\n    };\n    Chart.prototype.applyZoomkit = function () {\n        if (this.zoomModule && this.zoomModule.isZoomed) {\n            this.zoomModule.applyZoomToolkit(this, this.axisCollections);\n        }\n    };\n    Chart.prototype.renderAnnotation = function () {\n        if (this.annotationModule) {\n            this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n        }\n    };\n    Chart.prototype.performSelection = function () {\n        var selectedDataIndexes = [];\n        if (this.selectionModule) {\n            selectedDataIndexes = extend([], this.selectionModule.selectedDataIndexes, null, true);\n            this.selectionModule.invokeSelection(this);\n        }\n        if (selectedDataIndexes.length > 0) {\n            this.selectionModule.selectedDataIndexes = selectedDataIndexes;\n            this.selectionModule.redrawSelection(this, this.selectionMode);\n        }\n    };\n    Chart.prototype.processData = function () {\n        var series;\n        this.visibleSeriesCount = 0;\n        var check = true;\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series_1 = _a[_i];\n            if (!series_1.visible) {\n                this.visibleSeriesCount++;\n                continue;\n            }\n            if (series_1.category !== 'Indicator' && series_1.category !== 'TrendLine') {\n                this.initializeDataModule(series_1);\n            }\n        }\n        for (var _b = 0, _c = this.indicators; _b < _c.length; _b++) {\n            var indicator = _c[_b];\n            if (!indicator.seriesName && indicator.dataSource) {\n                var techIndicator = indicator;\n                this.initializeDataModule(techIndicator);\n                check = false;\n            }\n        }\n        if (!this.visibleSeries.length || this.visibleSeriesCount === this.visibleSeries.length && check) {\n            this.refreshBound();\n            this.trigger('loaded', { chart: this });\n        }\n    };\n    Chart.prototype.initializeDataModule = function (series) {\n        series.xData = [];\n        series.yData = [];\n        series.dataModule = new Data(series.dataSource, series.query);\n        series.points = [];\n        series.refreshDataManager(this);\n    };\n    Chart.prototype.calculateBounds = function () {\n        var padding = 15;\n        var margin = this.margin;\n        // Title Height;\n        var titleHeight = 0;\n        if (this.title) {\n            titleHeight = measureText(this.title, this.titleStyle).height + padding;\n        }\n        var top = margin.top + titleHeight + this.chartArea.border.width / 2;\n        var left = margin.left;\n        var width = this.availableSize.width - left - margin.right - this.border.width;\n        var height = this.availableSize.height - top - this.border.width - margin.bottom;\n        this.initialClipRect = new Rect(left, top, width, height);\n        if (this.legendModule) {\n            this.legendModule.calculateLegendBounds(this.initialClipRect, this.availableSize);\n        }\n        this.chartAxisLayoutPanel.measureAxis(this.initialClipRect);\n    };\n    /**\n     * Handles the print method for chart control.\n     */\n    Chart.prototype.print = function (id) {\n        var exportChart = new ExportUtils(this);\n        exportChart.print(id);\n    };\n    /**\n     * Handles the export method for chart control.\n     * @param type\n     * @param fileName\n     */\n    Chart.prototype.export = function (type, fileName) {\n        var exportChart = new ExportUtils(this);\n        exportChart.export(type, fileName);\n    };\n    /**\n     * Defines the trendline initialization\n     */\n    Chart.prototype.initTrendLines = function () {\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            var trendIndex = 0;\n            for (var _b = 0, _c = series.trendlines; _b < _c.length; _b++) {\n                var trendline = _c[_b];\n                var trendLine = trendline;\n                var type = firstToLowerCase(trendLine.type);\n                if (this.trendLineModule) {\n                    trendLine.index = trendIndex;\n                    trendLine.sourceIndex = series.index;\n                    this.trendLineModule.initSeriesCollection(trendLine, this);\n                    if (trendLine.targetSeries) {\n                        this.visibleSeries.push(trendLine.targetSeries);\n                    }\n                }\n                trendIndex++;\n            }\n        }\n    };\n    Chart.prototype.calculateAreaType = function () {\n        var series = this.series[0];\n        if (series) {\n            this.requireInvertedAxis = ((series.type.indexOf('Bar') !== -1) && !this.isTransposed) ||\n                ((series.type.indexOf('Bar') === -1) && this.isTransposed && this.chartAreaType !== 'PolarRadar');\n        }\n        this.chartAxisLayoutPanel = this.chartAreaType === 'PolarRadar' ? (this.polarSeriesModule || this.radarSeriesModule)\n            : new CartesianAxisLayoutPanel(this);\n    };\n    Chart.prototype.calculateVisibleAxis = function () {\n        var axis;\n        var series;\n        var axes = [this.primaryXAxis, this.primaryYAxis];\n        axes = this.chartAreaType === 'Cartesian' ? axes.concat(this.axes) : axes;\n        this.axisCollections = [];\n        for (var i = 0, len = axes.length; i < len; i++) {\n            axis = axes[i];\n            axis.series = [];\n            axis.labels = [];\n            for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n                var series_2 = _a[_i];\n                this.initAxis(series_2, axis, true);\n            }\n            for (var _b = 0, _c = this.indicators; _b < _c.length; _b++) {\n                var indicator = _c[_b];\n                this.initAxis(indicator, axis, false);\n            }\n            if (axis.orientation != null) {\n                this.axisCollections.push(axis);\n            }\n        }\n        if (this.rows.length > 0 && this.columns.length > 0) {\n            this.chartAxisLayoutPanel.measure();\n        }\n    };\n    Chart.prototype.initAxis = function (series, axis, isSeries) {\n        if (series.xAxisName === axis.name || (series.xAxisName == null && axis.name === 'primaryXAxis')) {\n            axis.orientation = this.requireInvertedAxis ? 'Vertical' : 'Horizontal';\n            series.xAxis = axis;\n            if (isSeries) {\n                axis.series.push(series);\n            }\n        }\n        else if (series.yAxisName === axis.name || (series.yAxisName == null && axis.name === 'primaryYAxis')) {\n            axis.orientation = this.requireInvertedAxis ? 'Horizontal' : 'Vertical';\n            series.yAxis = axis;\n            if (isSeries) {\n                axis.series.push(series);\n            }\n        }\n    };\n    Chart.prototype.initTechnicalIndicators = function () {\n        var i = 0;\n        for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n            var indicator = _a[_i];\n            var techIndicator = indicator;\n            var type = firstToLowerCase(techIndicator.type);\n            if (this[type + 'IndicatorModule']) {\n                techIndicator.index = i;\n                this[type + 'IndicatorModule'].initSeriesCollection(techIndicator, this);\n                for (var _b = 0, _c = techIndicator.targetSeries; _b < _c.length; _b++) {\n                    var targetSeries = _c[_b];\n                    if (indicator.seriesName || indicator.dataSource) {\n                        this.visibleSeries.push(targetSeries);\n                    }\n                }\n            }\n            i++;\n        }\n    };\n    /** @private */\n    Chart.prototype.refreshTechnicalIndicator = function (series) {\n        if (this.indicators.length) {\n            var targetIndicator = null;\n            if (series instanceof Series && series.category !== 'Indicator') {\n                for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n                    var indicator = _a[_i];\n                    if (indicator.seriesName === series.name && !indicator.dataSource) {\n                        targetIndicator = indicator;\n                        targetIndicator.setDataSource(series, this);\n                    }\n                }\n            }\n            else if (series instanceof TechnicalIndicator) {\n                targetIndicator = series;\n                targetIndicator.setDataSource(series instanceof Series ? series : null, this);\n            }\n        }\n    };\n    Chart.prototype.calculateVisibleSeries = function () {\n        var series;\n        this.visibleSeries = [];\n        var colors = this.palettes.length ? this.palettes : getSeriesColor(this.theme);\n        var count = colors.length;\n        for (var i = 0, len = this.series.length; i < len; i++) {\n            series = this.series[i];\n            series.index = i;\n            series.interior = series.fill || colors[i % count];\n            switch (series.type) {\n                case 'Bar':\n                case 'StackingBar':\n                case 'StackingBar100':\n                    if (this.series[0].type.indexOf('Bar') === -1) {\n                        continue;\n                    }\n                    break;\n                case 'Polar':\n                case 'Radar':\n                    if (this.chartAreaType !== 'PolarRadar') {\n                        continue;\n                    }\n                    if (this.chartAreaType === 'PolarRadar' && ((series.xAxisName === null && series.yAxisName !== null) ||\n                        (series.xAxisName !== null && series.yAxisName === null) ||\n                        (series.xAxisName !== null && series.yAxisName !== null))) {\n                        continue;\n                    }\n                    break;\n                default:\n                    if (this.chartAreaType === 'PolarRadar' || this.series[0].type.indexOf('Bar') > -1) {\n                        continue;\n                    }\n                    break;\n            }\n            this.visibleSeries.push(series);\n            this.series[i] = series;\n        }\n    };\n    Chart.prototype.renderTitle = function () {\n        if (this.title) {\n            var maxTitleSize = this.availableSize.width - this.margin.left - this.margin.right;\n            var trimmedTitle = textTrim(maxTitleSize, this.title, this.titleStyle);\n            this.elementSize = measureText(trimmedTitle, this.titleStyle);\n            var options = new TextOption(this.element.id + '_ChartTitle', titlePositionX(this.availableSize, this.margin.left, this.margin.right, this.titleStyle, this.elementSize), this.margin.top + 3 * (this.elementSize.height / 4), 'start', trimmedTitle);\n            var element = textElement(options, this.titleStyle, this.titleStyle.color, this.svgObject);\n            element.setAttribute('aria-label', this.description || this.title);\n            element.setAttribute('tabindex', this.tabIndex.toString());\n        }\n    };\n    Chart.prototype.renderBorder = function () {\n        var width = this.border.width;\n        var rect = new RectOption(this.element.id + '_ChartBorder', this.background, this.border, 1, new Rect(width / 2, width / 2, this.availableSize.width - width, this.availableSize.height - width));\n        this.htmlObject = this.renderer.drawRectangle(rect);\n        this.svgObject.appendChild(this.htmlObject);\n    };\n    Chart.prototype.renderAreaBorder = function () {\n        if (this.chartAreaType === 'PolarRadar') {\n            return null;\n        }\n        else {\n            var rect = new RectOption(this.element.id + '_ChartAreaBorder', this.chartArea.background, this.chartArea.border, this.chartArea.opacity, this.chartAxisLayoutPanel.seriesClipRect);\n            this.htmlObject = this.renderer.drawRectangle(rect);\n            this.svgObject.appendChild(this.htmlObject);\n        }\n    };\n    /**\n     * To add series for the chart\n     * @param {SeriesModel[]} seriesCollection - Defines the series collection to be added in chart.\n     * @return {void}.\n     */\n    Chart.prototype.addSeries = function (seriesCollection) {\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            series = new Series(this, 'series', series);\n            this.series.push(series);\n        }\n        this.refresh();\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}.\n     * @member of Chart\n     */\n    Chart.prototype.destroy = function () {\n        this.unWireEvents();\n        _super.prototype.destroy.call(this);\n        this.element.classList.remove('e-chart');\n    };\n    /**\n     * Get component name\n     */\n    Chart.prototype.getModuleName = function () {\n        return 'chart';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Chart.prototype.getPersistData = function () {\n        var keyEntity = ['loaded', 'animationComplete'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Method to create SVG element.\n     */\n    Chart.prototype.createChartSvg = function () {\n        this.removeSvg();\n        createSvg(this);\n    };\n    /**\n     * Method to bind events for chart\n     */\n    Chart.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        var startEvent = Browser.touchStartEvent;\n        var moveEvent = Browser.touchMoveEvent;\n        var stopEvent = Browser.touchEndEvent;\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        /*! UnBind the Event handler */\n        EventHandler.remove(this.element, startEvent, this.chartOnMouseDown);\n        EventHandler.remove(this.element, moveEvent, this.mouseMove);\n        EventHandler.remove(this.element, stopEvent, this.mouseEnd);\n        EventHandler.remove(this.element, 'click', this.chartOnMouseClick);\n        EventHandler.remove(this.element, 'contextmenu', this.chartRightClick);\n        EventHandler.remove(this.element, cancelEvent, this.mouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.chartResize);\n    };\n    Chart.prototype.wireEvents = function () {\n        /*! Find the Events type */\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        /*! Bind the Event handler */\n        EventHandler.add(this.element, Browser.touchStartEvent, this.chartOnMouseDown, this);\n        EventHandler.add(this.element, Browser.touchMoveEvent, this.mouseMove, this);\n        EventHandler.add(this.element, Browser.touchEndEvent, this.mouseEnd, this);\n        EventHandler.add(this.element, 'click', this.chartOnMouseClick, this);\n        EventHandler.add(this.element, 'contextmenu', this.chartRightClick, this);\n        EventHandler.add(this.element, cancelEvent, this.mouseLeave, this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.chartResize.bind(this));\n        this.longPress = this.longPress.bind(this);\n        new Touch(this.element, { tapHold: this.longPress, tapHoldThreshold: 500 });\n        /*! Apply the style for chart */\n        this.setStyle(this.element);\n    };\n    Chart.prototype.chartRightClick = function (event) {\n        if (this.crosshair.enable && this.crosshairModule &&\n            (event.buttons === 2 || event.which === 0 || event.pointerType === 'touch')) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        return true;\n    };\n    Chart.prototype.setStyle = function (element) {\n        var zooming = this.zoomSettings;\n        var disableScroll = zooming.enableSelectionZooming || zooming.enableMouseWheelZooming || zooming.enablePinchZooming ||\n            this.selectionMode !== 'None' || this.crosshair.enable;\n        element.style.touchAction = disableScroll ? 'none' : 'element';\n        element.style.msTouchAction = disableScroll ? 'none' : 'element';\n        element.style.msContentZooming = 'none';\n        element.style.msUserSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n        element.style.display = 'block';\n    };\n    /**\n     * Finds the orientation.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.isOrientation = function () {\n        return ('orientation' in window && 'onorientationchange' in window);\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.longPress = function (e) {\n        this.mouseX = (e && e.originalEvent.changedTouches) ? (e.originalEvent.changedTouches[0].clientX) : 0;\n        this.mouseY = (e && e.originalEvent.changedTouches) ? (e.originalEvent.changedTouches[0].clientY) : 0;\n        this.startMove = true;\n        this.setMouseXY(this.mouseX, this.mouseY);\n        this.notify('tapHold', e);\n        return false;\n    };\n    /**\n     * To find mouse x, y for aligned chart element svg position\n     */\n    Chart.prototype.setMouseXY = function (pageX, pageY) {\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        this.mouseX = (pageX - rect.left) - Math.max(svgRect.left - rect.left, 0);\n        this.mouseY = (pageY - rect.top) - Math.max(svgRect.top - rect.top, 0);\n    };\n    /**\n     * Handles the chart resize.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartResize = function (e) {\n        var _this = this;\n        this.animateSeries = false;\n        if (this.resizeTo) {\n            clearTimeout(this.resizeTo);\n        }\n        this.resizeTo = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTo);\n                return;\n            }\n            _this.createChartSvg();\n            _this.refreshAxis();\n            _this.refreshBound();\n            _this.trigger('loaded', { chart: _this });\n        }, 500);\n        return false;\n    };\n    /**\n     * Handles the mouse move.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.mouseMove = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        if (e.type === 'touchmove') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2' || this.isTouch;\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        this.setMouseXY(pageX, pageY);\n        this.chartOnMouseMove(e);\n        return false;\n    };\n    /**\n     * Handles the mouse leave.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.mouseLeave = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        if (e.type === 'touchleave') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        this.setMouseXY(pageX, pageY);\n        this.chartOnMouseLeave(e);\n        return false;\n    };\n    /**\n     * Handles the mouse leave on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseLeave = function (e) {\n        var element = e.target;\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.trigger(chartMouseLeave, { target: element.id, x: this.mouseX, y: this.mouseY });\n        this.isChartDrag = false;\n        this.notify(cancelEvent, e);\n        return false;\n    };\n    /**\n     * Handles the mouse click on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseClick = function (e) {\n        var element = e.target;\n        this.trigger(chartMouseClick, { target: element.id, x: this.mouseX, y: this.mouseY });\n        this.notify('click', e);\n        return false;\n    };\n    /**\n     * Handles the mouse move on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseMove = function (e) {\n        var element = e.target;\n        this.trigger(chartMouseMove, { target: element.id, x: this.mouseX, y: this.mouseY });\n        // Tooltip for chart series.\n        if (!this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY);\n            this.axisTooltip(e, this.mouseX, this.mouseY);\n        }\n        this.notify(Browser.touchMoveEvent, e);\n        this.isTouch = false;\n        return false;\n    };\n    Chart.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId === (this.element.id + '_ChartTitle')) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.title, x, y, this.element.offsetWidth, this.element.id + '_EJ2_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_Title_Tooltip');\n        }\n    };\n    Chart.prototype.axisTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId.indexOf('AxisLabel') > -1) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.findAxisLabel(targetId), x, y, this.element.offsetWidth, this.element.id + '_EJ2_AxisLabel_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_AxisLabel_Tooltip');\n        }\n    };\n    Chart.prototype.findAxisLabel = function (text) {\n        var texts = ((text.replace(this.element.id, '')).replace('AxisLabel_', '')).split('_');\n        return this.axisCollections[parseInt(texts[0], 10)].visibleLabels[parseInt(texts[1], 10)].originalText;\n    };\n    /**\n     * Handles the mouse down on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseDown = function (e) {\n        var pageX;\n        var pageY;\n        var target;\n        var touchArg;\n        var offset = Browser.isDevice ? 20 : 30;\n        var rect = this.element.getBoundingClientRect();\n        var element = e.target;\n        this.trigger(chartMouseDown, { target: element.id, x: this.mouseX, y: this.mouseY });\n        if (e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n            target = touchArg.target;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch';\n            pageX = e.clientX;\n            pageY = e.clientY;\n            target = e.target;\n        }\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        this.mouseDownX = this.previousMouseMoveX = (pageX - rect.left) - Math.max(svgRect.left - rect.left, 0);\n        this.mouseDownY = this.previousMouseMoveY = (pageY - rect.top) - Math.max(svgRect.top - rect.top, 0);\n        if (this.isTouch) {\n            this.isDoubleTap = (new Date().getTime() < this.threshold && target.id.indexOf(this.element.id + '_Zooming_') === -1 &&\n                (this.mouseDownX - offset >= this.mouseX || this.mouseDownX + offset >= this.mouseX) &&\n                (this.mouseDownY - offset >= this.mouseY || this.mouseDownY + offset >= this.mouseY) &&\n                (this.mouseX - offset >= this.mouseDownX || this.mouseX + offset >= this.mouseDownX) &&\n                (this.mouseY - offset >= this.mouseDownY || this.mouseY + offset >= this.mouseDownY));\n        }\n        this.notify(Browser.touchStartEvent, e);\n        return false;\n    };\n    /**\n     * Handles the mouse up.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.mouseEnd = function (e) {\n        var pageY;\n        var pageX;\n        var touchArg;\n        if (e.type === 'touchend') {\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            this.isTouch = true;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            pageY = e.clientY;\n            pageX = e.clientX;\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n        }\n        this.setMouseXY(pageX, pageY);\n        this.chartOnMouseUp(e);\n        return false;\n    };\n    /**\n     * Handles the mouse up.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseUp = function (e) {\n        var element = e.target;\n        this.trigger(chartMouseUp, { target: element.id, x: this.mouseX, y: this.mouseY });\n        this.isChartDrag = false;\n        if (this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n            this.axisTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n            this.threshold = new Date().getTime() + 300;\n        }\n        this.seriesElements.removeAttribute('clip-path');\n        this.notify(Browser.touchEndEvent, e);\n        return false;\n    };\n    /**\n     * Method to set culture for chart\n     */\n    Chart.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n        this.setLocaleConstants();\n        this.localeObject = new L10n(this.getModuleName(), this.defaultLocalConstants, this.locale);\n    };\n    /**\n     * Method to set locale constants\n     */\n    Chart.prototype.setLocaleConstants = function () {\n        this.defaultLocalConstants = {\n            ZoomIn: 'ZoomIn',\n            Zoom: 'Zoom',\n            ZoomOut: 'ZoomOut',\n            Pan: 'Pan',\n            Reset: 'Reset',\n            ResetZoom: 'Reset Zoom'\n        };\n    };\n    /**\n     * Themeing for chart goes here\n     */\n    Chart.prototype.setTheme = function () {\n        /*! Set theme */\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return {ModuleDeclaration[]}\n     * @private\n     */\n    Chart.prototype.requiredModules = function () {\n        var _this = this;\n        var modules = [];\n        var series = this.series;\n        var enableAnnotation = false;\n        var moduleName;\n        var errorBarVisible = false;\n        var dataLabelEnable = false;\n        var zooming = this.zoomSettings;\n        this.chartAreaType = (series.length > 0 && (series[0].type === 'Polar' || series[0].type === 'Radar')) ? 'PolarRadar' : 'Cartesian';\n        if (this.tooltip.enable) {\n            modules.push({\n                member: 'Tooltip',\n                args: [this]\n            });\n        }\n        series.map(function (value) {\n            _this.isLegend = (_this.legendSettings.visible && ((value.name !== '') || !!_this.isLegend));\n            moduleName = value.type.indexOf('100') !== -1 ? value.type.replace('100', '') + 'Series' : value.type + 'Series';\n            errorBarVisible = value.errorBar.visible || errorBarVisible;\n            dataLabelEnable = value.marker.dataLabel.visible || dataLabelEnable;\n            modules.push({\n                member: moduleName,\n                args: [_this, series]\n            });\n            if (_this.chartAreaType === 'PolarRadar') {\n                modules.push({\n                    member: value.drawType + 'Series',\n                    args: [_this, series]\n                });\n            }\n        });\n        this.findIndicatorModules(modules);\n        this.findTrendLineModules(modules);\n        modules = this.findAxisModule(modules);\n        enableAnnotation = this.annotations.some(function (value) {\n            return (value.content !== null);\n        });\n        if (errorBarVisible) {\n            modules.push({\n                member: 'ErrorBar',\n                args: [this, series]\n            });\n        }\n        if (this.isLegend) {\n            modules.push({\n                member: 'Legend',\n                args: [this]\n            });\n        }\n        if (this.chartAreaType !== 'PolarRadar' && (zooming.enableSelectionZooming\n            || zooming.enableMouseWheelZooming || zooming.enablePinchZooming)) {\n            modules.push({\n                member: 'Zoom',\n                args: [this, this.zoomSettings]\n            });\n        }\n        if (this.chartAreaType !== 'PolarRadar' || (this.chartAreaType === 'PolarRadar' &&\n            (!(this.selectionMode.indexOf('DragX') > -1 || this.selectionMode.indexOf('DragXY') > -1 ||\n                this.selectionMode.indexOf('DragY') > -1)))) {\n            modules.push({\n                member: 'Selection',\n                args: [this]\n            });\n        }\n        if (dataLabelEnable) {\n            modules.push({\n                member: 'DataLabel',\n                args: [this, series]\n            });\n        }\n        if (enableAnnotation) {\n            modules.push({\n                member: 'Annotation',\n                args: [this, this.annotations]\n            });\n        }\n        if (this.chartAreaType !== 'PolarRadar' && this.crosshair.enable) {\n            modules.push({\n                member: 'Crosshair',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    Chart.prototype.findAxisModule = function (modules) {\n        var axisCollections = [];\n        axisCollections.push(this.primaryXAxis);\n        axisCollections.push(this.primaryYAxis);\n        axisCollections = axisCollections.concat(this.axes);\n        var datetimeEnabled = false;\n        var categoryEnabled = false;\n        var logarithmicEnabled = false;\n        var striplineEnabled = false;\n        for (var _i = 0, axisCollections_1 = axisCollections; _i < axisCollections_1.length; _i++) {\n            var axis = axisCollections_1[_i];\n            datetimeEnabled = axis.valueType === 'DateTime' || datetimeEnabled;\n            categoryEnabled = axis.valueType === 'Category' || categoryEnabled;\n            logarithmicEnabled = axis.valueType === 'Logarithmic' || logarithmicEnabled;\n            striplineEnabled = this.findStriplineVisibility(axis.stripLines) || striplineEnabled;\n        }\n        if (datetimeEnabled) {\n            modules.push({\n                member: 'DateTime',\n                args: [this]\n            });\n        }\n        if (categoryEnabled) {\n            modules.push({\n                member: 'Category',\n                args: [this]\n            });\n        }\n        if (logarithmicEnabled) {\n            modules.push({\n                member: 'Logarithmic',\n                args: [this]\n            });\n        }\n        if (striplineEnabled) {\n            modules.push({\n                member: 'StripLine',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    Chart.prototype.findIndicatorModules = function (modules) {\n        var macdEnable;\n        var bandEnable;\n        var indicators = this.indicators;\n        if (this.indicators.length) {\n            modules.push({\n                member: 'LineSeries',\n                args: [this]\n            });\n            indicators.map(function (indicator) {\n                macdEnable = macdEnable || indicator.type === 'Macd';\n                bandEnable = bandEnable || indicator.type === 'BollingerBands';\n            });\n            if (macdEnable) {\n                modules.push({\n                    member: 'ColumnSeries',\n                    args: [this]\n                });\n            }\n            if (bandEnable) {\n                modules.push({\n                    member: 'RangeAreaSeries',\n                    args: [this]\n                });\n            }\n            for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n                var indicator = _a[_i];\n                modules.push({\n                    member: indicator.type + 'Indicator',\n                    args: [this]\n                });\n            }\n        }\n    };\n    Chart.prototype.findTrendLineModules = function (modules) {\n        var isLine;\n        var isSpline;\n        var _loop_1 = function (series) {\n            var markerEnable;\n            series.trendlines.map(function (trendline) {\n                markerEnable = markerEnable || trendline.marker.visible;\n                isLine = isLine || (trendline.type === 'Linear' || trendline.type === 'MovingAverage') ? true : false;\n                isSpline = isSpline || !isLine ? true : false;\n            });\n            if (markerEnable) {\n                modules.push({\n                    member: 'Marker',\n                    args: [this_1, series]\n                });\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n            var series = _a[_i];\n            _loop_1(series);\n        }\n        if (isLine || isSpline) {\n            modules.push({\n                member: 'TrendLine',\n                args: [this]\n            });\n        }\n        if (isLine) {\n            modules.push({\n                member: 'LineSeries',\n                args: [this]\n            });\n        }\n        if (isSpline) {\n            modules.push({\n                member: 'SplineSeries',\n                args: [this]\n            });\n        }\n    };\n    Chart.prototype.findStriplineVisibility = function (striplines) {\n        var visible = false;\n        for (var _i = 0, striplines_1 = striplines; _i < striplines_1.length; _i++) {\n            var stripline = striplines_1[_i];\n            if (stripline.visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * To Remove the SVG.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.removeSvg = function () {\n        if (document.getElementById(this.element.id + '_Secondary_Element')) {\n            remove(document.getElementById(this.element.id + '_Secondary_Element'));\n        }\n        var removeLength = 0;\n        if (this.zoomModule && this.zoomModule.pinchTarget) {\n            this.zoomModule.pinchTarget.id = '';\n            this.zoomModule.pinchTarget.setAttribute('opacity', '0');\n            this.svgObject.appendChild(this.zoomModule.pinchTarget);\n            removeLength = 1;\n        }\n        if (this.svgObject) {\n            while (this.svgObject.childNodes.length > removeLength) {\n                this.svgObject.removeChild(this.svgObject.firstChild);\n            }\n            if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode) {\n                remove(this.svgObject);\n            }\n        }\n    };\n    Chart.prototype.refreshDefinition = function (definitions) {\n        for (var _i = 0, definitions_1 = definitions; _i < definitions_1.length; _i++) {\n            var item = definitions_1[_i];\n            item.axes = [];\n        }\n    };\n    /**\n     * Refresh the axis default value.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.refreshAxis = function () {\n        var axis = this.primaryXAxis;\n        axis.rect = new Rect(undefined, undefined, 0, 0);\n        axis = this.primaryYAxis;\n        axis.isStack100 = false;\n        axis.rect = new Rect(undefined, undefined, 0, 0);\n        for (var _i = 0, _a = this.axes; _i < _a.length; _i++) {\n            var item = _a[_i];\n            axis = item;\n            axis.rect = new Rect(undefined, undefined, 0, 0);\n            axis.isStack100 = false;\n        }\n    };\n    Chart.prototype.axisChange = function (axis) {\n        if (!axis.name && !axis.valueType) {\n            return false;\n        }\n        this.refreshDefinition(this.columns);\n        this.refreshDefinition(this.rows);\n        this.calculateVisibleAxis();\n        this.processData();\n        return true;\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    Chart.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var renderer = false;\n        var refreshBounds = false;\n        if (Object.keys(newProp).length === 1 && Object.keys(newProp)[0] === 'indicators') {\n            //add valid check, it should happen only when property change is triggered for target series\n            return;\n        }\n        this.animateSeries = false;\n        if (!this.delayRedraw) {\n            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'primaryXAxis':\n                        refreshBounds = this.axisChange(newProp.primaryXAxis);\n                        if (newProp.primaryXAxis.edgeLabelPlacement) {\n                            renderer = true;\n                        }\n                        if (!newProp.primaryXAxis.crosshairTooltip) {\n                            refreshBounds = true;\n                        }\n                        break;\n                    case 'primaryYAxis':\n                        refreshBounds = this.axisChange(newProp.primaryYAxis);\n                        if (newProp.primaryYAxis.edgeLabelPlacement) {\n                            renderer = true;\n                        }\n                        if (!newProp.primaryYAxis.crosshairTooltip) {\n                            refreshBounds = true;\n                        }\n                        break;\n                    case 'height':\n                    case 'width':\n                        this.createChartSvg();\n                        refreshBounds = true;\n                        break;\n                    case 'title':\n                        if (newProp.title === '' || oldProp.title === '') {\n                            refreshBounds = true;\n                        }\n                        else {\n                            renderer = true;\n                        }\n                        break;\n                    case 'titleStyle':\n                        if (newProp.titleStyle && newProp.titleStyle.size) {\n                            refreshBounds = true;\n                        }\n                        else {\n                            renderer = true;\n                        }\n                        break;\n                    case 'border':\n                        renderer = true;\n                        break;\n                    case 'zoomSettings':\n                    case 'background':\n                        renderer = true;\n                        break;\n                    case 'chartArea':\n                        if (newProp.chartArea.border && newProp.chartArea.border.width) {\n                            refreshBounds = true;\n                        }\n                        renderer = true;\n                        break;\n                    case 'legendSettings':\n                        if (!newProp.legendSettings.background || !newProp.legendSettings.opacity) {\n                            refreshBounds = true;\n                        }\n                        renderer = true;\n                        break;\n                    case 'palettes':\n                        this.calculateVisibleSeries();\n                        renderer = true;\n                        break;\n                    case 'selectedDataIndexes':\n                    case 'selectionMode':\n                        if (this.selectionModule && newProp.selectionMode && newProp.selectionMode.indexOf('Drag') === -1) {\n                            this.selectionModule.redrawSelection(this, oldProp.selectionMode);\n                        }\n                        break;\n                    case 'isMultiSelect':\n                        if (this.selectionModule && !newProp.isMultiSelect && this.selectionModule.selectedDataIndexes.length > 1) {\n                            this.selectionModule.redrawSelection(this, oldProp.selectionMode);\n                        }\n                        break;\n                    case 'theme':\n                        this.animateSeries = true;\n                        break;\n                    case 'locale':\n                        this.setCulture();\n                        renderer = true;\n                        break;\n                    case 'tooltip':\n                        this.tooltipModule.previousPoints = [];\n                        break;\n                }\n            }\n            if (!refreshBounds && renderer) {\n                this.removeSvg();\n                this.renderElements();\n                this.trigger('loaded', { chart: this });\n            }\n            if (refreshBounds) {\n                this.removeSvg();\n                this.refreshAxis();\n                this.refreshBound();\n                this.trigger('loaded', { chart: this });\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Chart.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.chartTitleFont, Font)\n    ], Chart.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], Chart.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\n    ], Chart.prototype, \"border\", void 0);\n    __decorate([\n        Property(Theme.chartBackgroundColor)\n    ], Chart.prototype, \"background\", void 0);\n    __decorate([\n        Complex({ border: { color: 'Gray', width: 0.5 }, background: 'transparent' }, ChartArea)\n    ], Chart.prototype, \"chartArea\", void 0);\n    __decorate([\n        Complex({ name: 'primaryXAxis' }, Axis)\n    ], Chart.prototype, \"primaryXAxis\", void 0);\n    __decorate([\n        Complex({ name: 'primaryYAxis' }, Axis)\n    ], Chart.prototype, \"primaryYAxis\", void 0);\n    __decorate([\n        Collection([{}], Row)\n    ], Chart.prototype, \"rows\", void 0);\n    __decorate([\n        Collection([{}], Column)\n    ], Chart.prototype, \"columns\", void 0);\n    __decorate([\n        Collection([{}], Axis)\n    ], Chart.prototype, \"axes\", void 0);\n    __decorate([\n        Collection([{}], Series)\n    ], Chart.prototype, \"series\", void 0);\n    __decorate([\n        Collection([{}], ChartAnnotationSettings)\n    ], Chart.prototype, \"annotations\", void 0);\n    __decorate([\n        Property([])\n    ], Chart.prototype, \"palettes\", void 0);\n    __decorate([\n        Property('Material')\n    ], Chart.prototype, \"theme\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Chart.prototype, \"tooltip\", void 0);\n    __decorate([\n        Complex({}, CrosshairSettings)\n    ], Chart.prototype, \"crosshair\", void 0);\n    __decorate([\n        Complex({}, LegendSettings)\n    ], Chart.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, ZoomSettings)\n    ], Chart.prototype, \"zoomSettings\", void 0);\n    __decorate([\n        Property('None')\n    ], Chart.prototype, \"selectionMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Chart.prototype, \"isMultiSelect\", void 0);\n    __decorate([\n        Collection([], Indexes)\n    ], Chart.prototype, \"selectedDataIndexes\", void 0);\n    __decorate([\n        Property(false)\n    ], Chart.prototype, \"useGroupingSeparator\", void 0);\n    __decorate([\n        Property(false)\n    ], Chart.prototype, \"isTransposed\", void 0);\n    __decorate([\n        Collection([], TechnicalIndicator)\n    ], Chart.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"description\", void 0);\n    __decorate([\n        Property(1)\n    ], Chart.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Property(true)\n    ], Chart.prototype, \"enableSideBySidePlacement\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"annotationRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"animationComplete\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"legendRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"textRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"pointRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"seriesRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"axisLabelRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseClick\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseLeave\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseDown\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseUp\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"dragComplete\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"zoomComplete\", void 0);\n    Chart = __decorate([\n        NotifyPropertyChanges\n    ], Chart);\n    return Chart;\n}(Component));\nexport { Chart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Double } from '../axis/double-axis';\nimport { DoubleRange } from '../utils/double-range';\nimport { withIn, firstToLowerCase } from '../../common/utils/helper';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * DateTime module is used to render DateTime axis.\n */\nvar DateTime = /** @class */ (function (_super) {\n    __extends(DateTime, _super);\n    /**\n     * Constructor for the dateTime module.\n     * @private\n     */\n    function DateTime(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     */\n    DateTime.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis);\n    };\n    /**\n     * Actual Range for the axis.\n     * @private\n     */\n    DateTime.prototype.getActualRange = function (axis, size) {\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = this.chart.intl.getDateParser(option);\n        var dateFormatter = this.chart.intl.getDateFormat(option);\n        // Axis min\n        if ((axis.minimum) !== null) {\n            this.min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: axis.minimum }).val))));\n        }\n        else if (this.min === null || this.min === Number.POSITIVE_INFINITY) {\n            this.min = Date.parse(dateParser(dateFormatter(new Date(1970, 1, 1))));\n        }\n        // Axis Max\n        if ((axis.maximum) !== null) {\n            this.max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: axis.maximum }).val))));\n        }\n        else if (this.max === null || this.max === Number.NEGATIVE_INFINITY) {\n            this.max = Date.parse(dateParser(dateFormatter(new Date(1970, 5, 1))));\n        }\n        if (this.min === this.max) {\n            this.max = this.max + 2592000000;\n            this.min = this.min - 2592000000;\n        }\n        axis.actualRange = {};\n        axis.doubleRange = new DoubleRange(this.min, this.max);\n        var datetimeInterval = this.calculateDateTimeNiceInterval(axis, size, axis.doubleRange.start, axis.doubleRange.end);\n        if (!axis.interval) {\n            axis.actualRange.interval = datetimeInterval;\n        }\n        else {\n            axis.actualRange.interval = axis.interval;\n        }\n        axis.actualRange.min = axis.doubleRange.start;\n        axis.actualRange.max = axis.doubleRange.end;\n    };\n    /**\n     * Apply padding for the range.\n     * @private\n     */\n    DateTime.prototype.applyRangePadding = function (axis, size) {\n        this.start = (axis.actualRange.min);\n        this.end = (axis.actualRange.max);\n        var minimum;\n        var maximum;\n        var interval = axis.actualRange.interval;\n        if (!axis.setRange()) {\n            var rangePadding = axis.getRangePadding(this.chart);\n            minimum = new Date(this.start);\n            maximum = new Date(this.end);\n            var intervalType = axis.actualIntervalType;\n            if (rangePadding === 'None') {\n                this.start = minimum.getTime();\n                this.end = maximum.getTime();\n            }\n            else if (rangePadding === 'Additional' || rangePadding === 'Round') {\n                switch (intervalType) {\n                    case 'Years':\n                        this.getYear(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Months':\n                        this.getMonth(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Days':\n                        this.getDay(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Hours':\n                        this.getHour(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Minutes':\n                        var minute = (minimum.getMinutes() / interval) * interval;\n                        var endMinute = maximum.getMinutes() + (minimum.getMinutes() - minute);\n                        if (rangePadding === 'Round') {\n                            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), minimum.getHours(), minute, 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), endMinute, 59)).getTime();\n                        }\n                        else {\n                            this.start = (new Date(minimum.getFullYear(), maximum.getMonth(), minimum.getDate(), minimum.getHours(), minute + (-interval), 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), endMinute + (interval), 0)).getTime();\n                        }\n                        break;\n                    case 'Seconds':\n                        var second = (minimum.getSeconds() / interval) * interval;\n                        var endSecond = maximum.getSeconds() + (minimum.getSeconds() - second);\n                        if (rangePadding === 'Round') {\n                            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), minimum.getHours(), minimum.getMinutes(), second, 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), maximum.getMinutes(), endSecond, 0)).getTime();\n                        }\n                        else {\n                            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), minimum.getHours(), minimum.getMinutes(), second + (-interval), 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), maximum.getMinutes(), endSecond + (interval), 0)).getTime();\n                        }\n                        break;\n                }\n            }\n        }\n        axis.actualRange.min = (axis.minimum != null) ? this.min : this.start;\n        axis.actualRange.max = (axis.maximum != null) ? this.max : this.end;\n        axis.actualRange.delta = (axis.actualRange.max - axis.actualRange.min);\n        axis.doubleRange = new DoubleRange(axis.actualRange.min, axis.actualRange.max);\n        this.calculateVisibleRange(size, axis);\n    };\n    DateTime.prototype.getYear = function (minimum, maximum, rangePadding, interval) {\n        var startYear = minimum.getFullYear();\n        var endYear = maximum.getFullYear();\n        if (rangePadding === 'Additional') {\n            this.start = (new Date(startYear - interval, 1, 1, 0, 0, 0)).getTime();\n            this.end = (new Date(endYear + interval, 1, 1, 0, 0, 0)).getTime();\n        }\n        else {\n            this.start = new Date(startYear, 0, 0, 0, 0, 0).getTime();\n            this.end = new Date(endYear, 11, 30, 23, 59, 59).getTime();\n        }\n    };\n    DateTime.prototype.getMonth = function (minimum, maximum, rangePadding, interval) {\n        var month = minimum.getMonth();\n        var endMonth = maximum.getMonth();\n        if (rangePadding === 'Round') {\n            this.start = (new Date(minimum.getFullYear(), month, 0, 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), endMonth, new Date(maximum.getFullYear(), maximum.getMonth(), 0).getDate(), 23, 59, 59)).getTime();\n        }\n        else {\n            this.start = (new Date(minimum.getFullYear(), month + (-interval), 1, 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), endMonth + (interval), endMonth === 2 ? 28 : 30, 0, 0, 0)).getTime();\n        }\n    };\n    DateTime.prototype.getDay = function (minimum, maximum, rangePadding, interval) {\n        var day = minimum.getDate();\n        var endDay = maximum.getDate();\n        if (rangePadding === 'Round') {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), day, 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), endDay, 23, 59, 59)).getTime();\n        }\n        else {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), day + (-interval), 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), endDay + (interval), 0, 0, 0)).getTime();\n        }\n    };\n    DateTime.prototype.getHour = function (minimum, maximum, rangePadding, interval) {\n        var hour = (minimum.getHours() / interval) * interval;\n        var endHour = maximum.getHours() + (minimum.getHours() - hour);\n        if (rangePadding === 'Round') {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), hour, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), endHour, 59, 59)).getTime();\n        }\n        else {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), hour + (-interval), 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), endHour + (interval), 0, 0)).getTime();\n        }\n    };\n    /**\n     * Calculate visible range for axis.\n     * @private\n     */\n    DateTime.prototype.calculateVisibleRange = function (size, axis) {\n        axis.visibleRange = {\n            min: axis.actualRange.min,\n            max: axis.actualRange.max,\n            interval: axis.actualRange.interval,\n            delta: axis.actualRange.delta,\n        };\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            axis.calculateVisibleRange(size);\n            axis.visibleRange.interval = (axis.enableAutoIntervalOnZooming) ?\n                this.calculateDateTimeNiceInterval(axis, size, axis.visibleRange.min, axis.visibleRange.max)\n                : axis.visibleRange.interval;\n        }\n        axis.dateTimeInterval = this.increaseDateTimeInterval(axis, axis.visibleRange.min, axis.visibleRange.interval).getTime()\n            - axis.visibleRange.min;\n    };\n    /**\n     * Calculate visible labels for the axis.\n     * @private\n     */\n    DateTime.prototype.calculateVisibleLabels = function (axis) {\n        axis.visibleLabels = [];\n        var tempInterval = axis.visibleRange.min;\n        if (!axis.setRange()) {\n            tempInterval = this.alignRangeStart(axis, tempInterval, axis.visibleRange.interval, axis.actualIntervalType).getTime();\n        }\n        axis.format = this.chart.intl.getDateFormat({\n            format: axis.labelFormat, type: firstToLowerCase(axis.skeletonType), skeleton: this.getSkeleton(axis)\n        });\n        axis.startLabel = axis.format(new Date(axis.visibleRange.min));\n        axis.endLabel = axis.format(new Date(axis.visibleRange.max));\n        while (tempInterval <= axis.visibleRange.max) {\n            if (withIn(tempInterval, axis.visibleRange)) {\n                axis.triggerLabelRender(this.chart, tempInterval, axis.format(new Date(tempInterval)));\n            }\n            tempInterval = this.increaseDateTimeInterval(axis, tempInterval, axis.visibleRange.interval).getTime();\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /** @private */\n    DateTime.prototype.increaseDateTimeInterval = function (axis, value, interval) {\n        var result = new Date(value);\n        interval = Math.ceil(interval);\n        switch (axis.actualIntervalType) {\n            case 'Years':\n                result.setFullYear(result.getFullYear() + interval);\n                return result;\n            case 'Months':\n                result.setMonth(result.getMonth() + interval);\n                return result;\n            case 'Days':\n                result.setDate(result.getDate() + interval);\n                return result;\n            case 'Hours':\n                result.setHours(result.getHours() + interval);\n                return result;\n            case 'Minutes':\n                result.setMinutes(result.getMinutes() + interval);\n                return result;\n            case 'Seconds':\n                result.setSeconds(result.getSeconds() + interval);\n                return result;\n        }\n        return result;\n    };\n    DateTime.prototype.alignRangeStart = function (axis, sDate, intervalSize, intervalType) {\n        var sResult = new Date(sDate);\n        switch (axis.actualIntervalType) {\n            case 'Years':\n                var year = Math.floor(Math.floor(sResult.getFullYear() / intervalSize) * intervalSize);\n                sResult = new Date(year, sResult.getMonth(), sResult.getDate(), 0, 0, 0);\n                return sResult;\n            case 'Months':\n                var month = Math.floor(Math.floor((sResult.getMonth()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), month, sResult.getDate(), 0, 0, 0);\n                return sResult;\n            case 'Days':\n                var day = Math.floor(Math.floor((sResult.getDate()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), day, 0, 0, 0);\n                return sResult;\n            case 'Hours':\n                var hour = Math.floor(Math.floor((sResult.getHours()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), sResult.getDate(), hour, 0, 0);\n                return sResult;\n            case 'Minutes':\n                var minutes = Math.floor(Math.floor((sResult.getMinutes()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), sResult.getDate(), sResult.getHours(), minutes, 0, 0);\n                return sResult;\n            case 'Seconds':\n                var seconds = Math.floor(Math.floor((sResult.getSeconds()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), sResult.getDate(), sResult.getHours(), sResult.getMinutes(), seconds, 0);\n                return sResult;\n        }\n        return sResult;\n    };\n    /**\n     * To get the skeleton for the DateTime axis.\n     * @return {string}\n     * @private\n     */\n    DateTime.prototype.getSkeleton = function (axis) {\n        var skeleton;\n        if (axis.skeleton) {\n            return axis.skeleton;\n        }\n        if (axis.actualIntervalType === 'Years') {\n            skeleton = 'yMMM';\n        }\n        else if (axis.actualIntervalType === 'Months') {\n            skeleton = 'MMMd';\n        }\n        else if (axis.actualIntervalType === 'Days') {\n            skeleton = 'yMd';\n        }\n        else if (axis.actualIntervalType === 'Hours') {\n            skeleton = 'EHm';\n        }\n        else if (axis.actualIntervalType === 'Minutes' || axis.actualIntervalType === 'Seconds') {\n            skeleton = 'Hms';\n        }\n        else {\n            skeleton = 'Hms';\n        }\n        return skeleton;\n    };\n    DateTime.prototype.calculateDateTimeNiceInterval = function (axis, size, start, end) {\n        var oneDay = 24 * 60 * 60 * 1000;\n        var startDate = new Date(start);\n        var endDate = new Date(end);\n        //var axisInterval ;\n        var totalDays = (Math.abs((startDate.getTime() - endDate.getTime()) / (oneDay)));\n        var interval;\n        axis.actualIntervalType = axis.intervalType;\n        switch (axis.intervalType) {\n            case 'Years':\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 365, size);\n                break;\n            case 'Months':\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 30, size);\n                break;\n            case 'Days':\n                interval = this.calculateNumericNiceInterval(axis, totalDays, size);\n                break;\n            case 'Hours':\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24, size);\n                break;\n            case 'Minutes':\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60, size);\n                break;\n            case 'Seconds':\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60 * 60, size);\n                break;\n            case 'Auto':\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 365, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Years';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 30, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Months';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Days';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Hours';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Minutes';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60 * 60, size);\n                axis.actualIntervalType = 'Seconds';\n                return interval;\n        }\n        return interval;\n    };\n    /**\n     * Get module name\n     */\n    DateTime.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'DateTime';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    DateTime.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return DateTime;\n}(Double));\nexport { DateTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Double } from '../axis/double-axis';\nimport { DoubleRange } from '../utils/double-range';\nimport { withIn } from '../../common/utils/helper';\n/**\n * Category module is used to render category axis.\n */\nvar Category = /** @class */ (function (_super) {\n    __extends(Category, _super);\n    /**\n     * Constructor for the category module.\n     * @private\n     */\n    function Category(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     */\n    Category.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis);\n    };\n    /**\n     * Actual Range for the axis.\n     * @private\n     */\n    Category.prototype.getActualRange = function (axis, size) {\n        axis.doubleRange = new DoubleRange(this.min, this.max);\n        axis.actualRange = {};\n        if (!axis.interval) {\n            axis.actualRange.interval = Math.max(1, Math.floor(axis.doubleRange.delta / axis.getActualDesiredIntervalsCount(size)));\n        }\n        else {\n            axis.actualRange.interval = Math.ceil(axis.interval);\n        }\n        axis.actualRange.min = axis.doubleRange.start;\n        axis.actualRange.max = axis.doubleRange.end;\n        axis.actualRange.delta = axis.doubleRange.delta;\n    };\n    /**\n     * Padding for the axis.\n     * @private\n     */\n    Category.prototype.applyRangePadding = function (axis, size) {\n        var ticks = (axis.labelPlacement === 'BetweenTicks' && this.chart.chartAreaType !== 'PolarRadar') ? 0.5 : 0;\n        if (ticks > 0) {\n            axis.actualRange.min -= ticks;\n            axis.actualRange.max += ticks;\n        }\n        else {\n            axis.actualRange.max += axis.actualRange.max ? 0 : 0.5;\n        }\n        axis.doubleRange = new DoubleRange(axis.actualRange.min, axis.actualRange.max);\n        axis.actualRange.delta = axis.doubleRange.delta;\n        this.calculateVisibleRange(size, axis);\n    };\n    /**\n     * Calculate label for the axis.\n     * @private\n     */\n    Category.prototype.calculateVisibleLabels = function (axis) {\n        /*! Generate axis labels */\n        axis.visibleLabels = [];\n        var tempInterval = axis.visibleRange.min - (axis.visibleRange.min % axis.visibleRange.interval);\n        var position;\n        axis.startLabel = axis.labels[Math.round(axis.visibleRange.min)];\n        axis.endLabel = axis.labels[Math.floor(axis.visibleRange.max)];\n        for (; tempInterval <= axis.visibleRange.max; tempInterval += axis.visibleRange.interval) {\n            if (withIn(tempInterval, axis.visibleRange) && axis.labels.length > 0) {\n                position = Math.round(tempInterval);\n                axis.triggerLabelRender(this.chart, position, axis.labels[position] ? axis.labels[position] : position.toString());\n            }\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /**\n     * Get module name\n     */\n    Category.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Category';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    Category.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Category;\n}(Double));\nexport { Category };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Double } from '../axis/double-axis';\nimport { logBase, withIn } from '../../common/utils/helper';\n/**\n * Logarithmic module is used to render log axis.\n */\nvar Logarithmic = /** @class */ (function (_super) {\n    __extends(Logarithmic, _super);\n    /**\n     * Constructor for the logerithmic module.\n     * @private\n     */\n    function Logarithmic(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The method to calculate the range and labels for the axis.\n     * @return {void}\n     */\n    Logarithmic.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.calculateVisibleRange(size, axis);\n        this.calculateVisibleLabels(axis, this.chart);\n    };\n    /**\n     * Calculates actual range for the axis.\n     * @private\n     */\n    Logarithmic.prototype.getActualRange = function (axis, size) {\n        this.initializeDoubleRange(axis);\n        this.min = this.min < 0 ? 0 : this.min;\n        var logStart = logBase(this.min, axis.logBase);\n        logStart = isFinite(logStart) ? logStart : this.min;\n        var logEnd = logBase(this.max, axis.logBase);\n        logEnd = isFinite(logStart) ? logEnd : this.max;\n        this.min = Math.floor(logStart / 1);\n        this.max = Math.ceil(logEnd / 1);\n        axis.actualRange.interval = axis.interval || this.calculateLogNiceInterval(this.max - this.min, size, axis);\n        axis.actualRange.min = this.min;\n        axis.actualRange.max = this.max;\n        axis.actualRange.delta = this.max - this.min;\n    };\n    /**\n     * Calculates visible range for the axis.\n     * @private\n     */\n    Logarithmic.prototype.calculateVisibleRange = function (size, axis) {\n        axis.visibleRange = {\n            interval: axis.actualRange.interval, max: axis.actualRange.max,\n            min: axis.actualRange.min, delta: axis.actualRange.delta\n        };\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            axis.calculateVisibleRange(size);\n            axis.visibleRange.interval = (axis.enableAutoIntervalOnZooming) ?\n                this.calculateLogNiceInterval(axis.doubleRange.delta, size, axis)\n                : axis.visibleRange.interval;\n            axis.visibleRange.interval = Math.floor(axis.visibleRange.interval) === 0 ? 1 : Math.floor(axis.visibleRange.interval);\n        }\n    };\n    /**\n     * Calculates log iInteval for the axis.\n     * @private\n     */\n    Logarithmic.prototype.calculateLogNiceInterval = function (delta, size, axis) {\n        var actualDesiredIntervalsCount = axis.getActualDesiredIntervalsCount(size);\n        var niceInterval = delta;\n        var minInterval = Math.pow(10, Math.floor(logBase(niceInterval, 10)));\n        for (var j = 0, len = axis.intervalDivs.length; j < len; j++) {\n            var currentInterval = minInterval * axis.intervalDivs[j];\n            if (actualDesiredIntervalsCount < (delta / currentInterval)) {\n                break;\n            }\n            niceInterval = currentInterval;\n        }\n        return niceInterval;\n    };\n    /**\n     * Calculates labels for the axis.\n     * @private\n     */\n    Logarithmic.prototype.calculateVisibleLabels = function (axis, chart) {\n        /*! Generate axis labels */\n        var tempInterval = axis.visibleRange.min;\n        axis.visibleLabels = [];\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            tempInterval = axis.visibleRange.min - (axis.visibleRange.min % axis.visibleRange.interval);\n        }\n        var axisFormat = this.getFormat(axis);\n        var isCustomFormat = axisFormat.match('{value}') !== null;\n        axis.format = chart.intl.getNumberFormat({ format: isCustomFormat ? '' : axisFormat,\n            useGrouping: chart.useGroupingSeparator });\n        axis.startLabel = axis.format(Math.pow(axis.logBase, axis.visibleRange.min));\n        axis.endLabel = axis.format(Math.pow(axis.logBase, axis.visibleRange.max));\n        for (; tempInterval <= axis.visibleRange.max; tempInterval += axis.visibleRange.interval) {\n            if (withIn(tempInterval, axis.visibleRange)) {\n                axis.triggerLabelRender(this.chart, tempInterval, this.formatValue(axis, isCustomFormat, axisFormat, Math.pow(axis.logBase, tempInterval)));\n            }\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /**\n     * Get module name\n     */\n    Logarithmic.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Logarithmic';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    Logarithmic.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Logarithmic;\n}(Double));\nexport { Logarithmic };\n","/**\n * StripLine src\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Rect, TextOption, measureText, valueToCoefficient, textElement, logBase, RectOption } from '../../common/utils/helper';\n/**\n * `StripLine` module used to render the stripLine in chart.\n */\nvar StripLine = /** @class */ (function () {\n    function StripLine() {\n    }\n    StripLine.prototype.measureStripLine = function (axis, stripline, seriesClipRect) {\n        var rect = this.getFromTovalue(stripline.start, stripline.end, stripline.size, stripline.startFromAxis, axis);\n        var height = (axis.orientation === 'Vertical') ? (rect.to - rect.from) * axis.rect.height : seriesClipRect.height;\n        var width = (axis.orientation === 'Horizontal') ? (rect.to - rect.from) * axis.rect.width : seriesClipRect.width;\n        var x = (axis.orientation === 'Vertical') ? seriesClipRect.x : ((rect.from * axis.rect.width) + axis.rect.x);\n        var y = (axis.orientation === 'Horizontal') ? seriesClipRect.y : (axis.rect.y + axis.rect.height -\n            (rect.to * axis.rect.height));\n        if (height !== 0 && width !== 0) {\n            return new Rect(x, y, width, height);\n        }\n        return new Rect(0, 0, 0, 0);\n    };\n    /**\n     * To get from to value from start, end, size, start from axis\n     */\n    StripLine.prototype.getFromTovalue = function (start, end, size, startFromAxis, axis) {\n        var from = startFromAxis ? axis.visibleRange.min : this.findValue(Math.min(start, isNullOrUndefined(end) ? start : end), axis);\n        var to = this.findValue(this.getToValue(Math.max(start, isNullOrUndefined(end) ? start : end), from, size, axis, end), axis);\n        return { from: valueToCoefficient(axis.isInversed ? to : from, axis), to: valueToCoefficient(axis.isInversed ? from : to, axis) };\n    };\n    StripLine.prototype.getToValue = function (to, from, size, axis, end) {\n        if (axis.valueType === 'DateTime') {\n            return (isNullOrUndefined(end) ? new Date(new Date(from).getTime() + size) : to);\n        }\n        else {\n            return isNullOrUndefined(end) ? (axis.valueType === 'Logarithmic' ? Math.pow(axis.logBase, from) : from) + size : to;\n        }\n    };\n    StripLine.prototype.findValue = function (value, axis) {\n        if (axis.valueType === 'Logarithmic') {\n            value = logBase(value, axis.logBase);\n        }\n        if (value < axis.visibleRange.min) {\n            value = axis.visibleRange.min;\n        }\n        else if (value > axis.visibleRange.max) {\n            value = axis.visibleRange.max;\n        }\n        return value;\n    };\n    /**\n     * To render striplines based start and end.\n     * @private\n     * @param chart\n     * @param position\n     * @param axes\n     */\n    StripLine.prototype.renderStripLine = function (chart, position, axes) {\n        var id = chart.element.id + '_stripline_' + position + '_';\n        var striplineGroup = chart.renderer.createGroup({ id: id + 'collections' });\n        var seriesClipRect = chart.chartAxisLayoutPanel.seriesClipRect;\n        var rect;\n        var count = 0;\n        for (var _i = 0, axes_1 = axes; _i < axes_1.length; _i++) {\n            var axis = axes_1[_i];\n            for (var _a = 0, _b = axis.stripLines; _a < _b.length; _a++) {\n                var stripline = _b[_a];\n                if (stripline.visible && stripline.zIndex === position) {\n                    rect = this.measureStripLine(axis, stripline, seriesClipRect);\n                    this.renderRectangle(stripline, rect, id + 'rect_' + count, striplineGroup, chart);\n                    this.renderText(stripline, rect, id + 'text_' + count, striplineGroup, chart, axis);\n                    count++;\n                }\n            }\n        }\n        chart.svgObject.appendChild(striplineGroup);\n    };\n    StripLine.prototype.renderRectangle = function (stripline, rect, id, parent, chart) {\n        parent.appendChild(chart.renderer.drawRectangle(new RectOption(id, stripline.color, stripline.border, stripline.opacity, rect, 0, 0, '', '')));\n    };\n    StripLine.prototype.renderText = function (stripline, rect, id, parent, chart, axis) {\n        var textSize = measureText(stripline.text, stripline.textStyle);\n        var textMid = 3 * (textSize.height / 8);\n        var ty = rect.y + (rect.height / 2) + textMid;\n        var rotation = (stripline.rotation === null) ? ((axis.orientation === 'Vertical') ? 0 : -90) : stripline.rotation;\n        var tx = rect.x + (rect.width / 2);\n        var alignment;\n        var anchor;\n        var padding = 5;\n        if (axis.orientation === 'Horizontal') {\n            tx = this.getTextStart(tx + (textMid * this.factor(stripline.horizontalAlignment)), rect.width, stripline.horizontalAlignment);\n            ty = this.getTextStart(ty - textMid, rect.height, stripline.verticalAlignment);\n            alignment = this.invertAlignment(stripline.verticalAlignment);\n        }\n        else {\n            tx = this.getTextStart(tx, rect.width, stripline.horizontalAlignment);\n            ty = this.getTextStart(ty + (textMid * this.factor(stripline.verticalAlignment)) - padding, rect.height, stripline.verticalAlignment);\n            alignment = stripline.horizontalAlignment;\n        }\n        anchor = alignment;\n        textElement(new TextOption(id, tx, ty, anchor, stripline.text, 'rotate(' + rotation + ' ' + tx + ',' + ty + ')', 'middle'), stripline.textStyle, stripline.textStyle.color, parent);\n    };\n    StripLine.prototype.invertAlignment = function (anchor) {\n        switch (anchor) {\n            case 'Start':\n                anchor = 'End';\n                break;\n            case 'End':\n                anchor = 'Start';\n                break;\n        }\n        return anchor;\n    };\n    StripLine.prototype.factor = function (anchor) {\n        var factor = 0;\n        switch (anchor) {\n            case 'Start':\n                factor = 1;\n                break;\n            case 'End':\n                factor = -1;\n                break;\n        }\n        return factor;\n    };\n    StripLine.prototype.getTextStart = function (xy, size, textAlignment) {\n        var padding = 5;\n        switch (textAlignment) {\n            case 'Start':\n                xy = xy - (size / 2) + padding;\n                break;\n            case 'End':\n                xy = xy + (size / 2) - padding;\n                break;\n        }\n        return xy;\n    };\n    /**\n     * To get the module name for `StripLine`.\n     * @private\n     */\n    StripLine.prototype.getModuleName = function () {\n        return 'StripLine';\n    };\n    /**\n     * To destroy the `StripLine` module.\n     * @private\n     */\n    StripLine.prototype.destroy = function () {\n        // destroy peform here\n    };\n    return StripLine;\n}());\nexport { StripLine };\n","import { getAnimationFunction } from '../../common/utils/helper';\nimport { Animation } from '@syncfusion/ej2-base';\n/**\n * render Line series\n */\nvar LineBase = /** @class */ (function () {\n    /** @private */\n    function LineBase(chartModule) {\n        this.chart = chartModule;\n        this.padding = 5;\n    }\n    /**\n     * To improve the chart performance.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.improveChartPerformance = function (series) {\n        var tempPoints = [];\n        var xVisibleRange = series.xAxis.visibleRange;\n        var yVisibleRange = series.yAxis.visibleRange;\n        var seriesPoints = series.points;\n        var areaBounds = series.clipRect;\n        var xTolerance = Math.abs(xVisibleRange.delta / areaBounds.width);\n        var yTolerance = Math.abs(yVisibleRange.delta / areaBounds.height);\n        var prevXValue = (seriesPoints[0] && seriesPoints[0].x > xTolerance) ? 0 : xTolerance;\n        var prevYValue = (seriesPoints[0] && seriesPoints[0].y > yTolerance) ? 0 : yTolerance;\n        var xVal = 0;\n        var yVal = 0;\n        var currentPoint;\n        for (var _i = 0, seriesPoints_1 = seriesPoints; _i < seriesPoints_1.length; _i++) {\n            var currentPoint_1 = seriesPoints_1[_i];\n            currentPoint_1.symbolLocations = [];\n            xVal = currentPoint_1.xValue ? currentPoint_1.xValue : xVisibleRange.min;\n            yVal = currentPoint_1.yValue ? currentPoint_1.yValue : yVisibleRange.min;\n            if (Math.abs(prevXValue - xVal) >= xTolerance || Math.abs(prevYValue - yVal) >= yTolerance) {\n                tempPoints.push(currentPoint_1);\n                prevXValue = xVal;\n                prevYValue = yVal;\n            }\n        }\n        return tempPoints;\n    };\n    /**\n     * To append the line path.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.appendLinePath = function (options, series) {\n        var htmlObject = series.chart.renderer.drawPath(options);\n        series.pathElement = htmlObject;\n        series.seriesElement.appendChild(htmlObject);\n        series.isRectSeries = false;\n    };\n    /**\n     * To render the marker for the series.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.renderMarker = function (series) {\n        if (series.marker.visible) {\n            series.chart.markerRender.render(series);\n        }\n    };\n    /**\n     * To do the progressive animation.\n     * @return {void}\n     */\n    LineBase.prototype.doProgressiveAnimation = function (series, option) {\n        var animation = new Animation({});\n        var path = series.pathElement;\n        var strokeDashArray = path.getAttribute('stroke-dasharray');\n        var pathLength = series.pathElement.getTotalLength();\n        var currentTime;\n        path.style.visibility = 'hidden';\n        animation.animate(path, {\n            duration: option.duration,\n            delay: option.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    path.style.visibility = 'visible';\n                    currentTime = Math.abs(Math.round(((args.timeStamp - args.delay) * pathLength) / args.duration));\n                    path.setAttribute('stroke-dasharray', currentTime + ',' + pathLength);\n                }\n            },\n            end: function (model) {\n                path.setAttribute('stroke-dasharray', strokeDashArray);\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        });\n    };\n    /**\n     * To do the linear animation.\n     * @return {void}\n     */\n    LineBase.prototype.doLinearAnimation = function (series, animation) {\n        var clipRect = series.clipRectElement.childNodes[0].childNodes[0];\n        var effect = getAnimationFunction('Linear');\n        var elementHeight = +clipRect.getAttribute('height');\n        var elementWidth = +clipRect.getAttribute('width');\n        var xCenter = +clipRect.getAttribute('x');\n        var yCenter = series.chart.requireInvertedAxis ? +clipRect.getAttribute('height') + +clipRect.getAttribute('y') :\n            +clipRect.getAttribute('y');\n        var value;\n        clipRect.style.visibility = 'hidden';\n        new Animation({}).animate(clipRect, {\n            duration: animation.duration,\n            delay: animation.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    clipRect.style.visibility = 'visible';\n                    if (series.chart.requireInvertedAxis) {\n                        value = effect(args.timeStamp - args.delay, 0, elementHeight, args.duration);\n                        clipRect.setAttribute('transform', 'translate(' + xCenter + ' ' + yCenter +\n                            ') scale(1,' + (value / elementHeight) + ') translate(' + (-xCenter) + ' ' + (-yCenter) + ')');\n                    }\n                    else {\n                        value = effect(args.timeStamp - args.delay, 0, elementWidth, args.duration);\n                        clipRect.setAttribute('transform', 'translate(' + xCenter + ' ' + yCenter +\n                            ') scale(' + (value / elementWidth) + ', 1) translate(' + (-xCenter) + ' ' + (-yCenter) + ')');\n                    }\n                }\n            },\n            end: function (model) {\n                clipRect.setAttribute('transform', 'translate(0,0)');\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        });\n    };\n    return LineBase;\n}());\nexport { LineBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, getPoint, PathOption, Rect, TransformToVisible } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * Line Module used to render the line series.\n */\nvar LineSeries = /** @class */ (function (_super) {\n    __extends(LineSeries, _super);\n    function LineSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Line Series.\n     * @return {void}.\n     * @private\n     */\n    LineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var point1;\n        var point2;\n        var direction = '';\n        var prevPoint = null;\n        var startPoint = 'M';\n        var options;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        var visiblePoints = this.improveChartPerformance(series);\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                if (prevPoint != null) {\n                    point1 = getCoordinate(prevPoint.xValue, prevPoint.yValue, xAxis, yAxis, isInverted, series);\n                    point2 = getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series);\n                    direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ' +\n                        'L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n                    startPoint = 'L';\n                }\n                prevPoint = point;\n                point.symbolLocations.push(getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series));\n                point.regions.push(new Rect(point.symbolLocations[0].x - series.marker.width, point.symbolLocations[0].y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n            }\n            else {\n                prevPoint = (series.emptyPointSettings.mode === 'Drop') ? prevPoint : null;\n                startPoint = (series.emptyPointSettings.mode === 'Drop') ? startPoint : 'M';\n                point.symbolLocations = [];\n            }\n        }\n        if (series.chart.chartAreaType === 'PolarRadar') {\n            if (series.isClosed) {\n                point2 = getCoordinate(visiblePoints[visiblePoints.length - 1].xValue, visiblePoints[visiblePoints.length - 1].yValue, xAxis, yAxis, isInverted, series);\n                point1 = getCoordinate(visiblePoints[0].xValue, visiblePoints[0].yValue, xAxis, yAxis, isInverted, series);\n                direction = direction.concat(startPoint + ' ' + point2.x + ' ' + point2.y + ' ' + 'L' + ' ' + point1.x + ' ' + point1.y);\n            }\n        }\n        var name = series.category === 'Indicator' ? series.chart.element.id + '_Indicator_' + series.index + '_' + series.name :\n            series.category === 'TrendLine' ? series.chart.element.id + '_Series_' + series.sourceIndex + '_TrendLine_' + series.index :\n                series.chart.element.id + '_Series_' + series.index;\n        options = new PathOption(name, 'none', series.width, series.interior, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series);\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    LineSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doProgressiveAnimation(series, option);\n    };\n    /**\n     * Get module name.\n     */\n    LineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'LineSeries';\n    };\n    /**\n     * To destroy the line series.\n     * @return {void}\n     * @private\n     */\n    LineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return LineSeries;\n}(LineBase));\nexport { LineSeries };\n","import { Animation } from '@syncfusion/ej2-base';\nimport { DoubleRange } from '../utils/double-range';\nimport { Rect, valueToCoefficient, getMinPointsDelta, PathOption } from '../../common/utils/helper';\nimport { getAnimationFunction, getPoint } from '../../common/utils/helper';\nimport { pointRender } from '../../common/model/constants';\n/**\n * Column Series Base\n */\nvar ColumnBase = /** @class */ (function () {\n    function ColumnBase() {\n    }\n    /**\n     * To get the position of the column series.\n     * @return {DoubleRange}\n     * @private\n     */\n    ColumnBase.prototype.getSideBySideInfo = function (series) {\n        if (series.chart.enableSideBySidePlacement && !series.position) {\n            this.getSideBySidePositions(series);\n        }\n        var position = !series.chart.enableSideBySidePlacement ? 0 : series.position;\n        var rectCount = !series.chart.enableSideBySidePlacement ? 1 : series.rectCount;\n        series.isRectSeries = true;\n        var visibleSeries = series.chart.visibleSeries;\n        var seriesSpacing = series.chart.enableSideBySidePlacement ? series.columnSpacing : 0; // Column Spacing\n        var pointSpacing = series.columnWidth; // Column width\n        var minimumPointDelta = getMinPointsDelta(series.xAxis, visibleSeries);\n        var width = minimumPointDelta * pointSpacing;\n        var radius;\n        var location = (position) / rectCount - 0.5;\n        var doubleRange = new DoubleRange(location, location + (1 / rectCount));\n        if (!(isNaN(doubleRange.start) || isNaN(doubleRange.end))) {\n            doubleRange = new DoubleRange(doubleRange.start * width, doubleRange.end * width);\n            radius = seriesSpacing * doubleRange.delta;\n            doubleRange = new DoubleRange(doubleRange.start + radius / 2, doubleRange.end - radius / 2);\n        }\n        return doubleRange;\n    };\n    /**\n     * To get the rect values.\n     * @return {Rect}\n     * @private\n     */\n    ColumnBase.prototype.getRectangle = function (x1, y1, x2, y2, series) {\n        var point1 = getPoint(x1, y1, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        var point2 = getPoint(x2, y2, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        return new Rect(Math.min(point1.x, point2.x), Math.min(point1.y, point2.y), Math.abs(point2.x - point1.x), Math.abs(point2.y - point1.y));\n    };\n    /**\n     * To get the position of each series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.getSideBySidePositions = function (series) {\n        var chart = series.chart;\n        var seriesCollection = [];\n        for (var _i = 0, _a = chart.columns; _i < _a.length; _i++) {\n            var columnItem = _a[_i];\n            for (var _b = 0, _c = chart.rows; _b < _c.length; _b++) {\n                var item = _c[_b];\n                this.findRectPosition(series.findSeriesCollection(columnItem, item, false));\n            }\n        }\n    };\n    ColumnBase.prototype.findRectPosition = function (seriesCollection) {\n        var stackingGroup = [];\n        var vSeries = { rectCount: 0, position: null };\n        seriesCollection.forEach(function (value) {\n            if (value.type.indexOf('Stacking') !== -1) {\n                if (value.stackingGroup) {\n                    if (stackingGroup[value.stackingGroup] === undefined) {\n                        value.position = vSeries.rectCount;\n                        stackingGroup[value.stackingGroup] = vSeries.rectCount++;\n                    }\n                    else {\n                        value.position = stackingGroup[value.stackingGroup];\n                    }\n                }\n                else {\n                    if (vSeries.position === null) {\n                        value.position = vSeries.rectCount;\n                        vSeries.position = vSeries.rectCount++;\n                    }\n                    else {\n                        value.position = vSeries.position;\n                    }\n                }\n            }\n            else {\n                value.position = vSeries.rectCount++;\n            }\n        });\n        seriesCollection.forEach(function (value) {\n            value.rectCount = vSeries.rectCount;\n        });\n    };\n    /**\n     * Updates the symbollocation for points\n     * @return void\n     * @private\n     */\n    ColumnBase.prototype.updateSymbolLocation = function (point, rect, series) {\n        if (!series.chart.requireInvertedAxis) {\n            this.updateXRegion(point, rect, series);\n        }\n        else {\n            this.updateYRegion(point, rect, series);\n        }\n    };\n    /**\n     * Update the region for the point.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.updateXRegion = function (point, rect, series) {\n        point.regions.push(rect);\n        point.symbolLocations.push({\n            x: rect.x + (rect.width) / 2,\n            y: (series.seriesType === 'BoxPlot' || series.seriesType.indexOf('HighLow') !== -1 ||\n                (point.yValue >= 0 === !series.yAxis.isInversed)) ? rect.y : (rect.y + rect.height)\n        });\n    };\n    /**\n     * Update the region for the point in bar series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.updateYRegion = function (point, rect, series) {\n        point.regions.push(rect);\n        point.symbolLocations.push({\n            x: (series.seriesType === 'BoxPlot' || series.seriesType.indexOf('HighLow') !== -1 ||\n                (point.yValue >= 0 === !series.yAxis.isInversed)) ? rect.x + rect.width : rect.x,\n            y: rect.y + rect.height / 2\n        });\n    };\n    /**\n     * To trigger the point rendering event.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.triggerEvent = function (series, point, fill, border) {\n        var argsData = {\n            cancel: false, name: pointRender, series: series, point: point,\n            fill: series.setPointColor(point, fill),\n            border: series.setBorderColor(point, border)\n        };\n        series.chart.trigger(pointRender, argsData);\n        point.color = argsData.fill;\n        return argsData;\n    };\n    /**\n     * To draw the rectangle for points.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.drawRectangle = function (series, point, rect, argsData) {\n        var check = series.chart.requireInvertedAxis ? rect.height : rect.width;\n        if (check <= 0) {\n            return null;\n        }\n        var direction = this.calculateRoundedRectPath(rect, series.cornerRadius.topLeft, series.cornerRadius.topRight, series.cornerRadius.bottomLeft, series.cornerRadius.bottomRight);\n        var name = series.category === 'Indicator' ? series.chart.element.id + '_Indicator_' + series.index + '_' + series.name +\n            '_Point_' + point.index : series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index;\n        var options = new PathOption(name, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n        var element = series.chart.renderer.drawPath(options);\n        switch (series.seriesType) {\n            case 'XY':\n                element.setAttribute('aria-label', point.x.toString() + ':' + point.yValue.toString());\n                break;\n            case 'HighLow':\n                element.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString() + ':' + point.low.toString());\n                break;\n        }\n        series.seriesElement.appendChild(element);\n    };\n    /**\n     * To animate the series.\n     * @return {void}\n     */\n    ColumnBase.prototype.animate = function (series) {\n        var rectElements = series.seriesElement.childNodes;\n        var count = series.category === 'Indicator' ? 0 : 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (!point.symbolLocations.length && !(series.type === 'BoxAndWhisker' && point.regions.length)) {\n                continue;\n            }\n            this.animateRect(rectElements[count], series, point);\n            count++;\n        }\n    };\n    /**\n     * To animate the series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.animateRect = function (element, series, point) {\n        var option = series.animation;\n        var effect = getAnimationFunction('Linear');\n        var isPlot = point.yValue < 0;\n        var x;\n        var y;\n        var elementHeight = +point.regions[0].height;\n        var elementWidth = +point.regions[0].width;\n        var centerX;\n        var centerY;\n        if (!series.chart.requireInvertedAxis) {\n            x = +point.regions[0].x;\n            if (series.type.indexOf('Stacking') > -1) {\n                y = (1 - valueToCoefficient(0, series.yAxis)) * (series.yAxis.rect.height);\n                centerX = x;\n                centerY = y;\n            }\n            else {\n                y = +point.regions[0].y;\n                centerY = (series.seriesType.indexOf('HighLow') !== -1 || series.type.indexOf('Waterfall') !== -1) ? y + elementHeight / 2 :\n                    (isPlot !== series.yAxis.isInversed) ? y : y + elementHeight;\n                centerX = isPlot ? x : x + elementWidth;\n            }\n        }\n        else {\n            y = +point.regions[0].y;\n            if (series.type.indexOf('Stacking') > -1) {\n                x = (valueToCoefficient(0, series.yAxis)) * series.yAxis.rect.width;\n                centerX = x;\n                centerY = y;\n            }\n            else {\n                x = +point.regions[0].x;\n                centerY = isPlot ? y : y + elementHeight;\n                centerX = (series.seriesType.indexOf('HighLow') !== -1 || series.type.indexOf('Waterfall') !== -1) ? x + elementWidth / 2 :\n                    (isPlot !== series.yAxis.isInversed) ? x + elementWidth : x;\n            }\n        }\n        var value;\n        element.style.visibility = 'hidden';\n        new Animation({}).animate(element, {\n            duration: option.duration,\n            delay: option.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    element.style.visibility = 'visible';\n                    if (!series.chart.requireInvertedAxis) {\n                        elementHeight = elementHeight ? elementHeight : 1;\n                        value = effect(args.timeStamp - args.delay, 0, elementHeight, args.duration);\n                        element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY +\n                            ') scale(1,' + (value / elementHeight) + ') translate(' + (-centerX) + ' ' + (-centerY) + ')');\n                    }\n                    else {\n                        elementWidth = elementWidth ? elementWidth : 1;\n                        value = effect(args.timeStamp - args.delay, 0, elementWidth, args.duration);\n                        element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY +\n                            ') scale(' + (value / elementWidth) + ', 1) translate(' + (-centerX) + ' ' + (-centerY) + ')');\n                    }\n                }\n            },\n            end: function (model) {\n                element.setAttribute('transform', 'translate(0,0)');\n                var seriesElement = series.seriesElement;\n                if (element === seriesElement.lastElementChild || point.index === series.points.length - 1 ||\n                    (series.type === 'Waterfall' && element === seriesElement.children[seriesElement.childElementCount - 2])) {\n                    series.chart.trigger('animationComplete', { series: series });\n                    if (series.type === 'Waterfall') {\n                        var rectElements = seriesElement.childNodes;\n                        for (var i = 0; i < rectElements.length; i++) {\n                            if (rectElements[i].id.indexOf('Connector') !== -1) {\n                                rectElements[i].style.visibility = 'visible';\n                                rectElements[i].setAttribute('transform', 'translate(0,0)');\n                            }\n                        }\n                    }\n                }\n            }\n        });\n    };\n    /**\n     * To get rounded rect path direction\n     */\n    ColumnBase.prototype.calculateRoundedRectPath = function (rect, topLeft, topRight, bottomLeft, bottomRight) {\n        return 'M' + ' ' + rect.x + ' ' + (topLeft + rect.y) +\n            ' Q ' + rect.x + ' ' + rect.y + ' ' + (rect.x + topLeft) + ' ' +\n            rect.y + ' ' + 'L' + ' ' + (rect.x + rect.width - topRight) + ' ' + rect.y +\n            ' Q ' + (rect.x + rect.width) + ' ' + rect.y + ' ' +\n            (rect.x + rect.width) + ' ' + (rect.y + topRight) + ' ' + 'L ' +\n            (rect.x + rect.width) + ' ' + (rect.y + rect.height - bottomRight)\n            + ' Q ' + (rect.x + rect.width) + ' ' + (rect.y + rect.height) + ' ' + (rect.x + rect.width - bottomRight) + ' ' +\n            (rect.y + rect.height) + ' ' + 'L ' + (rect.x + bottomLeft) + ' ' + (rect.y + rect.height) + ' Q ' + rect.x + ' ' +\n            (rect.y + rect.height) + ' ' + rect.x + ' ' + (rect.y + rect.height - bottomLeft) + ' ' + 'L' + ' ' + rect.x + ' ' +\n            (topLeft + rect.y) + ' ' + 'Z';\n    };\n    return ColumnBase;\n}());\nexport { ColumnBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Column Module used to render the column series.\n */\nvar ColumnSeries = /** @class */ (function (_super) {\n    __extends(ColumnSeries, _super);\n    function ColumnSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Column series.\n     * @return {void}\n     * @private\n     */\n    ColumnSeries.prototype.render = function (series) {\n        var rect;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var pointColumn = _a[_i];\n            pointColumn.symbolLocations = [];\n            pointColumn.regions = [];\n            if (pointColumn.visible && withInRange(series.points[pointColumn.index - 1], pointColumn, series.points[pointColumn.index + 1], series)) {\n                rect = this.getRectangle(pointColumn.xValue + sideBySideInfo.start, pointColumn.yValue, pointColumn.xValue + sideBySideInfo.end, origin, series);\n                var color = series.category === 'Indicator' ? pointColumn.color : series.interior;\n                argsData = this.triggerEvent(series, pointColumn, color, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(pointColumn, rect, series);\n                    this.drawRectangle(series, pointColumn, rect, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @return {void}\n     * @private\n     */\n    ColumnSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    ColumnSeries.prototype.getModuleName = function () {\n        return 'ColumnSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the column series.\n     * @return {void}\n     * @private\n     */\n    ColumnSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return ColumnSeries;\n}(ColumnBase));\nexport { ColumnSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getPoint, withInRange, ChartLocation, PathOption, Rect, TransformToVisible } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * Area Module used to render the Area series.\n */\nvar AreaSeries = /** @class */ (function (_super) {\n    __extends(AreaSeries, _super);\n    function AreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Area series.\n     * @return {void}\n     * @private\n     */\n    AreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var firstPoint;\n        var endPoint;\n        var startPoint = null;\n        var direction = '';\n        var pointsLength = series.points.length;\n        var origin = series.chart.chartAreaType === 'PolarRadar' ? series.points[0].yValue :\n            Math.max(series.yAxis.visibleRange.min, 0);\n        var options;\n        var point;\n        var currentXValue;\n        var symbolLocation;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        for (var i = 0; i < pointsLength; i++) {\n            point = series.points[i];\n            currentXValue = point.xValue;\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[i - 1], point, series.points[i + 1], series)) {\n                if (startPoint === null) {\n                    startPoint = new ChartLocation(currentXValue, origin);\n                    // Start point for the current path\n                    firstPoint = getCoordinate(currentXValue, origin, xAxis, yAxis, isInverted, series);\n                    direction += ('M' + ' ' + (firstPoint.x) + ' ' + (firstPoint.y) + ' ');\n                }\n                // First Point to draw the area path\n                firstPoint = getCoordinate(currentXValue, point.yValue, xAxis, yAxis, isInverted, series);\n                direction += ('L' + ' ' + (firstPoint.x) + ' ' + (firstPoint.y) + ' ');\n                if (series.points[i + 1] && !series.points[i + 1].visible && series.emptyPointSettings.mode !== 'Drop') {\n                    // current start point\n                    firstPoint = getCoordinate(currentXValue, origin, xAxis, yAxis, isInverted, series);\n                    // current end point\n                    endPoint = getCoordinate(startPoint.x, startPoint.y, xAxis, yAxis, isInverted, series);\n                    direction += ('L' + ' ' + (firstPoint.x) + ' ' + (firstPoint.y) + ' ' + 'L' +\n                        ' ' + (endPoint.x) + ' ' + (endPoint.y) + ' ');\n                    startPoint = null;\n                }\n                symbolLocation = getCoordinate(currentXValue, point.yValue, xAxis, yAxis, isInverted, series);\n                point.symbolLocations.push(symbolLocation);\n                point.regions.push(new Rect(symbolLocation.x - series.marker.width, symbolLocation.y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n            }\n        }\n        if (pointsLength > 1) {\n            startPoint = {\n                'x': series.points[pointsLength - 1].xValue,\n                'y': series.chart.chartAreaType === 'PolarRadar' ? series.points[pointsLength - 1].yValue : origin\n            };\n            endPoint = getCoordinate(startPoint.x, startPoint.y, xAxis, yAxis, isInverted, series);\n            direction += ('L' + ' ' + (endPoint.x) + ' ' + (endPoint.y) + ' ');\n        }\n        else {\n            direction = '';\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series);\n        this.renderMarker(series);\n    };\n    /**\n     * To destroy the area series.\n     * @return {void}\n     * @private\n     */\n    AreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name\n     */\n    AreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'AreaSeries';\n    };\n    /**\n     * Animates the series.\n     * @return {void}\n     * @private\n     */\n    AreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    return AreaSeries;\n}(LineBase));\nexport { AreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Bar Module used to render the bar series.\n */\nvar BarSeries = /** @class */ (function (_super) {\n    __extends(BarSeries, _super);\n    function BarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Bar series.\n     * @return {void}\n     * @private\n     */\n    BarSeries.prototype.render = function (series) {\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var rect;\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var pointBar = _a[_i];\n            pointBar.symbolLocations = [];\n            pointBar.regions = [];\n            if (pointBar.visible && withInRange(series.points[pointBar.index - 1], pointBar, series.points[pointBar.index + 1], series)) {\n                rect = this.getRectangle(pointBar.xValue + sideBySideInfo.start, pointBar.yValue, pointBar.xValue + sideBySideInfo.end, origin, series);\n                argsData = this.triggerEvent(series, pointBar, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(pointBar, rect, series);\n                    this.drawRectangle(series, pointBar, rect, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @return {void}\n     * @private\n     */\n    BarSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the bar series.\n     * @return {void}\n     * @private\n     */\n    BarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * Get module name\n     */\n    BarSeries.prototype.getModuleName = function () {\n        return 'BarSeries';\n    };\n    return BarSeries;\n}(ColumnBase));\nexport { BarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { valueToCoefficient, TextOption, inside, measureText } from '../../common/utils/helper';\nimport { Size, Rect, PathOption, CircleOption } from '../../common/utils/helper';\nimport { LineBase } from '../series/line-base';\nimport { textElement, valueToPolarCoefficient, CoefficientToVector } from '../../common/utils/helper';\n/**\n * Specifies the Polar Axis Layout.\n */\nvar axisPadding = 10;\nvar PolarRadarPanel = /** @class */ (function (_super) {\n    __extends(PolarRadarPanel, _super);\n    function PolarRadarPanel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Measure the polar radar axis size.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.measureAxis = function (rect) {\n        var chart = this.chart;\n        this.initialClipRect = rect;\n        this.seriesClipRect = new Rect(rect.x, rect.y, rect.width, rect.height);\n        //Measure axis size calculation\n        this.measureRowAxis(chart, this.initialClipRect);\n        this.measureColumnAxis(chart, this.initialClipRect);\n        this.calculateAxisSize();\n    };\n    PolarRadarPanel.prototype.measureRowAxis = function (chart, rect) {\n        this.calculateRowSize(rect);\n        var row = chart.rows[0];\n        this.measureDefinition(row, chart, new Size(chart.availableSize.width, row.computedHeight), rect);\n    };\n    PolarRadarPanel.prototype.measureColumnAxis = function (chart, rect) {\n        this.calculateColumnSize(rect);\n        var column = chart.columns[0];\n        this.measureDefinition(column, chart, new Size(column.computedWidth, chart.availableSize.height), rect);\n    };\n    /**\n     * Measure the column and row in chart.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.measureDefinition = function (definition, chart, size, clipRect) {\n        for (var _i = 0, _a = definition.axes; _i < _a.length; _i++) {\n            var axis = _a[_i];\n            axis.getModule(chart);\n            axis.baseModule.calculateRangeAndInterval(size, axis);\n        }\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.calculateAxisSize = function () {\n        var chart = this.chart;\n        var axis;\n        var padding = 5;\n        this.centerX = this.initialClipRect.width * 0.5 + this.initialClipRect.x;\n        this.centerY = this.initialClipRect.height * 0.5 + this.initialClipRect.y;\n        chart.radius = Math.min(this.initialClipRect.width, this.initialClipRect.height) / 2 - padding -\n            chart.primaryXAxis.majorTickLines.height - chart.primaryXAxis.maxLabelSize.height;\n        chart.radius = (chart.primaryXAxis.coefficient * chart.radius) / 100;\n        this.seriesClipRect.y = this.centerY - chart.radius;\n        this.seriesClipRect.x = this.centerX - chart.radius;\n        this.seriesClipRect.height = 2 * chart.radius;\n        this.seriesClipRect.width = 2 * chart.radius;\n        this.calculateRowSize(this.seriesClipRect);\n        axis = chart.primaryYAxis;\n        axis.rect = this.seriesClipRect;\n        this.calculateColumnSize(this.seriesClipRect);\n        axis = chart.primaryXAxis;\n        axis.rect = this.seriesClipRect;\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.measure = function () {\n        var chart = this.chart;\n        chart.verticalAxes.push(chart.primaryYAxis);\n        var row = chart.rows[0];\n        row.axes[0] = chart.primaryYAxis;\n        chart.rows[0] = row;\n        chart.horizontalAxes.push(chart.primaryXAxis);\n        var column = chart.columns[0];\n        column.axes[0] = chart.primaryXAxis;\n        chart.columns[0] = column;\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    PolarRadarPanel.prototype.calculateRowSize = function (rect) {\n        /*! Calculate row size */\n        var chart = this.chart;\n        var row = chart.rows[0];\n        row.computedHeight = rect.height / 2;\n        row.computedTop = rect.y;\n        chart.rows[0] = row;\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    PolarRadarPanel.prototype.calculateColumnSize = function (rect) {\n        /*! Calculate column size */\n        var chart = this.chart;\n        var column = chart.columns[0];\n        column.computedLeft = rect.x;\n        column.computedWidth = rect.width;\n        chart.columns[0] = column;\n    };\n    /**\n     * To render the axis element.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.renderAxes = function () {\n        var axis;\n        var chart = this.chart;\n        this.startAngle = chart.primaryXAxis.startAngle;\n        var axisElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisCollection' });\n        for (var i = 0, len = chart.axisCollections.length; i < len; i++) {\n            this.element = chart.renderer.createGroup({ id: chart.element.id + 'AxisGroup' + i });\n            axis = chart.axisCollections[i];\n            if (axis.orientation === 'Horizontal') {\n                if (axis.majorGridLines.width > 0 || axis.majorTickLines.width > 0) {\n                    this.drawXAxisGridLine(axis, i);\n                }\n                if (axis.visible) {\n                    this.drawXAxisLabels(axis, i);\n                }\n            }\n            else {\n                this.drawYAxisGridLine(axis, i);\n                if (axis.lineStyle.width > 0) {\n                    this.drawYAxisLine(axis, i, axis.plotOffset, 0);\n                }\n                if (axis.visible) {\n                    this.drawYAxisLabels(axis, i);\n                }\n            }\n            axisElement.appendChild(this.element);\n        }\n        axisElement.appendChild(this.element);\n        chart.svgObject.appendChild(axisElement);\n    };\n    PolarRadarPanel.prototype.drawYAxisLine = function (axis, index, plotX, plotY) {\n        var chart = this.chart;\n        var optionsLine = {};\n        var vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value, axis), this.startAngle);\n        var axisLine = 'M ' + this.centerX + ' ' + this.centerY + 'L ' +\n            (this.centerX + chart.radius * vector.x) + ' ' + (this.centerY + chart.radius * vector.y);\n        optionsLine = {\n            'id': chart.element.id + 'AxisLine_' + index,\n            'd': axisLine,\n            'stroke-dasharray': axis.lineStyle.dashArray,\n            'stroke-width': axis.lineStyle.width,\n            'stroke': axis.lineStyle.color\n        };\n        chart.yAxisElements.appendChild(chart.renderer.drawPath(optionsLine));\n    };\n    PolarRadarPanel.prototype.drawYAxisLabels = function (axis, index) {\n        var chart = this.chart;\n        var elementSize;\n        var options;\n        var pointX = 0;\n        var pointY = 0;\n        var vector;\n        var angle = this.startAngle < 0 ? this.startAngle + 360 : this.startAngle;\n        var anchor = 'middle';\n        var radius;\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value, axis), this.startAngle);\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            radius = chart.radius * valueToCoefficient(axis.visibleLabels[i].value, axis);\n            elementSize = axis.visibleLabels[i].size;\n            radius = chart.radius * valueToCoefficient(axis.visibleLabels[i].value, axis);\n            pointX = (this.centerX + radius * vector.x) -\n                (axis.majorTickLines.height + elementSize.width / 2) * (Math.cos(angle * Math.PI / 180));\n            pointY = (this.centerY + radius * vector.y) -\n                (axis.majorTickLines.height + elementSize.height / 2) * (Math.sin(angle * Math.PI / 180));\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY + (elementSize.height / 4), anchor, axis.visibleLabels[i].text);\n            textElement(options, axis.labelStyle, axis.labelStyle.color, labelElement);\n        }\n        chart.yAxisElements.appendChild(labelElement);\n    };\n    PolarRadarPanel.prototype.drawYAxisGridLine = function (axis, index) {\n        var chart = this.chart;\n        var options;\n        var radius;\n        var majorTick = '';\n        var majorGrid = '';\n        var vector;\n        var vector2;\n        var angle = this.startAngle < 0 ? this.startAngle + 360 : this.startAngle;\n        var rect = axis.rect;\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        if (axis.majorGridLines.width > 0) {\n            if (chart.visibleSeries[0].type === 'Polar') {\n                for (var j = 0; j < axis.visibleLabels.length; j++) {\n                    radius = chart.radius * valueToCoefficient(axis.visibleLabels[j].value, axis);\n                    options = new CircleOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines, axis.majorGridLines.width, this.centerX, this.centerY, radius);\n                    this.element.appendChild(chart.renderer.drawCircle(options));\n                }\n            }\n            else {\n                for (var j = 0; j < axis.visibleLabels.length; j++) {\n                    radius = chart.radius * valueToCoefficient(axis.visibleLabels[j].value, axis);\n                    for (var i = 0, len = chart.primaryXAxis.visibleLabels.length; i < len; i++) {\n                        vector = CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[i].value, chart.primaryXAxis), this.startAngle);\n                        if (i + 1 < len) {\n                            vector2 = CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[i + 1].value, chart.primaryXAxis), this.startAngle);\n                        }\n                        else {\n                            vector2 = CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[0].value, chart.primaryXAxis), this.startAngle);\n                        }\n                        x1 = this.centerX + radius * vector.x;\n                        y1 = this.centerY + radius * vector.y;\n                        x2 = this.centerX + radius * vector2.x;\n                        y2 = this.centerY + radius * vector2.y;\n                        majorGrid = majorGrid.concat('M' + ' ' + x1 + ' ' + y1 + ' ' + 'L' + ' ' + x2 + ' ' + y2 + ' ');\n                    }\n                }\n                options = new PathOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines.width, axis.majorGridLines.color, null, null, majorGrid);\n                this.element.appendChild(chart.renderer.drawPath(options));\n            }\n        }\n        if (axis.majorTickLines.width > 0) {\n            vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value, axis), this.startAngle);\n            for (var i = 0; i < axis.visibleLabels.length; i++) {\n                radius = chart.radius * valueToCoefficient(axis.visibleLabels[i].value, axis);\n                x1 = this.centerX + radius * vector.x;\n                y1 = this.centerY + radius * vector.y;\n                x2 = x1 - axis.majorTickLines.height * (Math.cos(angle * Math.PI / 180));\n                y2 = y1 - axis.majorTickLines.height * (Math.sin(angle * Math.PI / 180));\n                majorTick = majorTick.concat('M ' + x1 + ' ' + y1 +\n                    ' L ' + x2 + ' ' + y2 + ' ');\n            }\n        }\n        this.renderTickLine(axis, index, majorTick, '');\n    };\n    PolarRadarPanel.prototype.drawXAxisGridLine = function (axis, index) {\n        var chart = this.chart;\n        var tempInterval;\n        var vector;\n        var majorGrid = '';\n        var majorTick = '';\n        var minorGirdLine = '';\n        var minorTickLine = '';\n        var x1 = this.centerX;\n        var x2;\n        var y1 = this.centerY;\n        var y2;\n        var minorDirection;\n        var tickSize = axis.majorTickLines.height;\n        var rect = axis.rect;\n        var length = axis.visibleLabels.length;\n        //Gridlines\n        for (var i = 0; i < length; i++) {\n            tempInterval = axis.visibleLabels[i].value;\n            vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[i].value, axis), this.startAngle);\n            x2 = this.centerX + chart.radius * vector.x;\n            y2 = this.centerY + chart.radius * vector.y;\n            majorGrid = majorGrid.concat('M ' + x1 + ' ' + y1 + ' ' + 'L' + x2 + ' ' + y2);\n            majorTick = majorTick.concat('M ' + x2 + ' ' + y2 +\n                ' L ' + (x2 + axis.majorTickLines.height * vector.x) + ' ' + (y2 + axis.majorTickLines.height * vector.y) + ' ');\n            if (axis.minorTicksPerInterval > 0 && (axis.minorGridLines.width > 0 || axis.minorTickLines.width > 0)\n                && axis.valueType !== 'Category' && chart.visibleSeries[0].type !== 'Radar') {\n                minorDirection = this.drawAxisMinorLine(axis, tempInterval, minorGirdLine, minorTickLine);\n                minorGirdLine = minorDirection[0];\n                minorTickLine = minorDirection[1];\n            }\n        }\n        this.renderTickLine(axis, index, majorTick, minorTickLine);\n        this.renderGridLine(axis, index, majorGrid, minorGirdLine);\n    };\n    PolarRadarPanel.prototype.drawAxisMinorLine = function (axis, tempInterval, minorGird, minorTick) {\n        var value = tempInterval;\n        var x;\n        var y;\n        var vector;\n        var range = axis.visibleRange;\n        var direction = [];\n        var tickSize = axis.minorTickLines.height;\n        var rect = axis.rect;\n        for (var j = 0; j < axis.minorTicksPerInterval; j++) {\n            value += (axis.valueType === 'DateTime' ? axis.dateTimeInterval : axis.visibleRange.interval) /\n                (axis.minorTicksPerInterval + 1);\n            if (inside(value, range)) {\n                vector = CoefficientToVector(valueToPolarCoefficient(value, axis), this.startAngle);\n                x = this.centerX + this.chart.radius * vector.x;\n                y = this.centerY + this.chart.radius * vector.y;\n                minorGird = minorGird.concat('M' + ' ' + this.centerX + ' ' + this.centerY\n                    + 'L ' + x + ' ' + y);\n                minorTick = minorTick.concat('M' + ' ' + x + ' ' + y + 'L' + ' ' + (x + axis.minorTickLines.height * vector.x) + ' ' +\n                    (y + (axis.minorTickLines.height * vector.y)));\n            }\n        }\n        direction.push(minorGird);\n        direction.push(minorTick);\n        return direction;\n    };\n    /**\n     * To render the axis label.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.drawXAxisLabels = function (axis, index) {\n        var chart = this.chart;\n        var pointX = 0;\n        var elementSize;\n        var pointY = 0;\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        var options;\n        var vector;\n        var labelText;\n        var firstLabelX;\n        var padding = 5;\n        var lastLabelX;\n        var textAnchor = '';\n        var ticksbwtLabel = axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks'\n            && chart.visibleSeries[0].type !== 'Radar' ? 0.5 : 0;\n        var radius = chart.radius + axis.majorTickLines.height;\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[i].value + ticksbwtLabel, axis), this.startAngle);\n            if (!isNaN(vector.x) && !isNaN(vector.y)) {\n                pointX = this.centerX + (radius + axis.majorTickLines.height + padding) * vector.x;\n                pointY = this.centerY + (radius + axis.majorTickLines.height + padding) * vector.y;\n                textAnchor = parseFloat(pointX.toFixed(1)) === parseFloat(this.centerX.toFixed(1)) ? 'middle' :\n                    (pointX < this.centerX) ? 'end' : 'start';\n            }\n            labelText = axis.visibleLabels[i].text;\n            if (i === 0) {\n                firstLabelX = pointX;\n            }\n            else if (i === axis.visibleLabels.length - 1 && axis.valueType !== 'Category') {\n                lastLabelX = measureText(labelText, axis.labelStyle).height;\n                lastLabelX += pointX;\n                labelText = (lastLabelX > firstLabelX) ? '' : labelText;\n            }\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY, textAnchor, labelText, '', 'central');\n            textElement(options, axis.labelStyle, axis.labelStyle.color, labelElement);\n        }\n        this.element.appendChild(labelElement);\n    };\n    PolarRadarPanel.prototype.renderTickLine = function (axis, index, majorTickLine, minorTickLine) {\n        var tickOptions;\n        var chart = this.chart;\n        if (axis.majorTickLines.width > 0) {\n            tickOptions = new PathOption(chart.element.id + '_MajorTickLine_' + index, 'transparent', axis.majorTickLines.width, axis.majorTickLines.color, null, null, majorTickLine);\n            chart.yAxisElements.appendChild(chart.renderer.drawPath(tickOptions));\n        }\n        if (axis.minorTickLines.width > 0) {\n            tickOptions = new PathOption(chart.element.id + '_MinorTickLine_' + index, 'transparent', axis.minorTickLines.width, axis.minorTickLines.color, null, null, minorTickLine);\n            chart.yAxisElements.appendChild(chart.renderer.drawPath(tickOptions));\n        }\n    };\n    PolarRadarPanel.prototype.renderGridLine = function (axis, index, majorGrid, minorGird) {\n        var chart = this.chart;\n        var gridOptions;\n        if (axis.majorGridLines.width > 0) {\n            gridOptions = new PathOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines.width, axis.majorGridLines.color, null, axis.majorGridLines.dashArray, majorGrid);\n            this.element.appendChild(chart.renderer.drawPath(gridOptions));\n        }\n        if (axis.minorGridLines.width > 0) {\n            gridOptions = new PathOption(chart.element.id + '_MinorGridLine_' + index, 'transparent', axis.minorGridLines.width, axis.minorGridLines.color, null, axis.minorGridLines.dashArray, minorGird);\n            this.element.appendChild(chart.renderer.drawPath(gridOptions));\n        }\n    };\n    return PolarRadarPanel;\n}(LineBase));\nexport { PolarRadarPanel };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption, logBase, CoefficientToVector, markerAnimate, PolarArc, valueToCoefficient, firstToLowerCase, valueToPolarCoefficient } from '../../common/utils/helper';\nimport { PolarRadarPanel } from '../axis/polar-radar-panel';\nimport { pointRender } from '../../common/model/constants';\nimport { Animation } from '@syncfusion/ej2-base';\n/**\n * `PolarSeries` Module used to render the polar series.\n */\nvar PolarSeries = /** @class */ (function (_super) {\n    __extends(PolarSeries, _super);\n    function PolarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Polar Series.\n     * @return {void}.\n     * @private\n     */\n    PolarSeries.prototype.render = function (series) {\n        var seriesType = firstToLowerCase(series.drawType);\n        if (series.drawType.indexOf('Column') > -1) {\n            this.columnDrawTypeRender(series);\n        }\n        else {\n            series.chart[seriesType + 'SeriesModule'].render(series, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        }\n    };\n    /**\n     * Render Column DrawType.\n     * @return {void}.\n     * @private\n     */\n    PolarSeries.prototype.columnDrawTypeRender = function (series) {\n        var visiblePoints = series.points;\n        var rect;\n        var options;\n        var argsData;\n        var startAngle;\n        var endAngle;\n        var itemCurrentXPos;\n        var radius;\n        var pointStartAngle;\n        var pointEndAngle;\n        var x1;\n        var x2;\n        var y1;\n        var y2;\n        var startValue;\n        var endValue;\n        var innerRadius;\n        var centerX = (series.clipRect.width / 2) + series.clipRect.x;\n        var dStartX;\n        var dStartY;\n        var centerY = (series.clipRect.height / 2) + series.clipRect.y;\n        var dEndX;\n        var dEndY;\n        var axisInversed = series.xAxis.isInversed ? 1 : 0;\n        var direction = '';\n        var sumofYValues = 0;\n        var interval = (series.points[1] ? series.points[1].xValue : 2 * series.points[0].xValue) - series.points[0].xValue;\n        var ticks = series.xAxis.valueType === 'Category' && series.xAxis.labelPlacement === 'BetweenTicks' ? 0 : interval / 2;\n        var rangeInterval = series.xAxis.valueType === 'DateTime' ? series.xAxis.dateTimeInterval : 1;\n        var min = series.xAxis.actualRange.min;\n        var inversedValue;\n        var vector;\n        this.getSeriesPosition(series);\n        var position = series.xAxis.isInversed ? (series.rectCount - 1 - series.position) : series.position;\n        var ticksbwtLabel = series.xAxis.valueType === 'Category' && series.xAxis.labelPlacement === 'BetweenTicks' ? 0.5\n            : 0.5 - (series.rectCount / 2);\n        do {\n            sumofYValues += rangeInterval;\n            min += rangeInterval;\n        } while (min <= series.xAxis.actualRange.max - (series.xAxis.valueType === 'Category' ? 0 : 1));\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                inversedValue = series.xAxis.isInversed ? (series.xAxis.visibleRange.max - point.xValue) :\n                    point.xValue - series.xAxis.visibleRange.min;\n                itemCurrentXPos = (inversedValue) +\n                    ((interval / series.rectCount) * position - ticks) + (sumofYValues / 360 * series.xAxis.startAngle);\n                itemCurrentXPos = (((itemCurrentXPos) / (sumofYValues)));\n                startAngle = 2 * Math.PI * (itemCurrentXPos + series.xAxis.startAngle);\n                endAngle = 2 * Math.PI * ((itemCurrentXPos + series.xAxis.startAngle) + (interval / series.rectCount) / (sumofYValues));\n                pointStartAngle = startAngle;\n                pointEndAngle = endAngle;\n                startAngle = (startAngle - 0.5 * Math.PI);\n                endAngle = (endAngle - 0.5 * Math.PI) - 0.000001;\n                if (series.drawType === 'StackingColumn' || series.drawType === 'RangeColumn') {\n                    startValue = series.drawType === 'RangeColumn' ? point.low : series.stackedValues.startValues[point.index];\n                    endValue = series.drawType === 'RangeColumn' ? point.high : series.stackedValues.endValues[point.index];\n                    endValue = (series.yAxis.valueType === 'Logarithmic' ?\n                        logBase(endValue === 0 ? 1 : endValue, series.yAxis.logBase) : endValue);\n                    endValue = endValue > series.yAxis.actualRange.max ? series.yAxis.actualRange.max : endValue;\n                    radius = startValue === endValue ? 0 : series.chart.radius * valueToCoefficient(endValue, series.yAxis);\n                    x1 = centerX + radius * Math.cos(startAngle);\n                    x2 = centerX + radius * Math.cos(endAngle);\n                    y1 = centerY + radius * Math.sin(startAngle);\n                    y2 = centerY + radius * Math.sin(endAngle);\n                    innerRadius = series.chart.radius * valueToCoefficient((startValue === 0 && series.yAxis.visibleRange.min !== 0) ? series.yAxis.visibleRange.min : startValue, series.yAxis);\n                    dStartX = centerX + innerRadius * Math.cos(startAngle);\n                    dStartY = centerY + innerRadius * Math.sin(startAngle);\n                    dEndX = centerX + innerRadius * Math.cos(endAngle);\n                    dEndY = centerY + innerRadius * Math.sin(endAngle);\n                    if (series.type === 'Polar') {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'A' + ' ' + radius + ' ' + radius + ' ' + '0' + ' '\n                            + '0' + ' ' + 1 + ' ' + x2 + ' ' + y2 + ' ' + 'L' + ' ' + dEndX + ' ' + dEndY + ' ' +\n                            'A' + ' ' + innerRadius + ' ' + innerRadius + ' ' + '1' + ' ' + '0' + ' ' + '0' + ' '\n                            + dStartX + ' ' + dStartY + ' ' + 'z');\n                    }\n                    else {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'L' + ' ' + x2 + ' ' + y2 + ' ' + 'L'\n                            + dEndX + ' ' + dEndY + ' ' + 'L' + ' ' + dStartX + ' ' + dStartY + ' ' + 'z');\n                    }\n                    point.regionData = new PolarArc(pointStartAngle, pointEndAngle, innerRadius, radius, itemCurrentXPos);\n                }\n                else {\n                    endValue = point.yValue > series.yAxis.actualRange.max ? series.yAxis.actualRange.max : point.yValue;\n                    radius = series.chart.radius * valueToCoefficient((series.yAxis.valueType === 'Logarithmic' ? logBase(endValue, series.yAxis.logBase) : endValue), series.yAxis);\n                    x1 = centerX + radius * Math.cos(startAngle);\n                    x2 = centerX + radius * Math.cos(endAngle);\n                    y1 = centerY + radius * Math.sin(startAngle);\n                    y2 = centerY + radius * Math.sin(endAngle);\n                    if (series.type === 'Polar') {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'A' + ' ' + radius + ' ' + radius + ' ' + '0' + ' ' +\n                            '0' + ' ' + 1 + ' ' + x2 + ' ' + y2 + ' ' + 'L' + ' ' + centerX + ' ' +\n                            centerY + ' ' + 'z');\n                    }\n                    else {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'L' + ' ' + x2 + ' ' + y2 + ' ' + 'L' + ' '\n                            + centerX + ' ' + centerY + ' ' + 'z');\n                    }\n                    point.regionData = new PolarArc(pointStartAngle, pointEndAngle, 0, radius, itemCurrentXPos);\n                }\n                argsData = this.triggerEvent(series.chart, series, point);\n                options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n                if (!argsData.cancel) {\n                    this.appendLinePath(options, series);\n                    if (series.type === 'Polar') {\n                        vector = CoefficientToVector(valueToPolarCoefficient((point.xValue + ticksbwtLabel / series.rectCount + series.position / series.rectCount), series.xAxis), series.chart.primaryXAxis.startAngle);\n                        point.symbolLocations.push({\n                            x: series.clipRect.width / 2 + series.clipRect.x + radius * vector.x,\n                            y: series.clipRect.height / 2 + series.clipRect.y + radius * vector.y\n                        });\n                    }\n                    else {\n                        point.symbolLocations.push({ x: (x1 + x2) / 2, y: (y1 + y2) / 2 });\n                    }\n                }\n            }\n        }\n        series.isRectSeries = true;\n    };\n    /**\n     * To trigger the point rendering event.\n     * @return {void}\n     * @private\n     */\n    PolarSeries.prototype.triggerEvent = function (chart, series, point) {\n        var argsData = {\n            cancel: false, name: pointRender, series: series, point: point,\n            fill: series.setPointColor(point, series.interior),\n            border: series.setBorderColor(point, { width: series.border.width, color: series.border.color })\n        };\n        chart.trigger(pointRender, argsData);\n        point.color = argsData.fill;\n        return argsData;\n    };\n    /** get position for column drawtypes\n     * @return {void}.\n     * @private\n     */\n    PolarSeries.prototype.getSeriesPosition = function (series) {\n        var chart = series.chart;\n        var seriesCollection = [];\n        var stackingGroup = [];\n        var vSeries = { rectCount: 0, position: null };\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series_1 = _a[_i];\n            if (series_1.visible && (series_1.type === 'Polar' || series_1.type === 'Radar') && series_1.drawType.indexOf('Column') !== -1) {\n                seriesCollection.push(series_1);\n            }\n        }\n        seriesCollection.forEach(function (series) {\n            if (series.drawType.indexOf('Stacking') !== -1) {\n                if (series.stackingGroup) {\n                    if (stackingGroup[series.stackingGroup] === undefined) {\n                        series.position = vSeries.rectCount;\n                        stackingGroup[series.stackingGroup] = vSeries.rectCount++;\n                    }\n                    else {\n                        series.position = stackingGroup[series.stackingGroup];\n                    }\n                }\n                else {\n                    if (vSeries.position === null) {\n                        series.position = vSeries.rectCount;\n                        vSeries.position = vSeries.rectCount++;\n                    }\n                    else {\n                        series.position = vSeries.position;\n                    }\n                }\n            }\n            else {\n                series.position = vSeries.rectCount++;\n            }\n        });\n        seriesCollection.forEach(function (value) {\n            value.rectCount = vSeries.rectCount;\n        });\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     */\n    PolarSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        var duration = series.animation.duration;\n        var delay = series.animation.delay;\n        var rectElements = series.seriesElement.childNodes;\n        var count = 1;\n        if (series.drawType === 'Scatter') {\n            for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                if (!point.symbolLocations.length || !rectElements[count]) {\n                    continue;\n                }\n                markerAnimate(rectElements[count], delay, duration, series, point.index, point.symbolLocations[0], false);\n                count++;\n            }\n        }\n        else {\n            for (count = 1; count < rectElements.length; count++) {\n                this.doPolarRadarAnimation(rectElements[count], delay, duration, series);\n            }\n        }\n    };\n    /**\n     * To do the Polar Radar draw type column animation.\n     * @return {void}\n     * @private\n     */\n    PolarSeries.prototype.doPolarRadarAnimation = function (animateElement, delay, duration, series) {\n        var chartcenterX = series.clipRect.width / 2 + series.clipRect.x;\n        var chartcenterY = series.clipRect.height / 2 + series.clipRect.y;\n        var elementHeight = 0;\n        animateElement.style.visibility = 'hidden';\n        new Animation({}).animate(animateElement, {\n            duration: duration,\n            delay: delay,\n            progress: function (args) {\n                if (args.timeStamp > args.delay) {\n                    args.element.style.visibility = 'visible';\n                    elementHeight = ((args.timeStamp - args.delay) / args.duration);\n                    animateElement.setAttribute('transform', 'translate(' + chartcenterX\n                        + ' ' + chartcenterY + ') scale(' + elementHeight + ') translate(' + (-chartcenterX) + ' ' + (-chartcenterY) + ')');\n                }\n            },\n            end: function (model) {\n                animateElement.style.visibility = 'visible';\n                animateElement.removeAttribute('transform');\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        });\n    };\n    /**\n     * Get module name.\n     */\n    PolarSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'PolarSeries';\n    };\n    /**\n     * To destroy the polar series.\n     * @return {void}\n     * @private\n     */\n    PolarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return PolarSeries;\n}(PolarRadarPanel));\nexport { PolarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { PolarSeries } from '../series/polar-series';\n/**\n * `RadarSeries` Module used to render the radar series.\n */\nvar RadarSeries = /** @class */ (function (_super) {\n    __extends(RadarSeries, _super);\n    function RadarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render radar Series.\n     * @return {void}.\n     * @private\n     */\n    RadarSeries.prototype.render = function (series) {\n        var seriesType = firstToLowerCase(series.drawType);\n        if (series.drawType.indexOf('Column') === -1) {\n            series.chart[seriesType + 'SeriesModule'].render(series, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        }\n        else {\n            this.columnDrawTypeRender(series);\n        }\n    };\n    /**\n     * Get module name.\n     */\n    RadarSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'RadarSeries';\n    };\n    /**\n     * To destroy the radar series.\n     * @return {void}\n     * @private\n     */\n    RadarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return RadarSeries;\n}(PolarSeries));\nexport { RadarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Stacking Bar Module used to render the Stacking Bar series.\n */\nvar StackingBarSeries = /** @class */ (function (_super) {\n    __extends(StackingBarSeries, _super);\n    function StackingBarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Stacking bar series.\n     * @return {void}\n     * @private\n     */\n    StackingBarSeries.prototype.render = function (series) {\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var stackedValue = series.stackedValues;\n        var rect;\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var pointStack = _a[_i];\n            pointStack.symbolLocations = [];\n            pointStack.regions = [];\n            if (pointStack.visible && withInRange(series.points[pointStack.index - 1], pointStack, series.points[pointStack.index + 1], series)) {\n                rect = this.getRectangle(pointStack.xValue + sideBySideInfo.start, stackedValue.endValues[pointStack.index], pointStack.xValue + sideBySideInfo.end, stackedValue.startValues[pointStack.index], series);\n                argsData = this.triggerEvent(series, pointStack, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.drawRectangle(series, pointStack, rect, argsData);\n                    this.updateSymbolLocation(pointStack, rect, series);\n                }\n            }\n        }\n    };\n    /**\n     * To destroy the stacking bar.\n     * @return {void}\n     * @private\n     */\n    StackingBarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StackingBarSeries.prototype.getModuleName = function () {\n        return 'StackingBarSeries';\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    StackingBarSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    return StackingBarSeries;\n}(ColumnBase));\nexport { StackingBarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Candle Module used to render the candle series.\n */\nvar CandleSeries = /** @class */ (function (_super) {\n    __extends(CandleSeries, _super);\n    function CandleSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Candle series.\n     * @return {void}\n     * @private\n     */\n    CandleSeries.prototype.render = function (series) {\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        var borderWidth = Math.max(series.border.width, 1);\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            var direction = '';\n            var centerRegion = void 0;\n            var tickRegion = void 0;\n            var midPoint = void 0;\n            midPoint = (sideBySideInfo.start + sideBySideInfo.end) / 2;\n            //initializing after zooming and also normal initialization\n            point.regions = [];\n            point.symbolLocations = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                //region to cover the top and bottom ticks\n                tickRegion = this.getRectangle((point.xValue + sideBySideInfo.median), Math.max(point.high, point.low), (point.xValue + sideBySideInfo.median), Math.min(point.high, point.low), series);\n                if (!series.chart.requireInvertedAxis) {\n                    tickRegion.x -= borderWidth / 2;\n                    tickRegion.width = borderWidth;\n                }\n                else {\n                    tickRegion.y -= borderWidth / 2;\n                    tickRegion.height = borderWidth;\n                }\n                //get middleRect\n                centerRegion = this.getRectangle((point.xValue + sideBySideInfo.start), Math.max(point.open, point.close), (point.xValue + sideBySideInfo.end), Math.min(point.open, point.close), series);\n                direction = this.getPathString(tickRegion, centerRegion, series);\n                argsData = this.triggerPointRenderEvent(series, point);\n                if (!argsData.cancel) {\n                    this.drawCandle(series, point, centerRegion, argsData, direction);\n                    this.updateSymbolLocation(point, tickRegion, series);\n                    this.updateSymbolLocation(point, centerRegion, series);\n                }\n            }\n        }\n    };\n    /**\n     * Trigger point rendering event\n     */\n    CandleSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var fill;\n        fill = this.getCandleColor(point, series);\n        var border = { color: series.border.color, width: Math.max(series.border.width, 1) };\n        return this.triggerEvent(series, point, fill, border);\n    };\n    /**\n     * Find the color of the candle\n     * @param series\n     * @private\n     */\n    CandleSeries.prototype.getCandleColor = function (point, series) {\n        var currentPoint = point;\n        var previousPoint = series.points[point.index - 1];\n        if (series.enableSolidCandles === false) {\n            if (!previousPoint) {\n                return series.bearFillColor;\n            }\n            else {\n                return previousPoint.close > point.close ? series.bullFillColor :\n                    series.bearFillColor;\n            }\n        }\n        else {\n            return point.open > point.close ? series.bullFillColor :\n                series.bearFillColor;\n        }\n    };\n    /**\n     * Finds the path of the candle shape\n     * @param Series\n     * @private\n     */\n    CandleSeries.prototype.getPathString = function (topRect, midRect, series) {\n        var direction = '';\n        var width = series.chart.requireInvertedAxis ? topRect.height : topRect.width;\n        var center = series.chart.requireInvertedAxis ? topRect.y + topRect.height / 2 :\n            topRect.x + topRect.width / 2;\n        //tick 1 segment\n        direction += !series.chart.requireInvertedAxis ?\n            'M' + ' ' + (center) + ' ' + (topRect.y) + ' ' + 'L' + ' ' + (center) + ' ' + midRect.y :\n            'M' + ' ' + (topRect.x) + ' ' + (center) + ' ' + 'L' + ' ' + (midRect.x) + ' ' + center;\n        direction = direction.concat(' M' + ' ' + (midRect.x) + ' ' + (midRect.y) + ' ' +\n            'L' + ' ' + (midRect.x + midRect.width) + ' ' + (midRect.y) + ' ' +\n            'L' + ' ' + (midRect.x + midRect.width) + ' ' +\n            (midRect.y + midRect.height) + ' ' +\n            'L' + ' ' + (midRect.x) + ' ' + (midRect.y + midRect.height) +\n            ' ' + 'Z');\n        direction += !series.chart.requireInvertedAxis ?\n            ' M' + ' ' + (center) + ' ' + (midRect.y + midRect.height) + ' ' + 'L' + ' ' + (center) + ' ' + (topRect.y +\n                topRect.height) :\n            ' M' + ' ' + (midRect.x + midRect.width) + ' ' + (center) + ' ' + 'L' + ' ' +\n                (topRect.x + topRect.width) + ' ' + center;\n        return direction;\n    };\n    /**\n     * Draws the candle shape\n     * @param series\n     * @private\n     */\n    CandleSeries.prototype.drawCandle = function (series, point, rect, argsData, direction) {\n        var check = series.chart.requireInvertedAxis ? rect.height : rect.width;\n        if (check <= 0) {\n            return null;\n        }\n        var fill = !series.enableSolidCandles ?\n            (point.open > point.close ? argsData.fill : 'transparent') : argsData.fill;\n        argsData.border.color = argsData.fill;\n        var options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index, fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n        var candleElement = series.chart.renderer.drawPath(options);\n        candleElement.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString()\n            + ':' + point.low.toString() + ':' + point.close.toString() + ':' + point.open.toString());\n        series.seriesElement.appendChild(candleElement);\n    };\n    /**\n     * Animate the series\n     * @param series\n     * @private\n     */\n    CandleSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    CandleSeries.prototype.getModuleName = function () {\n        return 'CandleSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the candle series.\n     * @return {void}\n     * @private\n     */\n    CandleSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the candle series.\n         */\n    };\n    return CandleSeries;\n}(ColumnBase));\nexport { CandleSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Stacking Column Module used to render the Stacking Column series.\n */\nvar StackingColumnSeries = /** @class */ (function (_super) {\n    __extends(StackingColumnSeries, _super);\n    function StackingColumnSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Stacking column series.\n     * @return {void}\n     * @private\n     */\n    StackingColumnSeries.prototype.render = function (series) {\n        series.isRectSeries = true;\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var rect;\n        var argsData;\n        var stackedValue = series.stackedValues;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                rect = this.getRectangle(point.xValue + sideBySideInfo.start, stackedValue.endValues[point.index], point.xValue + sideBySideInfo.end, stackedValue.startValues[point.index], series);\n                argsData = this.triggerEvent(series, point, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.drawRectangle(series, point, rect, argsData);\n                    this.updateSymbolLocation(point, rect, series);\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    StackingColumnSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the stacking column.\n     * @return {void}\n     * @private\n     */\n    StackingColumnSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StackingColumnSeries.prototype.getModuleName = function () {\n        return 'StackingColumnSeries';\n    };\n    return StackingColumnSeries;\n}(ColumnBase));\nexport { StackingColumnSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, getPoint, withInRange, Rect } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * StepLine Module used to render the step line series.\n */\nvar StepLineSeries = /** @class */ (function (_super) {\n    __extends(StepLineSeries, _super);\n    function StepLineSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Step line series.\n     * @return {void}\n     * @private\n     */\n    StepLineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var direction = '';\n        var startPoint = 'M';\n        var prevPoint = null;\n        var pathOptions;\n        var lineLength;\n        var point1;\n        var point2;\n        var visiblePoints = this.improveChartPerformance(series);\n        if (xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks') {\n            lineLength = 0.5;\n        }\n        else {\n            lineLength = 0;\n        }\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                if (prevPoint != null) {\n                    point2 = getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted);\n                    point1 = getPoint(prevPoint.xValue, prevPoint.yValue, xAxis, yAxis, isInverted);\n                    direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ' + 'L' + ' ' +\n                        (point2.x) + ' ' + (point1.y) + 'L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n                    startPoint = 'L';\n                }\n                else {\n                    point1 = getPoint(point.xValue - lineLength, point.yValue, xAxis, yAxis, isInverted);\n                    direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n                    startPoint = 'L';\n                }\n                point.symbolLocations.push(getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted));\n                prevPoint = point;\n                point.regions.push(new Rect(point.symbolLocations[0].x - series.marker.width, point.symbolLocations[0].y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n            }\n            else {\n                prevPoint = series.emptyPointSettings.mode === 'Drop' ? prevPoint : null;\n                startPoint = series.emptyPointSettings.mode === 'Drop' ? startPoint : 'M';\n            }\n        }\n        point1 = getPoint(visiblePoints[visiblePoints.length - 1].xValue + lineLength, visiblePoints[visiblePoints.length - 1].yValue, xAxis, yAxis, isInverted);\n        direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n        pathOptions = new PathOption(series.chart.element.id + '_Series_' + series.index, 'transparent', series.width, series.interior, series.opacity, series.dashArray, direction);\n        this.appendLinePath(pathOptions, series);\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    StepLineSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * To destroy the step line series.\n     * @return {void}\n     * @private\n     */\n    StepLineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StepLineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'StepLineSeries';\n    };\n    return StepLineSeries;\n}(LineBase));\nexport { StepLineSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getPoint, withInRange, ChartLocation, PathOption, Rect } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * StepArea Module used to render the StepArea series.\n */\nvar StepAreaSeries = /** @class */ (function (_super) {\n    __extends(StepAreaSeries, _super);\n    function StepAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render StepArea series.\n     * @return {void}\n     * @private\n     */\n    StepAreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var currentPoint;\n        var secondPoint;\n        var start = null;\n        var direction = '';\n        var pointsLength = series.points.length;\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var options;\n        var point;\n        var xValue;\n        var lineLength;\n        var prevPoint = null;\n        if (xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks') {\n            lineLength = 0.5;\n        }\n        else {\n            lineLength = 0;\n        }\n        for (var i = 0; i < pointsLength; i++) {\n            point = series.points[i];\n            xValue = point.xValue;\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[i - 1], point, series.points[i + 1], series)) {\n                if (start === null) {\n                    start = new ChartLocation(xValue, 0);\n                    // Start point for the current path\n                    currentPoint = getPoint(xValue - lineLength, origin, xAxis, yAxis, isInverted);\n                    direction += ('M' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ');\n                    currentPoint = getPoint(xValue - lineLength, point.yValue - lineLength, xAxis, yAxis, isInverted);\n                    direction += ('L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ');\n                }\n                // First Point to draw the Steparea path\n                if (prevPoint != null) {\n                    currentPoint = getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted);\n                    secondPoint = getPoint(prevPoint.xValue, prevPoint.yValue, xAxis, yAxis, isInverted);\n                    direction += ('L' + ' ' +\n                        (currentPoint.x) + ' ' + (secondPoint.y) + 'L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ');\n                }\n                else if (series.emptyPointSettings.mode === 'Gap') {\n                    currentPoint = getPoint(point.xValue + lineLength, point.yValue, xAxis, yAxis, isInverted);\n                    direction += 'L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ';\n                }\n                point.symbolLocations.push(getPoint(xValue, point.yValue, xAxis, yAxis, isInverted));\n                point.regions.push(new Rect(point.symbolLocations[0].x - series.marker.width, point.symbolLocations[0].y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n                prevPoint = point;\n            }\n            if (series.points[i + 1] && !series.points[i + 1].visible && series.emptyPointSettings.mode !== 'Drop') {\n                // current start point\n                currentPoint = getPoint(xValue + lineLength, origin, xAxis, yAxis, isInverted);\n                direction += ('L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y));\n                start = null;\n                prevPoint = null;\n            }\n        }\n        if (pointsLength > 1) {\n            start = { 'x': series.points[pointsLength - 1].xValue + lineLength, 'y': series.points[pointsLength - 1].yValue };\n            secondPoint = getPoint(start.x, start.y, xAxis, yAxis, isInverted);\n            direction += ('L' + ' ' + (secondPoint.x) + ' ' + (secondPoint.y) + ' ');\n            start = { 'x': series.points[pointsLength - 1].xValue + lineLength, 'y': origin };\n            secondPoint = getPoint(start.x, start.y, xAxis, yAxis, isInverted);\n            direction += ('L' + ' ' + (secondPoint.x) + ' ' + (secondPoint.y) + ' ');\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series);\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    StepAreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * To destroy the step Area series.\n     * @return {void}\n     * @private\n     */\n    StepAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StepAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'StepAreaSeries';\n    };\n    return StepAreaSeries;\n}(LineBase));\nexport { StepAreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, getPoint, withInRange, Rect, TransformToVisible } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * Stacking Area Module used to render the Stacking Area series.\n */\nvar StackingAreaSeries = /** @class */ (function (_super) {\n    __extends(StackingAreaSeries, _super);\n    function StackingAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Stacking area series.\n     * @return {void}\n     * @private\n     */\n    StackingAreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        var lineDirection = '';\n        var visiblePoints = series.points;\n        var pointsLength = visiblePoints.length;\n        var stackedvalue = series.stackedValues;\n        var origin = series.chart.chartAreaType === 'PolarRadar' ?\n            Math.max(series.yAxis.visibleRange.min, stackedvalue.endValues[0]) :\n            Math.max(series.yAxis.visibleRange.min, stackedvalue.startValues[0]);\n        var border = series.border;\n        var options;\n        var startPoint = 0;\n        var point1 = getCoordinate(visiblePoints[0].xValue, origin, xAxis, yAxis, isInverted, series);\n        var point2;\n        lineDirection = lineDirection.concat('M' + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n        for (var i = 0; i < pointsLength; i++) {\n            visiblePoints[i].symbolLocations = [];\n            visiblePoints[i].regions = [];\n            if (visiblePoints[i].visible && withInRange(visiblePoints[i - 1], visiblePoints[i], visiblePoints[i + 1], series)) {\n                point1 = getCoordinate(visiblePoints[i].xValue, stackedvalue.endValues[i], xAxis, yAxis, isInverted, series);\n                lineDirection = lineDirection.concat('L' + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n                visiblePoints[i].symbolLocations.push(getCoordinate(visiblePoints[i].xValue, stackedvalue.endValues[i], xAxis, yAxis, isInverted, series));\n                visiblePoints[i].regions.push(new Rect(visiblePoints[i].symbolLocations[0].x - series.marker.width, visiblePoints[i].symbolLocations[0].y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n            }\n            else {\n                if (series.emptyPointSettings.mode !== 'Drop') {\n                    for (var j = i - 1; j >= startPoint; j--) {\n                        point2 = getCoordinate(visiblePoints[j].xValue, stackedvalue.startValues[j], xAxis, yAxis, isInverted, series);\n                        lineDirection = lineDirection.concat('L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n                    }\n                    if (visiblePoints[i + 1] && visiblePoints[i + 1].visible) {\n                        point1 = getCoordinate(visiblePoints[i + 1].xValue, stackedvalue.startValues[i + 1], xAxis, yAxis, isInverted, series);\n                        lineDirection = lineDirection.concat('M' + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n                    }\n                    startPoint = i + 1;\n                }\n            }\n        }\n        if (series.chart.chartAreaType === 'PolarRadar' && visiblePoints.length > 1) {\n            point1 = { 'x': series.points[0].xValue, 'y': stackedvalue.endValues[0] };\n            point2 = getCoordinate(point1.x, point1.y, xAxis, yAxis, isInverted, series);\n            lineDirection += ('L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n            point1 = { 'x': series.points[0].xValue, 'y': stackedvalue.startValues[0] };\n            point2 = getCoordinate(point1.x, point1.y, xAxis, yAxis, isInverted, series);\n            lineDirection += ('L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n        }\n        for (var j = pointsLength - 1; j >= startPoint; j--) {\n            var previousSeries = this.getPreviousSeries(series);\n            if (previousSeries.emptyPointSettings.mode !== 'Drop' || !previousSeries.points[j].isEmpty) {\n                point2 = getCoordinate(visiblePoints[j].xValue, stackedvalue.startValues[j], xAxis, yAxis, isInverted, series);\n                lineDirection = lineDirection.concat('L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n            }\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, lineDirection);\n        this.appendLinePath(options, series);\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    StackingAreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * To destroy the stacking area.\n     * @return {void}\n     * @private\n     */\n    StackingAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StackingAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'StackingAreaSeries';\n    };\n    /**\n     * To find previous visible series\n     */\n    StackingAreaSeries.prototype.getPreviousSeries = function (series) {\n        var seriesCollection = series.chart.visibleSeries;\n        for (var i = 0, length_1 = seriesCollection.length; i < length_1; i++) {\n            if (series.index === seriesCollection[i].index && i !== 0) {\n                return seriesCollection[i - 1];\n            }\n        }\n        return seriesCollection[0];\n    };\n    return StackingAreaSeries;\n}(LineBase));\nexport { StackingAreaSeries };\n","import { withInRange, getPoint, PathOption, drawSymbol, Size, Rect, markerAnimate, TransformToVisible } from '../../common/utils/helper';\nimport { pointRender } from '../../common/model/constants';\n/**\n * Scatter Module used to render the scatter series.\n */\nvar ScatterSeries = /** @class */ (function () {\n    function ScatterSeries() {\n    }\n    /**\n     * Render the scatter series.\n     * @return {void}\n     * @private\n     */\n    ScatterSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var seriesIndex = series.index;\n        var marker = series.marker;\n        var border = series.border;\n        var shape = marker.shape;\n        var visiblePoints = series.points;\n        var pointIndex;\n        var symbolId;\n        var shapeOption;\n        var argsData;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                point.symbolLocations.push(getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series));\n                symbolId = series.chart.element.id + '_Series_' + seriesIndex + '_Point_' + point.index;\n                argsData = {\n                    cancel: false, name: pointRender, series: series, point: point,\n                    fill: series.setPointColor(point, series.interior),\n                    border: series.setBorderColor(point, { width: series.border.width, color: series.border.color }),\n                    height: marker.height, width: marker.width\n                };\n                series.chart.trigger(pointRender, argsData);\n                if (!argsData.cancel) {\n                    point.color = argsData.fill;\n                    shapeOption = new PathOption(symbolId, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, null);\n                    series.seriesElement.appendChild(drawSymbol(point.symbolLocations[0], shape, new Size(argsData.width, argsData.height), marker.imageUrl, shapeOption, point.x.toString() + ':' + point.yValue.toString()));\n                    point.regions.push(new Rect(point.symbolLocations[0].x - marker.width, point.symbolLocations[0].y - marker.height, 2 * marker.width, 2 * marker.height));\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     */\n    ScatterSeries.prototype.doAnimation = function (series) {\n        var duration = series.animation.duration;\n        var delay = series.animation.delay;\n        var rectElements = series.seriesElement.childNodes;\n        var count = 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (!point.symbolLocations.length || !rectElements[count]) {\n                continue;\n            }\n            markerAnimate(rectElements[count], delay, duration, series, point.index, point.symbolLocations[0], false);\n            count++;\n        }\n    };\n    /**\n     * Get module name.\n     */\n    ScatterSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'ScatterSeries';\n    };\n    /**\n     * To destroy the scatter.\n     * @return {void}\n     * @private\n     */\n    ScatterSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return ScatterSeries;\n}());\nexport { ScatterSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `RangeColumnSeries` Module used to render the range column series.\n */\nvar RangeColumnSeries = /** @class */ (function (_super) {\n    __extends(RangeColumnSeries, _super);\n    function RangeColumnSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Range Column series.\n     * @return {void}\n     * @private\n     */\n    RangeColumnSeries.prototype.render = function (series) {\n        var rect;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        //let origin: number = Math.max(<number>series.yAxis.visibleRange.min, 0);\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var rangePoint = _a[_i];\n            rangePoint.symbolLocations = [];\n            rangePoint.regions = [];\n            if (rangePoint.visible && withInRange(series.points[rangePoint.index - 1], rangePoint, series.points[rangePoint.index + 1], series)) {\n                rect = this.getRectangle(rangePoint.xValue + sideBySideInfo.start, rangePoint.high, rangePoint.xValue + sideBySideInfo.end, rangePoint.low, series);\n                argsData = this.triggerEvent(series, rangePoint, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(rangePoint, rect, series);\n                    this.drawRectangle(series, rangePoint, rect, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * Get module name.\n     */\n    RangeColumnSeries.prototype.getModuleName = function () {\n        return 'RangeColumnSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * Animates the series.\n     * @return {void}\n     * @private\n     */\n    RangeColumnSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the range column series.\n     * @return {void}\n     * @private\n     */\n    RangeColumnSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return RangeColumnSeries;\n}(ColumnBase));\nexport { RangeColumnSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, withInRange, subArraySum } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Waterfall Module used to render the waterfall series.\n */\nvar WaterfallSeries = /** @class */ (function (_super) {\n    __extends(WaterfallSeries, _super);\n    function WaterfallSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render waterfall series.\n     * @return {void}\n     * @private\n     */\n    WaterfallSeries.prototype.render = function (series) {\n        var rect;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var argsData;\n        var prevEndValue = 0;\n        var direction = '';\n        var currentEndValue = 0;\n        var originValue;\n        var prevRegion = null;\n        var y;\n        var isInversed = series.chart.requireInvertedAxis;\n        var intermediateOrigin = 0;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                //Calcute the current point value to render waterfall series.\n                var isSum = this.isIntermediateSum(series, point.index);\n                var totalSum = this.isSumIndex(series, point.index);\n                currentEndValue += isSum || totalSum === true ? 0 : point.yValue;\n                //Calcute the origin value for points\n                originValue = (isSum === true ? intermediateOrigin : ((prevEndValue !== null && !totalSum) ? prevEndValue : origin));\n                rect = this.getRectangle(point.xValue + sideBySideInfo.start, currentEndValue, point.xValue + sideBySideInfo.end, originValue, series);\n                argsData = this.triggerPointRenderEvent(series, point);\n                //intermediateOrigin is used only for imtermediate data \n                if (isSum) {\n                    intermediateOrigin = currentEndValue;\n                }\n                prevEndValue = currentEndValue;\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(point, rect, series);\n                    this.drawRectangle(series, point, rect, argsData);\n                }\n                var currentRegion = point.regions[0];\n                if (prevRegion !== null) {\n                    var prevLeft = isInversed ? prevRegion.x : prevRegion.y;\n                    var currentLeft = isInversed ? currentRegion.x : currentRegion.y;\n                    var prevBottom = isInversed ? prevRegion.x + prevRegion.width : prevRegion.y + prevRegion.height;\n                    var currentBottom = isInversed ?\n                        currentRegion.x + currentRegion.width : currentRegion.y + currentRegion.height;\n                    if (Math.round(prevLeft) === Math.round(currentLeft) ||\n                        Math.round(prevBottom) === Math.round(currentLeft)) {\n                        y = isInversed ? currentRegion.x : currentRegion.y;\n                    }\n                    else {\n                        y = currentBottom;\n                    }\n                    if (isInversed) {\n                        direction = direction.concat('M' + ' ' + y + ' ' + (prevRegion.y + prevRegion.height) + ' ' +\n                            'L' + ' ' + y + ' ' + currentRegion.y + ' ');\n                    }\n                    else {\n                        direction = direction.concat('M' + ' ' + prevRegion.x + ' ' + y + ' ' +\n                            'L' + ' ' + (currentRegion.x + currentRegion.width) + ' ' + y + ' ');\n                    }\n                }\n                prevRegion = point.regions[0];\n            }\n        }\n        var options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Connector_', 'none', series.connector.width, series.connector.color, series.opacity, series.connector.dashArray, direction);\n        var element = series.chart.renderer.drawPath(options);\n        if (series.chart.animateSeries) {\n            element.style.visibility = 'hidden';\n        }\n        series.seriesElement.appendChild(element);\n    };\n    /**\n     * To check intermediateSumIndex in waterfall series.\n     * @return boolean\n     * @private\n     */\n    WaterfallSeries.prototype.isIntermediateSum = function (series, index) {\n        if (series.intermediateSumIndexes !== undefined && series.intermediateSumIndexes.indexOf(index) !== -1) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To check sumIndex in waterfall series.\n     * @return boolean\n     * @private\n     */\n    WaterfallSeries.prototype.isSumIndex = function (series, index) {\n        if (series.sumIndexes !== undefined && series.sumIndexes.indexOf(index) !== -1) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To trigger the point rendering event for waterfall series.\n     * @return IPointRenderEventArgs\n     * @private\n     */\n    WaterfallSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var color;\n        var isSum = this.isIntermediateSum(series, point.index);\n        var totalSum = this.isSumIndex(series, point.index);\n        if (isSum || totalSum) {\n            color = series.summaryFillColor;\n        }\n        else if (point.y < 0) {\n            color = series.negativeFillColor;\n        }\n        else {\n            color = series.interior;\n        }\n        return this.triggerEvent(series, point, color, { color: series.border.color, width: series.border.width });\n    };\n    /**\n     * Add sumIndex and intermediateSumIndex data.\n     * @return {object[]}\n     * @private\n     */\n    WaterfallSeries.prototype.processWaterfallData = function (json, series) {\n        var data = json;\n        var length = json.length;\n        var index;\n        var intermediateSum = series.intermediateSumIndexes;\n        var sumIndex = series.sumIndexes;\n        if (intermediateSum !== undefined && intermediateSum.length > 0) {\n            for (var i = 0; i < intermediateSum.length; i++) {\n                for (var j = 0; j < data.length; j++) {\n                    if (j === intermediateSum[i]) {\n                        if (i === 0) {\n                            index = subArraySum(data, -1, intermediateSum[i], null, series);\n                        }\n                        else {\n                            index = subArraySum(data, intermediateSum[i - 1], intermediateSum[i], null, series);\n                        }\n                        data[j][series.yName] = index;\n                    }\n                }\n            }\n        }\n        if (sumIndex !== undefined && sumIndex.length > 0) {\n            for (var k = 0; k < sumIndex.length; k++) {\n                for (var j = 0; j < data.length; j++) {\n                    if (j === sumIndex[k]) {\n                        if (intermediateSum !== undefined) {\n                            index = subArraySum(data, -1, sumIndex[k], sumIndex, series);\n                        }\n                        else {\n                            index = subArraySum(data, -1, sumIndex[k], null, series);\n                        }\n                        data[j][series.yName] = index;\n                    }\n                }\n            }\n        }\n        return data;\n    };\n    /**\n     * Animates the waterfall series.\n     * @return {void}\n     * @private\n     */\n    WaterfallSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    WaterfallSeries.prototype.getModuleName = function () {\n        return 'WaterfallSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the waterfall series.\n     * @return {void}\n     * @private\n     */\n    WaterfallSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the waterfall series.\n         */\n    };\n    return WaterfallSeries;\n}(ColumnBase));\nexport { WaterfallSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * Hilo Module used to render the Hilo series.\n */\nvar HiloSeries = /** @class */ (function (_super) {\n    __extends(HiloSeries, _super);\n    function HiloSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Hiloseries.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.render = function (series) {\n        var region;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible &&\n                withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                region = this.getRectangle(point.xValue + sideBySideInfo.median, point.high, point.xValue + sideBySideInfo.median, point.low, series);\n                argsData = this.triggerPointRenderEvent(series, point);\n                if (!argsData.cancel) {\n                    if (!series.chart.requireInvertedAxis) {\n                        region.width = argsData.border.width;\n                        region.x = region.x - (region.width / 2);\n                    }\n                    else {\n                        region.height = argsData.border.width;\n                        region.y = region.y - (region.height / 2);\n                    }\n                    argsData.border.width = 0;\n                    this.updateSymbolLocation(point, region, series);\n                    this.drawRectangle(series, point, region, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * To trigger the point rendering event.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var border = { color: series.fill, width: Math.max(series.border.width, 2) };\n        return _super.prototype.triggerEvent.call(this, series, point, series.interior, border);\n    };\n    /**\n     * Get module name.\n     */\n    HiloSeries.prototype.getModuleName = function () {\n        return 'HiloSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * Animates the series.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the Hilo series.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the Hilo Series\n         */\n    };\n    return HiloSeries;\n}(ColumnBase));\nexport { HiloSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * hiloOpenClose Module used to render the hiloOpenClose series.\n */\nvar HiloOpenCloseSeries = /** @class */ (function (_super) {\n    __extends(HiloOpenCloseSeries, _super);\n    function HiloOpenCloseSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render HiloOpenCloseSeries series.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.render = function (series) {\n        var highLowRect;\n        var open;\n        var close;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        var borderWidth = Math.max(series.border.width, 2);\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible &&\n                withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                //highlow\n                highLowRect = this.getRectangle(point.xValue + sideBySideInfo.start, Math.max(point.high, point.low), point.xValue + sideBySideInfo.end, Math.min(point.high, point.low), series);\n                point.regions.push(this.getRectangle(point.xValue + sideBySideInfo.median, Math.max(point.high, point.low), point.xValue + sideBySideInfo.median, Math.min(point.high, point.low), series));\n                this.updateTickRegion(!series.chart.requireInvertedAxis, point.regions[0], borderWidth);\n                //open\n                point.regions.push(this.getRectangle(point.xValue + sideBySideInfo.start, Math.max(point.open, point.close), point.xValue + sideBySideInfo.median, Math.max(point.open, point.close), series));\n                //close\n                point.regions.push(this.getRectangle(point.xValue + sideBySideInfo.median, Math.min(point.open, point.close), point.xValue + sideBySideInfo.end, Math.min(point.open, point.close), series));\n                argsData = this.triggerPointRenderEvent(series, point);\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(point, point.regions[0], series);\n                    var open_1 = { x: point.regions[1].x, y: point.regions[1].y };\n                    var close_1 = { x: point.regions[2].x, y: point.regions[2].y };\n                    this.drawHiloOpenClosePath(series, point, open_1, close_1, highLowRect, argsData);\n                }\n                this.updateTickRegion(series.chart.requireInvertedAxis, point.regions[1], borderWidth);\n                this.updateTickRegion(series.chart.requireInvertedAxis, point.regions[2], borderWidth);\n            }\n        }\n    };\n    /**\n     * Updates the tick region\n     */\n    HiloOpenCloseSeries.prototype.updateTickRegion = function (horizontal, region, borderWidth) {\n        if (horizontal) {\n            region.x -= borderWidth / 2;\n            region.width = borderWidth;\n        }\n        else {\n            region.y -= borderWidth / 2;\n            region.height = borderWidth;\n        }\n    };\n    /**\n     * Trigger point rendering event\n     */\n    HiloOpenCloseSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var fill = (point.open <= point.close) ? series.bearFillColor : series.bullFillColor;\n        var border = { color: series.border.color, width: Math.max(series.border.width, 1) };\n        return this.triggerEvent(series, point, fill, border);\n    };\n    /**\n     * To draw the rectangle for points.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.drawHiloOpenClosePath = function (series, point, open, close, rect, argsData) {\n        // region highlow\n        var direction;\n        var options;\n        if (series.chart.requireInvertedAxis) {\n            direction = ('M' + ' ' + (rect.x) + ' ' + (rect.y + rect.height / 2) + ' ' +\n                'L' + ' ' + (rect.x + rect.width) + ' ' + (rect.y + rect.height / 2) + ' ');\n            direction += ('M' + ' ' + (open.x) + ' ' + (rect.y + rect.height / 2) + ' ' +\n                'L' + ' ' + (open.x) + ' ' + (rect.y + rect.height) + ' ');\n            direction += ('M' + ' ' + (close.x) + ' ' + (rect.y + rect.height / 2) + ' ' +\n                'L' + ' ' + (close.x) + ' ' + (rect.y) + ' ');\n        }\n        else {\n            direction = ('M' + ' ' + (rect.x + rect.width / 2) + ' ' + (rect.y + rect.height) + ' ' +\n                'L' + ' ' + (rect.x + rect.width / 2) + ' ' + (rect.y) + ' ');\n            //region opentick\n            direction += ('M' + ' ' + (rect.x) + ' ' + (open.y) + ' ' +\n                'L' + ' ' + (rect.x + rect.width / 2) + ' ' + (open.y) + ' ');\n            //region closetick\n            direction += ('M' + ' ' + (rect.x + rect.width / 2) + ' ' + (close.y) + ' ' +\n                'L' + ' ' + (rect.x + rect.width) + ' ' + (close.y) + ' ');\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index, argsData.fill, argsData.border.width, argsData.fill, series.opacity, series.dashArray, direction);\n        var element = series.chart.renderer.drawPath(options);\n        element.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString()\n            + ':' + point.low.toString() + ':' + point.close.toString() + ':' + point.open.toString());\n        series.seriesElement.appendChild(element);\n    };\n    /**\n     * Get module name.\n     */\n    HiloOpenCloseSeries.prototype.getModuleName = function () {\n        return 'HiloOpenCloseSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * Animates the series.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the column series.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return HiloOpenCloseSeries;\n}(ColumnBase));\nexport { HiloOpenCloseSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, getPoint, PathOption, Rect } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * RangeAreaSeries Module used to render the rangeArea series.\n */\nvar RangeAreaSeries = /** @class */ (function (_super) {\n    __extends(RangeAreaSeries, _super);\n    function RangeAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render RangeArea Series.\n     * @return {void}.\n     * @private\n     */\n    RangeAreaSeries.prototype.render = function (series) {\n        var point;\n        var direction = '';\n        var command = 'M';\n        var closed = undefined;\n        var visiblePoints = this.improveChartPerformance(series);\n        for (var i = 0, length_1 = visiblePoints.length; i < length_1; i++) {\n            point = visiblePoints[i];\n            point.symbolLocations = [];\n            point.regions = [];\n            var low = Math.min(point.low, point.high);\n            var high = Math.max(point.low, point.high);\n            if (series.yAxis.isInversed) {\n                var temp = low;\n                low = high;\n                high = temp;\n            }\n            var lowPoint = getPoint(point.xValue, low, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n            var highPoint = getPoint(point.xValue, high, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n            point.symbolLocations.push(highPoint);\n            point.symbolLocations.push(lowPoint);\n            var rect = new Rect(Math.min(lowPoint.x, highPoint.x), Math.min(lowPoint.y, highPoint.y), Math.max(Math.abs(highPoint.x - lowPoint.x), series.marker.width), Math.max(Math.abs(highPoint.y - lowPoint.y), series.marker.width));\n            if (!series.chart.requireInvertedAxis) {\n                rect.x -= series.marker.width / 2;\n            }\n            else {\n                rect.y -= series.marker.width / 2;\n            }\n            point.regions.push(rect);\n            //Path to connect the high points\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                direction = direction.concat(command + ' ' + (lowPoint.x) + ' ' + (lowPoint.y) + ' ');\n                closed = false;\n                if ((i + 1 < visiblePoints.length && !visiblePoints[i + 1].visible)\n                    || i === visiblePoints.length - 1) {\n                    // Path to connect the low points\n                    direction = this.closeRangeAreaPath(visiblePoints, point, series, direction, i);\n                    command = 'M';\n                    direction = direction.concat(' ' + 'Z');\n                    closed = true;\n                }\n                command = 'L';\n            }\n            else {\n                if (closed === false && i !== 0) {\n                    direction = this.closeRangeAreaPath(visiblePoints, point, series, direction, i);\n                    closed = true;\n                }\n                command = 'M';\n                point.symbolLocations = [];\n            }\n        }\n        var name = series.category === 'Indicator' ? series.chart.element.id + '_Indicator_' + series.index + '_' + series.name :\n            series.chart.element.id + '_Series_' + series.index;\n        var options = new PathOption(name, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series);\n        this.renderMarker(series);\n    };\n    /**\n     * path for rendering the low points\n     * @return {void}.\n     * @private\n     */\n    RangeAreaSeries.prototype.closeRangeAreaPath = function (visiblePoints, point, series, direction, i) {\n        for (var j = i; j >= 0; j--) {\n            if (visiblePoints[j].visible && visiblePoints[j].symbolLocations[0]) {\n                point = visiblePoints[j];\n                direction += 'L' + ' ' + (point.symbolLocations[0].x) + ' ' + ((point.symbolLocations[0].y)) + ' ';\n            }\n            else {\n                break;\n            }\n        }\n        return direction;\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    RangeAreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * Get module name.\n     */\n    RangeAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'RangeAreaSeries';\n    };\n    /**\n     * To destroy the line series.\n     * @return {void}\n     * @private\n     */\n    RangeAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys range area series\n         */\n    };\n    return RangeAreaSeries;\n}(LineBase));\nexport { RangeAreaSeries };\n","import { withInRange, getPoint, PathOption, drawSymbol, Size, Rect, markerAnimate } from '../../common/utils/helper';\nimport { pointRender } from '../../common/model/constants';\n/**\n * Bubble Module used to render the Bubble series.\n */\nvar BubbleSeries = /** @class */ (function () {\n    function BubbleSeries() {\n    }\n    /**\n     * Render the Bubble series.\n     * @return {void}\n     * @private\n     */\n    BubbleSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var marker = series.marker;\n        var visiblePoints = series.points;\n        var shapeOption;\n        var argsData;\n        //let bubbleMode: RadiusMode = bubbleOptions.radiusMode;\n        var segmentRadius;\n        var radius;\n        var value = Math.max(series.chart.initialClipRect.height, series.chart.initialClipRect.width);\n        var percentChange = value / 100;\n        var maxRadius = series.maxRadius * percentChange;\n        var minRadius = series.minRadius * percentChange;\n        var maximumSize = null;\n        var maxValue = null;\n        if ((series.maxRadius === null || series.minRadius === null)) {\n            for (var _i = 0, _a = series.chart.visibleSeries; _i < _a.length; _i++) {\n                var value_1 = _a[_i];\n                if (value_1.type === 'Bubble' && value_1.visible === true && (value_1.maxRadius === null || value_1.minRadius === null)) {\n                    maximumSize = value_1.sizeMax > maximumSize ? value_1.sizeMax : maximumSize;\n                }\n            }\n            maxValue = (value / 5) / 2;\n            minRadius = maxRadius = 1;\n            radius = maxValue * maxRadius;\n        }\n        else {\n            maximumSize = series.sizeMax;\n            radius = maxRadius - minRadius;\n        }\n        for (var _b = 0, visiblePoints_1 = visiblePoints; _b < visiblePoints_1.length; _b++) {\n            var bubblePoint = visiblePoints_1[_b];\n            bubblePoint.symbolLocations = [];\n            bubblePoint.regions = [];\n            if (bubblePoint.visible &&\n                withInRange(visiblePoints[bubblePoint.index - 1], bubblePoint, visiblePoints[bubblePoint.index + 1], series)) {\n                bubblePoint.symbolLocations.push(getPoint(bubblePoint.xValue, bubblePoint.yValue, xAxis, yAxis, isInverted));\n                if ((series.maxRadius === null || series.minRadius === null)) {\n                    segmentRadius = radius * Math.abs(+bubblePoint.size / maximumSize);\n                }\n                else {\n                    segmentRadius = minRadius + radius * Math.abs(+bubblePoint.size / maximumSize);\n                }\n                segmentRadius = segmentRadius || minRadius;\n                argsData = {\n                    cancel: false, name: pointRender, series: series, point: bubblePoint,\n                    fill: series.setPointColor(bubblePoint, series.interior),\n                    border: series.setBorderColor(bubblePoint, { width: series.border.width, color: series.border.color }),\n                    height: 2 * segmentRadius, width: 2 * segmentRadius\n                };\n                series.chart.trigger(pointRender, argsData);\n                if (!argsData.cancel) {\n                    bubblePoint.color = argsData.fill;\n                    shapeOption = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + bubblePoint.index, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, null);\n                    series.seriesElement.appendChild(drawSymbol(bubblePoint.symbolLocations[0], 'Circle', new Size(argsData.width, argsData.height), marker.imageUrl, shapeOption, bubblePoint.x.toString() + ':' + bubblePoint.yValue.toString()));\n                    bubblePoint.regions.push(new Rect(bubblePoint.symbolLocations[0].x - segmentRadius, bubblePoint.symbolLocations[0].y - segmentRadius, 2 * segmentRadius, 2 * segmentRadius));\n                }\n            }\n        }\n    };\n    /**\n     * To destroy the Bubble.\n     * @return {void}\n     * @private\n     */\n    BubbleSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    BubbleSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'BubbleSeries';\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     */\n    BubbleSeries.prototype.doAnimation = function (series) {\n        var duration = series.animation.duration;\n        var delay = series.animation.delay;\n        var rectElements = series.seriesElement.childNodes;\n        var count = 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var bubblePoint = _a[_i];\n            if (!bubblePoint.symbolLocations.length) {\n                continue;\n            }\n            markerAnimate(rectElements[count], delay, duration, series, bubblePoint.index, bubblePoint.symbolLocations[0], false);\n            count++;\n        }\n    };\n    return BubbleSeries;\n}());\nexport { BubbleSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ChartLocation, PathOption, ControlPoints, getPoint, Rect, withInRange, TransformToVisible } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * Spline Module used to render the spline series.\n */\nvar SplineSeries = /** @class */ (function (_super) {\n    __extends(SplineSeries, _super);\n    function SplineSeries() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splinePoints = [];\n        return _this;\n    }\n    /**\n     * Render the spline series.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var chart = series.chart;\n        var marker = series.marker;\n        var ySpline;\n        var options;\n        var firstPoint = null;\n        var secondPoint = null;\n        var direction = '';\n        var pt1;\n        var pt2;\n        var bpt1;\n        var bpt2;\n        var data;\n        var controlPointCount = 0;\n        var controlPoint1;\n        var controlPoint2;\n        var startPoint = 'M';\n        var points = this.filterEmptyPoints(series);\n        var previous;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var point = points_1[_i];\n            previous = this.getPreviousIndex(points, point.index - 1, series);\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(points[previous], point, points[this.getNextIndex(points, point.index - 1, series)], series)) {\n                if (firstPoint !== null) {\n                    data = series.drawPoints[previous];\n                    controlPoint1 = data.controlPoint1;\n                    controlPoint2 = data.controlPoint2;\n                    pt1 = getCoordinate(firstPoint.xValue, firstPoint.yValue, xAxis, yAxis, isInverted, series);\n                    pt2 = getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series);\n                    bpt1 = getCoordinate(controlPoint1.x, controlPoint1.y, xAxis, yAxis, isInverted, series);\n                    bpt2 = getCoordinate(controlPoint2.x, controlPoint2.y, xAxis, yAxis, isInverted, series);\n                    direction = direction.concat((startPoint + ' ' + (pt1.x) + ' ' + (pt1.y) + ' ' + 'C' + ' ' + (bpt1.x) + ' '\n                        + (bpt1.y) + ' ' + (bpt2.x) + ' ' + (bpt2.y) + ' ' + (pt2.x) + ' ' + (pt2.y) + ' '));\n                    startPoint = 'L';\n                }\n                firstPoint = point;\n                point.symbolLocations.push(getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series));\n                point.regions.push(new Rect(point.symbolLocations[0].x - marker.width, point.symbolLocations[0].y - marker.height, 2 * marker.width, 2 * marker.height));\n            }\n            else {\n                startPoint = 'M';\n                firstPoint = null;\n                point.symbolLocations = [];\n            }\n        }\n        var name = series.category === 'TrendLine' ? series.chart.element.id + '_Series_' + series.sourceIndex + '_TrendLine_' + series.index :\n            series.chart.element.id + '_Series_' + series.index;\n        options = new PathOption(name, 'transparent', series.width, series.interior, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series);\n        this.renderMarker(series);\n    };\n    /**\n     * To find the control points for spline.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.findSplinePoint = function (series) {\n        var spline = series.chart.splineSeriesModule;\n        var value;\n        var points = this.filterEmptyPoints(series);\n        this.splinePoints = this.findSplineCoefficients(points, series);\n        if (points.length > 1) {\n            series.drawPoints = [];\n            for (var _i = 0, points_2 = points; _i < points_2.length; _i++) {\n                var point = points_2[_i];\n                if (point.index !== 0) {\n                    var previous = this.getPreviousIndex(points, point.index - 1, series);\n                    value = this.getControlPoints(points[previous], point, this.splinePoints[previous], this.splinePoints[point.index], series);\n                    series.drawPoints.push(value);\n                    if (point.yValue && value.controlPoint1.y && value.controlPoint2.y) {\n                        series.yMin = Math.floor(Math.min(series.yMin, point.yValue, value.controlPoint1.y, value.controlPoint2.y));\n                        series.yMax = Math.ceil(Math.max(series.yMax, point.yValue, value.controlPoint1.y, value.controlPoint2.y));\n                    }\n                }\n            }\n        }\n    };\n    SplineSeries.prototype.getPreviousIndex = function (points, i, series) {\n        if (series.emptyPointSettings.mode !== 'Drop') {\n            return i;\n        }\n        while (isNullOrUndefined(points[i]) && i > -1) {\n            i = i - 1;\n        }\n        return i;\n    };\n    SplineSeries.prototype.getNextIndex = function (points, i, series) {\n        if (series.emptyPointSettings.mode !== 'Drop') {\n            return i;\n        }\n        while (isNullOrUndefined(points[i]) && i < points.length) {\n            i = i + 1;\n        }\n        return i;\n    };\n    SplineSeries.prototype.filterEmptyPoints = function (series) {\n        if (series.emptyPointSettings.mode !== 'Drop') {\n            return series.points;\n        }\n        var points = extend([], series.points, null, true);\n        for (var i = 0; i < points.length; i++) {\n            points[i].index = i;\n            if (points[i].isEmpty) {\n                points[i].symbolLocations = [];\n                points[i].regions = [];\n                points.splice(i, 1);\n                i--;\n            }\n        }\n        return points;\n    };\n    /**\n     * To find the natural spline.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.findSplineCoefficients = function (points, series) {\n        var count = points.length;\n        var ySpline = [];\n        var ySplineDuplicate = [];\n        var coefficient1;\n        var coefficient2;\n        var coefficient3;\n        var dy1;\n        var dy2;\n        var dx = [];\n        var dy = [];\n        var slope = [];\n        var interPoint;\n        var slopeLength;\n        var cardinalSplineTension = series.cardinalSplineTension ? series.cardinalSplineTension : 0.5;\n        cardinalSplineTension = cardinalSplineTension < 0 ? 0 : cardinalSplineTension > 1 ? 1 : cardinalSplineTension;\n        switch (series.splineType) {\n            case 'Monotonic':\n                for (var i = 0; i < count - 1; i++) {\n                    dx[i] = points[i + 1].xValue - points[i].xValue;\n                    dy[i] = points[i + 1].yValue - points[i].yValue;\n                    slope[i] = dy[i] / dx[i];\n                }\n                //interpolant points\n                slopeLength = slope.length;\n                // to find the first and last co-efficient value\n                ySpline[0] = slope[0];\n                ySpline[count - 1] = slope[slopeLength - 1];\n                //to find the other co-efficient values\n                for (var j = 0; j < dx.length; j++) {\n                    if (slopeLength > j + 1) {\n                        if (slope[j] * slope[j + 1] <= 0) {\n                            ySpline[j + 1] = 0;\n                        }\n                        else {\n                            interPoint = dx[j] + dx[j + 1];\n                            ySpline[j + 1] = 3 * interPoint / ((interPoint + dx[j + 1]) / slope[j] + (interPoint + dx[j]) / slope[j + 1]);\n                        }\n                    }\n                }\n                break;\n            case 'Cardinal':\n                for (var i = 0; i < count; i++) {\n                    if (i === 0) {\n                        ySpline[i] = (count > 2) ? (cardinalSplineTension * (points[i + 2].xValue - points[i].xValue)) : 0;\n                    }\n                    else if (i === (count - 1)) {\n                        ySpline[i] = (count > 2) ? (cardinalSplineTension * (points[count - 1].xValue - points[count - 3].xValue)) : 0;\n                    }\n                    else {\n                        ySpline[i] = (cardinalSplineTension * (points[i + 1].xValue - points[i - 1].xValue));\n                    }\n                }\n                break;\n            default:\n                if (series.splineType === 'Clamped') {\n                    var firstIndex = (points[1].yValue - points[0].yValue) / (points[1].xValue - points[0].xValue);\n                    var lastIndex = (points[count - 1].xValue - points[count - 2].xValue) /\n                        (points[count - 1].yValue - points[count - 2].yValue);\n                    ySpline[0] = (3 * (points[1].yValue - points[0].yValue)) / (points[1].xValue - points[0].xValue) - 3;\n                    ySplineDuplicate[0] = 0.5;\n                    ySpline[points.length - 1] = (3 * (points[points.length - 1].yValue - points[points.length - 2].yValue)) /\n                        (points[points.length - 1].xValue - points[points.length - 2].xValue);\n                    ySpline[0] = ySplineDuplicate[0] = Math.abs(ySpline[0]) === Infinity ? 0 : ySpline[0];\n                    ySpline[points.length - 1] = ySplineDuplicate[points.length - 1] = Math.abs(ySpline[points.length - 1]) === Infinity ?\n                        0 : ySpline[points.length - 1];\n                }\n                else {\n                    // assigning the first and last value as zero\n                    ySpline[0] = ySplineDuplicate[0] = 0;\n                    ySpline[points.length - 1] = 0;\n                }\n                for (var i = 1; i < count - 1; i++) {\n                    coefficient1 = points[i].xValue - points[i - 1].xValue;\n                    coefficient2 = points[i + 1].xValue - points[i - 1].xValue;\n                    coefficient3 = points[i + 1].xValue - points[i].xValue;\n                    dy1 = points[i + 1].yValue - points[i].yValue || null;\n                    dy2 = points[i].yValue - points[i - 1].yValue || null;\n                    if (coefficient1 === 0 || coefficient2 === 0 || coefficient3 === 0) {\n                        ySpline[i] = 0;\n                        ySplineDuplicate[i] = 0;\n                    }\n                    else {\n                        var p = 1 / (coefficient1 * ySpline[i - 1] + 2 * coefficient2);\n                        ySpline[i] = -p * coefficient3;\n                        ySplineDuplicate[i] = p * (6 * (dy1 / coefficient3 - dy2 / coefficient1) - coefficient1 * ySplineDuplicate[i - 1]);\n                    }\n                }\n                for (var k = count - 2; k >= 0; k--) {\n                    ySpline[k] = ySpline[k] * ySpline[k + 1] + ySplineDuplicate[k];\n                }\n                break;\n        }\n        return ySpline;\n    };\n    /**\n     * To find the control points for spline.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.getControlPoints = function (point1, point2, ySpline1, ySpline2, series) {\n        var controlPoint1;\n        var controlPoint2;\n        var point;\n        var ySplineDuplicate1 = ySpline1;\n        var ySplineDuplicate2 = ySpline2;\n        switch (series.splineType) {\n            case 'Cardinal':\n                if (series.xAxis.valueType === 'DateTime') {\n                    ySplineDuplicate1 = ySpline1 / this.dateTimeInterval(series);\n                    ySplineDuplicate2 = ySpline2 / this.dateTimeInterval(series);\n                }\n                controlPoint1 = new ChartLocation(point1.xValue + ySpline1 / 3, point1.yValue + ySplineDuplicate1 / 3);\n                controlPoint2 = new ChartLocation(point2.xValue - ySpline2 / 3, point2.yValue - ySplineDuplicate2 / 3);\n                point = new ControlPoints(controlPoint1, controlPoint2);\n                break;\n            case 'Monotonic':\n                var value = (point2.xValue - point1.xValue) / 3;\n                controlPoint1 = new ChartLocation(point1.xValue + value, point1.yValue + ySpline1 * value);\n                controlPoint2 = new ChartLocation(point2.xValue - value, point2.yValue - ySpline2 * value);\n                point = new ControlPoints(controlPoint1, controlPoint2);\n                break;\n            default:\n                var one3 = 1 / 3.0;\n                var deltaX2 = (point2.xValue - point1.xValue);\n                deltaX2 = deltaX2 * deltaX2;\n                var y1 = one3 * (((2 * point1.yValue) + point2.yValue) - one3 * deltaX2 * (ySpline1 + 0.5 * ySpline2));\n                var y2 = one3 * ((point1.yValue + (2 * point2.yValue)) - one3 * deltaX2 * (0.5 * ySpline1 + ySpline2));\n                controlPoint1 = new ChartLocation((2 * (point1.xValue) + (point2.xValue)) * one3, y1);\n                controlPoint2 = new ChartLocation(((point1.xValue) + 2 * (point2.xValue)) * one3, y2);\n                point = new ControlPoints(controlPoint1, controlPoint2);\n                break;\n        }\n        return point;\n    };\n    /**\n     * calculate datetime interval in hours\n     *\n     */\n    SplineSeries.prototype.dateTimeInterval = function (series) {\n        var interval = series.xAxis.actualIntervalType;\n        var intervalInMilliseconds;\n        if (interval === 'Years') {\n            intervalInMilliseconds = 365 * 24 * 60 * 60 * 1000;\n        }\n        else if (interval === 'Months') {\n            intervalInMilliseconds = 30 * 24 * 60 * 60 * 1000;\n        }\n        else if (interval === 'Days') {\n            intervalInMilliseconds = 24 * 60 * 60 * 1000;\n        }\n        else if (interval === 'Hours') {\n            intervalInMilliseconds = 60 * 60 * 1000;\n        }\n        else if (interval === 'Minutes') {\n            intervalInMilliseconds = 60 * 1000;\n        }\n        else if (interval === 'Seconds') {\n            intervalInMilliseconds = 1000;\n        }\n        else {\n            intervalInMilliseconds = 30 * 24 * 60 * 60 * 1000;\n        }\n        return intervalInMilliseconds;\n    };\n    /**\n     * Get module name.\n     */\n    SplineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'SplineSeries';\n    };\n    /**\n     * To destroy the spline.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Animates the series.\n     * @return {void}.\n     * @private\n     */\n    SplineSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    return SplineSeries;\n}(LineBase));\nexport { SplineSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { LineBase } from '../series/line-base';\nimport { Series, Points } from '../series/chart-series';\nimport { RectOption, Rect } from '../../common/utils/helper';\nimport { findClipRect } from '../../common/utils/helper';\n/**\n * Technical Analysis module helps to predict the market trend\n */\nvar TechnicalAnalysis = /** @class */ (function (_super) {\n    __extends(TechnicalAnalysis, _super);\n    function TechnicalAnalysis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series, that are used to represent the given technical indicator\n     * @private\n     */\n    TechnicalAnalysis.prototype.initSeriesCollection = function (indicator, chart) {\n        indicator.targetSeries = [];\n        var signalLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(signalLine, indicator, 'SignalLine', indicator.fill, indicator.width, chart);\n    };\n    /**\n     * Initializes the properties of the given series\n     * @private\n     */\n    TechnicalAnalysis.prototype.setSeriesProperties = function (series, indicator, name, fill, width, chart) {\n        series.name = name;\n        series.xName = 'x';\n        series.yName = 'y';\n        series.fill = fill || '#606eff';\n        series.dashArray = indicator.dashArray;\n        series.width = width;\n        series.xAxisName = indicator.xAxisName;\n        series.animation = indicator.animation;\n        series.yAxisName = indicator.yAxisName;\n        series.clipRectElement = indicator.clipRectElement;\n        series.points = [];\n        series.enableTooltip = true;\n        series.interior = series.fill;\n        series.category = 'Indicator';\n        series.index = indicator.index;\n        series.chart = chart;\n        series.xMin = Infinity;\n        series.xMax = -Infinity;\n        series.yMin = Infinity;\n        series.yMax = -Infinity;\n        series.xData = [];\n        series.yData = [];\n        series.marker.visible = false;\n        indicator.targetSeries.push(series);\n    };\n    /**\n     * Creates the elements of a technical indicator\n     * @private\n     */\n    TechnicalAnalysis.prototype.createIndicatorElements = function (chart, indicator, index) {\n        if (indicator.seriesName || indicator.dataSource) {\n            findClipRect(indicator.targetSeries[0]);\n        }\n        var clipRect = new Rect(0, 0, 0, 0);\n        if (indicator.seriesName || indicator.dataSource) {\n            clipRect = indicator.targetSeries[0].clipRect;\n        }\n        //defines the clip rect element\n        var clipRectElement = chart.renderer.drawClipPath(new RectOption(chart.element.id + '_ChartIndicatorClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n            x: 0, y: 0, width: clipRect.width,\n            height: clipRect.height,\n        }));\n        //creates the group for an indicator\n        indicator.indicatorElement = chart.renderer.createGroup({\n            'id': chart.element.id + 'IndicatorGroup' + index,\n            'transform': 'translate(' + clipRect.x + ',' + clipRect.y + ')',\n            'clip-path': 'url(#' + chart.element.id + '_ChartIndicatorClipRect_' + index + ')'\n        });\n        indicator.indicatorElement.appendChild(clipRectElement);\n        //Defines a group for each series in a technical indicator\n        for (var _i = 0, _a = indicator.targetSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            series.clipRectElement = clipRectElement;\n            var element = series.chart.renderer.createGroup({\n                'id': series.chart.element.id + '_Indicator_' +\n                    indicator.index + '_' + series.name + '_Group'\n            });\n            indicator.indicatorElement.appendChild(element);\n            series.seriesElement = element;\n        }\n        chart.indicatorElements.appendChild(indicator.indicatorElement);\n    };\n    TechnicalAnalysis.prototype.getDataPoint = function (x, y, sourcePoint, series, index, indicator) {\n        if (indicator === void 0) { indicator = null; }\n        var point = new Points();\n        point.x = x;\n        point.y = y;\n        point.xValue = sourcePoint.xValue;\n        point.color = series.fill;\n        point.index = index;\n        point.yValue = y;\n        point.visible = true;\n        series.xMin = Math.min(series.xMin, point.xValue);\n        series.yMin = Math.min(series.yMin, point.yValue);\n        series.xMax = Math.max(series.xMax, point.xValue);\n        series.yMax = Math.max(series.yMax, point.yValue);\n        series.xData.push(point.xValue);\n        if (indicator && indicator.type === 'Macd' && series.type === 'Column') {\n            if (point.y >= 0) {\n                point.color = indicator.macdPositiveColor;\n            }\n            else {\n                point.color = indicator.macdNegativeColor;\n            }\n        }\n        return point;\n    };\n    TechnicalAnalysis.prototype.getRangePoint = function (x, high, low, sourcePoint, series, index, indicator) {\n        if (indicator === void 0) { indicator = null; }\n        var point = new Points();\n        point.x = x;\n        point.high = high;\n        point.low = low;\n        point.xValue = sourcePoint.xValue;\n        point.color = series.fill;\n        point.index = index;\n        point.visible = true;\n        series.xData.push(point.xValue);\n        return point;\n    };\n    TechnicalAnalysis.prototype.setSeriesRange = function (points, indicator, series) {\n        if (series === void 0) { series = null; }\n        if (!series) {\n            indicator.targetSeries[0].points = points;\n        }\n        else {\n            series.points = points;\n        }\n    };\n    return TechnicalAnalysis;\n}(LineBase));\nexport { TechnicalAnalysis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * SMA Indicator predicts the trend using moving average approach\n */\nvar SmaIndicator = /** @class */ (function (_super) {\n    __extends(SmaIndicator, _super);\n    function SmaIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions based on SMA approach\n     * @private\n     */\n    SmaIndicator.prototype.initDataSource = function (indicator, chart) {\n        var smaPoints = [];\n        var points = indicator.points;\n        if (points && points.length) {\n            //prepare data\n            var validData = points;\n            var field = firstToLowerCase(indicator.field);\n            var xField = 'x';\n            var signalSeries = indicator.targetSeries[0];\n            if (validData && validData.length && validData.length >= indicator.period) {\n                //find initial average\n                var average = 0;\n                var sum = 0;\n                for (var i = 0; i < indicator.period; i++) {\n                    sum += validData[i][field];\n                }\n                average = sum / indicator.period;\n                smaPoints.push(this.getDataPoint(validData[indicator.period - 1][xField], average, validData[indicator.period - 1], signalSeries, smaPoints.length));\n                var index = indicator.period;\n                while (index < validData.length) {\n                    sum -= validData[index - indicator.period][field];\n                    sum += validData[index][field];\n                    average = sum / indicator.period;\n                    smaPoints.push(this.getDataPoint(validData[index][xField], average, validData[index], signalSeries, smaPoints.length));\n                    index++;\n                }\n            }\n            this.setSeriesRange(smaPoints, indicator);\n        }\n    };\n    /**\n     * To destroy the SMA indicator\n     * @return {void}\n     * @private\n     */\n    SmaIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the SMA indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    SmaIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'SmaIndicator';\n    };\n    return SmaIndicator;\n}(TechnicalAnalysis));\nexport { SmaIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * EMA Indicator predicts the trend using moving average approach\n */\nvar EmaIndicator = /** @class */ (function (_super) {\n    __extends(EmaIndicator, _super);\n    function EmaIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions based on EMA approach\n     * @private\n     */\n    EmaIndicator.prototype.initDataSource = function (indicator, chart) {\n        var field = firstToLowerCase(indicator.field);\n        var xField = 'x';\n        var emaPoints = [];\n        var signalSeries = indicator.targetSeries[0];\n        //prepare data\n        var validData = indicator.points;\n        if (validData && validData.length && validData.length >= indicator.period) {\n            //find initial average\n            var sum = 0;\n            var average = 0;\n            //smoothing factor\n            var k = (2 / (indicator.period + 1));\n            for (var i = 0; i < indicator.period; i++) {\n                sum += validData[i][field];\n            }\n            average = sum / indicator.period;\n            emaPoints.push(this.getDataPoint(validData[indicator.period - 1][xField], average, validData[indicator.period - 1], signalSeries, emaPoints.length));\n            var index = indicator.period;\n            while (index < validData.length) {\n                //previous average\n                var prevAverage = emaPoints[index - indicator.period][signalSeries.yName];\n                var yValue = (validData[index][field] - prevAverage) * k + prevAverage;\n                emaPoints.push(this.getDataPoint(validData[index][xField], yValue, validData[index], signalSeries, emaPoints.length));\n                index++;\n            }\n        }\n        this.setSeriesRange(emaPoints, indicator);\n    };\n    /**\n     * To destroy the EMA Indicator\n     * @return {void}\n     * @private\n     */\n    EmaIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the EMA Indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    EmaIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'EmaIndicator';\n    };\n    return EmaIndicator;\n}(TechnicalAnalysis));\nexport { EmaIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * TMA Indicator predicts the trend using moving average approach\n */\nvar TmaIndicator = /** @class */ (function (_super) {\n    __extends(TmaIndicator, _super);\n    function TmaIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions based on TMA approach\n     * @private\n     */\n    TmaIndicator.prototype.initDataSource = function (indicator, chart) {\n        var tmaPoints = [];\n        var field = firstToLowerCase(indicator.field);\n        var xField = 'x';\n        var signalSeries = indicator.targetSeries[0];\n        //prepare data\n        var validData = indicator.points;\n        if (validData && validData.length && validData.length >= indicator.period) {\n            var signalSeries_1 = indicator.targetSeries[0];\n            //prepare data\n            var validData_1 = indicator.points;\n            if (validData_1.length && validData_1.length >= indicator.period) {\n                //smoothing factor\n                var k = (2 / (indicator.period + 1));\n                //find initial average\n                var average = 0;\n                var sum = 0;\n                var sumOfSMA = 0;\n                var averageSMA = 0;\n                var smaValues = [];\n                //sma values\n                var index = 0;\n                var length_1 = validData_1.length;\n                var period = indicator.period;\n                while (length_1 >= period) {\n                    sum = 0;\n                    index = validData_1.length - length_1;\n                    for (var j = index; j < index + period; j++) {\n                        sum = sum + validData_1[j][field];\n                    }\n                    sum = sum / period;\n                    smaValues.push(sum);\n                    length_1--;\n                }\n                //initial values\n                for (var k_1 = 0; k_1 < period - 1; k_1++) {\n                    sum = 0;\n                    for (var j = 0; j < k_1 + 1; j++) {\n                        sum = sum + validData_1[j][field];\n                    }\n                    sum = sum / (k_1 + 1);\n                    smaValues.splice(k_1, 0, sum);\n                }\n                index = indicator.period;\n                while (index <= smaValues.length) {\n                    sum = 0;\n                    for (var j = index - indicator.period; j < index; j++) {\n                        sum = sum + smaValues[j];\n                    }\n                    sum = sum / indicator.period;\n                    tmaPoints.push(this.getDataPoint(validData_1[index - 1][xField], sum, validData_1[index - 1], signalSeries_1, tmaPoints.length));\n                    index++;\n                }\n            }\n        }\n        this.setSeriesRange(tmaPoints, indicator);\n    };\n    /**\n     * To destroy the TMA indicator.\n     * @return {void}\n     * @private\n     */\n    TmaIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the TMA Indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    TmaIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'TmaIndicator';\n    };\n    return TmaIndicator;\n}(TechnicalAnalysis));\nexport { TmaIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * Defines How to represent the Accumulation Distribution TechnicalIndicator\n */\nvar AccumulationDistributionIndicator = /** @class */ (function (_super) {\n    __extends(AccumulationDistributionIndicator, _super);\n    function AccumulationDistributionIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions using accumulation distribution approach\n     * @private\n     */\n    AccumulationDistributionIndicator.prototype.initDataSource = function (indicator, chart) {\n        var sourceSeries = indicator.sourceSeries;\n        var adPoints = [];\n        var validData = indicator.points;\n        if (validData.length > 0 && validData.length > indicator.period) {\n            adPoints = this.calculateADPoints(indicator, validData);\n        }\n        this.setSeriesRange(adPoints, indicator);\n    };\n    /**\n     *  Calculates the Accumulation Distribution values\n     * @private\n     */\n    AccumulationDistributionIndicator.prototype.calculateADPoints = function (indicator, validData) {\n        var temp = [];\n        var sum = 0;\n        var i = 0;\n        var value = 0;\n        var high = 0;\n        var low = 0;\n        var close = 0;\n        var signalSeries = indicator.targetSeries[0];\n        for (i = 0; i < validData.length; i++) {\n            high = Number(validData[i].high);\n            low = Number(validData[i].low);\n            close = Number(validData[i].close);\n            /**\n             * Money Flow Multiplier = [(Close -  Low) - (High - Close)] /(High - Low)\n             * Money Flow Volume = Money Flow Multiplier x Volume for the Period\n             * ADL = Previous ADL + Current Period's Money Flow Volume\n             */\n            value = ((close - low) - (high - close)) / (high - low);\n            /**\n             * Sum is to calculate the Y values of the Accumulation distribution indicator\n             */\n            sum = sum + value * Number(validData[i].volume);\n            /**\n             * To calculate the x and y values for the Accumulation distribution indicator\n             */\n            temp[i] = this.getDataPoint(validData[i].x, sum, validData[i], signalSeries, temp.length);\n        }\n        return temp;\n    };\n    /**\n     * To destroy the Accumulation Distribution Technical Indicator.\n     * @return {void}\n     * @private\n     */\n    AccumulationDistributionIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the Accumulation Distribution Technical indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationDistributionIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the Indicator\n         */\n        return 'AccumulationDistributionIndicator';\n    };\n    return AccumulationDistributionIndicator;\n}(TechnicalAnalysis));\nexport { AccumulationDistributionIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * Defines How to represent the Average true Range Technical Indicator\n */\nvar AtrIndicator = /** @class */ (function (_super) {\n    __extends(AtrIndicator, _super);\n    function AtrIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions using Average True Range approach\n     * @private\n     */\n    AtrIndicator.prototype.initDataSource = function (indicator, chart) {\n        var sourceSeries = indicator.sourceSeries;\n        var atrPoints = [];\n        var validData = indicator.points;\n        if (validData.length > 0 && validData.length > indicator.period) {\n            this.calculateATRPoints(indicator, validData);\n        }\n    };\n    /**\n     *  To calculate Average True Range indicator points\n     * @private\n     */\n    AtrIndicator.prototype.calculateATRPoints = function (indicator, validData) {\n        var average = 0;\n        var highLow = 0;\n        var highClose = 0;\n        var lowClose = 0;\n        var trueRange = 0;\n        var points = [];\n        var temp = [];\n        var period = indicator.period;\n        var sum = 0;\n        var y = 'y';\n        var signalSeries = indicator.targetSeries[0];\n        for (var i = 0; i < validData.length; i++) {\n            /**\n             * Current High less the current Low\n             * Current High less the previous Close (absolute value)\n             * Current Low less the previous Close (absolute value)\n             */\n            highLow = Number(validData[i].high) - Number(validData[i].low);\n            if (i > 0) {\n                //\n                highClose = Math.abs(Number(validData[i].high) - Number(validData[i - 1].close));\n                lowClose = Math.abs(Number(validData[i].low) - Number(validData[i - 1].close));\n            }\n            /**\n             * To find the maximum of highLow, highClose, lowClose\n             */\n            trueRange = Math.max(highLow, highClose, lowClose);\n            sum = sum + trueRange;\n            /**\n             * Push the x and y values for the Average true range indicator\n             */\n            if (i >= period) {\n                average = (Number(temp[i - 1][y]) * (period - 1) + trueRange) / period;\n                points.push(this.getDataPoint(validData[i].x, average, validData[i], signalSeries, points.length));\n            }\n            else {\n                average = sum / period;\n                if (i === period - 1) {\n                    points.push(this.getDataPoint(validData[i].x, average, validData[i], signalSeries, points.length));\n                }\n            }\n            temp[i] = { x: validData[i].x, y: average };\n        }\n        this.setSeriesRange(points, indicator);\n    };\n    /**\n     * To destroy the Average true range indicator.\n     * @return {void}\n     * @private\n     */\n    AtrIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroy the Average true range indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    AtrIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the Indicator\n         */\n        return 'AtrIndicator';\n    };\n    return AtrIndicator;\n}(TechnicalAnalysis));\nexport { AtrIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * Defines how to represent the market trend using momentum indicators\n */\nvar MomentumIndicator = /** @class */ (function (_super) {\n    __extends(MomentumIndicator, _super);\n    function MomentumIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series to represent a momentum indicator\n     * @private\n     */\n    MomentumIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        var upperLine = new Series(indicator, 'targetSeries', {}, true);\n        _super.prototype.setSeriesProperties.call(this, upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n    };\n    /**\n     * Defines the predictions using momentum approach\n     * @private\n     */\n    MomentumIndicator.prototype.initDataSource = function (indicator, chart) {\n        var upperCollection = [];\n        var signalCollection = [];\n        var validData = indicator.points;\n        if (validData && validData.length) {\n            var upperSeries = indicator.targetSeries[1];\n            var signalSeries = indicator.targetSeries[0];\n            var length_1 = indicator.period;\n            if (validData.length >= indicator.period) {\n                for (var i = 0; i < validData.length; i++) {\n                    upperCollection.push(this.getDataPoint(validData[i].x, 100, validData[i], upperSeries, upperCollection.length));\n                    if (!(i < length_1)) {\n                        signalCollection.push(this.getDataPoint(validData[i].x, (Number(validData[i].close) / Number(validData[i - length_1].close) * 100), validData[i], signalSeries, signalCollection.length));\n                    }\n                }\n            }\n            this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n            this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[1]);\n        }\n    };\n    /**\n     * To destroy the momentum indicator\n     * @return {void}\n     * @private\n     */\n    MomentumIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the momentum indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    MomentumIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'MomentumIndicator';\n    };\n    return MomentumIndicator;\n}(TechnicalAnalysis));\nexport { MomentumIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * RSI predicts the trend using RSI approach\n */\nvar RsiIndicator = /** @class */ (function (_super) {\n    __extends(RsiIndicator, _super);\n    function RsiIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the series collection to represent the RSI Indicator\n     * @private\n     */\n    RsiIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        if (indicator.showZones) {\n            var lowerLine = new Series(indicator, 'targetSeries', {}, true);\n            _super.prototype.setSeriesProperties.call(this, lowerLine, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n            var upperLine = new Series(indicator, 'targetSeries', {}, true);\n            _super.prototype.setSeriesProperties.call(this, upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n        }\n    };\n    /**\n     * Defines the predictions using RSI approach\n     * @private\n     */\n    RsiIndicator.prototype.initDataSource = function (indicator, chart) {\n        var signalCollection = [];\n        var lowerCollection = [];\n        var upperCollection = [];\n        var signalSeries = indicator.targetSeries[0];\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            //Find upper band and lower band values\n            if (indicator.showZones) {\n                for (var i = 0; i < validData.length; i++) {\n                    upperCollection.push(this.getDataPoint(validData[i].x, indicator.overBought, validData[i], indicator.targetSeries[1], upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[i].x, indicator.overSold, validData[i], indicator.targetSeries[2], lowerCollection.length));\n                }\n            }\n            //Find signal line value\n            var prevClose = Number(validData[0].close);\n            var gain = 0;\n            var loss = 0;\n            for (var i = 1; i <= indicator.period; i++) {\n                var close_1 = Number(validData[i].close);\n                if (close_1 > prevClose) {\n                    gain += close_1 - prevClose;\n                }\n                else {\n                    loss += prevClose - close_1;\n                }\n                prevClose = close_1;\n            }\n            gain = gain / indicator.period;\n            loss = loss / indicator.period;\n            signalCollection.push(this.getDataPoint(validData[indicator.period].x, 100 - (100 / (1 + gain / loss)), validData[indicator.period], signalSeries, signalCollection.length));\n            for (var j = indicator.period + 1; j < validData.length; j++) {\n                var close_2 = Number(validData[j].close);\n                if (close_2 > prevClose) {\n                    gain = (gain * (indicator.period - 1) + (close_2 - prevClose)) / indicator.period;\n                    loss = (loss * (indicator.period - 1)) / indicator.period;\n                }\n                else if (close_2 < prevClose) {\n                    loss = (loss * (indicator.period - 1) + (prevClose - close_2)) / indicator.period;\n                    gain = (gain * (indicator.period - 1)) / indicator.period;\n                }\n                prevClose = close_2;\n                signalCollection.push(this.getDataPoint(validData[j].x, 100 - (100 / (1 + gain / loss)), validData[j], signalSeries, signalCollection.length));\n            }\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n        if (indicator.showZones) {\n            this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[1]);\n            this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[2]);\n        }\n    };\n    /**\n     * To destroy the RSI Indicator.\n     * @return {void}\n     * @private\n     */\n    RsiIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the RSI Indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    RsiIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the indicator.\n         */\n        return 'RsiIndicator';\n    };\n    return RsiIndicator;\n}(TechnicalAnalysis));\nexport { RsiIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * Stochastic predicts the trend using Stochastic approach\n */\nvar StochasticIndicator = /** @class */ (function (_super) {\n    __extends(StochasticIndicator, _super);\n    function StochasticIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series that represents the stochastic indicator\n     * @private\n     */\n    StochasticIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        var periodLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(periodLine, indicator, 'PeriodLine', indicator.periodLine.color, indicator.periodLine.width, chart);\n        if (indicator.showZones) {\n            var upperSeries = new Series(indicator, 'targetSeries', {}, true);\n            this.setSeriesProperties(upperSeries, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n            var lowerSeries = new Series(indicator, 'targetSeries', {}, true);\n            this.setSeriesProperties(lowerSeries, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n        }\n    };\n    /**\n     * Defines the predictions based on stochastic approach\n     * @private\n     */\n    StochasticIndicator.prototype.initDataSource = function (indicator, chart) {\n        var signalCollection = [];\n        var upperCollection = [];\n        var lowerCollection = [];\n        var periodCollection = [];\n        var source = [];\n        var sourceSeries = indicator.sourceSeries;\n        var point = {};\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            if (indicator.showZones) {\n                for (var i = 0; i < validData.length; i++) {\n                    upperCollection.push(this.getDataPoint(validData[i].x, indicator.overBought, validData[i], indicator.targetSeries[2], upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[i].x, indicator.overSold, validData[i], indicator.targetSeries[3], lowerCollection.length));\n                }\n            }\n            source = this.calculatePeriod(indicator.period, indicator.kPeriod, validData, indicator.targetSeries[1]);\n            periodCollection = this.smaCalculation(indicator.period, indicator.kPeriod, source, indicator.targetSeries[1]);\n            signalCollection = this.smaCalculation(indicator.period + indicator.kPeriod - 1, indicator.dPeriod, source, indicator.targetSeries[0]);\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n        this.setSeriesRange(periodCollection, indicator, indicator.targetSeries[1]);\n        if (indicator.showZones) {\n            this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[2]);\n            this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[3]);\n        }\n    };\n    /**\n     * Calculates the SMA Values\n     * @private\n     */\n    StochasticIndicator.prototype.smaCalculation = function (period, kPeriod, data, sourceSeries) {\n        var pointCollection = [];\n        if (data.length >= period + kPeriod) {\n            var count = period + (kPeriod - 1);\n            var temp = [];\n            var values = [];\n            for (var i = 0; i < data.length; i++) {\n                var value = Number(data[i].y);\n                temp.push(value);\n            }\n            var length_1 = temp.length;\n            while (length_1 >= count) {\n                var sum = 0;\n                for (var i = period - 1; i < (period + kPeriod - 1); i++) {\n                    sum = sum + temp[i];\n                }\n                sum = sum / kPeriod;\n                values.push(sum.toFixed(2));\n                temp.splice(0, 1);\n                length_1 = temp.length;\n            }\n            var len = count - 1;\n            for (var i = 0; i < data.length; i++) {\n                if (!(i < len)) {\n                    pointCollection.push(this.getDataPoint(data[i].x, Number(values[i - len]), data[i], sourceSeries, pointCollection.length));\n                    data[i].y = Number((values[i - len]));\n                }\n            }\n        }\n        return pointCollection;\n    };\n    /**\n     * Calculates the period line values.\n     * @private\n     */\n    StochasticIndicator.prototype.calculatePeriod = function (period, kPeriod, data, series) {\n        var lowValues = [];\n        var highValues = [];\n        var closeValues = [];\n        var modifiedSource = [];\n        for (var j = 0; j < data.length; j++) {\n            lowValues[j] = data[j].low;\n            highValues[j] = data[j].high;\n            closeValues[j] = data[j].close;\n        }\n        if (data.length > period) {\n            var totalPeriod = period + kPeriod;\n            var mins = [];\n            var maxs = [];\n            for (var i = 0; i < period - 1; ++i) {\n                maxs.push(0);\n                mins.push(0);\n                modifiedSource.push(this.getDataPoint(data[i].x, data[i].close, data[i], series, modifiedSource.length));\n            }\n            for (var i = period - 1; i < data.length; ++i) {\n                var min = Number.MAX_VALUE;\n                var max = Number.MIN_VALUE;\n                for (var j = 0; j < period; ++j) {\n                    min = Math.min(min, lowValues[i - j]);\n                    max = Math.max(max, highValues[i - j]);\n                }\n                maxs.push(max);\n                mins.push(min);\n            }\n            for (var i = period - 1; i < data.length; ++i) {\n                var top_1 = 0;\n                var bottom = 0;\n                top_1 += closeValues[i] - mins[i];\n                bottom += maxs[i] - mins[i];\n                modifiedSource.push(this.getDataPoint(data[i].x, (top_1 / bottom) * 100, data[i], series, modifiedSource.length));\n            }\n        }\n        return modifiedSource;\n    };\n    /**\n     * To destroy the Stocastic Indicator.\n     * @return {void}\n     * @private\n     */\n    StochasticIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the stochastic indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StochasticIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the indicator.\n         */\n        return 'StochasticIndicator';\n    };\n    return StochasticIndicator;\n}(TechnicalAnalysis));\nexport { StochasticIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * Bollinger Band Indicator predicts the trend using Bollinger approach\n */\nvar BollingerBands = /** @class */ (function (_super) {\n    __extends(BollingerBands, _super);\n    function BollingerBands() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the series collection to represent bollinger band\n     */\n    BollingerBands.prototype.initSeriesCollection = function (indicator, chart) {\n        indicator.targetSeries = [];\n        var rangeArea = new Series(indicator, 'targetSeries', {}, true);\n        rangeArea.type = 'RangeArea';\n        if (indicator.bandColor !== 'transparent' && indicator.bandColor !== 'none') {\n            this.setSeriesProperties(rangeArea, indicator, 'BollingerBand', indicator.bandColor, 0, chart);\n        }\n        var signalLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(signalLine, indicator, 'SignalLine', indicator.fill, indicator.width, chart);\n        var upperLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n        var lowerLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(lowerLine, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n    };\n    /**\n     * Defines the predictions using Bollinger Band Approach\n     * @private\n     */\n    BollingerBands.prototype.initDataSource = function (indicator, chart) {\n        var enableBand = indicator.bandColor !== 'transparent' && indicator.bandColor !== 'none';\n        var start = enableBand ? 1 : 0;\n        var signalCollection = [];\n        var upperCollection = [];\n        var lowerCollection = [];\n        var bandCollection = [];\n        var upperSeries = indicator.targetSeries[start + 1];\n        var lowerSeries = indicator.targetSeries[start + 2];\n        var signalSeries = indicator.targetSeries[start];\n        var rangeAreaSeries = enableBand ? indicator.targetSeries[0] : null;\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            var sum = 0;\n            var deviationSum = 0;\n            var multiplier = indicator.standardDeviation;\n            var limit = validData.length;\n            var length_1 = Math.round(indicator.period);\n            var smaPoints = [];\n            var deviations = [];\n            var bollingerPoints = [];\n            for (var i_1 = 0; i_1 < length_1; i_1++) {\n                sum += Number(validData[i_1].close);\n            }\n            var sma = sum / indicator.period;\n            for (var i_2 = 0; i_2 < limit; i_2++) {\n                var y = Number(validData[i_2].close);\n                if (i_2 >= length_1 - 1 && i_2 < limit) {\n                    if (i_2 - indicator.period >= 0) {\n                        var diff = y - Number(validData[i_2 - length_1].close);\n                        sum = sum + diff;\n                        sma = sum / (indicator.period);\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2] - deviations[i_2 - length_1];\n                    }\n                    else {\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2];\n                    }\n                    var range = Math.sqrt(deviationSum / (indicator.period));\n                    var lowerBand = smaPoints[i_2] - (multiplier * range);\n                    var upperBand = smaPoints[i_2] + (multiplier * range);\n                    if (i_2 + 1 === length_1) {\n                        for (var j_1 = 0; j_1 < length_1 - 1; j_1++) {\n                            bollingerPoints[j_1] = {\n                                'X': validData[j_1].x, 'mb': smaPoints[i_2],\n                                'lb': lowerBand, 'ub': upperBand, visible: true\n                            };\n                        }\n                    }\n                    bollingerPoints[i_2] = {\n                        'X': validData[i_2].x, 'mb': smaPoints[i_2],\n                        'lb': lowerBand, 'ub': upperBand, visible: true\n                    };\n                }\n                else {\n                    if (i_2 < indicator.period - 1) {\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2];\n                    }\n                }\n            }\n            var i = -1;\n            var j = -1;\n            for (var k = 0; k < limit; k++) {\n                if (k >= (length_1 - 1)) {\n                    var ub = 'ub';\n                    var lb = 'lb';\n                    var mb = 'mb';\n                    upperCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][ub], validData[k], upperSeries, upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][lb], validData[k], lowerSeries, lowerCollection.length));\n                    signalCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][mb], validData[k], signalSeries, signalCollection.length));\n                    if (enableBand) {\n                        bandCollection.push(this.getRangePoint(validData[k].x, upperCollection[++i].y, lowerCollection[++j].y, validData[k], rangeAreaSeries, bandCollection.length));\n                    }\n                }\n            }\n        }\n        if (enableBand) {\n            this.setSeriesRange(bandCollection, indicator, indicator.targetSeries[0]);\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[start]);\n        this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[start + 1]);\n        this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[start + 2]);\n    };\n    /**\n     * To destroy the Bollinger Band.\n     * @return {void}\n     * @private\n     */\n    BollingerBands.prototype.destroy = function (chart) {\n        /**\n         * Destroys the bollinger band\n         */\n    };\n    /**\n     * Get module name.\n     */\n    BollingerBands.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'BollingerBandsIndicator';\n    };\n    return BollingerBands;\n}(TechnicalAnalysis));\nexport { BollingerBands };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * MACD Indicator predicts the trend using MACD approach\n */\nvar MacdIndicator = /** @class */ (function (_super) {\n    __extends(MacdIndicator, _super);\n    function MacdIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series to represent the MACD indicator\n     * @private\n     */\n    MacdIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        if (indicator.macdType === 'Line' || indicator.macdType === 'Both') {\n            var macdSeries = new Series(indicator, 'targetSeries', {}, true);\n            this.setSeriesProperties(macdSeries, indicator, 'MacdLine', indicator.macdLine.color, indicator.macdLine.width, chart);\n        }\n        if (indicator.macdType === 'Histogram' || indicator.macdType === 'Both') {\n            var histogramSeries = new Series(indicator, 'targetSeries', {}, true);\n            histogramSeries.type = 'Column';\n            this.setSeriesProperties(histogramSeries, indicator, 'Histogram', indicator.macdPositiveColor, indicator.width, chart);\n        }\n    };\n    /**\n     * Defines the predictions using MACD approach\n     * @private\n     */\n    MacdIndicator.prototype.initDataSource = function (indicator, chart) {\n        var signalCollection = [];\n        var fastPeriod = indicator.fastPeriod;\n        var slowPeriod = indicator.slowPeriod;\n        var trigger = indicator.period;\n        var length = fastPeriod + trigger;\n        var macdCollection = [];\n        var histogramCollection = [];\n        var validData = indicator.points;\n        var signalSeries = indicator.targetSeries[0];\n        var histogramSeries;\n        var macdLineSeries;\n        if (indicator.macdType === 'Histogram') {\n            histogramSeries = indicator.targetSeries[1];\n        }\n        else {\n            macdLineSeries = indicator.targetSeries[1];\n            if (indicator.macdType === 'Both') {\n                histogramSeries = indicator.targetSeries[2];\n            }\n        }\n        if (validData && length < validData.length && slowPeriod <= fastPeriod &&\n            slowPeriod > 0 && (length - 2) >= 0) {\n            var shortEMA = this.calculateEMAValues(slowPeriod, validData, 'close');\n            var longEMA = this.calculateEMAValues(fastPeriod, validData, 'close');\n            var macdValues = this.getMACDVales(indicator, shortEMA, longEMA);\n            macdCollection = this.getMACDPoints(indicator, macdValues, validData, macdLineSeries || signalSeries);\n            var signalEMA = this.calculateEMAValues(trigger, macdCollection, 'y');\n            signalCollection = this.getSignalPoints(indicator, signalEMA, validData, signalSeries);\n            if (histogramSeries) {\n                histogramCollection = this.getHistogramPoints(indicator, macdValues, signalEMA, validData, histogramSeries);\n            }\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n        if (histogramSeries) {\n            this.setSeriesRange(histogramCollection, indicator, histogramSeries);\n        }\n        if (macdLineSeries) {\n            this.setSeriesRange(macdCollection, indicator, macdLineSeries);\n        }\n    };\n    /**\n     * Calculates the EMA values for the given period\n     */\n    MacdIndicator.prototype.calculateEMAValues = function (period, validData, field) {\n        var sum = 0;\n        var initialEMA = 0;\n        var emaValues = [];\n        var emaPercent = (2 / (period + 1));\n        for (var i = 0; i < period; i++) {\n            sum += Number(validData[i][field]);\n        }\n        initialEMA = (sum / period);\n        emaValues.push(initialEMA);\n        var emaAvg = initialEMA;\n        for (var j = period; j < validData.length; j++) {\n            emaAvg = (Number(validData[j][field]) - emaAvg) * emaPercent + emaAvg;\n            emaValues.push(emaAvg);\n        }\n        return emaValues;\n    };\n    /**\n     * Defines the MACD Points\n     */\n    MacdIndicator.prototype.getMACDPoints = function (indicator, macdPoints, validData, series) {\n        var macdCollection = [];\n        var dataMACDIndex = indicator.fastPeriod - 1;\n        var macdIndex = 0;\n        while (dataMACDIndex < validData.length) {\n            macdCollection.push(this.getDataPoint(validData[dataMACDIndex].x, macdPoints[macdIndex], validData[dataMACDIndex], series, macdCollection.length));\n            dataMACDIndex++;\n            macdIndex++;\n        }\n        return macdCollection;\n    };\n    /**\n     * Calculates the signal points\n     */\n    MacdIndicator.prototype.getSignalPoints = function (indicator, signalEma, validData, series) {\n        var dataSignalIndex = indicator.fastPeriod + indicator.period - 2;\n        var signalIndex = 0;\n        var signalCollection = [];\n        while (dataSignalIndex < validData.length) {\n            signalCollection.push(this.getDataPoint(validData[dataSignalIndex].x, signalEma[signalIndex], validData[dataSignalIndex], series, signalCollection.length));\n            dataSignalIndex++;\n            signalIndex++;\n        }\n        return signalCollection;\n    };\n    /**\n     * Calculates the MACD values\n     */\n    MacdIndicator.prototype.getMACDVales = function (indicator, shortEma, longEma) {\n        var macdPoints = [];\n        var diff = indicator.fastPeriod - indicator.slowPeriod;\n        for (var i = 0; i < longEma.length; i++) {\n            macdPoints.push((shortEma[i + diff] - longEma[i]));\n        }\n        return macdPoints;\n    };\n    /**\n     * Calculates the Histogram Points\n     */\n    MacdIndicator.prototype.getHistogramPoints = function (indicator, macdPoints, signalEma, validData, series) {\n        var dataHistogramIndex = indicator.fastPeriod + indicator.period - 2;\n        var histogramIndex = 0;\n        var histogramCollection = [];\n        while (dataHistogramIndex < validData.length) {\n            histogramCollection.push(this.getDataPoint(validData[dataHistogramIndex].x, macdPoints[histogramIndex + (indicator.period - 1)] - signalEma[histogramIndex], validData[dataHistogramIndex], series, histogramCollection.length, indicator));\n            dataHistogramIndex++;\n            histogramIndex++;\n        }\n        return histogramCollection;\n    };\n    /**\n     * To destroy the MACD Indicator.\n     * @return {void}\n     * @private\n     */\n    MacdIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the MACD indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    MacdIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'MacdIndicator';\n    };\n    return MacdIndicator;\n}(TechnicalAnalysis));\nexport { MacdIndicator };\n","import { Series, Points } from '../series/chart-series';\nimport { findClipRect, RectOption } from '../../common/utils/helper';\n/**\n * Trendline module helps to predict the market trend using predefined approaches\n */\nvar Trendlines = /** @class */ (function () {\n    function Trendlines() {\n    }\n    /**\n     * Defines the collection of series, that are used to represent a trendline\n     * @private\n     */\n    Trendlines.prototype.initSeriesCollection = function (trendline, chart) {\n        var trendLineSeries = new Series(trendline, 'targetSeries', {}, true);\n        if (trendline.type === 'Linear' || trendline.type === 'MovingAverage') {\n            trendLineSeries.type = 'Line';\n        }\n        else {\n            trendLineSeries.type = 'Spline';\n        }\n        this.setSeriesProperties(trendLineSeries, trendline, trendline.type, trendline.fill, trendline.width, chart);\n    };\n    /**\n     * Initializes the properties of the trendline series\n     */\n    Trendlines.prototype.setSeriesProperties = function (series, trendline, name, fill, width, chart) {\n        series.name = trendline.name;\n        series.xName = 'x';\n        series.yName = 'y';\n        series.fill = fill || 'blue';\n        series.width = width;\n        series.clipRectElement = trendline.clipRectElement;\n        series.points = [];\n        series.enableTooltip = trendline.enableTooltip;\n        series.index = trendline.index;\n        series.sourceIndex = trendline.sourceIndex;\n        series.interior = series.fill;\n        series.animation = trendline.animation;\n        series.legendShape = 'HorizontalLine';\n        series.marker = trendline.marker;\n        series.category = 'TrendLine';\n        series.chart = chart;\n        series.xMin = Infinity;\n        series.xMax = -Infinity;\n        series.yMin = Infinity;\n        series.yMax = -Infinity;\n        series.xData = [];\n        series.yData = [];\n        trendline.targetSeries = series;\n    };\n    /**\n     * Creates the elements of a trendline\n     */\n    Trendlines.prototype.createTrendLineElements = function (chart, trendline, index, element, clipRectElement) {\n        trendline.trendLineElement = element;\n        trendline.targetSeries.clipRectElement = clipRectElement;\n        trendline.targetSeries.seriesElement = element;\n        chart.trendLineElements.appendChild(trendline.trendLineElement);\n    };\n    /**\n     * Defines the data point of trendline\n     */\n    Trendlines.prototype.getDataPoint = function (x, y, sourcePoint, series, index) {\n        var trendPoint = new Points();\n        trendPoint.x = x;\n        trendPoint.y = y;\n        trendPoint.xValue = Number(x);\n        trendPoint.color = series.fill;\n        trendPoint.index = index;\n        trendPoint.yValue = Number(y);\n        trendPoint.visible = true;\n        series.xMin = Math.min(series.xMin, trendPoint.xValue);\n        series.yMin = Math.min(series.yMin, trendPoint.yValue);\n        series.xMax = Math.max(series.xMax, trendPoint.xValue);\n        series.yMax = Math.max(series.yMax, trendPoint.yValue);\n        series.xData.push(trendPoint.xValue);\n        return trendPoint;\n    };\n    /**\n     * Finds the slope and intercept of trendline\n     */\n    Trendlines.prototype.findSlopeIntercept = function (xValues, yValues, trendline, points) {\n        var xAvg = 0;\n        var yAvg = 0;\n        var xyAvg = 0;\n        var xxAvg = 0;\n        var yyAvg = 0;\n        var index = 0;\n        var slope = 0;\n        var intercept = 0;\n        while (index < points.length) {\n            xAvg += xValues[index];\n            yAvg += yValues[index];\n            xyAvg += xValues[index] * yValues[index];\n            xxAvg += xValues[index] * xValues[index];\n            yyAvg += yValues[index] * yValues[index];\n            index++;\n        }\n        var type = trendline.type;\n        if (trendline.intercept && (type === 'Linear' || type === 'Exponential')) {\n            intercept = trendline.intercept;\n            switch (type) {\n                case 'Linear':\n                    slope = ((xyAvg) - (trendline.intercept * xAvg)) / xxAvg;\n                    break;\n                case 'Exponential':\n                    slope = ((xyAvg) - (Math.log(Math.abs(trendline.intercept)) * xAvg)) / xxAvg;\n                    break;\n            }\n        }\n        else {\n            slope = ((points.length * xyAvg) - (xAvg * yAvg)) / ((points.length * xxAvg) - (xAvg * xAvg));\n            if (type === 'Exponential' || type === 'Power') {\n                intercept = Math.exp((yAvg - (slope * xAvg)) / points.length);\n            }\n            else {\n                intercept = (yAvg - (slope * xAvg)) / points.length;\n            }\n        }\n        return { slope: slope, intercept: intercept };\n    };\n    /**\n     * Defines the points to draw the trendlines\n     */\n    Trendlines.prototype.initDataSource = function (trendline, chart) {\n        var points = trendline.points;\n        if (points && points.length) {\n            //prepare data\n            var trendlineSeries = trendline.targetSeries;\n            switch (trendline.type) {\n                case 'Linear':\n                    this.setLinearRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Exponential':\n                    this.setExponentialRange(points, trendline, trendlineSeries);\n                    break;\n                case 'MovingAverage':\n                    this.setMovingAverageRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Polynomial':\n                    this.setPolynomialRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Power':\n                    this.setPowerRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Logarithmic':\n                    this.setLogarithmicRange(points, trendline, trendlineSeries);\n                    break;\n            }\n            if (trendline.type !== 'Linear' && trendline.type !== 'MovingAverage') {\n                trendlineSeries.chart.splineSeriesModule.findSplinePoint(trendlineSeries);\n            }\n        }\n    };\n    /**\n     * Calculation of exponential Points\n     */\n    Trendlines.prototype.setExponentialRange = function (points, trendline, series) {\n        var xValue = [];\n        var yValue = [];\n        var index = 0;\n        var slopeIntercept;\n        while (index < points.length) {\n            var point = points[index];\n            xValue.push(point.xValue);\n            yValue.push(Math.log(point.yValue));\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xValue, yValue, trendline, points);\n        series.points = this.getExponentialPoints(trendline, points, xValue, yValue, series, slopeIntercept);\n    };\n    /**\n     * Calculation of logarithmic points\n     */\n    Trendlines.prototype.setLogarithmicRange = function (points, trendline, series) {\n        var xLogValue = [];\n        var yLogValue = [];\n        var xPointsLgr = [];\n        var slopeIntercept;\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xPointsLgr.push(point.xValue);\n            xLogValue.push(Math.log(point.xValue));\n            yLogValue.push(point.yValue);\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xLogValue, yLogValue, trendline, points);\n        series.points = this.getLogarithmicPoints(trendline, points, xPointsLgr, yLogValue, series, slopeIntercept);\n    };\n    /**\n     * Calculation of polynomial points\n     */\n    Trendlines.prototype.setPolynomialRange = function (points, trendline, series) {\n        var xPolyValues = [];\n        var yPolyValues = [];\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xPolyValues.push(point.xValue);\n            yPolyValues.push(point.yValue);\n            index++;\n        }\n        series.points = this.getPolynomialPoints(trendline, points, xPolyValues, yPolyValues, series);\n    };\n    /**\n     * Calculation of power points\n     */\n    Trendlines.prototype.setPowerRange = function (points, trendline, series) {\n        var xValues = [];\n        var yValues = [];\n        var powerPoints = [];\n        var slopeIntercept;\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            powerPoints.push(point.xValue);\n            xValues.push(Math.log(point.xValue));\n            yValues.push(Math.log(point.yValue));\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xValues, yValues, trendline, points);\n        series.points = this.getPowerPoints(trendline, points, powerPoints, yValues, series, slopeIntercept);\n    };\n    /**\n     * Calculation of linear points\n     */\n    Trendlines.prototype.setLinearRange = function (points, trendline, series) {\n        var xValues = [];\n        var yValues = [];\n        var slopeIntercept;\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xValues.push(point.xValue);\n            yValues.push(point.yValue);\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xValues, yValues, trendline, points);\n        series.points = this.getLinearPoints(trendline, points, xValues, yValues, series, slopeIntercept);\n    };\n    /**\n     * Calculation of moving average points\n     */\n    Trendlines.prototype.setMovingAverageRange = function (points, trendline, series) {\n        var xValues = [];\n        var yValues = [];\n        var xAvgValues = [];\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xAvgValues.push(point.xValue);\n            xValues.push(index + 1);\n            yValues.push(point.yValue);\n            index++;\n        }\n        series.points = this.getMovingAveragePoints(trendline, points, xAvgValues, yValues, series);\n    };\n    /**\n     * Calculation of logarithmic points\n     */\n    Trendlines.prototype.getLogarithmicPoints = function (trendline, points, xValues, yValues, series, slopeInterceptLog) {\n        var midPoint = Math.round((points.length / 2));\n        var pts = [];\n        var x1Log = xValues[0] - trendline.backwardForecast;\n        var y1Log = slopeInterceptLog.intercept + (slopeInterceptLog.slope * Math.log(x1Log));\n        var x2Log = xValues[midPoint - 1];\n        var y2Log = slopeInterceptLog.intercept + (slopeInterceptLog.slope * Math.log(x2Log));\n        var x3Log = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y3Log = slopeInterceptLog.intercept + (slopeInterceptLog.slope * Math.log(x3Log));\n        pts.push(this.getDataPoint(x1Log, y1Log, points[0], series, pts.length));\n        pts.push(this.getDataPoint(x2Log, y2Log, points[midPoint - 1], series, pts.length));\n        pts.push(this.getDataPoint(x3Log, y3Log, points[points.length - 1], series, pts.length));\n        return pts;\n    };\n    /**\n     * Defines the points based on data point\n     */\n    Trendlines.prototype.getPowerPoints = function (trendline, points, xValues, yValues, series, slopeInterceptPower) {\n        var midPoint = Math.round((points.length / 2));\n        var pts = [];\n        var x1 = xValues[0] - trendline.backwardForecast;\n        x1 = x1 > -1 ? x1 : 0;\n        var y1 = slopeInterceptPower.intercept * Math.pow(x1, slopeInterceptPower.slope);\n        var x2 = xValues[midPoint - 1];\n        var y2 = slopeInterceptPower.intercept * Math.pow(x2, slopeInterceptPower.slope);\n        var x3 = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y3 = slopeInterceptPower.intercept * Math.pow(x3, slopeInterceptPower.slope);\n        pts.push(this.getDataPoint(x1, y1, points[0], series, pts.length));\n        pts.push(this.getDataPoint(x2, y2, points[midPoint - 1], series, pts.length));\n        pts.push(this.getDataPoint(x3, y3, points[points.length - 1], series, pts.length));\n        return pts;\n    };\n    /**\n     * Get the polynomial points based on polynomial slopes\n     */\n    Trendlines.prototype.getPolynomialPoints = function (trendline, points, xValues, yValues, series) {\n        var midPoint = Math.round((points.length / 2));\n        var pts = [];\n        var polynomialOrder = points.length <= trendline.polynomialOrder ? points.length : trendline.polynomialOrder;\n        polynomialOrder = Math.max(2, polynomialOrder);\n        polynomialOrder = Math.min(6, polynomialOrder);\n        trendline.polynomialOrder = polynomialOrder;\n        trendline.polynomialSlopes = [];\n        trendline.polynomialSlopes.length = trendline.polynomialOrder + 1;\n        var index = 0;\n        while (index < xValues.length) {\n            var xVal = xValues[index];\n            var yVal = yValues[index];\n            var subIndex = 0;\n            while (subIndex <= trendline.polynomialOrder) {\n                if (!trendline.polynomialSlopes[subIndex]) {\n                    trendline.polynomialSlopes[subIndex] = 0;\n                }\n                trendline.polynomialSlopes[subIndex] += Math.pow(xVal, subIndex) * yVal;\n                ++subIndex;\n            }\n            index++;\n        }\n        var numArray = [];\n        numArray.length = 1 + 2 * trendline.polynomialOrder;\n        var matrix = [];\n        matrix.length = trendline.polynomialOrder + 1;\n        var newIndex = 0;\n        while (newIndex < (trendline.polynomialOrder + 1)) {\n            matrix[newIndex] = [];\n            matrix[newIndex].length = 3;\n            newIndex++;\n        }\n        var nIndex = 0;\n        var num1 = 0;\n        while (nIndex < xValues.length) {\n            var d = xValues[nIndex];\n            var num2 = 1.0;\n            var nIndex2 = 0;\n            while (nIndex2 < numArray.length) {\n                if (!numArray[nIndex2]) {\n                    numArray[nIndex2] = 0;\n                }\n                numArray[nIndex2] += num2;\n                num2 *= d;\n                ++num1;\n                ++nIndex2;\n            }\n            ++nIndex;\n        }\n        var nnIndex = 0;\n        while (nnIndex <= trendline.polynomialOrder) {\n            var nnIndex2 = 0;\n            while (nnIndex2 <= trendline.polynomialOrder) {\n                matrix[nnIndex][nnIndex2] = numArray[nnIndex + nnIndex2];\n                ++nnIndex2;\n            }\n            ++nnIndex;\n        }\n        if (!this.gaussJordanElimination(matrix, trendline.polynomialSlopes)) {\n            trendline.polynomialSlopes = null;\n        }\n        pts = this.getPoints(trendline, points, xValues, yValues, series);\n        return pts;\n    };\n    /**\n     * Defines the moving average points\n     */\n    Trendlines.prototype.getMovingAveragePoints = function (trendline, points, xValues, yValues, series) {\n        var pts = [];\n        var period = trendline.period >= points.length ? points.length - 1 : trendline.period;\n        period = Math.max(2, period);\n        var index = 0;\n        var y;\n        var x;\n        var count;\n        var nullCount;\n        while (index < points.length - 1) {\n            y = count = nullCount = 0;\n            for (var j = index; count < period; j++) {\n                count++;\n                if (!yValues[j]) {\n                    nullCount++;\n                }\n                y += yValues[j];\n            }\n            y = period - nullCount <= 0 ? null : y / (period - nullCount);\n            if (y && !isNaN(y)) {\n                x = xValues[period - 1 + index];\n                pts.push(this.getDataPoint(x, y, points[period - 1 + index], series, pts.length));\n            }\n            index++;\n        }\n        return pts;\n    };\n    /**\n     * Defines the linear points\n     */\n    Trendlines.prototype.getLinearPoints = function (trendline, points, xValues, yValues, series, slopeInterceptLinear) {\n        var pts = [];\n        var x1Linear = xValues[0] - trendline.backwardForecast;\n        var y1Linear = slopeInterceptLinear.slope * x1Linear + slopeInterceptLinear.intercept;\n        var x2Linear = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y2Linear = slopeInterceptLinear.slope * x2Linear + slopeInterceptLinear.intercept;\n        pts.push(this.getDataPoint(x1Linear, y1Linear, points[0], series, pts.length));\n        pts.push(this.getDataPoint(x2Linear, y2Linear, points[points.length - 1], series, pts.length));\n        return pts;\n    };\n    /**\n     * Defines the exponential points\n     */\n    Trendlines.prototype.getExponentialPoints = function (trendline, points, xValues, yValues, series, slopeInterceptExp) {\n        var midPoint = Math.round((points.length / 2));\n        var ptsExp = [];\n        var x1 = xValues[0] - trendline.backwardForecast;\n        var y1 = slopeInterceptExp.intercept * Math.exp(slopeInterceptExp.slope * x1);\n        var x2 = xValues[midPoint - 1];\n        var y2 = slopeInterceptExp.intercept * Math.exp(slopeInterceptExp.slope * x2);\n        var x3 = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y3 = slopeInterceptExp.intercept * Math.exp(slopeInterceptExp.slope * x3);\n        ptsExp.push(this.getDataPoint(x1, y1, points[0], series, ptsExp.length));\n        ptsExp.push(this.getDataPoint(x2, y2, points[midPoint - 1], series, ptsExp.length));\n        ptsExp.push(this.getDataPoint(x3, y3, points[points.length - 1], series, ptsExp.length));\n        return ptsExp;\n    };\n    /**\n     * Defines the points based on data point\n     */\n    Trendlines.prototype.getPoints = function (trendline, points, xValues, yValues, series) {\n        var midPoint = Math.round((points.length / 2));\n        var polynomialSlopes = trendline.polynomialSlopes;\n        var pts = [];\n        var x1 = 1;\n        var index = 1;\n        var xValue;\n        var yValue;\n        while (index <= polynomialSlopes.length) {\n            if (index === 1) {\n                xValue = xValues[0] - trendline.backwardForecast;\n                yValue = this.getPolynomialYValue(polynomialSlopes, xValue);\n                pts.push(this.getDataPoint(xValue, yValue, points[0], series, pts.length));\n            }\n            else if (index === polynomialSlopes.length) {\n                xValue = xValues[points.length - 1] + trendline.forwardForecast;\n                yValue = this.getPolynomialYValue(polynomialSlopes, xValue);\n                pts.push(this.getDataPoint(xValue, yValue, points[points.length - 1], series, pts.length));\n            }\n            else {\n                x1 += (points.length + trendline.forwardForecast) / polynomialSlopes.length;\n                xValue = xValues[parseInt(x1.toString(), 10) - 1];\n                yValue = this.getPolynomialYValue(polynomialSlopes, xValue);\n                pts.push(this.getDataPoint(xValue, yValue, points[parseInt(x1.toString(), 10) - 1], series, pts.length));\n            }\n            index++;\n        }\n        return pts;\n    };\n    /**\n     * Defines the polynomial value of y\n     */\n    Trendlines.prototype.getPolynomialYValue = function (slopes, x) {\n        var sum = 0;\n        var index = 0;\n        while (index < slopes.length) {\n            sum += slopes[index] * Math.pow(x, index);\n            index++;\n        }\n        return sum;\n    };\n    /**\n     * Defines the gauss jordan elimination\n     */\n    Trendlines.prototype.gaussJordanElimination = function (matrix, polynomialSlopes) {\n        var length = matrix.length;\n        var numArray1 = [];\n        var numArray2 = [];\n        var numArray3 = [];\n        numArray1.length = length;\n        numArray2.length = length;\n        numArray3.length = length;\n        var index = 0;\n        while (index < length) {\n            numArray3[index] = 0;\n            ++index;\n        }\n        var index1 = 0;\n        while (index1 < length) {\n            var num1 = 0;\n            var index2 = 0;\n            var index3 = 0;\n            var index4 = 0;\n            while (index4 < length) {\n                if (numArray3[index4] !== 1) {\n                    var index5 = 0;\n                    while (index5 < length) {\n                        if (numArray3[index5] === 0 && Math.abs(matrix[index4][index5]) >= num1) {\n                            num1 = Math.abs(matrix[index4][index5]);\n                            index2 = index4;\n                            index3 = index5;\n                        }\n                        ++index5;\n                    }\n                }\n                ++index4;\n            }\n            ++numArray3[index3];\n            if (index2 !== index3) {\n                var index4_1 = 0;\n                while (index4_1 < length) {\n                    var num2 = matrix[index2][index4_1];\n                    matrix[index2][index4_1] = matrix[index3][index4_1];\n                    matrix[index3][index4_1] = num2;\n                    ++index4_1;\n                }\n                var num3 = polynomialSlopes[index2];\n                polynomialSlopes[index2] = polynomialSlopes[index3];\n                polynomialSlopes[index3] = num3;\n            }\n            numArray2[index1] = index2;\n            numArray1[index1] = index3;\n            if (matrix[index3][index3] === 0.0) {\n                return false;\n            }\n            var num4 = 1.0 / matrix[index3][index3];\n            matrix[index3][index3] = 1.0;\n            var iindex4 = 0;\n            while (iindex4 < length) {\n                matrix[index3][iindex4] *= num4;\n                ++iindex4;\n            }\n            polynomialSlopes[index3] *= num4;\n            var iandex4 = 0;\n            while (iandex4 < length) {\n                if (iandex4 !== index3) {\n                    var num2 = matrix[iandex4][index3];\n                    matrix[iandex4][index3] = 0.0;\n                    var index5 = 0;\n                    while (index5 < length) {\n                        matrix[iandex4][index5] -= matrix[index3][index5] * num2;\n                        ++index5;\n                    }\n                    polynomialSlopes[iandex4] -= polynomialSlopes[index3] * num2;\n                }\n                ++iandex4;\n            }\n            ++index1;\n        }\n        var iindex1 = length - 1;\n        while (iindex1 >= 0) {\n            if (numArray2[iindex1] !== numArray1[iindex1]) {\n                var iindex2 = 0;\n                while (iindex2 < length) {\n                    var num = matrix[iindex2][numArray2[iindex1]];\n                    matrix[iindex2][numArray2[iindex1]] = matrix[iindex2][numArray1[iindex1]];\n                    matrix[iindex2][numArray1[iindex1]] = num;\n                    ++iindex2;\n                }\n            }\n            --iindex1;\n        }\n        return true;\n    };\n    /**\n     * Defines the trendline elements\n     */\n    Trendlines.prototype.getTrendLineElements = function (series, chart) {\n        findClipRect(series);\n        var clipRect = series.clipRect;\n        var clipRectElement = chart.renderer.drawClipPath(new RectOption(chart.element.id + '_ChartTrendlineClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n            x: 0, y: 0, width: clipRect.width,\n            height: clipRect.height,\n        }));\n        var element;\n        element = chart.renderer.createGroup({\n            'id': chart.element.id + 'TrendlineSeriesGroup' + series.index,\n            'transform': 'translate(' + clipRect.x + ',' + clipRect.y + ')',\n            'clip-path': 'url(#' + chart.element.id + '_ChartTrendlineClipRect_' + series.index + ')'\n        });\n        //defines the clip rect element\n        element.appendChild(clipRectElement);\n        for (var _i = 0, _a = series.trendlines; _i < _a.length; _i++) {\n            var trendline = _a[_i];\n            this.createTrendLineElements(chart, trendline, trendline.index, element, clipRectElement);\n        }\n    };\n    /**\n     * To destroy the trendline\n     */\n    Trendlines.prototype.destroy = function (chart) {\n        /**\n         * Destroys the Linear Trendline\n         */\n    };\n    /**\n     * Get module name\n     */\n    Trendlines.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'TrendLine';\n    };\n    return Trendlines;\n}());\nexport { Trendlines };\n","import { Animation, Browser } from '@syncfusion/ej2-base';\nimport { measureText, findDirection, textElement, getValueXByPoint, stopTimer, getValueYByPoint, TextOption, Rect, ChartLocation, PathOption, withInBounds, removeElement } from '../../common/utils/helper';\n/**\n * Crosshair Module used to render the crosshair for chart.\n */\nvar Crosshair = /** @class */ (function () {\n    /**\n     * Constructor for crosshair module.\n     * @private\n     */\n    function Crosshair(chart) {\n        this.arrowLocation = new ChartLocation(0, 0);\n        this.rx = 2;\n        this.ry = 2;\n        this.chart = chart;\n        this.elementID = this.chart.element.id;\n        this.addEventListener();\n    }\n    /**\n     * @hidden\n     */\n    Crosshair.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n        this.chart.on(cancelEvent, this.mouseLeaveHandler, this);\n        this.chart.on('tapHold', this.longPress, this);\n    };\n    Crosshair.prototype.mouseUpHandler = function () {\n        if (this.chart.startMove) {\n            this.removeCrosshair(2000);\n        }\n    };\n    Crosshair.prototype.mouseLeaveHandler = function () {\n        this.removeCrosshair(1000);\n    };\n    Crosshair.prototype.mouseMoveHandler = function (event) {\n        var chart = this.chart;\n        if (event.type === 'touchmove' && (Browser.isIos || Browser.isIos7) && chart.startMove && event.preventDefault) {\n            event.preventDefault();\n        }\n        // Tooltip for chart series.\n        if (!chart.disableTrackTooltip) {\n            if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                if (chart.startMove || !chart.isTouch) {\n                    this.crosshair();\n                }\n            }\n            else {\n                this.removeCrosshair(1000);\n            }\n        }\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Crosshair.prototype.longPress = function () {\n        var chart = this.chart;\n        if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            this.crosshair();\n        }\n        return false;\n    };\n    /**\n     * Renders the crosshair.\n     * @return {void}\n     * @private\n     */\n    Crosshair.prototype.crosshair = function () {\n        var chart = this.chart;\n        var horizontalCross = '';\n        var verticalCross = '';\n        var options;\n        var crosshair = chart.crosshair;\n        var chartRect = chart.chartAxisLayoutPanel.seriesClipRect;\n        var crossGroup = document.getElementById(this.elementID + '_UserInteraction');\n        this.stopAnimation();\n        if (chart.tooltip.enable && !withInBounds(chart.tooltipModule.valueX, chart.tooltipModule.valueY, chartRect)) {\n            return null;\n        }\n        this.valueX = chart.tooltip.enable ? chart.tooltipModule.valueX : chart.mouseX;\n        this.valueY = chart.tooltip.enable ? chart.tooltipModule.valueY : chart.mouseY;\n        crossGroup.setAttribute('opacity', '1');\n        if (crosshair.lineType === 'Both' || crosshair.lineType === 'Horizontal') {\n            horizontalCross += 'M ' + chartRect.x + ' ' + this.valueY +\n                ' L ' + (chartRect.x + chartRect.width) + ' ' + this.valueY;\n        }\n        if (crosshair.lineType === 'Both' || crosshair.lineType === 'Vertical') {\n            verticalCross += 'M ' + this.valueX + ' ' + chartRect.y +\n                ' L ' + this.valueX + ' ' + (chartRect.y + chartRect.height);\n        }\n        if (crossGroup.childNodes.length === 0) {\n            var axisTooltipGroup = chart.renderer.createGroup({ 'id': this.elementID + '_crosshair_axis' });\n            options = new PathOption(this.elementID + '_HorizontalLine', 'none', crosshair.line.width, crosshair.line.color, 1, null, horizontalCross);\n            this.renderCrosshairLine(options, crossGroup);\n            options.d = verticalCross;\n            options.id = this.elementID + '_VerticalLine';\n            this.renderCrosshairLine(options, crossGroup);\n            crossGroup.appendChild(axisTooltipGroup);\n            this.renderAxisTooltip(chart, chartRect, crossGroup.lastChild);\n        }\n        else {\n            document.getElementById(this.elementID + '_HorizontalLine').setAttribute('d', horizontalCross);\n            document.getElementById(this.elementID + '_VerticalLine').setAttribute('d', verticalCross);\n            this.renderAxisTooltip(chart, chartRect, crossGroup.lastChild);\n        }\n    };\n    Crosshair.prototype.renderCrosshairLine = function (options, crossGroup) {\n        var htmlObject = this.chart.renderer.drawPath(options);\n        crossGroup.appendChild(htmlObject);\n    };\n    Crosshair.prototype.renderAxisTooltip = function (chart, chartRect, axisGroup) {\n        var axis;\n        var text;\n        var rect;\n        var pathElement;\n        var textElem;\n        var options;\n        var padding = 5;\n        var direction;\n        for (var k = 0, length_1 = chart.axisCollections.length; k < length_1; k++) {\n            axis = chart.axisCollections[k];\n            if (axis.crosshairTooltip.enable) {\n                if ((this.valueX <= (axis.rect.x + axis.rect.width) && axis.rect.x <= this.valueX) ||\n                    (this.valueY <= (axis.rect.y + axis.rect.height) && axis.rect.y <= this.valueY)) {\n                    pathElement = document.getElementById(this.elementID + '_axis_tooltip_' + k);\n                    textElem = document.getElementById(this.elementID + '_axis_tooltip_text_' + k);\n                    text = this.getAxisText(axis);\n                    if (!text) {\n                        continue;\n                    }\n                    rect = this.tooltipLocation(text, axis, chartRect);\n                    if (pathElement === null) {\n                        pathElement = chart.renderer.drawPath({\n                            'id': this.elementID + '_axis_tooltip_' + k,\n                            'fill': axis.crosshairTooltip.fill\n                        });\n                        axisGroup.appendChild(pathElement);\n                        options = new TextOption(this.elementID + '_axis_tooltip_text_' + k, 0, 0, 'start', text);\n                        textElem = textElement(options, axis.crosshairTooltip.textStyle, axis.crosshairTooltip.textStyle.color, axisGroup);\n                    }\n                    direction = findDirection(this.rx, this.ry, rect, this.arrowLocation, 10, this.isTop, this.isBottom, this.isLeft, this.valueX, this.valueY);\n                    pathElement.setAttribute('d', direction);\n                    textElem.textContent = text;\n                    textElem.setAttribute('x', (rect.x + padding).toString());\n                    textElem.setAttribute('y', (rect.y + padding + 3 * this.elementSize.height / 4).toString());\n                }\n                else {\n                    removeElement(this.elementID + '_axis_tooltip_' + k);\n                    removeElement(this.elementID + '_axis_tooltip_text_' + k);\n                }\n            }\n        }\n    };\n    Crosshair.prototype.getAxisText = function (axis) {\n        var value;\n        this.isBottom = false;\n        this.isTop = false;\n        this.isLeft = false;\n        this.isRight = false;\n        var labelValue = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks')\n            ? 0.5 : 0;\n        if (axis.orientation === 'Horizontal') {\n            value = getValueXByPoint(Math.abs(this.valueX - axis.rect.x), axis.rect.width, axis) + labelValue;\n            this.isBottom = !axis.opposedPosition;\n            this.isTop = axis.opposedPosition;\n        }\n        else {\n            value = getValueYByPoint(Math.abs(this.valueY - axis.rect.y), axis.rect.height, axis) + labelValue;\n            this.isRight = axis.opposedPosition;\n            this.isLeft = !axis.opposedPosition;\n        }\n        if (axis.valueType === 'DateTime') {\n            return axis.format(new Date(value));\n        }\n        else if (axis.valueType === 'Category') {\n            return axis.labels[Math.floor(value)];\n        }\n        else if (axis.valueType === 'Logarithmic') {\n            return value = axis.format(Math.pow(axis.logBase, value));\n        }\n        else {\n            var customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            return customLabelFormat ? axis.labelFormat.replace('{value}', axis.format(value)) : axis.format(value);\n        }\n    };\n    Crosshair.prototype.tooltipLocation = function (text, axis, bounds) {\n        var isBottom = false;\n        var isLeft = false;\n        var padding = 5;\n        var arrowPadding = 10;\n        var tooltipRect;\n        var boundsX = bounds.x;\n        var boundsY = bounds.y;\n        this.elementSize = measureText(text, axis.crosshairTooltip.textStyle);\n        if (axis.orientation === 'Horizontal') {\n            this.arrowLocation = new ChartLocation(this.valueX, axis.rect.y);\n            tooltipRect = new Rect((this.valueX - (this.elementSize.width / 2) - padding), axis.rect.y + arrowPadding, this.elementSize.width + padding * 2, this.elementSize.height + padding * 2);\n            if (axis.opposedPosition) {\n                tooltipRect.y = axis.rect.y - (this.elementSize.height + padding * 2 + arrowPadding);\n            }\n            if (tooltipRect.x < boundsX) {\n                tooltipRect.x = boundsX;\n            }\n            if (tooltipRect.x + tooltipRect.width > boundsX + bounds.width) {\n                tooltipRect.x -= ((tooltipRect.x + tooltipRect.width) - (boundsX + bounds.width));\n            }\n            if (this.arrowLocation.x + arrowPadding / 2 > tooltipRect.x + tooltipRect.width - this.rx) {\n                this.arrowLocation.x = tooltipRect.x + tooltipRect.width - this.rx - arrowPadding / 2;\n            }\n            if (this.arrowLocation.x - arrowPadding / 2 < tooltipRect.x + this.rx) {\n                this.arrowLocation.x = tooltipRect.x + this.rx + arrowPadding / 2;\n            }\n        }\n        else {\n            this.arrowLocation = new ChartLocation(axis.rect.x, this.valueY);\n            tooltipRect = new Rect(axis.rect.x - (this.elementSize.width) - (padding * 2 + arrowPadding), this.valueY - (this.elementSize.height / 2) - padding, this.elementSize.width + (padding * 2), this.elementSize.height + padding * 2);\n            if (axis.opposedPosition) {\n                tooltipRect.x = axis.rect.x + arrowPadding;\n                if ((tooltipRect.x + tooltipRect.width) > this.chart.availableSize.width) {\n                    this.arrowLocation.x -= ((tooltipRect.x + tooltipRect.width) - this.chart.availableSize.width);\n                    tooltipRect.x -= ((tooltipRect.x + tooltipRect.width) - this.chart.availableSize.width);\n                }\n            }\n            else {\n                if (tooltipRect.x < 0) {\n                    this.arrowLocation.x -= tooltipRect.x;\n                    tooltipRect.x = 0;\n                }\n            }\n            if (tooltipRect.y < boundsY) {\n                tooltipRect.y = boundsY;\n            }\n            if (tooltipRect.y + tooltipRect.height >= boundsY + bounds.height) {\n                tooltipRect.y -= ((tooltipRect.y + tooltipRect.height) - (boundsY + bounds.height));\n            }\n            if (this.arrowLocation.y + arrowPadding / 2 > tooltipRect.y + tooltipRect.height - this.ry) {\n                this.arrowLocation.y = tooltipRect.y + tooltipRect.height - this.ry - arrowPadding / 2;\n            }\n            if (this.arrowLocation.y - arrowPadding / 2 < tooltipRect.y + this.ry) {\n                this.arrowLocation.y = tooltipRect.y + this.ry + arrowPadding / 2;\n            }\n        }\n        return tooltipRect;\n    };\n    Crosshair.prototype.stopAnimation = function () {\n        stopTimer(this.crosshairInterval);\n    };\n    /**\n     * Removes the crosshair on mouse leave.\n     * @return {void}\n     * @private\n     */\n    Crosshair.prototype.removeCrosshair = function (duration) {\n        var chart = this.chart;\n        var crosshair = document.getElementById(this.elementID + '_UserInteraction');\n        this.stopAnimation();\n        if (crosshair && crosshair.getAttribute('opacity') !== '0') {\n            this.crosshairInterval = setTimeout(function () {\n                new Animation({}).animate(crosshair, {\n                    duration: 200,\n                    progress: function (args) {\n                        // crosshair.removeAttribute('e-animate');\n                        crosshair.style.animation = '';\n                        crosshair.setAttribute('opacity', (1 - (args.timeStamp / args.duration)).toString());\n                    },\n                    end: function (model) {\n                        crosshair.setAttribute('opacity', '0');\n                        chart.startMove = false;\n                        if (chart.tooltipModule) {\n                            chart.tooltipModule.valueX = null;\n                            chart.tooltipModule.valueY = null;\n                        }\n                    }\n                });\n            }, duration);\n        }\n    };\n    /**\n     * Get module name.\n     */\n    Crosshair.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Crosshair';\n    };\n    /**\n     * To destroy the crosshair.\n     * @return {void}\n     * @private\n     */\n    Crosshair.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Crosshair;\n}());\nexport { Crosshair };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, extend, Browser } from '@syncfusion/ej2-base';\nimport { Animation, compile as templateComplier } from '@syncfusion/ej2-base';\nimport { measureText, TextOption, Size, Rect, PointData, ChartLocation, textElement } from '../../common/utils/helper';\nimport { findDirection, stopTimer, drawSymbol, PathOption, valueToCoefficient, removeElement, valueToPolarCoefficient, withInBounds } from '../../common/utils/helper';\nimport { Data } from '../../chart/utils/get-data';\nimport { tooltipRender } from '../../common/model/constants';\nimport { Theme } from '../../common/model/theme';\n/**\n * Tooltip Module used to render the tooltip for series.\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for tooltip module.\n     * @private.\n     */\n    function Tooltip(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.padding = 5;\n        _this.arrowPadding = 12;\n        _this.rx = 2;\n        _this.ry = 2;\n        _this.markerPoint = [];\n        _this.element = _this.chart.element;\n        _this.addEventListener();\n        _this.textStyle = chart.tooltip.textStyle;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Tooltip.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(cancelEvent, this.mouseLeaveHandler, this);\n        this.chart.on('tapHold', this.longPress, this);\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    Tooltip.prototype.mouseUpHandler = function () {\n        var chart = this.chart;\n        if (chart.isTouch &&\n            ((withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect) && chart.tooltip.shared)\n                || !chart.tooltip.shared)) {\n            if (!chart.crosshair.enable) {\n                this.tooltip();\n                this.removeTooltip(2000);\n            }\n            else if (chart.startMove) {\n                this.removeTooltip(2000);\n            }\n        }\n    };\n    Tooltip.prototype.mouseLeaveHandler = function () {\n        this.removeTooltip(1000);\n    };\n    Tooltip.prototype.mouseMoveHandler = function () {\n        var chart = this.chart;\n        // Tooltip for chart series.      \n        if (!chart.disableTrackTooltip) {\n            if (!chart.tooltip.shared && (!chart.isTouch || (chart.startMove))) {\n                this.tooltip();\n            }\n            if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                if (chart.tooltip.shared && (!chart.isTouch || (chart.startMove))) {\n                    this.tooltip();\n                }\n            }\n            else {\n                if (chart.tooltip.shared) {\n                    this.removeTooltip(1000);\n                }\n            }\n        }\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Tooltip.prototype.longPress = function () {\n        var chart = this.chart;\n        if (chart.crosshair.enable && withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            this.tooltip();\n        }\n        return false;\n    };\n    /**\n     * Renders the tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.tooltip = function () {\n        var isTooltip = this.getElement(this.element.id + '_tooltip');\n        var tooltipDiv;\n        var chart = this.chart;\n        this.inverted = this.chart.requireInvertedAxis;\n        this.updateTemplateFn(chart);\n        this.formattedText = [];\n        this.header = (chart.tooltip.header === null) ? ((chart.tooltip.shared) ? '<b>${point.x}</b>' : '<b>${series.name}</b>')\n            : (chart.tooltip.header);\n        if (!isTooltip) {\n            tooltipDiv = this.createElement(chart);\n        }\n        if (!chart.tooltip.shared) {\n            this.renderSeriesTooltip(chart, !isTooltip, tooltipDiv);\n        }\n        else {\n            this.renderGroupedTooltip(chart, !isTooltip, tooltipDiv);\n        }\n    };\n    Tooltip.prototype.createElement = function (chart) {\n        this.textElements = [];\n        var tooltipDiv = document.createElement('div');\n        tooltipDiv.id = this.element.id + '_tooltip';\n        tooltipDiv.className = 'ejTooltip' + this.element.id;\n        tooltipDiv.setAttribute('style', 'pointer-events:none; position:absolute;z-index: 1');\n        if (!chart.tooltip.template || chart.tooltip.shared) {\n            // SVG element for tooltip\n            var svgObject = chart.renderer.createSvg({ id: this.element.id + '_tooltip_svg' });\n            tooltipDiv.appendChild(svgObject);\n            // Group to hold text and path.\n            var groupElement = chart.renderer.createGroup({ id: this.element.id + '_tooltip_group' });\n            svgObject.appendChild(groupElement);\n            var pathElement = chart.renderer.drawPath({\n                'id': this.element.id + '_tooltip_path', 'stroke-width': chart.tooltip.border.width,\n                'fill': chart.tooltip.fill, 'opacity': chart.tooltip.opacity, 'stroke': chart.tooltip.border.color\n            });\n            groupElement.appendChild(pathElement);\n        }\n        return tooltipDiv;\n    };\n    Tooltip.prototype.getElement = function (id) {\n        return document.getElementById(id);\n    };\n    Tooltip.prototype.renderPoint = function (point, isFirst, fill, firstText) {\n        if (firstText === void 0) { firstText = true; }\n        var argsData = {\n            cancel: false, name: tooltipRender, textCollections: this.getTooltipText(point, firstText),\n            point: point.point, series: point.series, textStyle: this.textStyle\n        };\n        this.chart.trigger(tooltipRender, argsData);\n        if (!argsData.cancel) {\n            if (point.series.type === 'BoxAndWhisker') {\n                this.removeText();\n                isFirst = true;\n            }\n            this.formattedText = this.formattedText.concat(argsData.textCollections);\n        }\n        return !argsData.cancel;\n    };\n    Tooltip.prototype.removeText = function () {\n        this.textElements = [];\n        var element = this.getElement(this.element.id + '_tooltip_group');\n        if (element.childNodes.length > 0) {\n            while (element.lastChild && element.childNodes.length !== 1) {\n                element.removeChild(element.lastChild);\n            }\n        }\n    };\n    Tooltip.prototype.findHeader = function (data) {\n        this.header = this.parseTemplate(data.point, data.series, this.header, data.series.xAxis, data.series.yAxis);\n        if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n            this.formattedText = this.formattedText.concat(this.header);\n        }\n    };\n    Tooltip.prototype.renderSeriesTooltip = function (chart, isFirst, tooltipDiv) {\n        var data = this.getData();\n        data.lierIndex = this.lierIndex;\n        this.currentPoints = [];\n        if (data.point && ((!this.previousPoints[0] || (this.previousPoints[0].point !== data.point)) ||\n            (this.previousPoints[0] && this.previousPoints[0].lierIndex > 3 && this.previousPoints[0].lierIndex !== this.lierIndex))) {\n            this.currentPoints.push(data);\n            if (data.series.enableTooltip) {\n                this.stopAnimation();\n                if (isFirst) {\n                    document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n                }\n                if (!chart.tooltip.template) {\n                    if (this.header !== '') {\n                        this.findHeader(data);\n                    }\n                    if (this.renderPoint(data, isFirst, this.textStyle.color || '#212121')) {\n                        this.renderText(isFirst, chart);\n                        this.removeHighlight(chart);\n                        this.highlightPoints(data);\n                        this.renderTooltip(chart, data, isFirst);\n                    }\n                    else {\n                        this.removeHighlight(chart);\n                        this.getElement(this.element.id + '_tooltip').remove();\n                    }\n                }\n                else {\n                    this.removeHighlight(chart);\n                    this.createTemplate(chart, data, this.getElement(this.element.id + '_tooltip'), isFirst);\n                }\n                this.isRemove = true;\n            }\n            this.previousPoints = extend([], this.currentPoints, null, true);\n        }\n        else {\n            if (!data.point && this.isRemove) {\n                this.removeTooltip(1000);\n                this.isRemove = false;\n            }\n            else {\n                for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                    var series = _a[_i];\n                    if (series.visible) {\n                        data = this.getClosestX(chart, series) || data;\n                    }\n                }\n            }\n        }\n        if (data && data.point) {\n            this.findMouseValue(data, chart);\n        }\n    };\n    Tooltip.prototype.updateTemplateFn = function (chart) {\n        if (chart.tooltip.template) {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(chart.tooltip.template).length) {\n                    this.templateFn = templateComplier(document.querySelector(chart.tooltip.template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                this.templateFn = templateComplier(chart.tooltip.template);\n            }\n        }\n    };\n    Tooltip.prototype.createTemplate = function (chart, data, parent, isFirst) {\n        this.highlightPoints(data);\n        var argsData = { cancel: false, name: tooltipRender, point: data.point, series: data.series, };\n        this.chart.trigger(tooltipRender, argsData);\n        var firstElement = this.getElement(this.element.id + '_tooltip').firstChild;\n        if (firstElement) {\n            firstElement.remove();\n        }\n        var point = extend({}, data.point);\n        point.x = this.formatPointValue(data.point, data.series.xAxis, 'x', true, false);\n        if ((data.series.seriesType === 'XY')) {\n            point.y = this.formatPointValue(data.point, data.series.yAxis, 'y', false, true);\n        }\n        else {\n            point.low = this.formatPointValue(data.point, data.series.yAxis, 'low', false, true);\n            point.high = this.formatPointValue(data.point, data.series.yAxis, 'high', false, true);\n        }\n        if (!argsData.cancel) {\n            var templateElement = this.templateFn(point);\n            var elem = createElement('div');\n            while (templateElement.length > 0) {\n                elem.appendChild(templateElement[0]);\n            }\n            parent.appendChild(elem);\n            var rect = parent.getBoundingClientRect();\n            this.padding = 0;\n            this.elementSize = new Size(rect.width, rect.height);\n            var tooltipRect = this.seriesTooltipLocation(data, new ChartLocation(0, 0), new ChartLocation(0, 0));\n            if (chart.tooltip.enableAnimation && !chart.tooltip.shared && !isFirst && !this.isComplete) {\n                this.animateTooltipDiv(parent, tooltipRect);\n            }\n            else {\n                this.updateDiv(parent, tooltipRect.x, tooltipRect.y);\n            }\n            this.isComplete = false;\n        }\n        else {\n            this.removeHighlight(chart);\n            this.getElement(this.element.id + '_tooltip').remove();\n        }\n    };\n    Tooltip.prototype.findMouseValue = function (data, chart) {\n        if (!chart.requireInvertedAxis) {\n            if (chart.chartAreaType === 'PolarRadar') {\n                this.valueX = valueToPolarCoefficient(data.point.xValue, data.series.xAxis) * data.series.xAxis.rect.width\n                    + data.series.xAxis.rect.x;\n            }\n            else {\n                this.valueX = valueToCoefficient(data.point.xValue, data.series.xAxis) * data.series.xAxis.rect.width\n                    + data.series.xAxis.rect.x;\n            }\n            this.valueY = chart.mouseY;\n        }\n        else {\n            this.valueY = (1 - valueToCoefficient(data.point.xValue, data.series.xAxis)) * data.series.xAxis.rect.height\n                + data.series.xAxis.rect.y;\n            this.valueX = chart.mouseX;\n        }\n    };\n    Tooltip.prototype.renderGroupedTooltip = function (chart, isFirst, tooltipDiv) {\n        var data;\n        var height = 0;\n        var width = 0;\n        var pointData = chart.chartAreaType === 'PolarRadar' ? this.getData() : null;\n        this.stopAnimation();\n        this.removeHighlight(chart);\n        this.currentPoints = [];\n        var extraPoints = [];\n        if (isFirst) {\n            document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n        }\n        this.removeText();\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (!series.enableTooltip) {\n                continue;\n            }\n            if (chart.chartAreaType === 'Cartesian' && series.visible) {\n                data = this.getClosestX(chart, series);\n            }\n            else if (chart.chartAreaType === 'PolarRadar' && series.visible && pointData.point !== null) {\n                data = new PointData(series.points[pointData.point.index], series);\n            }\n            if (data && this.header !== '' && this.currentPoints.length === 0) {\n                this.findHeader(data);\n            }\n            if (data && this.renderPoint(data, true, this.textStyle.color || data.point.color, this.currentPoints.length === 0)) {\n                if (series.category === 'Series') {\n                    this.highlightPoints(data);\n                }\n                this.findMouseValue(data, chart);\n                this.currentPoints.push(data);\n                data = null;\n            }\n            else if (data) {\n                extraPoints.push(data);\n            }\n        }\n        this.renderText(isFirst, chart);\n        if (this.currentPoints.length > 0) {\n            this.renderTooltip(chart, this.currentPoints[0], isFirst);\n        }\n        else {\n            this.getElement(this.element.id + '_tooltip_path').setAttribute('d', '');\n        }\n        this.currentPoints = this.currentPoints.concat(extraPoints);\n        this.previousPoints = extend([], this.currentPoints, null, true);\n    };\n    Tooltip.prototype.renderTooltip = function (chart, pointData, isFirst) {\n        var tooltipDiv = this.getElement(this.element.id + '_tooltip');\n        var arrowLocation = new ChartLocation(0, 0);\n        var tipLocation = new ChartLocation(0, 0);\n        var textHeights;\n        var svgObject = this.getElement(this.element.id + '_tooltip_svg');\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var pathElement = this.getElement(this.element.id + '_tooltip_path');\n        var rect;\n        var isTop = false;\n        var isLeft = false;\n        var isBottom = false;\n        var x = 0;\n        var y = 0;\n        var location = pointData.series.type === 'BoxAndWhisker' ?\n            this.getBoxLocation(pointData) : pointData.point.symbolLocations[0];\n        this.tipRadius = 1;\n        var series = pointData.series;\n        var point = pointData.point;\n        if (this.header !== '') {\n            this.elementSize.height += 5;\n        }\n        if (this.currentPoints.length > 1) {\n            this.arrowPadding = 0;\n            rect = this.sharedTooltipLocation(chart.chartAxisLayoutPanel.seriesClipRect, this.valueX, this.valueY);\n            isTop = true;\n        }\n        else {\n            this.arrowPadding = 12;\n            rect = this.seriesTooltipLocation(pointData, arrowLocation, tipLocation);\n            if (!this.inverted || !series.isRectSeries) {\n                isTop = (rect.y < (location.y + (chart.chartAreaType === 'Cartesian' ? series.clipRect.y : 0)));\n                isBottom = !isTop;\n                y = (isTop ? 0 : this.arrowPadding);\n            }\n            else {\n                isLeft = (rect.x < (location.x + series.clipRect.x));\n                x = (isLeft ? 0 : this.arrowPadding);\n            }\n        }\n        if (this.header !== '') {\n            var headerSize = measureText(this.header, chart.tooltip.textStyle).height + (this.padding * 2) +\n                (isBottom ? this.arrowPadding : 0); //header padding;\n            var xLength = (this.padding * 3) + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0);\n            var direction = 'M ' + xLength + ' ' + headerSize +\n                'L ' + (rect.width + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0) - (this.padding * 2)) +\n                ' ' + headerSize;\n            var pathElement_1 = this.chart.renderer.drawPath({\n                'id': this.element.id + '_header_path', 'stroke-width': 1,\n                'fill': null, 'opacity': 0.8, 'stroke': '#ffffff', 'd': direction\n            });\n            groupElement.appendChild(pathElement_1);\n        }\n        var start = chart.tooltip.border.width / 2;\n        var pointRect = new Rect(start + x, start + y, rect.width - start, rect.height - start);\n        groupElement.setAttribute('opacity', '1');\n        if (chart.tooltip.enableAnimation && !chart.tooltip.shared && !isFirst && !this.isComplete) {\n            this.animateTooltipDiv(tooltipDiv, rect);\n        }\n        else {\n            this.updateDiv(tooltipDiv, rect.x, rect.y);\n        }\n        this.isComplete = false;\n        svgObject.setAttribute('height', (rect.height + chart.tooltip.border.width + (!((!this.inverted) ||\n            (!pointData.series.isRectSeries)) ? 0 : this.arrowPadding)).toString());\n        svgObject.setAttribute('width', (rect.width + chart.tooltip.border.width + (((!this.inverted) ||\n            (!pointData.series.isRectSeries)) ? 0 : this.arrowPadding)).toString());\n        svgObject.setAttribute('opacity', '1');\n        pathElement.setAttribute('d', findDirection(this.rx, this.ry, pointRect, arrowLocation, this.arrowPadding, isTop, isBottom, isLeft, tipLocation.x, tipLocation.y, this.tipRadius));\n        pathElement.setAttribute('filter', Browser.isIE ? '' : 'url(#chart_shadow_tooltip)');\n        var shadowElement = '<filter id=\"chart_shadow_tooltip\" height=\"130%\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\"/>';\n        shadowElement += '<feOffset dx=\"3\" dy=\"3\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"0.5\"/>';\n        shadowElement += '</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n        var defElement = chart.renderer.createDefs();\n        defElement.setAttribute('id', 'chart_tooltip_definition');\n        groupElement.appendChild(defElement);\n        defElement.innerHTML = shadowElement;\n        pathElement.setAttribute('stroke', chart.tooltip.border.color);\n        this.changeText(new ChartLocation(x, y), isBottom, !isLeft && !isTop && !isBottom, rect);\n    };\n    Tooltip.prototype.sharedTooltipLocation = function (bounds, x, y) {\n        var width = this.elementSize.width + (2 * this.padding);\n        var height = this.elementSize.height + (2 * this.padding);\n        var tooltipRect = new Rect(x + 2 * this.padding, y - height - this.padding, width, height);\n        if (tooltipRect.y < bounds.y) {\n            tooltipRect.y += (tooltipRect.height + 2 * this.padding);\n        }\n        if (tooltipRect.x + tooltipRect.width > bounds.x + bounds.width) {\n            tooltipRect.x -= (tooltipRect.width + 4 * this.padding);\n        }\n        return tooltipRect;\n    };\n    Tooltip.prototype.getBoxLocation = function (data) {\n        var location;\n        location = this.lierIndex > 3 ? data.point.symbolLocations[this.lierIndex - 4] :\n            {\n                x: data.point.regions[0].x + (data.point.regions[0].width / 2),\n                y: data.point.regions[0].y + (data.point.regions[0].height / 2)\n            };\n        return location;\n    };\n    Tooltip.prototype.seriesTooltipLocation = function (pointData, arrowLocation, tipLocation) {\n        var series = pointData.series;\n        var isBoxPlot = series.type === 'BoxAndWhisker';\n        var symbolLocation = isBoxPlot ? this.getBoxLocation(pointData) : pointData.point.symbolLocations[0];\n        var location = new ChartLocation(symbolLocation.x, symbolLocation.y);\n        if (series.type === 'RangeArea' && pointData.point.regions[0]) {\n            if (!series.chart.requireInvertedAxis) {\n                location.y = pointData.point.regions[0].y + pointData.point.regions[0].height / 2;\n            }\n            else {\n                location.x = pointData.point.regions[0].x + pointData.point.regions[0].width / 2;\n            }\n        }\n        var width = this.elementSize.width + (2 * this.padding);\n        var height = this.elementSize.height + (2 * this.padding);\n        var bounds = this.chart.chartAxisLayoutPanel.seriesClipRect;\n        var markerHeight = 0;\n        if (!series.isRectSeries) {\n            markerHeight = (this.chart.tooltip.shared || series.marker.visible || series.type === 'Scatter'\n                || series.drawType === 'Scatter') ? ((series.marker.height + 2) / 2 + (2 * series.marker.border.width)) : 0;\n        }\n        var clipX = this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.x;\n        var clipY = this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.y;\n        var boundsX = bounds.x;\n        var boundsY = bounds.y;\n        if (!this.inverted || !series.isRectSeries) {\n            location.y = (series.type === 'Waterfall' && pointData.point.y < 0) ?\n                location.y - pointData.point.regions[0].height : location.y;\n            location = new ChartLocation(location.x + clipX - this.elementSize.width / 2 - this.padding, location.y + clipY - this.elementSize.height - (2 * this.padding) - this.arrowPadding - markerHeight);\n            arrowLocation.x = tipLocation.x = width / 2;\n            if (location.y < boundsY || (series.isRectSeries && pointData.point.y < 0 && series.type !== 'Waterfall')) {\n                location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + clipY + markerHeight;\n            }\n            if (location.y + height + this.arrowPadding > boundsY + bounds.height) {\n                location.y = (symbolLocation.y > bounds.height ? bounds.height : symbolLocation.y)\n                    + clipY - this.elementSize.height - (2 * this.padding) - this.arrowPadding - markerHeight;\n            }\n            tipLocation.x = width / 2;\n            if (location.x < boundsX) {\n                arrowLocation.x -= (boundsX - location.x);\n                tipLocation.x -= (boundsX - location.x);\n                location.x = boundsX;\n            }\n            if (location.x + width > boundsX + bounds.width) {\n                arrowLocation.x += ((location.x + width) - (boundsX + bounds.width));\n                tipLocation.x += ((location.x + width) - (boundsX + bounds.width));\n                location.x -= ((location.x + width) - (boundsX + bounds.width));\n            }\n            if (arrowLocation.x + this.arrowPadding / 2 > width - this.rx) {\n                arrowLocation.x = width - this.rx - this.arrowPadding / 2;\n                tipLocation.x = width;\n                this.tipRadius = 0;\n            }\n            if (arrowLocation.x - this.arrowPadding / 2 < this.rx) {\n                arrowLocation.x = this.rx + this.arrowPadding / 2;\n                tipLocation.x = 0;\n                this.tipRadius = 0;\n            }\n        }\n        else {\n            location.x = (series.type === 'Waterfall' && pointData.point.y < 0) ?\n                location.x + pointData.point.regions[0].width : location.x;\n            location = new ChartLocation(location.x + clipX + markerHeight, location.y + clipY - this.elementSize.height / 2 - (this.padding));\n            arrowLocation.y = tipLocation.y = height / 2;\n            if ((location.x + width + this.arrowPadding > boundsX + bounds.width) || (series.isRectSeries &&\n                pointData.point.y < 0 && series.type !== 'Waterfall')) {\n                location.x = (symbolLocation.x > bounds.width ? bounds.width : symbolLocation.x)\n                    + clipX - markerHeight - (width + this.arrowPadding);\n            }\n            if (location.x < boundsX) {\n                location.x = (symbolLocation.x < 0 ? 0 : symbolLocation.x) + clipX + markerHeight;\n            }\n            if (location.y <= boundsY) {\n                arrowLocation.y -= (boundsY - location.y);\n                tipLocation.y -= (boundsY - location.y);\n                location.y = boundsY;\n            }\n            if (location.y + height >= boundsY + bounds.height) {\n                arrowLocation.y += ((location.y + height) - (boundsY + bounds.height));\n                tipLocation.y += ((location.y + height) - (boundsY + bounds.height));\n                location.y -= ((location.y + height) - (boundsY + bounds.height));\n            }\n            if (arrowLocation.y + this.arrowPadding / 2 > height - this.ry) {\n                arrowLocation.y = height - this.ry - this.arrowPadding / 2;\n                tipLocation.y = height;\n                this.tipRadius = 0;\n            }\n            if (arrowLocation.y - this.arrowPadding / 2 < this.ry) {\n                arrowLocation.y = this.ry + this.arrowPadding / 2;\n                tipLocation.y = 0;\n                this.tipRadius = 0;\n            }\n        }\n        return new Rect(location.x, location.y, width, height);\n    };\n    Tooltip.prototype.removeHighlight = function (chart, removeRect) {\n        if (removeRect === void 0) { removeRect = false; }\n        var item;\n        for (var i = 0, len = this.previousPoints.length; i < len; i++) {\n            item = this.previousPoints[i];\n            if (item.series.isRectSeries && item.series.visible) {\n                this.highlightPoint(item.series, item.point.index, false);\n                continue;\n            }\n            if (!item.series.marker.visible && item.series.type !== 'Scatter' && item.series.type !== 'Bubble') {\n                this.previousPoints.shift();\n                len -= 1;\n            }\n        }\n    };\n    Tooltip.prototype.highlightPoints = function (item) {\n        if (item.series.isRectSeries) {\n            this.highlightPoint(item.series, item.point.index, true);\n            return null;\n        }\n    };\n    Tooltip.prototype.highlightPoint = function (series, pointIndex, highlight) {\n        var element = this.getElement(this.element.id + '_Series_' + series.index + '_Point_' + pointIndex);\n        if (element) {\n            element.setAttribute('opacity', (highlight ? series.opacity / 2 : series.opacity).toString());\n        }\n    };\n    Tooltip.prototype.getTooltipText = function (pointData, isFirst) {\n        if (isFirst === void 0) { isFirst = true; }\n        var series = pointData.series;\n        var text;\n        return this.parseTemplate(pointData.point, series, this.getFormat(this.chart, series), series.xAxis, series.yAxis);\n    };\n    Tooltip.prototype.renderText = function (isRender, chart) {\n        var height = 0;\n        var width = 0; // Padding for text;\n        var subWidth = 0;\n        var size;\n        var lines;\n        var key = 'properties';\n        var font = extend({}, this.chart.tooltip.textStyle, null, true)[key];\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var tspanElement;\n        var tspanStyle = '';\n        var line;\n        var tspanOption;\n        this.header = this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim();\n        var headerSpace = (this.header !== '' && this.formattedText[0] !== '') ? 5 : 0;\n        var isRow = true;\n        var isColumn = true;\n        this.markerPoint = [];\n        var markerSize = 10;\n        var spaceWidth = 4;\n        var dy = (22 / parseFloat(Theme.tooltipLabelFont.size)) * (parseFloat(font.size));\n        if (!isRender) {\n            removeElement(this.element.id + '_tooltip_text');\n            removeElement(this.element.id + '_header_path');\n            removeElement(this.element.id + '_tooltip_trackball_group');\n            removeElement('chart_tooltip_definition');\n        }\n        var options = new TextOption(this.element.id + '_tooltip_text', this.padding * 2, this.padding * 4, 'start', '');\n        var parentElement = textElement(options, font, null, groupElement, false);\n        for (var k = 0, pointsLength = this.formattedText.length; k < pointsLength; k++) {\n            var textCollection = this.formattedText[k].replace(/<(b|strong)>/g, '<b>')\n                .replace(/<\\/(b|strong)>/g, '</b>')\n                .split(/<br.*?>/g);\n            size = measureText(this.formattedText[k], font);\n            if ((k !== 0) || (this.header === '')) {\n                this.markerPoint.push((this.header !== '' ? (this.padding) : 0) + options.y + height);\n            }\n            for (var i = 0, len = textCollection.length; i < len; i++) {\n                lines = textCollection[i].replace(/<b>/g, '<br><b>').replace(/<\\/b>/g, '</b><br>').split('<br>');\n                subWidth = 0;\n                isColumn = true;\n                height += dy;\n                for (var k_1 = 0, len_1 = lines.length; k_1 < len_1; k_1++) {\n                    line = lines[k_1];\n                    if (line.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n                        subWidth += spaceWidth;\n                        if (isColumn && !isRow) {\n                            tspanOption = { x: (this.padding * 2) + (markerSize + 5), dy: dy + ((isColumn) ? headerSpace : 0), fill: '' };\n                            headerSpace = null;\n                        }\n                        else {\n                            if (isRow && isColumn) {\n                                tspanOption = { x: (this.header === '') ? ((this.padding * 2) + (markerSize + 5)) : (this.padding * 2) };\n                            }\n                            else {\n                                tspanOption = {};\n                            }\n                        }\n                        isColumn = false;\n                        tspanElement = chart.renderer.createTSpan(tspanOption, '');\n                        parentElement.appendChild(tspanElement);\n                        if (line.indexOf('<b>') > -1) {\n                            tspanStyle = 'font-weight:bold';\n                            font.fontWeight = 'bold';\n                            (tspanElement).setAttribute('fill', chart.tooltip.textStyle.color || '#ffffff');\n                        }\n                        else {\n                            tspanStyle = '';\n                            font.fontWeight = 'Normal';\n                            (tspanElement).setAttribute('fill', chart.tooltip.textStyle.color || '#dbdbdb');\n                        }\n                        (tspanElement).textContent = line = line.replace(/<[a-zA-Z\\/](.|\\n)*?>/g, '');\n                        subWidth += measureText(line, font).width;\n                        if (tspanStyle !== '') {\n                            tspanElement.setAttribute('style', tspanStyle);\n                        }\n                        isRow = false;\n                    }\n                }\n                subWidth -= spaceWidth;\n                width = Math.max(width, subWidth);\n            }\n        }\n        height -= (this.header ? this.padding : 0);\n        this.elementSize = new Size(width + (width > 0 ? (2 * this.padding) : 0), height + (this.header !== '' ? this.padding : 0));\n        this.elementSize.width += (markerSize + 5); // marker size + marker Spacing\n        var element = (parentElement.childNodes[0]);\n        if (this.header !== '' && element) {\n            font.fontWeight = 'bold';\n            var width_1 = (this.elementSize.width + (2 * this.padding)) / 2 - measureText(this.header, font).width / 2;\n            element.setAttribute('x', width_1.toString());\n        }\n    };\n    Tooltip.prototype.changeText = function (point, isBottom, isRight, rect) {\n        var element = document.getElementById(this.element.id + '_tooltip_text');\n        if (isBottom) {\n            element.setAttribute('transform', 'translate(0,' + this.arrowPadding + ')');\n        }\n        if (isRight) {\n            element.setAttribute('transform', 'translate(' + this.arrowPadding + ' 0)');\n        }\n        this.drawMarker(isBottom, isRight, 10);\n    };\n    Tooltip.prototype.drawMarker = function (isBottom, isRight, size) {\n        var count = 0;\n        var shapeOption;\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var markerGroup = this.chart.renderer.createGroup({ id: this.element.id + '_tooltip_trackball_group' });\n        var x = (this.padding * 2) + (size / 2) + (isRight ? this.arrowPadding : 0);\n        var series;\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n            var data = _a[_i];\n            series = data.series;\n            if (series.visible && series.enableTooltip && data.point.visible) {\n                shapeOption = new PathOption(this.element.id + '_Tooltip_Trackball_' + series.index, series.marker.fill ||\n                    ((data.point && data.point.color && data.point.color !== '#ffffff') ? data.point.color : series.interior), 1, '#cccccc', series.opacity, null);\n                markerGroup.appendChild(drawSymbol(new ChartLocation(x, this.markerPoint[count] - this.padding + (isBottom ? this.arrowPadding : 0)), series.marker.shape, new Size(size, size), series.marker.imageUrl, shapeOption, null));\n                count++;\n            }\n        }\n        groupElement.appendChild(markerGroup);\n    };\n    Tooltip.prototype.parseTemplate = function (point, series, format, xAxis, yAxis) {\n        var val;\n        var textValue;\n        var xFormat;\n        var customLabelFormat;\n        var chart = this.chart;\n        for (var _i = 0, _a = Object.keys(point); _i < _a.length; _i++) {\n            var dataValue = _a[_i];\n            val = new RegExp('${point' + '.' + dataValue + '}', 'gm');\n            format = format.replace(val.source, this.formatPointValue(point, val.source === '${point.x}' ? xAxis : yAxis, dataValue, val.source === '${point.x}', (val.source === '${point.high}' ||\n                val.source === '${point.open}' ||\n                val.source === '${point.close}' ||\n                val.source === '${point.low}' ||\n                val.source === '${point.y}' ||\n                val.source === '${point.minimum}' ||\n                val.source === '${point.maximum}' ||\n                val.source === '${point.outliers}' ||\n                val.source === '${point.upperQuartile}' ||\n                val.source === '${point.lowerQuartile}' ||\n                val.source === '${point.median}')));\n        }\n        for (var _b = 0, _c = Object.keys(Object.getPrototypeOf(series)); _b < _c.length; _b++) {\n            var dataValue = _c[_b];\n            val = new RegExp('${series' + '.' + dataValue + '}', 'gm');\n            textValue = series[dataValue];\n            format = format.replace(val.source, textValue);\n        }\n        return format;\n    };\n    Tooltip.prototype.formatPointValue = function (point, axis, dataValue, isXPoint, isYPoint) {\n        var textValue;\n        var customLabelFormat;\n        var value;\n        if (axis.valueType !== 'Category' && isXPoint) {\n            customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            textValue = customLabelFormat ? axis.labelFormat.replace('{value}', axis.format(point[dataValue])) :\n                axis.format(point[dataValue]);\n        }\n        else if (isYPoint) {\n            customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            value = dataValue === 'outliers' ? axis.format(point[dataValue][this.lierIndex - 4]) :\n                axis.format(point[dataValue]);\n            textValue = customLabelFormat ? axis.labelFormat.replace('{value}', value) : value;\n        }\n        else {\n            textValue = point[dataValue];\n        }\n        return textValue;\n    };\n    Tooltip.prototype.getFormat = function (chart, series) {\n        if (chart.tooltip.format) {\n            if (series.seriesType === 'XY' && series.category === 'Indicator') {\n                return this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n            }\n            return chart.tooltip.format;\n        }\n        var format = !chart.tooltip.shared ? '${point.x}' : '${series.name}';\n        switch (series.seriesType) {\n            case 'XY':\n                if (series.category === 'Indicator') {\n                    this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n                }\n                return format + ' : ' + ((series.type === 'Bubble') ? '<b>${point.y}</b>  Size : <b>${point.size}</b>'\n                    : '<b>${point.y}</b>');\n            case 'HighLow':\n                return format + ('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>');\n            case 'HighLowOpenClose':\n                return format + ('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>' +\n                    'Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>');\n            case 'BoxPlot': {\n                return format + '<br/>' + (this.lierIndex > 3 ? 'Outliers : <b>${point.outliers}</b>' :\n                    'Maximum : <b>${point.maximum}</b><br/>Q1 : <b>${point.upperQuartile}</b><br/>' +\n                        'Median : <b>${point.median}</b><br/>Q3 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>');\n            }\n        }\n        return '';\n    };\n    Tooltip.prototype.getIndicatorTooltipFormat = function (series, chart, format) {\n        var toolTip;\n        var points = [];\n        if (series.seriesType === 'XY') {\n            toolTip = series.name + ' : ${point.y}';\n        }\n        else {\n            toolTip = format;\n        }\n        return toolTip;\n    };\n    Tooltip.prototype.stopAnimation = function () {\n        stopTimer(this.toolTipInterval);\n    };\n    /**\n     * Removes the tooltip on mouse leave.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.removeTooltip = function (duration) {\n        var _this = this;\n        var chart = this.chart;\n        var tooltipElement = this.getElement(this.element.id + '_tooltip');\n        this.stopAnimation();\n        if (tooltipElement && this.previousPoints.length > 0) {\n            var data_1 = this.previousPoints;\n            this.toolTipInterval = setTimeout(function () {\n                var series = data_1[0].series;\n                var tooltipGroup = tooltipElement.firstChild;\n                var opacity = parseFloat(tooltipGroup.getAttribute('opacity')) || 1;\n                var element = _this.getElement(chart.element.id + '_Series_' + data_1[0].series.index\n                    + '_Point_' + data_1[0].point.index);\n                var rectOpacity;\n                if (element && series.isRectSeries && !chart.tooltip.shared) {\n                    rectOpacity = parseFloat(element.getAttribute('opacity'));\n                }\n                new Animation({}).animate(tooltipGroup, {\n                    duration: 200,\n                    progress: function (args) {\n                        //  tooltipGroup.removeAttribute('e-animate');\n                        tooltipGroup.style.animation = '';\n                        tooltipGroup.setAttribute('opacity', (opacity - (args.timeStamp / args.duration)).toString());\n                        if (element && series.isRectSeries && !chart.tooltip.shared) {\n                            element.setAttribute('opacity', (rectOpacity + (rectOpacity * (args.timeStamp / args.duration))).toString());\n                        }\n                    },\n                    end: function (model) {\n                        _this.valueX = null;\n                        _this.valueY = null;\n                        _this.currentPoints = [];\n                        if (element && series.isRectSeries && !chart.tooltip.shared) {\n                            element.setAttribute('opacity', series.opacity.toString());\n                        }\n                        _this.removeHighlight(chart, chart.tooltip.shared);\n                        _this.removeHighlightedMarker(data_1);\n                        tooltipGroup.setAttribute('opacity', '0');\n                        if (chart.tooltip.template && !chart.tooltip.shared) {\n                            tooltipGroup.style.display = 'none';\n                        }\n                        chart.trigger('animationComplete', {});\n                        _this.isComplete = true;\n                    }\n                });\n            }, duration);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Tooltip.prototype.removeHighlightedMarker = function (data) {\n        for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {\n            var item = data_2[_i];\n            removeElement(this.element.id + '_Series_' + item.series.index +\n                '_Point_' + item.point.index + '_Trackball');\n        }\n        if (this.chart.markerRender) {\n            this.chart.markerRender.removeHighlightedMarker();\n        }\n        this.previousPoints = [];\n    };\n    Tooltip.prototype.animateTooltipDiv = function (tooltipDiv, rect) {\n        var _this = this;\n        var x = parseFloat(tooltipDiv.style.left);\n        var y = parseFloat(tooltipDiv.style.top);\n        var currenDiff;\n        new Animation({}).animate(tooltipDiv, {\n            duration: 300,\n            progress: function (args) {\n                currenDiff = (args.timeStamp / args.duration);\n                tooltipDiv.style.animation = null;\n                tooltipDiv.style.left = (x + currenDiff * (rect.x - x)) + 'px';\n                tooltipDiv.style.top = (y + currenDiff * (rect.y - y)) + 'px';\n            },\n            end: function (model) {\n                _this.updateDiv(tooltipDiv, rect.x, rect.y);\n            }\n        });\n    };\n    Tooltip.prototype.updateDiv = function (tooltipDiv, x, y) {\n        tooltipDiv.style.left = x + 'px';\n        tooltipDiv.style.top = y + 'px';\n    };\n    /**\n     * Get module name.\n     */\n    Tooltip.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Tooltip';\n    };\n    /**\n     * To destroy the tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Tooltip;\n}(Data));\nexport { Tooltip };\n","import { EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { removeElement, measureText, RectOption, Rect, PolygonOption, PathOption, createTooltip, minMax } from '../../common/utils/helper';\nimport { textElement, TextOption } from '../../common/utils/helper';\n/**\n * Zooming Toolkit created here\n * @private\n */\nvar Toolkit = /** @class */ (function () {\n    /** @private */\n    function Toolkit(chart) {\n        this.chart = chart;\n        this.elementId = chart.element.id;\n        this.selectionColor = '#ff4081';\n        this.fillColor = '#737373';\n    }\n    /**\n     * To create the pan button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createPanButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.chart.zoomModule.isPanning ? this.selectionColor : this.fillColor;\n        var direction = 'M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,';\n        direction += '11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z';\n        childElement.id = this.elementId + '_Zooming_Pan';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('Pan'));\n        this.panElements = childElement;\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Pan_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Pan_2', fillColor, null, null, 1, null, direction)));\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.pan);\n    };\n    /**\n     * To create the zoom button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createZoomButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.chart.zoomModule.isPanning ? this.fillColor : this.selectionColor;\n        var direction = 'M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,';\n        direction += '5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571';\n        direction = direction + 'L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,';\n        childElement.id = this.elementId + '_Zooming_Zoom';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('Zoom'));\n        this.zoomElements = childElement;\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Zoom_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Zoom_3', fillColor, null, null, 1, null, direction + '4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z')));\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoom);\n    };\n    /**\n     * To create the ZoomIn button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createZoomInButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.fillColor;\n        var direction = 'M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,';\n        direction += '14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,';\n        direction += '5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,';\n        childElement.id = this.elementId + '_Zooming_ZoomIn';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('ZoomIn'));\n        var polygonDirection = '12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466';\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_ZoomIn_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_ZoomIn_2', fillColor, null, null, 1, null, direction + '4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z')));\n        childElement.appendChild(render.drawPolygon(new PolygonOption(this.elementId + '_Zooming_ZoomIn_3', polygonDirection + ' 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466', fillColor)));\n        this.zoomInElements = childElement;\n        this.elementOpacity = chart.zoomModule.isPanning ? '0.2' : '1';\n        childElement.setAttribute('opacity', this.elementOpacity);\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoomIn);\n    };\n    /**\n     * To create the ZoomOut button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createZoomOutButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.fillColor;\n        var direction = 'M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,';\n        direction += '1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,';\n        direction += '1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,';\n        childElement.id = this.elementId + '_Zooming_ZoomOut';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('ZoomOut'));\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_ZoomOut_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_ZoomOut_2', fillColor, null, null, 1, null, direction + '4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z')));\n        this.zoomOutElements = childElement;\n        this.elementOpacity = chart.zoomModule.isPanning ? '0.2' : '1';\n        childElement.setAttribute('opacity', this.elementOpacity);\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoomOut);\n    };\n    /**\n     * To create the Reset button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createResetButton = function (childElement, parentElement, chart, isDevice) {\n        var render = this.chart.renderer;\n        var fillColor = this.fillColor;\n        var size;\n        var direction = 'M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,';\n        direction += '1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,';\n        direction += '13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,';\n        childElement.id = this.elementId + '_Zooming_Reset';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('Reset'));\n        if (!isDevice) {\n            childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Reset_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n            childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Reset_2', fillColor, null, null, 1, null, direction + '3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z')));\n        }\n        else {\n            size = measureText(this.chart.getLocalizedLabel('ResetZoom'), { size: '12px' });\n            childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Reset_1', 'transparent', {}, 1, new Rect(0, 0, size.width, size.height))));\n            textElement(new TextOption(this.elementId + '_Zooming_Reset_2', 0 + size.width / 2, 0 + size.height * 3 / 4, 'middle', this.chart.getLocalizedLabel('ResetZoom'), 'rotate(0,' + (0) + ',' + (0) + ')', 'auto'), { size: '12px' }, 'black', childElement);\n        }\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.reset);\n    };\n    /**\n     * To bind events.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.wireEvents = function (element, process) {\n        EventHandler.add(element, 'mousedown touchstart', process, this);\n        EventHandler.add(element, 'mouseover', this.showTooltip, this);\n        EventHandler.add(element, 'mouseout', this.removeTooltip, this);\n    };\n    /**\n     * To show tooltip.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.showTooltip = function (event) {\n        var text = event.currentTarget.id.split('_Zooming_')[1];\n        var left = (event.pageX - (measureText(text, { size: '10px' }).width + 5));\n        if (!this.chart.isTouch) {\n            createTooltip('EJ2_Chart_ZoomTip', this.chart.getLocalizedLabel(text), (event.pageY + 10), left, '10px');\n        }\n    };\n    /** @private */\n    Toolkit.prototype.removeTooltip = function () {\n        removeElement('EJ2_Chart_ZoomTip');\n    };\n    // Toolkit events function calculation here.\n    /** @private */\n    Toolkit.prototype.reset = function () {\n        var chart = this.chart;\n        if (!chart.zoomModule.isDevice) {\n            remove(chart.zoomModule.toolkitElements);\n        }\n        this.removeTooltip();\n        chart.svgObject.setAttribute('cursor', 'auto');\n        chart.axisCollections.forEach(function (axis) {\n            axis.zoomFactor = 1;\n            axis.zoomPosition = 0;\n        });\n        chart.disableTrackTooltip = false;\n        chart.zoomModule.isZoomed = chart.zoomModule.isPanning = chart.isChartDrag = chart.delayRedraw = false;\n        chart.zoomModule.touchMoveList = chart.zoomModule.touchStartList = [];\n        chart.zoomModule.pinchTarget = null;\n        chart.removeSvg();\n        chart.refreshAxis();\n        chart.refreshBound();\n        this.elementOpacity = '1';\n        return false;\n    };\n    Toolkit.prototype.zoomIn = function (e) {\n        this.zoomInOutCalculation(1, this.chart, this.chart.axisCollections, this.chart.zoomSettings.mode);\n        return false;\n    };\n    Toolkit.prototype.zoomOut = function (e) {\n        this.zoomInOutCalculation(-1, this.chart, this.chart.axisCollections, this.chart.zoomSettings.mode);\n        return false;\n    };\n    Toolkit.prototype.zoom = function (e) {\n        this.chart.zoomModule.isPanning = false;\n        var zoomModule = this.chart.zoomModule;\n        this.elementOpacity = '1';\n        this.chart.svgObject.setAttribute('cursor', 'auto');\n        this.zoomInElements.setAttribute('opacity', this.elementOpacity);\n        this.zoomOutElements.setAttribute('opacity', this.elementOpacity);\n        this.applySelection(this.zoomElements.childNodes, this.selectionColor);\n        this.applySelection(this.panElements.childNodes, '#737373');\n        return false;\n    };\n    /** @private */\n    Toolkit.prototype.pan = function () {\n        var zoomModule = this.chart.zoomModule;\n        var element;\n        this.chart.zoomModule.isPanning = true;\n        this.chart.svgObject.setAttribute('cursor', 'pointer');\n        this.elementOpacity = '0.2';\n        element = this.zoomInElements ? this.zoomInElements.setAttribute('opacity', this.elementOpacity) : null;\n        element = this.zoomOutElements ? this.zoomOutElements.setAttribute('opacity', this.elementOpacity) : null;\n        element = this.panElements ? this.applySelection(this.panElements.childNodes, this.selectionColor) : null;\n        element = this.zoomElements ? this.applySelection(this.zoomElements.childNodes, '#737373') : null;\n        return false;\n    };\n    Toolkit.prototype.zoomInOutCalculation = function (scale, chart, axes, mode) {\n        if (!chart.zoomModule.isPanning && this.elementOpacity !== '0.2') {\n            var zoomFactor_1;\n            var zoomPosition_1;\n            var cumulative_1;\n            chart.disableTrackTooltip = true;\n            chart.delayRedraw = true;\n            axes.forEach(function (axis) {\n                if ((axis.orientation === 'Horizontal' && mode !== 'Y') ||\n                    (axis.orientation === 'Vertical' && mode !== 'X')) {\n                    cumulative_1 = Math.max(Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1) + (0.25 * scale), 1);\n                    zoomFactor_1 = (cumulative_1 === 1) ? 1 : minMax(1 / cumulative_1, 0, 1);\n                    zoomPosition_1 = (cumulative_1 === 1) ? 0 : axis.zoomPosition + ((axis.zoomFactor - zoomFactor_1) * 0.5);\n                    if (axis.zoomPosition !== zoomPosition_1 || axis.zoomFactor !== zoomFactor_1) {\n                        zoomFactor_1 = (zoomPosition_1 + zoomFactor_1) > 1 ? (1 - zoomPosition_1) : zoomFactor_1;\n                    }\n                    axis.zoomFactor = zoomFactor_1;\n                    axis.zoomPosition = zoomPosition_1;\n                }\n            });\n        }\n    };\n    Toolkit.prototype.applySelection = function (elements, color) {\n        for (var i = 1, length_1 = elements.length; i < length_1; i++) {\n            elements[i].setAttribute('fill', color);\n        }\n    };\n    return Toolkit;\n}());\nexport { Toolkit };\n","import { EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { getRectLocation, minMax, getElement, ChartLocation, Rect, RectOption, measureText } from '../../common/utils/helper';\nimport { Toolkit } from './zooming-toolkit';\nimport { Theme } from '../../common/model/theme';\nimport { zoomComplete } from '../../common/model/constants';\nimport { withInBounds } from '../../common/utils/helper';\n/**\n * Zooming Module handles the zooming for chart.\n */\nvar Zoom = /** @class */ (function () {\n    /**\n     * Constructor for Zooming module.\n     * @private.\n     */\n    function Zoom(chart) {\n        this.chart = chart;\n        this.isPointer = Browser.isPointer;\n        this.browserName = Browser.info.name;\n        this.wheelEvent = this.browserName === 'mozilla' ? (this.isPointer ? 'mousewheel' : 'DOMMouseScroll') : 'mousewheel';\n        this.cancelEvent = this.isPointer ? 'pointerleave' : 'mouseleave';\n        this.addEventListener();\n        this.isDevice = Browser.isDevice;\n        var zooming = chart.zoomSettings;\n        this.toolkit = new Toolkit(chart);\n        this.zooming = zooming;\n        this.elementId = chart.element.id;\n        this.zoomingRect = new Rect(0, 0, 0, 0);\n        this.zoomAxes = [];\n        this.zoomkitOpacity = 0.3;\n        this.isIOS = Browser.isIos || Browser.isIos7;\n    }\n    /**\n     * Function that handles the Rectangular zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.renderZooming = function (e, chart, isTouch) {\n        this.calculateZoomAxesRange(chart, chart.axisCollections);\n        if (this.zooming.enableSelectionZooming && (!isTouch\n            || (chart.isDoubleTap && this.touchStartList.length === 1)) && (!this.isPanning || chart.isDoubleTap)) {\n            this.isPanning = this.isDevice ? true : this.isPanning;\n            this.drawZoomingRectangle(chart);\n        }\n        else if (this.isPanning && chart.isChartDrag) {\n            if (!isTouch || (isTouch && this.touchStartList.length === 1)) {\n                this.pinchTarget = isTouch ? e.target : null;\n                this.doPan(chart, chart.axisCollections);\n            }\n        }\n        chart.startMove = (chart.startMove) ? !this.isPanning : chart.startMove;\n    };\n    // Zooming rectangle drawn here\n    Zoom.prototype.drawZoomingRectangle = function (chart) {\n        var areaBounds = chart.chartAxisLayoutPanel.seriesClipRect;\n        var startLocation = new ChartLocation(chart.previousMouseMoveX, chart.previousMouseMoveY);\n        var endLocation = new ChartLocation(chart.mouseX, chart.mouseY);\n        var rect = this.zoomingRect = getRectLocation(startLocation, endLocation, areaBounds);\n        if (rect.width > 0 && rect.height > 0) {\n            this.isZoomed = true;\n            chart.disableTrackTooltip = true;\n            chart.svgObject.setAttribute('cursor', 'crosshair');\n            if (this.zooming.mode === 'X') {\n                rect.height = areaBounds.height;\n                rect.y = areaBounds.y;\n            }\n            else if (this.zooming.mode === 'Y') {\n                rect.width = areaBounds.width;\n                rect.x = areaBounds.x;\n            }\n            chart.svgObject.appendChild(chart.renderer.drawRectangle(new RectOption(this.elementId + '_ZoomArea', Theme.selectionRectFill, { color: Theme.selectionRectStroke, width: 1 }, 1, rect, 0, 0, '', '3')));\n        }\n    };\n    // Panning performed here\n    Zoom.prototype.doPan = function (chart, axes) {\n        var currentScale;\n        var offset;\n        this.isZoomed = true;\n        var translateX;\n        var translateY;\n        this.offset = !chart.delayRedraw ? chart.chartAxisLayoutPanel.seriesClipRect : this.offset;\n        chart.delayRedraw = true;\n        chart.disableTrackTooltip = true;\n        axes.forEach(function (axis) {\n            currentScale = Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1);\n            if (axis.orientation === 'Horizontal') {\n                offset = (chart.previousMouseMoveX - chart.mouseX) / axis.rect.width / currentScale;\n                axis.zoomPosition = minMax(axis.zoomPosition + offset, 0, (1 - axis.zoomFactor));\n            }\n            else {\n                offset = (chart.previousMouseMoveY - chart.mouseY) / axis.rect.height / currentScale;\n                axis.zoomPosition = minMax(axis.zoomPosition - offset, 0, (1 - axis.zoomFactor));\n            }\n        });\n        if (this.zooming.enableDeferredZooming) {\n            translateX = chart.mouseX - chart.mouseDownX;\n            translateY = chart.mouseY - chart.mouseDownY;\n            switch (this.zooming.mode) {\n                case 'X':\n                    translateY = 0;\n                    break;\n                case 'Y':\n                    translateX = 0;\n                    break;\n            }\n            this.setTransform(translateX, translateY, null, null, chart, false);\n            this.refreshAxis(chart.chartAxisLayoutPanel, chart, chart.axisCollections);\n        }\n        else {\n            this.performZoomRedraw(chart);\n        }\n        chart.previousMouseMoveX = chart.mouseX;\n        chart.previousMouseMoveY = chart.mouseY;\n    };\n    /**\n     * Redraw the chart on zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.performZoomRedraw = function (chart) {\n        var rect = this.zoomingRect;\n        chart.animateSeries = false;\n        if (this.isZoomed) {\n            if (rect.width > 0 && rect.height > 0) {\n                chart.svgObject.setAttribute('cursor', 'auto');\n                this.doZoom(chart, chart.axisCollections, chart.chartAxisLayoutPanel.seriesClipRect);\n                chart.isDoubleTap = false;\n            }\n            else if (chart.disableTrackTooltip) {\n                chart.disableTrackTooltip = false;\n                chart.delayRedraw = false;\n                chart.removeSvg();\n                chart.refreshAxis();\n                chart.refreshBound();\n            }\n        }\n    };\n    Zoom.prototype.refreshAxis = function (layout, chart, axes) {\n        var mode = chart.zoomSettings.mode;\n        layout.measureAxis(new Rect(chart.initialClipRect.x, chart.initialClipRect.y, chart.initialClipRect.width, chart.initialClipRect.height));\n        axes.map(function (axis, index) {\n            if (axis.orientation === 'Horizontal' && mode !== 'Y') {\n                layout.drawXAxisLabels(axis, index);\n            }\n            if (axis.orientation === 'Vertical' && mode !== 'X') {\n                layout.drawYAxisLabels(axis, index);\n            }\n        });\n    };\n    // Rectangular zoom calculated here performed here\n    Zoom.prototype.doZoom = function (chart, axes, bounds) {\n        var zoomRect = this.zoomingRect;\n        var mode = this.zooming.mode;\n        var argsData;\n        var previousZF;\n        var previousZP;\n        var currentZF;\n        var currentZP;\n        axes.forEach(function (axis) {\n            previousZF = currentZF = axis.zoomFactor;\n            previousZP = currentZP = axis.zoomPosition;\n            argsData = {\n                cancel: false, name: zoomComplete, axis: axis, previousZoomFactor: previousZF, previousZoomPosition: previousZP,\n                currentZoomFactor: currentZF, currentZoomPosition: currentZP\n            };\n            if (axis.orientation === 'Horizontal') {\n                if (mode !== 'Y') {\n                    currentZP += Math.abs((zoomRect.x - bounds.x) / (bounds.width)) * axis.zoomFactor;\n                    currentZF *= (zoomRect.width / bounds.width);\n                    argsData.currentZoomPosition = currentZP;\n                    argsData.currentZoomFactor = currentZF;\n                    chart.trigger(zoomComplete, argsData);\n                }\n            }\n            else {\n                if (mode !== 'X') {\n                    currentZP += (1 - Math.abs((zoomRect.height + (zoomRect.y - bounds.y)) / (bounds.height))) * axis.zoomFactor;\n                    currentZF *= (zoomRect.height / bounds.height);\n                    argsData.currentZoomFactor = currentZF;\n                    argsData.currentZoomPosition = currentZP;\n                    chart.trigger(zoomComplete, argsData);\n                }\n            }\n            if (!argsData.cancel) {\n                axis.zoomFactor = argsData.currentZoomFactor;\n                axis.zoomPosition = argsData.currentZoomPosition;\n            }\n        });\n        this.zoomingRect = new Rect(0, 0, 0, 0);\n        this.performZoomRedraw(chart);\n    };\n    /**\n     * Function that handles the Mouse wheel zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.performMouseWheelZooming = function (e, mouseX, mouseY, chart, axes) {\n        var direction = (this.browserName === 'mozilla' && !this.isPointer) ?\n            -(e.detail) / 3 > 0 ? 1 : -1 : (e.wheelDelta / 120) > 0 ? 1 : -1;\n        var mode = this.zooming.mode;\n        var origin = 0.5;\n        var cumulative;\n        var zoomFactor;\n        var zoomPosition;\n        this.isZoomed = true;\n        this.calculateZoomAxesRange(chart, chart.axisCollections);\n        chart.disableTrackTooltip = true;\n        axes.forEach(function (axis) {\n            if ((axis.orientation === 'Vertical' && mode !== 'X') ||\n                (axis.orientation === 'Horizontal' && mode !== 'Y')) {\n                cumulative = Math.max(Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1) + (0.25 * direction), 1);\n                if (cumulative >= 1) {\n                    origin = axis.orientation === 'Horizontal' ? mouseX / axis.rect.width : 1 - (mouseY / axis.rect.height);\n                    origin = origin > 1 ? 1 : origin < 0 ? 0 : origin;\n                    zoomFactor = (cumulative === 1) ? 1 : minMax(1 / cumulative, 0, 1);\n                    zoomPosition = (cumulative === 1) ? 0 : axis.zoomPosition + ((axis.zoomFactor - zoomFactor) * origin);\n                    if (axis.zoomPosition !== zoomPosition || axis.zoomFactor !== zoomFactor) {\n                        zoomFactor = (zoomPosition + zoomFactor) > 1 ? (1 - zoomPosition) : zoomFactor;\n                    }\n                }\n                axis.zoomFactor = zoomFactor;\n                axis.zoomPosition = zoomPosition;\n            }\n        });\n        this.performZoomRedraw(chart);\n    };\n    /**\n     * Function that handles the Pinch zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.performPinchZooming = function (e, chart) {\n        if (this.zoomingRect.width > 0 && this.zoomingRect.height > 0) {\n            return false;\n        }\n        this.calculateZoomAxesRange(chart, chart.axisCollections);\n        this.isZoomed = true;\n        this.isPanning = true;\n        this.offset = !chart.delayRedraw ? chart.chartAxisLayoutPanel.seriesClipRect : this.offset;\n        chart.delayRedraw = true;\n        chart.disableTrackTooltip = true;\n        var elementOffset = chart.element.getBoundingClientRect();\n        var touchDown = this.touchStartList;\n        var touchMove = this.touchMoveList;\n        var touch0StartX = touchDown[0].pageX - elementOffset.left;\n        var touch0StartY = touchDown[0].pageY - elementOffset.top;\n        var touch0EndX = touchMove[0].pageX - elementOffset.left;\n        var touch0EndY = touchMove[0].pageY - elementOffset.top;\n        var touch1StartX = touchDown[1].pageX - elementOffset.left;\n        var touch1StartY = touchDown[1].pageY - elementOffset.top;\n        var touch1EndX = touchMove[1].pageX - elementOffset.left;\n        var touch1EndY = touchMove[1].pageY - elementOffset.top;\n        var scaleX;\n        var scaleY;\n        var translateXValue;\n        var translateYValue;\n        var pinchRect;\n        var clipX;\n        var clipY;\n        scaleX = Math.abs(touch0EndX - touch1EndX) / Math.abs(touch0StartX - touch1StartX);\n        scaleY = Math.abs(touch0EndY - touch1EndY) / Math.abs(touch0StartY - touch1StartY);\n        clipX = ((this.offset.x - touch0EndX) / scaleX) + touch0StartX;\n        clipY = ((this.offset.y - touch0EndY) / scaleY) + touch0StartY;\n        pinchRect = new Rect(clipX, clipY, this.offset.width / scaleX, this.offset.height / scaleY);\n        translateXValue = (touch0EndX - (scaleX * touch0StartX));\n        translateYValue = (touch0EndY - (scaleY * touch0StartY));\n        if (!isNaN(scaleX - scaleX) && !isNaN(scaleY - scaleY)) {\n            switch (this.zooming.mode) {\n                case 'XY':\n                    this.setTransform(translateXValue, translateYValue, scaleX, scaleY, chart, true);\n                    break;\n                case 'X':\n                    this.setTransform(translateXValue, 0, scaleX, 1, chart, true);\n                    break;\n                case 'Y':\n                    this.setTransform(0, translateYValue, 1, scaleY, chart, true);\n                    break;\n            }\n        }\n        this.calculatePinchZoomFactor(chart, pinchRect);\n        this.refreshAxis(chart.chartAxisLayoutPanel, chart, chart.axisCollections);\n        chart.startMove = (chart.startMove) ? !this.isPanning : chart.startMove;\n        return true;\n    };\n    Zoom.prototype.calculatePinchZoomFactor = function (chart, pinchRect) {\n        var _this = this;\n        var mode = this.zooming.mode;\n        var selectionMin;\n        var selectionMax;\n        var rangeMin;\n        var rangeMax;\n        var value;\n        var axisTrans;\n        chart.axisCollections.forEach(function (axis, index) {\n            if ((axis.orientation === 'Horizontal' && mode !== 'Y') ||\n                (axis.orientation === 'Vertical' && mode !== 'X')) {\n                if (axis.orientation === 'Horizontal') {\n                    value = pinchRect.x - _this.offset.x;\n                    axisTrans = axis.rect.width / _this.zoomAxes[index].delta;\n                    rangeMin = value / axisTrans + _this.zoomAxes[index].min;\n                    value = pinchRect.x + pinchRect.width - _this.offset.x;\n                    rangeMax = value / axisTrans + _this.zoomAxes[index].min;\n                }\n                else {\n                    value = pinchRect.y - _this.offset.y;\n                    axisTrans = axis.rect.height / _this.zoomAxes[index].delta;\n                    rangeMin = (value * -1 + axis.rect.height) / axisTrans + _this.zoomAxes[index].min;\n                    value = pinchRect.y + pinchRect.height - _this.offset.y;\n                    rangeMax = (value * -1 + axis.rect.height) / axisTrans + _this.zoomAxes[index].min;\n                }\n                selectionMin = Math.min(rangeMin, rangeMax);\n                selectionMax = Math.max(rangeMin, rangeMax);\n                axis.zoomPosition = (selectionMin - _this.zoomAxes[index].actualMin) / _this.zoomAxes[index].actualDelta;\n                axis.zoomFactor = (selectionMax - selectionMin) / _this.zoomAxes[index].actualDelta;\n                axis.zoomPosition = axis.zoomPosition < 0 ? 0 : axis.zoomPosition;\n                axis.zoomFactor = axis.zoomFactor > 1 ? 1 : axis.zoomFactor;\n            }\n        });\n    };\n    // Series transformation style applied here.\n    Zoom.prototype.setTransform = function (transX, transY, scaleX, scaleY, chart, isPinch) {\n        chart.seriesElements.setAttribute('clip-path', 'url(#' + this.elementId + '_ChartAreaClipRect_)');\n        var translate;\n        var xAxisLoc;\n        var yAxisLoc;\n        var element;\n        if (transX !== null && transY !== null) {\n            chart.visibleSeries.forEach(function (value) {\n                xAxisLoc = chart.requireInvertedAxis ? value.yAxis.rect.x : value.xAxis.rect.x;\n                yAxisLoc = chart.requireInvertedAxis ? value.xAxis.rect.y : value.yAxis.rect.y;\n                translate = 'translate(' + (transX + (isPinch ? (scaleX * xAxisLoc) : xAxisLoc)) +\n                    ',' + (transY + (isPinch ? (scaleY * yAxisLoc) : yAxisLoc)) + ')';\n                translate = (scaleX || scaleY) ? translate + ' scale(' + scaleX + ' ' + scaleY + ')' : translate;\n                value.seriesElement.setAttribute('transform', translate);\n                element = getElement(chart.element.id + '_Series_' + value.index + '_DataLabelCollections');\n                if (value.errorBarElement) {\n                    value.errorBarElement.setAttribute('transform', translate);\n                }\n                if (value.symbolElement) {\n                    value.symbolElement.setAttribute('transform', translate);\n                }\n                if (value.textElement) {\n                    value.textElement.setAttribute('visibility', 'hidden');\n                    value.shapeElement.setAttribute('visibility', 'hidden');\n                }\n                if (element) {\n                    element.style.visibility = 'hidden';\n                }\n            });\n        }\n    };\n    Zoom.prototype.calculateZoomAxesRange = function (chart, axes) {\n        var _this = this;\n        var range;\n        var axisRange;\n        chart.axisCollections.forEach(function (axis, index) {\n            axisRange = axis.visibleRange;\n            if (_this.zoomAxes[index]) {\n                if (!chart.delayRedraw) {\n                    _this.zoomAxes[index].min = axisRange.min;\n                    _this.zoomAxes[index].delta = axisRange.delta;\n                }\n            }\n            else {\n                range = {\n                    actualMin: axis.actualRange.min,\n                    actualDelta: axis.actualRange.delta,\n                    min: axisRange.min,\n                    delta: axisRange.delta\n                };\n                _this.zoomAxes[index] = range;\n            }\n        });\n    };\n    // Zooming Toolkit created here\n    Zoom.prototype.showZoomingToolkit = function (chart) {\n        var toolboxItems = this.zooming.toolbarItems;\n        var areaBounds = chart.chartAxisLayoutPanel.seriesClipRect;\n        var spacing = 5;\n        var render = chart.renderer;\n        var length = this.isDevice ? 1 : toolboxItems.length;\n        var iconSize = this.isDevice ? measureText('Reset Zoom', { size: '12px' }).width : 16;\n        var height = this.isDevice ? measureText('Reset Zoom', { size: '12px' }).height : 22;\n        var width = (length * iconSize) + ((length + 1) * spacing) + ((length - 1) * spacing);\n        var transX = areaBounds.x + areaBounds.width - width - spacing;\n        var transY = (areaBounds.y + spacing);\n        var xPosition = spacing;\n        var outerElement;\n        var toolkit = this.toolkit;\n        var element;\n        var shadowElement = '<filter id=\"chart_shadow\" height=\"130%\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"5\"/>';\n        shadowElement += '<feOffset dx=\"-3\" dy=\"4\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"1\"/>';\n        shadowElement += '</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n        if (length === 0 || getElement(this.elementId + '_Zooming_KitCollection')) {\n            return false;\n        }\n        var defElement = render.createDefs();\n        toolboxItems = this.isDevice ? ['Reset'] : toolboxItems;\n        defElement.innerHTML = shadowElement;\n        this.toolkitElements = render.createGroup({\n            id: this.elementId + '_Zooming_KitCollection',\n            transform: 'translate(' + transX + ',' + transY + ')'\n        });\n        this.toolkitElements.appendChild(defElement);\n        this.toolkitElements.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Rect', '#fafafa', { color: 'transparent', width: 1 }, 1, new Rect(0, 0, width, (height + (spacing * 2))), 0, 0)));\n        outerElement = render.drawRectangle(new RectOption(this.elementId + '_Zooming_Rect', '#fafafa', { color: 'transparent', width: 1 }, 0.1, new Rect(0, 0, width, (height + (spacing * 2))), 0, 0));\n        outerElement.setAttribute('filter', 'url(#chart_shadow)');\n        this.toolkitElements.appendChild(outerElement);\n        var currentItem;\n        for (var i = 1; i <= length; i++) {\n            currentItem = toolboxItems[i - 1];\n            element = render.createGroup({\n                transform: 'translate(' + xPosition + ',' + (this.isDevice ? spacing : (spacing + 3)) + ')'\n            });\n            // for desktop toolkit hight is 32 and top padding is 8 icon size 16\n            switch (currentItem) {\n                case 'Pan':\n                    toolkit.createPanButton(element, this.toolkitElements, chart);\n                    break;\n                case 'Zoom':\n                    toolkit.createZoomButton(element, this.toolkitElements, chart);\n                    break;\n                case 'ZoomIn':\n                    toolkit.createZoomInButton(element, this.toolkitElements, chart);\n                    break;\n                case 'ZoomOut':\n                    toolkit.createZoomOutButton(element, this.toolkitElements, chart);\n                    break;\n                case 'Reset':\n                    toolkit.createResetButton(element, this.toolkitElements, chart, this.isDevice);\n                    break;\n            }\n            xPosition += iconSize + (spacing * 2);\n        }\n        this.toolkitElements.setAttribute('opacity', this.isDevice ? '1' : '' + this.zoomkitOpacity);\n        this.toolkitElements.setAttribute('cursor', 'auto');\n        chart.svgObject.appendChild(this.toolkitElements);\n        if (!this.isDevice) {\n            EventHandler.add(this.toolkitElements, 'mousemove touchstart', this.zoomToolkitMove, this);\n            EventHandler.add(this.toolkitElements, 'mouseleave touchend', this.zoomToolkitLeave, this);\n            if (this.isPanning) {\n                toolkit.pan();\n            }\n        }\n        return true;\n    };\n    /**\n     * To the show the zooming toolkit.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.applyZoomToolkit = function (chart, axes) {\n        var showToolkit = false;\n        axes.forEach(function (axis) {\n            showToolkit = (showToolkit || (axis.zoomFactor !== 1 || axis.zoomPosition !== 0));\n        });\n        if (showToolkit) {\n            this.showZoomingToolkit(chart);\n            this.isZoomed = true;\n        }\n        else {\n            this.toolkit.removeTooltip();\n            this.isPanning = false;\n            this.isZoomed = false;\n        }\n    };\n    Zoom.prototype.zoomToolkitMove = function (e) {\n        var element = this.toolkitElements;\n        var opacity = +element.getAttribute('opacity');\n        this.zoomkitOpacity = 1;\n        element.setAttribute('opacity', '' + this.zoomkitOpacity);\n        return false;\n    };\n    Zoom.prototype.zoomToolkitLeave = function (e) {\n        var element = this.toolkitElements;\n        this.zoomkitOpacity = 0.3;\n        element.setAttribute('opacity', '' + this.zoomkitOpacity);\n        return false;\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        EventHandler.add(this.chart.element, this.wheelEvent, this.chartMouseWheel, this);\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchStartEvent, this.mouseDownHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n        this.chart.on(this.cancelEvent, this.mouseCancelHandler, this);\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        EventHandler.remove(this.chart.element, this.wheelEvent, this.chartMouseWheel);\n        this.chart.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n        this.chart.off(Browser.touchStartEvent, this.mouseDownHandler);\n        this.chart.off(Browser.touchEndEvent, this.mouseUpHandler);\n        this.chart.off(this.cancelEvent, this.mouseCancelHandler);\n    };\n    /**\n     * Handles the mouse wheel on chart.\n     * @return {boolean}\n     * @private\n     */\n    Zoom.prototype.chartMouseWheel = function (e) {\n        var chart = this.chart;\n        var offset = chart.element.getBoundingClientRect();\n        var svgRect = getElement(chart.element.id + '_svg').getBoundingClientRect();\n        var mouseX = (e.clientX - offset.left) - Math.max(svgRect.left - offset.left, 0);\n        var mouseY = (e.clientY - offset.top) - Math.max(svgRect.top - offset.top, 0);\n        if (this.zooming.enableMouseWheelZooming &&\n            withInBounds(mouseX, mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            e.preventDefault();\n            this.performMouseWheelZooming(e, mouseX, mouseY, chart, chart.axisCollections);\n        }\n        return false;\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseMoveHandler = function (e) {\n        //Zooming for chart\n        var chart = this.chart;\n        var touches = null;\n        if (e.type === 'touchmove') {\n            if (e.preventDefault && this.isIOS &&\n                (this.isPanning || (chart.isDoubleTap)\n                    || (this.zooming.enablePinchZooming && this.touchStartList.length > 1))) {\n                e.preventDefault();\n            }\n            touches = e.touches;\n        }\n        if (chart.isChartDrag) {\n            if (chart.isTouch) {\n                this.touchMoveList = this.addTouchPointer(this.touchMoveList, e, touches);\n                if (this.zooming.enablePinchZooming && this.touchMoveList.length > 1\n                    && this.touchStartList.length > 1) {\n                    this.performPinchZooming(e, chart);\n                }\n            }\n            this.renderZooming(e, chart, chart.isTouch);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseDownHandler = function (e) {\n        //Zooming for chart\n        var chart = this.chart;\n        var touches = null;\n        var target;\n        if (e.type === 'touchstart') {\n            touches = e.touches;\n            target = e.target;\n        }\n        else {\n            target = e.target;\n        }\n        if (target.id.indexOf(chart.element.id + '_Zooming_') === -1 &&\n            withInBounds(chart.previousMouseMoveX, chart.previousMouseMoveY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            chart.isChartDrag = true;\n        }\n        if (chart.isTouch) {\n            this.touchStartList = this.addTouchPointer(this.touchStartList, e, touches);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseUpHandler = function (e) {\n        var chart = this.chart;\n        var performZoomRedraw = e.target.id.indexOf(chart.element.id + '_ZoomOut_') === -1 ||\n            e.target.id.indexOf(chart.element.id + '_ZoomIn_') === -1;\n        if (chart.isChartDrag || performZoomRedraw) {\n            this.performZoomRedraw(chart);\n        }\n        if (chart.isTouch) {\n            if (chart.isDoubleTap && withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)\n                && this.touchStartList.length === 1 && this.isZoomed) {\n                this.toolkit.reset();\n            }\n            this.touchStartList = [];\n            chart.isDoubleTap = false;\n        }\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseCancelHandler = function (e) {\n        if (this.isZoomed) {\n            this.performZoomRedraw(this.chart);\n        }\n        this.pinchTarget = null;\n        this.touchStartList = [];\n        this.touchMoveList = [];\n    };\n    /**\n     * Handles the touch pointer.\n     * @return {boolean}\n     * @private\n     */\n    Zoom.prototype.addTouchPointer = function (touchList, e, touches) {\n        if (touches) {\n            touchList = [];\n            for (var i = 0, length_1 = touches.length; i < length_1; i++) {\n                touchList.push({ pageX: touches[i].clientX, pageY: touches[i].clientY, pointerId: null });\n            }\n        }\n        else {\n            touchList = touchList ? touchList : [];\n            if (touchList.length === 0) {\n                touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n            }\n            else {\n                for (var i = 0, length_2 = touchList.length; i < length_2; i++) {\n                    if (touchList[i].pointerId === e.pointerId) {\n                        touchList[i] = { pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId };\n                    }\n                    else {\n                        touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n                    }\n                }\n            }\n        }\n        return touchList;\n    };\n    /**\n     * Get module name.\n     */\n    Zoom.prototype.getModuleName = function () {\n        // Returns te module name\n        return 'Zoom';\n    };\n    /**\n     * To destroy the zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.destroy = function (chart) {\n        // Destroy method performed here\n        this.removeEventListener();\n    };\n    return Zoom;\n}());\nexport { Zoom };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Selection Module handles the selection for chart.\n * @private\n */\nvar BaseSelection = /** @class */ (function () {\n    function BaseSelection(control) {\n        this.control = control;\n    }\n    /**\n     * To create selection styles for series\n     */\n    BaseSelection.prototype.seriesStyles = function () {\n        var seriesclass;\n        var style = document.getElementById(this.styleId);\n        if (isNullOrUndefined(style)) {\n            style = document.createElement('style');\n            style.setAttribute('id', this.styleId);\n            for (var _i = 0, _a = this.control.visibleSeries; _i < _a.length; _i++) {\n                var series = _a[_i];\n                seriesclass = series.selectionStyle || this.styleId + '_series_' + series.index;\n                style.innerHTML += series.selectionStyle ? '' : '.' + seriesclass + ' { } ';\n            }\n            style.innerHTML += '.' + this.unselected + ' { opacity:' + (0.3) + ';} ';\n            document.body.appendChild(style);\n        }\n    };\n    /**\n     * To concat indexes\n     */\n    BaseSelection.prototype.concatIndexes = function (userIndexes, localIndexes) {\n        return userIndexes.concat(localIndexes);\n    };\n    /**\n     * Selected points series visibility checking on legend click\n     */\n    BaseSelection.prototype.checkVisibility = function (selectedIndexes) {\n        var visible = false;\n        var uniqueSeries = [];\n        for (var _i = 0, selectedIndexes_1 = selectedIndexes; _i < selectedIndexes_1.length; _i++) {\n            var index = selectedIndexes_1[_i];\n            if (uniqueSeries.indexOf(index.series) === -1) {\n                uniqueSeries.push(index.series);\n            }\n        }\n        for (var _a = 0, uniqueSeries_1 = uniqueSeries; _a < uniqueSeries_1.length; _a++) {\n            var index = uniqueSeries_1[_a];\n            if (this.control.series[index].visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * To add svg element style class\n     * @private\n     */\n    BaseSelection.prototype.addSvgClass = function (element, className) {\n        var elementClassName = element.getAttribute('class') || '';\n        elementClassName += ((elementClassName !== '') ? ' ' : '');\n        if (elementClassName.indexOf(className) === -1) {\n            element.setAttribute('class', elementClassName + className);\n        }\n    };\n    /**\n     * To remove svg element style class\n     * @private\n     */\n    BaseSelection.prototype.removeSvgClass = function (element, className) {\n        var elementClassName = element.getAttribute('class') || '';\n        if (elementClassName.indexOf(className) > -1) {\n            element.setAttribute('class', elementClassName.replace(className, ''));\n        }\n    };\n    /**\n     * To get children from parent element\n     */\n    BaseSelection.prototype.getChildren = function (parent) {\n        var children = [];\n        for (var i = 0; i < parent.childNodes.length; i++) {\n            if (parent.childNodes[i].tagName !== 'defs') {\n                children.push(parent.childNodes[i]);\n            }\n        }\n        return children;\n    };\n    return BaseSelection;\n}());\nexport { BaseSelection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Selection src file\n */\nimport { Browser } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ChartLocation, Rect, RectOption, CircleOption, withInBounds, getDraggedRectLocation, removeElement, getElement } from '../../common/utils/helper';\nimport { Index } from '../../common/model/base';\nimport { Theme } from '../../common/model/theme';\nimport { dragComplete } from '../../common/model/constants';\nimport { BaseSelection } from '../../common/selection/selection';\n/**\n * Selection Module handles the selection for chart.\n * @private\n */\nvar Selection = /** @class */ (function (_super) {\n    __extends(Selection, _super);\n    /**\n     * Constructor for selection module.\n     * @private.\n     */\n    function Selection(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.chart = chart;\n        _this.renderer = chart.renderer;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Binding events for selection module.\n     */\n    Selection.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(Browser.touchMoveEvent, this.mouseMove, this);\n        this.chart.on(cancelEvent, this.completeSelection, this);\n        this.chart.on('click', this.calculateSelectedElements, this);\n        this.chart.on(Browser.touchStartEvent, this.mousedown, this);\n        this.chart.on(Browser.touchEndEvent, this.completeSelection, this);\n    };\n    /**\n     * Chart mouse down\n     */\n    Selection.prototype.mousedown = function (e) {\n        var chart = this.chart;\n        if (chart.selectionMode === 'None' || chart.isChartDrag) {\n            return;\n        }\n        if (chart.isDoubleTap || !chart.isTouch || this.rectPoints) {\n            this.dragStart(chart, chart.chartAxisLayoutPanel.seriesClipRect, chart.mouseDownX, chart.mouseDownY, e);\n        }\n    };\n    /**\n     * UnBinding events for selection module.\n     */\n    Selection.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.off(Browser.touchMoveEvent, this.mouseMove);\n        this.chart.off('pointerleave' || 'mouseleave', this.completeSelection);\n        this.chart.off('click', this.calculateSelectedElements);\n        this.chart.off(Browser.touchStartEvent, this.mousedown);\n        this.chart.off(Browser.touchEndEvent, this.completeSelection);\n    };\n    /**\n     * To find private variable values\n     */\n    Selection.prototype.initPrivateVariables = function (chart) {\n        this.styleId = chart.element.id + '_ej2_chart_selection';\n        this.unselected = chart.element.id + '_ej2_deselected';\n        this.closeIconId = chart.element.id + '_ej2_drag_close';\n        this.draggedRectGroup = chart.element.id + '_ej2_drag_group';\n        this.draggedRect = chart.element.id + '_ej2_drag_rect';\n        this.selectedDataIndexes = [];\n        this.rectPoints = null;\n        this.isSeriesMode = chart.selectionMode === 'Series';\n    };\n    /**\n     * Method to select the point and series.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.invokeSelection = function (chart) {\n        this.initPrivateVariables(chart);\n        this.series = extend({}, chart.visibleSeries, null, true);\n        this.seriesStyles();\n        if (!(chart.selectionMode.indexOf('Drag') > -1)) {\n            this.selectDataIndex(chart, this.concatIndexes(chart.selectedDataIndexes, this.selectedDataIndexes));\n        }\n    };\n    Selection.prototype.generateStyle = function (series) {\n        if (series) {\n            return (series.selectionStyle || this.styleId + '_series_' + series.index);\n        }\n        return 'undefined';\n    };\n    Selection.prototype.selectDataIndex = function (chart, indexes) {\n        for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\n            var index = indexes_1[_i];\n            this.performSelection(index, chart, this.getElementByIndex(chart, index)[0]);\n        }\n    };\n    Selection.prototype.getElementByIndex = function (chart, index, suffix) {\n        if (suffix === void 0) { suffix = ''; }\n        var elementId = chart.element.id + '_Series_' + index.series + '_Point' + '_' + index.point;\n        var series = chart.series[index.series];\n        elementId = (!series.isRectSeries && series.type !== 'Scatter' && series.type !== 'Bubble' &&\n            series.marker.visible) ? (elementId + '_Symbol' + suffix) : elementId;\n        return [getElement(elementId), (series.type === 'RangeArea' && series.marker.visible) ? getElement(elementId + '1') : null];\n    };\n    Selection.prototype.getClusterElements = function (chart, index) {\n        var clusters = [];\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            index = new Index(series.index, index.point);\n            clusters.push(this.getElementByIndex(chart, index)[0]);\n        }\n        return clusters;\n    };\n    Selection.prototype.findElements = function (chart, series, index, suffix) {\n        if (suffix === void 0) { suffix = ''; }\n        if (this.isSeriesMode) {\n            return this.getSeriesElements(series);\n        }\n        else if (chart.selectionMode === 'Cluster') {\n            return this.getClusterElements(chart, index);\n        }\n        else {\n            return this.getElementByIndex(chart, index, suffix);\n        }\n    };\n    /**\n     * To find the selected element.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.calculateSelectedElements = function (event) {\n        if (this.chart.selectionMode === 'None' || event.target.id.indexOf(this.chart.element.id + '_') === -1) {\n            return;\n        }\n        if (event.target.id.indexOf('_Series_') > -1) {\n            this.performSelection(this.indexFinder(event.target.id), this.chart, event.target);\n        }\n    };\n    Selection.prototype.performSelection = function (index, chart, element) {\n        this.isSeriesMode = chart.selectionMode === 'Series';\n        if (chart.series[index.series].type === 'BoxAndWhisker' &&\n            element.id === chart.element.id + '_Series_' + index.series + '_Point_' + index.point + '_BoxPath') {\n            element = element.parentElement;\n        }\n        switch (chart.selectionMode) {\n            case 'Series':\n                this.selection(chart, index, this.getSeriesElements(chart.series[index.series]));\n                this.blurEffect(chart.element.id, chart.visibleSeries);\n                break;\n            case 'Point':\n                if (!isNaN(index.point)) {\n                    this.selection(chart, index, [element]);\n                    this.blurEffect(chart.element.id, chart.visibleSeries);\n                }\n                break;\n            case 'Cluster':\n                if (!isNaN(index.point)) {\n                    this.clusterSelection(chart, chart.series, index);\n                    this.blurEffect(chart.element.id, chart.visibleSeries);\n                }\n                break;\n        }\n    };\n    Selection.prototype.selection = function (chart, index, selectedElements) {\n        if (!chart.isMultiSelect && (chart.selectionMode.indexOf('Drag') === -1)) {\n            this.removeMultiSelectEelments(chart, this.selectedDataIndexes, index, chart.series);\n        }\n        var className = selectedElements[0] && (selectedElements[0].getAttribute('class') || '');\n        if (selectedElements[0] && className.indexOf(this.getSelectionClass(selectedElements[0].id)) > -1) {\n            this.removeStyles(selectedElements);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index);\n        }\n        else {\n            this.applyStyles(selectedElements);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index, true);\n        }\n    };\n    Selection.prototype.clusterSelection = function (chart, series, index) {\n        this.selection(chart, index, this.getClusterElements(chart, new Index(index.series, index.point)));\n    };\n    Selection.prototype.removeMultiSelectEelments = function (chart, index, currentIndex, seriesCollection) {\n        var series;\n        for (var i = 0; i < index.length; i++) {\n            series = seriesCollection[index[i].series];\n            if ((this.isSeriesMode && !this.toEquals(index[i], currentIndex, this.isSeriesMode)) ||\n                (this.control.selectionMode === 'Cluster' && !this.toEquals(index[i], currentIndex, false)) ||\n                (!this.isSeriesMode && this.toEquals(index[i], currentIndex, true) && !this.toEquals(index[i], currentIndex, false))) {\n                this.removeStyles(this.findElements(chart, series, index[i]));\n                index.splice(i, 1);\n                i--;\n            }\n        }\n    };\n    Selection.prototype.blurEffect = function (chartId, visibleSeries) {\n        var visibility = this.checkVisibility(this.selectedDataIndexes); // legend click scenario\n        for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n            var series = visibleSeries_1[_i];\n            if (series.visible) {\n                this.checkSelectionElements(getElement(chartId + 'SeriesGroup' + series.index), this.generateStyle(series), visibility);\n                if (!isNullOrUndefined(getElement(chartId + 'SymbolGroup' + series.index))) {\n                    this.checkSelectionElements(getElement(chartId + 'SymbolGroup' + series.index), this.generateStyle(series), visibility);\n                }\n            }\n        }\n    };\n    Selection.prototype.checkSelectionElements = function (element, className, visibility) {\n        var children = (this.isSeriesMode ? [element] : element.childNodes);\n        var elementClassName;\n        var parentClassName;\n        for (var i = 0; i < children.length; i++) {\n            elementClassName = children[i].getAttribute('class') || '';\n            parentClassName = children[i].parentNode.getAttribute('class') || '';\n            if (elementClassName.indexOf(className) === -1 &&\n                parentClassName.indexOf(className) === -1 && visibility) {\n                this.addSvgClass(children[i], this.unselected);\n            }\n            else {\n                this.removeSvgClass(children[i], this.unselected);\n            }\n        }\n    };\n    Selection.prototype.applyStyles = function (elements) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            if (element) {\n                this.removeSvgClass(element.parentNode, this.unselected);\n                this.removeSvgClass(element, this.unselected);\n                this.addSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    Selection.prototype.getSelectionClass = function (id) {\n        return this.generateStyle(this.control.series[this.indexFinder(id).series]);\n    };\n    Selection.prototype.removeStyles = function (elements) {\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            if (element) {\n                this.removeSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    Selection.prototype.addOrRemoveIndex = function (indexes, index, add) {\n        for (var i = 0; i < indexes.length; i++) {\n            if (this.toEquals(indexes[i], index, this.isSeriesMode)) {\n                indexes.splice(i, 1);\n                i--;\n            }\n        }\n        if (add) {\n            indexes.push(index);\n        }\n    };\n    Selection.prototype.toEquals = function (first, second, checkSeriesOnly) {\n        return ((first.series === second.series || (this.control.selectionMode === 'Cluster' && !checkSeriesOnly))\n            && (checkSeriesOnly || (first.point === second.point)));\n    };\n    /**\n     * To redraw the selected points.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.redrawSelection = function (chart, oldMode) {\n        this.isSeriesMode = oldMode === 'Series';\n        var selectedDataIndexes = extend([], this.selectedDataIndexes, null, true);\n        this.removeSelectedElements(chart, this.selectedDataIndexes, chart.series);\n        this.blurEffect(chart.element.id, chart.visibleSeries);\n        this.selectDataIndex(chart, selectedDataIndexes);\n    };\n    /** @private */\n    Selection.prototype.legendSelection = function (chart, series) {\n        var seriesStyle = this.generateStyle(chart.visibleSeries[series]);\n        var selectedElements = document.getElementsByClassName(seriesStyle);\n        this.isSeriesMode = chart.selectionMode === 'Series';\n        var isBlurEffectNeeded = true;\n        if (selectedElements.length > 0) {\n            var elements = [];\n            for (var i = 0; i < selectedElements.length; i++) {\n                elements.push(selectedElements[i]);\n            }\n            this.removeStyles(elements);\n            this.isSeriesMode = true;\n            this.addOrRemoveIndex(this.selectedDataIndexes, new Index(series, NaN));\n            for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                var series_1 = _a[_i];\n                seriesStyle = this.generateStyle(series_1);\n                if (document.getElementsByClassName(seriesStyle).length > 0) {\n                    for (var _b = 0, elements_3 = elements; _b < elements_3.length; _b++) {\n                        var element = elements_3[_b];\n                        this.checkSelectionElements(element, seriesStyle, true);\n                    }\n                    isBlurEffectNeeded = false;\n                    break;\n                }\n            }\n            if (isBlurEffectNeeded) {\n                this.isSeriesMode = chart.selectionMode === 'Series';\n                this.blurEffect(chart.element.id, chart.visibleSeries);\n            }\n        }\n        else {\n            var seriesElements = this.getSeriesElements(chart.visibleSeries[series]);\n            for (var _c = 0, seriesElements_1 = seriesElements; _c < seriesElements_1.length; _c++) {\n                var seriesElement = seriesElements_1[_c];\n                this.checkSelectionElements(seriesElement, seriesStyle, false);\n            }\n            this.isSeriesMode = true;\n            this.selection(chart, new Index(series, NaN), seriesElements);\n            this.isSeriesMode = chart.selectionMode === 'Series';\n            this.blurEffect(chart.element.id, chart.visibleSeries);\n        }\n    };\n    Selection.prototype.getSeriesElements = function (series) {\n        var seriesElements = [series.seriesElement];\n        if (series.marker.visible && !series.isRectSeries) {\n            seriesElements.push(series.symbolElement);\n        }\n        return seriesElements;\n    };\n    Selection.prototype.indexFinder = function (id) {\n        var ids = ['NaN', 'NaN'];\n        if (id.indexOf('SeriesGroup') > -1) {\n            ids = id.split('SeriesGroup');\n            ids[0] = ids[1];\n        }\n        else if (id.indexOf('SymbolGroup') > -1) {\n            ids = id.split('SymbolGroup');\n            ids[0] = ids[1];\n        }\n        else if (id.indexOf('_Point_') > -1) {\n            ids = id.split('_Series_')[1].split('_Point_');\n        }\n        else if (id.indexOf('_Series_') > -1) {\n            ids[0] = id.split('_Series_')[1];\n        }\n        return new Index(parseInt(ids[0], 10), parseInt(ids[1], 10));\n    };\n    /**\n     * Drag selection that returns the selected data.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.calculateDragSelectedElements = function (chart, dragRect) {\n        this.removeSelectedElements(chart, this.selectedDataIndexes, chart.series);\n        var rect = new Rect(dragRect.x, dragRect.y, dragRect.width, dragRect.height);\n        var axisOffset = new ChartLocation(chart.chartAxisLayoutPanel.seriesClipRect.x, chart.chartAxisLayoutPanel.seriesClipRect.y);\n        this.removeOffset(rect, axisOffset);\n        var points;\n        var index;\n        var selectedPointValues = [];\n        var selectedSeriesValues = [];\n        this.isSeriesMode = false;\n        var symbolLocation;\n        var _loop_1 = function (series) {\n            if (series.visible) {\n                points = series.points;\n                selectedPointValues = [];\n                var xAxisOffset_1;\n                var yAxisOffset_1;\n                if ((chart.isTransposed || series.type.indexOf('Bar') !== -1) &&\n                    !(chart.isTransposed && series.type.indexOf('Bar') !== -1)) {\n                    xAxisOffset_1 = series.xAxis.rect.y - axisOffset.y;\n                    yAxisOffset_1 = series.yAxis.rect.x - axisOffset.x;\n                }\n                else {\n                    xAxisOffset_1 = series.xAxis.rect.x - axisOffset.x;\n                    yAxisOffset_1 = series.yAxis.rect.y - axisOffset.y;\n                }\n                for (var j = 0; j < points.length; j++) {\n                    var yValue = series.type !== 'RangeArea' ? points[j].yValue :\n                        points[j].regions[0].y;\n                    var isCurrentPoint = void 0;\n                    if (series.type === 'BoxAndWhisker') {\n                        isCurrentPoint = points[j].regions.some(function (region) {\n                            return withInBounds(region.x + xAxisOffset_1, region.y + yAxisOffset_1, rect);\n                        });\n                    }\n                    else {\n                        isCurrentPoint = points[j].symbolLocations.some(function (location) {\n                            return location && withInBounds(location.x + xAxisOffset_1, location.y + yAxisOffset_1, rect);\n                        });\n                    }\n                    if (isCurrentPoint && series.category !== 'Indicator') {\n                        index = new Index(series.index, points[j].index);\n                        this_1.selection(chart, index, this_1.findElements(chart, series, index));\n                        selectedPointValues.push({ x: points[j].xValue.toString(), y: yValue });\n                    }\n                    if (isCurrentPoint && series.type === 'RangeArea') {\n                        selectedPointValues.push({ x: points[j].xValue.toString(), y: points[j].regions[0].y });\n                    }\n                }\n                selectedSeriesValues.push(selectedPointValues);\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            _loop_1(series);\n        }\n        this.blurEffect(chart.element.id, chart.visibleSeries);\n        this.rectPoints = new Rect(dragRect.x, dragRect.y, dragRect.width, dragRect.height);\n        this.createCloseButton((dragRect.x + dragRect.width), dragRect.y);\n        var args = {\n            name: dragComplete,\n            selectedDataValues: selectedSeriesValues,\n            cancel: false\n        };\n        chart.trigger(dragComplete, args);\n    };\n    Selection.prototype.removeOffset = function (rect, clip) {\n        rect.x -= clip.x;\n        rect.y -= clip.y;\n    };\n    /**\n     * Method to draw dragging rect.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.drawDraggingRect = function (chart, dragRect) {\n        var cartesianLayout = chart.chartAxisLayoutPanel.seriesClipRect;\n        switch (chart.selectionMode) {\n            case 'DragX':\n                dragRect.y = cartesianLayout.y;\n                dragRect.height = cartesianLayout.height;\n                break;\n            case 'DragY':\n                dragRect.x = cartesianLayout.x;\n                dragRect.width = cartesianLayout.width;\n                break;\n        }\n        if (dragRect.width < 5 || dragRect.height < 5) {\n            return null;\n        }\n        var element = getElement(this.draggedRect);\n        if (this.closeIcon) {\n            removeElement(this.closeIconId);\n        }\n        if (element) {\n            this.setAttributes(element, dragRect);\n        }\n        else {\n            var dragGroup = this.renderer.createGroup({ id: this.draggedRectGroup });\n            chart.svgObject.appendChild(dragGroup);\n            element = this.renderer.drawRectangle(new RectOption(this.draggedRect, Theme.selectionRectFill, { color: Theme.selectionRectStroke, width: 1 }, 1, dragRect));\n            element.setAttribute('style', 'cursor:move;');\n            dragGroup.appendChild(element);\n        }\n    };\n    Selection.prototype.createCloseButton = function (x, y) {\n        var closeIcon = this.renderer.createGroup({\n            id: this.closeIconId,\n            style: 'cursor:pointer; visibility: visible;'\n        });\n        closeIcon.appendChild(this.renderer.drawCircle(new CircleOption(this.closeIconId + '_circle', '#FFFFFF', { color: Theme.selectionRectStroke, width: 1 }, 1, x, y, 10)));\n        var direction = 'M ' + (x - 4) + ' ' + (y - 4) + ' L ' + (x + 4) + ' ' + (y + 4) + ' M ' + (x - 4) + ' ' + (y + 4) +\n            ' L ' + (x + 4) + ' ' + (y - 4);\n        closeIcon.appendChild(this.renderer.drawPath({\n            id: this.closeIconId + '_cross', d: direction, stroke: Theme.selectionRectStroke,\n            'stroke-width': 2, fill: Theme.selectionRectStroke\n        }));\n        this.closeIcon = closeIcon;\n        getElement(this.draggedRectGroup).appendChild(closeIcon);\n    };\n    /**\n     * Method to remove dragged element.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.removeDraggedElements = function (chart, event) {\n        if ((event.target.id.indexOf(this.closeIconId) > -1) && (event.type.indexOf('move') === -1)) {\n            this.removeSelectedElements(chart, this.selectedDataIndexes, chart.series);\n            this.blurEffect(chart.element.id, chart.visibleSeries);\n            remove(getElement(this.draggedRectGroup));\n            this.changeCursorStyle(false, chart.svgObject, 'auto');\n            this.rectPoints = null;\n        }\n    };\n    /**\n     * Method to resize the drag rect.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.resizingSelectionRect = function (chart, location, tapped) {\n        var rect = new Rect(this.rectPoints.x, this.rectPoints.y, this.rectPoints.width, this.rectPoints.height);\n        var resize = this.findResizeMode(chart.svgObject, rect, location);\n        if (this.resizing) {\n            rect = getDraggedRectLocation(rect.x, rect.y, (rect.x + rect.width), (rect.y + rect.height), chart.chartAxisLayoutPanel.seriesClipRect);\n            this.drawDraggingRect(chart, rect);\n            this.dragRect = rect;\n        }\n        if (tapped) {\n            this.resizing = resize;\n        }\n    };\n    Selection.prototype.findResizeMode = function (chartSvgObject, rect, location) {\n        var cursorStyle = 'se-resize';\n        var resize = false;\n        if (!this.resizing) {\n            var resizeEdges = [new Rect(rect.x, (rect.y - 10), rect.width - 5, 20),\n                new Rect((rect.x - 10), rect.y, 20, rect.height),\n                new Rect(rect.x, (rect.y + rect.height - 10), rect.width - 10, 20),\n                new Rect((rect.x + rect.width - 10), rect.y + 5, 20, rect.height - 15),\n                new Rect((rect.x + rect.width - 10), (rect.y + rect.height - 10), 20, 20)]; //corner\n            for (var i = 0; i < resizeEdges.length; i++) {\n                if (withInBounds(location.x, location.y, resizeEdges[i])) {\n                    cursorStyle = (i === 4) ? cursorStyle : (i % 2 === 0) ? 'ns-resize' : 'ew-resize';\n                    resize = true;\n                    this.resizeMode = i;\n                    break;\n                }\n            }\n        }\n        else {\n            var x = rect.x;\n            var y = rect.y;\n            var width = (location.x - x);\n            var height = (location.y - y);\n            switch (this.resizeMode) {\n                case 0:\n                    height = Math.abs((rect.height + rect.y) - location.y);\n                    rect.y = Math.min((rect.height + rect.y), location.y);\n                    rect.height = height;\n                    break;\n                case 1:\n                    width = Math.abs((rect.width + rect.x) - location.x);\n                    rect.x = Math.min((rect.width + rect.x), location.x);\n                    rect.width = width;\n                    break;\n                case 2:\n                    rect.height = Math.abs(height);\n                    rect.y = Math.min(location.y, y);\n                    break;\n                case 3:\n                    rect.width = Math.abs(width);\n                    rect.x = Math.min(location.x, x);\n                    break;\n                case 4:\n                    rect.width = Math.abs(width);\n                    rect.height = Math.abs(height);\n                    rect.x = Math.min(location.x, x);\n                    rect.y = Math.min(location.y, y);\n                    break;\n            }\n        }\n        this.changeCursorStyle(resize, getElement(this.draggedRect), cursorStyle);\n        this.changeCursorStyle(resize, chartSvgObject, cursorStyle);\n        return resize;\n    };\n    Selection.prototype.changeCursorStyle = function (isResize, rectelement, cursorStyle) {\n        cursorStyle = isResize ? cursorStyle : (this.control.svgObject === rectelement) ? 'auto' : 'move';\n        rectelement.setAttribute('style', 'cursor:' + cursorStyle + ';');\n    };\n    Selection.prototype.removeSelectedElements = function (chart, index, seriesCollection) {\n        index.splice(0, index.length);\n        var seriesElements;\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            seriesElements = this.getSeriesElements(series);\n            this.removeStyles(seriesElements);\n            for (var _a = 0, seriesElements_2 = seriesElements; _a < seriesElements_2.length; _a++) {\n                var seriesElement = seriesElements_2[_a];\n                this.removeStyles(this.getChildren(seriesElement));\n            }\n        }\n    };\n    Selection.prototype.setAttributes = function (ele, object) {\n        var keys = Object.keys(object);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            ele.setAttribute(key, object[key]);\n        }\n    };\n    /**\n     * Method to move the dragged rect.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.draggedRectMoved = function (chart, grabbedPoint, doDrawing) {\n        var rect = new Rect(this.rectPoints.x, this.rectPoints.y, this.rectPoints.width, this.rectPoints.height);\n        rect.x -= (grabbedPoint.x - chart.mouseX);\n        rect.y -= (grabbedPoint.y - chart.mouseY);\n        rect = getDraggedRectLocation(rect.x, rect.y, rect.x + rect.width, rect.height + rect.y, chart.chartAxisLayoutPanel.seriesClipRect);\n        if (doDrawing) {\n            this.drawDraggingRect(chart, rect);\n        }\n        else {\n            this.calculateDragSelectedElements(chart, rect);\n        }\n    };\n    /**\n     * To complete the selection.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.completeSelection = function (e) {\n        var chart = this.chart;\n        if (chart.selectionMode === 'None') {\n            return;\n        }\n        if ((this.dragging || this.resizing) && this.dragRect.width > 5 && this.dragRect.height > 5) {\n            this.calculateDragSelectedElements(chart, this.dragRect);\n        }\n        else if (this.rectGrabbing && this.rectPoints.width && this.rectPoints.height) {\n            this.draggedRectMoved(chart, this.dragRect);\n        }\n        this.dragging = false;\n        this.rectGrabbing = false;\n        this.resizing = false;\n        this.removeDraggedElements(chart, e);\n    };\n    Selection.prototype.getDragRect = function (chart, seriesClipRect) {\n        return getDraggedRectLocation(chart.mouseDownX, chart.mouseDownY, chart.mouseX, chart.mouseY, seriesClipRect);\n    };\n    /** @private */\n    Selection.prototype.dragStart = function (chart, seriesClipRect, mouseDownX, mouseDownY, event) {\n        this.dragging = (chart.selectionMode.indexOf('Drag') > -1) && (chart.isDoubleTap || !chart.isTouch) &&\n            chart.chartAreaType !== 'PolarRadar';\n        if (this.dragging) {\n            this.dragRect = new Rect(chart.mouseDownX, chart.mouseDownY, 0, 0);\n            if (chart.mouseDownX < seriesClipRect.x || chart.mouseDownX > (seriesClipRect.x + seriesClipRect.width) ||\n                chart.mouseDownY < seriesClipRect.y || chart.mouseDownY > (seriesClipRect.y + seriesClipRect.height)) {\n                this.dragging = false;\n            }\n        }\n        if (this.rectPoints) {\n            this.dragRect = new Rect(chart.mouseDownX, chart.mouseDownY, 0, 0);\n            this.resizingSelectionRect(chart, new ChartLocation(mouseDownX, mouseDownY), true);\n            this.rectGrabbing = withInBounds(mouseDownX, mouseDownY, this.rectPoints);\n        }\n    };\n    /** @private */\n    Selection.prototype.mouseMove = function (event) {\n        var chart = this.chart;\n        if (chart.selectionMode === 'None') {\n            return;\n        }\n        if (event.type === 'touchmove' && (Browser.isIos || Browser.isIos7) && this.dragging && event.preventDefault) {\n            event.preventDefault();\n        }\n        var insideMoving = withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect);\n        if (insideMoving) {\n            if (this.rectGrabbing && !this.resizing) {\n                this.draggedRectMoved(chart, this.dragRect, true);\n            }\n            else if (this.dragging && !this.resizing) {\n                this.dragRect = this.getDragRect(chart, chart.chartAxisLayoutPanel.seriesClipRect);\n                this.drawDraggingRect(chart, this.dragRect);\n            }\n            if (this.rectPoints) {\n                this.resizingSelectionRect(chart, new ChartLocation(chart.mouseX, chart.mouseY));\n            }\n        }\n        else {\n            this.completeSelection(event);\n        }\n    };\n    /**\n     * Get module name.\n     * @private\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'Selection';\n    };\n    /**\n     * To destroy the selection.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.destroy = function (chart) {\n        this.removeEventListener();\n        // Destroy method performed here\n    };\n    return Selection;\n}(BaseSelection));\nexport { Selection };\n","import { ChartLocation, Rect, TextOption, RectOption, isCollide, markerAnimate } from '../../common/utils/helper';\nimport { getLabelText, measureText, convertHexToColor, calculateRect, textElement, colorNameToHex } from '../../common/utils/helper';\nimport { textRender } from '../../common/model/constants';\nimport { createTemplate, getFontStyle, getElement, measureElementRect, templateAnimate, withIn, CoefficientToVector, valueToPolarCoefficient } from '../../common/utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\nimport { getPoint } from '../../common/utils/helper';\n/**\n * DataLabel Module used to render the column series.\n */\nvar DataLabel = /** @class */ (function () {\n    /**\n     * Constructor for the data label module.\n     * @private\n     */\n    function DataLabel(chart) {\n        this.errorHeight = 0;\n        this.chart = chart;\n    }\n    DataLabel.prototype.initPrivateVariables = function (series, marker) {\n        var transform;\n        var render = series.chart.renderer;\n        transform = series.chart.chartAreaType === 'Cartesian' ? 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')' : '';\n        if (marker.dataLabel.visible) {\n            series.shapeElement = render.createGroup({\n                'id': this.chart.element.id + 'ShapeGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.chart.element.id + '_ChartSeriesClipRect_' + series.index + ')'\n            });\n            series.textElement = render.createGroup({\n                'id': this.chart.element.id + 'TextGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.chart.element.id + '_ChartSeriesClipRect_' + series.index + ')'\n            });\n        }\n        this.markerHeight = ((series.type === 'Scatter' || marker.visible) && !this.isRectSeries(series)) ? (marker.height / 2) : 0;\n        this.commonId = this.chart.element.id + '_Series_' + series.index + '_Point_';\n        this.calculateErrorHeight(series, series.marker.dataLabel.position);\n    };\n    DataLabel.prototype.calculateErrorHeight = function (series, position) {\n        if (!series.errorBar.visible) {\n            return null;\n        }\n        else if (series.errorBar.visible && this.chart.chartAreaType !== 'PolarRadar') {\n            var direction = series.errorBar.direction;\n            var positiveHeight = this.chart.errorBarModule.positiveHeight;\n            var negativeHeight = this.chart.errorBarModule.negativeHeight;\n            if (this.isRectSeries(series)) {\n                if (position === 'Top' || position === 'Auto') {\n                    if (direction === 'Both' || direction === 'Minus') {\n                        this.errorHeight = negativeHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n                if (position === 'Outer' || position === 'Auto') {\n                    if (direction === 'Both' || direction === 'Plus') {\n                        this.errorHeight = positiveHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n            }\n            else {\n                if (position === 'Top' || position === 'Outer' || position === 'Auto') {\n                    if ((direction === 'Both' || direction === 'Plus') && (!series.chart.isTransposed)) {\n                        this.errorHeight = positiveHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n                if (position === 'Bottom' || position === 'Auto') {\n                    if (direction === 'Both' || direction === 'Minus') {\n                        this.errorHeight = negativeHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n            }\n        }\n        else {\n            this.errorHeight = 0;\n        }\n    };\n    DataLabel.prototype.isRectSeries = function (series) {\n        return series.isRectSeries || series.type === 'RangeArea';\n    };\n    /**\n     * Render the data label for series.\n     * @return {void}\n     * @private\n     */\n    DataLabel.prototype.render = function (series, chart, dataLabel) {\n        var _this = this;\n        // initialize the private variable\n        this.initPrivateVariables(series, series.marker);\n        var rect;\n        var rgbValue;\n        var contrast;\n        var argsData;\n        var border;\n        var textSize;\n        this.inverted = chart.requireInvertedAxis;\n        this.yAxisInversed = series.yAxis.isInversed;\n        var element = createElement('div', {\n            id: chart.element.id + '_Series_' + series.index + '_DataLabelCollections'\n        });\n        // Data label point iteration started\n        series.points.map(function (point, index) {\n            _this.margin = dataLabel.margin;\n            var labelText = [];\n            var labelLength;\n            var clip = series.clipRect;\n            border = { width: dataLabel.border.width, color: dataLabel.border.color };\n            if ((point.symbolLocations.length && point.symbolLocations[0]) ||\n                (series.type === 'BoxAndWhisker' && point.regions.length)) {\n                labelText = getLabelText(point, series, chart);\n                labelLength = labelText.length;\n                for (var i = 0; i < labelLength; i++) {\n                    argsData = {\n                        cancel: false, name: textRender, series: series,\n                        point: point, text: labelText[i], border: border,\n                        color: dataLabel.fill, template: dataLabel.template\n                    };\n                    chart.trigger(textRender, argsData);\n                    if (!argsData.cancel) {\n                        _this.fontBackground = argsData.color;\n                        _this.isDataLabelShape(argsData);\n                        _this.markerHeight = series.type === 'Bubble' ? (point.regions[0].height / 2) : _this.markerHeight;\n                        if (argsData.template !== null) {\n                            _this.createDataLabelTemplate(element, series, dataLabel, point, argsData, i);\n                        }\n                        else {\n                            textSize = measureText(argsData.text, dataLabel.font);\n                            rect = _this.calculateTextPosition(point, series, textSize, dataLabel, i);\n                            if (!isCollide(rect, chart.dataLabelCollections, clip)) {\n                                chart.dataLabelCollections.push(new Rect(rect.x + clip.x, rect.y + clip.y, rect.width, rect.height));\n                                if (_this.isShape) {\n                                    series.shapeElement.appendChild(chart.renderer.drawRectangle(new RectOption(_this.commonId + index + '_TextShape_' + i, argsData.color, argsData.border, dataLabel.opacity, rect, dataLabel.rx, dataLabel.ry)));\n                                }\n                                // Checking the font color\n                                rgbValue = convertHexToColor(colorNameToHex(_this.fontBackground));\n                                contrast = Math.round((rgbValue.r * 299 + rgbValue.g * 587 + rgbValue.b * 114) / 1000);\n                                textElement(new TextOption(_this.commonId + index + '_Text_' + i, rect.x + _this.margin.left + textSize.width / 2, rect.y + _this.margin.top + textSize.height * 3 / 4, 'middle', argsData.text, 'rotate(0,' + (rect.x) + ',' + (rect.y) + ')', 'auto'), dataLabel.font, dataLabel.font.color ||\n                                    ((contrast >= 128 || series.type === 'Hilo') ? 'black' : 'white'), series.textElement);\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        if (element.childElementCount) {\n            getElement(chart.element.id + '_Secondary_Element').appendChild(element);\n        }\n    };\n    /**\n     * Render the data label template.\n     * @return {void}\n     * @private\n     */\n    DataLabel.prototype.createDataLabelTemplate = function (parentElement, series, dataLabel, point, data, labelIndex) {\n        this.margin = { left: 0, right: 0, bottom: 0, top: 0 };\n        var clip = series.clipRect;\n        var childElement = createTemplate(createElement('div', {\n            id: this.chart.element.id + '_Series_' + series.index + '_DataLabel_'\n                + point.index + (labelIndex ? ('_' + labelIndex) : ''),\n            styles: 'position: absolute;background-color:' + data.color + ';' +\n                getFontStyle(dataLabel.font) + ';border:' + data.border.width + 'px solid ' + data.border.color + ';'\n        }), point.index, data.template, this.chart, point, series);\n        var elementRect = measureElementRect(childElement);\n        var rect = this.calculateTextPosition(point, series, { width: elementRect.width, height: elementRect.height }, dataLabel, labelIndex);\n        childElement.style.left = ((this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.x) + rect.x) + 'px';\n        childElement.style.top = ((this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.y) + rect.y) + 'px';\n        var rgbValue = convertHexToColor(colorNameToHex(this.fontBackground));\n        childElement.style.color = dataLabel.font.color ||\n            ((Math.round((rgbValue.r * 299 + rgbValue.g * 587 + rgbValue.b * 114) / 1000)) >= 128 ? 'black' : 'white');\n        if (childElement.childElementCount && !isCollide(rect, this.chart.dataLabelCollections, clip)\n            && (series.seriesType !== 'XY' || point.yValue === undefined || withIn(point.yValue, series.yAxis.visibleRange))\n            && withIn(point.xValue, series.xAxis.visibleRange)) {\n            this.chart.dataLabelCollections.push(new Rect(rect.x + clip.x, rect.y + clip.y, rect.width, rect.height));\n            parentElement.appendChild(childElement);\n            if (series.animation.enable && this.chart.animateSeries) {\n                this.doDataLabelAnimation(series, childElement);\n            }\n        }\n    };\n    DataLabel.prototype.calculateTextPosition = function (point, series, textSize, dataLabel, labelIndex) {\n        var labelRegion = labelIndex > 1 ? (series.type === 'Candle') ? point.regions[1] : point.regions[0] : point.regions[0];\n        if (labelIndex > 1 && series.type === 'HiloOpenClose') {\n            labelRegion = (labelIndex === 2) ? point.regions[1] : point.regions[2];\n        }\n        var location;\n        location = this.getLabelLocation(point, series, textSize, labelIndex);\n        var padding = 5;\n        var clipRect = series.clipRect;\n        var rect;\n        // calculating alignment\n        if (!this.chart.requireInvertedAxis || !this.isRectSeries(series) || series.type === 'BoxAndWhisker') {\n            this.locationX = location.x;\n            var alignmentValue = textSize.height + (this.borderWidth * 2) + this.markerHeight +\n                this.margin.bottom + this.margin.top + padding;\n            location.y = (dataLabel.position === 'Auto') ? location.y :\n                this.calculateAlignment(alignmentValue, location.y, dataLabel.alignment, this.isRectSeries(series) ? point.yValue < 0 : false);\n            // calculating position\n            location.y = (!this.isRectSeries(series) || series.type === 'BoxAndWhisker') ?\n                this.calculatePathPosition(location.y, dataLabel.position, series, point, textSize, labelIndex) :\n                this.calculateRectPosition(location.y, labelRegion, point.yValue < 0 !== this.yAxisInversed, dataLabel.position, series, textSize, labelIndex, point);\n            if (this.isRectSeries(series) && this.chart.chartAreaType === 'PolarRadar') {\n                location = this.calculatePolarRectPosition(location, dataLabel.position, series, point, textSize, labelIndex);\n            }\n        }\n        else {\n            this.locationY = location.y;\n            var alignmentValue = textSize.width + this.borderWidth + this.margin.left + this.margin.right - padding;\n            location.x = dataLabel.position === 'Auto' ? location.x :\n                this.calculateAlignment(alignmentValue, location.x, dataLabel.alignment, point.yValue < 0);\n            location.x = this.calculateRectPosition(location.x, labelRegion, point.yValue < 0 !== this.yAxisInversed, dataLabel.position, series, textSize, labelIndex, point);\n        }\n        rect = calculateRect(location, textSize, this.margin);\n        // Checking the condition whether data Label has been exist the clip rect\n        if (!((rect.y > clipRect.height) || (rect.x > clipRect.width) ||\n            (rect.x + rect.width < 0) || (rect.y + rect.height < 0))) {\n            rect.x = rect.x < 0 ? padding : rect.x;\n            rect.y = rect.y < 0 ? padding : rect.y;\n            rect.x -= (rect.x + rect.width) > clipRect.width ? (rect.x + rect.width) - clipRect.width + padding : 0;\n            rect.y -= (rect.y + rect.height) > clipRect.height ? (rect.y + rect.height) - clipRect.height + padding : 0;\n            this.fontBackground = this.fontBackground === 'transparent' ? this.chart.chartArea.background : this.fontBackground;\n        }\n        return rect;\n    };\n    // Calculation label location for polar column draw types\n    DataLabel.prototype.calculatePolarRectPosition = function (location, position, series, point, size, labelIndex) {\n        var padding = 5;\n        var columnRadius;\n        if (labelIndex === 0) {\n            columnRadius = point.regionData.radius < point.regionData.innerRadius ? point.regionData.innerRadius\n                : point.regionData.radius;\n        }\n        else {\n            columnRadius = point.regionData.radius > point.regionData.innerRadius ? point.regionData.innerRadius\n                : point.regionData.radius;\n        }\n        var vector;\n        var ticksbwtLabel = series.xAxis.valueType === 'Category' && series.xAxis.labelPlacement === 'BetweenTicks' ? 0.5\n            : 0.5 - (series.rectCount / 2);\n        this.fontBackground = this.fontBackground === 'transparent' ? this.chart.chartArea.background : this.fontBackground;\n        if (series.drawType.indexOf('Stacking') > -1) {\n            position = position === 'Outer' ? 'Top' : position;\n        }\n        else if (series.drawType.indexOf('Range') > -1) {\n            position = (position === 'Outer' || position === 'Top') ? position : 'Auto';\n        }\n        if (position === 'Outer') {\n            columnRadius = labelIndex === 0 ? columnRadius + 2 * padding : columnRadius - 2 * padding;\n        }\n        else if (position === 'Middle') {\n            columnRadius = columnRadius / 2 + padding;\n        }\n        else if (position === 'Top') {\n            columnRadius = labelIndex === 0 ? columnRadius - 2 * padding : columnRadius + 2 * padding;\n        }\n        else if (position === 'Bottom') {\n            columnRadius = padding;\n        }\n        else {\n            if (labelIndex === 0) {\n                columnRadius = columnRadius >= series.chart.radius ? columnRadius - padding :\n                    series.drawType === 'StackingColumn' ? columnRadius - 2 * padding : columnRadius + 2 * padding;\n            }\n            else {\n                columnRadius = columnRadius >= series.chart.radius ? columnRadius + padding : columnRadius - 2 * padding;\n            }\n        }\n        vector = CoefficientToVector(valueToPolarCoefficient((point.xValue + ticksbwtLabel / series.rectCount + series.position / series.rectCount), series.xAxis), series.chart.primaryXAxis.startAngle);\n        location.x = series.clipRect.width / 2 + series.clipRect.x + columnRadius * vector.x;\n        location.y = series.clipRect.height / 2 + series.clipRect.y + columnRadius * vector.y;\n        return location;\n    };\n    /**\n     * Get the label location\n     */\n    DataLabel.prototype.getLabelLocation = function (point, series, textSize, labelIndex) {\n        var location = new ChartLocation(0, 0);\n        var labelRegion = (series.type === 'Candle' && labelIndex > 1) ? point.regions[1] : point.regions[0];\n        if (series.type === 'HiloOpenClose') {\n            labelRegion = (labelIndex === 2) ? point.regions[1] : point.regions[2];\n        }\n        var xAxis = series.xAxis;\n        var yAxis = series.yAxis;\n        var isInverted = series.chart.requireInvertedAxis;\n        if (series.type === 'BoxAndWhisker') {\n            this.markerHeight = 0;\n            switch (labelIndex) {\n                case 0:\n                    location = getPoint(point.xValue, point.median, xAxis, yAxis, isInverted);\n                    break;\n                case 1:\n                    location = getPoint(point.xValue, point.maximum, xAxis, yAxis, isInverted);\n                    break;\n                case 2:\n                    location = getPoint(point.xValue, point.minimum, xAxis, yAxis, isInverted);\n                    break;\n                case 3:\n                    location = getPoint(point.xValue, point.upperQuartile, xAxis, yAxis, isInverted);\n                    break;\n                case 4:\n                    location = getPoint(point.xValue, point.lowerQuartile, xAxis, yAxis, isInverted);\n                    break;\n                default: {\n                    location = getPoint(point.xValue, point.outliers[labelIndex - 5], xAxis, yAxis, isInverted);\n                    this.markerHeight = series.marker.height / 2;\n                    break;\n                }\n            }\n        }\n        else if (labelIndex === 0 || labelIndex === 1) {\n            location = new ChartLocation(point.symbolLocations[0].x, point.symbolLocations[0].y);\n        }\n        else if ((labelIndex === 2 || labelIndex === 3) && series.type === 'Candle') {\n            location = new ChartLocation(point.symbolLocations[1].x, point.symbolLocations[1].y);\n        }\n        else if (isInverted) {\n            location = { x: labelRegion.x + (labelRegion.width) / 2, y: labelRegion.y };\n        }\n        else {\n            location = { x: labelRegion.x + labelRegion.width, y: labelRegion.y + (labelRegion.height) / 2 };\n        }\n        //Aligning the label at the beginning of the tick, when tick size is less than text size\n        if (labelIndex > 1 && series.type === 'HiloOpenClose') {\n            if (series.chart.requireInvertedAxis) {\n                var height = labelRegion.height;\n                location.y = labelRegion.y + height / 2 + 2 * (labelIndex === 2 ? 1 : -1);\n            }\n            else {\n                var width = labelRegion.width;\n                location.x = labelRegion.x + width / 2 + 2 * (labelIndex === 2 ? 1 : -1);\n            }\n        }\n        return location;\n    };\n    DataLabel.prototype.calculateRectPosition = function (labelLocation, rect, isMinus, position, series, textSize, labelIndex, point) {\n        if (series.chart.chartAreaType === 'PolarRadar') {\n            return null;\n        }\n        var padding = 5;\n        var margin = this.margin;\n        var textLength = !this.inverted ? textSize.height : textSize.width;\n        var extraSpace = this.borderWidth + textLength / 2 + padding;\n        if (series.type.indexOf('Stacking') > -1) {\n            position = position === 'Outer' ? 'Top' : position;\n        }\n        else if (series.type.indexOf('Range') > -1) {\n            position = (position === 'Outer' || position === 'Top') ? position : 'Auto';\n        }\n        else if (series.type === 'Waterfall') {\n            position = position === 'Auto' ? 'Middle' : position;\n        }\n        switch (position) {\n            case 'Bottom':\n                labelLocation = !this.inverted ?\n                    isMinus ? (labelLocation - rect.height + extraSpace + margin.top) :\n                        (labelLocation + rect.height - extraSpace - margin.bottom) :\n                    isMinus ? (labelLocation + rect.width - extraSpace - margin.left) :\n                        (labelLocation - rect.width + extraSpace + margin.right);\n                break;\n            case 'Middle':\n                labelLocation = labelLocation = !this.inverted ?\n                    (isMinus ? labelLocation - (rect.height / 2) : labelLocation + (rect.height / 2)) :\n                    (isMinus ? labelLocation + (rect.width / 2) : labelLocation - (rect.width / 2));\n                break;\n            case 'Auto':\n                labelLocation = this.calculateRectActualPosition(labelLocation, rect, isMinus, series, textSize, labelIndex, point);\n                break;\n            default:\n                extraSpace += this.errorHeight;\n                labelLocation = this.calculateTopAndOuterPosition(labelLocation, rect, position, series, labelIndex, extraSpace, isMinus);\n                break;\n        }\n        var check = !this.inverted ? (labelLocation < rect.y || labelLocation > rect.y + rect.height) :\n            (labelLocation < rect.x || labelLocation > rect.x + rect.width);\n        this.fontBackground = check ?\n            (this.fontBackground === 'transparent' ? this.chart.chartArea.background : this.fontBackground)\n            : this.fontBackground === 'transparent' ? (point.color || series.interior) : this.fontBackground;\n        return labelLocation;\n    };\n    DataLabel.prototype.calculatePathPosition = function (labelLocation, position, series, point, size, labelIndex) {\n        var padding = 5;\n        if ((series.type.indexOf('Area') > -1 && series.type !== 'RangeArea')\n            && this.yAxisInversed && series.marker.dataLabel.position !== 'Auto') {\n            position = position === 'Top' ? 'Bottom' : position === 'Bottom' ? 'Top' : position;\n        }\n        this.fontBackground = this.fontBackground === 'transparent' ? this.chart.chartArea.background : this.fontBackground;\n        switch (position) {\n            case 'Top':\n            case 'Outer':\n                labelLocation = labelLocation - this.markerHeight - this.borderWidth - size.height / 2 - this.margin.bottom - padding -\n                    this.errorHeight;\n                break;\n            case 'Bottom':\n                labelLocation = labelLocation + this.markerHeight + this.borderWidth + size.height / 2 + this.margin.top + padding +\n                    this.errorHeight;\n                break;\n            case 'Auto':\n                labelLocation = this.calculatePathActualPosition(labelLocation, this.markerHeight, series, point, size, labelIndex);\n                break;\n        }\n        return labelLocation;\n    };\n    DataLabel.prototype.isDataLabelShape = function (style) {\n        this.isShape = (style.color !== 'transparent' || style.border.width > 0);\n        this.borderWidth = style.border.width;\n        if (!this.isShape) {\n            this.margin = { left: 0, right: 0, bottom: 0, top: 0 };\n        }\n    };\n    DataLabel.prototype.calculateRectActualPosition = function (labelLocation, rect, isMinus, series, size, labelIndex, point) {\n        var location;\n        var labelRect;\n        var isOverLap = true;\n        var position = 0;\n        var collection = this.chart.dataLabelCollections;\n        var finalPosition = series.type.indexOf('Range') !== -1 || series.type === 'Hilo' ? 2 : 4;\n        while (isOverLap && position < finalPosition) {\n            location = this.calculateRectPosition(labelLocation, rect, isMinus, this.getPosition(position), series, size, labelIndex, point);\n            if (!this.inverted) {\n                labelRect = calculateRect(new ChartLocation(this.locationX, location), size, this.margin);\n                isOverLap = labelRect.y < 0 || isCollide(labelRect, collection, series.clipRect) || labelRect.y > series.clipRect.height;\n            }\n            else {\n                labelRect = calculateRect(new ChartLocation(location, this.locationY), size, this.margin);\n                isOverLap = labelRect.x < 0 || isCollide(labelRect, collection, series.clipRect) ||\n                    labelRect.x + labelRect.width > series.clipRect.width;\n            }\n            position++;\n        }\n        return location;\n    };\n    // alignment calculation assigned here\n    DataLabel.prototype.calculateAlignment = function (value, labelLocation, alignment, isMinus) {\n        switch (alignment) {\n            case 'Far':\n                labelLocation = !this.inverted ? (isMinus ? labelLocation + value : labelLocation - value) :\n                    (isMinus ? labelLocation - value : labelLocation + value);\n                break;\n            case 'Near':\n                labelLocation = !this.inverted ? (isMinus ? labelLocation - value : labelLocation + value) :\n                    (isMinus ? labelLocation + value : labelLocation - value);\n                break;\n            case 'Center':\n                labelLocation = labelLocation;\n                break;\n        }\n        return labelLocation;\n    };\n    //calculation for top and outer position of datalabel for rect series\n    DataLabel.prototype.calculateTopAndOuterPosition = function (location, rect, position, series, index, extraSpace, isMinus) {\n        var margin = this.margin;\n        var top;\n        switch (series.type) {\n            case 'RangeColumn':\n            case 'RangeArea':\n            case 'Hilo':\n                top = (index === 0 && !this.yAxisInversed) || (index === 1 && this.yAxisInversed);\n                location = this.updateLabelLocation(position, location, extraSpace, margin, rect, top);\n                break;\n            case 'Candle':\n                top = (index === 0 || index === 2) && !this.yAxisInversed\n                    || (index === 1 || index === 3) && this.yAxisInversed;\n                location = this.updateLabelLocation(position, location, extraSpace, margin, rect, top, index > 1);\n                break;\n            case 'HiloOpenClose':\n                if (index <= 1) {\n                    top = (index === 0 && !this.yAxisInversed) || (index === 1 && this.yAxisInversed);\n                    location = this.updateLabelLocation(position, location, extraSpace, margin, rect, top);\n                }\n                else {\n                    if (this.yAxisInversed) {\n                        location = !this.inverted ? location + extraSpace + margin.top : location - extraSpace - margin.right;\n                    }\n                    else {\n                        location = !this.inverted ? location - extraSpace - margin.bottom : location + extraSpace + margin.left;\n                    }\n                }\n                break;\n            default:\n                if ((isMinus && position === 'Top') || (!isMinus && position === 'Outer')) {\n                    location = !this.inverted ? location - extraSpace - margin.bottom : location + extraSpace + margin.left;\n                }\n                else {\n                    location = !this.inverted ? location + extraSpace + margin.top : location - extraSpace - margin.right;\n                }\n                break;\n        }\n        return location;\n    };\n    /**\n     * Updates the label location\n     */\n    DataLabel.prototype.updateLabelLocation = function (position, location, extraSpace, margin, rect, top, inside) {\n        if (inside === void 0) { inside = false; }\n        if (!this.inverted) {\n            if (top) {\n                location = (position === 'Outer' && !inside) ? location - extraSpace - margin.bottom : location + extraSpace + margin.top;\n            }\n            else {\n                location = (position === 'Outer' && !inside) ? location + rect.height + extraSpace + margin.top :\n                    location + rect.height - extraSpace - margin.bottom;\n            }\n        }\n        else {\n            if (top) {\n                location = (position === 'Outer' && !inside) ? location + extraSpace + margin.left : location - extraSpace - margin.right;\n            }\n            else {\n                location = (position === 'Outer' && !inside) ? location - rect.width - extraSpace - margin.right :\n                    location - rect.width + extraSpace + margin.left;\n            }\n        }\n        return location;\n    };\n    DataLabel.prototype.calculatePathActualPosition = function (y, markerSize, series, point, size, labelIndex) {\n        var points = series.points;\n        var index = point.index;\n        var yValue = points[index].yValue;\n        var position;\n        var nextPoint = points.length - 1 > index ? points[index + 1] : null;\n        var previousPoint = index > 0 ? points[index - 1] : null;\n        var yLocation;\n        var isOverLap = true;\n        var labelRect;\n        var isBottom;\n        var positionIndex;\n        var collection = this.chart.dataLabelCollections;\n        if (series.type === 'Bubble') {\n            position = 'Top';\n        }\n        else if (series.type.indexOf('Step') > -1) {\n            position = 'Top';\n            if (index) {\n                position = (!previousPoint || !previousPoint.visible || (yValue > previousPoint.yValue !== this.yAxisInversed)\n                    || yValue === previousPoint.yValue) ? 'Top' : 'Bottom';\n            }\n        }\n        else if (series.type === 'BoxAndWhisker') {\n            if (labelIndex === 1 || labelIndex === 3 || labelIndex > 4) {\n                position = series.yAxis.isInversed ? 'Bottom' : 'Top';\n            }\n            else if (labelIndex === 2 || labelIndex === 4) {\n                position = series.yAxis.isInversed ? 'Top' : 'Bottom';\n            }\n            else {\n                isOverLap = false;\n                position = 'Middle';\n                yLocation = this.calculatePathPosition(y, position, series, point, size, labelIndex);\n            }\n        }\n        else {\n            if (index === 0) {\n                position = (!nextPoint || !nextPoint.visible || yValue > nextPoint.yValue ||\n                    (yValue < nextPoint.yValue && this.yAxisInversed)) ? 'Top' : 'Bottom';\n            }\n            else if (index === points.length - 1) {\n                position = (!previousPoint || !previousPoint.visible || yValue > previousPoint.yValue ||\n                    (yValue < previousPoint.yValue && this.yAxisInversed)) ? 'Top' : 'Bottom';\n            }\n            else {\n                if (!nextPoint.visible && !(previousPoint && previousPoint.visible)) {\n                    position = 'Top';\n                }\n                else if (!nextPoint.visible || !previousPoint) {\n                    position = (nextPoint.yValue > yValue || (previousPoint && previousPoint.yValue > yValue)) ?\n                        'Bottom' : 'Top';\n                }\n                else {\n                    var slope = (nextPoint.yValue - previousPoint.yValue) / 2;\n                    var intersectY = (slope * index) + (nextPoint.yValue - (slope * (index + 1)));\n                    position = !this.yAxisInversed ? intersectY < yValue ? 'Top' : 'Bottom' :\n                        intersectY < yValue ? 'Bottom' : 'Top';\n                }\n            }\n        }\n        isBottom = position === 'Bottom';\n        positionIndex = ['Outer', 'Top', 'Bottom', 'Middle', 'Auto'].indexOf(position);\n        while (isOverLap && positionIndex < 4) {\n            yLocation = this.calculatePathPosition(y, this.getPosition(positionIndex), series, point, size, labelIndex);\n            labelRect = calculateRect(new ChartLocation(this.locationX, yLocation), size, this.margin);\n            isOverLap = labelRect.y < 0 || isCollide(labelRect, collection, series.clipRect)\n                || (labelRect.y + labelRect.height) > series.clipRect.height;\n            positionIndex = isBottom ? positionIndex - 1 : positionIndex + 1;\n            isBottom = false;\n        }\n        return yLocation;\n    };\n    /**\n     * Animates the data label.\n     * @return {void}.\n     * @private\n     */\n    DataLabel.prototype.doDataLabelAnimation = function (series, element) {\n        var shapeElements = series.shapeElement.childNodes;\n        var textNode = series.textElement.childNodes;\n        var delay = series.animation.delay + series.animation.duration;\n        var location;\n        var length = element ? 1 : textNode.length;\n        for (var i = 0; i < length; i++) {\n            if (element) {\n                element.style.visibility = 'hidden';\n                templateAnimate(element, delay, 200, 'ZoomIn');\n            }\n            else {\n                location = new ChartLocation((+textNode[i].getAttribute('x')) + ((+textNode[i].getAttribute('width')) / 2), (+textNode[i].getAttribute('y')) + ((+textNode[i].getAttribute('height')) / 2));\n                markerAnimate(textNode[i], delay, 200, series, null, location, true);\n                if (shapeElements[i]) {\n                    location = new ChartLocation((+shapeElements[i].getAttribute('x')) + ((+shapeElements[i].getAttribute('width')) / 2), (+shapeElements[i].getAttribute('y')) + ((+shapeElements[i].getAttribute('height')) / 2));\n                    markerAnimate(shapeElements[i], delay, 200, series, null, location, true);\n                }\n            }\n        }\n    };\n    DataLabel.prototype.getPosition = function (index) {\n        return (['Outer', 'Top', 'Bottom', 'Middle', 'Auto'][index]);\n    };\n    /**\n     * Get module name.\n     */\n    DataLabel.prototype.getModuleName = function () {\n        // Returns the module name\n        return 'DataLabel';\n    };\n    /**\n     * To destroy the dataLabel for series.\n     * @return {void}\n     * @private\n     */\n    DataLabel.prototype.destroy = function (chart) {\n        // Destroy method performed here\n    };\n    return DataLabel;\n}());\nexport { DataLabel };\n","import { Mean, RectOption } from '../../common/utils/helper';\nimport { getPoint, PathOption, sum, templateAnimate } from '../../common/utils/helper';\n/**\n * Error bar Module used to render the error bar for series.\n */\nvar ErrorBar = /** @class */ (function () {\n    /**\n     * Constructor for the error bar module.\n     * @private\n     */\n    function ErrorBar(chart) {\n        this.chart = chart;\n    }\n    /**\n     * Render the error bar for series.\n     * @return {void}\n     * @private\n     */\n    ErrorBar.prototype.render = function (series) {\n        if (this.chart.chartAreaType === 'PolarRadar') {\n            return null;\n        }\n        this.createElement(series);\n        this.renderErrorBar(series);\n    };\n    ErrorBar.prototype.renderErrorBar = function (series) {\n        var seriesIndex = series.index;\n        var point;\n        var symbolId;\n        var capId;\n        var errorbar = series.errorBar;\n        var errorBarCap = series.errorBar.errorBarCap;\n        var border = series.border;\n        var start;\n        var mid;\n        var end;\n        var isInverted;\n        var isVert;\n        var errorDirection = ['', ''];\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point_1 = _a[_i];\n            if (point_1.visible && point_1.symbolLocations[0]) {\n                var errorX = 0;\n                var errorY = 0;\n                switch (errorbar.mode) {\n                    case 'Vertical':\n                        errorY = errorbar.verticalError;\n                        break;\n                    case 'Horizontal':\n                        errorX = errorbar.horizontalError;\n                        break;\n                    case 'Both':\n                        errorX = errorbar.horizontalError;\n                        errorY = errorbar.verticalError;\n                        break;\n                }\n                errorDirection = this['calculate' + errorbar.type + 'Value'](point_1, series, this.chart.requireInvertedAxis, errorX, errorY);\n                symbolId = this.chart.element.id + '_Series_' + '_ErrorBarGroup_' + seriesIndex + '_Point_' + point_1.index;\n                capId = this.chart.element.id + '_Series_' + '_ErrorBarCap_' + seriesIndex + '_Point_' + point_1.index;\n                var shapeOption = new PathOption(symbolId, '', errorbar.width, errorbar.color, null, '', errorDirection[0]);\n                var path = this.chart.renderer.drawPath(shapeOption);\n                series.errorBarElement.appendChild(path);\n                var capOption = new PathOption(capId, '', errorBarCap.width, errorBarCap.color, null, '', errorDirection[1]);\n                var capPath = this.chart.renderer.drawPath(capOption);\n                series.errorBarElement.appendChild(capPath);\n            }\n        }\n    };\n    // path calculation for error bar\n    ErrorBar.prototype.findLocation = function (point, series, isInverted, x1, y1) {\n        var errorbar = series.errorBar;\n        var direction = errorbar.direction;\n        var location = [];\n        var stackedValue = series.stackedValues;\n        var yValue = series.type.indexOf('Stacking') > -1 ? series.stackedValues.endValues[point.index] :\n            (series.seriesType === 'HighLow' || series.seriesType === 'HighLowOpenClose') ? (series.points[point.index].high) :\n                point.yValue;\n        var startPoint = getPoint(point.xValue + ((direction === 'Plus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Horizontal' || errorbar.mode === 'Both')) ? x1 = errorbar.horizontalPositiveError : x1 : 0), yValue + ((direction === 'Plus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Vertical' || errorbar.mode === 'Both')) ? y1 = errorbar.verticalPositiveError : y1 : 0), series.xAxis, series.yAxis, isInverted);\n        location.push(startPoint);\n        if (series.isRectSeries) {\n            var midPoint = point.symbolLocations[0];\n            location.push(midPoint);\n        }\n        else {\n            var midPoint = getPoint(point.xValue, point.yValue, series.xAxis, series.yAxis, isInverted);\n            location.push(midPoint);\n        }\n        var endPoint = getPoint(point.xValue - ((direction === 'Minus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Horizontal' || errorbar.mode === 'Both')) ? x1 = errorbar.horizontalNegativeError : x1 : 0), yValue - ((direction === 'Minus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Vertical' || errorbar.mode === 'Both')) ? y1 = errorbar.verticalNegativeError : y1 : 0), series.xAxis, series.yAxis, isInverted);\n        location.push(endPoint);\n        // calculate error height for datalabel position alignment\n        point.error = (errorbar.mode === 'Vertical') ? errorbar.verticalError : errorbar.horizontalError;\n        this.negativeHeight = (errorbar.mode === 'Vertical' || errorbar.mode === 'Both') ? (isInverted ? (location[1].x - location[2].x) :\n            (location[2].y - location[1].y)) : 0;\n        this.positiveHeight = (errorbar.mode === 'Vertical' || errorbar.mode === 'Both') ? (isInverted ? (location[0].x - location[1].x) :\n            (location[1].y - location[0].y)) : 0;\n        return this.getErrorDirection(location[0], location[1], location[2], series, isInverted);\n    };\n    // calculations for eror bar types\n    ErrorBar.prototype.calculateFixedValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var errorbar = series.errorBar;\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculatePercentageValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        errorX = (errorX / 100) * point.xValue;\n        errorY = (errorY / 100) * point.yValue;\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculateStandardDeviationValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var getMean = this.meanCalculation(series, series.errorBar.mode);\n        errorX = errorX * (getMean.horizontalSquareRoot + getMean.horizontalMean);\n        errorY = errorY * (getMean.verticalSquareRoot + getMean.verticalMean);\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculateStandardErrorValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var length = series.points.length;\n        var getMean = this.meanCalculation(series, series.errorBar.mode);\n        errorX = ((errorX * getMean.horizontalSquareRoot) / Math.sqrt(length));\n        errorY = ((errorY * getMean.verticalSquareRoot) / Math.sqrt(length));\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculateCustomValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var errorbar = series.errorBar;\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.getHorizontalDirection = function (start, mid, end, direction, errorMode, capLength) {\n        var path = '';\n        var capDirection = '';\n        path += ' M ' + start.x + ' ' + mid.y + ' L ' + end.x + ' ' + mid.y;\n        capDirection += (direction === 'Plus' || direction === 'Both') ? ' M ' + (start.x) + ' ' + (mid.y - capLength) + ' L '\n            + (start.x) + ' ' + (mid.y + capLength) : '';\n        capDirection += (direction === 'Minus' || direction === 'Both') ? ' M ' + (end.x) + ' ' + (mid.y - capLength) + ' L '\n            + (end.x) + ' ' + (mid.y + capLength) : ' ';\n        return [path, capDirection];\n    };\n    ErrorBar.prototype.getVerticalDirection = function (start, mid, end, direction, errorMode, capLength) {\n        var path = '';\n        var capDirection = '';\n        path += ' M ' + mid.x + ' ' + start.y + ' L ' + mid.x + ' ' + end.y;\n        capDirection += (direction === 'Plus' || direction === 'Both') ? ' M ' + (mid.x - capLength) + ' ' + start.y + ' L '\n            + (mid.x + capLength) + ' ' + start.y : '';\n        capDirection += (direction === 'Minus' || direction === 'Both') ? ' M ' + (mid.x - capLength) + ' ' + end.y + ' L '\n            + (mid.x + capLength) + ' ' + end.y : '';\n        return [path, capDirection];\n    };\n    ErrorBar.prototype.getBothDirection = function (start, mid, end, direction, errorMode, capLength) {\n        var capDirection = '';\n        var path = '';\n        var pathH = this.getHorizontalDirection(start, mid, end, direction, errorMode, capLength);\n        var pathV = this.getVerticalDirection(start, mid, end, direction, errorMode, capLength);\n        path = pathH[0].concat(pathV[0]);\n        capDirection = pathH[1].concat(pathV[1]);\n        return [path, capDirection];\n    };\n    ErrorBar.prototype.getErrorDirection = function (start, mid, end, series, isInverted) {\n        var direction = series.errorBar.direction;\n        var mode = series.errorBar.mode;\n        var capLength = series.errorBar.errorBarCap.length;\n        var path = '';\n        var paths;\n        var capDirection = '';\n        var errorMode = mode;\n        switch (mode) {\n            case 'Both':\n                errorMode = mode;\n                break;\n            case 'Horizontal':\n                errorMode = (isInverted) ? 'Vertical' : mode;\n                break;\n            case 'Vertical':\n                errorMode = (isInverted) ? 'Horizontal' : mode;\n                break;\n        }\n        switch (errorMode) {\n            case 'Horizontal':\n                paths = this.getHorizontalDirection(start, mid, end, direction, errorMode, capLength);\n                break;\n            case 'Vertical':\n                paths = this.getVerticalDirection(start, mid, end, direction, errorMode, capLength);\n                break;\n            case 'Both':\n                paths = this.getBothDirection(start, mid, end, direction, errorMode, capLength);\n                break;\n        }\n        return [paths[0], paths[1]];\n    };\n    // mean calculation for standard deviation and standard error\n    ErrorBar.prototype.meanCalculation = function (series, mode) {\n        var sumOfX = 0;\n        var sumOfY = 0;\n        var verticalMean = 0;\n        var horizontalMean = 0;\n        var horSquareDev;\n        var verStandardMean;\n        var horStandardMean;\n        var verSquareTotal;\n        var horSquareTotal;\n        var verSquareRoot;\n        var horSquareRoot;\n        var length = series.points.length;\n        switch (mode) {\n            case 'Vertical':\n                sumOfY = sum(series.yData);\n                verticalMean = sumOfY / length;\n                break;\n            case 'Horizontal':\n                sumOfX = sum(series.xData);\n                horizontalMean = sumOfX / length;\n                break;\n            case 'Both':\n                sumOfY = sum(series.yData);\n                verticalMean = sumOfY / length;\n                sumOfX = sum(series.xData);\n                horizontalMean = sumOfX / length;\n        }\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (mode === 'Vertical') {\n                sumOfY = sumOfY + Math.pow((point.yValue - verticalMean), 2);\n            }\n            else if (mode === 'Horizontal') {\n                sumOfX = sumOfX + Math.pow((point.xValue - horizontalMean), 2);\n            }\n            else {\n                sumOfY = sumOfY + Math.pow((point.yValue - verticalMean), 2);\n                sumOfX = sumOfX + Math.pow((point.xValue - horizontalMean), 2);\n            }\n        }\n        verStandardMean = sumOfY / (length - 1);\n        verSquareRoot = Math.sqrt(sumOfY / (length - 1));\n        horStandardMean = sumOfX / (length - 1);\n        horSquareRoot = Math.sqrt(sumOfX / (length - 1));\n        return new Mean(verStandardMean, verSquareRoot, horStandardMean, horSquareRoot, verticalMean, horizontalMean);\n    };\n    ErrorBar.prototype.createElement = function (series) {\n        var explodeValue = 5;\n        var render = series.chart.renderer;\n        var transform;\n        transform = series.chart.chartAreaType === 'Cartesian' ? 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')' : '';\n        var markerHeight = (series.marker.height + explodeValue) / 2;\n        var markerWidth = (series.marker.width + explodeValue) / 2;\n        if (series.chart.chartAreaType === 'Cartesian') {\n            var errorBarClipRect = render.drawClipPath(new RectOption(this.chart.element.id + '_ChartErrorBarClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                x: -markerWidth, y: -markerHeight,\n                width: series.clipRect.width + markerWidth * 2, height: series.clipRect.height + markerHeight * 2\n            }));\n            series.errorBarElement = render.createGroup({\n                'id': this.chart.element.id + 'ErrorBarGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.chart.element.id + '_ChartErrorBarClipRect_' + series.index + ')'\n            });\n            series.errorBarElement.appendChild(errorBarClipRect);\n        }\n    };\n    /**\n     * Animates the error bar.\n     * @return {void}.\n     * @private\n     */\n    ErrorBar.prototype.doErrorBarAnimation = function (series) {\n        var errorBarElements = series.errorBarElement.childNodes;\n        if (!errorBarElements) {\n            return null;\n        }\n        var delay = series.animation.delay + series.animation.duration;\n        var j = 1;\n        while (j < errorBarElements.length) {\n            for (var i = 0; i < series.points.length; i++) {\n                if (!series.points[i].symbolLocations[0]) {\n                    continue;\n                }\n                errorBarElements[j].style.visibility = 'hidden';\n                templateAnimate(errorBarElements[j], delay, 350, series.chart.requireInvertedAxis ? 'SlideLeftIn' : 'SlideBottomIn', false);\n            }\n            j++;\n        }\n    };\n    /**\n     * Get module name.\n     */\n    ErrorBar.prototype.getModuleName = function () {\n        // Returns the module name\n        return 'ErrorBar';\n    };\n    /**\n     * To destroy the errorBar for series.\n     * @return {void}\n     * @private\n     */\n    ErrorBar.prototype.destroy = function (chart) {\n        // Destroy method performed here\n    };\n    return ErrorBar;\n}());\nexport { ErrorBar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Chart legend\n */\nimport { remove, Browser } from '@syncfusion/ej2-base';\nimport { extend } from '@syncfusion/ej2-base';\nimport { LegendOptions, BaseLegend } from '../../common/legend/legend';\nimport { measureText, textTrim } from '../../common/utils/helper';\nimport { legendRender } from '../../common/model/constants';\n/**\n * `Legend` module used to render legend for the chart.\n */\nvar Legend = /** @class */ (function (_super) {\n    __extends(Legend, _super);\n    function Legend(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.library = _this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Binding events for legend module.\n     */\n    Legend.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on(Browser.touchMoveEvent, this.mouseMove, this);\n        this.chart.on('click', this.click, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseEnd, this);\n    };\n    /**\n     * UnBinding events for legend module.\n     */\n    Legend.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.off(Browser.touchMoveEvent, this.mouseMove);\n        this.chart.off('click', this.click);\n        this.chart.off(Browser.touchEndEvent, this.mouseEnd);\n    };\n    /**\n     * To handle mosue move for legend module\n     */\n    Legend.prototype.mouseMove = function (e) {\n        if (this.chart.legendSettings.visible && !this.chart.isTouch) {\n            this.move(e);\n        }\n    };\n    /**\n     * To handle mosue end for legend module\n     */\n    Legend.prototype.mouseEnd = function (e) {\n        if (this.chart.legendSettings.visible && this.chart.isTouch) {\n            this.move(e);\n        }\n    };\n    /**\n     * Get the legend options.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.getLegendOptions = function (visibleSeriesCollection) {\n        this.legendCollections = [];\n        var seriesType;\n        for (var _i = 0, visibleSeriesCollection_1 = visibleSeriesCollection; _i < visibleSeriesCollection_1.length; _i++) {\n            var series = visibleSeriesCollection_1[_i];\n            if (series.category !== 'Indicator') {\n                seriesType = (visibleSeriesCollection[0].chart.chartAreaType === 'PolarRadar') ? series.drawType :\n                    series.type;\n                this.legendCollections.push(new LegendOptions(series.name, series.interior, series.legendShape, series.visible, seriesType, series.marker.shape, series.marker.visible));\n            }\n        }\n    };\n    /** @private */\n    Legend.prototype.getLegendBounds = function (availableSize, legendBounds, legend) {\n        var padding = legend.padding;\n        var extraHeight = 0;\n        var extraWidth = 0;\n        if (!this.isVertical) {\n            extraHeight = !legend.height ? ((availableSize.height / 100) * 5) : 0;\n        }\n        else {\n            extraWidth = !legend.width ? ((availableSize.width / 100) * 5) : 0;\n        }\n        legendBounds.height += extraHeight;\n        legendBounds.width += extraWidth;\n        var shapeHeight = legend.shapeHeight;\n        var shapeWidth = legend.shapeWidth;\n        var shapePadding = legend.shapePadding;\n        var maximumWidth = 0;\n        var rowWidth = 0;\n        var legendWidth = 0;\n        var columnHeight = 0;\n        var rowCount = 0;\n        var legendEventArgs;\n        this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n        var render = false;\n        for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n            var legendOption = _a[_i];\n            legendEventArgs = {\n                fill: legendOption.fill, text: legendOption.text, shape: legendOption.shape,\n                markerShape: legendOption.markerShape, name: legendRender, cancel: false\n            };\n            this.chart.trigger(legendRender, legendEventArgs);\n            legendOption.render = !legendEventArgs.cancel;\n            legendOption.text = legendEventArgs.text;\n            legendOption.fill = legendEventArgs.fill;\n            legendOption.shape = legendEventArgs.shape;\n            legendOption.markerShape = legendEventArgs.markerShape;\n            legendOption.textSize = measureText(legendOption.text, legend.textStyle);\n            if (legendOption.render && legendOption.text !== '') {\n                render = true;\n                legendWidth = shapeWidth + shapePadding + legendOption.textSize.width + padding;\n                rowWidth = rowWidth + legendWidth;\n                if (legendBounds.width < (padding + rowWidth) || this.isVertical) {\n                    maximumWidth = Math.max(maximumWidth, (rowWidth + padding - (this.isVertical ? 0 : legendWidth)));\n                    if (rowCount === 0 && (legendWidth !== rowWidth)) {\n                        rowCount = 1;\n                    }\n                    rowWidth = this.isVertical ? 0 : legendWidth;\n                    rowCount++;\n                    columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding;\n                }\n            }\n        }\n        columnHeight = Math.max(columnHeight, (this.maxItemHeight + padding) + padding);\n        this.isPaging = legendBounds.height < columnHeight;\n        this.totalPages = rowCount;\n        if (render) {\n            this.setBounds(Math.max((rowWidth + padding), maximumWidth), columnHeight, legend, legendBounds);\n        }\n        else {\n            this.setBounds(0, 0, legend, legendBounds);\n        }\n    };\n    /** @private */\n    Legend.prototype.getRenderPoint = function (legendOption, start, textPadding, prevLegend, rect, count, firstLegend) {\n        var padding = this.legend.padding;\n        var previousBound = (prevLegend.location.x + textPadding + prevLegend.textSize.width);\n        if ((previousBound + (legendOption.textSize.width + textPadding)) > (rect.x + rect.width + this.legend.shapeWidth / 2) ||\n            this.isVertical) {\n            legendOption.location.x = start.x;\n            legendOption.location.y = (count === firstLegend) ? prevLegend.location.y :\n                prevLegend.location.y + this.maxItemHeight + padding;\n        }\n        else {\n            legendOption.location.x = (count === firstLegend) ? prevLegend.location.x : previousBound;\n            legendOption.location.y = prevLegend.location.y;\n        }\n        var availwidth = (this.legendBounds.x + this.legendBounds.width) - (legendOption.location.x +\n            textPadding - this.legend.shapeWidth / 2);\n        legendOption.text = textTrim(+availwidth.toFixed(4), legendOption.text, this.legend.textStyle);\n    };\n    /** @private */\n    Legend.prototype.LegendClick = function (seriesIndex) {\n        var chart = this.chart;\n        var series = chart.visibleSeries[seriesIndex];\n        var legend = this.legendCollections[seriesIndex];\n        var selectedDataIndexes = [];\n        if (chart.selectionModule) {\n            selectedDataIndexes = extend([], chart.selectionModule.selectedDataIndexes, null, true);\n        }\n        if (chart.legendSettings.toggleVisibility) {\n            if (!series.visible) {\n                series.visible = true;\n            }\n            else {\n                series.visible = false;\n            }\n            legend.visible = (series.visible);\n            if (chart.svgObject.childNodes.length > 0) {\n                while (chart.svgObject.lastChild) {\n                    chart.svgObject.removeChild(chart.svgObject.lastChild);\n                }\n                remove(chart.svgObject);\n            }\n            chart.animateSeries = false;\n            chart.removeSvg();\n            chart.refreshAxis();\n            series.refreshAxisLabel();\n            this.refreshSeries(chart.visibleSeries);\n            chart.refreshBound();\n            if (selectedDataIndexes.length > 0) {\n                chart.selectionModule.selectedDataIndexes = selectedDataIndexes;\n                chart.selectionModule.redrawSelection(chart, chart.selectionMode);\n            }\n        }\n        else if (chart.selectionModule) {\n            chart.selectionModule.legendSelection(chart, seriesIndex);\n        }\n    };\n    Legend.prototype.refreshSeries = function (seriesCollection) {\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            series.position = undefined;\n        }\n    };\n    /**\n     * To show the tooltip for the trimmed text in legend.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.click = function (event) {\n        if (!this.chart.legendSettings.visible) {\n            return;\n        }\n        var targetId = event.target.id;\n        var legendItemsId = [this.legendID + '_text_', this.legendID + '_shape_marker_',\n            this.legendID + '_shape_'];\n        var seriesIndex;\n        for (var _i = 0, legendItemsId_1 = legendItemsId; _i < legendItemsId_1.length; _i++) {\n            var id = legendItemsId_1[_i];\n            if (targetId.indexOf(id) > -1) {\n                seriesIndex = parseInt(targetId.split(id)[1], 10);\n                this.LegendClick(seriesIndex);\n            }\n        }\n        if (targetId.indexOf(this.legendID + '_pageup') > -1) {\n            this.changePage(event, true);\n        }\n        else if (targetId.indexOf(this.legendID + '_pagedown') > -1) {\n            this.changePage(event, false);\n        }\n    };\n    /**\n     * Get module name\n     */\n    Legend.prototype.getModuleName = function () {\n        return 'Legend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.destroy = function (chart) {\n        this.removeEventListener();\n    };\n    return Legend;\n}(BaseLegend));\nexport { Legend };\n","import { createTemplate, measureElementRect, logBase } from '../utils/helper';\nimport { ChartLocation, stringToNumber, appendElement, withIn, Rect } from '../utils/helper';\nimport { getPoint } from '../utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\nimport { annotationRender } from '../model/constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Annotation Module handles the Annotation for chart and accumulation series.\n */\nvar AnnotationBase = /** @class */ (function () {\n    /**\n     * Constructor for chart and accumulation annotation\n     * @param control\n     */\n    function AnnotationBase(control) {\n        this.control = control;\n    }\n    /**\n     * Method to render the annotation for chart and accumulation series.\n     * @private\n     * @param annotation\n     * @param index\n     */\n    AnnotationBase.prototype.render = function (annotation, index) {\n        this.isChart = this.control.getModuleName() === 'chart';\n        this.annotation = annotation;\n        var childElement = createTemplate(createElement('div', {\n            id: this.control.element.id + '_Annotation_' + index,\n            styles: 'position: absolute;'\n        }), index, annotation.content, this.control);\n        return childElement;\n    };\n    /**\n     * Method to calculate the location for annotation - coordinate unit as pixel.\n     * @private\n     * @param location\n     */\n    AnnotationBase.prototype.setAnnotationPixelValue = function (location) {\n        var rect;\n        rect = this.annotation.region === 'Chart' ?\n            new Rect(0, 0, this.control.availableSize.width, this.control.availableSize.height) :\n            this.isChart ?\n                this.control.chartAxisLayoutPanel.seriesClipRect :\n                this.control.series[0].accumulationBound;\n        location.x = ((typeof this.annotation.x !== 'string') ?\n            ((typeof this.annotation.x === 'number') ? this.annotation.x : 0) :\n            stringToNumber(this.annotation.x, rect.width)) + rect.x;\n        location.y = ((typeof this.annotation.y === 'number') ? this.annotation.y :\n            stringToNumber(this.annotation.y, rect.height)) + rect.y;\n        return true;\n    };\n    /**\n     * Method to calculate the location for annotation - coordinate unit as point.\n     * @private\n     * @param location\n     */\n    AnnotationBase.prototype.setAnnotationPointValue = function (location) {\n        var symbolLocation = new ChartLocation(0, 0);\n        if (this.isChart) {\n            var xAxis = void 0;\n            var yAxis = void 0;\n            var chart = this.control;\n            var annotation = this.annotation;\n            var xValue = void 0;\n            var isLog = false;\n            var xAxisName = annotation.xAxisName;\n            var yAxisName = annotation.yAxisName;\n            var isInverted = chart.requireInvertedAxis;\n            for (var _i = 0, _a = chart.axisCollections; _i < _a.length; _i++) {\n                var axis = _a[_i];\n                if (xAxisName === axis.name || (xAxisName == null && axis.name === 'primaryXAxis')) {\n                    xAxis = axis;\n                    if (xAxis.valueType === 'Category') {\n                        if (xAxis.labels.indexOf(annotation.x) < 0) {\n                            return false;\n                        }\n                        else {\n                            xValue = xAxis.labels.indexOf(annotation.x);\n                        }\n                    }\n                    else if (xAxis.valueType === 'DateTime') {\n                        var option = { skeleton: 'full', type: 'dateTime' };\n                        xValue = (typeof this.annotation.x === 'object') ?\n                            Date.parse(chart.intl.getDateParser(option)(chart.intl.getDateFormat(option)(new Date(DataUtil.parse.parseJson({ val: annotation.x }).val)))) : 0;\n                    }\n                    else {\n                        xValue = +annotation.x;\n                    }\n                }\n                else if (yAxisName === axis.name || (yAxisName == null && axis.name === 'primaryYAxis')) {\n                    yAxis = axis;\n                    isLog = yAxis.valueType === 'Logarithmic';\n                }\n            }\n            if (xAxis && yAxis && withIn(xAxis.valueType === 'Logarithmic' ? logBase(xValue, xAxis.logBase) : xValue, xAxis.visibleRange)) {\n                symbolLocation = getPoint(xValue, withIn((isLog ? logBase(+this.annotation.y, yAxis.logBase) : +this.annotation.y), yAxis.visibleRange) ? +annotation.y :\n                    isLog ? Math.pow(yAxis.logBase, yAxis.visibleRange.max) :\n                        +annotation.y > yAxis.visibleRange.max ? yAxis.visibleRange.max : yAxis.visibleRange.min, xAxis, yAxis, isInverted);\n                location.x = symbolLocation.x + (isInverted ? yAxis.rect.x : xAxis.rect.x);\n                location.y = symbolLocation.y + (isInverted ? xAxis.rect.y : yAxis.rect.y);\n            }\n            else {\n                return false;\n            }\n            return true;\n        }\n        else {\n            return this.setAccumulationPointValue(location);\n        }\n    };\n    /**\n     * Method to calculate the location for annotation - coordinate unit as point in accumulation chart.\n     * @private\n     * @param location\n     */\n    AnnotationBase.prototype.setAccumulationPointValue = function (location) {\n        var accumulation = this.control;\n        var point;\n        for (var _i = 0, _a = accumulation.visibleSeries[0].points; _i < _a.length; _i++) {\n            var accPoint = _a[_i];\n            if (typeof accPoint.x === 'object') {\n                if (Date.parse(accPoint.x) === Date.parse(this.annotation.x) &&\n                    accPoint.y === this.annotation.y) {\n                    point = accPoint;\n                    break;\n                }\n            }\n            else {\n                if (accPoint.x === this.annotation.x && accPoint.y === this.annotation.y) {\n                    point = accPoint;\n                    break;\n                }\n            }\n        }\n        if (point && point.visible) {\n            location.x = point.symbolLocation.x;\n            location.y = point.symbolLocation.y;\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Method to set the element style for accumulation / chart annotation.\n     * @private\n     * @param location\n     * @param element\n     * @param parentElement\n     */\n    AnnotationBase.prototype.setElementStyle = function (location, element, parentElement) {\n        var elementRect = measureElementRect(element);\n        var argsData = {\n            cancel: false, name: annotationRender, content: element,\n            location: location\n        };\n        this.control.trigger(annotationRender, argsData);\n        if (!argsData.cancel) {\n            argsData.content.style.left = this.setAlignmentValue(this.annotation.horizontalAlignment, elementRect.width, argsData.location.x) + 'px';\n            argsData.content.style.top = this.setAlignmentValue(this.annotation.verticalAlignment, elementRect.height, argsData.location.y) + 'px';\n            argsData.content.setAttribute('aria-label', this.annotation.description || 'Annotation');\n            appendElement(argsData.content, parentElement);\n        }\n    };\n    /**\n     * Method to calculate the alignment value for annotation.\n     * @private\n     * @param alignment\n     * @param size\n     * @param value\n     */\n    AnnotationBase.prototype.setAlignmentValue = function (alignment, size, value) {\n        switch (alignment) {\n            case 'Top':\n            case 'Near':\n                value -= size;\n                break;\n            case 'Bottom':\n            case 'Far':\n                value += 0;\n                break;\n            case 'Middle':\n            case 'Center':\n                value -= (size / 2);\n                break;\n        }\n        return value;\n    };\n    return AnnotationBase;\n}());\nexport { AnnotationBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AnnotationBase } from '../../common/annotation/annotation';\nimport { ChartLocation, appendElement } from '../../common/utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\n/**\n * Annotation Module handles the Annotation for chart.\n */\nvar ChartAnnotation = /** @class */ (function (_super) {\n    __extends(ChartAnnotation, _super);\n    /**\n     * Constructor for chart annotation.\n     * @private.\n     */\n    function ChartAnnotation(control, annotations) {\n        var _this = _super.call(this, control) || this;\n        _this.chart = control;\n        _this.annotations = annotations;\n        return _this;\n    }\n    /**\n     * Method to render the annotation for chart\n     * @param element\n     * @private\n     */\n    ChartAnnotation.prototype.renderAnnotations = function (element) {\n        var _this = this;\n        var annotationElement;\n        var location;\n        this.parentElement = createElement('div', {\n            id: this.chart.element.id + '_Annotation_Collections'\n        });\n        this.annotations.map(function (annotation, index) {\n            annotationElement = _this.render(annotation, index);\n            location = new ChartLocation(0, 0);\n            if (_this['setAnnotation' + annotation.coordinateUnits + 'Value'](location)) {\n                _this.setElementStyle(location, annotationElement, _this.parentElement);\n            }\n        });\n        appendElement(this.parentElement, element);\n    };\n    /**\n     * To destroy the annotation.\n     * @return {void}\n     * @private\n     */\n    ChartAnnotation.prototype.destroy = function (control) {\n        // Destroy method performed here\n    };\n    /**\n     * Get module name.\n     */\n    ChartAnnotation.prototype.getModuleName = function () {\n        // Returns te module name\n        return 'Annotation';\n    };\n    return ChartAnnotation;\n}(AnnotationBase));\nexport { ChartAnnotation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption, sum } from '../../common/utils/helper';\nimport { Size, getSaturationColor, getPoint } from '../../common/utils/helper';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ColumnBase } from './column-base';\nimport { getMedian } from '../../common/utils/helper';\n/**\n * Box and whisker Module used to render the box and whisker series.\n */\nvar BoxAndWhiskerSeries = /** @class */ (function (_super) {\n    __extends(BoxAndWhiskerSeries, _super);\n    function BoxAndWhiskerSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render BoxAndWhisker series.\n     * @return {void}\n     * @private\n     */\n    BoxAndWhiskerSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        var centerRegion;\n        var borderWidth = series.border.width || 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            var centerRegion_1 = void 0;\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                this.findBoxPlotValues(point.y, point, series.boxPlotMode);\n                //region to cover the top and bottom ticks\n                this.updateTipRegion(series, point, sideBySideInfo);\n                //get middleRect\n                centerRegion_1 = this.getRectangle((point.xValue + sideBySideInfo.start), point.upperQuartile, (point.xValue + sideBySideInfo.end), point.lowerQuartile, series);\n                point.regions.push(centerRegion_1);\n                argsData = this.triggerEvent(series, point, series.interior, {\n                    color: (!isNullOrUndefined(series.border.color) && series.border.color !== 'transparent') ? series.border.color :\n                        getSaturationColor(series.interior, -0.6),\n                    width: series.border.width ? series.border.width : 1\n                });\n                if (!argsData.cancel) {\n                    this.renderBoxAndWhisker(series, point, centerRegion_1, argsData, this.getPathString(point, series, getPoint(point.xValue, point.median, xAxis, yAxis, isInverted), getPoint(point.xValue, point.average, xAxis, yAxis, isInverted)));\n                }\n            }\n        }\n        if (series.marker.visible) {\n            series.chart.markerRender.render(series);\n        }\n    };\n    /**\n     * update the tip region fo box plot\n     * @param series\n     * @param point\n     * @param sideBySideInfo\n     */\n    BoxAndWhiskerSeries.prototype.updateTipRegion = function (series, point, sideBySideInfo) {\n        var tipRegion = this.getRectangle((point.xValue + sideBySideInfo.median), point.maximum, (point.xValue + sideBySideInfo.median), point.minimum, series);\n        this.updateTipSize(series, point, tipRegion, series.chart.requireInvertedAxis);\n    };\n    /**\n     * Update tip size to tip regions\n     * @param series\n     * @param point\n     * @param region\n     * @param isInverted\n     */\n    BoxAndWhiskerSeries.prototype.updateTipSize = function (series, point, region, isInverted) {\n        var borderWidth = series.border.width || 1;\n        if (!isInverted) {\n            region.x -= borderWidth / 2;\n            region.width = region.width || borderWidth;\n        }\n        else {\n            region.y -= borderWidth / 2;\n            region.height = region.height || borderWidth;\n        }\n        point.regions.push(region);\n    };\n    /**\n     * Calculation for path direction performed here\n     * @param point\n     * @param series\n     * @param median\n     * @param average\n     */\n    BoxAndWhiskerSeries.prototype.getPathString = function (point, series, median, average) {\n        var topRect = point.regions[0];\n        var midRect = point.regions[1];\n        var direction = '';\n        var width = series.chart.requireInvertedAxis ? topRect.height : topRect.width;\n        var center = series.chart.requireInvertedAxis ? topRect.y + topRect.height / 2 :\n            topRect.x + topRect.width / 2;\n        var midWidth = midRect.x + midRect.width;\n        var midHeight = midRect.y + midRect.height;\n        var topWidth = topRect.x + topRect.width;\n        var topHeight = topRect.y + topRect.height;\n        if (!series.chart.requireInvertedAxis) {\n            this.updateTipSize(series, point, { x: midRect.x, y: topRect.y, width: midWidth - midRect.x, height: 0 }, true);\n            this.updateTipSize(series, point, { x: midRect.x, y: topHeight, width: midWidth - midRect.x, height: 0 }, true);\n            direction += 'M ' + midRect.x + ' ' + topRect.y + ' ' + ' L ' + midWidth + ' ' + topRect.y;\n            direction += ' M ' + center + ' ' + topRect.y + ' ' + ' L ' + center + ' ' + midRect.y;\n            direction += ' M ' + midRect.x + ' ' + midRect.y + ' ' + ' L ' + midWidth + ' ' + midRect.y +\n                ' L ' + midWidth + ' ' + midHeight + ' L ' + midRect.x + ' ' + midHeight + ' Z';\n            direction += ' M ' + center + ' ' + midHeight + ' L ' + center + ' ' + topHeight;\n            direction += ' M ' + midRect.x + ' ' + topHeight + ' L ' + midWidth + ' ' + topHeight;\n            direction += ' M ' + midRect.x + ' ' + median.y + ' L ' + midWidth + ' ' + median.y;\n            direction += series.showMean ?\n                ' M ' + (average.x - 5) + ' ' + (average.y - 5) + ' L ' + (average.x + 5) + ' ' + (average.y + 5) +\n                    ' M ' + (average.x + 5) + ' ' + (average.y - 5) + ' L ' + (average.x - 5) + ' ' + (average.y + 5) : '';\n        }\n        else {\n            this.updateTipSize(series, point, { x: topRect.x, y: midRect.y, width: 0, height: midHeight - midRect.y }, false);\n            this.updateTipSize(series, point, { x: topWidth, y: midRect.y, width: 0, height: midHeight - midRect.y }, true);\n            direction += 'M ' + topRect.x + ' ' + midRect.y + ' L ' + topRect.x + ' ' + midHeight;\n            direction += 'M ' + topRect.x + ' ' + center + ' ' + ' L ' + midRect.x + ' ' + center;\n            direction += ' M ' + midRect.x + ' ' + midRect.y + ' ' + ' L ' + midWidth + ' ' + midRect.y +\n                ' L ' + midWidth + ' ' + midHeight + ' L ' + midRect.x + ' ' + midHeight + ' Z';\n            direction += ' M ' + midWidth + ' ' + center + ' L ' + topWidth + ' ' + center;\n            direction += ' M ' + topWidth + ' ' + midRect.y + ' L ' + topWidth + ' ' + midHeight;\n            direction += ' M ' + median.x + ' ' + midRect.y + ' ' + ' L ' + median.x + ' ' + midHeight;\n            direction += series.showMean ?\n                'M ' + (average.x + 5) + ' ' + (average.y - 5) + ' L ' + (average.x - 5) + ' ' + (average.y + 5) +\n                    'M ' + (average.x - 5) + ' ' + (average.y - 5) + ' L ' + (average.x + 5) + ' ' + (average.y + 5) : '';\n        }\n        return direction;\n    };\n    /**\n     * Rendering for box and whisker append here.\n     * @param series\n     * @param point\n     * @param rect\n     * @param argsData\n     * @param direction\n     */\n    BoxAndWhiskerSeries.prototype.renderBoxAndWhisker = function (series, point, rect, argsData, direction) {\n        var location;\n        var size;\n        var symbolId = series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index;\n        var element = series.chart.renderer.drawPath(new PathOption(symbolId + '_BoxPath', argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction));\n        element.setAttribute('aria-label', point.x.toString() + ':' + point.maximum.toString()\n            + ':' + point.minimum.toString() + ':' + point.lowerQuartile.toString() + ':' + point.upperQuartile.toString());\n        var parentElement = series.chart.renderer.createGroup({\n            'id': symbolId\n        });\n        parentElement.appendChild(element);\n        for (var i = 0; i < point.outliers.length; i++) {\n            location = getPoint(point.xValue, point.outliers[i], series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n            size = new Size(series.marker.width, series.marker.height);\n            point.symbolLocations.push(location);\n            this.updateTipSize(series, point, {\n                x: location.x - (size.width / 2), y: location.y - (size.height / 2),\n                width: size.width, height: size.height\n            }, true);\n        }\n        series.seriesElement.appendChild(parentElement);\n    };\n    /**\n     * To find the box plot values\n     * @param yValues\n     * @param point\n     * @param mode\n     */\n    BoxAndWhiskerSeries.prototype.findBoxPlotValues = function (yValues, point, mode) {\n        var yCount = yValues.length;\n        var quartile = {\n            average: sum(yValues) / yCount,\n            lowerQuartile: 0, upperQuartile: 0,\n            maximum: 0, minimum: 0,\n            median: 0, outliers: []\n        };\n        if (mode === 'Exclusive') {\n            quartile.lowerQuartile = this.getExclusiveQuartileValue(yValues, yCount, 0.25);\n            quartile.upperQuartile = this.getExclusiveQuartileValue(yValues, yCount, 0.75);\n            quartile.median = this.getExclusiveQuartileValue(yValues, yCount, 0.5);\n        }\n        else if (mode === 'Inclusive') {\n            quartile.lowerQuartile = this.getInclusiveQuartileValue(yValues, yCount, 0.25);\n            quartile.upperQuartile = this.getInclusiveQuartileValue(yValues, yCount, 0.75);\n            quartile.median = this.getInclusiveQuartileValue(yValues, yCount, 0.5);\n        }\n        else {\n            quartile.median = getMedian(yValues);\n            this.getQuartileValues(yValues, yCount, quartile);\n        }\n        this.getMinMaxOutlier(yValues, yCount, quartile);\n        point.minimum = quartile.minimum;\n        point.maximum = quartile.maximum;\n        point.lowerQuartile = quartile.lowerQuartile;\n        point.upperQuartile = quartile.upperQuartile;\n        point.median = quartile.median;\n        point.outliers = quartile.outliers;\n        point.average = quartile.average;\n    };\n    /**\n     * to find the exclusive quartile values\n     * @param yValues\n     * @param count\n     * @param percentile\n     */\n    BoxAndWhiskerSeries.prototype.getExclusiveQuartileValue = function (yValues, count, percentile) {\n        if (count === 0) {\n            return 0;\n        }\n        else if (count === 1) {\n            return yValues[0];\n        }\n        var value = 0;\n        var rank = percentile * (count + 1);\n        var integerRank = Math.floor(Math.abs(rank));\n        var fractionRank = rank - integerRank;\n        if (integerRank === 0) {\n            value = yValues[0];\n        }\n        else if (integerRank > count - 1) {\n            value = yValues[count - 1];\n        }\n        else {\n            value = fractionRank * (yValues[integerRank] - yValues[integerRank - 1]) + yValues[integerRank - 1];\n        }\n        return value;\n    };\n    /**\n     * to find the inclusive quartile values\n     * @param yValues\n     * @param count\n     * @param percentile\n     */\n    BoxAndWhiskerSeries.prototype.getInclusiveQuartileValue = function (yValues, count, percentile) {\n        if (count === 0) {\n            return 0;\n        }\n        else if (count === 1) {\n            return yValues[0];\n        }\n        var value = 0;\n        var rank = percentile * (count - 1);\n        var integerRank = Math.floor(Math.abs(rank));\n        var fractionRank = rank - integerRank;\n        value = fractionRank * (yValues[integerRank + 1] - yValues[integerRank]) + yValues[integerRank];\n        return value;\n    };\n    /**\n     * To find the quartile values\n     * @param yValues\n     * @param count\n     * @param lowerQuartile\n     * @param upperQuartile\n     */\n    BoxAndWhiskerSeries.prototype.getQuartileValues = function (yValues, count, quartile) {\n        if (count === 1) {\n            quartile.lowerQuartile = yValues[0];\n            quartile.upperQuartile = yValues[0];\n            return null;\n        }\n        var isEvenList = count % 2 === 0;\n        var halfLength = count / 2;\n        var lowerQuartileArray = yValues.slice(0, halfLength);\n        var upperQuartileArray = yValues.slice(isEvenList ? halfLength : halfLength + 1, count);\n        quartile.lowerQuartile = getMedian(lowerQuartileArray);\n        quartile.upperQuartile = getMedian(upperQuartileArray);\n    };\n    /**\n     * To find the min, max and outlier values\n     * @param yValues\n     * @param lowerQuartile\n     * @param upperQuartile\n     * @param minimum\n     * @param maximum\n     * @param outliers\n     */\n    BoxAndWhiskerSeries.prototype.getMinMaxOutlier = function (yValues, count, quartile) {\n        var interquartile = quartile.upperQuartile - quartile.lowerQuartile;\n        var rangeIQR = 1.5 * interquartile;\n        for (var i = 0; i < count; i++) {\n            if (yValues[i] < quartile.lowerQuartile - rangeIQR) {\n                quartile.outliers.push(yValues[i]);\n            }\n            else {\n                quartile.minimum = yValues[i];\n                break;\n            }\n        }\n        for (var i = count - 1; i >= 0; i--) {\n            if (yValues[i] > quartile.upperQuartile + rangeIQR) {\n                quartile.outliers.push(yValues[i]);\n            }\n            else {\n                quartile.maximum = yValues[i];\n                break;\n            }\n        }\n    };\n    /**\n     * Animate the series\n     * @param series\n     * @private\n     */\n    BoxAndWhiskerSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    BoxAndWhiskerSeries.prototype.getModuleName = function () {\n        return 'BoxAndWhiskerSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the candle series.\n     * @return {void}\n     * @private\n     */\n    BoxAndWhiskerSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the candle series.\n         */\n    };\n    return BoxAndWhiskerSeries;\n}(ColumnBase));\nexport { BoxAndWhiskerSeries };\n","/**\n * Defines the common functionalities of accumulation series\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { degreeToLocation, getElement } from '../../common/utils/helper';\nimport { pointByIndex, indexFinder } from '../model/acc-base';\n/**\n * Accumulation Base used to do some base calculation for accumulation chart.\n */\nvar AccumulationBase = /** @class */ (function () {\n    /** @private */\n    function AccumulationBase(accumulation) {\n        this.accumulation = accumulation;\n    }\n    Object.defineProperty(AccumulationBase.prototype, \"center\", {\n        /**\n         * Gets the center of the pie\n         * @private\n         */\n        get: function () {\n            return this.pieCenter || (this.accumulation.visibleSeries[0].type === 'Pie' ?\n                this.accumulation.pieSeriesModule.center : null);\n        },\n        /**\n         * Sets the center of the pie\n         * @private\n         */\n        set: function (value) {\n            this.pieCenter = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AccumulationBase.prototype, \"radius\", {\n        /**\n         * Gets the radius of the pie\n         * @private\n         */\n        get: function () {\n            return this.pieRadius !== undefined ? this.pieRadius :\n                this.accumulation.pieSeriesModule.radius;\n        },\n        /**\n         * Sets the radius of the pie\n         * @private\n         */\n        set: function (value) {\n            this.pieRadius = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AccumulationBase.prototype, \"labelRadius\", {\n        /**\n         * Gets the label radius of the pie\n         * @private\n         */\n        get: function () {\n            return this.pieLabelRadius !== undefined ? this.pieLabelRadius :\n                this.accumulation.pieSeriesModule.labelRadius;\n        },\n        /**\n         * Sets the label radius of the pie\n         * @private\n         */\n        set: function (value) {\n            this.pieLabelRadius = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Checks whether the series is circular or not\n     * @private\n     */\n    AccumulationBase.prototype.isCircular = function () {\n        return this.accumulation.type === 'Pie';\n    };\n    /**\n     * To get tooltip point from mouse x, y\n     * @private\n     */\n    AccumulationBase.prototype.getTooltipPoint = function (e, accumulation, x, y) {\n        var target = e.target;\n        target = accumulation.isTouch ? document.elementFromPoint(x, y) : target;\n        var id = target.id.split(accumulation.element.id + '_Series_');\n        if (id[1]) {\n            var seriesIndex = parseInt(id[1].split('_Point_')[0], 10);\n            var pointIndex = parseInt(id[1].split('_Point_')[1], 10);\n            if (!isNullOrUndefined(seriesIndex) && !isNaN(seriesIndex) && !isNullOrUndefined(pointIndex) && !isNaN(pointIndex)) {\n                var series = this.getSeriesFromIndex(seriesIndex, accumulation.visibleSeries);\n                if (series.enableTooltip) {\n                    accumulation.accumulationTooltipModule.renderTooltip(series.points[pointIndex], series.index);\n                }\n            }\n        }\n        else if (accumulation.accumulationTooltipModule && accumulation.accumulationTooltipModule.tooltip && !this.isDataLabel(target)) {\n            accumulation.accumulationTooltipModule.tooltip.close();\n        }\n    };\n    /**\n     * To find datalabel from target element\n     */\n    AccumulationBase.prototype.isDataLabel = function (target) {\n        if (target.id.indexOf(this.accumulation.element.id + '_datalabel_Series_') > -1) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To get series from index\n     */\n    AccumulationBase.prototype.getSeriesFromIndex = function (index, visibleSeries) {\n        return visibleSeries[0];\n    };\n    /**\n     * To process the explode on accumulation chart loading\n     * @private\n     */\n    AccumulationBase.prototype.processExplode = function (event) {\n        if (event.target.id.indexOf('_Series_') > -1 || event.target.id.indexOf('_datalabel_') > -1) {\n            var pointIndex = indexFinder(event.target.id).point;\n            if (isNaN(pointIndex) || (event.target.id.indexOf('_datalabel_') > -1 &&\n                this.accumulation.visibleSeries[0].points[pointIndex].labelPosition === 'Outside')) {\n                return null;\n            }\n            this.explodePoints(pointIndex, this.accumulation);\n            this.deExplodeAll(pointIndex);\n        }\n    };\n    /**\n     * To invoke the explode on accumulation chart loading\n     * @private\n     */\n    AccumulationBase.prototype.invokeExplode = function () {\n        if (this.accumulation.visibleSeries[0].explodeAll) {\n            for (var _i = 0, _a = this.accumulation.visibleSeries[0].points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                this.explodePoints(point.index, this.accumulation);\n            }\n        }\n        else if (!isNullOrUndefined(this.accumulation.visibleSeries[0].explodeIndex)) {\n            this.explodePoints(this.accumulation.visibleSeries[0].explodeIndex, this.accumulation);\n        }\n        if (this.accumulation.accumulationSelectionModule && this.accumulation.selectionMode !== 'None' &&\n            this.accumulation.accumulationSelectionModule.selectedDataIndexes.length) {\n            for (var _b = 0, _c = this.accumulation.accumulationSelectionModule.selectedDataIndexes; _b < _c.length; _b++) {\n                var index = _c[_b];\n                this.explodePoints(index.point, this.accumulation, true);\n                this.deExplodeAll(index.point);\n            }\n        }\n    };\n    /**\n     * To deExplode all points in the series\n     */\n    AccumulationBase.prototype.deExplodeAll = function (index) {\n        var pointId = this.accumulation.element.id + '_Series_0_Point_';\n        var points = this.accumulation.visibleSeries[0].points;\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var currentPoint = points_1[_i];\n            if (index !== currentPoint.index) {\n                this.deExplodeSlice(currentPoint.index, pointId, this.center);\n            }\n        }\n    };\n    /**\n     * To explode point by index\n     * @private\n     */\n    AccumulationBase.prototype.explodePoints = function (index, chart, explode) {\n        if (explode === void 0) { explode = false; }\n        var pointId = this.accumulation.element.id + '_Series_0_Point_';\n        var translate;\n        var points = this.accumulation.visibleSeries[0].points;\n        var point = pointByIndex(index, this.accumulation.visibleSeries[0].points);\n        if (isNullOrUndefined(point)) {\n            return null;\n        }\n        if (!this.isCircular()) {\n            translate = { x: chart.explodeDistance, y: 0 };\n        }\n        else {\n            translate = degreeToLocation(point.midAngle, chart.explodeDistance, this.center);\n        }\n        if (this.isExplode(pointId + index) || explode) {\n            this.explodeSlice(index, translate, pointId, this.center || { x: 0, y: 0 });\n        }\n        else {\n            this.deExplodeSlice(index, pointId, this.center);\n        }\n    };\n    /**\n     * To check point is exploded by id\n     */\n    AccumulationBase.prototype.isExplode = function (id) {\n        var element = getElement(id);\n        if (element && (element.getAttribute('transform') === 'translate(0, 0)' || element.getAttribute('transform') === null ||\n            element.getAttribute('transform') === 'translate(0)')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * To deExplode the point by index\n     */\n    AccumulationBase.prototype.deExplodeSlice = function (index, sliceId, center) {\n        var position = 'translate(0, 0)';\n        this.setTranslate(index, sliceId, position);\n    };\n    /**\n     * To translate the point elements by index and position\n     */\n    AccumulationBase.prototype.setTranslate = function (index, sliceId, position) {\n        this.setElementTransform(sliceId + index, position);\n        if (this.accumulation.visibleSeries[0].dataLabel.visible) {\n            sliceId = this.accumulation.element.id + '_datalabel_Series_0_';\n            this.setElementTransform(sliceId + 'shape_' + index, position);\n            this.setElementTransform(sliceId + 'text_' + index, position);\n            this.setElementTransform(sliceId + 'connector_' + index, position);\n        }\n    };\n    /**\n     * To translate the point element by id and position\n     */\n    AccumulationBase.prototype.setElementTransform = function (id, position) {\n        var element = getElement(id);\n        if (element) {\n            element.setAttribute('transform', position);\n        }\n    };\n    /**\n     * To translate the point elements by index position\n     */\n    AccumulationBase.prototype.explodeSlice = function (index, translate, sliceId, center) {\n        var position = 'translate(' + (translate.x - center.x) + ', ' + (translate.y - center.y) + ')';\n        this.setTranslate(index, sliceId, position);\n    };\n    return AccumulationBase;\n}());\nexport { AccumulationBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Accumulation charts base file\n */\nimport { Animation } from '@syncfusion/ej2-base';\nimport { stringToNumber, ChartLocation, degreeToLocation, Rect, getAnimationFunction, getElement } from '../../common/utils/helper';\nimport { animationComplete } from '../../common/model/constants';\nimport { AccumulationBase } from './accumulation-base';\n/**\n * PieBase class used to do pie base calculations.\n */\nvar PieBase = /** @class */ (function (_super) {\n    __extends(PieBase, _super);\n    function PieBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * To initialize the property values.\n     * @private\n     */\n    PieBase.prototype.initProperties = function (chart, series) {\n        this.accumulation = chart;\n        var size = Math.min(chart.initialClipRect.width, chart.initialClipRect.height);\n        this.initAngles(series);\n        this.radius = stringToNumber(series.radius, size / 2);\n        this.innerRadius = stringToNumber(series.innerRadius, this.radius);\n        this.labelRadius = series.dataLabel.position === 'Inside' ? (((this.radius - this.innerRadius) / 2) + this.innerRadius) :\n            (this.radius + stringToNumber(series.dataLabel.connectorStyle.length || '4%', size / 2));\n        chart.explodeDistance = series.explode ? stringToNumber(series.explodeOffset, this.radius) : 0;\n        this.findCenter(chart, series);\n        this.defaultLabelBound(series, series.dataLabel.visible, series.dataLabel.position);\n        this.totalAngle -= 0.001;\n    };\n    /**\n     * To find the center of the accumulation.\n     * @private\n     */\n    PieBase.prototype.findCenter = function (accumulation, series) {\n        this.accumulation = accumulation;\n        this.center = {\n            x: stringToNumber('50%', accumulation.initialClipRect.width) + (accumulation.initialClipRect.x),\n            y: stringToNumber('50%', accumulation.initialClipRect.height) + (accumulation.initialClipRect.y)\n        };\n        var accumulationRect = this.getSeriesBound(series);\n        var accumulationRectCenter = new ChartLocation(accumulationRect.x + accumulationRect.width / 2, accumulationRect.y + accumulationRect.height / 2);\n        this.center.x += (this.center.x - accumulationRectCenter.x);\n        this.center.y += (this.center.y - accumulationRectCenter.y);\n        this.accumulation.center = this.center;\n    };\n    /**\n     * To find angles from series.\n     */\n    PieBase.prototype.initAngles = function (series) {\n        this.totalAngle = (series.endAngle - series.startAngle) % 360;\n        this.startAngle = series.startAngle - 90;\n        this.totalAngle = this.totalAngle <= 0 ? (360 + this.totalAngle) : this.totalAngle;\n        this.startAngle = (this.startAngle < 0 ? (this.startAngle + 360) : this.startAngle) % 360;\n    };\n    /**\n     * To calculate data-label bound\n     * @private\n     */\n    PieBase.prototype.defaultLabelBound = function (series, visible, position) {\n        var accumulationBound = this.getSeriesBound(series);\n        series.accumulationBound = accumulationBound;\n        series.labelBound = new Rect(accumulationBound.x, accumulationBound.y, accumulationBound.width + accumulationBound.x, accumulationBound.height + accumulationBound.y);\n        if (visible && position === 'Outside') {\n            series.labelBound = new Rect(Infinity, Infinity, -Infinity, -Infinity);\n        }\n    };\n    /**\n     * To calculate series bound\n     * @private\n     */\n    PieBase.prototype.getSeriesBound = function (series) {\n        var rect = new Rect(Infinity, Infinity, -Infinity, -Infinity);\n        this.initAngles(series);\n        var start = this.startAngle;\n        var total = this.totalAngle;\n        var end = (this.startAngle + total) % 360;\n        end = (end === 0) ? 360 : end;\n        series.findMaxBounds(rect, this.getRectFromAngle(start));\n        series.findMaxBounds(rect, this.getRectFromAngle(end));\n        series.findMaxBounds(rect, new Rect(this.center.x, this.center.y, 0, 0));\n        var nextQuandrant = (Math.floor(start / 90) * 90 + 90) % 360;\n        var lastQuadrant = (Math.floor(end / 90) * 90) % 360;\n        lastQuadrant = (lastQuadrant === 0) ? 360 : lastQuadrant;\n        if (total >= 90 || lastQuadrant === nextQuandrant) {\n            series.findMaxBounds(rect, this.getRectFromAngle(nextQuandrant));\n            series.findMaxBounds(rect, this.getRectFromAngle(lastQuadrant));\n        }\n        if (start === 0 || (start + total >= 360)) {\n            series.findMaxBounds(rect, this.getRectFromAngle(0));\n        }\n        var length = nextQuandrant === lastQuadrant ? 0 : Math.floor(total / 90);\n        for (var i = 1; i < length; i++) {\n            nextQuandrant = nextQuandrant + 90;\n            if ((nextQuandrant < lastQuadrant || end < start) || total === 360) {\n                series.findMaxBounds(rect, this.getRectFromAngle(nextQuandrant));\n            }\n        }\n        rect.width -= rect.x;\n        rect.height -= rect.y;\n        return rect;\n    };\n    /**\n     * To get rect location size from angle\n     */\n    PieBase.prototype.getRectFromAngle = function (angle) {\n        var location = degreeToLocation(angle, this.radius, this.center);\n        return new Rect(location.x, location.y, 0, 0);\n    };\n    /**\n     * To get path arc direction\n     */\n    PieBase.prototype.getPathArc = function (center, start, end, radius, innerRadius) {\n        var degree = end - start;\n        degree = degree < 0 ? (degree + 360) : degree;\n        var flag = (degree < 180) ? 0 : 1;\n        if (!innerRadius && innerRadius === 0) {\n            return this.getPiePath(center, degreeToLocation(start, radius, center), degreeToLocation(end, radius, center), radius, flag);\n        }\n        else {\n            return this.getDoughnutPath(center, degreeToLocation(start, radius, center), degreeToLocation(end, radius, center), radius, degreeToLocation(start, innerRadius, center), degreeToLocation(end, innerRadius, center), innerRadius, flag);\n        }\n    };\n    /**\n     * To get pie direction\n     */\n    PieBase.prototype.getPiePath = function (center, start, end, radius, clockWise) {\n        return 'M ' + center.x + ' ' + center.y + ' L ' + start.x + ' ' + start.y + ' A ' + radius + ' ' +\n            radius + ' 0 ' + clockWise + ' 1 ' + end.x + ' ' + end.y + ' Z';\n    };\n    /**\n     * To get doughnut direction\n     */\n    PieBase.prototype.getDoughnutPath = function (center, start, end, radius, innerStart, innerEnd, innerRadius, clockWise) {\n        return 'M ' + start.x + ' ' + start.y + ' A ' + radius + ' ' + radius + ' 0 ' + clockWise +\n            ' 1 ' + end.x + ' ' + end.y + ' L ' + innerEnd.x + ' ' + innerEnd.y + ' A ' + innerRadius +\n            ' ' + innerRadius + ' 0 ' + clockWise + ',0 ' + innerStart.x + ' ' + innerStart.y + ' Z';\n    };\n    /**\n     * Method to start animation for pie series.\n     */\n    PieBase.prototype.doAnimation = function (slice, series) {\n        var _this = this;\n        var startAngle = series.startAngle - 85;\n        var value;\n        var radius = Math.max(this.accumulation.availableSize.height, this.accumulation.availableSize.width) * 0.75;\n        radius += radius * (0.414); // formula r + r / 2 * (1.414 -1)\n        var effect = getAnimationFunction('Linear'); // need to check animation type\n        new Animation({}).animate(slice, {\n            duration: series.animation.duration,\n            delay: series.animation.delay,\n            progress: function (args) {\n                value = effect(args.timeStamp, startAngle, _this.totalAngle, args.duration);\n                slice.setAttribute('d', _this.getPathArc(_this.center, startAngle, value, radius, 0));\n            },\n            end: function (args) {\n                slice.setAttribute('d', _this.getPathArc(_this.center, 0, 359.99999, radius, 0));\n                _this.accumulation.trigger(animationComplete, { series: series, accumulation: _this.accumulation });\n                var datalabelGroup = getElement(_this.accumulation.element.id + '_datalabel_Series_' + series.index);\n                datalabelGroup.style.visibility = _this.accumulation.isDestroyed ? 'hidden' : 'visible';\n            }\n        });\n    };\n    return PieBase;\n}(AccumulationBase));\nexport { PieBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, degreeToLocation } from '../../common/utils/helper';\nimport { PieBase } from '../renderer/pie-base';\n/**\n * PieSeries module used to render `Pie` Series.\n */\nvar PieSeries = /** @class */ (function (_super) {\n    __extends(PieSeries, _super);\n    function PieSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * To get path option, degree, symbolLocation from the point.\n     * @private\n     */\n    PieSeries.prototype.renderPoint = function (point, series, chart, option) {\n        var sum = series.sumOfPoints;\n        var degree = ((Math.abs(point.y) / sum) * (this.totalAngle));\n        option.d = this.getPathOption(point, degree);\n        point.midAngle = (this.startAngle - (degree / 2)) % 360;\n        point.endAngle = this.startAngle % 360;\n        point.symbolLocation = degreeToLocation(point.midAngle, (this.radius + this.innerRadius) / 2, this.center);\n        return option;\n    };\n    /**\n     * To get path option from the point.\n     */\n    PieSeries.prototype.getPathOption = function (point, degree) {\n        var path = this.getPathArc(this.center, this.startAngle % 360, (this.startAngle + degree) % 360, this.radius, this.innerRadius);\n        this.startAngle += degree;\n        return path;\n    };\n    /**\n     * To animate the pie series.\n     * @private\n     */\n    PieSeries.prototype.animateSeries = function (accumulation, option, series, slice) {\n        var groupId = accumulation.element.id + 'SeriesGroup' + series.index;\n        if (series.animation.enable && accumulation.animateSeries) {\n            var clippath = accumulation.renderer.createClipPath({ id: groupId + '_clipPath' });\n            var path = new PathOption(groupId + '_slice', 'transparent', 1, 'transparent', 1, '', '');\n            var clipslice = accumulation.renderer.drawPath(path);\n            clippath.appendChild(clipslice);\n            accumulation.svgObject.appendChild(clippath);\n            slice.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n            this.doAnimation(clipslice, series);\n        }\n    };\n    /**\n     * To get the module name of the Pie series.\n     */\n    PieSeries.prototype.getModuleName = function () {\n        return 'PieSeries';\n    };\n    /**\n     * To destroy the pie series.\n     * @return {void}\n     * @private\n     */\n    PieSeries.prototype.destroy = function (accumulation) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return PieSeries;\n}(PieBase));\nexport { PieSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * AccumulationChart file\n */\nimport { Property, Component, Complex, Collection, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { Internationalization, Event, Browser, EventHandler, Touch } from '@syncfusion/ej2-base';\nimport { remove, extend, isNullOrUndefined, createElement } from '@syncfusion/ej2-base';\nimport { Font, Margin, Border, Indexes } from '../common/model/base';\nimport { AccumulationSeries, AccumulationTooltipSettings } from './model/acc-base';\nimport { Theme } from '../common/model/theme';\nimport { load, chartMouseClick, chartMouseDown } from '../common/model/constants';\nimport { chartMouseLeave, chartMouseMove, chartMouseUp, resized } from '../common/model/constants';\nimport { LegendSettings } from '../common/legend/legend';\nimport { Rect, Size, subtractRect, measureText, RectOption, textTrim, showTooltip } from '../common/utils/helper';\nimport { textElement, TextOption, createSvg, calculateSize, removeElement, firstToLowerCase } from '../common/utils/helper';\nimport { getElement, titlePositionX } from '../common/utils/helper';\nimport { Data } from '../common/model/data';\nimport { AccumulationBase } from './renderer/accumulation-base';\nimport { PieSeries } from './renderer/pie-series';\nimport { AccumulationAnnotationSettings } from './model/acc-base';\nimport { ExportUtils } from '../common/utils/export';\n/**\n * Represents the AccumulationChart control.\n * ```html\n * <div id=\"accumulation\"/>\n * <script>\n *   var accObj = new AccumulationChart({ });\n *   accObj.appendTo(\"#accumulation\");\n * </script>\n * ```\n */\nvar AccumulationChart = /** @class */ (function (_super) {\n    __extends(AccumulationChart, _super);\n    /**\n     * Constructor for creating the AccumulationChart widget\n     * @private\n     */\n    function AccumulationChart(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @private explode radius internal property */\n        _this.explodeDistance = 0;\n        return _this;\n    }\n    Object.defineProperty(AccumulationChart.prototype, \"type\", {\n        /** @private */\n        get: function () {\n            if (this.series && this.series.length) {\n                return this.series[0].type;\n            }\n            return 'Pie';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // accumulation chart methods\n    /**\n     *  To create svg object, renderer and binding events for the container.\n     */\n    AccumulationChart.prototype.preRender = function () {\n        this.unWireEvents();\n        this.setCulture();\n        this.animateSeries = true;\n        calculateSize(this);\n        this.wireEvents();\n    };\n    /**\n     * To render the accumulation chart elements\n     */\n    AccumulationChart.prototype.render = function () {\n        this.trigger(load, { accumulation: this });\n        this.accBaseModule = new AccumulationBase(this);\n        this.pieSeriesModule = new PieSeries(this);\n        this.calculateVisibleSeries();\n        this.processData();\n    };\n    /**\n     * Method to unbind events for accumulation chart\n     */\n    AccumulationChart.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var move = Browser.touchMoveEvent;\n        var stop = Browser.touchEndEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        /*! UnBind the Event handler */\n        EventHandler.remove(this.element, move, this.accumulationMouseMove);\n        EventHandler.remove(this.element, stop, this.accumulationMouseEnd);\n        EventHandler.remove(this.element, start, this.accumulationMouseStart);\n        EventHandler.remove(this.element, 'click', this.accumulationOnMouseClick);\n        EventHandler.remove(this.element, 'contextmenu', this.accumulationRightClick);\n        EventHandler.remove(this.element, cancel, this.accumulationMouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.accumulationResize);\n    };\n    /**\n     * Method to bind events for the accumulation chart\n     */\n    AccumulationChart.prototype.wireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        /*! Bind the Event handler */\n        EventHandler.add(this.element, move, this.accumulationMouseMove, this);\n        EventHandler.add(this.element, stop, this.accumulationMouseEnd, this);\n        EventHandler.add(this.element, start, this.accumulationMouseStart, this);\n        EventHandler.add(this.element, 'click', this.accumulationOnMouseClick, this);\n        EventHandler.add(this.element, 'contextmenu', this.accumulationRightClick, this);\n        EventHandler.add(this.element, cancel, this.accumulationMouseLeave, this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.accumulationResize.bind(this));\n        new Touch(this.element); // To avoid geasture blocking for browser\n        /*! Apply the style for chart */\n        this.setStyle(this.element);\n    };\n    /**\n     * Method to set mouse x, y from events\n     */\n    AccumulationChart.prototype.setMouseXY = function (e) {\n        var pageX;\n        var pageY;\n        if (e.type.indexOf('touch') > -1) {\n            this.isTouch = true;\n            var touchArg = e;\n            pageY = touchArg.changedTouches[0].clientY;\n            pageX = touchArg.changedTouches[0].clientX;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        this.mouseY = pageY;\n        this.mouseX = pageX;\n    };\n    /**\n     * Handles the mouse end.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseEnd = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseUp, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        if (this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n            if (this.accumulationTooltipModule && this.accumulationTooltipModule.tooltip) {\n                this.accBaseModule.getTooltipPoint(e, this, this.mouseX, this.mouseY);\n                this.accumulationTooltipModule.fadeOutTooltip();\n            }\n            if (this.accumulationDataLabelModule && this.visibleSeries[0].dataLabel.visible) {\n                this.accumulationDataLabelModule.move(e, this.mouseX, this.mouseY, this.isTouch);\n            }\n            if (this.accumulationLegendModule && this.legendSettings.visible) {\n                this.accumulationLegendModule.move(e);\n            }\n        }\n        return false;\n    };\n    /**\n     * To find mouse x, y for aligned chart element svg position\n     * @private\n     */\n    AccumulationChart.prototype.removeSvgOffset = function (x, y) {\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        return { x: (x - rect.left) - Math.max(svgRect.left - rect.left, 0), y: (y - rect.top) - Math.max(svgRect.top - rect.top, 0) };\n    };\n    /**\n     * Handles the mouse start.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseStart = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseDown, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        return false;\n    };\n    /**\n     * Handles the accumulation chart resize.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationResize = function (e) {\n        var _this = this;\n        var args = {\n            accumulation: this,\n            previousSize: new Size(this.availableSize.width, this.availableSize.height),\n            name: resized,\n            currentSize: new Size(0, 0)\n        };\n        if (this.resizeTo) {\n            clearTimeout(this.resizeTo);\n        }\n        this.resizeTo = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTo);\n                return;\n            }\n            calculateSize(_this);\n            args.currentSize = _this.availableSize;\n            _this.trigger(resized, args);\n            _this.refreshSeries();\n            _this.refreshChart();\n        }, 500);\n        return false;\n    };\n    /**\n     * Handles the export method for chart control.\n     */\n    AccumulationChart.prototype.export = function (type, fileName) {\n        var exportChart = new ExportUtils(this);\n        exportChart.export(type, fileName);\n    };\n    /**\n     * Handles the print method for accumulation chart control.\n     */\n    AccumulationChart.prototype.print = function (id) {\n        var exportChart = new ExportUtils(this);\n        exportChart.print(id);\n    };\n    /**\n     * Applying styles for accumulation chart element\n     */\n    AccumulationChart.prototype.setStyle = function (element) {\n        element.style.touchAction = 'element';\n        element.style.msTouchAction = 'element';\n        element.style.msContentZooming = 'none';\n        element.style.msUserSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n    };\n    /**\n     * Handles the mouse move on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseMove = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseMove, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        if (this.accumulationLegendModule && this.legendSettings.visible) {\n            this.accumulationLegendModule.move(e);\n        }\n        if (this.accumulationDataLabelModule && this.visibleSeries[0] && this.visibleSeries[0].dataLabel.visible) {\n            this.accumulationDataLabelModule.move(e, this.mouseX, this.mouseY);\n        }\n        if (this.accumulationTooltipModule && this.accBaseModule && this.tooltip.enable && !this.isTouch) {\n            this.accBaseModule.getTooltipPoint(e, this, this.mouseX, this.mouseY);\n        }\n        if (!this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY);\n        }\n        return false;\n    };\n    AccumulationChart.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((event.target.textContent.indexOf('...') > -1) && (targetId === (this.element.id + '_title'))) {\n            showTooltip(this.title, x, y, this.element.offsetWidth, this.element.id + '_EJ2_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_Title_Tooltip');\n        }\n    };\n    /**\n     * Handles the mouse click on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationOnMouseClick = function (e) {\n        this.setMouseXY(e);\n        if (this.accumulationLegendModule && this.legendSettings.visible) {\n            this.accumulationLegendModule.click(e);\n        }\n        if (this.selectionMode !== 'None' && this.accumulationSelectionModule) {\n            this.accumulationSelectionModule.calculateSelectedElements(this, e);\n        }\n        if (this.visibleSeries[0].explode) {\n            this.accBaseModule.processExplode(e);\n        }\n        this.trigger(chartMouseClick, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        return false;\n    };\n    /**\n     * Handles the mouse right click on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationRightClick = function (event) {\n        if (event.buttons === 2 || event.pointerType === 'touch') {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Handles the mouse leave on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseLeave = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseLeave, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        if (this.accumulationTooltipModule && this.tooltip.enable) {\n            this.accumulationTooltipModule.tooltip.close();\n        }\n        return false;\n    };\n    /**\n     * Method to set culture for chart\n     */\n    AccumulationChart.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n    };\n    /**\n     * Method to create SVG element for accumulation chart.\n     */\n    AccumulationChart.prototype.createPieSvg = function () {\n        this.removeSvg();\n        createSvg(this);\n    };\n    /**\n     * To Remove the SVG from accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.removeSvg = function () {\n        removeElement(this.element.id + '_Secondary_Element');\n        if (this.svgObject) {\n            while (this.svgObject.childNodes.length > 0) {\n                this.svgObject.removeChild(this.svgObject.firstChild);\n            }\n            if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode) {\n                remove(this.svgObject);\n            }\n        }\n        removeElement('EJ2_legend_tooltip');\n        removeElement('EJ2_datalabel_tooltip');\n    };\n    /**\n     * Method to create the secondary element for tooltip, datalabel and annotaitons.\n     */\n    AccumulationChart.prototype.createSecondaryElement = function () {\n        this.element.appendChild(createElement('div', {\n            id: this.element.id + '_Secondary_Element',\n            styles: 'position: relative'\n        }));\n    };\n    /**\n     * Method to find visible series based on series types\n     */\n    AccumulationChart.prototype.calculateVisibleSeries = function () {\n        this.visibleSeries = [];\n        for (var i = 0, length_1 = this.series.length; i < length_1; i++) {\n            this.series[i].index = i;\n            if (this.series[i].type === this.type && this.visibleSeries.length === 0) {\n                this.visibleSeries.push(this.series[i]);\n                break;\n            }\n        }\n    };\n    /**\n     * To find points from dataSource\n     */\n    AccumulationChart.prototype.processData = function () {\n        this.seriesCounts = 0;\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            series.dataModule = new Data(series.dataSource, series.query);\n            series.refreshDataManager(this);\n        }\n    };\n    /**\n     * To refresh the accumulation chart\n     * @private\n     */\n    AccumulationChart.prototype.refreshChart = function () {\n        this.doGrouppingProcess();\n        this.createPieSvg();\n        this.calculateBounds();\n        this.renderElements();\n    };\n    /**\n     * Method to find groupped points\n     */\n    AccumulationChart.prototype.doGrouppingProcess = function () {\n        var series = this.visibleSeries[0];\n        if (!isNullOrUndefined(series.resultData) && ((!isNullOrUndefined(series.lastGroupTo) &&\n            series.lastGroupTo !== series.groupTo))) {\n            series.getPoints(series.resultData, this);\n        }\n    };\n    /**\n     * Method to calculate bounds for accumulation chart\n     */\n    AccumulationChart.prototype.calculateBounds = function () {\n        this.initialClipRect = new Rect(this.margin.left, this.margin.top, this.availableSize.width, this.availableSize.height);\n        subtractRect(this.initialClipRect, new Rect(0, measureText(this.title, this.titleStyle).height, this.margin.right + this.margin.left, this.margin.bottom + this.margin.top));\n        this.calculateLegendBounds();\n    };\n    /*\n     * Method to calculate legend bounds for accumulation chart\n     */\n    AccumulationChart.prototype.calculateLegendBounds = function () {\n        if (!this.accumulationLegendModule || !this.legendSettings.visible) {\n            return null;\n        }\n        this.accumulationLegendModule.getLegendOptions(this, this.visibleSeries);\n        this.accumulationLegendModule.calculateLegendBounds(this.initialClipRect, this.availableSize);\n    };\n    /**\n     * To render elements for accumulation chart\n     * @private\n     */\n    AccumulationChart.prototype.renderElements = function () {\n        this.renderBorder();\n        this.renderTitle();\n        this.createSecondaryElement();\n        this.renderSeries();\n        this.renderLegend();\n        this.element.appendChild(this.svgObject);\n        this.processSelection();\n        this.processExplode();\n        this.renderAnnotation();\n        this.setSecondaryElementPosition();\n        this.trigger('loaded', { accumulation: this });\n        this.animateSeries = false;\n    };\n    /**\n     * To set the left and top position for data label template for center aligned chart\n     */\n    AccumulationChart.prototype.setSecondaryElementPosition = function () {\n        var tooltipParent = getElement(this.element.id + '_Secondary_Element');\n        if (!tooltipParent) {\n            return;\n        }\n        var targetElement = createElement('div', {\n            id: this.element.id + '_pie_tooltip',\n            styles: 'position: absolute;background: transparent;height: 2px;width: 2px;'\n        });\n        tooltipParent.appendChild(targetElement);\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        tooltipParent.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\n        tooltipParent.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\n    };\n    /**\n     * To render the annotaitions for accumulation series.\n     */\n    AccumulationChart.prototype.renderAnnotation = function () {\n        if (this.annotationModule) {\n            this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n        }\n    };\n    /**\n     * Method to process the explode in accumulation chart\n     */\n    AccumulationChart.prototype.processExplode = function () {\n        if (!this.visibleSeries[0].explode) {\n            return null;\n        }\n        this.accBaseModule.invokeExplode();\n    };\n    /**\n     * Method to render series for accumulation chart\n     */\n    AccumulationChart.prototype.renderSeries = function () {\n        this.svgObject.appendChild(this.renderer.createGroup({ id: this.element.id + '_SeriesCollection' }));\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (series.visible && this[(firstToLowerCase(series.type) + 'SeriesModule')]) {\n                this[(firstToLowerCase(series.type) + 'SeriesModule')].initProperties(this, series);\n                series.renderSeries(this);\n            }\n        }\n    };\n    /**\n     * Method to render border for accumulation chart\n     */\n    AccumulationChart.prototype.renderBorder = function () {\n        var padding = this.border.width;\n        this.svgObject.appendChild(this.renderer.drawRectangle(new RectOption(this.element.id + '_border', this.background, this.border, 1, new Rect(padding / 2, padding / 2, this.availableSize.width - padding, this.availableSize.height - padding))));\n    };\n    /**\n     * Method to render legend for accumulation chart\n     */\n    AccumulationChart.prototype.renderLegend = function () {\n        if (!this.accumulationLegendModule || !this.legendSettings.visible) {\n            return null;\n        }\n        if (this.accumulationLegendModule.legendCollections.length) {\n            if (this.visibleSeries[0].type === 'Pie') {\n                this.accumulationLegendModule.getSmartLegendLocation(this.visibleSeries[0].labelBound, this.accumulationLegendModule.legendBounds, this.margin);\n            }\n            this.accumulationLegendModule.renderLegend(this, this.legendSettings, this.accumulationLegendModule.legendBounds);\n        }\n    };\n    /**\n     * To process the selection in accumulation chart\n     */\n    AccumulationChart.prototype.processSelection = function () {\n        if (!this.accumulationSelectionModule || this.selectionMode === 'None') {\n            return null;\n        }\n        var selectedDataIndexes = extend([], this.accumulationSelectionModule.selectedDataIndexes, null, true);\n        this.accumulationSelectionModule.invokeSelection(this);\n        if (selectedDataIndexes.length > 0) {\n            this.accumulationSelectionModule.selectedDataIndexes = selectedDataIndexes;\n            this.accumulationSelectionModule.redrawSelection(this, this.selectionMode);\n        }\n    };\n    /**\n     * To render title for accumulation chart\n     */\n    AccumulationChart.prototype.renderTitle = function () {\n        if (!this.title) {\n            return null;\n        }\n        var maxTitleSize = this.availableSize.width - this.margin.left - this.margin.right;\n        var trimmedTitle = textTrim(maxTitleSize, this.title, this.titleStyle);\n        var elementSize = measureText(trimmedTitle, this.titleStyle);\n        textElement(new TextOption(this.element.id + '_title', titlePositionX(this.availableSize, this.margin.left, this.margin.left, this.titleStyle, elementSize), this.margin.top + (elementSize.height * 3 / 4), 'start', trimmedTitle, '', 'auto'), this.titleStyle, this.titleStyle.color, this.svgObject);\n    };\n    /**\n     * To get the series parent element\n     * @private\n     */\n    AccumulationChart.prototype.getSeriesElement = function () {\n        return this.svgObject.getElementsByTagName('g')[0];\n    };\n    /**\n     * To refresh the all visible series points\n     * @private\n     */\n    AccumulationChart.prototype.refreshSeries = function () {\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            this.refreshPoints(series.points);\n        }\n    };\n    /**\n     * To refresh points label region and visible\n     * @private\n     */\n    AccumulationChart.prototype.refreshPoints = function (points) {\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var point = points_1[_i];\n            point.labelPosition = null;\n            point.labelRegion = null;\n            point.labelVisible = true;\n        }\n    };\n    /**\n     * To get Module name\n     *  @private\n     */\n    AccumulationChart.prototype.getModuleName = function () {\n        return 'accumulationchart';\n    };\n    /**\n     * To destroy the accumulationcharts\n     * @private\n     */\n    AccumulationChart.prototype.destroy = function () {\n        this.unWireEvents();\n        _super.prototype.destroy.call(this);\n        this.element.classList.remove('e-accumulationchart');\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return {ModuleDeclaration[]}\n     * @private\n     */\n    AccumulationChart.prototype.requiredModules = function () {\n        var modules = [];\n        var enableAnnotation = false;\n        modules.push({\n            member: this.type + 'Series',\n            args: [this]\n        });\n        if (this.legendSettings.visible) {\n            modules.push({\n                member: 'AccumulationLegend',\n                args: [this]\n            });\n        }\n        if (this.findDatalabelVisibility()) {\n            modules.push({\n                member: 'AccumulationDataLabel',\n                args: [this]\n            });\n        }\n        if (this.tooltip.enable) {\n            modules.push({\n                member: 'AccumulationTooltip',\n                args: [this]\n            });\n        }\n        if (this.selectionMode !== 'None') {\n            modules.push({\n                member: 'AccumulationSelection',\n                args: [this]\n            });\n        }\n        enableAnnotation = this.annotations.some(function (value) {\n            return (value.content !== null);\n        });\n        if (enableAnnotation) {\n            modules.push({\n                member: 'Annotation',\n                args: [this, this.annotations]\n            });\n        }\n        return modules;\n    };\n    /**\n     * To find datalabel visibility in series\n     */\n    AccumulationChart.prototype.findDatalabelVisibility = function () {\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (series.dataLabel.visible) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    AccumulationChart.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    AccumulationChart.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var update = {\n            refreshElements: false, refreshBounds: false\n        };\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'theme':\n                    this.animateSeries = true;\n                    break;\n                case 'title':\n                    if (newProp.title === '' || oldProp.title === '') {\n                        update.refreshBounds = true;\n                    }\n                    else {\n                        update.refreshElements = true;\n                    }\n                    break;\n                case 'height':\n                case 'width':\n                case 'margin':\n                    update.refreshBounds = true;\n                    break;\n                case 'titleStyle':\n                    if (newProp.titleStyle && newProp.titleStyle.size) {\n                        update.refreshBounds = true;\n                    }\n                    else {\n                        update.refreshElements = true;\n                    }\n                    break;\n                case 'legendSettings':\n                    update.refreshBounds = true;\n                    update.refreshElements = true;\n                    break;\n                case 'background':\n                case 'border':\n                case 'annotations':\n                case 'enableSmartLabels':\n                    update.refreshElements = true;\n                    break;\n                case 'isMultiSelect':\n                case 'selectedDataIndexes':\n                case 'selectionMode':\n                    if (this.accumulationSelectionModule) {\n                        if (isNullOrUndefined(this.accumulationSelectionModule.selectedDataIndexes)) {\n                            this.accumulationSelectionModule.invokeSelection(this);\n                        }\n                        else {\n                            this.accumulationSelectionModule.redrawSelection(this, oldProp.selectionMode);\n                        }\n                    }\n                    break;\n            }\n        }\n        if (!update.refreshBounds && update.refreshElements) {\n            this.createPieSvg();\n            this.renderElements();\n        }\n        else if (update.refreshBounds) {\n            this.refreshSeries();\n            this.createPieSvg();\n            this.calculateBounds();\n            this.renderElements();\n        }\n    };\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.chartTitleFont, Font)\n    ], AccumulationChart.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Complex({}, LegendSettings)\n    ], AccumulationChart.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, AccumulationTooltipSettings)\n    ], AccumulationChart.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('None')\n    ], AccumulationChart.prototype, \"selectionMode\", void 0);\n    __decorate([\n        Property(false)\n    ], AccumulationChart.prototype, \"isMultiSelect\", void 0);\n    __decorate([\n        Collection([], Indexes)\n    ], AccumulationChart.prototype, \"selectedDataIndexes\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], AccumulationChart.prototype, \"margin\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationChart.prototype, \"enableSmartLabels\", void 0);\n    __decorate([\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\n    ], AccumulationChart.prototype, \"border\", void 0);\n    __decorate([\n        Property(Theme.chartBackgroundColor)\n    ], AccumulationChart.prototype, \"background\", void 0);\n    __decorate([\n        Collection([{}], AccumulationSeries)\n    ], AccumulationChart.prototype, \"series\", void 0);\n    __decorate([\n        Collection([{}], AccumulationAnnotationSettings)\n    ], AccumulationChart.prototype, \"annotations\", void 0);\n    __decorate([\n        Property('Material')\n    ], AccumulationChart.prototype, \"theme\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"seriesRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"legendRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"textRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"pointRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"annotationRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseClick\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"animationComplete\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseDown\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseLeave\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseUp\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"resized\", void 0);\n    AccumulationChart = __decorate([\n        NotifyPropertyChanges\n    ], AccumulationChart);\n    return AccumulationChart;\n}(Component));\nexport { AccumulationChart };\n","/**\n * Defines the common behavior of funnel and pyramid series\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Size, stringToNumber, Rect } from '../../common/utils/helper';\nimport { AccumulationBase } from './accumulation-base';\n/**\n * TriangularBase is used to calculate base functions for funnel/pyramid series.\n */\nvar TriangularBase = /** @class */ (function (_super) {\n    __extends(TriangularBase, _super);\n    function TriangularBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the properties of funnel/pyramid series\n     * @private\n     */\n    TriangularBase.prototype.initProperties = function (chart, series) {\n        var actualChartArea = chart.initialClipRect;\n        series.triangleSize = new Size(stringToNumber(series.width, actualChartArea.width), stringToNumber(series.height, actualChartArea.height));\n        series.neckSize = new Size(stringToNumber(series.neckWidth, actualChartArea.width), stringToNumber(series.neckHeight, actualChartArea.height));\n        this.defaultLabelBound(series, series.dataLabel.visible, series.dataLabel.position, chart);\n        if (series.explodeOffset === '30%') {\n            series.explodeOffset = '25px';\n        }\n        chart.explodeDistance = stringToNumber(series.explodeOffset, actualChartArea.width);\n        var points = series.points;\n        this.initializeSizeRatio(points, series);\n    };\n    /**\n     * Initializes the size of the pyramid/funnel segments\n     * @private\n     */\n    TriangularBase.prototype.initializeSizeRatio = function (points, series, reverse) {\n        if (reverse === void 0) { reverse = false; }\n        var sumOfPoints = series.sumOfPoints;\n        //Limiting the ratio within the range of 0 to 1\n        var gapRatio = Math.min(Math.max(series.gapRatio, 0), 1);\n        //% equivalence of a value 1\n        var coEff = 1 / (sumOfPoints * (1 + gapRatio / (1 - gapRatio)));\n        var spacing = gapRatio / (points.length - 1);\n        var y = 0;\n        //starting from bottom\n        for (var i = points.length - 1; i >= 0; i--) {\n            var index = reverse ? points.length - 1 - i : i;\n            if (points[index].visible) {\n                var height = coEff * points[index].y;\n                points[index].yRatio = y;\n                points[index].heightRatio = height;\n                y += height + spacing;\n            }\n        }\n    };\n    /**\n     * Marks the label location from the set of points that forms a pyramid/funnel segment\n     * @private\n     */\n    TriangularBase.prototype.setLabelLocation = function (series, point, points) {\n        var last = points.length - 1;\n        var bottom = series.type === 'Funnel' ? points.length - 2 : points.length - 1;\n        var x = (points[0].x + points[bottom].x) / 2;\n        var right = (points[1].x + points[bottom - 1].x) / 2;\n        point.region = new Rect(x, points[0].y, right - x, points[bottom].y - points[0].y);\n        point.symbolLocation = {\n            x: point.region.x + point.region.width / 2,\n            y: point.region.y + point.region.height / 2\n        };\n        point.labelOffset = {\n            x: point.symbolLocation.x - (points[0].x + points[last].x) / 2,\n            y: point.symbolLocation.y - (points[0].y + points[last].y) / 2\n        };\n    };\n    /**\n     * Finds the path to connect the list of points\n     * @private\n     */\n    TriangularBase.prototype.findPath = function (locations) {\n        var path = 'M';\n        for (var i = 0; i < locations.length; i++) {\n            path += locations[i].x + ' ' + locations[i].y;\n            if (i !== locations.length - 1) {\n                path += ' L';\n            }\n        }\n        return path;\n    };\n    /**\n     * To calculate data-label bounds\n     * @private\n     */\n    TriangularBase.prototype.defaultLabelBound = function (series, visible, position, chart) {\n        var x = (chart.initialClipRect.width - series.triangleSize.width) / 2;\n        var y = (chart.initialClipRect.height - series.triangleSize.height) / 2;\n        var accumulationBound = new Rect(x, y, series.triangleSize.width, series.triangleSize.height);\n        series.labelBound = new Rect(accumulationBound.x, accumulationBound.y, accumulationBound.width + accumulationBound.x, accumulationBound.height + accumulationBound.y);\n        series.accumulationBound = accumulationBound;\n        if (visible && position === 'Outside') {\n            series.labelBound = new Rect(Infinity, Infinity, -Infinity, -Infinity);\n        }\n    };\n    return TriangularBase;\n}(AccumulationBase));\nexport { TriangularBase };\n","/**\n * Defines the behavior of a funnel series\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TriangularBase } from './triangular-base';\n/**\n * FunnelSeries module used to render `Funnel` Series.\n */\nvar FunnelSeries = /** @class */ (function (_super) {\n    __extends(FunnelSeries, _super);\n    function FunnelSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the path of a funnel segment\n     */\n    FunnelSeries.prototype.getSegmentData = function (point, series, chart) {\n        var lineWidth;\n        var topRadius;\n        var bottomRadius;\n        var endTop;\n        var endBottom;\n        var minRadius;\n        var endMin;\n        var bottomY;\n        var area = series.triangleSize;\n        var offset = 0;\n        var extraSpace = (chart.initialClipRect.width - series.triangleSize.width) / 2;\n        var emptySpaceAtLeft = extraSpace + chart.initialClipRect.x;\n        var seriesTop = chart.initialClipRect.y + (chart.initialClipRect.height - area.height) / 2;\n        //defines the top and bottom of a segment\n        var top = point.yRatio * area.height;\n        var bottom = top + point.heightRatio * area.height;\n        var neckSize = series.neckSize;\n        lineWidth = neckSize.width + (area.width - neckSize.width) * ((area.height - neckSize.height - top) /\n            (area.height - neckSize.height));\n        topRadius = (area.width / 2) - lineWidth / 2;\n        //Calculating the middle slope change and bottom\n        endTop = topRadius + lineWidth;\n        if (bottom > area.height - neckSize.height || area.height === neckSize.height) {\n            lineWidth = neckSize.width;\n        }\n        else {\n            lineWidth = neckSize.width + (area.width - neckSize.width) *\n                ((area.height - neckSize.height - bottom) / (area.height - neckSize.height));\n        }\n        bottomRadius = (area.width / 2) - (lineWidth / 2);\n        endBottom = bottomRadius + lineWidth;\n        if (top >= area.height - neckSize.height) {\n            topRadius = bottomRadius = minRadius = (area.width / 2) - neckSize.width / 2;\n            endTop = endBottom = endMin = (area.width / 2) + neckSize.width / 2;\n        }\n        else if (bottom > (area.height - neckSize.height)) {\n            minRadius = bottomRadius = (area.width / 2) - lineWidth / 2;\n            endMin = endBottom = minRadius + lineWidth;\n            bottomY = area.height - neckSize.height;\n        }\n        var points = [];\n        top += seriesTop;\n        bottom += seriesTop;\n        bottomY += seriesTop;\n        var line1 = { x: emptySpaceAtLeft + offset + topRadius, y: top };\n        var line2 = { x: emptySpaceAtLeft + offset + endTop, y: top };\n        var line4 = { x: emptySpaceAtLeft + offset + endBottom, y: bottom };\n        var line5 = { x: emptySpaceAtLeft + offset + bottomRadius, y: bottom };\n        var line3 = { x: emptySpaceAtLeft + offset + endBottom, y: bottom };\n        var line6 = { x: emptySpaceAtLeft + offset + bottomRadius, y: bottom };\n        if (bottomY) {\n            line3 = { x: emptySpaceAtLeft + offset + endMin, y: bottomY };\n            line6 = { x: emptySpaceAtLeft + offset + minRadius, y: bottomY };\n        }\n        var polygon = [line1, line2, line3, line4, line5, line6];\n        this.setLabelLocation(series, point, polygon);\n        var direction = this.findPath(polygon);\n        return direction;\n    };\n    /**\n     * Renders a funnel segment\n     * @private\n     */\n    FunnelSeries.prototype.renderPoint = function (point, series, chart, options) {\n        var direction = this.getSegmentData(point, series, chart);\n        point.midAngle = 0;\n        options.d = direction;\n    };\n    /**\n     * To get the module name of the funnel series.\n     */\n    FunnelSeries.prototype.getModuleName = function () {\n        return 'FunnelSeries';\n    };\n    /**\n     * To destroy the funnel series.\n     * @return {void}\n     * @private\n     */\n    FunnelSeries.prototype.destroy = function (accumulation) {\n        /**\n         * Destroys the funnel series\n         */\n    };\n    return FunnelSeries;\n}(TriangularBase));\nexport { FunnelSeries };\n","/**\n * Defines the behavior of a pyramid series\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TriangularBase } from './triangular-base';\n/**\n * PyramidSeries module used to render `Pyramid` Series.\n */\nvar PyramidSeries = /** @class */ (function (_super) {\n    __extends(PyramidSeries, _super);\n    function PyramidSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the path of a pyramid segment\n     */\n    PyramidSeries.prototype.getSegmentData = function (point, series, chart) {\n        var area = series.triangleSize;\n        //top of th series\n        var seriesTop = chart.initialClipRect.y + (chart.initialClipRect.height - area.height) / 2;\n        var points = [];\n        //consider, if the point is exploded\n        var offset = 0;\n        var extraSpace = (chart.initialClipRect.width - series.triangleSize.width) / 2;\n        var emptySpaceAtLeft = extraSpace + chart.initialClipRect.x;\n        //top and bottom\n        var top = point.yRatio;\n        var bottom = point.yRatio + point.heightRatio;\n        //width of the top and bottom edge\n        var topRadius = 0.5 * (1 - point.yRatio);\n        var bottomRadius = 0.5 * (1 - bottom);\n        top += seriesTop / area.height;\n        bottom += seriesTop / area.height;\n        var line1 = {\n            x: emptySpaceAtLeft + offset + topRadius * area.width,\n            y: top * area.height\n        };\n        var line2 = {\n            x: emptySpaceAtLeft + offset + (1 - topRadius) * area.width,\n            y: top * area.height\n        };\n        var line3 = {\n            x: emptySpaceAtLeft + offset + (1 - bottomRadius) * area.width,\n            y: bottom * area.height\n        };\n        var line4 = {\n            x: emptySpaceAtLeft + offset + bottomRadius * area.width,\n            y: bottom * area.height\n        };\n        var polygon = [line1, line2, line3, line4];\n        this.setLabelLocation(series, point, polygon);\n        var direction = this.findPath(polygon);\n        return direction;\n    };\n    /**\n     * Initializes the size of the pyramid segments\n     * @private\n     */\n    PyramidSeries.prototype.initializeSizeRatio = function (points, series) {\n        if (series.pyramidMode === 'Linear') {\n            _super.prototype.initializeSizeRatio.call(this, points, series, true);\n        }\n        else {\n            this.calculateSurfaceSegments(series);\n        }\n    };\n    /**\n     * Defines the size of the pyramid segments, the surface of that will reflect the values\n     */\n    PyramidSeries.prototype.calculateSurfaceSegments = function (series) {\n        var count = series.points.length;\n        var sumOfValues = series.sumOfPoints;\n        var yRatio = 0;\n        var y = [];\n        var height = [];\n        var gapRatio = Math.min(0, Math.max(series.gapRatio, 1));\n        var gapHeight = gapRatio / (count - 1);\n        var preSum = this.getSurfaceHeight(0, sumOfValues);\n        var currY = 0;\n        for (var i = 0; i < count; i++) {\n            if (series.points[i].visible) {\n                y[i] = currY;\n                height[i] = this.getSurfaceHeight(currY, Math.abs(series.points[i].y));\n                currY += height[i] + gapHeight * preSum;\n            }\n        }\n        var coef = 1 / (currY - gapHeight * preSum);\n        for (var i = 0; i < count; i++) {\n            if (series.points[i].visible) {\n                series.points[i].yRatio = coef * y[i];\n                series.points[i].heightRatio = coef * height[i];\n            }\n        }\n    };\n    /**\n     * Finds the height of pyramid segment\n     */\n    PyramidSeries.prototype.getSurfaceHeight = function (y, surface) {\n        var result = this.solveQuadraticEquation(1, 2 * y, -surface);\n        return result;\n    };\n    /**\n     * Solves quadratic equation\n     */\n    PyramidSeries.prototype.solveQuadraticEquation = function (a, b, c) {\n        var root1;\n        var root2;\n        var d = b * b - 4 * a * c;\n        if (d >= 0) {\n            var sd = Math.sqrt(d);\n            root1 = (-b - sd) / (2 * a);\n            root2 = (-b + sd) / (2 * a);\n            return Math.max(root1, root2);\n        }\n        return 0;\n    };\n    /**\n     * Renders a pyramid segment\n     */\n    PyramidSeries.prototype.renderPoint = function (point, series, chart, options) {\n        var direction = this.getSegmentData(point, series, chart);\n        point.midAngle = 0;\n        options.d = direction;\n    };\n    /**\n     * To get the module name of the Pyramid series.\n     */\n    PyramidSeries.prototype.getModuleName = function () {\n        return 'PyramidSeries';\n    };\n    /**\n     * To destroy the pyramid series\n     * @return {void}\n     * @private\n     */\n    PyramidSeries.prototype.destroy = function (accumulation) {\n        /**\n         * Destroys the pyramid series\n         */\n    };\n    return PyramidSeries;\n}(TriangularBase));\nexport { PyramidSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * AccumulationChart legend\n */\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pointByIndex } from '../model/acc-base';\nimport { BaseLegend, LegendOptions } from '../../common/legend/legend';\nimport { Rect, measureText, textTrim } from '../../common/utils/helper';\n/**\n * AccumulationLegend module used to render `Legend` for Accumulation chart.\n */\nvar AccumulationLegend = /** @class */ (function (_super) {\n    __extends(AccumulationLegend, _super);\n    /**\n     * Constructor for Accumulation Legend.\n     * @param chart\n     */\n    function AccumulationLegend(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.library = _this;\n        _this.titleRect = new Rect(0, chart.margin.top, 0, 0);\n        return _this;\n    }\n    /**\n     * Get the legend options.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.getLegendOptions = function (chart, series) {\n        this.legendCollections = [];\n        for (var i = 0; i < 1; i++) {\n            var seriesType = series[i].type;\n            if (seriesType === 'Pie' || seriesType === 'Doughnut') {\n                seriesType = (series[i].innerRadius !== '0' && series[i].innerRadius !== '0%') ?\n                    'Doughnut' : 'Pie';\n            }\n            for (var _i = 0, _a = series[i].points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                if (!isNullOrUndefined(point.x) && !isNullOrUndefined(point.y)) {\n                    this.legendCollections.push(new LegendOptions(point.x.toString(), point.color, series[i].legendShape, point.visible, seriesType, null, null, point.index, series[i].index));\n                }\n            }\n        }\n    };\n    /**\n     * To find legend bounds for accumulation chart.\n     * @private\n     */\n    AccumulationLegend.prototype.getLegendBounds = function (availableSize, legendBounds, legend) {\n        var extraWidth = 0;\n        var extraHeight = 0;\n        var padding = legend.padding;\n        if (!this.isVertical) {\n            extraHeight = !legend.height ? ((availableSize.height / 100) * 5) : 0;\n        }\n        else {\n            extraWidth = !legend.width ? ((availableSize.width / 100) * 5) : 0;\n        }\n        legendBounds.width += extraWidth;\n        legendBounds.height += extraHeight;\n        var shapePadding = legend.shapePadding;\n        var maximumWidth = 0;\n        var shapeWidth = legend.shapeWidth;\n        var rowWidth = 0;\n        var rowCount = 0;\n        var columnWidth = [];\n        var columnHeight = 0;\n        var legendWidth = 0;\n        this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n        var legendEventArgs;\n        var render = false;\n        for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n            var legendOption = _a[_i];\n            legendEventArgs = { fill: legendOption.fill, text: legendOption.text, shape: legendOption.shape,\n                name: 'legendRender', cancel: false };\n            this.chart.trigger('legendRender', legendEventArgs);\n            legendOption.render = !legendEventArgs.cancel;\n            legendOption.text = legendEventArgs.text;\n            legendOption.fill = legendEventArgs.fill;\n            legendOption.shape = legendEventArgs.shape;\n            legendOption.textSize = measureText(legendOption.text, legend.textStyle);\n            if (legendOption.render && legendOption.text !== '') {\n                render = true;\n                legendWidth = shapeWidth + shapePadding + legendOption.textSize.width + padding;\n                if (this.isVertical) {\n                    ++rowCount;\n                    columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding;\n                    if ((rowCount * (this.maxItemHeight + padding)) + padding > legendBounds.height) {\n                        columnHeight = Math.max(columnHeight, (rowCount * (this.maxItemHeight + padding)) + padding);\n                        rowWidth = rowWidth + maximumWidth;\n                        columnWidth.push(maximumWidth);\n                        this.totalPages = Math.max(rowCount, this.totalPages || 1);\n                        maximumWidth = 0;\n                        rowCount = 1;\n                    }\n                    maximumWidth = Math.max(legendWidth, maximumWidth);\n                }\n                else {\n                    rowWidth = rowWidth + legendWidth;\n                    if (legendBounds.width < (padding + rowWidth)) {\n                        maximumWidth = Math.max(maximumWidth, (rowWidth + padding - legendWidth));\n                        if (rowCount === 0 && (legendWidth !== rowWidth)) {\n                            rowCount = 1;\n                        }\n                        rowWidth = legendWidth;\n                        rowCount++;\n                        columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding;\n                    }\n                }\n            }\n        }\n        if (this.isVertical) {\n            rowWidth = rowWidth + maximumWidth;\n            this.isPaging = legendBounds.width < (rowWidth + padding);\n            columnHeight = Math.max(columnHeight, ((this.totalPages || 1) * (this.maxItemHeight + padding)) + padding);\n            this.isPaging = this.isPaging && (this.totalPages > 1);\n            if (columnWidth[columnWidth.length - 1] !== maximumWidth) {\n                columnWidth.push(maximumWidth);\n            }\n        }\n        else {\n            this.isPaging = legendBounds.height < columnHeight;\n            this.totalPages = this.totalRowCount = rowCount;\n            columnHeight = Math.max(columnHeight, (this.maxItemHeight + padding) + padding);\n        }\n        this.maxColumns = 0; // initialization for max columns\n        var width = this.isVertical ? this.getMaxColumn(columnWidth, legendBounds.width, padding, rowWidth + padding) :\n            Math.max(rowWidth + padding, maximumWidth);\n        if (render) {\n            this.setBounds(width, columnHeight, legend, legendBounds);\n        }\n        else {\n            this.setBounds(0, 0, legend, legendBounds);\n        }\n    };\n    /**\n     * To find maximum column size for legend\n     */\n    AccumulationLegend.prototype.getMaxColumn = function (columns, width, padding, rowWidth) {\n        var maxPageColumn = padding;\n        this.maxColumnWidth = Math.max.apply(null, columns);\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            maxPageColumn += this.maxColumnWidth;\n            this.maxColumns++;\n            if (maxPageColumn + padding > width) {\n                maxPageColumn -= this.maxColumnWidth;\n                this.maxColumns--;\n                break;\n            }\n        }\n        this.isPaging = (maxPageColumn < rowWidth) && (this.totalPages > 1);\n        if (maxPageColumn === padding) {\n            maxPageColumn = width;\n        }\n        this.maxColumns = Math.max(1, this.maxColumns);\n        this.maxWidth = maxPageColumn;\n        return maxPageColumn;\n    };\n    /**\n     * To find available width from legend x position.\n     */\n    AccumulationLegend.prototype.getAvailWidth = function (tx, width, legendX) {\n        if (this.isVertical) {\n            width = this.maxWidth;\n        }\n        return width - ((this.legend.padding * 2) + this.legend.shapeWidth + this.legend.shapePadding);\n    };\n    /**\n     * To find legend rendering locations from legend options.\n     * @private\n     */\n    AccumulationLegend.prototype.getRenderPoint = function (legendOption, start, textPadding, prevLegend, rect, count, firstLegend) {\n        var padding = this.legend.padding;\n        if (this.isVertical) {\n            if (count === firstLegend || (prevLegend.location.y + (this.maxItemHeight * 1.5) + (padding * 2) > rect.y + rect.height)) {\n                legendOption.location.x = prevLegend.location.x + ((count === firstLegend) ? 0 : this.maxColumnWidth);\n                legendOption.location.y = start.y;\n                this.pageXCollections.push(legendOption.location.x - (this.legend.shapeWidth / 2) - padding);\n                this.totalPages++;\n            }\n            else {\n                legendOption.location.x = prevLegend.location.x;\n                legendOption.location.y = prevLegend.location.y + this.maxItemHeight + padding;\n            }\n        }\n        else {\n            var previousBound = (prevLegend.location.x + textPadding + prevLegend.textSize.width);\n            if ((previousBound + (legendOption.textSize.width + textPadding)) > (rect.x + rect.width + this.legend.shapeWidth / 2)) {\n                legendOption.location.y = (count === firstLegend) ? prevLegend.location.y :\n                    prevLegend.location.y + this.maxItemHeight + padding;\n                legendOption.location.x = start.x;\n            }\n            else {\n                legendOption.location.y = prevLegend.location.y;\n                legendOption.location.x = (count === firstLegend) ? prevLegend.location.x : previousBound;\n            }\n            this.totalPages = this.totalRowCount;\n        }\n        var availablewidth = this.getAvailWidth(legendOption.location.x, this.legendBounds.width, this.legendBounds.x);\n        legendOption.text = textTrim(+availablewidth.toFixed(4), legendOption.text, this.legend.textStyle);\n    };\n    /**\n     * finding the smart legend place according to positions.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.getSmartLegendLocation = function (labelBound, legendBound, margin) {\n        var space;\n        switch (this.position) {\n            case 'Left':\n                space = ((labelBound.x - legendBound.width) - margin.left) / 2;\n                legendBound.x = (labelBound.x - legendBound.width) < margin.left ? legendBound.x :\n                    (labelBound.x - legendBound.width) - space;\n                break;\n            case 'Right':\n                space = ((this.chart.availableSize.width - margin.right) - (labelBound.x + labelBound.width + legendBound.width)) / 2;\n                legendBound.x = (labelBound.x + labelBound.width + legendBound.width) > (this.chart.availableSize.width - margin.right) ?\n                    legendBound.x : (labelBound.x + labelBound.width + space);\n                break;\n            case 'Top':\n                this.getTitleRect(this.chart);\n                space = ((labelBound.y - legendBound.height) - (this.titleRect.y + this.titleRect.height)) / 2;\n                legendBound.y = (labelBound.y - legendBound.height) < margin.top ? legendBound.y :\n                    (labelBound.y - legendBound.height) - space;\n                break;\n            case 'Bottom':\n                space = ((this.chart.availableSize.height - margin.bottom) - (labelBound.y + labelBound.height + legendBound.height)) / 2;\n                legendBound.y = labelBound.y + labelBound.height + legendBound.height > (this.chart.availableSize.height - margin.bottom) ?\n                    legendBound.y : (labelBound.y + labelBound.height) + space;\n                break;\n        }\n    };\n    /**\n     * To get title rect.\n     */\n    AccumulationLegend.prototype.getTitleRect = function (accumulation) {\n        if (!accumulation.title) {\n            return null;\n        }\n        var titleSize = measureText(accumulation.title, accumulation.titleStyle);\n        this.titleRect = new Rect(accumulation.availableSize.width / 2 - titleSize.width / 2, accumulation.margin.top, titleSize.width, titleSize.height);\n    };\n    /**\n     * To get legend by index\n     */\n    AccumulationLegend.prototype.legendByIndex = function (index, legendCollections) {\n        for (var _i = 0, legendCollections_1 = legendCollections; _i < legendCollections_1.length; _i++) {\n            var legend = legendCollections_1[_i];\n            if (legend.pointIndex === index) {\n                return legend;\n            }\n        }\n        return null;\n    };\n    /**\n     * To show or hide the legend on clicking the legend.\n     * @return {void}\n     */\n    AccumulationLegend.prototype.click = function (event) {\n        var targetId = event.target.id;\n        var legendItemsId = [this.legendID + '_text_', this.legendID + '_shape_',\n            this.legendID + '_shape_marker_'];\n        var selectedDataIndexes = [];\n        if (this.chart.accumulationSelectionModule) {\n            selectedDataIndexes = extend([], this.chart.accumulationSelectionModule.selectedDataIndexes, null, true);\n        }\n        for (var _i = 0, legendItemsId_1 = legendItemsId; _i < legendItemsId_1.length; _i++) {\n            var id = legendItemsId_1[_i];\n            if (targetId.indexOf(id) > -1) {\n                var pointIndex = parseInt(targetId.split(id)[1], 10);\n                var currentSeries = this.chart.visibleSeries[0];\n                var point = pointByIndex(pointIndex, currentSeries.points);\n                var legendOption = this.legendByIndex(pointIndex, this.legendCollections);\n                if (this.chart.legendSettings.toggleVisibility) {\n                    point.visible = !point.visible;\n                    legendOption.visible = point.visible;\n                    this.chart.removeSvg();\n                    if (point.visible) {\n                        currentSeries.sumOfPoints += point.y;\n                    }\n                    else {\n                        currentSeries.sumOfPoints -= point.y;\n                    }\n                    this.chart.refreshPoints(currentSeries.points);\n                    this.chart.renderElements();\n                }\n                else if (this.chart.accumulationSelectionModule) {\n                    this.chart.accumulationSelectionModule.legendSelection(this.chart, 0, pointIndex);\n                }\n            }\n        }\n        if (targetId.indexOf(this.legendID + '_pageup') > -1) {\n            this.changePage(event, true);\n        }\n        else if (targetId.indexOf(this.legendID + '_pagedown') > -1) {\n            this.changePage(event, false);\n        }\n    };\n    /**\n     * Get module name\n     */\n    AccumulationLegend.prototype.getModuleName = function () {\n        return 'AccumulationLegend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return AccumulationLegend;\n}(BaseLegend));\nexport { AccumulationLegend };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * AccumulationChart DataLabel module file\n */\nimport { extend, createElement } from '@syncfusion/ej2-base';\nimport { ChartLocation, degreeToLocation, Rect, isOverlap, stringToNumber, getAngle, TextOption } from '../../common/utils/helper';\nimport { textTrim, subtractThickness, Thickness, getElement } from '../../common/utils/helper';\nimport { removeElement, measureText, RectOption, textElement, showTooltip } from '../../common/utils/helper';\nimport { PathOption, colorNameToHex, convertHexToColor, containsRect } from '../../common/utils/helper';\nimport { getSeriesFromIndex } from '../model/acc-base';\nimport { textRender } from '../../common/model/constants';\nimport { getFontStyle, createTemplate, measureElementRect, templateAnimate } from '../../common/utils/helper';\nimport { AccumulationBase } from './accumulation-base';\n/**\n * AccumulationDataLabel module used to render `dataLabel`.\n */\nvar AccumulationDataLabel = /** @class */ (function (_super) {\n    __extends(AccumulationDataLabel, _super);\n    function AccumulationDataLabel(accumulation) {\n        var _this = _super.call(this, accumulation) || this;\n        _this.id = accumulation.element.id + '_datalabel_Series_';\n        if (accumulation.title) {\n            var titleSize = measureText(accumulation.title, accumulation.titleStyle);\n            _this.titleRect = new Rect(accumulation.availableSize.width / 2 - titleSize.width / 2, accumulation.margin.top, titleSize.width, titleSize.height);\n        }\n        return _this;\n    }\n    /**\n     * Method to get datalabel text location.\n     * @private\n     */\n    AccumulationDataLabel.prototype.getDataLabelPosition = function (point, dataLabel, textSize, points, parent, id) {\n        var radius = this.isCircular() ? this.labelRadius : this.getLabelDistance(point, dataLabel);\n        this.getLabelRegion(point, dataLabel.position, textSize, radius, this.marginValue);\n        point.labelAngle = point.midAngle;\n        point.labelPosition = dataLabel.position;\n        if (this.accumulation.enableSmartLabels) {\n            this.getSmartLabel(point, dataLabel, textSize, points, parent, id);\n        }\n    };\n    /**\n     * Method to get datalabel bound.\n     */\n    AccumulationDataLabel.prototype.getLabelRegion = function (point, position, textSize, labelRadius, margin, endAngle) {\n        if (endAngle === void 0) { endAngle = 0; }\n        var labelAngle = endAngle || point.midAngle;\n        var space = 10;\n        var location = degreeToLocation(labelAngle, labelRadius, this.isCircular() ? this.center :\n            this.getLabelLocation(point, position));\n        location.y = (position === 'Inside') ? (location.y - textSize.height / 2) : location.y;\n        location.x = (position === 'Inside') ? (location.x - textSize.width / 2) : location.x;\n        point.labelRegion = new Rect(location.x, location.y, textSize.width + (margin * 2), textSize.height + (margin * 2));\n        if (position === 'Outside') {\n            point.labelRegion.y -= point.labelRegion.height / 2;\n            if (labelAngle >= 90 && labelAngle <= 270) {\n                point.labelRegion.x -= (point.labelRegion.width + space);\n            }\n            else {\n                point.labelRegion.x += space;\n            }\n        }\n    };\n    /**\n     * Method to get datalabel smart position.\n     */\n    AccumulationDataLabel.prototype.getSmartLabel = function (point, dataLabel, textSize, points, parent, id) {\n        var circular = this.isCircular();\n        var labelRadius = circular ? this.radius : this.getLabelDistance(point, dataLabel);\n        var connectorLength = circular ? (dataLabel.connectorStyle.length || '4%') :\n            '0px';\n        labelRadius += stringToNumber(connectorLength, labelRadius);\n        var previousPoint = this.findPreviousPoint(points, point.index, point.labelPosition);\n        if (dataLabel.position === 'Inside') {\n            if (previousPoint && previousPoint.labelRegion && (isOverlap(point.labelRegion, previousPoint.labelRegion)\n                || this.isOverlapping(point, points)) || !circular && !containsRect(point.region, point.labelRegion)) {\n                point.labelPosition = 'Outside';\n                if (!circular) {\n                    labelRadius = this.getLabelDistance(point, dataLabel);\n                }\n                this.getLabelRegion(point, point.labelPosition, textSize, labelRadius, this.marginValue);\n                previousPoint = this.findPreviousPoint(points, point.index, point.labelPosition);\n                if (previousPoint && (isOverlap(point.labelRegion, previousPoint.labelRegion) ||\n                    this.isConnectorLineOverlapping(point, previousPoint))) {\n                    this.setOuterSmartLabel(previousPoint, point, dataLabel.border.width, labelRadius, textSize, this.marginValue);\n                }\n            }\n        }\n        else {\n            if (previousPoint && previousPoint.labelRegion && (isOverlap(point.labelRegion, previousPoint.labelRegion)\n                || this.isOverlapping(point, points) || this.isConnectorLineOverlapping(point, previousPoint))) {\n                this.setOuterSmartLabel(previousPoint, point, dataLabel.border.width, labelRadius, textSize, this.marginValue);\n            }\n        }\n        if (this.isOverlapping(point, points) || (this.titleRect && point.labelRegion && isOverlap(point.labelRegion, this.titleRect))) {\n            this.setPointVisibileFalse(point);\n        }\n        if (this.accumulation.accumulationLegendModule && point.labelVisible && point.labelRegion) {\n            var rect = this.accumulation.accumulationLegendModule.legendBounds;\n            var padding = this.accumulation.legendSettings.border.width / 2;\n            this.textTrimming(point, new Rect(rect.x - padding, rect.y - padding, rect.width + (2 * padding), rect.height + (2 * padding)), dataLabel.font, this.accumulation.accumulationLegendModule.position);\n        }\n        if (point.labelVisible && point.labelRegion) {\n            var position = this.isCircular() ? (point.labelRegion.x >= this.center.x) ? 'InsideRight' : 'InsideLeft' :\n                'InsideRight';\n            this.textTrimming(point, this.areaRect, dataLabel.font, position);\n        }\n        if (point.labelVisible && point.labelRegion && ((point.labelRegion.y + point.labelRegion.height >\n            this.areaRect.y + this.areaRect.height || point.labelRegion.y < this.areaRect.y) || (point.labelRegion.x < this.areaRect.x ||\n            point.labelRegion.x + point.labelRegion.width > this.areaRect.x + this.areaRect.width))) {\n            this.setPointVisibileFalse(point);\n        }\n    };\n    /**\n     * To find trimmed datalabel tooltip needed.\n     * @return {void}\n     * @private\n     */\n    AccumulationDataLabel.prototype.move = function (e, x, y, isTouch) {\n        var _this = this;\n        var location = this.accumulation.removeSvgOffset(x, y);\n        if (e.target.textContent.indexOf('...') > -1) {\n            var targetId = e.target.id.split(this.id);\n            if (targetId.length === 2) {\n                var seriesIndex = parseInt(targetId[1].split('_text_')[0], 10);\n                var pointIndex = parseInt(targetId[1].split('_text_')[1], 10);\n                if (!isNaN(seriesIndex) && !isNaN(pointIndex)) {\n                    if (isTouch) {\n                        removeElement(this.accumulation.element.id + '_EJ2_Datalabel_Tooltip');\n                    }\n                    var point = getSeriesFromIndex(seriesIndex, (this.accumulation).visibleSeries).points[pointIndex];\n                    showTooltip(point.text || point.y.toString(), location.x, location.y, this.areaRect.width, this.accumulation.element.id + '_EJ2_Datalabel_Tooltip', getElement(this.accumulation.element.id + '_Secondary_Element'));\n                }\n            }\n        }\n        else {\n            removeElement(this.accumulation.element.id + '_EJ2_Datalabel_Tooltip');\n        }\n        if (isTouch) {\n            clearTimeout(this.clearTooltip);\n            this.clearTooltip = setTimeout(function () { removeElement(_this.accumulation.element.id + '_EJ2_Datalabel_Tooltip'); }, 1000);\n        }\n    };\n    /**\n     * To find previous valid label point\n     */\n    AccumulationDataLabel.prototype.findPreviousPoint = function (points, index, position) {\n        var point = points[0];\n        for (var i = index - 1; i >= 0; i--) {\n            point = points[i];\n            if (point.visible && point.labelVisible && point.labelRegion && point.labelPosition === position) {\n                return point;\n            }\n        }\n        return null;\n    };\n    /**\n     * To find current point datalabel is overlapping with other points\n     */\n    AccumulationDataLabel.prototype.isOverlapping = function (currentPoint, points) {\n        for (var i = currentPoint.index - 1; i >= 0; i--) {\n            if (points[i].visible && points[i].labelVisible && points[i].labelRegion && currentPoint.labelRegion &&\n                currentPoint.labelVisible && isOverlap(currentPoint.labelRegion, points[i].labelRegion)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To get text trimmed while exceeds the accumulation chart area.\n     */\n    AccumulationDataLabel.prototype.textTrimming = function (point, rect, font, position) {\n        if (isOverlap(point.labelRegion, rect)) {\n            var size = point.labelRegion.width;\n            if (position === 'Right') {\n                size = rect.x - point.labelRegion.x;\n            }\n            else if (position === 'Left') {\n                size = point.labelRegion.x - (rect.x + rect.width);\n                if (size < 0) {\n                    size += point.labelRegion.width;\n                    point.labelRegion.x = rect.x + rect.width;\n                }\n            }\n            else if (position === 'InsideRight') {\n                size = (rect.x + rect.width) - point.labelRegion.x;\n            }\n            else if (position === 'InsideLeft') {\n                size = (point.labelRegion.x + point.labelRegion.width) - rect.x;\n                if (size < point.labelRegion.width) {\n                    point.labelRegion.x = rect.x;\n                }\n            }\n            else {\n                this.setPointVisibileFalse(point);\n            }\n            if (point.labelVisible && point.labelRegion) {\n                if (size < point.labelRegion.width) {\n                    point.label = textTrim(size - (this.marginValue * 2), point.label, font);\n                    point.labelRegion.width = size;\n                }\n                if (point.label.length === 3 && point.label.indexOf('...') > -1) {\n                    this.setPointVisibileFalse(point);\n                }\n            }\n        }\n    };\n    /**\n     * To set point label visible and region to disable.\n     */\n    AccumulationDataLabel.prototype.setPointVisibileFalse = function (point) {\n        point.labelVisible = false;\n        point.labelRegion = null;\n    };\n    /**\n     * To set datalabel angle position for outside labels\n     */\n    AccumulationDataLabel.prototype.setOuterSmartLabel = function (previousPoint, point, border, labelRadius, textsize, margin) {\n        if (!this.isCircular()) {\n            this.setSmartLabelForSegments(point, previousPoint, labelRadius, textsize, margin);\n        }\n        else {\n            var labelAngle = this.getOverlappedAngle(previousPoint.labelRegion, point.labelRegion, point.midAngle, border * 2);\n            this.getLabelRegion(point, 'Outside', textsize, labelRadius, margin, labelAngle);\n            if (labelAngle > point.endAngle) {\n                this.setPointVisibileFalse(point);\n            }\n            point.labelAngle = labelAngle;\n            while (point.labelVisible && (isOverlap(previousPoint.labelRegion, point.labelRegion) || labelAngle <= previousPoint.labelAngle\n                || this.isConnectorLineOverlapping(point, previousPoint))) {\n                if (labelAngle > point.endAngle) {\n                    this.setPointVisibileFalse(point);\n                    break;\n                }\n                point.labelAngle = labelAngle;\n                this.getLabelRegion(point, 'Outside', textsize, labelRadius, margin, labelAngle);\n                labelAngle += 0.1;\n            }\n        }\n    };\n    /**\n     * Sets smart label positions for funnel and pyramid series\n     */\n    AccumulationDataLabel.prototype.setSmartLabelForSegments = function (point, prevPoint, distance, textSize, margin) {\n        var textRegion = point.labelRegion;\n        //let overlapWidth: number = prevPoint.labelRegion.x + prevPoint.labelRegion.width - textRegion.x;\n        var overlapHeight = this.accumulation.type === 'Funnel' ?\n            prevPoint.labelRegion.y - (textRegion.y + textRegion.height) :\n            point.labelRegion.y - (prevPoint.labelRegion.y + prevPoint.labelRegion.height);\n        if (overlapHeight < 0) {\n            point.labelRegion.y += this.accumulation.type === 'Funnel' ? overlapHeight : -overlapHeight;\n        }\n    };\n    /**\n     * To find connector line overlapping.\n     */\n    AccumulationDataLabel.prototype.isConnectorLineOverlapping = function (point, previous) {\n        var start = this.getLabelLocation(point);\n        var end = new ChartLocation(0, 0);\n        this.getEdgeOfLabel(point.labelRegion, point.labelAngle, end);\n        var previousstart = this.getLabelLocation(previous);\n        var previousend = new ChartLocation(0, 0);\n        this.getEdgeOfLabel(previous.labelRegion, previous.labelAngle, previousend);\n        return this.isLineRectangleIntersect(start, end, point.labelRegion) ||\n            this.isLineRectangleIntersect(start, end, previous.labelRegion) ||\n            this.isLineRectangleIntersect(previousstart, previousend, point.labelRegion);\n    };\n    /**\n     * To find two rectangle intersect\n     */\n    AccumulationDataLabel.prototype.isLineRectangleIntersect = function (line1, line2, rect) {\n        var rectPoints = [\n            new ChartLocation(Math.round(rect.x), Math.round(rect.y)),\n            new ChartLocation(Math.round((rect.x + rect.width)), Math.round(rect.y)),\n            new ChartLocation(Math.round((rect.x + rect.width)), Math.round((rect.y + rect.height))),\n            new ChartLocation(Math.round(rect.x), Math.round((rect.y + rect.height)))\n        ];\n        line1.x = Math.round(line1.x);\n        line1.y = Math.round(line1.y);\n        line2.x = Math.round(line2.x);\n        line2.y = Math.round(line2.y);\n        for (var i = 0; i < rectPoints.length; i++) {\n            if (this.isLinesIntersect(line1, line2, rectPoints[i], rectPoints[(i + 1) % rectPoints.length])) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To find two line intersect\n     */\n    AccumulationDataLabel.prototype.isLinesIntersect = function (point1, point2, point11, point12) {\n        var a1 = point2.y - point1.y;\n        var b1 = point1.x - point2.x;\n        var c1 = a1 * point1.x + b1 * point1.y;\n        var a2 = point12.y - point11.y;\n        var b2 = point11.x - point12.x;\n        var c2 = a2 * point11.x + b2 * point11.y;\n        var delta = a1 * b2 - a2 * b1;\n        if (delta !== 0) {\n            var x = (b2 * c1 - b1 * c2) / delta;\n            var y = (a1 * c2 - a2 * c1) / delta;\n            var lies = Math.min(point1.x, point2.x) <= x && x <= Math.max(point1.x, point2.x);\n            lies = lies && Math.min(point1.y, point2.y) <= y && y <= Math.max(point1.y, point2.y);\n            lies = lies && Math.min(point11.x, point12.x) <= x && x <= Math.max(point11.x, point12.x);\n            lies = lies && Math.min(point11.y, point12.y) <= y && y <= Math.max(point11.y, point12.y);\n            return lies;\n        }\n        return false;\n    };\n    /**\n     * To get two rectangle overlapping angles.\n     */\n    AccumulationDataLabel.prototype.getOverlappedAngle = function (first, second, angle, padding) {\n        var x = first.x;\n        if (angle >= 90 && angle <= 270) {\n            second.y = first.y - (padding + second.height / 2);\n            x = first.x + first.width;\n        }\n        else {\n            second.y = first.y + first.height + padding;\n        }\n        return getAngle(this.center, new ChartLocation(x, second.y));\n    };\n    /**\n     * To get connector line path\n     */\n    AccumulationDataLabel.prototype.getConnectorPath = function (label, point, dataLabel, end) {\n        if (end === void 0) { end = 0; }\n        var connector = dataLabel.connectorStyle;\n        var labelRadius = this.isCircular() ? this.labelRadius : this.getLabelDistance(point, dataLabel);\n        var start = this.getConnectorStartPoint(point, connector);\n        var labelAngle = end || point.midAngle;\n        var middle = new ChartLocation(0, 0);\n        var endPoint = this.getEdgeOfLabel(label, labelAngle, middle, connector.width);\n        if (connector.type === 'Curve') {\n            if (this.isCircular()) {\n                var r = labelRadius - this.radius;\n                middle = degreeToLocation(labelAngle, labelRadius - (r / 2), this.center);\n                return 'M ' + start.x + ' ' + start.y + ' Q' + middle.x + ',' + middle.y + ' ' + endPoint.x + ',' + endPoint.y;\n            }\n            else {\n                return this.getPolyLinePath(start, endPoint);\n            }\n        }\n        else {\n            return 'M ' + start.x + ' ' + start.y + ' L ' + middle.x + ' ' + middle.y + ' L ' + endPoint.x + ' ' + endPoint.y;\n        }\n    };\n    /**\n     * Finds the curved path for funnel/pyramid data label connectors\n     */\n    AccumulationDataLabel.prototype.getPolyLinePath = function (start, end) {\n        var controlPoints = [start, end];\n        if (start.y === end.y) {\n            return 'M ' + start.x + ' ' + start.y + ' L ' + end.x + ' ' + end.y;\n        }\n        var path = 'M';\n        for (var i = 0; i <= 16; i++) {\n            var t = i / 16;\n            var points = this.getBezierPoint(t, controlPoints, 0, 2);\n            path += points.x + ',' + points.y;\n            if (i !== 16) {\n                path += ' L';\n            }\n        }\n        return path;\n    };\n    /**\n     * Finds the bezier point for funnel/pyramid data label connectors\n     */\n    AccumulationDataLabel.prototype.getBezierPoint = function (t, controlPoints, index, count) {\n        if (count === 1) {\n            return controlPoints[index];\n        }\n        var p0 = this.getBezierPoint(t, controlPoints, index, count - 1);\n        var p1 = this.getBezierPoint(t, controlPoints, index + 1, count - 1);\n        var x = (p0.x) ? p0.x : p0.x;\n        var y = (p0.y) ? p0.y : p0.y;\n        var x1 = (p1.x) ? p1.x : p1.x;\n        var y1 = (p1.y) ? p1.y : p1.y;\n        var x2 = (1 - t) * x + t * x1;\n        var y2 = (1 - t) * y + t * y1;\n        if (p0.x) {\n            return { x: x2, y: y2 };\n        }\n        else {\n            return { x: x2, y: y2 };\n        }\n    };\n    /**\n     * To get label edges based on the center and label rect position.\n     */\n    AccumulationDataLabel.prototype.getEdgeOfLabel = function (labelshape, angle, middle, border) {\n        if (border === void 0) { border = 1; }\n        var edge = new ChartLocation(labelshape.x, labelshape.y);\n        if (angle >= 90 && angle <= 270) {\n            edge.x += labelshape.width + border / 2;\n            edge.y += labelshape.height / 2;\n            middle.x = edge.x + 10;\n            middle.y = edge.y;\n        }\n        else {\n            edge.x -= border / 2;\n            edge.y += labelshape.height / 2;\n            middle.x = edge.x - 10;\n            middle.y = edge.y;\n        }\n        return edge;\n    };\n    /**\n     * Finds the distance between the label position and the edge/center of the funnel/pyramid\n     */\n    AccumulationDataLabel.prototype.getLabelDistance = function (point, dataLabel) {\n        if (point.labelPosition && dataLabel.position !== point.labelPosition || dataLabel.connectorStyle.length) {\n            var length_1 = stringToNumber(dataLabel.connectorStyle.length || '70px', this.accumulation.initialClipRect.width);\n            if (length_1 < this.accumulation.initialClipRect.width) {\n                return length_1;\n            }\n        }\n        var position = point.labelPosition || dataLabel.position;\n        var series = this.accumulation.visibleSeries[0];\n        var extraSpace = (this.accumulation.initialClipRect.width - series.triangleSize.width) / 2;\n        var labelLocation;\n        switch (position) {\n            case 'Inside':\n                return 0;\n            case 'Outside':\n                labelLocation = point.symbolLocation.x + point.labelOffset.x;\n                return this.accumulation.initialClipRect.width - labelLocation - extraSpace;\n        }\n    };\n    /**\n     * Finds the label position / beginning of the connector(ouside funnel labels)\n     */\n    AccumulationDataLabel.prototype.getLabelLocation = function (point, position) {\n        if (position === void 0) { position = 'Outside'; }\n        if (this.accumulation.type !== 'Pie') {\n            position = point.labelPosition || position;\n            var location_1 = {\n                x: point.symbolLocation.x,\n                y: point.symbolLocation.y - point.labelOffset.y\n            };\n            switch (position) {\n                case 'Inside':\n                    location_1.y = point.region.y + point.region.height / 2;\n                    break;\n                case 'Outside':\n                    location_1.x += point.labelOffset.x;\n            }\n            return location_1;\n        }\n        else {\n            return degreeToLocation(point.midAngle, this.radius, this.center);\n        }\n    };\n    /**\n     * Finds the beginning of connector line\n     */\n    AccumulationDataLabel.prototype.getConnectorStartPoint = function (point, connector) {\n        return this.isCircular() ? degreeToLocation(point.midAngle, this.radius - connector.width, this.center) :\n            this.getLabelLocation(point);\n    };\n    /**\n     * To find area rect based on margin, available size.\n     * @private\n     */\n    AccumulationDataLabel.prototype.findAreaRect = function () {\n        this.areaRect = new Rect(0, 0, this.accumulation.availableSize.width, this.accumulation.availableSize.height);\n        var margin = this.accumulation.margin;\n        subtractThickness(this.areaRect, new Thickness(margin.left, margin.right, margin.top, margin.bottom));\n    };\n    /**\n     * To render the datalabels from series points.\n     * @private\n     */\n    AccumulationDataLabel.prototype.renderDataLabel = function (point, dataLabel, parent, points, series, templateElement) {\n        var id = this.accumulation.element.id + '_datalabel_Series_' + series + '_';\n        var datalabelGroup = this.accumulation.renderer.createGroup({ id: id + 'g_' + point.index });\n        point.label = point.originalText || point.y.toString();\n        var argsData = {\n            cancel: false, name: textRender, series: this.accumulation.visibleSeries[0], point: point,\n            text: point.label, border: dataLabel.border, color: dataLabel.fill, template: dataLabel.template\n        };\n        this.accumulation.trigger(textRender, argsData);\n        var isTemplate = argsData.template !== null;\n        point.labelVisible = !argsData.cancel;\n        point.text = point.label = argsData.text;\n        this.marginValue = argsData.border.width ? (5 + argsData.border.width) : 1;\n        // Template element\n        var childElement = createElement('div', {\n            id: this.accumulation.element.id + '_Series_' + 0 + '_DataLabel_' + point.index,\n            styles: 'position: absolute;background-color:' + argsData.color + ';' +\n                getFontStyle(dataLabel.font) + ';border:' + argsData.border.width + 'px solid ' + argsData.border.color + ';'\n        });\n        var textSize = isTemplate ? this.getTemplateSize(childElement, point, argsData) :\n            measureText(point.label, dataLabel.font);\n        textSize.height += 4; // 4 for calculation with padding for smart label shape\n        textSize.width += 4;\n        this.getDataLabelPosition(point, dataLabel, textSize, points, datalabelGroup, id);\n        if (point.labelVisible) {\n            this.correctLabelRegion(point.labelRegion, textSize);\n            if (isTemplate) {\n                this.setTemplateStyle(childElement, point, templateElement, dataLabel.font.color, argsData.color);\n            }\n            else {\n                datalabelGroup.appendChild(this.accumulation.renderer.drawRectangle(new RectOption(id + 'shape_' + point.index, argsData.color, argsData.border, 1, point.labelRegion, dataLabel.rx, dataLabel.ry)));\n                textElement(new TextOption(id + 'text_' + point.index, point.labelRegion.x + this.marginValue, point.labelRegion.y + (textSize.height * 3 / 4) + this.marginValue, 'start', point.label, '', 'auto'), dataLabel.font, dataLabel.font.color || this.getSaturatedColor(point, argsData.color), datalabelGroup);\n            }\n            if (this.accumulation.accumulationLegendModule && (dataLabel.position === 'Outside' || this.accumulation.enableSmartLabels)) {\n                this.accumulation.visibleSeries[0].findMaxBounds(this.accumulation.visibleSeries[0].labelBound, point.labelRegion);\n            }\n            if (point.labelPosition === 'Outside') {\n                var path = this.getConnectorPath(extend({}, point.labelRegion, null, true), point, dataLabel, point.labelAngle);\n                var pathElement = this.accumulation.renderer.drawPath(new PathOption(id + 'connector_' + point.index, 'transparent', dataLabel.connectorStyle.width, dataLabel.connectorStyle.color || point.color, 1, '', path));\n                datalabelGroup.appendChild(pathElement);\n            }\n            parent.appendChild(datalabelGroup);\n        }\n    };\n    /**\n     * To find the template element size\n     * @param element\n     * @param point\n     * @param argsData\n     */\n    AccumulationDataLabel.prototype.getTemplateSize = function (element, point, argsData) {\n        var clientRect;\n        element = createTemplate(element, point.index, argsData.template, this.accumulation, point, this.accumulation.visibleSeries[0]);\n        clientRect = measureElementRect(element);\n        return { width: clientRect.width, height: clientRect.height };\n    };\n    /**\n     * To set the template element style\n     * @param childElement\n     * @param point\n     * @param parent\n     * @param labelColor\n     * @param fill\n     */\n    AccumulationDataLabel.prototype.setTemplateStyle = function (childElement, point, parent, labelColor, fill) {\n        childElement.style.left = (point.labelRegion.x) + 'px';\n        childElement.style.top = (point.labelRegion.y) + 'px';\n        childElement.style.color = labelColor ||\n            this.getSaturatedColor(point, fill);\n        if (childElement.childElementCount) {\n            parent.appendChild(childElement);\n            this.doTemplateAnimation(this.accumulation, childElement);\n        }\n    };\n    /**\n     * To find saturated color for datalabel\n     */\n    AccumulationDataLabel.prototype.getSaturatedColor = function (point, color) {\n        var saturatedColor;\n        if (this.marginValue >= 1) {\n            saturatedColor = color === 'transparent' ? this.getLabelBackground(point) : color;\n        }\n        else {\n            saturatedColor = this.getLabelBackground(point);\n        }\n        saturatedColor = (saturatedColor === 'transparent') ? window.getComputedStyle(document.body, null).backgroundColor : saturatedColor;\n        var rgbValue = convertHexToColor(colorNameToHex(saturatedColor));\n        var contrast = Math.round((rgbValue.r * 299 + rgbValue.g * 587 + rgbValue.b * 114) / 1000);\n        return contrast >= 128 ? 'black' : 'white';\n    };\n    /**\n     * Animates the data label template.\n     * @return {void}.\n     * @private\n     */\n    AccumulationDataLabel.prototype.doTemplateAnimation = function (accumulation, element) {\n        var series = accumulation.visibleSeries[0];\n        var delay = series.animation.delay + series.animation.duration;\n        if (series.animation.enable && accumulation.animateSeries) {\n            element.style.visibility = 'hidden';\n            templateAnimate(element, delay, 200, 'ZoomIn');\n        }\n    };\n    /**\n     * To find background color for the datalabel\n     */\n    AccumulationDataLabel.prototype.getLabelBackground = function (point) {\n        return point.labelPosition === 'Outside' ? this.accumulation.background : point.color;\n    };\n    /**\n     * To correct the padding between datalabel regions.\n     */\n    AccumulationDataLabel.prototype.correctLabelRegion = function (labelRegion, textSize, padding) {\n        if (padding === void 0) { padding = 4; }\n        labelRegion.height -= padding;\n        labelRegion.width -= padding;\n        labelRegion.x += padding / 2;\n        labelRegion.y += padding / 2;\n        textSize.height -= padding;\n        textSize.width -= padding;\n    };\n    /**\n     * To get the dataLabel module name\n     */\n    AccumulationDataLabel.prototype.getModuleName = function () {\n        return 'AccumulationDataLabel';\n    };\n    /**\n     * To destroy the data label.\n     * @return {void}\n     * @private\n     */\n    AccumulationDataLabel.prototype.destroy = function (accumulation) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return AccumulationDataLabel;\n}(AccumulationBase));\nexport { AccumulationDataLabel };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Component } from '@syncfusion/ej2-base';\nimport { rippleEffect, EventHandler } from '@syncfusion/ej2-base';\nimport { createElement, addClass, removeClass, detach } from '@syncfusion/ej2-base';\nimport { getTextNode } from '../common/common';\nvar cssClassName = {\n    RTL: 'e-rtl',\n    BUTTON: 'e-btn',\n    PRIMARY: 'e-primary',\n    ICONBTN: 'e-icon-btn'\n};\n/**\n * The Button is a graphical user interface element that triggers an event on its click action. It can contain a text, an image, or both.\n * ```html\n * <button id=\"button\">Button</button>\n * ```\n * ```typescript\n * <script>\n * var btnObj = new Button();\n * btnObj.appendTo(\"#button\");\n * </script>\n * ```\n */\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {ButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function Button(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Button.prototype.preRender = function () {\n        // pre render code snippets\n    };\n    /**\n     * Initialize the control rendering\n     * @returns void\n     * @private\n     */\n    Button.prototype.render = function () {\n        this.initialize();\n    };\n    Button.prototype.initialize = function () {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.isPrimary) {\n            this.element.classList.add(cssClassName.PRIMARY);\n        }\n        if (this.content) {\n            this.element.innerHTML = this.content;\n        }\n        this.setIconCss();\n        if (this.enableRtl) {\n            this.element.classList.add(cssClassName.RTL);\n        }\n        if (this.disabled) {\n            this.controlStatus(this.disabled);\n        }\n        rippleEffect(this.element, { selector: '.' + cssClassName.BUTTON });\n        this.wireEvents();\n    };\n    Button.prototype.controlStatus = function (disabled) {\n        this.element.disabled = disabled;\n    };\n    Button.prototype.setIconCss = function () {\n        if (this.iconCss) {\n            if (!this.element.textContent) {\n                this.element.classList.add(cssClassName.ICONBTN);\n            }\n            var span = createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n            var node = this.element.childNodes[0];\n            if (node && this.iconPosition === 'left') {\n                this.element.insertBefore(span, node);\n                span.classList.add('e-icon-left');\n            }\n            else {\n                this.element.appendChild(span);\n                if (this.iconPosition === 'right') {\n                    span.classList.add('e-icon-right');\n                }\n            }\n        }\n    };\n    Button.prototype.wireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n        }\n    };\n    Button.prototype.unWireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.remove(this.element, 'click', this.btnClickHandler);\n        }\n    };\n    Button.prototype.btnClickHandler = function () {\n        if (this.element.classList.contains('e-active')) {\n            this.element.classList.remove('e-active');\n        }\n        else {\n            this.element.classList.add('e-active');\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    Button.prototype.destroy = function () {\n        var span;\n        var element = this.element;\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [cssClassName.PRIMARY, cssClassName.RTL, cssClassName.ICONBTN, 'e-success',\n            'e-info', 'e-danger', 'e-warning', 'e-flat', 'e-outline', 'e-small', 'e-bigger', 'e-active', 'e-round']);\n        ['e-ripple', 'disabled'].forEach(function (value) {\n            element.removeAttribute(value);\n        });\n        if (this.content) {\n            element.innerHTML = element.innerHTML.replace(this.content, '');\n        }\n        span = element.querySelector('span.e-btn-icon');\n        if (span) {\n            detach(span);\n        }\n        this.unWireEvents();\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    Button.prototype.getModuleName = function () {\n        return 'btn';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    Button.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {Button} newProp\n     * @param  {Button} oldProp\n     * @returns void\n     * @private\n     */\n    Button.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isPrimary':\n                    if (newProp.isPrimary) {\n                        this.element.classList.add(cssClassName.PRIMARY);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.PRIMARY);\n                    }\n                    break;\n                case 'disabled':\n                    this.controlStatus(this.disabled);\n                    break;\n                case 'iconCss':\n                    var span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        span.className = 'e-btn-icon ' + this.iconCss;\n                        if (this.element.textContent) {\n                            if (this.iconPosition === 'left') {\n                                span.classList.add('e-icon-left');\n                            }\n                            else {\n                                span.classList.add('e-icon-right');\n                            }\n                        }\n                    }\n                    else {\n                        this.setIconCss();\n                    }\n                    break;\n                case 'iconPosition':\n                    span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        detach(span);\n                    }\n                    this.setIconCss();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    addClass([this.element], newProp.cssClass.split(' '));\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(cssClassName.RTL);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.RTL);\n                    }\n                    break;\n                case 'content':\n                    var node = getTextNode(this.element);\n                    if (node) {\n                        node.textContent = newProp.content;\n                    }\n                    else {\n                        this.element.innerHTML = newProp.content;\n                        this.element.classList.remove(cssClassName.ICONBTN);\n                        this.setIconCss();\n                    }\n                    break;\n                case 'isToggle':\n                    if (newProp.isToggle) {\n                        EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n                    }\n                    else {\n                        EventHandler.remove(this.element, 'click', this.btnClickHandler);\n                        removeClass([this.element], ['e-active']);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('left')\n    ], Button.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isToggle\", void 0);\n    Button = __decorate([\n        NotifyPropertyChanges\n    ], Button);\n    return Button;\n}(Component));\nexport { Button };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { addClass, createElement, detach, getUniqueID, isRippleEnabled, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-checkbox-disabled';\nvar FRAME = 'e-frame';\nvar INDETERMINATE = 'e-stop';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLECHECK = 'e-ripple-check';\nvar RIPPLEINDETERMINATE = 'e-ripple-stop';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-checkbox-wrapper';\n/**\n * The CheckBox is a graphical user interface element that allows you to select one or more options from the choices.\n * It contains checked, unchecked, and indeterminate states.\n * ```html\n * <input type=\"checkbox\" id=\"checkbox\"/>\n * <script>\n * var checkboxObj = new CheckBox({ label: \"Default\" });\n * checkboxObj.appendTo(\"#checkbox\");\n * </script>\n * ```\n */\nvar CheckBox = /** @class */ (function (_super) {\n    __extends(CheckBox, _super);\n    /**\n     * Constructor for creating the widget\n     * @private\n     */\n    function CheckBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        return _this;\n    }\n    CheckBox.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n        if (isRippleEnabled) {\n            rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        }\n        if (state === 'check') {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLEINDETERMINATE);\n                rippleSpan.classList.add(RIPPLECHECK);\n            }\n            ariaState = 'true';\n            this.element.checked = true;\n        }\n        else if (state === 'uncheck') {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLECHECK, RIPPLEINDETERMINATE]);\n            }\n            ariaState = 'false';\n            this.element.checked = false;\n        }\n        else {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLECHECK);\n                rippleSpan.classList.add(RIPPLEINDETERMINATE);\n            }\n            ariaState = 'mixed';\n            this.element.indeterminate = true;\n        }\n        this.getWrapper().setAttribute('aria-checked', ariaState);\n    };\n    CheckBox.prototype.clickHandler = function (event) {\n        this.focusOutHandler();\n        if (this.indeterminate) {\n            this.changeState(this.checked ? 'check' : 'uncheck');\n            this.indeterminate = false;\n            this.element.indeterminate = false;\n        }\n        else if (this.checked) {\n            this.changeState('uncheck');\n            this.checked = false;\n        }\n        else {\n            this.changeState('check');\n            this.checked = true;\n        }\n        var changeEventArgs = { checked: this.element.checked, event: event };\n        this.trigger('change', changeEventArgs);\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    CheckBox.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        if (this.tagName === 'INPUT') {\n            wrapper.parentNode.insertBefore(this.element, wrapper);\n            detach(wrapper);\n            this.element.checked = false;\n            if (this.indeterminate) {\n                this.element.indeterminate = false;\n            }\n            ['name', 'value', 'disabled'].forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n        }\n        else {\n            ['role', 'aria-checked', 'class'].forEach(function (key) {\n                wrapper.removeAttribute(key);\n            });\n            if (this.element.id) {\n                wrapper.setAttribute('id', this.element.id);\n            }\n            wrapper.innerHTML = '';\n        }\n    };\n    CheckBox.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    CheckBox.prototype.focusOutHandler = function () {\n        this.getWrapper().classList.remove('e-focus');\n    };\n    /**\n     * Gets the module name.\n     * @private\n     */\n    CheckBox.prototype.getModuleName = function () {\n        return 'checkbox';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    CheckBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked', 'indeterminate']);\n    };\n    CheckBox.prototype.getWrapper = function () {\n        return this.element.parentElement.parentElement;\n    };\n    CheckBox.prototype.initialize = function () {\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.changeState('check');\n        }\n        if (this.indeterminate) {\n            this.changeState();\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    CheckBox.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = createElement('div', {\n                className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = createElement('label', { attrs: { for: this.element.id } });\n        var frameSpan = createElement('span', { className: 'e-icons ' + FRAME });\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        wrapper.appendChild(label);\n        label.appendChild(this.element);\n        label.appendChild(frameSpan);\n        if (isRippleEnabled) {\n            var rippleSpan = createElement('span', { className: RIPPLE });\n            if (this.labelPosition === 'before') {\n                label.appendChild(rippleSpan);\n            }\n            else {\n                label.insertBefore(rippleSpan, frameSpan);\n            }\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    CheckBox.prototype.keyActionHandler = function (e) {\n        if (e.action === 'space') {\n            e.preventDefault();\n            this.clickHandler(e);\n            this.focusHandler();\n        }\n    };\n    CheckBox.prototype.keyDownHandler = function () {\n        this.isKeyPressed = true;\n    };\n    CheckBox.prototype.labelMouseHandler = function (e) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n    };\n    CheckBox.prototype.mouseDownHandler = function () {\n        this.isKeyPressed = false;\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    CheckBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.indeterminate = false;\n                    this.element.indeterminate = false;\n                    this.changeState(newProp.checked ? 'check' : 'uncheck');\n                    break;\n                case 'indeterminate':\n                    if (newProp.indeterminate) {\n                        this.changeState();\n                    }\n                    else {\n                        this.element.indeterminate = false;\n                        this.changeState(this.checked ? 'check' : 'uncheck');\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    wrapper.classList.add(newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition':\n                    var label = wrapper.getElementsByClassName(LABEL)[0];\n                    var labelWrap = wrapper.getElementsByTagName('label')[0];\n                    detach(label);\n                    if (newProp.labelPosition === 'after') {\n                        labelWrap.appendChild(label);\n                    }\n                    else {\n                        labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n                    }\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     * @private\n     */\n    CheckBox.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize('EJ-CHECKBOX', 'checkbox', element, WRAPPER);\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'checkbox') {\n            this.element.setAttribute('type', 'checkbox');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    CheckBox.prototype.render = function () {\n        this.initWrapper();\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    CheckBox.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    CheckBox.prototype.setText = function (text) {\n        var label = this.getWrapper().getElementsByClassName(LABEL)[0];\n        if (label) {\n            label.textContent = text;\n        }\n        else {\n            label = createElement('span', { className: LABEL, innerHTML: text });\n            var labelWrap = this.getWrapper().getElementsByTagName('label')[0];\n            if (this.labelPosition === 'before') {\n                labelWrap.insertBefore(label, this.getWrapper().getElementsByClassName(FRAME)[0]);\n            }\n            else {\n                labelWrap.appendChild(label);\n            }\n        }\n    };\n    CheckBox.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.keyboardModule.destroy();\n        EventHandler.remove(document, 'keydown', this.keyDownHandler);\n        EventHandler.remove(wrapper, 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.remove(label, 'mousedown', this.labelMouseHandler);\n        EventHandler.remove(label, 'mouseup', this.labelMouseHandler);\n    };\n    CheckBox.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        this.keyboardModule = new KeyboardEvents(wrapper, {\n            eventName: 'keyup',\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: { space: 'space' }\n        });\n        EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(wrapper, 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.add(label, 'mousedown', this.labelMouseHandler, this);\n        EventHandler.add(label, 'mouseup', this.labelMouseHandler, this);\n    };\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"change\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"indeterminate\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"label\", void 0);\n    __decorate([\n        Property('after')\n    ], CheckBox.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"value\", void 0);\n    CheckBox = __decorate([\n        NotifyPropertyChanges\n    ], CheckBox);\n    return CheckBox;\n}(Component));\nexport { CheckBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, rippleEffect, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, createElement, detach, getInstance, getUniqueID, isRippleEnabled } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler } from './../common/common';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-radio-wrapper';\n/**\n * The RadioButton is a graphical user interface element that allows you to select one option from the choices.\n * It contains checked and unchecked states.\n * ```html\n * <input type=\"radio\" id=\"radio\"/>\n * <script>\n * var radioObj = new RadioButton({ label: \"Default\" });\n * radioObj.appendTo(\"#radio\");\n * </script>\n * ```\n */\nvar RadioButton = /** @class */ (function (_super) {\n    __extends(RadioButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @private\n     */\n    function RadioButton(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        return _this;\n    }\n    RadioButton_1 = RadioButton;\n    RadioButton.prototype.changeHandler = function (event) {\n        this.checked = true;\n        this.dataBind();\n        var changeEventArgs = { value: this.value, event: event };\n        this.trigger('change', changeEventArgs);\n    };\n    RadioButton.prototype.updateChange = function (state) {\n        var input;\n        var name = this.element.getAttribute('name');\n        var radioGrp = document.querySelectorAll('input.e-radio[name=\"' + name + '\"]');\n        for (var i = 0; i < radioGrp.length; i++) {\n            input = radioGrp[i];\n            if (input !== this.element) {\n                getInstance(input, RadioButton_1).checked = false;\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    RadioButton.prototype.destroy = function () {\n        var _this = this;\n        var radioWrap = this.element.parentElement;\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        if (this.tagName === 'INPUT') {\n            radioWrap.parentNode.insertBefore(this.element, radioWrap);\n            detach(radioWrap);\n            this.element.checked = false;\n            ['name', 'value', 'disabled'].forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n        }\n        else {\n            ['role', 'aria-checked', 'class'].forEach(function (key) {\n                radioWrap.removeAttribute(key);\n            });\n            if (this.element.id) {\n                radioWrap.setAttribute('id', this.element.id);\n            }\n            radioWrap.innerHTML = '';\n        }\n    };\n    RadioButton.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getLabel().classList.add('e-focus');\n        }\n    };\n    RadioButton.prototype.focusOutHandler = function () {\n        this.getLabel().classList.remove('e-focus');\n    };\n    RadioButton.prototype.getModuleName = function () {\n        return 'radio';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    RadioButton.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked']);\n    };\n    RadioButton.prototype.getLabel = function () {\n        return this.element.nextElementSibling;\n    };\n    RadioButton.prototype.initialize = function () {\n        this.initWrapper();\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.element.checked = true;\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    RadioButton.prototype.initWrapper = function () {\n        var rippleSpan;\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = createElement('div', { className: WRAPPER });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = createElement('label', { attrs: { for: this.element.id } });\n        wrapper.appendChild(this.element);\n        wrapper.appendChild(label);\n        if (isRippleEnabled) {\n            rippleSpan = createElement('span', { className: (RIPPLE) });\n            label.appendChild(rippleSpan);\n            rippleEffect(rippleSpan, {\n                duration: 400,\n                isCenterRipple: true\n            });\n        }\n        if (this.enableRtl) {\n            label.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([label], this.cssClass.split(' '));\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    RadioButton.prototype.keyDownHandler = function () {\n        this.isKeyPressed = true;\n    };\n    RadioButton.prototype.labelRippleHandler = function (e) {\n        var ripple = this.getLabel().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, ripple);\n    };\n    RadioButton.prototype.mouseDownHandler = function () {\n        this.isKeyPressed = false;\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    RadioButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var label = this.getLabel();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    if (newProp.checked) {\n                        this.updateChange(newProp.checked);\n                    }\n                    this.element.checked = newProp.checked;\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        label.classList.remove(oldProp.cssClass);\n                    }\n                    label.classList.add(newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        label.classList.add(RTL);\n                    }\n                    else {\n                        label.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition':\n                    if (newProp.labelPosition === 'before') {\n                        label.classList.add('e-right');\n                    }\n                    else {\n                        label.classList.remove('e-right');\n                    }\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize checked Property, Angular and React and Unique ID support.\n     * @private\n     */\n    RadioButton.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize('EJ-RADIOBUTTON', 'radio', element, WRAPPER);\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'radio') {\n            this.element.setAttribute('type', 'radio');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    RadioButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    RadioButton.prototype.setDisabled = function () {\n        this.element.disabled = true;\n    };\n    RadioButton.prototype.setText = function (text) {\n        var label = this.getLabel();\n        var textLabel = label.getElementsByClassName(LABEL)[0];\n        if (textLabel) {\n            textLabel.textContent = text;\n        }\n        else {\n            textLabel = createElement('span', { className: LABEL, innerHTML: text });\n            label.appendChild(textLabel);\n        }\n        if (this.labelPosition === 'before') {\n            this.getLabel().classList.add('e-right');\n        }\n        else {\n            this.getLabel().classList.remove('e-right');\n        }\n    };\n    RadioButton.prototype.unWireEvents = function () {\n        var label = this.getLabel();\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(document, 'keydown', this.keyDownHandler);\n        EventHandler.remove(label, 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var rippleLabel = label.getElementsByClassName(LABEL)[0];\n        if (rippleLabel) {\n            EventHandler.remove(rippleLabel, 'mousedown', this.labelRippleHandler);\n            EventHandler.remove(rippleLabel, 'mouseup', this.labelRippleHandler);\n        }\n    };\n    RadioButton.prototype.wireEvents = function () {\n        var label = this.getLabel();\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(label, 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var rippleLabel = label.getElementsByClassName(LABEL)[0];\n        if (rippleLabel) {\n            EventHandler.add(rippleLabel, 'mousedown', this.labelRippleHandler, this);\n            EventHandler.add(rippleLabel, 'mouseup', this.labelRippleHandler, this);\n        }\n    };\n    __decorate([\n        Event()\n    ], RadioButton.prototype, \"change\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"label\", void 0);\n    __decorate([\n        Property('after')\n    ], RadioButton.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"value\", void 0);\n    RadioButton = RadioButton_1 = __decorate([\n        NotifyPropertyChanges\n    ], RadioButton);\n    return RadioButton;\n    var RadioButton_1;\n}(Component));\nexport { RadioButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Browser } from '@syncfusion/ej2-base';\nimport { createElement, addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { Draggable } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { Button } from '@syncfusion/ej2-buttons';\nvar ButtonProps = /** @class */ (function (_super) {\n    __extends(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\nexport { ButtonProps };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\n/**\n * Represents the Dialog component that displays information to the user, and used to get the user input.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    /**\n     * Constructor for creating the widget\n     * @hidden\n     */\n    function Dialog(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.closeIconClickEventHandler = function (event) {\n            _this.hide();\n            _this.closedFrom = event;\n        };\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.trigger('overlayClick', event);\n        };\n        var localeText = { close: 'close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        this.headerContent = null;\n    };\n    ;\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                if (document.activeElement === this.btnObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    this.btnObj.element.focus();\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.hide();\n            this.closedFrom = event;\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        addClass([this.element], ROOT);\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        this.setCSSClass();\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        attributes(this.element, { role: 'dialog' });\n        if (isNullOrUndefined(this.zIndex)) {\n            this.getZindexPartial();\n        }\n        if (this.header !== '') {\n            this.setHeader();\n        }\n        if (this.showCloseIcon) {\n            this.renderCloseIcon();\n        }\n        if (!isNullOrUndefined(this.content) && this.content !== '') {\n            this.setContent();\n        }\n        else if (this.element.hasChildNodes()) {\n            this.contentEle = this.element;\n        }\n        if (this.footerTemplate !== '') {\n            this.setFooterTemplate();\n        }\n        if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n            this.setButton();\n        }\n        if (this.allowDragging && (!this.isModal) && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n        if (this.isModal) {\n            this.setIsModal();\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            open: function () {\n                _this.focusContent();\n                _this.trigger('open');\n            },\n            close: function (event) {\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closedFrom);\n                _this.closedFrom = {};\n                if (!isNullOrUndefined(_this.storeActiveElement)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        addClass([this.element], DLG_HIDE);\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n    };\n    Dialog.prototype.positionChange = function () {\n        if (!this.isModal) {\n            this.popupObj.setProperties({\n                position: {\n                    X: this.position.X, Y: this.position.Y\n                }\n            });\n        }\n        else {\n            this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n        }\n    };\n    Dialog.prototype.getZindexPartial = function () {\n        // upto body traversal\n        var dialogParent = this.element.parentElement;\n        var parentZindex = [];\n        while (dialogParent) {\n            if (dialogParent.tagName !== 'BODY') {\n                var index = document.defaultView.getComputedStyle(dialogParent, null).getPropertyValue('z-index');\n                var position = document.defaultView.getComputedStyle(dialogParent, null).getPropertyValue('position');\n                if (index !== 'auto' && position !== 'static') {\n                    parentZindex.push(index);\n                }\n                dialogParent = dialogParent.parentElement;\n            }\n            else {\n                break;\n            }\n        }\n        //Body direct children element traversal\n        var childrenZindex = [];\n        for (var i = 0; i < document.body.children.length; i++) {\n            if (!this.element.isEqualNode(document.body.children[i])) {\n                var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n                var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n                if (index !== 'auto' && position !== 'static') {\n                    childrenZindex.push(index);\n                }\n            }\n        }\n        childrenZindex.push('999');\n        var finalValue = parentZindex.concat(childrenZindex);\n        this.zIndex = Math.max.apply(Math, finalValue) + 1;\n    };\n    ;\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        this.dragObj = new Draggable(this.element, {\n            clone: false,\n            handle: handleContent,\n            dragStart: function (event) {\n                _this.trigger('dragStart', event);\n            },\n            dragStop: function (event) {\n                _this.trigger('dragStop', event);\n            },\n            drag: function (event) {\n                _this.trigger('drag', event);\n            }\n        });\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        this.buttonContent = [];\n        var primaryBtnFlag = true;\n        for (var i = 0; i < this.buttons.length; i++) {\n            var btn = createElement('button', { attrs: { type: 'button' } });\n            this.buttonContent.push(btn.outerHTML);\n        }\n        this.setFooterTemplate();\n        for (var i = 0; i < this.buttons.length; i++) {\n            this.btnObj = new Button(this.buttons[i].buttonModel);\n            if (typeof (this.buttons[i].click) === 'function') {\n                EventHandler.add(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click, this);\n            }\n            this.btnObj.appendTo(this.ftrTemplateContent.children[i]);\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n    };\n    Dialog.prototype.setContent = function () {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        typeof (this.content) === 'string' ? this.contentEle.innerHTML = this.content : this.contentEle.appendChild(this.content);\n        !isNullOrUndefined(this.headerContent) ? this.element.insertBefore(this.contentEle, this.element.children[1]) :\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        if (this.height === 'auto') {\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    Dialog.prototype.setHeader = function () {\n        this.headerEle = createElement('div', { id: this.element.id + '_title', className: DLG_HEADER, innerHTML: this.header });\n        attributes(this.element, { 'aria-labelledby': this.element.id + '_title' });\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        this.ftrTemplateContent = createElement('div', {\n            className: DLG_FOOTER_CONTENT,\n            innerHTML: (this.footerTemplate !== '' ? this.footerTemplate : this.buttonContent.join(''))\n        });\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = createElement('div', { className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        this.closeIcon = createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n        this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n        this.closeIconTitle();\n        if (!isNullOrUndefined(this.headerContent)) {\n            prepend([this.closeIcon], this.headerContent);\n        }\n        else {\n            this.createHeaderContent();\n            prepend([this.closeIcon], this.headerContent);\n            this.element.insertBefore(this.headerContent, this.element.children[0]);\n        }\n        this.closeIconBtnObj.appendTo(this.closeIcon);\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = createElement('div', { className: DLG_CONTAINER });\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msMatchesSelector : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        node.focus();\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    /**\n     * Module required function\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            this.contentEle.innerHTML = '';\n                            typeof (this.content) === 'string' ?\n                                this.contentEle.innerHTML = this.content : this.contentEle.appendChild(this.content);\n                            this.setMaxHeight();\n                        }\n                        else {\n                            this.setContent();\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        this.element.removeChild(this.contentEle);\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '') {\n                        detach(this.headerEle);\n                    }\n                    else {\n                        this.element.getElementsByClassName(DLG_HEADER).length > 0 ?\n                            this.element.getElementsByClassName(DLG_HEADER)[0].innerHTML = this.header\n                            : this.setHeader();\n                    }\n                    break;\n                case 'footerTemplate':\n                    this.element.getElementsByClassName(DLG_FOOTER_CONTENT).length > 0 ?\n                        this.ftrTemplateContent.innerHTML = this.footerTemplate : this.setFooterTemplate();\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && this.header === '') {\n                            detach(this.headerContent);\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                    }\n                    else {\n                        this.renderCloseIcon();\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n                    if (this.isModal) {\n                        this.setIsModal();\n                        this.wireEvents();\n                        if (!isNullOrUndefined(this.targetEle)) {\n                            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n                        }\n                    }\n                    else {\n                        removeClass([this.element], MODAL_DLG);\n                        removeClass([document.body], SCROLL_DISABLED);\n                        detach(this.dlgOverlay);\n                        while (this.dlgContainer.firstChild) {\n                            this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n                        }\n                        this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n                    }\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'animationSettings':\n                    this.show();\n                    break;\n                case 'buttons':\n                    if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n                        if (!isNullOrUndefined(this.ftrTemplateContent)) {\n                            detach(this.ftrTemplateContent);\n                        }\n                        this.setButton();\n                    }\n                    break;\n                case 'allowDragging':\n                    if (this.allowDragging && (!this.isModal) && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.popupObj.relateTo = newProp.target;\n                    break;\n                case 'position':\n                    if (oldProp.position.X === this.position.X && oldProp.position.Y === this.position.Y) {\n                        break;\n                    }\n                    if (this.isModal) {\n                        this.dlgContainer.classList.remove('e-dlg-' + oldProp.position.X + '-' + oldProp.position.Y);\n                        this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n                    }\n                    else {\n                        this.popupObj.position = this.position;\n                        break;\n                    }\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}\n     * @private\n     * @memberof dialog\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.element.classList.contains(ROOT)) {\n            this.unWireEvents();\n            _super.prototype.destroy.call(this);\n            var classArray = [\n                ROOT, RTL, MODAL_DLG\n            ];\n            removeClass([this.element, this.element], classArray);\n            if (this.popupObj.element.classList.contains(POPUP_ROOT)) {\n                this.popupObj.destroy();\n            }\n            if (!isNullOrUndefined(this.btnObj)) {\n                this.btnObj.destroy();\n            }\n            if (this.isModal) {\n                detach(this.dlgOverlay);\n                this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n                detach(this.dlgContainer);\n            }\n            this.element.innerHTML = '';\n        }\n    };\n    /**\n     * Binding event to the element while widget creation\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Specifies dialog offset x and y position changed dynamically or\n     * change the header,footer height or width dynamically, reposition the dialog as per the new changes.\n     * @return {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * To show the Dialog element on screen.\n     * To enable the fullScreen Dialog pass the parameter to 'true'.\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @return {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            this.storeActiveElement = document.activeElement;\n            this.element.tabIndex = -1;\n            this.trigger('beforeOpen');\n            if (this.isModal && (!isNullOrUndefined(this.dlgOverlay))) {\n                this.dlgOverlay.style.display = 'block';\n                this.dlgContainer.style.display = 'flex';\n                if (!isNullOrUndefined(this.targetEle)) {\n                    if (this.targetEle === document.body) {\n                        this.dlgContainer.style.position = 'fixed';\n                    }\n                    else {\n                        this.dlgContainer.style.position = 'absolute';\n                    }\n                    this.dlgOverlay.style.position = 'absolute';\n                    this.element.style.position = 'relative';\n                    addClass([this.targetEle], SCROLL_DISABLED);\n                }\n                else {\n                    addClass([document.body], SCROLL_DISABLED);\n                }\n            }\n            var openAnimation = {\n                name: this.animationSettings.effect + 'In',\n                duration: this.animationSettings.duration,\n                delay: this.animationSettings.delay\n            };\n            this.animationSettings.effect === 'None' ? this.popupObj.show() : this.popupObj.show(openAnimation);\n            this.dialogOpen = true;\n            this.visible = true;\n        }\n    };\n    /**\n     * To hide the Dialog element on screen.\n     * @return {void}\n     */\n    Dialog.prototype.hide = function () {\n        this.trigger('beforeClose');\n        if (this.isModal) {\n            this.dlgOverlay.style.display = 'none';\n            !isNullOrUndefined(this.targetEle) ? removeClass([this.targetEle], SCROLL_DISABLED) :\n                removeClass([document.body], SCROLL_DISABLED);\n        }\n        var closeAnimation = {\n            name: this.animationSettings.effect + 'Out',\n            duration: this.animationSettings.duration,\n            delay: this.animationSettings.delay\n        };\n        this.animationSettings.effect === 'None' ? this.popupObj.hide() : this.popupObj.hide(closeAnimation);\n        this.dialogOpen = false;\n        this.visible = false;\n    };\n    /**\n     * Specifies to view the Full screen Dialog.\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        if (args) {\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && (!this.isModal) && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property()\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate([\n        Property({ effect: 'Fade', duration: 400, delay: 0 })\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Property({ X: 'center', Y: 'center' })\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    Dialog = __decorate([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\nexport { Dialog };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, Event } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit } from '@syncfusion/ej2-base';\nimport { attributes, createElement, closest, removeClass, addClass, remove } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation.prototype, \"open\", void 0);\n    __decorate([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation.prototype, \"close\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for creating the Tooltip widget\n     */\n    function Tooltip(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        if (this.position.indexOf('top') === 0 || this.position.indexOf('bottom') === 0) {\n            _a = this.position.split(' '), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(' '), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n        var _a, _b;\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: {\n                X: elePos.left,\n                Y: elePos.top\n            },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY);\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var elePos = this.collisionFlipFit(target, pos.left + offsetPos.left, pos.top + offsetPos.top);\n        return elePos;\n    };\n    Tooltip.prototype.reposition = function (target) {\n        var elePos = this.getTooltipPosition(target);\n        this.popupObj.position = { X: elePos.left, Y: elePos.top };\n        this.popupObj.dataBind();\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'right top':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'right center':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'right bottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'bottom right':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'bottom center':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'bottom left':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'left bottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'left center':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'left top':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'top left':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'top right':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = this.tooltipEle.querySelectorAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            topValue = this.tipClass === TIP_BOTTOM ? '100%' : -(tipHeight) + 'px';\n            var tipPosExclude = tooltipPositionX !== 'center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionX === 'left') || (!tipPosExclude && this.tipPointerPosition === 'end')) {\n                leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionX === 'right') || (!tipPosExclude && this.tipPointerPosition === 'start')) {\n                leftValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n            }\n        }\n        else {\n            leftValue = this.tipClass === TIP_RIGHT ? tooltipWidth + 'px' : -(tipWidth) + 'px';\n            var tipPosExclude = tooltipPositionY !== 'center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'top') || (!tipPosExclude && this.tipPointerPosition === 'end')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'bottom') || (!tipPosExclude && this.tipPointerPosition === 'start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = this.tooltipEle.querySelector('.' + CONTENT);\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            if (typeof (this.content) === 'string') {\n                tooltipContent.innerHTML = this.content;\n            }\n            else {\n                while (tooltipContent.firstChild) {\n                    tooltipContent.removeChild(tooltipContent.firstChild);\n                }\n                tooltipContent.appendChild(this.content);\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = createElement('div', { className: ICON + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || target.getAttribute('data-tooltip-id') !== null) {\n            return;\n        }\n        var targetList = [].slice.call(document.querySelectorAll('[data-tooltip-id= ' + this.ctrlId + '_content]'));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n        this.wireMouseEvents(e, target);\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeRender', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        this.isHidden = false;\n        if (isNullOrUndefined(this.tooltipEle)) {\n            this.ctrlId = this.element.getAttribute('id') ? getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n            this.tooltipEle = createElement('div', {\n                className: TOOLTIP_WRAP + ' ' + POPUP_ROOT, attrs: {\n                    role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                }, styles: 'width:' + formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n            });\n            if (this.cssClass) {\n                addClass([this.tooltipEle], this.cssClass);\n            }\n            if (Browser.isDevice) {\n                addClass([this.tooltipEle], DEVICE);\n            }\n            if (this.width !== 'auto') {\n                this.tooltipEle.style.maxWidth = formatUnit(this.width);\n            }\n            this.tooltipEle.appendChild(createElement('div', { className: CONTENT }));\n            document.body.appendChild(this.tooltipEle);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            addClass([this.tooltipEle], POPUP_OPEN);\n            if (this.showTipPointer) {\n                this.renderArrow();\n            }\n            this.renderCloseIcon();\n            this.renderPopup(target);\n        }\n        else {\n            this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            PopupAnimation.stop(this.tooltipEle);\n            this.reposition(target);\n        }\n        removeClass([this.tooltipEle], POPUP_OPEN);\n        addClass([this.tooltipEle], POPUP_CLOSE);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeOpen', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        var openAnimation = {\n            name: showAnimation.effect, duration: showAnimation.duration, delay: showAnimation.delay, timingFunction: 'easeOut'\n        };\n        if (showAnimation.effect === 'None') {\n            openAnimation = undefined;\n        }\n        if (this.openDelay > 0) {\n            var show = function () {\n                if (_this.popupObj) {\n                    _this.popupObj.show(openAnimation);\n                }\n            };\n            this.showTimer = setTimeout(show, this.openDelay);\n        }\n        else {\n            this.popupObj.show(openAnimation);\n        }\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, (this.target ? this.element : null), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'right' : affectedPos.indexOf('right') >= 0 ? 'left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'bottom' : affectedPos.indexOf('bottom') >= 0 ? 'top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('bottom') === 0 || this.position.indexOf('top') === 0) ?\n                elePos.vertical + ' ' + this.tooltipPositionX : this.tooltipPositionX + ' ' + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('left') === 0) {\n                elePos.vertical = (newpos === 'left top' || newpos === 'left center') ? 'top' : 'bottom';\n                newpos = (elePos.vertical + ' ' + 'left');\n            }\n            if (newpos.indexOf('right') === 0) {\n                elePos.vertical = (newpos === 'right top' || newpos === 'right center') ? 'top' : 'bottom';\n                newpos = (elePos.vertical + ' ' + 'right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, this.tooltipPositionX, elePos.vertical);\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            elePos.position = newpos;\n            elePos.left = pos.left + offsetPos.left;\n            elePos.top = pos.top + offsetPos.top;\n        }\n        else {\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = fit(this.tooltipEle, (this.target ? this.element : null), { X: true, Y: false }, eleOffset).left;\n        if (this.showTipPointer && (newpos.indexOf('bottom') === 0 || newpos.indexOf('top') === 0)) {\n            var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n            this.tooltipEventArgs = {\n                type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle\n            };\n        }\n        else {\n            target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n            this.tooltipEventArgs = {\n                type: null, cancel: false, target: target, event: null, element: this.tooltipEle\n            };\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        this.trigger('beforeClose', this.tooltipEventArgs);\n        if (!this.tooltipEventArgs.cancel) {\n            this.restoreElement(target);\n            this.isHidden = true;\n            var closeAnimation_1 = {\n                name: hideAnimation.effect, duration: hideAnimation.duration, delay: hideAnimation.delay, timingFunction: 'easeIn'\n            };\n            if (hideAnimation.effect === 'None') {\n                closeAnimation_1 = undefined;\n            }\n            if (this.closeDelay > 0) {\n                var hide = function () {\n                    if (_this.popupObj) {\n                        _this.popupObj.hide(closeAnimation_1);\n                    }\n                };\n                this.hideTimer = setTimeout(hide, this.closeDelay);\n            }\n            else {\n                this.popupObj.hide(closeAnimation_1);\n            }\n        }\n        else {\n            this.isHidden = false;\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e);\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        PopupAnimation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('bottom') === 0 || this.position.indexOf('top') === 0) ?\n                elePos.vertical + ' ' + elePos.horizontal : elePos.horizontal + ' ' + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left + this.offsetX;\n            elePos.top = eventPageY + colpos.top + this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT) === null) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            this.close();\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     * @private\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n    };\n    /**\n     * Initializes the values of private members.\n     * @private\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'center';\n        this.tooltipPositionY = 'top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     * @hidden\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'custom') {\n                return;\n            }\n            if (opensOn === 'focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll', this.scrollHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'auto') {\n            trigger = (Browser.isDevice) ? 'hover' : 'hover focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (!this.isSticky) {\n            if (e.type === 'focus') {\n                EventHandler.add(target, 'blur', this.onMouseOut, this);\n            }\n            if (e.type === 'mouseover') {\n                EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.add(target, 'mousemove touchstart', this.onMouseMove, this);\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     * @hidden\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'custom') {\n                return;\n            }\n            if (opensOn === 'focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll', this.scrollHandler);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart', this.onMouseMove);\n        }\n    };\n    /**\n     * Core method to return the component name.\n     * @private\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     * @private\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     * @private\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle) {\n                        this.tooltipEle.style.width = formatUnit(newProp.width);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    var target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n                    if (this.tooltipEle && target) {\n                        this.reposition(target);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    var trgt = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n                    if (this.tooltipEle && trgt) {\n                        this.reposition(trgt);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass);\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass);\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL);\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows the Tooltip on the specified target with specific animation settings.\n     * @param element Target element where the Tooltip is to be displayed.\n     * @param animation Sets the specific animation, while showing the Tooltip on the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (animation === void 0) { animation = this.animation.open; }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * Hides the Tooltip with specific animation effect.\n     * @param animation Sets the specific animation when hiding Tooltip from the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (animation === void 0) { animation = this.animation.close; }\n        this.hideTooltip(animation);\n    };\n    /**\n     * Refreshes the Tooltip content and its position.\n     * @param target Target element where the Tooltip content or position needs to be refreshed.\n     * @return {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * Destroys the Tooltip widget.\n     * @method destroy\n     * @return {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], ROOT);\n        this.unwireEvents(this.opensOn);\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate([\n        Property('top center')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n","/**\n * AccumulationChart Tooltip file\n */\nimport { compile as templateComplier } from '@syncfusion/ej2-base';\nimport { createElement, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { getSeriesFromIndex } from '../model/acc-base';\nimport { getElement } from '../../common/utils/helper';\nimport { tooltipRender } from '../../common/model/constants';\n/**\n * AccumulationTooltip module used to render `Tooltip` for Accumulation Chart.\n */\nvar AccumulationTooltip = /** @class */ (function () {\n    function AccumulationTooltip(accumulation) {\n        this.accumulation = accumulation;\n        this.tooltipOption = accumulation.tooltip;\n        this.targetId = accumulation.element.id + '_pie_tooltip';\n        this.tooltip = new Tooltip({\n            opensOn: 'custom',\n            beforeOpen: this.tooltipCustomization.bind(this),\n            openDelay: 0,\n            closeDelay: 1000\n        });\n        this.tooltip.appendTo(accumulation.element);\n    }\n    /**\n     * To set template function for toooltip\n     */\n    AccumulationTooltip.prototype.setTemplateFunction = function (template) {\n        var e;\n        try {\n            if (document.querySelectorAll(template).length) {\n                this.templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\n            }\n        }\n        catch (e) {\n            this.templateFn = templateComplier(template);\n        }\n    };\n    /**\n     * To render the tooltip for the point\n     */\n    AccumulationTooltip.prototype.renderTooltip = function (point, seriesIndex) {\n        var element = getElement(this.targetId);\n        if (element && (element.getAttribute('data-tooltip-id') === null) ||\n            this.tooltipIndex !== 'series_' + seriesIndex + '_point_' + point.index) {\n            this.updatePosition(this.targetId, point.symbolLocation.x, point.symbolLocation.y, this.accumulation.element.id + '_Series_0_Point_' + point.index);\n            this.setTemplateFunction(this.tooltipOption.template);\n            this.currentPoint = point;\n            this.tooltip.content = this.getTooltipContent(point, seriesIndex);\n            this.tooltip.open(getElement(this.targetId));\n            this.tooltipIndex = 'series_' + seriesIndex + '_point_' + point.index;\n        }\n    };\n    /**\n     * To remove accumulation chart tooltip with animation\n     * @private\n     */\n    AccumulationTooltip.prototype.fadeOutTooltip = function () {\n        clearTimeout(this.clearTooltip);\n        this.removeTooltip = this.removeTooltip.bind(this);\n        this.clearTooltip = setTimeout(this.removeTooltip, 500);\n    };\n    /**\n     * To remove accumulation chart tooltip element\n     * @private\n     */\n    AccumulationTooltip.prototype.removeTooltip = function () {\n        if (this.tooltip) {\n            this.tooltip.close();\n        }\n    };\n    /**\n     * To get accumulation chart point tooltip content\n     */\n    AccumulationTooltip.prototype.getTooltipContent = function (point, seriesIndex) {\n        if (this.tooltipOption.template && this.templateFn) {\n            var templates = this.templateFn(point);\n            var element = createElement('div');\n            while (templates.length > 0) {\n                element.appendChild(templates[0]);\n            }\n            return element;\n        }\n        else {\n            return this.getTooltipText(point, this.tooltipOption, seriesIndex);\n        }\n    };\n    /**\n     * To customize the accumulation chart tooltip\n     */\n    AccumulationTooltip.prototype.tooltipCustomization = function (args) {\n        var argsData = {\n            cancel: false, name: tooltipRender,\n            content: this.tooltip.content,\n            textStyle: this.tooltipOption.textStyle,\n            series: this.accumulation.visibleSeries[0],\n            point: this.currentPoint\n        };\n        this.accumulation.trigger(tooltipRender, argsData);\n        args.cancel = argsData.cancel;\n        this.tooltip.content = argsData.content;\n        this.tooltipOption.textStyle = argsData.textStyle;\n        var content = document.getElementsByClassName('e-tooltip-wrap')[0];\n        var font = this.tooltipOption.textStyle;\n        var position = this.tooltip.position.split(' ');\n        var borderColor = this.tooltipOption.border.color || this.currentPoint.color;\n        var pointerSize = 8;\n        var outerWidth;\n        var innerWidth;\n        args.element.classList.remove('e-popup-close');\n        args.element.classList.add('e-popup-open');\n        var arrowEle = args.element.querySelector('.e-arrow-tip');\n        var borderWidth = this.tooltipOption.border.width;\n        setStyleAttribute(args.element, {\n            'backgroundColor': this.tooltipOption.fill, 'borderColor': borderColor,\n            'borderWidth': borderWidth, 'borderRadius': '5px', 'pointer-events': 'none'\n        });\n        setStyleAttribute(args.element.querySelector('.e-tip-content'), {\n            'color': font.color || '#000000', 'fontFamily': font.fontFamily, 'fontSize': font.size,\n            'fontWeight': font.fontWeight, 'opacity': font.opacity.toString(), 'fontStyle': font.fontStyle\n        });\n        pointerSize = args.element.querySelector('.e-arrow-tip').offsetHeight;\n        outerWidth = pointerSize + 'px';\n        setStyleAttribute(args.element.querySelector('.e-arrow-tip-outer'), {\n            'borderRightColor': 'transparent', 'borderLeftColor': 'transparent', 'borderBottomColor': borderColor,\n            'borderLeftWidth': outerWidth, 'borderRightWidth': outerWidth, 'borderBottomWidth': outerWidth,\n            'borderTopColor': borderColor,\n        });\n        innerWidth = (pointerSize - borderWidth) + 'px';\n        setStyleAttribute(args.element.querySelector('.e-arrow-tip-inner'), {\n            'borderRightColor': 'transparent', 'borderLeftColor': 'transparent', 'borderBottomColor': borderColor,\n            'borderLeftWidth': innerWidth, 'borderRightWidth': innerWidth, 'borderBottomWidth': innerWidth,\n            'left': borderWidth, 'top': 0, 'borderTopColor': this.tooltipOption.fill\n        });\n        setStyleAttribute(args.element, {\n            'display': 'block', 'transitionProperty': 'left,top',\n            'transitionDuration': this.tooltipOption.enableAnimation ? '500ms' : '0ms'\n        });\n        this.tooltip.dataBind();\n    };\n    /**\n     * To update the tooltip element position\n     * @private\n     */\n    AccumulationTooltip.prototype.updatePosition = function (id, x, y, pointId) {\n        var pointElement = getElement(pointId);\n        var translate = pointElement.getAttribute('transform');\n        if (!isNullOrUndefined(translate) && translate !== '') {\n            translate = translate.replace('translate(', '');\n            translate = translate.replace(')', '');\n            var tx = parseInt(translate.split(',')[0], 10);\n            var ty = parseInt(translate.split(',')[1], 10);\n            x = !isNaN(tx) ? tx + x : x;\n            y = !isNaN(ty) ? ty + y : y;\n        }\n        var tooltip = getElement(id);\n        if (tooltip) {\n            tooltip.style.top = y + 'px';\n            tooltip.style.left = x + 'px';\n        }\n        else {\n            tooltip = createElement('div', {\n                id: id,\n                styles: 'position:absolute;left:' + x + 'px;top:' + y +\n                    'px;width:2px;height:2px;background:transparent'\n            });\n            getElement(this.accumulation.element.id + '_Secondary_Element').appendChild(tooltip);\n        }\n    };\n    /**\n     * To get accumulation chart tooltip text from format.\n     */\n    AccumulationTooltip.prototype.getTooltipText = function (point, tooltip, seriesIndex) {\n        var format = tooltip.format ? tooltip.format : '${point.x} : ${point.y}';\n        var series = getSeriesFromIndex(seriesIndex, this.accumulation.visibleSeries);\n        return this.parseTemplate(point, format, series);\n    };\n    /**\n     * To parse the tooltip template\n     */\n    AccumulationTooltip.prototype.parseTemplate = function (point, format, series) {\n        var value;\n        var textValue;\n        for (var _i = 0, _a = Object.keys(point); _i < _a.length; _i++) {\n            var dataValue = _a[_i];\n            value = new RegExp('${point' + '.' + dataValue + '}', 'gm');\n            format = format.replace(value.source, point[dataValue]);\n        }\n        for (var _b = 0, _c = Object.keys(Object.getPrototypeOf(series)); _b < _c.length; _b++) {\n            var dataValue = _c[_b];\n            value = new RegExp('${series' + '.' + dataValue + '}', 'gm');\n            textValue = series[dataValue];\n            format = format.replace(value.source, textValue);\n        }\n        return format;\n    };\n    /**\n     * Get module name\n     */\n    AccumulationTooltip.prototype.getModuleName = function () {\n        return 'AccumulationTooltip';\n    };\n    /**\n     * To destroy the Tooltip.\n     * @return {void}\n     * @private\n     */\n    AccumulationTooltip.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return AccumulationTooltip;\n}());\nexport { AccumulationTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend } from '@syncfusion/ej2-base';\nimport { indexFinder, pointByIndex } from '../model/acc-base';\nimport { Index } from '../../common/model/base';\nimport { BaseSelection } from '../../common/selection/selection';\n/**\n * Selection Module handles the selection for chart.\n * @private\n */\nvar AccumulationSelection = /** @class */ (function (_super) {\n    __extends(AccumulationSelection, _super);\n    function AccumulationSelection(accumulation) {\n        var _this = _super.call(this, accumulation) || this;\n        _this.renderer = accumulation.renderer;\n        return _this;\n    }\n    /**\n     * To initialize the private variables\n     */\n    AccumulationSelection.prototype.initPrivateVariables = function (accumulation) {\n        this.styleId = accumulation.element.id + '_ej2_chart_selection';\n        this.unselected = accumulation.element.id + '_ej2_deselected';\n        this.selectedDataIndexes = [];\n        this.rectPoints = null;\n    };\n    /**\n     * Method to select the point and series.\n     * @return {void}\n     */\n    AccumulationSelection.prototype.invokeSelection = function (accumulation) {\n        this.initPrivateVariables(accumulation);\n        this.series = extend({}, accumulation.visibleSeries, null, true);\n        this.seriesStyles();\n        this.selectDataIndex(this.concatIndexes(accumulation.selectedDataIndexes, this.selectedDataIndexes), accumulation);\n    };\n    /**\n     * To get series selection style by series.\n     */\n    AccumulationSelection.prototype.generateStyle = function (series) {\n        return (series.selectionStyle || this.styleId + '_series_' + series.index);\n    };\n    /**\n     * To get elements by index, series\n     */\n    AccumulationSelection.prototype.findElements = function (accumulation, series, index) {\n        return [this.getElementByIndex(index)];\n    };\n    /**\n     * To get series point element by index\n     */\n    AccumulationSelection.prototype.getElementByIndex = function (index) {\n        var elementId = this.control.element.id + '_Series_' + index.series + '_Point_' + index.point;\n        return document.getElementById(elementId);\n    };\n    /**\n     * To calculate selected elements on mouse click or touch\n     * @private\n     */\n    AccumulationSelection.prototype.calculateSelectedElements = function (accumulation, event) {\n        if (event.target.id.indexOf(accumulation.element.id + '_') === -1) {\n            return;\n        }\n        if (event.target.id.indexOf('_Series_') > -1 || event.target.id.indexOf('_datalabel_') > -1) {\n            this.performSelection(indexFinder(event.target.id), accumulation, event.target);\n        }\n    };\n    /**\n     * To perform the selection process based on index and element.\n     */\n    AccumulationSelection.prototype.performSelection = function (index, accumulation, element) {\n        element = element.id.indexOf('datalabel') > -1 ?\n            accumulation.getSeriesElement().childNodes[index.series].childNodes[index.point]\n            : element;\n        switch (accumulation.selectionMode) {\n            case 'Point':\n                if (!isNaN(index.point)) {\n                    this.selection(accumulation, index, [element]);\n                    this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n                }\n                break;\n        }\n    };\n    /**\n     * To select the element by index. Adding or removing selection style class name.\n     */\n    AccumulationSelection.prototype.selection = function (accumulation, index, selectedElements) {\n        if (!accumulation.isMultiSelect) {\n            this.removeMultiSelectEelments(accumulation, this.selectedDataIndexes, index, accumulation.series);\n        }\n        var className = selectedElements[0] && (selectedElements[0].getAttribute('class') || '');\n        if (selectedElements[0] && className.indexOf(this.getSelectionClass(selectedElements[0].id)) > -1) {\n            this.removeStyles(selectedElements, index);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index);\n        }\n        else {\n            this.applyStyles(selectedElements, index);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index, true);\n        }\n    };\n    /**\n     * To redraw the selection process on accumulation chart refresh.\n     * @private\n     */\n    AccumulationSelection.prototype.redrawSelection = function (accumulation, oldMode) {\n        var selectedDataIndexes = extend([], this.selectedDataIndexes, null, true);\n        this.removeSelectedElements(accumulation, this.selectedDataIndexes);\n        this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n        this.selectDataIndex(selectedDataIndexes, accumulation);\n    };\n    /**\n     * To remove the selected elements style classes by indexes.\n     */\n    AccumulationSelection.prototype.removeSelectedElements = function (accumulation, indexes) {\n        var seriesgroup = accumulation.getSeriesElement();\n        for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\n            var index = indexes_1[_i];\n            this.removeStyles([this.getElementByIndex(index)], index);\n        }\n    };\n    /**\n     * To perform the selection for legend elements.\n     * @private\n     */\n    AccumulationSelection.prototype.legendSelection = function (accumulation, series, pointIndex) {\n        var element = accumulation.getSeriesElement().childNodes[series].childNodes[pointIndex];\n        var seriesStyle = this.generateStyle(accumulation.visibleSeries[series]);\n        var seriesElements = accumulation.getSeriesElement().childNodes[series].childNodes[pointIndex];\n        this.selection(accumulation, new Index(series, pointIndex), [seriesElements]);\n        this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n    };\n    /**\n     * To select the element by selected data indexes.\n     */\n    AccumulationSelection.prototype.selectDataIndex = function (indexes, accumulation) {\n        var element;\n        for (var _i = 0, indexes_2 = indexes; _i < indexes_2.length; _i++) {\n            var index = indexes_2[_i];\n            element = this.getElementByIndex(index);\n            if (element) {\n                this.performSelection(index, accumulation, element);\n            }\n        }\n    };\n    /**\n     * To remove the selection styles for multi selection process.\n     */\n    AccumulationSelection.prototype.removeMultiSelectEelments = function (accumulation, index, currentIndex, seriesCollection) {\n        var series;\n        for (var i = 0; i < index.length; i++) {\n            series = seriesCollection[index[i].series];\n            if (!this.checkEquals(index[i], currentIndex)) {\n                this.removeStyles(this.findElements(accumulation, series, index[i]), index[i]);\n                index.splice(i, 1);\n                i--;\n            }\n        }\n    };\n    /**\n     * To apply the opacity effect for accumulation chart series elements.\n     */\n    AccumulationSelection.prototype.blurEffect = function (pieId, visibleSeries) {\n        var visibility = this.checkPointVisibility(this.selectedDataIndexes); // legend click scenario\n        for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n            var series = visibleSeries_1[_i];\n            if (series.visible) {\n                this.checkSelectionElements(document.getElementById(pieId + '_SeriesCollection'), this.generateStyle(series), visibility);\n            }\n        }\n    };\n    /**\n     * To check selection elements by style class name.\n     */\n    AccumulationSelection.prototype.checkSelectionElements = function (element, className, visibility) {\n        var children = (element.childNodes[0].childNodes);\n        var legendShape;\n        var elementClass;\n        var parentClass;\n        for (var i = 0; i < children.length; i++) {\n            elementClass = children[i].getAttribute('class') || '';\n            parentClass = children[i].parentNode.getAttribute('class') || '';\n            if (elementClass.indexOf(className) === -1 && parentClass.indexOf(className) === -1 && visibility) {\n                this.addSvgClass(children[i], this.unselected);\n            }\n            else {\n                this.removeSvgClass(children[i], this.unselected);\n            }\n            if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + i);\n                if (legendShape) {\n                    if (elementClass.indexOf(className) === -1 && parentClass.indexOf(className) === -1 && visibility) {\n                        this.addSvgClass(legendShape, this.unselected);\n                    }\n                    else {\n                        this.removeSvgClass(legendShape, this.unselected);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To apply selection style for elements.\n     */\n    AccumulationSelection.prototype.applyStyles = function (elements, index) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            var legendShape = void 0;\n            if (element) {\n                if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                    legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + index.point);\n                    this.removeSvgClass(legendShape, this.unselected);\n                    this.addSvgClass(legendShape, this.getSelectionClass(legendShape.id));\n                }\n                this.removeSvgClass(element.parentNode, this.unselected);\n                this.removeSvgClass(element, this.unselected);\n                this.addSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    /**\n     * To get selection style class name by id\n     */\n    AccumulationSelection.prototype.getSelectionClass = function (id) {\n        return this.generateStyle(this.control.series[indexFinder(id).series]);\n    };\n    /**\n     * To remove selection style for elements.\n     */\n    AccumulationSelection.prototype.removeStyles = function (elements, index) {\n        var legendShape;\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            if (element) {\n                if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                    legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + index.point);\n                    this.removeSvgClass(legendShape, this.getSelectionClass(legendShape.id));\n                }\n                this.removeSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    /**\n     * To apply or remove selected elements index.\n     */\n    AccumulationSelection.prototype.addOrRemoveIndex = function (indexes, index, add) {\n        for (var i = 0; i < indexes.length; i++) {\n            if (this.checkEquals(indexes[i], index)) {\n                indexes.splice(i, 1);\n                i--;\n            }\n        }\n        if (add) {\n            indexes.push(index);\n        }\n    };\n    /**\n     * To check two index, point and series are equal\n     */\n    AccumulationSelection.prototype.checkEquals = function (first, second) {\n        return ((first.point === second.point) && (first.series === second.series));\n    };\n    /**\n     * To check selected points are visibility\n     */\n    AccumulationSelection.prototype.checkPointVisibility = function (selectedDataIndexes) {\n        var visible = false;\n        for (var _i = 0, selectedDataIndexes_1 = selectedDataIndexes; _i < selectedDataIndexes_1.length; _i++) {\n            var data = selectedDataIndexes_1[_i];\n            if (pointByIndex(data.point, this.control.visibleSeries[0].points).visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationSelection.prototype.getModuleName = function () {\n        return 'AccumulationSelection';\n    };\n    /**\n     * To destroy the selection.\n     * @return {void}\n     * @private\n     */\n    AccumulationSelection.prototype.destroy = function (accumulation) {\n        // Destroy method performed here\n    };\n    return AccumulationSelection;\n}(BaseSelection));\nexport { AccumulationSelection };\n","/**\n * AccumulationChart annotation properties\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AnnotationBase } from '../../common/annotation/annotation';\nimport { ChartLocation, appendElement } from '../../common/utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\n/**\n * Annotation Module handles the Annotation for accumulation chart.\n */\nvar AccumulationAnnotation = /** @class */ (function (_super) {\n    __extends(AccumulationAnnotation, _super);\n    /**\n     * Constructor for Accumulation chart annotation.\n     * @private.\n     */\n    function AccumulationAnnotation(control, annotations) {\n        var _this = _super.call(this, control) || this;\n        _this.pie = control;\n        _this.annotations = annotations;\n        return _this;\n    }\n    /**\n     * Method to render the annotation for accumulation chart\n     * @param element\n     */\n    AccumulationAnnotation.prototype.renderAnnotations = function (element) {\n        var _this = this;\n        var annotationElement;\n        var location;\n        this.parentElement = createElement('div', {\n            id: this.pie.element.id + '_Annotation_Collections'\n        });\n        this.annotations.map(function (annotation, index) {\n            location = new ChartLocation(0, 0);\n            annotationElement = _this.render(annotation, index);\n            if (_this['setAnnotation' + annotation.coordinateUnits + 'Value'](location)) {\n                _this.setElementStyle(location, annotationElement, _this.parentElement);\n            }\n        });\n        appendElement(this.parentElement, element);\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationAnnotation.prototype.getModuleName = function () {\n        // Returns te module name\n        return 'Annotation';\n    };\n    /**\n     * To destroy the annotation.\n     * @return {void}\n     * @private\n     */\n    AccumulationAnnotation.prototype.destroy = function (control) {\n        // Destroy method performed here\n    };\n    return AccumulationAnnotation;\n}(AnnotationBase));\nexport { AccumulationAnnotation };\n"],"names":["createInstance","classFunction","params","arrayParam","unshift","undefined","Function","prototype","bind","apply","setImmediate","handler","unbind","num","Uint16Array","window","msCrypto","crypto","getRandomValues","secret","combineArray","messageHandler","event","source","data","length","addEventListener","postMessage","removeEventListener","getValue","nameSpace","obj","value","splits","split","i","isUndefined","setValue","key","keys","start","fromObj","isNullOrUndefined","deleteObject","isObject","objCon","constructor","getEnumValue","enumObject","enumValue","merge","destination","temrObj","tempProp","_i","keys_1","Object","extend","copied","first","second","deep","result","arguments","arguments_1","obj1","forEach","clone","src","copy","getUniqueID","definedName","uid","debounce","eventFunction","delay","out","_this","this","args","later","clearTimeout","setTimeout","queryParams","array","keys_2","push","encodeURIComponent","join","isObjectArray","parser","toString","call","compareElementParent","child","parent","node","document","parentNode","throwError","message","Error","e","stack","print","element","printWindow","div","createElement","links","slice","getElementsByTagName","querySelectorAll","reference","open","appendChild","cloneNode","len","outerHTML","write","innerHTML","close","focus","interval","setInterval","ready","clearInterval","formatUnit","indexOf","getInstance","component","elem","querySelector","instances","_a","inst","addInstance","instance","ret","tagName","properties","className","id","styles","setAttribute","attrs","attributes","addClass","elements","classes","classList","getClassList","ele","_b","classList_1","contains","add","removeClass","classList_2","remove","isVisible","style","visibility","offsetWidth","prepend","fromElements","toElement","docFrag","createDocumentFragment","insertBefore","firstElementChild","append","detach","removeChild","EventHandler","clearEvents","select","selector","context","selectAll","closest","el","nodeType","matches","siblings","childNodes_1","Array","childNodes","curNode","Node","ELEMENT_NODE","getAttributeOrDefault","property","attrVal","getAttribute","setStyleAttribute","addClasses","removeClasses","msMatchesSelector","webkitMatchesSelector","getObject","curKey","defaultValue","type","hasOwnProperty","getObjectArray","isSetter","isFactory","curType","setProperties","propertyGetter","propertySetter","newValue","oldVal","saveChanges","complexGetter","complexSetter","complexFactoryGetter","complexFactorySetter","complexArrayGetter","defCollection","complexArraySetter","oldValueCollection","newValCollection","complexArrayFactorySetter","complexArrayFactoryGetter","Property","target","propertyDescriptor","set","get","enumerable","configurable","defineProperty","addPropertyCollection","Complex","ComplexFactory","Collection","CollectionFactory","Event","eventDescriptor","oldValue","finalContext","getParentContext","prefix","NotifyPropertyChanges","classConstructor","propertyType","propList","props","complexProps","colProps","events","propNames","complexPropNames","colPropNames","eventNames","propertyName","getBuilderProperties","builderObject","propCollections","isPropertyArray","rex","_c","prop","test","childType","tempValue","CreateBuilder","builderFunction","create","temp","curText","rippleEffect","rippleOptions","done","rippleModel","getRippleModel","rippleFlag","isRippleEnabled","rippleHandler","rippleUpHandler","rippleLeaveHandler","Browser","isPointer","removeAttribute","ignore","isCenterRipple","duration","offset","getBoundingClientRect","offsetX","pageX","body","scrollLeft","offsetY","pageY","scrollTop","Math","max","abs","left","right","top","bottom","radius","sqrt","diameter","x","y","rippleElement","getComputedStyle","getPropertyValue","transform","removeRipple","eventArgs","rippleElements","opacity","getElementsByClassName","enableRipple","isRipple","setCulture","cultureName","defaultCulture","onIntlChange","notify","locale","setCurrencyCode","currencyCode","defaultCurrencyCode","loadCldr","data_1","cldrData","enableRtl","status","rightToLeft","getNumericObject","numObject","IntlBase","getDependables","mapper","dateObject","numSystem","symbPattern","pattern","getSymbolPattern","getFormatData","dateSeparator","getDateSeparator","getDefaultDateObject","compile","template","helper","fnCode","evalExp","str","localKeys","replace","LINES","DBL_QUOTED_STR","exp","match","cnt","matchStr","CALL_FUNCTION","rlStr","IF_STMT","WORD","trim","addNameSpace","QUOTES","FOR_STMT","rlStr_1","mtc","fnStr","fNameSpace","ELSE_STMT","IF_OR_FOR","addNS","ignoreList","NOT_NUMBER","templateString","compiler","engineObj","propName","HAS_ROW","setTemplateEngine","classObj","getTemplateEngine","measureText","text","font","htmlObject","getElementById","position","fontSize","size","fontWeight","fontStyle","fontFamily","whiteSpace","lineHeight","Size","clientWidth","clientHeight","rotateTextSize","angle","chart","box","options","renderer","SvgRenderer","font-size","font-style","font-family","font-weight","text-anchor","createText","delayRedraw","svgObject","removeElement","getElement","logBase","base","log","showTooltip","areaWidth","isTouch","tooltip","width","inside","range","min","withIn","withInRange","previousPoint","currentPoint","nextPoint","series","mX2","logWithIn","xValue","xAxis","mX1","mX3","xStart","floor","visibleRange","xEnd","ceil","sum","values","values_1","subArraySum","last","index","yName","subtractThickness","rect","thickness","height","subtractRect","degreeToLocation","degree","center","radian","PI","ChartLocation","cos","sin","getAccumulationLegend","locX","locY","r","mode","cartesianlarge","cartesiansmall","getAngle","point","atan2","subArray","valueToCoefficient","axis","isInversed","TransformToVisible","yAxis","isInverted","valueType","labelPlacement","CoefficientToVector","valueToPolarCoefficient","primaryXAxis","startAngle","clipRect","coefficient","delta","dateTimeInterval","visibleLabels","createTooltip","createZoomingLabels","isVertical","arrowLocation","direction","opposedPosition","anchor","chartRect","availableSize","endLabel","startLabel","labelStyle","findDirection","Rect","drawPath","PathOption","textElement","TextOption","color","withInBounds","bounds","getValueXByPoint","getValueYByPoint","findClipRect","requireInvertedAxis","firstToLowerCase","substr","toLowerCase","getMinPointsDelta","seriesCollection","xValues","minVal","minDelta","Number","MAX_VALUE","visible","name","xAxisName","points","map","sort","xMin","getAnimationFunction","effect","functionName","linear","currentTime","startValue","endValue","markerAnimate","pointIndex","isLabel","centerX","centerY","Animation","animate","progress","timeStamp","end","model","trigger","templateAnimate","isRemove","drawSymbol","location","shape","url","label","calculateShapes","renderOption","path","rx","ry","cx","cy","d","yValue","concat","href","calculateLegendShapes","getRectLocation","startLocation","endLocation","outerRect","minMax","getTemplateFunction","templateFn","templateComplier","createTemplate","childElement","content","templateElement","getFontStyle","measureElementRect","findlElement","length_1","getPoint","xLength","yLength","xvalue","yvalue","appendElement","hasChildNodes","getDraggedRectLocation","x1","y1","x2","y2","checkBounds","getLabelText","labelFormat","customLabelFormat","seriesType","high","low","median","maximum","minimum","upperQuartile","lowerQuartile","outliers","liers","format","parseFloat","stopTimer","timer","isCollide","collections","currentRect","some","isOverlap","containsRect","calculateRect","textSize","margin","convertToHexCode","componentToHex","g","b","hex","convertHexToColor","exec","ColorValue","parseInt","colorNameToHex","isRGBValue","getSaturationColor","factor","colorCode","rgb","round","getMedian","half","fill","space","stroke","textTrim","maxWidth","substring","stringToNumber","containerSize","rX","rY","arrowPadding","tipX","tipY","tipRadius","startX","startY","isMinus","tspanElement","renderOptions","dominant-baseline","baseLine","createTSpan","calculateSize","containerWidth","containerHeight","createSvg","titlePositionX","chartSize","leftPadding","rightPadding","titleStyle","textAlignment","getSeriesColor","theme","palette","getSeriesFromIndex","visibleSeries","visibleSeries_1","pointByIndex","points_1","indexFinder","ids","Index","wrapperInitialize","tag","WRAPPER","ejInstance","input","wrapper","role","aria-checked","nodeName","nodeValue","getTextNode","childnode","rippleMouseHandler","rippleSpan","event_1","createEvent","initEvent","dispatchEvent","calculateRelativeBasedPosition","anchorPos","tempAnchor","offsetParent","offsetLeft","offsetTop","parentElement","calculatePosition","currentElement","positionX","positionY","fixedParent","parentDocument","ownerDocument","pos","updatePosition","setPosx","setPosy","posX","posY","elementRect","getElementHCenter","getElementTop","getElementRight","getElementVCenter","getElementLeft","getElementBottom","getBodyScrollTop","documentElement","getBodyScrollLeft","fit","viewPortElement","X","Y","elemData","targetContainer","getTargetContainerWidth","getViewPortWidth","containerLeft","ContainerLeft","containerRight","ContainerRight","overLeft","overRight","getTargetContainerHeight","getViewPortHeight","containerTop","ContainerTop","containerBottom","ContainerBottom","overTop","overBottom","elemOffset","topCollideCheck","leftCollideCheck","topSide","rightSide","leftSide","bottomSide","flip","tEdge","TL","TR","BL","BR","eEdge","updateElementData","setPosition","leftFlip","topFlip","setPopup","edge","eStatus","deepCheck","collideSide","getTargetContainerLeft","getTargetContainerTop","innerHeight","innerWidth","getScrollableParent","eleStyle","scrollParents","overflowRegex","parentStyle","overflow","overflowY","overflowX","createSpinner","container","create_spinner_container","cssClass","wrap","spinTemplate","getTheme","calculateRadius","setTheme","createLabel","inner_wrap","CLS_SPINTEMPLATE","replaceContent","spinCSSClass","CLS_HIDESPIN","labelEle","CLS_SPINLABEL","textContent","createMaterialSpinner","uniqueID","random_generator","globalTimeOut","timeOut","create_material_element","mat_calculate_attributes","startMatAnimate","globalObject","globalVariables","animateMaterial","globalInfo","timeOutVar","createFabricSpinner","create_fabric_element","fb_calculate_attributes","innerContainer","CLS_SPININWRAP","svg","createBootstrapSpinner","create_bootstrap_element","boot_calculate_attributes","svgBoot","createElementNS","CLS_BOOTSPIN","firstChild","item","bootCircle","CLS_SPINCIRCLE","defaultRadius","startArc","defineArcPoints","circleEle","generateSeries","begin","stop","formSeries","count","increment","toFixed","animateBootstrap","circle","boot_animate","isAnimate","defaultSize","DEFT_MAT_WIDTH","DEFT_FAB_WIDTH","DEFT_BOOT_WIDTH","previousId","random","combine","charAt","svgFabric","CLS_FABRICSPIN","fabricCirclePath","fabricCircleArc","CLS_SPINARC","svgMaterial","CLS_MATERIALSPIN","matCirclePath","spinnerContainer","CLS_SPINWRAP","spinnerInnerContainer","spinnerInfo","createCircle","easeAnimation","easing","mat_animation","Date","getTime","startTime","updatePath","change","getDashOffset","strokeSize","getSize","getStrokeSize","rotate","transformOrigin","drawArc","current","timestamp","timecount","innerConainer","defineCircle","defineArc","radians","endArc","showSpinner","showHideSpinner","isHide","spinnerWrap","inner","CLS_SHOWSPIN","svgEle","hideSpinner","setSpinner","ensureTemplate","replaceTheme","svgElement","headerRegex","defaultType","Ajax","async","toUpperCase","send","Promise","resolve","reject","httpRequest","XMLHttpRequest","onreadystatechange","stateChange","setRequestHeader","contentType","beforeSend","successHandler","onSuccess","failureHandler","reason","onFailure","responseText","dataType","JSON","parse","error","readyState","statusText","getResponseHeader","responseHeaders","header","headers","getAllResponseHeaders","addOrGetEventData","__eventList","eventName","listener","bindTo","intDebounce","debounceListener","eventData","j","splice","copyData","shift","eventProp","eventData_1","Observer","boundedEvents","on","cntxt","notExist","isHandlerPresent","off","curObject","argument","curObject_1","cur","destroy","boundedEvents_1","Base","isProtectedOnChange","changedProperties","oldProperties","refreshing","finalUpdate","childChangedProperties","modelObserver","isDestroyed","muteOnChange","prevDetection","dataBind","callChildDataBind","obj_1","clearChanges","getOwnPropertyNames","newChanges","oldChanges","onPropertyChanged","moduleClass","getModuleName","ej2_instances","filter","REGX_BROWSER","OPERA","EDGE","CHROME","PANTHOMEJS","SAFARI","WEBKIT","MSIE","MOZILLA","browserDetails","extractBrowserDetail","browserInfo","culture","clientInfo","userAgent","version","language","navigator","getEvent","isDevice","move","getTouchStartEvent","getTouchEndEvent","getTouchMoveEvent","regX","uA","info","isMSPointer","isWebView","cordova","PhoneGap","phonegap","forge","touchStartEvent","touchMoveEvent","touchEndEvent","__extends","extendStatics","setPrototypeOf","__proto__","p","__","__decorate","decorators","desc","c","getOwnPropertyDescriptor","Reflect","decorate","_super","ease","easeIn","easeOut","easeInOut","elasticInOut","elasticIn","elasticOut","Animation_1","getModel","elements_1","element_1","delayAnimation","animation","animationId","frameId","cancelAnimationFrame","applyAnimation","step","timerId","prevTimeStamp","startAnimation","avg","timingFunction","requestAnimationFrame","performance","now","fail","newProp","oldProp","CanvasRenderer","rootID","rootId","getOptionValue","createCanvas","canvasObj","ctx","getContext","setCanvasSize","setAttributes","lineWidth","dashArray","dashArrayString","setLineDash","strokeStyle","drawLine","save","beginPath","moveTo","lineTo","restore","dataUrl","toDataURL","drawRectangle","canvasCtx","cornerRadius","globalAlpha","drawCornerRadius","fillStyle","fillRect","arcTo","closePath","canvasTranslate","dataSplit","borderWidth","flag","translate","innerR","c1","c2","c3","c4","bezierCurveTo","arc","counterClockWise","drawText","textAlign","baseline","textBaseline","labelRotation","fillText","drawCircle","drawPolyline","drawEllipse","circumference","scaleX","scaleY","scale","drawImage","imageObj","Image","createLinearGradient","colors","myGradient","colorStop","setGradientValues","createRadialGradient","colorName","newColorStop","stopColor","addColorStop","setElementAttributes","updateCanvasAttributes","img_1","onload","ModuleLoader","loadedModules","inject","requiredModules","moduleList","reqLength","clean","clearUnusedModule","modl","moduleList_1","module","modName","member","isModuleLoaded","moduleObject","memberName","getMemberName","isProperty","loadedModule","modules","usedModules","arg","removableModule_1","mod","ChildProperty","isArray","parentObj","controlParent","isParentArray","updateChange","val","updateTimeOut","curIndex","defaultNumberingSystem","latn","_digits","_type","defaultNumberSymbols","decimal","group","percentSign","plusSign","minusSign","infinity","nan","exponential","latnNumberSystem","ParserBase","getMainObject","cName","getNumberingSystem","numberingSystems","reverseObject","res","propKeys_1","getSymbolRegex","regexStr","RegExp","getSymbolMatch","matchKeys_1","constructRegex","convertValueParts","regex","getDefaultNumberingSystem","nSystem","getCurrentNumericOptions","curObj","numberSystem","needSymbols","digits","numericPair","numberParseRegex","numericRegex","symbolNumberSystem","symbolMatch","getNumberMapper","isNumber","numberSymbols","timeSeparator","latnNumberSystem_1","nPair","nRegex","errorText","ms","ls","mf","lf","NumberFormat","numberFormatter","option","cldr","symbolPattern","fOptions","cOptions","dOptions","dependable","numberMapper","parserObject","currencySymbol","getCurrencySymbol","numericObject","currency","percentSymbol","minusSymbol","symbols","formatRegex","customFormat","getProperNumericSkeleton","isCurrency","isPercent","isAccount","groupOne","checkValueRange","maximumSignificantDigits","minimumSignificantDigits","maximumFractionDigits","minimumFractionDigits","fractionDigits","useGrouping","defaultCurrency","nData","pData","groupSeparator","groupData","getGroupingDetails","minimumFraction","mval","maximumFraction","mfrac","lfrac","isNaN","isFinite","intNumberFormatter","negativeDataRegex","pattern_1","lastIndexOf","primary","s","secondary","val1","val2","checkbothExist","isFraction","decide","dint","str1","str2","checkRange","curData","zeroData","fValue","processSignificantDigits","processFraction","minimumIntegerDigits","processMinimumIntegers","groupNumbers","latnParseRegex","nlead","nend","toPrecision","level1","sep","decimalSymbol","level2","lead","getResultantPattern","skeleton","resPattern","iType","basicPatterns","dPattern","tPattern","defaultObject","patternMatcher","needFraction","cSymbol","fractionOnly","customRegex","changeCurrencySymbol","groupPattern","fraction","fmatch","fractionRegex","sym","formatSplit","customNumberFormat","integerPart","fractionPart","isCurrencyPercent","parts","actual","symbol","part","loc","typeMapper","dateObj","getActualDateTimeFormat","isExcelFormat","actualPattern","patternRegex","patternMatch","tLength","timeZonePattern","options_1","timeZone","numMapper","timezone","getTimezoneOffset","hourFormat","gmtZeroFormat","DateFormat","getTimeZoneValue","gmtFormat","getActualNumberFormat","minFrac","parseOptions","custom","fractionDigitsPattern","minimumIntegerPattern","groupingPattern","minDigits","maxDigits","a","diff","integer","no","G","M","L","H","'"," a","yy","EEEE","E","$","%","-","0","1","dateParseRegex","dates","calendars","gregorian","months","stand-alone","abbreviated","2","3","4","5","6","7","8","9","10","11","12","narrow","wide","days","sun","mon","tue","wed","thu","fri","sat","short","dayPeriods","am","pm","eras","eraNames","0-alt-variant","1-alt-variant","eraAbbr","eraNarrow","dateFormats","full","long","medium","timeFormats","dateTimeFormats","availableFormats","Ed","Ehm","EHm","Ehms","EHms","Gy","GyMMM","GyMMMd","GyMMMEd","h","hm","Hm","hms","Hms","hmsv","Hmsv","hmv","Hmv","Md","MEd","MMM","MMMd","MMMEd","MMMMd","yM","yMd","yMEd","yMMM","yMMMd","yMMMEd","yMMMM","timeZoneNames","numbers","currencies","USD","displayName","symbol-alt-narrow","EUR","GBP","minimumGroupingDigits","symbols-numberSystem-latn","list","superscriptingExponent","perMille","decimalFormats-numberSystem-latn","standard","percentFormats-numberSystem-latn","currencyFormats-numberSystem-latn","accounting","monthIndex","month","C","P","N","A","Theme","weekdayKey","timeSetter","m","datePartMatcher","z","Z","dateFormat","formatOptions","dateSeperator","patternMatch_1","char","weekday","designator","eText","era","getDate","intDateFormatter","matches_1","curval","processNumber","curstr","getMonth","getDay","getFullYear","desig","getHours","dec","checkTwodigitNumber","tVal","curPattern","ishour","latnRegex","minute","hour","day","DateParser","dateParser","hourOnly","numOptions","regexString","evalposition","gmtCorrection","zCorrectTemp","isgmtTraversed","nRegx","canUpdate","charKey","optional","weekObject","hour12","tzone","hpattern","parseTimeZoneRegx","parserRegex","parsedDateParts","internalDateParse","getDateObject","setMilliseconds","tKeys","year","setFullYear","tKeys_1","tValue","pDate","setDate","lDate","lastDay","setHours","tzValue","setMinutes","getMinutes","retOptions","props_1","matchString","internalNumberParser","tmatch","getZoneValue","tZone","splitStr","cRegex","NumberParser","numberParser","symbolRegex","symbolpattern","getParsedNumber","isNegative","Infinity","NaN","exponent","Internationalization","getDateFormat","getCulture","getNumberFormat","getDateParser","getNumberParser","formatNumber","formatDate","parseDate","parseNumber","getDatePattern","getNumberPattern","Component","needsID","moduleLoader","localObserver","detectFunction","appendTo","cancel","enablePersistence","setPersistData","refresh","preRender","injectModules","render","mergePersistData","event_2","getInjectedModules","injectedModules","Inject","localStorage","getItem","setItem","getPersistData","clearTemplate","templateName","addOnPersist","persistObj","objValue","getActualProperties","stringify","ignoreOnPersist","iterateJsonProperties","newObj","this_1","newList","defaultPosition","Position","Draggable","dragLimit","Draggable_1","getDefaultPosition","padding","diffX","diffY","droppables","toggleEvents","isIE","scope","isUnWire","handle","initialize","evt","currentTarget","preventDefault","changedTouches","abort","intCoord","getCoordinates","initialPosition","relativeXPosition","relativeYPosition","intDragStart","intDestroy","intCordinate","styleProp","marginLeft","marginTop","marginRight","marginBottom","dragTarget","intClosest","calculateParentPosition","getMousePosition","distance","getHelperElement","dragTargetElement","helperElement","parentClientRect","dragStart","curTarget","getProperTargetElement","dragArea","setDragArea","enableTailMode","posValue","getProcessedPositionValue","intDrag","intDragStop","setGlobalDroppables","queryPositionInfo","pageXOffset","pageYOffset","docHeight","getDocumentWidthHeight","docWidth","drag","eleObj","checkTargetElement","intOver","dragData","hoverObject","intOut","tLeft","tTop","pagex","pagey","dLeft","dTop","skipDistanceCheck","helperWidth","helperHeight","offsetHeight","iTop","iLeft","dragValue","docBody","docEle","dragStop","dragStopCalled","intDrop","eleWidthBound","eleHeightBound","elementArea","tborder","tpadding","lowerKey","prevStyle","display","elementFromPoint","clientX","clientY","cursorAt","sender","reset","draggable","draggedElement","dropIns","getDropInstance","parent_1","drop","eleInst","eleInst_1","Droppable","mouseOver","wireEvents","area","accept","isDrag","isDropArea","canDrop","droppedElement","coord","keyCode","backspace","tab","enter","control","alt","pause","capslock","escape","pageup","pagedown","home","leftarrow","uparrow","rightarrow","downarrow","insert","delete","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","semicolon","plus","comma","minus","dot","forwardslash","graveaccent","openbracket","backslash","closebracket","singlequote","KeyboardEvents","keyPressHandler","isAltKey","altKey","isCtrlKey","ctrlKey","isShiftKey","shiftKey","curkeyCode","which","keyConfigs","configCollection_1","rconfig","rKeyObj","KeyboardEvents_1","getKeyConfigData","action","keyAction","unwireEvents","config","configCache","keyData","getKeyCode","keyVal","charCodeAt","L10n","controlName","localeStrings","setLocale","intLocale","intGetControlConstant","currentLocale","load","localeObject","getConstant","svgLink","svgObj","setSVGSize","line","rectangle","polyline","ellipse","drawPolygon","polygon","img","setAttributeNS","preserveAspectRatio","tSpan","createTitle","title","createDefs","createClipPath","clipPath","createForeignObject","foreignObject","createGroup","createPattern","newOptions","fx","fy","drawGradient","gradientType","defs","gradient","stop_1","drawClipPath","drawCircularClipPath","SwipeSettings","swipeRegex","Touch","startEvent","isTouchMoved","movedDirection","startPoint","lastMovedPoint","startEventData","hScrollLocked","vScrollLocked","tStampStart","timeOutTapHold","tapHoldEvent","tapHoldThreshold","moveEvent","endEvent","movedPoint","eScrollArgs","calcScrollPoints","startEvents","originalEvent","distanceX","distanceY","scrollDirection","velocity","getVelocity","endPoint","eDblTapArgs","eTapArgs","eSwipeArgs","dblTapTriggred","tDistance","swipeSettings","swipeThresholdDistance","calcPoints","swipeArgs","swipeDirection","defaultArgs","canTrigger","scrollBool","isScrollable","moved","checkSwipe","lastTapTime","doubleTapThreshold","timeOutTap","doubleTap","pnt","newX","newY","newT","xDist","yDist","Engine","Mean","verticalStandardMean","verticalSquareRoot","horizontalStandardMean","horizontalSquareRoot","verticalMean","horizontalMean","PolarArc","endAngle","innerRadius","currentXPosition","CustomizeOption","StackValues","startValues","endValues","RectOption","border","CircleOption","PolygonOption","Thickness","PointData","lierIndex","ControlPoints","controlPoint1","controlPoint2","axisLabelFont","axisTitleFont","chartTitleFont","crosshairLabelFont","tooltipLabelFont","legendLabelFont","stripLineLabelFont","axisLineColor","axisMajorGridLineColor","axisMinorGridLineColor","axisMajorTickLineColor","axisMinorTickLineColor","crossHairLabelColor","chartBackgroundColor","selectionRectFill","selectionRectStroke","Connector","Font","Border","ChartArea","Margin","Indexes","CornerRadius","seriesIndex","EmptyPointSettings","DoubleRange","mStart","mEnd","Double","calculateNumericNiceInterval","actualDesiredIntervalsCount","getActualDesiredIntervalsCount","niceInterval","desiredIntervals","minInterval","pow","intervalDivs","currentInterval","getActualRange","initializeDoubleRange","actualRange","doubleRange","POSITIVE_INFINITY","NEGATIVE_INFINITY","calculateRangeAndInterval","calculateRange","applyRangePadding","calculateVisibleLabels","setRange","series_1","paddingInterval","orientation","rangePadding","findMinMax","yMin","yMax","xMax","getRangePadding","findAdditional","findNormal","updateActualRange","calculateVisibleRange","zoomFactor","zoomPosition","enableAutoIntervalOnZooming","tempInterval","getFormat","isCustom","intl","useGroupingSeparator","triggerLabelRender","formatValue","getMaxLabelWidth","isStack100","ChartAnnotationSettings","StripLineSettings","Row","axes","nearSizes","farSizes","computeSize","titleSize","majorTickLines","maxLabelSize","lineStyle","Column","MajorGridLines","MinorGridLines","AxisLine","MajorTickLines","MinorTickLines","CrosshairTooltip","Axis","axisBottomLine","baseRange","desiredIntervalsCount","maximumLabels","argsData","VisibleLabels","pointX","previousEnd","isIntersect","labelIntersectAction","rotatedLabel","edgeLabelPlacement","findMultiRows","findWrap","currentX","currentLabel","intervalLength","textCollection","labelCollection","store","getModule","baseModule","originalText","CartesianAxisLayoutPanel","chartModule","measureAxis","seriesClipRect","initialClipRect","leftSize","rightSize","topSize","bottomSize","measureRowAxis","measureColumnAxis","calculateAxisSize","refreshAxis","row","calculateRowSize","rows","arrangeAxis","measureDefinition","computedHeight","column","calculateColumnSize","columns","computedWidth","definition","axis_1","nearCount","farCount","len_1","k","len_2","span","computedTop","plotOffset","len_3","len_4","computedLeft","measure","actualIndex","axisCollections","axis_2","verticalAxes","getActualRow","pushAxis","horizontalAxes","getActualColumn","axisCollection","actualLength","columnIndex","rowIndex","rowTop","remainingHeight","columnLeft","remainingWidth","renderAxes","axisElement","drawAxisLine","majorGridLines","drawXAxisGridLine","drawXAxisLabels","drawXAxisTitle","drawYAxisGridLine","drawYAxisLabels","drawYAxisTitle","drawBottomLine","isRow","definitionName","optionsLine","stroke-width","plotX","plotY","stroke-dasharray","minorDirection","pointY","majorGrid","majorTick","minorGird","minorTick","tickSize","axisLineSize","ticksbwtLabel","isBorder","minorGridLines","minorTickLines","minorTicksPerInterval","drawAxisMinorLine","renderGridLine","renderTickLine","chartArea","startIndex","endIndex","elementSize","labelElement","createZoomingLabel","description","tabIndex","logStart","coor","logInterval","logPosition","findLogNumeric","labelPadding","rotateSize","diffHeight","yLocation","anglePadding","findAxisLabel","zoomElement","replaceChild","Query","from","subQuery","isChild","queries","fKey","fromTable","lookups","expands","sortedColumns","groupedColumns","setKey","field","using","dataManager","execute","always","executeQuery","DataUtil","executeLocal","cloned","subQuerySelector","isCountRequired","tableName","addParams","fn","expand","tables","where","fieldName","operator","ignoreCase","predicate","Predicate","search","searchKey","fieldNames","comparer","fnOperators","sortBy","isFromGroup","sorts","order","endsWith","fnSort","filterQueries","sortByDesc","page","pageIndex","pageSize","take","nos","skip","hierarchy","query","selectorFn","foreignKey","requiresCount","aggregate","q","filterQueryLists","singles","filtered","isComplex","processOperator","condition","predicates","and","combinePredicates","or","fromJson","json","fromJSONData","pred","validate","record","isAnd","toJson","preds","consts","GroupGuid","startsWith","fnAscending","fnDescending","localeCompare","extractFields","fields","jsonArray","newData","aggregates","level","groupDs","jsonData","items","indx","childLevels","grouped","groupedArray","records","this_2","getVal","tempObj","aggs","buildHierarchy","lookup","pKey","grp","fKeyData","getFieldList","copyObj","ds","middle","callAdaptorFunction","adaptor","fnName","param1","param2","isnull","isPlainObject","isCors","xhr","getGuid","rand","arr","Uint8Array","isNull","getItemFromComparer","castRequired","distinct","requiresCompleteRecord","tmp","serverTimezoneOffset","average","truecount","DataManager","falsecount","operatorSymbols","<",">","<=",">=","==","!=","*=","$=","^=","odBiOperator","lessthan","lessthanorequal","greaterthan","greaterthanorequal","equal","notequal","odUniOperator","endswith","startswith","odv4UniOperator","expected","notnull","processSymbols","parseJson","jsonText","jsonReviver","iterateAndReviveArray","iterateAndReviveJson","dupValue","jsonReplacer","isJson","isGuid","replacer","arrayReplacer","keys_3","unixstamp","toJSON","date","Adaptor","requestType","dataSource","pvt","processResponse","JsonAdaptor","processQuery","countFlg","agg","batchRequest","dm","changes","addedRecords","changedRecords","update","deletedRecords","onWhere","onAggregates","onSearch","onSortBy","fnCompare","onGroup","aggQuery","onPage","onRange","onTake","onSkip","onSelect","keyField","UrlAdaptor","hierarchyFilters","getQueryRequest","request","groups","filters","searches","getFiltersFrom","req","getRequestQuery","reqParams","pvtData","convertToQueryString","request1","requests","getAggregateResult","batchUrl","crudUrl","removeUrl","changed","added","deleted","table","insertUrl","keyColumn","updateUrl","predicats","aggregateData","ODataAdaptor","multipartAccept","batch","changeSet","batchPre","contentId","batchContent","changeSetContent","batchChangeSetContentType","onPredicate","requiresCast","guid","returnValue","getField","onComplexPredicate","onEachWhere","onEachSearch","onEachSort","reverse","onCount","settings","overrideMimeType","dataCopy","results","emptyAndBatch","processBatchResponse","versionCheck","requiresFormat","keys_4","initialGuid","cid","cSet","generateInsertRequest","generateUpdateRequest","generateDeleteRequest","stat","method","generateBodyContent","cIdx","jsonObj","exVal","changeGuid","ODataV4Adaptor","getModulename","isDate","WebApiAdaptor","Count","Items","WebMethodAdaptor","param","RemoteSaveAdaptor","CacheAdaptor","isCrudAction","isInsertAction","cacheAdaptor","guidId","forDel","requestTime","removeItem","generateKey","currentFilter","newQuery","cachedItems","crossDomain","dateParse","offline","timeTillExpiration","cachingPageSize","enableCaching","jsonp","defaultQuery","isDataAvailable","then","setDefaultQuery","deffered","Deferred","nextTick","getDeferedArgs","makeRequest","promise","extendRequest","fnSuccess","fnFail","cache","processData","isSelector","process","virtualSelectRecords","fnQueryChild","subDeffer","childArgs","subUrl","childReq","subData","virtualRecords","ajax","catch","all","pResult","cResult","deff","doAjaxRequest","defer","Points","symbolLocations","regions","regionData","DataLabelSettings","MarkerSettings","Trendline","setDataSource","trendLineModule","initDataSource","visibleSeriesCount","ErrorBarCapSettings","ErrorBarSettings","SeriesBase","currentViewData","processJsonData","textMappingName","Series","marker","dataLabel","processWaterfallData","sizeMax","getSeriesType","dataPoint","pushCategoryData","pushData","setEmptyPoint","dateFormatter","drawType","splineSeriesModule","findSplinePoint","xData","xName","volume","findVisibility","isEmpty","emptyPointSettings","yData","getAverage","yValues","setXYMinMax","setHiloMinMax","chartAreaType","isIndexed","labels","refreshDataManager","dataManagerSuccess","dataModule","getData","generateQuery","isRemoteData","interior","recordsCount","refreshChart","refreshTechnicalIndicator","category","trendlines","refreshBound","isRectSeries","drawPoints","delayedAnimation","refreshAxisLabel","findSeriesCollection","isStack","rowSeries","_d","_e","_f","_g","rectSeriesInChart","calculateStackedValue","isStacking100","columnItem","calculateStackingValues","stackingGroup","lastValue","lastPositive","lastNegative","frequencies","findFrequencies","seriesCollection_1","pointsLength","percent","stackedValues","seriesCollection_2","renderSeries","createSeriesElements","errorBar","errorBarModule","dataLabelModule","appendSeriesElement","seriesElements","performAnimation","elementId","explodeValue","markerHeight","markerWidth","clipRectElement","symbolElement","seriesElement","clip-path","errorBarElement","dataLabelElements","shapeElement","enable","animateSeries","doAnimation","doErrorBarAnimation","markerRender","doMarkerAnimation","doDataLabelAnimation","setPointColor","setBorderColor","Data","initDataManager","currentPoints","previousPoints","mouseX","mouseY","getRectPoint","fromCenterX","fromCenterY","clickAngle","distanceFromCenter","arcAngle","checkRegionContainsPoint","regionRect","region","getClosest","xData_1","getClosestX","MarkerExplode","mouseMoveHandler","mouseUpHandler","crosshair","markerMove","startMove","explodeSeries","shared","chartAxisLayoutPanel","pointData","chartSeries","enableTooltip","removeHighlightedMarker","markerExplode","drawTrackBall","symbolId","borderColor","colorValue","imageUrl","Marker","renderMarker","shapeOption","isBoxPlot","markerClipRect","getRangeLowPoint","markerElements","incFactor","lowPoint","Location","LegendSettings","BaseLegend","rowCount","columnCount","pageButtonSize","pageXCollections","maxColumns","isTrimmed","currentPage","legend","legendSettings","legendID","isChartControl","calculateLegendBounds","getPosition","legendBounds","library","getLegendBounds","getLocation","alignment","setBounds","maxItemHeight","legendHeight","legendWidth","alignLegend","legendSize","renderLegend","firstLegend","findFirstLegendPosition","legendCollections","shapeHeight","legendGroup","legendTranslateGroup","createLegendElements","legendSeriesGroup","shapeWidth","textOptions","totalPages","textPadding","shapePadding","previousLegend","legendOption","generateId","getRenderPoint","renderSymbol","renderText","toggleVisibility","selectionMode","isPaging","renderPagingElements","legendCollection","legendCollection_1","background","legendItemsGroup","clippath","symbolColor","markerShape","symbolOption","markerVisibility","fontcolor","textStyle","textOption","paginggroup","iconSize","clipPathHeight","pageTextElement","translatePage","pagingText","pageNumber","changePage","pageUp","pageText","targetId","location_1","removeSvgOffset","clearTooltip","LegendOptions","TechnicalIndicator","targetSeries","ExportUtils","outerHeight","outerWidth","resizeTo","screen","availWidth","availHeight","htmlContent","getHTMLContent","Element","export","fileName","URL","createObjectURL","Blob","XMLSerializer","serializeToString","image","revokeObjectURL","msSaveOrOpenBlob","msToBlob","toLocaleLowerCase","imgURI","download","MouseEvent","view","bubbles","cancelable","TooltipSettings","CrosshairSettings","ZoomSettings","Chart","unWireEvents","initPrivateVariable","createChartSvg","refreshDefinition","tooltipModule","calculateAreaType","calculateVisibleSeries","initTechnicalIndicators","initTrendLines","calculateVisibleAxis","getLocalizedLabel","legendModule","getLegendOptions","isCalculateStacking","rectCount","calculateBounds","renderElements","renderBorder","renderTitle","renderAreaBorder","renderSeriesElements","applyZoomkit","performSelection","setSecondaryElementPosition","renderAnnotation","svgRect","initializeModuleElements","dataLabelCollections","yAxisElements","indicators","indicatorElements","hasTrendlines","trendLineElements","isTrendline","tooltipDiv","indicator","createIndicatorElements","getTrendLineElements","appendSeriesElements","stripLineModule","renderStripLine","zoomModule","isZoomed","applyZoomToolkit","annotationModule","renderAnnotations","selectedDataIndexes","selectionModule","invokeSelection","redrawSelection","check","initializeDataModule","seriesName","techIndicator","titleHeight","trendIndex","trendLine","sourceIndex","initSeriesCollection","isTransposed","polarSeriesModule","radarSeriesModule","primaryYAxis","series_2","initAxis","isSeries","yAxisName","palettes","trimmedTitle","addSeries","keyEntity","removeSvg","stopEvent","cancelEvent","chartOnMouseDown","mouseMove","mouseEnd","chartOnMouseClick","chartRightClick","mouseLeave","chartResize","longPress","tapHold","setStyle","crosshairModule","buttons","pointerType","stopPropagation","zooming","zoomSettings","disableScroll","enableSelectionZooming","enableMouseWheelZooming","enablePinchZooming","touchAction","msTouchAction","msContentZooming","msUserSelect","webkitUserSelect","isOrientation","setMouseXY","touchArg","chartOnMouseMove","chartOnMouseLeave","isChartDrag","titleTooltip","axisTooltip","texts","mouseDownX","previousMouseMoveX","mouseDownY","previousMouseMoveY","isDoubleTap","threshold","chartOnMouseUp","setLocaleConstants","defaultLocalConstants","ZoomIn","Zoom","ZoomOut","Pan","Reset","ResetZoom","moduleName","enableAnnotation","errorBarVisible","dataLabelEnable","isLegend","findIndicatorModules","findTrendLineModules","findAxisModule","annotations","datetimeEnabled","categoryEnabled","logarithmicEnabled","striplineEnabled","axisCollections_1","findStriplineVisibility","stripLines","macdEnable","bandEnable","isLine","isSpline","markerEnable","trendline","striplines","striplines_1","removeLength","pinchTarget","definitions","definitions_1","axisChange","refreshBounds","crosshairTooltip","isMultiSelect","DateTime","datetimeInterval","calculateDateTimeNiceInterval","intervalType","actualIntervalType","getYear","getHour","endMinute","getSeconds","endSecond","startYear","endYear","endMonth","endDay","endHour","increaseDateTimeInterval","alignRangeStart","skeletonType","getSkeleton","setMonth","setSeconds","sDate","intervalSize","sResult","minutes","seconds","startDate","endDate","totalDays","Category","ticks","Logarithmic","logEnd","calculateLogNiceInterval","axisFormat","isCustomFormat","StripLine","measureStripLine","stripline","getFromTovalue","startFromAxis","to","findValue","getToValue","striplineGroup","axes_1","zIndex","renderRectangle","textMid","ty","rotation","tx","getTextStart","horizontalAlignment","verticalAlignment","invertAlignment","xy","LineBase","improveChartPerformance","tempPoints","xVisibleRange","yVisibleRange","seriesPoints","areaBounds","xTolerance","yTolerance","prevXValue","prevYValue","xVal","yVal","seriesPoints_1","currentPoint_1","appendLinePath","pathElement","doProgressiveAnimation","strokeDashArray","pathLength","getTotalLength","doLinearAnimation","elementHeight","elementWidth","xCenter","yCenter","LineSeries","point1","point2","prevPoint","getCoordinate","visiblePoints","visiblePoints_1","isClosed","ColumnBase","getSideBySideInfo","enableSideBySidePlacement","getSideBySidePositions","seriesSpacing","columnSpacing","pointSpacing","columnWidth","getRectangle","findRectPosition","vSeries","updateSymbolLocation","updateYRegion","updateXRegion","triggerEvent","calculateRoundedRectPath","topLeft","topRight","bottomLeft","bottomRight","rectElements","animateRect","isPlot","lastElementChild","children","childElementCount","ColumnSeries","sideBySideInfo","origin","pointColumn","AreaSeries","firstPoint","currentXValue","symbolLocation","BarSeries","pointBar","PolarRadarPanel","drawYAxisLine","vector","axisLine","vector2","minorGirdLine","minorTickLine","labelText","firstLabelX","lastLabelX","textAnchor","majorTickLine","tickOptions","gridOptions","PolarSeries","columnDrawTypeRender","itemCurrentXPos","pointStartAngle","pointEndAngle","dStartX","dStartY","dEndX","dEndY","sumofYValues","rangeInterval","getSeriesPosition","doPolarRadarAnimation","animateElement","chartcenterX","chartcenterY","RadarSeries","StackingBarSeries","stackedValue","pointStack","CandleSeries","centerRegion","tickRegion","getPathString","triggerPointRenderEvent","drawCandle","getCandleColor","enableSolidCandles","bullFillColor","bearFillColor","topRect","midRect","candleElement","StackingColumnSeries","StepLineSeries","pathOptions","lineLength","StepAreaSeries","secondPoint","StackingAreaSeries","lineDirection","stackedvalue","previousSeries","getPreviousSeries","ScatterSeries","RangeColumnSeries","rangePoint","WaterfallSeries","originValue","prevEndValue","currentEndValue","prevRegion","intermediateOrigin","isSum","isIntermediateSum","totalSum","isSumIndex","currentRegion","prevLeft","currentLeft","prevBottom","currentBottom","connector","intermediateSumIndexes","sumIndexes","summaryFillColor","negativeFillColor","intermediateSum","sumIndex","HiloSeries","HiloOpenCloseSeries","highLowRect","updateTickRegion","open_1","close_1","drawHiloOpenClosePath","horizontal","RangeAreaSeries","command","closed","highPoint","closeRangeAreaPath","BubbleSeries","segmentRadius","percentChange","maxRadius","minRadius","maximumSize","value_1","bubblePoint","SplineSeries","splinePoints","pt1","pt2","bpt1","bpt2","previous","filterEmptyPoints","getPreviousIndex","getNextIndex","findSplineCoefficients","points_2","getControlPoints","coefficient1","coefficient2","coefficient3","dy1","dy2","interPoint","slopeLength","ySpline","ySplineDuplicate","dx","dy","slope","cardinalSplineTension","splineType","ySpline1","ySpline2","ySplineDuplicate1","ySplineDuplicate2","deltaX2","TechnicalAnalysis","signalLine","setSeriesProperties","indicatorElement","getDataPoint","sourcePoint","macdPositiveColor","macdNegativeColor","getRangePoint","setSeriesRange","SmaIndicator","smaPoints","validData","signalSeries","period","EmaIndicator","emaPoints","prevAverage","TmaIndicator","tmaPoints","signalSeries_1","validData_1","smaValues","k_1","AccumulationDistributionIndicator","sourceSeries","adPoints","calculateADPoints","AtrIndicator","calculateATRPoints","highLow","highClose","lowClose","trueRange","MomentumIndicator","upperLine","upperCollection","signalCollection","upperSeries","RsiIndicator","showZones","lowerLine","lowerCollection","overBought","overSold","prevClose","gain","loss","close_2","StochasticIndicator","periodLine","lowerSeries","periodCollection","calculatePeriod","kPeriod","smaCalculation","dPeriod","pointCollection","lowValues","highValues","closeValues","modifiedSource","mins","maxs","MIN_VALUE","top_1","BollingerBands","rangeArea","bandColor","enableBand","bandCollection","rangeAreaSeries","deviationSum","multiplier","standardDeviation","limit","deviations","bollingerPoints","i_1","sma","i_2","lowerBand","upperBand","j_1","mb","lb","ub","MacdIndicator","macdType","macdSeries","macdLine","histogramSeries","macdLineSeries","fastPeriod","slowPeriod","macdCollection","histogramCollection","shortEMA","calculateEMAValues","longEMA","macdValues","getMACDVales","getMACDPoints","signalEMA","getSignalPoints","getHistogramPoints","initialEMA","emaValues","emaPercent","emaAvg","macdPoints","dataMACDIndex","macdIndex","signalEma","dataSignalIndex","signalIndex","shortEma","longEma","dataHistogramIndex","histogramIndex","Trendlines","trendLineSeries","legendShape","createTrendLineElements","trendLineElement","trendPoint","findSlopeIntercept","xAvg","yAvg","xyAvg","xxAvg","yyAvg","intercept","trendlineSeries","setLinearRange","setExponentialRange","setMovingAverageRange","setPolynomialRange","setPowerRange","setLogarithmicRange","slopeIntercept","getExponentialPoints","xLogValue","yLogValue","xPointsLgr","getLogarithmicPoints","xPolyValues","yPolyValues","getPolynomialPoints","powerPoints","getPowerPoints","getLinearPoints","xAvgValues","getMovingAveragePoints","slopeInterceptLog","midPoint","pts","x1Log","backwardForecast","y1Log","x2Log","y2Log","x3Log","forwardForecast","y3Log","slopeInterceptPower","x3","y3","polynomialOrder","polynomialSlopes","subIndex","numArray","matrix","newIndex","nIndex","num2","nIndex2","nnIndex","nnIndex2","gaussJordanElimination","getPoints","nullCount","slopeInterceptLinear","x1Linear","y1Linear","x2Linear","y2Linear","slopeInterceptExp","ptsExp","getPolynomialYValue","slopes","numArray1","numArray2","numArray3","index1","num1","index2","index3","index4","index5","index4_1","num3","num4","iindex4","iandex4","iindex1","iindex2","Crosshair","elementID","mouseLeaveHandler","removeCrosshair","isIos","isIos7","disableTrackTooltip","horizontalCross","verticalCross","crossGroup","stopAnimation","valueX","valueY","lineType","axisTooltipGroup","renderCrosshairLine","renderAxisTooltip","lastChild","axisGroup","textElem","getAxisText","tooltipLocation","isTop","isBottom","isLeft","isRight","labelValue","tooltipRect","boundsX","boundsY","crosshairInterval","Tooltip","markerPoint","removeTooltip","isTooltip","inverted","updateTemplateFn","formattedText","renderGroupedTooltip","renderSeriesTooltip","textElements","groupElement","renderPoint","isFirst","firstText","textCollections","getTooltipText","removeText","findHeader","parseTemplate","removeHighlight","highlightPoints","renderTooltip","findMouseValue","firstElement","formatPointValue","seriesTooltipLocation","enableAnimation","isComplete","updateDiv","animateTooltipDiv","extraPoints","tipLocation","getBoxLocation","sharedTooltipLocation","headerSize","pathElement_1","pointRect","shadowElement","defElement","changeText","clipX","clipY","removeRect","highlightPoint","highlight","isRender","lines","tspanOption","subWidth","tspanStyle","headerSpace","isColumn","width_1","drawMarker","markerGroup","textValue","dataValue","getPrototypeOf","isXPoint","isYPoint","getIndicatorTooltipFormat","toolTipInterval","tooltipElement","rectOpacity","tooltipGroup","data_2","currenDiff","Toolkit","selectionColor","fillColor","createPanButton","isPanning","panElements","pan","createZoomButton","zoomElements","zoom","createZoomInButton","polygonDirection","zoomInElements","elementOpacity","zoomIn","createZoomOutButton","zoomOutElements","zoomOut","createResetButton","toolkitElements","touchMoveList","touchStartList","zoomInOutCalculation","applySelection","zoomFactor_1","zoomPosition_1","cumulative_1","browserName","wheelEvent","toolkit","zoomingRect","zoomAxes","zoomkitOpacity","isIOS","renderZooming","calculateZoomAxesRange","doPan","drawZoomingRectangle","currentScale","translateX","translateY","enableDeferredZooming","setTransform","performZoomRedraw","doZoom","layout","previousZF","previousZP","currentZF","currentZP","zoomRect","previousZoomFactor","previousZoomPosition","currentZoomFactor","currentZoomPosition","performMouseWheelZooming","cumulative","wheelDelta","performPinchZooming","translateXValue","translateYValue","pinchRect","elementOffset","touchDown","touchMove","touch0StartX","touch0StartY","touch0EndX","touch0EndY","touch1StartX","touch1StartY","touch1EndX","touch1EndY","calculatePinchZoomFactor","selectionMin","selectionMax","rangeMin","rangeMax","axisTrans","actualMin","actualDelta","transX","transY","isPinch","xAxisLoc","yAxisLoc","axisRange","showZoomingToolkit","outerElement","toolboxItems","toolbarItems","xPosition","currentItem","zoomToolkitMove","zoomToolkitLeave","showToolkit","chartMouseWheel","mouseDownHandler","mouseCancelHandler","touches","addTouchPointer","touchList","pointerId","length_2","BaseSelection","seriesStyles","seriesclass","styleId","selectionStyle","unselected","concatIndexes","userIndexes","localIndexes","checkVisibility","selectedIndexes","uniqueSeries","selectedIndexes_1","uniqueSeries_1","addSvgClass","elementClassName","removeSvgClass","getChildren","Selection","completeSelection","calculateSelectedElements","mousedown","rectPoints","initPrivateVariables","closeIconId","draggedRectGroup","draggedRect","isSeriesMode","selectDataIndex","generateStyle","indexes","indexes_1","getElementByIndex","suffix","getClusterElements","clusters","findElements","getSeriesElements","selection","blurEffect","clusterSelection","selectedElements","removeMultiSelectEelments","getSelectionClass","removeStyles","addOrRemoveIndex","applyStyles","currentIndex","toEquals","chartId","checkSelectionElements","parentClassName","elements_2","checkSeriesOnly","oldMode","removeSelectedElements","legendSelection","seriesStyle","isBlurEffectNeeded","elements_3","seriesElements_1","calculateDragSelectedElements","dragRect","axisOffset","removeOffset","selectedPointValues","selectedSeriesValues","xAxisOffset_1","yAxisOffset_1","isCurrentPoint","createCloseButton","selectedDataValues","clip","drawDraggingRect","cartesianLayout","closeIcon","dragGroup","removeDraggedElements","changeCursorStyle","resizingSelectionRect","tapped","resize","findResizeMode","resizing","chartSvgObject","cursorStyle","resizeMode","resizeEdges","isResize","rectelement","seriesElements_2","object","draggedRectMoved","grabbedPoint","doDrawing","dragging","rectGrabbing","getDragRect","DataLabel","errorHeight","commonId","calculateErrorHeight","positiveHeight","negativeHeight","rgbValue","contrast","yAxisInversed","labelLength","fontBackground","isDataLabelShape","createDataLabelTemplate","calculateTextPosition","isShape","labelIndex","labelRegion","getLabelLocation","locationY","alignmentValue","calculateAlignment","calculateRectPosition","locationX","calculatePathPosition","calculatePolarRectPosition","columnRadius","labelLocation","textLength","extraSpace","calculateRectActualPosition","calculateTopAndOuterPosition","calculatePathActualPosition","labelRect","isOverLap","collection","finalPosition","updateLabelLocation","markerSize","positionIndex","intersectY","shapeElements","textNode","ErrorBar","renderErrorBar","capId","errorbar","errorBarCap","errorDirection","point_1","errorX","errorY","verticalError","horizontalError","capOption","capPath","findLocation","horizontalPositiveError","verticalPositiveError","horizontalNegativeError","verticalNegativeError","getErrorDirection","calculateFixedValue","calculatePercentageValue","calculateStandardDeviationValue","getMean","meanCalculation","calculateStandardErrorValue","calculateCustomValue","getHorizontalDirection","mid","errorMode","capLength","capDirection","getVerticalDirection","getBothDirection","pathH","pathV","paths","verStandardMean","horStandardMean","verSquareRoot","horSquareRoot","sumOfX","sumOfY","errorBarClipRect","errorBarElements","Legend","click","visibleSeriesCollection","visibleSeriesCollection_1","extraHeight","extraWidth","legendEventArgs","maximumWidth","rowWidth","columnHeight","prevLegend","previousBound","availwidth","LegendClick","refreshSeries","legendItemsId_1","AnnotationBase","annotation","isChart","setAnnotationPixelValue","accumulationBound","setAnnotationPointValue","isLog","setAccumulationPointValue","accPoint","setElementStyle","setAlignmentValue","ChartAnnotation","annotationElement","coordinateUnits","BoxAndWhiskerSeries","centerRegion_1","findBoxPlotValues","boxPlotMode","updateTipRegion","renderBoxAndWhisker","tipRegion","updateTipSize","midWidth","midHeight","topWidth","topHeight","showMean","yCount","quartile","getExclusiveQuartileValue","getInclusiveQuartileValue","getQuartileValues","getMinMaxOutlier","percentile","rank","integerRank","fractionRank","isEvenList","halfLength","lowerQuartileArray","upperQuartileArray","rangeIQR","AccumulationAnnotationSettings","AccumulationDataLabelSettings","AccumulationTooltipSettings","AccPoints","labelVisible","AccumulationSeries","sumOfPoints","accumulation","resultData","seriesCounts","findSumOfPoints","sumOfClub","clubValue","groupTo","setPoints","isClub","pushPoints","lastGroupTo","clubPoint","setAccEmptyPoint","seriesGroup","renderPoints","datalabelGroup","accumulationDataLabelModule","renderDataLabel","findMaxBounds","labelBound","pieSeriesModule","accumulationLegendModule","explodeDistance","pointId","getSeriesElement","findAreaRect","totalbound","bound","next","AccumulationBase","pieCenter","pieRadius","pieLabelRadius","labelRadius","isCircular","getTooltipPoint","accumulationTooltipModule","isDataLabel","processExplode","labelPosition","explodePoints","deExplodeAll","invokeExplode","explodeAll","explodeIndex","accumulationSelectionModule","deExplodeSlice","explode","midAngle","isExplode","explodeSlice","sliceId","setTranslate","setElementTransform","PieBase","initProperties","initAngles","connectorStyle","explodeOffset","findCenter","defaultLabelBound","totalAngle","accumulationRect","getSeriesBound","accumulationRectCenter","total","getRectFromAngle","nextQuandrant","lastQuadrant","getPathArc","getDoughnutPath","getPiePath","clockWise","innerStart","innerEnd","PieSeries","getPathOption","groupId","clipslice","AccumulationChart","accBaseModule","isIE11Pointer","accumulationMouseMove","accumulationMouseEnd","accumulationMouseStart","accumulationOnMouseClick","accumulationRightClick","accumulationMouseLeave","accumulationResize","fadeOutTooltip","previousSize","currentSize","createPieSvg","createSecondaryElement","doGrouppingProcess","processSelection","tooltipParent","targetElement","getSmartLegendLocation","refreshPoints","findDatalabelVisibility","refreshElements","TriangularBase","actualChartArea","triangleSize","neckSize","neckWidth","neckHeight","initializeSizeRatio","gapRatio","coEff","spacing","yRatio","heightRatio","setLabelLocation","labelOffset","findPath","locations","FunnelSeries","getSegmentData","topRadius","bottomRadius","endTop","endBottom","endMin","bottomY","emptySpaceAtLeft","seriesTop","line1","line2","line4","line5","line3","line6","PyramidSeries","pyramidMode","calculateSurfaceSegments","sumOfValues","gapHeight","preSum","getSurfaceHeight","currY","coef","surface","solveQuadraticEquation","root1","root2","sd","AccumulationLegend","titleRect","totalRowCount","getMaxColumn","maxPageColumn","maxColumnWidth","columns_1","getAvailWidth","legendX","availablewidth","legendBound","getTitleRect","legendByIndex","legendCollections_1","legendItemsId","currentSeries","AccumulationDataLabel","getDataLabelPosition","getLabelDistance","getLabelRegion","marginValue","labelAngle","enableSmartLabels","getSmartLabel","circular","findPreviousPoint","isOverlapping","isConnectorLineOverlapping","setOuterSmartLabel","setPointVisibileFalse","textTrimming","areaRect","textsize","getOverlappedAngle","setSmartLabelForSegments","textRegion","overlapHeight","getEdgeOfLabel","previousstart","previousend","isLineRectangleIntersect","isLinesIntersect","point11","point12","a1","b1","a2","b2","lies","getConnectorPath","getConnectorStartPoint","getPolyLinePath","controlPoints","t","getBezierPoint","p0","p1","labelshape","isTemplate","getTemplateSize","correctLabelRegion","setTemplateStyle","getSaturatedColor","clientRect","labelColor","doTemplateAnimation","saturatedColor","getLabelBackground","backgroundColor","cssClassName","RTL","BUTTON","PRIMARY","ICONBTN","Button","isPrimary","setIconCss","disabled","controlStatus","iconCss","iconPosition","isToggle","btnClickHandler","RIPPLE","CheckBox","isKeyPressed","changeState","state","ariaState","frameSpan","getWrapper","checked","indeterminate","clickHandler","focusOutHandler","changeEventArgs","focusHandler","setDisabled","initWrapper","for","setText","keyActionHandler","keyDownHandler","labelMouseHandler","labelWrap","keyboardModule","RadioButton","RadioButton_1","changeHandler","radioGrp","radioWrap","getLabel","nextElementSibling","labelRippleHandler","textLabel","rippleLabel","CLASSNAMES","ROOT","OPEN","CLOSE","Popup","setEnableRtl","refreshPosition","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","orientationOnChange","getRelateToElement","scrollRefresh","parent_2","relateTo","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","relateToElement","scrollElement","parent_3","isElementVisible","parent_4","win","windowView","scrollY","scrollX","elementView","reposition","checkFixedParent","checkCollision","getAnchorPosition","anchorEle","eleRect","anchorRect","targetType","callFlip","callFit","horz","collision","vert","show","animationOptions","showAnimation","hideAnimation","ButtonProps","Dialog","initRender","closeIconClickEventHandler","closedFrom","dlgOverlayClickEventHandler","localeText","l10n","headerContent","keyDown","isModal","activeElement","btnObj","focusableElements","isTagName","isContentEdit","hasAttribute","closeOnEscape","primaryButtonEle","buttonIndex_1","buttonModel","targetEle","setCSSClass","setMaxHeight","getZindexPartial","setHeader","showCloseIcon","renderCloseIcon","contentEle","footerTemplate","setFooterTemplate","setButton","allowDragging","setAllowDragging","aria-modal","setIsModal","dlgContainer","popupObj","focusContent","unBindEvent","storeActiveElement","positionChange","setEnableRTL","dlgOverlay","dialogParent","parentZindex","defaultView","childrenZindex","isEqualNode","finalValue","dragObj","buttonContent","btn","ftrTemplateContent","aria-describedby","maxHeight","headerEle","aria-labelledby","createHeaderContent","closeIconBtnObj","DLG_CLOSE_ICON","closeIconTitle","oldCSSClass","getValidFocusNode","u","disableElement","getAutoFocusNode","validNode","elementMatch","bindEvent","classArray","isFullScreen","fullScreen","openAnimation","animationSettings","dialogOpen","closeAnimation","formatPosition","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","ARROW_TIP","tipClass","ARROW_TIP_OUTER","ARROW_TIP_INNER","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionFlipFit","tooltipEventArgs","clear","tooltipEleWidth","tooltipEleHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","updateTipPosition","selEle","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","tipPosExclude","tipPointerPosition","POINTER_ADJUST","renderContent","tooltipContent","isSticky","tipClose","ICON","onStickyClose","addDescribedBy","describedby","data-tooltip-id","removeDescribedBy","orgdescribedby","tapHoldHandler","autoCloseTimer","targetHover","touchEndHandler","targetClick","hideTooltip","targetList_1","ctrlId","target_1","restoreElement","wireMouseEvents","showTimer","hideTimer","isHidden","TOOLTIP_WRAP","aria-hidden","PopupAnimation","openDelay","vertical","affectedPos","newpos","eleOffset","arrowleft","closeAnimation_1","closeDelay","unwireMouseEvents","onMouseOut","onMouseMove","eventPageX","eventPageY","colpos","touchEnd","scrollHandler","opensOn","triggerList_1","getTriggerList","wireFocusEvents","touchModule","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","trgt","AccumulationTooltip","tooltipOption","beforeOpen","tooltipCustomization","setTemplateFunction","tooltipIndex","getTooltipContent","templates","pointerSize","borderRadius","pointer-events","borderRightColor","borderLeftColor","borderBottomColor","borderLeftWidth","borderRightWidth","borderBottomWidth","borderTopColor","transitionProperty","transitionDuration","AccumulationSelection","indexes_2","checkEquals","pieId","checkPointVisibility","elementClass","parentClass","selectedDataIndexes_1","AccumulationAnnotation","pie"],"mappings":"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"}