{"version":3,"file":"ej2-charts.min.js","sources":["../../node_modules/@syncfusion/ej2-base/dist/src/es5/util.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/dom.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/notify-property-change.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/animation.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/internationalization.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/template.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/template-engine.js","../src/es5/common/model/theme.js","../src/es5/common/utils/helper.js","../../node_modules/@syncfusion/ej2-file-utils/dist/src/es5/encoding.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/collections/utils.js","../src/es5/accumulation-chart/model/acc-base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/ajax.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/event-handler.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/observer.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/browser.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/intl-base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/canvas-renderer.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/module-loader.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/child-property.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/parser-base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/number-formatter.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/date-formatter.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/date-parser.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/number-parser.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/component.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/draggable.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/droppable.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/keyboard.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/l10n.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/svg-renderer.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/touch.js","../src/es5/common/model/base.js","../src/es5/chart/utils/double-range.js","../src/es5/chart/axis/double-axis.js","../src/es5/chart/model/chart-base.js","../src/es5/chart/axis/axis.js","../src/es5/common/model/constants.js","../../node_modules/@syncfusion/ej2-data/dist/src/es5/query.js","../../node_modules/@syncfusion/ej2-data/dist/src/es5/util.js","../../node_modules/@syncfusion/ej2-data/dist/src/es5/adaptors.js","../../node_modules/@syncfusion/ej2-data/dist/src/es5/manager.js","../src/es5/chart/axis/cartesian-panel.js","../src/es5/chart/utils/get-data.js","../src/es5/chart/series/chart-series.js","../src/es5/common/model/data.js","../src/es5/chart/series/marker-explode.js","../src/es5/chart/series/marker.js","../src/es5/common/legend/legend.js","../src/es5/chart/technical-indicators/technical-indicator.js","../../node_modules/@syncfusion/ej2-file-utils/dist/src/es5/save.js","../../node_modules/@syncfusion/ej2-file-utils/dist/src/es5/stream-writer.js","../../node_modules/@syncfusion/ej2-compression/dist/src/es5/compression-writer.js","../../node_modules/@syncfusion/ej2-compression/dist/src/es5/zip-archive.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/primitives/pdf-string.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/collections/dictionary.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/primitives/pdf-name.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/input-output/pdf-operators.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/input-output/pdf-dictionary-properties.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/primitives/pdf-dictionary.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/primitives/pdf-number.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/primitives/pdf-array.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/primitives/pdf-stream.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/enum.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/primitives/pdf-reference.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/actions/action.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/actions/uri-action.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/pdf-color.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/fonts/enum.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/drawing/pdf-drawing.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/brushes/pdf-brush.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/brushes/pdf-solid-brush.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/fonts/pdf-string-format.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/fonts/string-layouter.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/fonts/string-tokenizer.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/fonts/pdf-font.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/input-output/enum.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/input-output/pdf-writer.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/input-output/pdf-main-object-collection.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/input-output/cross-table.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/pdf-document-base.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/pdf-catalog.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/enum.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/input-output/pdf-cross-table.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/pdf-page-size.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/pdf-margins.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/images/image-decoder.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/pdf-page-settings.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/input-output/pdf-stream-writer.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/pdf-pen.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/pdf-transformation-matrix.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/constants.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/collections/object-object-pair/dictionary.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/pdf-transparency.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/automatic-fields/automatic-field-info-collection.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/figures/base/graphics-element.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/automatic-fields/automatic-field.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/automatic-fields/automatic-field-info.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/pdf-graphics.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/pdf-page-layer.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/general/pdf-collection.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/pdf-page-layer-collection.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/figures/pdf-template.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/images/byte-array.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/primitives/pdf-boolean.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/figures/enum.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/unit-convertor.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/images/pdf-image.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/images/pdf-bitmap.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/pdf-resources.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/pdf-page-base.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/annotations/annotation-collection.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/pdf-page.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/page-added-event-arguments.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/pdf-section-page-collection.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/pdf-document-template.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/pdf-section-templates.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/pdf-section.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/pdf-section-collection.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/pdf-document-page-collection.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/general/pdf-cache-collection.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/pdf-document.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/fonts/pdf-font-metrics.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/fonts/pdf-standard-font-metrics-factory.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/fonts/pdf-standard-font.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/annotations/annotation.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/annotations/link-annotation.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/annotations/action-link-annotation.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/annotations/document-link-annotation.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/figures/base/element-layouter.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/general/enum.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/figures/layout-element.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/figures/base/text-layouter.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/graphics/figures/text-element.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/annotations/uri-annotation.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/annotations/pdf-text-web-link.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/automatic-fields/pdf-numbers-convertor.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/automatic-fields/pdf-template-value-pair.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/automatic-fields/multiple-value-field.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/automatic-fields/pdf-page-number-field.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/automatic-fields/composite-field.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/automatic-fields/single-value-field.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/document/automatic-fields/page-count-field.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/general/pdf-destination.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/structured-elements/tables/light-tables/enum.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/pages/pdf-page-template-element.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/structured-elements/grid/styles/pdf-borders.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/structured-elements/grid/styles/style.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/structured-elements/grid/pdf-grid-cell.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/structured-elements/grid/pdf-grid-column.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/structured-elements/grid/pdf-grid-row.js","../../node_modules/@syncfusion/ej2-pdf-export/dist/src/es5/implementation/structured-elements/grid/pdf-grid.js","../src/es5/common/utils/export.js","../src/es5/chart/chart.js","../src/es5/chart/axis/axis-helper.js","../src/es5/chart/axis/date-time-axis.js","../src/es5/chart/axis/category-axis.js","../src/es5/chart/axis/logarithmic-axis.js","../src/es5/chart/axis/date-time-category-axis.js","../src/es5/chart/axis/strip-line.js","../src/es5/chart/series/line-base.js","../src/es5/chart/series/line-series.js","../src/es5/chart/series/column-base.js","../src/es5/chart/series/column-series.js","../src/es5/chart/series/multi-colored-base.js","../src/es5/chart/series/area-series.js","../src/es5/chart/series/bar-series.js","../src/es5/chart/axis/polar-radar-panel.js","../src/es5/chart/series/polar-series.js","../src/es5/chart/series/radar-series.js","../src/es5/chart/series/stacking-bar-series.js","../src/es5/chart/series/candle-series.js","../src/es5/chart/series/stacking-column-series.js","../src/es5/chart/series/step-line-series.js","../src/es5/chart/series/step-area-series.js","../src/es5/chart/series/stacking-area-series.js","../src/es5/chart/series/scatter-series.js","../src/es5/chart/series/range-column-series.js","../src/es5/chart/series/waterfall-series.js","../src/es5/chart/series/hilo-series.js","../src/es5/chart/series/hilo-open-close-series.js","../src/es5/chart/series/range-area-series.js","../src/es5/chart/series/bubble-series.js","../src/es5/chart/series/spline-base.js","../src/es5/chart/series/spline-series.js","../src/es5/chart/series/spline-area-series.js","../src/es5/chart/technical-indicators/indicator-base.js","../src/es5/chart/technical-indicators/sma-indicator.js","../src/es5/chart/technical-indicators/ema-indicator.js","../src/es5/chart/technical-indicators/tma-indicator.js","../src/es5/chart/technical-indicators/ad-indicator.js","../src/es5/chart/technical-indicators/atr-indicator.js","../src/es5/chart/technical-indicators/momentum-indicator.js","../src/es5/chart/technical-indicators/rsi-indicator.js","../src/es5/chart/technical-indicators/stochastic-indicator.js","../src/es5/chart/technical-indicators/bollinger-bands.js","../src/es5/chart/technical-indicators/macd-indicator.js","../src/es5/chart/trend-lines/trend-line.js","../src/es5/chart/user-interaction/crosshair.js","../src/es5/common/user-interaction/tooltip.js","../src/es5/chart/user-interaction/tooltip.js","../src/es5/chart/user-interaction/zooming-toolkit.js","../src/es5/chart/user-interaction/zooming.js","../src/es5/common/user-interaction/selection.js","../src/es5/chart/user-interaction/selection.js","../src/es5/chart/series/data-label.js","../src/es5/chart/series/error-bar.js","../src/es5/chart/legend/legend.js","../src/es5/common/annotation/annotation.js","../src/es5/chart/annotation/annotation.js","../src/es5/chart/series/box-and-whisker-series.js","../src/es5/chart/series/multi-colored-area-series.js","../src/es5/chart/series/multi-colored-line-series.js","../src/es5/chart/axis/multi-level-labels.js","../src/es5/accumulation-chart/renderer/accumulation-base.js","../src/es5/accumulation-chart/renderer/pie-base.js","../src/es5/accumulation-chart/renderer/pie-series.js","../src/es5/accumulation-chart/accumulation.js","../src/es5/accumulation-chart/renderer/triangular-base.js","../src/es5/accumulation-chart/renderer/funnel-series.js","../src/es5/accumulation-chart/renderer/pyramid-series.js","../src/es5/accumulation-chart/renderer/legend.js","../src/es5/accumulation-chart/renderer/dataLabel.js","../src/es5/accumulation-chart/user-interaction/tooltip.js","../src/es5/accumulation-chart/user-interaction/selection.js","../src/es5/accumulation-chart/annotation/annotation.js"],"sourcesContent":["var instances = 'ej2_instances';\nvar uid = 0;\n/**\n * Create Instance from constructor function with desired parameters.\n * @param {Function} classFunction - Class function to which need to create instance\n * @param {any[]} params - Parameters need to passed while creating instance\n * @return {any}\n * @private\n */\nexport function createInstance(classFunction, params) {\n    var arrayParam = params;\n    arrayParam.unshift(undefined);\n    return new (Function.prototype.bind.apply(classFunction, arrayParam));\n}\n/**\n * To run a callback function immediately after the browser has completed other operations.\n * @param {Function} handler - callback function to be triggered.\n * @return {Function}\n * @private\n */\nexport function setImmediate(handler) {\n    var unbind;\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    intCrypto.getRandomValues(num);\n    var secret = 'ej2' + combineArray(num);\n    var messageHandler = function (event) {\n        if (event.source === window && typeof event.data === 'string' && event.data.length <= 32 && event.data === secret) {\n            handler();\n            unbind();\n        }\n    };\n    window.addEventListener('message', messageHandler, false);\n    window.postMessage(secret, '*');\n    return unbind = function () {\n        window.removeEventListener('message', messageHandler);\n    };\n}\n/**\n * To get nameSpace value from the desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} obj - Object to get the inner object value.\n * @return {any}\n * @private\n */\nexport function getValue(nameSpace, obj) {\n    /* tslint:disable no-any */\n    var value = obj;\n    var splits = nameSpace.split('.');\n    for (var i = 0; i < splits.length && !isUndefined(value); i++) {\n        value = value[splits[i]];\n    }\n    return value;\n}\n/**\n * To set value for the nameSpace in desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} value - Value that you need to set.\n * @param {any} obj - Object to get the inner object value.\n * @return {void}\n * @private\n */\nexport function setValue(nameSpace, value, obj) {\n    var keys = nameSpace.split('.');\n    var start = obj || {};\n    var fromObj = start;\n    var i;\n    var length = keys.length;\n    var key;\n    for (i = 0; i < length; i++) {\n        key = keys[i];\n        if (i + 1 === length) {\n            fromObj[key] = value === undefined ? {} : value;\n        }\n        else if (isNullOrUndefined(fromObj[key])) {\n            fromObj[key] = {};\n        }\n        fromObj = fromObj[key];\n    }\n    return start;\n}\n/**\n * Delete an item from Object\n * @param {any} obj - Object in which we need to delete an item.\n * @param {string} params - String value to the get the inner object\n * @return {void}\n * @private\n */\nexport function deleteObject(obj, key) {\n    delete obj[key];\n}\n/**\n * Check weather the given argument is only object.\n * @param {any} obj - Object which is need to check.\n * @return {boolean}\n * @private\n */\nexport function isObject(obj) {\n    var objCon = {};\n    return (!isNullOrUndefined(obj) && obj.constructor === objCon.constructor);\n}\n/**\n * To get enum value by giving the string.\n * @param {any} enumObject - Enum object.\n * @param {string} enumValue - Enum value to be searched\n * @return {any}\n * @private\n */\nexport function getEnumValue(enumObject, enumValue) {\n    return enumObject[enumValue];\n}\n/**\n * Merge the source object into destination object.\n * @param {any} source - source object which is going to merge with destination object\n * @param {any} destination - object need to be merged\n * @return {void}\n * @private\n */\nexport function merge(source, destination) {\n    if (!isNullOrUndefined(destination)) {\n        var temrObj = source;\n        var tempProp = destination;\n        var keys = Object.keys(destination);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            temrObj[key] = tempProp[key];\n        }\n    }\n}\n/**\n * Extend the two object with newer one.\n * @param {any} copied - Resultant object after merged\n * @param {Object} first - First object need to merge\n * @param {Object} second - Second object need to merge\n * @return {Object}\n * @private\n */\nexport function extend(copied, first, second, deep) {\n    var result = copied || {};\n    var length = arguments.length;\n    if (deep) {\n        length = length - 1;\n    }\n    var _loop_1 = function (i) {\n        if (!arguments_1[i]) {\n            return \"continue\";\n        }\n        var obj1 = arguments_1[i];\n        Object.keys(obj1).forEach(function (key) {\n            var src = result[key];\n            var copy = obj1[key];\n            var clone;\n            if (deep && isObject(copy)) {\n                clone = isObject(src) ? src : {};\n                result[key] = extend({}, clone, copy, true);\n            }\n            else {\n                result[key] = copy;\n            }\n        });\n    };\n    var arguments_1 = arguments;\n    for (var i = 1; i < length; i++) {\n        _loop_1(i);\n    }\n    return result;\n}\n/**\n * To check whether the object is null or undefined.\n * @param {Object} value - To check the object is null or undefined\n * @return {boolean}\n * @private\n */\nexport function isNullOrUndefined(value) {\n    return value === undefined || value === null;\n}\n/**\n * To check whether the object is undefined.\n * @param {Object} value - To check the object is undefined\n * @return {boolean}\n * @private\n */\nexport function isUndefined(value) {\n    return ('undefined' === typeof value);\n}\n/**\n * To return the generated unique name\n * @param {string} definedName - To concatenate the unique id to provided name\n * @return {string}\n * @private\n */\nexport function getUniqueID(definedName) {\n    return definedName + '_' + uid++;\n}\n/**\n * It limits the rate at which a function can fire. The function will fire only once every provided second instead of as quickly.\n * @param {Function} eventFunction - Specifies the function to run when the event occurs\n * @param {number} delay - A number that specifies the milliseconds for function delay call option\n * @return {Function}\n * @private\n */\nexport function debounce(eventFunction, delay) {\n    var out;\n    // tslint:disable-next-line\n    return function () {\n        var _this = this;\n        var args = arguments;\n        var later = function () {\n            out = null;\n            return eventFunction.apply(_this, args);\n        };\n        clearTimeout(out);\n        out = setTimeout(later, delay);\n    };\n}\n// Added since lint ignored after added '//tslint:disable-next-line' \n/* tslint:disable:no-any */\n/**\n * To convert the object to string for query url\n * @param  {Object} data\n * @returns string\n * @private\n */\nexport function queryParams(data) {\n    var array = [];\n    var keys = Object.keys(data);\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n        var key = keys_2[_i];\n        array.push(encodeURIComponent(key) + '=' + encodeURIComponent('' + data[key]));\n    }\n    return array.join('&');\n}\n/**\n * To check whether the given array contains object.\n * @param {T[]} value- Specifies the T type array to be checked.\n * @private\n */\nexport function isObjectArray(value) {\n    var parser = Object.prototype.toString;\n    if (parser.call(value) === '[object Array]') {\n        if (parser.call(value[0]) === '[object Object]') {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * To check whether the  child element is descendant to parent element or parent and child are same element.\n * @param{Element} - Specifies the child element to compare with parent.\n * @param{Element} - Specifies the parent element.\n * @return boolean\n * @private\n */\nexport function compareElementParent(child, parent) {\n    var node = child;\n    if (node === parent) {\n        return true;\n    }\n    else if (node === document || !node) {\n        return false;\n    }\n    else {\n        return compareElementParent(node.parentNode, parent);\n    }\n}\n/**\n * To throw custom error message.\n * @param{string} - Specifies the error message to be thrown.\n * @private\n */\nexport function throwError(message) {\n    try {\n        throw new Error(message);\n    }\n    catch (e) {\n        throw e.message + '\\n' + e.stack;\n    }\n}\n/**\n * This function is used to print given element\n * @param{Element} element - Specifies the print content element.\n * @param{Window} printWindow - Specifies the print window.\n * @private\n */\nexport function print(element, printWindow) {\n    var div = document.createElement('div');\n    var links = [].slice.call(document.getElementsByTagName('head')[0].querySelectorAll('link, style'));\n    var reference = '';\n    if (isNullOrUndefined(printWindow)) {\n        printWindow = window.open('', 'print', 'height=452,width=1024,tabbar=no');\n    }\n    div.appendChild(element.cloneNode(true));\n    for (var i = 0, len = links.length; i < len; i++) {\n        reference += links[i].outerHTML;\n    }\n    printWindow.document.write('<!DOCTYPE html> <html><head>' + reference + '</head><body>' + div.innerHTML +\n        '<script> (function() { window.ready = true; })(); </script>' + '</body></html>');\n    printWindow.document.close();\n    printWindow.focus();\n    // tslint:disable-next-line\n    var interval = setInterval(function () {\n        if (printWindow.ready) {\n            printWindow.print();\n            printWindow.close();\n            clearInterval(interval);\n        }\n    }, 500);\n    return printWindow;\n}\n/**\n * Function to normalize the units applied to the element.\n * @param  {number|string} value\n * @return {string} result\n * @private\n */\nexport function formatUnit(value) {\n    var result = value + '';\n    if (result === 'auto' || result.indexOf('%') !== -1 || result.indexOf('px') !== -1) {\n        return result;\n    }\n    return result + 'px';\n}\n/**\n * Function to fetch the Instances of a HTML element for the given component.\n * @param {string | HTMLElement} element\n * @param {any} component\n * @return {Object} inst\n * @private\n */\n// tslint:disable-next-line\nexport function getInstance(element, component) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        for (var _i = 0, _a = elem[instances]; _i < _a.length; _i++) {\n            var inst = _a[_i];\n            if (inst instanceof component) {\n                return inst;\n            }\n        }\n    }\n    return null;\n}\n/**\n * Function to add instances for the given element.\n * @param {string | HTMLElement} element\n * @param {Object} instance\n * @return {void}\n * @private\n */\nexport function addInstance(element, instance) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        elem[instances].push(instance);\n    }\n    else {\n        elem[instances] = [instance];\n    }\n}\nfunction combineArray(num) {\n    var ret = '';\n    for (var i = 0; i < 5; i++) {\n        ret += (i ? ',' : '') + num[i];\n    }\n    return ret;\n}\n","/**\n * Functions related to dom operations.\n */\nimport { EventHandler } from './event-handler';\nimport { isNullOrUndefined } from './util';\n/**\n * Function to create Html element.\n * @param tagName - Name of the tag, id and class names.\n * @param properties - Object to set properties in the element.\n * @param properties.id - To set the id to the created element.\n * @param properties.className - To add classes to the element.\n * @param properties.innerHTML - To set the innerHTML to element.\n * @param properties.styles - To set the some custom styles to element.\n * @param properties.attrs - To set the attributes to element.\n * @private\n */\nexport function createElement(tagName, properties) {\n    var element = document.createElement(tagName);\n    if (typeof (properties) === 'undefined') {\n        return element;\n    }\n    element.innerHTML = (properties.innerHTML ? properties.innerHTML : '');\n    if (properties.className !== undefined) {\n        element.className = properties.className;\n    }\n    if (properties.id !== undefined) {\n        element.id = properties.id;\n    }\n    if (properties.styles !== undefined) {\n        element.setAttribute('style', properties.styles);\n    }\n    if (properties.attrs !== undefined) {\n        attributes(element, properties.attrs);\n    }\n    return element;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to add a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function addClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        for (var _b = 0, classList_1 = classList; _b < classList_1.length; _b++) {\n            var className = classList_1[_b];\n            if (!ele.classList.contains(className)) {\n                ele.classList.add(className);\n            }\n        }\n    }\n    return elements;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to remove a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function removeClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        if (ele.className !== '') {\n            for (var _b = 0, classList_2 = classList; _b < classList_2.length; _b++) {\n                var className = classList_2[_b];\n                ele.classList.remove(className);\n            }\n        }\n    }\n    return elements;\n}\nfunction getClassList(classes) {\n    var classList = [];\n    if (typeof classes === 'string') {\n        classList.push(classes);\n    }\n    else {\n        classList = classes;\n    }\n    return classList;\n}\n/**\n * The function used to check element is visible or not.\n * @param  {Element|Node} element - An element the need to check visibility\n * @private\n */\nexport function isVisible(element) {\n    var ele = element;\n    return (ele.style.visibility === '' && ele.offsetWidth > 0);\n}\n/**\n * The function used to insert an array of elements into a first of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to prepend.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function prepend(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.insertBefore(docFrag, toElement.firstElementChild);\n    return fromElements;\n}\n/**\n * The function used to insert an array of elements into last of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to append.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function append(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.appendChild(docFrag);\n    return fromElements;\n}\n/**\n * The function used to remove the element from the\n * @param  {Element|Node|HTMLElement} element - An element that is going to detach from the Dom\n * @private\n */\nexport function detach(element) {\n    var parentNode = element.parentNode;\n    return parentNode.removeChild(element);\n}\n/**\n * The function used to remove the element from Dom also clear the bounded events\n * @param  {Element|Node|HTMLElement} element - An element remove from the Dom\n * @private\n */\nexport function remove(element) {\n    var parentNode = element.parentNode;\n    EventHandler.clearEvents(element);\n    parentNode.removeChild(element);\n}\n/**\n * The function helps to set multiple attributes to an element\n * @param  {Element|Node} element - An element that need to set attributes.\n * @param  {{[key:string]:string}} attributes - JSON Object that is going to as attributes.\n * @private\n */\nexport function attributes(element, attributes) {\n    var keys = Object.keys(attributes);\n    var ele = element;\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        ele.setAttribute(key, attributes[key]);\n    }\n    return ele;\n}\n/**\n * The function selects the element from giving context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function select(selector, context) {\n    if (context === void 0) { context = document; }\n    return context.querySelector(selector);\n}\n/**\n * The function selects an array of element from the given context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function selectAll(selector, context) {\n    if (context === void 0) { context = document; }\n    var nodeList = context.querySelectorAll(selector);\n    return nodeList;\n}\n/**\n * Returns single closest parent element based on class selector.\n * @param  {Element} element - An element that need to find the closest element.\n * @param  {string} selector - A classSelector of closest element.\n * @private\n */\nexport function closest(element, selector) {\n    var el = element;\n    if (typeof el.closest === 'function') {\n        return el.closest(selector);\n    }\n    while (el && el.nodeType === 1) {\n        if (matches(el, selector)) {\n            return el;\n        }\n        el = el.parentNode;\n    }\n    return null;\n}\n/**\n * Returns all sibling elements of the given element.\n * @param  {Element|Node} element - An element that need to get siblings.\n * @private\n */\nexport function siblings(element) {\n    var siblings = [];\n    var childNodes = Array.prototype.slice.call(element.parentNode.childNodes);\n    for (var _i = 0, childNodes_1 = childNodes; _i < childNodes_1.length; _i++) {\n        var curNode = childNodes_1[_i];\n        if (curNode.nodeType === Node.ELEMENT_NODE && element !== curNode) {\n            siblings.push(curNode);\n        }\n    }\n    return siblings;\n}\n/**\n * set the value if not exist. Otherwise set the existing value\n * @param  {HTMLElement} element - An element to which we need to set value.\n * @param  {string} property - Property need to get or set.\n * @param  {string} value - value need to set.\n * @private\n */\nexport function getAttributeOrDefault(element, property, value) {\n    var attrVal = element.getAttribute(property);\n    if (isNullOrUndefined(attrVal)) {\n        element.setAttribute(property, value.toString());\n        attrVal = value;\n    }\n    return attrVal;\n}\n/**\n * Set the style attributes to Html element.\n * @param {HTMLElement} element - Element which we want to set attributes\n * @param {any} attrs - Set the given attributes to element\n * @return {void}\n * @private\n */\nexport function setStyleAttribute(element, attrs) {\n    if (attrs !== undefined) {\n        Object.keys(attrs).forEach(function (key) {\n            // tslint:disable-next-line:no-any\n            element.style[key] = attrs[key];\n        });\n    }\n}\n/**\n * Method for add and remove classes to a dom element.\n * @param {Element} element - Element for add and remove classes\n * @param {string[]} addClasses - List of classes need to be add to the element\n * @param {string[]} removeClasses - List of classes need to be remove from the element\n * @return {void}\n * @private\n */\nexport function classList(element, addClasses, removeClasses) {\n    addClass([element], addClasses);\n    removeClass([element], removeClasses);\n}\n/**\n * Method to check whether the element matches the given selector.\n * @param {Element} element - Element to compare with the selector.\n * @param {string} selector - String selector which element will satisfy.\n * @return {void}\n * @private\n */\nexport function matches(element, selector) {\n    var matches = element.matches || element.msMatchesSelector || element.webkitMatchesSelector;\n    if (matches) {\n        return matches.call(element, selector);\n    }\n    else {\n        return [].indexOf.call(document.querySelectorAll(selector), element) !== -1;\n    }\n}\n","import { createInstance, isUndefined, merge, extend, getValue } from './util';\n/**\n * Returns the Class Object\n * @param {ClassObject} instance - instance of ClassObject\n * @param {string} curKey - key of the current instance\n * @param {Object} defaultValue - default Value\n * @param {Object[]} type\n */\nfunction getObject(instance, curKey, defaultValue, type) {\n    if (!instance.properties.hasOwnProperty(curKey)) {\n        instance.properties[curKey] = createInstance(type, [instance, curKey, defaultValue]);\n    }\n    return instance.properties[curKey];\n}\n/**\n * Returns object array\n * @param {ClassObject} instance\n * @param {string} curKey\n * @param {Object[]} defaultValue\n * @param type\n * @param {boolean} isSetter\n * @returns {Object[]}\n */\nfunction getObjectArray(instance, curKey, defaultValue, type, isSetter, isFactory) {\n    var result = [];\n    var len = defaultValue.length;\n    for (var i = 0; i < len; i++) {\n        var curType = type;\n        if (isFactory) {\n            curType = type(defaultValue[i]);\n        }\n        if (isSetter) {\n            var inst = createInstance(curType, [instance, curKey, {}, true]);\n            inst.setProperties(defaultValue[i], true);\n            result.push(inst);\n        }\n        else {\n            result.push(createInstance(curType, [instance, curKey, defaultValue[i], true]));\n        }\n    }\n    return result;\n}\n/**\n * Returns the properties of the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertyGetter(defaultValue, curKey) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            this.properties[curKey] = defaultValue;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Set the properties for the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertySetter(defaultValue, curKey) {\n    return function (newValue) {\n        if (this.properties[curKey] !== newValue) {\n            var oldVal = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n            this.saveChanges(curKey, newValue, oldVal);\n            this.properties[curKey] = newValue;\n        }\n    };\n}\n/**\n * Returns complex objects\n */\nfunction complexGetter(defaultValue, curKey, type) {\n    return function () {\n        return getObject(this, curKey, defaultValue, type);\n    };\n}\n/**\n * Sets complex objects\n */\nfunction complexSetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        getObject(this, curKey, defaultValue, type).setProperties(newValue);\n    };\n}\nfunction complexFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        return getObject(this, curKey, defaultValue, curType);\n    };\n}\nfunction complexFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var curType = type(newValue);\n        getObject(this, curKey, defaultValue, curType).setProperties(newValue);\n    };\n}\nfunction complexArrayGetter(defaultValue, curKey, type) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, type, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\nfunction complexArraySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false, true);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, curType, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Method used to create property. General syntax below.\n * @param  {T} defaultValue? - Specifies the default value of property.\n * ```\n * @Property('TypeScript')\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Property(defaultValue) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: propertySetter(defaultValue, key),\n            get: propertyGetter(defaultValue, key),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'prop', defaultValue);\n    };\n}\n/**\n * Method used to create complex property. General syntax below.\n * @param  {T} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Complex<Type>({},Type)\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Complex(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexSetter(defaultValue, key, type),\n            get: complexGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex Factory property. General syntax below.\n * @param  {Function} defaultType - Specifies the default value of property.\n * @param  {Function} type - Specifies the class factory type of complex object.\n * ```\n * @ComplexFactory(defaultType, factoryFunction)\n * propertyName: Type1 | Type2;\n * ```\n * @private\n */\nexport function ComplexFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexFactorySetter({}, key, type),\n            get: complexFactoryGetter({}, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', {}, type);\n    };\n}\n/**\n * Method used to create complex array property. General syntax below.\n * @param  {T[]} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Collection(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArraySetter(defaultValue, key, type),\n            get: complexArrayGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex factory array property. General syntax below.\n * @param  {T[]} defaultType - Specifies the default type of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function CollectionFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArrayFactorySetter([], key, type),\n            get: complexArrayFactoryGetter([], key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', {}, type);\n    };\n}\n/**\n * Method used to create event property. General syntax below.\n * @param  {Function} defaultValue? - Specifies the default value of property.\n * @param  {boolean} isComplex? - Specifies the whether it is complex object.\n * ```\n * @Event(()=>{return true;})\n * ```\n * @private\n */\nexport function Event() {\n    return function (target, key) {\n        var eventDescriptor = {\n            set: function (newValue) {\n                var oldValue = this.properties[key];\n                if (oldValue !== newValue) {\n                    var finalContext = getParentContext(this, key);\n                    if (isUndefined(oldValue) === false) {\n                        finalContext.context.removeEventListener(finalContext.prefix, oldValue);\n                    }\n                    finalContext.context.addEventListener(finalContext.prefix, newValue);\n                    this.properties[key] = newValue;\n                }\n            },\n            get: propertyGetter(undefined, key),\n            enumerable: true,\n            configurable: true\n        };\n        Object.defineProperty(target, key, eventDescriptor);\n        addPropertyCollection(target, key, 'event');\n    };\n}\n/**\n * NotifyPropertyChanges is triggers the call back when the property has been changed.\n *\n * ```\n *  @NotifyPropertyChanges\n * class DemoClass implements INotifyPropertyChanged {\n *\n *     @Property()\n *     property1: string;\n *\n *     dataBind: () => void;\n *\n *     constructor() { }\n *\n *     onPropertyChanged(newProp: any, oldProp: any) {\n *         // Called when property changed\n *     }\n * }\n * ```\n * @private\n */\nexport function NotifyPropertyChanges(classConstructor) {\n    /** Need to code */\n}\n/**\n * Method  used to create the builderObject for the target component.\n * @private\n */\nfunction addPropertyCollection(target, key, propertyType, defaultValue, type) {\n    if (isUndefined(target.propList)) {\n        target.propList = {\n            props: [],\n            complexProps: [],\n            colProps: [],\n            events: [],\n            propNames: [],\n            complexPropNames: [],\n            colPropNames: [],\n            eventNames: []\n        };\n    }\n    /* tslint:disable no-any */\n    target.propList[propertyType + 's'].push({\n        propertyName: key,\n        defaultValue: defaultValue,\n        type: type\n    });\n    target.propList[propertyType + 'Names'].push(key);\n    /* tslint:enable no-any */\n}\n/**\n * Returns an object containing the builder properties\n * @param {Function} component\n * @private\n */\nfunction getBuilderProperties(component) {\n    if (isUndefined(component.prototype.builderObject)) {\n        component.prototype.builderObject = {\n            properties: {}, propCollections: [], add: function () {\n                this.isPropertyArray = true;\n                this.propCollections.push(extend({}, this.properties, {}));\n            }\n        };\n        var rex = /complex/;\n        for (var _i = 0, _a = Object.keys(component.prototype.propList); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var _loop_1 = function (prop) {\n                if (rex.test(key)) {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        var childType = {};\n                        merge(childType, getBuilderProperties(prop.type));\n                        value(childType);\n                        var tempValue;\n                        if (!childType.isPropertyArray) {\n                            tempValue = extend({}, childType.properties, {});\n                        }\n                        else {\n                            tempValue = childType.propCollections;\n                        }\n                        this.properties[prop.propertyName] = tempValue;\n                        childType.properties = {};\n                        childType.propCollections = [];\n                        childType.isPropertyArray = false;\n                        return this;\n                    };\n                }\n                else {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        this.properties[prop.propertyName] = value;\n                        return this;\n                    };\n                }\n            };\n            for (var _b = 0, _c = component.prototype.propList[key]; _b < _c.length; _b++) {\n                var prop = _c[_b];\n                _loop_1(prop);\n            }\n        }\n    }\n    return component.prototype.builderObject;\n}\n/**\n * Method used to create builder for the components\n * @param {any} component -specifies the target component for which builder to be created.\n * @private\n */\nexport function CreateBuilder(component) {\n    var builderFunction = function (element) {\n        this.element = element;\n        return this;\n    };\n    var instanceFunction = function (element) {\n        if (!builderFunction.prototype.hasOwnProperty('create')) {\n            builderFunction.prototype = getBuilderProperties(component);\n            builderFunction.prototype.create = function () {\n                var temp = extend({}, {}, this.properties);\n                this.properties = {};\n                return new component(temp, this.element);\n            };\n        }\n        return new builderFunction(element);\n    };\n    return instanceFunction;\n}\n/**\n * Returns parent options for the object\n * @param {Object} context\n * @param {string} prefix\n * @private\n */\nfunction getParentContext(context, prefix) {\n    if (context.hasOwnProperty('parentObj') === false) {\n        return { context: context, prefix: prefix };\n    }\n    else {\n        var curText = getValue('propName', context);\n        if (curText) {\n            prefix = curText + '-' + prefix;\n        }\n        return getParentContext(getValue('parentObj', context), prefix);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, selectAll, closest } from './dom';\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { EventHandler } from './event-handler';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\n/**\n * The Animation framework provide options to animate the html DOM elements\n * ```typescript\n *   let animeObject = new Animation({\n *      name: 'SlideLeftIn',\n *      duration: 1000\n *   });\n *   animeObject.animate('#anime1');\n *   animeObject.animate('#anime2', { duration: 500 });\n * ```\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation(options) {\n        var _this = _super.call(this, options, undefined) || this;\n        /**\n         * @private\n         */\n        _this.easing = {\n            ease: 'cubic-bezier(0.250, 0.100, 0.250, 1.000)',\n            linear: 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\n            easeIn: 'cubic-bezier(0.420, 0.000, 1.000, 1.000)',\n            easeOut: 'cubic-bezier(0.000, 0.000, 0.580, 1.000)',\n            easeInOut: 'cubic-bezier(0.420, 0.000, 0.580, 1.000)',\n            elasticInOut: 'cubic-bezier(0.5,-0.58,0.38,1.81)',\n            elasticIn: 'cubic-bezier(0.17,0.67,0.59,1.81)',\n            elasticOut: 'cubic-bezier(0.7,-0.75,0.99,1.01)'\n        };\n        return _this;\n    }\n    Animation_1 = Animation;\n    /**\n     * Applies animation to the current element.\n     * @param {string | HTMLElement} element - Element which needs to be animated.\n     * @param {AnimationModel} options - Overriding default animation settings.\n     * @return {void}\n     */\n    Animation.prototype.animate = function (element, options) {\n        options = !options ? {} : options;\n        var model = this.getModel(options);\n        if (typeof element === 'string') {\n            var elements = Array.prototype.slice.call(selectAll(element, document));\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var element_1 = elements_1[_i];\n                model.element = element_1;\n                Animation_1.delayAnimation(model);\n            }\n        }\n        else {\n            model.element = element;\n            Animation_1.delayAnimation(model);\n        }\n    };\n    /**\n     * Stop the animation effect on animated element.\n     * @param {HTMLElement} element - Element which needs to be stop the animation.\n     * @param {AnimationOptions} model - Handling the animation model at stop function.\n     * @return {void}\n     */\n    Animation.stop = function (element, model) {\n        element.style.animation = '';\n        element.removeAttribute('e-animate');\n        var animationId = element.getAttribute('e-animation-id');\n        if (animationId) {\n            var frameId = parseInt(animationId, 10);\n            cancelAnimationFrame(frameId);\n            element.removeAttribute('e-animation-id');\n        }\n        if (model && model.end) {\n            model.end.call(this, model);\n        }\n    };\n    /**\n     * Set delay to animation element\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.delayAnimation = function (model) {\n        if (model.delay) {\n            setTimeout(function () { Animation_1.applyAnimation(model); }, model.delay);\n        }\n        else {\n            Animation_1.applyAnimation(model);\n        }\n    };\n    /**\n     * Triggers animation\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.applyAnimation = function (model) {\n        var _this = this;\n        model.timeStamp = 0;\n        var step = 0;\n        var timerId = 0;\n        var startTime = 0;\n        var prevTimeStamp = 0;\n        var duration = model.duration;\n        model.element.setAttribute('e-animate', 'true');\n        var startAnimation = function (timeStamp) {\n            try {\n                if (timeStamp) {\n                    // let step: number = model.timeStamp = timeStamp - startTime;\n                    /** phantomjs workaround for timestamp fix */\n                    prevTimeStamp = prevTimeStamp === 0 ? timeStamp : prevTimeStamp;\n                    model.timeStamp = (timeStamp + model.timeStamp) - prevTimeStamp;\n                    prevTimeStamp = timeStamp;\n                    /** phantomjs workaround end */\n                    // trigger animation begin event\n                    if (!step && model.begin) {\n                        model.begin.call(_this, model);\n                    }\n                    step = step + 1;\n                    var avg = model.timeStamp / step;\n                    if (model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute('e-animate')) {\n                        // apply animation effect to the current element                \n                        model.element.style.animation = model.name + ' ' + model.duration + 'ms ' + model.timingFunction;\n                        if (model.progress) {\n                            model.progress.call(_this, model);\n                        }\n                        // repeat requestAnimationFrame \n                        requestAnimationFrame(startAnimation);\n                    }\n                    else {\n                        // clear requestAnimationFrame\n                        cancelAnimationFrame(timerId);\n                        model.element.removeAttribute('e-animation-id');\n                        model.element.removeAttribute('e-animate');\n                        model.element.style.animation = '';\n                        if (model.end) {\n                            model.end.call(_this, model);\n                        }\n                    }\n                }\n                else {\n                    startTime = performance.now();\n                    // set initial requestAnimationFrame\n                    timerId = requestAnimationFrame(startAnimation);\n                    model.element.setAttribute('e-animation-id', timerId.toString());\n                }\n            }\n            catch (e) {\n                cancelAnimationFrame(timerId);\n                model.element.removeAttribute('e-animation-id');\n                if (model.fail) {\n                    model.fail.call(_this, e);\n                }\n            }\n        };\n        startAnimation();\n    };\n    /**\n     * Returns Animation Model\n     * @param {AnimationModel} options\n     * @returns {AnimationModel}\n     */\n    Animation.prototype.getModel = function (options) {\n        return {\n            name: options.name || this.name,\n            delay: options.delay || this.delay,\n            duration: (options.duration !== undefined ? options.duration : this.duration),\n            begin: options.begin || this.begin,\n            end: options.end || this.end,\n            fail: options.fail || this.fail,\n            progress: options.progress || this.progress,\n            timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] :\n                (options.timingFunction || this.easing[this.timingFunction])\n        };\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // no code needed\n    };\n    /**\n     * Returns module name as animation\n     * @private\n     */\n    Animation.prototype.getModuleName = function () {\n        return 'animation';\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.destroy = function () {\n        //Override base destroy;\n    };\n    __decorate([\n        Property('FadeIn')\n    ], Animation.prototype, \"name\", void 0);\n    __decorate([\n        Property(400)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], Animation.prototype, \"timingFunction\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"fail\", void 0);\n    Animation = Animation_1 = __decorate([\n        NotifyPropertyChanges\n    ], Animation);\n    return Animation;\n    var Animation_1;\n}(Base));\nexport { Animation };\n/**\n * Ripple provides material theme's wave effect when an element is clicked\n * ```html\n * <div id='ripple'></div>\n * <script>\n *   rippleEffect(document.getElementById('ripple'));\n * </script>\n * ```\n * @private\n * @param HTMLElement element - Target element\n * @param RippleOptions rippleOptions - Ripple options .\n */\nexport function rippleEffect(element, rippleOptions, done) {\n    var rippleModel = getRippleModel(rippleOptions);\n    if (rippleModel.rippleFlag === false || (rippleModel.rippleFlag === undefined && !isRippleEnabled)) {\n        return Function;\n    }\n    element.setAttribute('data-ripple', 'true');\n    EventHandler.add(element, 'mousedown', rippleHandler, { parent: element, rippleOptions: rippleModel });\n    EventHandler.add(element, 'mouseup', rippleUpHandler, { parent: element, rippleOptions: rippleModel, done: done });\n    EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    if (Browser.isPointer) {\n        EventHandler.add(element, 'transitionend', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    }\n    return (function () {\n        element.removeAttribute('data-ripple');\n        EventHandler.remove(element, 'mousedown', rippleHandler);\n        EventHandler.remove(element, 'mouseup', rippleUpHandler);\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n        EventHandler.remove(element, 'transitionend', rippleLeaveHandler);\n    });\n}\nfunction getRippleModel(rippleOptions) {\n    var rippleModel = {\n        selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,\n        ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,\n        rippleFlag: rippleOptions && rippleOptions.rippleFlag,\n        isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,\n        duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350\n    };\n    return rippleModel;\n}\n/**\n * Handler for ripple event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleHandler(e) {\n    var target = (e.target);\n    var selector = this.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (this.rippleOptions && closest(target, this.rippleOptions.ignore))) {\n        return;\n    }\n    var offset = element.getBoundingClientRect();\n    var offsetX = e.pageX - document.body.scrollLeft;\n    var offsetY = e.pageY - document.body.scrollTop;\n    var pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right));\n    var pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom));\n    var radius = Math.sqrt(pageX * pageX + pageY * pageY);\n    var diameter = radius * 2 + 'px';\n    var x = offsetX - offset.left - radius;\n    var y = offsetY - offset.top - radius;\n    if (this.rippleOptions && this.rippleOptions.isCenterRipple) {\n        x = 0;\n        y = 0;\n        diameter = '100%';\n    }\n    element.classList.add('e-ripple');\n    var duration = this.rippleOptions.duration.toString();\n    var styles = 'width: ' + diameter + ';height: ' + diameter + ';left: ' + x + 'px;top: ' + y + 'px;' +\n        'transition-duration: ' + duration + 'ms;';\n    var rippleElement = createElement('div', { className: 'e-ripple-element', styles: styles });\n    element.appendChild(rippleElement);\n    window.getComputedStyle(rippleElement).getPropertyValue('opacity');\n    rippleElement.style.transform = 'scale(1)';\n    if (element !== this.parent) {\n        EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: this.parent, rippleOptions: this.rippleOptions });\n    }\n}\n/**\n * Handler for ripple element mouse up event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleUpHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for ripple element mouse move event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleLeaveHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for removing ripple element\n * @param {MouseEvent} e\n * @param {rippleArgs} eventArgs\n * @returns {void}\n * @private\n */\nfunction removeRipple(e, eventArgs) {\n    var duration = eventArgs.rippleOptions.duration;\n    var target = (e.target);\n    var selector = eventArgs.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (element && element.className.indexOf('e-ripple') === -1)) {\n        return;\n    }\n    var rippleElements = selectAll('.e-ripple-element', element);\n    var rippleElement = rippleElements[rippleElements.length - 1];\n    if (rippleElement) {\n        rippleElement.style.opacity = '0.5';\n    }\n    if (eventArgs.parent !== element) {\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n    }\n    /* tslint:disable:align */\n    setTimeout(function () {\n        if (rippleElement && rippleElement.parentNode) {\n            rippleElement.parentNode.removeChild(rippleElement);\n        }\n        if (!element.getElementsByClassName('e-ripple-element').length) {\n            element.classList.remove('e-ripple');\n        }\n        if (eventArgs.done) {\n            eventArgs.done(e);\n        }\n    }, duration);\n}\nexport var isRippleEnabled = false;\n/**\n * Animation Module provides support to enable ripple effect functionality to Essential JS 2 components.\n * @param {boolean} isRipple Specifies the boolean value to enable or disable ripple effect.\n * @returns {boolean}\n */\nexport function enableRipple(isRipple) {\n    isRippleEnabled = isRipple;\n    return isRippleEnabled;\n}\n","import { DateFormat } from './intl/date-formatter';\nimport { NumberFormat } from './intl/number-formatter';\nimport { DateParser } from './intl/date-parser';\nimport { NumberParser } from './intl/number-parser';\nimport { IntlBase } from './intl/intl-base';\nimport { extend, getValue } from './util';\nimport { Observer } from './observer';\n/**\n * Specifies the observer used for external change detection.\n */\nexport var onIntlChange = new Observer();\n/**\n * Specifies the default rtl status for EJ2 components.\n */\nexport var rightToLeft = false;\n/**\n * Specifies the CLDR data loaded for internationalization functionalities.\n * @private\n */\nexport var cldrData = {};\n/**\n * Specifies the default culture value to be considered.\n * @private\n */\nexport var defaultCulture = 'en-US';\n/**\n * Specifies default currency code to be considered\n * @private\n */\nexport var defaultCurrencyCode = 'USD';\nvar mapper = ['numericObject', 'dateObject'];\n/**\n * Internationalization class provides support to parse and format the number and date object to the desired format.\n * ```typescript\n * // To set the culture globally\n * setCulture('en-GB');\n *\n * // To set currency code globally\n * setCurrencyCode('EUR');\n *\n * //Load cldr data\n * loadCldr(gregorainData);\n * loadCldr(timeZoneData);\n * loadCldr(numbersData);\n * loadCldr(numberSystemData);\n *\n * // To use formatter in component side\n * let Intl:Internationalization = new Internationalization();\n *\n * // Date formatting\n * let dateFormatter: Function = Intl.getDateFormat({skeleton:'long',type:'dateTime'});\n * dateFormatter(new Date('11/2/2016'));\n * dateFormatter(new Date('25/2/2030'));\n * Intl.formatDate(new Date(),{skeleton:'E'});\n *\n * //Number formatting\n * let numberFormatter: Function = Intl.getNumberFormat({skeleton:'C5'})\n * numberFormatter(24563334);\n * Intl.formatNumber(123123,{skeleton:'p2'});\n *\n * // Date parser\n * let dateParser: Function = Intl.getDateParser({skeleton:'short',type:'time'});\n * dateParser('10:30 PM');\n * Intl.parseDate('10',{skeleton:'H'});\n * ```\n */\nvar Internationalization = /** @class */ (function () {\n    function Internationalization(cultureName) {\n        if (cultureName) {\n            this.culture = cultureName;\n        }\n    }\n    /**\n     * Returns the format function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getDateFormat = function (options) {\n        return DateFormat.dateFormat(this.getCulture(), options || { type: 'date', skeleton: 'short' }, cldrData);\n    };\n    /**\n     * Returns the format function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberFormat = function (options) {\n        if (options && !options.currency) {\n            options.currency = defaultCurrencyCode;\n        }\n        return NumberFormat.numberFormatter(this.getCulture(), options || {}, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     * @private\n     */\n    Internationalization.prototype.getDateParser = function (options) {\n        return DateParser.dateParser(this.getCulture(), options || { skeleton: 'short', type: 'date' }, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberParser = function (options) {\n        return NumberParser.numberParser(this.getCulture(), options || { format: 'N' }, cldrData);\n    };\n    /**\n     * Returns the formatted string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {NumberFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatNumber = function (value, option) {\n        return this.getNumberFormat(option)(value);\n    };\n    /**\n     * Returns the formatted date string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {DateFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatDate = function (value, option) {\n        return this.getDateFormat(option)(value);\n    };\n    /**\n     * Returns the date object for given date string and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {DateFormatOptions} option - Specifies the parse options in which the date string will be parsed.\n     * @returns {Date}\n     */\n    Internationalization.prototype.parseDate = function (value, option) {\n        return this.getDateParser(option)(value);\n    };\n    /**\n     * Returns the number object from the given string value and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {NumberFormatOptions} option - Specifies the parse options in which the  string number  will be parsed.\n     * @returns {number}\n     */\n    Internationalization.prototype.parseNumber = function (value, option) {\n        return this.getNumberParser(option)(value);\n    };\n    /**\n     * Returns Native Date Time Pattern\n     * @param {DateFormatOptions} option - Specifies the parse options for resultant date time pattern.\n     * @param {boolean} isExcelFormat - Specifies format value to be converted to excel pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getDatePattern = function (option, isExcelFormat) {\n        return IntlBase.getActualDateTimeFormat(this.getCulture(), option, cldrData, isExcelFormat);\n    };\n    /**\n     * Returns Native Number Pattern\n     * @param {NumberFormatOptions} option - Specifies the parse options for resultant number pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getNumberPattern = function (option) {\n        return IntlBase.getActualNumberFormat(this.getCulture(), option, cldrData);\n    };\n    Internationalization.prototype.getCulture = function () {\n        return this.culture || defaultCulture;\n    };\n    return Internationalization;\n}());\nexport { Internationalization };\n/**\n * Set the default culture to all EJ2 components\n * @param {string} cultureName - Specifies the culture name to be set as default culture.\n */\nexport function setCulture(cultureName) {\n    defaultCulture = cultureName;\n    onIntlChange.notify('notifyExternalChange', { 'locale': defaultCulture });\n}\n/**\n * Set the default currency code to all EJ2 components\n * @param {string} currencyCode Specifies the culture name to be set as default culture.\n * @returns {void}\n */\nexport function setCurrencyCode(currencyCode) {\n    defaultCurrencyCode = currencyCode;\n    onIntlChange.notify('notifyExternalChange', { 'currencyCode': defaultCurrencyCode });\n}\n/**\n * Load the CLDR data into context\n * @param {Object[]} obj Specifies the CLDR data's to be used for formatting and parser.\n * @returns {void}\n */\nexport function loadCldr() {\n    var data = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        data[_i] = arguments[_i];\n    }\n    for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n        var obj = data_1[_a];\n        extend(cldrData, obj, {}, true);\n    }\n}\n/**\n * To enable or disable RTL functionality for all components globally.\n * @param {boolean} status - Optional argument Specifies the status value to enable or disable rtl option.\n * @returns {void}\n */\nexport function enableRtl(status) {\n    if (status === void 0) { status = true; }\n    rightToLeft = status;\n    onIntlChange.notify('notifyExternalChange', { enableRtl: rightToLeft });\n}\n/**\n * To get the numeric CLDR object for given culture\n * @param {string} locale - Specifies the locale for which numericObject to be returned.\n * @ignore\n * @private\n */\nexport function getNumericObject(locale, type) {\n    /* tslint:disable no-any */\n    var numObject = IntlBase.getDependables(cldrData, locale, true)[mapper[0]];\n    var dateObject = IntlBase.getDependables(cldrData, locale)[mapper[1]];\n    var numSystem = getValue('defaultNumberingSystem', numObject);\n    var symbPattern = getValue('symbols-numberSystem-' + numSystem, numObject);\n    var pattern = IntlBase.getSymbolPattern(type || 'decimal', numSystem, numObject, false);\n    return extend(symbPattern, IntlBase.getFormatData(pattern, true, '', true), { 'dateSeparator': IntlBase.getDateSeparator(dateObject) });\n}\n/**\n * To get the default date CLDR object.\n * @ignore\n * @private\n */\nexport function getDefaultDateObject() {\n    return IntlBase.getDependables(cldrData, '', false)[mapper[1]];\n}\n","/**\n * Template Engine\n */\nvar LINES = new RegExp('\\\\n|\\\\r|\\\\s\\\\s+', 'g');\nvar QUOTES = new RegExp(/'|\"/g);\nvar IF_STMT = new RegExp('if ?\\\\(');\nvar ELSE_STMT = new RegExp('else');\nvar FOR_STMT = new RegExp('for ?\\\\(');\nvar IF_OR_FOR = new RegExp('(\\/if|\\/for)');\nvar CALL_FUNCTION = new RegExp('\\\\((.*)\\\\)', '');\nvar NOT_NUMBER = new RegExp('^[0-9]+$', 'g');\nvar WORD = new RegExp('[\\\\w\"\\'.\\\\s+]+', 'g');\nvar DBL_QUOTED_STR = new RegExp('\"(.*?)\"', 'g');\nvar exp = new RegExp('\\\\${([^}]*)}', 'g');\n// let cachedTemplate: Object = {};\n/**\n * The function to set regular expression for template expression string.\n * @param  {RegExp} value - Value expression.\n * @private\n */\nexport function expression(value) {\n    if (value) {\n        exp = value;\n    }\n    return exp;\n}\n// /**\n//  * To render the template string from the given data.\n//  * @param  {string} template - String Template.\n//  * @param  {Object[]|JSON} data - DataSource for the template.\n//  * @param  {Object} helper? - custom helper object.\n//  */\n// export function template(template: string, data: JSON, helper?: Object): string {\n//     let hash: string = hashCode(template);\n//     let tmpl: Function;\n//     if (!cachedTemplate[hash]) {\n//         tmpl = cachedTemplate[hash] = compile(template, helper);\n//     } else {\n//         tmpl = cachedTemplate[hash];\n//     }\n//     return tmpl(data);\n// }\n/**\n * Compile the template string into template function.\n * @param  {string} template - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\nexport function compile(template, helper) {\n    var argName = 'data';\n    var evalExpResult = evalExp(template, argName, helper);\n    var fnCode = \"var str=\\\"\" + evalExpResult + \"\\\"; return str;\";\n    // tslint:disable-next-line:no-function-constructor-with-string-args\n    var fn = new Function(argName, fnCode);\n    return fn.bind(helper);\n}\n// function used to evaluate the function expression\nfunction evalExp(str, nameSpace, helper) {\n    /**\n     * Variable containing Local Keys\n     */\n    var localKeys = [];\n    return str.replace(LINES, '').replace(DBL_QUOTED_STR, '\\'$1\\'').replace(exp, function (match, cnt, offset, matchStr) {\n        var matches = cnt.match(CALL_FUNCTION);\n        // matches to detect any function calls\n        if (matches) {\n            var rlStr = matches[1];\n            if (IF_STMT.test(cnt)) {\n                //handling if condition\n                cnt = '\"; ' + cnt.replace(matches[1], rlStr.replace(WORD, function (str) {\n                    str = str.trim();\n                    return addNameSpace(str, !(QUOTES.test(str)) && (localKeys.indexOf(str) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (FOR_STMT.test(cnt)) {\n                //handling for condition\n                var rlStr_1 = matches[1].split(' of ');\n                // replace for each into actual JavaScript\n                cnt = '\"; ' + cnt.replace(matches[1], function (mtc) {\n                    localKeys.push(rlStr_1[0]);\n                    localKeys.push(rlStr_1[0] + 'Index');\n                    return 'var i=0; i < ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys) + '.length; i++';\n                }) + '{ \\n ' + rlStr_1[0] + '= ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys)\n                    + '[i]; \\n var ' + rlStr_1[0] + 'Index=i; \\n str = str + \"';\n            }\n            else {\n                //helper function handling\n                var fnStr = cnt.split('(');\n                var fNameSpace = (helper && helper.hasOwnProperty(fnStr[0]) ? 'this.' : 'global');\n                fNameSpace = (/\\./.test(fnStr[0]) ? '' : fNameSpace);\n                cnt = '\" + ' + (fNameSpace === 'global' ? '' : fNameSpace) +\n                    cnt.replace(rlStr, addNameSpace(matches[1].replace(',', nameSpace + '.'), (fNameSpace === 'global' ? false : true), nameSpace, localKeys)) +\n                    '+\"';\n            }\n        }\n        else if (ELSE_STMT.test(cnt)) {\n            //handling else condition\n            cnt = '\"; ' + cnt.replace(ELSE_STMT, '} else { \\n str = str + \"');\n        }\n        else if (!!cnt.match(IF_OR_FOR)) {\n            // close condition \n            cnt = cnt.replace(IF_OR_FOR, '\"; \\n } \\n str = str + \"');\n        }\n        else {\n            // evaluate normal expression\n            cnt = '\"+' + addNameSpace(cnt, (localKeys.indexOf(cnt) === -1), nameSpace, localKeys) + '+\"';\n        }\n        return cnt;\n    });\n}\nfunction addNameSpace(str, addNS, nameSpace, ignoreList) {\n    return ((addNS && !(NOT_NUMBER.test(str)) && ignoreList.indexOf(str.split('.')[0]) === -1) ? nameSpace + '.' + str : str);\n}\n// // Create hashCode for template string to storeCached function\n// function hashCode(str: string): string {\n//     return str.split('').reduce((a: number, b: string) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a; }, 0).toString();\n// }\n","/**\n * Template Engine Bridge\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nvar HAS_ROW = /^[\\n\\r.]+\\<tr|^\\<tr/;\n/**\n * Compile the template string into template function.\n * @param  {string} templateString - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\n//tslint:disable-next-line\nexport function compile(templateString, helper) {\n    var compiler = engineObj.compile(templateString, helper);\n    //tslint:disable-next-line\n    return function (data, component, propName) {\n        var result = compiler(data, component, propName);\n        if (typeof result === 'string') {\n            var ele = createElement((HAS_ROW.test(result) ? 'table' : 'div'), { innerHTML: result });\n            return ele.childNodes;\n        }\n        else {\n            return result;\n        }\n    };\n}\n/**\n * Set your custom template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function setTemplateEngine(classObj) {\n    engineObj.compile = classObj.compile;\n}\n/**\n * Get current template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function getTemplateEngine() {\n    return engineObj.compile;\n}\n//Default Engine Class\nvar Engine = /** @class */ (function () {\n    function Engine() {\n    }\n    Engine.prototype.compile = function (templateString, helper) {\n        if (helper === void 0) { helper = {}; }\n        return render(templateString, helper);\n    };\n    return Engine;\n}());\nvar engineObj = { compile: new Engine().compile };\n","/**\n * Specifies Chart Themes\n */\nexport var Theme;\n(function (Theme) {\n    /** @private */\n    Theme.axisLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisTitleFont = {\n        size: '14px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.chartTitleFont = {\n        size: '15px',\n        fontWeight: '500',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.crosshairLabelFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.tooltipLabelFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.legendLabelFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.stripLineLabelFont = {\n        size: '12px',\n        fontWeight: 'Regular',\n        color: '#353535',\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n})(Theme || (Theme = {}));\n/** @private */\nexport function getSeriesColor(theme) {\n    var palette;\n    switch (theme) {\n        case 'Fabric':\n            palette = ['#4472c4', '#ed7d31', '#ffc000', '#70ad47', '#5b9bd5',\n                '#c1c1c1', '#6f6fe2', '#e269ae', '#9e480e', '#997300'];\n            break;\n        case 'Bootstrap':\n            palette = ['#a16ee5', '#f7ce69', '#55a5c2', '#7ddf1e', '#ff6ea6',\n                '#7953ac', '#b99b4f', '#407c92', '#5ea716', '#b91c52'];\n            break;\n        case 'Highcontrast':\n            palette = ['#79ECE4', '#E98272', '#DFE6B6', '#C6E773', '#BA98FF',\n                '#FA83C3', '#00C27A', '#43ACEF', '#D681EF', '#D8BC6E'];\n            break;\n        default:\n            palette = ['#00bdae', '#404041', '#357cd2', '#e56590', '#f8b883',\n                '#70ad47', '#dd8abd', '#7f84e8', '#7bb4eb', '#ea7a57'];\n            break;\n    }\n    return palette;\n}\n/** @private */\nexport function getThemeColor(theme) {\n    var style;\n    switch (theme) {\n        case 'Highcontrast':\n            style = {\n                axisLabel: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLine: '#ffffff',\n                majorGridLine: '#BFBFBF',\n                minorGridLine: '#969696',\n                majorTickLine: '#BFBFBF',\n                minorTickLine: '#969696',\n                chartTitle: '#ffffff',\n                legendLabel: '#ffffff',\n                background: '#000000',\n                areaBorder: '#ffffff',\n                errorBar: '#ffffff',\n                crosshairLine: '#ffffff',\n                crosshairFill: '#ffffff',\n                crosshairLabel: '#000000',\n                tooltipFill: '#ffffff',\n                tooltipBoldLabel: '#000000',\n                tooltipLightLabel: '#000000',\n                tooltipHeaderLine: '#969696',\n                markerShadow: '#BFBFBF',\n                selectionRectFill: 'rgba(255, 217, 57, 0.3)',\n                selectionRectStroke: '#ffffff',\n                selectionCircleStroke: '#FFD939'\n            };\n            break;\n        default:\n            style = {\n                axisLabel: '#686868',\n                axisTitle: '#424242',\n                axisLine: '#b5b5b5',\n                majorGridLine: '#dbdbdb',\n                minorGridLine: '#eaeaea',\n                majorTickLine: '#b5b5b5',\n                minorTickLine: '#d6d6d6',\n                chartTitle: '#424242',\n                legendLabel: '#353535',\n                background: '#FFFFFF',\n                areaBorder: 'Gray',\n                errorBar: '#000000',\n                crosshairLine: '#4f4f4f',\n                crosshairFill: '#4f4f4f',\n                crosshairLabel: '#e5e5e5',\n                tooltipFill: 'rgba(0, 8, 22, 0.75)',\n                tooltipBoldLabel: '#ffffff',\n                tooltipLightLabel: '#dbdbdb',\n                tooltipHeaderLine: '#ffffff',\n                markerShadow: null,\n                selectionRectFill: 'rgba(41, 171, 226, 0.1)',\n                selectionRectStroke: '#29abe2',\n                selectionCircleStroke: '#29abe2'\n            };\n            break;\n    }\n    return style;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { SvgRenderer, Animation, compile as templateComplier } from '@syncfusion/ej2-base';\nimport { merge, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { createElement, remove } from '@syncfusion/ej2-base';\nimport { Index } from '../../common/model/base';\n/**\n * Methods for calculating the text size.\n */\n/**\n * Function to measure the height and width of the text.\n * @param  {string} text\n * @param  {FontModel} font\n * @param  {string} id\n * @returns no\n * @private\n */\nexport function measureText(text, font) {\n    var htmlObject = document.getElementById('chartmeasuretext');\n    if (htmlObject === null) {\n        htmlObject = createElement('text', { id: 'chartmeasuretext' });\n        document.body.appendChild(htmlObject);\n    }\n    htmlObject.innerHTML = text;\n    htmlObject.style.position = 'absolute';\n    htmlObject.style.fontSize = font.size;\n    htmlObject.style.fontWeight = font.fontWeight;\n    htmlObject.style.fontStyle = font.fontStyle;\n    htmlObject.style.fontFamily = font.fontFamily;\n    htmlObject.style.visibility = 'hidden';\n    htmlObject.style.top = '-100';\n    htmlObject.style.left = '0';\n    htmlObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    htmlObject.style.lineHeight = 'normal';\n    return new Size(htmlObject.clientWidth, htmlObject.clientHeight);\n}\n/**\n * Function to sort the dataSource, by default it sort the data in ascending order.\n * @param  {Object} data\n * @param  {string} fields\n * @param  {boolean} isDescending\n * @returns Object\n */\nexport function sort(data, fields, isDescending) {\n    var sortData = extend([], data, null);\n    sortData.sort(function (a, b) {\n        var first = 0;\n        var second = 0;\n        for (var i = 0; i < fields.length; i++) {\n            first += a[fields[i]];\n            second += b[fields[i]];\n        }\n        if ((!isDescending && first < second) || (isDescending && first > second)) {\n            return -1;\n        }\n        else if (first === second) {\n            return 0;\n        }\n        return 1;\n    });\n    return sortData;\n}\n/** @private */\nexport function rotateTextSize(font, text, angle, chart) {\n    var renderer = new SvgRenderer(chart.element.id);\n    var box;\n    var options;\n    var htmlObject;\n    options = {\n        'font-size': font.size,\n        'font-style': font.fontStyle,\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight,\n        'transform': 'rotate(' + angle + ', 0, 0)',\n        'text-anchor': 'middle'\n    };\n    htmlObject = renderer.createText(options, text);\n    if (!chart.delayRedraw) {\n        chart.element.appendChild(chart.svgObject);\n    }\n    chart.svgObject.appendChild(htmlObject);\n    box = htmlObject.getBoundingClientRect();\n    remove(htmlObject);\n    if (!chart.delayRedraw) {\n        remove(chart.svgObject);\n    }\n    return new Size((box.right - box.left), (box.bottom - box.top));\n}\n/** @private */\nexport function removeElement(id) {\n    var element = getElement(id);\n    if (element) {\n        remove(element);\n    }\n}\n/** @private */\nexport function logBase(value, base) {\n    return Math.log(value) / Math.log(base);\n}\n/** @private */\nexport function showTooltip(text, x, y, areaWidth, id, element, isTouch) {\n    //let id1: string = 'EJ2_legend_tooltip';\n    var tooltip = document.getElementById(id);\n    var width = measureText(text, {\n        fontFamily: 'Segoe UI', size: '12px',\n        fontStyle: 'Normal', fontWeight: 'Regular'\n    }).width + 5;\n    x = (x + width > areaWidth) ? x - width : x;\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            innerHTML: text,\n            id: id,\n            styles: 'top:' + (y + 15).toString() + 'px;left:' + (x + 15).toString() + 'px;background-color: rgb(255, 255, 255);' +\n                'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;' +\n                'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: \"Segoe UI\"'\n        });\n        element.appendChild(tooltip);\n    }\n    else {\n        tooltip.innerHTML = text;\n        tooltip.style.top = (y + 15).toString() + 'px';\n        tooltip.style.left = (x + 15).toString() + 'px';\n    }\n    if (isTouch) {\n        setTimeout(function () { removeElement(id); }, 1500);\n    }\n}\n/** @private */\nexport function inside(value, range) {\n    return (value < range.max) && (value > range.min);\n}\n/** @private */\nexport function withIn(value, range) {\n    return (value <= range.max) && (value >= range.min);\n}\n/** @private */\nexport function withInRange(previousPoint, currentPoint, nextPoint, series) {\n    var mX2 = series.logWithIn(currentPoint.xValue, series.xAxis);\n    var mX1 = previousPoint ? series.logWithIn(previousPoint.xValue, series.xAxis) : mX2;\n    var mX3 = nextPoint ? series.logWithIn(nextPoint.xValue, series.xAxis) : mX2;\n    var xStart = Math.floor(series.xAxis.visibleRange.min);\n    var xEnd = Math.ceil(series.xAxis.visibleRange.max);\n    return ((mX1 >= xStart && mX1 <= xEnd) || (mX2 >= xStart && mX2 <= xEnd) ||\n        (mX3 >= xStart && mX3 <= xEnd) || (xStart >= mX1 && xStart <= mX3));\n}\n/** @private */\nexport function sum(values) {\n    var sum = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        sum += value;\n    }\n    return sum;\n}\n/** @private */\nexport function subArraySum(values, first, last, index, series) {\n    var sum = 0;\n    if (index !== null) {\n        for (var i = (first + 1); i < last; i++) {\n            if (index.indexOf(i) === -1) {\n                sum += values[i][series.yName];\n            }\n        }\n    }\n    else {\n        for (var i = (first + 1); i < last; i++) {\n            if (!isNullOrUndefined(values[i][series.yName])) {\n                sum += values[i][series.yName];\n            }\n        }\n    }\n    return sum;\n}\n/** @private */\nexport function subtractThickness(rect, thickness) {\n    rect.x += thickness.left;\n    rect.y += thickness.top;\n    rect.width -= thickness.left + thickness.right;\n    rect.height -= thickness.top + thickness.bottom;\n    return rect;\n}\n/** @private */\nexport function subtractRect(rect, thickness) {\n    rect.x += thickness.x;\n    rect.y += thickness.y;\n    rect.width -= thickness.x + thickness.width;\n    rect.height -= thickness.y + thickness.height;\n    return rect;\n}\n/** @private */\nexport function degreeToLocation(degree, radius, center) {\n    var radian = (degree * Math.PI) / 180;\n    return new ChartLocation(Math.cos(radian) * radius + center.x, Math.sin(radian) * radius + center.y);\n}\nfunction getAccumulationLegend(locX, locY, r, height, width, mode) {\n    var cartesianlarge = degreeToLocation(270, r, new ChartLocation(locX, locY));\n    var cartesiansmall = degreeToLocation(270, r, new ChartLocation(locX + (width / 10), locY));\n    return 'M' + ' ' + locX + ' ' + locY + ' ' + 'L' + ' ' + (locX + r) + ' ' + (locY) + ' ' + 'A' + ' ' + (r) + ' ' + (r) +\n        ' ' + 0 + ' ' + 1 + ' ' + 1 + ' ' + cartesianlarge.x + ' ' + cartesianlarge.y + ' ' + 'Z' + ' ' + 'M' + ' ' + (locX +\n        (width / 10)) + ' ' + (locY - (height / 10)) + ' ' + 'L' + (locX + (r)) + ' ' + (locY - height / 10) + ' ' + 'A' + ' '\n        + (r) + ' ' + (r) + ' ' + 0 + ' ' + 0 + ' ' + 0 + ' ' + cartesiansmall.x + ' ' + cartesiansmall.y + ' ' + 'Z';\n}\n/** @private */\nexport function getAngle(center, point) {\n    var angle = Math.atan2((point.y - center.y), (point.x - center.x));\n    angle = angle < 0 ? (6.283 + angle) : angle;\n    return angle * (180 / Math.PI);\n}\n/** @private */\nexport function subArray(values, index) {\n    var subArray = [];\n    for (var i = 0; i <= index - 1; i++) {\n        subArray.push(values[i]);\n    }\n    return subArray;\n}\n/** @private */\nexport function valueToCoefficient(value, axis) {\n    var range = axis.visibleRange;\n    var result = (value - range.min) / (range.delta);\n    return axis.isInversed ? (1 - result) : result;\n}\n/** @private */\nexport function TransformToVisible(x, y, xAxis, yAxis, isInverted, series) {\n    x = (xAxis.valueType === 'Logarithmic' ? logBase(x > 1 ? x : 1, xAxis.logBase) : x);\n    y = (yAxis.valueType === 'Logarithmic' ?\n        logBase(y > 1 ? y : 1, yAxis.logBase) : y);\n    x += xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks' && series.type !== 'Radar' ? 0.5 : 0;\n    var radius = series.chart.radius * valueToCoefficient(y, yAxis);\n    var point = CoefficientToVector(valueToPolarCoefficient(x, xAxis), series.chart.primaryXAxis.startAngle);\n    return {\n        x: (series.clipRect.width / 2 + series.clipRect.x) + radius * point.x,\n        y: (series.clipRect.height / 2 + series.clipRect.y) + radius * point.y\n    };\n}\n/**\n * method to find series, point index by element id\n * @private\n */\nexport function indexFinder(id, isPoint) {\n    if (isPoint === void 0) { isPoint = false; }\n    var ids = ['NaN', 'NaN'];\n    if (id.indexOf('_Point_') > -1) {\n        ids = id.split('_Series_')[1].split('_Point_');\n    }\n    else if (id.indexOf('_shape_') > -1 && (!isPoint || (isPoint && id.indexOf('_legend_') === -1))) {\n        ids = id.split('_shape_');\n        ids[0] = '0';\n    }\n    else if (id.indexOf('_text_') > -1 && (!isPoint || (isPoint && id.indexOf('_legend_') === -1))) {\n        ids = id.split('_text_');\n        ids[0] = '0';\n    }\n    return new Index(parseInt(ids[0], 10), parseInt(ids[1], 10));\n}\n/** @private */\nexport function CoefficientToVector(coefficient, startAngle) {\n    startAngle = startAngle < 0 ? startAngle + 360 : startAngle;\n    var angle = Math.PI * (1.5 - 2 * coefficient);\n    angle = angle + (startAngle * Math.PI) / 180;\n    return { x: Math.cos(angle), y: Math.sin(angle) };\n}\n/** @private */\nexport function valueToPolarCoefficient(value, axis) {\n    var range = axis.visibleRange;\n    var delta;\n    var length;\n    if (axis.valueType !== 'Category') {\n        delta = (range.max - (axis.valueType === 'DateTime' ? axis.dateTimeInterval : range.interval)) - range.min;\n        length = axis.visibleLabels.length - 1;\n        delta = delta === 0 ? 1 : delta;\n    }\n    else {\n        delta = range.delta;\n        length = axis.visibleLabels.length;\n    }\n    return axis.isInversed ? ((value - range.min) / delta) * (1 - 1 / (length)) :\n        1 - ((value - range.min) / delta) * (1 - 1 / (length));\n}\n/** @private */\nvar Mean = /** @class */ (function () {\n    function Mean(verticalStandardMean, verticalSquareRoot, horizontalStandardMean, horizontalSquareRoot, verticalMean, horizontalMean) {\n        this.verticalStandardMean = verticalStandardMean;\n        this.horizontalStandardMean = horizontalStandardMean;\n        this.verticalSquareRoot = verticalSquareRoot;\n        this.horizontalSquareRoot = horizontalSquareRoot;\n        this.verticalMean = verticalMean;\n        this.horizontalMean = horizontalMean;\n    }\n    return Mean;\n}());\nexport { Mean };\n/** @private */\nvar PolarArc = /** @class */ (function () {\n    function PolarArc(startAngle, endAngle, innerRadius, radius, currentXPosition) {\n        this.startAngle = startAngle;\n        this.endAngle = endAngle;\n        this.innerRadius = innerRadius;\n        this.radius = radius;\n        this.currentXPosition = currentXPosition;\n    }\n    return PolarArc;\n}());\nexport { PolarArc };\n/** @private */\nexport function createTooltip(id, text, top, left, fontSize) {\n    var tooltip = getElement(id);\n    var style = 'top:' + top.toString() + 'px;' +\n        'left:' + left.toString() + 'px;' +\n        'background:' + '#FFFFFF' + ';' +\n        'position:absolute;border:1px solid #707070;font-size:' + fontSize + ';border-radius:2px;';\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            id: id, innerHTML: '&nbsp;' + text + '&nbsp;', styles: style\n        });\n        document.body.appendChild(tooltip);\n    }\n    else {\n        tooltip.setAttribute('innerHTML', '&nbsp;' + text + '&nbsp;');\n        tooltip.setAttribute('styles', style);\n    }\n}\n/** @private */\nexport function createZoomingLabels(chart, axis, parent, index, isVertical, rect) {\n    var margin = 5;\n    var opposedPosition = axis.opposedPosition;\n    var anchor = isVertical ? 'start' : 'auto';\n    var size;\n    var chartRect = chart.availableSize.width;\n    var x;\n    var y;\n    var rx = 3;\n    var arrowLocation;\n    var direction;\n    for (var i = 0; i < 2; i++) {\n        size = measureText(i ? axis.endLabel : axis.startLabel, axis.labelStyle);\n        if (isVertical) {\n            arrowLocation = i ? new ChartLocation(rect.x, rect.y + rx) :\n                new ChartLocation(axis.rect.x, (rect.y + rect.height - rx));\n            x = (rect.x + (opposedPosition ? (rect.width + margin) : -(size.width + margin + margin)));\n            y = (rect.y + (i ? 0 : rect.height - size.height - margin));\n            x += (x < 0 || ((chartRect) < (x + size.width + margin))) ? (opposedPosition ? -(size.width / 2) : size.width / 2) : 0;\n            direction = findDirection(rx, rx, new Rect(x, y, size.width + margin, size.height + margin), arrowLocation, margin, false, false, !opposedPosition, arrowLocation.x, arrowLocation.y + (i ? -rx : rx));\n        }\n        else {\n            arrowLocation = i ? new ChartLocation((rect.x + rect.width - rx), (rect.y + rect.height)) :\n                new ChartLocation(rect.x + rx, (rect.y + rect.height));\n            x = (rect.x + (i ? (rect.width - size.width - margin) : 0));\n            y = (opposedPosition ? (rect.y - size.height - 10) : (rect.y + rect.height + margin));\n            direction = findDirection(rx, rx, new Rect(x, y, size.width + margin, size.height + margin), arrowLocation, margin, opposedPosition, !opposedPosition, false, arrowLocation.x + (i ? rx : -rx), arrowLocation.y);\n        }\n        x = x + (margin / 2);\n        y = y + (3 * (size.height / 4)) + (margin / 2);\n        parent.appendChild(chart.renderer.drawPath(new PathOption(chart.element.id + '_Zoom_' + index + '_AxisLabel_Shape_' + i, '#414141', 2, '#414141', 1, null, direction)));\n        textElement(new TextOption(chart.element.id + '_Zoom_' + index + '_AxisLabel_' + i, x, y, anchor, i ? axis.endLabel : axis.startLabel), { color: 'white', fontFamily: 'Segoe UI', fontWeight: 'Regular', size: '11px' }, 'white', parent);\n    }\n    return parent;\n}\n//Within bounds\n/** @private */\nexport function withInBounds(x, y, bounds, width, height) {\n    if (width === void 0) { width = 0; }\n    if (height === void 0) { height = 0; }\n    return (x >= bounds.x - width && x <= bounds.x + bounds.width + width && y >= bounds.y - height\n        && y <= bounds.y + bounds.height + height);\n}\n/** @private */\nexport function getValueXByPoint(value, size, axis) {\n    var actualValue = !axis.isInversed ? value / size : (1 - (value / size));\n    return actualValue * (axis.visibleRange.delta) + axis.visibleRange.min;\n}\n/** @private */\nexport function getValueYByPoint(value, size, axis) {\n    var actualValue = axis.isInversed ? value / size : (1 - (value / size));\n    return actualValue * (axis.visibleRange.delta) + axis.visibleRange.min;\n}\n/** @private */\nexport function findClipRect(series) {\n    var rect = series.clipRect;\n    if (series.chart.requireInvertedAxis) {\n        rect.x = series.yAxis.rect.x;\n        rect.y = series.xAxis.rect.y;\n        rect.width = series.yAxis.rect.width;\n        rect.height = series.xAxis.rect.height;\n    }\n    else {\n        rect.x = series.xAxis.rect.x;\n        rect.y = series.yAxis.rect.y;\n        rect.width = series.xAxis.rect.width;\n        rect.height = series.yAxis.rect.height;\n    }\n}\n/** @private */\nexport function firstToLowerCase(str) {\n    return str.substr(0, 1).toLowerCase() + str.substr(1);\n}\n/** @private */\nexport function getMinPointsDelta(axis, seriesCollection) {\n    var minDelta = Number.MAX_VALUE;\n    var xValues;\n    var minVal;\n    seriesCollection.forEach(function (series, index) {\n        xValues = [];\n        if (series.visible &&\n            (axis.name === series.xAxisName || (axis.name === 'primaryXAxis' && series.xAxisName === null)\n                || (axis.name === series.chart.primaryXAxis.name && !series.xAxisName))) {\n            xValues = series.points.map(function (point, index) {\n                return point.xValue;\n            });\n            xValues.sort(function (first, second) { return first - second; });\n            if (xValues.length === 1) {\n                minVal = xValues[0] - ((series.xMin && series.xAxis.valueType !== 'DateTime') ?\n                    series.xMin : axis.visibleRange.min);\n                if (minVal !== 0) {\n                    minDelta = Math.min(minDelta, minVal);\n                }\n            }\n            else {\n                xValues.forEach(function (value, index, xValues) {\n                    if (index > 0 && value) {\n                        minVal = value - xValues[index - 1];\n                        if (minVal !== 0) {\n                            minDelta = Math.min(minDelta, minVal);\n                        }\n                    }\n                });\n            }\n        }\n    });\n    if (minDelta === Number.MAX_VALUE) {\n        minDelta = 1;\n    }\n    return minDelta;\n}\n/** @private */\nexport function getAnimationFunction(effect) {\n    var functionName;\n    switch (effect) {\n        case 'Linear':\n            functionName = linear;\n            break;\n    }\n    return functionName;\n}\n/**\n * Animation Effect Calculation Started Here\n * @param currentTime\n * @param startValue\n * @param endValue\n * @param duration\n * @private\n */\nexport function linear(currentTime, startValue, endValue, duration) {\n    return -endValue * Math.cos(currentTime / duration * (Math.PI / 2)) + endValue + startValue;\n}\n/**\n * Animation Effect Calculation End\n * @private\n */\nexport function markerAnimate(element, delay, duration, series, pointIndex, point, isLabel) {\n    var centerX = point.x;\n    var centerY = point.y;\n    var height = 0;\n    element.style.visibility = 'hidden';\n    new Animation({}).animate(element, {\n        duration: duration,\n        delay: delay,\n        progress: function (args) {\n            if (args.timeStamp > args.delay) {\n                args.element.style.visibility = 'visible';\n                height = ((args.timeStamp - args.delay) / args.duration);\n                element.setAttribute('transform', 'translate(' + centerX\n                    + ' ' + centerY + ') scale(' + height + ') translate(' + (-centerX) + ' ' + (-centerY) + ')');\n            }\n        },\n        end: function (model) {\n            element.style.visibility = '';\n            element.removeAttribute('transform');\n            if ((series.type === 'Scatter' || series.type === 'Bubble') && !isLabel && (pointIndex === series.points.length - 1)) {\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        }\n    });\n}\n/**\n * Animation for template\n * @private\n */\nexport function templateAnimate(element, delay, duration, name, isRemove) {\n    new Animation({}).animate(element, {\n        duration: duration,\n        delay: delay,\n        name: name,\n        progress: function (args) {\n            args.element.style.visibility = 'visible';\n        },\n        end: function (args) {\n            if (isRemove) {\n                remove(args.element);\n            }\n            else {\n                args.element.style.visibility = 'visible';\n            }\n        },\n    });\n}\n/** @private */\nexport function drawSymbol(location, shape, size, url, options, label) {\n    var functionName = 'Path';\n    var renderer = new SvgRenderer('');\n    var temp = calculateShapes(location, size, shape, options, url);\n    var htmlObject = renderer['draw' + temp.functionName](temp.renderOption);\n    htmlObject.setAttribute('aria-label', label);\n    return htmlObject;\n}\n/** @private */\nexport function calculateShapes(location, size, shape, options, url) {\n    var path;\n    var functionName = 'Path';\n    var width = size.width;\n    var height = size.height;\n    var locX = location.x;\n    var locY = location.y;\n    var x = location.x + (-width / 2);\n    var y = location.y + (-height / 2);\n    switch (shape) {\n        case 'Circle':\n        case 'Bubble':\n            functionName = 'Ellipse';\n            merge(options, { 'rx': width / 2, 'ry': height / 2, 'cx': locX, 'cy': locY });\n            break;\n        case 'Cross':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + locY + ' ' +\n                'M' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + locX + ' ' +\n                (locY + (-height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'HorizontalLine':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + locY;\n            merge(options, { 'd': path });\n            break;\n        case 'VerticalLine':\n            path = 'M' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + locX + ' ' + (locY + (-height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'Diamond':\n            path = 'M' + ' ' + x + ' ' + locY + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + locY + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + locY + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Rectangle':\n        case 'Hilo':\n        case 'HiloOpenClose':\n        case 'Candle':\n        case 'Waterfall':\n        case 'BoxAndWhisker':\n        case 'StepArea':\n            path = 'M' + ' ' + x + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (-height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pyramid':\n        case 'Triangle':\n            path = 'M' + ' ' + x + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (-height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (locY + (height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Funnel':\n        case 'InvertedTriangle':\n            path = 'M' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + locX + ' ' + (locY + (height / 2)) + ' ' +\n                'L' + ' ' + (locX - (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pentagon':\n            var eq = 72;\n            var xValue = void 0;\n            var yValue = void 0;\n            for (var i = 0; i <= 5; i++) {\n                xValue = (width / 2) * Math.cos((Math.PI / 180) * (i * eq));\n                yValue = (height / 2) * Math.sin((Math.PI / 180) * (i * eq));\n                if (i === 0) {\n                    path = 'M' + ' ' + (locX + xValue) + ' ' + (locY + yValue) + ' ';\n                }\n                else {\n                    path = path.concat('L' + ' ' + (locX + xValue) + ' ' + (locY + yValue) + ' ');\n                }\n            }\n            path = path.concat('Z');\n            merge(options, { 'd': path });\n            break;\n        case 'Image':\n            functionName = 'Image';\n            merge(options, { 'href': url, 'height': height, 'width': width, x: x, y: y });\n            break;\n    }\n    options = calculateLegendShapes(location, new Size(width, height), shape, options).renderOption;\n    return { renderOption: options, functionName: functionName };\n}\n/** @private */\nexport function getRectLocation(startLocation, endLocation, outerRect) {\n    var x;\n    var y;\n    x = (endLocation.x < outerRect.x) ? outerRect.x :\n        (endLocation.x > (outerRect.x + outerRect.width)) ? outerRect.x + outerRect.width : endLocation.x;\n    y = (endLocation.y < outerRect.y) ? outerRect.y :\n        (endLocation.y > (outerRect.y + outerRect.height)) ? outerRect.y + outerRect.height : endLocation.y;\n    return new Rect((x > startLocation.x ? startLocation.x : x), (y > startLocation.y ? startLocation.y : y), Math.abs(x - startLocation.x), Math.abs(y - startLocation.y));\n}\n/** @private */\nexport function minMax(value, min, max) {\n    return value > max ? max : (value < min ? min : value);\n}\n/** @private */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/** @private */\nexport function getTemplateFunction(template) {\n    var templateFn = null;\n    var e;\n    try {\n        if (document.querySelectorAll(template).length) {\n            templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\n        }\n    }\n    catch (e) {\n        templateFn = templateComplier(template);\n    }\n    return templateFn;\n}\n/** @private */\nexport function createTemplate(childElement, pointIndex, content, chart, point, series) {\n    var templateFn;\n    var templateElement;\n    templateFn = getTemplateFunction(content);\n    try {\n        if (templateFn && templateFn({ chart: chart, series: series, point: point }).length) {\n            templateElement = templateFn({ chart: chart, series: series, point: point });\n            while (templateElement.length > 0) {\n                childElement.appendChild(templateElement[0]);\n            }\n        }\n    }\n    catch (e) {\n        return childElement;\n    }\n    return childElement;\n}\n/** @private */\nexport function getFontStyle(font) {\n    var style = '';\n    style = 'font-size:' + font.size +\n        '; font-style:' + font.fontStyle + '; font-weight:' + font.fontWeight +\n        '; font-family:' + font.fontFamily + ';opacity:' + font.opacity +\n        '; color:' + font.color + ';';\n    return style;\n}\n/** @private */\nexport function measureElementRect(element) {\n    var bounds;\n    document.body.appendChild(element);\n    bounds = element.getBoundingClientRect();\n    removeElement(element.id);\n    return bounds;\n}\n/** @private */\nexport function findlElement(elements, id) {\n    var element;\n    for (var i = 0, length_1 = elements.length; i < length_1; i++) {\n        if (elements[i].id.indexOf(id) > -1) {\n            element = elements[i];\n            continue;\n        }\n    }\n    return element;\n}\n/** @private */\nexport function getPoint(x, y, xAxis, yAxis, isInverted, series) {\n    x = ((xAxis.valueType === 'Logarithmic') ? logBase(((x > 1) ? x : 1), xAxis.logBase) : x);\n    y = ((yAxis.valueType === 'Logarithmic') ? logBase(((y > 1) ? y : 1), yAxis.logBase) : y);\n    x = valueToCoefficient(x, xAxis);\n    y = valueToCoefficient(y, yAxis);\n    var xLength = (isInverted ? xAxis.rect.height : xAxis.rect.width);\n    var yLength = (isInverted ? yAxis.rect.width : yAxis.rect.height);\n    var locationX = isInverted ? y * (yLength) : x * (xLength);\n    var locationY = isInverted ? (1 - x) * (xLength) : (1 - y) * (yLength);\n    return new ChartLocation(locationX, locationY);\n}\n/** @private */\nexport function appendElement(child, parent) {\n    if (child && child.hasChildNodes() && parent) {\n        parent.appendChild(child);\n    }\n    else {\n        return null;\n    }\n}\n/** @private */\nexport function getDraggedRectLocation(x1, y1, x2, y2, outerRect) {\n    var width = Math.abs(x1 - x2);\n    var height = Math.abs(y1 - y2);\n    var x = Math.max(checkBounds(Math.min(x1, x2), width, outerRect.x, outerRect.width), outerRect.x);\n    var y = Math.max(checkBounds(Math.min(y1, y2), height, outerRect.y, outerRect.height), outerRect.y);\n    return new Rect(x, y, Math.min(width, outerRect.width), Math.min(height, outerRect.height));\n}\n/** @private */\nexport function checkBounds(start, size, min, max) {\n    if (start < min) {\n        start = min;\n    }\n    else if ((start + size) > (max + min)) {\n        start = (max + min) - size;\n    }\n    return start;\n}\n/** @private */\nexport function getLabelText(currentPoint, series, chart) {\n    var labelFormat = series.yAxis.labelFormat;\n    var text = [];\n    var customLabelFormat = labelFormat.match('{value}') !== null;\n    switch (series.seriesType) {\n        case 'XY':\n            text.push(currentPoint.text || currentPoint.yValue.toString());\n            break;\n        case 'HighLow':\n            text.push(currentPoint.text || Math.max(currentPoint.high, currentPoint.low).toString());\n            text.push(currentPoint.text || Math.min(currentPoint.high, currentPoint.low).toString());\n            break;\n        case 'HighLowOpenClose':\n            text.push(currentPoint.text || Math.max(currentPoint.high, currentPoint.low).toString());\n            text.push(currentPoint.text || Math.min(currentPoint.high, currentPoint.low).toString());\n            text.push(currentPoint.text || Math.max(currentPoint.open, currentPoint.close).toString());\n            text.push(currentPoint.text || Math.min(currentPoint.open, currentPoint.close).toString());\n            break;\n        case 'BoxPlot':\n            text.push(currentPoint.text || currentPoint.median.toString());\n            text.push(currentPoint.text || currentPoint.maximum.toString());\n            text.push(currentPoint.text || currentPoint.minimum.toString());\n            text.push(currentPoint.text || currentPoint.upperQuartile.toString());\n            text.push(currentPoint.text || currentPoint.lowerQuartile.toString());\n            for (var _i = 0, _a = currentPoint.outliers; _i < _a.length; _i++) {\n                var liers = _a[_i];\n                text.push(currentPoint.text || liers.toString());\n            }\n            break;\n    }\n    if (labelFormat && !currentPoint.text) {\n        for (var i = 0; i < text.length; i++) {\n            text[i] = customLabelFormat ? labelFormat.replace('{value}', series.yAxis.format(parseFloat(text[i]))) :\n                series.yAxis.format(parseFloat(text[i]));\n        }\n    }\n    return text;\n}\n/** @private */\nexport function stopTimer(timer) {\n    window.clearInterval(timer);\n}\n/** @private */\nexport function isCollide(rect, collections, clipRect) {\n    var isCollide;\n    var currentRect = new Rect(rect.x + clipRect.x, rect.y + clipRect.y, rect.width, rect.height);\n    isCollide = collections.some(function (rect) {\n        return (currentRect.x < rect.x + rect.width && currentRect.x + currentRect.width > rect.x &&\n            currentRect.y < rect.y + rect.height && currentRect.height + currentRect.y > rect.y);\n    });\n    return isCollide;\n}\n/** @private */\nexport function isOverlap(currentRect, rect) {\n    return (currentRect.x < rect.x + rect.width && currentRect.x + currentRect.width > rect.x &&\n        currentRect.y < rect.y + rect.height && currentRect.height + currentRect.y > rect.y);\n}\n/** @private */\nexport function containsRect(currentRect, rect) {\n    return (currentRect.x <= rect.x && currentRect.x + currentRect.width >= rect.x + rect.width &&\n        currentRect.y <= rect.y && currentRect.height + currentRect.y >= rect.y + rect.height);\n}\n/** @private */\nexport function calculateRect(location, textSize, margin) {\n    return new Rect((location.x - (textSize.width / 2) - margin.left), (location.y - (textSize.height / 2) - margin.top), textSize.width + margin.left + margin.right, textSize.height + margin.top + margin.bottom);\n}\n/** @private */\nexport function convertToHexCode(value) {\n    return '#' + componentToHex(value.r) + componentToHex(value.g) + componentToHex(value.b);\n}\n/** @private */\nexport function componentToHex(value) {\n    var hex = value.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n}\n/** @private */\nexport function convertHexToColor(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? new ColorValue(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) :\n        new ColorValue(255, 255, 255);\n}\n/** @private */\nexport function colorNameToHex(color) {\n    var element;\n    color = color === 'transparent' ? 'white' : color;\n    element = document.getElementById('chartmeasuretext');\n    element.style.color = color;\n    color = window.getComputedStyle(element).color;\n    var exp = /^(rgb|hsl)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/;\n    var isRGBValue = exp.exec(color);\n    return convertToHexCode(new ColorValue(parseInt(isRGBValue[3], 10), parseInt(isRGBValue[4], 10), parseInt(isRGBValue[5], 10)));\n}\n/** @private */\nexport function getSaturationColor(color, factor) {\n    color = colorNameToHex(color);\n    color = color.replace(/[^0-9a-f]/gi, '');\n    if (color.length < 6) {\n        color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n    }\n    factor = factor || 0;\n    // convert to decimal and change luminosity\n    var rgb = '#';\n    var colorCode;\n    for (var i = 0; i < 3; i++) {\n        colorCode = parseInt(color.substr(i * 2, 2), 16);\n        colorCode = Math.round(Math.min(Math.max(0, colorCode + (colorCode * factor)), 255));\n        rgb += ('00' + colorCode.toString(16)).substr(colorCode.toString(16).length);\n    }\n    return rgb;\n}\n/** @private */\nexport function getMedian(values) {\n    var half = Math.floor(values.length / 2);\n    return values.length % 2 ? values[half] : ((values[half - 1] + values[half]) / 2.0);\n}\n/** @private */\n// tslint:disable-next-line:max-func-body-length\nexport function calculateLegendShapes(location, size, shape, options) {\n    var padding = 10;\n    var path = '';\n    var height = size.height;\n    var width = size.width;\n    var locX = location.x;\n    var locY = location.y;\n    switch (shape) {\n        case 'MultiColoredLine':\n        case 'Line':\n            path = 'M' + ' ' + (locX + (-width / 2)) + ' ' + (locY) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY);\n            merge(options, { 'd': path });\n            break;\n        case 'StepLine':\n            options.fill = 'transparent';\n            path = 'M' + ' ' + (locX + (-width / 2) - (padding / 4)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX +\n                (-width / 2) + (width / 10)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX + (-width / 2) + (width / 10))\n                + ' ' + (locY) + ' ' + 'L' + ' ' + (locX + (-width / 10)) + ' ' + (locY) + ' ' + 'L' + ' ' + (locX + (-width / 10))\n                + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX + (width / 5)) + ' ' + (locY + (height / 2)) + ' ' + 'L' +\n                ' ' + (locX + (width / 5)) + ' ' + (locY + (-height / 2)) + ' ' + 'L' + ' ' + (locX + (width / 2)) + ' ' + (locY +\n                (-height / 2)) + 'L' + ' ' + (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + '' + (locX + (width / 2)\n                + (padding / 4)) + ' ' + (locY + (height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'RightArrow':\n            var space = 2;\n            path = 'M' + ' ' + (locX + (-width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (width / 2)) + ' ' + (locY) + ' ' + 'L' + ' ' +\n                (locX + (-width / 2)) + ' ' + (locY + (height / 2)) + ' L' + ' ' + (locX + (-width / 2)) + ' ' +\n                (locY + (height / 2) - space) + ' ' + 'L' + ' ' + (locX + (width / 2) - (2 * space)) + ' ' + (locY) +\n                ' L' + (locX + (-width / 2)) + ' ' + (locY - (height / 2) + space) + ' Z';\n            merge(options, { 'd': path });\n            break;\n        case 'LeftArrow':\n            options.fill = options.stroke;\n            options.stroke = 'transparent';\n            space = 2;\n            path = 'M' + ' ' + (locX + (width / 2)) + ' ' + (locY - (height / 2)) + ' ' +\n                'L' + ' ' + (locX + (-width / 2)) + ' ' + (locY) + ' ' + 'L' + ' ' +\n                (locX + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' +\n                (locX + (width / 2)) + ' ' + (locY + (height / 2) - space) + ' L' + ' ' + (locX + (-width / 2) + (2 * space))\n                + ' ' + (locY) + ' L' + (locX + (width / 2)) + ' ' + (locY - (height / 2) + space) + ' Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Column':\n        case 'StackingColumn':\n        case 'StackingColumn100':\n        case 'RangeColumn':\n            path = 'M' + ' ' + (locX - 3 * (width / 5)) + ' ' + (locY - (height / 5)) + ' ' + 'L' + ' ' +\n                (locX + 3 * (-width / 10)) + ' ' + (locY - (height / 5)) + ' ' + 'L' + ' ' +\n                (locX + 3 * (-width / 10)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' ' + (locX - 3 *\n                (width / 5)) + ' ' + (locY + (height / 2)) + ' ' + 'Z' + ' ' + 'M' + ' ' +\n                (locX + (-width / 10) - (width / 20)) + ' ' + (locY - (height / 4) - (padding / 2))\n                + ' ' + 'L' + ' ' + (locX + (width / 10) + (width / 20)) + ' ' + (locY - (height / 4) -\n                (padding / 2)) + ' ' + 'L' + ' ' + (locX + (width / 10) + (width / 20)) + ' ' + (locY\n                + (height / 2)) + ' ' + 'L' + ' ' + (locX + (-width / 10) - (width / 20)) + ' ' + (locY +\n                (height / 2)) + ' ' + 'Z' + ' ' + 'M' + ' ' + (locX + 3 * (width / 10)) + ' ' + (locY) + ' ' +\n                'L' + ' ' + (locX + 3 * (width / 5)) + ' ' + (locY) + ' ' + 'L' + ' '\n                + (locX + 3 * (width / 5)) + ' ' + (locY + (height / 2)) + ' ' + 'L' + ' '\n                + (locX + 3 * (width / 10)) + ' ' + (locY + (height / 2)) + ' ' + 'Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Bar':\n        case 'StackingBar':\n        case 'StackingBar100':\n            path = 'M' + ' ' + (locX + (-width / 2) + (-padding / 4)) + ' ' + (locY - 3 * (height / 5)) + ' '\n                + 'L' + ' ' + (locX + 3 * (width / 10)) + ' ' + (locY - 3 * (height / 5)) + ' ' + 'L' + ' ' +\n                (locX + 3 * (width / 10)) + ' ' + (locY - 3 * (height / 10)) + ' ' + 'L' + ' ' +\n                (locX - (width / 2) + (-padding / 4)) + ' ' + (locY - 3 * (height / 10)) + ' ' + 'Z' + ' '\n                + 'M' + ' ' + (locX + (-width / 2) + (-padding / 4)) + ' ' + (locY - (height / 5)\n                + (padding / 20)) + ' ' + 'L' + ' ' + (locX + (width / 2) + (padding / 4)) + ' ' + (locY\n                - (height / 5) + (padding / 20)) + ' ' + 'L' + ' ' + (locX + (width / 2) + (padding / 4))\n                + ' ' + (locY + (height / 10) + (padding / 20)) + ' ' + 'L' + ' ' + (locX - (width / 2)\n                + (-padding / 4)) + ' ' + (locY + (height / 10) + (padding / 20)) + ' ' + 'Z' + ' ' + 'M'\n                + ' ' + (locX - (width / 2) + (-padding / 4)) + ' ' + (locY + (height / 5)\n                + (padding / 10)) + ' ' + 'L' + ' ' + (locX + (-width / 4)) + ' ' + (locY + (height / 5)\n                + (padding / 10)) + ' ' + 'L' + ' ' + (locX + (-width / 4)) + ' ' + (locY + (height / 2)\n                + (padding / 10)) + ' ' + 'L' + ' ' + (locX - (width / 2) + (-padding / 4))\n                + ' ' + (locY + (height / 2) + (padding / 10)) + ' ' + 'Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Spline':\n            options.fill = 'transparent';\n            path = 'M' + ' ' + (locX - (width / 2)) + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' '\n                + locX + ' ' + (locY - height) + ' ' + locX + ' ' + (locY + (height / 5))\n                + ' ' + 'M' + ' ' + locX + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' ' + (locX\n                + (width / 2)) + ' ' + (locY + (height / 2)) + ' ' + (locX + (width / 2)) + ' '\n                + (locY - (height / 2));\n            merge(options, { 'd': path });\n            break;\n        case 'Area':\n        case 'MultiColoredArea':\n        case 'RangeArea':\n        case 'StackingArea':\n        case 'StackingArea100':\n            path = 'M' + ' ' + (locX - (width / 2) - (padding / 4)) + ' ' + (locY + (height / 2))\n                + ' ' + 'L' + ' ' + (locX + (-width / 4) + (-padding / 8)) + ' ' + (locY - (height / 2))\n                + ' ' + 'L' + ' ' + (locX) + ' ' + (locY + (height / 4)) + ' ' + 'L' + ' ' + (locX\n                + (width / 4) + (padding / 8)) + ' ' + (locY + (-height / 2) + (height / 4)) + ' '\n                + 'L' + ' ' + (locX + (height / 2) + (padding / 4)) + ' ' + (locY + (height / 2)) + ' ' + 'Z';\n            merge(options, { 'd': path });\n            break;\n        case 'SplineArea':\n            path = 'M' + ' ' + (locX - (width / 2)) + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' ' + locX\n                + ' ' + (locY - height) + ' ' + locX + ' ' + (locY + (height / 5)) + ' ' + 'Z' + ' ' + 'M'\n                + ' ' + locX + ' ' + (locY + (height / 5)) + ' ' + 'Q' + ' ' + (locX + (width / 2)) + ' '\n                + (locY + (height / 2)) + ' ' + (locX + (width / 2)) + ' '\n                + (locY - (height / 2)) + ' ' + ' Z';\n            merge(options, { 'd': path });\n            break;\n        case 'Pie':\n        case 'Doughnut':\n            options.stroke = 'transparent';\n            var r = Math.min(height, width) / 2;\n            path = getAccumulationLegend(locX, locY, r, height, width, shape);\n            merge(options, { 'd': path });\n            break;\n    }\n    return { renderOption: options };\n}\n/** @private */\nexport function textTrim(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var i = textLength - 1; i >= 0; --i) {\n            label = text.substring(0, i) + '...';\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nexport function stringToNumber(value, containerSize) {\n    if (value !== null && value !== undefined) {\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\n    }\n    return null;\n}\n/** @private */\nexport function findDirection(rX, rY, rect, arrowLocation, arrowPadding, top, bottom, left, tipX, tipY, tipRadius) {\n    var direction = '';\n    var startX = rect.x;\n    var startY = rect.y;\n    var width = rect.x + rect.width;\n    var height = rect.y + rect.height;\n    tipRadius = tipRadius ? tipRadius : 0;\n    if (top) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + startY + ' ' + (startX + rX) + ' ' + startY + ' ' +\n            ' L' + ' ' + (width - rX) + ' ' + (startY) + ' Q ' + width + ' '\n            + startY + ' ' + (width) + ' ' + (startY + rY));\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + width + ' '\n            + (height) + ' ' + (width - rX) + ' ' + (height));\n        if (arrowPadding !== 0) {\n            direction = direction.concat(' L' + ' ' + (arrowLocation.x + arrowPadding / 2) + ' ' + (height));\n            direction = direction.concat(' L' + ' ' + (tipX + tipRadius) + ' ' + (height + arrowPadding - tipRadius));\n            direction += ' Q' + ' ' + (tipX) + ' ' + (height + arrowPadding) + ' ' + (tipX - tipRadius) +\n                ' ' + (height + arrowPadding - tipRadius);\n        }\n        if ((arrowLocation.x - arrowPadding / 2) > startX) {\n            direction = direction.concat(' L' + ' ' + (arrowLocation.x - arrowPadding / 2) + ' ' + height +\n                ' L' + ' ' + (startX + rX) + ' ' + height + ' Q ' + startX + ' '\n                + height + ' ' + (startX) + ' ' + (height - rY) + ' z');\n        }\n        else {\n            if (arrowPadding === 0) {\n                direction = direction.concat(' L' + ' ' + (startX + rX) + ' ' + height + ' Q ' + startX + ' '\n                    + height + ' ' + (startX) + ' ' + (height - rY) + ' z');\n            }\n            else {\n                direction = direction.concat(' L' + ' ' + (startX) + ' ' + (height + rY) + ' z');\n            }\n        }\n    }\n    else if (bottom) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + (startY) + ' ' + (startX + rX) + ' ' + (startY) + ' L' + ' ' + (arrowLocation.x - arrowPadding / 2) + ' ' + (startY));\n        direction = direction.concat(' L' + ' ' + (tipX - tipRadius) + ' ' + (arrowLocation.y + tipRadius));\n        direction += ' Q' + ' ' + (tipX) + ' ' + (arrowLocation.y) + ' ' + (tipX + tipRadius) + ' ' + (arrowLocation.y + tipRadius);\n        direction = direction.concat(' L' + ' ' + (arrowLocation.x + arrowPadding / 2) + ' ' + (startY) + ' L' + ' '\n            + (width - rX) + ' ' + (startY) + ' Q ' + (width) + ' ' + (startY) + ' ' + (width) + ' ' + (startY + rY));\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + (width) + ' '\n            + (height) + ' ' + (width - rX) + ' ' + (height) +\n            ' L' + ' ' + (startX + rX) + ' ' + (height) + ' Q ' + (startX) + ' '\n            + (height) + ' ' + (startX) + ' ' + (height - rY) + ' z');\n    }\n    else if (left) {\n        direction = direction.concat('M' + ' ' + (startX) + ' ' + (startY + rY) + ' Q ' + startX + ' '\n            + (startY) + ' ' + (startX + rX) + ' ' + (startY));\n        direction = direction.concat(' L' + ' ' + (width - rX) + ' ' + (startY) + ' Q ' + (width) + ' '\n            + (startY) + ' ' + (width) + ' ' + (startY + rY) + ' L' + ' ' + (width) + ' ' + (arrowLocation.y - arrowPadding / 2));\n        direction = direction.concat(' L' + ' ' + (width + arrowPadding - tipRadius) + ' ' + (tipY - tipRadius));\n        direction += ' Q ' + (width + arrowPadding) + ' ' + (tipY) + ' ' + (width + arrowPadding - tipRadius) + ' ' + (tipY + tipRadius);\n        direction = direction.concat(' L' + ' ' + (width) + ' ' + (arrowLocation.y + arrowPadding / 2) +\n            ' L' + ' ' + (width) + ' ' + (height - rY) + ' Q ' + width + ' ' + (height) + ' ' + (width - rX) + ' ' + (height));\n        direction = direction.concat(' L' + ' ' + (startX + rX) + ' ' + (height) + ' Q ' + startX + ' '\n            + (height) + ' ' + (startX) + ' ' + (height - rY) + ' z');\n    }\n    else {\n        direction = direction.concat('M' + ' ' + (startX + rX) + ' ' + (startY) + ' Q ' + (startX) + ' '\n            + (startY) + ' ' + (startX) + ' ' + (startY + rY) + ' L' + ' ' + (startX) + ' ' + (arrowLocation.y - arrowPadding / 2));\n        direction = direction.concat(' L' + ' ' + (startX - arrowPadding + tipRadius) + ' ' + (tipY - tipRadius));\n        direction += ' Q ' + (startX - arrowPadding) + ' ' + (tipY) + ' ' + (startX - arrowPadding + tipRadius) + ' ' + (tipY + tipRadius);\n        direction = direction.concat(' L' + ' ' + (startX) + ' ' + (arrowLocation.y + arrowPadding / 2) +\n            ' L' + ' ' + (startX) + ' ' + (height - rY) + ' Q ' + startX + ' '\n            + (height) + ' ' + (startX + rX) + ' ' + (height));\n        direction = direction.concat(' L' + ' ' + (width - rX) + ' ' + (height) + ' Q ' + width + ' '\n            + (height) + ' ' + (width) + ' ' + (height - rY) +\n            ' L' + ' ' + (width) + ' ' + (startY + rY) + ' Q ' + width + ' '\n            + (startY) + ' ' + (width - rX) + ' ' + (startY) + ' z');\n    }\n    return direction;\n}\n/** @private */\nexport function textElement(options, font, color, parent, isMinus) {\n    if (isMinus === void 0) { isMinus = false; }\n    var renderOptions = {};\n    var htmlObject;\n    var tspanElement;\n    var renderer = new SvgRenderer('');\n    var text;\n    var height;\n    renderOptions = {\n        'id': options.id,\n        'x': options.x,\n        'y': options.y,\n        'fill': color,\n        'font-size': font.size,\n        'font-style': font.fontStyle,\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight,\n        'text-anchor': options.anchor,\n        'transform': options.transform,\n        'opacity': font.opacity,\n        'dominant-baseline': options.baseLine\n    };\n    text = typeof options.text === 'string' ? options.text : isMinus ? options.text[options.text.length - 1] : options.text[0];\n    htmlObject = renderer.createText(renderOptions, text);\n    if (typeof options.text !== 'string' && options.text.length > 1) {\n        for (var i = 1, len = options.text.length; i < len; i++) {\n            height = (measureText(options.text[i], font).height);\n            tspanElement = renderer.createTSpan({\n                'x': options.x, 'id': options.id,\n                'y': (options.y) + ((isMinus) ? -(i * height) : (i * height))\n            }, isMinus ? options.text[options.text.length - (i + 1)] : options.text[i]);\n            htmlObject.appendChild(tspanElement);\n        }\n    }\n    parent.appendChild(htmlObject);\n    return htmlObject;\n}\n/**\n * Method to calculate the width and height of the chart\n */\nexport function calculateSize(chart) {\n    var containerWidth = chart.element.clientWidth;\n    var containerHeight = chart.element.clientHeight;\n    chart.availableSize = new Size(stringToNumber(chart.width, containerWidth) || containerWidth || 600, stringToNumber(chart.height, containerHeight) || containerHeight || 450);\n}\nexport function createSvg(chart) {\n    chart.renderer = new SvgRenderer(chart.element.id);\n    calculateSize(chart);\n    chart.svgObject = chart.renderer.createSvg({\n        id: chart.element.id + '_svg',\n        width: chart.availableSize.width,\n        height: chart.availableSize.height\n    });\n}\n/**\n * To calculate chart title and height\n * @param title\n * @param style\n * @param width\n */\nexport function getTitle(title, style, width) {\n    var titleCollection = [];\n    switch (style.textOverflow) {\n        case 'Wrap':\n            titleCollection = textWrap(title, width, style);\n            break;\n        case 'Trim':\n            titleCollection.push(textTrim(width, title, style));\n            break;\n        default:\n            titleCollection.push(title);\n            break;\n    }\n    return titleCollection;\n}\n/**\n * Method to calculate x position of title\n */\nexport function titlePositionX(chartSize, leftPadding, rightPadding, titleStyle) {\n    var positionX;\n    if (titleStyle.textAlignment === 'Near') {\n        positionX = leftPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionX = chartSize.width / 2;\n    }\n    else {\n        positionX = chartSize.width - rightPadding;\n    }\n    return positionX;\n}\n/**\n * Method to find new text and element size based on textOverflow\n */\nexport function textWrap(currentLabel, maximumWidth, font) {\n    var textCollection = currentLabel.split(' ');\n    var label = '';\n    var labelCollection = [];\n    var text;\n    for (var i = 0, len = textCollection.length; i < len; i++) {\n        text = textCollection[i];\n        if (measureText(label.concat(text), font).width < maximumWidth) {\n            label = label.concat((label === '' ? '' : ' ') + text);\n        }\n        else {\n            if (label !== '') {\n                labelCollection.push(textTrim(maximumWidth, label, font));\n                label = text;\n            }\n            else {\n                labelCollection.push(textTrim(maximumWidth, text, font));\n                text = '';\n            }\n        }\n        if (label && i === len - 1) {\n            labelCollection.push(textTrim(maximumWidth, label, font));\n        }\n    }\n    return labelCollection;\n}\n/** @private */\nvar CustomizeOption = /** @class */ (function () {\n    function CustomizeOption(id) {\n        this.id = id;\n    }\n    return CustomizeOption;\n}());\nexport { CustomizeOption };\n/** @private */\nvar StackValues = /** @class */ (function () {\n    function StackValues(startValue, endValue) {\n        this.startValues = startValue;\n        this.endValues = endValue;\n    }\n    return StackValues;\n}());\nexport { StackValues };\n/** @private */\nvar TextOption = /** @class */ (function (_super) {\n    __extends(TextOption, _super);\n    function TextOption(id, x, y, anchor, text, transform, baseLine) {\n        if (transform === void 0) { transform = ''; }\n        var _this = _super.call(this, id) || this;\n        _this.transform = '';\n        _this.baseLine = 'auto';\n        _this.x = x;\n        _this.y = y;\n        _this.anchor = anchor;\n        _this.text = text;\n        _this.transform = transform;\n        _this.baseLine = baseLine;\n        return _this;\n    }\n    return TextOption;\n}(CustomizeOption));\nexport { TextOption };\n/** @private */\nvar PathOption = /** @class */ (function (_super) {\n    __extends(PathOption, _super);\n    function PathOption(id, fill, width, color, opacity, dashArray, d) {\n        var _this = _super.call(this, id) || this;\n        _this.opacity = opacity;\n        _this.fill = fill;\n        _this.stroke = color;\n        _this['stroke-width'] = width;\n        _this['stroke-dasharray'] = dashArray;\n        _this.d = d;\n        return _this;\n    }\n    return PathOption;\n}(CustomizeOption));\nexport { PathOption };\n/** @private */\nvar RectOption = /** @class */ (function (_super) {\n    __extends(RectOption, _super);\n    function RectOption(id, fill, border, opacity, rect, rx, ry, transform, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, border.color, opacity, dashArray) || this;\n        _this.y = rect.y;\n        _this.x = rect.x;\n        _this.height = rect.height;\n        _this.width = rect.width;\n        _this.rx = rx ? rx : 0;\n        _this.ry = ry ? ry : 0;\n        _this.transform = transform ? transform : '';\n        return _this;\n    }\n    return RectOption;\n}(PathOption));\nexport { RectOption };\n/** @private */\nvar CircleOption = /** @class */ (function (_super) {\n    __extends(CircleOption, _super);\n    function CircleOption(id, fill, border, opacity, cx, cy, r) {\n        var _this = _super.call(this, id, fill, border.width, border.color, opacity) || this;\n        _this.cy = cy;\n        _this.cx = cx;\n        _this.r = r;\n        return _this;\n    }\n    return CircleOption;\n}(PathOption));\nexport { CircleOption };\n/** @private */\nvar PolygonOption = /** @class */ (function () {\n    function PolygonOption(id, points, fill) {\n        this.id = id;\n        this.points = points;\n        this.fill = fill;\n    }\n    return PolygonOption;\n}());\nexport { PolygonOption };\n/** @private */\nvar Size = /** @class */ (function () {\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/** @private */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\n/** @private */\nvar ChartLocation = /** @class */ (function () {\n    function ChartLocation(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return ChartLocation;\n}());\nexport { ChartLocation };\n/** @private */\nvar Thickness = /** @class */ (function () {\n    function Thickness(left, right, top, bottom) {\n        this.left = left;\n        this.right = right;\n        this.top = top;\n        this.bottom = bottom;\n    }\n    return Thickness;\n}());\nexport { Thickness };\n/** @private */\nvar ColorValue = /** @class */ (function () {\n    function ColorValue(r, g, b) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n    }\n    return ColorValue;\n}());\nexport { ColorValue };\n/** @private */\nvar PointData = /** @class */ (function () {\n    function PointData(point, series, index) {\n        if (index === void 0) { index = 0; }\n        this.point = point;\n        this.series = series;\n        this.lierIndex = index;\n    }\n    return PointData;\n}());\nexport { PointData };\n/** @private */\nvar AccPointData = /** @class */ (function () {\n    function AccPointData(point, series, index) {\n        if (index === void 0) { index = 0; }\n        this.point = point;\n        this.series = series;\n    }\n    return AccPointData;\n}());\nexport { AccPointData };\n/** @private */\nvar ControlPoints = /** @class */ (function () {\n    function ControlPoints(controlPoint1, controlPoint2) {\n        this.controlPoint1 = controlPoint1;\n        this.controlPoint2 = controlPoint2;\n    }\n    return ControlPoints;\n}());\nexport { ControlPoints };\n","/**\n * Encoding class: Contains the details about encoding type, whether to write a Unicode byte order mark (BOM).\n * ```typescript\n * let encoding : Encoding = new Encoding();\n * encoding.type = 'Utf8';\n * encoding.getBytes('Encoding', 0, 5);\n * ```\n */\nvar Encoding = /** @class */ (function () {\n    /**\n     * Initializes a new instance of the Encoding class. A parameter specifies whether to write a Unicode byte order mark\n     * @param  {boolean} includeBom?-true to specify that a Unicode byte order mark is written; otherwise, false.\n     */\n    function Encoding(includeBom) {\n        this.emitBOM = true;\n        this.encodingType = 'Ansi';\n        this.initBOM(includeBom);\n    }\n    Object.defineProperty(Encoding.prototype, \"includeBom\", {\n        /**\n         * Gets a value indicating whether to write a Unicode byte order mark\n         * @returns boolean- true to specify that a Unicode byte order mark is written; otherwise, false\n         */\n        get: function () {\n            return this.emitBOM;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Encoding.prototype, \"type\", {\n        /**\n         * Gets the encoding type.\n         * @returns EncodingType\n         */\n        get: function () {\n            return this.encodingType;\n        },\n        /**\n         * Sets the encoding type.\n         * @param  {EncodingType} value\n         */\n        set: function (value) {\n            this.encodingType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Initialize the includeBom to emit BOM or Not\n     * @param  {boolean} includeBom\n     */\n    Encoding.prototype.initBOM = function (includeBom) {\n        if (includeBom === undefined || includeBom === null) {\n            this.emitBOM = true;\n        }\n        else {\n            this.emitBOM = includeBom;\n        }\n    };\n    /**\n     * Calculates the number of bytes produced by encoding the characters in the specified string\n     * @param  {string} chars - The string containing the set of characters to encode\n     * @returns {number} - The number of bytes produced by encoding the specified characters\n     */\n    Encoding.prototype.getByteCount = function (chars) {\n        var byteCount = 0;\n        validateNullOrUndefined(chars, 'string');\n        if (chars === '') {\n            var byte = this.utf8Len(chars.charCodeAt(0));\n            return byte;\n        }\n        if (this.type === null || this.type === undefined) {\n            this.type = 'Ansi';\n        }\n        return this.getByteCountInternal(chars, 0, chars.length);\n    };\n    /**\n     * Return the Byte of character\n     * @param  {number} codePoint\n     * @returns {number}\n     */\n    Encoding.prototype.utf8Len = function (codePoint) {\n        var bytes = codePoint <= 0x7F ? 1 :\n            codePoint <= 0x7FF ? 2 :\n                codePoint <= 0xFFFF ? 3 :\n                    codePoint <= 0x1FFFFF ? 4 : 0;\n        return bytes;\n    };\n    /**\n     * for 4 byte character return surrogate pair true, otherwise false\n     * @param  {number} codeUnit\n     * @returns {boolean}\n     */\n    Encoding.prototype.isHighSurrogate = function (codeUnit) {\n        return codeUnit >= 0xD800 && codeUnit <= 0xDBFF;\n    };\n    /**\n     * for 4byte character generate the surrogate pair\n     * @param  {number} highCodeUnit\n     * @param  {number} lowCodeUnit\n     */\n    Encoding.prototype.toCodepoint = function (highCodeUnit, lowCodeUnit) {\n        highCodeUnit = (0x3FF & highCodeUnit) << 10;\n        var u = highCodeUnit | (0x3FF & lowCodeUnit);\n        return u + 0x10000;\n    };\n    /**\n     * private method to get the byte count for specific charindex and count\n     * @param  {string} chars\n     * @param  {number} charIndex\n     * @param  {number} charCount\n     */\n    Encoding.prototype.getByteCountInternal = function (chars, charIndex, charCount) {\n        var byteCount = 0;\n        if (this.encodingType === 'Utf8' || this.encodingType === 'Unicode') {\n            var isUtf8 = this.encodingType === 'Utf8';\n            for (var i = 0; i < charCount; i++) {\n                var charCode = chars.charCodeAt(isUtf8 ? charIndex : charIndex++);\n                if (this.isHighSurrogate(charCode)) {\n                    if (isUtf8) {\n                        var high = charCode;\n                        var low = chars.charCodeAt(++charIndex);\n                        byteCount += this.utf8Len(this.toCodepoint(high, low));\n                    }\n                    else {\n                        byteCount += 4;\n                        ++i;\n                    }\n                }\n                else {\n                    if (isUtf8) {\n                        byteCount += this.utf8Len(charCode);\n                    }\n                    else {\n                        byteCount += 2;\n                    }\n                }\n                if (isUtf8) {\n                    charIndex++;\n                }\n            }\n            return byteCount;\n        }\n        else {\n            byteCount = charCount;\n            return byteCount;\n        }\n    };\n    /**\n     * Encodes a set of characters from the specified string into the ArrayBuffer.\n     * @param  {string} s- The string containing the set of characters to encode\n     * @param  {number} charIndex-The index of the first character to encode.\n     * @param  {number} charCount- The number of characters to encode.\n     * @returns {ArrayBuffer} - The ArrayBuffer that contains the resulting sequence of bytes.\n     */\n    Encoding.prototype.getBytes = function (s, charIndex, charCount) {\n        validateNullOrUndefined(s, 'string');\n        validateNullOrUndefined(charIndex, 'charIndex');\n        validateNullOrUndefined(charCount, 'charCount');\n        if (charIndex < 0 || charCount < 0) {\n            throw new RangeError('Argument Out Of Range Exception: charIndex or charCount is less than zero');\n        }\n        if (s.length - charIndex < charCount) {\n            throw new RangeError('Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string');\n        }\n        var bytes;\n        if (s === '') {\n            bytes = new ArrayBuffer(0);\n            return bytes;\n        }\n        if (this.type === null || this.type === undefined) {\n            this.type = 'Ansi';\n        }\n        var byteCount = this.getByteCountInternal(s, charIndex, charCount);\n        switch (this.type) {\n            case 'Utf8':\n                bytes = this.getBytesOfUtf8Encoding(byteCount, s, charIndex, charCount);\n                return bytes;\n            case 'Unicode':\n                bytes = this.getBytesOfUnicodeEncoding(byteCount, s, charIndex, charCount);\n                return bytes;\n            default:\n                bytes = this.getBytesOfAnsiEncoding(byteCount, s, charIndex, charCount);\n                return bytes;\n        }\n    };\n    /**\n     * Decodes a sequence of bytes from the specified ArrayBuffer into the string.\n     * @param  {ArrayBuffer} bytes- The ArrayBuffer containing the sequence of bytes to decode.\n     * @param  {number} index- The index of the first byte to decode.\n     * @param  {number} count- The number of bytes to decode.\n     * @returns {string} - The string that contains the resulting set of characters.\n     */\n    Encoding.prototype.getString = function (bytes, index, count) {\n        validateNullOrUndefined(bytes, 'bytes');\n        validateNullOrUndefined(index, 'index');\n        validateNullOrUndefined(count, 'count');\n        if (index < 0 || count < 0) {\n            throw new RangeError('Argument Out Of Range Exception: index or count is less than zero');\n        }\n        if (bytes.byteLength - index < count) {\n            throw new RangeError('Argument Out Of Range Exception: index and count do not denote a valid range in bytes');\n        }\n        if (bytes.byteLength === 0 || count === 0) {\n            return '';\n        }\n        if (this.type === null || this.type === undefined) {\n            this.type = 'Ansi';\n        }\n        var out = '';\n        var byteCal = new Uint8Array(bytes);\n        switch (this.type) {\n            case 'Utf8':\n                var s = this.getStringOfUtf8Encoding(byteCal, index, count);\n                return s;\n            case 'Unicode':\n                var byteUnicode = new Uint16Array(bytes);\n                out = this.getStringofUnicodeEncoding(byteUnicode, index, count);\n                return out;\n            default:\n                var j = index;\n                for (var i = 0; i < count; i++) {\n                    var c = byteCal[j];\n                    out += String.fromCharCode(c); // 1 byte(ASCII) character                  \n                    j++;\n                }\n                return out;\n        }\n    };\n    Encoding.prototype.getBytesOfAnsiEncoding = function (byteCount, s, charIndex, charCount) {\n        var bytes = new ArrayBuffer(byteCount);\n        var bufview = new Uint8Array(bytes);\n        var k = 0;\n        for (var i = 0; i < charCount; i++) {\n            var charcode = s.charCodeAt(charIndex++);\n            if (charcode < 0x800) {\n                bufview[k] = charcode;\n            }\n            else {\n                bufview[k] = 63; //replacement character '?'\n            }\n            k++;\n        }\n        return bytes;\n    };\n    Encoding.prototype.getBytesOfUtf8Encoding = function (byteCount, s, charIndex, charCount) {\n        var bytes = new ArrayBuffer(byteCount);\n        var uint = new Uint8Array(bytes);\n        var index = charIndex;\n        var j = 0;\n        for (var i = 0; i < charCount; i++) {\n            var charcode = s.charCodeAt(index);\n            if (charcode <= 0x7F) {\n                uint[j] = charcode;\n            }\n            else if (charcode < 0x800) {\n                uint[j] = 0xc0 | (charcode >> 6);\n                uint[++j] = 0x80 | (charcode & 0x3f);\n            }\n            else if ((charcode < 0xd800 || charcode >= 0xe000)) {\n                uint[j] = 0xe0 | (charcode >> 12);\n                uint[++j] = 0x80 | ((charcode >> 6) & 0x3f);\n                uint[++j] = 0x80 | (charcode & 0x3f);\n            }\n            else {\n                uint[j] = 0xef;\n                uint[++j] = 0xbf;\n                uint[++j] = 0xbd; // U+FFFE \"replacement character\"\n            }\n            ++j;\n            ++index;\n        }\n        return bytes;\n    };\n    Encoding.prototype.getBytesOfUnicodeEncoding = function (byteCount, s, charIndex, charCount) {\n        var bytes = new ArrayBuffer(byteCount);\n        var uint16 = new Uint16Array(bytes);\n        for (var i = 0; i < charCount; i++) {\n            var charcode = s.charCodeAt(i);\n            uint16[i] = charcode;\n        }\n        return bytes;\n    };\n    Encoding.prototype.getStringOfUtf8Encoding = function (byteCal, index, count) {\n        var j = 0;\n        var i = index;\n        var s = '';\n        for (j; j < count; j++) {\n            var c = byteCal[i++];\n            while (i > byteCal.length) {\n                return s;\n            }\n            if (c > 127) {\n                if (c > 191 && c < 224 && i < count) {\n                    c = (c & 31) << 6 | byteCal[i] & 63;\n                }\n                else if (c > 223 && c < 240 && i < byteCal.byteLength) {\n                    c = (c & 15) << 12 | (byteCal[i] & 63) << 6 | byteCal[++i] & 63;\n                }\n                else if (c > 239 && c < 248 && i < byteCal.byteLength) {\n                    c = (c & 7) << 18 | (byteCal[i] & 63) << 12 | (byteCal[++i] & 63) << 6 | byteCal[++i] & 63;\n                }\n                ++i;\n            }\n            s += String.fromCharCode(c); // 1 byte(ASCII) character                          \n        }\n        return s;\n    };\n    Encoding.prototype.getStringofUnicodeEncoding = function (byteUni, index, count) {\n        if (count > byteUni.length) {\n            throw new RangeError('ArgumentOutOfRange_Count');\n        }\n        var byte16 = new Uint16Array(count);\n        var out = '';\n        for (var i = 0; i < count && i < byteUni.length; i++) {\n            byte16[i] = byteUni[index++];\n        }\n        out = String.fromCharCode.apply(null, byte16);\n        return out;\n    };\n    /**\n     * To clear the encoding instance\n     * @return {void}\n     */\n    Encoding.prototype.destroy = function () {\n        this.emitBOM = undefined;\n        this.encodingType = undefined;\n    };\n    return Encoding;\n}());\nexport { Encoding };\n/**\n * To check the object is null or undefined and throw error if it is null or undefined\n * @param {Object} value - object to check is null or undefined\n * @return {boolean}\n * @throws {ArgumentException} - if the value is null or undefined\n * @private\n */\nexport function validateNullOrUndefined(value, message) {\n    if (value === null || value === undefined) {\n        throw new Error('ArgumentException: ' + message + ' cannot be null or undefined');\n    }\n}\n","/**\n * @private\n * @hidden\n */\nexport function defaultToString(item) {\n    // if (item === null) {\n    //     return 'COLLECTION_NULL';\n    // } else if (typeof item === 'undefined') {\n    //     return 'COLLECTION_UNDEFINED';\n    // } else if (Object.prototype.toString.call(item) === '[object String]') {\n    if (Object.prototype.toString.call(item) === '[object String]') {\n        return '$s' + item;\n    }\n    else {\n        return '$o' + item.toString();\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * AccumulationChart base file\n */\nimport { Property, ChildProperty, Complex, createElement } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Border, Font, Animation, EmptyPointSettings, Connector } from '../../common/model/base';\nimport { Rect, stringToNumber, PathOption } from '../../common/utils/helper';\nimport { seriesRender, pointRender } from '../../common/model/constants';\nimport { getSeriesColor } from '../../common/model/theme';\nimport { getElement, firstToLowerCase } from '../../common/utils/helper';\n/**\n * Annotation for accumulation series\n */\nvar AccumulationAnnotationSettings = /** @class */ (function (_super) {\n    __extends(AccumulationAnnotationSettings, _super);\n    function AccumulationAnnotationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AccumulationAnnotationSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('0')\n    ], AccumulationAnnotationSettings.prototype, \"x\", void 0);\n    __decorate([\n        Property('0')\n    ], AccumulationAnnotationSettings.prototype, \"y\", void 0);\n    __decorate([\n        Property('Pixel')\n    ], AccumulationAnnotationSettings.prototype, \"coordinateUnits\", void 0);\n    __decorate([\n        Property('Chart')\n    ], AccumulationAnnotationSettings.prototype, \"region\", void 0);\n    __decorate([\n        Property('Middle')\n    ], AccumulationAnnotationSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Property('Center')\n    ], AccumulationAnnotationSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationAnnotationSettings.prototype, \"description\", void 0);\n    return AccumulationAnnotationSettings;\n}(ChildProperty));\nexport { AccumulationAnnotationSettings };\n/**\n * Configures the dataLabel in accumulation chart.\n */\nvar AccumulationDataLabelSettings = /** @class */ (function (_super) {\n    __extends(AccumulationDataLabelSettings, _super);\n    function AccumulationDataLabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], AccumulationDataLabelSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationDataLabelSettings.prototype, \"name\", void 0);\n    __decorate([\n        Property('transparent')\n    ], AccumulationDataLabelSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property('Inside')\n    ], AccumulationDataLabelSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(5)\n    ], AccumulationDataLabelSettings.prototype, \"rx\", void 0);\n    __decorate([\n        Property(5)\n    ], AccumulationDataLabelSettings.prototype, \"ry\", void 0);\n    __decorate([\n        Complex({ width: null, color: null }, Border)\n    ], AccumulationDataLabelSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex({ size: '11px', color: null }, Font)\n    ], AccumulationDataLabelSettings.prototype, \"font\", void 0);\n    __decorate([\n        Complex({}, Connector)\n    ], AccumulationDataLabelSettings.prototype, \"connectorStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationDataLabelSettings.prototype, \"template\", void 0);\n    return AccumulationDataLabelSettings;\n}(ChildProperty));\nexport { AccumulationDataLabelSettings };\n/**\n * Points model for the series.\n */\nvar AccPoints = /** @class */ (function () {\n    function AccPoints() {\n        this.visible = true;\n        this.symbolLocation = null;\n        /** @private */\n        this.region = null;\n        /** @private */\n        this.labelRegion = null;\n        /** @private */\n        this.labelVisible = true;\n        this.regions = null;\n    }\n    return AccPoints;\n}());\nexport { AccPoints };\n/**\n *  Configures the series in accumulation chart.\n */\nvar AccumulationSeries = /** @class */ (function (_super) {\n    __extends(AccumulationSeries, _super);\n    function AccumulationSeries() {\n        /**\n         * Specifies the dataSource for the series. It can be an array of JSON objects or an instance of DataManager.\n         * ```html\n         * <div id='Pie'></div>\n         * ```\n         * ```typescript\n         * let dataManager: DataManager = new DataManager({\n         *         url: 'http://mvc.syncfusion.com/Services/Northwnd.svc/Tasks/'\n         * });\n         * let query: Query = new Query().take(50).where('Estimate', 'greaterThan', 0, false);\n         * let pie: AccumulationChart = new AccumulationChart({\n         * ...\n         *     series: [{\n         *        dataSource: dataManager,\n         *        xName: 'Id',\n         *        yName: 'Estimate',\n         *        query: query\n         *    }],\n         * ...\n         * });\n         * pie.appendTo('#Pie');\n         * ```\n         * @default ''\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.points = [];\n        /** @private */\n        _this.sumOfPoints = 0;\n        /** @private */\n        _this.isRectSeries = true;\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        return _this;\n    }\n    /** @private To refresh the Datamanager for series */\n    AccumulationSeries.prototype.refreshDataManager = function (accumulation) {\n        var _this = this;\n        if (isNullOrUndefined(this.query)) {\n            this.dataManagerSuccess({ result: this.dataSource, count: this.dataSource.length }, accumulation);\n            return;\n        }\n        var dataManager = this.dataModule.getData(this.dataModule.generateQuery().requiresCount());\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e, accumulation); });\n    };\n    /**\n     * To get points on dataManager is success\n     * @private\n     */\n    AccumulationSeries.prototype.dataManagerSuccess = function (e, accumulation) {\n        var argsData = {\n            name: seriesRender, series: this, data: e.result,\n        };\n        accumulation.trigger(seriesRender, argsData);\n        this.resultData = e.result;\n        this.getPoints(e.result, accumulation);\n        if (++accumulation.seriesCounts === accumulation.visibleSeries.length) {\n            accumulation.refreshChart();\n        }\n    };\n    /** @private To find points from result data */\n    AccumulationSeries.prototype.getPoints = function (result, accumulation) {\n        var length = Object.keys(result).length;\n        this.sumOfPoints = 0;\n        if (length === 0) {\n            return null;\n        }\n        this.findSumOfPoints(result);\n        this.points = [];\n        this.sumOfClub = 0;\n        var point;\n        var colors = this.palettes.length ? this.palettes : getSeriesColor(accumulation.theme);\n        var clubValue = stringToNumber(this.groupTo, this.sumOfPoints);\n        for (var i = 0; i < length; i++) {\n            point = this.setPoints(result, i, colors);\n            var currentY = point.y;\n            if (!this.isClub(point, clubValue)) {\n                if (isNullOrUndefined(point.y)) {\n                    point.visible = false;\n                }\n                this.pushPoints(point, colors);\n            }\n        }\n        this.lastGroupTo = this.groupTo;\n        if (this.sumOfClub > 0) {\n            var clubPoint = new AccPoints();\n            clubPoint.x = 'Others';\n            clubPoint.y = this.sumOfClub;\n            clubPoint.text = clubPoint.originalText = clubPoint.x + ': ' + this.sumOfClub;\n            this.pushPoints(clubPoint, colors);\n        }\n    };\n    /**\n     * Method to set point index and color\n     */\n    AccumulationSeries.prototype.pushPoints = function (point, colors) {\n        point.index = this.points.length;\n        point.color = point.color || colors[point.index % colors.length];\n        this.points.push(point);\n    };\n    /**\n     * Method to find club point\n     */\n    AccumulationSeries.prototype.isClub = function (point, clubValue) {\n        if (Math.abs(point.y) <= clubValue && !isNullOrUndefined(clubValue)) {\n            this.sumOfClub += Math.abs(point.y);\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Method to find sum of points in the series\n     */\n    AccumulationSeries.prototype.findSumOfPoints = function (result) {\n        var length = Object.keys(result).length;\n        for (var i = 0; i < length; i++) {\n            if (!isNullOrUndefined(result[i][this.yName])) {\n                this.sumOfPoints += Math.abs(result[i][this.yName]);\n            }\n        }\n    };\n    /**\n     * Method to set points x, y and text from data source\n     */\n    AccumulationSeries.prototype.setPoints = function (data, i, colors) {\n        var point = new AccPoints();\n        point.x = getValue(this.xName, data[i]);\n        point.y = getValue(this.yName, data[i]);\n        point.color = getValue(this.pointColorMapping, data[i]);\n        point.text = point.originalText = getValue(this.dataLabel.name || '', data[i]);\n        this.setAccEmptyPoint(point, i, data, colors);\n        return point;\n    };\n    /**\n     * Method render the series elements for accumulation chart\n     * @private\n     */\n    AccumulationSeries.prototype.renderSeries = function (accumulation) {\n        var seriesGroup = accumulation.renderer.createGroup({ id: accumulation.element.id + '_Series_' + this.index });\n        this.renderPoints(accumulation, seriesGroup);\n        var datalabelGroup;\n        if (accumulation.accumulationDataLabelModule && this.dataLabel.visible) {\n            datalabelGroup = accumulation.renderer.createGroup({ id: accumulation.element.id + '_datalabel_Series_' + this.index });\n            datalabelGroup.style.visibility =\n                (this.animation.enable && accumulation.animateSeries && this.type === 'Pie') ? 'hidden' : 'visible';\n            this.renderDataLabel(accumulation, datalabelGroup);\n        }\n        if (this.type === 'Pie') {\n            this.findMaxBounds(this.labelBound, this.accumulationBound);\n            accumulation.pieSeriesModule.animateSeries(accumulation, this.animation, this, seriesGroup);\n        }\n        if (accumulation.accumulationLegendModule) {\n            this.labelBound.x -= accumulation.explodeDistance;\n            this.labelBound.y -= accumulation.explodeDistance;\n            this.labelBound.height += (accumulation.explodeDistance - this.labelBound.y);\n            this.labelBound.width += (accumulation.explodeDistance - this.labelBound.x);\n        }\n    };\n    /**\n     * Method render the points elements for accumulation chart series.\n     */\n    AccumulationSeries.prototype.renderPoints = function (accumulation, seriesGroup) {\n        var pointId = accumulation.element.id + '_Series_' + this.index + '_Point_';\n        var option;\n        for (var _i = 0, _a = this.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            var argsData = {\n                cancel: false, name: pointRender, series: this, point: point, fill: point.color,\n                border: this.isEmpty(point) ? { width: this.emptyPointSettings.border.width, color: this.emptyPointSettings.border.color } :\n                    { width: this.border.width, color: this.border.color }\n            };\n            accumulation.trigger(pointRender, argsData);\n            point.color = argsData.fill;\n            if (point.visible) {\n                option = new PathOption(pointId + point.index, point.color, argsData.border.width || 1, argsData.border.color || point.color, 1, '', '');\n                accumulation[(firstToLowerCase(this.type) + 'SeriesModule')].\n                    renderPoint(point, this, accumulation, option);\n                seriesGroup.appendChild(accumulation.renderer.drawPath(option));\n            }\n        }\n        accumulation.getSeriesElement().appendChild(seriesGroup);\n    };\n    /**\n     * Method render the datalabel elements for accumulation chart.\n     */\n    AccumulationSeries.prototype.renderDataLabel = function (accumulation, datalabelGroup) {\n        accumulation.accumulationDataLabelModule.findAreaRect();\n        var element = createElement('div', {\n            id: accumulation.element.id + '_Series_0' + '_DataLabelCollections'\n        });\n        for (var _i = 0, _a = this.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (point.visible) {\n                accumulation.accumulationDataLabelModule.renderDataLabel(point, this.dataLabel, datalabelGroup, this.points, this.index, element);\n            }\n        }\n        if (this.dataLabel.template !== null && element.childElementCount) {\n            getElement(accumulation.element.id + '_Secondary_Element').appendChild(element);\n        }\n        accumulation.getSeriesElement().appendChild(datalabelGroup);\n    };\n    /**\n     * To find maximum bounds for smart legend placing\n     * @private\n     */\n    AccumulationSeries.prototype.findMaxBounds = function (totalbound, bound) {\n        totalbound.x = bound.x < totalbound.x ? bound.x : totalbound.x;\n        totalbound.y = bound.y < totalbound.y ? bound.y : totalbound.y;\n        totalbound.height = (bound.y + bound.height) > totalbound.height ? (bound.y + bound.height) : totalbound.height;\n        totalbound.width = (bound.x + bound.width) > totalbound.width ? (bound.x + bound.width) : totalbound.width;\n    };\n    /**\n     * To set empty point value for null points\n     * @private\n     */\n    AccumulationSeries.prototype.setAccEmptyPoint = function (point, i, data, colors) {\n        if (!isNullOrUndefined(point.y)) {\n            return null;\n        }\n        point.color = this.emptyPointSettings.fill || point.color;\n        switch (this.emptyPointSettings.mode) {\n            case 'Zero':\n                point.y = 0;\n                point.visible = true;\n                break;\n            case 'Average':\n                var previous = data[i - 1] ? (data[i - 1][this.yName] || 0) : 0;\n                var next = data[i + 1] ? (data[i + 1][this.yName] || 0) : 0;\n                point.y = (Math.abs(previous) + Math.abs(next)) / 2;\n                this.sumOfPoints += point.y;\n                point.visible = true;\n                break;\n            case 'Drop':\n                point.visible = false;\n                break;\n        }\n    };\n    /**\n     * To find point is empty\n     */\n    AccumulationSeries.prototype.isEmpty = function (point) {\n        return point.color === this.emptyPointSettings.fill;\n    };\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], AccumulationSeries.prototype, \"query\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"xName\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"yName\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationSeries.prototype, \"visible\", void 0);\n    __decorate([\n        Complex({ color: null, width: 0 }, Border)\n    ], AccumulationSeries.prototype, \"border\", void 0);\n    __decorate([\n        Complex(null, Animation)\n    ], AccumulationSeries.prototype, \"animation\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], AccumulationSeries.prototype, \"legendShape\", void 0);\n    __decorate([\n        Property('')\n    ], AccumulationSeries.prototype, \"pointColorMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationSeries.prototype, \"selectionStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationSeries.prototype, \"groupTo\", void 0);\n    __decorate([\n        Complex({}, AccumulationDataLabelSettings)\n    ], AccumulationSeries.prototype, \"dataLabel\", void 0);\n    __decorate([\n        Property([])\n    ], AccumulationSeries.prototype, \"palettes\", void 0);\n    __decorate([\n        Property(0)\n    ], AccumulationSeries.prototype, \"startAngle\", void 0);\n    __decorate([\n        Property(360)\n    ], AccumulationSeries.prototype, \"endAngle\", void 0);\n    __decorate([\n        Property('80%')\n    ], AccumulationSeries.prototype, \"radius\", void 0);\n    __decorate([\n        Property('0')\n    ], AccumulationSeries.prototype, \"innerRadius\", void 0);\n    __decorate([\n        Property('Pie')\n    ], AccumulationSeries.prototype, \"type\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationSeries.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], AccumulationSeries.prototype, \"explode\", void 0);\n    __decorate([\n        Property('30%')\n    ], AccumulationSeries.prototype, \"explodeOffset\", void 0);\n    __decorate([\n        Property(false)\n    ], AccumulationSeries.prototype, \"explodeAll\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationSeries.prototype, \"explodeIndex\", void 0);\n    __decorate([\n        Complex({ mode: 'Drop' }, EmptyPointSettings)\n    ], AccumulationSeries.prototype, \"emptyPointSettings\", void 0);\n    __decorate([\n        Property(0)\n    ], AccumulationSeries.prototype, \"gapRatio\", void 0);\n    __decorate([\n        Property('80%')\n    ], AccumulationSeries.prototype, \"width\", void 0);\n    __decorate([\n        Property('80%')\n    ], AccumulationSeries.prototype, \"height\", void 0);\n    __decorate([\n        Property('20%')\n    ], AccumulationSeries.prototype, \"neckWidth\", void 0);\n    __decorate([\n        Property('20%')\n    ], AccumulationSeries.prototype, \"neckHeight\", void 0);\n    __decorate([\n        Property('Linear')\n    ], AccumulationSeries.prototype, \"pyramidMode\", void 0);\n    __decorate([\n        Property(1)\n    ], AccumulationSeries.prototype, \"opacity\", void 0);\n    return AccumulationSeries;\n}(ChildProperty));\nexport { AccumulationSeries };\n/**\n * method to get series from index\n * @private\n */\nexport function getSeriesFromIndex(index, visibleSeries) {\n    for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n        var series = visibleSeries_1[_i];\n        if (index === series.index) {\n            return series;\n        }\n    }\n    return visibleSeries[0];\n}\n/**\n * method to get point from index\n * @private\n */\nexport function pointByIndex(index, points) {\n    for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n        var point = points_1[_i];\n        if (point.index === index) {\n            return point;\n        }\n    }\n    return null;\n}\n","import { isNullOrUndefined, merge } from './util';\nvar headerRegex = /^(.*?):[ \\t]*([^\\r\\n]*)$/gm;\nvar defaultType = 'GET';\n/**\n * Ajax class provides ability to make asynchronous HTTP request to the server\n * ```typescript\n *   var ajax = new Ajax(\"index.html\", \"GET\", true);\n *   ajax.send().then(\n *               function (value) {\n *                   console.log(value);\n *               },\n *               function (reason) {\n *                   console.log(reason);\n *               });\n * ```\n */\nvar Ajax = /** @class */ (function () {\n    /**\n     * Constructor for Ajax class\n     * @param  {string|Object} options?\n     * @param  {string} type?\n     * @param  {boolean} async?\n     * @returns defaultType\n     */\n    function Ajax(options, type, async) {\n        /**\n         * A boolean value indicating whether the request should be sent asynchronous or not.\n         * @default true\n         */\n        this.mode = true;\n        this.options = {};\n        if (typeof options === 'string') {\n            this.url = options;\n            this.type = type ? type.toUpperCase() : defaultType;\n            this.mode = !isNullOrUndefined(async) ? async : true;\n        }\n        else if (typeof options === 'object') {\n            this.options = options;\n            merge(this, this.options);\n        }\n        this.type = this.type ? this.type.toUpperCase() : defaultType;\n    }\n    /**\n     * Send the request to server.\n     * @param {any} data - To send the user data\n     * @return {Promise}\n     */\n    Ajax.prototype.send = function (data) {\n        var _this = this;\n        this.data = isNullOrUndefined(data) ? this.data : data;\n        var promise = new Promise(function (resolve, reject) {\n            _this.httpRequest = new XMLHttpRequest();\n            _this.httpRequest.onreadystatechange = function () { _this.stateChange(resolve, reject); };\n            _this.httpRequest.open(_this.type, _this.url, _this.mode);\n            // Set default headers\n            if (!isNullOrUndefined(_this.data)) {\n                _this.httpRequest.setRequestHeader('Content-Type', _this.contentType || 'application/json; charset=utf-8');\n            }\n            if (_this.beforeSend) {\n                _this.beforeSend();\n            }\n            _this.httpRequest.send(!isNullOrUndefined(_this.data) ? _this.data : null);\n        });\n        return promise;\n    };\n    Ajax.prototype.successHandler = function (data) {\n        if (this.onSuccess) {\n            this.onSuccess(data, this);\n        }\n        return data;\n    };\n    Ajax.prototype.failureHandler = function (reason) {\n        if (this.onFailure) {\n            this.onFailure(this.httpRequest);\n        }\n        return reason;\n    };\n    Ajax.prototype.stateChange = function (resolve, reject) {\n        var data = this.httpRequest.responseText;\n        if (this.dataType && this.dataType.toLowerCase() === 'json') {\n            if (data === '') {\n                data = undefined;\n            }\n            else {\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (error) {\n                    // no exception handle\n                }\n            }\n        }\n        if (this.httpRequest.readyState === 4) {\n            if (this.httpRequest.status === 200 || this.httpRequest.status === 304) {\n                resolve(this.successHandler(data));\n            }\n            else {\n                reject(new Error(this.failureHandler(this.httpRequest.statusText)));\n            }\n        }\n    };\n    /**\n     * To get the response header from XMLHttpRequest\n     * @param  {string} key Key to search in the response header\n     * @returns {string}\n     */\n    Ajax.prototype.getResponseHeader = function (key) {\n        var responseHeaders;\n        var header;\n        responseHeaders = {};\n        var headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        while (headers) {\n            responseHeaders[headers[1].toLowerCase()] = headers[2];\n            headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        }\n        header = responseHeaders[key.toLowerCase()];\n        return isNullOrUndefined(header) ? null : header;\n    };\n    return Ajax;\n}());\nexport { Ajax };\n","import { debounce, extend } from './util';\n/**\n * EventHandler class provides option to add, remove, clear and trigger events to a HTML DOM element\n * @private\n * ```html\n * <div id=\"Eventdiv\">  </div>\n * <script>\n *   let node: HTMLElement = document.querySelector(\"#Eventdiv\");\n *   EventHandler.addEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   EventHandler.addEventListener(node, \"onmouseover\", function(){\n *       // mouseover handler function code\n *   });\n *   EventHandler.removeEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   eventObj.clearEvents();\n * </script>\n * ```\n */\nvar EventHandler = /** @class */ (function () {\n    function EventHandler() {\n    }\n    // to get the event data based on element\n    EventHandler.addOrGetEventData = function (element) {\n        if ('__eventList' in element) {\n            return element.__eventList.events;\n        }\n        else {\n            element.__eventList = {};\n            return element.__eventList.events = [];\n        }\n    };\n    /**\n     * Add an event to the specified DOM element.\n     * @param {any} element - Target HTML DOM element\n     * @param {string} eventName - A string that specifies the name of the event\n     * @param {Function} listener - Specifies the function to run when the event occurs\n     * @param {Object} bindTo - A object that binds 'this' variable in the event handler\n     * @param {number} debounce - Specifies at what interval given event listener should be triggered.\n     * @return {Function}\n     */\n    EventHandler.add = function (element, eventName, listener, bindTo, intDebounce) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var debounceListener;\n        if (intDebounce) {\n            debounceListener = debounce(listener, intDebounce);\n        }\n        else {\n            debounceListener = listener;\n        }\n        if (bindTo) {\n            debounceListener = debounceListener.bind(bindTo);\n        }\n        var event = eventName.split(' ');\n        for (var i = 0; i < event.length; i++) {\n            eventData.push({\n                name: event[i],\n                listener: listener,\n                debounce: debounceListener\n            });\n            element.addEventListener(event[i], debounceListener);\n        }\n        return debounceListener;\n    };\n    /**\n     * Remove an event listener that has been attached before.\n     * @param {any} element - Specifies the target html element to remove the event\n     * @param {string} eventName - A string that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    EventHandler.remove = function (element, eventName, listener) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var event = eventName.split(' ');\n        var _loop_1 = function (j) {\n            var index = -1;\n            var debounceListener;\n            if (eventData && eventData.length !== 0) {\n                eventData.some(function (x, i) {\n                    return x.name === event[j] && x.listener === listener ?\n                        (index = i, debounceListener = x.debounce, true) : false;\n                });\n            }\n            if (index !== -1) {\n                eventData.splice(index, 1);\n            }\n            if (debounceListener) {\n                element.removeEventListener(event[j], debounceListener);\n            }\n        };\n        for (var j = 0; j < event.length; j++) {\n            _loop_1(j);\n        }\n    };\n    /**\n     * Clear all the event listeners that has been previously attached to the element.\n     * @param {any} element - Specifies the target html element to clear the events\n     * @return {void}\n     */\n    EventHandler.clearEvents = function (element) {\n        var eventData;\n        var copyData;\n        eventData = EventHandler.addOrGetEventData(element);\n        copyData = extend([], copyData, eventData);\n        for (var i = 0; i < copyData.length; i++) {\n            element.removeEventListener(copyData[i].name, copyData[i].debounce);\n            eventData.shift();\n        }\n    };\n    /**\n     * Trigger particular event of the element.\n     * @param {any} element - Specifies the target html element to trigger the events\n     * @param {string} eventName - Specifies the event to trigger for the specified element.\n     * Can be a custom event, or any of the standard events.\n     * @param {any} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    EventHandler.trigger = function (element, eventName, eventProp) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var fn = null;\n        for (var _i = 0, eventData_1 = eventData; _i < eventData_1.length; _i++) {\n            var event_1 = eventData_1[_i];\n            if (event_1.name === eventName) {\n                event_1.debounce.call(this, eventProp);\n            }\n        }\n    };\n    return EventHandler;\n}());\nexport { EventHandler };\n","import { isNullOrUndefined, getValue } from './util';\nvar Observer = /** @class */ (function () {\n    function Observer(context) {\n        this.boundedEvents = {};\n        if (isNullOrUndefined(context)) {\n            return;\n        }\n        this.context = context;\n    }\n    ;\n    /**\n     * To attach handler for given property in current context.\n     * @param {string} property - specifies the name of the event.\n     * @param {Function} handler - Specifies the handler function to be called while event notified.\n     * @param {Object} context - Specifies the context binded to the handler.\n     * @return {void}\n     */\n    Observer.prototype.on = function (property, handler, context) {\n        if (isNullOrUndefined(handler)) {\n            return;\n        }\n        var cntxt = context || this.context;\n        if (this.notExist(property)) {\n            this.boundedEvents[property] = [{ handler: handler, context: cntxt }];\n            return;\n        }\n        if (!this.isHandlerPresent(this.boundedEvents[property], handler)) {\n            this.boundedEvents[property].push({ handler: handler, context: cntxt });\n        }\n    };\n    /**\n     * To remove handlers from a event attached using on() function.\n     * @param {string} eventName - specifies the name of the event.\n     * @param {Function} handler - Optional argument specifies the handler function to be called while event notified.\n     * @return {void}\n     */\n    Observer.prototype.off = function (property, handler) {\n        if (this.notExist(property)) {\n            return;\n        }\n        var curObject = getValue(property, this.boundedEvents);\n        if (handler) {\n            for (var i = 0; i < curObject.length; i++) {\n                if (handler === curObject[i].handler) {\n                    curObject.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        else {\n            delete this.boundedEvents[property];\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     *  @param {Object} args - Additional parameters to pass while calling the handler.\n     * @return {void}\n     */\n    Observer.prototype.notify = function (property, argument) {\n        if (this.notExist(property)) {\n            return;\n        }\n        if (argument) {\n            argument.name = property;\n        }\n        var curObject = getValue(property, this.boundedEvents).slice(0);\n        for (var _i = 0, curObject_1 = curObject; _i < curObject_1.length; _i++) {\n            var cur = curObject_1[_i];\n            cur.handler.call(cur.context, argument);\n        }\n    };\n    /**\n     * To destroy handlers in the event\n     */\n    Observer.prototype.destroy = function () {\n        this.boundedEvents = this.context = undefined;\n    };\n    /**\n     * Returns if the property exists.\n     */\n    Observer.prototype.notExist = function (prop) {\n        return this.boundedEvents.hasOwnProperty(prop) === false;\n    };\n    /**\n     * Returns if the handler is present.\n     */\n    Observer.prototype.isHandlerPresent = function (boundedEvents, handler) {\n        for (var _i = 0, boundedEvents_1 = boundedEvents; _i < boundedEvents_1.length; _i++) {\n            var cur = boundedEvents_1[_i];\n            if (cur.handler === handler) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Observer;\n}());\nexport { Observer };\n","import { isUndefined, isNullOrUndefined, merge, setImmediate, setValue } from './util';\nimport { addClass, removeClass } from './dom';\nimport { Observer } from './observer';\n/* tslint:enable:no-any */\n/**\n * Base library module is common module for Framework modules like touch,keyboard and etc.,\n * @private\n */\nvar Base = /** @class */ (function () {\n    /**\n     * Base constructor accept options and element\n     */\n    function Base(options, element) {\n        this.isProtectedOnChange = true;\n        this.properties = {};\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.refreshing = false;\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.childChangedProperties = {};\n        this.modelObserver = new Observer(this);\n        if (!isUndefined(element)) {\n            if ('string' === typeof (element)) {\n                this.element = document.querySelector(element);\n            }\n            else {\n                this.element = element;\n            }\n            if (!isNullOrUndefined(this.element)) {\n                this.isProtectedOnChange = false;\n                this.addInstance();\n            }\n        }\n        if (!isUndefined(options)) {\n            this.setProperties(options, true);\n        }\n        this.isDestroyed = false;\n    }\n    /** Property base section */\n    /**\n     * Function used to set bunch of property at a time.\n     * @private\n     * @param  {Object} prop - JSON object which holds components properties.\n     * @param  {boolean} muteOnChange? - Specifies to true when we set properties.\n     */\n    Base.prototype.setProperties = function (prop, muteOnChange) {\n        var prevDetection = this.isProtectedOnChange;\n        this.isProtectedOnChange = !!muteOnChange;\n        merge(this, prop);\n        if (muteOnChange !== true) {\n            merge(this.changedProperties, prop);\n            this.dataBind();\n        }\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.isProtectedOnChange = prevDetection;\n    };\n    ;\n    /**\n     * Calls for child element data bind\n     * @param {Object} obj\n     * @param {Object} parent\n     * @returns {void}\n     */\n    // tslint:disable-next-line:no-any\n    Base.callChildDataBind = function (obj, parent) {\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (parent[key] instanceof Array) {\n                for (var _a = 0, _b = parent[key]; _a < _b.length; _a++) {\n                    var obj_1 = _b[_a];\n                    if (obj_1.dataBind !== undefined) {\n                        obj_1.dataBind();\n                    }\n                }\n            }\n            else {\n                parent[key].dataBind();\n            }\n        }\n    };\n    Base.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.childChangedProperties = {};\n    };\n    /**\n     * Bind property changes immediately to components\n     */\n    Base.prototype.dataBind = function () {\n        Base.callChildDataBind(this.childChangedProperties, this);\n        if (Object.getOwnPropertyNames(this.changedProperties).length) {\n            var prevDetection = this.isProtectedOnChange;\n            var newChanges = this.changedProperties;\n            var oldChanges = this.oldProperties;\n            this.clearChanges();\n            this.isProtectedOnChange = true;\n            this.onPropertyChanged(newChanges, oldChanges);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    ;\n    Base.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.finalUpdate();\n        this.finalUpdate = setImmediate(this.dataBind.bind(this));\n    };\n    ;\n    /** Event Base Section */\n    /**\n     * Adds the handler to the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event\n     * @param {Function} listener - Specifies the call to run when the event occurs.\n     * @return {void}\n     */\n    Base.prototype.addEventListener = function (eventName, handler) {\n        this.modelObserver.on(eventName, handler);\n    };\n    /**\n     * Removes the handler from the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    Base.prototype.removeEventListener = function (eventName, handler) {\n        this.modelObserver.off(eventName, handler);\n    };\n    /**\n     * Triggers the handlers in the specified event.\n     * @private\n     * @param {string} eventName - Specifies the event to trigger for the specified component properties.\n     * Can be a custom event, or any of the standard events.\n     * @param {Event} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    Base.prototype.trigger = function (eventName, eventProp) {\n        if (this.isDestroyed !== true) {\n            var prevDetection = this.isProtectedOnChange;\n            this.isProtectedOnChange = false;\n            this.modelObserver.notify(eventName, eventProp);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    /**\n     * To maintain instance in base class\n     */\n    Base.prototype.addInstance = function () {\n        // Add module class to the root element\n        var moduleClass = 'e-' + this.getModuleName().toLowerCase();\n        addClass([this.element], ['e-control', moduleClass]);\n        if (!isNullOrUndefined(this.element.ej2_instances)) {\n            this.element.ej2_instances.push(this);\n        }\n        else {\n            setValue('ej2_instances', [this], this.element);\n        }\n    };\n    /**\n     * To remove the instance from the element\n     */\n    Base.prototype.destroy = function () {\n        var _this = this;\n        this.element.ej2_instances =\n            this.element.ej2_instances.filter(function (i) { return i !== _this; });\n        removeClass([this.element], ['e-' + this.getModuleName()]);\n        if (this.element.ej2_instances.length === 0) {\n            // Remove module class from the root element\n            removeClass([this.element], ['e-control']);\n        }\n        this.clearChanges();\n        this.modelObserver.destroy();\n        this.isDestroyed = true;\n    };\n    return Base;\n}());\nexport { Base };\n","import { isUndefined } from './util';\nvar REGX_MOBILE = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i;\nvar REGX_IE = /msie|trident/i;\nvar REGX_IE11 = /Trident\\/7\\./;\nvar REGX_IOS = /(ipad|iphone|ipod touch)/i;\nvar REGX_IOS7 = /(ipad|iphone|ipod touch);.*os 7_\\d|(ipad|iphone|ipod touch);.*os 8_\\d/i;\nvar REGX_ANDROID = /android/i;\nvar REGX_WINDOWS = /trident|windows phone|edge/i;\nvar REGX_VERSION = /(version)[ \\/]([\\w.]+)/i;\nvar REGX_BROWSER = {\n    OPERA: /(opera|opr)(?:.*version|)[ \\/]([\\w.]+)/i,\n    EDGE: /(edge)(?:.*version|)[ \\/]([\\w.]+)/i,\n    CHROME: /(chrome|crios)[ \\/]([\\w.]+)/i,\n    PANTHOMEJS: /(phantomjs)[ \\/]([\\w.]+)/i,\n    SAFARI: /(safari)[ \\/]([\\w.]+)/i,\n    WEBKIT: /(webkit)[ \\/]([\\w.]+)/i,\n    MSIE: /(msie|trident) ([\\w.]+)/i,\n    MOZILLA: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n};\n/* istanbul ignore else  */\nif (typeof window !== 'undefined') {\n    window.browserDetails = window.browserDetails || {};\n}\n/**\n * Get configuration details for Browser\n * @private\n */\nvar Browser = /** @class */ (function () {\n    function Browser() {\n    }\n    Browser.extractBrowserDetail = function () {\n        var browserInfo = { culture: {} };\n        var keys = Object.keys(REGX_BROWSER);\n        var clientInfo = [];\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            clientInfo = Browser.userAgent.match(REGX_BROWSER[key]);\n            if (clientInfo) {\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'opr' ? 'opera' : clientInfo[1].toLowerCase());\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'crios' ? 'chrome' : browserInfo.name);\n                browserInfo.version = clientInfo[2];\n                browserInfo.culture.name = browserInfo.culture.language = navigator.language;\n                if (!!Browser.userAgent.match(REGX_IE11)) {\n                    browserInfo.name = 'msie';\n                    break;\n                }\n                var version = Browser.userAgent.match(REGX_VERSION);\n                if (browserInfo.name === 'safari' && version) {\n                    browserInfo.version = version[2];\n                }\n                break;\n            }\n        }\n        return browserInfo;\n    };\n    /**\n     * To get events from the browser\n     * @param {string} event - type of event triggered.\n     * @returns {Boolean}\n     */\n    Browser.getEvent = function (event) {\n        // tslint:disable-next-line:no-any\n        var events = {\n            start: {\n                isPointer: 'pointerdown', isTouch: 'touchstart', isDevice: 'mousedown'\n            },\n            move: {\n                isPointer: 'pointermove', isTouch: 'touchmove', isDevice: 'mousemove'\n            },\n            end: {\n                isPointer: 'pointerup', isTouch: 'touchend', isDevice: 'mouseup'\n            }\n        };\n        return (Browser.isPointer ? events[event].isPointer :\n            (Browser.isTouch ? events[event].isTouch + (!Browser.isDevice ? ' ' + events[event].isDevice : '')\n                : events[event].isDevice));\n    };\n    /**\n     * To get the Touch start event from browser\n     * @returns {string}\n     */\n    Browser.getTouchStartEvent = function () {\n        return Browser.getEvent('start');\n    };\n    /**\n     * To get the Touch end event from browser\n     * @returns {string}\n     */\n    Browser.getTouchEndEvent = function () {\n        return Browser.getEvent('end');\n    };\n    /**\n     * To get the Touch move event from browser\n     * @returns {string}\n     */\n    Browser.getTouchMoveEvent = function () {\n        return Browser.getEvent('move');\n    };\n    /**\n     * To get the value based on provided key and regX\n     * @param {string} key\n     * @param {RegExp} regX\n     * @returns {Object}\n     */\n    Browser.getValue = function (key, regX) {\n        var browserDetails = window.browserDetails;\n        if ('undefined' === typeof browserDetails[key]) {\n            return browserDetails[key] = regX.test(Browser.userAgent);\n        }\n        return browserDetails[key];\n    };\n    Object.defineProperty(Browser, \"userAgent\", {\n        get: function () {\n            return Browser.uA;\n        },\n        //Properties \n        /**\n         * Property specifies the userAgent of the browser. Default userAgent value is based on the browser.\n         * Also we can set our own userAgent.\n         */\n        set: function (uA) {\n            Browser.uA = uA;\n            window.browserDetails = {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"info\", {\n        //Read Only Properties\n        /**\n         * Property is to get the browser information like Name, Version and Language\n         * @returns BrowserInfo\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.info)) {\n                return window.browserDetails.info = Browser.extractBrowserDetail();\n            }\n            return window.browserDetails.info;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIE\", {\n        /**\n         * Property is to get whether the userAgent is based IE.\n         */\n        get: function () {\n            return Browser.getValue('isIE', REGX_IE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isTouch\", {\n        /**\n         * Property is to get whether the browser has touch support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isTouch)) {\n                return window.browserDetails.isTouch = ('ontouchstart' in window);\n            }\n            return window.browserDetails.isTouch;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isPointer\", {\n        /**\n         * Property is to get whether the browser has Pointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isPointer)) {\n                return window.browserDetails.isPointer = ('pointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isMSPointer\", {\n        /**\n         * Property is to get whether the browser has MSPointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isMSPointer)) {\n                return window.browserDetails.isMSPointer = ('msPointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isMSPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isDevice\", {\n        /**\n         * Property is to get whether the userAgent is device based.\n         */\n        get: function () {\n            return Browser.getValue('isDevice', REGX_MOBILE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos\", {\n        /**\n         * Property is to get whether the userAgent is IOS.\n         */\n        get: function () {\n            return Browser.getValue('isIos', REGX_IOS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos7\", {\n        /**\n         * Property is to get whether the userAgent is Ios7.\n         */\n        get: function () {\n            return Browser.getValue('isIos7', REGX_IOS7);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isAndroid\", {\n        /**\n         * Property is to get whether the userAgent is Android.\n         */\n        get: function () {\n            return Browser.getValue('isAndroid', REGX_ANDROID);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWebView\", {\n        /**\n         * Property is to identify whether application ran in web view.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isWebView)) {\n                window.browserDetails.isWebView = !(isUndefined(window.cordova) && isUndefined(window.PhoneGap)\n                    && isUndefined(window.phonegap) && window.forge !== 'object');\n                return window.browserDetails.isWebView;\n            }\n            return window.browserDetails.isWebView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWindows\", {\n        /**\n         * Property is to get whether the userAgent is Windows.\n         */\n        get: function () {\n            return Browser.getValue('isWindows', REGX_WINDOWS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchStartEvent\", {\n        /**\n         * Property is to get the touch start event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchStartEvent)) {\n                return window.browserDetails.touchStartEvent = Browser.getTouchStartEvent();\n            }\n            return window.browserDetails.touchStartEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchMoveEvent\", {\n        /**\n         * Property is to get the touch move event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchMoveEvent)) {\n                return window.browserDetails.touchMoveEvent = Browser.getTouchMoveEvent();\n            }\n            return window.browserDetails.touchMoveEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchEndEvent\", {\n        /**\n         * Property is to get the touch end event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchEndEvent)) {\n                return window.browserDetails.touchEndEvent = Browser.getTouchEndEvent();\n            }\n            return window.browserDetails.touchEndEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /* istanbul ignore next */\n    Browser.uA = typeof navigator !== 'undefined' ? navigator.userAgent : '';\n    return Browser;\n}());\nexport { Browser };\n","import { throwError, getValue, isNullOrUndefined, extend } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { DateFormat } from './date-formatter';\nimport { NumberFormat } from './number-formatter';\n/**\n * Date base common constants and function for date parser and formatter.\n */\nexport var IntlBase;\n(function (IntlBase) {\n    // tslint:disable-next-line:max-line-length\n    IntlBase.negativeDataRegex = /^(('[^']+'|''|[^*#@0,.E])*)(\\*.)?((([#,]*[0,]*0+)(\\.0*[0-9]*#*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\\*.)?((([0#,]*[0,]*[0#]*)(\\.[0#]*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.latnParseRegex = /0|1|2|3|4|5|6|7|8|9/g;\n    var fractionRegex = /[0-9]/g;\n    IntlBase.defaultCurrency = '$';\n    var mapper = ['infinity', 'nan', 'group', 'decimal'];\n    var patternRegex = /G|M|L|H|c|'| a|yy|y|EEEE|E/g;\n    var patternMatch = {\n        'G': '',\n        'M': 'm',\n        'L': 'm',\n        'H': 'h',\n        'c': 'd',\n        '\\'': '\"',\n        ' a': ' AM/PM',\n        'yy': 'yy',\n        'y': 'yyyy',\n        'EEEE': 'dddd',\n        'E': 'ddd'\n    };\n    IntlBase.formatRegex = /(^[ncpa]{1})([0-1]?[0-9]|20)?$/i;\n    var typeMapper = {\n        '$': 'isCurrency',\n        '%': 'isPercent',\n        '-': 'isNegative',\n        0: 'nlead',\n        1: 'nend'\n    };\n    IntlBase.dateParseRegex = /([a-z])\\1*|'([^']|'')+'|''|./gi;\n    IntlBase.basicPatterns = ['short', 'medium', 'long', 'full'];\n    /* tslint:disable:quotemark */\n    IntlBase.defaultObject = {\n        'dates': {\n            'calendars': {\n                'gregorian': {\n                    'months': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                '1': 'Jan',\n                                '2': 'Feb',\n                                '3': 'Mar',\n                                '4': 'Apr',\n                                '5': 'May',\n                                '6': 'Jun',\n                                '7': 'Jul',\n                                '8': 'Aug',\n                                '9': 'Sep',\n                                '10': 'Oct',\n                                '11': 'Nov',\n                                '12': 'Dec'\n                            },\n                            'narrow': {\n                                '1': 'J',\n                                '2': 'F',\n                                '3': 'M',\n                                '4': 'A',\n                                '5': 'M',\n                                '6': 'J',\n                                '7': 'J',\n                                '8': 'A',\n                                '9': 'S',\n                                '10': 'O',\n                                '11': 'N',\n                                '12': 'D'\n                            },\n                            'wide': {\n                                '1': 'January',\n                                '2': 'February',\n                                '3': 'March',\n                                '4': 'April',\n                                '5': 'May',\n                                '6': 'June',\n                                '7': 'July',\n                                '8': 'August',\n                                '9': 'September',\n                                '10': 'October',\n                                '11': 'November',\n                                '12': 'December'\n                            }\n                        }\n                    },\n                    \"days\": {\n                        \"stand-alone\": {\n                            \"abbreviated\": {\n                                \"sun\": \"Sun\",\n                                \"mon\": \"Mon\",\n                                \"tue\": \"Tue\",\n                                \"wed\": \"Wed\",\n                                \"thu\": \"Thu\",\n                                \"fri\": \"Fri\",\n                                \"sat\": \"Sat\"\n                            },\n                            \"narrow\": {\n                                \"sun\": \"S\",\n                                \"mon\": \"M\",\n                                \"tue\": \"T\",\n                                \"wed\": \"W\",\n                                \"thu\": \"T\",\n                                \"fri\": \"F\",\n                                \"sat\": \"S\"\n                            },\n                            \"short\": {\n                                \"sun\": \"Su\",\n                                \"mon\": \"Mo\",\n                                \"tue\": \"Tu\",\n                                \"wed\": \"We\",\n                                \"thu\": \"Th\",\n                                \"fri\": \"Fr\",\n                                \"sat\": \"Sa\"\n                            },\n                            \"wide\": {\n                                \"sun\": \"Sunday\",\n                                \"mon\": \"Monday\",\n                                \"tue\": \"Tuesday\",\n                                \"wed\": \"Wednesday\",\n                                \"thu\": \"Thursday\",\n                                \"fri\": \"Friday\",\n                                \"sat\": \"Saturday\"\n                            }\n                        }\n                    },\n                    \"dayPeriods\": {\n                        \"format\": {\n                            \"wide\": {\n                                \"am\": \"AM\",\n                                \"pm\": \"PM\"\n                            }\n                        }\n                    },\n                    'eras': {\n                        'eraNames': {\n                            '0': 'Before Christ',\n                            '0-alt-variant': 'Before Common Era',\n                            '1': 'Anno Domini',\n                            \"1-alt-variant\": \"Common Era\"\n                        },\n                        'eraAbbr': {\n                            '0': 'BC',\n                            '0-alt-variant': 'BCE',\n                            '1': 'AD',\n                            '1-alt-variant': 'CE'\n                        },\n                        'eraNarrow': {\n                            '0': 'B',\n                            '0-alt-variant': 'BCE',\n                            '1': 'A',\n                            '1-alt-variant': 'CE'\n                        }\n                    },\n                    'dateFormats': {\n                        'full': 'EEEE, MMMM d, y',\n                        'long': 'MMMM d, y',\n                        'medium': 'MMM d, y',\n                        'short': 'M/d/yy'\n                    },\n                    'timeFormats': {\n                        'full': 'h:mm:ss a zzzz',\n                        'long': 'h:mm:ss a z',\n                        'medium': 'h:mm:ss a',\n                        'short': 'h:mm a'\n                    },\n                    'dateTimeFormats': {\n                        'full': \"{1} 'at' {0}\",\n                        'long': \"{1} 'at' {0}\",\n                        'medium': '{1}, {0}',\n                        'short': '{1}, {0}',\n                        'availableFormats': {\n                            'd': 'd',\n                            'E': 'ccc',\n                            'Ed': 'd E',\n                            'Ehm': 'E h:mm a',\n                            'EHm': 'E HH:mm',\n                            'Ehms': 'E h:mm:ss a',\n                            'EHms': 'E HH:mm:ss',\n                            'Gy': 'y G',\n                            'GyMMM': 'MMM y G',\n                            'GyMMMd': 'MMM d, y G',\n                            'GyMMMEd': 'E, MMM d, y G',\n                            'h': 'h a',\n                            'H': 'HH',\n                            'hm': 'h:mm a',\n                            'Hm': 'HH:mm',\n                            'hms': 'h:mm:ss a',\n                            'Hms': 'HH:mm:ss',\n                            'hmsv': 'h:mm:ss a v',\n                            'Hmsv': 'HH:mm:ss v',\n                            'hmv': 'h:mm a v',\n                            'Hmv': 'HH:mm v',\n                            'M': 'L',\n                            'Md': 'M/d',\n                            'MEd': 'E, M/d',\n                            'MMM': 'LLL',\n                            'MMMd': 'MMM d',\n                            'MMMEd': 'E, MMM d',\n                            'MMMMd': 'MMMM d',\n                            'ms': 'mm:ss',\n                            'y': 'y',\n                            'yM': 'M/y',\n                            'yMd': 'M/d/y',\n                            'yMEd': 'E, M/d/y',\n                            'yMMM': 'MMM y',\n                            'yMMMd': 'MMM d, y',\n                            'yMMMEd': 'E, MMM d, y',\n                            'yMMMM': 'MMMM y',\n                        },\n                    }\n                }\n            },\n            'timeZoneNames': {\n                \"hourFormat\": \"+HH:mm;-HH:mm\",\n                \"gmtFormat\": \"GMT{0}\",\n                \"gmtZeroFormat\": \"GMT\",\n            }\n        },\n        'numbers': {\n            'currencies': {\n                'USD': {\n                    'displayName': 'US Dollar',\n                    'symbol': '$',\n                    'symbol-alt-narrow': '$'\n                },\n                'EUR': {\n                    'displayName': 'Euro',\n                    'symbol': '€',\n                    'symbol-alt-narrow': '€'\n                },\n                'GBP': {\n                    'displayName': 'British Pound',\n                    'symbol-alt-narrow': '£'\n                },\n            },\n            'defaultNumberingSystem': 'latn',\n            'minimumGroupingDigits': '1',\n            'symbols-numberSystem-latn': {\n                'decimal': '.',\n                'group': ',',\n                'list': ';',\n                'percentSign': '%',\n                'plusSign': '+',\n                'minusSign': '-',\n                'exponential': 'E',\n                'superscriptingExponent': '×',\n                'perMille': '‰',\n                'infinity': '∞',\n                'nan': 'NaN',\n                'timeSeparator': ':'\n            },\n            'decimalFormats-numberSystem-latn': {\n                'standard': '#,##0.###',\n            },\n            'percentFormats-numberSystem-latn': {\n                'standard': '#,##0%'\n            },\n            'currencyFormats-numberSystem-latn': {\n                'standard': '¤#,##0.00',\n                'accounting': '¤#,##0.00;(¤#,##0.00)'\n            }\n        }\n    };\n    /* tslint:enable:quotemark */\n    IntlBase.monthIndex = {\n        3: 'abbreviated',\n        4: 'wide',\n        5: 'narrow',\n        1: 'abbreviated'\n    };\n    /**\n     *\n     */\n    IntlBase.month = 'months';\n    IntlBase.days = 'days';\n    /**\n     * Default numerber Object\n     */\n    IntlBase.patternMatcher = {\n        C: 'currency',\n        P: 'percent',\n        N: 'decimal',\n        A: 'currency'\n    };\n    /**\n     * Returns the resultant pattern based on the skeleton, dateObject and the type provided\n     * @private\n     * @param {string} skeleton\n     * @param {Object} dateObject\n     * @param {string} type\n     * @returns {string}\n     */\n    function getResultantPattern(skeleton, dateObject, type) {\n        var resPattern;\n        var iType = type || 'date';\n        if (IntlBase.basicPatterns.indexOf(skeleton) !== -1) {\n            resPattern = getValue(iType + 'Formats.' + skeleton, dateObject);\n            if (iType === 'dateTime') {\n                var dPattern = getValue('dateFormats.' + skeleton, dateObject);\n                var tPattern = getValue('timeFormats.' + skeleton, dateObject);\n                resPattern = resPattern.replace('{1}', dPattern).replace('{0}', tPattern);\n            }\n        }\n        else {\n            resPattern = getValue('dateTimeFormats.availableFormats.' + skeleton, dateObject);\n        }\n        return resPattern;\n    }\n    IntlBase.getResultantPattern = getResultantPattern;\n    /**\n     * Returns the dependable object for provided cldr data and culture\n     * @private\n     * @param {Object} cldr\n     * @param {string} culture\n     * @param {boolean} isNumber\n     * @returns {Dependables}\n     */\n    function getDependables(cldr, culture, isNumber) {\n        var ret = {};\n        ret.parserObject = parser.getMainObject(cldr, culture) || IntlBase.defaultObject;\n        if (isNumber) {\n            ret.numericObject = getValue('numbers', ret.parserObject);\n        }\n        else {\n            ret.dateObject = getValue('dates.calendars.gregorian', ret.parserObject);\n        }\n        return ret;\n    }\n    IntlBase.getDependables = getDependables;\n    /**\n     * Returns the symbol pattern for provided parameters\n     * @private\n     * @param {string} type\n     * @param {string} numSystem\n     * @param {Object} obj\n     * @param {boolean} isAccount\n     * @returns {string}\n     */\n    function getSymbolPattern(type, numSystem, obj, isAccount) {\n        return getValue(type + 'Formats-numberSystem-' +\n            numSystem + (isAccount ? '.accounting' : '.standard'), obj) || (isAccount ? getValue(type + 'Formats-numberSystem-' +\n            numSystem + '.standard', obj) : '');\n    }\n    IntlBase.getSymbolPattern = getSymbolPattern;\n    /**\n     * Returns proper numeric skeleton\n     * @private\n     * @param {string} skeleton\n     * @returns {NumericSkeleton}\n     */\n    function getProperNumericSkeleton(skeleton) {\n        var matches = skeleton.match(IntlBase.formatRegex);\n        var ret = {};\n        var pattern = matches[1].toUpperCase();\n        ret.isAccount = (pattern === 'A');\n        /* tslint:disable no-any */\n        ret.type = IntlBase.patternMatcher[pattern];\n        if (skeleton.length > 1) {\n            ret.fractionDigits = parseInt(matches[2], 10);\n        }\n        return ret;\n    }\n    IntlBase.getProperNumericSkeleton = getProperNumericSkeleton;\n    /**\n     * Returns format data for number formatting like minimum fraction, maximum fraction, etc..,\n     * @private\n     * @param {string} pattern\n     * @param {boolean} needFraction\n     * @param {string} cSymbol\n     * @param {boolean} fractionOnly\n     * @returns {NegativeData}\n     */\n    function getFormatData(pattern, needFraction, cSymbol, fractionOnly) {\n        var nData = fractionOnly ? {} : { nlead: '', nend: '' };\n        var match = pattern.match(IntlBase.customRegex);\n        if (match) {\n            if (!fractionOnly) {\n                nData.nlead = changeCurrencySymbol(match[1], cSymbol);\n                nData.nend = changeCurrencySymbol(match[10], cSymbol);\n                nData.groupPattern = match[4];\n            }\n            var fraction = match[7];\n            if (fraction && needFraction) {\n                var fmatch = fraction.match(fractionRegex);\n                if (!isNullOrUndefined(fmatch)) {\n                    nData.minimumFraction = fmatch.length;\n                }\n                else {\n                    nData.minimumFraction = 0;\n                }\n                nData.maximumFraction = fraction.length - 1;\n            }\n        }\n        return nData;\n    }\n    IntlBase.getFormatData = getFormatData;\n    /**\n     * Changes currency symbol\n     * @private\n     * @param {string} val\n     * @param {string} sym\n     * @returns {string}\n     */\n    function changeCurrencySymbol(val, sym) {\n        if (val) {\n            return val.replace(IntlBase.defaultCurrency, sym);\n        }\n        return '';\n    }\n    /**\n     * Returns currency symbol based on currency code\n     * @private\n     * @param {Object} numericObject\n     * @param {string} currencyCode\n     * @returns {string}\n     */\n    function getCurrencySymbol(numericObject, currencyCode) {\n        return getValue('currencies.' + currencyCode + '.symbol', numericObject) || '$';\n    }\n    IntlBase.getCurrencySymbol = getCurrencySymbol;\n    /**\n     * Returns formatting options for custom number format\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Dependables} obj\n     * @returns {GenericFormatOptions}\n     */\n    function customFormat(format, dOptions, obj) {\n        var options = {};\n        var formatSplit = format.split(';');\n        var data = ['pData', 'nData', 'zeroData'];\n        for (var i = 0; i < formatSplit.length; i++) {\n            options[data[i]] = customNumberFormat(formatSplit[i], dOptions, obj);\n        }\n        if (isNullOrUndefined(options.nData)) {\n            options.nData = extend({}, options.pData);\n            options.nData.nlead = isNullOrUndefined(dOptions) ? '-' + options.nData.nlead : dOptions.minusSymbol + options.nData.nlead;\n        }\n        return options;\n    }\n    IntlBase.customFormat = customFormat;\n    /**\n     * Returns custom formatting options\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Object} numObject\n     * @returns {NegativeData}\n     */\n    function customNumberFormat(format, dOptions, numObject) {\n        var cOptions = { type: 'decimal', minimumFractionDigits: 0, maximumFractionDigits: 0 };\n        var pattern = format.match(IntlBase.customRegex);\n        if (isNullOrUndefined(pattern) || pattern[5] === '') {\n            throwError('Given Format is not valid or Cldr data not loaded');\n        }\n        cOptions.nlead = pattern[1];\n        cOptions.nend = pattern[10];\n        var integerPart = pattern[6];\n        cOptions.useGrouping = integerPart.indexOf(',') !== -1;\n        integerPart = integerPart.replace(/,/g, '');\n        var fractionPart = pattern[7];\n        if (integerPart.indexOf('0') !== -1) {\n            cOptions.minimumIntegerDigits = integerPart.length - integerPart.indexOf('0');\n        }\n        if (!isNullOrUndefined(fractionPart)) {\n            cOptions.minimumFractionDigits = fractionPart.lastIndexOf('0');\n            cOptions.maximumFractionDigits = fractionPart.lastIndexOf('#');\n            if (cOptions.minimumFractionDigits === -1) {\n                cOptions.minimumFractionDigits = 0;\n            }\n            if (cOptions.maximumFractionDigits === -1 || cOptions.maximumFractionDigits < cOptions.minimumFractionDigits) {\n                cOptions.maximumFractionDigits = cOptions.minimumFractionDigits;\n            }\n        }\n        if (!isNullOrUndefined(dOptions)) {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '$', dOptions.currencySymbol));\n            if (!cOptions.isCurrency) {\n                extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', dOptions.percentSymbol));\n            }\n        }\n        else {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', '%'));\n        }\n        if (!isNullOrUndefined(numObject)) {\n            var symbolPattern = getSymbolPattern(cOptions.type, dOptions.numberMapper.numberSystem, numObject, false);\n            if (cOptions.useGrouping) {\n                cOptions.groupSeparator = dOptions.numberMapper.numberSymbols[mapper[2]];\n                cOptions.groupData = NumberFormat.getGroupingDetails(symbolPattern.split(';')[0]);\n            }\n            cOptions.nlead = cOptions.nlead.replace(/\\'/g, '');\n            cOptions.nend = cOptions.nend.replace(/\\'/g, '');\n        }\n        return cOptions;\n    }\n    /**\n     * Returns formatting options for currency or percent type\n     * @private\n     * @param {string[]} parts\n     * @param {string} actual\n     * @param {string} symbol\n     * @returns {NegativeData}\n     */\n    function isCurrencyPercent(parts, actual, symbol) {\n        var options = { nlead: parts[0], nend: parts[1] };\n        for (var i = 0; i < 2; i++) {\n            var part = parts[i];\n            var loc = part.indexOf(actual);\n            if ((loc !== -1) && ((loc < part.indexOf('\\'')) || (loc > part.lastIndexOf('\\'')))) {\n                options[typeMapper[i]] = part.substr(0, loc) + symbol + part.substr(loc + 1);\n                options[typeMapper[actual]] = true;\n                options.type = options.isCurrency ? 'currency' : 'percent';\n                break;\n            }\n        }\n        return options;\n    }\n    IntlBase.isCurrencyPercent = isCurrencyPercent;\n    /**\n     * Returns culture based date separator\n     * @private\n     * @param {Object} dateObj\n     * @returns {string}\n     */\n    function getDateSeparator(dateObj) {\n        var value = (getValue('dateFormats.short', dateObj) || '').match(/[d‏M‏]([^d‏M])[d‏M‏]/i);\n        return value ? value[1] : '/';\n    }\n    IntlBase.getDateSeparator = getDateSeparator;\n    /**\n     * Returns Native Date Time pattern\n     * @private\n     * @param {string} culture\n     * @param {DateFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualDateTimeFormat(culture, options, cldr, isExcelFormat) {\n        var dependable = getDependables(cldr, culture);\n        var actualPattern = options.format || getResultantPattern(options.skeleton, dependable.dateObject, options.type);\n        if (isExcelFormat) {\n            actualPattern = actualPattern.replace(patternRegex, function (pattern) {\n                return patternMatch[pattern];\n            });\n            if (actualPattern.indexOf('z') !== -1) {\n                var tLength = actualPattern.match(/z/g).length;\n                var timeZonePattern = void 0;\n                var options_1 = { 'timeZone': {} };\n                options_1.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n                options_1.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                var value = new Date();\n                var timezone = value.getTimezoneOffset();\n                var pattern = (tLength < 4) ? '+H;-H' : options_1.timeZone.hourFormat;\n                pattern = pattern.replace(/:/g, options_1.numMapper.timeSeparator);\n                if (timezone === 0) {\n                    timeZonePattern = options_1.timeZone.gmtZeroFormat;\n                }\n                else {\n                    timeZonePattern = DateFormat.getTimeZoneValue(timezone, pattern);\n                    timeZonePattern = options_1.timeZone.gmtFormat.replace(/\\{0\\}/, timeZonePattern);\n                }\n                actualPattern = actualPattern.replace(/[z]+/, '\"' + timeZonePattern + '\"');\n            }\n            actualPattern = actualPattern.replace(/ $/, '');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualDateTimeFormat = getActualDateTimeFormat;\n    /**\n     * Returns Native Number pattern\n     * @private\n     * @param {string} culture\n     * @param {NumberFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualNumberFormat(culture, options, cldr) {\n        var dependable = getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var minFrac;\n        if ((/(c|a)$/ig).test(options.format) && !options.minimumFractionDigits && !options.maximumFractionDigits) {\n            var dOptions = {};\n            dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n            var symbolPattern = getSymbolPattern('currency', dOptions.numberMapper.numberSystem, dependable.numericObject, (/a/i).test(options.format));\n            minFrac = getFormatData(symbolPattern.split(';')[0], true, '', true).minimumFraction;\n        }\n        var actualPattern;\n        if ((IntlBase.formatRegex.test(options.format)) || !(options.format)) {\n            extend(parseOptions, getProperNumericSkeleton(options.format || 'N'));\n            parseOptions.custom = false;\n            actualPattern = '###0';\n            if (parseOptions.fractionDigits || options.minimumFractionDigits || options.maximumFractionDigits || minFrac) {\n                var defaultMinimum = 0;\n                if (parseOptions.fractionDigits) {\n                    options.minimumFractionDigits = options.maximumFractionDigits = parseOptions.fractionDigits;\n                }\n                actualPattern = fractionDigitsPattern(actualPattern, minFrac || parseOptions.fractionDigits ||\n                    options.minimumFractionDigits || defaultMinimum, options.maximumFractionDigits || defaultMinimum);\n            }\n            if (options.minimumIntegerDigits) {\n                actualPattern = minimumIntegerPattern(actualPattern, options.minimumIntegerDigits);\n            }\n            if (options.useGrouping) {\n                actualPattern = groupingPattern(actualPattern);\n            }\n            if (parseOptions.type === 'currency' && !parseOptions.isAccount) {\n                actualPattern = '$ ' + actualPattern;\n            }\n            else if (parseOptions.type === 'currency' && parseOptions.isAccount) {\n                actualPattern = '$ ' + actualPattern + ';($ ' + actualPattern + ')';\n            }\n            if (parseOptions.type === 'percent') {\n                actualPattern += ' %';\n            }\n        }\n        else {\n            actualPattern = options.format.replace(/\\'/g, '\"');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualNumberFormat = getActualNumberFormat;\n    function fractionDigitsPattern(pattern, minDigits, maxDigits) {\n        pattern += '.';\n        for (var a = 0; a < minDigits; a++) {\n            pattern += '0';\n        }\n        if (minDigits < maxDigits) {\n            var diff = maxDigits - minDigits;\n            for (var b = 0; b < diff; b++) {\n                pattern += '#';\n            }\n        }\n        return pattern;\n    }\n    function minimumIntegerPattern(pattern, digits) {\n        var temp = pattern.split('.');\n        var integer = '';\n        for (var x = 0; x < digits; x++) {\n            integer += '0';\n        }\n        return temp[1] ? (integer + '.' + temp[1]) : integer;\n    }\n    function groupingPattern(pattern) {\n        var temp = pattern.split('.');\n        var integer = temp[0];\n        var no = 3 - integer.length % 3;\n        var hash = (no && no === 1) ? '#' : (no === 2 ? '##' : '');\n        integer = hash + integer;\n        pattern = '';\n        for (var x = integer.length - 1; x > 0; x = x - 3) {\n            pattern = ',' + integer[x - 2] + integer[x - 1] + integer[x] + pattern;\n        }\n        pattern = pattern.slice(1);\n        return temp[1] ? (pattern + '.' + temp[1]) : pattern;\n    }\n})(IntlBase || (IntlBase = {}));\n","/**\n * To import utils\n */\nimport { isNullOrUndefined } from './util';\n/**\n * @private\n */\nvar CanvasRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function CanvasRenderer(rootID) {\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    CanvasRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    /* tslint:enable */\n    /**\n     * To create a Html5 canvas element\n     * @param {BaseAttibutes} options - Options to create canvas\n     * @return {HTMLCanvasElement}\n     */\n    CanvasRenderer.prototype.createCanvas = function (options) {\n        var canvasObj = document.createElement('canvas');\n        canvasObj.setAttribute('id', this.rootId + '_canvas');\n        this.ctx = canvasObj.getContext('2d');\n        this.canvasObj = canvasObj;\n        this.setCanvasSize(options.width, options.height);\n        return this.canvasObj;\n    };\n    /**\n     * To set the width and height for the Html5 canvas element\n     * @param {number} width - width of the canvas\n     * @param {number} height - height of the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.setCanvasSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width)) {\n            this.canvasObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.canvasObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height)) {\n            this.canvasObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.canvasObj.setAttribute('height', this.height.toString());\n        }\n    };\n    // To set the values to the attributes\n    CanvasRenderer.prototype.setAttributes = function (options) {\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        var dashArray = this.getOptionValue(options, 'stroke-dasharray');\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            this.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        this.ctx.strokeStyle = this.getOptionValue(options, 'stroke');\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - required options to draw a line on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawLine = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.moveTo(options.x1, options.y1);\n        this.ctx.lineTo(options.x2, options.y2);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a rectangle\n     * @param {RectAttributes} options - required options to draw a rectangle on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawRectangle = function (options) {\n        var canvasCtx = this.ctx;\n        var cornerRadius = options.rx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.globalAlpha = this.getOptionValue(options, 'opacity');\n        this.setAttributes(options);\n        this.ctx.rect(options.x, options.y, options.width, options.height);\n        if (cornerRadius !== null && cornerRadius >= 0) {\n            this.drawCornerRadius(options);\n        }\n        else {\n            if (options.fill === 'none') {\n                options.fill = 'transparent';\n            }\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fillRect(options.x, options.y, options.width, options.height);\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    // To draw the corner of a rectangle\n    CanvasRenderer.prototype.drawCornerRadius = function (options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        this.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        this.ctx.beginPath();\n        this.ctx.moveTo(x + width - cornerRadius, y);\n        this.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        this.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        this.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        this.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        this.ctx.closePath();\n        this.ctx.fill();\n        this.ctx.stroke();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a path on the canvas\n     * @param {PathAttributes} options - options needed to draw path\n     * @param {Int32Array} canvasTranslate - Array of numbers to translate the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPath = function (options, canvasTranslate) {\n        var path = options.d;\n        var dataSplit = path.split(' ');\n        var borderWidth = this.getOptionValue(options, 'stroke-width');\n        var canvasCtx = this.ctx;\n        var flag = true;\n        this.ctx.save();\n        this.ctx.beginPath();\n        if (canvasTranslate) {\n            this.ctx.translate(canvasTranslate[0], canvasTranslate[1]);\n        }\n        this.ctx.globalAlpha = options.opacity ? options.opacity : this.getOptionValue(options, 'fill-opacity');\n        this.setAttributes(options);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    if (!options.innerR && !options.cx) {\n                        this.ctx.moveTo(x1, y1);\n                    }\n                    break;\n                case 'L':\n                    if (!options.innerR) {\n                        this.ctx.lineTo(x1, y1);\n                    }\n                    break;\n                case 'C':\n                    var c1 = parseFloat(dataSplit[i + 3]);\n                    var c2 = parseFloat(dataSplit[i + 4]);\n                    var c3 = parseFloat(dataSplit[i + 5]);\n                    var c4 = parseFloat(dataSplit[i + 6]);\n                    this.ctx.bezierCurveTo(x1, y1, c1, c2, c3, c4);\n                    i = i + 4;\n                    break;\n                case 'A':\n                    if (!options.innerR) {\n                        if (options.cx) {\n                            this.ctx.arc(options.cx, options.cy, options.radius, 0, 2 * Math.PI, options.counterClockWise);\n                        }\n                        else {\n                            this.ctx.moveTo(options.x, options.y);\n                            this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                            this.ctx.lineTo(options.x, options.y);\n                        }\n                    }\n                    else if (flag) {\n                        this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                        this.ctx.arc(options.x, options.y, options.innerR, options.end, options.start, !options.counterClockWise);\n                        flag = false;\n                    }\n                    i = i + 5;\n                    break;\n                case 'z':\n                    this.ctx.closePath();\n                    break;\n            }\n        }\n        if (options.fill !== 'none' && options.fill !== undefined) {\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fill();\n        }\n        if (borderWidth > 0) {\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - options required to draw text\n     * @param {string} label - Specifies the text which has to be drawn on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawText = function (options, label) {\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontSize = this.getOptionValue(options, 'font-size');\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        this.ctx.save();\n        this.ctx.fillStyle = options.fill;\n        this.ctx.font = font;\n        this.ctx.textAlign = anchor;\n        this.ctx.globalAlpha = opacity;\n        if (options.baseline) {\n            this.ctx.textBaseline = options.baseline;\n        }\n        var txtlngth = 0;\n        this.ctx.translate(options.x + (txtlngth / 2), options.y);\n        this.ctx.rotate(options.labelRotation * Math.PI / 180);\n        this.ctx.fillText(label, 0, 0);\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw circle on the canvas\n     * @param {CircleAttributes} options - required options to draw the circle\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawCircle = function (options) {\n        var canvasCtx = this.ctx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.globalAlpha = options.opacity;\n        this.ctx.fill();\n        this.setAttributes(options);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw polyline\n     * @param {PolylineAttributes} options - options needed to draw polyline\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPolyline = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        var points = options.points.split(' ');\n        for (var i = 0; i < points.length - 1; i++) {\n            var point = points[i].split(',');\n            var x = parseFloat(point[0]);\n            var y = parseFloat(point[1]);\n            if (i === 0) {\n                this.ctx.moveTo(x, y);\n            }\n            else {\n                this.ctx.lineTo(x, y);\n            }\n        }\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an ellipse on the canvas\n     * @param {EllipseAttributes} options - options needed to draw ellipse\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawEllipse = function (options) {\n        var canvasCtx = this.ctx;\n        var circumference = Math.max(options.rx, options.ry);\n        var scaleX = options.rx / circumference;\n        var scaleY = options.ry / circumference;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.translate(options.cx, options.cy);\n        this.ctx.save();\n        this.ctx.scale(scaleX, scaleY);\n        this.ctx.arc(0, 0, circumference, 0, 2 * Math.PI, false);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.fill();\n        this.ctx.restore();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - options required to draw an image on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawImage = function (options) {\n        this.ctx.save();\n        var imageObj = new Image();\n        if (!isNullOrUndefined(options.href)) {\n            imageObj.src = options.href;\n            this.ctx.drawImage(imageObj, options.x, options.y, options.width, options.height);\n        }\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To create a linear gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createLinearGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvasObj.height);\n        }\n        var color = this.setGradientValues(colors, myGradient);\n        return color;\n    };\n    /**\n     * To create a radial gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createRadialGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, this.canvasObj.height);\n        }\n        var colorName = this.setGradientValues(colors, myGradient);\n        return colorName;\n    };\n    // To set the gradient values\n    CanvasRenderer.prototype.setGradientValues = function (colors, myGradient) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            for (var i = 0; i <= colors.length - 1; i++) {\n                var color = colors[i].color;\n                var newColorStop = (colors[i].colorStop).slice(0, -1);\n                var stopColor = parseInt(newColorStop, 10) / 100;\n                myGradient.addColorStop(stopColor, color);\n            }\n            colorName = myGradient.toString();\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        this.dataUrl = this.canvasObj.toDataURL();\n        return colorName;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {HTMLElement} element - The element to which the attributes need to be set\n     * @return {HTMLElement}\n     */\n    CanvasRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        var values = Object.keys(options).map(function (key) { return options[key]; });\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], values[i]);\n        }\n        return element;\n    };\n    /**\n     * To update the values of the canvas element attributes\n     * @param {SVGCanvasAttributes} options - Specifies the colors required to create gradient\n     * @return {void}\n     */\n    CanvasRenderer.prototype.updateCanvasAttributes = function (options) {\n        this.setElementAttributes(options, this.canvasObj);\n        var ctx = this.ctx;\n        if (!isNullOrUndefined(this.dataUrl)) {\n            var img_1 = new Image;\n            img_1.onload = function () {\n                ctx.drawImage(img_1, 0, 0);\n            };\n            img_1.src = this.dataUrl;\n        }\n    };\n    return CanvasRenderer;\n}());\nexport { CanvasRenderer };\n","/**\n * Module loading operations\n */\nimport { createInstance, setValue, getValue, deleteObject } from './util';\nvar MODULE_SUFFIX = 'Module';\nvar ModuleLoader = /** @class */ (function () {\n    function ModuleLoader(parent) {\n        this.loadedModules = [];\n        this.parent = parent;\n    }\n    ;\n    /**\n     * Inject required modules in component library\n     * @return {void}\n     * @param {ModuleDeclaration[]} requiredModules - Array of modules to be required\n     * @param {Function[]} moduleList - Array of modules to be injected from sample side\n     */\n    ModuleLoader.prototype.inject = function (requiredModules, moduleList) {\n        var reqLength = requiredModules.length;\n        if (reqLength === 0) {\n            this.clean();\n            return;\n        }\n        if (this.loadedModules.length) {\n            this.clearUnusedModule(requiredModules);\n        }\n        for (var i = 0; i < reqLength; i++) {\n            var modl = requiredModules[i];\n            for (var _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {\n                var module = moduleList_1[_i];\n                var modName = modl.member;\n                if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {\n                    var moduleObject = createInstance(module, modl.args);\n                    var memberName = this.getMemberName(modName);\n                    if (modl.isProperty) {\n                        setValue(memberName, module, this.parent);\n                    }\n                    else {\n                        setValue(memberName, moduleObject, this.parent);\n                    }\n                    var loadedModule = modl;\n                    loadedModule.member = memberName;\n                    this.loadedModules.push(loadedModule);\n                }\n            }\n        }\n    };\n    /**\n     * To remove the created object while destroying the control\n     * @return {void}\n     */\n    ModuleLoader.prototype.clean = function () {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var modules = _a[_i];\n            if (!modules.isProperty) {\n                getValue(modules.member, this.parent).destroy();\n            }\n        }\n        this.loadedModules = [];\n    };\n    /**\n     * Removes all unused modules\n     * @param {ModuleDeclaration[]} moduleList\n     * @returns {void}\n     */\n    ModuleLoader.prototype.clearUnusedModule = function (moduleList) {\n        var _this = this;\n        var usedModules = moduleList.map(function (arg) { return _this.getMemberName(arg.member); });\n        var removableModule = this.loadedModules.filter(function (module) {\n            return usedModules.indexOf(module.member) === -1;\n        });\n        for (var _i = 0, removableModule_1 = removableModule; _i < removableModule_1.length; _i++) {\n            var mod = removableModule_1[_i];\n            if (!mod.isProperty) {\n                getValue(mod.member, this.parent).destroy();\n            }\n            this.loadedModules.splice(this.loadedModules.indexOf(mod), 1);\n            deleteObject(this.parent, mod.member);\n        }\n    };\n    /**\n     * To get the name of the member.\n     * @param {string} name\n     * @returns {string}\n     */\n    ModuleLoader.prototype.getMemberName = function (name) {\n        return name[0].toLowerCase() + name.substring(1) + MODULE_SUFFIX;\n    };\n    /**\n     * Returns boolean based on whether the module specified is loaded or not\n     * @param {string} modName\n     * @returns {boolean}\n     */\n    ModuleLoader.prototype.isModuleLoaded = function (modName) {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var mod = _a[_i];\n            if (mod.member === this.getMemberName(modName)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return ModuleLoader;\n}());\nexport { ModuleLoader };\n","import { getValue, setImmediate, setValue, merge } from './util';\nimport { Base } from './base';\n/**\n * To detect the changes for inner properties.\n * @private\n */\nvar ChildProperty = /** @class */ (function () {\n    function ChildProperty(parent, propName, defaultValue, isArray) {\n        this.properties = {};\n        this.changedProperties = {};\n        this.childChangedProperties = {};\n        this.oldProperties = {};\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.callChildDataBind = getValue('callChildDataBind', Base);\n        this.parentObj = parent;\n        this.controlParent = this.parentObj.controlParent || this.parentObj;\n        this.propName = propName;\n        this.setProperties(defaultValue, true);\n        this.isParentArray = isArray;\n    }\n    /**\n     * Updates the property changes\n     * @param {boolean} val\n     * @param {string} propName\n     * @returns {void}\n     */\n    ChildProperty.prototype.updateChange = function (val, propName) {\n        if (val === true) {\n            this.parentObj.childChangedProperties[propName] = val;\n        }\n        else {\n            delete this.parentObj.childChangedProperties[propName];\n        }\n        if (this.parentObj.updateChange) {\n            this.parentObj.updateChange(val, this.parentObj.propName);\n        }\n    };\n    /**\n     * Updates time out duration\n     */\n    ChildProperty.prototype.updateTimeOut = function () {\n        if (this.parentObj.updateTimeOut) {\n            this.parentObj.finalUpdate();\n            this.parentObj.updateTimeOut();\n        }\n        else {\n            this.parentObj.finalUpdate = setImmediate(this.parentObj.dataBind.bind(this.parentObj));\n        }\n    };\n    /**\n     * Clears changed properties\n     */\n    ChildProperty.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.updateChange(false, this.propName);\n        this.oldProperties = {};\n        this.changedProperties = {};\n    };\n    /**\n     * Set property changes\n     * @param {Object} prop\n     * @param {boolean} muteOnChange\n     * {void}\n     */\n    ChildProperty.prototype.setProperties = function (prop, muteOnChange) {\n        if (muteOnChange === true) {\n            merge(this, prop);\n            this.updateChange(false, this.propName);\n            this.clearChanges();\n        }\n        else {\n            merge(this, prop);\n        }\n    };\n    /**\n     * Binds data\n     */\n    ChildProperty.prototype.dataBind = function () {\n        this.callChildDataBind(this.childChangedProperties, this);\n        if (this.isParentArray) {\n            var curIndex = this.parentObj[this.propName].indexOf(this);\n            if (Object.keys(this.changedProperties).length) {\n                setValue(this.propName + '.' + curIndex, this.changedProperties, this.parentObj.changedProperties);\n                setValue(this.propName + '.' + curIndex, this.oldProperties, this.parentObj.oldProperties);\n            }\n        }\n        else {\n            this.parentObj.changedProperties[this.propName] = this.changedProperties;\n            this.parentObj.oldProperties[this.propName] = this.oldProperties;\n        }\n        this.clearChanges();\n    };\n    /**\n     * Saves changes to newer values\n     * @param {string} key\n     * @param {Object} newValue\n     * @param {Object} oldValue\n     * @returns {void}\n     */\n    ChildProperty.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.controlParent.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.updateChange(true, this.propName);\n        this.finalUpdate();\n        this.updateTimeOut();\n    };\n    return ChildProperty;\n}());\nexport { ChildProperty };\n","/**\n * Parser\n */\nvar defaultNumberingSystem = {\n    'latn': {\n        '_digits': '0123456789',\n        '_type': 'numeric'\n    }\n};\nimport { isUndefined, getValue } from '../util';\nvar latnRegex = /^[0-9]*$/;\nvar defaultNumberSymbols = {\n    'decimal': '.',\n    'group': ',',\n    'percentSign': '%',\n    'plusSign': '+',\n    'minusSign': '-',\n    'infinity': '∞',\n    'nan': 'NaN',\n    'exponential': 'E'\n};\nvar latnNumberSystem = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n/**\n * Interface for parser base\n * @private\n */\nvar ParserBase = /** @class */ (function () {\n    function ParserBase() {\n    }\n    /**\n     * Returns the cldr object for the culture specifies\n     * @param {Object} obj - Specifies the object from which culture object to be acquired.\n     * @param {string} cName - Specifies the culture name.\n     * @returns {Object}\n     */\n    ParserBase.getMainObject = function (obj, cName) {\n        return getValue('main.' + cName, obj);\n    };\n    /**\n     * Returns the numbering system object from given cldr data.\n     * @param {Object} obj - Specifies the object from which number system is acquired.\n     * @returns {Object}\n     */\n    ParserBase.getNumberingSystem = function (obj) {\n        return getValue('supplemental.numberingSystems', obj) || this.numberingSystems;\n    };\n    /**\n     * Returns the reverse of given object keys or keys specified.\n     * @param {Object} prop - Specifies the object to be reversed.\n     * @param {number[]} keys - Optional parameter specifies the custom keyList for reversal.\n     * @returns {Object}\n     */\n    ParserBase.reverseObject = function (prop, keys) {\n        var propKeys = keys || Object.keys(prop);\n        var res = {};\n        for (var _i = 0, propKeys_1 = propKeys; _i < propKeys_1.length; _i++) {\n            var key = propKeys_1[_i];\n            /* tslint:disable no-any */\n            if (!res.hasOwnProperty(prop[key])) {\n                res[prop[key]] = key;\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns the symbol regex by skipping the escape sequence.\n     * @param {string[]} props - Specifies the array values to be skipped.\n     * @returns {RegExp}\n     */\n    ParserBase.getSymbolRegex = function (props) {\n        var regexStr = props.map(function (str) {\n            return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        }).join('|');\n        return new RegExp(regexStr, 'g');\n    };\n    ParserBase.getSymbolMatch = function (prop) {\n        var matchKeys = Object.keys(defaultNumberSymbols);\n        var ret = {};\n        for (var _i = 0, matchKeys_1 = matchKeys; _i < matchKeys_1.length; _i++) {\n            var key = matchKeys_1[_i];\n            ret[prop[key]] = defaultNumberSymbols[key];\n        }\n        return ret;\n    };\n    /**\n     * Returns regex string for provided value\n     * @param {string} val\n     * @returns {string}\n     */\n    ParserBase.constructRegex = function (val) {\n        var len = val.length;\n        var ret = '';\n        for (var i = 0; i < len; i++) {\n            if (i !== len - 1) {\n                ret += val[i] + '|';\n            }\n            else {\n                ret += val[i];\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     * @param {string} value - Specifies the  values to be replaced.\n     * @param {RegExp} regex - Specifies the  regex to search.\n     * @param {Object} obj - Specifies the  object matcher to be replace value parts.\n     * @returns {string}\n     */\n    ParserBase.convertValueParts = function (value, regex, obj) {\n        return value.replace(regex, function (str) {\n            return obj[str];\n        });\n    };\n    /**\n     * Returns default numbering system object for formatting from cldr data\n     * @param {Object} obj\n     * @returns {NumericObject}\n     */\n    ParserBase.getDefaultNumberingSystem = function (obj) {\n        var ret = {};\n        ret.obj = getValue('numbers', obj);\n        ret.nSystem = getValue('defaultNumberingSystem', ret.obj);\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     */\n    ParserBase.getCurrentNumericOptions = function (curObj, numberSystem, needSymbols) {\n        var ret = {};\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                ret.numericPair = this.reverseObject(digits, latnNumberSystem);\n                ret.numberParseRegex = new RegExp(this.constructRegex(digits), 'g');\n                ret.numericRegex = '[' + digits[0] + '-' + digits[9] + ']';\n                if (needSymbols) {\n                    ret.numericRegex = digits[0] + '-' + digits[9];\n                    ret.symbolNumberSystem = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n                    ret.symbolMatch = this.getSymbolMatch(ret.symbolNumberSystem);\n                    ret.numberSystem = cur.nSystem;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns number mapper object for the provided cldr data\n     * @param {Object} curObj\n     * @param {Object} numberSystem\n     * @param {boolean} isNumber\n     * @returns {NumberMapper}\n     */\n    ParserBase.getNumberMapper = function (curObj, numberSystem, isNumber) {\n        var ret = { mapper: {} };\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            ret.numberSystem = cur.nSystem;\n            ret.numberSymbols = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n            ret.timeSeparator = getValue('timeSeparator', ret.numberSymbols);\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                for (var _i = 0, latnNumberSystem_1 = latnNumberSystem; _i < latnNumberSystem_1.length; _i++) {\n                    var i = latnNumberSystem_1[_i];\n                    ret.mapper[i] = digits[i];\n                }\n            }\n        }\n        return ret;\n    };\n    ParserBase.nPair = 'numericPair';\n    ParserBase.nRegex = 'numericRegex';\n    ParserBase.numberingSystems = defaultNumberingSystem;\n    return ParserBase;\n}());\nexport { ParserBase };\n","import { isUndefined, throwError, isNullOrUndefined, extend } from '../util';\nimport { defaultCurrencyCode } from '../internationalization';\nimport { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nvar errorText = {\n    'ms': 'minimumSignificantDigits',\n    'ls': 'maximumSignificantDigits',\n    'mf': 'minimumFractionDigits',\n    'lf': 'maximumFractionDigits',\n};\nvar integerError = 'minimumIntegerDigits';\nvar percentSign = 'percentSign';\nvar minusSign = 'minusSign';\nvar spaceRegex = /\\s/;\nvar mapper = ['infinity', 'nan', 'group', 'decimal'];\nvar infinity = 'infinity';\nvar nan = 'nan';\n/**\n * Module for number formatting.\n * @private\n */\nvar NumberFormat = /** @class */ (function () {\n    function NumberFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} option - Specific the format in which number  will format.\n     * @param {Object} object- Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberFormat.numberFormatter = function (culture, option, cldr) {\n        var _this = this;\n        var fOptions = extend({}, option);\n        var cOptions = {};\n        var dOptions = {};\n        var symbolPattern;\n        var dependable = base.getDependables(cldr, culture, true);\n        dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        dOptions.currencySymbol = base.getCurrencySymbol(dependable.numericObject, fOptions.currency || defaultCurrencyCode);\n        /* tslint:disable no-any */\n        dOptions.percentSymbol = dOptions.numberMapper.numberSymbols[percentSign];\n        dOptions.minusSymbol = dOptions.numberMapper.numberSymbols[minusSign];\n        var symbols = dOptions.numberMapper.numberSymbols;\n        if ((option.format) && !(base.formatRegex.test(option.format))) {\n            cOptions = base.customFormat(option.format, dOptions, dependable.numericObject);\n        }\n        else {\n            extend(fOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            fOptions.isCurrency = fOptions.type === 'currency';\n            fOptions.isPercent = fOptions.type === 'percent';\n            symbolPattern = base.getSymbolPattern(fOptions.type, dOptions.numberMapper.numberSystem, dependable.numericObject, fOptions.isAccount);\n            fOptions.groupOne = this.checkValueRange(fOptions.maximumSignificantDigits, fOptions.minimumSignificantDigits, true);\n            this.checkValueRange(fOptions.maximumFractionDigits, fOptions.minimumFractionDigits, false, true);\n            if (!isUndefined(fOptions.fractionDigits)) {\n                fOptions.minimumFractionDigits = fOptions.maximumFractionDigits = fOptions.fractionDigits;\n            }\n            if (isUndefined(fOptions.useGrouping)) {\n                fOptions.useGrouping = true;\n            }\n            if (fOptions.isCurrency) {\n                symbolPattern = symbolPattern.replace(/\\u00A4/g, base.defaultCurrency);\n            }\n            var split = symbolPattern.split(';');\n            cOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, dOptions.currencySymbol);\n            cOptions.pData = base.getFormatData(split[0], false, dOptions.currencySymbol);\n            if (fOptions.useGrouping) {\n                fOptions.groupSeparator = symbols[mapper[2]];\n                fOptions.groupData = this.getGroupingDetails(split[0]);\n            }\n            var minFrac = isUndefined(fOptions.minimumFractionDigits);\n            if (minFrac) {\n                fOptions.minimumFractionDigits = cOptions.nData.minimumFraction;\n            }\n            if (isUndefined(fOptions.maximumFractionDigits)) {\n                var mval = cOptions.nData.maximumFraction;\n                fOptions.maximumFractionDigits = isUndefined(mval) && fOptions.isPercent ? 0 : mval;\n            }\n            var mfrac = fOptions.minimumFractionDigits;\n            var lfrac = fOptions.maximumFractionDigits;\n            if (!isUndefined(mfrac) && !isUndefined(lfrac)) {\n                if (mfrac > lfrac) {\n                    fOptions.maximumFractionDigits = mfrac;\n                }\n            }\n        }\n        extend(cOptions.nData, fOptions);\n        extend(cOptions.pData, fOptions);\n        return function (value) {\n            if (isNaN(value)) {\n                return symbols[mapper[1]];\n            }\n            else if (!isFinite(value)) {\n                return symbols[mapper[0]];\n            }\n            return _this.intNumberFormatter(value, cOptions, dOptions);\n        };\n    };\n    /**\n     * Returns grouping details for the pattern provided\n     * @param {string} pattern\n     * @returns {GroupDetails}\n     */\n    NumberFormat.getGroupingDetails = function (pattern) {\n        var ret = {};\n        var match = pattern.match(base.negativeDataRegex);\n        if (match && match[4]) {\n            var pattern_1 = match[4];\n            var p = pattern_1.lastIndexOf(',');\n            if (p !== -1) {\n                var temp = pattern_1.split('.')[0];\n                ret.primary = (temp.length - p) - 1;\n                var s = pattern_1.lastIndexOf(',', p - 1);\n                if (s !== -1) {\n                    ret.secondary = p - 1 - s;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns if the provided integer range is valid.\n     * @param {number} val1\n     * @param {number} val2\n     * @param {boolean} checkbothExist\n     * @param {boolean} isFraction\n     * @returns {boolean}\n     */\n    NumberFormat.checkValueRange = function (val1, val2, checkbothExist, isFraction) {\n        var decide = isFraction ? 'f' : 's';\n        var dint = 0;\n        var str1 = errorText['l' + decide];\n        var str2 = errorText['m' + decide];\n        if (!isUndefined(val1)) {\n            this.checkRange(val1, str1, isFraction);\n            dint++;\n        }\n        if (!isUndefined(val2)) {\n            this.checkRange(val2, str2, isFraction);\n            dint++;\n        }\n        if (dint === 2) {\n            if (val1 < val2) {\n                throwError(str2 + 'specified must be less than the' + str1);\n            }\n            else {\n                return true;\n            }\n        }\n        else if (checkbothExist && dint === 1) {\n            throwError('Both' + str2 + 'and' + str2 + 'must be present');\n        }\n        return false;\n    };\n    /**\n     * Check if the provided fraction range is valid\n     * @param {number} val\n     * @param {string} text\n     * @param {boolean} isFraction\n     * @returns {void}\n     */\n    NumberFormat.checkRange = function (val, text, isFraction) {\n        var range = isFraction ? [0, 20] : [1, 21];\n        if (val < range[0] || val > range[1]) {\n            throwError(text + 'value must be within the range' + range[0] + 'to' + range[1]);\n        }\n    };\n    /**\n     * Returns formatted numeric string for provided formatting options\n     * @param {number} value\n     * @param {base.GenericFormatOptions} fOptions\n     * @param {CommonOptions} dOptions\n     * @returns {string}\n     */\n    NumberFormat.intNumberFormatter = function (value, fOptions, dOptions) {\n        var curData;\n        if (value < 0) {\n            value = value * -1;\n            curData = fOptions.nData;\n        }\n        else if (value === 0) {\n            curData = fOptions.zeroData || fOptions.pData;\n        }\n        else {\n            curData = fOptions.pData;\n        }\n        var fValue = '';\n        if (curData.isPercent) {\n            value = value * 100;\n        }\n        if (curData.groupOne) {\n            fValue = this.processSignificantDigits(value, curData.minimumSignificantDigits, curData.maximumSignificantDigits);\n        }\n        else {\n            fValue = this.processFraction(value, curData.minimumFractionDigits, curData.maximumFractionDigits);\n            if (curData.minimumIntegerDigits) {\n                fValue = this.processMinimumIntegers(fValue, curData.minimumIntegerDigits);\n            }\n        }\n        fValue = fValue.replace('.', dOptions.numberMapper.numberSymbols[mapper[3]]);\n        if (curData.useGrouping) {\n            fValue = this.groupNumbers(fValue, curData.groupData.primary, curData.groupSeparator || ',', dOptions.numberMapper.numberSymbols[mapper[3]] || '.', curData.groupData.secondary);\n        }\n        fValue = parser.convertValueParts(fValue, base.latnParseRegex, dOptions.numberMapper.mapper);\n        return curData.nlead + fValue + curData.nend;\n    };\n    /**\n     * Returns significant digits processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processSignificantDigits = function (value, min, max) {\n        var temp = value + '';\n        var tn;\n        var length = temp.length;\n        if (length < min) {\n            return value.toPrecision(min);\n        }\n        else {\n            temp = value.toPrecision(max);\n            tn = +temp;\n            return tn + '';\n        }\n    };\n    /**\n     * Returns grouped numeric string\n     * @param {string} val\n     * @param {number} level1\n     * @param {string} sep\n     * @param {string} decimalSymbol\n     * @param {number} level2\n     * @returns {string}\n     */\n    NumberFormat.groupNumbers = function (val, level1, sep, decimalSymbol, level2) {\n        var flag = !isNullOrUndefined(level2) && level2 !== 0;\n        var split = val.split(decimalSymbol);\n        var prefix = split[0];\n        var length = prefix.length;\n        var str = '';\n        while (length > level1) {\n            str = prefix.slice(length - level1, length) + (str.length ?\n                (sep + str) : '');\n            length -= level1;\n            if (flag) {\n                level1 = level2;\n                flag = false;\n            }\n        }\n        split[0] = prefix.slice(0, length) + (str.length ? sep : '') + str;\n        return split.join(decimalSymbol);\n    };\n    /**\n     * Returns fraction processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processFraction = function (value, min, max) {\n        var temp = (value + '').split('.')[1];\n        var length = temp ? temp.length : 0;\n        if (min && length < min) {\n            var ret = '';\n            if (length === 0) {\n                ret = value.toFixed(min);\n            }\n            else {\n                ret += value;\n                for (var j = 0; j < min - length; j++) {\n                    ret += '0';\n                }\n                return ret;\n            }\n            return value.toFixed(min);\n        }\n        else if (!isNullOrUndefined(max) && (length > max || max === 0)) {\n            return value.toFixed(max);\n        }\n        return value + '';\n    };\n    /**\n     * Returns integer processed numeric string\n     * @param {string} value\n     * @param {number} min\n     * @returns {string}\n     */\n    NumberFormat.processMinimumIntegers = function (value, min) {\n        var temp = value.split('.');\n        var lead = temp[0];\n        var len = lead.length;\n        if (len < min) {\n            for (var i = 0; i < min - len; i++) {\n                lead = '0' + lead;\n            }\n            temp[0] = lead;\n        }\n        return temp.join('.');\n    };\n    return NumberFormat;\n}());\nexport { NumberFormat };\n","import { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nimport { isUndefined, throwError, getValue } from '../util';\nvar abbreviateRegexGlobal = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi;\nvar standalone = 'stand-alone';\nvar weekdayKey = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nexport var basicPatterns = ['short', 'medium', 'long', 'full'];\nvar timeSetter = {\n    m: 'getMinutes',\n    h: 'getHours',\n    H: 'getHours',\n    s: 'getSeconds',\n    d: 'getDate',\n};\nexport var datePartMatcher = {\n    'M': 'month',\n    'd': 'day',\n    'E': 'weekday',\n    'c': 'weekday',\n    'y': 'year',\n    'm': 'minute',\n    'h': 'hour',\n    'H': 'hour',\n    's': 'second',\n    'L': 'month',\n    'a': 'designator',\n    'z': 'timeZone',\n    'Z': 'timeZone',\n    'G': 'era'\n};\nvar timeSeparator = 'timeSeparator';\n/**\n * Date Format is a framework provides support for date formatting.\n * @private\n */\nvar DateFormat = /** @class */ (function () {\n    function DateFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which date  will format.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    DateFormat.dateFormat = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var formatOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        formatOptions.dateSeperator = base.getDateSeparator(dependable.dateObject);\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            formatOptions.pattern = resPattern;\n            formatOptions.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            var patternMatch = resPattern.match(abbreviateRegexGlobal) || [];\n            for (var _i = 0, patternMatch_1 = patternMatch; _i < patternMatch_1.length; _i++) {\n                var str = patternMatch_1[_i];\n                var len = str.length;\n                var char = str[0];\n                if (char === 'K') {\n                    char = 'h';\n                }\n                /* tslint:disable no-any */\n                var charKey = datePartMatcher[char];\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        formatOptions.weekday = dependable.dateObject[base.days][standalone][base.monthIndex[len]];\n                        break;\n                    case 'M':\n                    case 'L':\n                        formatOptions.month = dependable.dateObject[base.month][standalone][base.monthIndex[len]];\n                        break;\n                    case 'a':\n                        formatOptions.designator = getValue('dayPeriods.format.wide', dependable.dateObject);\n                        break;\n                    case 'G':\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        formatOptions.era = getValue('eras.' + eText, dependable.dateObject);\n                        break;\n                    case 'z':\n                        formatOptions.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                        break;\n                }\n            }\n        }\n        return function (value) {\n            if (isNaN(value.getDate())) {\n                return null;\n            }\n            return _this.intDateFormatter(value, formatOptions);\n        };\n    };\n    /**\n     * Returns formatted date string based on options passed.\n     * @param {Date} value\n     * @param {FormatOptions} options\n     */\n    DateFormat.intDateFormatter = function (value, options) {\n        var pattern = options.pattern;\n        var ret = '';\n        var matches = pattern.match(base.dateParseRegex);\n        for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n            var match = matches_1[_i];\n            var length_1 = match.length;\n            var char = match[0];\n            if (char === 'K') {\n                char = 'h';\n            }\n            var curval = void 0;\n            var isNumber = void 0;\n            var processNumber = void 0;\n            var curstr = '';\n            switch (char) {\n                case 'M':\n                case 'L':\n                    curval = value.getMonth() + 1;\n                    if (length_1 > 2) {\n                        ret += options.month[curval];\n                    }\n                    else {\n                        isNumber = true;\n                    }\n                    break;\n                case 'E':\n                case 'c':\n                    ret += options.weekday[weekdayKey[value.getDay()]];\n                    break;\n                case 'H':\n                case 'h':\n                case 'm':\n                case 's':\n                case 'd':\n                    isNumber = true;\n                    curval = value[timeSetter[char]]();\n                    if (char === 'h') {\n                        curval = curval % 12 || 12;\n                    }\n                    break;\n                case 'y':\n                    processNumber = true;\n                    curstr += value.getFullYear();\n                    if (length_1 === 2) {\n                        curstr = curstr.substr(curstr.length - 2);\n                    }\n                    break;\n                case 'a':\n                    var desig = value.getHours() < 12 ? 'am' : 'pm';\n                    ret += options.designator[desig];\n                    break;\n                case 'G':\n                    var dec = value.getFullYear() < 0 ? 0 : 1;\n                    ret += options.era[dec];\n                    break;\n                case '\\'':\n                    ret += (match === '\\'\\'') ? '\\'' : match.replace(/\\'/g, '');\n                    break;\n                case 'z':\n                    var timezone = value.getTimezoneOffset();\n                    var pattern_1 = (length_1 < 4) ? '+H;-H' : options.timeZone.hourFormat;\n                    pattern_1 = pattern_1.replace(/:/g, options.numMapper.timeSeparator);\n                    if (timezone === 0) {\n                        ret += options.timeZone.gmtZeroFormat;\n                    }\n                    else {\n                        processNumber = true;\n                        curstr = this.getTimeZoneValue(timezone, pattern_1);\n                    }\n                    curstr = options.timeZone.gmtFormat.replace(/\\{0\\}/, curstr);\n                    break;\n                case ':':\n                    ret += options.numMapper.numberSymbols[timeSeparator];\n                    /* tslint:enable no-any */\n                    break;\n                case '/':\n                    ret += options.dateSeperator;\n                    break;\n                default:\n                    ret += match;\n            }\n            if (isNumber) {\n                processNumber = true;\n                curstr = this.checkTwodigitNumber(curval, length_1);\n            }\n            if (processNumber) {\n                ret += parser.convertValueParts(curstr, base.latnParseRegex, options.numMapper.mapper);\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns two digit numbers for given value and length\n     */\n    DateFormat.checkTwodigitNumber = function (val, len) {\n        var ret = val + '';\n        if (len === 2 && ret.length !== 2) {\n            return '0' + ret;\n        }\n        return ret;\n    };\n    /**\n     * Returns the value of the Time Zone.\n     * @param {number} tVal\n     * @param {string} pattern\n     * @private\n     */\n    DateFormat.getTimeZoneValue = function (tVal, pattern) {\n        var _this = this;\n        var splt = pattern.split(';');\n        var curPattern = splt[tVal > 0 ? 1 : 0];\n        var no = Math.abs(tVal);\n        return curPattern = curPattern.replace(/HH?|mm/g, function (str) {\n            var len = str.length;\n            var ishour = str.indexOf('H') !== -1;\n            return _this.checkTwodigitNumber(Math.floor(ishour ? (no / 60) : (no % 60)), len);\n        });\n    };\n    return DateFormat;\n}());\nexport { DateFormat };\n","import { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nimport { isUndefined, throwError, getValue, isNullOrUndefined } from '../util';\nimport { datePartMatcher } from './date-formatter';\nvar number = 'numbers';\nvar defNoSystem = 'defaultNumberingSystem';\nvar noSystem = 'numberingSystem';\nvar standalone = 'stand-alone';\nvar curWeekDay = 'curWeekDay';\nvar latnRegex = /^[0-9]*$/;\nvar abbreviateRegex = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|ccc/;\nvar timeSetter = {\n    minute: 'setMinutes',\n    hour: 'setHours',\n    second: 'setSeconds',\n    day: 'setDate',\n    month: 'setMonth'\n};\nvar month = 'months';\n/* tslint:disable no-any */\n/**\n * Date Parser.\n * @private\n */\nvar DateParser = /** @class */ (function () {\n    function DateParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which string date  will be parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     *  @return Function.\n     */\n    // tslint:disable-next-line:max-func-body-length\n    DateParser.dateParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr));\n        var parseOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        var regexString = '';\n        var hourOnly;\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            parseOptions = { pattern: resPattern, evalposition: {} };\n            var patternMatch = resPattern.match(base.dateParseRegex) || [];\n            var length_1 = patternMatch.length;\n            var gmtCorrection = 0;\n            var zCorrectTemp = 0;\n            var isgmtTraversed = false;\n            var nRegx = numOptions.numericRegex;\n            for (var i = 0; i < length_1; i++) {\n                var str = patternMatch[i];\n                var len = str.length;\n                var char = (str[0] === 'K') ? 'h' : str[0];\n                var isNumber = void 0;\n                var canUpdate = void 0;\n                var charKey = datePartMatcher[char];\n                var optional = (len === 2) ? '' : '?';\n                if (isgmtTraversed) {\n                    gmtCorrection = zCorrectTemp;\n                    isgmtTraversed = false;\n                }\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        // tslint:disable-next-line\n                        var weekObject = parser.reverseObject(dependable.dateObject[base.days][standalone][base.monthIndex[len]]);\n                        regexString += '(' + Object.keys(weekObject).join('|') + ')';\n                        break;\n                    case 'M':\n                    case 'L':\n                    case 'd':\n                    case 'm':\n                    case 's':\n                    case 'h':\n                    case 'H':\n                        canUpdate = true;\n                        if ((char === 'M' || char === 'L') && len > 2) {\n                            // tslint:disable-next-line\n                            parseOptions[charKey] = parser.reverseObject(dependable.dateObject[month][standalone][base.monthIndex[len]]);\n                            /* tslint:disable no-any */\n                            regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        }\n                        else {\n                            isNumber = true;\n                            regexString += '(' + nRegx + nRegx + optional + ')';\n                        }\n                        if (char === 'h') {\n                            parseOptions.hour12 = true;\n                        }\n                        break;\n                    case 'y':\n                        canUpdate = isNumber = true;\n                        if (len === 2) {\n                            regexString += '(' + nRegx + nRegx + ')';\n                        }\n                        else {\n                            regexString += '(' + nRegx + '{' + len + ',})';\n                        }\n                        break;\n                    case 'a':\n                        canUpdate = true;\n                        parseOptions[charKey] = parser.reverseObject(getValue('dayPeriods.format.wide', dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        break;\n                    case 'G':\n                        canUpdate = true;\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        parseOptions[charKey] = parser.reverseObject(getValue('eras.' + eText, dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + '?)';\n                        break;\n                    case 'z':\n                        var tval = new Date().getTimezoneOffset();\n                        canUpdate = (tval !== 0);\n                        parseOptions[charKey] = getValue('dates.timeZoneNames', dependable.parserObject);\n                        var tzone = parseOptions[charKey];\n                        hourOnly = (len < 4);\n                        var hpattern = hourOnly ? '+H;-H' : tzone.hourFormat;\n                        regexString += '(' + this.parseTimeZoneRegx(hpattern, tzone, nRegx) + ')?';\n                        isgmtTraversed = true;\n                        zCorrectTemp = hourOnly ? 6 : 12;\n                        break;\n                    case '\\'':\n                        var iString = str.replace(/\\'/g, '');\n                        regexString += '(' + iString + ')?';\n                        break;\n                    default:\n                        regexString += '(.)?';\n                        break;\n                }\n                if (canUpdate) {\n                    parseOptions.evalposition[charKey] = { isNumber: isNumber, pos: i + 1 + gmtCorrection, hourOnly: hourOnly };\n                }\n                if (i === length_1 - 1 && !isNullOrUndefined(regexString)) {\n                    parseOptions.parserRegex = new RegExp('^' + regexString + '$');\n                }\n            }\n        }\n        return function (value) {\n            var parsedDateParts = _this.internalDateParse(value, parseOptions, numOptions);\n            if (isNullOrUndefined(parsedDateParts) || !Object.keys(parsedDateParts).length) {\n                return null;\n            }\n            return _this.getDateObject(parsedDateParts);\n        };\n    };\n    /**\n     * Returns date object for provided date options\n     * @param {DateParts} options\n     * @param {Date} value\n     * @returns {Date}\n     */\n    DateParser.getDateObject = function (options, value) {\n        var res = value || new Date();\n        res.setMilliseconds(0);\n        var tKeys = ['hour', 'minute', 'second', 'month', 'day'];\n        var y = options.year;\n        var desig = options.designator;\n        var tzone = options.timeZone;\n        if (!isUndefined(y)) {\n            var len = (y + '').length;\n            if (len <= 2) {\n                var century = Math.floor(res.getFullYear() / 100) * 100;\n                y += century;\n            }\n            res.setFullYear(y);\n        }\n        for (var _i = 0, tKeys_1 = tKeys; _i < tKeys_1.length; _i++) {\n            var key = tKeys_1[_i];\n            var tValue = options[key];\n            if (!isUndefined(tValue)) {\n                if (key === 'month') {\n                    tValue -= 1;\n                    if (tValue < 0 || tValue > 11) {\n                        return new Date('invalid');\n                    }\n                    var pDate = res.getDate();\n                    res.setDate(1);\n                    res[timeSetter[key]](tValue);\n                    var lDate = new Date(res.getFullYear(), tValue + 1, 0).getDate();\n                    res.setDate(pDate < lDate ? pDate : lDate);\n                }\n                else {\n                    if (key === 'day') {\n                        var lastDay = new Date(res.getFullYear(), res.getMonth() + 1, 0).getDate();\n                        if ((tValue < 1 || tValue > lastDay)) {\n                            return null;\n                        }\n                    }\n                    res[timeSetter[key]](tValue);\n                }\n            }\n        }\n        if (!isUndefined(desig)) {\n            var hour = res.getHours();\n            if (desig === 'pm') {\n                res.setHours(hour + (hour === 12 ? 0 : 12));\n            }\n            else if (hour === 12) {\n                res.setHours(0);\n            }\n        }\n        if (!isUndefined(tzone)) {\n            var tzValue = tzone - res.getTimezoneOffset();\n            if (tzValue !== 0) {\n                res.setMinutes(res.getMinutes() + tzValue);\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns date parsing options for provided value along with parse and numeric options\n     * @param {string} value\n     * @param {ParseOptions} parseOptions\n     * @param {NumericOptions} num\n     * @returns {DateParts}\n     */\n    DateParser.internalDateParse = function (value, parseOptions, num) {\n        var matches = value.match(parseOptions.parserRegex);\n        var retOptions = { 'hour': 0, 'minute': 0, 'second': 0 };\n        var nRegx = num.numericRegex;\n        if (isNullOrUndefined(matches)) {\n            return null;\n        }\n        else {\n            var props = Object.keys(parseOptions.evalposition);\n            for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n                var prop = props_1[_i];\n                var curObject = parseOptions.evalposition[prop];\n                var matchString = matches[curObject.pos];\n                if (curObject.isNumber) {\n                    retOptions[prop] = this.internalNumberParser(matchString, num);\n                }\n                else {\n                    if (prop === 'timeZone' && !isUndefined(matchString)) {\n                        var pos = curObject.pos;\n                        var val = void 0;\n                        var tmatch = matches[pos + 1];\n                        var flag = !isUndefined(tmatch);\n                        if (curObject.hourOnly) {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 4], num) * 60;\n                        }\n                        else {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 7], num) * 60;\n                            val += this.getZoneValue(flag, matches[pos + 4], matches[pos + 10], num);\n                        }\n                        if (!isNullOrUndefined(val)) {\n                            retOptions[prop] = val;\n                        }\n                    }\n                    else {\n                        retOptions[prop] = parseOptions[prop][matchString];\n                    }\n                }\n            }\n            if (parseOptions.hour12) {\n                retOptions.hour12 = true;\n            }\n        }\n        return retOptions;\n    };\n    /**\n     * Returns parsed number for provided Numeric string and Numeric Options\n     * @param {string} value\n     * @param {NumericOptions} option\n     * @returns {number}\n     */\n    DateParser.internalNumberParser = function (value, option) {\n        value = parser.convertValueParts(value, option.numberParseRegex, option.numericPair);\n        if (latnRegex.test(value)) {\n            return +value;\n        }\n        return null;\n    };\n    /**\n     * Returns parsed time zone RegExp for provided hour format and time zone\n     * @param {string} hourFormat\n     * @param {base.TimeZoneOptions} tZone\n     * @param {string} nRegex\n     * @returns {string}\n     */\n    DateParser.parseTimeZoneRegx = function (hourFormat, tZone, nRegex) {\n        var pattern = tZone.gmtFormat;\n        var ret;\n        var result;\n        var cRegex = '(' + nRegex + ')' + '(' + nRegex + ')';\n        var splitStr;\n        ret = hourFormat.replace('+', '\\\\+');\n        if (hourFormat.indexOf('HH') !== -1) {\n            ret = ret.replace(/HH|mm/g, '(' + cRegex + ')');\n        }\n        else {\n            ret = ret.replace(/H|m/g, '(' + cRegex + '?)');\n        }\n        splitStr = (ret.split(';').map(function (str) {\n            return pattern.replace('{0}', str);\n        }));\n        ret = splitStr.join('|') + '|' + tZone.gmtZeroFormat;\n        return ret;\n    };\n    /**\n     * Returns zone based value.\n     * @param {boolean} flag\n     * @param {string} val1\n     * @param {string} val2\n     * @param {NumericOptions} num\n     * @returns {number}\n     */\n    DateParser.getZoneValue = function (flag, val1, val2, num) {\n        var value = this.internalNumberParser(flag ? val1 : val2, num);\n        if (flag) {\n            return -value;\n        }\n        return value;\n    };\n    return DateParser;\n}());\nexport { DateParser };\n","import { extend, isNullOrUndefined } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nvar formatRegex = /(^[ncpa]{1})([0-1]?[0-9]|20)?$/i;\nvar parseRegex = /^([^0-9]*)(([0-9,]*[0-9]+)(\\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/;\nvar groupRegex = /,/g;\nvar latnDecimalRegex = /^[0-9]*(\\.[0-9]+)?$/;\nvar keys = ['minusSign', 'infinity'];\n/**\n * Module for Number Parser.\n * @private\n */\nvar NumberParser = /** @class */ (function () {\n    function NumberParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} - Specific the format in which number  will parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberParser.numberParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var numOptions;\n        if ((base.formatRegex.test(option.format)) || !(option.format)) {\n            extend(parseOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            parseOptions.custom = false;\n        }\n        else {\n            extend(parseOptions, base.customFormat(option.format, null, null));\n        }\n        numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        parseOptions.symbolRegex = parser.getSymbolRegex(Object.keys(numOptions.symbolMatch));\n        // tslint:disable-next-line:no-any\n        parseOptions.infinity = numOptions.symbolNumberSystem[keys[1]];\n        var symbolpattern = base.getSymbolPattern(parseOptions.type, numOptions.numberSystem, dependable.numericObject, parseOptions.isAccount);\n        if (symbolpattern) {\n            symbolpattern = symbolpattern.replace(/\\u00A4/g, base.defaultCurrency);\n            var split = symbolpattern.split(';');\n            parseOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, '');\n            parseOptions.pData = base.getFormatData(split[0], true, '');\n        }\n        return function (value) {\n            return _this.getParsedNumber(value, parseOptions, numOptions);\n        };\n    };\n    /**\n     * Returns parsed number for the provided formatting options\n     * @param {string} value\n     * @param {NumericParts} options\n     * @param {NumericOptions} numOptions\n     * @returns {number}\n     */\n    NumberParser.getParsedNumber = function (value, options, numOptions) {\n        var isNegative;\n        var isPercent;\n        var tempValue;\n        var lead;\n        var end;\n        var ret;\n        if (value.indexOf(options.infinity) !== -1) {\n            return Infinity;\n        }\n        else {\n            value = parser.convertValueParts(value, options.symbolRegex, numOptions.symbolMatch);\n            value = parser.convertValueParts(value, numOptions.numberParseRegex, numOptions.numericPair);\n            if (value.indexOf('.') === 0) {\n                value = '0' + value;\n            }\n            var matches = value.match(parseRegex);\n            if (isNullOrUndefined(matches)) {\n                return NaN;\n            }\n            lead = matches[1];\n            tempValue = matches[2];\n            var exponent = matches[5];\n            end = matches[6];\n            isNegative = options.custom ? ((lead === options.nData.nlead) && (end === options.nData.nend)) :\n                ((lead.indexOf(options.nData.nlead) !== -1) && (end.indexOf(options.nData.nend) !== -1));\n            isPercent = isNegative ?\n                options.nData.isPercent :\n                options.pData.isPercent;\n            tempValue = tempValue.replace(groupRegex, '');\n            if (exponent) {\n                tempValue += exponent;\n            }\n            ret = +tempValue;\n            if (options.type === 'percent' || isPercent) {\n                ret = ret / 100;\n            }\n            if (options.custom || options.fractionDigits) {\n                ret = parseFloat(ret.toFixed(options.custom ?\n                    (isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits) : options.fractionDigits));\n            }\n            if (isNegative) {\n                ret *= -1;\n            }\n            return ret;\n        }\n    };\n    return NumberParser;\n}());\nexport { NumberParser };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isUndefined, getValue, isNullOrUndefined, setValue, getUniqueID } from './util';\nimport { ModuleLoader } from './module-loader';\nimport { Base } from './base';\nimport { Observer } from './observer';\nimport { ChildProperty } from './child-property';\nimport { Property, NotifyPropertyChanges } from './notify-property-change';\nimport { onIntlChange, rightToLeft, defaultCulture } from './internationalization';\n/**\n * Base class for all Essential JavaScript components\n */\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    /**\n     * Initialize the constructor for component base\n     */\n    function Component(options, selector) {\n        var _this = _super.call(this, options, selector) || this;\n        _this.needsID = false;\n        if (isNullOrUndefined(_this.enableRtl)) {\n            _this.setProperties({ 'enableRtl': rightToLeft }, true);\n        }\n        if (isNullOrUndefined(_this.locale)) {\n            _this.setProperties({ 'locale': defaultCulture }, true);\n        }\n        _this.moduleLoader = new ModuleLoader(_this);\n        _this.localObserver = new Observer(_this);\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        _this.detectFunction = new Function('args', 'var prop = Object.keys(args); if(prop.length){this[prop[0]] = args[prop[0]];}');\n        onIntlChange.on('notifyExternalChange', _this.detectFunction, _this);\n        if (!isUndefined(selector)) {\n            _this.appendTo();\n        }\n        return _this;\n    }\n    Component.prototype.requiredModules = function () {\n        return [];\n    };\n    ;\n    /**\n     * Destroys the sub modules while destroying the widget\n     */\n    Component.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.localObserver.destroy();\n        if (this.refreshing) {\n            return;\n        }\n        this.trigger('destroyed', { cancel: false });\n        _super.prototype.destroy.call(this);\n        this.moduleLoader.clean();\n        onIntlChange.off('notifyExternalChange', this.detectFunction);\n        if (this.enablePersistence) {\n            this.setPersistData();\n        }\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     */\n    Component.prototype.refresh = function () {\n        this.refreshing = true;\n        this.moduleLoader.clean();\n        this.destroy();\n        this.clearChanges();\n        this.localObserver = new Observer(this);\n        this.preRender();\n        this.injectModules();\n        this.render();\n        this.refreshing = false;\n    };\n    /**\n     * Appends the component within the given HTML element\n     * @param {string | HTMLElement} selector - Target element where component needs to be appended.\n     */\n    Component.prototype.appendTo = function (selector) {\n        if (!isNullOrUndefined(selector) && typeof (selector) === 'string') {\n            this.element = document.querySelector(selector);\n        }\n        else if (!isNullOrUndefined(selector)) {\n            this.element = selector;\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.isProtectedOnChange = false;\n            if (this.enablePersistence) {\n                this.mergePersistData();\n                window.addEventListener('unload', this.setPersistData.bind(this));\n            }\n            if (this.needsID && !this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n            var inst = getValue('ej2_instances', this.element);\n            if (!inst || inst.indexOf(this) === -1) {\n                _super.prototype.addInstance.call(this);\n            }\n            this.preRender();\n            this.injectModules();\n            this.render();\n            this.trigger('created');\n        }\n    };\n    /**\n     * When invoked, applies the pending property changes immediately to the component.\n     */\n    Component.prototype.dataBind = function () {\n        this.injectModules();\n        _super.prototype.dataBind.call(this);\n    };\n    ;\n    /**\n     * Attach one or more  event handler to the current component context.\n     * It is used for internal handling event internally within the component only.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the handler to run when the event occurs\n     * @param {Object} context - optional parameter Specifies the context to be bind in the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.on = function (event, handler, context) {\n        if (typeof event === 'string') {\n            this.localObserver.on(event, handler, context);\n        }\n        else {\n            for (var _i = 0, event_1 = event; _i < event_1.length; _i++) {\n                var arg = event_1[_i];\n                this.localObserver.on(arg.event, arg.handler, arg.context);\n            }\n        }\n    };\n    /**\n     * To remove one or more event handler that has been attached with the on() method.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the function to run when the event occurs\n     * @return {void}\n     * @private\n     */\n    Component.prototype.off = function (event, handler) {\n        if (typeof event === 'string') {\n            this.localObserver.off(event, handler);\n        }\n        else {\n            for (var _i = 0, event_2 = event; _i < event_2.length; _i++) {\n                var arg = event_2[_i];\n                this.localObserver.off(arg.event, arg.handler);\n            }\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     * @param {Object} argument - Additional parameters to pass while calling the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.notify = function (property, argument) {\n        if (this.isDestroyed !== true) {\n            this.localObserver.notify(property, argument);\n        }\n    };\n    /**\n     * Get injected modules\n     * @private\n     */\n    Component.prototype.getInjectedModules = function () {\n        return this.injectedModules;\n    };\n    ;\n    /**\n     * Dynamically injects the required modules to the component.\n     */\n    Component.Inject = function () {\n        var moduleList = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            moduleList[_i] = arguments[_i];\n        }\n        if (!this.prototype.injectedModules) {\n            this.prototype.injectedModules = [];\n        }\n        for (var i = 0; i < moduleList.length; i++) {\n            if (this.prototype.injectedModules.indexOf(moduleList[i]) === -1) {\n                this.prototype.injectedModules.push(moduleList[i]);\n            }\n        }\n    };\n    Component.prototype.injectModules = function () {\n        if (this.injectedModules && this.injectedModules.length) {\n            this.moduleLoader.inject(this.requiredModules(), this.injectedModules);\n        }\n    };\n    Component.prototype.mergePersistData = function () {\n        var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n        if (!(isNullOrUndefined(data) || (data === ''))) {\n            this.setProperties(JSON.parse(data), true);\n        }\n    };\n    Component.prototype.setPersistData = function () {\n        window.localStorage.setItem(this.getModuleName() + this.element.id, this.getPersistData());\n    };\n    Component.prototype.clearTemplate = function (templateName) {\n        //No Code\n    };\n    Component.prototype.addOnPersist = function (options) {\n        var _this = this;\n        var persistObj = {};\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var key = options_1[_i];\n            var objValue = void 0;\n            objValue = getValue(key, this);\n            if (!isUndefined(objValue)) {\n                setValue(key, this.getActualProperties(objValue), persistObj);\n            }\n        }\n        return JSON.stringify(persistObj, function (key, value) {\n            return _this.getActualProperties(value);\n        });\n    };\n    Component.prototype.getActualProperties = function (obj) {\n        if (obj instanceof ChildProperty) {\n            return getValue('properties', obj);\n        }\n        else {\n            return obj;\n        }\n    };\n    Component.prototype.ignoreOnPersist = function (options) {\n        return JSON.stringify(this.iterateJsonProperties(this.properties, options));\n    };\n    Component.prototype.iterateJsonProperties = function (obj, ignoreList) {\n        var newObj = {};\n        var _loop_1 = function (key) {\n            if (ignoreList.indexOf(key) === -1) {\n                // tslint:disable-next-line:no-any\n                var value = obj[key];\n                if (typeof value === 'object' && !(value instanceof Array)) {\n                    var newList = ignoreList.filter(function (str) {\n                        return new RegExp(key + '.').test(str);\n                    }).map(function (str) {\n                        return str.replace(key + '.', '');\n                    });\n                    newObj[key] = this_1.iterateJsonProperties(this_1.getActualProperties(value), newList);\n                }\n                else {\n                    newObj[key] = value;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n        return newObj;\n    };\n    __decorate([\n        Property(false)\n    ], Component.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"locale\", void 0);\n    Component = __decorate([\n        NotifyPropertyChanges\n    ], Component);\n    return Component;\n}(Base));\nexport { Component };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent } from './util';\nvar defaultPosition = { left: 0, top: 0, bottom: 0, right: 0 };\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"top\", void 0);\n    return Position;\n}(ChildProperty));\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dragLimit = Draggable_1.getDefaultPosition();\n        _this.borderWidth = Draggable_1.getDefaultPosition();\n        _this.padding = Draggable_1.getDefaultPosition();\n        _this.diffX = 0;\n        _this.diffY = 0;\n        _this.droppables = {};\n        _this.bind();\n        return _this;\n    }\n    Draggable_1 = Draggable;\n    Draggable.prototype.bind = function () {\n        this.toggleEvents();\n        if (Browser.isIE) {\n            addClass([this.element], 'e-block-touch');\n        }\n        this.droppables[this.scope] = {};\n    };\n    Draggable.getDefaultPosition = function () {\n        return extend({}, defaultPosition);\n    };\n    Draggable.prototype.toggleEvents = function (isUnWire) {\n        var ele;\n        if (!isUndefined(this.handle)) {\n            ele = select(this.handle, this.element);\n        }\n        if (isUnWire) {\n            EventHandler.remove(ele || this.element, Browser.touchStartEvent, this.initialize);\n        }\n        else {\n            EventHandler.add(ele || this.element, Browser.touchStartEvent, this.initialize, this);\n        }\n    };\n    Draggable.prototype.initialize = function (evt) {\n        this.target = evt.currentTarget;\n        if (this.preventDefault && !isUndefined(evt.changedTouches)) {\n            evt.preventDefault();\n        }\n        if (this.abort) {\n            if (!isNullOrUndefined(closest(evt.target, this.abort))) {\n                return;\n            }\n        }\n        this.element.setAttribute('aria-grabbed', 'true');\n        var intCoord = this.getCoordinates(evt);\n        this.initialPosition = { x: intCoord.pageX, y: intCoord.pageY };\n        if (!this.clone) {\n            var pos = this.element.getBoundingClientRect();\n            this.relativeXPosition = intCoord.pageX - pos.left;\n            this.relativeYPosition = intCoord.pageY - pos.top;\n        }\n        EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n        EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n        this.toggleEvents(true);\n        document.body.classList.add('e-prevent-select');\n        EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n    };\n    Draggable.prototype.intDragStart = function (evt) {\n        var isChangeTouch = !isUndefined(evt.changedTouches);\n        if (isChangeTouch && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var intCordinate = this.getCoordinates(evt);\n        var pos;\n        var styleProp = getComputedStyle(this.element);\n        this.margin = {\n            left: parseInt(styleProp.marginLeft, 10),\n            top: parseInt(styleProp.marginTop, 10),\n            right: parseInt(styleProp.marginRight, 10),\n            bottom: parseInt(styleProp.marginBottom, 10),\n        };\n        var element = this.element;\n        if (this.clone && this.dragTarget) {\n            var intClosest = closest(evt.target, this.dragTarget);\n            if (!isNullOrUndefined(intClosest)) {\n                element = intClosest;\n            }\n        }\n        this.offset = this.calculateParentPosition(element);\n        this.position = this.getMousePosition(evt);\n        var x = this.initialPosition.x - intCordinate.pageX;\n        var y = this.initialPosition.y - intCordinate.pageY;\n        var distance = Math.sqrt((x * x) + (y * y));\n        if (distance >= this.distance) {\n            var ele = this.getHelperElement(evt);\n            if (!ele || isNullOrUndefined(ele)) {\n                return;\n            }\n            var dragTargetElement = this.helperElement = ele;\n            this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n            if (this.dragStart) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStart', { event: evt, element: element, target: curTarget });\n            }\n            if (this.dragArea) {\n                this.setDragArea();\n            }\n            else {\n                this.dragLimit = { left: 0, right: 0, bottom: 0, top: 0 };\n                this.borderWidth = { top: 0, left: 0 };\n            }\n            pos = { left: this.position.left - this.parentClientRect.left, top: this.position.top - this.parentClientRect.top };\n            if (this.clone && !this.enableTailMode) {\n                this.diffX = this.position.left - this.offset.left;\n                this.diffY = this.position.top - this.offset.top;\n            }\n            var posValue = this.getProcessedPositionValue({ top: (pos.top - this.diffY) + 'px',\n                left: (pos.left - this.diffX) + 'px' });\n            setStyleAttribute(dragTargetElement, {\n                position: 'absolute', top: posValue.top, left: posValue.left\n            });\n            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n            if (isVisible(dragTargetElement)) {\n                EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n                EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n                this.setGlobalDroppables(false, this.element, dragTargetElement);\n            }\n            else {\n                document.body.classList.remove('e-prevent-select');\n            }\n        }\n    };\n    Draggable.prototype.getProcessedPositionValue = function (value) {\n        if (this.axis) {\n            if (this.axis === 'x') {\n                value.top = '0px';\n            }\n            else if (this.axis === 'y') {\n                value.left = '0px';\n            }\n        }\n        if (this.queryPositionInfo) {\n            return this.queryPositionInfo(value);\n        }\n        return value;\n    };\n    Draggable.prototype.calculateParentPosition = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return { left: 0, top: 0 };\n        }\n        var rect = ele.getBoundingClientRect();\n        var style = getComputedStyle(ele);\n        return {\n            left: (rect.left + window.pageXOffset) - parseInt(style.marginLeft, 10),\n            top: (rect.top + window.pageYOffset) - parseInt(style.marginTop, 10)\n        };\n    };\n    Draggable.prototype.intDrag = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var left;\n        var top;\n        this.position = this.getMousePosition(evt);\n        var docHeight = this.getDocumentWidthHeight('Height');\n        if (docHeight < this.position.top) {\n            this.position.top = docHeight;\n        }\n        var docWidth = this.getDocumentWidthHeight('Width');\n        if (docWidth < this.position.left) {\n            this.position.left = docWidth;\n        }\n        if (this.drag) {\n            var curTarget = this.getProperTargetElement(evt);\n            this.trigger('drag', { event: evt, element: this.element, target: curTarget });\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.intOver(evt, eleObj.target);\n            /* tslint:disable no-any */\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            this.hoverObject = eleObj;\n        }\n        else if (this.hoverObject) {\n            this.hoverObject.instance.intOut(evt, eleObj.target);\n            this.hoverObject.instance.dragData[this.scope] = null;\n            this.hoverObject = null;\n        }\n        var helperElement = this.droppables[this.scope].helper;\n        this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n        var tLeft = this.parentClientRect.left;\n        var tTop = this.parentClientRect.top;\n        var intCoord = this.getCoordinates(evt);\n        var pagex = intCoord.pageX;\n        var pagey = intCoord.pageY;\n        var dLeft = this.position.left - this.diffX;\n        var dTop = this.position.top - this.diffY;\n        if (this.dragArea) {\n            var styles = getComputedStyle(helperElement);\n            if (this.pageX !== pagex || this.skipDistanceCheck) {\n                var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft)\n                    + parseFloat(styles.marginRight));\n                if (this.dragLimit.left > dLeft) {\n                    left = this.dragLimit.left;\n                }\n                else if (this.dragLimit.right < dLeft + helperWidth) {\n                    left = this.dragLimit.right - helperWidth;\n                }\n                else {\n                    left = dLeft;\n                }\n            }\n            if (this.pageY !== pagey || this.skipDistanceCheck) {\n                var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                    + parseFloat(styles.marginBottom));\n                if (this.dragLimit.top > dTop) {\n                    top = this.dragLimit.top;\n                }\n                else if (this.dragLimit.bottom < dTop + helperHeight) {\n                    top = this.dragLimit.bottom - helperHeight;\n                }\n                else {\n                    top = dTop;\n                }\n            }\n        }\n        else {\n            left = dLeft;\n            top = dTop;\n        }\n        var iTop = tTop + this.borderWidth.top;\n        var iLeft = tLeft + this.borderWidth.left;\n        var dragValue = this.getProcessedPositionValue({ top: (top - iTop) + 'px', left: (left - iLeft) + 'px' });\n        setStyleAttribute(helperElement, { left: dragValue.left, top: dragValue.top });\n        this.position.left = left;\n        this.position.top = top;\n        this.pageX = pagex;\n        this.pageY = pagey;\n    };\n    Draggable.prototype.getDocumentWidthHeight = function (str) {\n        var docBody = document.body;\n        var docEle = document.documentElement;\n        var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n        return returnValue;\n    };\n    Draggable.prototype.intDragStop = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var type = ['touchend', 'pointerup', 'mouseup'];\n        if (type.indexOf(evt.type) !== -1) {\n            if (this.dragStop) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStop', { event: evt, element: this.element, target: curTarget, helper: this.helperElement });\n            }\n            this.intDestroy(evt);\n        }\n        else {\n            this.element.setAttribute('aria-grabbed', 'false');\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.dragStopCalled = true;\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intDrop(evt, eleObj.target);\n        }\n        this.setGlobalDroppables(true);\n        document.body.classList.remove('e-prevent-select');\n    };\n    Draggable.prototype.intDestroy = function (evt) {\n        this.toggleEvents();\n        document.body.classList.remove('e-prevent-select');\n        this.element.setAttribute('aria-grabbed', 'false');\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n    };\n    // triggers when property changed\n    Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Draggable.prototype.getModuleName = function () {\n        return 'draggable';\n    };\n    Draggable.prototype.setDragArea = function () {\n        var eleWidthBound;\n        var eleHeightBound;\n        var top = 0;\n        var left = 0;\n        var ele;\n        var type = typeof this.dragArea;\n        if (type === 'string') {\n            ele = select(this.dragArea);\n        }\n        else {\n            ele = this.dragArea;\n        }\n        if (ele) {\n            var elementArea = ele.getBoundingClientRect();\n            eleWidthBound = elementArea.width ? elementArea.width : elementArea.right - elementArea.left;\n            eleHeightBound = elementArea.height ? elementArea.height : elementArea.bottom - elementArea.top;\n            var keys = ['Top', 'Left', 'Bottom', 'Right'];\n            var styles = getComputedStyle(ele);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var tborder = styles['border' + key + 'Width'];\n                var tpadding = styles['padding' + key];\n                var lowerKey = key.toLowerCase();\n                this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n                this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n            }\n            top = elementArea.top;\n            left = elementArea.left;\n            this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n            this.dragLimit.top = top + this.borderWidth.top + this.padding.top;\n            this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n            this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n        }\n    };\n    Draggable.prototype.getProperTargetElement = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var ele;\n        var prevStyle = this.helperElement.style.display || '';\n        if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n            this.helperElement.style.display = 'none';\n            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n            this.helperElement.style.display = prevStyle;\n        }\n        else {\n            ele = evt.target;\n        }\n        return ele;\n    };\n    Draggable.prototype.getMousePosition = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var pageX = this.clone ? intCoord.pageX : intCoord.pageX - this.relativeXPosition;\n        var pageY = this.clone ? intCoord.pageY : intCoord.pageY - this.relativeYPosition;\n        return {\n            left: pageX - (this.margin.left + this.cursorAt.left),\n            top: pageY - (this.margin.top + this.cursorAt.top)\n        };\n    };\n    Draggable.prototype.getCoordinates = function (evt) {\n        if (evt.type.indexOf('touch') > -1) {\n            return evt.changedTouches[0];\n        }\n        return evt;\n    };\n    Draggable.prototype.getHelperElement = function (evt) {\n        var element;\n        if (this.clone) {\n            if (this.helper) {\n                element = this.helper({ sender: evt, element: this.target });\n            }\n            else {\n                element = createElement('div', { className: 'e-drag-helper e-block-touch', innerHTML: 'Draggable' });\n                document.body.appendChild(element);\n            }\n        }\n        else {\n            element = this.element;\n        }\n        return element;\n    };\n    Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n        this.droppables[this.scope] = reset ? null : {\n            draggable: drag,\n            helper: helper,\n            draggedElement: this.element\n        };\n    };\n    Draggable.prototype.checkTargetElement = function (evt) {\n        var target = this.getProperTargetElement(evt);\n        var dropIns = this.getDropInstance(target);\n        if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n            var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n            if (parent_1) {\n                dropIns = this.getDropInstance(parent_1);\n            }\n        }\n        return { target: target, instance: dropIns };\n    };\n    Draggable.prototype.getDropInstance = function (ele) {\n        var name = 'getModuleName';\n        var drop;\n        var eleInst = ele && ele.ej2_instances;\n        if (eleInst) {\n            for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n                var inst = eleInst_1[_i];\n                if (inst[name]() === 'droppable') {\n                    drop = inst;\n                    break;\n                }\n            }\n        }\n        return drop;\n    };\n    Draggable.prototype.destroy = function () {\n        this.toggleEvents(true);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({}, Position)\n    ], Draggable.prototype, \"cursorAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"clone\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"dragArea\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStop\", void 0);\n    __decorate([\n        Property(1)\n    ], Draggable.prototype, \"distance\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"handle\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"abort\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"helper\", void 0);\n    __decorate([\n        Property('default')\n    ], Draggable.prototype, \"scope\", void 0);\n    __decorate([\n        Property('')\n    ], Draggable.prototype, \"dragTarget\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"axis\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"queryPositionInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTailMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"skipDistanceCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"preventDefault\", void 0);\n    Draggable = Draggable_1 = __decorate([\n        NotifyPropertyChanges\n    ], Draggable);\n    return Draggable;\n    var Draggable_1;\n}(Base));\nexport { Draggable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible, matches } from './dom';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { compareElementParent } from './util';\n/**\n * Droppable Module provides support to enable droppable functionality in Dom Elements.\n * ```html\n * <div id='drop'>Droppable</div>\n * <script>\n * let ele:HTMLElement = document.getElementById('drop');\n * var drag:Droppable = new Droppable(ele,{\n *     accept:'.drop',\n *     drop: function(e) {\n *      //drop handler code.\n *     }\n * });\n * </script>\n * ```\n */\nvar Droppable = /** @class */ (function (_super) {\n    __extends(Droppable, _super);\n    function Droppable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseOver = false;\n        _this.dragData = {};\n        _this.dragStopCalled = false;\n        _this.bind();\n        return _this;\n    }\n    Droppable.prototype.bind = function () {\n        this.wireEvents();\n    };\n    Droppable.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchEndEvent, this.intDrop, this);\n    };\n    // triggers when property changed\n    Droppable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Droppable.prototype.getModuleName = function () {\n        return 'droppable';\n    };\n    Droppable.prototype.intOver = function (event, element) {\n        if (!this.mouseOver) {\n            this.trigger('over', { event: event, target: element });\n            this.mouseOver = true;\n        }\n    };\n    Droppable.prototype.intOut = function (event, element) {\n        if (this.mouseOver) {\n            this.trigger('out', { evt: event, target: element });\n            this.mouseOver = false;\n        }\n    };\n    Droppable.prototype.intDrop = function (evt, element) {\n        if (!this.dragStopCalled) {\n            return;\n        }\n        else {\n            this.dragStopCalled = false;\n        }\n        var accept = true;\n        var drag = this.dragData[this.scope];\n        var isDrag = drag ? (drag.helper && isVisible(drag.helper)) : false;\n        var area;\n        if (isDrag) {\n            area = this.isDropArea(evt, drag.helper, element);\n            if (this.accept) {\n                accept = matches(drag.helper, this.accept);\n            }\n        }\n        if (isDrag && this.drop && area.canDrop && accept) {\n            this.trigger('drop', { event: evt, target: area.target, droppedElement: drag.helper, dragData: drag });\n        }\n    };\n    Droppable.prototype.isDropArea = function (evt, helper, element) {\n        var area = { canDrop: true, target: element || evt.target };\n        var isTouch = evt.type === 'touchend';\n        if (isTouch || area.target === helper) {\n            helper.style.display = 'none';\n            var coord = isTouch ? (evt.changedTouches[0]) : evt;\n            var ele = document.elementFromPoint(coord.clientX, coord.clientY);\n            area.canDrop = false;\n            area.canDrop = compareElementParent(ele, this.element);\n            if (area.canDrop) {\n                area.target = ele;\n            }\n            helper.style.display = '';\n        }\n        return area;\n    };\n    Droppable.prototype.destroy = function () {\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.intDrop);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property()\n    ], Droppable.prototype, \"accept\", void 0);\n    __decorate([\n        Property('default')\n    ], Droppable.prototype, \"scope\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"over\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"out\", void 0);\n    Droppable = __decorate([\n        NotifyPropertyChanges\n    ], Droppable);\n    return Droppable;\n}(Base));\nexport { Droppable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Base } from './base';\nvar keyCode = {\n    'backspace': 8,\n    'tab': 9,\n    'enter': 13,\n    'shift': 16,\n    'control': 17,\n    'alt': 18,\n    'pause': 19,\n    'capslock': 20,\n    'space': 32,\n    'escape': 27,\n    'pageup': 33,\n    'pagedown': 34,\n    'end': 35,\n    'home': 36,\n    'leftarrow': 37,\n    'uparrow': 38,\n    'rightarrow': 39,\n    'downarrow': 40,\n    'insert': 45,\n    'delete': 46,\n    'f1': 112,\n    'f2': 113,\n    'f3': 114,\n    'f4': 115,\n    'f5': 116,\n    'f6': 117,\n    'f7': 118,\n    'f8': 119,\n    'f9': 120,\n    'f10': 121,\n    'f11': 122,\n    'f12': 123,\n    'semicolon': 186,\n    'plus': 187,\n    'comma': 188,\n    'minus': 189,\n    'dot': 190,\n    'forwardslash': 191,\n    'graveaccent': 192,\n    'openbracket': 219,\n    'backslash': 220,\n    'closebracket': 221,\n    'singlequote': 222\n};\n/**\n * KeyboardEvents class enables you to bind key action desired key combinations for ex., Ctrl+A, Delete, Alt+Space etc.\n * ```html\n * <div id='testEle'>  </div>;\n * <script>\n *   let node: HTMLElement = document.querySelector('#testEle');\n *   let kbInstance = new KeyboardEvents({\n *       element: node,\n *       keyConfigs:{ selectAll : 'ctrl+a' },\n *       keyAction: function (e:KeyboardEvent, action:string) {\n *           // handler function code\n *       }\n *   });\n * </script>\n * ```\n */\nvar KeyboardEvents = /** @class */ (function (_super) {\n    __extends(KeyboardEvents, _super);\n    /**\n     * Initializes the KeyboardEvents\n     * @param {HTMLElement} element\n     * @param {KeyboardEventsModel} options\n     */\n    function KeyboardEvents(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * To handle a key press event returns null\n         */\n        _this.keyPressHandler = function (e) {\n            var isAltKey = e.altKey;\n            var isCtrlKey = e.ctrlKey;\n            var isShiftKey = e.shiftKey;\n            var curkeyCode = e.which;\n            var keys = Object.keys(_this.keyConfigs);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                var configCollection = _this.keyConfigs[key].split(',');\n                for (var _a = 0, configCollection_1 = configCollection; _a < configCollection_1.length; _a++) {\n                    var rconfig = configCollection_1[_a];\n                    var rKeyObj = KeyboardEvents_1.getKeyConfigData(rconfig.trim());\n                    if (isAltKey === rKeyObj.altKey && isCtrlKey === rKeyObj.ctrlKey &&\n                        isShiftKey === rKeyObj.shiftKey && curkeyCode === rKeyObj.keyCode) {\n                        e.action = key;\n                        if (_this.keyAction) {\n                            _this.keyAction(e);\n                        }\n                    }\n                }\n            }\n        };\n        _this.bind();\n        return _this;\n    }\n    KeyboardEvents_1 = KeyboardEvents;\n    /**\n     * Unwire bound events and destroy the instance.\n     * @return {void}\n     */\n    KeyboardEvents.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Function can be used to specify certain action if a property is changed\n     * @param newProp\n     * @param oldProp\n     * @returns {void}\n     * @private\n     */\n    KeyboardEvents.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    ;\n    KeyboardEvents.prototype.bind = function () {\n        this.wireEvents();\n    };\n    /**\n     * To get the module name, returns 'keyboard'.\n     * @private\n     */\n    KeyboardEvents.prototype.getModuleName = function () {\n        return 'keyboard';\n    };\n    /**\n     * Wiring event handlers to events\n     */\n    KeyboardEvents.prototype.wireEvents = function () {\n        this.element.addEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * Unwiring event handlers to events\n     */\n    KeyboardEvents.prototype.unwireEvents = function () {\n        this.element.removeEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * To get the key configuration data\n     * @param {string} config - configuration data\n     * returns {KeyData}\n     */\n    KeyboardEvents.getKeyConfigData = function (config) {\n        if (config in this.configCache) {\n            return this.configCache[config];\n        }\n        var keys = config.toLowerCase().split('+');\n        var keyData = {\n            altKey: (keys.indexOf('alt') !== -1 ? true : false),\n            ctrlKey: (keys.indexOf('ctrl') !== -1 ? true : false),\n            shiftKey: (keys.indexOf('shift') !== -1 ? true : false),\n            keyCode: null\n        };\n        if (keys[keys.length - 1].length > 1 && !!Number(keys[keys.length - 1])) {\n            keyData.keyCode = Number(keys[keys.length - 1]);\n        }\n        else {\n            keyData.keyCode = KeyboardEvents_1.getKeyCode(keys[keys.length - 1]);\n        }\n        KeyboardEvents_1.configCache[config] = keyData;\n        return keyData;\n    };\n    // Return the keycode value as string \n    KeyboardEvents.getKeyCode = function (keyVal) {\n        return keyCode[keyVal] || keyVal.toUpperCase().charCodeAt(0);\n    };\n    KeyboardEvents.configCache = {};\n    __decorate([\n        Property({})\n    ], KeyboardEvents.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property('keyup')\n    ], KeyboardEvents.prototype, \"eventName\", void 0);\n    __decorate([\n        Event()\n    ], KeyboardEvents.prototype, \"keyAction\", void 0);\n    KeyboardEvents = KeyboardEvents_1 = __decorate([\n        NotifyPropertyChanges\n    ], KeyboardEvents);\n    return KeyboardEvents;\n    var KeyboardEvents_1;\n}(Base));\nexport { KeyboardEvents };\n","import { extend } from './util';\nimport { defaultCulture } from './internationalization';\n/**\n * L10n modules provides localized text for different culture.\n * ```typescript\n * import {setCulture} from '@syncfusion/ts-base-library';\n * //load global locale object common for all components.\n * L10n.load({\n *    'fr-BE': {\n *       'button': {\n *            'check': 'vérifié'\n *        }\n *    }\n * });\n * //set globale default locale culture.\n * setCulture('fr-BE');\n * let instance: L10n = new L10n('button', {\n *    check: 'checked'\n * });\n * //Get locale text for current property.\n * instance.getConstant('check');\n * //Change locale culture in a component.\n * instance.setLocale('en-US');\n * ```\n */\nvar L10n = /** @class */ (function () {\n    /**\n     * Constructor\n     */\n    function L10n(controlName, localeStrings, locale) {\n        this.controlName = controlName;\n        this.localeStrings = localeStrings;\n        this.setLocale(locale || defaultCulture);\n    }\n    /**\n     * Sets the locale text\n     * @param {string} locale\n     * @returns {void}\n     */\n    L10n.prototype.setLocale = function (locale) {\n        var intLocale = this.intGetControlConstant(L10n.locale, locale);\n        this.currentLocale = intLocale || this.localeStrings;\n    };\n    /**\n     * Sets the global locale for all components.\n     * @param {Object} localeObject - specifies the localeObject to be set as global locale.\n     */\n    L10n.load = function (localeObject) {\n        this.locale = extend(this.locale, localeObject, {}, true);\n    };\n    /**\n     * Returns current locale text for the property based on the culture name and control name.\n     * @param {string} propertyName - specifies the property for which localize text to be returned.\n     * @return string\n     */\n    L10n.prototype.getConstant = function (prop) {\n        /* tslint:disable no-any */\n        return this.currentLocale[prop] || this.localeStrings[prop] || '';\n    };\n    /**\n     * Returns the control constant object for current object and the locale specified.\n     * @param {Object} curObject\n     * @param {string} locale\n     * @returns {Object}\n     */\n    L10n.prototype.intGetControlConstant = function (curObject, locale) {\n        if (curObject[locale]) {\n            return curObject[locale][this.controlName];\n        }\n        return null;\n    };\n    L10n.locale = {};\n    return L10n;\n}());\nexport { L10n };\n","/**\n * To import utils\n */\nimport { isNullOrUndefined, } from './util';\nvar SvgRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function SvgRenderer(rootID) {\n        //Internal Variables \n        this.svgLink = 'http://www.w3.org/2000/svg';\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    SvgRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    }; /* tslint:enable */\n    /**\n     * To create a Html5 SVG element\n     * @param {SVGAttributes} options - Options to create SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createSvg = function (options) {\n        if (isNullOrUndefined(options.id)) {\n            options.id = this.rootId + '_svg';\n        }\n        this.svgObj = document.getElementById(options.id);\n        if (isNullOrUndefined(document.getElementById(options.id))) {\n            this.svgObj = document.createElementNS(this.svgLink, 'svg');\n        }\n        this.svgObj = this.setElementAttributes(options, this.svgObj);\n        this.setSVGSize(options.width, options.height);\n        return this.svgObj;\n    };\n    // method to set the height and width for the SVG element\n    SvgRenderer.prototype.setSVGSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width) || this.width <= 0) {\n            this.svgObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.svgObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height) || this.height <= 0) {\n            this.svgObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.svgObj.setAttribute('height', this.height.toString());\n        }\n    };\n    /**\n     * To draw a path\n     * @param {PathAttributes} options - Options to draw a path in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPath = function (options) {\n        var path = document.getElementById(options.id);\n        if (path === null) {\n            path = document.createElementNS(this.svgLink, 'path');\n        }\n        path = this.setElementAttributes(options, path);\n        return path;\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - Options to draw a line in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawLine = function (options) {\n        var line = document.getElementById(options.id);\n        if (line === null) {\n            line = document.createElementNS(this.svgLink, 'line');\n        }\n        line = this.setElementAttributes(options, line);\n        return line;\n    };\n    /**\n     * To draw a rectangle\n     * @param {BaseAttibutes} options - Required options to draw a rectangle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawRectangle = function (options) {\n        var rectangle = document.getElementById(options.id);\n        if (rectangle === null) {\n            rectangle = document.createElementNS(this.svgLink, 'rect');\n        }\n        rectangle = this.setElementAttributes(options, rectangle);\n        return rectangle;\n    };\n    /**\n     * To draw a circle\n     * @param {CircleAttributes} options - Required options to draw a circle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircle = function (options) {\n        var circle = document.getElementById(options.id);\n        if (circle === null) {\n            circle = document.createElementNS(this.svgLink, 'circle');\n        }\n        circle = this.setElementAttributes(options, circle);\n        return circle;\n    };\n    /**\n     * To draw a polyline\n     * @param {PolylineAttributes} options - Options required to draw a polyline\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolyline = function (options) {\n        var polyline = document.getElementById(options.id);\n        if (polyline === null) {\n            polyline = document.createElementNS(this.svgLink, 'polyline');\n        }\n        polyline = this.setElementAttributes(options, polyline);\n        return polyline;\n    };\n    /**\n     * To draw an ellipse\n     * @param {EllipseAttributes} options - Options required to draw an ellipse\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawEllipse = function (options) {\n        var ellipse = document.getElementById(options.id);\n        if (ellipse === null) {\n            ellipse = document.createElementNS(this.svgLink, 'ellipse');\n        }\n        ellipse = this.setElementAttributes(options, ellipse);\n        return ellipse;\n    };\n    /**\n     * To draw a polygon\n     * @param {PolylineAttributes} options - Options needed to draw a polygon in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolygon = function (options) {\n        var polygon = document.getElementById(options.id);\n        if (polygon === null) {\n            polygon = document.createElementNS(this.svgLink, 'polygon');\n        }\n        polygon = this.setElementAttributes(options, polygon);\n        return polygon;\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - Required options to draw an image in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawImage = function (options) {\n        var img = document.createElementNS(this.svgLink, 'image');\n        img.setAttributeNS(null, 'height', options.height.toString());\n        img.setAttributeNS(null, 'width', options.width.toString());\n        img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', options.href);\n        img.setAttributeNS(null, 'x', options.x.toString());\n        img.setAttributeNS(null, 'y', options.y.toString());\n        img.setAttributeNS(null, 'id', options.id);\n        img.setAttributeNS(null, 'visibility', options.visibility);\n        if (!isNullOrUndefined(this.getOptionValue(options, 'clip-path'))) {\n            img.setAttributeNS(null, 'clip-path', this.getOptionValue(options, 'clip-path'));\n        }\n        if (!isNullOrUndefined(options.preserveAspectRatio)) {\n            img.setAttributeNS(null, 'preserveAspectRatio', options.preserveAspectRatio);\n        }\n        return img;\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - Options needed to draw a text in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createText = function (options, label) {\n        var text = document.createElementNS(this.svgLink, 'text');\n        text = this.setElementAttributes(options, text);\n        if (!isNullOrUndefined(label)) {\n            text.textContent = label;\n        }\n        return text;\n    };\n    /**\n     * To create a tSpan\n     * @param {TextAttributes} options - Options to create tSpan\n     * @param {string} label - The text content which is to be rendered in the tSpan\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTSpan = function (options, label) {\n        var tSpan = document.createElementNS(this.svgLink, 'tspan');\n        tSpan = this.setElementAttributes(options, tSpan);\n        if (!isNullOrUndefined(label)) {\n            tSpan.textContent = label;\n        }\n        return tSpan;\n    };\n    /**\n     * To create a title\n     * @param {string} text - The text content which is to be rendered in the title\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTitle = function (text) {\n        var title = document.createElementNS(this.svgLink, 'title');\n        title.textContent = text;\n        return title;\n    };\n    /**\n     * To create defs element in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createDefs = function () {\n        var defs = document.createElementNS(this.svgLink, 'defs');\n        return defs;\n    };\n    /**\n     * To create clip path in SVG\n     * @param {BaseAttibutes} options - Options needed to create clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createClipPath = function (options) {\n        var clipPath = document.createElementNS(this.svgLink, 'clipPath');\n        clipPath = this.setElementAttributes(options, clipPath);\n        return clipPath;\n    };\n    /**\n     * To create foreign object in SVG\n     * @param {BaseAttibutes} options - Options needed to create foreign object\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createForeignObject = function (options) {\n        var foreignObject = document.createElementNS(this.svgLink, 'foreignObject');\n        foreignObject = this.setElementAttributes(options, foreignObject);\n        return foreignObject;\n    };\n    /**\n     * To create group element in SVG\n     * @param {BaseAttibutes} options - Options needed to create group\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createGroup = function (options) {\n        var group = document.createElementNS(this.svgLink, 'g');\n        group = this.setElementAttributes(options, group);\n        return group;\n    };\n    /**\n     * To create pattern in SVG\n     * @param {PatternAttributes} options - Required options to create pattern in SVG\n     * @param {string} type - Specifies the name of the pattern\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createPattern = function (options, element) {\n        var pattern = document.createElementNS(this.svgLink, element);\n        pattern = this.setElementAttributes(options, pattern);\n        return pattern;\n    };\n    /**\n     * To create radial gradient in SVG\n     * @param {string[]} colors - Specifies the colors required to create radial gradient\n     * @param {string[]} colorStop - Specifies the colorstop required to create radial gradient\n     * @param {string} name - Specifies the name of the gradient\n     * @param {RadialGradient} options - value for radial gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createRadialGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'radialGradient',\n                'cx': options.cx + '%',\n                'cy': options.cy + '%',\n                'r': options.r + '%',\n                'fx': options.fx + '%',\n                'fy': options.fy + '%'\n            };\n            this.drawGradient('radialGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'radialGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To create linear gradient in SVG\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colors - Array of string specifies the values for colorStop\n     * @param {string} name - Specifies the name of the gradient\n     * @param {LinearGradient} options - Specifies the options for gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createLinearGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'linearGradient',\n                'x1': options.x1 + '%',\n                'y1': options.y1 + '%',\n                'x2': options.x2 + '%',\n                'y2': options.y2 + '%'\n            };\n            this.drawGradient('linearGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'linearGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To render the gradient element in SVG\n     * @param {string} gradientType - Specifies the type of the gradient\n     * @param {RadialGradient | LinearGradient} options - Options required to render a gradient\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colorStop - Array of string specifies the values for colorStop\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawGradient = function (gradientType, options, colors) {\n        var defs = this.createDefs();\n        var gradient = document.createElementNS(this.svgLink, gradientType);\n        gradient = this.setElementAttributes(options, gradient);\n        for (var i = 0; i < colors.length; i++) {\n            var stop_1 = document.createElementNS(this.svgLink, 'stop');\n            stop_1.setAttribute('offset', colors[i].colorStop);\n            stop_1.setAttribute('stop-color', colors[i].color);\n            stop_1.setAttribute('stop-opacity', '1');\n            gradient.appendChild(stop_1);\n        }\n        defs.appendChild(gradient);\n        return defs;\n    };\n    /**\n     * To render a clip path\n     * @param {BaseAttibutes} options - Options required to render a clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var rect = this.drawRectangle(options);\n        clipPath.appendChild(rect);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To create circular clip path in SVG\n     * @param {CircleAttributes} options - Options required to create circular clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircularClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var circle = this.drawCircle(options);\n        clipPath.appendChild(circle);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {Element} element - The element to which the attributes need to be set\n     * @return {Element}\n     */\n    SvgRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], options[keys[i]]);\n        }\n        return element;\n    };\n    return SvgRenderer;\n}());\nexport { SvgRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { extend } from './util';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Browser } from './browser';\nimport { Base } from './base';\nimport { ChildProperty } from './child-property';\nimport { EventHandler } from './event-handler';\n/**\n * SwipeSettings is a framework module that provides support to handle swipe event like swipe up, swipe right, etc..,\n * @private\n */\nvar SwipeSettings = /** @class */ (function (_super) {\n    __extends(SwipeSettings, _super);\n    function SwipeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(50)\n    ], SwipeSettings.prototype, \"swipeThresholdDistance\", void 0);\n    return SwipeSettings;\n}(ChildProperty));\nexport { SwipeSettings };\nvar swipeRegex = /(Up|Down)/;\n/**\n * Touch class provides support to handle the touch event like tap, double tap, tap hold, etc..,\n * ```typescript\n *    let node: HTMLElement;\n * let touchObj: Touch = new Touch({\n *    element: node,\n *    tap: function (e) {\n *        // tap handler function code\n *    }\n *    tapHold: function (e) {\n *        // tap hold handler function code\n *    }\n *    scroll: function (e) {\n *        // scroll handler function code\n *    }\n *    swipe: function (e) {\n *        // swipe handler function code\n *    }\n * });\n * ```\n */\nvar Touch = /** @class */ (function (_super) {\n    __extends(Touch, _super);\n    /* End-Properties */\n    function Touch(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.touchAction = true;\n        _this.tapCount = 0;\n        _this.startEvent = function (evt) {\n            if (_this.touchAction === true) {\n                var point = (evt.changedTouches ? evt.changedTouches[0] : evt);\n                if (evt.changedTouches !== undefined) {\n                    _this.touchAction = false;\n                }\n                _this.isTouchMoved = false;\n                _this.movedDirection = '';\n                _this.startPoint = _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n                _this.startEventData = point;\n                _this.hScrollLocked = _this.vScrollLocked = false;\n                _this.tStampStart = Date.now();\n                _this.timeOutTapHold = setTimeout(function () { _this.tapHoldEvent(evt); }, _this.tapHoldThreshold);\n                EventHandler.add(_this.element, Browser.touchMoveEvent, _this.moveEvent, _this);\n                EventHandler.add(_this.element, Browser.touchEndEvent, _this.endEvent, _this);\n            }\n        };\n        _this.moveEvent = function (evt) {\n            var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n            _this.movedPoint = point;\n            _this.isTouchMoved = !(point.clientX === _this.startPoint.clientX && point.clientY === _this.startPoint.clientY);\n            var eScrollArgs = {};\n            if (_this.isTouchMoved) {\n                clearTimeout(_this.timeOutTapHold);\n                _this.calcScrollPoints(evt);\n                var scrollArg = {\n                    startEvents: _this.startEventData,\n                    originalEvent: evt, startX: _this.startPoint.clientX,\n                    startY: _this.startPoint.clientY, distanceX: _this.distanceX,\n                    distanceY: _this.distanceY, scrollDirection: _this.scrollDirection,\n                    velocity: _this.getVelocity(point)\n                };\n                eScrollArgs = extend(eScrollArgs, {}, scrollArg);\n                _this.trigger('scroll', eScrollArgs);\n                _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n            }\n        };\n        _this.endEvent = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            var point = evt;\n            if (evt.changedTouches) {\n                point = evt.changedTouches[0];\n            }\n            var diffX = point.clientX - _this.startPoint.clientX;\n            var diffY = point.clientY - _this.startPoint.clientY;\n            diffX = Math.floor(diffX < 0 ? -1 * diffX : diffX);\n            diffY = Math.floor(diffY < 0 ? -1 * diffY : diffX);\n            _this.isTouchMoved = diffX > 1 || diffY > 1;\n            _this.endPoint = point;\n            var eSwipeArgs;\n            var tDistance = _this.swipeSettings.swipeThresholdDistance;\n            _this.calcPoints(evt);\n            var swipeArgs = {\n                originalEvent: evt,\n                startEvents: _this.startEventData,\n                startX: _this.startPoint.clientX,\n                startY: _this.startPoint.clientY,\n                distanceX: _this.distanceX, distanceY: _this.distanceY, swipeDirection: _this.movedDirection,\n                velocity: _this.getVelocity(point)\n            };\n            if (!_this.isTouchMoved) {\n                if (typeof _this.tap === 'function') {\n                    _this.trigger('tap', { originalEvent: evt, tapCount: ++_this.tapCount });\n                    _this.timeOutTap = setTimeout(function () {\n                        _this.tapCount = 0;\n                    }, _this.tapThreshold);\n                }\n            }\n            else {\n                eSwipeArgs = extend(eSwipeArgs, _this.defaultArgs, swipeArgs);\n                var canTrigger = false;\n                var ele = _this.element;\n                var scrollBool = _this.isScrollable(ele);\n                var moved = swipeRegex.test(_this.movedDirection);\n                if ((tDistance < _this.distanceX && !moved) || (tDistance < _this.distanceY && moved)) {\n                    if (!scrollBool) {\n                        canTrigger = true;\n                    }\n                    else {\n                        canTrigger = _this.checkSwipe(ele, moved);\n                    }\n                }\n                if (canTrigger) {\n                    _this.trigger('swipe', eSwipeArgs);\n                }\n            }\n            _this.modeClear = setTimeout(function () {\n                _this.touchAction = true;\n            }, (typeof _this.tap !== 'function' ? 0 : 10));\n            _this.lastTapTime = new Date().getTime();\n            EventHandler.remove(_this.element, Browser.touchMoveEvent, _this.moveEvent);\n            EventHandler.remove(_this.element, Browser.touchEndEvent, _this.endEvent);\n        };\n        _this.bind();\n        return _this;\n    }\n    // triggers when property changed \n    /**\n     * @private\n     * @param newProp\n     * @param oldProp\n     */\n    Touch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Touch.prototype.bind = function () {\n        this.wireEvents();\n        if (Browser.isIE) {\n            this.element.classList.add('e-block-touch');\n        }\n    };\n    /**\n     * To destroy the touch instance.\n     * @return {void}\n     */\n    Touch.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    // Need to changes the event binding once we updated the event handler.\n    Touch.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.startEvent, this);\n    };\n    Touch.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.startEvent);\n    };\n    /**\n     * Returns module name as touch\n     * @returns {string}\n     * @private\n     */\n    Touch.prototype.getModuleName = function () {\n        return 'touch';\n    };\n    /**\n     * Returns if the HTML element is Scrollable.\n     * @param {HTMLElement} element - HTML Element to check if Scrollable.\n     * @returns {boolean}\n     */\n    Touch.prototype.isScrollable = function (element) {\n        var eleStyle = getComputedStyle(element);\n        var style = eleStyle.overflow + eleStyle.overflowX + eleStyle.overflowY;\n        if ((/(auto|scroll)/).test(style)) {\n            return true;\n        }\n        return false;\n    };\n    Touch.prototype.tapHoldEvent = function (evt) {\n        this.tapCount = 0;\n        this.touchAction = true;\n        var eTapArgs;\n        EventHandler.remove(this.element, Browser.touchMoveEvent, this.moveEvent);\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.endEvent);\n        eTapArgs = { originalEvent: evt };\n        this.trigger('tapHold', eTapArgs);\n    };\n    Touch.prototype.calcPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.startPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.startPoint.clientY)));\n        if (this.distanceX > this.distanceY) {\n            this.movedDirection = (point.clientX > this.startPoint.clientX) ? 'Right' : 'Left';\n        }\n        else {\n            this.movedDirection = (point.clientY < this.startPoint.clientY) ? 'Up' : 'Down';\n        }\n    };\n    Touch.prototype.calcScrollPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.lastMovedPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.lastMovedPoint.clientY)));\n        if ((this.distanceX > this.distanceY || this.hScrollLocked === true) && this.vScrollLocked === false) {\n            this.scrollDirection = (point.clientX > this.lastMovedPoint.clientX) ? 'Right' : 'Left';\n            this.hScrollLocked = true;\n        }\n        else {\n            this.scrollDirection = (point.clientY < this.lastMovedPoint.clientY) ? 'Up' : 'Down';\n            this.vScrollLocked = true;\n        }\n    };\n    Touch.prototype.getVelocity = function (pnt) {\n        var newX = pnt.clientX;\n        var newY = pnt.clientY;\n        var newT = Date.now();\n        var xDist = newX - this.startPoint.clientX;\n        var yDist = newY - this.startPoint.clientX;\n        var interval = newT - this.tStampStart;\n        return Math.sqrt(xDist * xDist + yDist * yDist) / interval;\n    };\n    // tslint:disable-next-line:no-any\n    Touch.prototype.checkSwipe = function (ele, flag) {\n        var keys = ['scroll', 'offset'];\n        var temp = flag ? ['Height', 'Top'] : ['Width', 'Left'];\n        if ((ele[keys[0] + temp[0]] <= ele[keys[1] + temp[0]])) {\n            return true;\n        }\n        return (ele[keys[0] + temp[1]] === 0) ||\n            (ele[keys[1] + temp[0]] + ele[keys[0] + temp[1]] >= ele[keys[0] + temp[0]]);\n    };\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tap\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tapHold\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"swipe\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"scroll\", void 0);\n    __decorate([\n        Property(350)\n    ], Touch.prototype, \"tapThreshold\", void 0);\n    __decorate([\n        Property(750)\n    ], Touch.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Complex({}, SwipeSettings)\n    ], Touch.prototype, \"swipeSettings\", void 0);\n    Touch = __decorate([\n        NotifyPropertyChanges\n    ], Touch);\n    return Touch;\n}(Base));\nexport { Touch };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { Theme } from '../model/theme';\n/**\n * Defines the appearance of the connectors\n */\nvar Connector = /** @class */ (function (_super) {\n    __extends(Connector, _super);\n    function Connector() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Line')\n    ], Connector.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], Connector.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Connector.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Connector.prototype, \"length\", void 0);\n    __decorate([\n        Property('')\n    ], Connector.prototype, \"dashArray\", void 0);\n    return Connector;\n}(ChildProperty));\nexport { Connector };\n/**\n * Configures the fonts in charts.\n */\nvar Font = /** @class */ (function (_super) {\n    __extends(Font, _super);\n    function Font() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('16px')\n    ], Font.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Font.prototype, \"color\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], Font.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property(1)\n    ], Font.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Center')\n    ], Font.prototype, \"textAlignment\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Font.prototype, \"textOverflow\", void 0);\n    return Font;\n}(ChildProperty));\nexport { Font };\n/**\n * Configures the borders in the chart.\n */\nvar Border = /** @class */ (function (_super) {\n    __extends(Border, _super);\n    function Border() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Border.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Border.prototype, \"width\", void 0);\n    return Border;\n}(ChildProperty));\nexport { Border };\n/**\n * Configures the chart area.\n */\nvar ChartArea = /** @class */ (function (_super) {\n    __extends(ChartArea, _super);\n    function ChartArea() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Border)\n    ], ChartArea.prototype, \"border\", void 0);\n    __decorate([\n        Property('transparent')\n    ], ChartArea.prototype, \"background\", void 0);\n    __decorate([\n        Property(1)\n    ], ChartArea.prototype, \"opacity\", void 0);\n    return ChartArea;\n}(ChildProperty));\nexport { ChartArea };\n/**\n * Configures the chart margins.\n */\nvar Margin = /** @class */ (function (_super) {\n    __extends(Margin, _super);\n    function Margin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"left\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"right\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"top\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"bottom\", void 0);\n    return Margin;\n}(ChildProperty));\nexport { Margin };\n/**\n * Configures the animation behavior for chart series.\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], Animation.prototype, \"enable\", void 0);\n    __decorate([\n        Property(1000)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/** @private */\nvar Indexes = /** @class */ (function (_super) {\n    __extends(Indexes, _super);\n    function Indexes() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Indexes.prototype, \"series\", void 0);\n    __decorate([\n        Property(0)\n    ], Indexes.prototype, \"point\", void 0);\n    return Indexes;\n}(ChildProperty));\nexport { Indexes };\n/**\n * Column series rounded corner options\n */\nvar CornerRadius = /** @class */ (function (_super) {\n    __extends(CornerRadius, _super);\n    function CornerRadius() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"topLeft\", void 0);\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"topRight\", void 0);\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"bottomLeft\", void 0);\n    __decorate([\n        Property(0)\n    ], CornerRadius.prototype, \"bottomRight\", void 0);\n    return CornerRadius;\n}(ChildProperty));\nexport { CornerRadius };\n/**\n * @private\n */\nvar Index = /** @class */ (function () {\n    function Index(seriesIndex, pointIndex) {\n        this.series = seriesIndex;\n        this.point = pointIndex;\n    }\n    return Index;\n}());\nexport { Index };\n/**\n * Configures the Empty Points of series\n */\nvar EmptyPointSettings = /** @class */ (function (_super) {\n    __extends(EmptyPointSettings, _super);\n    function EmptyPointSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EmptyPointSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 0 }, Border)\n    ], EmptyPointSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property('Gap')\n    ], EmptyPointSettings.prototype, \"mode\", void 0);\n    return EmptyPointSettings;\n}(ChildProperty));\nexport { EmptyPointSettings };\n/**\n * Configures the ToolTips in the chart.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], TooltipSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(false)\n    ], TooltipSettings.prototype, \"shared\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"header\", void 0);\n    __decorate([\n        Property(0.75)\n    ], TooltipSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Complex(Theme.tooltipLabelFont, Font)\n    ], TooltipSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Complex({ color: '#cccccc', width: 0.5 }, Border)\n    ], TooltipSettings.prototype, \"border\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","/**\n * Numeric Range.\n * @private\n */\nvar DoubleRange = /** @class */ (function () {\n    function DoubleRange(start, end) {\n        /*\n          if (!isNaN(start) && !isNaN(end)) {\n           this.mIsEmpty = true;\n          } else {\n              this.mIsEmpty = false;\n          }*/\n        if (start < end) {\n            this.mStart = start;\n            this.mEnd = end;\n        }\n        else {\n            this.mStart = end;\n            this.mEnd = start;\n        }\n    }\n    Object.defineProperty(DoubleRange.prototype, \"start\", {\n        //private mIsEmpty: boolean;\n        /** @private */\n        get: function () {\n            return this.mStart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DoubleRange.prototype, \"end\", {\n        /** @private */\n        get: function () {\n            return this.mEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DoubleRange.prototype, \"delta\", {\n        /*\n          get isEmpty(): boolean {\n             return this.mIsEmpty;\n         }*/\n        /** @private */\n        get: function () {\n            return (this.mEnd - this.mStart);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DoubleRange.prototype, \"median\", {\n        /** @private */\n        get: function () {\n            return this.mStart + (this.mEnd - this.mStart) / 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return DoubleRange;\n}());\nexport { DoubleRange };\n","import { getMinPointsDelta } from '../../common/utils/helper';\nimport { DoubleRange } from '../utils/double-range';\nimport { withIn, logBase } from '../../common/utils/helper';\n/**\n * Numeric module is used to render numeric axis.\n */\nvar Double = /** @class */ (function () {\n    /**\n     * Constructor for the dateTime module.\n     * @private\n     */\n    function Double(chart) {\n        this.chart = chart;\n    }\n    /**\n     * Numeric Nice Interval for the axis.\n     * @private\n     */\n    Double.prototype.calculateNumericNiceInterval = function (axis, delta, size) {\n        var actualDesiredIntervalsCount = axis.getActualDesiredIntervalsCount(size);\n        var niceInterval = delta / actualDesiredIntervalsCount;\n        if (axis.desiredIntervals != null) {\n            return niceInterval;\n        }\n        var minInterval = Math.pow(10, Math.floor(logBase(niceInterval, 10)));\n        for (var _i = 0, _a = axis.intervalDivs; _i < _a.length; _i++) {\n            var interval = _a[_i];\n            var currentInterval = minInterval * interval;\n            if (actualDesiredIntervalsCount < (delta / currentInterval)) {\n                break;\n            }\n            niceInterval = currentInterval;\n        }\n        return niceInterval;\n    };\n    /**\n     * Actual Range for the axis.\n     * @private\n     */\n    Double.prototype.getActualRange = function (axis, size) {\n        this.initializeDoubleRange(axis);\n        axis.actualRange.interval = axis.interval || this.calculateNumericNiceInterval(axis, axis.doubleRange.delta, size);\n        axis.actualRange.min = axis.doubleRange.start;\n        axis.actualRange.max = axis.doubleRange.end;\n    };\n    /**\n     * Range for the axis.\n     * @private\n     */\n    Double.prototype.initializeDoubleRange = function (axis) {\n        //Axis Min\n        if (axis.minimum !== null) {\n            this.min = axis.minimum;\n        }\n        else if (this.min === null || this.min === Number.POSITIVE_INFINITY) {\n            this.min = 0;\n        }\n        // Axis Max\n        if (axis.maximum !== null) {\n            this.max = axis.maximum;\n        }\n        else if (this.max === null || this.max === Number.NEGATIVE_INFINITY) {\n            this.max = 5;\n        }\n        if (this.min === this.max) {\n            this.max = axis.valueType.indexOf('Category') > -1 ? this.max : this.min + 1;\n        }\n        axis.doubleRange = new DoubleRange(this.min, this.max);\n        axis.actualRange = {};\n    };\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     * @private\n     */\n    Double.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis, this.chart);\n    };\n    /**\n     * Calculate Range for the axis.\n     * @private\n     */\n    Double.prototype.calculateRange = function (axis, size) {\n        /*! Generate axis range */\n        var series;\n        this.min = null;\n        this.max = null;\n        if (!axis.setRange()) {\n            for (var _i = 0, _a = axis.series; _i < _a.length; _i++) {\n                var series_1 = _a[_i];\n                if (!series_1.visible) {\n                    continue;\n                }\n                this.paddingInterval = 0;\n                if ((series_1.type.indexOf('Column') > -1 && axis.orientation === 'Horizontal')\n                    || (series_1.type.indexOf('Bar') > -1 && axis.orientation === 'Vertical')) {\n                    if ((series_1.xAxis.valueType === 'Double' || series_1.xAxis.valueType === 'DateTime')\n                        && series_1.xAxis.rangePadding === 'Auto') {\n                        this.paddingInterval = getMinPointsDelta(series_1.xAxis, axis.series) / 2;\n                    }\n                }\n                //For xRange\n                if (axis.orientation === 'Horizontal') {\n                    if (this.chart.requireInvertedAxis) {\n                        this.findMinMax(series_1.yMin, series_1.yMax);\n                    }\n                    else {\n                        this.findMinMax(series_1.xMin - this.paddingInterval, series_1.xMax + this.paddingInterval);\n                    }\n                }\n                // For yRange\n                if (axis.orientation === 'Vertical') {\n                    if (this.chart.requireInvertedAxis) {\n                        this.findMinMax(series_1.xMin - this.paddingInterval, series_1.xMax + this.paddingInterval);\n                    }\n                    else {\n                        this.findMinMax(series_1.yMin, series_1.yMax);\n                    }\n                }\n            }\n        }\n    };\n    Double.prototype.findMinMax = function (min, max) {\n        if (this.min === null || this.min > min) {\n            this.min = min;\n        }\n        if (this.max === null || this.max < max) {\n            this.max = max;\n        }\n    };\n    /**\n     * Apply padding for the range.\n     * @private\n     */\n    Double.prototype.applyRangePadding = function (axis, size) {\n        var range;\n        var start = axis.actualRange.min;\n        var end = axis.actualRange.max;\n        if (!axis.setRange()) {\n            var interval = axis.actualRange.interval;\n            var padding = axis.getRangePadding(this.chart);\n            if (padding === 'Additional' || padding === 'Round') {\n                this.findAdditional(axis, start, end, interval);\n            }\n            else if (padding === 'Normal') {\n                this.findNormal(axis, start, end, interval, size);\n            }\n            else {\n                this.updateActualRange(axis, start, end, interval);\n            }\n        }\n        axis.actualRange.delta = axis.actualRange.max - axis.actualRange.min;\n        this.calculateVisibleRange(size, axis);\n    };\n    Double.prototype.updateActualRange = function (axis, minimum, maximum, interval) {\n        axis.actualRange.min = axis.minimum != null ? axis.minimum : minimum;\n        axis.actualRange.max = axis.maximum != null ? axis.maximum : maximum;\n        axis.actualRange.interval = axis.interval != null ? axis.interval : interval;\n    };\n    Double.prototype.findAdditional = function (axis, start, end, interval) {\n        var minimum;\n        var maximum;\n        minimum = Math.floor(start / interval) * interval;\n        maximum = Math.ceil(end / interval) * interval;\n        if (axis.rangePadding === 'Additional') {\n            minimum -= interval;\n            maximum += interval;\n        }\n        this.updateActualRange(axis, minimum, maximum, interval);\n    };\n    Double.prototype.findNormal = function (axis, start, end, interval, size) {\n        var remaining;\n        var minimum;\n        var maximum;\n        var startValue = start;\n        if (start < 0) {\n            startValue = 0;\n            minimum = start + (start / 20);\n            remaining = interval + (minimum % interval);\n            if ((0.365 * interval) >= remaining) {\n                minimum -= interval;\n            }\n            if (minimum % interval < 0) {\n                minimum = (minimum - interval) - (minimum % interval);\n            }\n        }\n        else {\n            minimum = start < ((5.0 / 6.0) * end) ? 0 : (start - (end - start) / 2);\n            if (minimum % interval > 0) {\n                minimum -= (minimum % interval);\n            }\n        }\n        maximum = (end > 0) ? (end + (end - startValue) / 20) : (end - (end - startValue) / 20);\n        remaining = interval - (maximum % interval);\n        if ((0.365 * interval) >= remaining) {\n            maximum += interval;\n        }\n        if (maximum % interval > 0) {\n            maximum = (maximum + interval) - (maximum % interval);\n        }\n        axis.doubleRange = new DoubleRange(minimum, maximum);\n        if (minimum === 0) {\n            interval = this.calculateNumericNiceInterval(axis, axis.doubleRange.delta, size);\n            maximum = Math.ceil(maximum / interval) * interval;\n        }\n        this.updateActualRange(axis, minimum, maximum, interval);\n    };\n    /**\n     * Calculate visible range for axis.\n     * @private\n     */\n    Double.prototype.calculateVisibleRange = function (size, axis) {\n        axis.visibleRange = {\n            max: axis.actualRange.max, min: axis.actualRange.min,\n            delta: axis.actualRange.delta, interval: axis.actualRange.interval\n        };\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            axis.calculateVisibleRange(size);\n            axis.visibleRange.interval = (axis.enableAutoIntervalOnZooming && axis.valueType !== 'Category') ?\n                this.calculateNumericNiceInterval(axis, axis.doubleRange.delta, size)\n                : axis.visibleRange.interval;\n        }\n        axis.triggerRangeRender(this.chart, axis.visibleRange.min, axis.visibleRange.max, axis.visibleRange.interval);\n    };\n    /**\n     * Calculate label for the axis.\n     * @private\n     */\n    Double.prototype.calculateVisibleLabels = function (axis, chart) {\n        /*! Generate axis labels */\n        axis.visibleLabels = [];\n        var tempInterval = axis.visibleRange.min;\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0 || this.paddingInterval) {\n            tempInterval = axis.visibleRange.min - (axis.visibleRange.min % axis.visibleRange.interval);\n        }\n        var format = this.getFormat(axis);\n        var isCustom = format.match('{value}') !== null;\n        axis.format = chart.intl.getNumberFormat({\n            format: isCustom ? '' : format,\n            useGrouping: chart.useGroupingSeparator\n        });\n        axis.startLabel = axis.format(axis.visibleRange.min);\n        axis.endLabel = axis.format(axis.visibleRange.max);\n        for (; tempInterval <= axis.visibleRange.max; tempInterval += axis.visibleRange.interval) {\n            if (withIn(tempInterval, axis.visibleRange)) {\n                axis.triggerLabelRender(chart, tempInterval, this.formatValue(axis, isCustom, format, tempInterval), axis.labelStyle);\n            }\n        }\n        axis.getMaxLabelWidth(chart);\n    };\n    /**\n     * Format of the axis label.\n     * @private\n     */\n    Double.prototype.getFormat = function (axis) {\n        if (axis.labelFormat) {\n            return axis.labelFormat;\n        }\n        return axis.isStack100 ? '{value}%' : '';\n    };\n    /**\n     * Formatted the axis label.\n     * @private\n     */\n    Double.prototype.formatValue = function (axis, isCustom, format, tempInterval) {\n        return isCustom ? format.replace('{value}', axis.format(tempInterval))\n            : axis.format(tempInterval);\n    };\n    return Double;\n}());\nexport { Double };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Complex, Collection } from '@syncfusion/ej2-base';\nimport { Theme } from '../../common/model/theme';\nimport { Font, Border } from '../../common/model/base';\n/**\n * Configures the Annotation for chart.\n */\nvar ChartAnnotationSettings = /** @class */ (function (_super) {\n    __extends(ChartAnnotationSettings, _super);\n    function ChartAnnotationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('0')\n    ], ChartAnnotationSettings.prototype, \"x\", void 0);\n    __decorate([\n        Property('0')\n    ], ChartAnnotationSettings.prototype, \"y\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('Center')\n    ], ChartAnnotationSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property('Pixel')\n    ], ChartAnnotationSettings.prototype, \"coordinateUnits\", void 0);\n    __decorate([\n        Property('Chart')\n    ], ChartAnnotationSettings.prototype, \"region\", void 0);\n    __decorate([\n        Property('Middle')\n    ], ChartAnnotationSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"xAxisName\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"yAxisName\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartAnnotationSettings.prototype, \"description\", void 0);\n    return ChartAnnotationSettings;\n}(ChildProperty));\nexport { ChartAnnotationSettings };\n/**\n * label border properties.\n */\nvar LabelBorder = /** @class */ (function (_super) {\n    __extends(LabelBorder, _super);\n    function LabelBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], LabelBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], LabelBorder.prototype, \"width\", void 0);\n    __decorate([\n        Property('Rectangle')\n    ], LabelBorder.prototype, \"type\", void 0);\n    return LabelBorder;\n}(ChildProperty));\nexport { LabelBorder };\n/**\n * categories for multi level labels\n */\nvar MultiLevelCategories = /** @class */ (function (_super) {\n    __extends(MultiLevelCategories, _super);\n    function MultiLevelCategories() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"end\", void 0);\n    __decorate([\n        Property('')\n    ], MultiLevelCategories.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"maximumTextWidth\", void 0);\n    return MultiLevelCategories;\n}(ChildProperty));\nexport { MultiLevelCategories };\n/**\n * Strip line properties\n */\nvar StripLineSettings = /** @class */ (function (_super) {\n    __extends(StripLineSettings, _super);\n    function StripLineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], StripLineSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(false)\n    ], StripLineSettings.prototype, \"startFromAxis\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"end\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"size\", void 0);\n    __decorate([\n        Property('#808080')\n    ], StripLineSettings.prototype, \"color\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 1 }, Border)\n    ], StripLineSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property('')\n    ], StripLineSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], StripLineSettings.prototype, \"rotation\", void 0);\n    __decorate([\n        Property('Middle')\n    ], StripLineSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property('Middle')\n    ], StripLineSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Complex(Theme.stripLineLabelFont, Font)\n    ], StripLineSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('Behind')\n    ], StripLineSettings.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(1)\n    ], StripLineSettings.prototype, \"opacity\", void 0);\n    return StripLineSettings;\n}(ChildProperty));\nexport { StripLineSettings };\n/**\n * MultiLevelLabels properties\n */\nvar MultiLevelLabels = /** @class */ (function (_super) {\n    __extends(MultiLevelLabels, _super);\n    function MultiLevelLabels() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Center')\n    ], MultiLevelLabels.prototype, \"alignment\", void 0);\n    __decorate([\n        Property('Wrap')\n    ], MultiLevelLabels.prototype, \"overflow\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], MultiLevelLabels.prototype, \"textStyle\", void 0);\n    __decorate([\n        Complex({ color: null, width: 1, type: 'Rectangle' }, LabelBorder)\n    ], MultiLevelLabels.prototype, \"border\", void 0);\n    __decorate([\n        Collection([], MultiLevelCategories)\n    ], MultiLevelLabels.prototype, \"categories\", void 0);\n    return MultiLevelLabels;\n}(ChildProperty));\nexport { MultiLevelLabels };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, Complex, ChildProperty, Collection, extend } from '@syncfusion/ej2-base';\nimport { Font, Border } from '../../common/model/base';\nimport { Size, Rect, measureText, rotateTextSize, firstToLowerCase, valueToCoefficient, inside } from '../../common/utils/helper';\nimport { DoubleRange } from '../utils/double-range';\nimport { Double } from '../axis/double-axis';\nimport { Theme } from '../../common/model/theme';\nimport { axisLabelRender, axisRangeCalculated } from '../../common/model/constants';\nimport { StripLineSettings, MultiLevelLabels, LabelBorder } from '../model/chart-base';\nimport { textWrap } from '../../common/utils/helper';\nvar axisPadding = 10;\n/**\n * Configures the `rows` of the chart.\n */\nvar Row = /** @class */ (function (_super) {\n    __extends(Row, _super);\n    function Row() {\n        /**\n         * The height of the row as a string accept input both as '100px' and '100%'.\n         * If specified as '100%, row renders to the full height of its chart.\n         * @default '100%'\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.axes = [];\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        return _this;\n    }\n    /**\n     * Measure the row size\n     * @return {void}\n     * @private\n     */\n    Row.prototype.computeSize = function (axis, clipRect) {\n        var width = 0;\n        var innerPadding = 5;\n        if (axis.visible) {\n            width += (axis.findTickSize(axis.crossInAxis) +\n                axis.findLabelSize(axis.crossInAxis, innerPadding) + axis.lineStyle.width / 2);\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(width);\n        }\n        else {\n            this.nearSizes.push(width);\n        }\n    };\n    __decorate([\n        Property('100%')\n    ], Row.prototype, \"height\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], Row.prototype, \"border\", void 0);\n    return Row;\n}(ChildProperty));\nexport { Row };\n/**\n * Configures the `columns` of the chart.\n */\nvar Column = /** @class */ (function (_super) {\n    __extends(Column, _super);\n    function Column() {\n        /**\n         * The width of the column as a string accepts input both as like '100px' or '100%'.\n         * If specified as '100%, column renders to the full width of its chart.\n         * @default '100%'\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.axes = [];\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        /** @private */\n        _this.padding = 0;\n        return _this;\n    }\n    /**\n     * Measure the column size\n     * @return {void}\n     * @private\n     */\n    Column.prototype.computeSize = function (axis, clipRect) {\n        var height = 0;\n        var innerPadding = 5;\n        if (axis.visible) {\n            height += (axis.findTickSize(axis.crossInAxis) +\n                axis.findLabelSize(axis.crossInAxis, innerPadding) + axis.lineStyle.width / 2);\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(height);\n        }\n        else {\n            this.nearSizes.push(height);\n        }\n    };\n    __decorate([\n        Property('100%')\n    ], Column.prototype, \"width\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], Column.prototype, \"border\", void 0);\n    return Column;\n}(ChildProperty));\nexport { Column };\n/**\n * Configures the major grid lines in the `axis`.\n */\nvar MajorGridLines = /** @class */ (function (_super) {\n    __extends(MajorGridLines, _super);\n    function MajorGridLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], MajorGridLines.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], MajorGridLines.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(null)\n    ], MajorGridLines.prototype, \"color\", void 0);\n    return MajorGridLines;\n}(ChildProperty));\nexport { MajorGridLines };\n/**\n * Configures the minor grid lines in the `axis`.\n */\nvar MinorGridLines = /** @class */ (function (_super) {\n    __extends(MinorGridLines, _super);\n    function MinorGridLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0.7)\n    ], MinorGridLines.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], MinorGridLines.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(null)\n    ], MinorGridLines.prototype, \"color\", void 0);\n    return MinorGridLines;\n}(ChildProperty));\nexport { MinorGridLines };\n/**\n * Configures the axis line of a chart.\n */\nvar AxisLine = /** @class */ (function (_super) {\n    __extends(AxisLine, _super);\n    function AxisLine() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], AxisLine.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], AxisLine.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(null)\n    ], AxisLine.prototype, \"color\", void 0);\n    return AxisLine;\n}(ChildProperty));\nexport { AxisLine };\n/**\n * Configures the major tick lines.\n */\nvar MajorTickLines = /** @class */ (function (_super) {\n    __extends(MajorTickLines, _super);\n    function MajorTickLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], MajorTickLines.prototype, \"width\", void 0);\n    __decorate([\n        Property(5)\n    ], MajorTickLines.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], MajorTickLines.prototype, \"color\", void 0);\n    return MajorTickLines;\n}(ChildProperty));\nexport { MajorTickLines };\n/**\n * Configures the minor tick lines.\n */\nvar MinorTickLines = /** @class */ (function (_super) {\n    __extends(MinorTickLines, _super);\n    function MinorTickLines() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0.7)\n    ], MinorTickLines.prototype, \"width\", void 0);\n    __decorate([\n        Property(5)\n    ], MinorTickLines.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], MinorTickLines.prototype, \"color\", void 0);\n    return MinorTickLines;\n}(ChildProperty));\nexport { MinorTickLines };\n/**\n * Configures the crosshair ToolTip.\n */\nvar CrosshairTooltip = /** @class */ (function (_super) {\n    __extends(CrosshairTooltip, _super);\n    function CrosshairTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], CrosshairTooltip.prototype, \"enable\", void 0);\n    __decorate([\n        Property(null)\n    ], CrosshairTooltip.prototype, \"fill\", void 0);\n    __decorate([\n        Complex(Theme.crosshairLabelFont, Font)\n    ], CrosshairTooltip.prototype, \"textStyle\", void 0);\n    return CrosshairTooltip;\n}(ChildProperty));\nexport { CrosshairTooltip };\n/**\n * Configures the axes in the chart.\n */\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis() {\n        /**\n         * Options to customize the axis label.\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.visibleLabels = [];\n        /** @private */\n        _this.series = [];\n        /** @private */\n        _this.rect = new Rect(undefined, undefined, 0, 0);\n        /** @private */\n        _this.axisBottomLine = null;\n        /** @private */\n        _this.intervalDivs = [10, 5, 2, 1];\n        /** @private */\n        _this.angle = _this.labelRotation;\n        /** @private */\n        _this.isStack100 = false;\n        /** @private */\n        _this.crossAt = null;\n        /** @private */\n        _this.updatedRect = null;\n        /** @private */\n        _this.multiLevelLabelHeight = 0;\n        return _this;\n    }\n    /**\n     * The function used to find tick size.\n     * @return {number}\n     * @private\n     */\n    Axis.prototype.findTickSize = function (crossAxis) {\n        if (this.tickPosition === 'Inside') {\n            return 0;\n        }\n        if (crossAxis && (!crossAxis.visibleRange || this.isInside(crossAxis.visibleRange))) {\n            return 0;\n        }\n        return this.majorTickLines.height;\n    };\n    /**\n     * The function used to find axis position.\n     * @return {number}\n     * @private\n     */\n    Axis.prototype.isInside = function (range) {\n        return (inside(this.crossAt, range) ||\n            (!this.opposedPosition && this.crossAt >= range.max) || (this.opposedPosition && this.crossAt <= range.min));\n    };\n    /**\n     * The function used to find label Size.\n     * @return {number}\n     * @private\n     */\n    Axis.prototype.findLabelSize = function (crossAxis, innerPadding) {\n        var titleSize = 0;\n        if (this.title) {\n            titleSize = measureText(this.title, this.titleStyle).height + innerPadding;\n        }\n        if (this.labelPosition === 'Inside') {\n            return titleSize + innerPadding;\n        }\n        var diff;\n        var value;\n        var labelSize = titleSize + innerPadding + axisPadding +\n            ((this.orientation === 'Vertical') ? this.maxLabelSize.width : this.maxLabelSize.height) + this.multiLevelLabelHeight;\n        if (crossAxis && this.placeNextToAxisLine) {\n            var range = crossAxis.visibleRange;\n            var size = (crossAxis.orientation === 'Horizontal') ? crossAxis.rect.width : crossAxis.rect.height;\n            if (!range || !size) {\n                return 0;\n            }\n            else if (this.isInside(range)) {\n                value = this.findDifference(crossAxis);\n                diff = (value) * (size / range.delta);\n                diff = (value) * ((size - (diff < labelSize ? (labelSize - diff) : 0)) / range.delta);\n                labelSize = (diff < labelSize) ? (labelSize - diff) : 0;\n            }\n        }\n        return labelSize;\n    };\n    /**\n     * The function used to find axis position.\n     * @return {number}\n     * @private\n     */\n    Axis.prototype.updateCrossValue = function (chart) {\n        var value = this.crossAt;\n        if (value === null || !this.isInside(this.crossInAxis.visibleRange)) {\n            this.updatedRect = this.rect;\n            return null;\n        }\n        var range = this.crossInAxis.visibleRange;\n        if (!this.opposedPosition) {\n            if (this.crossAt > range.max) {\n                value = range.max;\n            }\n        }\n        else {\n            if (this.crossAt < range.min) {\n                value = range.min;\n            }\n        }\n        this.updatedRect = extend({}, this.rect, null, true);\n        if (this.orientation === 'Horizontal') {\n            value = this.crossInAxis.rect.height - (valueToCoefficient(value, this.crossInAxis) * this.crossInAxis.rect.height);\n            this.updatedRect.y = this.crossInAxis.rect.y + value;\n        }\n        else {\n            value = valueToCoefficient(value, this.crossInAxis) * this.crossInAxis.rect.width;\n            this.updatedRect.x = this.crossInAxis.rect.x + value;\n        }\n    };\n    Axis.prototype.findDifference = function (crossAxis) {\n        var value = 0;\n        if (this.opposedPosition) {\n            value = crossAxis.isInversed ? crossAxis.visibleRange.min : crossAxis.visibleRange.max;\n        }\n        else {\n            value = crossAxis.isInversed ? crossAxis.visibleRange.max : crossAxis.visibleRange.min;\n        }\n        return Math.abs(this.crossAt - value);\n    };\n    /**\n     * The function used to find whether the range is set.\n     * @return {boolean}\n     * @private\n     */\n    Axis.prototype.setRange = function () {\n        if (this.minimum != null && this.maximum != null) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Calculate visible range for axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.calculateVisibleRange = function (size) {\n        if (this.zoomFactor < 1 || this.zoomPosition > 0) {\n            var baseRange = this.actualRange;\n            var start = void 0;\n            var end = void 0;\n            if (!this.isInversed) {\n                start = this.actualRange.min + this.zoomPosition * this.actualRange.delta;\n                end = start + this.zoomFactor * this.actualRange.delta;\n            }\n            else {\n                start = this.actualRange.max - (this.zoomPosition * this.actualRange.delta);\n                end = start - (this.zoomFactor * this.actualRange.delta);\n            }\n            if (start < baseRange.min) {\n                end = end + (baseRange.min - start);\n                start = baseRange.min;\n            }\n            if (end > baseRange.max) {\n                start = start - (end - baseRange.max);\n                end = baseRange.max;\n            }\n            this.doubleRange = new DoubleRange(start, end);\n            this.visibleRange.min = this.doubleRange.start;\n            this.visibleRange.max = this.doubleRange.end;\n            this.visibleRange.delta = this.doubleRange.delta;\n        }\n    };\n    /**\n     * Calculate desired interval for the axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.getActualDesiredIntervalsCount = function (availableSize) {\n        var size = this.orientation === 'Horizontal' ? availableSize.width : availableSize.height;\n        if (this.desiredIntervals === null) {\n            var desiredIntervalsCount = (this.orientation === 'Horizontal' ? 0.533 : 1) * this.maximumLabels;\n            desiredIntervalsCount = Math.max((size * (desiredIntervalsCount / 100)), 1);\n            return desiredIntervalsCount;\n        }\n        else {\n            return this.desiredIntervals;\n        }\n    };\n    /**\n     * Triggers the event.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.triggerLabelRender = function (chart, tempInterval, text, labelStyle) {\n        var argsData;\n        argsData = {\n            cancel: false, name: axisLabelRender, axis: this,\n            text: text, value: tempInterval, labelStyle: labelStyle\n        };\n        chart.trigger(axisLabelRender, argsData);\n        if (!argsData.cancel) {\n            this.visibleLabels.push(new VisibleLabels(argsData.text, argsData.value, argsData.labelStyle));\n        }\n    };\n    /**\n     * Triggers the event.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.triggerRangeRender = function (chart, minimum, maximum, interval) {\n        var argsData;\n        argsData = {\n            cancel: false, name: axisRangeCalculated, axis: this,\n            minimum: minimum, maximum: maximum, interval: interval\n        };\n        chart.trigger(axisRangeCalculated, argsData);\n        if (!argsData.cancel) {\n            this.visibleRange.min = argsData.minimum;\n            this.visibleRange.max = argsData.maximum;\n            this.visibleRange.interval = argsData.interval;\n            this.visibleRange.delta = argsData.maximum - argsData.minimum;\n        }\n    };\n    /**\n     * Calculate padding for the axis.\n     * @return {string}\n     * @private\n     */\n    Axis.prototype.getRangePadding = function (chart) {\n        var padding = this.rangePadding;\n        if (padding !== 'Auto') {\n            return padding;\n        }\n        switch (this.orientation) {\n            case 'Horizontal':\n                if (chart.requireInvertedAxis) {\n                    padding = (this.isStack100 ? 'Round' : 'Normal');\n                }\n                else {\n                    padding = 'None';\n                }\n                break;\n            case 'Vertical':\n                if (!chart.requireInvertedAxis) {\n                    padding = (this.isStack100 ? 'Round' : 'Normal');\n                }\n                else {\n                    padding = 'None';\n                }\n                break;\n        }\n        return padding;\n    };\n    /**\n     * Calculate maximum label width for the axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.getMaxLabelWidth = function (chart) {\n        var prevSize = new Size(0, 0);\n        var rotatedLabel;\n        var pointX;\n        var previousEnd = 0;\n        var isIntersect = false;\n        this.angle = this.labelRotation;\n        this.maxLabelSize = new Size(0, 0);\n        var action = this.labelIntersectAction;\n        var label;\n        for (var i = 0; i < this.visibleLabels.length; i++) {\n            label = this.visibleLabels[i];\n            label.size = measureText(label.text, this.labelStyle);\n            if (label.size.width > this.maxLabelSize.width) {\n                this.maxLabelSize.width = label.size.width;\n                this.rotatedLabel = label.text;\n            }\n            if (label.size.height > this.maxLabelSize.height) {\n                this.maxLabelSize.height = label.size.height;\n            }\n            if (action === 'None' || action === 'Hide' || action === 'Trim') {\n                continue;\n            }\n            if ((action !== 'None' || this.angle % 360 === 0) && this.orientation === 'Horizontal' &&\n                this.rect.width > 0 && !isIntersect) {\n                pointX = (valueToCoefficient(label.value, this) * this.rect.width) + this.rect.x;\n                pointX -= label.size.width / 2;\n                if (this.edgeLabelPlacement === 'Shift') {\n                    if (i === 0 && pointX < this.rect.x) {\n                        pointX = this.rect.x;\n                    }\n                    if (i === this.visibleLabels.length - 1 && ((pointX + label.size.width) > (this.rect.x + this.rect.width))) {\n                        pointX = this.rect.x + this.rect.width - label.size.width;\n                    }\n                }\n                switch (action) {\n                    case 'MultipleRows':\n                        if (i > 0) {\n                            this.findMultiRows(i, pointX, label);\n                        }\n                        break;\n                    case 'Rotate45':\n                    case 'Rotate90':\n                        if (i > 0 && (!this.isInversed ? pointX <= previousEnd : pointX + label.size.width >= previousEnd)) {\n                            this.angle = (action === 'Rotate45') ? 45 : 90;\n                            isIntersect = true;\n                        }\n                        break;\n                    default:\n                        label.text = textWrap(label.text, this.rect.width / this.visibleLabels.length, this.labelStyle);\n                        var height = (label.size.height * label.text.length);\n                        if (height > this.maxLabelSize.height) {\n                            this.maxLabelSize.height = height;\n                        }\n                        break;\n                }\n                previousEnd = this.isInversed ? pointX : pointX + label.size.width;\n            }\n        }\n        if (this.angle !== 0 && this.orientation === 'Horizontal') {\n            this.maxLabelSize = rotateTextSize(this.labelStyle, this.rotatedLabel, this.angle, chart);\n        }\n        if (chart.multiLevelLabelModule && this.multiLevelLabels.length > 0) {\n            chart.multiLevelLabelModule.getMultilevelLabelsHeight(this);\n        }\n    };\n    /**\n     * Finds the multiple rows for axis.\n     * @return {void}\n     */\n    Axis.prototype.findMultiRows = function (length, currentX, currentLabel) {\n        var label;\n        var pointX;\n        var store = [];\n        var isMultiRows;\n        for (var i = length - 1; i >= 0; i--) {\n            label = this.visibleLabels[i];\n            pointX = (valueToCoefficient(label.value, this) * this.rect.width) + this.rect.x;\n            isMultiRows = !this.isInversed ? currentX < (pointX + label.size.width / 2) :\n                currentX + currentLabel.size.width > (pointX - label.size.width / 2);\n            if (isMultiRows) {\n                store.push(label.index);\n                currentLabel.index = (currentLabel.index > label.index) ? currentLabel.index : label.index + 1;\n            }\n            else {\n                currentLabel.index = store.indexOf(label.index) > -1 ? currentLabel.index : label.index;\n            }\n        }\n        var height = (currentLabel.size.height * currentLabel.index) + (5 * (currentLabel.index - 1));\n        if (height > this.maxLabelSize.height) {\n            this.maxLabelSize.height = height;\n        }\n    };\n    /**\n     * Finds the default module for axis.\n     * @return {void}\n     * @private\n     */\n    Axis.prototype.getModule = function (chart) {\n        if (this.valueType === 'Double') {\n            this.baseModule = new Double(chart);\n        }\n        else {\n            this.baseModule = chart[firstToLowerCase(this.valueType) + 'Module'];\n        }\n    };\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], Axis.prototype, \"labelStyle\", void 0);\n    __decorate([\n        Complex({}, CrosshairTooltip)\n    ], Axis.prototype, \"crosshairTooltip\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.axisTitleFont, Font)\n    ], Axis.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"skeleton\", void 0);\n    __decorate([\n        Property('DateTime')\n    ], Axis.prototype, \"skeletonType\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"plotOffset\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isIndexed\", void 0);\n    __decorate([\n        Property(10)\n    ], Axis.prototype, \"logBase\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"rowIndex\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"span\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"desiredIntervals\", void 0);\n    __decorate([\n        Property(3)\n    ], Axis.prototype, \"maximumLabels\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"zoomFactor\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"zoomPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"opposedPosition\", void 0);\n    __decorate([\n        Property(true)\n    ], Axis.prototype, \"enableAutoIntervalOnZooming\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Axis.prototype, \"rangePadding\", void 0);\n    __decorate([\n        Property('Double')\n    ], Axis.prototype, \"valueType\", void 0);\n    __decorate([\n        Property('None')\n    ], Axis.prototype, \"edgeLabelPlacement\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Axis.prototype, \"intervalType\", void 0);\n    __decorate([\n        Property('BetweenTicks')\n    ], Axis.prototype, \"labelPlacement\", void 0);\n    __decorate([\n        Property('Outside')\n    ], Axis.prototype, \"tickPosition\", void 0);\n    __decorate([\n        Property('Outside')\n    ], Axis.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"name\", void 0);\n    __decorate([\n        Property(true)\n    ], Axis.prototype, \"visible\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"minorTicksPerInterval\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"labelRotation\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"crossesAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Axis.prototype, \"placeNextToAxisLine\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"crossesInAxis\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"minimum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"maximum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"interval\", void 0);\n    __decorate([\n        Complex({}, MajorTickLines)\n    ], Axis.prototype, \"majorTickLines\", void 0);\n    __decorate([\n        Complex({}, MinorTickLines)\n    ], Axis.prototype, \"minorTickLines\", void 0);\n    __decorate([\n        Complex({}, MajorGridLines)\n    ], Axis.prototype, \"majorGridLines\", void 0);\n    __decorate([\n        Complex({}, MinorGridLines)\n    ], Axis.prototype, \"minorGridLines\", void 0);\n    __decorate([\n        Complex({}, AxisLine)\n    ], Axis.prototype, \"lineStyle\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Axis.prototype, \"labelIntersectAction\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isInversed\", void 0);\n    __decorate([\n        Property(100)\n    ], Axis.prototype, \"coefficient\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"startAngle\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"description\", void 0);\n    __decorate([\n        Property(2)\n    ], Axis.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Collection([], StripLineSettings)\n    ], Axis.prototype, \"stripLines\", void 0);\n    __decorate([\n        Collection([], MultiLevelLabels)\n    ], Axis.prototype, \"multiLevelLabels\", void 0);\n    __decorate([\n        Complex({ color: null, width: 0, type: 'Rectangle' }, LabelBorder)\n    ], Axis.prototype, \"border\", void 0);\n    return Axis;\n}(ChildProperty));\nexport { Axis };\n/** @private */\nvar VisibleLabels = /** @class */ (function () {\n    function VisibleLabels(text, value, labelStyle, size, index) {\n        if (size === void 0) { size = new Size(0, 0); }\n        if (index === void 0) { index = 1; }\n        this.text = text;\n        this.originalText = text;\n        this.value = value;\n        this.labelStyle = labelStyle;\n        this.size = size;\n        this.index = 1;\n    }\n    return VisibleLabels;\n}());\nexport { VisibleLabels };\n","/**\n * Specifies the chart constant value\n */\n/** @private */\nexport var loaded = 'loaded';\n/** @private */\nexport var load = 'load';\n/** @private */\nexport var animationComplete = 'animationComplete';\n/** @private */\nexport var legendRender = 'legendRender';\n/** @private */\nexport var textRender = 'textRender';\n/** @private */\nexport var pointRender = 'pointRender';\n/** @private */\nexport var seriesRender = 'seriesRender';\n/** @private */\nexport var axisLabelRender = 'axisLabelRender';\n/** @private */\nexport var axisRangeCalculated = 'axisRangeCalculated';\n/** @private */\nexport var axisMultiLabelRender = 'axisMultiLabelRender';\n/** @private */\nexport var tooltipRender = 'tooltipRender';\n/** @private */\nexport var chartMouseMove = 'chartMouseMove';\n/** @private */\nexport var chartMouseClick = 'chartMouseClick';\n/** @private */\nexport var pointClick = 'pointClick';\n/** @private */\nexport var pointMove = 'pointMove';\n/** @private */\nexport var chartMouseLeave = 'chartMouseLeave';\n/** @private */\nexport var chartMouseDown = 'chartMouseDown';\n/** @private */\nexport var chartMouseUp = 'chartMouseUp';\n/** @private */\nexport var zoomComplete = 'zoomComplete';\n/** @private */\nexport var dragComplete = 'dragComplete';\n/** @private */\nexport var resized = 'resized';\n/** @private */\nexport var beforePrint = 'beforePrint';\n/** @private */\nexport var annotationRender = 'annotationRender';\n","import { DataUtil } from './util';\n/**\n * Query class is used to build query which is used by the DataManager to communicate with datasource.\n */\nvar Query = /** @class */ (function () {\n    /**\n     * Constructor for Query class.\n     * @param  {string|string[]} from?\n     * @hidden\n     */\n    function Query(from) {\n        /** @hidden */\n        this.subQuery = null;\n        /** @hidden */\n        this.isChild = false;\n        this.queries = [];\n        this.key = '';\n        this.fKey = '';\n        if (typeof from === 'string') {\n            this.fromTable = from;\n        }\n        else if (from && from instanceof Array) {\n            this.lookups = from;\n        }\n        this.expands = [];\n        this.sortedColumns = [];\n        this.groupedColumns = [];\n        this.subQuery = null;\n        this.isChild = false;\n        this.params = [];\n        return this;\n    }\n    /**\n     * Sets the primary key.\n     * @param  {string} field - Defines the column field.\n     */\n    Query.prototype.setKey = function (field) {\n        this.key = field;\n        return this;\n    };\n    /**\n     * Sets default DataManager to execute query.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.using = function (dataManager) {\n        this.dataManager = dataManager;\n        return this;\n    };\n    /**\n     * Executes query with the given DataManager.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     * @param  {Function} done - Defines the success callback.\n     * @param  {Function} fail - Defines the failure callback.\n     * @param  {Function} always - Defines the callback which will be invoked on either success or failure.\n     *\n     * <pre>\n     * let dataManager: DataManager = new DataManager([{ ID: '10' }, { ID: '2' }, { ID: '1' }, { ID: '20' }]);\n     * let query: Query = new Query();\n     * query.sortBy('ID', (x: string, y: string): number => { return parseInt(x, 10) - parseInt(y, 10) });\n     * let promise: Promise< Object > = query.execute(dataManager);\n     * promise.then((e: { result: Object }) => { });\n     * </pre>\n     */\n    Query.prototype.execute = function (dataManager, done, fail, always) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeQuery(this, done, fail, always);\n        }\n        return DataUtil.throwError('Query - execute() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Executes query with the local datasource.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.executeLocal = function (dataManager) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeLocal(this);\n        }\n        return DataUtil.throwError('Query - executeLocal() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Creates deep copy of the Query object.\n     */\n    Query.prototype.clone = function () {\n        var cloned = new Query();\n        cloned.queries = this.queries.slice(0);\n        cloned.key = this.key;\n        cloned.isChild = this.isChild;\n        cloned.dataManager = this.dataManager;\n        cloned.fromTable = this.fromTable;\n        cloned.params = this.params.slice(0);\n        cloned.expands = this.expands.slice(0);\n        cloned.sortedColumns = this.sortedColumns.slice(0);\n        cloned.groupedColumns = this.groupedColumns.slice(0);\n        cloned.subQuerySelector = this.subQuerySelector;\n        cloned.subQuery = this.subQuery;\n        cloned.fKey = this.fKey;\n        cloned.isCountRequired = this.isCountRequired;\n        return cloned;\n    };\n    /**\n     * Specifies the name of table to retrieve data in query execution.\n     * @param  {string} tableName - Defines the table name.\n     */\n    Query.prototype.from = function (tableName) {\n        this.fromTable = tableName;\n        return this;\n    };\n    /**\n     * Adds additional parameter which will be sent along with the request which will be generated while DataManager execute.\n     * @param  {string} key - Defines the key of additional parameter.\n     * @param  {Function|string} value - Defines the value for the key.\n     */\n    Query.prototype.addParams = function (key, value) {\n        if (typeof value === 'function') {\n            this.params.push({ key: key, fn: value });\n        }\n        else {\n            this.params.push({ key: key, value: value });\n        }\n        return this;\n    };\n    /**\n     * Expands the related table.\n     * @param  {string|Object[]} tables\n     */\n    Query.prototype.expand = function (tables) {\n        if (typeof tables === 'string') {\n            this.expands = [].slice.call([tables], 0);\n        }\n        else {\n            this.expands = tables.slice(0);\n        }\n        return this;\n    };\n    /**\n     * Filter data with given filter criteria.\n     * @param  {string|Predicate} fieldName - Defines the column field or Predicate.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string|number|boolean} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.where = function (fieldName, operator, value, ignoreCase, ignoreAccent) {\n        operator = operator ? (operator).toLowerCase() : null;\n        var predicate = null;\n        if (typeof fieldName === 'string') {\n            predicate = new Predicate(fieldName, operator, value, ignoreCase, ignoreAccent);\n        }\n        else if (fieldName instanceof Predicate) {\n            predicate = fieldName;\n        }\n        this.queries.push({\n            fn: 'onWhere',\n            e: predicate\n        });\n        return this;\n    };\n    /**\n     * Search data with given search criteria.\n     * @param  {string|number|boolean} searchKey - Defines the search key.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     * @param  {string} operator - Defines the operator how to search data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.search = function (searchKey, fieldNames, operator, ignoreCase, ignoreAccent) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [fieldNames];\n        }\n        operator = operator || 'contains';\n        var comparer = DataUtil.fnOperators[operator];\n        this.queries.push({\n            fn: 'onSearch',\n            e: {\n                fieldNames: fieldNames,\n                operator: operator,\n                searchKey: searchKey,\n                ignoreCase: ignoreCase,\n                ignoreAccent: ignoreAccent,\n                comparer: comparer\n            }\n        });\n        return this;\n    };\n    /**\n     * Sort the data with given sort criteria.\n     * By default, sort direction is ascending.\n     * @param  {string|string[]} fieldName - Defines the single or collection of column fields.\n     * @param  {string|Function} comparer - Defines the sort direction or custom sort comparer function.\n     */\n    Query.prototype.sortBy = function (fieldName, comparer, isFromGroup) {\n        var order = 'ascending';\n        var sorts;\n        var temp;\n        if (typeof fieldName === 'string' && DataUtil.endsWith(fieldName.toLowerCase(), ' desc')) {\n            fieldName = fieldName.replace(/ desc$/i, '');\n            comparer = 'descending';\n        }\n        if (!comparer || typeof comparer === 'string') {\n            order = comparer ? comparer.toLowerCase() : 'ascending';\n            comparer = DataUtil.fnSort(comparer);\n        }\n        if (isFromGroup) {\n            sorts = Query.filterQueries(this.queries, 'onSortBy');\n            for (var i = 0; i < sorts.length; i++) {\n                temp = sorts[i].e.fieldName;\n                if (typeof temp === 'string') {\n                    if (temp === fieldName) {\n                        return this;\n                    }\n                }\n                else if (temp instanceof Array) {\n                    for (var j = 0; j < temp.length; j++) {\n                        if (temp[j] === fieldName || fieldName.toLowerCase() === temp[j] + ' desc') {\n                            return this;\n                        }\n                    }\n                }\n            }\n        }\n        this.queries.push({\n            fn: 'onSortBy',\n            e: {\n                fieldName: fieldName,\n                comparer: comparer,\n                direction: order\n            }\n        });\n        return this;\n    };\n    /**\n     * Sorts data in descending order.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.sortByDesc = function (fieldName) {\n        return this.sortBy(fieldName, 'descending');\n    };\n    /**\n     * Groups data with the given field name.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.group = function (fieldName, fn, format) {\n        this.sortBy(fieldName, null, true);\n        this.queries.push({\n            fn: 'onGroup',\n            e: {\n                fieldName: fieldName,\n                comparer: fn ? fn : null,\n                format: format ? format : null\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given page index and size.\n     * @param  {number} pageIndex - Defines the current page index.\n     * @param  {number} pageSize - Defines the no of records per page.\n     */\n    Query.prototype.page = function (pageIndex, pageSize) {\n        this.queries.push({\n            fn: 'onPage',\n            e: {\n                pageIndex: pageIndex,\n                pageSize: pageSize\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given start and end index.\n     * @param  {number} start - Defines the start index of the datasource.\n     * @param  {number} end - Defines the end index of the datasource.\n     */\n    Query.prototype.range = function (start, end) {\n        this.queries.push({\n            fn: 'onRange',\n            e: {\n                start: start,\n                end: end\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data from the top of the data source based on given number of records count.\n     * @param  {number} nos - Defines the no of records to retrieve from datasource.\n     */\n    Query.prototype.take = function (nos) {\n        this.queries.push({\n            fn: 'onTake',\n            e: {\n                nos: nos\n            }\n        });\n        return this;\n    };\n    /**\n     * Skips data with given number of records count from the top of the data source.\n     * @param  {number} nos - Defines the no of records skip in the datasource.\n     */\n    Query.prototype.skip = function (nos) {\n        this.queries.push({\n            fn: 'onSkip',\n            e: { nos: nos }\n        });\n        return this;\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     */\n    Query.prototype.select = function (fieldNames) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [].slice.call([fieldNames], 0);\n        }\n        this.queries.push({\n            fn: 'onSelect',\n            e: { fieldNames: fieldNames }\n        });\n        return this;\n    };\n    /**\n     * Gets the records in hierarchical relationship from two tables. It requires the foreign key to relate two tables.\n     * @param  {Query} query - Defines the query to relate two tables.\n     * @param  {Function} selectorFn - Defines the custom function to select records.\n     */\n    Query.prototype.hierarchy = function (query, selectorFn) {\n        this.subQuerySelector = selectorFn;\n        this.subQuery = query;\n        return this;\n    };\n    /**\n     * Sets the foreign key which is used to get data from the related table.\n     * @param  {string} key - Defines the foreign key.\n     */\n    Query.prototype.foreignKey = function (key) {\n        this.fKey = key;\n        return this;\n    };\n    /**\n     * It is used to get total number of records in the DataManager execution result.\n     */\n    Query.prototype.requiresCount = function () {\n        this.isCountRequired = true;\n        return this;\n    };\n    //type - sum, avg, min, max\n    /**\n     * Aggregate the data with given type and field name.\n     * @param  {string} type - Defines the aggregate type.\n     * @param  {string} field - Defines the column field to aggregate.\n     */\n    Query.prototype.aggregate = function (type, field) {\n        this.queries.push({\n            fn: 'onAggregates',\n            e: { field: field, type: type }\n        });\n        return this;\n    };\n    /**\n     * Pass array of filterColumn query for performing filter operation.\n     * @param  {QueryOptions[]} queries\n     * @param  {string} name\n     * @hidden\n     */\n    Query.filterQueries = function (queries, name) {\n        return queries.filter(function (q) {\n            return q.fn === name;\n        });\n    };\n    /**\n     * To get the list of queries which is already filtered in current data source.\n     * @param  {Object[]} queries\n     * @param  {string[]} singles\n     * @hidden\n     */\n    Query.filterQueryLists = function (queries, singles) {\n        var filtered = queries.filter(function (q) {\n            return singles.indexOf(q.fn) !== -1;\n        });\n        var res = {};\n        for (var i = 0; i < filtered.length; i++) {\n            if (!res[filtered[i].fn]) {\n                res[filtered[i].fn] = filtered[i].e;\n            }\n        }\n        return res;\n    };\n    return Query;\n}());\nexport { Query };\n/**\n * Predicate class is used to generate complex filter criteria.\n * This will be used by DataManager to perform multiple filtering operation.\n */\nvar Predicate = /** @class */ (function () {\n    /**\n     * Constructor for Predicate class.\n     * @param  {string|Predicate} field\n     * @param  {string} operator\n     * @param  {string|number|boolean|Predicate|Predicate[]} value\n     * @param  {boolean=false} ignoreCase\n     * @hidden\n     */\n    function Predicate(field, operator, value, ignoreCase, ignoreAccent) {\n        if (ignoreCase === void 0) { ignoreCase = false; }\n        /** @hidden */\n        this.ignoreAccent = false;\n        /** @hidden */\n        this.isComplex = false;\n        if (typeof field === 'string') {\n            this.field = field;\n            this.operator = operator.toLowerCase();\n            this.value = value;\n            this.ignoreCase = ignoreCase;\n            this.ignoreAccent = ignoreAccent;\n            this.isComplex = false;\n            this.comparer = DataUtil.fnOperators.processOperator(this.operator);\n        }\n        else if (field instanceof Predicate && value instanceof Predicate || value instanceof Array) {\n            this.isComplex = true;\n            this.condition = operator.toLowerCase();\n            this.predicates = [field];\n            if (value instanceof Array) {\n                [].push.apply(this.predicates, value);\n            }\n            else {\n                this.predicates.push(value);\n            }\n        }\n        return this;\n    }\n    /**\n     * Adds n-number of new predicates on existing predicate with “and” condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.and = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'and');\n    };\n    /**\n     * Adds new predicate on existing predicate with “and” condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.and = function (field, operator, value, ignoreCase, ignoreAccent) {\n        return Predicate.combine(this, field, operator, value, 'and', ignoreCase, ignoreAccent);\n    };\n    /**\n     * Adds n-number of new predicates on existing predicate with “or” condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.or = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'or');\n    };\n    /**\n     * Adds new predicate on existing predicate with “or” condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.or = function (field, operator, value, ignoreCase, ignoreAccent) {\n        return Predicate.combine(this, field, operator, value, 'or', ignoreCase, ignoreAccent);\n    };\n    /**\n     * Converts plain JavaScript object to Predicate object.\n     * @param  {Predicate[]|Predicate} json - Defines single or collection of Predicate.\n     */\n    Predicate.fromJson = function (json) {\n        if (json instanceof Array) {\n            var res = [];\n            for (var i = 0, len = json.length; i < len; i++) {\n                res.push(this.fromJSONData(json[i]));\n            }\n            return res;\n        }\n        var pred = json;\n        return this.fromJSONData(pred);\n    };\n    /**\n     * Validate the record based on the predicates.\n     * @param  {Object} record - Defines the datasource record.\n     */\n    Predicate.prototype.validate = function (record) {\n        var predicate = this.predicates ? this.predicates : [];\n        var isAnd;\n        var ret;\n        if (!this.isComplex && this.comparer) {\n            return this.comparer.call(this, DataUtil.getObject(this.field, record), this.value, this.ignoreCase, this.ignoreAccent);\n        }\n        isAnd = this.condition === 'and';\n        for (var i = 0; i < predicate.length; i++) {\n            ret = predicate[i].validate(record);\n            if (isAnd) {\n                if (!ret) {\n                    return false;\n                }\n            }\n            else {\n                if (ret) {\n                    return true;\n                }\n            }\n        }\n        return isAnd;\n    };\n    /**\n     * Converts predicates to plain JavaScript.\n     * This method is uses Json stringify when serializing Predicate object.\n     */\n    Predicate.prototype.toJson = function () {\n        var predicates;\n        var p;\n        if (this.isComplex) {\n            predicates = [];\n            p = this.predicates;\n            for (var i = 0; i < p.length; i++) {\n                predicates.push(p[i].toJson());\n            }\n        }\n        return {\n            isComplex: this.isComplex,\n            field: this.field,\n            operator: this.operator,\n            value: this.value,\n            ignoreCase: this.ignoreCase,\n            ignoreAccent: this.ignoreAccent,\n            condition: this.condition,\n            predicates: predicates\n        };\n    };\n    Predicate.combinePredicates = function (predicates, operator) {\n        if (predicates.length === 1) {\n            if (!(predicates[0] instanceof Array)) {\n                return predicates[0];\n            }\n            predicates = predicates[0];\n        }\n        return new Predicate(predicates[0], operator, predicates.slice(1));\n    };\n    Predicate.combine = function (pred, field, operator, value, condition, ignoreCase, ignoreAccent) {\n        if (field instanceof Predicate) {\n            return Predicate[condition](pred, field);\n        }\n        if (typeof field === 'string') {\n            return Predicate[condition](pred, new Predicate(field, operator, value, ignoreCase, ignoreAccent));\n        }\n        return DataUtil.throwError('Predicate - ' + condition + ' : invalid arguments');\n    };\n    Predicate.fromJSONData = function (json) {\n        var preds = json.predicates || [];\n        var len = preds.length;\n        var predicates = [];\n        var result;\n        for (var i = 0; i < len; i++) {\n            predicates.push(this.fromJSONData(preds[i]));\n        }\n        if (!json.isComplex) {\n            result = new Predicate(json.field, json.operator, json.value, json.ignoreCase, json.ignoreAccent);\n        }\n        else {\n            result = new Predicate(predicates[0], json.condition, predicates.slice(1));\n        }\n        return result;\n    };\n    return Predicate;\n}());\nexport { Predicate };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataManager } from './manager';\nimport { Query } from './query';\nvar consts = { GroupGuid: '{271bbba0-1ee7}' };\n/**\n * Data manager common utility methods.\n * @hidden\n */\nvar DataUtil = /** @class */ (function () {\n    function DataUtil() {\n    }\n    /**\n     * Returns the value by invoking the provided parameter function.\n     * If the paramater is not of type function then it will be returned as it is.\n     * @param  {Function|string|string[]|number} value\n     * @param  {Object} inst?\n     * @hidden\n     */\n    DataUtil.getValue = function (value, inst) {\n        if (typeof value === 'function') {\n            return value.call(inst || {});\n        }\n        return value;\n    };\n    /**\n     * Returns true if the input string ends with given string.\n     * @param  {string} input\n     * @param  {string} substr\n     */\n    DataUtil.endsWith = function (input, substr) {\n        return input.slice(-substr.length) === substr;\n    };\n    /**\n     * Returns true if the input string starts with given string.\n     * @param  {string} str\n     * @param  {string} startstr\n     */\n    DataUtil.startsWith = function (input, start) {\n        return input.slice(0, start.length) === start;\n    };\n    /**\n     * To return the sorting function based on the string.\n     * @param  {string} order\n     * @hidden\n     */\n    DataUtil.fnSort = function (order) {\n        order = order ? DataUtil.toLowerCase(order) : 'ascending';\n        if (order === 'ascending') {\n            return this.fnAscending;\n        }\n        return this.fnDescending;\n    };\n    /**\n     * Comparer function which is used to sort the data in ascending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnAscending = function (x, y) {\n        if (y === null || y === undefined) {\n            return -1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y);\n        }\n        if (x === null || x === undefined) {\n            return 1;\n        }\n        return x - y;\n    };\n    /**\n     * Comparer function which is used to sort the data in descending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnDescending = function (x, y) {\n        if (y === null || y === undefined) {\n            return 1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y) * -1;\n        }\n        if (x === null || x === undefined) {\n            return -1;\n        }\n        return y - x;\n    };\n    DataUtil.extractFields = function (obj, fields) {\n        var newObj = {};\n        for (var i = 0; i < fields.length; i++) {\n            newObj = this.setValue(fields[i], this.getObject(fields[i], obj), newObj);\n        }\n        return newObj;\n    };\n    /**\n     * Select objects by given fields from jsonArray.\n     * @param  {Object[]} jsonArray\n     * @param  {string[]} fields\n     */\n    DataUtil.select = function (jsonArray, fields) {\n        var newData = [];\n        for (var i = 0; i < jsonArray.length; i++) {\n            newData.push(this.extractFields(jsonArray[i], fields));\n        }\n        return newData;\n    };\n    /**\n     * Group the input data based on the field name.\n     * It also performs aggregation of the grouped records based on the aggregates paramater.\n     * @param  {Object[]} jsonArray\n     * @param  {string} field?\n     * @param  {Object[]} agg?\n     * @param  {number} level?\n     * @param  {Object[]} groupDs?\n     */\n    DataUtil.group = function (jsonArray, field, aggregates, level, groupDs, format) {\n        level = level || 1;\n        var jsonData = jsonArray;\n        var guid = 'GroupGuid';\n        if (jsonData.GroupGuid === consts[guid]) {\n            var _loop_1 = function (j) {\n                if (!isNullOrUndefined(groupDs)) {\n                    var indx = -1;\n                    var temp = groupDs.filter(function (e) { return e.key === jsonData[j].key; });\n                    indx = groupDs.indexOf(temp[0]);\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, groupDs[indx].items, format);\n                    jsonData[j].count = groupDs[indx].count;\n                }\n                else {\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, null, format);\n                    jsonData[j].count = jsonData[j].items.length;\n                }\n            };\n            var this_1 = this;\n            for (var j = 0; j < jsonData.length; j++) {\n                _loop_1(j);\n            }\n            jsonData.childLevels += 1;\n            return jsonData;\n        }\n        var grouped = {};\n        var groupedArray = [];\n        groupedArray.GroupGuid = consts[guid];\n        groupedArray.level = level;\n        groupedArray.childLevels = 0;\n        groupedArray.records = jsonData;\n        var _loop_2 = function (i) {\n            var val = this_2.getVal(jsonData, i, field);\n            if (!isNullOrUndefined(format)) {\n                val = format(val, field);\n            }\n            if (!grouped[val]) {\n                grouped[val] = {\n                    key: val,\n                    count: 0,\n                    items: [],\n                    aggregates: {},\n                    field: field\n                };\n                groupedArray.push(grouped[val]);\n                if (!isNullOrUndefined(groupDs)) {\n                    var tempObj = groupDs.filter(function (e) { return e.key === grouped[val].key; });\n                    grouped[val].count = tempObj[0].count;\n                }\n            }\n            grouped[val].count = !isNullOrUndefined(groupDs) ? grouped[val].count : grouped[val].count += 1;\n            grouped[val].items.push(jsonData[i]);\n        };\n        var this_2 = this;\n        for (var i = 0; i < jsonData.length; i++) {\n            _loop_2(i);\n        }\n        if (aggregates && aggregates.length) {\n            var _loop_3 = function (i) {\n                var res = {};\n                var fn = void 0;\n                var aggs = aggregates;\n                for (var j = 0; j < aggregates.length; j++) {\n                    fn = DataUtil.aggregates[aggregates[j].type];\n                    if (!isNullOrUndefined(groupDs)) {\n                        var temp = groupDs.filter(function (e) { return e.key === groupedArray[i].key; });\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(temp[0].items, aggs[j].field);\n                        }\n                    }\n                    else {\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(groupedArray[i].items, aggs[j].field);\n                        }\n                    }\n                }\n                groupedArray[i].aggregates = res;\n            };\n            for (var i = 0; i < groupedArray.length; i++) {\n                _loop_3(i);\n            }\n        }\n        return groupedArray;\n    };\n    /**\n     * It is used to categorize the multiple items based on a specific field in jsonArray.\n     * The hierarchical queries are commonly required when you use foreign key binding.\n     * @param  {string} fKey\n     * @param  {string} from\n     * @param  {Object[]} source\n     * @param  {Group} lookup?\n     * @param  {string} pKey?\n     * @hidden\n     */\n    DataUtil.buildHierarchy = function (fKey, from, source, lookup, pKey) {\n        var i;\n        var grp = {};\n        var temp;\n        if (lookup.result) {\n            lookup = lookup.result;\n        }\n        if (lookup.GroupGuid) {\n            this.throwError('DataManager: Do not have support Grouping in hierarchy');\n        }\n        for (i = 0; i < lookup.length; i++) {\n            var fKeyData = this.getObject(fKey, lookup[i]);\n            temp = grp[fKeyData] || (grp[fKeyData] = []);\n            temp.push(lookup[i]);\n        }\n        for (i = 0; i < source.length; i++) {\n            var fKeyData = this.getObject(pKey || fKey, source[i]);\n            source[i][from] = grp[fKeyData];\n        }\n    };\n    /**\n     * The method used to get the field names which started with specified characters.\n     * @param  {Object} obj\n     * @param  {string[]} fields?\n     * @param  {string} prefix?\n     * @hidden\n     */\n    DataUtil.getFieldList = function (obj, fields, prefix) {\n        if (prefix === undefined) {\n            prefix = '';\n        }\n        if (fields === undefined || fields === null) {\n            return this.getFieldList(obj, [], prefix);\n        }\n        var copyObj = obj;\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var prop = keys_1[_i];\n            if (typeof copyObj[prop] === 'object' && !(copyObj[prop] instanceof Array)) {\n                this.getFieldList(copyObj[prop], fields, prefix + prop + '.');\n            }\n            else {\n                fields.push(prefix + prop);\n            }\n        }\n        return fields;\n    };\n    /**\n     * Gets the value of the property in the given object.\n     * The complex object can be accessed by providing the field names concatenated with dot(.).\n     * @param  {string} nameSpace - The name of the property to be accessed.\n     * @param  {Object} from - Defines the source object.\n     */\n    DataUtil.getObject = function (nameSpace, from) {\n        if (!nameSpace) {\n            return from;\n        }\n        if (nameSpace.indexOf('.') === -1) {\n            return from[nameSpace];\n        }\n        var value = from;\n        var splits = nameSpace.split('.');\n        for (var i = 0; i < splits.length; i++) {\n            if (value == null) {\n                break;\n            }\n            value = value[splits[i]];\n        }\n        return value;\n    };\n    /**\n     * To set value for the nameSpace in desired object.\n     * @param {string} nameSpace - String value to the get the inner object.\n     * @param {Object} value - Value that you need to set.\n     * @param {Object} obj - Object to get the inner object value.\n     * @return { [key: string]: Object; } | Object\n     * @hidden\n     */\n    DataUtil.setValue = function (nameSpace, value, obj) {\n        var keys = nameSpace.toString().split('.');\n        var start = obj || {};\n        var fromObj = start;\n        var i;\n        var length = keys.length;\n        var key;\n        for (i = 0; i < length; i++) {\n            key = keys[i];\n            if (i + 1 === length) {\n                fromObj[key] = value === undefined ? undefined : value;\n            }\n            else if (isNullOrUndefined(fromObj[key])) {\n                fromObj[key] = {};\n            }\n            fromObj = fromObj[key];\n        }\n        return start;\n    };\n    /**\n     * Sort the given data based on the field and comparer.\n     * @param  {Object[]} ds - Defines the input data.\n     * @param  {string} field - Defines the field to be sorted.\n     * @param  {Function} comparer - Defines the comparer function used to sort the records.\n     */\n    DataUtil.sort = function (ds, field, comparer) {\n        if (ds.length <= 1) {\n            return ds;\n        }\n        var middle = parseInt((ds.length / 2).toString(), 10);\n        var left = ds.slice(0, middle);\n        var right = ds.slice(middle);\n        left = this.sort(left, field, comparer);\n        right = this.sort(right, field, comparer);\n        return this.merge(left, right, field, comparer);\n    };\n    DataUtil.ignoreDiacritics = function (value) {\n        if (typeof value !== 'string') {\n            return value;\n        }\n        var result = value.split('');\n        var newValue = result.map(function (temp) { return temp in DataUtil.diacritics ? DataUtil.diacritics[temp] : temp; });\n        return newValue.join('');\n    };\n    DataUtil.merge = function (left, right, fieldName, comparer) {\n        var result = [];\n        var current;\n        while (left.length > 0 || right.length > 0) {\n            if (left.length > 0 && right.length > 0) {\n                if (comparer) {\n                    current = comparer(this.getVal(left, 0, fieldName), this.getVal(right, 0, fieldName)) <= 0 ? left : right;\n                }\n                else {\n                    current = left[0][fieldName] < left[0][fieldName] ? left : right;\n                }\n            }\n            else {\n                current = left.length > 0 ? left : right;\n            }\n            result.push(current.shift());\n        }\n        return result;\n    };\n    DataUtil.getVal = function (array, index, field) {\n        return field ? this.getObject(field, array[index]) : array[index];\n    };\n    DataUtil.toLowerCase = function (val) {\n        return val ? typeof val === 'string' ? val.toLowerCase() : val.toString() : (val === 0 || val === false) ? val.toString() : '';\n    };\n    /**\n     * To perform the filter operation with specified adaptor and returns the result.\n     * @param  {Object} adaptor\n     * @param  {string} fnName\n     * @param  {Object} param1?\n     * @param  {Object} param2?\n     * @hidden\n     */\n    DataUtil.callAdaptorFunction = function (adaptor, fnName, param1, param2) {\n        if (fnName in adaptor) {\n            var res = adaptor[fnName](param1, param2);\n            if (!this.fnOperators.isnull(res)) {\n                param1 = res;\n            }\n        }\n        return param1;\n    };\n    /**\n     * Checks wheather the given input is a plain object or not.\n     * @param  {Object|Object[]} obj\n     */\n    DataUtil.isPlainObject = function (obj) {\n        return (!!obj) && (obj.constructor === Object);\n    };\n    /**\n     * Returns true when the browser cross origin request.\n     */\n    DataUtil.isCors = function () {\n        var xhr = null;\n        var request = 'XMLHttpRequest';\n        try {\n            xhr = new window[request]();\n        }\n        catch (e) {\n            // No exception handling\n        }\n        return !!xhr && ('withCredentials' in xhr);\n    };\n    /**\n     * Generate random GUID value which will be prefixed with the given value.\n     * @param  {string} prefix\n     */\n    DataUtil.getGuid = function (prefix) {\n        var hexs = '0123456789abcdef';\n        var rand;\n        return (prefix || '') + '00000000-0000-4000-0000-000000000000'.replace(/0/g, function (val, i) {\n            if ('crypto' in window && 'getRandomValues' in crypto) {\n                var arr = new Uint8Array(1);\n                window.crypto.getRandomValues(arr);\n                rand = arr[0] % 16 | 0;\n            }\n            else {\n                rand = Math.random() * 16 | 0;\n            }\n            return hexs[i === 19 ? rand & 0x3 | 0x8 : rand];\n        });\n    };\n    /**\n     * Checks wheather the given value is null or not.\n     * @param  {string|Object} val\n     * @returns boolean\n     */\n    DataUtil.isNull = function (val) {\n        return val === undefined || val === null;\n    };\n    /**\n     * To get the required items from collection of objects.\n     * @param  {Object[]} array\n     * @param  {string} field\n     * @param  {Function} comparer\n     * @returns Object\n     * @hidden\n     */\n    DataUtil.getItemFromComparer = function (array, field, comparer) {\n        var keyVal;\n        var current;\n        var key;\n        var i = 0;\n        var castRequired = typeof DataUtil.getVal(array, 0, field) === 'string';\n        if (array.length) {\n            while (isNullOrUndefined(keyVal) && i < array.length) {\n                keyVal = DataUtil.getVal(array, i, field);\n                key = array[i++];\n            }\n        }\n        for (; i < array.length; i++) {\n            current = DataUtil.getVal(array, i, field);\n            if (isNullOrUndefined(current)) {\n                continue;\n            }\n            if (castRequired) {\n                keyVal = +keyVal;\n                current = +current;\n            }\n            if (comparer(keyVal, current) > 0) {\n                keyVal = current;\n                key = array[i];\n            }\n        }\n        return key;\n    };\n    /**\n     * To get distinct values of Array or Array of Objects.\n     * @param  {Object[]} json\n     * @param  {string} field\n     * @param  {boolean} requiresCompleteRecord\n     * @returns Object[]\n     * * distinct array of objects is return when requiresCompleteRecord set as true.\n     * @hidden\n     */\n    DataUtil.distinct = function (json, fieldName, requiresCompleteRecord) {\n        requiresCompleteRecord = isNullOrUndefined(requiresCompleteRecord) ? false : requiresCompleteRecord;\n        var result = [];\n        var val;\n        var tmp = {};\n        json.forEach(function (data, index) {\n            val = DataUtil.getVal(json, index, fieldName);\n            if (!(val in tmp)) {\n                result.push(!requiresCompleteRecord ? val : json[index]);\n                tmp[val] = 1;\n            }\n        });\n        return result;\n    };\n    /**\n     * Specifies the value which will be used to adjust the date value to server timezone.\n     * @default null\n     */\n    DataUtil.serverTimezoneOffset = null;\n    /**\n     * Throw error with the given string as message.\n     * @param  {string} er\n     */\n    DataUtil.throwError = function (error) {\n        try {\n            throw new Error(error);\n        }\n        catch (e) {\n            throw e.message + '\\n' + e.stack;\n        }\n    };\n    DataUtil.aggregates = {\n        /**\n         * Calculate sum of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        sum: function (ds, field) {\n            var result = 0;\n            var val;\n            var castRequired = typeof DataUtil.getVal(ds, 0, field) !== 'number';\n            for (var i = 0; i < ds.length; i++) {\n                val = DataUtil.getVal(ds, i, field);\n                if (!isNaN(val) && val !== null) {\n                    if (castRequired) {\n                        val = +val;\n                    }\n                    result += val;\n                }\n            }\n            return result;\n        },\n        /**\n         * Calculate average value of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        average: function (ds, field) {\n            return DataUtil.aggregates.sum(ds, field) / ds.length;\n        },\n        /**\n         * Returns the min value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string|Function} field\n         */\n        min: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnAscending));\n        },\n        /**\n         * Returns the max value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         * @returns number\n         */\n        max: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnDescending));\n        },\n        /**\n         * Returns the total number of true value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        truecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', true, true)).length;\n        },\n        /**\n         * Returns the total number of false value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        falsecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', false, true)).length;\n        },\n        /**\n         * Returns the length of the given data.\n         * @param  {Object[]} ds\n         * @param  {string} field?\n         * @returns number\n         */\n        count: function (ds, field) {\n            return ds.length;\n        }\n    };\n    /**\n     * Specifies the Object with filter operators.\n     */\n    DataUtil.operatorSymbols = {\n        '<': 'lessthan',\n        '>': 'greaterthan',\n        '<=': 'lessthanorequal',\n        '>=': 'greaterthanorequal',\n        '==': 'equal',\n        '!=': 'notequal',\n        '*=': 'contains',\n        '$=': 'endswith',\n        '^=': 'startswith'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * * It will be used for date/number type filter query.\n     */\n    DataUtil.odBiOperator = {\n        '<': ' lt ',\n        '>': ' gt ',\n        '<=': ' le ',\n        '>=': ' ge ',\n        '==': ' eq ',\n        '!=': ' ne ',\n        'lessthan': ' lt ',\n        'lessthanorequal': ' le ',\n        'greaterthan': ' gt ',\n        'greaterthanorequal': ' ge ',\n        'equal': ' eq ',\n        'notequal': ' ne '\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odUniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'substringof',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'substringof'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for ODataV4 filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odv4UniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'contains',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'contains'\n    };\n    DataUtil.diacritics = {\n        '\\u24B6': 'A',\n        '\\uFF21': 'A',\n        '\\u00C0': 'A',\n        '\\u00C1': 'A',\n        '\\u00C2': 'A',\n        '\\u1EA6': 'A',\n        '\\u1EA4': 'A',\n        '\\u1EAA': 'A',\n        '\\u1EA8': 'A',\n        '\\u00C3': 'A',\n        '\\u0100': 'A',\n        '\\u0102': 'A',\n        '\\u1EB0': 'A',\n        '\\u1EAE': 'A',\n        '\\u1EB4': 'A',\n        '\\u1EB2': 'A',\n        '\\u0226': 'A',\n        '\\u01E0': 'A',\n        '\\u00C4': 'A',\n        '\\u01DE': 'A',\n        '\\u1EA2': 'A',\n        '\\u00C5': 'A',\n        '\\u01FA': 'A',\n        '\\u01CD': 'A',\n        '\\u0200': 'A',\n        '\\u0202': 'A',\n        '\\u1EA0': 'A',\n        '\\u1EAC': 'A',\n        '\\u1EB6': 'A',\n        '\\u1E00': 'A',\n        '\\u0104': 'A',\n        '\\u023A': 'A',\n        '\\u2C6F': 'A',\n        '\\uA732': 'AA',\n        '\\u00C6': 'AE',\n        '\\u01FC': 'AE',\n        '\\u01E2': 'AE',\n        '\\uA734': 'AO',\n        '\\uA736': 'AU',\n        '\\uA738': 'AV',\n        '\\uA73A': 'AV',\n        '\\uA73C': 'AY',\n        '\\u24B7': 'B',\n        '\\uFF22': 'B',\n        '\\u1E02': 'B',\n        '\\u1E04': 'B',\n        '\\u1E06': 'B',\n        '\\u0243': 'B',\n        '\\u0182': 'B',\n        '\\u0181': 'B',\n        '\\u24B8': 'C',\n        '\\uFF23': 'C',\n        '\\u0106': 'C',\n        '\\u0108': 'C',\n        '\\u010A': 'C',\n        '\\u010C': 'C',\n        '\\u00C7': 'C',\n        '\\u1E08': 'C',\n        '\\u0187': 'C',\n        '\\u023B': 'C',\n        '\\uA73E': 'C',\n        '\\u24B9': 'D',\n        '\\uFF24': 'D',\n        '\\u1E0A': 'D',\n        '\\u010E': 'D',\n        '\\u1E0C': 'D',\n        '\\u1E10': 'D',\n        '\\u1E12': 'D',\n        '\\u1E0E': 'D',\n        '\\u0110': 'D',\n        '\\u018B': 'D',\n        '\\u018A': 'D',\n        '\\u0189': 'D',\n        '\\uA779': 'D',\n        '\\u01F1': 'DZ',\n        '\\u01C4': 'DZ',\n        '\\u01F2': 'Dz',\n        '\\u01C5': 'Dz',\n        '\\u24BA': 'E',\n        '\\uFF25': 'E',\n        '\\u00C8': 'E',\n        '\\u00C9': 'E',\n        '\\u00CA': 'E',\n        '\\u1EC0': 'E',\n        '\\u1EBE': 'E',\n        '\\u1EC4': 'E',\n        '\\u1EC2': 'E',\n        '\\u1EBC': 'E',\n        '\\u0112': 'E',\n        '\\u1E14': 'E',\n        '\\u1E16': 'E',\n        '\\u0114': 'E',\n        '\\u0116': 'E',\n        '\\u00CB': 'E',\n        '\\u1EBA': 'E',\n        '\\u011A': 'E',\n        '\\u0204': 'E',\n        '\\u0206': 'E',\n        '\\u1EB8': 'E',\n        '\\u1EC6': 'E',\n        '\\u0228': 'E',\n        '\\u1E1C': 'E',\n        '\\u0118': 'E',\n        '\\u1E18': 'E',\n        '\\u1E1A': 'E',\n        '\\u0190': 'E',\n        '\\u018E': 'E',\n        '\\u24BB': 'F',\n        '\\uFF26': 'F',\n        '\\u1E1E': 'F',\n        '\\u0191': 'F',\n        '\\uA77B': 'F',\n        '\\u24BC': 'G',\n        '\\uFF27': 'G',\n        '\\u01F4': 'G',\n        '\\u011C': 'G',\n        '\\u1E20': 'G',\n        '\\u011E': 'G',\n        '\\u0120': 'G',\n        '\\u01E6': 'G',\n        '\\u0122': 'G',\n        '\\u01E4': 'G',\n        '\\u0193': 'G',\n        '\\uA7A0': 'G',\n        '\\uA77D': 'G',\n        '\\uA77E': 'G',\n        '\\u24BD': 'H',\n        '\\uFF28': 'H',\n        '\\u0124': 'H',\n        '\\u1E22': 'H',\n        '\\u1E26': 'H',\n        '\\u021E': 'H',\n        '\\u1E24': 'H',\n        '\\u1E28': 'H',\n        '\\u1E2A': 'H',\n        '\\u0126': 'H',\n        '\\u2C67': 'H',\n        '\\u2C75': 'H',\n        '\\uA78D': 'H',\n        '\\u24BE': 'I',\n        '\\uFF29': 'I',\n        '\\u00CC': 'I',\n        '\\u00CD': 'I',\n        '\\u00CE': 'I',\n        '\\u0128': 'I',\n        '\\u012A': 'I',\n        '\\u012C': 'I',\n        '\\u0130': 'I',\n        '\\u00CF': 'I',\n        '\\u1E2E': 'I',\n        '\\u1EC8': 'I',\n        '\\u01CF': 'I',\n        '\\u0208': 'I',\n        '\\u020A': 'I',\n        '\\u1ECA': 'I',\n        '\\u012E': 'I',\n        '\\u1E2C': 'I',\n        '\\u0197': 'I',\n        '\\u24BF': 'J',\n        '\\uFF2A': 'J',\n        '\\u0134': 'J',\n        '\\u0248': 'J',\n        '\\u24C0': 'K',\n        '\\uFF2B': 'K',\n        '\\u1E30': 'K',\n        '\\u01E8': 'K',\n        '\\u1E32': 'K',\n        '\\u0136': 'K',\n        '\\u1E34': 'K',\n        '\\u0198': 'K',\n        '\\u2C69': 'K',\n        '\\uA740': 'K',\n        '\\uA742': 'K',\n        '\\uA744': 'K',\n        '\\uA7A2': 'K',\n        '\\u24C1': 'L',\n        '\\uFF2C': 'L',\n        '\\u013F': 'L',\n        '\\u0139': 'L',\n        '\\u013D': 'L',\n        '\\u1E36': 'L',\n        '\\u1E38': 'L',\n        '\\u013B': 'L',\n        '\\u1E3C': 'L',\n        '\\u1E3A': 'L',\n        '\\u0141': 'L',\n        '\\u023D': 'L',\n        '\\u2C62': 'L',\n        '\\u2C60': 'L',\n        '\\uA748': 'L',\n        '\\uA746': 'L',\n        '\\uA780': 'L',\n        '\\u01C7': 'LJ',\n        '\\u01C8': 'Lj',\n        '\\u24C2': 'M',\n        '\\uFF2D': 'M',\n        '\\u1E3E': 'M',\n        '\\u1E40': 'M',\n        '\\u1E42': 'M',\n        '\\u2C6E': 'M',\n        '\\u019C': 'M',\n        '\\u24C3': 'N',\n        '\\uFF2E': 'N',\n        '\\u01F8': 'N',\n        '\\u0143': 'N',\n        '\\u00D1': 'N',\n        '\\u1E44': 'N',\n        '\\u0147': 'N',\n        '\\u1E46': 'N',\n        '\\u0145': 'N',\n        '\\u1E4A': 'N',\n        '\\u1E48': 'N',\n        '\\u0220': 'N',\n        '\\u019D': 'N',\n        '\\uA790': 'N',\n        '\\uA7A4': 'N',\n        '\\u01CA': 'NJ',\n        '\\u01CB': 'Nj',\n        '\\u24C4': 'O',\n        '\\uFF2F': 'O',\n        '\\u00D2': 'O',\n        '\\u00D3': 'O',\n        '\\u00D4': 'O',\n        '\\u1ED2': 'O',\n        '\\u1ED0': 'O',\n        '\\u1ED6': 'O',\n        '\\u1ED4': 'O',\n        '\\u00D5': 'O',\n        '\\u1E4C': 'O',\n        '\\u022C': 'O',\n        '\\u1E4E': 'O',\n        '\\u014C': 'O',\n        '\\u1E50': 'O',\n        '\\u1E52': 'O',\n        '\\u014E': 'O',\n        '\\u022E': 'O',\n        '\\u0230': 'O',\n        '\\u00D6': 'O',\n        '\\u022A': 'O',\n        '\\u1ECE': 'O',\n        '\\u0150': 'O',\n        '\\u01D1': 'O',\n        '\\u020C': 'O',\n        '\\u020E': 'O',\n        '\\u01A0': 'O',\n        '\\u1EDC': 'O',\n        '\\u1EDA': 'O',\n        '\\u1EE0': 'O',\n        '\\u1EDE': 'O',\n        '\\u1EE2': 'O',\n        '\\u1ECC': 'O',\n        '\\u1ED8': 'O',\n        '\\u01EA': 'O',\n        '\\u01EC': 'O',\n        '\\u00D8': 'O',\n        '\\u01FE': 'O',\n        '\\u0186': 'O',\n        '\\u019F': 'O',\n        '\\uA74A': 'O',\n        '\\uA74C': 'O',\n        '\\u01A2': 'OI',\n        '\\uA74E': 'OO',\n        '\\u0222': 'OU',\n        '\\u24C5': 'P',\n        '\\uFF30': 'P',\n        '\\u1E54': 'P',\n        '\\u1E56': 'P',\n        '\\u01A4': 'P',\n        '\\u2C63': 'P',\n        '\\uA750': 'P',\n        '\\uA752': 'P',\n        '\\uA754': 'P',\n        '\\u24C6': 'Q',\n        '\\uFF31': 'Q',\n        '\\uA756': 'Q',\n        '\\uA758': 'Q',\n        '\\u024A': 'Q',\n        '\\u24C7': 'R',\n        '\\uFF32': 'R',\n        '\\u0154': 'R',\n        '\\u1E58': 'R',\n        '\\u0158': 'R',\n        '\\u0210': 'R',\n        '\\u0212': 'R',\n        '\\u1E5A': 'R',\n        '\\u1E5C': 'R',\n        '\\u0156': 'R',\n        '\\u1E5E': 'R',\n        '\\u024C': 'R',\n        '\\u2C64': 'R',\n        '\\uA75A': 'R',\n        '\\uA7A6': 'R',\n        '\\uA782': 'R',\n        '\\u24C8': 'S',\n        '\\uFF33': 'S',\n        '\\u1E9E': 'S',\n        '\\u015A': 'S',\n        '\\u1E64': 'S',\n        '\\u015C': 'S',\n        '\\u1E60': 'S',\n        '\\u0160': 'S',\n        '\\u1E66': 'S',\n        '\\u1E62': 'S',\n        '\\u1E68': 'S',\n        '\\u0218': 'S',\n        '\\u015E': 'S',\n        '\\u2C7E': 'S',\n        '\\uA7A8': 'S',\n        '\\uA784': 'S',\n        '\\u24C9': 'T',\n        '\\uFF34': 'T',\n        '\\u1E6A': 'T',\n        '\\u0164': 'T',\n        '\\u1E6C': 'T',\n        '\\u021A': 'T',\n        '\\u0162': 'T',\n        '\\u1E70': 'T',\n        '\\u1E6E': 'T',\n        '\\u0166': 'T',\n        '\\u01AC': 'T',\n        '\\u01AE': 'T',\n        '\\u023E': 'T',\n        '\\uA786': 'T',\n        '\\uA728': 'TZ',\n        '\\u24CA': 'U',\n        '\\uFF35': 'U',\n        '\\u00D9': 'U',\n        '\\u00DA': 'U',\n        '\\u00DB': 'U',\n        '\\u0168': 'U',\n        '\\u1E78': 'U',\n        '\\u016A': 'U',\n        '\\u1E7A': 'U',\n        '\\u016C': 'U',\n        '\\u00DC': 'U',\n        '\\u01DB': 'U',\n        '\\u01D7': 'U',\n        '\\u01D5': 'U',\n        '\\u01D9': 'U',\n        '\\u1EE6': 'U',\n        '\\u016E': 'U',\n        '\\u0170': 'U',\n        '\\u01D3': 'U',\n        '\\u0214': 'U',\n        '\\u0216': 'U',\n        '\\u01AF': 'U',\n        '\\u1EEA': 'U',\n        '\\u1EE8': 'U',\n        '\\u1EEE': 'U',\n        '\\u1EEC': 'U',\n        '\\u1EF0': 'U',\n        '\\u1EE4': 'U',\n        '\\u1E72': 'U',\n        '\\u0172': 'U',\n        '\\u1E76': 'U',\n        '\\u1E74': 'U',\n        '\\u0244': 'U',\n        '\\u24CB': 'V',\n        '\\uFF36': 'V',\n        '\\u1E7C': 'V',\n        '\\u1E7E': 'V',\n        '\\u01B2': 'V',\n        '\\uA75E': 'V',\n        '\\u0245': 'V',\n        '\\uA760': 'VY',\n        '\\u24CC': 'W',\n        '\\uFF37': 'W',\n        '\\u1E80': 'W',\n        '\\u1E82': 'W',\n        '\\u0174': 'W',\n        '\\u1E86': 'W',\n        '\\u1E84': 'W',\n        '\\u1E88': 'W',\n        '\\u2C72': 'W',\n        '\\u24CD': 'X',\n        '\\uFF38': 'X',\n        '\\u1E8A': 'X',\n        '\\u1E8C': 'X',\n        '\\u24CE': 'Y',\n        '\\uFF39': 'Y',\n        '\\u1EF2': 'Y',\n        '\\u00DD': 'Y',\n        '\\u0176': 'Y',\n        '\\u1EF8': 'Y',\n        '\\u0232': 'Y',\n        '\\u1E8E': 'Y',\n        '\\u0178': 'Y',\n        '\\u1EF6': 'Y',\n        '\\u1EF4': 'Y',\n        '\\u01B3': 'Y',\n        '\\u024E': 'Y',\n        '\\u1EFE': 'Y',\n        '\\u24CF': 'Z',\n        '\\uFF3A': 'Z',\n        '\\u0179': 'Z',\n        '\\u1E90': 'Z',\n        '\\u017B': 'Z',\n        '\\u017D': 'Z',\n        '\\u1E92': 'Z',\n        '\\u1E94': 'Z',\n        '\\u01B5': 'Z',\n        '\\u0224': 'Z',\n        '\\u2C7F': 'Z',\n        '\\u2C6B': 'Z',\n        '\\uA762': 'Z',\n        '\\u24D0': 'a',\n        '\\uFF41': 'a',\n        '\\u1E9A': 'a',\n        '\\u00E0': 'a',\n        '\\u00E1': 'a',\n        '\\u00E2': 'a',\n        '\\u1EA7': 'a',\n        '\\u1EA5': 'a',\n        '\\u1EAB': 'a',\n        '\\u1EA9': 'a',\n        '\\u00E3': 'a',\n        '\\u0101': 'a',\n        '\\u0103': 'a',\n        '\\u1EB1': 'a',\n        '\\u1EAF': 'a',\n        '\\u1EB5': 'a',\n        '\\u1EB3': 'a',\n        '\\u0227': 'a',\n        '\\u01E1': 'a',\n        '\\u00E4': 'a',\n        '\\u01DF': 'a',\n        '\\u1EA3': 'a',\n        '\\u00E5': 'a',\n        '\\u01FB': 'a',\n        '\\u01CE': 'a',\n        '\\u0201': 'a',\n        '\\u0203': 'a',\n        '\\u1EA1': 'a',\n        '\\u1EAD': 'a',\n        '\\u1EB7': 'a',\n        '\\u1E01': 'a',\n        '\\u0105': 'a',\n        '\\u2C65': 'a',\n        '\\u0250': 'a',\n        '\\uA733': 'aa',\n        '\\u00E6': 'ae',\n        '\\u01FD': 'ae',\n        '\\u01E3': 'ae',\n        '\\uA735': 'ao',\n        '\\uA737': 'au',\n        '\\uA739': 'av',\n        '\\uA73B': 'av',\n        '\\uA73D': 'ay',\n        '\\u24D1': 'b',\n        '\\uFF42': 'b',\n        '\\u1E03': 'b',\n        '\\u1E05': 'b',\n        '\\u1E07': 'b',\n        '\\u0180': 'b',\n        '\\u0183': 'b',\n        '\\u0253': 'b',\n        '\\u24D2': 'c',\n        '\\uFF43': 'c',\n        '\\u0107': 'c',\n        '\\u0109': 'c',\n        '\\u010B': 'c',\n        '\\u010D': 'c',\n        '\\u00E7': 'c',\n        '\\u1E09': 'c',\n        '\\u0188': 'c',\n        '\\u023C': 'c',\n        '\\uA73F': 'c',\n        '\\u2184': 'c',\n        '\\u24D3': 'd',\n        '\\uFF44': 'd',\n        '\\u1E0B': 'd',\n        '\\u010F': 'd',\n        '\\u1E0D': 'd',\n        '\\u1E11': 'd',\n        '\\u1E13': 'd',\n        '\\u1E0F': 'd',\n        '\\u0111': 'd',\n        '\\u018C': 'd',\n        '\\u0256': 'd',\n        '\\u0257': 'd',\n        '\\uA77A': 'd',\n        '\\u01F3': 'dz',\n        '\\u01C6': 'dz',\n        '\\u24D4': 'e',\n        '\\uFF45': 'e',\n        '\\u00E8': 'e',\n        '\\u00E9': 'e',\n        '\\u00EA': 'e',\n        '\\u1EC1': 'e',\n        '\\u1EBF': 'e',\n        '\\u1EC5': 'e',\n        '\\u1EC3': 'e',\n        '\\u1EBD': 'e',\n        '\\u0113': 'e',\n        '\\u1E15': 'e',\n        '\\u1E17': 'e',\n        '\\u0115': 'e',\n        '\\u0117': 'e',\n        '\\u00EB': 'e',\n        '\\u1EBB': 'e',\n        '\\u011B': 'e',\n        '\\u0205': 'e',\n        '\\u0207': 'e',\n        '\\u1EB9': 'e',\n        '\\u1EC7': 'e',\n        '\\u0229': 'e',\n        '\\u1E1D': 'e',\n        '\\u0119': 'e',\n        '\\u1E19': 'e',\n        '\\u1E1B': 'e',\n        '\\u0247': 'e',\n        '\\u025B': 'e',\n        '\\u01DD': 'e',\n        '\\u24D5': 'f',\n        '\\uFF46': 'f',\n        '\\u1E1F': 'f',\n        '\\u0192': 'f',\n        '\\uA77C': 'f',\n        '\\u24D6': 'g',\n        '\\uFF47': 'g',\n        '\\u01F5': 'g',\n        '\\u011D': 'g',\n        '\\u1E21': 'g',\n        '\\u011F': 'g',\n        '\\u0121': 'g',\n        '\\u01E7': 'g',\n        '\\u0123': 'g',\n        '\\u01E5': 'g',\n        '\\u0260': 'g',\n        '\\uA7A1': 'g',\n        '\\u1D79': 'g',\n        '\\uA77F': 'g',\n        '\\u24D7': 'h',\n        '\\uFF48': 'h',\n        '\\u0125': 'h',\n        '\\u1E23': 'h',\n        '\\u1E27': 'h',\n        '\\u021F': 'h',\n        '\\u1E25': 'h',\n        '\\u1E29': 'h',\n        '\\u1E2B': 'h',\n        '\\u1E96': 'h',\n        '\\u0127': 'h',\n        '\\u2C68': 'h',\n        '\\u2C76': 'h',\n        '\\u0265': 'h',\n        '\\u0195': 'hv',\n        '\\u24D8': 'i',\n        '\\uFF49': 'i',\n        '\\u00EC': 'i',\n        '\\u00ED': 'i',\n        '\\u00EE': 'i',\n        '\\u0129': 'i',\n        '\\u012B': 'i',\n        '\\u012D': 'i',\n        '\\u00EF': 'i',\n        '\\u1E2F': 'i',\n        '\\u1EC9': 'i',\n        '\\u01D0': 'i',\n        '\\u0209': 'i',\n        '\\u020B': 'i',\n        '\\u1ECB': 'i',\n        '\\u012F': 'i',\n        '\\u1E2D': 'i',\n        '\\u0268': 'i',\n        '\\u0131': 'i',\n        '\\u24D9': 'j',\n        '\\uFF4A': 'j',\n        '\\u0135': 'j',\n        '\\u01F0': 'j',\n        '\\u0249': 'j',\n        '\\u24DA': 'k',\n        '\\uFF4B': 'k',\n        '\\u1E31': 'k',\n        '\\u01E9': 'k',\n        '\\u1E33': 'k',\n        '\\u0137': 'k',\n        '\\u1E35': 'k',\n        '\\u0199': 'k',\n        '\\u2C6A': 'k',\n        '\\uA741': 'k',\n        '\\uA743': 'k',\n        '\\uA745': 'k',\n        '\\uA7A3': 'k',\n        '\\u24DB': 'l',\n        '\\uFF4C': 'l',\n        '\\u0140': 'l',\n        '\\u013A': 'l',\n        '\\u013E': 'l',\n        '\\u1E37': 'l',\n        '\\u1E39': 'l',\n        '\\u013C': 'l',\n        '\\u1E3D': 'l',\n        '\\u1E3B': 'l',\n        '\\u017F': 'l',\n        '\\u0142': 'l',\n        '\\u019A': 'l',\n        '\\u026B': 'l',\n        '\\u2C61': 'l',\n        '\\uA749': 'l',\n        '\\uA781': 'l',\n        '\\uA747': 'l',\n        '\\u01C9': 'lj',\n        '\\u24DC': 'm',\n        '\\uFF4D': 'm',\n        '\\u1E3F': 'm',\n        '\\u1E41': 'm',\n        '\\u1E43': 'm',\n        '\\u0271': 'm',\n        '\\u026F': 'm',\n        '\\u24DD': 'n',\n        '\\uFF4E': 'n',\n        '\\u01F9': 'n',\n        '\\u0144': 'n',\n        '\\u00F1': 'n',\n        '\\u1E45': 'n',\n        '\\u0148': 'n',\n        '\\u1E47': 'n',\n        '\\u0146': 'n',\n        '\\u1E4B': 'n',\n        '\\u1E49': 'n',\n        '\\u019E': 'n',\n        '\\u0272': 'n',\n        '\\u0149': 'n',\n        '\\uA791': 'n',\n        '\\uA7A5': 'n',\n        '\\u01CC': 'nj',\n        '\\u24DE': 'o',\n        '\\uFF4F': 'o',\n        '\\u00F2': 'o',\n        '\\u00F3': 'o',\n        '\\u00F4': 'o',\n        '\\u1ED3': 'o',\n        '\\u1ED1': 'o',\n        '\\u1ED7': 'o',\n        '\\u1ED5': 'o',\n        '\\u00F5': 'o',\n        '\\u1E4D': 'o',\n        '\\u022D': 'o',\n        '\\u1E4F': 'o',\n        '\\u014D': 'o',\n        '\\u1E51': 'o',\n        '\\u1E53': 'o',\n        '\\u014F': 'o',\n        '\\u022F': 'o',\n        '\\u0231': 'o',\n        '\\u00F6': 'o',\n        '\\u022B': 'o',\n        '\\u1ECF': 'o',\n        '\\u0151': 'o',\n        '\\u01D2': 'o',\n        '\\u020D': 'o',\n        '\\u020F': 'o',\n        '\\u01A1': 'o',\n        '\\u1EDD': 'o',\n        '\\u1EDB': 'o',\n        '\\u1EE1': 'o',\n        '\\u1EDF': 'o',\n        '\\u1EE3': 'o',\n        '\\u1ECD': 'o',\n        '\\u1ED9': 'o',\n        '\\u01EB': 'o',\n        '\\u01ED': 'o',\n        '\\u00F8': 'o',\n        '\\u01FF': 'o',\n        '\\u0254': 'o',\n        '\\uA74B': 'o',\n        '\\uA74D': 'o',\n        '\\u0275': 'o',\n        '\\u01A3': 'oi',\n        '\\u0223': 'ou',\n        '\\uA74F': 'oo',\n        '\\u24DF': 'p',\n        '\\uFF50': 'p',\n        '\\u1E55': 'p',\n        '\\u1E57': 'p',\n        '\\u01A5': 'p',\n        '\\u1D7D': 'p',\n        '\\uA751': 'p',\n        '\\uA753': 'p',\n        '\\uA755': 'p',\n        '\\u24E0': 'q',\n        '\\uFF51': 'q',\n        '\\u024B': 'q',\n        '\\uA757': 'q',\n        '\\uA759': 'q',\n        '\\u24E1': 'r',\n        '\\uFF52': 'r',\n        '\\u0155': 'r',\n        '\\u1E59': 'r',\n        '\\u0159': 'r',\n        '\\u0211': 'r',\n        '\\u0213': 'r',\n        '\\u1E5B': 'r',\n        '\\u1E5D': 'r',\n        '\\u0157': 'r',\n        '\\u1E5F': 'r',\n        '\\u024D': 'r',\n        '\\u027D': 'r',\n        '\\uA75B': 'r',\n        '\\uA7A7': 'r',\n        '\\uA783': 'r',\n        '\\u24E2': 's',\n        '\\uFF53': 's',\n        '\\u00DF': 's',\n        '\\u015B': 's',\n        '\\u1E65': 's',\n        '\\u015D': 's',\n        '\\u1E61': 's',\n        '\\u0161': 's',\n        '\\u1E67': 's',\n        '\\u1E63': 's',\n        '\\u1E69': 's',\n        '\\u0219': 's',\n        '\\u015F': 's',\n        '\\u023F': 's',\n        '\\uA7A9': 's',\n        '\\uA785': 's',\n        '\\u1E9B': 's',\n        '\\u24E3': 't',\n        '\\uFF54': 't',\n        '\\u1E6B': 't',\n        '\\u1E97': 't',\n        '\\u0165': 't',\n        '\\u1E6D': 't',\n        '\\u021B': 't',\n        '\\u0163': 't',\n        '\\u1E71': 't',\n        '\\u1E6F': 't',\n        '\\u0167': 't',\n        '\\u01AD': 't',\n        '\\u0288': 't',\n        '\\u2C66': 't',\n        '\\uA787': 't',\n        '\\uA729': 'tz',\n        '\\u24E4': 'u',\n        '\\uFF55': 'u',\n        '\\u00F9': 'u',\n        '\\u00FA': 'u',\n        '\\u00FB': 'u',\n        '\\u0169': 'u',\n        '\\u1E79': 'u',\n        '\\u016B': 'u',\n        '\\u1E7B': 'u',\n        '\\u016D': 'u',\n        '\\u00FC': 'u',\n        '\\u01DC': 'u',\n        '\\u01D8': 'u',\n        '\\u01D6': 'u',\n        '\\u01DA': 'u',\n        '\\u1EE7': 'u',\n        '\\u016F': 'u',\n        '\\u0171': 'u',\n        '\\u01D4': 'u',\n        '\\u0215': 'u',\n        '\\u0217': 'u',\n        '\\u01B0': 'u',\n        '\\u1EEB': 'u',\n        '\\u1EE9': 'u',\n        '\\u1EEF': 'u',\n        '\\u1EED': 'u',\n        '\\u1EF1': 'u',\n        '\\u1EE5': 'u',\n        '\\u1E73': 'u',\n        '\\u0173': 'u',\n        '\\u1E77': 'u',\n        '\\u1E75': 'u',\n        '\\u0289': 'u',\n        '\\u24E5': 'v',\n        '\\uFF56': 'v',\n        '\\u1E7D': 'v',\n        '\\u1E7F': 'v',\n        '\\u028B': 'v',\n        '\\uA75F': 'v',\n        '\\u028C': 'v',\n        '\\uA761': 'vy',\n        '\\u24E6': 'w',\n        '\\uFF57': 'w',\n        '\\u1E81': 'w',\n        '\\u1E83': 'w',\n        '\\u0175': 'w',\n        '\\u1E87': 'w',\n        '\\u1E85': 'w',\n        '\\u1E98': 'w',\n        '\\u1E89': 'w',\n        '\\u2C73': 'w',\n        '\\u24E7': 'x',\n        '\\uFF58': 'x',\n        '\\u1E8B': 'x',\n        '\\u1E8D': 'x',\n        '\\u24E8': 'y',\n        '\\uFF59': 'y',\n        '\\u1EF3': 'y',\n        '\\u00FD': 'y',\n        '\\u0177': 'y',\n        '\\u1EF9': 'y',\n        '\\u0233': 'y',\n        '\\u1E8F': 'y',\n        '\\u00FF': 'y',\n        '\\u1EF7': 'y',\n        '\\u1E99': 'y',\n        '\\u1EF5': 'y',\n        '\\u01B4': 'y',\n        '\\u024F': 'y',\n        '\\u1EFF': 'y',\n        '\\u24E9': 'z',\n        '\\uFF5A': 'z',\n        '\\u017A': 'z',\n        '\\u1E91': 'z',\n        '\\u017C': 'z',\n        '\\u017E': 'z',\n        '\\u1E93': 'z',\n        '\\u1E95': 'z',\n        '\\u01B6': 'z',\n        '\\u0225': 'z',\n        '\\u0240': 'z',\n        '\\u2C6C': 'z',\n        '\\uA763': 'z',\n        '\\u0386': '\\u0391',\n        '\\u0388': '\\u0395',\n        '\\u0389': '\\u0397',\n        '\\u038A': '\\u0399',\n        '\\u03AA': '\\u0399',\n        '\\u038C': '\\u039F',\n        '\\u038E': '\\u03A5',\n        '\\u03AB': '\\u03A5',\n        '\\u038F': '\\u03A9',\n        '\\u03AC': '\\u03B1',\n        '\\u03AD': '\\u03B5',\n        '\\u03AE': '\\u03B7',\n        '\\u03AF': '\\u03B9',\n        '\\u03CA': '\\u03B9',\n        '\\u0390': '\\u03B9',\n        '\\u03CC': '\\u03BF',\n        '\\u03CD': '\\u03C5',\n        '\\u03CB': '\\u03C5',\n        '\\u03B0': '\\u03C5',\n        '\\u03C9': '\\u03C9',\n        '\\u03C2': '\\u03C3'\n    };\n    DataUtil.fnOperators = {\n        /**\n         * Returns true when the actual input is equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         * @param  {boolean} ignoreAccent?\n         */\n        equal: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) === DataUtil.toLowerCase(expected);\n            }\n            return actual === expected;\n        },\n        /**\n         * Returns true when the actual input is not equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        notequal: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            return !DataUtil.fnOperators.equal(actual, expected, ignoreCase);\n        },\n        /**\n         * Returns true when the actual input is less than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) < DataUtil.toLowerCase(expected);\n            }\n            return actual < expected;\n        },\n        /**\n         * Returns true when the actual input is greater than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) > DataUtil.toLowerCase(expected);\n            }\n            return actual > expected;\n        },\n        /**\n         * Returns true when the actual input is less than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) <= DataUtil.toLowerCase(expected);\n            }\n            return actual <= expected;\n        },\n        /**\n         * Returns true when the actual input is greater than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) >= DataUtil.toLowerCase(expected);\n            }\n            return actual >= expected;\n        },\n        /**\n         * Returns true when the actual input contains the given string.\n         * @param  {string|number} actual\n         * @param  {string|number} expected\n         * @param  {boolean} ignoreCase?\n         */\n        contains: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                    DataUtil.toLowerCase(actual).indexOf(DataUtil.toLowerCase(expected)) !== -1;\n            }\n            return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                actual.toString().indexOf(expected) !== -1;\n        },\n        /**\n         * Returns true when the given input value is not null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        notnull: function (actual) {\n            return actual !== null;\n        },\n        /**\n         * Returns true when the given input value is null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        isnull: function (actual) {\n            return actual === null;\n        },\n        /**\n         * Returns true when the actual input starts with the given string\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        startswith: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return actual && expected && DataUtil.startsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected));\n            }\n            return actual && expected && DataUtil.startsWith(actual, expected);\n        },\n        /**\n         * Returns true when the actual input ends with the given string.\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        endswith: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return actual && expected && DataUtil.endsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected));\n            }\n            return actual && expected && DataUtil.endsWith(actual, expected);\n        },\n        /**\n         * It will return the filter operator based on the filter symbol.\n         * @param  {string} operator\n         * @hidden\n         */\n        processSymbols: function (operator) {\n            var fnName = DataUtil.operatorSymbols[operator];\n            if (fnName) {\n                var fn = DataUtil.fnOperators[fnName];\n                return fn;\n            }\n            return DataUtil.throwError('Query - Process Operator : Invalid operator');\n        },\n        /**\n         * It will return the valid filter operator based on the specified operators.\n         * @param  {string} operator\n         * @hidden\n         */\n        processOperator: function (operator) {\n            var fn = DataUtil.fnOperators[operator];\n            if (fn) {\n                return fn;\n            }\n            return DataUtil.fnOperators.processSymbols(operator);\n        }\n    };\n    /**\n     * To perform the parse operation on JSON data, like convert to string from JSON or convert to JSON from string.\n     */\n    DataUtil.parse = {\n        /**\n         * Parse the given string to the plain JavaScript object.\n         * @param  {string|Object|Object[]} jsonText\n         */\n        parseJson: function (jsonText) {\n            if (typeof jsonText === 'string') {\n                jsonText = JSON.parse(jsonText, DataUtil.parse.jsonReviver);\n            }\n            else if (jsonText instanceof Array) {\n                DataUtil.parse.iterateAndReviveArray(jsonText);\n            }\n            else if (typeof jsonText === 'object') {\n                DataUtil.parse.iterateAndReviveJson(jsonText);\n            }\n            return jsonText;\n        },\n        /**\n         * It will perform on array of values.\n         * @param  {string[]|Object[]} array\n         * @hidden\n         */\n        iterateAndReviveArray: function (array) {\n            for (var i = 0; i < array.length; i++) {\n                if (typeof array[i] === 'object') {\n                    DataUtil.parse.iterateAndReviveJson(array[i]);\n                }\n                else if (typeof array[i] === 'string' && !/^[\\s]*\\[|^[\\s]*\\{|\\\"/g.test(array[i])) {\n                    array[i] = DataUtil.parse.jsonReviver('', array[i]);\n                }\n                else {\n                    array[i] = DataUtil.parse.parseJson(array[i]);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {JSON} json\n         * @hidden\n         */\n        iterateAndReviveJson: function (json) {\n            var value;\n            var keys = Object.keys(json);\n            for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.startsWith(prop, '__')) {\n                    continue;\n                }\n                value = json[prop];\n                if (typeof value === 'object') {\n                    if (value instanceof Array) {\n                        DataUtil.parse.iterateAndReviveArray(value);\n                    }\n                    else if (value) {\n                        DataUtil.parse.iterateAndReviveJson(value);\n                    }\n                }\n                else {\n                    json[prop] = DataUtil.parse.jsonReviver(json[prop], value);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {string} field\n         * @param  {string|Date} value\n         * @hidden\n         */\n        jsonReviver: function (field, value) {\n            var dupValue = value;\n            if (typeof value === 'string') {\n                var ms = /^\\/Date\\(([+-]?[0-9]+)([+-][0-9]{4})?\\)\\/$/.exec(value);\n                if (ms) {\n                    return DataUtil.dateParse.toTimeZone(new Date(parseInt(ms[1], 10)), DataUtil.serverTimezoneOffset, true);\n                }\n                else if (/^(\\d{4}\\-\\d\\d\\-\\d\\d([tT][\\d:\\.]*){1})([zZ]|([+\\-])(\\d\\d):?(\\d\\d))?$/.test(value)) {\n                    var arr = dupValue.split(/[^0-9]/);\n                    value = DataUtil.dateParse\n                        .toTimeZone(new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10), parseInt(arr[3], 10), parseInt(arr[4], 10), parseInt(arr[5], 10)), DataUtil.serverTimezoneOffset, true);\n                }\n            }\n            return value;\n        },\n        /**\n         * Check wheather the given value is JSON or not.\n         * @param  {Object[]} jsonData\n         */\n        isJson: function (jsonData) {\n            if (typeof jsonData[0] === 'string') {\n                return jsonData;\n            }\n            return DataUtil.parse.parseJson(jsonData);\n        },\n        /**\n         * Checks wheather the given value is GUID or not.\n         * @param  {string} value\n         */\n        isGuid: function (value) {\n            var regex = /[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i;\n            var match = regex.exec(value);\n            return match != null;\n        },\n        /**\n         * The method used to replace the value based on the type.\n         * @param  {Object} value\n         * @param  {boolean} stringify\n         * @hidden\n         */\n        replacer: function (value, stringify) {\n            if (DataUtil.isPlainObject(value)) {\n                return DataUtil.parse.jsonReplacer(value, stringify);\n            }\n            if (value instanceof Array) {\n                return DataUtil.parse.arrayReplacer(value);\n            }\n            if (value instanceof Date) {\n                return DataUtil.parse.jsonReplacer({ val: value }, stringify).val;\n            }\n            return value;\n        },\n        /**\n         * It will replace the JSON value.\n         * @param  {string} key\n         * @param  {Object} val\n         * @hidden\n         */\n        jsonReplacer: function (val, stringify) {\n            var value;\n            var keys = Object.keys(val);\n            for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n                var prop = keys_3[_i];\n                value = val[prop];\n                if (!(value instanceof Date)) {\n                    continue;\n                }\n                var d = value;\n                val[prop] = DataUtil.dateParse.toTimeZone(DataUtil.dateParse.addSelfOffset(d), DataUtil.serverTimezoneOffset).toJSON();\n            }\n            return val;\n        },\n        /**\n         * It will replace the Array of value.\n         * @param  {string} key\n         * @param  {Object[]} val\n         * @hidden\n         */\n        arrayReplacer: function (val) {\n            for (var i = 0; i < val.length; i++) {\n                if (DataUtil.isPlainObject(val[i])) {\n                    val[i] = DataUtil.parse.jsonReplacer(val[i]);\n                }\n                else if (val[i] instanceof Date) {\n                    val[i] = DataUtil.parse.jsonReplacer({ date: val[i] }).date;\n                }\n            }\n            return val;\n        }\n    };\n    /**\n     * @hidden\n     */\n    DataUtil.dateParse = {\n        addSelfOffset: function (input) {\n            return new Date(+input - (input.getTimezoneOffset() * 60000));\n        },\n        toUTC: function (input) {\n            return new Date(+input + (input.getTimezoneOffset() * 60000));\n        },\n        toTimeZone: function (input, offset, utc) {\n            if (offset === null) {\n                return input;\n            }\n            var unix = utc ? DataUtil.dateParse.toUTC(input) : input;\n            return new Date(+unix - (offset * 3600000));\n        }\n    };\n    return DataUtil;\n}());\nexport { DataUtil };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { merge, extend, isNullOrUndefined, setValue, getValue } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query, Predicate } from './query';\n/**\n * Adaptors are specific data source type aware interfaces that are used by DataManager to communicate with DataSource.\n * This is the base adaptor class that other adaptors can extend.\n * @hidden\n */\nvar Adaptor = /** @class */ (function () {\n    /**\n     * Constructor for Adaptor class\n     * @param  {DataOptions} ds?\n     * @hidden\n     * @returns aggregates\n     */\n    function Adaptor(ds) {\n        // common options for all the adaptors \n        this.options = {\n            from: 'table',\n            requestType: 'json',\n            sortBy: 'sorted',\n            select: 'select',\n            skip: 'skip',\n            group: 'group',\n            take: 'take',\n            search: 'search',\n            count: 'requiresCounts',\n            where: 'where',\n            aggregates: 'aggregates'\n        };\n        /**\n         * Specifies the type of adaptor.\n         * @default Adaptor\n         */\n        this.type = Adaptor;\n        this.dataSource = ds;\n        this.pvt = {};\n    }\n    /**\n     * Returns the data from the query processing.\n     * @param  {Object} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @returns Object\n     */\n    Adaptor.prototype.processResponse = function (data, ds, query, xhr) {\n        return data;\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n/**\n * JsonAdaptor is used to process JSON data. It contains methods to process the given JSON data based on the queries.\n * @hidden\n */\nvar JsonAdaptor = /** @class */ (function (_super) {\n    __extends(JsonAdaptor, _super);\n    function JsonAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the JSON data based on the provided queries.\n     * @param  {DataManager} dataManager\n     * @param  {Query} query\n     * @returns Object\n     */\n    JsonAdaptor.prototype.processQuery = function (dataManager, query) {\n        var result = dataManager.dataSource.json.slice(0);\n        var count = result.length;\n        var countFlg = true;\n        var ret;\n        var key;\n        var agg = {};\n        for (var i = 0; i < query.queries.length; i++) {\n            key = query.queries[i];\n            ret = this[key.fn].call(this, result, key.e, query);\n            if (key.fn === 'onAggregates') {\n                agg[key.e.field + ' - ' + key.e.type] = ret;\n            }\n            else {\n                result = ret !== undefined ? ret : result;\n            }\n            if (key.fn === 'onPage' || key.fn === 'onSkip' || key.fn === 'onTake' || key.fn === 'onRange') {\n                countFlg = false;\n            }\n            if (countFlg) {\n                count = result.length;\n            }\n        }\n        if (query.isCountRequired) {\n            result = {\n                result: result,\n                count: count,\n                aggregates: agg\n            };\n        }\n        return result;\n    };\n    /**\n     * Performs batch update in the JSON array which add, remove and update records.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    JsonAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var i;\n        for (i = 0; i < changes.addedRecords.length; i++) {\n            this.insert(dm, changes.addedRecords[i]);\n        }\n        for (i = 0; i < changes.changedRecords.length; i++) {\n            this.update(dm, e.key, changes.changedRecords[i]);\n        }\n        for (i = 0; i < changes.deletedRecords.length; i++) {\n            this.remove(dm, e.key, changes.deletedRecords[i]);\n        }\n        return changes;\n    };\n    /**\n     * Performs filter operation with the given data and where query.\n     * @param  {Object[]} ds\n     * @param  {{validate:Function}} e\n     */\n    JsonAdaptor.prototype.onWhere = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.filter(function (obj) {\n            if (e) {\n                return e.validate(obj);\n            }\n        });\n    };\n    /**\n     * Returns aggregate function based on the aggregate type.\n     * @param  {Object[]} ds\n     * @param  {{field:string} e\n     * @param  {string}} type\n     */\n    JsonAdaptor.prototype.onAggregates = function (ds, e) {\n        var fn = DataUtil.aggregates[e.type];\n        if (!ds || !fn || ds.length === 0) {\n            return null;\n        }\n        return fn(ds, e.field);\n    };\n    /**\n     * Performs search operation based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     */\n    JsonAdaptor.prototype.onSearch = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        if (e.fieldNames.length === 0) {\n            DataUtil.getFieldList(ds[0], e.fieldNames);\n        }\n        return ds.filter(function (obj) {\n            for (var j = 0; j < e.fieldNames.length; j++) {\n                if (e.comparer.call(obj, DataUtil.getObject(e.fieldNames[j], obj), e.searchKey, e.ignoreCase)) {\n                    return true;\n                }\n            }\n            return false;\n        });\n    };\n    /**\n     * Sort the data with given direction and field.\n     * @param  {Object[]} ds\n     * @param  {{comparer:(a:Object} e\n     * @param  {Object} b\n     */\n    JsonAdaptor.prototype.onSortBy = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var fnCompare;\n        var field = DataUtil.getValue(e.fieldName, query);\n        if (!field) {\n            return ds.sort(e.comparer);\n        }\n        if (field instanceof Array) {\n            field = field.slice(0);\n            for (var i = field.length - 1; i >= 0; i--) {\n                if (!field[i]) {\n                    continue;\n                }\n                fnCompare = e.comparer;\n                if (DataUtil.endsWith(field[i], ' desc')) {\n                    fnCompare = DataUtil.fnSort('descending');\n                    field[i] = field[i].replace(' desc', '');\n                }\n                ds = DataUtil.sort(ds, field[i], fnCompare);\n            }\n            return ds;\n        }\n        return DataUtil.sort(ds, field, e.comparer);\n    };\n    /**\n     * Group the data based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onGroup = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var aggQuery = Query.filterQueries(query.queries, 'onAggregates');\n        var agg = [];\n        if (aggQuery.length) {\n            var tmp = void 0;\n            for (var i = 0; i < aggQuery.length; i++) {\n                tmp = aggQuery[i].e;\n                agg.push({ type: tmp.type, field: DataUtil.getValue(tmp.field, query) });\n            }\n        }\n        return DataUtil.group(ds, DataUtil.getValue(e.fieldName, query), agg, null, null, e.comparer);\n    };\n    /**\n     * Retrieves records based on the given page index and size.\n     * @param  {Object[]} ds\n     * @param  {{pageSize:number} e\n     * @param  {number}} pageIndex\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onPage = function (ds, e, query) {\n        var size = DataUtil.getValue(e.pageSize, query);\n        var start = (DataUtil.getValue(e.pageIndex, query) - 1) * size;\n        var end = start + size;\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(start, end);\n    };\n    /**\n     * Retrieves records based on the given start and end index from query.\n     * @param  {Object[]} ds\n     * @param  {{start:number} e\n     * @param  {number}} end\n     */\n    JsonAdaptor.prototype.onRange = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.start), DataUtil.getValue(e.end));\n    };\n    /**\n     * Picks the given count of records from the top of the datasource.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onTake = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(0, DataUtil.getValue(e.nos));\n    };\n    /**\n     * Skips the given count of records from the data source.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onSkip = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.nos));\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {Object[]} ds\n     * @param  {{fieldNames:string}} e\n     */\n    JsonAdaptor.prototype.onSelect = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return DataUtil.select(ds, DataUtil.getValue(e.fieldNames));\n    };\n    /**\n     * Inserts new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {number} position\n     */\n    JsonAdaptor.prototype.insert = function (dm, data, tableName, query, position) {\n        if (isNullOrUndefined(position)) {\n            return dm.dataSource.json.push(data);\n        }\n        else {\n            return dm.dataSource.json.splice(position, 0, data);\n        }\n    };\n    /**\n     * Remove the data from the dataSource based on the key field value.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        if (typeof value === 'object') {\n            value = value[keyField];\n        }\n        for (i = 0; i < ds.length; i++) {\n            if (ds[i][keyField] === value) {\n                break;\n            }\n        }\n        return i !== ds.length ? ds.splice(i, 1) : null;\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        var key = value[keyField];\n        for (i = 0; i < ds.length; i++) {\n            if (ds[i][keyField] === key) {\n                break;\n            }\n        }\n        return i < ds.length ? merge(ds[i], value) : null;\n    };\n    return JsonAdaptor;\n}(Adaptor));\nexport { JsonAdaptor };\n/**\n * URL Adaptor of DataManager can be used when you are required to use remote service to retrieve data.\n * It interacts with server-side for all DataManager Queries and CRUD operations.\n * @hidden\n */\nvar UrlAdaptor = /** @class */ (function (_super) {\n    __extends(UrlAdaptor, _super);\n    function UrlAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the query to generate request body.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns p\n     */\n    UrlAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var params = query.params;\n        var url = dm.dataSource.url;\n        var temp;\n        var skip;\n        var take = null;\n        var options = this.options;\n        var request = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        // calc Paging & Range\n        if ('onPage' in singles) {\n            temp = singles.onPage;\n            skip = DataUtil.getValue(temp.pageIndex, query);\n            take = DataUtil.getValue(temp.pageSize, query);\n            skip = (skip - 1) * take;\n        }\n        else if ('onRange' in singles) {\n            temp = singles.onRange;\n            skip = temp.start;\n            take = temp.end - temp.start;\n        }\n        // Sorting\n        for (var i = 0; i < queries.sorts.length; i++) {\n            temp = DataUtil.getValue(queries.sorts[i].e.fieldName, query);\n            request.sorts.push(DataUtil.callAdaptorFunction(this, 'onEachSort', { name: temp, direction: queries.sorts[i].e.direction }, query));\n        }\n        // hierarchy\n        if (hierarchyFilters) {\n            temp = this.getFiltersFrom(hierarchyFilters, query);\n            if (temp) {\n                request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', temp.toJson(), query));\n            }\n        }\n        // Filters\n        for (var i = 0; i < queries.filters.length; i++) {\n            request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', queries.filters[i].e.toJson(), query));\n            var keys_1 = typeof request.filters[i] === 'object' ? Object.keys(request.filters[i]) : [];\n            for (var _i = 0, keys_2 = keys_1; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.isNull((request)[prop])) {\n                    delete request[prop];\n                }\n            }\n        }\n        // Searches\n        for (var i = 0; i < queries.searches.length; i++) {\n            temp = queries.searches[i].e;\n            request.searches.push(DataUtil.callAdaptorFunction(this, 'onEachSearch', {\n                fields: temp.fieldNames,\n                operator: temp.operator,\n                key: temp.searchKey,\n                ignoreCase: temp.ignoreCase\n            }, query));\n        }\n        // Grouping\n        for (var i = 0; i < queries.groups.length; i++) {\n            request.groups.push(DataUtil.getValue(queries.groups[i].e.fieldName, query));\n        }\n        // aggregates\n        for (var i = 0; i < queries.aggregates.length; i++) {\n            temp = queries.aggregates[i].e;\n            request.aggregates.push({ type: temp.type, field: DataUtil.getValue(temp.field, query) });\n        }\n        var req = {};\n        this.getRequestQuery(options, query, singles, request, req);\n        // Params\n        DataUtil.callAdaptorFunction(this, 'addParams', { dm: dm, query: query, params: params, reqParams: req });\n        // cleanup\n        var keys = Object.keys(req);\n        for (var _a = 0, keys_3 = keys; _a < keys_3.length; _a++) {\n            var prop = keys_3[_a];\n            if (DataUtil.isNull(req[prop]) || req[prop] === '' || req[prop].length === 0) {\n                delete req[prop];\n            }\n        }\n        if (!(options.skip in req && options.take in req) && take !== null) {\n            req[options.skip] = DataUtil.callAdaptorFunction(this, 'onSkip', skip, query);\n            req[options.take] = DataUtil.callAdaptorFunction(this, 'onTake', take, query);\n        }\n        var p = this.pvt;\n        this.pvt = {};\n        if (this.options.requestType === 'json') {\n            return {\n                data: JSON.stringify(req),\n                url: url,\n                pvtData: p,\n                type: 'POST',\n                contentType: 'application/json; charset=utf-8'\n            };\n        }\n        temp = this.convertToQueryString(req, query, dm);\n        temp = (dm.dataSource.url.indexOf('?') !== -1 ? '&' : '/') + temp;\n        return {\n            type: 'GET', url: temp.length ? url.replace(/\\/*$/, temp) : url, pvtData: p\n        };\n    };\n    UrlAdaptor.prototype.getRequestQuery = function (options, query, singles, request, request1) {\n        var param = 'param';\n        var req = request1;\n        req[options.from] = query.fromTable;\n        if (options.expand) {\n            req[options.expand] = query.expands;\n        }\n        req[options.select] = 'onSelect' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onSelect', DataUtil.getValue(singles.onSelect.fieldNames, query), query) : '';\n        req[options.count] = query.isCountRequired ? DataUtil.callAdaptorFunction(this, 'onCount', query.isCountRequired, query) : '';\n        req[options.search] = request.searches.length ? DataUtil.callAdaptorFunction(this, 'onSearch', request.searches, query) : '';\n        req[options.skip] = 'onSkip' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onSkip', DataUtil.getValue(singles.onSkip.nos, query), query) : '';\n        req[options.take] = 'onTake' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onTake', DataUtil.getValue(singles.onTake.nos, query), query) : '';\n        req[options.where] = request.filters.length || request.searches.length ?\n            DataUtil.callAdaptorFunction(this, 'onWhere', request.filters, query) : '';\n        req[options.sortBy] = request.sorts.length ? DataUtil.callAdaptorFunction(this, 'onSortBy', request.sorts, query) : '';\n        req[options.group] = request.groups.length ? DataUtil.callAdaptorFunction(this, 'onGroup', request.groups, query) : '';\n        req[options.aggregates] = request.aggregates.length ?\n            DataUtil.callAdaptorFunction(this, 'onAggregates', request.aggregates, query) : '';\n        req[param] = [];\n    };\n    /**\n     * Convert the object from processQuery to string which can be added query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     */\n    UrlAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        return '';\n        // this needs to be overridden\n    };\n    /**\n     * Return the data from the data manager processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Object} request?\n     * @param  {CrudOptions} changes?\n     */\n    UrlAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var requests = request;\n        var pvt = requests.pvtData || {};\n        var groupDs = data.groupDs;\n        if (xhr && xhr.getResponseHeader('Content-Type') &&\n            xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        var d = JSON.parse(requests.data);\n        if (d && d.action === 'batch' && data.addedRecords) {\n            changes.addedRecords = data.addedRecords;\n            return changes;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        var args = {};\n        if ('count' in data) {\n            args.count = data.count;\n        }\n        args.result = data.result ? data.result : data;\n        this.getAggregateResult(pvt, data, args, groupDs);\n        return DataUtil.isNull(args.count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Add the group query to the adaptor`s option.\n     * @param  {Object[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return e;\n    };\n    /**\n     * Add the aggregate query to the adaptor`s option.\n     * @param  {Aggregates[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {Object} e\n     */\n    UrlAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var url;\n        var key;\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.removeUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify({\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e[url],\n                key: e[key]\n            })\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @returns void\n     */\n    UrlAdaptor.prototype.beforeSend = function (dm, request) {\n        // need to extend this method\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: data,\n                table: tableName,\n                action: 'insert'\n            })\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number|string} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                key: value,\n                keyColumn: keyField,\n                table: tableName,\n                action: 'remove'\n            })\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: value,\n                action: 'update',\n                keyColumn: keyField,\n                key: value[keyField],\n                table: tableName\n            })\n        };\n    };\n    /**\n     * To generate the predicate based on the filtered query.\n     * @param  {Object[]|string[]|number[]} data\n     * @param  {Query} query\n     * @hidden\n     */\n    UrlAdaptor.prototype.getFiltersFrom = function (data, query) {\n        var key = query.fKey;\n        var value;\n        var prop = key;\n        var pKey = query.key;\n        var predicats = [];\n        if (typeof data[0] !== 'object') {\n            prop = null;\n        }\n        for (var i = 0; i < data.length; i++) {\n            if (typeof data[0] === 'object') {\n                value = DataUtil.getObject(pKey || prop, data[i]);\n            }\n            else {\n                value = data[i];\n            }\n            predicats.push(new Predicate(key, 'equal', value));\n        }\n        return Predicate.or(predicats);\n    };\n    UrlAdaptor.prototype.getAggregateResult = function (pvt, data, args, groupDs) {\n        var pData = data;\n        if (data && data.result) {\n            pData = data.result;\n        }\n        if (pvt && pvt.aggregates && pvt.aggregates.length) {\n            var agg = pvt.aggregates;\n            var fn = void 0;\n            var aggregateData = pData;\n            var res = {};\n            if (data.aggregate) {\n                aggregateData = data.aggregate;\n            }\n            for (var i = 0; i < agg.length; i++) {\n                fn = DataUtil.aggregates[agg[i].type];\n                if (fn) {\n                    res[agg[i].field + ' - ' + agg[i].type] = fn(aggregateData, agg[i].field);\n                }\n            }\n            args.aggregates = res;\n        }\n        if (pvt && pvt.groups && pvt.groups.length) {\n            var groups = pvt.groups;\n            for (var i = 0; i < groups.length; i++) {\n                var level = null;\n                if (!isNullOrUndefined(groupDs)) {\n                    groupDs = DataUtil.group(groupDs, groups[i]);\n                }\n                pData = DataUtil.group(pData, groups[i], pvt.aggregates, level, groupDs);\n            }\n            args.result = pData;\n        }\n        return args;\n    };\n    UrlAdaptor.prototype.getQueryRequest = function (query) {\n        var req = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        req.sorts = Query.filterQueries(query.queries, 'onSortBy');\n        req.groups = Query.filterQueries(query.queries, 'onGroup');\n        req.filters = Query.filterQueries(query.queries, 'onWhere');\n        req.searches = Query.filterQueries(query.queries, 'onSearch');\n        req.aggregates = Query.filterQueries(query.queries, 'onAggregates');\n        return req;\n    };\n    UrlAdaptor.prototype.addParams = function (options) {\n        var req = options.reqParams;\n        if (options.params.length) {\n            req.params = {};\n        }\n        for (var _i = 0, _a = options.params; _i < _a.length; _i++) {\n            var tmp = _a[_i];\n            if (req[tmp.key]) {\n                throw new Error('Query() - addParams: Custom Param is conflicting other request arguments');\n            }\n            req[tmp.key] = tmp.value;\n            if (tmp.fn) {\n                req[tmp.key] = tmp.fn.call(options.query, tmp.key, options.query, options.dm);\n            }\n            req.params[tmp.key] = req[tmp.key];\n        }\n    };\n    return UrlAdaptor;\n}(Adaptor));\nexport { UrlAdaptor };\n/**\n * OData Adaptor that is extended from URL Adaptor, is used for consuming data through OData Service.\n * @hidden\n */\nvar ODataAdaptor = /** @class */ (function (_super) {\n    __extends(ODataAdaptor, _super);\n    function ODataAdaptor() {\n        var _this = _super.call(this) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json;odata=light;q=1,application/json;odata=verbose;q=0.5',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$inlinecount',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 '\n        });\n        _this.getModuleName = getValue('getModulename', _this);\n        return _this;\n    }\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var operator;\n        var guid;\n        var val = predicate.value;\n        var type = typeof val;\n        var field = predicate.field ? ODataAdaptor.getField(predicate.field) : null;\n        if (val instanceof Date) {\n            val = 'datetime\\'' + DataUtil.parse.replacer(val) + '\\'';\n        }\n        if (type === 'string') {\n            val = '\\'' + val + '\\'';\n            if (requiresCast) {\n                field = 'cast(' + field + ', \\'Edm.String\\')';\n            }\n            if (DataUtil.parse.isGuid(val)) {\n                guid = 'guid';\n            }\n            if (predicate.ignoreCase) {\n                if (!guid) {\n                    field = 'tolower(' + field + ')';\n                }\n                val = val.toLowerCase();\n            }\n        }\n        operator = DataUtil.odBiOperator[predicate.operator];\n        if (operator) {\n            returnValue += field;\n            returnValue += operator;\n            if (guid) {\n                returnValue += guid;\n            }\n            return returnValue + val;\n        }\n        if (!isNullOrUndefined(this.getModuleName)) {\n            if (this.getModuleName() === 'ODataV4Adaptor') {\n                operator = DataUtil.odv4UniOperator[predicate.operator];\n            }\n        }\n        else {\n            operator = DataUtil.odUniOperator[predicate.operator];\n        }\n        if (operator === 'substringof') {\n            var temp = val;\n            val = field;\n            field = temp;\n        }\n        returnValue += operator + '(';\n        returnValue += field + ',';\n        if (guid) {\n            returnValue += guid;\n        }\n        returnValue += val + ')';\n        return returnValue;\n    };\n    /**\n     * Generate request string based on the multiple filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onComplexPredicate = function (predicate, query, requiresCast) {\n        var res = [];\n        for (var i = 0; i < predicate.predicates.length; i++) {\n            res.push('(' + this.onEachWhere(predicate.predicates[i], query, requiresCast) + ')');\n        }\n        return res.join(' ' + predicate.condition + ' ');\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {Predicate} filter\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onEachWhere = function (filter, query, requiresCast) {\n        return filter.isComplex ? this.onComplexPredicate(filter, query, requiresCast) : this.onPredicate(filter, query, requiresCast);\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {string[]} filters\n     */\n    ODataAdaptor.prototype.onWhere = function (filters) {\n        if (this.pvt.search) {\n            filters.push(this.onEachWhere(this.pvt.search, null, true));\n        }\n        return filters.join(' and ');\n    };\n    /**\n     * Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataAdaptor.prototype.onEachSearch = function (e) {\n        if (e.fields && e.fields.length === 0) {\n            DataUtil.throwError('Query() - Search : oData search requires list of field names to search');\n        }\n        var filter = this.pvt.search || [];\n        for (var i = 0; i < e.fields.length; i++) {\n            filter.push(new Predicate(e.fields[i], e.operator, e.key, e.ignoreCase));\n        }\n        this.pvt.search = filter;\n    };\n    /**\n     * Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataAdaptor.prototype.onSearch = function (e) {\n        this.pvt.search = Predicate.or(this.pvt.search);\n        return '';\n    };\n    /**\n     * Generate query string based on multiple sort criteria from query.\n     * @param  {QueryOptions} e\n     */\n    ODataAdaptor.prototype.onEachSort = function (e) {\n        var res = [];\n        if (e.name instanceof Array) {\n            for (var i = 0; i < e.name.length; i++) {\n                res.push(ODataAdaptor.getField(e.name[i]) + (e.direction === 'descending' ? ' desc' : ''));\n            }\n        }\n        else {\n            res.push(ODataAdaptor.getField(e.name) + (e.direction === 'descending' ? ' desc' : ''));\n        }\n        return res.join(',');\n    };\n    /**\n     * Returns sort query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSortBy = function (e) {\n        return e.reverse().join(',');\n    };\n    /**\n     * Adds the group query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return [];\n    };\n    /**\n     * Returns the select query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSelect = function (e) {\n        for (var i = 0; i < e.length; i++) {\n            e[i] = ODataAdaptor.getField(e[i]);\n        }\n        return e.join(',');\n    };\n    /**\n     * Add the aggregate query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n        return '';\n    };\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onCount = function (e) {\n        return e === true ? 'allpages' : '';\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    ODataAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.options.multipartAccept);\n            request.setRequestHeader('DataServiceVersion', '2.0');\n            request.overrideMimeType('text/plain; charset=x-user-defined');\n        }\n        else {\n            request.setRequestHeader('Accept', this.options.accept);\n        }\n        request.setRequestHeader('DataServiceVersion', '2.0');\n        request.setRequestHeader('MaxDataServiceVersion', '2.0');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        if (!isNullOrUndefined(data.d)) {\n            var dataCopy = ((query && query.isCountRequired) ? data.d.results : data.d);\n            var metaData = '__metadata';\n            if (!isNullOrUndefined(dataCopy)) {\n                for (var i = 0; i < dataCopy.length; i++) {\n                    if (!isNullOrUndefined(dataCopy[i][metaData])) {\n                        delete dataCopy[i][metaData];\n                    }\n                }\n            }\n        }\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = this.processBatchResponse(data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n        var count = null;\n        var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n        if (query && query.isCountRequired) {\n            var oDataCount = '__count';\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n            if (data.d) {\n                data = data.d;\n            }\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n        }\n        if (version === 3 && data.value) {\n            data = data.value;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        if (version < 3 && data.results) {\n            data = data.results;\n        }\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Converts the request object to query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     * @returns tableName\n     */\n    ODataAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        var res = [];\n        var table = 'table';\n        var tableName = request[table] || '';\n        var format = '$format';\n        delete request[table];\n        if (dm.dataSource.requiresFormat) {\n            request[format] = 'json';\n        }\n        var keys = Object.keys(request);\n        for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\n            var prop = keys_4[_i];\n            res.push(prop + '=' + request[prop]);\n        }\n        res = res.join('&');\n        if (dm.dataSource.url && dm.dataSource.url.indexOf('?') !== -1 && !tableName) {\n            return res;\n        }\n        return res.length ? tableName + '?' + res : tableName || '';\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : ''),\n            data: JSON.stringify(data)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : '') + '(' + value + ')'\n        };\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns this\n     */\n    ODataAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'PUT',\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : '') + '(' + value[keyField] + ')',\n            data: JSON.stringify(value),\n            accept: this.options.accept\n        };\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     * @returns {Object}\n     */\n    ODataAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var initialGuid = e.guid = DataUtil.getGuid(this.options.batchPre);\n        var url = dm.dataSource.url.replace(/\\/*$/, '/' + this.options.batch);\n        var args = {\n            url: e.url,\n            key: e.key,\n            cid: 1,\n            cSet: DataUtil.getGuid(this.options.changeSet)\n        };\n        var req = '--' + initialGuid + '\\n';\n        req += 'Content-Type: multipart/mixed; boundary=' + args.cSet.replace('--', '') + '\\n';\n        this.pvt.changeSet = 0;\n        req += this.generateInsertRequest(changes.addedRecords, args);\n        req += this.generateUpdateRequest(changes.changedRecords, args);\n        req += this.generateDeleteRequest(changes.deletedRecords, args);\n        req += args.cSet + '--\\n';\n        req += '--' + initialGuid + '--';\n        return {\n            type: 'POST',\n            url: url,\n            dataType: 'json',\n            contentType: 'multipart/mixed; charset=UTF-8;boundary=' + initialGuid,\n            data: req\n        };\n    };\n    /**\n     * Generate the string content from the removed records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     * @returns this\n     */\n    ODataAdaptor.prototype.generateDeleteRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'DELETE ',\n            'url': function (data, i, key) { return '(' + data[i][key] + ')'; },\n            'data': function (data, i) { return ''; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req + '\\n';\n    };\n    /**\n     * Generate the string content from the inserted records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateInsertRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'POST ',\n            'url': function (data, i, key) { return ''; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req;\n    };\n    /**\n     * Generate the string content from the updated records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateUpdateRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'PUT ',\n            'url': function (data, i, key) { return '(' + data[i][key] + ')'; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req;\n    };\n    ODataAdaptor.getField = function (prop) {\n        return prop.replace(/\\./g, '/');\n    };\n    ODataAdaptor.prototype.generateBodyContent = function (arr, e, stat) {\n        var req = '';\n        for (var i = 0; i < arr.length; i++) {\n            req += '\\n' + e.cSet + '\\n';\n            req += this.options.changeSetContent + '\\n\\n';\n            req += stat.method;\n            req += e.url + stat.url(arr, i, e.key) + ' HTTP/1.1\\n';\n            req += 'Accept: ' + this.options.accept + '\\n';\n            req += 'Content-Id: ' + this.pvt.changeSet++ + '\\n';\n            req += this.options.batchChangeSetContentType + '\\n\\n';\n            req += stat.data(arr, i);\n        }\n        return req;\n    };\n    ODataAdaptor.prototype.processBatchResponse = function (data, query, xhr, request, changes) {\n        if (xhr && xhr.getResponseHeader('Content-Type') && xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        if (request && this.options.batch && DataUtil.endsWith(request.url, this.options.batch) && request.type.toLowerCase() === 'post') {\n            var guid = xhr.getResponseHeader('Content-Type');\n            var cIdx = void 0;\n            var jsonObj = void 0;\n            var d = data + '';\n            guid = guid.substring(guid.indexOf('=batchresponse') + 1);\n            d = d.split(guid);\n            if (d.length < 2) {\n                return {};\n            }\n            d = d[1];\n            var exVal = /(?:\\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(d);\n            if (exVal) {\n                d.replace(exVal[0], '');\n            }\n            var changeGuid = exVal ? exVal[1] : '';\n            d = d.split(changeGuid);\n            for (var i = d.length; i > -1; i--) {\n                if (!/\\bContent-ID:/i.test(d[i]) || !/\\bHTTP.+201/.test(d[i])) {\n                    continue;\n                }\n                cIdx = parseInt(/\\bContent-ID: (\\d+)/i.exec(d[i])[1], 10);\n                if (changes.addedRecords[cIdx]) {\n                    jsonObj = DataUtil.parse.parseJson(/^\\{.+\\}/m.exec(d[i])[0]);\n                    extend({}, changes.addedRecords[cIdx], this.processResponse(jsonObj));\n                }\n            }\n            return changes;\n        }\n        return null;\n    };\n    return ODataAdaptor;\n}(UrlAdaptor));\nexport { ODataAdaptor };\n/**\n * The OData v4 is an improved version of OData protocols.\n * The DataManager uses the ODataV4Adaptor to consume OData v4 services.\n * @hidden\n */\nvar ODataV4Adaptor = /** @class */ (function (_super) {\n    __extends(ODataV4Adaptor, _super);\n    function ODataV4Adaptor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json, text/javascript, */*; q=0.01',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$count',\n            search: '$search',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 '\n        });\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    ODataV4Adaptor.prototype.getModulename = function () {\n        return 'ODataV4Adaptor';\n    };\n    ;\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataV4Adaptor.prototype.onCount = function (e) {\n        return e === true ? 'true' : '';\n    };\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataV4Adaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var val = predicate.value;\n        var isDate = val instanceof Date;\n        returnValue = _super.prototype.onPredicate.call(this, predicate, query, requiresCast);\n        if (isDate) {\n            returnValue = returnValue.replace(/datetime'(.*)'$/, '$1');\n        }\n        return returnValue;\n    };\n    /**\n     *  Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataV4Adaptor.prototype.onEachSearch = function (e) {\n        var search = this.pvt.searches || [];\n        search.push(e.key);\n        this.pvt.searches = search;\n    };\n    /**\n     *  Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataV4Adaptor.prototype.onSearch = function (e) {\n        return this.pvt.searches.join(' OR ');\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    ODataV4Adaptor.prototype.beforeSend = function (dm, request, settings) {\n        request.setRequestHeader('Accept', this.options.accept);\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataV4Adaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = _super.prototype.processBatchResponse.call(this, data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var count = null;\n        var dataCount = '@odata.count';\n        if (query && query.isCountRequired) {\n            if (dataCount in data) {\n                count = data[dataCount];\n            }\n        }\n        data = data.value;\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: count, aggregates: args.aggregates };\n    };\n    return ODataV4Adaptor;\n}(ODataAdaptor));\nexport { ODataV4Adaptor };\n/**\n * The Web API is a programmatic interface to define the request and response messages system that is mostly exposed in JSON or XML.\n * The DataManager uses the WebApiAdaptor to consume Web API.\n * Since this adaptor is targeted to interact with Web API created using OData endpoint, it is extended from ODataAdaptor\n * @hidden\n */\nvar WebApiAdaptor = /** @class */ (function (_super) {\n    __extends(WebApiAdaptor, _super);\n    function WebApiAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.url,\n            data: JSON.stringify(data)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url + '/' + value,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'PUT',\n            url: dm.dataSource.url,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    WebApiAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        request.setRequestHeader('Accept', 'application/json, text/javascript, */*; q=0.01');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    WebApiAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var count = null;\n        var args = {};\n        if (request && request.type.toLowerCase() !== 'post') {\n            var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n            var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n            if (query && query.isCountRequired) {\n                if (!DataUtil.isNull(data.Count)) {\n                    count = data.Count;\n                }\n            }\n            if (version < 3 && data.Items) {\n                data = data.Items;\n            }\n            args.count = count;\n            args.result = data;\n            this.getAggregateResult(pvt, data, args);\n        }\n        args.result = args.result || data;\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    return WebApiAdaptor;\n}(ODataAdaptor));\nexport { WebApiAdaptor };\n/**\n * WebMethodAdaptor can be used by DataManager to interact with web method.\n * @hidden\n */\nvar WebMethodAdaptor = /** @class */ (function (_super) {\n    __extends(WebMethodAdaptor, _super);\n    function WebMethodAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare the request body based on the query.\n     * The query information can be accessed at the WebMethod using variable named `value`.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns application\n     */\n    WebMethodAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var obj = new UrlAdaptor().processQuery(dm, query, hierarchyFilters);\n        var getData = 'data';\n        var data = DataUtil.parse.parseJson(obj[getData]);\n        var result = {};\n        var value = 'value';\n        if (data.param) {\n            for (var i = 0; i < data.param.length; i++) {\n                var param = data.param[i];\n                var key = Object.keys(param)[0];\n                result[key] = param[key];\n            }\n        }\n        result[value] = data;\n        var pvtData = 'pvtData';\n        var url = 'url';\n        return {\n            data: JSON.stringify(result),\n            url: obj[url],\n            pvtData: obj[pvtData],\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8'\n        };\n    };\n    return WebMethodAdaptor;\n}(UrlAdaptor));\nexport { WebMethodAdaptor };\n/**\n * RemoteSaveAdaptor, extended from JsonAdaptor and it is used for binding local data and performs all DataManager queries in client-side.\n * It interacts with server-side only for CRUD operations.\n * @hidden\n */\nvar RemoteSaveAdaptor = /** @class */ (function (_super) {\n    __extends(RemoteSaveAdaptor, _super);\n    /**\n     * @hidden\n     */\n    function RemoteSaveAdaptor() {\n        var _this = _super.call(this) || this;\n        setValue('beforeSend', UrlAdaptor.prototype.beforeSend, _this);\n        setValue('insert', UrlAdaptor.prototype.insert, _this);\n        setValue('update', UrlAdaptor.prototype.update, _this);\n        setValue('remove', UrlAdaptor.prototype.remove, _this);\n        return _this;\n    }\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * Also perform the changes in the locally cached data to sync with the remote data.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    RemoteSaveAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var i;\n        for (i = 0; i < changes.addedRecords.length; i++) {\n            JsonAdaptor.prototype.insert(dm, changes.addedRecords[i]);\n        }\n        for (i = 0; i < changes.changedRecords.length; i++) {\n            JsonAdaptor.prototype.update(dm, e.key, changes.changedRecords[i]);\n        }\n        for (i = 0; i < changes.deletedRecords.length; i++) {\n            JsonAdaptor.prototype.remove(dm, e.key, changes.deletedRecords[i]);\n        }\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify({\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e.url,\n                key: e.key\n            })\n        };\n    };\n    return RemoteSaveAdaptor;\n}(JsonAdaptor));\nexport { RemoteSaveAdaptor };\n/**\n * Cache Adaptor is used to cache the data of the visited pages. It prevents new requests for the previously visited pages.\n * You can configure cache page size and duration of caching by using cachingPageSize and timeTillExpiration properties of the DataManager\n * @hidden\n */\nvar CacheAdaptor = /** @class */ (function (_super) {\n    __extends(CacheAdaptor, _super);\n    /**\n     * Constructor for CacheAdaptor class.\n     * @param  {CacheAdaptor} adaptor?\n     * @param  {number} timeStamp?\n     * @param  {number} pageSize?\n     * @hidden\n     */\n    function CacheAdaptor(adaptor, timeStamp, pageSize) {\n        var _this = _super.call(this) || this;\n        _this.isCrudAction = false;\n        _this.isInsertAction = false;\n        if (!isNullOrUndefined(adaptor)) {\n            _this.cacheAdaptor = adaptor;\n        }\n        _this.pageSize = pageSize;\n        _this.guidId = DataUtil.getGuid('cacheAdaptor');\n        var obj = { keys: [], results: [] };\n        window.localStorage.setItem(_this.guidId, JSON.stringify(obj));\n        var guid = _this.guidId;\n        if (!isNullOrUndefined(timeStamp)) {\n            setInterval(function () {\n                var data;\n                data = DataUtil.parse.parseJson(window.localStorage.getItem(guid));\n                var forDel = [];\n                for (var i = 0; i < data.results.length; i++) {\n                    var currentTime = +new Date();\n                    var requestTime = +new Date(data.results[i].timeStamp);\n                    data.results[i].timeStamp = currentTime - requestTime;\n                    if (currentTime - requestTime > timeStamp) {\n                        forDel.push(i);\n                    }\n                }\n                for (var i = 0; i < forDel.length; i++) {\n                    data.results.splice(forDel[i], 1);\n                    data.keys.splice(forDel[i], 1);\n                }\n                window.localStorage.removeItem(guid);\n                window.localStorage.setItem(guid, JSON.stringify(data));\n            }, timeStamp);\n        }\n        return _this;\n    }\n    /**\n     * It will generate the key based on the URL when we send a request to server.\n     * @param  {string} url\n     * @param  {Query} query?\n     * @hidden\n     */\n    CacheAdaptor.prototype.generateKey = function (url, query) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var key = url;\n        var page = 'onPage';\n        if (page in singles) {\n            key += singles[page].pageIndex;\n        }\n        queries.sorts.forEach(function (obj) {\n            key += obj.e.direction + obj.e.fieldName;\n        });\n        queries.groups.forEach(function (obj) {\n            key += obj.e.fieldName;\n        });\n        queries.searches.forEach(function (obj) {\n            key += obj.e.searchKey;\n        });\n        for (var filter = 0; filter < queries.filters.length; filter++) {\n            var currentFilter = queries.filters[filter];\n            if (currentFilter.e.isComplex) {\n                var newQuery = query.clone();\n                newQuery.queries = [];\n                for (var i = 0; i < currentFilter.e.predicates.length; i++) {\n                    newQuery.queries.push({ fn: 'onWhere', e: currentFilter.e.predicates[i], filter: query.queries.filter });\n                }\n                key += currentFilter.e.condition + this.generateKey(url, newQuery);\n            }\n            else {\n                key += currentFilter.e.field + currentFilter.e.operator + currentFilter.e.value;\n            }\n        }\n        return key;\n    };\n    /**\n     * Process the query to generate request body.\n     * If the data is already cached, it will return the cached data.\n     * @param  {DataManager} dm\n     * @param  {Query} query?\n     * @param  {Object[]} hierarchyFilters?\n     */\n    CacheAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var key = this.generateKey(dm.dataSource.url, query);\n        var cachedItems;\n        cachedItems = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var data = cachedItems ? cachedItems.results[cachedItems.keys.indexOf(key)] : null;\n        if (data != null && !this.isCrudAction && !this.isInsertAction) {\n            return data;\n        }\n        this.isCrudAction = null;\n        this.isInsertAction = null;\n        return this.cacheAdaptor.processQuery.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n    };\n    /**\n     * Returns the data from the query processing.\n     * It will also cache the data for later usage.\n     * @param  {DataResult} data\n     * @param  {DataManager} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     */\n    CacheAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        if (this.isInsertAction || (request && this.cacheAdaptor.options.batch &&\n            DataUtil.endsWith(request.url, this.cacheAdaptor.options.batch) && request.type.toLowerCase() === 'post')) {\n            return this.cacheAdaptor.processResponse(data, ds, query, xhr, request, changes);\n        }\n        data = this.cacheAdaptor.processResponse.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n        var key = query ? this.generateKey(ds.dataSource.url, query) : ds.dataSource.url;\n        var obj = {};\n        obj = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var index = obj.keys.indexOf(key);\n        if (index !== -1) {\n            obj.results.splice(index, 1);\n            obj.keys.splice(index, 1);\n        }\n        obj.results[obj.keys.push(key) - 1] = { keys: key, result: data.result, timeStamp: new Date(), count: data.count };\n        while (obj.results.length > this.pageSize) {\n            obj.results.splice(0, 1);\n            obj.keys.splice(0, 1);\n        }\n        window.localStorage.setItem(this.guidId, JSON.stringify(obj));\n        return data;\n    };\n    /**\n     * Method will trigger before send the request to server side. Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    CacheAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.cacheAdaptor.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.multipartAccept);\n        }\n        if (!dm.dataSource.crossDomain) {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.accept);\n        }\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    CacheAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.update(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.insert = function (dm, data, tableName) {\n        this.isInsertAction = true;\n        return this.cacheAdaptor.insert(dm, data, tableName);\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.remove(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    CacheAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        return this.cacheAdaptor.batchRequest(dm, changes, e);\n    };\n    return CacheAdaptor;\n}(UrlAdaptor));\nexport { CacheAdaptor };\n","import { Ajax } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query } from './query';\nimport { ODataAdaptor, JsonAdaptor, CacheAdaptor, RemoteSaveAdaptor } from './adaptors';\n/**\n * DataManager is used to manage and manipulate relational data.\n */\nvar DataManager = /** @class */ (function () {\n    /**\n     * Constructor for DataManager class\n     * @param  {DataOptions|JSON[]} dataSource?\n     * @param  {Query} query?\n     * @param  {AdaptorOptions|string} adaptor?\n     * @hidden\n     */\n    function DataManager(dataSource, query, adaptor) {\n        var _this = this;\n        /** @hidden */\n        this.dateParse = true;\n        this.requests = [];\n        if (!dataSource && !this.dataSource) {\n            dataSource = [];\n        }\n        adaptor = adaptor || dataSource.adaptor;\n        var data;\n        if (dataSource instanceof Array) {\n            data = {\n                json: dataSource,\n                offline: true\n            };\n        }\n        else if (typeof dataSource === 'object') {\n            if (!dataSource.json) {\n                dataSource.json = [];\n            }\n            data = {\n                url: dataSource.url,\n                insertUrl: dataSource.insertUrl,\n                removeUrl: dataSource.removeUrl,\n                updateUrl: dataSource.updateUrl,\n                crudUrl: dataSource.crudUrl,\n                batchUrl: dataSource.batchUrl,\n                json: dataSource.json,\n                headers: dataSource.headers,\n                accept: dataSource.accept,\n                data: dataSource.data,\n                timeTillExpiration: dataSource.timeTillExpiration,\n                cachingPageSize: dataSource.cachingPageSize,\n                enableCaching: dataSource.enableCaching,\n                requestType: dataSource.requestType,\n                key: dataSource.key,\n                crossDomain: dataSource.crossDomain,\n                jsonp: dataSource.jsonp,\n                dataType: dataSource.dataType,\n                offline: dataSource.offline !== undefined ? dataSource.offline\n                    : dataSource.adaptor instanceof RemoteSaveAdaptor ? false : dataSource.url ? false : true,\n                requiresFormat: dataSource.requiresFormat\n            };\n        }\n        else {\n            DataUtil.throwError('DataManager: Invalid arguments');\n        }\n        if (data.requiresFormat === undefined && !DataUtil.isCors()) {\n            data.requiresFormat = isNullOrUndefined(data.crossDomain) ? true : data.crossDomain;\n        }\n        if (data.dataType === undefined) {\n            data.dataType = 'json';\n        }\n        this.dataSource = data;\n        this.defaultQuery = query;\n        if (data.url && data.offline && !data.json.length) {\n            this.isDataAvailable = false;\n            this.adaptor = adaptor || new ODataAdaptor();\n            this.dataSource.offline = false;\n            this.ready = this.executeQuery(query || new Query());\n            this.ready.then(function (e) {\n                _this.dataSource.offline = true;\n                _this.isDataAvailable = true;\n                data.json = e.result;\n                _this.adaptor = new JsonAdaptor();\n            });\n        }\n        else {\n            this.adaptor = data.offline ? new JsonAdaptor() : new ODataAdaptor();\n        }\n        if (!data.jsonp && this.adaptor instanceof ODataAdaptor) {\n            data.jsonp = 'callback';\n        }\n        this.adaptor = adaptor || this.adaptor;\n        if (data.enableCaching) {\n            this.adaptor = new CacheAdaptor(this.adaptor, data.timeTillExpiration, data.cachingPageSize);\n        }\n        return this;\n    }\n    /**\n     * Overrides DataManager's default query with given query.\n     * @param  {Query} query - Defines the new default query.\n     */\n    DataManager.prototype.setDefaultQuery = function (query) {\n        this.defaultQuery = query;\n        return this;\n    };\n    /**\n     * Executes the given query with local data source.\n     * @param  {Query} query - Defines the query to retrieve data.\n     */\n    DataManager.prototype.executeLocal = function (query) {\n        if (!this.defaultQuery && !(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeLocal() : A query is required to execute');\n        }\n        if (!this.dataSource.json) {\n            DataUtil.throwError('DataManager - executeLocal() : Json data is required to execute');\n        }\n        query = query || this.defaultQuery;\n        var result = this.adaptor.processQuery(this, query);\n        if (query.subQuery) {\n            var from = query.subQuery.fromTable;\n            var lookup = query.subQuery.lookups;\n            var res = query.isCountRequired ? result.result :\n                result;\n            if (lookup && lookup instanceof Array) {\n                DataUtil.buildHierarchy(query.subQuery.fKey, from, res, lookup, query.subQuery.key);\n            }\n            for (var j = 0; j < res.length; j++) {\n                if (res[j][from] instanceof Array) {\n                    res[j] = extend({}, {}, res[j]);\n                    res[j][from] = this.adaptor.processResponse(query.subQuery.using(new DataManager(res[j][from].slice(0))).executeLocal(), this, query);\n                }\n            }\n        }\n        return this.adaptor.processResponse(result, this, query);\n    };\n    /**\n     * Executes the given query with either local or remote data source.\n     * It will be executed as asynchronously and returns Promise object which will be resolved or rejected after action completed.\n     * @param  {Query|Function} query - Defines the query to retrieve data.\n     * @param  {Function} done - Defines the callback function and triggers when the Promise is resolved.\n     * @param  {Function} fail - Defines the callback function and triggers when the Promise is rejected.\n     * @param  {Function} always - Defines the callback function and triggers when the Promise is resolved or rejected.\n     */\n    DataManager.prototype.executeQuery = function (query, done, fail, always) {\n        var _this = this;\n        if (typeof query === 'function') {\n            always = fail;\n            fail = done;\n            done = query;\n            query = null;\n        }\n        if (!query) {\n            query = this.defaultQuery;\n        }\n        if (!(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeQuery() : A query is required to execute');\n        }\n        var deffered = new Deferred();\n        var args = { query: query };\n        if (!this.dataSource.offline && this.dataSource.url !== undefined) {\n            var result = this.adaptor.processQuery(this, query);\n            this.makeRequest(result, deffered, args, query);\n        }\n        else {\n            DataManager.nextTick(function () {\n                var res = _this.executeLocal(query);\n                args = DataManager.getDeferedArgs(query, res, args);\n                deffered.resolve(args);\n            });\n        }\n        return deffered.promise;\n    };\n    DataManager.getDeferedArgs = function (query, result, args) {\n        if (query.isCountRequired) {\n            args.result = result.result;\n            args.count = result.count;\n            args.aggregates = result.aggregates;\n        }\n        else {\n            args.result = result;\n        }\n        return args;\n    };\n    DataManager.nextTick = function (fn) {\n        (window.setImmediate || window.setTimeout)(fn, 0);\n    };\n    DataManager.prototype.extendRequest = function (url, fnSuccess, fnFail) {\n        return extend({}, {\n            type: 'GET',\n            dataType: this.dataSource.dataType,\n            crossDomain: this.dataSource.crossDomain,\n            jsonp: this.dataSource.jsonp,\n            cache: true,\n            processData: false,\n            onSuccess: fnSuccess,\n            onFailure: fnFail\n        }, url);\n    };\n    DataManager.prototype.makeRequest = function (url, deffered, args, query) {\n        var _this = this;\n        var isSelector = !!query.subQuerySelector;\n        var fnFail = function (e) {\n            args.error = e;\n            deffered.reject(args);\n        };\n        var process = function (data, count, xhr, request, actual, aggregates, virtualSelectRecords) {\n            args.xhr = xhr;\n            args.count = count ? parseInt(count.toString(), 10) : 0;\n            args.result = data;\n            args.request = request;\n            args.aggregates = aggregates;\n            args.actual = actual;\n            args.virtualSelectRecords = virtualSelectRecords;\n            deffered.resolve(args);\n        };\n        var fnQueryChild = function (data, selector) {\n            var subDeffer = new Deferred();\n            var childArgs = { parent: args };\n            query.subQuery.isChild = true;\n            var subUrl = _this.adaptor.processQuery(_this, query.subQuery, data ? _this.adaptor.processResponse(data) : selector);\n            var childReq = _this.makeRequest(subUrl, subDeffer, childArgs, query.subQuery);\n            if (!isSelector) {\n                subDeffer.then(function (subData) {\n                    if (data) {\n                        DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, data, subData, query.subQuery.key);\n                        process(data, subData.count, subData.xhr);\n                    }\n                }, fnFail);\n            }\n            return childReq;\n        };\n        var fnSuccess = function (data, request) {\n            if (request.httpRequest.getResponseHeader('Content-Type').indexOf('xml') === -1 && _this.dateParse) {\n                data = DataUtil.parse.parseJson(data);\n            }\n            var result = _this.adaptor.processResponse(data, _this, query, request.httpRequest, request);\n            var count = 0;\n            var aggregates = null;\n            var virtualSelectRecords = 'virtualSelectRecords';\n            var virtualRecords = data[virtualSelectRecords];\n            if (query.isCountRequired) {\n                count = result.count;\n                aggregates = result.aggregates;\n                result = result.result;\n            }\n            if (!query.subQuery) {\n                process(result, count, request.httpRequest, request.type, data, aggregates, virtualRecords);\n                return;\n            }\n            if (!isSelector) {\n                fnQueryChild(result, request);\n            }\n        };\n        var req = this.extendRequest(url, fnSuccess, fnFail);\n        var ajax = new Ajax(req);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        req = ajax.send();\n        req.catch(function (e) { return true; }); // to handle failure remote requests.        \n        this.requests.push(ajax);\n        if (isSelector) {\n            var promise = void 0;\n            var res = query.subQuerySelector.call(this, { query: query.subQuery, parent: query });\n            if (res && res.length) {\n                promise = Promise.all([req, fnQueryChild(null, res)]);\n                promise.then(function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var result = args[0];\n                    var pResult = _this.adaptor.processResponse(result[0], _this, query, _this.requests[0].httpRequest, _this.requests[0]);\n                    var count = 0;\n                    if (query.isCountRequired) {\n                        count = pResult.count;\n                        pResult = pResult.result;\n                    }\n                    var cResult = _this.adaptor.processResponse(result[1], _this, query.subQuery, _this.requests[1].httpRequest, _this.requests[1]);\n                    count = 0;\n                    if (query.subQuery.isCountRequired) {\n                        count = cResult.count;\n                        cResult = cResult.result;\n                    }\n                    DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, pResult, cResult, query.subQuery.key);\n                    isSelector = false;\n                    process(pResult, count, _this.requests[0].httpRequest);\n                });\n            }\n            else {\n                isSelector = false;\n            }\n        }\n        return req;\n    };\n    DataManager.prototype.beforeSend = function (request, settings) {\n        this.adaptor.beforeSend(this, request, settings);\n        var headers = this.dataSource.headers;\n        var props;\n        for (var i = 0; headers && i < headers.length; i++) {\n            props = [];\n            var keys = Object.keys(headers[i]);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var prop = keys_1[_i];\n                props.push(prop);\n                request.setRequestHeader(prop, headers[i][prop]);\n            }\n        }\n    };\n    /**\n     * Save bulk changes to the given table name.\n     * User can add a new record, edit an existing record, and delete a record at the same time.\n     * If the datasource from remote, then updated in a single post.\n     * @param  {Object} changes - Defines the CrudOptions.\n     * @param  {string} key - Defines the column field.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.saveChanges = function (changes, key, tableName, query) {\n        var _this = this;\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var args = {\n            url: tableName,\n            key: key || this.dataSource.key\n        };\n        var req = this.adaptor.batchRequest(this, changes, args, query);\n        if (this.dataSource.offline) {\n            return req;\n        }\n        var deff = new Deferred();\n        var ajax = new Ajax(req);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        ajax.onSuccess = function (data, request) {\n            deff.resolve(_this, [_this.adaptor.processResponse(data, _this, null, request.httpRequest, request, changes)]);\n        };\n        ajax.onFailure = function (e) {\n            deff.reject([{ error: e }]);\n        };\n        ajax.send().catch(function (e) { return true; }); // to handle the failure requests.        \n        return deff.promise;\n    };\n    /**\n     * Inserts new record in the given table.\n     * @param  {Object} data - Defines the data to insert.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.insert = function (data, tableName, query, position) {\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var req = this.adaptor.insert(this, data, tableName, query, position);\n        if (this.dataSource.offline) {\n            return req;\n        }\n        return this.doAjaxRequest(req);\n    };\n    /**\n     * Removes data from the table with the given key.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.remove = function (keyField, value, tableName, query) {\n        if (typeof value === 'object') {\n            value = value[keyField];\n        }\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.remove(this, keyField, value, tableName, query);\n        if (this.dataSource.offline) {\n            return res;\n        }\n        return this.doAjaxRequest(res);\n    };\n    /**\n     * Updates existing record in the given table.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.update = function (keyField, value, tableName, query) {\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.update(this, keyField, value, tableName, query);\n        if (this.dataSource.offline) {\n            return res;\n        }\n        return this.doAjaxRequest(res);\n    };\n    DataManager.prototype.doAjaxRequest = function (res) {\n        var _this = this;\n        var defer = new Deferred();\n        res = extend({}, {\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8',\n            processData: false\n        }, res);\n        var ajax = new Ajax(res);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        ajax.onSuccess = function (record, request) {\n            try {\n                DataUtil.parse.parseJson(record);\n            }\n            catch (e) {\n                record = [];\n            }\n            record = _this.adaptor.processResponse(DataUtil.parse.parseJson(record), _this, null, request.httpRequest, request);\n            defer.resolve(_this, [{ record: record, dataManager: _this }]);\n        };\n        ajax.onFailure = function (e) {\n            defer.reject([{ error: e }]);\n        };\n        ajax.send().catch(function (e) { return true; }); // to handle the failure requests.\n        return defer.promise;\n    };\n    return DataManager;\n}());\nexport { DataManager };\n/**\n * Deferred is used to handle asynchronous operation.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        /**\n         * Promise is an object that represents a value that may not be available yet, but will be resolved at some point in the future.\n         */\n        this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        /**\n         * Defines the callback function triggers when the Deferred object is resolved.\n         */\n        this.then = this.promise.then.bind(this.promise);\n        /**\n         * Defines the callback function triggers when the Deferred object is rejected.\n         */\n        this.catch = this.promise.catch.bind(this.promise);\n    }\n    return Deferred;\n}());\nexport { Deferred };\n","import { DataUtil } from '@syncfusion/ej2-data';\nimport { subtractThickness, valueToCoefficient, sum, subArray, TextOption, inside, measureText } from '../../common/utils/helper';\nimport { Size, Rect, Thickness, PathOption, logBase, createZoomingLabels, getElement, rotateTextSize } from '../../common/utils/helper';\nimport { textElement, textTrim } from '../../common/utils/helper';\n/**\n * Specifies the Cartesian Axis Layout.\n */\nvar axisPadding = 10;\nvar CartesianAxisLayoutPanel = /** @class */ (function () {\n    /** @private */\n    function CartesianAxisLayoutPanel(chartModule) {\n        this.chart = chartModule;\n        this.padding = 5;\n    }\n    /**\n     * Measure the axis size.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.measureAxis = function (rect) {\n        var chart = this.chart;\n        this.crossAt(chart);\n        this.seriesClipRect = new Rect(rect.x, rect.y, rect.width, rect.height);\n        this.initialClipRect = rect;\n        this.leftSize = 0;\n        this.rightSize = 0;\n        this.topSize = 0;\n        this.bottomSize = 0;\n        //Measure Axis size with initial Rect\n        this.measureRowAxis(chart, this.initialClipRect);\n        this.initialClipRect = subtractThickness(this.initialClipRect, new Thickness(this.leftSize, this.rightSize, 0, 0));\n        this.measureColumnAxis(chart, this.initialClipRect);\n        this.initialClipRect = subtractThickness(this.initialClipRect, new Thickness(0, 0, this.topSize, this.bottomSize));\n        if (!this.chart.delayRedraw) {\n            this.calculateAxisSize(this.initialClipRect);\n        }\n        this.leftSize = 0;\n        this.rightSize = 0;\n        this.topSize = 0;\n        this.bottomSize = 0;\n        //Measure Axis size with series Rect\n        this.measureRowAxis(chart, this.initialClipRect);\n        this.seriesClipRect = subtractThickness(this.seriesClipRect, new Thickness(this.leftSize, this.rightSize, 0, 0));\n        this.measureColumnAxis(chart, this.initialClipRect);\n        this.seriesClipRect = subtractThickness(this.seriesClipRect, new Thickness(0, 0, this.topSize, this.bottomSize));\n        if (!this.chart.delayRedraw) {\n            chart.refreshAxis();\n            this.calculateAxisSize(this.seriesClipRect);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.measureRowAxis = function (chart, rect) {\n        var row;\n        this.calculateRowSize(rect);\n        for (var _i = 0, _a = chart.rows; _i < _a.length; _i++) {\n            var item = _a[_i];\n            row = item;\n            row.nearSizes = [];\n            row.farSizes = [];\n            this.arrangeAxis(row);\n            this.measureDefinition(row, chart, new Size(chart.availableSize.width, row.computedHeight), rect);\n            if (this.leftSize < sum(row.nearSizes)) {\n                this.leftSize = sum(row.nearSizes);\n            }\n            if (this.rightSize < sum(row.farSizes)) {\n                this.rightSize = sum(row.farSizes);\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.measureColumnAxis = function (chart, rect) {\n        var column;\n        this.calculateColumnSize(rect);\n        for (var _i = 0, _a = chart.columns; _i < _a.length; _i++) {\n            var item = _a[_i];\n            column = item;\n            column.farSizes = [];\n            column.nearSizes = [];\n            this.arrangeAxis(column);\n            this.measureDefinition(column, chart, new Size(column.computedWidth, chart.availableSize.height), rect);\n            if (this.bottomSize < sum(column.nearSizes)) {\n                this.bottomSize = sum(column.nearSizes);\n            }\n            if (this.topSize < sum(column.farSizes)) {\n                this.topSize = sum(column.farSizes);\n            }\n        }\n    };\n    /**\n     * Measure the column and row in chart.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.measureDefinition = function (definition, chart, size, clipRect) {\n        var axis;\n        var axisType;\n        for (var _i = 0, _a = definition.axes; _i < _a.length; _i++) {\n            var axis_1 = _a[_i];\n            axis_1.getModule(chart);\n            axis_1.baseModule.calculateRangeAndInterval(size, axis_1);\n            definition.computeSize(axis_1, clipRect);\n        }\n        if (definition.farSizes.length > 0) {\n            definition.farSizes[definition.farSizes.length - 1] -= axisPadding;\n        }\n        if (definition.nearSizes.length > 0) {\n            definition.nearSizes[definition.nearSizes.length - 1] -= axisPadding;\n        }\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.calculateAxisSize = function (rect) {\n        var chart = this.chart;\n        var row;\n        var column;\n        var definition;\n        var axis;\n        var nearCount = 0;\n        var farCount = 0;\n        var size = 0;\n        var x;\n        var y;\n        this.calculateRowSize(rect);\n        for (var i = 0, len = chart.rows.length; i < len; i++) {\n            row = chart.rows[i];\n            nearCount = 0;\n            farCount = 0;\n            for (var j = 0, len_1 = row.axes.length; j < len_1; j++) {\n                axis = row.axes[j];\n                if (axis.rect.height === 0) {\n                    axis.rect.height = row.computedHeight;\n                    size = 0;\n                    for (var k = i + 1, len_2 = i + axis.span; k < len_2; k++) {\n                        definition = chart.rows[k];\n                        size += definition.computedHeight;\n                    }\n                    axis.rect.y = (row.computedTop - size) + axis.plotOffset;\n                    axis.rect.height = (axis.rect.height + size) - (2 * axis.plotOffset);\n                    axis.rect.width = 0;\n                }\n                if (axis.opposedPosition) {\n                    x = rect.x + rect.width + sum(subArray(row.farSizes, farCount));\n                    axis.rect.x = axis.rect.x >= x ? axis.rect.x : x;\n                    farCount++;\n                }\n                else {\n                    x = rect.x - sum(subArray(row.nearSizes, nearCount));\n                    axis.rect.x = axis.rect.x <= x ? axis.rect.x : x;\n                    nearCount++;\n                }\n            }\n        }\n        this.calculateColumnSize(rect);\n        for (var i = 0, len = chart.columns.length; i < len; i++) {\n            column = chart.columns[i];\n            nearCount = 0;\n            farCount = 0;\n            for (var j = 0, len_3 = column.axes.length; j < len_3; j++) {\n                axis = column.axes[j];\n                if (axis.rect.width === 0) {\n                    for (var k = i, len_4 = (i + axis.span); k < len_4; k++) {\n                        definition = chart.columns[k];\n                        axis.rect.width += definition.computedWidth;\n                    }\n                    axis.rect.x = column.computedLeft + axis.plotOffset;\n                    axis.rect.width -= (2 * axis.plotOffset);\n                    axis.rect.height = 0;\n                }\n                if (axis.opposedPosition) {\n                    y = rect.y - sum(subArray(column.farSizes, farCount));\n                    axis.rect.y = axis.rect.y <= y ? axis.rect.y : y;\n                    farCount++;\n                }\n                else {\n                    y = rect.y + rect.height + sum(subArray(column.nearSizes, nearCount));\n                    axis.rect.y = axis.rect.y >= y ? axis.rect.y : y;\n                    nearCount++;\n                }\n            }\n        }\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.measure = function () {\n        var chart = this.chart;\n        var row;\n        var column;\n        var definition;\n        var axis;\n        var actualIndex;\n        var span;\n        var axisLength;\n        for (var _i = 0, _a = chart.axisCollections; _i < _a.length; _i++) {\n            var axis_2 = _a[_i];\n            //definition.Axes = axis;\n            if (axis_2.orientation === 'Vertical') {\n                chart.verticalAxes.push(axis_2);\n                actualIndex = this.getActualRow(axis_2);\n                row = chart.rows[actualIndex];\n                this.pushAxis(row, axis_2);\n                span = ((actualIndex + axis_2.span) > chart.rows.length ? chart.rows.length : (actualIndex + axis_2.span));\n                for (var j = actualIndex + 1; j < span; j++) {\n                    definition = chart.rows[j];\n                    definition.axes[row.axes.length - 1] = axis_2;\n                    chart.rows[j] = definition;\n                }\n                chart.rows[actualIndex] = row;\n            }\n            else {\n                chart.horizontalAxes.push(axis_2);\n                actualIndex = this.getActualColumn(axis_2);\n                column = chart.columns[actualIndex];\n                this.pushAxis(column, axis_2);\n                span = ((actualIndex + axis_2.span) > chart.columns.length ? chart.columns.length : (actualIndex + axis_2.span));\n                for (var j = actualIndex + 1; j < span; j++) {\n                    definition = chart.columns[j];\n                    definition.axes[column.axes.length - 1] = axis_2;\n                    chart.columns[j] = definition;\n                }\n                chart.columns[actualIndex] = column;\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.crossAt = function (chart) {\n        for (var _i = 0, _a = chart.axisCollections; _i < _a.length; _i++) {\n            var axis = _a[_i];\n            if (axis.crossesAt === null) {\n                continue;\n            }\n            var isTransposed = chart.isTransposed;\n            if (!axis.crossesInAxis) {\n                if (chart.requireInvertedAxis) {\n                    axis.crossInAxis = ((axis.orientation === 'Horizontal')) ? chart.primaryXAxis : chart.primaryYAxis;\n                }\n                else {\n                    axis.crossInAxis = ((axis.orientation === 'Horizontal')) ? chart.primaryYAxis : chart.primaryXAxis;\n                }\n                axis.crossAt = this.updateCrossAt(axis.crossInAxis, axis.crossesAt);\n                continue;\n            }\n            else {\n                for (var i = 2, len = chart.axisCollections.length; i < len; i++) {\n                    if (axis.crossesInAxis === chart.axisCollections[i].name) {\n                        axis.crossInAxis = chart.axisCollections[i];\n                        axis.crossAt = this.updateCrossAt(axis.crossInAxis, axis.crossesAt);\n                        continue;\n                    }\n                }\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.updateCrossAt = function (axis, crossAt) {\n        switch (axis.valueType) {\n            case 'DateTime':\n                var option = {\n                    skeleton: 'full',\n                    type: 'dateTime'\n                };\n                var dateParser = this.chart.intl.getDateParser(option);\n                var dateFormatter = this.chart.intl.getDateFormat(option);\n                return Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: crossAt }).val))));\n            case 'Category':\n                return parseFloat(crossAt) ? parseFloat(crossAt) : axis.labels.indexOf(crossAt);\n            case 'Logarithmic':\n                return logBase(crossAt, axis.logBase);\n            default:\n                return crossAt;\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.pushAxis = function (definition, axis) {\n        for (var i = 0, len = definition.axes.length; i <= len; i++) {\n            if (!definition.axes[i]) {\n                definition.axes[i] = axis;\n                break;\n            }\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.arrangeAxis = function (definition) {\n        var axisCollection = [];\n        for (var i = 0, len = definition.axes.length; i <= len; i++) {\n            if (definition.axes[i]) {\n                axisCollection.push(definition.axes[i]);\n            }\n        }\n        definition.axes = axisCollection;\n    };\n    CartesianAxisLayoutPanel.prototype.getActualColumn = function (axis) {\n        var actualLength = this.chart.columns.length;\n        var pos = axis.columnIndex;\n        var result = pos >= actualLength ? actualLength - 1 : (pos < 0 ? 0 : pos);\n        return result;\n    };\n    CartesianAxisLayoutPanel.prototype.getActualRow = function (axis) {\n        var actualLength = this.chart.rows.length;\n        var pos = axis.rowIndex;\n        var result = pos >= actualLength ? actualLength - 1 : (pos < 0 ? 0 : pos);\n        return result;\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    CartesianAxisLayoutPanel.prototype.calculateRowSize = function (rect) {\n        /*! Calculate row size */\n        var chart = this.chart;\n        var row;\n        var rowTop = rect.y + rect.height;\n        var height = 0;\n        var remainingHeight = Math.max(0, rect.height);\n        for (var i = 0, len = chart.rows.length; i < len; i++) {\n            row = chart.rows[i];\n            if (row.height.indexOf('%') !== -1) {\n                height = Math.min(remainingHeight, (rect.height * parseInt(row.height, 10) / 100));\n            }\n            else {\n                height = Math.min(remainingHeight, parseInt(row.height, 10));\n            }\n            height = (i !== (len - 1)) ? height : remainingHeight;\n            row.computedHeight = height;\n            rowTop -= height;\n            row.computedTop = rowTop;\n            remainingHeight -= height;\n        }\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    CartesianAxisLayoutPanel.prototype.calculateColumnSize = function (rect) {\n        /*! Calculate column size */\n        var chart = this.chart;\n        var column;\n        var columnLeft = rect.x;\n        var width = 0;\n        var remainingWidth = Math.max(0, rect.width);\n        for (var i = 0, len = chart.columns.length; i < len; i++) {\n            column = chart.columns[i];\n            if (column.width.indexOf('%') !== -1) {\n                width = Math.min(remainingWidth, (rect.width * parseInt(column.width, 10) / 100));\n            }\n            else {\n                width = Math.min(remainingWidth, parseInt(column.width, 10));\n            }\n            width = (i !== (len - 1)) ? width : remainingWidth;\n            column.computedWidth = width;\n            column.computedLeft = columnLeft;\n            columnLeft += width;\n            remainingWidth -= width;\n        }\n    };\n    /**\n     * To render the axis element.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.renderAxes = function () {\n        var chart = this.chart;\n        var axis;\n        var axisElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisInsideCollection' });\n        var axisLineElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisOutsideCollection' });\n        var outsideElement;\n        var isInside;\n        for (var i = 0, len = chart.axisCollections.length; i < len; i++) {\n            axis = chart.axisCollections[i];\n            this.element = chart.renderer.createGroup({ id: chart.element.id + 'AxisGroup' + i + 'Inside' });\n            outsideElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisGroup' + i + 'Outside' });\n            isInside = this.findAxisPosition(axis);\n            if (axis.orientation === 'Horizontal') {\n                axis.updateCrossValue(chart);\n                if (axis.visible && axis.lineStyle.width > 0) {\n                    this.drawAxisLine(axis, i, axis.plotOffset, 0, isInside ? outsideElement : this.element, axis.updatedRect);\n                }\n                if (axis.majorGridLines.width > 0 || axis.majorTickLines.width > 0) {\n                    this.drawXAxisGridLine(axis, i, (isInside || axis.tickPosition === 'Inside') ? outsideElement : this.element, axis.updatedRect);\n                }\n                if (axis.visible) {\n                    this.drawXAxisLabels(axis, i, (isInside || axis.labelPosition === 'Inside') ? outsideElement : this.element, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n                    this.drawXAxisBorder(axis, i, (isInside || axis.labelPosition === 'Inside') ? outsideElement : this.element, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n                    this.drawXAxisTitle(axis, i, isInside ? outsideElement : this.element, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n                }\n            }\n            else {\n                axis.updateCrossValue(chart);\n                if (axis.visible && axis.lineStyle.width > 0) {\n                    this.drawAxisLine(axis, i, 0, axis.plotOffset, isInside ? outsideElement : this.element, axis.updatedRect);\n                }\n                if (axis.majorGridLines.width > 0 || axis.majorTickLines.width > 0) {\n                    this.drawYAxisGridLine(axis, i, (isInside || axis.tickPosition === 'Inside') ? outsideElement : this.element, axis.updatedRect);\n                }\n                if (axis.visible) {\n                    this.drawYAxisLabels(axis, i, (isInside || axis.labelPosition === 'Inside') ? outsideElement : this.element, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n                    this.drawYAxisBorder(axis, i, (isInside || axis.labelPosition === 'Inside') ? outsideElement : this.element, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n                    this.drawYAxisTitle(axis, i, isInside ? outsideElement : this.element, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n                }\n            }\n            axisElement.appendChild(this.element);\n            if (outsideElement && outsideElement.childNodes.length > 0) {\n                axisLineElement.appendChild(outsideElement);\n            }\n        }\n        this.element = chart.renderer.createGroup({ id: chart.element.id + 'DefinitionLine' });\n        for (var j = 0, len = chart.rows.length; j < len; j++) {\n            var row = chart.rows[j];\n            if (row.border.color) {\n                this.drawBottomLine(row, j, true);\n            }\n        }\n        for (var j = 0, len = chart.columns.length; j < len; j++) {\n            var column = chart.columns[j];\n            if (column.border.color) {\n                this.drawBottomLine(column, j, false);\n            }\n        }\n        axisElement.appendChild(this.element);\n        chart.svgObject.appendChild(axisElement);\n        return axisLineElement;\n    };\n    CartesianAxisLayoutPanel.prototype.findAxisPosition = function (axis) {\n        return axis.crossAt !== null && axis.isInside(axis.crossInAxis.visibleRange);\n    };\n    CartesianAxisLayoutPanel.prototype.drawBottomLine = function (definition, index, isRow) {\n        var chart = this.chart;\n        var optionsLine = {};\n        var x1;\n        var x2;\n        var y1;\n        var y2;\n        var definitionName;\n        if (isRow) {\n            definition = definition;\n            y1 = y2 = definition.computedTop + definition.computedHeight;\n            x1 = this.seriesClipRect.x;\n            x2 = x1 + this.seriesClipRect.width;\n            definitionName = 'Row';\n        }\n        else {\n            definition = definition;\n            x1 = x2 = definition.computedLeft;\n            y1 = this.seriesClipRect.y;\n            y2 = y1 + this.seriesClipRect.height;\n            definitionName = 'Column';\n        }\n        optionsLine = {\n            'id': chart.element.id + '_AxisBottom_' + definitionName + index,\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            'stroke-width': definition.border.width,\n            'stroke': definition.border.color,\n        };\n        this.htmlObject = chart.renderer.drawLine(optionsLine);\n        this.element.appendChild(this.htmlObject);\n    };\n    CartesianAxisLayoutPanel.prototype.drawAxisLine = function (axis, index, plotX, plotY, parent, rect) {\n        var chart = this.chart;\n        var optionsLine = {};\n        optionsLine = {\n            'id': chart.element.id + 'AxisLine_' + index,\n            x1: rect.x - plotX,\n            y1: rect.y - plotY,\n            x2: rect.x + rect.width + plotX,\n            y2: rect.y + rect.height + plotY,\n            'stroke-dasharray': axis.lineStyle.dashArray,\n            'stroke-width': axis.lineStyle.width,\n            'stroke': axis.lineStyle.color || chart.themeStyle.axisLine\n        };\n        this.htmlObject = chart.renderer.drawLine(optionsLine);\n        parent.appendChild(this.htmlObject);\n    };\n    CartesianAxisLayoutPanel.prototype.drawYAxisGridLine = function (axis, index, parent, rect) {\n        var chart = this.chart;\n        var tempInterval;\n        var pointY = 0;\n        var majorGrid = '';\n        var majorTick = '';\n        var minorGird = '';\n        var minorTick = '';\n        var minorDirection;\n        var tickSize = axis.opposedPosition ? axis.majorTickLines.height : -axis.majorTickLines.height;\n        var axisLineSize = (axis.opposedPosition) ? axis.lineStyle.width / 2 : -axis.lineStyle.width / 2;\n        var ticksbwtLabel = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') ?\n            0.5 : 0;\n        var ticks = axis.tickPosition === 'Inside' ? (rect.x - tickSize - axisLineSize) : (rect.x + tickSize + axisLineSize);\n        var length = axis.visibleLabels.length;\n        if (axis.valueType.indexOf('Category') && axis.labelPlacement === 'BetweenTicks' && length > 0) {\n            length += 1;\n        }\n        //Gridlines\n        for (var i = 0; i < length; i++) {\n            tempInterval = !axis.visibleLabels[i] ? (axis.visibleLabels[i - 1].value + axis.visibleRange.interval) - ticksbwtLabel\n                : axis.visibleLabels[i].value - ticksbwtLabel;\n            pointY = valueToCoefficient(tempInterval, axis) * rect.height;\n            pointY = (pointY * -1) + (rect.y + rect.height);\n            if (pointY >= rect.y && (rect.y + rect.height) >= pointY) {\n                if ((inside(tempInterval, axis.visibleRange)) || this.isBorder(axis, i, pointY)) {\n                    majorGrid = majorGrid.concat('M ' + this.seriesClipRect.x + ' ' + (pointY) +\n                        ' L ' + (this.seriesClipRect.x + this.seriesClipRect.width) + ' ' + pointY + ' ');\n                }\n                majorTick = majorTick.concat('M ' + (rect.x + axisLineSize) + ' ' + pointY +\n                    ' L ' + (ticks) + ' ' + pointY + ' ');\n            }\n            if ((axis.minorGridLines.width > 0 || axis.minorTickLines.width > 0) && axis.minorTicksPerInterval > 0) {\n                minorDirection = this.drawAxisMinorLine(axis, tempInterval, minorGird, minorTick, rect, i);\n                minorGird = minorDirection[0];\n                minorTick = minorDirection[1];\n            }\n        }\n        this.renderGridLine(axis, index, majorGrid, minorGird);\n        this.renderTickLine(axis, index, majorTick, minorTick, parent);\n    };\n    CartesianAxisLayoutPanel.prototype.isBorder = function (axis, index, value) {\n        var chart = this.chart;\n        var border = chart.chartArea.border;\n        var rect = this.seriesClipRect;\n        var orientation = axis.orientation;\n        var start = (orientation === 'Horizontal') ? rect.x : rect.y;\n        var size = (orientation === 'Horizontal') ? rect.width : rect.height;\n        var startIndex = (orientation === 'Horizontal') ? 0 : axis.visibleLabels.length - 1;\n        var endIndex = (orientation === 'Horizontal') ? axis.visibleLabels.length - 1 : 0;\n        if (axis.plotOffset > 0) {\n            return true;\n        }\n        else if ((value === start || value === (start + size)) && (border.width <= 0 || border.color === 'transparent')) {\n            return true;\n        }\n        else if ((value !== start && index === startIndex) || (value !== (start + size) && index === endIndex)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To render the axis label.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.drawYAxisLabels = function (axis, index, parent, rect) {\n        var chart = this.chart;\n        var pointX = 0;\n        var pointY = 0;\n        var elementSize;\n        var options;\n        var isLabelInside = axis.labelPosition === 'Inside';\n        var isTickInside = axis.tickPosition === 'Inside';\n        var isOpposed = axis.opposedPosition;\n        var tickSpace = axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0;\n        var padding = tickSpace + this.padding + axis.lineStyle.width / 2;\n        padding = (axis.opposedPosition) ? padding : -padding;\n        var anchor = ((isOpposed && isLabelInside) || (!isOpposed && !isLabelInside)) ? 'end' : 'start';\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            pointX = isLabelInside ? (rect.x - padding) : (rect.x + padding);\n            elementSize = axis.visibleLabels[i].size;\n            pointY = valueToCoefficient(axis.visibleLabels[i].value, axis) * rect.height;\n            pointY = Math.floor((pointY * -1) + (rect.y + rect.height));\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY + (elementSize.height / 4), anchor, axis.visibleLabels[i].text);\n            if (axis.edgeLabelPlacement) {\n                switch (axis.edgeLabelPlacement) {\n                    case 'None':\n                        break;\n                    case 'Hide':\n                        if (((i === 0 || (axis.isInversed && i === len - 1)) && options.y > rect.y + rect.height) ||\n                            (((i === len - 1) || (axis.isInversed && i === 0)) && options.y - elementSize.height / 2 < rect.y)) {\n                            options.text = '';\n                        }\n                        break;\n                    case 'Shift':\n                        if ((i === 0 || (axis.isInversed && i === len - 1)) && options.y > rect.y + rect.height) {\n                            options.y = pointY = rect.y + rect.height;\n                        }\n                        else if (((i === len - 1) || (axis.isInversed && i === 0)) && (options.y - elementSize.height / 2 < rect.y)) {\n                            options.y = pointY = rect.y + elementSize.height / 2;\n                        }\n                        break;\n                }\n            }\n            textElement(options, axis.labelStyle, axis.labelStyle.color || chart.themeStyle.axisLabel, labelElement);\n        }\n        if (!chart.delayRedraw) {\n            parent.appendChild(labelElement);\n        }\n        else if (axis.visible) {\n            this.createZoomingLabel(this.chart, labelElement, axis, index, rect);\n        }\n    };\n    /**\n     * To render the axis label border.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.drawYAxisBorder = function (axis, index, parent, rect) {\n        if (axis.border.width > 0) {\n            var startY = void 0;\n            var pointY = void 0;\n            var gap = (rect.height / axis.visibleRange.delta) * (axis.valueType === 'DateTime' ? axis.dateTimeInterval\n                : axis.visibleRange.interval);\n            var endY = void 0;\n            var length_1 = axis.maxLabelSize.width + 10 + ((axis.tickPosition === axis.labelPosition) ?\n                axis.majorTickLines.height : 0);\n            var labelBorder = '';\n            var ticksbwtLabel = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') ? -0.5 : 0;\n            var endX = ((axis.opposedPosition && axis.labelPosition === 'Inside') ||\n                (!axis.opposedPosition && axis.labelPosition === 'Outside')) ? rect.x - length_1 : rect.x + length_1;\n            for (var i = 0; i < axis.visibleLabels.length; i++) {\n                pointY = valueToCoefficient(axis.visibleLabels[i].value + ticksbwtLabel, axis);\n                pointY = (axis.isInversed ? (1 - pointY) : pointY) * rect.height;\n                if (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') {\n                    startY = Math.floor((pointY * -1) + (rect.y + rect.height));\n                    endY = Math.floor((pointY * -1) - (gap) + (rect.y + rect.height));\n                }\n                else {\n                    startY = Math.floor((pointY * -1) + gap / 2 + (rect.y + rect.height));\n                    endY = Math.floor((pointY * -1) - gap / 2 + (rect.y + rect.height));\n                }\n                switch (axis.border.type) {\n                    case 'Rectangle':\n                    case 'WithoutTopBorder':\n                        if (startY > (rect.y + rect.height)) {\n                            labelBorder += ('M' + ' ' + endX + ' ' + (rect.y + rect.height) + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ');\n                        }\n                        else if (Math.floor(rect.y) > (endY)) {\n                            labelBorder += ('M' + ' ' + rect.x + ' ' + startY + ' ' + 'L' + ' ' + endX\n                                + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + (rect.y) + ' ');\n                        }\n                        else {\n                            labelBorder += ('M' + ' ' + rect.x + ' ' + startY + ' ' + 'L' + ' ' + endX +\n                                ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ');\n                            if (i === axis.visibleLabels.length - 1) {\n                                labelBorder += ('M' + ' ' + rect.x + ' ' + endY + ' ' + 'L' + ' ' +\n                                    endX + ' ' + endY + ' ');\n                            }\n                        }\n                        break;\n                    case 'WithoutTopandBottomBorder':\n                        if (!(startY > rect.y + rect.height) && !((endY) < Math.floor(rect.y))) {\n                            labelBorder += ('M' + ' ' + rect.x + ' ' + startY + ' ' + 'L' + ' ' + endX +\n                                ' ' + startY + ' ' + 'M' + ' ' + endX + ' ' + endY + ' ' +\n                                'L' + ' ' + rect.x + ' ' + endY);\n                        }\n                        break;\n                }\n            }\n            labelBorder += (axis.border.type === 'Rectangle') ? ('M' + ' ' + rect.x + ' ' + rect.y + ' ' + 'L' + ' ' +\n                rect.x + ' ' + (rect.y + rect.height) + ' ') : '';\n            if (labelBorder !== '') {\n                this.createAxisBorderElement(axis, index, labelBorder, parent);\n            }\n        }\n        if (axis.multiLevelLabels.length > 0 && this.chart.multiLevelLabelModule) {\n            this.chart.multiLevelLabelModule.renderYAxisMultiLevelLabels(axis, index, parent, rect);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.drawYAxisTitle = function (axis, index, parent, rect) {\n        var chart = this.chart;\n        var labelRotation = (axis.opposedPosition) ? 90 : -90;\n        var elementSize = measureText(axis.title, axis.titleStyle);\n        var padding = (axis.tickPosition === 'Inside' ? 0 : axis.majorTickLines.height + this.padding) +\n            (axis.labelPosition === 'Inside' ? 0 :\n                (axis.maxLabelSize.width + axis.multiLevelLabelHeight + this.padding));\n        padding = axis.opposedPosition ? padding : -padding;\n        var x = rect.x + padding;\n        var y = rect.y + rect.height / 2;\n        var options = new TextOption(chart.element.id + '_AxisTitle_' + index, x, y - this.padding, 'middle', axis.title, 'rotate(' + labelRotation + ',' + (x) + ',' + (y) + ')');\n        var element = textElement(options, axis.titleStyle, axis.titleStyle.color || chart.themeStyle.axisTitle, parent);\n        element.setAttribute('aria-label', axis.description || axis.title);\n        element.setAttribute('tabindex', axis.tabIndex.toString());\n    };\n    CartesianAxisLayoutPanel.prototype.drawXAxisGridLine = function (axis, index, parent, rect) {\n        var chart = this.chart;\n        var tempInterval;\n        var pointX = 0;\n        var majorGrid = '';\n        var majorTick = '';\n        var minorGird = '';\n        var minorTick = '';\n        var minorDirection;\n        var tickSize = (axis.opposedPosition) ? -axis.majorTickLines.height : axis.majorTickLines.height;\n        var axisLineSize = (axis.opposedPosition) ? -axis.lineStyle.width / 2 : axis.lineStyle.width / 2;\n        var ticksbwtLabel = (axis.valueType.indexOf('Category') > -1 && axis.labelPlacement === 'BetweenTicks') ?\n            0.5 : 0;\n        var length = axis.visibleLabels.length;\n        var ticks = axis.tickPosition === 'Inside' ? (rect.y - tickSize - axisLineSize) : (rect.y + tickSize + axisLineSize);\n        if (axis.valueType.indexOf('Category') > -1 && length > 0 && axis.labelPlacement === 'BetweenTicks') {\n            length += 1;\n        }\n        //Gridlines\n        for (var i = 0; i < length; i++) {\n            if (axis.valueType !== 'DateTimeCategory') {\n                tempInterval = axis.visibleLabels[i] ? axis.visibleLabels[i].value - ticksbwtLabel\n                    : (axis.visibleLabels[i - 1].value + axis.visibleRange.interval) - ticksbwtLabel;\n            }\n            else {\n                tempInterval = axis.visibleLabels[i] ?\n                    axis.visibleLabels[i].value - ticksbwtLabel : axis.visibleRange.max;\n            }\n            pointX = (valueToCoefficient(tempInterval, axis) * rect.width) + rect.x;\n            if (pointX >= rect.x && (rect.x + rect.width) >= pointX) {\n                if (inside(tempInterval, axis.visibleRange) || this.isBorder(axis, i, pointX)) {\n                    majorGrid = majorGrid.concat('M ' + pointX + ' ' + (this.seriesClipRect.y + this.seriesClipRect.height) +\n                        ' L ' + pointX + ' ' + this.seriesClipRect.y + ' ');\n                }\n                majorTick = majorTick.concat('M ' + (pointX) + ' ' + (rect.y + axisLineSize) +\n                    ' L ' + (pointX) + ' ' + ticks + ' ');\n            }\n            if (axis.minorTicksPerInterval > 0 && (axis.minorGridLines.width > 0 || axis.minorTickLines.width > 0)) {\n                minorDirection = this.drawAxisMinorLine(axis, tempInterval, minorGird, minorTick, rect, i);\n                minorGird = minorDirection[0];\n                minorTick = minorDirection[1];\n            }\n        }\n        this.renderGridLine(axis, index, majorGrid, minorGird);\n        this.renderTickLine(axis, index, majorTick, minorTick, parent);\n    };\n    CartesianAxisLayoutPanel.prototype.drawAxisMinorLine = function (axis, tempInterval, minorGird, minorTick, rect, labelIndex) {\n        var value = tempInterval;\n        var coor = 0;\n        var position = 0;\n        var range = axis.visibleRange;\n        var isTickInside = axis.tickPosition === 'Inside';\n        var direction = [];\n        var tickSize = axis.opposedPosition ? -axis.minorTickLines.height : axis.minorTickLines.height;\n        var logStart;\n        var logEnd;\n        var logInterval = 1;\n        var logPosition = 1;\n        var ticksX = isTickInside ? (rect.y - tickSize) : (rect.y + tickSize);\n        var ticksY = isTickInside ? (rect.x + tickSize) : (rect.x - tickSize);\n        if (axis.valueType === 'Logarithmic') {\n            logStart = Math.pow(axis.logBase, value - range.interval);\n            logEnd = Math.pow(axis.logBase, value);\n            logInterval = (logEnd - logStart) / (axis.minorTicksPerInterval + 1);\n            logPosition = logStart + logInterval;\n        }\n        if (axis.orientation === 'Horizontal') {\n            for (var j = 0; j < axis.minorTicksPerInterval; j++) {\n                value = this.findLogNumeric(axis, logPosition, logInterval, value, labelIndex);\n                logPosition += logInterval;\n                if (inside(value, range)) {\n                    position = ((value - range.min) / (range.max - range.min));\n                    position = Math.ceil((axis.isInversed ? (1 - position) : position) * rect.width);\n                    coor = (Math.floor(position + rect.x));\n                    minorGird = minorGird.concat('M' + ' ' + coor + ' ' + (this.seriesClipRect.y)\n                        + 'L ' + coor + ' ' + (this.seriesClipRect.y + this.seriesClipRect.height));\n                    coor = (Math.floor(position + rect.x));\n                    minorTick = minorTick.concat('M' + ' ' + coor + ' ' + (rect.y)\n                        + 'L ' + coor + ' ' + ticksX);\n                }\n            }\n        }\n        else {\n            tickSize = axis.opposedPosition ? axis.minorTickLines.height : -axis.minorTickLines.height;\n            for (var j = 0; j < axis.minorTicksPerInterval; j++) {\n                value = this.findLogNumeric(axis, logPosition, logInterval, value, labelIndex);\n                if (inside(value, range)) {\n                    position = Math.ceil(((value - range.min) / (range.max - range.min)) * rect.height) * -1;\n                    coor = (Math.floor(position + rect.y + rect.height));\n                    minorGird = minorGird.concat('M' + ' ' + (this.seriesClipRect.x) + ' ' + coor\n                        + 'L ' + (this.seriesClipRect.x + this.seriesClipRect.width) + ' ' + coor);\n                    coor = (Math.floor(position + rect.y + rect.height));\n                    minorTick = minorTick.concat('M' + ' ' + rect.x + ' ' + coor + 'L ' + ticksY + ' ' + coor);\n                }\n                logPosition += logInterval;\n            }\n        }\n        direction.push(minorGird);\n        direction.push(minorTick);\n        return direction;\n    };\n    CartesianAxisLayoutPanel.prototype.findLogNumeric = function (axis, logPosition, logInterval, value, labelIndex) {\n        var range = axis.visibleRange;\n        if (axis.valueType === 'Logarithmic') {\n            value = logBase(logPosition, axis.logBase);\n        }\n        else if (axis.valueType === 'DateTime') {\n            value += axis.dateTimeInterval / (axis.minorTicksPerInterval + 1);\n        }\n        else if (axis.valueType === 'DateTimeCategory') {\n            var padding = axis.labelPlacement === 'BetweenTicks' ? 0.5 : 0;\n            value += ((axis.visibleLabels[labelIndex + 1] ?\n                axis.visibleLabels[labelIndex + 1].value - padding : axis.visibleRange.max) -\n                (axis.visibleLabels[labelIndex] ?\n                    axis.visibleLabels[labelIndex].value - padding : axis.visibleRange.min)) /\n                (axis.minorTicksPerInterval + 1);\n        }\n        else {\n            value += range.interval / (axis.minorTicksPerInterval + 1);\n        }\n        return value;\n    };\n    /**\n     * To render the axis label.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.drawXAxisLabels = function (axis, index, parent, rect) {\n        var chart = this.chart;\n        var pointX = 0;\n        var pointY = 0;\n        var elementSize;\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        var labelPosition = axis.labelPosition;\n        var islabelInside = axis.labelPosition === 'Inside';\n        var isTickInside = axis.tickPosition === 'Inside';\n        var isOpposed = axis.opposedPosition;\n        var tickSpace = axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0;\n        var labelPadding;\n        var padding = tickSpace + this.padding + axis.lineStyle.width / 2;\n        var rotateSize;\n        var diffHeight;\n        var angle;\n        var anglePadding = ((axis.angle === 90 || axis.angle === -90)) ? -2 : 0;\n        var options;\n        var yLocation;\n        var previousEnd = axis.isInversed ? (rect.x + rect.width) : rect.x;\n        var width = 0;\n        var length = axis.visibleLabels.length;\n        var intervalLength;\n        var label;\n        for (var i = 0, len = length; i < len; i++) {\n            label = axis.visibleLabels[i];\n            pointX = (valueToCoefficient(label.value, axis) * rect.width) + rect.x;\n            elementSize = label.size;\n            intervalLength = rect.width / length;\n            width = ((axis.labelIntersectAction === 'Trim' || axis.labelIntersectAction === 'Wrap')\n                && elementSize.width > intervalLength) ? intervalLength : elementSize.width;\n            pointX -= width / 2;\n            if (islabelInside && axis.angle) {\n                pointY = isOpposed ? (rect.y + padding) : (rect.y - padding);\n            }\n            else {\n                labelPadding = (isOpposed && !islabelInside) || (!isOpposed && islabelInside) ?\n                    -(padding + (axis.angle ? (3 * (elementSize.height / 4) + (2 * axis.maxLabelSize.height / 5)) :\n                        (label.index > 1 ? (2 * (elementSize.height / 4)) : 0)))\n                    : padding + (axis.angle ? (3 * (elementSize.height / 4)) + (2 * axis.maxLabelSize.height / 5)\n                        : (3 * (elementSize.height / 4)));\n                pointY = (rect.y + (labelPadding * label.index));\n            }\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY, '');\n            if (axis.edgeLabelPlacement) {\n                switch (axis.edgeLabelPlacement) {\n                    case 'None':\n                        break;\n                    case 'Hide':\n                        if (((i === 0 || (axis.isInversed && i === len - 1)) && options.x < rect.x) ||\n                            ((i === len - 1 || (axis.isInversed && i === 0)) && (options.x + width > rect.x + rect.width))) {\n                            continue;\n                        }\n                        break;\n                    case 'Shift':\n                        if ((i === 0 || (axis.isInversed && i === len - 1)) && options.x < rect.x) {\n                            intervalLength -= (rect.x - options.x);\n                            options.x = pointX = rect.x;\n                        }\n                        else if ((i === len - 1 || (axis.isInversed && i === 0)) && ((options.x + width) > rect.x + rect.width)) {\n                            if (elementSize.width > intervalLength && axis.labelIntersectAction === 'Trim') {\n                                intervalLength -= (options.x + width - (rect.x + rect.width));\n                            }\n                            else {\n                                intervalLength = width;\n                            }\n                            options.x = pointX = rect.x + rect.width - intervalLength;\n                        }\n                        break;\n                }\n            }\n            options.text = this.findAxisLabel(axis, label.text, intervalLength);\n            if (axis.angle % 360 === 0 && axis.labelIntersectAction === 'Hide' && i !== 0 &&\n                (!axis.isInversed ? options.x <= previousEnd : options.x + width >= previousEnd)) {\n                continue;\n            }\n            previousEnd = axis.isInversed ? options.x : options.x + width;\n            if (axis.angle !== 0) {\n                angle = (axis.angle > 360) ? axis.angle % 360 : axis.angle;\n                rotateSize = rotateTextSize(axis.labelStyle, label.text, angle, chart);\n                diffHeight = islabelInside ? rotateSize.height :\n                    axis.maxLabelSize.height - Math.ceil(rotateSize.height - elementSize.height);\n                yLocation = axis.opposedPosition ? diffHeight / 2 : -diffHeight / 2;\n                options.transform = 'rotate(' + angle + ',' + (pointX + width / 2 + anglePadding) + ','\n                    + (pointY + yLocation) + ')';\n                options.y += yLocation;\n            }\n            textElement(options, axis.labelStyle, axis.labelStyle.color || chart.themeStyle.axisLabel, labelElement, (axis.opposedPosition !== (axis.labelPosition === 'Inside'))).setAttribute('style', 'cursor: default');\n        }\n        if (!chart.delayRedraw) {\n            parent.appendChild(labelElement);\n        }\n        else if (axis.visible) {\n            this.createZoomingLabel(this.chart, labelElement, axis, index, rect);\n        }\n    };\n    /**\n     * To render the axis label border.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.drawXAxisBorder = function (axis, index, parent, axisRect) {\n        if (axis.border.width > 0) {\n            var startX = void 0;\n            var startY = axisRect.y;\n            var padding = 10;\n            var pointX = void 0;\n            var gap = (axisRect.width / axis.visibleRange.delta) * (axis.valueType === 'DateTime' ? axis.dateTimeInterval\n                : axis.visibleRange.interval);\n            var endX = void 0;\n            var length_2 = axis.maxLabelSize.height +\n                ((axis.tickPosition === axis.labelPosition) ? axis.majorTickLines.height : 0);\n            var labelBorder = '';\n            var ticksbwtLabel = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') ? -0.5 : 0;\n            var endY = ((axis.opposedPosition && axis.labelPosition === 'Inside') ||\n                (!axis.opposedPosition && axis.labelPosition === 'Outside')) ?\n                (axisRect.y + length_2 + padding) : (axisRect.y - length_2 - padding);\n            for (var i = 0; i < axis.visibleLabels.length; i++) {\n                pointX = valueToCoefficient(axis.visibleLabels[i].value + ticksbwtLabel, axis);\n                pointX = (axis.isInversed ? (1 - pointX) : pointX) * axisRect.width;\n                if (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks') {\n                    startX = pointX + axisRect.x;\n                    endX = pointX + (gap) + axisRect.x;\n                }\n                else {\n                    startX = pointX - gap / 2 + axisRect.x;\n                    endX = pointX + gap / 2 + axisRect.x;\n                }\n                switch (axis.border.type) {\n                    case 'Rectangle':\n                    case 'WithoutTopBorder':\n                        if (startX < axisRect.x) {\n                            labelBorder += ('M' + ' ' + axisRect.x + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ');\n                        }\n                        else if (Math.floor(endX) > axisRect.width + axisRect.x) {\n                            labelBorder += ('M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                                'L' + ' ' + (axisRect.width + axisRect.x) + ' ' + endY + ' ');\n                        }\n                        else {\n                            labelBorder += ('M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' +\n                                endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ');\n                            if (i === axis.visibleLabels.length - 1) {\n                                labelBorder += ('M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ' +\n                                    'M ' + endX + ' ' + endY + ' L ' + (axisRect.width + axisRect.x) + ' ' + endY);\n                            }\n                        }\n                        break;\n                    case 'WithoutTopandBottomBorder':\n                        if (!(startX < axisRect.x) && !(Math.floor(endX) > axisRect.width + axisRect.x)) {\n                            labelBorder += ('M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                                'M ' + endX + ' ' + startY + ' L ' + endX + ' ' + endY);\n                        }\n                        break;\n                }\n            }\n            labelBorder += (axis.border.type === 'Rectangle' ? ('M ' + ' ' + axisRect.x + ' ' + startY + 'L' + ' ' +\n                (axisRect.x + axisRect.width) + ' ' + startY) : '');\n            if (labelBorder !== '') {\n                this.createAxisBorderElement(axis, index, labelBorder, parent);\n            }\n        }\n        if (this.chart.multiLevelLabelModule && axis.multiLevelLabels.length > 0) {\n            this.chart.multiLevelLabelModule.renderXAxisMultiLevelLabels(axis, index, parent, axisRect);\n        }\n    };\n    /**\n     * To create border element for axis.\n     * @return {void}\n     * @private\n     */\n    CartesianAxisLayoutPanel.prototype.createAxisBorderElement = function (axis, index, labelBorder, parent) {\n        var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + '_BorderLine_' + index, 'transparent', axis.border.width, axis.border.color || this.chart.themeStyle.axisLine, 1, '', labelBorder));\n        borderElement.setAttribute('style', 'pointer-events: none');\n        parent.appendChild(borderElement);\n    };\n    CartesianAxisLayoutPanel.prototype.findAxisLabel = function (axis, label, width) {\n        switch (axis.labelIntersectAction) {\n            case 'Trim':\n                return textTrim(width, label, axis.labelStyle);\n            default:\n                return label;\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.drawXAxisTitle = function (axis, index, parent, rect) {\n        var chart = this.chart;\n        var elementSize = measureText(axis.title, axis.titleStyle);\n        var padding = (axis.tickPosition === 'Inside' ? 0 : axis.majorTickLines.height + this.padding) +\n            (axis.labelPosition === 'Inside' ? 0 :\n                axis.maxLabelSize.height + axis.multiLevelLabelHeight + this.padding);\n        padding = axis.opposedPosition ? -(padding + elementSize.height / 4) : (padding + (3 * elementSize.height / 4));\n        var options = new TextOption(chart.element.id + '_AxisTitle_' + index, rect.x + rect.width / 2, rect.y + padding, 'middle', axis.title);\n        var element = textElement(options, axis.titleStyle, axis.titleStyle.color || chart.themeStyle.axisTitle, parent);\n        element.setAttribute('aria-label', axis.description || axis.title);\n        element.setAttribute('tabindex', axis.tabIndex.toString());\n    };\n    CartesianAxisLayoutPanel.prototype.renderTickLine = function (axis, index, majorTick, minorTick, parent) {\n        var options;\n        var chart = this.chart;\n        if (axis.majorTickLines.width > 0 && axis.visible) {\n            options = new PathOption(chart.element.id + '_MajorTickLine_' + index, 'transparent', axis.majorTickLines.width, axis.majorTickLines.color || chart.themeStyle.majorTickLine, null, null, majorTick);\n            this.htmlObject = chart.renderer.drawPath(options);\n            parent.appendChild(this.htmlObject);\n        }\n        if (axis.minorTickLines.width > 0 && axis.visible) {\n            options = new PathOption(chart.element.id + '_MinorTickLine_' + index, 'transparent', axis.minorTickLines.width, axis.minorTickLines.color || chart.themeStyle.minorTickLine, null, null, minorTick);\n            this.htmlObject = chart.renderer.drawPath(options);\n            parent.appendChild(this.htmlObject);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.renderGridLine = function (axis, index, majorGrid, minorGird) {\n        var chart = this.chart;\n        var options;\n        if (axis.majorGridLines.width > 0) {\n            options = new PathOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines.width, axis.majorGridLines.color || chart.themeStyle.majorGridLine, null, axis.majorGridLines.dashArray, majorGrid);\n            this.htmlObject = chart.renderer.drawPath(options);\n            this.element.appendChild(this.htmlObject);\n        }\n        if (axis.minorGridLines.width > 0) {\n            options = new PathOption(chart.element.id + '_MinorGridLine_' + index, 'transparent', axis.minorGridLines.width, axis.minorGridLines.color || chart.themeStyle.minorGridLine, null, axis.minorGridLines.dashArray, minorGird);\n            this.htmlObject = chart.renderer.drawPath(options);\n            this.element.appendChild(this.htmlObject);\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.findParentNode = function (chart, label, axis, index) {\n        if (axis.crossAt === null) {\n            return document.getElementById(chart.element.id + 'AxisGroup' + index + 'Inside');\n        }\n        if (document.getElementById(chart.element.id + 'AxisGroup' + index + 'Inside').contains(document.getElementById(label.id))) {\n            return document.getElementById(chart.element.id + 'AxisGroup' + index + 'Inside');\n        }\n        else {\n            return document.getElementById(chart.element.id + 'AxisGroup' + index + 'Outside');\n        }\n    };\n    CartesianAxisLayoutPanel.prototype.createZoomingLabel = function (chart, labelElement, axis, index, rect) {\n        var parentNode = this.findParentNode(chart, labelElement, axis, index);\n        labelElement.setAttribute('opacity', '0.3');\n        var zoomElement = chart.renderer.createGroup({\n            id: chart.element.id + 'AxisLabels_Zoom' + index\n        });\n        zoomElement = createZoomingLabels(chart, axis, zoomElement, index, axis.orientation === 'Vertical', rect);\n        parentNode.replaceChild(labelElement, document.getElementById(labelElement.id));\n        if (getElement(chart.element.id + 'AxisLabels_Zoom' + index)) {\n            parentNode.replaceChild(zoomElement, document.getElementById(zoomElement.id));\n        }\n        else {\n            parentNode.appendChild(zoomElement);\n        }\n    };\n    return CartesianAxisLayoutPanel;\n}());\nexport { CartesianAxisLayoutPanel };\n","import { withInBounds, PointData, Rect, getValueXByPoint, getValueYByPoint } from '../../common/utils/helper';\n/**\n * To get the data on mouse move.\n * @private\n */\nvar ChartData = /** @class */ (function () {\n    /**\n     * Constructor for the data.\n     * @private\n     */\n    function ChartData(chart) {\n        /** @private */\n        this.currentPoints = [];\n        /** @private */\n        this.previousPoints = [];\n        this.chart = chart;\n        this.lierIndex = 0;\n    }\n    /**\n     * Method to get the Data.\n     * @private\n     */\n    ChartData.prototype.getData = function () {\n        var chart = this.chart;\n        var point = null;\n        var series = null;\n        var width;\n        var height;\n        for (var len = chart.visibleSeries.length, i = len - 1; i >= 0; i--) {\n            series = chart.visibleSeries[i];\n            width = (series.type === 'Scatter' || series.drawType === 'Scatter' || (!series.isRectSeries && series.marker.visible))\n                ? (series.marker.height + 5) / 2 : 0;\n            height = (series.type === 'Scatter' || series.drawType === 'Scatter' || (!series.isRectSeries && series.marker.visible))\n                ? (series.marker.width + 5) / 2 : 0;\n            if (series.visible && withInBounds(chart.mouseX, chart.mouseY, series.clipRect, width, height)) {\n                point = this.getRectPoint(series, series.clipRect, chart.mouseX, chart.mouseY);\n            }\n            if (point) {\n                return new PointData(point, series);\n            }\n        }\n        return new PointData(point, series);\n    };\n    ChartData.prototype.isSelected = function (chart) {\n        return (chart.selectionMode.indexOf('Drag') > -1 && chart.selectionModule && chart.selectionModule.rectPoints !== null);\n    };\n    ChartData.prototype.getRectPoint = function (series, rect, x, y) {\n        var currentRect;\n        var fromCenterX;\n        var fromCenterY;\n        var clickAngle;\n        var arcAngle = 0;\n        var startAngle;\n        var endAngle;\n        var distanceFromCenter;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (!point.regionData) {\n                if (!point.regions || !point.regions.length) {\n                    continue;\n                }\n            }\n            if (point.regionData && this.chart.chartAreaType === 'PolarRadar' && series.drawType.indexOf('Column') > -1) {\n                fromCenterX = x - (series.clipRect.width / 2 + series.clipRect.x);\n                fromCenterY = y - (series.clipRect.height / 2 + series.clipRect.y);\n                arcAngle = 2 * Math.PI * (point.regionData.currentXPosition < 0 ? 1 + point.regionData.currentXPosition\n                    : point.regionData.currentXPosition);\n                clickAngle = (Math.atan2(fromCenterY, fromCenterX) + 0.5 * Math.PI - arcAngle) % (2 * Math.PI);\n                clickAngle = clickAngle < 0 ? 2 * Math.PI + clickAngle : clickAngle;\n                clickAngle = clickAngle + 2 * Math.PI * series.chart.primaryXAxis.startAngle;\n                startAngle = point.regionData.startAngle;\n                startAngle -= arcAngle;\n                startAngle = startAngle < 0 ? 2 * Math.PI + startAngle : startAngle;\n                endAngle = point.regionData.endAngle;\n                endAngle -= arcAngle;\n                endAngle = endAngle < 0 ? 2 * Math.PI + endAngle : endAngle;\n                distanceFromCenter = Math.sqrt(Math.pow(Math.abs(fromCenterX), 2) + Math.pow(Math.abs(fromCenterY), 2));\n                if (clickAngle >= startAngle && clickAngle <= endAngle &&\n                    (((distanceFromCenter >= point.regionData.innerRadius && distanceFromCenter <= point.regionData.radius) ||\n                        (distanceFromCenter <= point.regionData.innerRadius && distanceFromCenter >= point.regionData.radius))\n                        && distanceFromCenter <= series.chart.radius)) {\n                    return point;\n                }\n            }\n            else if (this.checkRegionContainsPoint(point.regions, rect, x, y)) {\n                return point;\n            }\n        }\n        return null;\n    };\n    /**\n     * Checks whether the region contains a point\n     */\n    ChartData.prototype.checkRegionContainsPoint = function (regionRect, rect, x, y) {\n        var _this = this;\n        return regionRect.some(function (region, index) {\n            _this.lierIndex = index;\n            return withInBounds(x, y, new Rect((_this.chart.chartAreaType === 'Cartesian' ? rect.x : 0) + region.x, (_this.chart.chartAreaType === 'Cartesian' ? rect.y : 0) + region.y, region.width, region.height));\n        });\n    };\n    ChartData.prototype.getClosest = function (series, value) {\n        var xData = series.xData;\n        var closest;\n        if (value >= series.xMin - 0.5 && value <= series.xMax + 0.5) {\n            for (var _i = 0, xData_1 = xData; _i < xData_1.length; _i++) {\n                var data = xData_1[_i];\n                if (closest == null || Math.abs(data - value) < Math.abs(closest - value)) {\n                    closest = data;\n                }\n            }\n        }\n        return closest;\n    };\n    ChartData.prototype.getClosestX = function (chart, series) {\n        var value;\n        var rect = series.clipRect;\n        if (!chart.requireInvertedAxis) {\n            value = getValueXByPoint(chart.mouseX - rect.x, rect.width, series.xAxis);\n        }\n        else {\n            value = getValueYByPoint(chart.mouseY - rect.y, rect.height, series.xAxis);\n        }\n        var closest = this.getClosest(series, value);\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (closest === point.xValue && point.visible) {\n                return new PointData(point, series);\n            }\n        }\n        return null;\n    };\n    return ChartData;\n}());\nexport { ChartData };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Collection } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { StackValues, RectOption } from '../../common/utils/helper';\nimport { firstToLowerCase, Rect, logBase, CircleOption } from '../../common/utils/helper';\nimport { Border, Font, Margin, Animation, EmptyPointSettings, CornerRadius, Connector } from '../../common/model/base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { seriesRender } from '../../common/model/constants';\n/**\n * Configures the data label in the series.\n */\nvar DataLabelSettings = /** @class */ (function (_super) {\n    __extends(DataLabelSettings, _super);\n    function DataLabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], DataLabelSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], DataLabelSettings.prototype, \"name\", void 0);\n    __decorate([\n        Property('transparent')\n    ], DataLabelSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], DataLabelSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Auto')\n    ], DataLabelSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(5)\n    ], DataLabelSettings.prototype, \"rx\", void 0);\n    __decorate([\n        Property(5)\n    ], DataLabelSettings.prototype, \"ry\", void 0);\n    __decorate([\n        Property('Center')\n    ], DataLabelSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Complex({ width: null, color: null }, Border)\n    ], DataLabelSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex({ left: 5, right: 5, top: 5, bottom: 5 }, Margin)\n    ], DataLabelSettings.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ size: '11px', color: null }, Font)\n    ], DataLabelSettings.prototype, \"font\", void 0);\n    __decorate([\n        Property(null)\n    ], DataLabelSettings.prototype, \"template\", void 0);\n    return DataLabelSettings;\n}(ChildProperty));\nexport { DataLabelSettings };\n/**\n *  Configures the marker in the series.\n */\nvar MarkerSettings = /** @class */ (function (_super) {\n    __extends(MarkerSettings, _super);\n    function MarkerSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], MarkerSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Circle')\n    ], MarkerSettings.prototype, \"shape\", void 0);\n    __decorate([\n        Property('')\n    ], MarkerSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property(5)\n    ], MarkerSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(5)\n    ], MarkerSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ width: 2, color: null }, Border)\n    ], MarkerSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property(null)\n    ], MarkerSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], MarkerSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Complex({}, DataLabelSettings)\n    ], MarkerSettings.prototype, \"dataLabel\", void 0);\n    return MarkerSettings;\n}(ChildProperty));\nexport { MarkerSettings };\n/**\n * Points model for the series.\n * @private\n */\nvar Points = /** @class */ (function () {\n    function Points() {\n        this.symbolLocations = null;\n        this.regions = null;\n        this.regionData = null;\n        this.marker = {\n            visible: true\n        };\n    }\n    return Points;\n}());\nexport { Points };\n/**\n * Defines the behavior of the Trendlines\n */\nvar Trendline = /** @class */ (function (_super) {\n    __extends(Trendline, _super);\n    function Trendline() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        return _this;\n    }\n    /** @private */\n    Trendline.prototype.setDataSource = function (series, chart) {\n        if (series) {\n            this.points = series.points;\n        }\n        var type = firstToLowerCase(this.type);\n        chart.trendLineModule.initDataSource(this, chart);\n        chart.visibleSeriesCount++;\n    };\n    __decorate([\n        Property('')\n    ], Trendline.prototype, \"name\", void 0);\n    __decorate([\n        Property('Linear')\n    ], Trendline.prototype, \"type\", void 0);\n    __decorate([\n        Property(2)\n    ], Trendline.prototype, \"period\", void 0);\n    __decorate([\n        Property(2)\n    ], Trendline.prototype, \"polynomialOrder\", void 0);\n    __decorate([\n        Property(0)\n    ], Trendline.prototype, \"backwardForecast\", void 0);\n    __decorate([\n        Property(0)\n    ], Trendline.prototype, \"forwardForecast\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Trendline.prototype, \"animation\", void 0);\n    __decorate([\n        Complex({}, MarkerSettings)\n    ], Trendline.prototype, \"marker\", void 0);\n    __decorate([\n        Property(true)\n    ], Trendline.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property(null)\n    ], Trendline.prototype, \"intercept\", void 0);\n    __decorate([\n        Property('')\n    ], Trendline.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], Trendline.prototype, \"width\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], Trendline.prototype, \"legendShape\", void 0);\n    return Trendline;\n}(ChildProperty));\nexport { Trendline };\n/**\n * Configures Error bar in series.\n */\nvar ErrorBarCapSettings = /** @class */ (function (_super) {\n    __extends(ErrorBarCapSettings, _super);\n    function ErrorBarCapSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], ErrorBarCapSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property(10)\n    ], ErrorBarCapSettings.prototype, \"length\", void 0);\n    __decorate([\n        Property(null)\n    ], ErrorBarCapSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarCapSettings.prototype, \"opacity\", void 0);\n    return ErrorBarCapSettings;\n}(ChildProperty));\nexport { ErrorBarCapSettings };\nvar ChartSegment = /** @class */ (function (_super) {\n    __extends(ChartSegment, _super);\n    function ChartSegment() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ChartSegment.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartSegment.prototype, \"color\", void 0);\n    __decorate([\n        Property('0')\n    ], ChartSegment.prototype, \"dashArray\", void 0);\n    return ChartSegment;\n}(ChildProperty));\nexport { ChartSegment };\nvar ErrorBarSettings = /** @class */ (function (_super) {\n    __extends(ErrorBarSettings, _super);\n    function ErrorBarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], ErrorBarSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Fixed')\n    ], ErrorBarSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], ErrorBarSettings.prototype, \"direction\", void 0);\n    __decorate([\n        Property('Vertical')\n    ], ErrorBarSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(null)\n    ], ErrorBarSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"verticalError\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"horizontalError\", void 0);\n    __decorate([\n        Property(3)\n    ], ErrorBarSettings.prototype, \"verticalPositiveError\", void 0);\n    __decorate([\n        Property(3)\n    ], ErrorBarSettings.prototype, \"verticalNegativeError\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"horizontalPositiveError\", void 0);\n    __decorate([\n        Property(1)\n    ], ErrorBarSettings.prototype, \"horizontalNegativeError\", void 0);\n    __decorate([\n        Complex(null, ErrorBarCapSettings)\n    ], ErrorBarSettings.prototype, \"errorBarCap\", void 0);\n    return ErrorBarSettings;\n}(ChildProperty));\nexport { ErrorBarSettings };\n/**\n * Defines the common behavior of Series and Technical Indicators\n */\nvar SeriesBase = /** @class */ (function (_super) {\n    __extends(SeriesBase, _super);\n    function SeriesBase() {\n        /**\n         * The DataSource field that contains the x value.\n         * It is applicable for series and technical indicators\n         * @default ''\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.currentViewData = [];\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        /** @private */\n        _this.seriesType = 'XY';\n        return _this;\n    }\n    /**\n     * Process data for the series.\n     * @hidden\n     */\n    SeriesBase.prototype.processJsonData = function () {\n        var i = 0;\n        var len = Object.keys(this.currentViewData).length;\n        var point = new Points();\n        var textMappingName = this instanceof Series && this.marker.dataLabel.name ?\n            this.marker.dataLabel.name : '';\n        if (this instanceof Series && this.type === 'Waterfall') {\n            this.chart[firstToLowerCase(this.type) + 'SeriesModule'].\n                processWaterfallData(this.currentViewData, this);\n        }\n        this.points = [];\n        this.xMin = Infinity;\n        this.xMax = -Infinity;\n        this.yMin = Infinity;\n        this.yMax = -Infinity;\n        this.sizeMax = -Infinity;\n        this.getSeriesType();\n        if (this.xAxis.valueType === 'Category') {\n            while (i < len) {\n                point = this.dataPoint(i, textMappingName);\n                this.pushCategoryData(point, i, point.x);\n                this.pushData(point, i);\n                this.setEmptyPoint(point, i);\n                i++;\n            }\n        }\n        else if (this.xAxis.valueType.indexOf('DateTime') > -1) {\n            var option = {\n                skeleton: 'full',\n                type: 'dateTime'\n            };\n            var dateParser = this.chart.intl.getDateParser(option);\n            var dateFormatter = this.chart.intl.getDateFormat(option);\n            while (i < len) {\n                point = this.dataPoint(i, textMappingName);\n                point.x = new Date(DataUtil.parse.parseJson({ val: point.x }).val);\n                if (this.xAxis.valueType === 'DateTime') {\n                    point.xValue = Date.parse(dateParser(dateFormatter(point.x)));\n                }\n                else {\n                    this.pushCategoryData(point, i, Date.parse(dateParser(dateFormatter(point.x))).toString());\n                }\n                this.pushData(point, i);\n                this.setEmptyPoint(point, i);\n                i++;\n            }\n        }\n        else {\n            while (i < len) {\n                point = this.dataPoint(i, textMappingName);\n                point.xValue = point.x;\n                this.pushData(point, i);\n                this.setEmptyPoint(point, i);\n                i++;\n            }\n        }\n        if (this instanceof Series) {\n            if (this.type.indexOf('Spline') > -1 || (this.drawType.indexOf('Spline') > -1 && this.chart.chartAreaType === 'PolarRadar')) {\n                var isArea = (this.type.indexOf('Area') > -1 || this.drawType === 'Area');\n                this.chart['spline' + (isArea ? 'Area' : '') + 'SeriesModule'].findSplinePoint(this);\n            }\n        }\n    };\n    SeriesBase.prototype.pushData = function (point, i) {\n        point.index = i;\n        point.yValue = point.y;\n        // To find the min, max for the axis range.\n        this.xMin = Math.min(this.xMin, point.xValue);\n        this.xMax = Math.max(this.xMax, point.xValue);\n        this.xData.push(point.xValue);\n    };\n    /** @private */\n    SeriesBase.prototype.dataPoint = function (i, textMappingName) {\n        var point;\n        this.points[i] = new Points();\n        point = this.points[i];\n        var currentViewData = this.currentViewData;\n        point.x = getValue(this.xName, currentViewData[i]);\n        point.high = getValue(this.high, currentViewData[i]);\n        point.low = getValue(this.low, currentViewData[i]);\n        point.open = getValue(this.open, currentViewData[i]);\n        point.close = getValue(this.close, currentViewData[i]);\n        point.volume = getValue(this.volume, currentViewData[i]);\n        point.interior = getValue(this.pointColorMapping, currentViewData[i]);\n        if (this instanceof Series) {\n            point.y = getValue(this.yName, currentViewData[i]);\n            point.size = getValue(this.size, currentViewData[i]);\n            point.text = getValue(textMappingName, currentViewData[i]);\n        }\n        return point;\n    };\n    /**\n     * To set empty point value based on empty point mode\n     * @private\n     */\n    SeriesBase.prototype.setEmptyPoint = function (point, i) {\n        if (!this.findVisibility(point)) {\n            point.visible = true;\n            return null;\n        }\n        point.isEmpty = true;\n        var mode = this instanceof Series ? this.emptyPointSettings.mode : 'Drop';\n        switch (mode) {\n            case 'Zero':\n                point.visible = true;\n                if (this instanceof Series && this.seriesType.indexOf('HighLow') > -1) {\n                    point.high = point.low = 0;\n                    if (this.seriesType.indexOf('HighLowOpenClose') > -1) {\n                        point.open = point.close = 0;\n                    }\n                }\n                else {\n                    point.y = point.yValue = this.yData[i] = 0;\n                }\n                break;\n            case 'Average':\n                if (this instanceof Series) {\n                    if (this.seriesType.indexOf('HighLow') > -1) {\n                        point.high = isNullOrUndefined(point.high) ? this.getAverage(this.high, i) : point.high;\n                        point.low = isNullOrUndefined(point.low) ? this.getAverage(this.low, i) : point.low;\n                        if (this.seriesType.indexOf('HighLowOpenClose') > -1) {\n                            point.open = isNullOrUndefined(point.open) ? this.getAverage(this.open, i) : point.open;\n                            point.close = isNullOrUndefined(point.close) ? this.getAverage(this.close, i) :\n                                point.close;\n                        }\n                    }\n                    else {\n                        point.y = point.yValue = this.yData[i] = this.getAverage(this.yName, i);\n                    }\n                }\n                point.visible = true;\n                break;\n            case 'Drop':\n            case 'Gap':\n                this.yData[i] = null;\n                point.visible = false;\n                break;\n        }\n    };\n    SeriesBase.prototype.findVisibility = function (point) {\n        var type = this instanceof Series ? this.seriesType : 'HighLowOpenClose';\n        var yValues;\n        switch (type) {\n            case 'XY':\n                this.setXYMinMax(point.yValue);\n                this.yData.push(point.yValue);\n                if (this instanceof Series && this.type === 'Bubble') {\n                    this.sizeMax = Math.max(this.sizeMax, isNullOrUndefined(point.size) ? this.sizeMax : point.size);\n                }\n                return isNullOrUndefined(point.x) || isNullOrUndefined(point.y);\n            case 'HighLow':\n                this.setHiloMinMax(point.high, point.low);\n                return isNullOrUndefined(point.x) || isNullOrUndefined(point.low) || isNullOrUndefined(point.high);\n            case 'HighLowOpenClose':\n                this.setHiloMinMax(point.high, point.low);\n                return isNullOrUndefined(point.x) || isNullOrUndefined(point.low) ||\n                    isNullOrUndefined(point.open) || isNullOrUndefined(point.close)\n                    || isNullOrUndefined(point.high);\n            case 'BoxPlot':\n                yValues = (point.y || [null]).filter(function (value) {\n                    return !isNullOrUndefined(value);\n                }).sort(function (a, b) {\n                    return a - b;\n                });\n                point.y = yValues;\n                this.yMin = Math.min(this.yMin, Math.min.apply(Math, yValues));\n                this.yMax = Math.max(this.yMax, Math.max.apply(Math, yValues));\n                return !yValues.length;\n        }\n    };\n    /**\n     * To get Y min max for the provided point seriesType XY\n     */\n    SeriesBase.prototype.setXYMinMax = function (yValue) {\n        this.yMin = Math.min(this.yMin, isNullOrUndefined(yValue) ? this.yMin : yValue);\n        this.yMax = Math.max(this.yMax, isNullOrUndefined(yValue) ? this.yMax : yValue);\n    };\n    /**\n     * To get Y min max for the provided point seriesType XY\n     */\n    SeriesBase.prototype.setHiloMinMax = function (high, low) {\n        this.yMin = Math.min(this.yMin, Math.min(isNullOrUndefined(low) ? this.yMin : low, isNullOrUndefined(high) ? this.yMin : high));\n        this.yMax = Math.max(this.yMax, Math.max(isNullOrUndefined(low) ? this.yMax : low, isNullOrUndefined(high) ? this.yMax : high));\n    };\n    /**\n     * Finds the type of the series\n     * @private\n     */\n    SeriesBase.prototype.getSeriesType = function () {\n        var type;\n        if (this instanceof Series) {\n            var seriesType = this.chart.chartAreaType === 'PolarRadar' ? this.drawType : this.type;\n            if (seriesType) {\n                switch (seriesType) {\n                    case 'RangeColumn':\n                    case 'RangeArea':\n                    case 'Hilo':\n                        type = 'HighLow';\n                        break;\n                    case 'HiloOpenClose':\n                    case 'Candle':\n                        type = 'HighLowOpenClose';\n                        break;\n                    case 'BoxAndWhisker':\n                        type = 'BoxPlot';\n                        break;\n                    default:\n                        type = 'XY';\n                }\n            }\n        }\n        this.seriesType = type;\n    };\n    /** @private */\n    SeriesBase.prototype.pushCategoryData = function (point, index, pointX) {\n        if (!this.xAxis.isIndexed) {\n            if (this.xAxis.labels.indexOf(pointX) < 0) {\n                this.xAxis.labels.push(pointX);\n            }\n            point.xValue = this.xAxis.labels.indexOf(pointX);\n        }\n        else {\n            this.xAxis.labels[index] ? this.xAxis.labels[index] += ', ' + pointX :\n                this.xAxis.labels.push(pointX);\n            point.xValue = index;\n        }\n    };\n    /**\n     * To find average of given property\n     */\n    SeriesBase.prototype.getAverage = function (member, i, data) {\n        if (data === void 0) { data = this.currentViewData; }\n        var previous = data[i - 1] ? (data[i - 1][member] || 0) : 0;\n        var next = data[i + 1] ? (data[i + 1][member] || 0) : 0;\n        return (previous + next) / 2;\n    };\n    /**\n     * To find the control points for spline.\n     * @return {void}\n     * @private\n     */\n    SeriesBase.prototype.refreshDataManager = function (chart) {\n        var _this = this;\n        this.chart = chart;\n        if (isNullOrUndefined(this.query) && !isNullOrUndefined(this.dataSource)) {\n            this.dataManagerSuccess({ result: this.dataSource, count: this.dataSource.length }, chart, false);\n            return;\n        }\n        var dataManager = this.dataModule.getData(this.dataModule.generateQuery().requiresCount());\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e, chart); });\n    };\n    SeriesBase.prototype.dataManagerSuccess = function (e, chart, isRemoteData) {\n        if (isRemoteData === void 0) { isRemoteData = true; }\n        this.currentViewData = e.result !== '' ? e.result : [];\n        if (this instanceof Series) {\n            var argsData = {\n                name: seriesRender, series: this, data: this.currentViewData, fill: this.interior\n            };\n            this.chart.trigger(seriesRender, argsData);\n            this.interior = argsData.fill;\n            this.currentViewData = argsData.data;\n        }\n        this.processJsonData();\n        this.recordsCount = e.count;\n        this.refreshChart(isRemoteData);\n    };\n    SeriesBase.prototype.refreshChart = function (isRemoteData) {\n        var chart = this.chart;\n        if (this instanceof Series) {\n            chart.visibleSeriesCount += isRemoteData ? 1 : 0;\n        }\n        chart.refreshTechnicalIndicator(this);\n        if (this instanceof Series && this.category !== 'TrendLine') {\n            for (var _i = 0, _a = this.trendlines; _i < _a.length; _i++) {\n                var trendline = _a[_i];\n                trendline.setDataSource(this, chart);\n            }\n        }\n        //if (chart.visibleSeries.length === (chart.visibleSeriesCount - chart.indicators.length)) {\n        if (chart.visibleSeries.length === (chart.visibleSeriesCount)) {\n            chart.refreshBound();\n            chart.trigger('loaded', { chart: chart });\n        }\n        if (this instanceof Series) {\n            chart.visibleSeriesCount += isRemoteData ? 0 : 1;\n        }\n    };\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"xName\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"high\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"low\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"open\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"close\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"volume\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"pointColorMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], SeriesBase.prototype, \"xAxisName\", void 0);\n    __decorate([\n        Property(null)\n    ], SeriesBase.prototype, \"yAxisName\", void 0);\n    __decorate([\n        Complex(null, Animation)\n    ], SeriesBase.prototype, \"animation\", void 0);\n    __decorate([\n        Property(null)\n    ], SeriesBase.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], SeriesBase.prototype, \"width\", void 0);\n    __decorate([\n        Property('0')\n    ], SeriesBase.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property('')\n    ], SeriesBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], SeriesBase.prototype, \"query\", void 0);\n    __decorate([\n        Collection([], ChartSegment)\n    ], SeriesBase.prototype, \"segments\", void 0);\n    __decorate([\n        Property('X')\n    ], SeriesBase.prototype, \"segmentAxis\", void 0);\n    return SeriesBase;\n}(ChildProperty));\nexport { SeriesBase };\n/**\n *  Configures the series in charts.\n */\nvar Series = /** @class */ (function (_super) {\n    __extends(Series, _super);\n    // tslint:disable-next-line:no-any\n    function Series(parent, propName, defaultValue, isArray) {\n        var _this = _super.call(this, parent, propName, defaultValue, isArray) || this;\n        _this.visibleSeriesCount = 0;\n        /** @private */\n        _this.category = 'Series';\n        /** @private */\n        _this.isRectSeries = false;\n        /** @private */\n        _this.drawPoints = [];\n        /** @private */\n        _this.delayedAnimation = false;\n        return _this;\n    }\n    /**\n     * Refresh the axis label.\n     * @return {boolean}\n     * @private\n     */\n    Series.prototype.refreshAxisLabel = function () {\n        if (this.xAxis.valueType !== 'Category') {\n            return null;\n        }\n        this.xAxis.labels = [];\n        for (var _i = 0, _a = this.xAxis.series; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.visible) {\n                item.xMin = Infinity;\n                item.xMax = -Infinity;\n                for (var _b = 0, _c = item.points; _b < _c.length; _b++) {\n                    var point = _c[_b];\n                    item.pushCategoryData(point, point.index, point.x);\n                    item.xMin = Math.min(item.xMin, point.xValue);\n                    item.xMax = Math.max(item.xMax, point.xValue);\n                }\n            }\n        }\n    };\n    /**\n     * To get the series collection.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.findSeriesCollection = function (column, row, isStack) {\n        var seriesCollection = [];\n        for (var _i = 0, _a = row.axes; _i < _a.length; _i++) {\n            var rowAxis = _a[_i];\n            for (var _b = 0, _c = rowAxis.series; _b < _c.length; _b++) {\n                var rowSeries = _c[_b];\n                for (var _d = 0, _e = column.axes; _d < _e.length; _d++) {\n                    var axis = _e[_d];\n                    for (var _f = 0, _g = axis.series; _f < _g.length; _f++) {\n                        var series = _g[_f];\n                        if (series === rowSeries && series.visible && this.rectSeriesInChart(series, isStack)) {\n                            seriesCollection.push(series);\n                        }\n                    }\n                }\n            }\n        }\n        return seriesCollection;\n    };\n    /**\n     * To get the column type series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.rectSeriesInChart = function (series, isStack) {\n        var type = (series.type).toLowerCase();\n        return (type.indexOf('column') !== -1 || type.indexOf('bar') !== -1 ||\n            type.indexOf('hiloopenclose') !== -1 || type.indexOf('candle') !== -1 ||\n            type.indexOf('hilo') !== -1 || series.drawType.indexOf('Column') !== -1 ||\n            type.indexOf('waterfall') !== -1 || type.indexOf('boxandwhisker') !== -1 || isStack);\n    };\n    /**\n     * To calculate the stacked values.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.calculateStackedValue = function (isStacking100, chart) {\n        var axisSeries;\n        for (var _i = 0, _a = chart.columns; _i < _a.length; _i++) {\n            var columnItem = _a[_i];\n            for (var _b = 0, _c = chart.rows; _b < _c.length; _b++) {\n                var item = _c[_b];\n                this.calculateStackingValues(this.findSeriesCollection(columnItem, item, true), isStacking100);\n            }\n        }\n    };\n    Series.prototype.calculateStackingValues = function (seriesCollection, isStacking100) {\n        var startValues;\n        var endValues;\n        var yValues = [];\n        var lastPositive = [];\n        var lastNegative = [];\n        var stackingGroup;\n        var lastValue;\n        var value;\n        var frequencies = [];\n        if (isStacking100) {\n            frequencies = this.findFrequencies(seriesCollection);\n        }\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            if (series.type.indexOf('Stacking') !== -1 || (series.drawType.indexOf('Stacking') !== -1 &&\n                (series.chart.chartAreaType === 'PolarRadar'))) {\n                stackingGroup = (series.type.indexOf('StackingArea') !== -1) ? 'StackingArea100' : series.stackingGroup;\n                if (!lastPositive[stackingGroup]) {\n                    lastPositive[stackingGroup] = [];\n                    lastNegative[stackingGroup] = [];\n                }\n                yValues = series.yData;\n                startValues = [];\n                endValues = [];\n                for (var j = 0, pointsLength = series.points.length; j < pointsLength; j++) {\n                    lastValue = 0;\n                    value = yValues[j];\n                    if (lastPositive[stackingGroup][series.points[j].xValue] === undefined) {\n                        lastPositive[stackingGroup][series.points[j].xValue] = 0;\n                    }\n                    if (lastNegative[stackingGroup][series.points[j].xValue] === undefined) {\n                        lastNegative[stackingGroup][series.points[j].xValue] = 0;\n                    }\n                    if (isStacking100) {\n                        value = value / frequencies[stackingGroup][series.points[j].xValue] * 100;\n                        value = !isNaN(value) ? value : 0;\n                        series.points[j].percent = value.toFixed(2);\n                    }\n                    if (value >= 0) {\n                        lastValue = lastPositive[stackingGroup][series.points[j].xValue];\n                        lastPositive[stackingGroup][series.points[j].xValue] += value;\n                    }\n                    else {\n                        lastValue = lastNegative[stackingGroup][series.points[j].xValue];\n                        lastNegative[stackingGroup][series.points[j].xValue] += value;\n                    }\n                    startValues.push(lastValue);\n                    endValues.push(value + lastValue);\n                    if (isStacking100 && (endValues[j] > 100)) {\n                        endValues[j] = 100;\n                    }\n                }\n                series.stackedValues = new StackValues(startValues, endValues);\n                series.yMin = Math.min.apply(0, startValues);\n                series.yMax = Math.max.apply(0, endValues);\n                if (series.yMin > Math.min.apply(0, endValues)) {\n                    series.yMin = (isStacking100) ? -100 : Math.min.apply(0, endValues);\n                }\n                if (series.yMax < Math.max.apply(0, startValues)) {\n                    series.yMax = 0;\n                }\n            }\n        }\n    };\n    Series.prototype.findFrequencies = function (seriesCollection) {\n        var frequencies = [];\n        var stackingGroup;\n        for (var _i = 0, seriesCollection_2 = seriesCollection; _i < seriesCollection_2.length; _i++) {\n            var series = seriesCollection_2[_i];\n            series.yAxis.isStack100 = series.type.indexOf('100') !== -1 ? true : false;\n            if (series.type.indexOf('Stacking') !== -1) {\n                stackingGroup = (series.type.indexOf('StackingArea') !== -1) ? 'StackingArea100' : series.stackingGroup;\n                if (!frequencies[stackingGroup]) {\n                    frequencies[stackingGroup] = [];\n                }\n                for (var j = 0, pointsLength = series.points.length; j < pointsLength; j++) {\n                    if (frequencies[stackingGroup][series.points[j].xValue] === undefined) {\n                        frequencies[stackingGroup][series.points[j].xValue] = 0;\n                    }\n                    if (series.yData[j] > 0) {\n                        frequencies[stackingGroup][series.points[j].xValue] += series.yData[j];\n                    }\n                    else {\n                        frequencies[stackingGroup][series.points[j].xValue] -= series.yData[j];\n                    }\n                }\n            }\n        }\n        return frequencies;\n    };\n    /**\n     * To find the log values.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.logWithIn = function (value, axis) {\n        if (axis.valueType === 'Logarithmic') {\n            value = logBase(value, axis.logBase);\n        }\n        else {\n            value = value;\n        }\n        return value;\n    };\n    /* private dataManagerFailure(e: { result: Object[] }): void {\n         this.currentViewData = [];\n         this.refreshChart();\n     }*/\n    /** @private */\n    Series.prototype.renderSeries = function (chart, index) {\n        var seriesType = firstToLowerCase(this.type);\n        if (seriesType.indexOf('100') !== -1) {\n            seriesType = seriesType.replace('100', '');\n        }\n        if (chart[seriesType + 'SeriesModule']) {\n            if (this.category !== 'Indicator' && this.category !== 'TrendLine') {\n                this.createSeriesElements(chart);\n            }\n            chart[seriesType + 'SeriesModule'].render(this, this.xAxis, this.yAxis, chart.requireInvertedAxis);\n            if (this.category !== 'Indicator') {\n                if (this.errorBar.visible) {\n                    this.chart.errorBarModule.render(this);\n                }\n                if (this.marker.dataLabel.visible) {\n                    chart.dataLabelModule.render(this, this.chart, this.marker.dataLabel);\n                }\n                this.appendSeriesElement(chart.seriesElements, chart);\n            }\n            this.performAnimation(chart, seriesType, this.errorBar, this.marker, this.marker.dataLabel);\n        }\n    };\n    /**\n     * To create seris element.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.createSeriesElements = function (chart) {\n        if (this.category !== 'Indicator') {\n            var elementId = chart.element.id;\n            var xAxisRect = this.xAxis.rect;\n            // 8 for extend border value 5 for extend size value\n            var explodeValue = this.marker.border.width + 8 + 5;\n            var yAxisRect = this.yAxis.rect;\n            var marker = this.marker;\n            var render = chart.renderer;\n            var index = this.index;\n            var markerHeight = (this.type === 'Scatter') ? (this.marker.height + explodeValue) / 2 : 0;\n            var markerWidth = (this.type === 'Scatter') ? (this.marker.width + explodeValue) / 2 : 0;\n            if (chart.chartAreaType === 'PolarRadar') {\n                this.clipRectElement = render.drawCircularClipPath(new CircleOption(elementId + '_ChartSeriesClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, this.clipRect.width / 2 + this.clipRect.x, this.clipRect.height / 2 + this.clipRect.y, chart.radius));\n            }\n            else {\n                this.clipRectElement = render.drawClipPath(new RectOption(elementId + '_ChartSeriesClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                    x: -markerWidth, y: -markerHeight,\n                    width: this.clipRect.width + markerWidth * 2,\n                    height: this.clipRect.height + markerHeight * 2\n                }));\n            }\n            var transform = void 0;\n            transform = chart.chartAreaType === 'Cartesian' ? 'translate(' + this.clipRect.x + ',' + (this.clipRect.y) + ')' : '';\n            this.symbolElement = null;\n            this.seriesElement = render.createGroup({\n                'id': elementId + 'SeriesGroup' + index,\n                'transform': transform,\n                'clip-path': 'url(#' + elementId + '_ChartSeriesClipRect_' + index + ')'\n            });\n            this.seriesElement.appendChild(this.clipRectElement);\n        }\n    };\n    /**\n     * To append the series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.appendSeriesElement = function (element, chart) {\n        var marker = this.marker;\n        var dataLabel = marker.dataLabel;\n        if (this.category !== 'TrendLine') {\n            chart.seriesElements.appendChild(this.seriesElement);\n            var errorBar = this.errorBar;\n            if (errorBar.visible) {\n                if (chart.chartAreaType === 'PolarRadar') {\n                    chart.seriesElements.appendChild(this.seriesElement);\n                }\n                else {\n                    chart.seriesElements.appendChild(this.errorBarElement);\n                }\n            }\n            if (this.type === 'Scatter' || this.type === 'Bubble') {\n                chart.seriesElements.appendChild(this.seriesElement);\n            }\n        }\n        if (marker.visible && ((chart.chartAreaType === 'Cartesian' && (!this.isRectSeries || this.type === 'BoxAndWhisker'))\n            || ((this.drawType !== 'Scatter' && !this.isRectSeries) && chart.chartAreaType === 'PolarRadar')) &&\n            this.type !== 'Scatter' && this.type !== 'Bubble') {\n            chart.seriesElements.appendChild(this.symbolElement);\n        }\n        if (dataLabel.visible) {\n            chart.dataLabelElements.appendChild(this.shapeElement);\n            chart.dataLabelElements.appendChild(this.textElement);\n        }\n        if (chart.dataLabelElements.hasChildNodes()) {\n            chart.seriesElements.appendChild(chart.dataLabelElements);\n        }\n    };\n    /**\n     * To perform animation for chart series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.performAnimation = function (chart, type, errorBar, marker, dataLabel) {\n        if (this.animation.enable && chart.animateSeries) {\n            chart[type + 'SeriesModule'].doAnimation(this);\n            if (errorBar.visible) {\n                chart.errorBarModule.doErrorBarAnimation(this);\n            }\n            if (marker.visible) {\n                chart.markerRender.doMarkerAnimation(this);\n            }\n            if (dataLabel.visible) {\n                chart.dataLabelModule.doDataLabelAnimation(this);\n            }\n        }\n    };\n    /**\n     * To set border color for empty point\n     * @private\n     */\n    Series.prototype.setPointColor = function (point, color) {\n        color = point.interior || color;\n        return point.isEmpty ? (this.emptyPointSettings.fill || color) : color;\n    };\n    /**\n     * To set border color for empty point\n     * @private\n     */\n    Series.prototype.setBorderColor = function (point, border) {\n        border.width = point.isEmpty ? (this.emptyPointSettings.border.width || border.width) : border.width;\n        border.color = point.isEmpty ? (this.emptyPointSettings.border.color || border.color) : border.color;\n        return border;\n    };\n    __decorate([\n        Property('')\n    ], Series.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], Series.prototype, \"yName\", void 0);\n    __decorate([\n        Property('Line')\n    ], Series.prototype, \"drawType\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"isClosed\", void 0);\n    __decorate([\n        Property('#2ecd71')\n    ], Series.prototype, \"bearFillColor\", void 0);\n    __decorate([\n        Property('#e74c3d')\n    ], Series.prototype, \"bullFillColor\", void 0);\n    __decorate([\n        Property(false)\n    ], Series.prototype, \"enableSolidCandles\", void 0);\n    __decorate([\n        Property('')\n    ], Series.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Series.prototype, \"stackingGroup\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"visible\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 0 }, Border)\n    ], Series.prototype, \"border\", void 0);\n    __decorate([\n        Property(1)\n    ], Series.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Line')\n    ], Series.prototype, \"type\", void 0);\n    __decorate([\n        Complex(null, ErrorBarSettings)\n    ], Series.prototype, \"errorBar\", void 0);\n    __decorate([\n        Complex(null, MarkerSettings)\n    ], Series.prototype, \"marker\", void 0);\n    __decorate([\n        Collection([], Trendline)\n    ], Series.prototype, \"trendlines\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], Series.prototype, \"legendShape\", void 0);\n    __decorate([\n        Property(null)\n    ], Series.prototype, \"selectionStyle\", void 0);\n    __decorate([\n        Property(1)\n    ], Series.prototype, \"minRadius\", void 0);\n    __decorate([\n        Property(3)\n    ], Series.prototype, \"maxRadius\", void 0);\n    __decorate([\n        Property('Natural')\n    ], Series.prototype, \"splineType\", void 0);\n    __decorate([\n        Property(0.5)\n    ], Series.prototype, \"cardinalSplineTension\", void 0);\n    __decorate([\n        Complex(null, EmptyPointSettings)\n    ], Series.prototype, \"emptyPointSettings\", void 0);\n    __decorate([\n        Property(true)\n    ], Series.prototype, \"showMean\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Series.prototype, \"boxPlotMode\", void 0);\n    __decorate([\n        Property(0.7)\n    ], Series.prototype, \"columnWidth\", void 0);\n    __decorate([\n        Property(0)\n    ], Series.prototype, \"columnSpacing\", void 0);\n    __decorate([\n        Property('#C64E4A')\n    ], Series.prototype, \"negativeFillColor\", void 0);\n    __decorate([\n        Property('#4E81BC')\n    ], Series.prototype, \"summaryFillColor\", void 0);\n    __decorate([\n        Property()\n    ], Series.prototype, \"intermediateSumIndexes\", void 0);\n    __decorate([\n        Property()\n    ], Series.prototype, \"sumIndexes\", void 0);\n    __decorate([\n        Complex({ color: 'black', width: 2 }, Connector)\n    ], Series.prototype, \"connector\", void 0);\n    __decorate([\n        Complex(null, CornerRadius)\n    ], Series.prototype, \"cornerRadius\", void 0);\n    return Series;\n}(SeriesBase));\nexport { Series };\n","import { Query, DataManager } from '@syncfusion/ej2-data';\n/**\n * data module is used to generate query and dataSource\n */\nvar Data = /** @class */ (function () {\n    /**\n     * Constructor for data module\n     * @private\n     */\n    function Data(dataSource, query) {\n        this.initDataManager(dataSource, query);\n    }\n    /**\n     * The function used to initialize dataManager and query\n     * @return {void}\n     * @private\n     */\n    Data.prototype.initDataManager = function (dataSource, query) {\n        this.dataManager = dataSource instanceof DataManager ? dataSource : new DataManager(dataSource);\n        this.query = query instanceof Query ? query : new Query();\n    };\n    /**\n     * The function used to generate updated Query from chart model\n     * @return {void}\n     * @private\n     */\n    Data.prototype.generateQuery = function () {\n        var query = this.query.clone();\n        return query;\n    };\n    /**\n     * The function used to get dataSource by executing given Query\n     * @param  {Query} query - A Query that specifies to generate dataSource\n     * @return {void}\n     * @private\n     */\n    Data.prototype.getData = function (query) {\n        return this.dataManager.executeQuery(query);\n    };\n    return Data;\n}());\nexport { Data };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { drawSymbol, PathOption, Size } from '../../common/utils/helper';\nimport { Browser, extend, remove } from '@syncfusion/ej2-base';\nimport { ChartData } from '../../chart/utils/get-data';\nimport { withInBounds, PointData, stopTimer } from '../../common/utils/helper';\nimport { colorNameToHex, convertHexToColor } from '../../common/utils/helper';\n/**\n * Marker Module used to render the marker for line type series.\n */\nvar MarkerExplode = /** @class */ (function (_super) {\n    __extends(MarkerExplode, _super);\n    /**\n     * Constructor for the marker module.\n     * @private\n     */\n    function MarkerExplode(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.addEventListener();\n        _this.elementId = chart.element.id;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    /**\n     * @hidden\n     */\n    /* public removeEventListener(): void {\n         if (this.chart.isDestroyed) { return; }\n         this.chart.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n    }*/\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.mouseUpHandler = function () {\n        var chart = this.chart;\n        if (chart.isTouch && !chart.crosshair.enable && !this.isSelected(chart)) {\n            this.markerMove(true);\n        }\n    };\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.mouseMoveHandler = function () {\n        var chart = this.chart;\n        if ((!chart.crosshair.enable || (chart.tooltip.enable)) && (!chart.isTouch || chart.startMove) && !this.isSelected(chart)) {\n            this.markerMove(false);\n        }\n    };\n    MarkerExplode.prototype.markerMove = function (remove) {\n        var _this = this;\n        var chart = this.chart;\n        this.currentPoints = [];\n        var data;\n        var previous;\n        var explodeSeries;\n        if (!chart.tooltip.shared || !chart.tooltip.enable) {\n            data = this.getData();\n            previous = this.previousPoints[0];\n            explodeSeries = data.series && (data.series.type === 'BoxAndWhisker' || data.series.type === 'Bubble' || data.series.drawType === 'Scatter'\n                || data.series.type === 'Scatter' || (!data.series.isRectSeries && data.series.marker.visible));\n            data.lierIndex = this.lierIndex;\n            if (data.point && explodeSeries && ((!previous || (previous.point !== data.point)) ||\n                (previous && previous.lierIndex > 3 && previous.lierIndex !== this.lierIndex))) {\n                this.currentPoints.push(data);\n            }\n        }\n        else {\n            if (!withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                return null;\n            }\n            if (chart.tooltip.enable) {\n                var pointData = chart.chartAreaType === 'PolarRadar' ? this.getData() : null;\n                for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                    var chartSeries = _a[_i];\n                    if (!chartSeries.enableTooltip || chartSeries.category === 'Indicator') {\n                        continue;\n                    }\n                    if (chart.chartAreaType === 'Cartesian' && chartSeries.visible) {\n                        data = this.getClosestX(chart, chartSeries);\n                    }\n                    else if (chart.chartAreaType === 'PolarRadar' && chartSeries.visible && pointData.point !== null) {\n                        data = new PointData(chartSeries.points[pointData.point.index], chartSeries);\n                    }\n                    if (data) {\n                        this.currentPoints.push(data);\n                        data = null;\n                    }\n                }\n            }\n        }\n        var length = this.previousPoints.length;\n        if (this.currentPoints.length > 0) {\n            if (length === 0 || (length > 0 && this.previousPoints[0].point !== this.currentPoints[0].point)) {\n                if (this.previousPoints.length > 0) {\n                    this.removeHighlightedMarker();\n                }\n                var _loop_1 = function (data_1) {\n                    if (data_1 && data_1.point &&\n                        (!data_1.series.isRectSeries || data_1.series.type === 'BoxAndWhisker')) {\n                        stopTimer(this_1.markerExplode);\n                        this_1.isRemove = true;\n                        data_1.point.symbolLocations.map(function (location, index) {\n                            if (data_1.point.marker.visible) {\n                                _this.drawTrackBall(data_1.series, data_1.point, location, index);\n                            }\n                        });\n                    }\n                };\n                var this_1 = this;\n                for (var _b = 0, _c = this.currentPoints; _b < _c.length; _b++) {\n                    var data_1 = _c[_b];\n                    _loop_1(data_1);\n                }\n                this.previousPoints = extend([], this.currentPoints, null, true);\n            }\n        }\n        if (!chart.tooltip.enable && ((this.currentPoints.length === 0 && this.isRemove) || (remove && this.isRemove) ||\n            !withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect))) {\n            this.isRemove = false;\n            this.markerExplode = setTimeout(function () {\n                _this.removeHighlightedMarker();\n            }, 2000);\n        }\n        this.currentPoints = [];\n    };\n    MarkerExplode.prototype.drawTrackBall = function (series, point, location, index) {\n        var marker = point.marker;\n        var seriesMarker = series.marker;\n        var shape = marker.shape || seriesMarker.shape;\n        var element = series.symbolElement || series.seriesElement;\n        var symbolId = this.elementId + '_Series_' + series.index + '_Point_' + point.index + '_Trackball' +\n            (index ? index : '');\n        var size = new Size((marker.width || seriesMarker.width) + 5, (marker.height || seriesMarker.height) + 5);\n        var border = (marker.border || series.border);\n        var explodeSeries = (series.type === 'BoxAndWhisker' || series.type === 'Bubble' || series.type === 'Scatter');\n        var borderColor = (border.color && border.color !== 'transparent') ? border.color :\n            marker.fill || point.interior || (explodeSeries ? point.color : series.interior);\n        var colorValue = convertHexToColor(colorNameToHex(borderColor));\n        var borderWidth = marker.border ? marker.border.width : seriesMarker.border.width;\n        var markerShadow = series.chart.themeStyle.markerShadow ||\n            'rgba(' + colorValue.r + ',' + colorValue.g + ',' + colorValue.b + ',0.2)';\n        for (var i = 0; i < 2; i++) {\n            var options = new PathOption(symbolId + '_' + i, i ? (marker.fill || point.color || (explodeSeries ? series.interior : '#ffffff')) : 'transparent', borderWidth + (i ? 0 : 8), i ? borderColor : markerShadow, (marker.opacity || seriesMarker.opacity), null, null);\n            var symbol = drawSymbol(location, shape, size, seriesMarker.imageUrl, options, '');\n            symbol.setAttribute('style', 'pointer-events:none');\n            symbol.setAttribute('class', 'EJ2-Trackball');\n            element.appendChild(symbol);\n        }\n    };\n    /**\n     * @hidden\n     */\n    MarkerExplode.prototype.removeHighlightedMarker = function () {\n        var elements = document.getElementsByClassName('EJ2-Trackball');\n        for (var i = 0, len = elements.length; i < len; i++) {\n            remove(elements[0]);\n        }\n        this.previousPoints = [];\n    };\n    return MarkerExplode;\n}(ChartData));\nexport { MarkerExplode };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { drawSymbol, PathOption, Size, markerAnimate, CircleOption, RectOption } from '../../common/utils/helper';\nimport { findlElement } from '../../common/utils/helper';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pointRender } from '../../common/model/constants';\nimport { MarkerExplode } from './marker-explode';\nimport { getSaturationColor } from '../../common/utils/helper';\n/**\n * Marker module used to render the marker for line type series.\n */\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    /**\n     * Constructor for the marker module.\n     * @private\n     */\n    function Marker(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Render the marker for series.\n     * @return {void}\n     * @private\n     */\n    Marker.prototype.render = function (series) {\n        var _this = this;\n        this.createElement(series);\n        var _loop_1 = function (point) {\n            if (point.visible && point.symbolLocations.length) {\n                point.symbolLocations.map(function (location, index) {\n                    _this.renderMarker(series, point, location, index);\n                });\n            }\n        };\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            _loop_1(point);\n        }\n    };\n    Marker.prototype.renderMarker = function (series, point, location, index) {\n        var seriesIndex = series.index;\n        var marker = series.marker;\n        var border = {\n            color: marker.border.color,\n            width: marker.border.width\n        };\n        var borderColor = marker.border.color;\n        var symbolId;\n        var shapeOption;\n        var isBoxPlot = series.type === 'BoxAndWhisker';\n        var fill = marker.fill || (isBoxPlot ? point.interior || series.interior : '#ffffff');\n        var argsData;\n        var parentElement = isBoxPlot ?\n            findlElement(series.seriesElement.childNodes, 'Series_' + series.index + '_Point_' + point.index)\n            : series.symbolElement;\n        border.color = borderColor || series.setPointColor(point, series.interior);\n        symbolId = this.elementId + '_Series_' + seriesIndex + '_Point_' + point.index + '_Symbol' +\n            (index ? index : '');\n        argsData = {\n            cancel: false, name: pointRender, series: series, point: point,\n            fill: point.isEmpty ? (series.emptyPointSettings.fill || fill) : fill,\n            border: {\n                color: series.type === 'BoxAndWhisker' ?\n                    (!isNullOrUndefined(borderColor) && borderColor !== 'transparent') ? borderColor :\n                        getSaturationColor(fill, -0.6)\n                    : border.color,\n                width: border.width\n            },\n            height: marker.height,\n            width: marker.width,\n            shape: marker.shape\n        };\n        argsData.border = series.setBorderColor(point, { width: argsData.border.width, color: argsData.border.color });\n        this.chart.trigger(pointRender, argsData);\n        point.color = argsData.fill;\n        if (!argsData.cancel) {\n            var y = void 0;\n            if (series.type === 'RangeArea') {\n                y = index ? point.low : point.high;\n            }\n            else if (isBoxPlot) {\n                y = point.outliers[index];\n            }\n            else {\n                y = point.y;\n            }\n            shapeOption = new PathOption(symbolId, argsData.fill, argsData.border.width, argsData.border.color, marker.opacity, null);\n            if (parentElement !== undefined && parentElement !== null) {\n                parentElement.appendChild(drawSymbol(location, argsData.shape, new Size(argsData.width, argsData.height), marker.imageUrl, shapeOption, point.x.toString() + ':' + y.toString()));\n            }\n            point.marker = {\n                border: argsData.border,\n                fill: argsData.fill,\n                height: argsData.height,\n                visible: true,\n                shape: argsData.shape,\n                width: argsData.width\n            };\n        }\n        else {\n            location = null;\n            point.marker = {\n                visible: false\n            };\n        }\n    };\n    Marker.prototype.createElement = function (series) {\n        var markerClipRect;\n        var marker = series.marker;\n        // 8 for extend border value 5 for extend size value\n        var explodeValue = marker.border.width + 8 + 5;\n        var render = series.chart.renderer;\n        var transform;\n        transform = series.chart.chartAreaType === 'Cartesian' ? 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')' : '';\n        if (marker.visible) {\n            var markerHeight = (marker.height + explodeValue) / 2;\n            var markerWidth = (marker.width + explodeValue) / 2;\n            if (series.chart.chartAreaType === 'Cartesian') {\n                markerClipRect = render.drawClipPath(new RectOption(this.elementId + '_ChartMarkerClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                    x: -markerWidth, y: -markerHeight,\n                    width: series.clipRect.width + markerWidth * 2,\n                    height: series.clipRect.height + markerHeight * 2\n                }));\n            }\n            else {\n                markerClipRect = render.drawCircularClipPath(new CircleOption(this.elementId + '_ChartMarkerClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, series.clipRect.width / 2 + series.clipRect.x, series.clipRect.height / 2 + series.clipRect.y, series.chart.radius + Math.max(markerHeight, markerWidth)));\n            }\n            series.symbolElement = render.createGroup({\n                'id': this.elementId + 'SymbolGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.elementId + '_ChartMarkerClipRect_' + series.index + ')'\n            });\n            series.symbolElement.appendChild(markerClipRect);\n        }\n    };\n    Marker.prototype.getRangeLowPoint = function (region, series) {\n        var x = region.x;\n        var y = region.y;\n        if (series.chart.requireInvertedAxis) {\n            y += region.height / 2;\n            x += series.yAxis.isInversed ? region.width : 0;\n        }\n        else {\n            y += series.yAxis.isInversed ? 0 : region.height;\n            x += region.width / 2;\n        }\n        return { x: x, y: y };\n    };\n    /**\n     * Animates the marker.\n     * @return {void}.\n     * @private\n     */\n    Marker.prototype.doMarkerAnimation = function (series) {\n        if (!(series.isRectSeries || series.type === 'Scatter' || series.type === 'Bubble' ||\n            (series.chart.chartAreaType === 'PolarRadar' && (series.drawType === 'Scatter' || series.drawType.indexOf('Column') > -1)))) {\n            var markerElements = series.symbolElement.childNodes;\n            var delay = series.animation.delay + series.animation.duration;\n            var j = 1;\n            var incFactor = series.type === 'RangeArea' ? 2 : 1;\n            for (var i = 0; i < series.points.length; i++) {\n                if (!series.points[i].symbolLocations.length) {\n                    continue;\n                }\n                markerAnimate(markerElements[j], delay, 200, series, i, series.points[i].symbolLocations[0], false);\n                if (incFactor === 2) {\n                    var lowPoint = this.getRangeLowPoint(series.points[i].regions[0], series);\n                    markerAnimate(markerElements[j + 1], delay, 200, series, i, lowPoint, false);\n                }\n                j += incFactor;\n            }\n        }\n    };\n    return Marker;\n}(MarkerExplode));\nexport { Marker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, Complex, ChildProperty } from '@syncfusion/ej2-base';\nimport { Font, Border } from '../model/base';\nimport { Theme } from '../model/theme';\nimport { Size, Rect, subtractThickness, Thickness, drawSymbol, measureText, ChartLocation, PathOption } from '../utils/helper';\nimport { RectOption, TextOption, textElement, stringToNumber, removeElement, showTooltip, getElement } from '../utils/helper';\n/**\n * Configures the location for the legend.\n */\nvar Location = /** @class */ (function (_super) {\n    __extends(Location, _super);\n    function Location() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Location.prototype, \"x\", void 0);\n    __decorate([\n        Property(0)\n    ], Location.prototype, \"y\", void 0);\n    return Location;\n}(ChildProperty));\nexport { Location };\n/**\n * Configures the legends in charts.\n */\nvar LegendSettings = /** @class */ (function (_super) {\n    __extends(LegendSettings, _super);\n    function LegendSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0 }, Location)\n    ], LegendSettings.prototype, \"location\", void 0);\n    __decorate([\n        Property('Auto')\n    ], LegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(8)\n    ], LegendSettings.prototype, \"padding\", void 0);\n    __decorate([\n        Property('Center')\n    ], LegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, Font)\n    ], LegendSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(10)\n    ], LegendSettings.prototype, \"shapeHeight\", void 0);\n    __decorate([\n        Property(10)\n    ], LegendSettings.prototype, \"shapeWidth\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], LegendSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property(5)\n    ], LegendSettings.prototype, \"shapePadding\", void 0);\n    __decorate([\n        Property('transparent')\n    ], LegendSettings.prototype, \"background\", void 0);\n    __decorate([\n        Property(1)\n    ], LegendSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"toggleVisibility\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"description\", void 0);\n    __decorate([\n        Property(3)\n    ], LegendSettings.prototype, \"tabIndex\", void 0);\n    return LegendSettings;\n}(ChildProperty));\nexport { LegendSettings };\n/**\n * Legend base class for Chart and Accumulation chart.\n * @private\n */\nvar BaseLegend = /** @class */ (function () {\n    /**\n     * Constructor for the dateTime module.\n     * @private\n     */\n    function BaseLegend(chart) {\n        this.rowCount = 0; // legend row counts per page \n        this.columnCount = 0; // legend column counts per page \n        this.pageButtonSize = 8;\n        this.pageXCollections = []; // pages of x locations\n        this.maxColumns = 0;\n        this.isTrimmed = false;\n        this.maxWidth = 0;\n        this.currentPage = 1;\n        this.chart = chart;\n        this.legend = chart.legendSettings;\n        this.legendID = chart.element.id + '_chart_legend';\n        this.isChartControl = (chart.getModuleName() === 'chart');\n    }\n    /**\n     * Calculate the bounds for the legends.\n     * @return {void}\n     * @private\n     */\n    BaseLegend.prototype.calculateLegendBounds = function (rect, availableSize) {\n        var legend = this.legend;\n        this.getPosition(legend.position, availableSize);\n        this.legendBounds = new Rect(rect.x, rect.y, 0, 0);\n        this.isVertical = (this.position === 'Left' || this.position === 'Right');\n        if (this.isVertical) {\n            this.legendBounds.height = stringToNumber(legend.height, availableSize.height - (rect.y - this.chart.margin.top)) || rect.height;\n            this.legendBounds.width = stringToNumber(legend.width || '20%', availableSize.width);\n        }\n        else {\n            this.legendBounds.width = stringToNumber(legend.width, availableSize.width) || rect.width;\n            this.legendBounds.height = stringToNumber(legend.height || '20%', availableSize.height);\n        }\n        this.library.getLegendBounds(availableSize, this.legendBounds, legend);\n        this.getLocation(this.position, legend.alignment, this.legendBounds, rect, availableSize);\n    };\n    /**\n     * To find legend position based on available size for chart and accumulation chart\n     */\n    BaseLegend.prototype.getPosition = function (position, availableSize) {\n        if (this.isChartControl) {\n            this.position = (position !== 'Auto') ? position : 'Bottom';\n        }\n        else {\n            if (position === 'Auto' && this.chart.visibleSeries &&\n                (this.chart.visibleSeries[0].type === 'Funnel' || this.chart.visibleSeries[0].type === 'Pyramid')) {\n                position = 'Top';\n            }\n            this.position = (position !== 'Auto') ? position :\n                (availableSize.width > availableSize.height ? 'Right' : 'Bottom');\n        }\n    };\n    /**\n     * To set bounds for chart and accumulation chart\n     */\n    BaseLegend.prototype.setBounds = function (computedWidth, computedHeight, legend, legendBounds) {\n        computedWidth = computedWidth < legendBounds.width ? computedWidth : legendBounds.width;\n        computedHeight = computedHeight < legendBounds.height ? computedHeight : legendBounds.height;\n        legendBounds.width = !legend.width ? computedWidth : legendBounds.width;\n        legendBounds.height = !legend.height ? computedHeight : legendBounds.height;\n        this.rowCount = Math.max(1, Math.ceil((legendBounds.height - legend.padding) / (this.maxItemHeight + legend.padding)));\n    };\n    /**\n     * To find legend location based on position, alignment for chart and accumulation chart\n     */\n    BaseLegend.prototype.getLocation = function (position, alignment, legendBounds, rect, availableSize) {\n        var padding = this.legend.border.width;\n        var legendHeight = legendBounds.height + padding;\n        var legendWidth = legendBounds.width + padding;\n        var marginBottom = this.chart.margin.bottom;\n        if (position === 'Bottom') {\n            legendBounds.x = this.alignLegend(legendBounds.x, availableSize.width, legendBounds.width, alignment);\n            legendBounds.y = rect.y + (rect.height - legendHeight) + padding;\n            subtractThickness(rect, new Thickness(0, 0, 0, legendHeight));\n        }\n        else if (position === 'Top') {\n            legendBounds.x = this.alignLegend(legendBounds.x, availableSize.width, legendBounds.width, alignment);\n            legendBounds.y = rect.y + padding;\n            subtractThickness(rect, new Thickness(0, 0, legendHeight, 0));\n        }\n        else if (position === 'Right') {\n            legendBounds.x = rect.x + (rect.width - legendBounds.width);\n            legendBounds.y = rect.y + this.alignLegend(0, availableSize.height - (rect.y + marginBottom), legendBounds.height, alignment);\n            subtractThickness(rect, new Thickness(0, legendWidth, 0, 0));\n        }\n        else if (position === 'Left') {\n            legendBounds.y = rect.y + this.alignLegend(0, availableSize.height - (rect.y + marginBottom), legendBounds.height, alignment);\n            subtractThickness(rect, new Thickness(legendWidth, 0, 0, 0));\n        }\n        else {\n            legendBounds.x = this.legend.location.x;\n            legendBounds.y = this.legend.location.y;\n            subtractThickness(rect, new Thickness(0, 0, 0, 0));\n        }\n    };\n    /**\n     * To find legend alignment for chart and accumulation chart\n     */\n    BaseLegend.prototype.alignLegend = function (start, size, legendSize, alignment) {\n        switch (alignment) {\n            case 'Far':\n                start = (size - legendSize) - start;\n                break;\n            case 'Center':\n                start = ((size - legendSize) / 2);\n                break;\n        }\n        return start;\n    };\n    /**\n     * Renders the legend.\n     * @return {void}\n     * @private\n     */\n    BaseLegend.prototype.renderLegend = function (chart, legend, legendBounds) {\n        var firstLegend = this.findFirstLegendPosition(this.legendCollections);\n        var padding = legend.padding;\n        this.maxItemHeight = Math.max(this.legendCollections[0].textSize.height, legend.shapeHeight);\n        var legendGroup = chart.renderer.createGroup({ id: this.legendID + '_g' });\n        var legendTranslateGroup = this.createLegendElements(chart, legendBounds, legendGroup, legend, this.legendID);\n        if (firstLegend !== this.legendCollections.length) {\n            var legendSeriesGroup = void 0; // legendItem group for each series group element\n            var start = void 0; // starting shape center x,y position && to resolve lint error used new line for declaration\n            start = new ChartLocation(legendBounds.x + padding + (legend.shapeWidth / 2), legendBounds.y + padding + this.maxItemHeight / 2);\n            var textOptions = new TextOption('', start.x, start.y, 'start');\n            //  initialization for totalPages legend click totalpage again calculate\n            this.totalPages = this.isChartControl ? this.totalPages : 0;\n            var textPadding = legend.shapePadding + padding + legend.shapeWidth;\n            var count = 0;\n            this.pageXCollections = [];\n            this.legendCollections[firstLegend].location = start;\n            var previousLegend = this.legendCollections[firstLegend];\n            for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n                var legendOption = _a[_i];\n                if (legendOption.render && legendOption.text !== '') {\n                    legendSeriesGroup = chart.renderer.createGroup({\n                        id: this.legendID + this.generateId(legendOption, '_g_', count)\n                    });\n                    legendSeriesGroup.setAttribute('tabindex', legend.tabIndex.toString());\n                    legendSeriesGroup.setAttribute('aria-label', legend.description || 'Click to show or hide the ' + legendOption.text + ' series');\n                    this.library.getRenderPoint(legendOption, start, textPadding, previousLegend, legendBounds, count, firstLegend);\n                    this.renderSymbol(legendOption, legendSeriesGroup, count);\n                    this.renderText(chart, legendOption, legendSeriesGroup, textOptions, count);\n                    legendSeriesGroup.setAttribute('style', 'cursor: ' + ((!legend.toggleVisibility && chart.selectionMode === 'None') ? 'auto' : 'pointer'));\n                    legendTranslateGroup.appendChild(legendSeriesGroup);\n                    previousLegend = legendOption;\n                }\n                count++;\n            }\n            if (this.isPaging) {\n                this.renderPagingElements(chart, legendBounds, textOptions, legendGroup);\n            }\n        }\n        chart.svgObject.appendChild(legendGroup);\n    };\n    /**\n     * To find first valid legend text index for chart and accumulation chart\n     */\n    BaseLegend.prototype.findFirstLegendPosition = function (legendCollection) {\n        var count = 0;\n        for (var _i = 0, legendCollection_1 = legendCollection; _i < legendCollection_1.length; _i++) {\n            var legend = legendCollection_1[_i];\n            if (legend.render && legend.text !== '') {\n                break;\n            }\n            count++;\n        }\n        return count;\n    };\n    /**\n     * To create legend rendering elements for chart and accumulation chart\n     */\n    BaseLegend.prototype.createLegendElements = function (chart, legendBounds, legendGroup, legend, id) {\n        var padding = legend.padding;\n        var options = new RectOption(id + '_element', legend.background, legend.border, legend.opacity, legendBounds);\n        legendGroup.appendChild(chart.renderer.drawRectangle(options));\n        var legendItemsGroup = chart.renderer.createGroup({ id: id + '_collections' });\n        legendGroup.appendChild(legendItemsGroup);\n        this.legendTranslateGroup = chart.renderer.createGroup({ id: id + '_translate_g' });\n        legendItemsGroup.appendChild(this.legendTranslateGroup);\n        var clippath = chart.renderer.createClipPath({ id: id + '_clipPath' });\n        options.y += padding;\n        options.id += '_clipPath_rect';\n        options.width = (!this.isChartControl && this.isVertical) ? this.maxWidth - padding : legendBounds.width;\n        this.clipRect = chart.renderer.drawRectangle(options);\n        clippath.appendChild(this.clipRect);\n        chart.svgObject.appendChild(clippath);\n        legendItemsGroup.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n        return this.legendTranslateGroup;\n    };\n    /**\n     * To render legend symbols for chart and accumulation chart\n     */\n    BaseLegend.prototype.renderSymbol = function (legendOption, group, i) {\n        var symbolColor = legendOption.visible ? legendOption.fill : '#D3D3D3';\n        var shape = (legendOption.shape === 'SeriesType') ? legendOption.type : legendOption.shape;\n        shape = shape === 'Scatter' ? legendOption.markerShape : shape;\n        var symbolOption = new PathOption(this.legendID + this.generateId(legendOption, '_shape_', i), symbolColor, 1, symbolColor, 1, '', '');\n        group.appendChild(drawSymbol(legendOption.location, shape, new Size(this.legend.shapeWidth, this.legend.shapeHeight), '', symbolOption, 'Click to show or hide the ' + legendOption.text + ' series'));\n        if (shape === 'Line' && legendOption.markerVisibility && legendOption.markerShape !== 'Image' ||\n            legendOption.type === 'Doughnut') {\n            symbolOption.id = this.legendID + this.generateId(legendOption, '_shape_marker_', i);\n            shape = legendOption.type === 'Doughnut' ? 'Circle' : legendOption.markerShape;\n            symbolOption.fill = legendOption.type === 'Doughnut' ? '#FFFFFF' : symbolOption.fill;\n            group.appendChild(drawSymbol(legendOption.location, shape, new Size(this.legend.shapeWidth / 2, this.legend.shapeHeight / 2), '', symbolOption, 'Click to show or hide the ' + legendOption.text + ' series'));\n        }\n    };\n    /**\n     * To render legend text for chart and accumulation chart\n     */\n    BaseLegend.prototype.renderText = function (chart, legendOption, group, textOptions, i) {\n        var legend = chart.legendSettings;\n        var hiddenColor = '#D3D3D3';\n        textOptions.id = this.legendID + this.generateId(legendOption, '_text_', i);\n        var fontcolor = legendOption.visible ? legend.textStyle.color || chart.themeStyle.legendLabel : hiddenColor;\n        textOptions.text = legendOption.text;\n        textOptions.x = legendOption.location.x + (legend.shapeWidth / 2) + legend.shapePadding;\n        textOptions.y = legendOption.location.y + this.maxItemHeight / 4;\n        var element = textElement(textOptions, legend.textStyle, fontcolor, group);\n        element.setAttribute('aria-label', legend.description || 'Click to show or hide the ' + legendOption.text + ' series');\n    };\n    /**\n     * To render legend paging elements for chart and accumulation chart\n     */\n    BaseLegend.prototype.renderPagingElements = function (chart, bounds, textOption, legendGroup) {\n        var paginggroup = chart.renderer.createGroup({ id: this.legendID + '_navigation' });\n        legendGroup.appendChild(paginggroup);\n        var grayColor = '#545454';\n        var legend = chart.legendSettings; // to solve parameter lint error, legend declaration is here\n        var padding = 8; // const padding for paging elements\n        if (this.isChartControl || !this.isVertical) {\n            this.totalPages = Math.ceil(this.totalPages / Math.max(1, this.rowCount - 1));\n        }\n        else {\n            this.totalPages = Math.ceil(this.totalPages / this.maxColumns);\n        }\n        var symbolOption = new PathOption(this.legendID + '_pageup', 'transparent', 5, grayColor, 1, '', '');\n        var iconSize = this.pageButtonSize;\n        paginggroup.setAttribute('style', 'cursor: pointer');\n        // Page left arrow drawing calculation started here\n        this.clipPathHeight = (this.rowCount - 1) * (this.maxItemHeight + legend.padding);\n        this.clipRect.setAttribute('height', this.clipPathHeight.toString());\n        var x = bounds.x + iconSize / 2;\n        var y = bounds.y + this.clipPathHeight + ((bounds.height - this.clipPathHeight) / 2);\n        paginggroup.appendChild(drawSymbol({ x: x, y: y }, 'LeftArrow', new Size(iconSize, iconSize), '', symbolOption, 'LeftArrow'));\n        // Page numbering rendering calculation started here\n        textOption.x = x + (iconSize / 2) + padding;\n        var size = measureText(this.totalPages + '/' + this.totalPages, legend.textStyle);\n        textOption.y = y + (size.height / 4);\n        textOption.id = this.legendID + '_pagenumber';\n        textOption.text = '1/' + this.totalPages;\n        var pageTextElement = textElement(textOption, legend.textStyle, legend.textStyle.color, paginggroup);\n        // Page right arrow rendering calculation started here\n        x = (textOption.x + padding + (iconSize / 2) + size.width);\n        symbolOption.id = this.legendID + '_pagedown';\n        paginggroup.appendChild(drawSymbol({ x: x, y: y }, 'RightArrow', new Size(iconSize, iconSize), '', symbolOption, 'RightArrow'));\n        // placing the navigation buttons and page numbering in legend right corner\n        paginggroup.setAttribute('transform', 'translate(' + (bounds.width - (2 * (iconSize + padding) +\n            padding + size.width)) + ', ' + 0 + ')');\n        this.translatePage(pageTextElement, this.currentPage - 1, this.currentPage);\n    };\n    /**\n     * To translate legend pages for chart and accumulation chart\n     */\n    BaseLegend.prototype.translatePage = function (pagingText, page, pageNumber) {\n        var size = (this.clipPathHeight) * page;\n        var translate = 'translate(0,-' + size + ')';\n        if (!this.isChartControl && this.isVertical) {\n            var pageLength = page * this.maxColumns;\n            size = this.pageXCollections[page * this.maxColumns] - this.legendBounds.x;\n            size = size < 0 ? 0 : size; // to avoid small pixel variation\n            translate = 'translate(-' + size + ',0)';\n        }\n        this.legendTranslateGroup.setAttribute('transform', translate);\n        pagingText.textContent = (pageNumber) + '/' + this.totalPages;\n        this.currentPage = pageNumber;\n    };\n    /**\n     * To change legend pages for chart and accumulation chart\n     */\n    BaseLegend.prototype.changePage = function (event, pageUp) {\n        var pageText = document.getElementById(this.legendID + '_pagenumber');\n        var page = parseInt(pageText.textContent.split('/')[0], 10);\n        if (pageUp && page > 1) {\n            this.translatePage(pageText, (page - 2), (page - 1));\n        }\n        else if (!pageUp && page < this.totalPages) {\n            this.translatePage(pageText, page, (page + 1));\n        }\n    };\n    /**\n     * To find legend elements id based on chart or accumulation chart\n     * @private\n     */\n    BaseLegend.prototype.generateId = function (option, prefix, count) {\n        if (this.isChartControl) {\n            return prefix + count;\n        }\n        else {\n            return prefix + option.pointIndex;\n        }\n    };\n    /**\n     * To show or hide trimmed text tooltip for legend.\n     * @return {void}\n     * @private\n     */\n    BaseLegend.prototype.move = function (event) {\n        var _this = this;\n        var x = this.chart.mouseX;\n        var y = this.chart.mouseY;\n        if (event.target.textContent.indexOf('...') > -1) {\n            var targetId = event.target.id.split(this.legendID + '_text_');\n            if (targetId.length === 2) {\n                var index = parseInt(targetId[1], 10);\n                var element = this.chart.element;\n                if (!isNaN(index)) {\n                    if (this.chart.isTouch) {\n                        removeElement(this.chart.element.id + '_EJ2_Legend_Tooltip');\n                    }\n                    if (this.isChartControl) {\n                        showTooltip(this.chart.series[index].name, x, y, element.offsetWidth, element.id + '_EJ2_Legend_Tooltip', getElement(this.chart.element.id + '_Secondary_Element'));\n                    }\n                    else {\n                        showTooltip(this.chart.visibleSeries[0].points[index].x.toString(), x + 10, y + 10, element.offsetWidth, element.id + '_EJ2_Legend_Tooltip', getElement(this.chart.element.id + '_Secondary_Element'));\n                    }\n                }\n            }\n        }\n        else {\n            removeElement(this.chart.element.id + '_EJ2_Legend_Tooltip');\n        }\n        if (this.chart.isTouch) {\n            clearTimeout(this.clearTooltip);\n            this.clearTooltip = setTimeout(function () { removeElement(_this.chart.element.id + '_EJ2_Legend_Tooltip'); }, 1000);\n        }\n    };\n    return BaseLegend;\n}());\nexport { BaseLegend };\n/**\n * Class for legend options\n * @private\n */\nvar LegendOptions = /** @class */ (function () {\n    function LegendOptions(text, fill, shape, visible, type, markerShape, markerVisibility, pointIndex, seriesIndex) {\n        this.location = { x: 0, y: 0 };\n        this.text = text;\n        this.fill = fill;\n        this.shape = shape;\n        this.visible = visible;\n        this.type = type;\n        this.markerVisibility = markerVisibility;\n        this.markerShape = markerShape;\n        this.pointIndex = pointIndex;\n        this.seriesIndex = seriesIndex;\n    }\n    return LegendOptions;\n}());\nexport { LegendOptions };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../series/chart-series-model.d.ts' />\nimport { Property, Complex } from '@syncfusion/ej2-base';\nimport { Connector } from '../../common/model/base';\nimport { SeriesBase } from '../series/chart-series';\nimport { Rect, firstToLowerCase } from '../../common/utils/helper';\n/**\n * Defines how to represent the market trend using technical indicators\n */\nvar TechnicalIndicator = /** @class */ (function (_super) {\n    __extends(TechnicalIndicator, _super);\n    function TechnicalIndicator() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.clipRect = new Rect(0, 0, 0, 0);\n        return _this;\n    }\n    /** @private */\n    TechnicalIndicator.prototype.setDataSource = function (series, chart) {\n        if (series) {\n            this.xData = series.xData;\n            this.yData = series.yData;\n            this.points = series.points;\n        }\n        var type = firstToLowerCase(this.type);\n        chart[type + 'IndicatorModule'].initDataSource(this, chart);\n        chart.visibleSeriesCount += this.targetSeries.length;\n    };\n    __decorate([\n        Property('Sma')\n    ], TechnicalIndicator.prototype, \"type\", void 0);\n    __decorate([\n        Property(14)\n    ], TechnicalIndicator.prototype, \"period\", void 0);\n    __decorate([\n        Property(14)\n    ], TechnicalIndicator.prototype, \"kPeriod\", void 0);\n    __decorate([\n        Property(3)\n    ], TechnicalIndicator.prototype, \"dPeriod\", void 0);\n    __decorate([\n        Property(80)\n    ], TechnicalIndicator.prototype, \"overBought\", void 0);\n    __decorate([\n        Property(20)\n    ], TechnicalIndicator.prototype, \"overSold\", void 0);\n    __decorate([\n        Property(2)\n    ], TechnicalIndicator.prototype, \"standardDeviation\", void 0);\n    __decorate([\n        Property('Close')\n    ], TechnicalIndicator.prototype, \"field\", void 0);\n    __decorate([\n        Property(12)\n    ], TechnicalIndicator.prototype, \"slowPeriod\", void 0);\n    __decorate([\n        Property(26)\n    ], TechnicalIndicator.prototype, \"fastPeriod\", void 0);\n    __decorate([\n        Property(true)\n    ], TechnicalIndicator.prototype, \"showZones\", void 0);\n    __decorate([\n        Complex({ color: '#ff9933', width: 2 }, Connector)\n    ], TechnicalIndicator.prototype, \"macdLine\", void 0);\n    __decorate([\n        Property('Both')\n    ], TechnicalIndicator.prototype, \"macdType\", void 0);\n    __decorate([\n        Property('#2ecd71')\n    ], TechnicalIndicator.prototype, \"macdPositiveColor\", void 0);\n    __decorate([\n        Property('#e74c3d')\n    ], TechnicalIndicator.prototype, \"macdNegativeColor\", void 0);\n    __decorate([\n        Property('rgba(211,211,211,0.25)')\n    ], TechnicalIndicator.prototype, \"bandColor\", void 0);\n    __decorate([\n        Complex({ color: '#ffb735', width: 1 }, Connector)\n    ], TechnicalIndicator.prototype, \"upperLine\", void 0);\n    __decorate([\n        Complex({ color: '#f2ec2f', width: 1 }, Connector)\n    ], TechnicalIndicator.prototype, \"lowerLine\", void 0);\n    __decorate([\n        Complex({ color: '#f2ec2f', width: 1 }, Connector)\n    ], TechnicalIndicator.prototype, \"periodLine\", void 0);\n    __decorate([\n        Property('')\n    ], TechnicalIndicator.prototype, \"seriesName\", void 0);\n    return TechnicalIndicator;\n}(SeriesBase));\nexport { TechnicalIndicator };\n","/**\n * Save class provide method to save file\n * ```typescript\n * let blob : Blob = new Blob([''], { type: 'text/plain' });\n * Save.save('fileName.txt',blob);\n */\nvar Save = /** @class */ (function () {\n    /**\n     * Initialize new instance of {save}\n     */\n    function Save() {\n        // tslint:disable\n    }\n    /**\n     * Saves the file with specified name and sends the file to client browser\n     * @param  {string} fileName- file name to save.\n     * @param  {Blob} buffer- the content to write in file\n     * @param  {boolean} isMicrosoftBrowser- specify whether microsoft browser or not\n     * @returns {void}\n     */\n    Save.save = function (fileName, buffer) {\n        if (fileName === null || fileName === undefined || fileName === '') {\n            throw new Error('ArgumentException: fileName cannot be undefined, null or empty');\n        }\n        var extension = fileName.substring(fileName.lastIndexOf('.') + 1, fileName.length);\n        var mimeType = this.getMimeType(extension);\n        if (mimeType !== '') {\n            buffer = new Blob([buffer], { type: mimeType });\n        }\n        if (this.isMicrosoftBrowser) {\n            navigator.msSaveBlob(buffer, fileName);\n        }\n        else {\n            var downloadLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n            this.saveInternal(fileName, extension, buffer, downloadLink, 'download' in downloadLink);\n        }\n    };\n    Save.saveInternal = function (fileName, extension, buffer, downloadLink, hasDownloadAttribute) {\n        if (hasDownloadAttribute) {\n            downloadLink.download = fileName;\n            var dataUrl_1 = window.URL.createObjectURL(buffer);\n            downloadLink.href = dataUrl_1;\n            var event_1 = document.createEvent('MouseEvent');\n            event_1.initEvent('click', true, true);\n            downloadLink.dispatchEvent(event_1);\n            setTimeout(function () {\n                window.URL.revokeObjectURL(dataUrl_1);\n                dataUrl_1 = undefined;\n            });\n        }\n        else {\n            if (extension !== 'docx' && extension !== 'xlsx') {\n                var url = window.URL.createObjectURL(buffer);\n                var isPopupBlocked = window.open(url, '_blank');\n                if (!isPopupBlocked) {\n                    window.location.href = url;\n                }\n            }\n            else {\n                var reader_1 = new FileReader();\n                reader_1.onloadend = function () {\n                    var isPopupBlocked = window.open(reader_1.result, '_blank');\n                    if (!isPopupBlocked) {\n                        window.location.href = reader_1.result;\n                    }\n                };\n                reader_1.readAsDataURL(buffer);\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} extension - get mime type of the specified extension\n     * @private\n     */\n    Save.getMimeType = function (extension) {\n        var mimeType = '';\n        switch (extension) {\n            case 'html':\n                mimeType = 'text/html';\n                break;\n            case 'pdf':\n                mimeType = 'application/pdf';\n                break;\n            case 'docx':\n                mimeType = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\n                break;\n            case 'xlsx':\n                mimeType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n                break;\n            case 'txt':\n                mimeType = 'text/plain';\n                break;\n        }\n        return mimeType;\n    };\n    return Save;\n}());\nexport { Save };\n","import { Encoding, validateNullOrUndefined } from './encoding';\nimport { Save } from './save';\n/**\n * StreamWriter class contains the implementation for writing characters to a file in a particular encoding\n * ```typescript\n * let writer = new StreamWriter();\n * writer.write('Hello World');\n * writer.save('Sample.txt');\n * writer.dispose();\n * ```\n */\nvar StreamWriter = /** @class */ (function () {\n    /**\n     * Initializes a new instance of the StreamWriter class by using the specified encoding.\n     * @param  {Encoding} encoding?- The character encoding to use.\n     */\n    function StreamWriter(encoding) {\n        this.bufferBlob = new Blob(['']);\n        this.bufferText = '';\n        this.init(encoding);\n        Save.isMicrosoftBrowser = !(!navigator.msSaveBlob);\n    }\n    Object.defineProperty(StreamWriter.prototype, \"buffer\", {\n        /**\n         * Gets the content written to the StreamWriter as Blob.\n         * @returns Blob\n         */\n        get: function () {\n            this.flush();\n            return this.bufferBlob;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StreamWriter.prototype, \"encoding\", {\n        /**\n         * Gets the encoding.\n         * @returns Encoding\n         */\n        get: function () {\n            return this.enc;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StreamWriter.prototype.init = function (encoding) {\n        if (encoding === null || encoding === undefined) {\n            this.enc = new Encoding(false);\n            this.enc.type = 'Utf8';\n        }\n        else {\n            this.enc = encoding;\n            this.setBomByte();\n        }\n    };\n    /**\n     * Private method to set Byte Order Mark(BOM) value based on EncodingType\n     */\n    StreamWriter.prototype.setBomByte = function () {\n        if (this.encoding.includeBom) {\n            switch (this.encoding.type) {\n                case 'Unicode':\n                    var arrayUnicode = new ArrayBuffer(2);\n                    var uint8 = new Uint8Array(arrayUnicode);\n                    uint8[0] = 255;\n                    uint8[1] = 254;\n                    this.bufferBlob = new Blob([arrayUnicode]);\n                    break;\n                case 'Utf8':\n                    var arrayUtf8 = new ArrayBuffer(3);\n                    var utf8 = new Uint8Array(arrayUtf8);\n                    utf8[0] = 239;\n                    utf8[1] = 187;\n                    utf8[2] = 191;\n                    this.bufferBlob = new Blob([arrayUtf8]);\n                    break;\n                default:\n                    this.bufferBlob = new Blob(['']);\n                    break;\n            }\n        }\n    };\n    /**\n     * Saves the file with specified name and sends the file to client browser\n     * @param  {string} fileName - The file name to save\n     * @returns {void}\n     */\n    StreamWriter.prototype.save = function (fileName) {\n        if (this.bufferText !== '') {\n            this.flush();\n        }\n        Save.save(fileName, this.buffer);\n    };\n    /**\n     * Writes the specified string.\n     * @param  {string} value - The string to write. If value is null or undefined, nothing is written.\n     * @returns {void}\n     */\n    StreamWriter.prototype.write = function (value) {\n        if (this.encoding === undefined) {\n            throw new Error('Object Disposed Exception: current writer is disposed');\n        }\n        validateNullOrUndefined(value, 'string');\n        this.bufferText += value;\n        if (this.bufferText.length >= 10240) {\n            this.flush();\n        }\n    };\n    StreamWriter.prototype.flush = function () {\n        if (this.bufferText === undefined || this.bufferText === null || this.bufferText.length === 0) {\n            return;\n        }\n        var bufferArray = this.encoding.getBytes(this.bufferText, 0, this.bufferText.length);\n        this.bufferText = '';\n        this.bufferBlob = new Blob([this.bufferBlob, bufferArray]);\n    };\n    /**\n     * Writes the specified string followed by a line terminator\n     * @param  {string} value - The string to write. If value is null or undefined, nothing is written\n     * @returns {void}\n     */\n    StreamWriter.prototype.writeLine = function (value) {\n        if (this.encoding === undefined) {\n            throw new Error('Object Disposed Exception: current writer is disposed');\n        }\n        validateNullOrUndefined(value, 'string');\n        this.bufferText = this.bufferText + value + '\\r\\n';\n        if (this.bufferText.length >= 10240) {\n            this.flush();\n        }\n    };\n    /**\n     * Releases the resources used by the StreamWriter\n     * @returns {void}\n     */\n    StreamWriter.prototype.destroy = function () {\n        this.bufferBlob = undefined;\n        this.bufferText = undefined;\n        if (this.enc instanceof Encoding) {\n            this.enc.destroy();\n        }\n        this.enc = undefined;\n    };\n    return StreamWriter;\n}());\nexport { StreamWriter };\n","import { Encoding } from '@syncfusion/ej2-file-utils';\n/**\n * array literal codes\n */\nvar arrLiteralCodes = new Int16Array(286);\nvar arrLiteralLengths = new Uint8Array(286);\nvar arrDistanceCodes = new Int16Array(30);\nvar arrDistanceLengths = new Uint8Array(30);\n/**\n * represent compression stream writer\n * ```typescript\n * let compressedWriter = new CompressedStreamWriter();\n * let text: string = 'Hello world!!!';\n * compressedWriter.write(text, 0, text.length);\n * compressedWriter.close();\n * ```\n */\nvar CompressedStreamWriter = /** @class */ (function () {\n    /**\n     * Initializes compressor and writes ZLib header if needed.\n     * @param {boolean} noWrap - optional if true, ZLib header and checksum will not be written.\n     */\n    function CompressedStreamWriter(noWrap) {\n        this.pendingBuffer = new Uint8Array(1 << 16);\n        this.pendingBufLength = 0;\n        this.pendingBufCache = 0;\n        this.pendingBufBitsInCache = 0;\n        this.bufferPosition = 0;\n        this.extraBits = 0;\n        this.currentHash = 0;\n        this.matchStart = 0;\n        this.matchLength = 0;\n        this.matchPrevAvail = false;\n        this.blockStart = 0;\n        this.stringStart = 0;\n        this.lookAhead = 0;\n        this.totalBytesIn = 0;\n        this.inputOffset = 0;\n        this.inputEnd = 0;\n        this.windowSize = 1 << 15;\n        this.windowMask = this.windowSize - 1;\n        this.hashSize = 1 << 15;\n        this.hashMask = this.hashSize - 1;\n        this.hashShift = Math.floor((15 + 3 - 1) / 3);\n        this.maxDist = this.windowSize - 262;\n        this.checkSum = 1;\n        this.noWrap = false;\n        this.treeLiteral = new CompressorHuffmanTree(this, 286, 257, 15);\n        this.treeDistances = new CompressorHuffmanTree(this, 30, 1, 15);\n        this.treeCodeLengths = new CompressorHuffmanTree(this, 19, 4, 7);\n        this.arrDistances = new Uint16Array((1 << 14));\n        this.arrLiterals = new Uint8Array((1 << 14));\n        this.stream = [];\n        this.dataWindow = new Uint8Array(2 * this.windowSize);\n        this.hashHead = new Int16Array(this.hashSize);\n        this.hashPrevious = new Int16Array(this.windowSize);\n        this.blockStart = this.stringStart = 1;\n        this.noWrap = noWrap;\n        if (!noWrap) {\n            this.writeZLibHeader();\n        }\n    }\n    Object.defineProperty(CompressedStreamWriter.prototype, \"compressedData\", {\n        /**\n         * get compressed data\n         */\n        get: function () {\n            return this.stream;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompressedStreamWriter.prototype, \"getCompressedString\", {\n        get: function () {\n            var compressedString = '';\n            if (this.stream !== undefined) {\n                for (var i = 0; i < this.stream.length; i++) {\n                    compressedString += String.fromCharCode.apply(null, this.stream[i]);\n                }\n            }\n            return compressedString;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Compresses data and writes it to the stream.\n     * @param {Uint8Array} data - data to compress\n     * @param {number} offset - offset in data\n     * @param {number} length - length of the data\n     * @returns {void}\n     */\n    CompressedStreamWriter.prototype.write = function (data, offset, length) {\n        if (data === undefined || data === null) {\n            throw new Error('ArgumentException: data cannot null or undefined');\n        }\n        var end = offset + length;\n        if (0 > offset || offset > end || end > data.length) {\n            throw new Error('ArgumentOutOfRangeException: Offset or length is incorrect');\n        }\n        if (typeof data === 'string') {\n            var encode = new Encoding(false);\n            encode.type = 'Utf8';\n            data = new Uint8Array(encode.getBytes(data, 0, data.length));\n            end = offset + data.length;\n        }\n        this.inputBuffer = data;\n        this.inputOffset = offset;\n        this.inputEnd = end;\n        if (!this.noWrap) {\n            this.checkSum = ChecksumCalculator.checksumUpdate(this.checkSum, this.inputBuffer, this.inputOffset, end);\n        }\n        while (!(this.inputEnd === this.inputOffset) || !(this.pendingBufLength === 0)) {\n            this.pendingBufferFlush();\n            this.compressData(false);\n        }\n    };\n    /**\n     * write ZLib header to the compressed data\n     * @return {void}\n     */\n    CompressedStreamWriter.prototype.writeZLibHeader = function () {\n        /* Initialize header.*/\n        var headerDate = (8 + (7 << 4)) << 8;\n        /* Save compression level.*/\n        headerDate |= ((5 >> 2) & 3) << 6;\n        /* Align header.*/\n        headerDate += 31 - (headerDate % 31);\n        /* Write header to stream.*/\n        this.pendingBufferWriteShortBytes(headerDate);\n    };\n    /**\n     *  Write Most Significant Bytes in to stream\n     * @param {number} s - check sum value\n     */\n    CompressedStreamWriter.prototype.pendingBufferWriteShortBytes = function (s) {\n        this.pendingBuffer[this.pendingBufLength++] = s >> 8;\n        this.pendingBuffer[this.pendingBufLength++] = s;\n    };\n    CompressedStreamWriter.prototype.compressData = function (finish) {\n        var success;\n        do {\n            this.fillWindow();\n            var canFlush = (finish && this.inputEnd === this.inputOffset);\n            success = this.compressSlow(canFlush, finish);\n        } while (this.pendingBufLength === 0 && success);\n        return success;\n    };\n    CompressedStreamWriter.prototype.compressSlow = function (flush, finish) {\n        if (this.lookAhead < 262 && !flush) {\n            return false;\n        }\n        while (this.lookAhead >= 262 || flush) {\n            if (this.lookAhead === 0) {\n                return this.lookAheadCompleted(finish);\n            }\n            if (this.stringStart >= 2 * this.windowSize - 262) {\n                this.slideWindow();\n            }\n            var prevMatch = this.matchStart;\n            var prevLen = this.matchLength;\n            if (this.lookAhead >= 3) {\n                this.discardMatch();\n            }\n            if (prevLen >= 3 && this.matchLength <= prevLen) {\n                prevLen = this.matchPreviousBest(prevMatch, prevLen);\n            }\n            else {\n                this.matchPreviousAvailable();\n            }\n            if (this.bufferPosition >= (1 << 14)) {\n                return this.huffmanIsFull(finish);\n            }\n        }\n        return true;\n    };\n    CompressedStreamWriter.prototype.discardMatch = function () {\n        var hashHead = this.insertString();\n        if (hashHead !== 0 && this.stringStart - hashHead <= this.maxDist && this.findLongestMatch(hashHead)) {\n            if (this.matchLength <= 5 && (this.matchLength === 3 && this.stringStart - this.matchStart > 4096)) {\n                this.matchLength = 3 - 1;\n            }\n        }\n    };\n    CompressedStreamWriter.prototype.matchPreviousAvailable = function () {\n        if (this.matchPrevAvail) {\n            this.huffmanTallyLit(this.dataWindow[this.stringStart - 1] & 0xff);\n        }\n        this.matchPrevAvail = true;\n        this.stringStart++;\n        this.lookAhead--;\n    };\n    CompressedStreamWriter.prototype.matchPreviousBest = function (prevMatch, prevLen) {\n        this.huffmanTallyDist(this.stringStart - 1 - prevMatch, prevLen);\n        prevLen -= 2;\n        do {\n            this.stringStart++;\n            this.lookAhead--;\n            if (this.lookAhead >= 3) {\n                this.insertString();\n            }\n        } while (--prevLen > 0);\n        this.stringStart++;\n        this.lookAhead--;\n        this.matchPrevAvail = false;\n        this.matchLength = 3 - 1;\n        return prevLen;\n    };\n    CompressedStreamWriter.prototype.lookAheadCompleted = function (finish) {\n        if (this.matchPrevAvail) {\n            this.huffmanTallyLit(this.dataWindow[this.stringStart - 1] & 0xff);\n        }\n        this.matchPrevAvail = false;\n        this.huffmanFlushBlock(this.dataWindow, this.blockStart, this.stringStart - this.blockStart, finish);\n        this.blockStart = this.stringStart;\n        return false;\n    };\n    CompressedStreamWriter.prototype.huffmanIsFull = function (finish) {\n        var len = this.stringStart - this.blockStart;\n        if (this.matchPrevAvail) {\n            len--;\n        }\n        var lastBlock = (finish && this.lookAhead === 0 && !this.matchPrevAvail);\n        this.huffmanFlushBlock(this.dataWindow, this.blockStart, len, lastBlock);\n        this.blockStart += len;\n        return !lastBlock;\n    };\n    CompressedStreamWriter.prototype.fillWindow = function () {\n        if (this.stringStart >= this.windowSize + this.maxDist) {\n            this.slideWindow();\n        }\n        while (this.lookAhead < 262 && this.inputOffset < this.inputEnd) {\n            var more = 2 * this.windowSize - this.lookAhead - this.stringStart;\n            if (more > this.inputEnd - this.inputOffset) {\n                more = this.inputEnd - this.inputOffset;\n            }\n            this.dataWindow.set(this.inputBuffer.subarray(this.inputOffset, this.inputOffset + more), this.stringStart + this.lookAhead);\n            this.inputOffset += more;\n            this.totalBytesIn += more;\n            this.lookAhead += more;\n        }\n        if (this.lookAhead >= 3) {\n            this.updateHash();\n        }\n    };\n    CompressedStreamWriter.prototype.slideWindow = function () {\n        this.dataWindow.set(this.dataWindow.subarray(this.windowSize, this.windowSize + this.windowSize), 0);\n        this.matchStart -= this.windowSize;\n        this.stringStart -= this.windowSize;\n        this.blockStart -= this.windowSize;\n        for (var i = 0; i < this.hashSize; ++i) {\n            var m = this.hashHead[i] & 0xffff;\n            this.hashHead[i] = (((m >= this.windowSize) ? (m - this.windowSize) : 0));\n        }\n        for (var i = 0; i < this.windowSize; i++) {\n            var m = this.hashPrevious[i] & 0xffff;\n            this.hashPrevious[i] = ((m >= this.windowSize) ? (m - this.windowSize) : 0);\n        }\n    };\n    CompressedStreamWriter.prototype.insertString = function () {\n        var match;\n        var hash = ((this.currentHash << this.hashShift) ^ this.dataWindow[this.stringStart + (3 - 1)]) & this.hashMask;\n        this.hashPrevious[this.stringStart & this.windowMask] = match = this.hashHead[hash];\n        this.hashHead[hash] = this.stringStart;\n        this.currentHash = hash;\n        return match & 0xffff;\n    };\n    CompressedStreamWriter.prototype.findLongestMatch = function (curMatch) {\n        var chainLen = 4096;\n        var niceLen = 258;\n        var scan = this.stringStart;\n        var match;\n        var bestEnd = this.stringStart + this.matchLength;\n        var bestLength = Math.max(this.matchLength, 3 - 1);\n        var limit = Math.max(this.stringStart - this.maxDist, 0);\n        var stringEnd = this.stringStart + 258 - 1;\n        var scanEnd1 = this.dataWindow[bestEnd - 1];\n        var scanEnd = this.dataWindow[bestEnd];\n        var data = this.dataWindow;\n        if (bestLength >= 32) {\n            chainLen >>= 2;\n        }\n        if (niceLen > this.lookAhead) {\n            niceLen = this.lookAhead;\n        }\n        do {\n            if (data[curMatch + bestLength] !== scanEnd ||\n                data[curMatch + bestLength - 1] !== scanEnd1 ||\n                data[curMatch] !== data[scan] ||\n                data[curMatch + 1] !== data[scan + 1]) {\n                continue;\n            }\n            match = curMatch + 2;\n            scan += 2;\n            /* tslint:disable */\n            while (data[++scan] === data[++match] && data[++scan] === data[++match] &&\n                data[++scan] === data[++match] && data[++scan] === data[++match] &&\n                data[++scan] === data[++match] && data[++scan] === data[++match] &&\n                data[++scan] === data[++match] && data[++scan] === data[++match] && scan < stringEnd) {\n                /* tslint:disable */\n            }\n            if (scan > bestEnd) {\n                this.matchStart = curMatch;\n                bestEnd = scan;\n                bestLength = scan - this.stringStart;\n                if (bestLength >= niceLen) {\n                    break;\n                }\n                scanEnd1 = data[bestEnd - 1];\n                scanEnd = data[bestEnd];\n            }\n            scan = this.stringStart;\n        } while ((curMatch = (this.hashPrevious[curMatch & this.windowMask] & 0xffff)) > limit && --chainLen !== 0);\n        this.matchLength = Math.min(bestLength, this.lookAhead);\n        return this.matchLength >= 3;\n    };\n    CompressedStreamWriter.prototype.updateHash = function () {\n        this.currentHash = (this.dataWindow[this.stringStart] << this.hashShift) ^ this.dataWindow[this.stringStart + 1];\n    };\n    CompressedStreamWriter.prototype.huffmanTallyLit = function (literal) {\n        this.arrDistances[this.bufferPosition] = 0;\n        this.arrLiterals[this.bufferPosition++] = literal;\n        this.treeLiteral.codeFrequencies[literal]++;\n        return this.bufferPosition >= (1 << 14);\n    };\n    CompressedStreamWriter.prototype.huffmanTallyDist = function (dist, len) {\n        this.arrDistances[this.bufferPosition] = dist;\n        this.arrLiterals[this.bufferPosition++] = (len - 3);\n        var lc = this.huffmanLengthCode(len - 3);\n        this.treeLiteral.codeFrequencies[lc]++;\n        if (lc >= 265 && lc < 285) {\n            this.extraBits += Math.floor((lc - 261) / 4);\n        }\n        var dc = this.huffmanDistanceCode(dist - 1);\n        this.treeDistances.codeFrequencies[dc]++;\n        if (dc >= 4) {\n            this.extraBits += Math.floor((dc / 2 - 1));\n        }\n        return this.bufferPosition >= (1 << 14);\n    };\n    CompressedStreamWriter.prototype.huffmanFlushBlock = function (stored, storedOffset, storedLength, lastBlock) {\n        this.treeLiteral.codeFrequencies[256]++;\n        this.treeLiteral.buildTree();\n        this.treeDistances.buildTree();\n        this.treeLiteral.calculateBLFreq(this.treeCodeLengths);\n        this.treeDistances.calculateBLFreq(this.treeCodeLengths);\n        this.treeCodeLengths.buildTree();\n        var blTreeCodes = 4;\n        for (var i = 18; i > blTreeCodes; i--) {\n            if (this.treeCodeLengths.codeLengths[CompressorHuffmanTree.huffCodeLengthOrders[i]] > 0) {\n                blTreeCodes = i + 1;\n            }\n        }\n        var opt_len = 14 + blTreeCodes * 3 + this.treeCodeLengths.getEncodedLength() +\n            this.treeLiteral.getEncodedLength() + this.treeDistances.getEncodedLength() + this.extraBits;\n        var static_len = this.extraBits;\n        for (var i = 0; i < 286; i++) {\n            static_len += this.treeLiteral.codeFrequencies[i] * arrLiteralLengths[i];\n        }\n        for (var i = 0; i < 30; i++) {\n            static_len += this.treeDistances.codeFrequencies[i] * arrDistanceLengths[i];\n        }\n        if (opt_len >= static_len) {\n            // Force static trees.\n            opt_len = static_len;\n        }\n        if (storedOffset >= 0 && storedLength + 4 < opt_len >> 3) {\n            this.huffmanFlushStoredBlock(stored, storedOffset, storedLength, lastBlock);\n        }\n        else if (opt_len == static_len) {\n            // Encode with static tree.\n            this.pendingBufferWriteBits((1 << 1) + (lastBlock ? 1 : 0), 3);\n            this.treeLiteral.setStaticCodes(arrLiteralCodes, arrLiteralLengths);\n            this.treeDistances.setStaticCodes(arrDistanceCodes, arrDistanceLengths);\n            this.huffmanCompressBlock();\n            this.huffmanReset();\n        }\n        else {\n            this.pendingBufferWriteBits((2 << 1) + (lastBlock ? 1 : 0), 3);\n            this.huffmanSendAllTrees(blTreeCodes);\n            this.huffmanCompressBlock();\n            this.huffmanReset();\n        }\n    };\n    CompressedStreamWriter.prototype.huffmanFlushStoredBlock = function (stored, storedOffset, storedLength, lastBlock) {\n        this.pendingBufferWriteBits((0 << 1) + (lastBlock ? 1 : 0), 3);\n        this.pendingBufferAlignToByte();\n        this.pendingBufferWriteShort(storedLength);\n        this.pendingBufferWriteShort(~storedLength);\n        this.pendingBufferWriteByteBlock(stored, storedOffset, storedLength);\n        this.huffmanReset();\n    };\n    CompressedStreamWriter.prototype.huffmanLengthCode = function (len) {\n        if (len === 255) {\n            return 285;\n        }\n        var code = 257;\n        while (len >= 8) {\n            code += 4;\n            len >>= 1;\n        }\n        return code + len;\n    };\n    CompressedStreamWriter.prototype.huffmanDistanceCode = function (distance) {\n        var code = 0;\n        while (distance >= 4) {\n            code += 2;\n            distance >>= 1;\n        }\n        return code + distance;\n    };\n    CompressedStreamWriter.prototype.huffmanSendAllTrees = function (blTreeCodes) {\n        this.treeCodeLengths.buildCodes();\n        this.treeLiteral.buildCodes();\n        this.treeDistances.buildCodes();\n        this.pendingBufferWriteBits(this.treeLiteral.treeLength - 257, 5);\n        this.pendingBufferWriteBits(this.treeDistances.treeLength - 1, 5);\n        this.pendingBufferWriteBits(blTreeCodes - 4, 4);\n        for (var rank = 0; rank < blTreeCodes; rank++) {\n            this.pendingBufferWriteBits(this.treeCodeLengths.codeLengths[CompressorHuffmanTree.huffCodeLengthOrders[rank]], 3);\n        }\n        this.treeLiteral.writeTree(this.treeCodeLengths);\n        this.treeDistances.writeTree(this.treeCodeLengths);\n    };\n    CompressedStreamWriter.prototype.huffmanReset = function () {\n        this.bufferPosition = 0;\n        this.extraBits = 0;\n        this.treeLiteral.reset();\n        this.treeDistances.reset();\n        this.treeCodeLengths.reset();\n    };\n    CompressedStreamWriter.prototype.huffmanCompressBlock = function () {\n        for (var i = 0; i < this.bufferPosition; i++) {\n            var literalLen = this.arrLiterals[i] & 255;\n            var dist = this.arrDistances[i];\n            if (dist-- !== 0) {\n                var lc = this.huffmanLengthCode(literalLen);\n                this.treeLiteral.writeCodeToStream(lc);\n                var bits = Math.floor((lc - 261) / 4);\n                if (bits > 0 && bits <= 5) {\n                    this.pendingBufferWriteBits(literalLen & ((1 << bits) - 1), bits);\n                }\n                var dc = this.huffmanDistanceCode(dist);\n                this.treeDistances.writeCodeToStream(dc);\n                bits = Math.floor(dc / 2 - 1);\n                if (bits > 0) {\n                    this.pendingBufferWriteBits(dist & ((1 << bits) - 1), bits);\n                }\n            }\n            else {\n                this.treeLiteral.writeCodeToStream(literalLen);\n            }\n        }\n        this.treeLiteral.writeCodeToStream(256);\n    };\n    /**\n     * write bits in to internal buffer\n     * @param {number} b - source of bits\n     * @param {number} count - count of bits to write\n     */\n    CompressedStreamWriter.prototype.pendingBufferWriteBits = function (b, count) {\n        var uint = new Uint32Array(1);\n        uint[0] = this.pendingBufCache | (b << this.pendingBufBitsInCache);\n        this.pendingBufCache = uint[0];\n        this.pendingBufBitsInCache += count;\n        this.pendingBufferFlushBits();\n    };\n    CompressedStreamWriter.prototype.pendingBufferFlush = function (isClose) {\n        this.pendingBufferFlushBits();\n        if (this.pendingBufLength > 0) {\n            var array = new Uint8Array(this.pendingBufLength);\n            array.set(this.pendingBuffer.subarray(0, this.pendingBufLength), 0);\n            this.stream.push(array);\n        }\n        this.pendingBufLength = 0;\n    };\n    CompressedStreamWriter.prototype.pendingBufferFlushBits = function () {\n        var result = 0;\n        while (this.pendingBufBitsInCache >= 8 && this.pendingBufLength < (1 << 16)) {\n            this.pendingBuffer[this.pendingBufLength++] = this.pendingBufCache;\n            this.pendingBufCache >>= 8;\n            this.pendingBufBitsInCache -= 8;\n            result++;\n        }\n        return result;\n    };\n    CompressedStreamWriter.prototype.pendingBufferWriteByteBlock = function (data, offset, length) {\n        var array = data.subarray(offset, offset + length);\n        this.pendingBuffer.set(array, this.pendingBufLength);\n        this.pendingBufLength += length;\n    };\n    CompressedStreamWriter.prototype.pendingBufferWriteShort = function (s) {\n        this.pendingBuffer[this.pendingBufLength++] = s;\n        this.pendingBuffer[this.pendingBufLength++] = (s >> 8);\n    };\n    CompressedStreamWriter.prototype.pendingBufferAlignToByte = function () {\n        if (this.pendingBufBitsInCache > 0) {\n            this.pendingBuffer[this.pendingBufLength++] = this.pendingBufCache;\n        }\n        this.pendingBufCache = 0;\n        this.pendingBufBitsInCache = 0;\n    };\n    /**\n     * close the stream and write all pending buffer in to stream\n     * @returns {void}\n     */\n    CompressedStreamWriter.prototype.close = function () {\n        do {\n            this.pendingBufferFlush(true);\n            if (!this.compressData(true)) {\n                this.pendingBufferFlush(true);\n                this.pendingBufferAlignToByte();\n                if (!this.noWrap) {\n                    this.pendingBufferWriteShortBytes(this.checkSum >> 16);\n                    this.pendingBufferWriteShortBytes(this.checkSum & 0xffff);\n                }\n                this.pendingBufferFlush(true);\n            }\n        } while (!(this.inputEnd === this.inputOffset) ||\n            !(this.pendingBufLength === 0));\n    };\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    CompressedStreamWriter.prototype.destroy = function () {\n        this.stream = [];\n        this.stream = undefined;\n        this.pendingBuffer = undefined;\n        this.treeLiteral = undefined;\n        this.treeDistances = undefined;\n        this.treeCodeLengths = undefined;\n        this.arrLiterals = undefined;\n        this.arrDistances = undefined;\n        this.hashHead = undefined;\n        this.hashPrevious = undefined;\n        this.dataWindow = undefined;\n        this.inputBuffer = undefined;\n        this.pendingBufLength = undefined;\n        this.pendingBufCache = undefined;\n        this.pendingBufBitsInCache = undefined;\n        this.bufferPosition = undefined;\n        this.extraBits = undefined;\n        this.currentHash = undefined;\n        this.matchStart = undefined;\n        this.matchLength = undefined;\n        this.matchPrevAvail = undefined;\n        this.blockStart = undefined;\n        this.stringStart = undefined;\n        this.lookAhead = undefined;\n        this.totalBytesIn = undefined;\n        this.inputOffset = undefined;\n        this.inputEnd = undefined;\n        this.windowSize = undefined;\n        this.windowMask = undefined;\n        this.hashSize = undefined;\n        this.hashMask = undefined;\n        this.hashShift = undefined;\n        this.maxDist = undefined;\n        this.checkSum = undefined;\n        this.noWrap = undefined;\n    };\n    return CompressedStreamWriter;\n}());\nexport { CompressedStreamWriter };\n/**\n * represent the Huffman Tree\n */\nvar CompressorHuffmanTree = /** @class */ (function () {\n    /**\n     * Create new Huffman Tree\n     * @param {CompressedStreamWriter} writer instance\n     * @param {number} elementCount - element count\n     * @param {number} minCodes - minimum count\n     * @param {number} maxLength - maximum count\n     */\n    function CompressorHuffmanTree(writer, elementCount, minCodes, maxLength) {\n        this.writer = writer;\n        this.codeMinCount = minCodes;\n        this.maxLength = maxLength;\n        this.codeFrequency = new Uint16Array(elementCount);\n        this.lengthCount = new Int32Array(maxLength);\n    }\n    Object.defineProperty(CompressorHuffmanTree.prototype, \"treeLength\", {\n        get: function () {\n            return this.codeCount;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompressorHuffmanTree.prototype, \"codeLengths\", {\n        get: function () {\n            return this.codeLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompressorHuffmanTree.prototype, \"codeFrequencies\", {\n        get: function () {\n            return this.codeFrequency;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CompressorHuffmanTree.prototype.setStaticCodes = function (codes, lengths) {\n        var temp = new Int16Array(codes.length);\n        temp.set(codes, 0);\n        this.codes = temp;\n        var lengthTemp = new Uint8Array(lengths.length);\n        lengthTemp.set(lengths, 0);\n        this.codeLength = lengthTemp;\n    };\n    /**\n     * reset all code data in tree\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.reset = function () {\n        for (var i = 0; i < this.codeFrequency.length; i++) {\n            this.codeFrequency[i] = 0;\n        }\n        this.codes = undefined;\n        this.codeLength = undefined;\n    };\n    /**\n     * write code to the compressor output stream\n     * @param {number} code - code to be written\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.writeCodeToStream = function (code) {\n        this.writer.pendingBufferWriteBits(this.codes[code] & 0xffff, this.codeLength[code]);\n    };\n    /**\n     * calculate code from their frequencies\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.buildCodes = function () {\n        var nextCode = new Int32Array(this.maxLength);\n        this.codes = new Int16Array(this.codeCount);\n        var code = 0;\n        for (var bitsCount = 0; bitsCount < this.maxLength; bitsCount++) {\n            nextCode[bitsCount] = code;\n            code += this.lengthCount[bitsCount] << (15 - bitsCount);\n        }\n        for (var i = 0; i < this.codeCount; i++) {\n            var bits = this.codeLength[i];\n            if (bits > 0) {\n                this.codes[i] = CompressorHuffmanTree.bitReverse(nextCode[bits - 1]);\n                nextCode[bits - 1] += 1 << (16 - bits);\n            }\n        }\n    };\n    CompressorHuffmanTree.bitReverse = function (value) {\n        return (CompressorHuffmanTree.reverseBits[value & 15] << 12\n            | CompressorHuffmanTree.reverseBits[(value >> 4) & 15] << 8\n            | CompressorHuffmanTree.reverseBits[(value >> 8) & 15] << 4\n            | CompressorHuffmanTree.reverseBits[value >> 12]);\n    };\n    /**\n     * calculate length of compressed data\n     * @returns {number}\n     */\n    CompressorHuffmanTree.prototype.getEncodedLength = function () {\n        var len = 0;\n        for (var i = 0; i < this.codeFrequency.length; i++) {\n            len += this.codeFrequency[i] * this.codeLength[i];\n        }\n        return len;\n    };\n    /**\n     * calculate code frequencies\n     * @param {CompressorHuffmanTree} blTree\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.calculateBLFreq = function (blTree) {\n        var maxCount;\n        var minCount;\n        var count;\n        var curLen = -1;\n        var i = 0;\n        while (i < this.codeCount) {\n            count = 1;\n            var nextLen = this.codeLength[i];\n            if (nextLen === 0) {\n                maxCount = 138;\n                minCount = 3;\n            }\n            else {\n                maxCount = 6;\n                minCount = 3;\n                if (curLen !== nextLen) {\n                    blTree.codeFrequency[nextLen]++;\n                    count = 0;\n                }\n            }\n            curLen = nextLen;\n            i++;\n            while (i < this.codeCount && curLen === this.codeLength[i]) {\n                i++;\n                if (++count >= maxCount) {\n                    break;\n                }\n            }\n            if (count < minCount) {\n                blTree.codeFrequency[curLen] += count;\n            }\n            else if (curLen !== 0) {\n                blTree.codeFrequency[16]++;\n            }\n            else if (count <= 10) {\n                blTree.codeFrequency[17]++;\n            }\n            else {\n                blTree.codeFrequency[18]++;\n            }\n        }\n    };\n    /**\n     * @param {CompressorHuffmanTree} blTree - write tree to output stream\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.writeTree = function (blTree) {\n        var maxRepeatCount;\n        var minRepeatCount;\n        var currentRepeatCount;\n        var currentCodeLength = -1;\n        var i = 0;\n        while (i < this.codeCount) {\n            currentRepeatCount = 1;\n            var nextLen = this.codeLength[i];\n            if (nextLen === 0) {\n                maxRepeatCount = 138;\n                minRepeatCount = 3;\n            }\n            else {\n                maxRepeatCount = 6;\n                minRepeatCount = 3;\n                if (currentCodeLength !== nextLen) {\n                    blTree.writeCodeToStream(nextLen);\n                    currentRepeatCount = 0;\n                }\n            }\n            currentCodeLength = nextLen;\n            i++;\n            while (i < this.codeCount && currentCodeLength === this.codeLength[i]) {\n                i++;\n                if (++currentRepeatCount >= maxRepeatCount) {\n                    break;\n                }\n            }\n            if (currentRepeatCount < minRepeatCount) {\n                while (currentRepeatCount-- > 0) {\n                    blTree.writeCodeToStream(currentCodeLength);\n                }\n            }\n            else if (currentCodeLength !== 0) {\n                blTree.writeCodeToStream(16);\n                this.writer.pendingBufferWriteBits(currentRepeatCount - 3, 2);\n            }\n            else if (currentRepeatCount <= 10) {\n                blTree.writeCodeToStream(17);\n                this.writer.pendingBufferWriteBits(currentRepeatCount - 3, 3);\n            }\n            else {\n                blTree.writeCodeToStream(18);\n                this.writer.pendingBufferWriteBits(currentRepeatCount - 11, 7);\n            }\n        }\n    };\n    /**\n     * Build huffman tree\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.buildTree = function () {\n        var codesCount = this.codeFrequency.length;\n        var arrTree = new Int32Array(codesCount);\n        var treeLength = 0;\n        var maxCount = 0;\n        for (var n = 0; n < codesCount; n++) {\n            var freq = this.codeFrequency[n];\n            if (freq !== 0) {\n                var pos = treeLength++;\n                var pPos = 0;\n                while (pos > 0 && this.codeFrequency[arrTree[pPos = Math.floor((pos - 1) / 2)]] > freq) {\n                    arrTree[pos] = arrTree[pPos];\n                    pos = pPos;\n                }\n                arrTree[pos] = n;\n                maxCount = n;\n            }\n        }\n        while (treeLength < 2) {\n            arrTree[treeLength++] =\n                (maxCount < 2) ? ++maxCount : 0;\n        }\n        this.codeCount = Math.max(maxCount + 1, this.codeMinCount);\n        var leafsCount = treeLength;\n        var nodesCount = leafsCount;\n        var child = new Int32Array(4 * treeLength - 2);\n        var values = new Int32Array(2 * treeLength - 1);\n        for (var i = 0; i < treeLength; i++) {\n            var node = arrTree[i];\n            var iIndex = 2 * i;\n            child[iIndex] = node;\n            child[iIndex + 1] = -1;\n            values[i] = (this.codeFrequency[node] << 8);\n            arrTree[i] = i;\n        }\n        this.constructHuffmanTree(arrTree, treeLength, values, nodesCount, child);\n        this.buildLength(child);\n    };\n    CompressorHuffmanTree.prototype.constructHuffmanTree = function (arrTree, treeLength, values, nodesCount, child) {\n        do {\n            var first = arrTree[0];\n            var last = arrTree[--treeLength];\n            var lastVal = values[last];\n            var pPos = 0;\n            var path = 1;\n            while (path < treeLength) {\n                if (path + 1 < treeLength && values[arrTree[path]] > values[arrTree[path + 1]]) {\n                    path++;\n                }\n                arrTree[pPos] = arrTree[path];\n                pPos = path;\n                path = pPos * 2 + 1;\n            }\n            while ((path = pPos) > 0 && values[arrTree[pPos = Math.floor((path - 1) / 2)]] > lastVal) {\n                arrTree[path] = arrTree[pPos];\n            }\n            arrTree[path] = last;\n            var second = arrTree[0];\n            last = nodesCount++;\n            child[2 * last] = first;\n            child[2 * last + 1] = second;\n            var minDepth = Math.min(values[first] & 0xff, values[second] & 0xff);\n            values[last] = lastVal = values[first] + values[second] - minDepth + 1;\n            pPos = 0;\n            path = 1;\n            /* tslint:disable */\n            while (path < treeLength) {\n                if (path + 1 < treeLength && values[arrTree[path]] > values[arrTree[path + 1]]) {\n                    path++;\n                }\n                arrTree[pPos] = arrTree[path];\n                pPos = path;\n                path = pPos * 2 + 1;\n            } /* tslint:disable */\n            while ((path = pPos) > 0 && values[arrTree[pPos = Math.floor((path - 1) / 2)]] > lastVal) {\n                arrTree[path] = arrTree[pPos];\n            }\n            arrTree[path] = last;\n        } while (treeLength > 1);\n    };\n    CompressorHuffmanTree.prototype.buildLength = function (child) {\n        this.codeLength = new Uint8Array(this.codeFrequency.length);\n        var numNodes = Math.floor(child.length / 2);\n        var numLeafs = Math.floor((numNodes + 1) / 2);\n        var overflow = 0;\n        for (var i = 0; i < this.maxLength; i++) {\n            this.lengthCount[i] = 0;\n        }\n        overflow = this.calculateOptimalCodeLength(child, overflow, numNodes);\n        if (overflow === 0) {\n            return;\n        }\n        var iIncreasableLength = this.maxLength - 1;\n        do {\n            while (this.lengthCount[--iIncreasableLength] === 0) {\n                /* tslint:disable */\n            }\n            do {\n                this.lengthCount[iIncreasableLength]--;\n                this.lengthCount[++iIncreasableLength]++;\n                overflow -= (1 << (this.maxLength - 1 - iIncreasableLength));\n            } while (overflow > 0 && iIncreasableLength < this.maxLength - 1);\n        } while (overflow > 0);\n        this.recreateTree(child, overflow, numLeafs);\n    };\n    CompressorHuffmanTree.prototype.recreateTree = function (child, overflow, numLeafs) {\n        this.lengthCount[this.maxLength - 1] += overflow;\n        this.lengthCount[this.maxLength - 2] -= overflow;\n        var nodePtr = 2 * numLeafs;\n        for (var bits = this.maxLength; bits !== 0; bits--) {\n            var n = this.lengthCount[bits - 1];\n            while (n > 0) {\n                var childPtr = 2 * child[nodePtr++];\n                if (child[childPtr + 1] === -1) {\n                    this.codeLength[child[childPtr]] = bits;\n                    n--;\n                }\n            }\n        }\n    };\n    CompressorHuffmanTree.prototype.calculateOptimalCodeLength = function (child, overflow, numNodes) {\n        var lengths = new Int32Array(numNodes);\n        lengths[numNodes - 1] = 0;\n        for (var i = numNodes - 1; i >= 0; i--) {\n            var childIndex = 2 * i + 1;\n            if (child[childIndex] !== -1) {\n                var bitLength = lengths[i] + 1;\n                if (bitLength > this.maxLength) {\n                    bitLength = this.maxLength;\n                    overflow++;\n                }\n                lengths[child[childIndex - 1]] = lengths[child[childIndex]] = bitLength;\n            }\n            else {\n                var bitLength = lengths[i];\n                this.lengthCount[bitLength - 1]++;\n                this.codeLength[child[childIndex - 1]] = lengths[i];\n            }\n        }\n        return overflow;\n    };\n    CompressorHuffmanTree.reverseBits = [0, 8, 4, 12, 2, 10, 6, 14, 1, 9, 5, 13, 3, 11, 7, 15];\n    CompressorHuffmanTree.huffCodeLengthOrders = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];\n    return CompressorHuffmanTree;\n}());\nexport { CompressorHuffmanTree };\n/**\n * Checksum calculator, based on Adler32 algorithm.\n */\nvar ChecksumCalculator = /** @class */ (function () {\n    function ChecksumCalculator() {\n    }\n    /**\n     * Updates checksum by calculating checksum of the\n     * given buffer and adding it to current value.\n     * @param {number} checksum - current checksum.\n     * @param {Uint8Array} buffer - data byte array.\n     * @param {number} offset - offset in the buffer.\n     * @param {number} length - length of data to be used from the stream.\n     * @returns {number}\n     */\n    ChecksumCalculator.checksumUpdate = function (checksum, buffer, offset, length) {\n        var uint = new Uint32Array(1);\n        uint[0] = checksum;\n        var checksum_uint = uint[0];\n        var s1 = uint[0] = checksum_uint & 65535;\n        var s2 = uint[0] = checksum_uint >> ChecksumCalculator.checkSumBitOffset;\n        while (length > 0) {\n            var steps = Math.min(length, ChecksumCalculator.checksumIterationCount);\n            length -= steps;\n            while (--steps >= 0) {\n                s1 = s1 + (uint[0] = (buffer[offset++] & 255));\n                s2 = s2 + s1;\n            }\n            s1 %= ChecksumCalculator.checksumBase;\n            s2 %= ChecksumCalculator.checksumBase;\n        }\n        checksum_uint = (s2 << ChecksumCalculator.checkSumBitOffset) | s1;\n        return checksum_uint;\n    };\n    ChecksumCalculator.checkSumBitOffset = 16;\n    ChecksumCalculator.checksumBase = 65521;\n    ChecksumCalculator.checksumIterationCount = 3800;\n    return ChecksumCalculator;\n}());\nexport { ChecksumCalculator };\n/**\n * Huffman Tree literal calculation\n */\n(function () {\n    var i = 0;\n    while (i < 144) {\n        arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse((0x030 + i) << 8);\n        arrLiteralLengths[i++] = 8;\n    }\n    while (i < 256) {\n        arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse((0x190 - 144 + i) << 7);\n        arrLiteralLengths[i++] = 9;\n    }\n    while (i < 280) {\n        arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse((0x000 - 256 + i) << 9);\n        arrLiteralLengths[i++] = 7;\n    }\n    while (i < 286) {\n        arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse((0x0c0 - 280 + i) << 8);\n        arrLiteralLengths[i++] = 8;\n    }\n    for (i = 0; i < 30; i++) {\n        arrDistanceCodes[i] = CompressorHuffmanTree.bitReverse(i << 11);\n        arrDistanceLengths[i] = 5;\n    }\n})();\n","import { CompressedStreamWriter } from './compression-writer';\nimport { Save } from '@syncfusion/ej2-file-utils';\nvar crc32Table = [];\n/**\n * class provide compression library\n * ```typescript\n * let archive = new ZipArchive();\n * archive.compressionLevel = 'Normal';\n * let archiveItem = new ZipArchiveItem(archive, 'directoryName\\fileName.txt');\n * archive.addItem(archiveItem);\n * archive.save(fileName.zip);\n * ```\n */\nvar ZipArchive = /** @class */ (function () {\n    /**\n     * constructor for creating ZipArchive instance\n     */\n    function ZipArchive() {\n        this.files = [];\n        this.level = 'Normal';\n        Save.isMicrosoftBrowser = !(!navigator.msSaveBlob);\n    }\n    Object.defineProperty(ZipArchive.prototype, \"compressionLevel\", {\n        /**\n         * gets compression level\n         */\n        get: function () {\n            return this.level;\n        },\n        /**\n         * sets compression level\n         */\n        set: function (level) {\n            this.level = level;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ZipArchive.prototype, \"length\", {\n        /**\n         * gets items count\n         */\n        get: function () {\n            if (this.files === undefined) {\n                return 0;\n            }\n            return this.files.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * add new item to archive\n     * @param {ZipArchiveItem} item - item to be added\n     * @returns {void}\n     */\n    ZipArchive.prototype.addItem = function (item) {\n        if (item === null || item === undefined) {\n            throw new Error('ArgumentException: item cannot be null or undefined');\n        }\n        for (var i = 0; i < this.files.length; i++) {\n            var file = this.files[i];\n            if (file instanceof ZipArchiveItem) {\n                if (file.name === item.name) {\n                    throw new Error('item with same name already exist');\n                }\n            }\n        }\n        this.files.push(item);\n    };\n    /**\n     * add new directory to archive\n     * @param directoryName directoryName to be created\n     * @returns {void}\n     */\n    ZipArchive.prototype.addDirectory = function (directoryName) {\n        if (directoryName === null || directoryName === undefined) {\n            throw new Error('ArgumentException: string cannot be null or undefined');\n        }\n        if (directoryName.length === 0) {\n            throw new Error('ArgumentException: string cannot be empty');\n        }\n        if (directoryName.slice(-1) !== '/') {\n            directoryName += '/';\n        }\n        if (this.files.indexOf(directoryName) !== -1) {\n            throw new Error('item with same name already exist');\n        }\n        this.files.push(directoryName);\n    };\n    /**\n     * gets item at specified index\n     * @param {number} index - item index\n     * @returns {ZipArchiveItem}\n     */\n    ZipArchive.prototype.getItem = function (index) {\n        if (index >= 0 && index < this.files.length) {\n            return this.files[index];\n        }\n        return undefined;\n    };\n    /**\n     * determines whether an element is in the collection\n     * @param {string | ZipArchiveItem} item - item to search\n     * @returns {boolean}\n     */\n    ZipArchive.prototype.contains = function (item) {\n        return this.files.indexOf(item) !== -1 ? true : false;\n    };\n    /**\n     * save archive with specified file name\n     * @param {string} fileName save archive with specified file name\n     * @returns {Promise<ZipArchive>}\n     */\n    ZipArchive.prototype.save = function (fileName) {\n        if (fileName === null || fileName === undefined || fileName.length === 0) {\n            throw new Error('ArgumentException: fileName cannot be null or undefined');\n        }\n        if (this.files.length === 0) {\n            throw new Error('InvalidOperation');\n        }\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            zipArchive.saveInternal(fileName, false).then(function () {\n                resolve(zipArchive);\n            });\n        });\n    };\n    /**\n     * Save archive as blob\n     * @return {Promise<Blob>}\n     */\n    ZipArchive.prototype.saveAsBlob = function () {\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            zipArchive.saveInternal('', true).then(function (blob) {\n                resolve(blob);\n            });\n        });\n    };\n    ZipArchive.prototype.saveInternal = function (fileName, skipFileSave) {\n        var _this = this;\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            var zipData = [];\n            var dirLength = 0;\n            for (var i = 0; i < zipArchive.files.length; i++) {\n                var compressedObject = _this.getCompressedData(_this.files[i]);\n                compressedObject.then(function (data) {\n                    dirLength = zipArchive.constructZippedObject(zipData, data, dirLength, data.isDirectory);\n                    if (zipData.length === zipArchive.files.length) {\n                        var blob = zipArchive.writeZippedContent(fileName, zipData, dirLength, skipFileSave);\n                        resolve(blob);\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    ZipArchive.prototype.destroy = function () {\n        if (this.files !== undefined && this.files.length > 0) {\n            for (var i = 0; i < this.files.length; i++) {\n                var file = this.files[i];\n                if (file instanceof ZipArchiveItem) {\n                    file.destroy();\n                }\n                file = undefined;\n            }\n            this.files = [];\n        }\n        this.files = undefined;\n        this.level = undefined;\n    };\n    ZipArchive.prototype.getCompressedData = function (item) {\n        var zipArchive = this;\n        var promise = new Promise(function (resolve, reject) {\n            if (item instanceof ZipArchiveItem) {\n                var reader_1 = new FileReader();\n                reader_1.onload = function () {\n                    var input = new Uint8Array(reader_1.result);\n                    var data = {\n                        fileName: item.name, crc32Value: 0, compressedData: [],\n                        compressedSize: undefined, uncompressedDataSize: input.length, compressionType: undefined,\n                        isDirectory: false\n                    };\n                    if (zipArchive.level === 'Normal') {\n                        zipArchive.compressData(input, data, crc32Table);\n                        var length_1 = 0;\n                        for (var i = 0; i < data.compressedData.length; i++) {\n                            length_1 += data.compressedData[i].length;\n                        }\n                        data.compressedSize = length_1;\n                        data.compressionType = '\\x08\\x00'; //Deflated = 8\n                    }\n                    else {\n                        data.compressedSize = input.length;\n                        data.crc32Value = zipArchive.calculateCrc32Value(0, input, crc32Table);\n                        data.compressionType = '\\x00\\x00'; // Stored = 0\n                        data.compressedData.push(input);\n                    }\n                    resolve(data);\n                };\n                reader_1.readAsArrayBuffer(item.data);\n            }\n            else {\n                var data = {\n                    fileName: item, crc32Value: 0, compressedData: '', compressedSize: 0, uncompressedDataSize: 0,\n                    compressionType: '\\x00\\x00', isDirectory: true\n                };\n                resolve(data);\n            }\n        });\n        return promise;\n    };\n    ZipArchive.prototype.compressData = function (input, data, crc32Table) {\n        var compressor = new CompressedStreamWriter(true);\n        var currentIndex = 0;\n        var nextIndex = 0;\n        do {\n            if (currentIndex >= input.length) {\n                compressor.close();\n                break;\n            }\n            nextIndex = Math.min(input.length, currentIndex + 16384);\n            var subArray = input.subarray(currentIndex, nextIndex);\n            data.crc32Value = this.calculateCrc32Value(data.crc32Value, subArray, crc32Table);\n            compressor.write(subArray, 0, nextIndex - currentIndex);\n            currentIndex = nextIndex;\n        } while (currentIndex <= input.length);\n        data.compressedData = compressor.compressedData;\n        compressor.destroy();\n    };\n    ZipArchive.prototype.constructZippedObject = function (zipParts, data, dirLength, isDirectory) {\n        var extFileAttr = 0;\n        var date = new Date();\n        if (isDirectory) {\n            extFileAttr = extFileAttr | 0x00010; // directory flag\n        }\n        extFileAttr = extFileAttr | (0 & 0x3F);\n        var header = this.writeHeader(data, date);\n        var localHeader = 'PK\\x03\\x04' + header + data.fileName;\n        var centralDir = this.writeCentralDirectory(data, header, dirLength, extFileAttr);\n        zipParts.push({ localHeader: localHeader, centralDir: centralDir, compressedData: data });\n        return dirLength + localHeader.length + data.compressedSize;\n    };\n    ZipArchive.prototype.writeHeader = function (data, date) {\n        var zipHeader = '';\n        zipHeader += '\\x0A\\x00' + '\\x00\\x00'; // version needed to extract & general purpose bit flag\n        zipHeader += data.compressionType; // compression method Deflate=8,Stored=0\n        zipHeader += this.getBytes(this.getModifiedTime(date), 2); // last modified Time\n        zipHeader += this.getBytes(this.getModifiedDate(date), 2); // last modified date\n        zipHeader += this.getBytes(data.crc32Value, 4); // crc-32 value\n        zipHeader += this.getBytes(data.compressedSize, 4); // compressed file size\n        zipHeader += this.getBytes(data.uncompressedDataSize, 4); // uncompressed file size\n        zipHeader += this.getBytes(data.fileName.length, 2); // file name length\n        zipHeader += this.getBytes(0, 2); // extra field length\n        return zipHeader;\n    };\n    ZipArchive.prototype.writeZippedContent = function (fileName, zipData, localDirLen, skipFileSave) {\n        var cenDirLen = 0;\n        var buffer = [];\n        for (var i = 0; i < zipData.length; i++) {\n            var item = zipData[i];\n            cenDirLen += item.centralDir.length;\n            buffer.push(this.getArrayBuffer(item.localHeader));\n            while (item.compressedData.compressedData.length) {\n                buffer.push(item.compressedData.compressedData.shift().buffer);\n            }\n        }\n        for (var i = 0; i < zipData.length; i++) {\n            buffer.push(this.getArrayBuffer(zipData[i].centralDir));\n        }\n        buffer.push(this.getArrayBuffer(this.writeFooter(zipData, cenDirLen, localDirLen)));\n        var blob = new Blob(buffer, { type: 'application/zip' });\n        if (!skipFileSave) {\n            Save.save(fileName, blob);\n        }\n        return blob;\n    };\n    ZipArchive.prototype.writeCentralDirectory = function (data, localHeader, offset, externalFileAttribute) {\n        var directoryHeader = 'PK\\x01\\x02' +\n            this.getBytes(0x0014, 2) + localHeader + // inherit from file header\n            this.getBytes(0, 2) + // comment length\n            '\\x00\\x00' + '\\x00\\x00' + // internal file attributes \n            this.getBytes(externalFileAttribute, 4) + // external file attributes\n            this.getBytes(offset, 4) + // local fileHeader relative offset\n            data.fileName;\n        return directoryHeader;\n    };\n    ZipArchive.prototype.writeFooter = function (zipData, centralLength, localLength) {\n        var dirEnd = 'PK\\x05\\x06' + '\\x00\\x00' + '\\x00\\x00' +\n            this.getBytes(zipData.length, 2) + this.getBytes(zipData.length, 2) +\n            this.getBytes(centralLength, 4) + this.getBytes(localLength, 4) +\n            this.getBytes(0, 2);\n        return dirEnd;\n    };\n    ZipArchive.prototype.getArrayBuffer = function (input) {\n        var a = new Uint8Array(input.length);\n        for (var j = 0; j < input.length; ++j) {\n            a[j] = input.charCodeAt(j) & 0xFF;\n        }\n        return a.buffer;\n    };\n    ZipArchive.prototype.getBytes = function (value, offset) {\n        var bytes = '';\n        for (var i = 0; i < offset; i++) {\n            bytes += String.fromCharCode(value & 0xff);\n            value = value >>> 8;\n        }\n        return bytes;\n    };\n    ZipArchive.prototype.getModifiedTime = function (date) {\n        var modTime = date.getHours();\n        modTime = modTime << 6;\n        modTime = modTime | date.getMinutes();\n        modTime = modTime << 5;\n        return modTime = modTime | date.getSeconds() / 2;\n    };\n    ZipArchive.prototype.getModifiedDate = function (date) {\n        var modiDate = date.getFullYear() - 1980;\n        modiDate = modiDate << 4;\n        modiDate = modiDate | (date.getMonth() + 1);\n        modiDate = modiDate << 5;\n        return modiDate = modiDate | date.getDate();\n    };\n    ZipArchive.prototype.calculateCrc32Value = function (crc32Value, input, crc32Table) {\n        crc32Value ^= -1;\n        for (var i = 0; i < input.length; i++) {\n            crc32Value = (crc32Value >>> 8) ^ crc32Table[(crc32Value ^ input[i]) & 0xFF];\n        }\n        return (crc32Value ^ (-1));\n    };\n    return ZipArchive;\n}());\nexport { ZipArchive };\n/**\n * Class represent unique ZipArchive item\n * ```typescript\n * let archiveItem = new ZipArchiveItem(archive, 'directoryName\\fileName.txt');\n * ```\n */\nvar ZipArchiveItem = /** @class */ (function () {\n    /**\n     * constructor for creating {ZipArchiveItem} instance\n     * @param {Blob|ArrayBuffer} data file data\n     * @param {itemName} itemName absolute file path\n     */\n    function ZipArchiveItem(data, itemName) {\n        if (data === null || data === undefined) {\n            throw new Error('ArgumentException: data cannot be null or undefined');\n        }\n        if (itemName === null || itemName === undefined) {\n            throw new Error('ArgumentException: string cannot be null or undefined');\n        }\n        if (itemName.length === 0) {\n            throw new Error('string cannot be empty');\n        }\n        this.data = data;\n        this.name = itemName;\n    }\n    Object.defineProperty(ZipArchiveItem.prototype, \"name\", {\n        /**\n         * Get the name of archive item\n         * @returns string\n         */\n        get: function () {\n            return this.fileName;\n        },\n        /**\n         * Set the name of archive item\n         * @param  {string} value\n         */\n        set: function (value) {\n            this.fileName = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    ZipArchiveItem.prototype.destroy = function () {\n        this.fileName = undefined;\n        this.data = undefined;\n    };\n    return ZipArchiveItem;\n}());\nexport { ZipArchiveItem };\n/**\n * construct cyclic redundancy code table\n */\n(function () {\n    var i;\n    for (var j = 0; j < 256; j++) {\n        i = j;\n        for (var k = 0; k < 8; k++) {\n            i = ((i & 1) ? (0xEDB88320 ^ (i >>> 1)) : (i >>> 1));\n        }\n        crc32Table[j] = i;\n    }\n})();\n","/**\n * `PdfString` class is used to perform string related primitive operations.\n * @private\n */\nexport var InternalEnum;\n(function (InternalEnum) {\n    //Internals\n    /**\n     * public Enum for `ForceEncoding`.\n     * @private\n     */\n    var ForceEncoding;\n    (function (ForceEncoding) {\n        /**\n         * Specifies the type of `None`.\n         * @private\n         */\n        ForceEncoding[ForceEncoding[\"None\"] = 0] = \"None\";\n        /**\n         * Specifies the type of `Ascii`.\n         * @private\n         */\n        ForceEncoding[ForceEncoding[\"Ascii\"] = 1] = \"Ascii\";\n        /**\n         * Specifies the type of `Unicode`.\n         * @private\n         */\n        ForceEncoding[ForceEncoding[\"Unicode\"] = 2] = \"Unicode\";\n    })(ForceEncoding = InternalEnum.ForceEncoding || (InternalEnum.ForceEncoding = {}));\n    /**\n     * public Enum for `SourceType`.\n     * @private\n     */\n    var SourceType;\n    (function (SourceType) {\n        /**\n         * Specifies the type of `StringValue`.\n         * @private\n         */\n        SourceType[SourceType[\"StringValue\"] = 0] = \"StringValue\";\n        /**\n         * Specifies the type of `ByteBuffer`.\n         * @private\n         */\n        SourceType[SourceType[\"ByteBuffer\"] = 1] = \"ByteBuffer\";\n    })(SourceType || (SourceType = {}));\n})(InternalEnum || (InternalEnum = {}));\nvar PdfString = /** @class */ (function () {\n    function PdfString(value) {\n        /**\n         * Value indicating whether the string was converted to hex.\n         * @default false\n         * @private\n         */\n        this.bHex = false;\n        /**\n         * Internal variable to store the `position`.\n         * @default -1\n         * @private\n         */\n        this.position1 = -1;\n        /**\n         * Internal variable to hold `cloned object`.\n         * @default null\n         * @private\n         */\n        this.clonedObject1 = null;\n        /**\n         * `Shows` if the data of the stream was decrypted.\n         * @default false\n         * @private\n         */\n        this.bDecrypted = false;\n        /**\n         * Shows if the data of the stream `was decrypted`.\n         * @default false\n         * @private\n         */\n        this.isParentDecrypted = false;\n        /**\n         * Gets a value indicating whether the object is `packed or not`.\n         * @default false\n         * @private\n         */\n        this.isPacked = false;\n        /**\n         * @hidden\n         * @private\n         */\n        this.isFormField = false;\n        /**\n         * @hidden\n         * @private\n         */\n        this.isColorSpace = false;\n        /**\n         * @hidden\n         * @private\n         */\n        this.isHexString = true;\n        if (typeof value === 'undefined') {\n            this.bHex = false;\n        }\n        else {\n            if (!(value.length > 0 && value[0] === '0xfeff')) {\n                this.stringValue = value;\n                this.data = [];\n                for (var i = 0; i < value.length; ++i) {\n                    this.data.push(value.charCodeAt(i));\n                }\n            }\n        }\n    }\n    Object.defineProperty(PdfString.prototype, \"hex\", {\n        //Property\n        /**\n         * Gets a value indicating whether string is in `hex`.\n         * @private\n         */\n        get: function () {\n            return this.bHex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfString.prototype, \"value\", {\n        /**\n         * Gets or sets string `value` of the object.\n         * @private\n         */\n        get: function () {\n            return this.stringValue;\n        },\n        set: function (value) {\n            this.stringValue = value;\n            this.data = null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfString.prototype, \"status\", {\n        /**\n         * Gets or sets the `Status` of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.status1;\n        },\n        set: function (value) {\n            this.status1 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfString.prototype, \"isSaving\", {\n        /**\n         * Gets or sets a value indicating whether this document `is saving` or not.\n         * @private\n         */\n        get: function () {\n            return this.isSaving1;\n        },\n        set: function (value) {\n            this.isSaving1 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfString.prototype, \"objectCollectionIndex\", {\n        /**\n         * Gets or sets the `index` value of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.index1;\n        },\n        set: function (value) {\n            this.index1 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfString.prototype, \"clonedObject\", {\n        /**\n         * Returns `cloned object`.\n         * @private\n         */\n        get: function () {\n            return this.clonedObject1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfString.prototype, \"position\", {\n        /**\n         * Gets or sets the `position` of the object.\n         * @private\n         */\n        get: function () {\n            return this.position1;\n        },\n        set: function (value) {\n            this.position1 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfString.prototype, \"CrossTable\", {\n        /**\n         * Returns `PdfCrossTable` associated with the object.\n         * @private\n         */\n        get: function () {\n            return this.crossTable;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Methods\n    /**\n     * Converts `bytes to string using hex format` for representing string.\n     * @private\n     */\n    PdfString.bytesToHex = function (bytes) {\n        if (bytes == null) {\n            return '';\n        }\n        var builder = '';\n        return builder;\n    };\n    /**\n     * `Saves` the object using the specified writer.\n     * @private\n     */\n    PdfString.prototype.save = function (writer) {\n        if (writer === null) {\n            throw new Error('ArgumentNullException : writer');\n        }\n        writer.write(PdfString.stringMark[0] + this.value + PdfString.stringMark[1]);\n    };\n    /**\n     * Creates a `copy of PdfString`.\n     * @private\n     */\n    PdfString.prototype.clone = function (crossTable) {\n        if (this.clonedObject1 !== null && this.clonedObject1.CrossTable === crossTable) {\n            return this.clonedObject1;\n        }\n        else {\n            this.clonedObject1 = null;\n        }\n        var newString = new PdfString(this.stringValue);\n        newString.bHex = this.bHex;\n        newString.crossTable = crossTable;\n        newString.isColorSpace = this.isColorSpace;\n        this.clonedObject1 = newString;\n        return newString;\n    };\n    //constants = ;\n    /**\n     * `General markers` for string.\n     * @private\n     */\n    PdfString.stringMark = '()';\n    /**\n     * `Hex markers` for string.\n     * @private\n     */\n    PdfString.hexStringMark = '<>';\n    /**\n     * Format of password data.\n     * @private\n     */\n    PdfString.hexFormatPattern = '{0:X2}';\n    return PdfString;\n}());\nexport { PdfString };\n","/**\n * Dictionary.ts class for EJ2-PDF\n * @private\n * @hidden\n */\nimport { defaultToString } from './utils';\n/**\n * @private\n * @hidden\n */\nvar Dictionary = /** @class */ (function () {\n    /**\n     * @private\n     * @hidden\n     */\n    function Dictionary(toStringFunction) {\n        this.table = {};\n        this.nElements = 0;\n        this.toStr = toStringFunction || defaultToString;\n    }\n    /**\n     * @private\n     * @hidden\n     */\n    Dictionary.prototype.getValue = function (key) {\n        var pair = this.table['$' + this.toStr(key)];\n        if (typeof pair === 'undefined') {\n            return undefined;\n        }\n        return pair.value;\n    };\n    /**\n     * @private\n     * @hidden\n     */\n    Dictionary.prototype.setValue = function (key, value) {\n        // if (typeof key === 'undefined' || typeof value === 'undefined') {\n        //     return undefined;\n        // }\n        var ret;\n        var k = '$' + this.toStr(key);\n        var previousElement = this.table[k];\n        // if (typeof previousElement === 'undefined') {\n        this.nElements++;\n        ret = undefined;\n        // }\n        this.table[k] = {\n            key: key,\n            value: value\n        };\n        return ret;\n    };\n    /**\n     * @private\n     * @hidden\n     */\n    Dictionary.prototype.remove = function (key) {\n        var k = '$' + this.toStr(key);\n        var previousElement = this.table[k];\n        // if (typeof previousElement !== 'undefined') {\n        delete this.table[k];\n        this.nElements--;\n        return previousElement.value;\n        // }\n        // return undefined;\n    };\n    /**\n     * @private\n     * @hidden\n     */\n    Dictionary.prototype.keys = function () {\n        var keysArray = [];\n        var namesOfKeys = Object.keys(this.table);\n        for (var index1 = 0; index1 < namesOfKeys.length; index1++) {\n            // if (Object.prototype.hasOwnProperty.call(this.table, namesOfKeys[index1])) {\n            var pair1 = this.table[namesOfKeys[index1]];\n            keysArray.push(pair1.key);\n            // }\n        }\n        return keysArray;\n    };\n    /**\n     * @private\n     * @hidden\n     */\n    Dictionary.prototype.values = function () {\n        var valuesArray = [];\n        var namesOfValues = Object.keys(this.table);\n        for (var index2 = 0; index2 < namesOfValues.length; index2++) {\n            // if (Object.prototype.hasOwnProperty.call(this.table, namesOfValues[index2])) {\n            var pair2 = this.table[namesOfValues[index2]];\n            valuesArray.push(pair2.value);\n            // }\n        }\n        return valuesArray;\n    };\n    /**\n     * @private\n     * @hidden\n     */\n    Dictionary.prototype.containsKey = function (key) {\n        var retutnValue = true;\n        if (typeof this.getValue(key) === 'undefined') {\n            retutnValue = true;\n        }\n        else {\n            retutnValue = false;\n        }\n        return !retutnValue;\n    };\n    /**\n     * @private\n     * @hidden\n     */\n    Dictionary.prototype.clear = function () {\n        this.table = {};\n        this.nElements = 0;\n    };\n    /**\n     * @private\n     * @hidden\n     */\n    Dictionary.prototype.size = function () {\n        return this.nElements;\n    };\n    return Dictionary;\n}()); // End of dictionary\nexport { Dictionary };\n","/**\n * `PdfName` class is used to perform name (element names) related primitive operations.\n * @private\n */\nvar PdfName = /** @class */ (function () {\n    function PdfName(value) {\n        /**\n         * `Start symbol` of the name object.\n         * @default /\n         * @private\n         */\n        this.stringStartMark = '/';\n        /**\n         * `Value` of the element.\n         * @private\n         */\n        this.internalValue = '';\n        /**\n         * Indicates if the object is currently in `saving state or not`.\n         * @default false\n         * @private\n         */\n        this.isSaving6 = false;\n        /**\n         * Internal variable to store the `position`.\n         * @default -1\n         * @private\n         */\n        this.position6 = -1;\n        this.internalValue = this.normalizeValue(value);\n    }\n    Object.defineProperty(PdfName.prototype, \"status\", {\n        //property\n        /**\n         * Gets or sets the `Status` of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.status6;\n        },\n        set: function (value) {\n            this.status6 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfName.prototype, \"isSaving\", {\n        /**\n         * Gets or sets a value indicating whether this document `is saving` or not.\n         * @private\n         */\n        get: function () {\n            return this.isSaving6;\n        },\n        set: function (value) {\n            this.isSaving6 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfName.prototype, \"objectCollectionIndex\", {\n        /**\n         * Gets or sets the `index` value of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.index6;\n        },\n        set: function (value) {\n            this.index6 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfName.prototype, \"position\", {\n        /**\n         * Gets or sets the `position` of the object.\n         * @private\n         */\n        get: function () {\n            return this.position6;\n        },\n        set: function (value) {\n            this.position6 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfName.prototype, \"clonedObject\", {\n        /**\n         * Returns `cloned object`.\n         * @private\n         */\n        get: function () {\n            return null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfName.prototype, \"value\", {\n        /**\n         * Gets or sets the `value` of the object.\n         * @private\n         */\n        get: function () {\n            return this.internalValue;\n        },\n        set: function (value) {\n            // if (value !== this.value) {\n            var val = value;\n            if (value !== null && value.length > 0) {\n                // val = (value.substring(0, 1) === this.stringStartMark) ? value.substring(1) : value;\n                val = value;\n                this.internalValue = this.normalizeValue(val);\n            }\n            else {\n                this.internalValue = val;\n            }\n            // }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //public methods\n    /**\n     * `Saves` the name using the specified writer.\n     * @private\n     */\n    PdfName.prototype.save = function (writer) {\n        // if (writer === null) {\n        //     throw new Error('ArgumentNullException : writer');\n        // }\n        writer.write(this.toString());\n    };\n    /**\n     * Gets `string` representation of the primitive.\n     * @private\n     */\n    PdfName.prototype.toString = function () {\n        return (this.stringStartMark + this.escapeString(this.value));\n    };\n    /**\n     * Creates a `copy of PdfName`.\n     * @private\n     */\n    PdfName.prototype.clone = function (crossTable) {\n        var newName = new PdfName();\n        newName.value = this.internalValue;\n        return newName;\n    };\n    /**\n     * Replace some characters with its `escape sequences`.\n     * @private\n     */\n    PdfName.prototype.escapeString = function (stringValue) {\n        // if (str === null) {\n        //     throw new Error('ArgumentNullException : str');\n        // }\n        // if (str === '') {\n        //     return str;\n        // }\n        var result = '';\n        var len = 0;\n        for (var i = 0, len_1 = stringValue.length; i < len_1; i++) {\n            var ch = stringValue[i];\n            var index = PdfName.delimiters.indexOf(ch);\n            // switch (ch) {\n            //     case '\\r' :\n            //         result = result + '\\\\r';\n            //         break;\n            //     case '\\n' :\n            //         result = result + '\\n';\n            //         break;\n            //     case '(' :\n            //     case ')' :\n            //     case '\\\\' :\n            //         //result.Append( '\\\\' ).Append( ch );\n            //         result = result + ch;\n            //         break;\n            //     default :\n            //         result = result + ch;\n            //         break;\n            // }\n            result = result + ch;\n        }\n        return result;\n    };\n    //methiods\n    /**\n     * Replace a symbol with its code with the precedence of the `sharp sign`.\n     * @private\n     */\n    PdfName.prototype.normalizeValue = function (value, c) {\n        // if (typeof c === undefined) {\n        //     let str : string = value;\n        //     for (let i : number = 0; i < PdfName.replacements.length; i++) {\n        //         str = this.normalizeValue(str, c);\n        //     }\n        //     return str;\n        // } else {\n        var strFormat = '#{0:X}';\n        //return value.replace(c.toString(),String.format(strFormat,c));\n        return value;\n        // }\n    };\n    /**\n     * PDF `special characters`.\n     * @private\n     */\n    PdfName.delimiters = '()<>[]{}/%}';\n    /**\n     * The symbols that are not allowed in PDF names and `should be replaced`.\n     * @private\n     */\n    PdfName.replacements = [' ', '\\t', '\\n', '\\r'];\n    return PdfName;\n}());\nexport { PdfName };\n","/**\n * PdfOperators.ts class for EJ2-PDF\n * Class of string PDF common operators.\n * @private\n */\nvar Operators = /** @class */ (function () {\n    /**\n     * Create an instance of `PdfOperator` class.\n     * @private\n     */\n    function Operators() {\n        /**\n         * Specifies the value of `test`.\n         * @private\n         */\n        this.forTest = 'test';\n        this.forTest = Operators.obj;\n    }\n    /**\n     * Specifies the value of `obj`.\n     * @private\n     */\n    Operators.obj = 'obj';\n    /**\n     * Specifies the value of `endObj`.\n     * @private\n     */\n    Operators.endObj = 'endobj';\n    /**\n     * Specifies the value of `R`.\n     * @private\n     */\n    Operators.r = 'R';\n    /**\n     * Specifies the value of ` `.\n     * @private\n     */\n    Operators.whiteSpace = ' ';\n    /**\n     * Specifies the value of `/`.\n     * @private\n     */\n    Operators.slash = '/';\n    /**\n     * Specifies the value of `\\r\\n`.\n     * @private\n     */\n    Operators.newLine = '\\r\\n';\n    /**\n     * Specifies the value of `stream`.\n     * @private\n     */\n    Operators.stream = 'stream';\n    /**\n     * Specifies the value of `endStream`.\n     * @private\n     */\n    Operators.endStream = 'endstream';\n    /**\n     * Specifies the value of `xref`.\n     * @private\n     */\n    Operators.xref = 'xref';\n    /**\n     * Specifies the value of `f`.\n     * @private\n     */\n    Operators.f = 'f';\n    /**\n     * Specifies the value of `n`.\n     * @private\n     */\n    Operators.n = 'n';\n    /**\n     * Specifies the value of `trailer`.\n     * @private\n     */\n    Operators.trailer = 'trailer';\n    /**\n     * Specifies the value of `startxref`.\n     * @private\n     */\n    Operators.startxref = 'startxref';\n    /**\n     * Specifies the value of `eof`.\n     * @private\n     */\n    Operators.eof = '%%EOF';\n    /**\n     * Specifies the value of `header`.\n     * @private\n     */\n    Operators.header = '%PDF-1.5';\n    /**\n     * Specifies the value of `beginText`.\n     * @private\n     */\n    Operators.beginText = 'BT';\n    /**\n     * Specifies the value of `endText`.\n     * @private\n     */\n    Operators.endText = 'ET';\n    /**\n     * Specifies the value of `m`.\n     * @private\n     */\n    Operators.beginPath = 'm';\n    /**\n     * Specifies the value of `l`.\n     * @private\n     */\n    Operators.appendLineSegment = 'l';\n    /**\n     * Specifies the value of `S`.\n     * @private\n     */\n    Operators.stroke = 'S';\n    /**\n     * Specifies the value of `f`.\n     * @private\n     */\n    Operators.fill = 'f';\n    /**\n     * Specifies the value of `f*`.\n     * @private\n     */\n    Operators.fillEvenOdd = 'f*';\n    /**\n     * Specifies the value of `B`.\n     * @private\n     */\n    Operators.fillStroke = 'B';\n    /**\n     * Specifies the value of `B*`.\n     * @private\n     */\n    Operators.fillStrokeEvenOdd = 'B*';\n    /**\n     * Specifies the value of `c`.\n     * @private\n     */\n    Operators.appendbeziercurve = 'c';\n    /**\n     * Specifies the value of `re`.\n     * @private\n     */\n    Operators.appendRectangle = 're';\n    /**\n     * Specifies the value of `q`.\n     * @private\n     */\n    Operators.saveState = 'q';\n    /**\n     * Specifies the value of `Q`.\n     * @private\n     */\n    Operators.restoreState = 'Q';\n    /**\n     * Specifies the value of `Do`.\n     * @private\n     */\n    Operators.paintXObject = 'Do';\n    /**\n     * Specifies the value of `cm`.\n     * @private\n     */\n    Operators.modifyCtm = 'cm';\n    /**\n     * Specifies the value of `Tm`.\n     * @private\n     */\n    Operators.modifyTM = 'Tm';\n    /**\n     * Specifies the value of `w`.\n     * @private\n     */\n    Operators.setLineWidth = 'w';\n    /**\n     * Specifies the value of `J`.\n     * @private\n     */\n    Operators.setLineCapStyle = 'J';\n    /**\n     * Specifies the value of `j`.\n     * @private\n     */\n    Operators.setLineJoinStyle = 'j';\n    /**\n     * Specifies the value of `d`.\n     * @private\n     */\n    Operators.setDashPattern = 'd';\n    /**\n     * Specifies the value of `i`.\n     * @private\n     */\n    Operators.setFlatnessTolerance = 'i';\n    /**\n     * Specifies the value of `h`.\n     * @private\n     */\n    Operators.closePath = 'h';\n    /**\n     * Specifies the value of `s`.\n     * @private\n     */\n    Operators.closeStrokePath = 's';\n    /**\n     * Specifies the value of `b`.\n     * @private\n     */\n    Operators.closeFillStrokePath = 'b';\n    /**\n     * Specifies the value of `setCharacterSpace`.\n     * @private\n     */\n    Operators.setCharacterSpace = 'Tc';\n    /**\n     * Specifies the value of `setWordSpace`.\n     * @private\n     */\n    Operators.setWordSpace = 'Tw';\n    /**\n     * Specifies the value of `setHorizontalScaling`.\n     * @private\n     */\n    Operators.setHorizontalScaling = 'Tz';\n    /**\n     * Specifies the value of `setTextLeading`.\n     * @private\n     */\n    Operators.setTextLeading = 'TL';\n    /**\n     * Specifies the value of `setFont`.\n     * @private\n     */\n    Operators.setFont = 'Tf';\n    /**\n     * Specifies the value of `setRenderingMode`.\n     * @private\n     */\n    Operators.setRenderingMode = 'Tr';\n    /**\n     * Specifies the value of `setTextRise`.\n     * @private\n     */\n    Operators.setTextRise = 'Ts';\n    /**\n     * Specifies the value of `setTextScaling`.\n     * @private\n     */\n    Operators.setTextScaling = 'Tz';\n    /**\n     * Specifies the value of `setCoords`.\n     * @private\n     */\n    Operators.setCoords = 'Td';\n    /**\n     * Specifies the value of `goToNextLine`.\n     * @private\n     */\n    Operators.goToNextLine = 'T*';\n    /**\n     * Specifies the value of `setText`.\n     * @private\n     */\n    Operators.setText = 'Tj';\n    /**\n     * Specifies the value of `setTextWithFormatting`.\n     * @private\n     */\n    Operators.setTextWithFormatting = 'TJ';\n    /**\n     * Specifies the value of `setTextOnNewLine`.\n     * @private\n     */\n    Operators.setTextOnNewLine = '\\'';\n    /**\n     * Specifies the value of `selectcolorspaceforstroking`.\n     * @private\n     */\n    Operators.selectcolorspaceforstroking = 'CS';\n    /**\n     * Specifies the value of `selectcolorspacefornonstroking`.\n     * @private\n     */\n    Operators.selectcolorspacefornonstroking = 'cs';\n    /**\n     * Specifies the value of `setrbgcolorforstroking`.\n     * @private\n     */\n    Operators.setrbgcolorforstroking = 'RG';\n    /**\n     * Specifies the value of `setrbgcolorfornonstroking`.\n     * @private\n     */\n    Operators.setrbgcolorfornonstroking = 'rg';\n    /**\n     * Specifies the value of `K`.\n     * @private\n     */\n    Operators.setcmykcolorforstroking = 'K';\n    /**\n     * Specifies the value of `k`.\n     * @private\n     */\n    Operators.setcmykcolorfornonstroking = 'k';\n    /**\n     * Specifies the value of `G`.\n     * @private\n     */\n    Operators.setgraycolorforstroking = 'G';\n    /**\n     * Specifies the value of `g`.\n     * @private\n     */\n    Operators.setgraycolorfornonstroking = 'g';\n    /**\n     * Specifies the value of `W`.\n     * @private\n     */\n    Operators.clipPath = 'W';\n    /**\n     * Specifies the value of `clipPathEvenOdd`.\n     * @private\n     */\n    Operators.clipPathEvenOdd = 'W*';\n    /**\n     * Specifies the value of `n`.\n     * @private\n     */\n    Operators.endPath = 'n';\n    /**\n     * Specifies the value of `setGraphicsState`.\n     * @private\n     */\n    Operators.setGraphicsState = 'gs';\n    /**\n     * Specifies the value of `%`.\n     * @private\n     */\n    Operators.comment = '%';\n    /**\n     * Specifies the value of `*`.\n     * @private\n     */\n    Operators.evenOdd = '*';\n    /**\n     * Specifies the value of `M`.\n     * @private\n     */\n    Operators.setMiterLimit = 'M';\n    return Operators;\n}());\nexport { Operators };\n","/**\n * dictionaryProperties.ts class for EJ2-PDF\n * PDF dictionary properties.\n * @private\n */\nvar DictionaryProperties = /** @class */ (function () {\n    /**\n     * Initialize an instance for `PdfDictionaryProperties` class.\n     * @private\n     */\n    function DictionaryProperties() {\n        /**\n         * Specifies the value of `Pages`.\n         * @private\n         */\n        this.pages = 'Pages';\n        /**\n         * Specifies the value of `Kids`.\n         * @private\n         */\n        this.kids = 'Kids';\n        /**\n         * Specifies the value of `Count`.\n         * @private\n         */\n        this.count = 'Count';\n        /**\n         * Specifies the value of `Resources`.\n         * @private\n         */\n        this.resources = 'Resources';\n        /**\n         * Specifies the value of `Type`.\n         * @private\n         */\n        this.type = 'Type';\n        /**\n         * Specifies the value of `Size`.\n         * @private\n         */\n        this.size = 'Size';\n        /**\n         * Specifies the value of `MediaBox`.\n         * @private\n         */\n        this.mediaBox = 'MediaBox';\n        /**\n         * Specifies the value of `Parent`.\n         * @private\n         */\n        this.parent = 'Parent';\n        /**\n         * Specifies the value of `Root`.\n         * @private\n         */\n        this.root = 'Root';\n        /**\n         * Specifies the value of `DecodeParms`.\n         * @private\n         */\n        this.decodeParms = 'DecodeParms';\n        /**\n         * Specifies the value of `Filter`.\n         * @private\n         */\n        this.filter = 'Filter';\n        /**\n         * Specifies the value of `Font`.\n         * @private\n         */\n        this.font = 'Font';\n        /**\n         * Specifies the value of `Type1`.\n         * @private\n         */\n        this.type1 = 'Type1';\n        /**\n         * Specifies the value of `BaseFont`.\n         * @private\n         */\n        this.baseFont = 'BaseFont';\n        /**\n         * Specifies the value of `Encoding`.\n         * @private\n         */\n        this.encoding = 'Encoding';\n        /**\n         * Specifies the value of `Subtype`.\n         * @private\n         */\n        this.subtype = 'Subtype';\n        /**\n         * Specifies the value of `Contents`.\n         * @private\n         */\n        this.contents = 'Contents';\n        /**\n         * Specifies the value of `ProcSet`.\n         * @private\n         */\n        this.procset = 'ProcSet';\n        /**\n         * Specifies the value of `ColorSpace`.\n         * @private\n         */\n        this.colorSpace = 'ColorSpace';\n        /**\n         * Specifies the value of `ExtGState`.\n         * @private\n         */\n        this.extGState = 'ExtGState';\n        /**\n         * Specifies the value of `Pattern`.\n         * @private\n         */\n        this.pattern = 'Pattern';\n        /**\n         * Specifies the value of `XObject`.\n         * @private\n         */\n        this.xObject = 'XObject';\n        /**\n         * Specifies the value of `Length`.\n         * @private\n         */\n        this.length = 'Length';\n        /**\n         * Specifies the value of `Width`.\n         * @private\n         */\n        this.width = 'Width';\n        /**\n         * Specifies the value of `Height`.\n         * @private\n         */\n        this.height = 'Height';\n        /**\n         * Specifies the value of `BitsPerComponent`.\n         * @private\n         */\n        this.bitsPerComponent = 'BitsPerComponent';\n        /**\n         * Specifies the value of `Image`.\n         * @private\n         */\n        this.image = 'Image';\n        /**\n         * Specifies the value of `dctdecode`.\n         * @private\n         */\n        this.dctdecode = 'DCTDecode';\n        /**\n         * Specifies the value of `Columns`.\n         * @private\n         */\n        this.columns = 'Columns';\n        /**\n         * Specifies the value of `BlackIs1`.\n         * @private\n         */\n        this.blackIs1 = 'BlackIs1';\n        /**\n         * Specifies the value of `K`.\n         * @private\n         */\n        this.k = 'K';\n        /**\n         * Specifies the value of `S`.\n         * @private\n         */\n        this.s = 'S';\n        /**\n         * Specifies the value of `Predictor`.\n         * @private\n         */\n        this.predictor = 'Predictor';\n        /**\n         * Specifies the value of `DeviceRGB`.\n         * @private\n         */\n        this.deviceRgb = 'DeviceRGB';\n        /**\n         * Specifies the value of `Next`.\n         * @private\n         */\n        this.next = 'Next';\n        /**\n         * Specifies the value of `Action`.\n         * @private\n         */\n        this.action = 'Action';\n        /**\n         * Specifies the value of `Link`.\n         * @private\n         */\n        this.link = 'Link';\n        /**\n         *\n         * Specifies the value of `A`.\n         * @private\n         */\n        this.a = 'A';\n        /**\n         * Specifies the value of `Annot`.\n         * @private\n         */\n        this.annot = 'Annot';\n        /**\n         * Specifies the value of `P`.\n         * @private\n         */\n        this.p = 'P';\n        /**\n         * Specifies the value of `C`.\n         * @private\n         */\n        this.c = 'C';\n        /**\n         * Specifies the value of `Rect`.\n         * @private\n         */\n        this.rect = 'Rect';\n        /**\n         * Specifies the value of `URI`.\n         * @private\n         */\n        this.uri = 'URI';\n        /**\n         * Specifies the value of `Annots`.\n         * @private\n         */\n        this.annots = 'Annots';\n        /**\n         * Specifies the value of `ca`.\n         * @private\n         */\n        this.ca = 'ca';\n        /**\n         * Specifies the value of `CA`.\n         * @private\n         */\n        this.CA = 'CA';\n        /**\n         * Specifies the value of `XYZ`.\n         * @private\n         */\n        this.xyz = 'XYZ';\n        /**\n         * Specifies the value of `Fit`.\n         * @private\n         */\n        this.fit = 'Fit';\n        /**\n         * Specifies the value of `Dest`.\n         * @private\n         */\n        this.dest = 'Dest';\n        /**\n         * Specifies the value of `BM`.\n         * @private\n         */\n        this.BM = 'BM';\n        /**\n         * Specifies the value of `flatedecode`.\n         * @private\n         */\n        this.flatedecode = 'FlateDecode';\n        /**\n         * Specifies the value of `Rotate`.\n         * @private\n         */\n        this.rotate = 'Rotate';\n        /**\n         * Specifies the value of 'bBox'.\n         * @private\n         */\n        this.bBox = 'BBox';\n        /**\n         * Specifies the value of 'form'.\n         * @private\n         */\n        this.form = 'Form';\n        //\n    }\n    return DictionaryProperties;\n}());\nexport { DictionaryProperties };\n","import { Dictionary } from './../collections/dictionary';\nimport { PdfName } from './pdf-name';\nimport { Operators } from './../input-output/pdf-operators';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\n/**\n * `PdfDictionary` class is used to perform primitive operations.\n * @private\n */\nvar PdfDictionary = /** @class */ (function () {\n    function PdfDictionary(dictionary) {\n        /**\n         * Internal variable to store the `position`.\n         * @default -1\n         * @private\n         */\n        this.position7 = -1;\n        /**\n         * The `IPdfSavable` with the specified key.\n         * @private\n         */\n        this.primitiveItems = new Dictionary();\n        /**\n         * `Start marker` for dictionary.\n         * @private\n         */\n        this.prefix = '<<';\n        /**\n         * `End marker` for dictionary.\n         * @private\n         */\n        this.suffix = '>>';\n        /**\n         * @hidden\n         * @private\n         */\n        this.resources = [];\n        /**\n         * Internal variable to hold `cloned object`.\n         * @default null\n         * @private\n         */\n        this.object = null;\n        /**\n         * Flag for PDF file formar 1.5 is dictionary `archiving` needed.\n         * @default true\n         * @private\n         */\n        this.archive = true;\n        if (typeof dictionary === 'undefined') {\n            this.primitiveItems = new Dictionary();\n            this.encrypt = true;\n            this.dictionaryProperties = new DictionaryProperties();\n        }\n        else {\n            this.primitiveItems = new Dictionary();\n            var keys = dictionary.items.keys();\n            var values = dictionary.items.values();\n            for (var index = 0; index < dictionary.items.size(); index++) {\n                this.primitiveItems.setValue(keys[index], values[index]);\n            }\n            this.status = dictionary.status;\n            this.freezeChanges(this);\n            this.encrypt = true;\n            this.dictionaryProperties = new DictionaryProperties();\n        }\n    }\n    Object.defineProperty(PdfDictionary.prototype, \"items\", {\n        //Properties\n        /**\n         * Gets or sets the `IPdfSavable` with the specified key.\n         * @private\n         */\n        get: function () {\n            return this.primitiveItems;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDictionary.prototype, \"status\", {\n        /**\n         * Gets or sets the `Status` of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.status7;\n        },\n        set: function (value) {\n            this.status7 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDictionary.prototype, \"isSaving\", {\n        /**\n         * Gets or sets a value indicating whether this document `is saving` or not.\n         * @private\n         */\n        get: function () {\n            return this.isSaving7;\n        },\n        set: function (value) {\n            this.isSaving7 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDictionary.prototype, \"objectCollectionIndex\", {\n        /**\n         * Gets or sets the `index` value of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.index7;\n        },\n        set: function (value) {\n            this.index7 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDictionary.prototype, \"clonedObject\", {\n        /**\n         * Returns `cloned object`.\n         * @private\n         */\n        get: function () {\n            return this.object;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDictionary.prototype, \"position\", {\n        /**\n         * Gets or sets the `position` of the object.\n         * @private\n         */\n        get: function () {\n            return this.position7;\n        },\n        set: function (value) {\n            this.position7 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDictionary.prototype, \"Count\", {\n        /**\n         * Gets the `count`.\n         * @private\n         */\n        get: function () {\n            return this.primitiveItems.size();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDictionary.prototype, \"Dictionary\", {\n        /**\n         * Collection of `items` in the object.\n         * @private\n         */\n        get: function () {\n            return this;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Get flag if need to `archive` dictionary.\n     * @private\n     */\n    PdfDictionary.prototype.getArchive = function () {\n        return this.archive;\n    };\n    /**\n     * Set flag if need to `archive` dictionary.\n     * @private\n     */\n    PdfDictionary.prototype.setArchive = function (value) {\n        this.archive = value;\n    };\n    /**\n     * Sets flag if `encryption` is needed.\n     * @private\n     */\n    PdfDictionary.prototype.setEncrypt = function (value) {\n        this.encrypt = value;\n        this.modify();\n    };\n    /**\n     * Gets flag if `encryption` is needed.\n     * @private\n     */\n    PdfDictionary.prototype.getEncrypt = function () {\n        return this.encrypt;\n    };\n    /**\n     * `Freezes` the changes.\n     * @private\n     */\n    PdfDictionary.prototype.freezeChanges = function (freezer) {\n        this.bChanged = false;\n    };\n    /**\n     * Creates a `copy of PdfDictionary`.\n     * @private\n     */\n    PdfDictionary.prototype.clone = function (crossTable) {\n        //Need to add more codings\n        var newDict = new PdfDictionary();\n        return newDict;\n    };\n    /**\n     * `Mark` this instance modified.\n     * @private\n     */\n    PdfDictionary.prototype.modify = function () {\n        this.bChanged = true;\n    };\n    /**\n     * `Removes` the specified key.\n     * @private\n     */\n    PdfDictionary.prototype.remove = function (key) {\n        if (typeof key !== 'string') {\n            this.primitiveItems.remove(key.value);\n            this.modify();\n        }\n        else {\n            this.remove(new PdfName(key));\n        }\n    };\n    /**\n     * `Determines` whether the dictionary contains the key.\n     * @private\n     */\n    PdfDictionary.prototype.containsKey = function (key) {\n        var returnValue = false;\n        returnValue = this.primitiveItems.containsKey(key.toString());\n        return returnValue;\n    };\n    /**\n     * Raises event `BeginSave`.\n     * @private\n     */\n    PdfDictionary.prototype.onBeginSave = function () {\n        this.beginSave.sender.beginSave();\n    };\n    /**\n     * Raises event 'BeginSave'.\n     * @private\n     */\n    PdfDictionary.prototype.onTemplateBeginSave = function () {\n        this.pageBeginDrawTemplate.sender.pageBeginSave();\n    };\n    /**\n     * Raises event `BeginSave`.\n     * @private\n     */\n    PdfDictionary.prototype.onBeginAnnotationSave = function () {\n        this.annotationBeginSave.sender.beginSave();\n    };\n    /**\n     * Raises event `BeginSave`.\n     * @private\n     */\n    PdfDictionary.prototype.onSectionBeginSave = function (writer) {\n        var saveEvent = this.sectionBeginSave;\n        saveEvent.sender.beginSave(saveEvent.state, writer);\n    };\n    PdfDictionary.prototype.save = function (writer, bRaiseEvent) {\n        if (typeof bRaiseEvent === 'undefined') {\n            this.save(writer, true);\n        }\n        else {\n            writer.write(this.prefix);\n            if (typeof this.beginSave !== 'undefined') {\n                this.onBeginSave();\n            }\n            if (typeof this.annotationBeginSave !== 'undefined') {\n                this.onBeginAnnotationSave();\n            }\n            if (typeof this.sectionBeginSave !== 'undefined') {\n                this.onSectionBeginSave(writer);\n            }\n            if (typeof this.pageBeginDrawTemplate !== 'undefined') {\n                this.onTemplateBeginSave();\n            }\n            // }\n            if (this.Count > 0) {\n                this.saveItems(writer);\n            }\n            writer.write(this.suffix);\n            writer.write(Operators.newLine);\n        }\n    };\n    /**\n     * `Save dictionary items`.\n     * @private\n     */\n    PdfDictionary.prototype.saveItems = function (writer) {\n        writer.write(Operators.newLine);\n        var keys = this.primitiveItems.keys();\n        var values = this.primitiveItems.values();\n        for (var index = 0; index < keys.length; index++) {\n            var key = keys[index];\n            var name_1 = new PdfName(key);\n            name_1.save(writer);\n            writer.write(Operators.whiteSpace);\n            var resources = values[index];\n            resources.save(writer);\n            writer.write(Operators.newLine);\n        }\n    };\n    return PdfDictionary;\n}());\nexport { PdfDictionary };\nvar SaveSectionCollectionEventHandler = /** @class */ (function () {\n    /**\n     * New instance for `save section collection event handler` class.\n     * @private\n     */\n    function SaveSectionCollectionEventHandler(sender) {\n        this.sender = sender;\n    }\n    return SaveSectionCollectionEventHandler;\n}());\nexport { SaveSectionCollectionEventHandler };\nvar SaveAnnotationEventHandler = /** @class */ (function () {\n    /**\n     * New instance for `save annotation event handler` class.\n     * @private\n     */\n    function SaveAnnotationEventHandler(sender) {\n        this.sender = sender;\n    }\n    return SaveAnnotationEventHandler;\n}());\nexport { SaveAnnotationEventHandler };\nvar SaveSectionEventHandler = /** @class */ (function () {\n    // constructors\n    /**\n     * New instance for `save section event handler` class.\n     * @private\n     */\n    function SaveSectionEventHandler(sender, state) {\n        this.sender = sender;\n        this.state = state;\n    }\n    return SaveSectionEventHandler;\n}());\nexport { SaveSectionEventHandler };\n/**\n * SaveTemplateEventHandler class used to store information about template elements.\n * @private\n * @hidden\n */\nvar SaveTemplateEventHandler = /** @class */ (function () {\n    /**\n     * New instance for save section collection event handler class.\n     * @public\n     */\n    function SaveTemplateEventHandler(sender) {\n        this.sender = sender;\n    }\n    return SaveTemplateEventHandler;\n}());\nexport { SaveTemplateEventHandler };\n","/**\n * `PdfNumber` class is used to perform number related primitive operations.\n * @private\n */\nvar PdfNumber = /** @class */ (function () {\n    /**\n     * Initializes a new instance of the `PdfNumber` class.\n     * @private\n     */\n    function PdfNumber(value) {\n        /**\n         * Sotres the `position`.\n         * @default -1\n         * @private\n         */\n        this.position5 = -1;\n        this.value = value;\n    }\n    Object.defineProperty(PdfNumber.prototype, \"intValue\", {\n        /**\n         * Gets or sets the `integer` value.\n         * @private\n         */\n        get: function () {\n            return this.value;\n        },\n        set: function (value) {\n            this.value = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfNumber.prototype, \"isInteger\", {\n        /**\n         * Gets or sets a value indicating whether this instance `is integer`.\n         * @private\n         */\n        get: function () {\n            return this.integer;\n        },\n        set: function (value) {\n            this.integer = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfNumber.prototype, \"status\", {\n        /**\n         * Gets or sets the `Status` of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.status5;\n        },\n        set: function (value) {\n            this.status5 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfNumber.prototype, \"isSaving\", {\n        /**\n         * Gets or sets a value indicating whether this document `is saving` or not.\n         * @private\n         */\n        get: function () {\n            return this.isSaving5;\n        },\n        set: function (value) {\n            this.isSaving5 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfNumber.prototype, \"objectCollectionIndex\", {\n        /**\n         * Gets or sets the `index` value of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.index5;\n        },\n        set: function (value) {\n            this.index5 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfNumber.prototype, \"position\", {\n        /**\n         * Gets or sets the `position` of the object.\n         * @private\n         */\n        get: function () {\n            return this.position5;\n        },\n        set: function (value) {\n            this.position5 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfNumber.prototype, \"clonedObject\", {\n        /**\n         * Returns `cloned object`.\n         * @private\n         */\n        get: function () {\n            var rValue = null;\n            return rValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Saves the object`.\n     * @private\n     */\n    PdfNumber.prototype.save = function (writer) {\n        writer.write(this.intValue.toString()); //tostring(CultureInfo.InletiantCulture)\n    };\n    /**\n     * Creates a `copy of PdfNumber`.\n     * @private\n     */\n    PdfNumber.prototype.clone = function (crossTable) {\n        var newNumber = new PdfNumber(this.value);\n        return newNumber;\n    };\n    /**\n     * Converts a `float value to a string` using Adobe PDF rules.\n     * @private\n     */\n    PdfNumber.floatToString = function (number) {\n        // let tempString1 : string = number.toString();\n        // let tempString2 : string = tempString1.indexOf('.') != -1 ? tempString1.substring(0, tempString1.indexOf('.')) : tempString1;\n        var returnString = number.toFixed(2);\n        if (returnString === '0.00') {\n            returnString = '.00';\n        }\n        // let prefixLength : number = (22 - tempString2.length) >= 0 ? (22 - tempString2.length) : 0;\n        // for (let index : number = 0; index < prefixLength; index++) {\n        //     returnString += '0';\n        // }\n        // returnString += tempString2 + '.00';\n        // returnString += (tempString3.length > 6) ? tempString3.substring(0,6) : tempString3;\n        // let suffixLength : number = (6 - tempString3.length) >= 0 ? (6 - tempString3.length) : 0;\n        // for (let index : number = 0; index < suffixLength; index++) {\n        //     returnString += '0';\n        // }\n        return returnString;\n    };\n    /**\n     * Determines the `minimum of the three values`.\n     * @private\n     */\n    PdfNumber.min = function (x, y, z) {\n        var r = Math.min(x, y);\n        return Math.min(z, r);\n    };\n    return PdfNumber;\n}());\nexport { PdfNumber };\n","import { PdfNumber } from './pdf-number';\nimport { Operators } from './../input-output/pdf-operators';\n/**\n * `PdfArray` class is used to perform array related primitive operations.\n * @private\n */\nvar PdfArray = /** @class */ (function () {\n    function PdfArray(array) {\n        //Fields\n        /**\n         * `startMark` - '['\n         * @private\n         */\n        this.startMark = '[';\n        /**\n         * `endMark` - ']'.\n         * @private\n         */\n        this.endMark = ']';\n        /**\n         * Internal variable to store the `position`.\n         * @default -1\n         * @private\n         */\n        this.position9 = -1;\n        /**\n         * Internal variable to hold `cloned object`.\n         * @default null\n         * @private\n         */\n        this.clonedObject9 = null;\n        if (typeof array === 'undefined') {\n            this.internalElements = [];\n        }\n        else {\n            if (typeof array !== 'undefined' && !(array instanceof PdfArray)) {\n                var tempNumberArray = array;\n                for (var index = 0; index < tempNumberArray.length; index++) {\n                    var pdfNumber = new PdfNumber(tempNumberArray[index]);\n                    this.add(pdfNumber);\n                }\n                // } else if (typeof array !== 'undefined' && (array instanceof PdfArray)) {\n            }\n            else {\n                var tempArray = array;\n                // if (tempArray.Elements.length > 0) {\n                this.internalElements = [];\n                for (var index = 0; index < tempArray.elements.length; index++) {\n                    this.internalElements.push(tempArray.elements[index]);\n                }\n                // }\n            }\n        }\n    }\n    //property\n    /**\n     * Gets the `IPdfSavable` at the specified index.\n     * @private\n     */\n    PdfArray.prototype.items = function (index) {\n        // if (index < 0 || index >= this.Count) {\n        //     throw new Error('ArgumentOutOfRangeException : index, The index can\"t be less then zero or greater then Count.');\n        // }\n        return this.internalElements[index];\n    };\n    Object.defineProperty(PdfArray.prototype, \"count\", {\n        /**\n         * Gets the `count`.\n         * @private\n         */\n        get: function () {\n            return this.internalElements.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfArray.prototype, \"status\", {\n        /**\n         * Gets or sets the `Status` of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.status9;\n        },\n        set: function (value) {\n            this.status9 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfArray.prototype, \"isSaving\", {\n        /**\n         * Gets or sets a value indicating whether this document `is saving` or not.\n         * @private\n         */\n        get: function () {\n            return this.isSaving9;\n        },\n        set: function (value) {\n            this.isSaving9 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfArray.prototype, \"clonedObject\", {\n        /**\n         * Returns `cloned object`.\n         * @private\n         */\n        get: function () {\n            return this.clonedObject9;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfArray.prototype, \"position\", {\n        /**\n         * Gets or sets the `position` of the object.\n         * @private\n         */\n        get: function () {\n            return this.position9;\n        },\n        set: function (value) {\n            this.position9 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfArray.prototype, \"objectCollectionIndex\", {\n        /**\n         * Gets or sets the `index` value of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.index9;\n        },\n        set: function (value) {\n            this.index9 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfArray.prototype, \"CrossTable\", {\n        /**\n         * Returns `PdfCrossTable` associated with the object.\n         * @private\n         */\n        get: function () {\n            return this.pdfCrossTable;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfArray.prototype, \"elements\", {\n        /**\n         * Gets the `elements` of the Pdf Array.\n         * @private\n         */\n        get: function () {\n            return this.internalElements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Adds` the specified element to the PDF array.\n     * @private\n     */\n    PdfArray.prototype.add = function (element) {\n        // if (element === null) {\n        //     throw new Error('ArgumentNullException : obj');\n        // }\n        if (typeof this.internalElements === 'undefined') {\n            this.internalElements = [];\n        }\n        this.internalElements.push(element);\n        this.markedChange();\n    };\n    /**\n     * `Marks` the object changed.\n     * @private\n     */\n    PdfArray.prototype.markedChange = function () {\n        this.bChanged = true;\n    };\n    /**\n     * `Determines` whether the specified element is within the array.\n     * @private\n     */\n    PdfArray.prototype.contains = function (element) {\n        var returnValue = false;\n        for (var index = 0; index < this.internalElements.length; index++) {\n            var tempElement = this.internalElements[index];\n            var inputElement = element;\n            if (tempElement != null && typeof tempElement !== 'undefined' && inputElement != null && typeof inputElement !== 'undefined') {\n                if (tempElement.value === inputElement.value) {\n                    return true;\n                }\n            }\n            // if (this.internalElements[index] === element) {\n            //     returnValue = true;\n            // }\n        }\n        return returnValue;\n    };\n    /**\n     * Returns the `primitive object` of input index.\n     * @private\n     */\n    PdfArray.prototype.getItems = function (index) {\n        // if (index < 0 || index >= this.Count) {\n        //     throw new Error('ArgumentOutOfRangeException : index , The index can\"t be less then zero or greater then Count.');\n        // }\n        return this.internalElements[index];\n    };\n    /**\n     * `Saves` the object using the specified writer.\n     * @private\n     */\n    PdfArray.prototype.save = function (writer) {\n        // if (writer === null) {\n        //     throw new Error('ArgumentNullException : writer');\n        // }\n        writer.write(this.startMark);\n        for (var i = 0, len = this.count; i < len; i++) {\n            this.getItems(i).save(writer);\n            if (i + 1 !== len) {\n                writer.write(Operators.whiteSpace);\n            }\n        }\n        writer.write(this.endMark);\n    };\n    /**\n     * Creates a `copy of PdfArray`.\n     * @private\n     */\n    PdfArray.prototype.clone = function (crossTable) {\n        // if (this.clonedObject9 !== null && this.clonedObject9.CrossTable === crossTable) {\n        //     return this.clonedObject9;\n        // } else {\n        this.clonedObject9 = null;\n        // Else clone the object.\n        var newArray = new PdfArray();\n        for (var index = 0; index < this.internalElements.length; index++) {\n            var obj = this.internalElements[index];\n            newArray.add(obj.clone(crossTable));\n        }\n        newArray.pdfCrossTable = crossTable;\n        this.clonedObject9 = newArray;\n        return newArray;\n    };\n    /**\n     * Creates filled PDF array `from the rectangle`.\n     * @private\n     */\n    PdfArray.fromRectangle = function (bounds) {\n        var values = [bounds.x, bounds.y, bounds.width, bounds.height];\n        var array = new PdfArray(values);\n        return array;\n    };\n    // /**\n    //  * Creates the rectangle from filled PDF array.\n    //  * @private\n    //  */\n    // public ToRectangle() : RectangleF {\n    //     if (this.Count < 4) {\n    //         throw Error('InvalidOperationException-Can not convert to rectangle.');\n    //     }\n    //     let x1 : number;\n    //     let x2 : number;\n    //     let y1 : number;\n    //     let y2 : number;\n    //     let num : PdfNumber = this.getItems(0) as PdfNumber;\n    //     x1 = num.IntValue;\n    //     num = this.getItems(1) as PdfNumber;\n    //     y1 = num.IntValue;\n    //     num = this.getItems(2) as PdfNumber;\n    //     x2 = num.IntValue;\n    //     num = this.getItems(3) as PdfNumber;\n    //     y2 = num.IntValue;\n    //     let x : number = Math.min(x1, x2);\n    //     let y : number = Math.min(y1, y2);\n    //     let width : number = Math.abs(x1 - x2);\n    //     let height : number = Math.abs(y1 - y2);\n    //     let rect : RectangleF = new RectangleF(new PointF(x, y), new SizeF(width, height));\n    //     return rect;\n    // }\n    /**\n     * `Inserts` the element into the array.\n     * @private\n     */\n    PdfArray.prototype.insert = function (index, element) {\n        if (index < this.internalElements.length && index > 0) {\n            var tempElements = [];\n            for (var i = 0; i < index; i++) {\n                tempElements.push(this.internalElements[i]);\n            }\n            tempElements.push(element);\n            for (var i = index; i < this.internalElements.length; i++) {\n                tempElements.push(this.internalElements[i]);\n            }\n            this.internalElements = tempElements;\n        }\n        else {\n            this.internalElements.push(element);\n        }\n        this.markChanged();\n    };\n    /**\n     * `Checks whether array contains the element`.\n     * @private\n     */\n    PdfArray.prototype.indexOf = function (element) {\n        return this.internalElements.indexOf(element);\n    };\n    /**\n     * `Removes` element from the array.\n     * @private\n     */\n    PdfArray.prototype.remove = function (element) {\n        // if (element === null) {\n        //     throw new Error('ArgumentNullException : element');\n        // }\n        var index = this.internalElements.indexOf(element);\n        // if (index >= 0 && index < this.internalElements.length) {\n        this.internalElements[index] = null;\n        // }\n        this.markChanged();\n    };\n    /**\n     * `Remove` the element from the array by its index.\n     * @private\n     */\n    PdfArray.prototype.removeAt = function (index) {\n        // this.internalElements.RemoveAt(index);\n        if (this.internalElements.length > index) {\n            var tempArray = [];\n            for (var i = 0; i < index; i++) {\n                tempArray.push(this.internalElements[i]);\n            }\n            for (var i = index + 1; i < this.internalElements.length; i++) {\n                tempArray.push(this.internalElements[i]);\n            }\n            this.internalElements = tempArray;\n        }\n        this.markChanged();\n    };\n    /**\n     * `Clear` the array.\n     * @private\n     */\n    PdfArray.prototype.clear = function () {\n        this.internalElements = [];\n        this.markChanged();\n    };\n    /**\n     * `Marks` the object changed.\n     * @private\n     */\n    PdfArray.prototype.markChanged = function () {\n        this.bChanged = true;\n    };\n    return PdfArray;\n}());\nexport { PdfArray };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfDictionary } from './pdf-dictionary';\nimport { PdfNumber } from './pdf-number';\nimport { Operators } from './../input-output/pdf-operators';\nimport { PdfName } from './pdf-name';\nimport { PdfArray } from './pdf-array';\nimport { PdfReferenceHolder } from './pdf-reference';\nimport { CompressedStreamWriter } from '@syncfusion/ej2-compression';\n/**\n * `PdfStream` class is used to perform stream related primitive operations.\n * @private\n */\nvar PdfStream = /** @class */ (function (_super) {\n    __extends(PdfStream, _super);\n    function PdfStream(dictionary, data) {\n        var _this = _super.call(this, dictionary) || this;\n        //Constants\n        /**\n         * @hidden\n         * @private\n         */\n        _this.dicPrefix = 'stream';\n        /**\n         * @hidden\n         * @private\n         */\n        _this.dicSuffix = 'endstream';\n        /**\n         * Internal variable to hold `cloned object`.\n         * @private\n         */\n        _this.clonedObject2 = null;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.bCompress = true;\n        if (typeof dictionary !== 'undefined' || typeof data !== 'undefined') {\n            _this.dataStream2 = [];\n            _this.dataStream2 = data;\n            _this.bCompress2 = false;\n        }\n        else {\n            _this.dataStream2 = [];\n            _this.bCompress2 = true;\n            //Pending\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfStream.prototype, \"internalStream\", {\n        /**\n         * Gets the `internal` stream.\n         * @private\n         */\n        get: function () {\n            return this.dataStream2;\n        },\n        set: function (value) {\n            this.dataStream2 = [];\n            this.dataStream2 = value;\n            this.modify();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStream.prototype, \"compress\", {\n        /**\n         * Gets or sets `compression` flag.\n         * @private\n         */\n        get: function () {\n            return this.bCompress;\n        },\n        set: function (value) {\n            this.bCompress = value;\n            this.modify();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStream.prototype, \"data\", {\n        /**\n         * Gets or sets the `data`.\n         * @private\n         */\n        get: function () {\n            return this.dataStream2;\n        },\n        set: function (value) {\n            this.dataStream2 = [];\n            this.dataStream2 = value;\n            this.modify();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Clear` the internal stream.\n     * @private\n     */\n    PdfStream.prototype.clearStream = function () {\n        this.internalStream = [];\n        this.remove(this.dictionaryProperties.filter);\n        this.bCompress = true;\n        this.modify();\n    };\n    /**\n     * `Writes` the specified string.\n     * @private\n     */\n    PdfStream.prototype.write = function (text) {\n        if (text == null) {\n            throw new Error('ArgumentNullException:text');\n        }\n        if (text.length <= 0) {\n            throw new Error('ArgumentException: Can not write an empty string, text');\n        }\n        this.dataStream2.push(text);\n        this.modify();\n    };\n    /**\n     * `Compresses the content` if it's required.\n     * @private\n     */\n    PdfStream.prototype.compressContent = function (data, writer) {\n        if (this.bCompress) {\n            var sw = new CompressedStreamWriter();\n            // data = 'Hello World!!!';\n            sw.write(data, 0, data.length);\n            sw.close();\n            data = sw.getCompressedString;\n            this.addFilter(this.dictionaryProperties.flatedecode);\n        }\n        return data;\n    };\n    /**\n     * `Adds a filter` to the filter array.\n     * @private\n     */\n    PdfStream.prototype.addFilter = function (filterName) {\n        var obj = this.items.getValue(this.dictionaryProperties.filter);\n        if (obj instanceof PdfReferenceHolder) {\n            var rh = obj;\n            obj = rh.object;\n        }\n        var array = obj;\n        var name = obj;\n        if (name != null) {\n            array = new PdfArray();\n            array.insert(0, name);\n            this.items.setValue(this.dictionaryProperties.filter, array);\n        }\n        name = new PdfName(filterName);\n        if (array == null) {\n            this.items.setValue(this.dictionaryProperties.filter, name);\n        }\n        else {\n            array.insert(0, name);\n        }\n    };\n    /**\n     * `Saves` the object using the specified writer.\n     * @private\n     */\n    PdfStream.prototype.save = function (writer) {\n        var data = '';\n        for (var i = 0; i < this.data.length; i++) {\n            data = data + this.data[i];\n        }\n        if (data.length > 1) {\n            data = 'q\\r\\n' + data + 'Q\\r\\n';\n        }\n        data = this.compressContent(data, writer);\n        var length = data.length;\n        this.items.setValue(this.dictionaryProperties.length, new PdfNumber(length));\n        _super.prototype.save.call(this, writer, false);\n        writer.write(this.dicPrefix);\n        writer.write(Operators.newLine);\n        if (data.length > 0) {\n            writer.write(data);\n        }\n        writer.write(Operators.newLine);\n        writer.write(this.dicSuffix);\n        writer.write(Operators.newLine);\n    };\n    /**\n     * Converts `bytes to string`.\n     * @private\n     */\n    PdfStream.bytesToString = function (byteArray) {\n        var output = '';\n        for (var i = 0; i < byteArray.length; i++) {\n            output = output + String.fromCharCode(byteArray[i]);\n        }\n        return output;\n    };\n    return PdfStream;\n}(PdfDictionary));\nexport { PdfStream };\n","/**\n * public Enum for `PdfHorizontalAlignment`.\n * @private\n */\nexport var PdfHorizontalAlignment;\n(function (PdfHorizontalAlignment) {\n    /**\n     * Specifies the type of `Left`.\n     * @private\n     */\n    PdfHorizontalAlignment[PdfHorizontalAlignment[\"Left\"] = 0] = \"Left\";\n    /**\n     * Specifies the type of `Center`.\n     * @private\n     */\n    PdfHorizontalAlignment[PdfHorizontalAlignment[\"Center\"] = 1] = \"Center\";\n    /**\n     * Specifies the type of `Right`.\n     * @private\n     */\n    PdfHorizontalAlignment[PdfHorizontalAlignment[\"Right\"] = 2] = \"Right\";\n})(PdfHorizontalAlignment || (PdfHorizontalAlignment = {}));\n/**\n * public Enum for `PdfVerticalAlignment`.\n * @private\n */\nexport var PdfVerticalAlignment;\n(function (PdfVerticalAlignment) {\n    /**\n     * Specifies the type of `Top`.\n     * @private\n     */\n    PdfVerticalAlignment[PdfVerticalAlignment[\"Top\"] = 0] = \"Top\";\n    /**\n     * Specifies the type of `Middle`.\n     * @private\n     */\n    PdfVerticalAlignment[PdfVerticalAlignment[\"Middle\"] = 1] = \"Middle\";\n    /**\n     * Specifies the type of `Bottom`.\n     * @private\n     */\n    PdfVerticalAlignment[PdfVerticalAlignment[\"Bottom\"] = 2] = \"Bottom\";\n})(PdfVerticalAlignment || (PdfVerticalAlignment = {}));\n/**\n * public Enum for `public`.\n * @private\n */\nexport var PdfTextAlignment;\n(function (PdfTextAlignment) {\n    /**\n     * Specifies the type of `Left`.\n     * @private\n     */\n    PdfTextAlignment[PdfTextAlignment[\"Left\"] = 0] = \"Left\";\n    /**\n     * Specifies the type of `Center`.\n     * @private\n     */\n    PdfTextAlignment[PdfTextAlignment[\"Center\"] = 1] = \"Center\";\n    /**\n     * Specifies the type of `Right`.\n     * @private\n     */\n    PdfTextAlignment[PdfTextAlignment[\"Right\"] = 2] = \"Right\";\n    /**\n     * Specifies the type of `Justify`.\n     * @private\n     */\n    PdfTextAlignment[PdfTextAlignment[\"Justify\"] = 3] = \"Justify\";\n})(PdfTextAlignment || (PdfTextAlignment = {}));\n/**\n * public Enum for `TextRenderingMode`.\n * @private\n */\nexport var TextRenderingMode;\n(function (TextRenderingMode) {\n    /**\n     * Specifies the type of `Fill`.\n     * @private\n     */\n    TextRenderingMode[TextRenderingMode[\"Fill\"] = 0] = \"Fill\";\n    /**\n     * Specifies the type of `Stroke`.\n     * @private\n     */\n    TextRenderingMode[TextRenderingMode[\"Stroke\"] = 1] = \"Stroke\";\n    /**\n     * Specifies the type of `FillStroke`.\n     * @private\n     */\n    TextRenderingMode[TextRenderingMode[\"FillStroke\"] = 2] = \"FillStroke\";\n    /**\n     * Specifies the type of `None`.\n     * @private\n     */\n    TextRenderingMode[TextRenderingMode[\"None\"] = 3] = \"None\";\n    /**\n     * Specifies the type of `ClipFlag`.\n     * @private\n     */\n    TextRenderingMode[TextRenderingMode[\"ClipFlag\"] = 4] = \"ClipFlag\";\n    /**\n     * Specifies the type of `ClipFill`.\n     * @private\n     */\n    TextRenderingMode[TextRenderingMode[\"ClipFill\"] = 4] = \"ClipFill\";\n    /**\n     * Specifies the type of `ClipStroke`.\n     * @private\n     */\n    TextRenderingMode[TextRenderingMode[\"ClipStroke\"] = 5] = \"ClipStroke\";\n    /**\n     * Specifies the type of `ClipFillStroke`.\n     * @private\n     */\n    TextRenderingMode[TextRenderingMode[\"ClipFillStroke\"] = 6] = \"ClipFillStroke\";\n    /**\n     * Specifies the type of `Clip`.\n     * @private\n     */\n    TextRenderingMode[TextRenderingMode[\"Clip\"] = 7] = \"Clip\";\n})(TextRenderingMode || (TextRenderingMode = {}));\n/**\n * public Enum for `PdfLineJoin`.\n * @private\n */\nexport var PdfLineJoin;\n(function (PdfLineJoin) {\n    /**\n     * Specifies the type of `Miter`.\n     * @private\n     */\n    PdfLineJoin[PdfLineJoin[\"Miter\"] = 0] = \"Miter\";\n    /**\n     * Specifies the type of `Round`.\n     * @private\n     */\n    PdfLineJoin[PdfLineJoin[\"Round\"] = 1] = \"Round\";\n    /**\n     * Specifies the type of `Bevel`.\n     * @private\n     */\n    PdfLineJoin[PdfLineJoin[\"Bevel\"] = 2] = \"Bevel\";\n})(PdfLineJoin || (PdfLineJoin = {}));\n/**\n * public Enum for `PdfLineCap`.\n * @private\n */\nexport var PdfLineCap;\n(function (PdfLineCap) {\n    /**\n     * Specifies the type of `Flat`.\n     * @private\n     */\n    PdfLineCap[PdfLineCap[\"Flat\"] = 0] = \"Flat\";\n    /**\n     * Specifies the type of `Round`.\n     * @private\n     */\n    PdfLineCap[PdfLineCap[\"Round\"] = 1] = \"Round\";\n    /**\n     * Specifies the type of `Square`.\n     * @private\n     */\n    PdfLineCap[PdfLineCap[\"Square\"] = 2] = \"Square\";\n})(PdfLineCap || (PdfLineCap = {}));\n/**\n * public Enum for `PdfDashStyle`.\n * @private\n */\nexport var PdfDashStyle;\n(function (PdfDashStyle) {\n    /**\n     * Specifies the type of `Solid`.\n     * @private\n     */\n    PdfDashStyle[PdfDashStyle[\"Solid\"] = 0] = \"Solid\";\n    /**\n     * Specifies the type of `Dash`.\n     * @private\n     */\n    PdfDashStyle[PdfDashStyle[\"Dash\"] = 1] = \"Dash\";\n    /**\n     * Specifies the type of `Dot`.\n     * @private\n     */\n    PdfDashStyle[PdfDashStyle[\"Dot\"] = 2] = \"Dot\";\n    /**\n     * Specifies the type of `DashDot`.\n     * @private\n     */\n    PdfDashStyle[PdfDashStyle[\"DashDot\"] = 3] = \"DashDot\";\n    /**\n     * Specifies the type of `DashDotDot`.\n     * @private\n     */\n    PdfDashStyle[PdfDashStyle[\"DashDotDot\"] = 4] = \"DashDotDot\";\n    /**\n     * Specifies the type of `Custom`.\n     * @private\n     */\n    PdfDashStyle[PdfDashStyle[\"Custom\"] = 5] = \"Custom\";\n})(PdfDashStyle || (PdfDashStyle = {}));\n/**\n * public Enum for `PdfFillMode`.\n * @private\n */\nexport var PdfFillMode;\n(function (PdfFillMode) {\n    /**\n     * Specifies the type of `Winding`.\n     * @private\n     */\n    PdfFillMode[PdfFillMode[\"Winding\"] = 0] = \"Winding\";\n    /**\n     * Specifies the type of `Alternate`.\n     * @private\n     */\n    PdfFillMode[PdfFillMode[\"Alternate\"] = 1] = \"Alternate\";\n})(PdfFillMode || (PdfFillMode = {}));\n/**\n * public Enum for `PdfColorSpace`.\n * @private\n */\nexport var PdfColorSpace;\n(function (PdfColorSpace) {\n    /**\n     * Specifies the type of `Rgb`.\n     * @private\n     */\n    PdfColorSpace[PdfColorSpace[\"Rgb\"] = 0] = \"Rgb\";\n    /**\n     * Specifies the type of `Cmyk`.\n     * @private\n     */\n    PdfColorSpace[PdfColorSpace[\"Cmyk\"] = 1] = \"Cmyk\";\n    /**\n     * Specifies the type of `GrayScale`.\n     * @private\n     */\n    PdfColorSpace[PdfColorSpace[\"GrayScale\"] = 2] = \"GrayScale\";\n    /**\n     * Specifies the type of `Indexed`.\n     * @private\n     */\n    PdfColorSpace[PdfColorSpace[\"Indexed\"] = 3] = \"Indexed\";\n})(PdfColorSpace || (PdfColorSpace = {}));\n/**\n * public Enum for `PdfBlendMode`.\n * @private\n */\nexport var PdfBlendMode;\n(function (PdfBlendMode) {\n    /**\n     * Specifies the type of `Normal`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"Normal\"] = 0] = \"Normal\";\n    /**\n     * Specifies the type of `Multiply`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"Multiply\"] = 1] = \"Multiply\";\n    /**\n     * Specifies the type of `Screen`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"Screen\"] = 2] = \"Screen\";\n    /**\n     * Specifies the type of `Overlay`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"Overlay\"] = 3] = \"Overlay\";\n    /**\n     * Specifies the type of `Darken`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"Darken\"] = 4] = \"Darken\";\n    /**\n     * Specifies the type of `Lighten`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"Lighten\"] = 5] = \"Lighten\";\n    /**\n     * Specifies the type of `ColorDodge`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"ColorDodge\"] = 6] = \"ColorDodge\";\n    /**\n     * Specifies the type of `ColorBurn`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"ColorBurn\"] = 7] = \"ColorBurn\";\n    /**\n     * Specifies the type of `HardLight`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"HardLight\"] = 8] = \"HardLight\";\n    /**\n     * Specifies the type of `SoftLight`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"SoftLight\"] = 9] = \"SoftLight\";\n    /**\n     * Specifies the type of `Difference`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"Difference\"] = 10] = \"Difference\";\n    /**\n     * Specifies the type of `Exclusion`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"Exclusion\"] = 11] = \"Exclusion\";\n    /**\n     * Specifies the type of `Hue`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"Hue\"] = 12] = \"Hue\";\n    /**\n     * Specifies the type of `Saturation`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"Saturation\"] = 13] = \"Saturation\";\n    /**\n     * Specifies the type of `Color`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"Color\"] = 14] = \"Color\";\n    /**\n     * Specifies the type of `Luminosity`.\n     * @private\n     */\n    PdfBlendMode[PdfBlendMode[\"Luminosity\"] = 15] = \"Luminosity\";\n})(PdfBlendMode || (PdfBlendMode = {}));\n/**\n * public Enum for `PdfGraphicsUnit`.\n * @private\n */\nexport var PdfGraphicsUnit;\n(function (PdfGraphicsUnit) {\n    /**\n     * Specifies the type of `Centimeter`.\n     * @private\n     */\n    PdfGraphicsUnit[PdfGraphicsUnit[\"Centimeter\"] = 0] = \"Centimeter\";\n    /**\n     * Specifies the type of `Pica`.\n     * @private\n     */\n    PdfGraphicsUnit[PdfGraphicsUnit[\"Pica\"] = 1] = \"Pica\";\n    /**\n     * Specifies the type of `Pixel`.\n     * @private\n     */\n    PdfGraphicsUnit[PdfGraphicsUnit[\"Pixel\"] = 2] = \"Pixel\";\n    /**\n     * Specifies the type of `Point`.\n     * @private\n     */\n    PdfGraphicsUnit[PdfGraphicsUnit[\"Point\"] = 3] = \"Point\";\n    /**\n     * Specifies the type of `Inch`.\n     * @private\n     */\n    PdfGraphicsUnit[PdfGraphicsUnit[\"Inch\"] = 4] = \"Inch\";\n    /**\n     * Specifies the type of `Document`.\n     * @private\n     */\n    PdfGraphicsUnit[PdfGraphicsUnit[\"Document\"] = 5] = \"Document\";\n    /**\n     * Specifies the type of `Millimeter`.\n     * @private\n     */\n    PdfGraphicsUnit[PdfGraphicsUnit[\"Millimeter\"] = 6] = \"Millimeter\";\n})(PdfGraphicsUnit || (PdfGraphicsUnit = {}));\n/**\n * public Enum for `PdfGridImagePosition`.\n * @private\n */\nexport var PdfGridImagePosition;\n(function (PdfGridImagePosition) {\n    /**\n     * Specifies the type of `Fit`.\n     * @private\n     */\n    PdfGridImagePosition[PdfGridImagePosition[\"Fit\"] = 0] = \"Fit\";\n    /**\n     * Specifies the type of `Center`.\n     * @private\n     */\n    PdfGridImagePosition[PdfGridImagePosition[\"Center\"] = 1] = \"Center\";\n    /**\n     * Specifies the type of `Stretch`.\n     * @private\n     */\n    PdfGridImagePosition[PdfGridImagePosition[\"Stretch\"] = 2] = \"Stretch\";\n    /**\n     * Specifies the type of `Tile`.\n     * @private\n     */\n    PdfGridImagePosition[PdfGridImagePosition[\"Tile\"] = 3] = \"Tile\";\n})(PdfGridImagePosition || (PdfGridImagePosition = {}));\n","import { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { PdfStream } from './../primitives/pdf-stream';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { PdfString } from './../primitives/pdf-string';\n/**\n * `PdfReference` class is used to perform reference related primitive operations.\n * @private\n */\nvar PdfReference = /** @class */ (function () {\n    function PdfReference(objNumber, genNumber) {\n        /**\n         * Holds the `index` number of the object.\n         * @default -1\n         * @private\n         */\n        this.index3 = -1;\n        /**\n         * Internal variable to store the `position`.\n         * @default -1\n         * @private\n         */\n        this.position3 = -1;\n        /**\n         * Holds the `object number`.\n         * @default 0\n         * @private\n         */\n        this.objNumber = 0;\n        /**\n         * Holds the `generation number` of the object.\n         * @default 0\n         * @private\n         */\n        this.genNumber = 0;\n        if (typeof objNumber === 'number' && typeof genNumber === 'number') {\n            this.objNumber = objNumber;\n            this.genNumber = genNumber;\n            // } else if (typeof objNum === 'string' && typeof genNum === 'string') {\n        }\n        else {\n            this.objNumber = Number(objNumber);\n            this.genNumber = Number(genNumber);\n        }\n    }\n    Object.defineProperty(PdfReference.prototype, \"status\", {\n        //Property\n        /**\n         * Gets or sets the `Status` of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.status3;\n        },\n        set: function (value) {\n            this.status3 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfReference.prototype, \"isSaving\", {\n        /**\n         * Gets or sets a value indicating whether this document `is saving` or not.\n         * @private\n         */\n        get: function () {\n            return this.isSaving3;\n        },\n        set: function (value) {\n            this.isSaving3 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfReference.prototype, \"objectCollectionIndex\", {\n        /**\n         * Gets or sets the `index` value of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.index3;\n        },\n        set: function (value) {\n            this.index3 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfReference.prototype, \"position\", {\n        /**\n         * Gets or sets the `position` of the object.\n         * @private\n         */\n        get: function () {\n            return this.position3;\n        },\n        set: function (value) {\n            this.position3 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfReference.prototype, \"clonedObject\", {\n        /**\n         * Returns `cloned object`.\n         * @private\n         */\n        get: function () {\n            var returnObject3 = null;\n            return returnObject3;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //IPdfPrimitives methods\n    /**\n     * `Saves` the object.\n     * @private\n     */\n    PdfReference.prototype.save = function (writer) {\n        writer.write(this.toString());\n    };\n    /**\n     * Returns a `string` representing the object.\n     * @private\n     */\n    PdfReference.prototype.toString = function () {\n        return this.objNumber.toString() + ' ' + this.genNumber.toString() + ' R';\n    };\n    /**\n     * Creates a `deep copy` of the IPdfPrimitive object.\n     * @private\n     */\n    PdfReference.prototype.clone = function (crossTable) {\n        return null;\n    };\n    return PdfReference;\n}());\nexport { PdfReference };\n/**\n * `PdfReferenceHolder` class is used to perform reference holder related primitive operations.\n * @private\n */\nvar PdfReferenceHolder = /** @class */ (function () {\n    function PdfReferenceHolder(obj1, obj2) {\n        /**\n         * Holds the `index` number of the object.\n         * @default -1\n         * @private\n         */\n        this.index4 = -1;\n        /**\n         * Internal variable to store the `position`.\n         * @default -1\n         * @private\n         */\n        this.position4 = -1;\n        /**\n         * The `index` of the object within the object collection.\n         * @default -1\n         * @private\n         */\n        this.objectIndex = -1;\n        /**\n         * @hidden\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        // if (typeof obj2 === 'undefined') {\n        if (obj1 instanceof PdfArray\n            || obj1 instanceof PdfDictionary\n            || obj1 instanceof PdfName\n            || obj1 instanceof PdfNumber\n            || obj1 instanceof PdfStream\n            || obj1 instanceof PdfReference\n            || obj1 instanceof PdfString) {\n            // if (obj1 === null) {\n            //     throw new Error('ArgumentNullException : obj');\n            // }\n            this.primitiveObject = obj1;\n            // } else if (obj1 instanceof PdfPageBase\n            //             || obj1 instanceof PdfPage\n            //             || obj1 instanceof PdfSection\n            //             || obj1 instanceof PdfSectionCollection) {\n        }\n        else {\n            var tempObj = obj1;\n            this.constructor(tempObj.element);\n        }\n        // }\n        // else {\n        //     if (obj2 === null) {\n        //         throw new Error('ArgumentNullException : crossTable');\n        //     }\n        //     if (obj1 === null) {\n        //         throw new Error('ArgumentNullException : reference');\n        //     }\n        //     this.crossTable = obj2;\n        //     let tempObj1 : PdfReference = <PdfReference>obj1;\n        //     this.reference = tempObj1;\n        // }\n    }\n    Object.defineProperty(PdfReferenceHolder.prototype, \"status\", {\n        //Properties\n        /**\n         * Gets or sets the `Status` of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.status4;\n        },\n        set: function (value) {\n            this.status4 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfReferenceHolder.prototype, \"isSaving\", {\n        /**\n         * Gets or sets a value indicating whether this document `is saving` or not.\n         * @private\n         */\n        get: function () {\n            return this.isSaving4;\n        },\n        set: function (value) {\n            this.isSaving4 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfReferenceHolder.prototype, \"objectCollectionIndex\", {\n        /**\n         * Gets or sets the `index` value of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.index4;\n        },\n        set: function (value) {\n            this.index4 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfReferenceHolder.prototype, \"position\", {\n        /**\n         * Gets or sets the `position` of the object.\n         * @private\n         */\n        get: function () {\n            return this.position4;\n        },\n        set: function (value) {\n            this.position4 = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfReferenceHolder.prototype, \"clonedObject\", {\n        /**\n         * Returns `cloned object`.\n         * @private\n         */\n        get: function () {\n            return null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfReferenceHolder.prototype, \"object\", {\n        /**\n         * Gets the `object` the reference is of.\n         * @private\n         */\n        get: function () {\n            // if ((this.reference != null) || (this.object == null)) {\n            //     this.object = this.GetterObject();\n            // }\n            return this.primitiveObject;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfReferenceHolder.prototype, \"reference\", {\n        /**\n         * Gets the `reference`.\n         * @private\n         */\n        get: function () {\n            return this.pdfReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfReferenceHolder.prototype, \"index\", {\n        /**\n         * Gets the `index` of the object.\n         * @private\n         */\n        get: function () {\n            // let items : PdfMainObjectCollection = this.crossTable.PdfObjects;\n            // this.objectIndex = items.GetObjectIndex(this.reference);\n            // if (this.objectIndex < 0) {\n            //     let obj : IPdfPrimitive = this.crossTable.GetObject(this.reference);\n            //     this.objectIndex = items.Count - 1;\n            // }\n            return this.objectIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfReferenceHolder.prototype, \"element\", {\n        /**\n         * Gets the `element`.\n         * @private\n         */\n        get: function () {\n            return this.primitiveObject;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Writes` a reference into a PDF document.\n     * @private\n     */\n    PdfReferenceHolder.prototype.save = function (writer) {\n        // if (writer == null) {\n        //     throw new Error('ArgumentNullException : writer');\n        // }\n        var position = writer.position;\n        var cTable = writer.document.crossTable;\n        // if (cTable.Document instanceof PdfDocument) {\n        this.object.isSaving = true;\n        // }\n        var reference = null;\n        // if (writer.Document.FileStructure.IncrementalUpdate === true && writer.Document.isStreamCopied === true) {\n        //     if (this.reference === null) {\n        //         reference = cTable.GetReference(this.Object);\n        //     } else {\n        //         reference = this.reference;\n        //     }\n        // } else {\n        //     reference = cTable.GetReference(this.Object);\n        // }\n        // if (!(writer.Document.FileStructure.IncrementalUpdate === true && writer.Document.isStreamCopied === true)) {\n        reference = cTable.getReference(this.object);\n        // }\n        // if (writer.Position !== position) {\n        //     writer.Position = position;\n        // }\n        reference.save(writer);\n    };\n    /**\n     * Creates a `copy of PdfReferenceHolder`.\n     * @private\n     */\n    PdfReferenceHolder.prototype.clone = function (crossTable) {\n        var refHolder = null;\n        var temp = null;\n        var refNum = '';\n        var reference = null;\n        // Restricts addition of same object multiple time.\n        /* if (this.Reference != null && this.crossTable != null && this.crossTable.PageCorrespondance.containsKey(this.Reference)) {\n            refHolder = new PdfReferenceHolder(this.crossTable.PageCorrespondance.getValue(this.Reference) as PdfReference, crossTable);\n            return refHolder;\n        }\n        if (Object instanceof PdfNumber) {\n            return new PdfNumber((Object as PdfNumber).IntValue);\n        }\n        */\n        // if (Object instanceof PdfDictionary) {\n        //     // Meaning the referenced page is not available for import.\n        //     let type : PdfName = new PdfName(this.dictionaryProperties.type);\n        //     let dict : PdfDictionary = Object as PdfDictionary;\n        //     if (dict.ContainsKey(type)) {\n        //         let pageName : PdfName = dict.Items.getValue(type.Value) as PdfName;\n        //         if (pageName !== null) {\n        //             if (pageName.Value === 'Page') {\n        //                 return new PdfNull();\n        //             }\n        //         }\n        //     }\n        // }\n        /* if (Object instanceof PdfName) {\n            return new PdfName ((Object as PdfName ).Value);\n        }\n        */\n        // Resolves circular references.\n        // if (crossTable.PrevReference !== null && (crossTable.PrevReference.indexOf(this.Reference) !== -1)) {\n        //     let obj : IPdfPrimitive = this.crossTable.GetObject(this.Reference).ClonedObject;\n        //     if (obj !== null) {\n        //         reference = crossTable.GetReference(obj);\n        //         return new PdfReferenceHolder(reference, crossTable);\n        //     } else {\n        //         return new PdfNull();\n        //     }\n        // }\n        /*if (this.Reference !== null) {\n            crossTable.PrevReference.push(this.Reference);\n        }\n        reference = crossTable.GetReference(temp);\n        refHolder = new PdfReferenceHolder(reference, crossTable);\n        return refHolder;\n        */\n        return null;\n    };\n    return PdfReferenceHolder;\n}());\nexport { PdfReferenceHolder };\n","import { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfName } from './../primitives/pdf-name';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\n/**\n * `PdfAction` class represents base class for all action types.\n * @private\n */\nvar PdfAction = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initialize instance for `Action` class.\n     * @private\n     */\n    function PdfAction() {\n        /**\n         * Specifies the Next `action` to perform.\n         * @private\n         */\n        this.action = null;\n        /**\n         * Specifies the Internal variable to store `dictionary properties`.\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        // super(); -> Object()\n        this.initialize();\n    }\n    Object.defineProperty(PdfAction.prototype, \"next\", {\n        // Properties\n        /**\n         * Gets and Sets the `Next` action to perform.\n         * @private\n         */\n        get: function () {\n            return this.action;\n        },\n        set: function (value) {\n            // if (this.action !== value) {\n            this.action = value;\n            this.dictionary.items.setValue(this.dictionaryProperties.next, new PdfReferenceHolder(this.action));\n            // }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAction.prototype, \"dictionary\", {\n        /**\n         * Gets and Sets the instance of PdfDictionary class for `Dictionary`.\n         * @private\n         */\n        get: function () {\n            if (typeof this.pdfDictionary === 'undefined') {\n                this.pdfDictionary = new PdfDictionary();\n            }\n            return this.pdfDictionary;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Initialize` the action type.\n     * @private\n     */\n    PdfAction.prototype.initialize = function () {\n        this.dictionary.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.action));\n    };\n    Object.defineProperty(PdfAction.prototype, \"element\", {\n        // IPdfWrapper Members\n        /**\n         * Gets the `Element` as IPdfPrimitive class.\n         * @private\n         */\n        get: function () {\n            return this.dictionary;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfAction;\n}());\nexport { PdfAction };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfAction } from './action';\nimport { PdfString } from './../primitives/pdf-string';\nimport { PdfName } from './../primitives/pdf-name';\n/**\n * `PdfUriAction` class for initialize the uri related internals.\n * @private\n */\nvar PdfUriAction = /** @class */ (function (_super) {\n    __extends(PdfUriAction, _super);\n    function PdfUriAction(uri) {\n        var _this = _super.call(this) || this;\n        // Fields\n        /**\n         * Specifies the `uri` string.\n         * @default ''.\n         * @private\n         */\n        _this.uniformResourceIdentifier = '';\n        return _this;\n    }\n    Object.defineProperty(PdfUriAction.prototype, \"uri\", {\n        // Properties\n        /**\n         * Gets and Sets the value of `Uri`.\n         * @private\n         */\n        get: function () {\n            return this.uniformResourceIdentifier;\n        },\n        set: function (value) {\n            this.uniformResourceIdentifier = value;\n            this.dictionary.items.setValue(this.dictionaryProperties.uri, new PdfString(this.uniformResourceIdentifier));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Initialize` the internals.\n     * @private\n     */\n    PdfUriAction.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        this.dictionary.items.setValue(this.dictionaryProperties.s, new PdfName(this.dictionaryProperties.uri));\n    };\n    return PdfUriAction;\n}(PdfAction));\nexport { PdfUriAction };\n","import { PdfColorSpace } from './enum';\nimport { Operators } from './../input-output/pdf-operators';\nimport { Dictionary } from './../collections/dictionary';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PdfArray } from './../primitives/pdf-array';\n/**\n * Implements structures and routines working with `color`.\n * ```typescript\n * // create a new PDF document\n * let document : PdfDocument = new PdfDocument();\n * // add a new page to the document\n * let page1 : PdfPage = document.pages.add();\n * // set the font\n * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n * //\n * // set color\n * let brushColor : PdfColor = new PdfColor(0, 0, 0);\n * //\n * // create black brush\n * let blackBrush : PdfSolidBrush = new PdfSolidBrush(brushColor);\n * // draw the text\n * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(0, 0));\n * // save the document\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n * @default black color\n */\nvar PdfColor = /** @class */ (function () {\n    function PdfColor(color1, color2, color3, color4) {\n        if (color1 instanceof PdfColor) {\n            this.redColor = color1.r;\n            this.greenColor = color1.g;\n            this.blueColor = color1.b;\n            this.grayColor = color1.gray;\n            this.alpha = color1.alpha;\n            this.filled = (this.alpha !== 0);\n        }\n        else if (typeof color1 === 'number' && typeof color2 === 'number' && typeof color3 === 'number' &&\n            typeof color4 === 'undefined') {\n            this.constructor(PdfColor.maxColourChannelValue, color1, color2, color3); //doubt-byte/float\n        }\n        else if (typeof color1 === 'number' && typeof color2 === 'number' && typeof color3 === 'number' && typeof color4 === 'number') {\n            this.redColor = color2;\n            this.cyanColor = 0;\n            this.greenColor = color3;\n            this.magentaColor = 0;\n            this.blueColor = color4;\n            this.yellowColor = 0;\n            this.blackColor = 0;\n            this.grayColor = 0;\n            this.alpha = color1;\n            this.filled = true;\n            this.assignCMYK(color2, color3, color4);\n        }\n    }\n    /**\n     * `Calculate and assign` cyan, megenta, yellow colors from rgb values..\n     * @private\n     */\n    PdfColor.prototype.assignCMYK = function (r, g, b) {\n        var red = r / PdfColor.maxColourChannelValue;\n        var green = g / PdfColor.maxColourChannelValue;\n        var blue = b / PdfColor.maxColourChannelValue;\n        var black = PdfNumber.min(1 - red, 1 - green, 1 - blue);\n        var cyan = (black === 1.0) ? 0 : (1 - red - black) / (1 - black);\n        var magenta = (black === 1.0) ? 0 : (1 - green - black) / (1 - black);\n        var yellow = (black === 1.0) ? 0 : (1 - blue - black) / (1 - black);\n        this.blackColor = black;\n        this.cyanColor = cyan;\n        this.magentaColor = magenta;\n        this.yellowColor = yellow;\n    };\n    Object.defineProperty(PdfColor.prototype, \"r\", {\n        //Properties\n        // public static get Empty():PdfColor\n        // {\n        //     return this.s_emptyColor\n        // }\n        /**\n         * Gets or sets `Red` channel value.\n         * @private\n         */\n        get: function () {\n            return this.redColor;\n        },\n        set: function (value) {\n            this.redColor = value;\n            this.assignCMYK(this.redColor, this.greenColor, this.blueColor);\n            this.filled = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"red\", {\n        /**\n         * Gets the `Red` color\n         * @private\n         */\n        get: function () {\n            return (this.r / PdfColor.maxColourChannelValue);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"b\", {\n        /**\n         * Gets or sets `Blue` channel value.\n         * @private\n         */\n        get: function () {\n            return this.blueColor;\n        },\n        set: function (value) {\n            this.blueColor = value;\n            this.assignCMYK(this.redColor, this.greenColor, this.blueColor);\n            this.filled = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"blue\", {\n        /**\n         * Gets the `blue` color.\n         * @private\n         */\n        get: function () {\n            return (this.b / PdfColor.maxColourChannelValue);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"g\", {\n        /**\n         *  Gets or sets `Green` channel value.\n         * @private\n         */\n        get: function () {\n            return this.greenColor;\n        },\n        set: function (value) {\n            this.greenColor = value;\n            this.assignCMYK(this.redColor, this.greenColor, this.blueColor);\n            this.filled = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"green\", {\n        /**\n         * Gets the `Green` color.\n         * @private\n         */\n        get: function () {\n            return (this.g / PdfColor.maxColourChannelValue);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"gray\", {\n        /**\n         * Gets or sets `Gray` channel value.\n         * @private\n         */\n        get: function () {\n            return ((((this.redColor + this.greenColor) + this.blueColor)) / (PdfColor.maxColourChannelValue * 3));\n        },\n        set: function (value) {\n            if (value < 0) {\n                this.grayColor = 0;\n            }\n            else if (value > 1) {\n                this.grayColor = 1;\n            }\n            else {\n                this.grayColor = value;\n            }\n            this.r = (this.grayColor * PdfColor.maxColourChannelValue);\n            this.g = (this.grayColor * PdfColor.maxColourChannelValue);\n            this.b = (this.grayColor * PdfColor.maxColourChannelValue);\n            this.assignCMYK(this.redColor, this.greenColor, this.blueColor);\n            this.filled = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"isEmpty\", {\n        /**\n         * Gets whether the PDFColor `is Empty` or not.\n         * @private\n         */\n        get: function () {\n            return !this.filled;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"a\", {\n        /**\n         * Gets or sets `Alpha` channel value.\n         * @private\n         */\n        get: function () {\n            return this.alpha;\n        },\n        set: function (value) {\n            if (value < 0) {\n                this.alpha = 0;\n            }\n            else {\n                // if (this.alpha !== value) {\n                this.alpha = value;\n                // }\n            }\n            this.filled = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Public methods\n    /**\n     * Converts `PDFColor to PDF string` representation.\n     * @private\n     */\n    PdfColor.prototype.toString = function (colorSpace, stroke) {\n        if (this.isEmpty) {\n            return '';\n        }\n        return this.rgbToString(stroke);\n    };\n    /**\n     * Sets `RGB` color.\n     * @private\n     */\n    PdfColor.prototype.rgbToString = function (ifStroking) {\n        var r = this.r;\n        var g = this.g;\n        var b = this.b;\n        var key = (r << 16) + (g << 8) + b;\n        if (ifStroking) {\n            key += 1 << 24;\n        }\n        var colour = '';\n        var obj = null;\n        if (PdfColor.rgbStrings.containsKey(key)) {\n            obj = PdfColor.rgbStrings.getValue(key);\n        }\n        if (obj == null) {\n            var red = r / PdfColor.maxColourChannelValue;\n            var green = g / PdfColor.maxColourChannelValue;\n            var blue = b / PdfColor.maxColourChannelValue;\n            if (ifStroking) {\n                colour = red.toString() + ' ' + green.toString() + ' ' + blue.toString() + ' RG';\n            }\n            else {\n                colour = red.toString() + ' ' + green.toString() + ' ' + blue.toString() + ' rg';\n            }\n            PdfColor.rgbStrings.setValue(key, colour);\n        }\n        else {\n            colour = obj.toString();\n        }\n        return colour + Operators.newLine;\n    };\n    /**\n     * Converts `colour to a PDF array`.\n     * @private\n     */\n    PdfColor.prototype.toArray = function (colorSpace) {\n        var array = new PdfArray();\n        switch (colorSpace) {\n            case PdfColorSpace.Rgb:\n                array.add(new PdfNumber(this.red));\n                array.add(new PdfNumber(this.green));\n                array.add(new PdfNumber(this.blue));\n                break;\n            default:\n                throw new Error('NotSupportedException : Unsupported colour space.');\n        }\n        return array;\n    };\n    //Fields\n    /**\n     * Holds `RGB colors` converted into strings.\n     * @private\n     */\n    PdfColor.rgbStrings = new Dictionary();\n    /**\n     * Holds Gray scale colors converted into strings for `stroking`.\n     * @private\n     */\n    PdfColor.grayStringsSroke = new Dictionary();\n    /**\n     * Holds Gray scale colors converted into strings for `filling`.\n     * @private\n     */\n    PdfColor.grayStringsFill = new Dictionary();\n    /**\n     * `Max value` of color channel.\n     * @private\n     */\n    PdfColor.maxColourChannelValue = 255.0;\n    return PdfColor;\n}());\nexport { PdfColor };\n","/**\n * public Enum for `PdfFontStyle`.\n * @private\n */\nexport var PdfFontStyle;\n(function (PdfFontStyle) {\n    /**\n     * Specifies the type of `Regular`.\n     * @private\n     */\n    PdfFontStyle[PdfFontStyle[\"Regular\"] = 0] = \"Regular\";\n    /**\n     * Specifies the type of `Bold`.\n     * @private\n     */\n    PdfFontStyle[PdfFontStyle[\"Bold\"] = 1] = \"Bold\";\n    /**\n     * Specifies the type of `Italic`.\n     * @private\n     */\n    PdfFontStyle[PdfFontStyle[\"Italic\"] = 2] = \"Italic\";\n    /**\n     * Specifies the type of `Underline`.\n     * @private\n     */\n    PdfFontStyle[PdfFontStyle[\"Underline\"] = 4] = \"Underline\";\n    /**\n     * Specifies the type of `Strikeout`.\n     * @private\n     */\n    PdfFontStyle[PdfFontStyle[\"Strikeout\"] = 8] = \"Strikeout\";\n})(PdfFontStyle || (PdfFontStyle = {}));\n/**\n * Specifies the font family from the standard font.\n * ```typescript\n * // create a new PDF document\n * let document : PdfDocument = new PdfDocument();\n * // add a new page to the document\n * let page1 : PdfPage = document.pages.add();\n * // create new standard font\n * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n * // create black brush\n * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n * // draw the text\n * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(0, 0));\n * // save the document\n * document.save('output.pdf');\n * ```\n */\nexport var PdfFontFamily;\n(function (PdfFontFamily) {\n    /**\n     * Specifies the `Helvetica` font.\n     */\n    PdfFontFamily[PdfFontFamily[\"Helvetica\"] = 0] = \"Helvetica\";\n    /**\n     * Specifies the `Courier` font.\n     */\n    PdfFontFamily[PdfFontFamily[\"Courier\"] = 1] = \"Courier\";\n    /**\n     * Specifies the `TimesRoman` font.\n     */\n    PdfFontFamily[PdfFontFamily[\"TimesRoman\"] = 2] = \"TimesRoman\";\n    /**\n     * Specifies the `Symbol` font.\n     */\n    PdfFontFamily[PdfFontFamily[\"Symbol\"] = 3] = \"Symbol\";\n    /**\n     * Specifies the `ZapfDingbats` font.\n     */\n    PdfFontFamily[PdfFontFamily[\"ZapfDingbats\"] = 4] = \"ZapfDingbats\";\n})(PdfFontFamily || (PdfFontFamily = {}));\n/**\n * public Enum for `PdfFontType`.\n * @private\n */\nexport var PdfFontType;\n(function (PdfFontType) {\n    /**\n     * Specifies the type of `Standard`.\n     * @private\n     */\n    PdfFontType[PdfFontType[\"Standard\"] = 0] = \"Standard\";\n    /**\n     * Specifies the type of `TrueType`.\n     * @private\n     */\n    PdfFontType[PdfFontType[\"TrueType\"] = 1] = \"TrueType\";\n    /**\n     * Specifies the type of `TrueTypeEmbedded`.\n     * @private\n     */\n    PdfFontType[PdfFontType[\"TrueTypeEmbedded\"] = 2] = \"TrueTypeEmbedded\";\n})(PdfFontType || (PdfFontType = {}));\n/**\n * public Enum for `PdfWordWrapType`.\n * @private\n */\nexport var PdfWordWrapType;\n(function (PdfWordWrapType) {\n    /**\n     * Specifies the type of `None`.\n     * @private\n     */\n    PdfWordWrapType[PdfWordWrapType[\"None\"] = 0] = \"None\";\n    /**\n     * Specifies the type of `Word`.\n     * @private\n     */\n    PdfWordWrapType[PdfWordWrapType[\"Word\"] = 1] = \"Word\";\n    /**\n     * Specifies the type of `WordOnly`.\n     * @private\n     */\n    PdfWordWrapType[PdfWordWrapType[\"WordOnly\"] = 2] = \"WordOnly\";\n    /**\n     * Specifies the type of `Character`.\n     * @private\n     */\n    PdfWordWrapType[PdfWordWrapType[\"Character\"] = 3] = \"Character\";\n})(PdfWordWrapType || (PdfWordWrapType = {}));\n/**\n * public Enum for `PdfSubSuperScript`.\n * @private\n */\nexport var PdfSubSuperScript;\n(function (PdfSubSuperScript) {\n    /**\n     * Specifies the type of `None`.\n     * @private\n     */\n    PdfSubSuperScript[PdfSubSuperScript[\"None\"] = 0] = \"None\";\n    /**\n     * Specifies the type of `SuperScript`.\n     * @private\n     */\n    PdfSubSuperScript[PdfSubSuperScript[\"SuperScript\"] = 1] = \"SuperScript\";\n    /**\n     * Specifies the type of `SubScript`.\n     * @private\n     */\n    PdfSubSuperScript[PdfSubSuperScript[\"SubScript\"] = 2] = \"SubScript\";\n})(PdfSubSuperScript || (PdfSubSuperScript = {}));\n/**\n * public Enum for `FontEncoding`.\n * @private\n */\nexport var FontEncoding;\n(function (FontEncoding) {\n    /**\n     * Specifies the type of `Unknown`.\n     * @private\n     */\n    FontEncoding[FontEncoding[\"Unknown\"] = 0] = \"Unknown\";\n    /**\n     * Specifies the type of `StandardEncoding`.\n     * @private\n     */\n    FontEncoding[FontEncoding[\"StandardEncoding\"] = 1] = \"StandardEncoding\";\n    /**\n     * Specifies the type of `MacRomanEncoding`.\n     * @private\n     */\n    FontEncoding[FontEncoding[\"MacRomanEncoding\"] = 2] = \"MacRomanEncoding\";\n    /**\n     * Specifies the type of `MacExpertEncoding`.\n     * @private\n     */\n    FontEncoding[FontEncoding[\"MacExpertEncoding\"] = 3] = \"MacExpertEncoding\";\n    /**\n     * Specifies the type of `WinAnsiEncoding`.\n     * @private\n     */\n    FontEncoding[FontEncoding[\"WinAnsiEncoding\"] = 4] = \"WinAnsiEncoding\";\n    /**\n     * Specifies the type of `PdfDocEncoding`.\n     * @private\n     */\n    FontEncoding[FontEncoding[\"PdfDocEncoding\"] = 5] = \"PdfDocEncoding\";\n    /**\n     * Specifies the type of `IdentityH`.\n     * @private\n     */\n    FontEncoding[FontEncoding[\"IdentityH\"] = 6] = \"IdentityH\";\n})(FontEncoding || (FontEncoding = {}));\n","/**\n * Coordinates of Position for `PointF`.\n * @private\n */\nvar PointF = /** @class */ (function () {\n    function PointF(x, y) {\n        if (typeof x === 'undefined') {\n            this.x = 0;\n            this.y = 0;\n        }\n        else {\n            if (x !== null) {\n                this.x = x;\n            }\n            else {\n                this.x = 0;\n            }\n            if (y !== null) {\n                this.y = y;\n            }\n            else {\n                this.y = 0;\n            }\n        }\n    }\n    return PointF;\n}());\nexport { PointF };\n/**\n * Width and Height as `Size`.\n * @private\n */\nvar SizeF = /** @class */ (function () {\n    function SizeF(width, height) {\n        if (typeof height === 'undefined') {\n            this.height = 0;\n            this.width = 0;\n        }\n        else {\n            if (height !== null) {\n                this.height = height;\n            }\n            else {\n                this.height = 0;\n            }\n            if (width !== null) {\n                this.width = width;\n            }\n            else {\n                this.width = 0;\n            }\n        }\n    }\n    return SizeF;\n}());\nexport { SizeF };\n/**\n * `RectangleF` with Position and size.\n * @private\n */\nvar RectangleF = /** @class */ (function () {\n    function RectangleF(arg1, arg2, arg3, arg4) {\n        if (typeof arg1 === typeof arg1 && typeof arg1 === 'undefined') {\n            this.x = 0;\n            this.y = 0;\n            this.height = 0;\n            this.width = 0;\n        }\n        else {\n            if (arg1 instanceof PointF && arg2 instanceof SizeF && typeof arg3 === 'undefined') {\n                var pointf = arg1;\n                this.x = pointf.x;\n                this.y = pointf.y;\n                var sizef = arg2;\n                this.height = sizef.height;\n                this.width = sizef.width;\n            }\n            else {\n                var x = arg1;\n                var y = arg2;\n                var width = arg3;\n                var height = arg4;\n                this.x = x;\n                this.y = y;\n                this.height = height;\n                this.width = width;\n            }\n        }\n    }\n    return RectangleF;\n}());\nexport { RectangleF };\n","/**\n * `PdfBrush` class provides objects used to fill the interiors of graphical shapes such as rectangles,\n * ellipses, pies, polygons, and paths.\n * @private\n */\nvar PdfBrush = /** @class */ (function () {\n    /**\n     * Creates instanceof `PdfBrush` class.\n     * @hidden\n     * @private\n     */\n    function PdfBrush() {\n        //\n    }\n    return PdfBrush;\n}());\nexport { PdfBrush };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfColor } from './../pdf-color';\nimport { PdfColorSpace } from './../enum';\nimport { PdfBrush } from './pdf-brush';\n/**\n * Represents a brush that fills any object with a solid color.\n * ```typescript\n * // create a new PDF document\n * let document : PdfDocument = new PdfDocument();\n * // add a pages to the document\n * let page1 : PdfPage = document.pages.add();\n * // set font\n * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n * // set brush\n * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n * // draw the text\n * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(10, 10));\n * // save the document\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n */\nvar PdfSolidBrush = /** @class */ (function (_super) {\n    __extends(PdfSolidBrush, _super);\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfSolidBrush` class.\n     * ```typescript\n     * // create a new PDF document\n     * let document : PdfDocument = new PdfDocument();\n     * // add a pages to the document\n     * let page1 : PdfPage = document.pages.add();\n     * // set font\n     * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n     * // set brush\n     * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n     * // draw the text\n     * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(10, 10));\n     * // save the document\n     * document.save('output.pdf');\n     * // destroy the document\n     * document.destroy();\n     * ```\n     * @param color color of the brush\n     */\n    function PdfSolidBrush(color) {\n        var _this = _super.call(this) || this;\n        _this.pdfColor = color;\n        return _this;\n    }\n    Object.defineProperty(PdfSolidBrush.prototype, \"color\", {\n        //Properties\n        /**\n         * Gets or sets the `color` of the brush.\n         * @private\n         */\n        get: function () {\n            return this.pdfColor;\n        },\n        set: function (value) {\n            this.pdfColor = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Monitors` the changes of the brush and modify PDF state respectively.\n     * @private\n     */\n    PdfSolidBrush.prototype.monitorChanges = function (brush, streamWriter, getResources, saveChanges, currentColorSpace) {\n        if (streamWriter == null) {\n            throw new Error('ArgumentNullException:streamWriter');\n        }\n        var diff = false;\n        if (brush == null) {\n            diff = true;\n            streamWriter.setColorAndSpace(this.pdfColor, currentColorSpace, false);\n            return diff;\n        }\n        else {\n            var sBrush = brush;\n            diff = true;\n            streamWriter.setColorAndSpace(this.pdfColor, currentColorSpace, false);\n            return diff;\n        }\n    };\n    /**\n     * `Resets` the changes, which were made by the brush.\n     * @private\n     */\n    PdfSolidBrush.prototype.resetChanges = function (streamWriter) {\n        streamWriter.setColorAndSpace(new PdfColor(0, 0, 0), PdfColorSpace.Rgb, false);\n    };\n    return PdfSolidBrush;\n}(PdfBrush));\nexport { PdfSolidBrush };\n","/**\n * PdfStringFormat.ts class for EJ2-PDF\n */\nimport { PdfVerticalAlignment } from './../../graphics/enum';\nimport { PdfSubSuperScript, PdfWordWrapType } from './../../graphics/fonts/enum';\n/**\n * `PdfStringFormat` class represents the text layout information on PDF.\n * ```typescript\n * // create a new PDF document\n * let document : PdfDocument = new PdfDocument();\n * // add a pages to the document\n * let page1 : PdfPage = document.pages.add();\n * // set font\n * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n * // set brush\n * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n * //\n * // set the format for string\n * let stringFormat : PdfStringFormat = new PdfStringFormat();\n * // set the text alignment\n * stringFormat.alignment = PdfTextAlignment.Center;\n * // set the vertical alignment\n * stringFormat.lineAlignment = PdfVerticalAlignment.Middle;\n * //\n * // draw the text\n * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(10, 10), stringFormat);\n * // save the document\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n */\nvar PdfStringFormat = /** @class */ (function () {\n    function PdfStringFormat(arg1, arg2) {\n        /**\n         * The `scaling factor` of the text being drawn.\n         * @private\n         */\n        this.scalingFactor = 100.0;\n        if (typeof arg1 === 'undefined') {\n            this.internalLineLimit = true;\n            this.wordWrapType = PdfWordWrapType.Word;\n        }\n        else if (typeof arg1 === 'string') {\n            this.constructor();\n        }\n        else {\n            if (typeof arg2 === 'undefined') {\n                this.constructor();\n                this.textAlignment = arg1;\n            }\n            else {\n                this.constructor(arg1);\n                this.verticalAlignment = arg2;\n            }\n        }\n    }\n    Object.defineProperty(PdfStringFormat.prototype, \"alignment\", {\n        //Properties\n        /**\n         * Gets or sets the `horizontal` text alignment\n         * ```typescript\n         * // create a new PDF document\n         * let document : PdfDocument = new PdfDocument();\n         * // add a pages to the document\n         * let page1 : PdfPage = document.pages.add();\n         * // set font\n         * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n         * // set brush\n         * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n         * //\n         * // set the format for string\n         * let stringFormat : PdfStringFormat = new PdfStringFormat();\n         * // set the text alignment\n         * stringFormat.alignment = PdfTextAlignment.Center;\n         * //\n         * // draw the text\n         * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(10, 10), stringFormat);\n         * // save the document\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            return this.textAlignment;\n        },\n        set: function (value) {\n            this.textAlignment = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"lineAlignment\", {\n        /**\n         * Gets or sets the `vertical` text alignment.\n         * ```typescript\n         * // create a new PDF document\n         * let document : PdfDocument = new PdfDocument();\n         * // add a pages to the document\n         * let page1 : PdfPage = document.pages.add();\n         * // set font\n         * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n         * // set brush\n         * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n         * //\n         * // set the format for string\n         * let stringFormat : PdfStringFormat = new PdfStringFormat();\n         * // set the vertical alignment\n         * stringFormat.lineAlignment = PdfVerticalAlignment.Middle;\n         * //\n         * // draw the text\n         * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(10, 10), stringFormat);\n         * // save the document\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            if (typeof this.verticalAlignment === 'undefined' || this.verticalAlignment == null) {\n                return PdfVerticalAlignment.Top;\n            }\n            else {\n                return this.verticalAlignment;\n            }\n        },\n        set: function (value) {\n            this.verticalAlignment = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"rightToLeft\", {\n        /**\n         * Gets or sets the value that indicates text `direction` mode.\n         * @private\n         */\n        get: function () {\n            if (typeof this.isRightToLeft === 'undefined' || this.isRightToLeft == null) {\n                return false;\n            }\n            else {\n                return this.isRightToLeft;\n            }\n        },\n        set: function (value) {\n            this.isRightToLeft = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"characterSpacing\", {\n        /**\n         * Gets or sets value that indicates a `size` among the characters in the text.\n         * ```typescript\n         * // create a new PDF document\n         * let document : PdfDocument = new PdfDocument();\n         * // add a pages to the document\n         * let page1 : PdfPage = document.pages.add();\n         * // set font\n         * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n         * // set brush\n         * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n         * //\n         * // set the format for string\n         * let stringFormat : PdfStringFormat = new PdfStringFormat();\n         * // set character spacing\n         * stringFormat.characterSpacing = 10;\n         * //\n         * // draw the text\n         * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(10, 10), stringFormat);\n         * // save the document\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            if (typeof this.internalCharacterSpacing === 'undefined' || this.internalCharacterSpacing == null) {\n                return 0;\n            }\n            else {\n                return this.internalCharacterSpacing;\n            }\n        },\n        set: function (value) {\n            this.internalCharacterSpacing = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"wordSpacing\", {\n        /**\n         * Gets or sets value that indicates a `size` among the words in the text.\n         * ```typescript\n         * // create a new PDF document\n         * let document : PdfDocument = new PdfDocument();\n         * // add a pages to the document\n         * let page1 : PdfPage = document.pages.add();\n         * // set font\n         * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n         * // set brush\n         * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n         * //\n         * // set the format for string\n         * let stringFormat : PdfStringFormat = new PdfStringFormat();\n         * // set word spacing\n         * stringFormat.wordSpacing = 10;\n         * //\n         * // draw the text\n         * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(10, 10), stringFormat);\n         * // save the document\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            if (typeof this.internalWordSpacing === 'undefined' || this.internalWordSpacing == null) {\n                return 0;\n            }\n            else {\n                return this.internalWordSpacing;\n            }\n        },\n        set: function (value) {\n            this.internalWordSpacing = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"lineSpacing\", {\n        /**\n         * Gets or sets value that indicates the `vertical distance` between the baselines of adjacent lines of text.\n         * ```typescript\n         * // create a new PDF document\n         * let document : PdfDocument = new PdfDocument();\n         * // add a pages to the document\n         * let page1 : PdfPage = document.pages.add();\n         * // set font\n         * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n         * // set brush\n         * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n         * // set string\n         * let text : string = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n         * incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitati';\n         * // set rectangle bounds\n         * let rectangle : RectangleF = new RectangleF({x : 0, y : 0}, {width : 300, height : 100})\n         * //\n         * // set the format for string\n         * let stringFormat : PdfStringFormat = new PdfStringFormat();\n         * // set line spacing\n         * stringFormat.lineSpacing = 10;\n         * //\n         * // draw the text\n         * page1.graphics.drawString(text, font, blackBrush, rectangle, stringFormat);\n         * // save the document\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            if (typeof this.leading === 'undefined' || this.leading == null) {\n                return 0;\n            }\n            else {\n                return this.leading;\n            }\n        },\n        set: function (value) {\n            this.leading = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"clipPath\", {\n        /**\n         * Gets or sets a value indicating whether the text is `clipped` or not.\n         * @private\n         */\n        get: function () {\n            if (typeof this.clip === 'undefined' || this.clip == null) {\n                return false;\n            }\n            else {\n                return this.clip;\n            }\n        },\n        set: function (value) {\n            this.clip = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"subSuperScript\", {\n        /**\n         * Gets or sets value indicating whether the text is in `subscript or superscript` mode.\n         * @private\n         */\n        get: function () {\n            if (typeof this.pdfSubSuperScript === 'undefined' || this.pdfSubSuperScript == null) {\n                return PdfSubSuperScript.None;\n            }\n            else {\n                return this.pdfSubSuperScript;\n            }\n        },\n        set: function (value) {\n            this.pdfSubSuperScript = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"paragraphIndent\", {\n        /**\n         * Gets or sets the `indent` of the first line in the paragraph.\n         * @private\n         */\n        get: function () {\n            if (typeof this.internalParagraphIndent === 'undefined' || this.internalParagraphIndent == null) {\n                return 0;\n            }\n            else {\n                return this.internalParagraphIndent;\n            }\n        },\n        set: function (value) {\n            this.internalParagraphIndent = value;\n            this.firstLineIndent = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"lineLimit\", {\n        /**\n         * Gets or sets a value indicating whether [`line limit`].\n         * @private\n         */\n        get: function () {\n            return this.internalLineLimit;\n        },\n        set: function (value) {\n            this.internalLineLimit = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"measureTrailingSpaces\", {\n        /**\n         * Gets or sets a value indicating whether [`measure trailing spaces`].\n         * @private\n         */\n        get: function () {\n            if (typeof this.trailingSpaces === 'undefined' || this.trailingSpaces == null) {\n                return false;\n            }\n            else {\n                return this.trailingSpaces;\n            }\n        },\n        set: function (value) {\n            this.trailingSpaces = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"noClip\", {\n        /**\n         * Gets or sets a value indicating whether [`no clip`].\n         * @private\n         */\n        get: function () {\n            if (typeof this.isNoClip === 'undefined' || this.isNoClip == null) {\n                return false;\n            }\n            else {\n                return this.isNoClip;\n            }\n        },\n        set: function (value) {\n            this.isNoClip = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"wordWrap\", {\n        /**\n         * Gets or sets value indicating type of the text `wrapping`.\n         * @private\n         */\n        get: function () {\n            // if (typeof this.wrapType === 'undefined' || this.wrapType == null) {\n            //     return PdfWordWrapType.Word;\n            // } else {\n            return this.wordWrapType;\n            // }\n        },\n        set: function (value) {\n            this.wordWrapType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"horizontalScalingFactor\", {\n        /**\n         * Gets or sets the `scaling factor`.\n         * @private\n         */\n        get: function () {\n            // if (typeof this.scalingFactor === 'undefined' || this.scalingFactor == null) {\n            //     return 100;\n            // } else {\n            return this.scalingFactor;\n            // }\n        },\n        set: function (value) {\n            if (value <= 0) {\n                throw new Error('ArgumentOutOfRangeException:The scaling factor cant be less of equal to zero, ScalingFactor');\n            }\n            this.scalingFactor = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringFormat.prototype, \"firstLineIndent\", {\n        /**\n         * Gets or sets the `indent` of the first line in the text.\n         * @private\n         */\n        get: function () {\n            if (typeof this.initialLineIndent === 'undefined' || this.initialLineIndent == null) {\n                return 0;\n            }\n            else {\n                return this.initialLineIndent;\n            }\n        },\n        set: function (value) {\n            this.initialLineIndent = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Clones` the object.\n     * @private\n     */\n    //IClonable implementation\n    PdfStringFormat.prototype.clone = function () {\n        var format = this;\n        return format;\n    };\n    return PdfStringFormat;\n}());\nexport { PdfStringFormat };\n","import { SizeF, RectangleF, PointF } from './../../drawing/pdf-drawing';\nimport { PdfWordWrapType } from './enum';\nimport { StringTokenizer } from './string-tokenizer';\n/**\n * Class `lay outing the text`.\n */\nvar PdfStringLayouter = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initializes a new instance of the `StringLayouter` class.\n     * @private\n     */\n    function PdfStringLayouter() {\n        /**\n         * Checks whether the x co-ordinate is need to set as client size or not.\n         * @hidden\n         * @private\n         */\n        this.isOverloadWithPosition = false;\n        //\n    }\n    PdfStringLayouter.prototype.layout = function (arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n        if (arg4 instanceof RectangleF) {\n            this.initialize(arg1, arg2, arg3, arg4, arg5);\n            this.isOverloadWithPosition = arg6;\n            this.clientSize = arg7;\n            var result = this.doLayout();\n            this.clear();\n            return result;\n        }\n        else {\n            this.initialize(arg1, arg2, arg3, arg4);\n            this.isOverloadWithPosition = arg5;\n            this.clientSize = arg6;\n            var result = this.doLayout();\n            this.clear();\n            return result;\n        }\n    };\n    PdfStringLayouter.prototype.initialize = function (text, font, format, rectSize, pageHeight) {\n        if (typeof pageHeight === 'number') {\n            if (text == null) {\n                throw new Error('ArgumentNullException:text');\n            }\n            if (font == null) {\n                throw new Error('ArgumentNullException:font');\n            }\n            this.text = text;\n            this.font = font;\n            this.format = format;\n            this.size = new SizeF(rectSize.width, rectSize.height);\n            this.rectangle = rectSize;\n            this.pageHeight = pageHeight;\n            this.reader = new StringTokenizer(text);\n        }\n        else {\n            this.initialize(text, font, format, new RectangleF(new PointF(0, 0), rectSize), 0);\n        }\n    };\n    /**\n     * `Clear` all resources.\n     * @private\n     */\n    PdfStringLayouter.prototype.clear = function () {\n        this.font = null;\n        this.format = null;\n        this.reader.close();\n        this.reader = null;\n        this.text = null;\n    };\n    /**\n     * `Layouts` the text.\n     * @private\n     */\n    PdfStringLayouter.prototype.doLayout = function () {\n        var result = new PdfStringLayoutResult();\n        var lineResult = new PdfStringLayoutResult();\n        var lines = [];\n        var line = this.reader.peekLine();\n        var lineIndent = this.getLineIndent(true);\n        while (line != null) {\n            lineResult = this.layoutLine(line, lineIndent);\n            // if (!lineResult.Empty) {\n            var numSymbolsInserted = 0;\n            /* tslint:disable */\n            var returnedValue = this.copyToResult(result, lineResult, lines, /*out*/ numSymbolsInserted);\n            /* tslint:enable */\n            var success = returnedValue.success;\n            numSymbolsInserted = returnedValue.numInserted;\n            this.reader.readLine();\n            line = this.reader.peekLine();\n            lineIndent = this.getLineIndent(false);\n        }\n        this.finalizeResult(result, lines);\n        return result;\n    };\n    /**\n     * Returns `line indent` for the line.\n     * @private\n     */\n    PdfStringLayouter.prototype.getLineIndent = function (firstLine) {\n        var lineIndent = 0;\n        if (this.format != null) {\n            lineIndent = (firstLine) ? this.format.firstLineIndent : this.format.paragraphIndent;\n            lineIndent = (this.size.width > 0) ? Math.min(this.size.width, lineIndent) : lineIndent;\n        }\n        return lineIndent;\n    };\n    /**\n     * Calculates `height` of the line.\n     * @private\n     */\n    PdfStringLayouter.prototype.getLineHeight = function () {\n        var height = this.font.height;\n        if (this.format != null && this.format.lineSpacing !== 0) {\n            height = this.format.lineSpacing + this.font.height;\n        }\n        return height;\n    };\n    /**\n     * Calculates `width` of the line.\n     * @private\n     */\n    PdfStringLayouter.prototype.getLineWidth = function (line) {\n        var width = this.font.getLineWidth(line, this.format);\n        return width;\n    };\n    // tslint:disable\n    /**\n     * `Layouts` line.\n     * @private\n     */\n    PdfStringLayouter.prototype.layoutLine = function (line, lineIndent) {\n        var lineResult = new PdfStringLayoutResult();\n        lineResult.layoutLineHeight = this.getLineHeight();\n        var lines = [];\n        var maxWidth = this.size.width;\n        var lineWidth = this.getLineWidth(line) + lineIndent;\n        var lineType = LineType.FirstParagraphLine;\n        var readWord = true;\n        // line is in bounds.\n        if (maxWidth <= 0 || Math.round(lineWidth) <= Math.round(maxWidth)) {\n            this.addToLineResult(lineResult, lines, line, lineWidth, LineType.NewLineBreak | lineType);\n        }\n        else {\n            var builder = '';\n            var curLine = '';\n            lineWidth = lineIndent;\n            var curIndent = lineIndent;\n            var reader = new StringTokenizer(line);\n            var word = reader.peekWord();\n            var isSingleWord = false;\n            while (word != null) {\n                curLine = curLine + word;\n                var curLineWidth = this.getLineWidth(curLine.toString()) + curIndent /*)*/;\n                if (curLineWidth > maxWidth) {\n                    if (this.getWrapType() == PdfWordWrapType.None)\n                        break;\n                    if (this.getWrapType() != PdfWordWrapType.Character || !readWord) {\n                        var ln = builder.toString();\n                        if (ln.indexOf(' ') === -1) {\n                            isSingleWord = true;\n                            this.addToLineResult(lineResult, lines, curLine, lineWidth, LineType.LayoutBreak | lineType);\n                        }\n                        else {\n                            this.addToLineResult(lineResult, lines, ln, lineWidth, LineType.LayoutBreak | lineType);\n                        }\n                        if (this.isOverloadWithPosition) {\n                            maxWidth = this.clientSize.width;\n                        }\n                        curLine = '';\n                        builder = '';\n                        lineWidth = 0;\n                        curIndent = 0;\n                        curLineWidth = 0;\n                        lineType = LineType.None;\n                        if (isSingleWord) {\n                            reader.readWord();\n                            readWord = false;\n                        }\n                        word = (readWord) ? word : reader.peekWord();\n                        isSingleWord = false;\n                        readWord = true;\n                    }\n                    else {\n                        readWord = false;\n                        curLine = curLine + builder.toString();\n                        word = reader.peek().toString();\n                    }\n                    continue;\n                }\n                builder = builder + word;\n                lineWidth = curLineWidth;\n                if (readWord) {\n                    reader.readWord();\n                    word = reader.peekWord();\n                    isSingleWord = false;\n                }\n                else {\n                    reader.read();\n                    word = reader.peek().toString();\n                }\n            }\n            if (builder.length > 0) {\n                var ln = builder.toString();\n                this.addToLineResult(lineResult, lines, ln, lineWidth, LineType.NewLineBreak | LineType.LastParagraphLine);\n            }\n            reader.close();\n        }\n        lineResult.layoutLines = [];\n        for (var index = 0; index < lines.length; index++) {\n            lineResult.layoutLines.push(lines[index]);\n        }\n        lines = [];\n        return lineResult;\n    };\n    /**\n     * `Adds` line to line result.\n     * @private\n     */\n    PdfStringLayouter.prototype.addToLineResult = function (lineResult, lines, line, lineWidth, breakType) {\n        var info = new LineInfo();\n        info.text = line;\n        info.width = lineWidth;\n        info.lineType = breakType;\n        lines.push(info);\n        var size = lineResult.actualSize;\n        size.height += this.getLineHeight();\n        size.width = Math.max(size.width, lineWidth);\n        lineResult.size = size;\n    };\n    /**\n     * `Copies` layout result from line result to entire result. Checks whether we can proceed lay outing or not.\n     * @private\n     */\n    PdfStringLayouter.prototype.copyToResult = function (result, lineResult, lines, \n        /*out*/ numInserted) {\n        var success = true;\n        var allowPartialLines = (this.format != null && !this.format.lineLimit);\n        var height = result.actualSize.height;\n        var maxHeight = this.size.height;\n        if ((this.pageHeight > 0) && (maxHeight + this.rectangle.y > this.pageHeight)) {\n            maxHeight = this.rectangle.y - this.pageHeight;\n            maxHeight = Math.max(maxHeight, -maxHeight);\n        }\n        numInserted = 0;\n        for (var i = 0, len = lineResult.lines.length; i < len; i++) {\n            var expHeight = height + lineResult.lineHeight;\n            var info = lineResult.lines[i];\n            numInserted += info.text.length;\n            info = this.trimLine(info, (lines.length === 0));\n            lines.push(info);\n            // Update width.\n            var size_1 = result.actualSize;\n            size_1.width = Math.max(size_1.width, info.width);\n            result.size = size_1;\n            height = expHeight;\n        }\n        var size = result.actualSize;\n        size.height = height;\n        result.size = size;\n        return { success: success, numInserted: numInserted };\n    };\n    /**\n     * `Finalizes` final result.\n     * @private\n     */\n    PdfStringLayouter.prototype.finalizeResult = function (result, lines) {\n        result.layoutLines = [];\n        for (var index = 0; index < lines.length; index++) {\n            result.layoutLines.push(lines[index]);\n        }\n        result.layoutLineHeight = this.getLineHeight();\n        lines = [];\n    };\n    /**\n     * `Trims` whitespaces at the line.\n     * @private\n     */\n    PdfStringLayouter.prototype.trimLine = function (info, firstLine) {\n        var line = info.text;\n        var lineWidth = info.width;\n        // Trim start whitespaces if the line is not a start of the paragraph only.\n        // let trimStartSpaces : boolean = ((info.LineType & LineType.FirstParagraphLine) === 0);\n        var start = (this.format == null || !this.format.rightToLeft);\n        var spaces = StringTokenizer.spaces;\n        line = (start) ? line.trim() : line.trim();\n        // Recalculate line width.\n        if (line.length !== info.text.length) {\n            lineWidth = this.getLineWidth(line);\n            lineWidth += this.getLineIndent(firstLine);\n        }\n        info.text = line;\n        info.width = lineWidth;\n        return info;\n    };\n    /**\n     * Returns `wrap` type.\n     * @private\n     */\n    PdfStringLayouter.prototype.getWrapType = function () {\n        var wrapType = (this.format != null) ? this.format.wordWrap : PdfWordWrapType.Word;\n        return wrapType;\n    };\n    return PdfStringLayouter;\n}());\nexport { PdfStringLayouter };\n//Internal declaration\nvar PdfStringLayoutResult = /** @class */ (function () {\n    function PdfStringLayoutResult() {\n    }\n    Object.defineProperty(PdfStringLayoutResult.prototype, \"remainder\", {\n        // Properties\n        /**\n         * Gets the `text` which is not lay outed.\n         * @private\n         */\n        get: function () {\n            return this.textRemainder;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringLayoutResult.prototype, \"actualSize\", {\n        /**\n         * Gets the actual layout text `bounds`.\n         * @private\n         */\n        get: function () {\n            if (typeof this.size === 'undefined') {\n                this.size = new SizeF(0, 0);\n            }\n            return this.size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringLayoutResult.prototype, \"lines\", {\n        /**\n         * Gets layout `lines` information.\n         * @private\n         */\n        get: function () {\n            return this.layoutLines;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringLayoutResult.prototype, \"lineHeight\", {\n        /**\n         * Gets the `height` of the line.\n         * @private\n         */\n        get: function () {\n            return this.layoutLineHeight;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringLayoutResult.prototype, \"empty\", {\n        /**\n         * Gets value that indicates whether any layout text [`empty`].\n         * @private\n         */\n        get: function () {\n            return (this.layoutLines == null || this.layoutLines.length === 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStringLayoutResult.prototype, \"lineCount\", {\n        /**\n         * Gets `number of` the layout lines.\n         * @private\n         */\n        get: function () {\n            var count = (!this.empty) ? this.layoutLines.length : 0;\n            return count;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfStringLayoutResult;\n}());\nexport { PdfStringLayoutResult };\nvar LineInfo = /** @class */ (function () {\n    function LineInfo() {\n    }\n    Object.defineProperty(LineInfo.prototype, \"lineType\", {\n        //Properties\n        /**\n         * Gets the `type` of the line text.\n         * @private\n         */\n        get: function () {\n            return this.type;\n        },\n        set: function (value) {\n            this.type = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineInfo.prototype, \"text\", {\n        /**\n         * Gets the line `text`.\n         * @private\n         */\n        get: function () {\n            return this.content;\n        },\n        set: function (value) {\n            this.content = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineInfo.prototype, \"width\", {\n        /**\n         * Gets `width` of the line text.\n         * @private\n         */\n        get: function () {\n            return this.lineWidth;\n        },\n        set: function (value) {\n            this.lineWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return LineInfo;\n}());\nexport { LineInfo };\n/**\n* Break type of the `line`.\n* @private\n*/\nexport var LineType;\n(function (LineType) {\n    /**\n     * Specifies the type of `None`.\n     * @private\n     */\n    LineType[LineType[\"None\"] = 0] = \"None\";\n    /**\n     * Specifies the type of `NewLineBreak`.\n     * @private\n     */\n    LineType[LineType[\"NewLineBreak\"] = 1] = \"NewLineBreak\";\n    /**\n     * Specifies the type of `LayoutBreak`.\n     * @private\n     */\n    LineType[LineType[\"LayoutBreak\"] = 2] = \"LayoutBreak\";\n    /**\n     * Specifies the type of `FirstParagraphLine`.\n     * @private\n     */\n    LineType[LineType[\"FirstParagraphLine\"] = 4] = \"FirstParagraphLine\";\n    /**\n     * Specifies the type of `LastParagraphLine`.\n     * @private\n     */\n    LineType[LineType[\"LastParagraphLine\"] = 8] = \"LastParagraphLine\";\n})(LineType || (LineType = {}));\n","/**\n * StringTokenizer.ts class for EJ2-PDF\n * Utility class for working with strings.\n * @private\n */\nvar StringTokenizer = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initializes a new instance of the `StringTokenizer` class.\n     * @private\n     */\n    function StringTokenizer(textValue) {\n        /**\n         * Current `position`.\n         * @private\n         */\n        this.currentPosition = 0;\n        if (textValue == null) {\n            throw new Error('ArgumentNullException:text');\n        }\n        this.text = textValue;\n    }\n    Object.defineProperty(StringTokenizer.prototype, \"length\", {\n        // Properties\n        /**\n         * Gets text `length`.\n         * @private\n         */\n        get: function () {\n            return this.text.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StringTokenizer.prototype, \"position\", {\n        /**\n         * Gets or sets the position.\n         * @private\n         */\n        get: function () {\n            return this.currentPosition;\n        },\n        set: function (value) {\n            this.currentPosition = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StringTokenizer.getCharsCount = function (text, symbols) {\n        if (typeof symbols === 'string') {\n            if (text == null) {\n                throw new Error('ArgumentNullException:wholeText');\n            }\n            var numSymbols = 0;\n            var curIndex = 0;\n            for (;;) {\n                curIndex = text.indexOf(symbols, curIndex);\n                if (curIndex === -1) {\n                    break;\n                }\n                else {\n                    numSymbols++;\n                    curIndex++;\n                }\n            }\n            return numSymbols;\n        }\n        else {\n            if (text == null) {\n                throw new Error('ArgumentNullException:text');\n            }\n            if (symbols == null) {\n                throw new Error('ArgumentNullException:symbols');\n            }\n            var count = 0;\n            for (var i = 0, len = text.length; i < len; i++) {\n                var ch = text[i];\n                if (this.contains(symbols, ch)) {\n                    count++;\n                }\n            }\n            return count;\n        }\n    };\n    /**\n     * Reads line of the text.\n     * @private\n     */\n    StringTokenizer.prototype.readLine = function () {\n        var pos = this.currentPosition;\n        while (pos < this.length) {\n            var ch = this.text[pos];\n            switch (ch) {\n                case '\\r':\n                case '\\n': {\n                    var text = this.text.substring(this.currentPosition, pos - this.currentPosition);\n                    this.currentPosition = pos + 1;\n                    this.currentPosition++;\n                    return text;\n                }\n            }\n            pos++;\n        }\n        // The remaining text.\n        if (pos > this.currentPosition) {\n            var text2 = this.text.substring(this.currentPosition, pos - this.currentPosition);\n            this.currentPosition = pos;\n            return text2;\n        }\n        return null;\n    };\n    /**\n     * Reads line of the text.\n     * @private\n     */\n    StringTokenizer.prototype.peekLine = function () {\n        var pos = this.currentPosition;\n        var line = this.readLine();\n        this.currentPosition = pos;\n        return line;\n    };\n    /**\n     * Reads a word from the text.\n     * @private\n     */\n    StringTokenizer.prototype.readWord = function () {\n        var pos = this.currentPosition;\n        while (pos < this.length) {\n            var ch = this.text[pos];\n            switch (ch) {\n                case '\\r':\n                case '\\n':\n                    var textValue = this.text.substr(this.currentPosition, pos - this.currentPosition);\n                    this.currentPosition = pos + 1;\n                    if (((ch === '\\r') && (this.currentPosition < this.length)) && (this.text[this.currentPosition] === '\\n')) {\n                        this.currentPosition++;\n                    }\n                    return textValue;\n                case ' ':\n                case '\\t': {\n                    if (pos === this.currentPosition) {\n                        pos++;\n                    }\n                    var text = this.text.substr(this.currentPosition, pos - this.currentPosition);\n                    this.currentPosition = pos;\n                    return text;\n                }\n            }\n            pos++;\n        }\n        // The remaining text.\n        if (pos > this.currentPosition) {\n            var text2 = this.text.substr(this.currentPosition, pos - this.currentPosition);\n            this.currentPosition = pos;\n            return text2;\n        }\n        return null;\n    };\n    /**\n     * Peeks a word from the text.\n     * @private\n     */\n    StringTokenizer.prototype.peekWord = function () {\n        var pos = this.currentPosition;\n        var word = this.readWord();\n        this.currentPosition = pos;\n        return word;\n    };\n    StringTokenizer.prototype.read = function (count) {\n        if (typeof count === 'undefined') {\n            var ch = '0';\n            return ch;\n        }\n        else {\n            var num = 0;\n            var builder = '';\n            return builder;\n        }\n    };\n    /**\n     * Peeks char form the data.\n     * @private\n     */\n    StringTokenizer.prototype.peek = function () {\n        var ch = '0';\n        return ch;\n    };\n    /**\n     * Closes a reader.\n     * @private\n     */\n    StringTokenizer.prototype.close = function () {\n        this.text = null;\n    };\n    //Implementation\n    /**\n     * Checks whether array contains a symbol.\n     * @private\n     */\n    StringTokenizer.contains = function (array, symbol) {\n        var contains = false;\n        for (var i = 0; i < array.length; i++) {\n            if (array[i] === symbol) {\n                contains = true;\n                break;\n            }\n        }\n        return contains;\n    };\n    // Constants\n    /**\n     * `Whitespace` symbol.\n     * @private\n     */\n    StringTokenizer.whiteSpace = ' ';\n    /**\n     * `tab` symbol.\n     * @private\n     */\n    StringTokenizer.tab = '\\t';\n    /**\n     * Array of `spaces`.\n     * @private\n     */\n    StringTokenizer.spaces = [StringTokenizer.whiteSpace, StringTokenizer.tab];\n    /**\n     * `Pattern` for WhiteSpace.\n     * @private\n     */\n    StringTokenizer.whiteSpacePattern = '^[ \\t]+$';\n    return StringTokenizer;\n}());\nexport { StringTokenizer };\n","/**\n * PdfFont.ts class for EJ2-PDF\n */\nimport { PdfFontStyle } from './enum';\nimport { SizeF } from './../../drawing/pdf-drawing';\nimport { PdfStringFormat } from './pdf-string-format';\nimport { PdfStringLayouter } from './string-layouter';\nimport { StringTokenizer } from './string-tokenizer';\n/**\n * Defines a particular format for text, including font face, size, and style attributes.\n * @private\n */\nvar PdfFont = /** @class */ (function () {\n    function PdfFont(size, style) {\n        /**\n         * `Style` of the font.\n         * @private\n         */\n        this.fontStyle = PdfFontStyle.Regular;\n        if (typeof size === 'number' && typeof style === 'undefined') {\n            this.fontSize = size;\n        }\n        else {\n            this.fontSize = size;\n            this.setStyle(style);\n        }\n    }\n    Object.defineProperty(PdfFont.prototype, \"name\", {\n        //Properties\n        /**\n         * Gets the face name of this Font.\n         * @private\n         */\n        get: function () {\n            return this.metrics.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfFont.prototype, \"size\", {\n        /**\n         * Gets the size of this font.\n         * @private\n         */\n        get: function () {\n            return this.fontSize;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfFont.prototype, \"height\", {\n        /**\n         * Gets the height of the font in points.\n         * @private\n         */\n        get: function () {\n            return this.metrics.getHeight(null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfFont.prototype, \"style\", {\n        /**\n         * Gets the style information for this font.\n         * @private\n         */\n        get: function () {\n            return this.fontStyle;\n        },\n        set: function (value) {\n            this.fontStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfFont.prototype, \"bold\", {\n        /**\n         * Gets a value indicating whether this `PdfFont` is `bold`.\n         * @private\n         */\n        get: function () {\n            return ((this.style & PdfFontStyle.Bold) > 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfFont.prototype, \"italic\", {\n        /**\n         * Gets a value indicating whether this `PdfFont` has the `italic` style applied.\n         * @private\n         */\n        get: function () {\n            return ((this.style & PdfFontStyle.Italic) > 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfFont.prototype, \"strikeout\", {\n        /**\n         * Gets a value indicating whether this `PdfFont` is `strikeout`.\n         * @private\n         */\n        get: function () {\n            return ((this.style & PdfFontStyle.Strikeout) > 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfFont.prototype, \"underline\", {\n        /**\n         * Gets a value indicating whether this `PdfFont` is `underline`.\n         * @private\n         */\n        get: function () {\n            return ((this.style & PdfFontStyle.Underline) > 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfFont.prototype, \"metrics\", {\n        /**\n         * Gets or sets the `metrics` for this font.\n         * @private\n         */\n        get: function () {\n            return this.fontMetrics;\n        },\n        set: function (value) {\n            this.fontMetrics = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfFont.prototype, \"element\", {\n        // /**\n        //  * Gets and Sets the font `internals`.\n        //  * @private\n        //  */\n        // public get fontInternal() : IPdfPrimitive {\n        //     return this.pdfFontInternals;\n        // }\n        // public set fontInternal(value : IPdfPrimitive) {\n        //     this.pdfFontInternals = value;\n        // }\n        //IPdfWrapper Members\n        /**\n         * Gets the `element` representing the font.\n         * @private\n         */\n        get: function () {\n            return this.pdfFontInternals;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfFont.prototype.measureString = function (text, arg2, arg3, arg4, arg5) {\n        if (typeof text === 'string' && typeof arg2 === 'undefined') {\n            return this.measureString(text, null);\n        }\n        else if (typeof text === 'string' && (arg2 instanceof PdfStringFormat || arg2 == null) && typeof arg3 === 'undefined' && typeof arg4 === 'undefined') {\n            var temparg2 = arg2;\n            var charactersFitted = 0;\n            var linesFilled = 0;\n            return this.measureString(text, temparg2, charactersFitted, linesFilled);\n        }\n        else if (typeof text === 'string' && (arg2 instanceof PdfStringFormat || arg2 == null) && typeof arg3 === 'number' && typeof arg4 === 'number') {\n            var temparg2 = arg2;\n            return this.measureString(text, 0, temparg2, arg3, arg4);\n            // } else if (typeof text === 'string' && typeof arg2 === 'number' && typeof arg3 === 'undefined') {\n            //     return this.measureString(text, arg2, null);\n            // } else if (typeof text === 'string' && typeof arg2 === 'number' && (arg3 instanceof PdfStringFormat || arg3 == null) && typeof arg4 === 'undefined' && typeof arg5 === 'undefined') {\n            //     let temparg3 : PdfStringFormat = arg3 as PdfStringFormat;\n            //     let charactersFitted : number = 0;\n            //     let linesFilled : number = 0;\n            //     return this.measureString(text, arg2, temparg3, charactersFitted, linesFilled);\n        }\n        else if (typeof text === 'string' && typeof arg2 === 'number' && (arg3 instanceof PdfStringFormat || arg3 == null) && typeof arg4 === 'number' && typeof arg5 === 'number') {\n            var layoutArea = new SizeF(arg2, 0);\n            var temparg3 = arg3;\n            return this.measureString(text, layoutArea, temparg3, arg4, arg5);\n            // } else if (typeof text === 'string' && arg2 instanceof SizeF && typeof arg3 === 'undefined') {\n            //     return this.measureString(text, arg2, null);\n            // } else if (typeof text === 'string' && arg2 instanceof SizeF && (arg3 instanceof PdfStringFormat || arg3 == null) && typeof arg4 === 'undefined' && typeof arg5 === 'undefined') {\n            //     let temparg3 : PdfStringFormat = arg3 as PdfStringFormat;\n            //     let charactersFitted : number = 0;\n            //     let linesFilled : number = 0;\n            //     return this.measureString(text, arg2, temparg3, charactersFitted, linesFilled);\n        }\n        else {\n            if (text == null) {\n                throw Error(\"ArgumentNullException(\\\"text\\\")\");\n            }\n            var temparg2 = arg2;\n            var temparg3 = arg3;\n            var layouter = new PdfStringLayouter();\n            var result = layouter.layout(text, this, temparg3, temparg2, false, new SizeF(0, 0));\n            // arg4 = (result.Remainder == null) ? text.length : text.length - result.Remainder.length;\n            arg4 = text.length;\n            arg5 = (result.empty) ? 0 : result.lines.length;\n            return result.actualSize;\n        }\n    };\n    /* tslint:enable */\n    //IPdfCache Members\n    /**\n     * `Checks` whether the object is similar to another object.\n     * @private\n     */\n    PdfFont.prototype.equalsTo = function (obj) {\n        var result = this.equalsToFont(obj);\n        return result;\n    };\n    /**\n     * Returns `internals` of the object.\n     * @private\n     */\n    PdfFont.prototype.getInternals = function () {\n        return this.pdfFontInternals;\n    };\n    /**\n     * Sets `internals` to the object.\n     * @private\n     */\n    PdfFont.prototype.setInternals = function (internals) {\n        if (internals == null) {\n            throw new Error('ArgumentNullException:internals');\n        }\n        this.pdfFontInternals = internals;\n    };\n    /**\n     * Sets the `style` of the font.\n     * @private\n     */\n    PdfFont.prototype.setStyle = function (style) {\n        this.fontStyle = style;\n    };\n    /**\n     * Applies `settings` to the default line width.\n     * @private\n     */\n    PdfFont.prototype.applyFormatSettings = function (line, format, width) {\n        // if (line == null) {\n        //     throw new Error(`ArgumentNullException:line`);\n        // }\n        var realWidth = width;\n        if (format != null && width > 0) {\n            // Space among characters is not default.\n            if (format.characterSpacing !== 0) {\n                realWidth += (line.length - 1) * format.characterSpacing;\n            }\n            // Space among words is not default.\n            if (format.wordSpacing !== 0) {\n                var symbols = StringTokenizer.spaces;\n                var whitespacesCount = StringTokenizer.getCharsCount(line, symbols);\n                realWidth += whitespacesCount * format.wordSpacing;\n            }\n        }\n        return realWidth;\n    };\n    //Constants\n    /**\n     * `Multiplier` of the symbol width.\n     * @default 0.001\n     * @private\n     */\n    PdfFont.charSizeMultiplier = 0.001;\n    /**\n     * `Synchronization` object.\n     * @private\n     */\n    PdfFont.syncObject = new Object();\n    return PdfFont;\n}());\nexport { PdfFont };\n","/**\n * public Enum for `CompositeFontType`.\n * @private\n */\nexport var ObjectStatus;\n(function (ObjectStatus) {\n    /**\n     * Specifies the type of `None`.\n     * @private\n     */\n    ObjectStatus[ObjectStatus[\"None\"] = 0] = \"None\";\n    /**\n     * Specifies the type of `Registered`.\n     * @private\n     */\n    ObjectStatus[ObjectStatus[\"Registered\"] = 1] = \"Registered\";\n})(ObjectStatus || (ObjectStatus = {}));\n","/**\n * Used to `write a string` into output file.\n * @private\n */\nvar PdfWriter = /** @class */ (function () {\n    /**\n     * Initialize an instance of `PdfWriter` class.\n     * @private\n     */\n    function PdfWriter(stream) {\n        this.streamWriter = stream;\n    }\n    Object.defineProperty(PdfWriter.prototype, \"document\", {\n        //properties\n        /**\n         * Gets and Sets the `document`.\n         * @private\n         */\n        get: function () {\n            return this.pdfDocument;\n        },\n        set: function (value) {\n            this.pdfDocument = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfWriter.prototype, \"position\", {\n        /**\n         * Gets the `position`.\n         * @private\n         */\n        get: function () {\n            return this.streamWriter.buffer.size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfWriter.prototype, \"length\", {\n        /**\n         * Gets  the `length` of the stream'.\n         * @private\n         */\n        get: function () {\n            return this.streamWriter.buffer.size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfWriter.prototype, \"stream\", {\n        /**\n         * Gets the `stream`.\n         * @private\n         */\n        get: function () {\n            var result = this.streamWriter;\n            return result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //public Methods\n    /**\n     * `Writes the specified data`.\n     * @private\n     */\n    PdfWriter.prototype.write = function (overload) {\n        var data = [];\n        var tempOverload = overload;\n        this.streamWriter.write(tempOverload);\n    };\n    return PdfWriter;\n}());\nexport { PdfWriter };\n","/**\n * PdfMainObjectCollection.ts class for EJ2-PDF\n */\nimport { Dictionary } from './../collections/dictionary';\nimport { ObjectStatus } from './enum';\n/**\n * The collection of all `objects` within a PDF document.\n * @private\n */\nvar PdfMainObjectCollection = /** @class */ (function () {\n    function PdfMainObjectCollection() {\n        //Fields\n        /**\n         * The collection of the `indirect objects`.\n         * @default []\n         * @private\n         */\n        this.objectCollections = [];\n        /**\n         * The collection of the `Indirect objects`.\n         * @default new Dictionary<number, ObjectInfo>()\n         * @private\n         */\n        this.mainObjectCollection = new Dictionary();\n        /**\n         * The collection of `primitive objects`.\n         * @private\n         */\n        this.primitiveObjectCollection = new Dictionary();\n    }\n    Object.defineProperty(PdfMainObjectCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the `count`.\n         * @private\n         */\n        get: function () {\n            return this.objectCollections.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the value of `ObjectInfo` from object collection.\n     * @private\n     */\n    PdfMainObjectCollection.prototype.items = function (index) {\n        return this.objectCollections[index];\n    };\n    Object.defineProperty(PdfMainObjectCollection.prototype, \"outIsNew\", {\n        //Methods\n        /**\n         * Specifies the value of `IsNew`.\n         * @private\n         */\n        get: function () {\n            return this.isNew;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Adds` the specified element.\n     * @private\n     */\n    PdfMainObjectCollection.prototype.add = function (element) {\n        var objInfo = new ObjectInfo(element);\n        this.objectCollections.push(objInfo);\n        if (!this.primitiveObjectCollection.containsKey(element)) {\n            this.primitiveObjectCollection.setValue(element, this.objectCollections.length - 1);\n        }\n        element.position = this.index = this.objectCollections.length - 1;\n        element.status = ObjectStatus.Registered;\n    };\n    /**\n     * `Looks` through the collection for the object specified.\n     * @private\n     */\n    PdfMainObjectCollection.prototype.lookFor = function (obj) {\n        var index = -1;\n        if (obj.position !== -1) {\n            return obj.position;\n        }\n        if (this.primitiveObjectCollection.containsKey(obj) && this.count === this.primitiveObjectCollection.size()) {\n            index = this.primitiveObjectCollection.getValue(obj);\n        }\n        else {\n            for (var i = this.count - 1; i >= 0; i--) {\n                var oi = this.objectCollections[i];\n                if (oi.object === obj) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n        return index;\n    };\n    /**\n     * Gets the `reference of the object`.\n     * @private\n     */\n    PdfMainObjectCollection.prototype.getReference = function (index, isNew) {\n        this.index = this.lookFor(index);\n        var reference;\n        this.isNew = false;\n        var oi = this.objectCollections[this.index];\n        reference = oi.reference;\n        var obj = { reference: reference, wasNew: isNew };\n        return obj;\n    };\n    /**\n     * Tries to set the `reference to the object`.\n     * @private\n     */\n    PdfMainObjectCollection.prototype.trySetReference = function (obj, reference, found) {\n        var result = true;\n        found = true;\n        this.index = this.lookFor(obj);\n        var oi = this.objectCollections[this.index];\n        oi.setReference(reference);\n        return result;\n    };\n    PdfMainObjectCollection.prototype.destroy = function () {\n        for (var _i = 0, _a = this.objectCollections; _i < _a.length; _i++) {\n            var obj = _a[_i];\n            if (obj !== undefined) {\n                obj.pdfObject.position = -1;\n                obj.pdfObject.isSaving = undefined;\n                obj.pdfObject.objectCollectionIndex = undefined;\n                obj.pdfObject.position = undefined;\n            }\n        }\n        this.objectCollections = [];\n        this.mainObjectCollection = new Dictionary();\n        this.primitiveObjectCollection = new Dictionary();\n    };\n    return PdfMainObjectCollection;\n}());\nexport { PdfMainObjectCollection };\nvar ObjectInfo = /** @class */ (function () {\n    function ObjectInfo(obj, reference) {\n        this.pdfObject = obj;\n        this.pdfReference = reference;\n    }\n    Object.defineProperty(ObjectInfo.prototype, \"object\", {\n        //Properties\n        /**\n         * Gets the `object`.\n         * @private\n         */\n        get: function () {\n            return this.pdfObject;\n        },\n        set: function (value) {\n            this.pdfObject = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ObjectInfo.prototype, \"reference\", {\n        /**\n         * Gets the `reference`.\n         * @private\n         */\n        get: function () {\n            return this.pdfReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Sets the `reference`.\n     * @private\n     */\n    ObjectInfo.prototype.setReference = function (reference) {\n        this.pdfReference = reference;\n    };\n    return ObjectInfo;\n}());\nexport { ObjectInfo };\n","/**\n * public Enum for `ObjectType`.\n * @private\n */\nexport var ObjectType;\n(function (ObjectType) {\n    /**\n     * Specifies the type of `Free`.\n     * @private\n     */\n    ObjectType[ObjectType[\"Free\"] = 0] = \"Free\";\n    /**\n     * Specifies the type of `Normal`.\n     * @private\n     */\n    ObjectType[ObjectType[\"Normal\"] = 1] = \"Normal\";\n    /**\n     * Specifies the type of `Packed`.\n     * @private\n     */\n    ObjectType[ObjectType[\"Packed\"] = 2] = \"Packed\";\n})(ObjectType || (ObjectType = {}));\n","import { StreamWriter } from '@syncfusion/ej2-file-utils';\nimport { Encoding } from '@syncfusion/ej2-file-utils';\nimport { PdfDocument } from './pdf-document';\n/**\n * `PdfDocumentBase` class represent common properties of PdfDocument classes.\n * @private\n */\nvar PdfDocumentBase = /** @class */ (function () {\n    function PdfDocumentBase(document) {\n        /**\n         * If the stream is copied,  then it specifies true.\n         * @private\n         */\n        this.isStreamCopied = false;\n        if (document instanceof PdfDocument) {\n            this.document = document;\n        }\n    }\n    Object.defineProperty(PdfDocumentBase.prototype, \"pdfObjects\", {\n        //Prpperties\n        /**\n         * Gets the `PDF objects` collection, which stores all objects and references to it..\n         * @private\n         */\n        get: function () {\n            return this.objects;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentBase.prototype, \"crossTable\", {\n        /**\n         * Gets the `cross-reference` table.\n         * @private\n         */\n        get: function () {\n            return this.pdfCrossTable;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentBase.prototype, \"currentSavingObj\", {\n        /**\n         * Gets or sets the current saving `object number`.\n         * @private\n         */\n        get: function () {\n            return this.currentSavingObject;\n        },\n        set: function (value) {\n            this.currentSavingObject = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentBase.prototype, \"catalog\", {\n        /**\n         * Gets the PDF document `catalog`.\n         * @private\n         */\n        get: function () {\n            return this.pdfCatalog;\n        },\n        set: function (value) {\n            this.pdfCatalog = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Public methods\n    /**\n     * Sets the `main object collection`.\n     * @private\n     */\n    PdfDocumentBase.prototype.setMainObjectCollection = function (mainObjectCollection) {\n        this.objects = mainObjectCollection;\n    };\n    /**\n     * Sets the `cross table`.\n     * @private\n     */\n    PdfDocumentBase.prototype.setCrossTable = function (cTable) {\n        this.pdfCrossTable = cTable;\n    };\n    /**\n     * Sets the `catalog`.\n     * @private\n     */\n    PdfDocumentBase.prototype.setCatalog = function (catalog) {\n        this.pdfCatalog = catalog;\n    };\n    PdfDocumentBase.prototype.save = function (filename) {\n        var _this = this;\n        var encoding = new Encoding(true);\n        var SW = new StreamWriter(encoding);\n        if (typeof filename === 'undefined') {\n            var encoding_1 = new Encoding(true);\n            var SW_1 = new StreamWriter(encoding_1);\n            return new Promise(function (resolve, reject) {\n                /* tslint:disable-next-line:no-any */\n                var obj = {};\n                obj.blobData = new Blob([_this.document.docSave(SW_1, true)], { type: 'application/pdf' });\n                resolve(obj);\n            });\n        }\n        else {\n            this.document.docSave(SW, filename, true);\n        }\n    };\n    /**\n     * `Clone` of parent object - PdfDocument.\n     * @private\n     */\n    PdfDocumentBase.prototype.clone = function () {\n        return this.document;\n    };\n    return PdfDocumentBase;\n}());\nexport { PdfDocumentBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfCatalog.ts class for EJ2-PDF\n */\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\n/**\n * `PdfCatalog` class represents internal catalog of the Pdf document.\n * @private\n */\nvar PdfCatalog = /** @class */ (function (_super) {\n    __extends(PdfCatalog, _super);\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfCatalog` class.\n     * @private\n     */\n    function PdfCatalog() {\n        var _this = _super.call(this) || this;\n        //fields\n        /**\n         * Internal variable to store collection of `sections`.\n         * @default null\n         * @private\n         */\n        _this.sections = null;\n        /**\n         * Internal variable for accessing fields from `DictionryProperties` class.\n         * @private\n         */\n        _this.tempDictionaryProperties = new DictionaryProperties();\n        _this.items.setValue(new DictionaryProperties().type, new PdfName('Catalog'));\n        return _this;\n    }\n    Object.defineProperty(PdfCatalog.prototype, \"pages\", {\n        //Properties\n        /**\n         * Gets or sets the sections, which contain `pages`.\n         * @private\n         */\n        get: function () {\n            return this.sections;\n        },\n        set: function (value) {\n            var dictionary = value.element;\n            // if (this.sections !== value) {\n            //     this.sections = value;\n            //     this.Items.setValue(this.tempDictionaryProperties.pages, new PdfReferenceHolder(value));\n            // }\n            this.sections = value;\n            this.items.setValue(this.tempDictionaryProperties.pages, new PdfReferenceHolder(value));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfCatalog;\n}(PdfDictionary));\nexport { PdfCatalog };\n","/**\n * public Enum for `PdfPageOrientation`.\n * @private\n */\nexport var PdfPageOrientation;\n(function (PdfPageOrientation) {\n    /**\n     * Specifies the type of `Portrait`.\n     * @private\n     */\n    PdfPageOrientation[PdfPageOrientation[\"Portrait\"] = 0] = \"Portrait\";\n    /**\n     * Specifies the type of `Landscape`.\n     * @private\n     */\n    PdfPageOrientation[PdfPageOrientation[\"Landscape\"] = 1] = \"Landscape\";\n})(PdfPageOrientation || (PdfPageOrientation = {}));\n/**\n * public Enum for `PdfPageRotateAngle`.\n * @private\n */\nexport var PdfPageRotateAngle;\n(function (PdfPageRotateAngle) {\n    /**\n     * Specifies the type of `RotateAngle0`.\n     * @private\n     */\n    PdfPageRotateAngle[PdfPageRotateAngle[\"RotateAngle0\"] = 0] = \"RotateAngle0\";\n    /**\n     * Specifies the type of `RotateAngle90`.\n     * @private\n     */\n    PdfPageRotateAngle[PdfPageRotateAngle[\"RotateAngle90\"] = 1] = \"RotateAngle90\";\n    /**\n     * Specifies the type of `RotateAngle180`.\n     * @private\n     */\n    PdfPageRotateAngle[PdfPageRotateAngle[\"RotateAngle180\"] = 2] = \"RotateAngle180\";\n    /**\n     * Specifies the type of `RotateAngle270`.\n     * @private\n     */\n    PdfPageRotateAngle[PdfPageRotateAngle[\"RotateAngle270\"] = 3] = \"RotateAngle270\";\n})(PdfPageRotateAngle || (PdfPageRotateAngle = {}));\n/**\n * public Enum for `PdfNumberStyle`.\n * @private\n */\nexport var PdfNumberStyle;\n(function (PdfNumberStyle) {\n    /**\n     * Specifies the type of `None`.\n     * @private\n     */\n    PdfNumberStyle[PdfNumberStyle[\"None\"] = 0] = \"None\";\n    /**\n     * Specifies the type of `Numeric`.\n     * @private\n     */\n    PdfNumberStyle[PdfNumberStyle[\"Numeric\"] = 1] = \"Numeric\";\n    /**\n     * Specifies the type of `LowerLatin`.\n     * @private\n     */\n    PdfNumberStyle[PdfNumberStyle[\"LowerLatin\"] = 2] = \"LowerLatin\";\n    /**\n     * Specifies the type of `LowerRoman`.\n     * @private\n     */\n    PdfNumberStyle[PdfNumberStyle[\"LowerRoman\"] = 3] = \"LowerRoman\";\n    /**\n     * Specifies the type of `UpperLatin`.\n     * @private\n     */\n    PdfNumberStyle[PdfNumberStyle[\"UpperLatin\"] = 4] = \"UpperLatin\";\n    /**\n     * Specifies the type of `UpperRoman`.\n     * @private\n     */\n    PdfNumberStyle[PdfNumberStyle[\"UpperRoman\"] = 5] = \"UpperRoman\";\n})(PdfNumberStyle || (PdfNumberStyle = {}));\n/**\n * public Enum for `PdfDockStyle`.\n * @private\n */\nexport var PdfDockStyle;\n(function (PdfDockStyle) {\n    /**\n     * Specifies the type of `None`.\n     * @private\n     */\n    PdfDockStyle[PdfDockStyle[\"None\"] = 0] = \"None\";\n    /**\n     * Specifies the type of `Bottom`.\n     * @private\n     */\n    PdfDockStyle[PdfDockStyle[\"Bottom\"] = 1] = \"Bottom\";\n    /**\n     * Specifies the type of `Top`.\n     * @private\n     */\n    PdfDockStyle[PdfDockStyle[\"Top\"] = 2] = \"Top\";\n    /**\n     * Specifies the type of `Left`.\n     * @private\n     */\n    PdfDockStyle[PdfDockStyle[\"Left\"] = 3] = \"Left\";\n    /**\n     * Specifies the type of `Right`.\n     * @private\n     */\n    PdfDockStyle[PdfDockStyle[\"Right\"] = 4] = \"Right\";\n    /**\n     * Specifies the type of `Fill`.\n     * @private\n     */\n    PdfDockStyle[PdfDockStyle[\"Fill\"] = 5] = \"Fill\";\n})(PdfDockStyle || (PdfDockStyle = {}));\n/**\n * public Enum for `PdfAlignmentStyle`.\n * @private\n */\nexport var PdfAlignmentStyle;\n(function (PdfAlignmentStyle) {\n    /**\n     * Specifies the type of `None`.\n     * @private\n     */\n    PdfAlignmentStyle[PdfAlignmentStyle[\"None\"] = 0] = \"None\";\n    /**\n     * Specifies the type of `TopLeft`.\n     * @private\n     */\n    PdfAlignmentStyle[PdfAlignmentStyle[\"TopLeft\"] = 1] = \"TopLeft\";\n    /**\n     * Specifies the type of `TopCenter`.\n     * @private\n     */\n    PdfAlignmentStyle[PdfAlignmentStyle[\"TopCenter\"] = 2] = \"TopCenter\";\n    /**\n     * Specifies the type of `TopRight`.\n     * @private\n     */\n    PdfAlignmentStyle[PdfAlignmentStyle[\"TopRight\"] = 3] = \"TopRight\";\n    /**\n     * Specifies the type of `MiddleLeft`.\n     * @private\n     */\n    PdfAlignmentStyle[PdfAlignmentStyle[\"MiddleLeft\"] = 4] = \"MiddleLeft\";\n    /**\n     * Specifies the type of `MiddleCenter`.\n     * @private\n     */\n    PdfAlignmentStyle[PdfAlignmentStyle[\"MiddleCenter\"] = 5] = \"MiddleCenter\";\n    /**\n     * Specifies the type of `MiddleRight`.\n     * @private\n     */\n    PdfAlignmentStyle[PdfAlignmentStyle[\"MiddleRight\"] = 6] = \"MiddleRight\";\n    /**\n     * Specifies the type of `BottomLeft`.\n     * @private\n     */\n    PdfAlignmentStyle[PdfAlignmentStyle[\"BottomLeft\"] = 7] = \"BottomLeft\";\n    /**\n     * Specifies the type of `BottomCenter`.\n     * @private\n     */\n    PdfAlignmentStyle[PdfAlignmentStyle[\"BottomCenter\"] = 8] = \"BottomCenter\";\n    /**\n     * Specifies the type of `BottomRight`.\n     * @private\n     */\n    PdfAlignmentStyle[PdfAlignmentStyle[\"BottomRight\"] = 9] = \"BottomRight\";\n})(PdfAlignmentStyle || (PdfAlignmentStyle = {}));\n/**\n * public Enum for `TemplateType`.\n * @private\n */\nexport var TemplateType;\n(function (TemplateType) {\n    /**\n     * Specifies the type of `None`.\n     * @private\n     */\n    TemplateType[TemplateType[\"None\"] = 0] = \"None\";\n    /**\n     * Specifies the type of `Top`.\n     * @private\n     */\n    TemplateType[TemplateType[\"Top\"] = 1] = \"Top\";\n    /**\n     * Specifies the type of `Bottom`.\n     * @private\n     */\n    TemplateType[TemplateType[\"Bottom\"] = 2] = \"Bottom\";\n    /**\n     * Specifies the type of `Left`.\n     * @private\n     */\n    TemplateType[TemplateType[\"Left\"] = 3] = \"Left\";\n    /**\n     * Specifies the type of `Right`.\n     * @private\n     */\n    TemplateType[TemplateType[\"Right\"] = 4] = \"Right\";\n})(TemplateType || (TemplateType = {}));\n","import { ObjectStatus } from './../input-output/enum';\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { DictionaryProperties } from './pdf-dictionary-properties';\nimport { Operators } from './pdf-operators';\nimport { Dictionary } from './../collections/dictionary';\nimport { PdfReference } from './../primitives/pdf-reference';\nimport { ObjectType } from './cross-table';\nimport { PdfStream } from './../primitives/pdf-stream';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PdfCatalog } from './../document/pdf-catalog';\n/**\n * `PdfCrossTable` is responsible for intermediate level parsing\n * and savingof a PDF document.\n * @private\n */\nvar PdfCrossTable = /** @class */ (function () {\n    function PdfCrossTable() {\n        /**\n         * The modified `objects` that should be saved.\n         * @private\n         */\n        this.objects = new Dictionary();\n        /**\n         * Holds `maximal generation number` or offset to object.\n         * @default 0\n         * @private\n         */\n        this.maxGenNumIndex = 0;\n        /**\n         * The `number of the objects`.\n         * @default 0\n         * @private\n         */\n        this.objectCount = 0;\n        /**\n         * Internal variable for accessing fields from `DictionryProperties` class.\n         * @default new PdfDictionaryProperties()\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n    }\n    Object.defineProperty(PdfCrossTable.prototype, \"isMerging\", {\n        //Properties\n        /**\n         * Gets or sets if the document `is merged`.\n         * @private\n         */\n        get: function () {\n            return this.merging;\n        },\n        set: function (value) {\n            this.merging = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfCrossTable.prototype, \"trailer\", {\n        /**\n         * Gets the `trailer`.\n         * @private\n         */\n        get: function () {\n            if (this.internalTrailer == null) {\n                this.internalTrailer = new PdfStream();\n            }\n            return this.internalTrailer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfCrossTable.prototype, \"document\", {\n        /**\n         * Gets or sets the main `PdfDocument` class instance.\n         * @private\n         */\n        get: function () {\n            return this.pdfDocument;\n        },\n        set: function (value) {\n            this.pdfDocument = value;\n            this.items = this.pdfDocument.pdfObjects;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfCrossTable.prototype, \"pdfObjects\", {\n        /**\n         * Gets the catched `PDF object` main collection.\n         * @private\n         */\n        get: function () {\n            return this.items;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfCrossTable.prototype, \"objectCollection\", {\n        /**\n         * Gets the `object collection`.\n         * @private\n         */\n        get: function () {\n            return this.pdfDocument.pdfObjects;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfCrossTable.prototype, \"count\", {\n        /**\n         * Gets or sets the `number of the objects` within the document.\n         * @private\n         */\n        get: function () {\n            return this.objectCount;\n        },\n        set: function (value) {\n            this.objectCount = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfCrossTable.prototype, \"nextObjNumber\", {\n        /**\n         * Returns `next available object number`.\n         * @private\n         */\n        get: function () {\n            this.count = this.count + 1;\n            return this.count;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfCrossTable.prototype.save = function (writer, filename) {\n        this.saveHead(writer);\n        var state = false;\n        this.mappedReferences = null;\n        this.objects.clear();\n        this.markTrailerReferences();\n        this.saveObjects(writer);\n        var saveCount = this.count;\n        var xrefPos = writer.position;\n        this.registerObject(0, new PdfReference(0, -1), true);\n        var prevXRef = 0;\n        writer.write(Operators.xref);\n        writer.write(Operators.newLine);\n        this.saveSections(writer);\n        this.saveTrailer(writer, this.count, prevXRef);\n        this.saveTheEndess(writer, xrefPos);\n        this.count = saveCount;\n        for (var i = 0; i < this.objectCollection.count; ++i) {\n            var oi = this.objectCollection.items(i);\n            oi.object.isSaving = false;\n        }\n        if (typeof filename === 'undefined') {\n            return writer.stream.buffer;\n        }\n        else {\n            writer.stream.save(filename);\n        }\n    };\n    /**\n     * `Saves the endess` of the file.\n     * @private\n     */\n    PdfCrossTable.prototype.saveTheEndess = function (writer, xrefPos) {\n        writer.write(Operators.newLine + Operators.startxref + Operators.newLine);\n        writer.write(xrefPos.toString() + Operators.newLine);\n        writer.write(Operators.eof + Operators.newLine);\n    };\n    /**\n     * `Saves the new trailer` dictionary.\n     * @private\n     */\n    PdfCrossTable.prototype.saveTrailer = function (writer, count, prevXRef) {\n        writer.write(Operators.trailer + Operators.newLine);\n        // Save the dictionary.\n        var trailer = this.trailer;\n        trailer.items.setValue(this.dictionaryProperties.size, new PdfNumber(this.objectCount + 1));\n        trailer = new PdfDictionary(trailer); // Make it real dictionary.\n        trailer.setEncrypt(false);\n        trailer.save(writer);\n    };\n    /**\n     * `Saves the xref section`.\n     * @private\n     */\n    PdfCrossTable.prototype.saveSections = function (writer) {\n        var objectNum = 0;\n        var count = 0;\n        do {\n            count = this.prepareSubsection(objectNum);\n            this.saveSubsection(writer, objectNum, count);\n            objectNum += count;\n        } while (count !== 0);\n    };\n    /**\n     * `Saves a subsection`.\n     * @private\n     */\n    PdfCrossTable.prototype.saveSubsection = function (writer, objectNum, count) {\n        if (count <= 0 || objectNum >= this.count) {\n            return;\n        }\n        var subsectionHead = '{0} {1}{2}';\n        writer.write(objectNum + ' ' + (count + 1) + Operators.newLine);\n        for (var i = objectNum; i <= objectNum + count; ++i) {\n            var obj = this.objects.getValue(i);\n            var str = '';\n            if (obj.type === ObjectType.Free) {\n                str = this.getItem(obj.offset, 65535, true);\n            }\n            else {\n                str = this.getItem(obj.offset, obj.generation, false);\n            }\n            writer.write(str);\n        }\n    };\n    /**\n     * Generates string for `xref table item`.\n     * @private\n     */\n    PdfCrossTable.prototype.getItem = function (offset, genNumber, isFree) {\n        var returnString = '';\n        var addOffsetLength = 10 - offset.toString().length;\n        if (genNumber <= 0) {\n            genNumber = 0;\n        }\n        var addGenNumberLength = (5 - genNumber.toString().length) <= 0 ? 0 : (5 - genNumber.toString().length);\n        for (var index = 0; index < addOffsetLength; index++) {\n            returnString = returnString + '0';\n        }\n        returnString = returnString + offset.toString() + ' ';\n        for (var index = 0; index < addGenNumberLength; index++) {\n            returnString = returnString + '0';\n        }\n        returnString = returnString + genNumber.toString() + ' ';\n        returnString = returnString + ((isFree) ? Operators.f : Operators.n) + Operators.newLine;\n        return returnString;\n    };\n    /**\n     * `Prepares a subsection` of the current section within the cross-reference table.\n     * @private\n     */\n    PdfCrossTable.prototype.prepareSubsection = function (objectNum) {\n        var count = 0;\n        var i;\n        var total = this.count;\n        for (var k = 0; k < this.document.pdfObjects.count; k++) {\n            var reference = this.document.pdfObjects.items(k).reference;\n            var refString = reference.toString();\n            var refArray = refString.split(' ');\n        }\n        if (objectNum >= total) {\n            return count;\n        }\n        // search for first changed indirect object.\n        for (i = objectNum; i < total; ++i) {\n            break;\n        }\n        objectNum = i;\n        // look up for all indirect objects in one subsection.\n        for (; i < total; ++i) {\n            ++count;\n        }\n        return count;\n    };\n    /**\n     * `Marks the trailer references` being saved.\n     * @private\n     */\n    PdfCrossTable.prototype.markTrailerReferences = function () {\n        var tempArray;\n        var keys = this.trailer.items.keys();\n        var values = this.trailer.items.values();\n    };\n    /**\n     * `Saves the head`.\n     * @private\n     */\n    PdfCrossTable.prototype.saveHead = function (writer) {\n        var version = this.generateFileVersion(writer.document);\n        writer.write('%PDF-' + version);\n        writer.write(Operators.newLine);\n    };\n    /**\n     * Generates the `version` of the file.\n     * @private\n     */\n    PdfCrossTable.prototype.generateFileVersion = function (document) {\n        var iVersion = 4;\n        var version = '1.' + iVersion.toString();\n        return version;\n    };\n    PdfCrossTable.prototype.getReference = function (obj, bNew) {\n        if (typeof bNew === 'undefined') {\n            var wasNew = false;\n            return this.getReference(obj, wasNew);\n        }\n        else {\n            //code splitted for reducing lines of code exceeds 100.\n            return this.getSubReference(obj, bNew);\n        }\n    };\n    /**\n     * Retrieves the `reference` of the object given.\n     * @private\n     */\n    PdfCrossTable.prototype.getSubReference = function (obj, bNew) {\n        var isNew = false;\n        var wasNew;\n        var reference = null;\n        // if (obj.IsSaving) {\n        if (this.items.count > 0 && obj.objectCollectionIndex > 0 && this.items.count > obj.objectCollectionIndex - 1) {\n            var tempObj = this.document.pdfObjects.getReference(obj, wasNew);\n            reference = tempObj.reference;\n            wasNew = tempObj.wasNew;\n        }\n        if (reference == null) {\n            if (obj.status === ObjectStatus.Registered) {\n                wasNew = false;\n            }\n            else {\n                wasNew = true;\n            }\n        }\n        else {\n            wasNew = false;\n        }\n        // need to add mapped reference code\n        if (reference == null) {\n            var objnumber = this.nextObjNumber;\n            reference = new PdfReference(objnumber, 0);\n            var found = void 0;\n            if (wasNew) {\n                this.document.pdfObjects.add(obj);\n                this.document.pdfObjects.trySetReference(obj, reference, found);\n                var tempIndex = this.document.pdfObjects.count - 1;\n                var tempkey = this.document.pdfObjects.objectCollections[tempIndex].reference.objNumber;\n                var tempvalue = this.document.pdfObjects.objectCollections[this.document.pdfObjects.count - 1];\n                this.document.pdfObjects.mainObjectCollection.setValue(tempkey, tempvalue);\n                obj.position = -1;\n            }\n            else {\n                this.document.pdfObjects.trySetReference(obj, reference, found);\n            }\n            obj.objectCollectionIndex = reference.objNumber;\n            obj.status = ObjectStatus.None;\n            isNew = true;\n        }\n        bNew = isNew || this.bForceNew;\n        return reference;\n    };\n    /**\n     * `Saves all objects` in the collection.\n     * @private\n     */\n    PdfCrossTable.prototype.saveObjects = function (writer) {\n        var objectCollection = this.objectCollection;\n        for (var i = 0; i < objectCollection.count; ++i) {\n            var oi = objectCollection.items(i);\n            var obj = oi.object;\n            obj.isSaving = true;\n            this.saveIndirectObject(obj, writer);\n        }\n    };\n    /**\n     * `Saves indirect object`.\n     * @private\n     */\n    PdfCrossTable.prototype.saveIndirectObject = function (obj, writer) {\n        var reference = this.getReference(obj);\n        if (obj instanceof PdfCatalog) {\n            this.trailer.items.setValue(this.dictionaryProperties.root, reference);\n        }\n        // NOTE :  This is needed for correct string objects encryption.\n        this.pdfDocument.currentSavingObj = reference;\n        var tempArchive = false;\n        tempArchive = obj.getArchive();\n        var allowedType = !((obj instanceof PdfStream) || !tempArchive || (obj instanceof PdfCatalog));\n        var sigFlag = false;\n        this.registerObject(writer.position, reference);\n        this.doSaveObject(obj, reference, writer);\n    };\n    /**\n     * Performs `real saving` of the save object.\n     * @private\n     */\n    PdfCrossTable.prototype.doSaveObject = function (obj, reference, writer) {\n        var correctPosition = writer.length;\n        writer.write(reference.objNumber.toString());\n        writer.write(Operators.whiteSpace);\n        writer.write(reference.genNumber.toString());\n        writer.write(Operators.whiteSpace);\n        writer.write(Operators.obj);\n        writer.write(Operators.newLine);\n        obj.save(writer);\n        var stream = writer.stream;\n        writer.write(Operators.endObj);\n        writer.write(Operators.newLine);\n    };\n    PdfCrossTable.prototype.registerObject = function (offset, reference, free) {\n        if (typeof free === 'boolean') {\n            // Register the object by its number.\n            this.objects.setValue(reference.objNumber, new RegisteredObject(offset, reference, free));\n            this.maxGenNumIndex = Math.max(this.maxGenNumIndex, reference.genNumber);\n        }\n        else if (typeof free === 'undefined') {\n            // Register the object by its number.\n            this.objects.setValue(reference.objNumber, new RegisteredObject(offset, reference));\n            this.maxGenNumIndex = Math.max(this.maxGenNumIndex, reference.genNumber);\n        }\n    };\n    /**\n     * `Dereferences` the specified primitive object.\n     * @private\n     */\n    PdfCrossTable.dereference = function (obj) {\n        var rh = obj;\n        if (rh != null) {\n            obj = rh.object;\n        }\n        return obj;\n    };\n    return PdfCrossTable;\n}());\nexport { PdfCrossTable };\nvar RegisteredObject = /** @class */ (function () {\n    function RegisteredObject(offset, reference, free) {\n        if (typeof free === 'undefined') {\n            var tempOffset = offset;\n            this.offsetNumber = tempOffset;\n            var tempReference = reference;\n            this.generation = tempReference.genNumber;\n            this.object = tempReference.objNumber;\n            this.type = ObjectType.Normal;\n        }\n        else {\n            var tempOffset = offset;\n            var tempReference = reference;\n            this.constructor(tempOffset, tempReference);\n            var tempFree = free;\n            this.type = ObjectType.Free;\n        }\n    }\n    Object.defineProperty(RegisteredObject.prototype, \"objectNumber\", {\n        //Properties\n        /**\n         * Gets the `object number`.\n         * @private\n         */\n        get: function () {\n            return this.object;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RegisteredObject.prototype, \"offset\", {\n        /**\n         * Gets the `offset`.\n         * @private\n         */\n        get: function () {\n            var result;\n            result = this.offsetNumber;\n            return result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RegisteredObject;\n}());\nexport { RegisteredObject };\n","/**\n * PdfPageSize.ts class for EJ2-PDF\n */\nimport { SizeF } from './../drawing/pdf-drawing';\n/**\n * Represents information about various predefined `page sizes`.\n */\nvar PdfPageSize = /** @class */ (function () {\n    //constructor\n    /**\n     * Initialize an instance for `PdfPageSize` class.\n     * @private\n     */\n    function PdfPageSize() {\n        // \n    }\n    /**\n     * Specifies the size of `letter`.\n     * @private\n     */\n    PdfPageSize.letter = new SizeF(612, 792);\n    /**\n     * Specifies the size of `note`.\n     * @private\n     */\n    PdfPageSize.note = new SizeF(540, 720);\n    /**\n     * Specifies the size of `legal`.\n     * @private\n     */\n    PdfPageSize.legal = new SizeF(612, 1008);\n    /**\n     * Specifies the size of `a0`.\n     * @private\n     */\n    PdfPageSize.a0 = new SizeF(2380, 3368);\n    /**\n     * Specifies the size of `a1`.\n     * @private\n     */\n    PdfPageSize.a1 = new SizeF(1684, 2380);\n    /**\n     * Specifies the size of `a2`.\n     * @private\n     */\n    PdfPageSize.a2 = new SizeF(1190, 1684);\n    /**\n     * Specifies the size of `a3`.\n     * @private\n     */\n    PdfPageSize.a3 = new SizeF(842, 1190);\n    /**\n     * Specifies the size of `a4`.\n     * @private\n     */\n    PdfPageSize.a4 = new SizeF(595, 842);\n    /**\n     * Specifies the size of `a5`.\n     * @private\n     */\n    PdfPageSize.a5 = new SizeF(421, 595);\n    /**\n     * Specifies the size of `a6`.\n     * @private\n     */\n    PdfPageSize.a6 = new SizeF(297, 421);\n    /**\n     * Specifies the size of `a7`.\n     * @private\n     */\n    PdfPageSize.a7 = new SizeF(210, 297);\n    /**\n     * Specifies the size of `a8`.\n     * @private\n     */\n    PdfPageSize.a8 = new SizeF(148, 210);\n    /**\n     * Specifies the size of `a9`.\n     * @private\n     */\n    PdfPageSize.a9 = new SizeF(105, 148);\n    /**\n     * Specifies the size of `a10`.\n     * @private\n     */\n    PdfPageSize.a10 = new SizeF(74, 105);\n    /**\n     * Specifies the size of `b0`.\n     * @private\n     */\n    PdfPageSize.b0 = new SizeF(2836, 4008);\n    /**\n     * Specifies the size of `b1`.\n     * @private\n     */\n    PdfPageSize.b1 = new SizeF(2004, 2836);\n    /**\n     * Specifies the size of `b2`.\n     * @private\n     */\n    PdfPageSize.b2 = new SizeF(1418, 2004);\n    /**\n     * Specifies the size of `b3`.\n     * @private\n     */\n    PdfPageSize.b3 = new SizeF(1002, 1418);\n    /**\n     * Specifies the size of `b4`.\n     * @private\n     */\n    PdfPageSize.b4 = new SizeF(709, 1002);\n    /**\n     * Specifies the size of `b5`.\n     * @private\n     */\n    PdfPageSize.b5 = new SizeF(501, 709);\n    /**\n     * Specifies the size of `archE`.\n     * @private\n     */\n    PdfPageSize.archE = new SizeF(2592, 3456);\n    /**\n     * Specifies the size of `archD`.\n     * @private\n     */\n    PdfPageSize.archD = new SizeF(1728, 2592);\n    /**\n     * Specifies the size of `archC`.\n     * @private\n     */\n    PdfPageSize.archC = new SizeF(1296, 1728);\n    /**\n     * Specifies the size of `archB`.\n     * @private\n     */\n    PdfPageSize.archB = new SizeF(864, 1296);\n    /**\n     * Specifies the size of `archA`.\n     * @private\n     */\n    PdfPageSize.archA = new SizeF(648, 864);\n    /**\n     * Specifies the size of `flsa`.\n     * @private\n     */\n    PdfPageSize.flsa = new SizeF(612, 936);\n    /**\n     * Specifies the size of `halfLetter`.\n     * @private\n     */\n    PdfPageSize.halfLetter = new SizeF(396, 612);\n    /**\n     * Specifies the size of `letter11x17`.\n     * @private\n     */\n    PdfPageSize.letter11x17 = new SizeF(792, 1224);\n    /**\n     * Specifies the size of `ledger`.\n     * @private\n     */\n    PdfPageSize.ledger = new SizeF(1224, 792);\n    return PdfPageSize;\n}());\nexport { PdfPageSize };\n","/**\n * PdfMargins.ts class for EJ2-PDF\n * A class representing PDF page margins.\n */\nvar PdfMargins = /** @class */ (function () {\n    /**\n     * Initializes a new instance of the `PdfMargins` class.\n     * @private\n     */\n    function PdfMargins() {\n        /**\n         * Represents the `Default Page Margin` value.\n         * @default 0.0\n         * @private\n         */\n        this.pdfMargin = 40.0;\n        this.setMargins(this.pdfMargin);\n    }\n    Object.defineProperty(PdfMargins.prototype, \"left\", {\n        //Properties\n        /**\n         * Gets or sets the `left margin` size.\n         * @private\n         */\n        get: function () {\n            return this.leftMargin;\n        },\n        set: function (value) {\n            this.leftMargin = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfMargins.prototype, \"top\", {\n        /**\n         * Gets or sets the `top margin` size.\n         * @private\n         */\n        get: function () {\n            return this.topMargin;\n        },\n        set: function (value) {\n            this.topMargin = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfMargins.prototype, \"right\", {\n        /**\n         * Gets or sets the `right margin` size.\n         * @private\n         */\n        get: function () {\n            return this.rightMargin;\n        },\n        set: function (value) {\n            this.rightMargin = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfMargins.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom margin` size.\n         * @private\n         */\n        get: function () {\n            return this.bottomMargin;\n        },\n        set: function (value) {\n            this.bottomMargin = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfMargins.prototype, \"all\", {\n        /**\n         * Sets the `margins`.\n         * @private\n         */\n        set: function (value) {\n            this.setMargins(value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfMargins.prototype.setMargins = function (margin1, margin2, margin3, margin4) {\n        if (typeof margin2 === 'undefined') {\n            this.leftMargin = this.topMargin = this.rightMargin = this.bottomMargin = margin1;\n        }\n        else {\n            if (typeof margin3 === 'undefined') {\n                this.leftMargin = this.rightMargin = margin1;\n                this.bottomMargin = this.topMargin = margin2;\n            }\n            else {\n                this.leftMargin = margin1;\n                this.topMargin = margin2;\n                this.rightMargin = margin3;\n                this.bottomMargin = margin4;\n            }\n        }\n    };\n    /**\n     * `Clones` the object.\n     * @private\n     */\n    PdfMargins.prototype.clone = function () {\n        return this;\n    };\n    return PdfMargins;\n}());\nexport { PdfMargins };\n","/**\n * ImageDecoder class\n */\nimport { ByteArray } from './byte-array';\nimport { PdfStream } from './../../primitives/pdf-stream';\nimport { DictionaryProperties } from './../../input-output/pdf-dictionary-properties';\nimport { PdfName } from './../../primitives/pdf-name';\nimport { PdfNumber } from './../../primitives/pdf-number';\nimport { PdfBoolean } from './../../primitives/pdf-boolean';\nimport { PdfDictionary } from './../../primitives/pdf-dictionary';\n/**\n * Specifies the image `format`.\n * @private\n */\nexport var ImageFormat;\n(function (ImageFormat) {\n    /**\n     * Specifies the type of `Unknown`.\n     * @hidden\n     * @private\n     */\n    ImageFormat[ImageFormat[\"Unknown\"] = 0] = \"Unknown\";\n    /**\n     * Specifies the type of `Bmp`.\n     * @hidden\n     * @private\n     */\n    ImageFormat[ImageFormat[\"Bmp\"] = 1] = \"Bmp\";\n    /**\n     * Specifies the type of `Emf`.\n     * @hidden\n     * @private\n     */\n    ImageFormat[ImageFormat[\"Emf\"] = 2] = \"Emf\";\n    /**\n     * Specifies the type of `Gif`.\n     * @hidden\n     * @private\n     */\n    ImageFormat[ImageFormat[\"Gif\"] = 3] = \"Gif\";\n    /**\n     * Specifies the type of `Jpeg`.\n     * @hidden\n     * @private\n     */\n    ImageFormat[ImageFormat[\"Jpeg\"] = 4] = \"Jpeg\";\n    /**\n     * Specifies the type of `Png`.\n     * @hidden\n     * @private\n     */\n    ImageFormat[ImageFormat[\"Png\"] = 5] = \"Png\";\n    /**\n     * Specifies the type of `Wmf`.\n     * @hidden\n     * @private\n     */\n    ImageFormat[ImageFormat[\"Wmf\"] = 6] = \"Wmf\";\n    /**\n     * Specifies the type of `Icon`.\n     * @hidden\n     * @private\n     */\n    ImageFormat[ImageFormat[\"Icon\"] = 7] = \"Icon\";\n})(ImageFormat || (ImageFormat = {}));\n/**\n * `Decode the image stream`.\n * @private\n */\nvar ImageDecoder = /** @class */ (function () {\n    /**\n     * Initialize the new instance for `image-decoder` class.\n     * @private\n     */\n    function ImageDecoder(stream) {\n        /**\n         * Specifies `format` of image.\n         * @hidden\n         * @private\n         */\n        this.mFormat = ImageFormat.Unknown;\n        /**\n         * `Bits per component`.\n         * @default 8\n         * @hidden\n         * @private\n         */\n        this.mbitsPerComponent = 8;\n        /**\n         * Internal variable for accessing fields from `DictionryProperties` class.\n         * @hidden\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        this.mStream = stream;\n        this.initialize();\n    }\n    Object.defineProperty(ImageDecoder.prototype, \"height\", {\n        /**\n         * Gets the `height` of image.\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.mHeight;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImageDecoder.prototype, \"width\", {\n        /**\n         * Gets the `width` of image.\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.mWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImageDecoder.prototype, \"bitsPerComponent\", {\n        /**\n         * Gets `bits per component`.\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.mbitsPerComponent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImageDecoder.prototype, \"size\", {\n        /**\n         * Gets the `size` of an image data.\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.mImageData.count;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImageDecoder.prototype, \"imageData\", {\n        /**\n         * Gets the value of an `image data`.\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.mImageData;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImageDecoder.prototype, \"imageDataAsNumberArray\", {\n        /**\n         * Gets the value of an `image data as number array`.\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.mImageData.internalBuffer.buffer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Initialize` image data and image stream.\n     * @hidden\n     * @private\n     */\n    ImageDecoder.prototype.initialize = function () {\n        if (this.mFormat === ImageFormat.Unknown && this.checkIfJpeg()) {\n            this.mFormat = ImageFormat.Jpeg;\n            this.parseJpegImage();\n        }\n        this.reset();\n        this.mImageData = new ByteArray(this.mStream.count);\n        this.mStream.read(this.mImageData, 0, this.mImageData.count);\n    };\n    /**\n     * `Reset` stream position into 0.\n     * @hidden\n     * @private\n     */\n    ImageDecoder.prototype.reset = function () {\n        this.mStream.position = 0;\n    };\n    /**\n     * `Parse` Jpeg image.\n     * @hidden\n     * @private\n     */\n    ImageDecoder.prototype.parseJpegImage = function () {\n        this.reset();\n        var imgData = new ByteArray(this.mStream.count);\n        this.mStream.read(imgData, 0, imgData.count);\n        var i = 4;\n        /* tslint:disable */\n        if (String.fromCharCode(imgData.getBuffer(i + 2)) === 'J' && String.fromCharCode(imgData.getBuffer(i + 3)) === 'F' && String.fromCharCode(imgData.getBuffer(i + 4)) === 'I' && String.fromCharCode(imgData.getBuffer(i + 5)) === 'F' && imgData.getBuffer(i + 6) === 0) {\n            var length_1 = imgData.getBuffer(i) * 256 + imgData.getBuffer(i + 1);\n            while (i + length_1 < imgData.count) {\n                i += length_1;\n                if (imgData.getBuffer(i + 1) === 192) {\n                    this.mHeight = imgData.getBuffer(i + 5) * 256 + imgData.getBuffer(i + 6);\n                    this.mWidth = imgData.getBuffer(i + 7) * 256 + imgData.getBuffer(i + 8);\n                    return;\n                }\n                else {\n                    i += 2;\n                    length_1 = imgData.getBuffer(i) * 256 + imgData.getBuffer(i + 1);\n                }\n            }\n        }\n        /* tslint:enable */\n    };\n    Object.defineProperty(ImageDecoder.prototype, \"format\", {\n        /**\n         * Gets the image `format`.\n         * @private\n         * @hidden\n         */\n        get: function () {\n            return this.mFormat;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Checks if JPG`.\n     * @private\n     * @hidden\n     */\n    ImageDecoder.prototype.checkIfJpeg = function () {\n        this.reset();\n        for (var i = 0; i < ImageDecoder.mJpegHeader.length; i++) {\n            if (ImageDecoder.mJpegHeader[i] !== this.mStream.readByte(i)) {\n                return false;\n            }\n            this.mStream.position++;\n        }\n        return true;\n    };\n    /**\n     * Return image `dictionary`.\n     * @hidden\n     * @private\n     */\n    ImageDecoder.prototype.getImageDictionary = function () {\n        if (this.mFormat === ImageFormat.Jpeg) {\n            var tempArrayBuffer = this.imageData.internalBuffer.length;\n            this.imageStream = new PdfStream();\n            var tempString = '';\n            var decodedString = '';\n            for (var i = 0; i < this.imageDataAsNumberArray.byteLength; i++) {\n                tempString += String.fromCharCode(null, this.mStream.readByte(i));\n            }\n            for (var i = 0; i < tempString.length; i++) {\n                if (i % 2 !== 0) {\n                    decodedString += tempString[i];\n                }\n            }\n            this.imageStream.data = [decodedString];\n            this.imageStream.compress = false;\n            this.imageStream.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.xObject));\n            this.imageStream.items.setValue(this.dictionaryProperties.subtype, new PdfName(this.dictionaryProperties.image));\n            this.imageStream.items.setValue(this.dictionaryProperties.width, new PdfNumber(this.width));\n            this.imageStream.items.setValue(this.dictionaryProperties.height, new PdfNumber(this.height));\n            this.imageStream.items.setValue(this.dictionaryProperties.bitsPerComponent, new PdfNumber(this.bitsPerComponent));\n            this.imageStream.items.setValue(this.dictionaryProperties.filter, new PdfName(this.dictionaryProperties.dctdecode));\n            this.imageStream.items.setValue(this.dictionaryProperties.colorSpace, new PdfName(this.getColorSpace()));\n            this.imageStream.items.setValue(this.dictionaryProperties.decodeParms, this.getDecodeParams());\n            return this.imageStream;\n        }\n        else {\n            return this.imageStream;\n        }\n    };\n    /**\n     * Return `colorSpace` of an image.\n     * @hidden\n     * @private\n     */\n    ImageDecoder.prototype.getColorSpace = function () {\n        return this.dictionaryProperties.deviceRgb;\n    };\n    /**\n     * Return `decode parameters` of an image.\n     * @hidden\n     * @private\n     */\n    ImageDecoder.prototype.getDecodeParams = function () {\n        var decodeParams = new PdfDictionary();\n        decodeParams.items.setValue(this.dictionaryProperties.columns, new PdfNumber(this.width));\n        decodeParams.items.setValue(this.dictionaryProperties.blackIs1, new PdfBoolean(true));\n        decodeParams.items.setValue(this.dictionaryProperties.k, new PdfNumber(-1));\n        decodeParams.items.setValue(this.dictionaryProperties.predictor, new PdfNumber(15));\n        decodeParams.items.setValue(this.dictionaryProperties.bitsPerComponent, new PdfNumber(this.bitsPerComponent));\n        return decodeParams;\n    };\n    /**\n     * Number array for `png header`.\n     * @hidden\n     * @private\n     */\n    ImageDecoder.mPngHeader = [137, 80, 78, 71, 13, 10, 26, 10];\n    /**\n     * Number Array for `jpeg header`.\n     * @hidden\n     * @private\n     */\n    ImageDecoder.mJpegHeader = [255, 216];\n    /**\n     * Number array for `gif header`.\n     * @hidden\n     * @private\n     */\n    ImageDecoder.GIF_HEADER = 'G,I,F,8';\n    /**\n     * Number array for `bmp header.`\n     * @hidden\n     * @private\n     */\n    ImageDecoder.BMP_HEADER = 'B,M';\n    return ImageDecoder;\n}());\nexport { ImageDecoder };\n","/**\n * PdfPageSettings.ts class for EJ2-PDF\n */\nimport { SizeF, PointF } from './../drawing/pdf-drawing';\nimport { PdfPageSize } from './pdf-page-size';\nimport { PdfPageRotateAngle, PdfPageOrientation } from './enum';\nimport { PdfMargins } from './../graphics/pdf-margins';\n/**\n * The class provides various `setting` related with PDF pages.\n */\nvar PdfPageSettings = /** @class */ (function () {\n    function PdfPageSettings(margins) {\n        //Fields\n        /**\n         * The page `margins`.\n         * @private\n         */\n        this.pageMargins = new PdfMargins();\n        /**\n         * The page `size`.\n         * @default a4\n         * @private\n         */\n        this.pageSize = PdfPageSize.a4;\n        /**\n         * The page `rotation angle`.\n         * @default PdfPageRotateAngle.RotateAngle0\n         * @private\n         */\n        this.rotateAngle = PdfPageRotateAngle.RotateAngle0;\n        /**\n         * The page `orientation`.\n         * @default PdfPageOrientation.Portrait\n         * @private\n         */\n        this.pageOrientation = PdfPageOrientation.Portrait;\n        /**\n         * The page `origin`.\n         * @default 0,0\n         * @private\n         */\n        this.pageOrigin = new PointF(0, 0);\n        /**\n         * Checks the Whether the `rotation` is applied or not.\n         * @default false\n         * @private\n         */\n        this.isRotation = false;\n        if (typeof margins === 'number') {\n            this.pageMargins.setMargins(margins);\n        }\n    }\n    Object.defineProperty(PdfPageSettings.prototype, \"size\", {\n        //Properties\n        /**\n         * Gets or sets the `size` of the page.\n         * @private\n         */\n        get: function () {\n            return this.pageSize;\n        },\n        set: function (value) {\n            this.setSize(value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageSettings.prototype, \"orientation\", {\n        /**\n         * Gets or sets the page `orientation`.\n         * @private\n         */\n        get: function () {\n            return this.pageOrientation;\n        },\n        set: function (orientation) {\n            if (this.pageOrientation !== orientation) {\n                this.pageOrientation = orientation;\n                this.updateSize(orientation);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageSettings.prototype, \"margins\", {\n        /**\n         * Gets or sets the `margins` of the page.\n         * @private\n         */\n        get: function () {\n            return this.pageMargins;\n        },\n        set: function (value) {\n            this.pageMargins = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageSettings.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the page.\n         * @private\n         */\n        get: function () {\n            return this.pageSize.width;\n        },\n        set: function (value) {\n            this.pageSize.width = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageSettings.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the page.\n         * @private\n         */\n        get: function () {\n            return this.pageSize.height;\n        },\n        set: function (value) {\n            this.pageSize.height = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageSettings.prototype, \"origin\", {\n        /**\n         * Gets or sets the `origin` of the page.\n         * @private\n         */\n        get: function () {\n            return this.pageOrigin;\n        },\n        set: function (value) {\n            this.pageOrigin = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageSettings.prototype, \"rotate\", {\n        /**\n         * Gets or sets the number of degrees by which the page should be `rotated` clockwise when displayed or printed.\n         * @private\n         */\n        get: function () {\n            return this.rotateAngle;\n        },\n        set: function (value) {\n            this.rotateAngle = value;\n            this.isRotation = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Methods\n    /**\n     * `Update page size` depending on orientation.\n     * @private\n     */\n    PdfPageSettings.prototype.updateSize = function (orientation) {\n        var min = Math.min(this.pageSize.width, this.pageSize.height);\n        var max = Math.max(this.pageSize.width, this.pageSize.height);\n        switch (orientation) {\n            case PdfPageOrientation.Portrait:\n                this.pageSize = new SizeF(min, max);\n                break;\n            case PdfPageOrientation.Landscape:\n                this.pageSize = new SizeF(max, min);\n                break;\n        }\n    };\n    /**\n     * Creates a `clone` of the object.\n     * @private\n     */\n    PdfPageSettings.prototype.clone = function () {\n        var settings = this;\n        settings.pageMargins = this.pageMargins.clone();\n        // if (GetTransition() != null)\n        // {\n        //     settings.Transition = (PdfPageTransition)Transition.clone();\n        // }\n        return settings;\n    };\n    /**\n     * Returns `size`, shrinked by the margins.\n     * @private\n     */\n    PdfPageSettings.prototype.getActualSize = function () {\n        var width = this.width - (this.margins.left + this.margins.right);\n        var height = this.height - (this.margins.top + this.margins.bottom);\n        var size = new SizeF(width, height);\n        return size;\n    };\n    /**\n     * Sets `size` to the page aaccording to the orientation.\n     * @private\n     */\n    PdfPageSettings.prototype.setSize = function (size) {\n        var min = Math.min(size.width, size.height);\n        var max = Math.max(size.width, size.height);\n        if (this.orientation === PdfPageOrientation.Portrait) {\n            this.pageSize = new SizeF(min, max);\n        }\n        else {\n            this.pageSize = new SizeF(max, min);\n        }\n    };\n    return PdfPageSettings;\n}());\nexport { PdfPageSettings };\n","import { Operators } from './pdf-operators';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PointF, RectangleF } from './../drawing/pdf-drawing';\nimport { PdfString } from './../primitives/pdf-string';\nimport { PdfName } from './../primitives/pdf-name';\n/**\n * Helper class to `write PDF graphic streams` easily.\n * @private\n */\nvar PdfStreamWriter = /** @class */ (function () {\n    /**\n     * Initialize an instance of `PdfStreamWriter` class.\n     * @private\n     */\n    function PdfStreamWriter(stream) {\n        if (stream == null) {\n            throw new Error('ArgumentNullException:stream');\n        }\n        this.stream = stream;\n    }\n    //Implementation\n    /**\n     * `Clear` the stream.\n     * @public\n     */\n    PdfStreamWriter.prototype.clear = function () {\n        this.stream.clearStream();\n    };\n    PdfStreamWriter.prototype.setGraphicsState = function (dictionaryName) {\n        if (dictionaryName instanceof PdfName) {\n            this.stream.write(dictionaryName.toString());\n            this.stream.write(Operators.whiteSpace);\n            this.writeOperator(Operators.setGraphicsState);\n        }\n        else {\n            this.stream.write(Operators.slash);\n            this.stream.write(dictionaryName);\n            this.stream.write(Operators.whiteSpace);\n            this.writeOperator(Operators.setGraphicsState);\n        }\n    };\n    /**\n     * `Executes the XObject`.\n     * @private\n     */\n    PdfStreamWriter.prototype.executeObject = function (name) {\n        this.stream.write(name.toString());\n        this.stream.write(Operators.whiteSpace);\n        this.writeOperator(Operators.paintXObject);\n        this.stream.write(Operators.newLine);\n    };\n    /**\n     * `Closes path object`.\n     * @private\n     */\n    PdfStreamWriter.prototype.closePath = function () {\n        this.writeOperator(Operators.closePath);\n    };\n    /**\n     * `Clips the path`.\n     * @private\n     */\n    PdfStreamWriter.prototype.clipPath = function (useEvenOddRule) {\n        this.stream.write(Operators.clipPath);\n        if (useEvenOddRule) {\n            this.stream.write(Operators.evenOdd);\n        }\n        this.stream.write(Operators.whiteSpace);\n        this.stream.write(Operators.endPath);\n        this.stream.write(Operators.newLine);\n    };\n    /**\n     * `Closes, then fills and strokes the path`.\n     * @private\n     */\n    PdfStreamWriter.prototype.closeFillStrokePath = function (useEvenOddRule) {\n        this.stream.write(Operators.closeFillStrokePath);\n        if (useEvenOddRule) {\n            this.stream.write(Operators.evenOdd);\n            this.stream.write(Operators.newLine);\n        }\n        else {\n            this.stream.write(Operators.newLine);\n        }\n    };\n    /**\n     * `Fills and strokes path`.\n     * @private\n     */\n    PdfStreamWriter.prototype.fillStrokePath = function (useEvenOddRule) {\n        this.stream.write(Operators.fillStroke);\n        if (useEvenOddRule) {\n            this.stream.write(Operators.evenOdd);\n            this.stream.write(Operators.newLine);\n        }\n        else {\n            this.stream.write(Operators.newLine);\n        }\n    };\n    /**\n     * `Fills path`.\n     * @private\n     */\n    PdfStreamWriter.prototype.fillPath = function (useEvenOddRule) {\n        this.stream.write(Operators.fill);\n        if (useEvenOddRule) {\n            this.stream.write(Operators.evenOdd);\n            this.stream.write(Operators.newLine);\n        }\n        else {\n            this.stream.write(Operators.newLine);\n        }\n    };\n    /**\n     * `Ends the path`.\n     * @private\n     */\n    PdfStreamWriter.prototype.endPath = function () {\n        this.writeOperator(Operators.n);\n    };\n    /**\n     * `Closes and fills the path`.\n     * @private\n     */\n    PdfStreamWriter.prototype.closeFillPath = function (useEvenOddRule) {\n        this.writeOperator(Operators.closePath);\n        this.stream.write(Operators.fill);\n        if (useEvenOddRule) {\n            this.stream.write(Operators.evenOdd);\n            this.stream.write(Operators.newLine);\n        }\n        else {\n            this.stream.write(Operators.newLine);\n        }\n    };\n    /**\n     * `Closes and strokes the path`.\n     * @private\n     */\n    PdfStreamWriter.prototype.closeStrokePath = function () {\n        this.writeOperator(Operators.closeStrokePath);\n    };\n    /**\n     * `Sets the text scaling`.\n     * @private\n     */\n    PdfStreamWriter.prototype.setTextScaling = function (textScaling) {\n        this.stream.write(PdfNumber.floatToString(textScaling));\n        this.stream.write(Operators.whiteSpace);\n        this.writeOperator(Operators.setTextScaling);\n    };\n    /**\n     * `Strokes path`.\n     * @private\n     */\n    PdfStreamWriter.prototype.strokePath = function () {\n        this.writeOperator(Operators.stroke);\n    };\n    /**\n     * `Restores` the graphics state.\n     * @private\n     */\n    PdfStreamWriter.prototype.restoreGraphicsState = function () {\n        this.writeOperator(Operators.restoreState);\n    };\n    /**\n     * `Saves` the graphics state.\n     * @private\n     */\n    PdfStreamWriter.prototype.saveGraphicsState = function () {\n        this.writeOperator(Operators.saveState);\n    };\n    PdfStreamWriter.prototype.startNextLine = function (arg1, arg2) {\n        if (typeof arg1 === 'undefined') {\n            this.writeOperator(Operators.goToNextLine);\n        }\n        else if (arg1 instanceof PointF) {\n            this.writePoint(arg1);\n            this.writeOperator(Operators.setCoords);\n        }\n        else {\n            this.writePoint(arg1, arg2);\n            this.writeOperator(Operators.setCoords);\n        }\n    };\n    /**\n     * Sets `text leading`.\n     * @private\n     */\n    PdfStreamWriter.prototype.setLeading = function (leading) {\n        this.stream.write(PdfNumber.floatToString(leading));\n        this.stream.write(Operators.whiteSpace);\n        this.writeOperator(Operators.setTextLeading);\n    };\n    /**\n     * `Begins the path`.\n     * @private\n     */\n    PdfStreamWriter.prototype.beginPath = function (x, y) {\n        this.writePoint(x, y);\n        this.writeOperator(Operators.beginPath);\n    };\n    /**\n     * `Begins text`.\n     * @private\n     */\n    PdfStreamWriter.prototype.beginText = function () {\n        this.writeOperator(Operators.beginText);\n    };\n    /**\n     * `Ends text`.\n     * @private\n     */\n    PdfStreamWriter.prototype.endText = function () {\n        this.writeOperator(Operators.endText);\n    };\n    PdfStreamWriter.prototype.appendRectangle = function (arg1, arg2, arg3, arg4) {\n        if (arg1 instanceof RectangleF) {\n            this.appendRectangle(arg1.x, arg1.y, arg1.width, arg1.height);\n        }\n        else {\n            this.writePoint(arg1, arg2);\n            this.writePoint(arg3, arg4);\n            this.writeOperator(Operators.appendRectangle);\n        }\n    };\n    PdfStreamWriter.prototype.appendLineSegment = function (arg1, arg2) {\n        if (arg1 instanceof PointF) {\n            this.appendLineSegment(arg1.x, arg1.y);\n        }\n        else {\n            this.writePoint(arg1, arg2);\n            this.writeOperator(Operators.appendLineSegment);\n        }\n    };\n    /**\n     * Sets the `text rendering mode`.\n     * @private\n     */\n    PdfStreamWriter.prototype.setTextRenderingMode = function (renderingMode) {\n        this.stream.write(renderingMode.toString());\n        this.stream.write(Operators.whiteSpace);\n        this.writeOperator(Operators.setRenderingMode);\n    };\n    /**\n     * Sets the `character spacing`.\n     * @private\n     */\n    PdfStreamWriter.prototype.setCharacterSpacing = function (charSpacing) {\n        this.stream.write(PdfNumber.floatToString(charSpacing));\n        this.stream.write(Operators.whiteSpace);\n        this.stream.write(Operators.setCharacterSpace);\n        this.stream.write(Operators.newLine);\n    };\n    /**\n     * Sets the `word spacing`.\n     * @private\n     */\n    PdfStreamWriter.prototype.setWordSpacing = function (wordSpacing) {\n        this.stream.write(PdfNumber.floatToString(wordSpacing));\n        this.stream.write(Operators.whiteSpace);\n        this.writeOperator(Operators.setWordSpace);\n    };\n    PdfStreamWriter.prototype.showNextLineText = function (arg1, arg2) {\n        if (arg1 instanceof PdfString) {\n            this.checkTextParam(arg1);\n            this.writeText(arg1);\n            this.writeOperator(Operators.setTextOnNewLine);\n        }\n        else {\n            this.checkTextParam(arg1);\n            this.writeText(arg1, arg2);\n            this.writeOperator(Operators.setTextOnNewLine);\n        }\n    };\n    PdfStreamWriter.prototype.setColorSpace = function (arg1, arg2) {\n        if (arg1 instanceof PdfName && typeof arg2 === 'boolean') {\n            var temparg1 = arg1;\n            var temparg2 = arg2;\n            // if (temparg1 == null) {\n            //     throw new Error('ArgumentNullException:name');\n            // }\n            var op = (temparg2) ? Operators.selectcolorspaceforstroking : Operators.selectcolorspacefornonstroking;\n            this.stream.write(temparg1.toString());\n            this.stream.write(Operators.whiteSpace);\n            this.stream.write(op);\n            this.stream.write(Operators.newLine);\n        }\n        else {\n            var temparg1 = arg1;\n            var temparg2 = arg2;\n            this.setColorSpace(new PdfName(temparg1), temparg2);\n        }\n    };\n    /**\n     * Modifies current `transformation matrix`.\n     * @private\n     */\n    PdfStreamWriter.prototype.modifyCtm = function (matrix) {\n        if (matrix == null) {\n            throw new Error('ArgumentNullException:matrix');\n        }\n        this.stream.write(matrix.toString());\n        this.stream.write(Operators.whiteSpace);\n        this.writeOperator(Operators.modifyCtm);\n    };\n    PdfStreamWriter.prototype.setFont = function (font, name, size) {\n        if (typeof name === 'string') {\n            this.setFont(font, new PdfName(name), size);\n        }\n        else {\n            if (font == null) {\n                throw new Error('ArgumentNullException:font');\n            }\n            this.stream.write(name.toString());\n            this.stream.write(Operators.whiteSpace);\n            this.stream.write(PdfNumber.floatToString(size));\n            this.stream.write(Operators.whiteSpace);\n            this.writeOperator(Operators.setFont);\n        }\n    };\n    /**\n     * `Writes the operator`.\n     * @private\n     */\n    PdfStreamWriter.prototype.writeOperator = function (opcode) {\n        this.stream.write(opcode);\n        this.stream.write(Operators.newLine);\n    };\n    PdfStreamWriter.prototype.checkTextParam = function (text) {\n        if (text == null) {\n            throw new Error('ArgumentNullException:text');\n        }\n        if (typeof text === 'string' && text === '') {\n            throw new Error('ArgumentException:The text can not be an empty string, text');\n        }\n    };\n    PdfStreamWriter.prototype.writeText = function (arg1, arg2) {\n        if ((arg1 instanceof PdfString) && (typeof arg2 === 'undefined')) {\n            this.stream.write(arg1.value);\n        }\n        else {\n            var start = void 0;\n            var end = void 0;\n            if (arg2) {\n                start = PdfString.hexStringMark[0];\n                end = PdfString.hexStringMark[1];\n            }\n            else {\n                start = PdfString.stringMark[0];\n                end = PdfString.stringMark[1];\n            }\n            this.stream.write(start);\n            this.stream.write(arg1);\n            this.stream.write(end);\n        }\n    };\n    PdfStreamWriter.prototype.writePoint = function (arg1, arg2) {\n        if ((arg1 instanceof PointF) && (typeof arg2 === 'undefined')) {\n            this.writePoint(arg1.x, arg1.y);\n        }\n        else {\n            var temparg1 = arg1;\n            this.stream.write(PdfNumber.floatToString(temparg1));\n            this.stream.write(Operators.whiteSpace);\n            // NOTE: Change Y co-ordinate because we shifted co-ordinate system only.\n            arg2 = this.updateY(arg2);\n            this.stream.write(PdfNumber.floatToString(arg2));\n            this.stream.write(Operators.whiteSpace);\n        }\n    };\n    /**\n     * `Updates y` co-ordinate.\n     * @private\n     */\n    PdfStreamWriter.prototype.updateY = function (arg) {\n        return -arg;\n    };\n    /**\n     * `Writes string` to the file.\n     * @private\n     */\n    PdfStreamWriter.prototype.write = function (string) {\n        var builder = '';\n        builder += string;\n        builder += Operators.newLine;\n        this.writeOperator(builder);\n    };\n    /**\n     * `Writes comment` to the file.\n     * @private\n     */\n    PdfStreamWriter.prototype.writeComment = function (comment) {\n        if (comment != null && comment.length > 0) {\n            var builder = '';\n            builder += Operators.comment;\n            builder += Operators.whiteSpace;\n            builder += comment;\n            //builder.Append( Operators.NewLine );\n            this.writeOperator(builder);\n        }\n        else {\n            throw new Error('Invalid comment');\n        }\n    };\n    /**\n     * Sets the `color and space`.\n     * @private\n     */\n    PdfStreamWriter.prototype.setColorAndSpace = function (color, colorSpace, forStroking) {\n        if (!color.isEmpty) {\n            // bool test = color is PdfExtendedColor;\n            this.stream.write(color.toString(colorSpace, forStroking));\n            this.stream.write(Operators.newLine);\n        }\n    };\n    // public setLineDashPattern(pattern : number[], patternOffset : number) : void\n    // {\n    //     let pat : PdfArray = new PdfArray(pattern);\n    //     let off : PdfNumber = new PdfNumber(patternOffset);\n    //     this.setLineDashPatternHelper(pat, off);\n    // }\n    // private setLineDashPatternHelper(pattern : PdfArray, patternOffset : PdfNumber) : void\n    // {\n    //     pattern.Save(this);\n    //     this.m_stream.write(Operators.whiteSpace);\n    //     patternOffset.Save(this);\n    //     this.m_stream.write(Operators.whiteSpace);\n    //     this.writeOperator(Operators.setDashPattern);\n    // }\n    /**\n     * Sets the `line dash pattern`.\n     * @private\n     */\n    PdfStreamWriter.prototype.setLineDashPattern = function (pattern, patternOffset) {\n        // let pat : PdfArray = new PdfArray(pattern);\n        // let off : PdfNumber = new PdfNumber(patternOffset);\n        // this.setLineDashPatternHelper(pat, off);\n        this.setLineDashPatternHelper(pattern, patternOffset);\n    };\n    /**\n     * Sets the `line dash pattern`.\n     * @private\n     */\n    PdfStreamWriter.prototype.setLineDashPatternHelper = function (pattern, patternOffset) {\n        var tempPattern = '[';\n        if (pattern.length > 1) {\n            for (var index = 0; index < pattern.length; index++) {\n                if (index === pattern.length - 1) {\n                    tempPattern += pattern[index].toString();\n                }\n                else {\n                    tempPattern += pattern[index].toString() + ' ';\n                }\n            }\n        }\n        tempPattern += '] ';\n        tempPattern += patternOffset.toString();\n        tempPattern += ' ' + Operators.setDashPattern;\n        this.stream.write(tempPattern);\n        this.stream.write(Operators.newLine);\n    };\n    /**\n     * Sets the `miter limit`.\n     * @private\n     */\n    PdfStreamWriter.prototype.setMiterLimit = function (miterLimit) {\n        this.stream.write(PdfNumber.floatToString(miterLimit));\n        this.stream.write(Operators.whiteSpace);\n        this.writeOperator(Operators.setMiterLimit);\n    };\n    /**\n     * Sets the `width of the line`.\n     * @private\n     */\n    PdfStreamWriter.prototype.setLineWidth = function (width) {\n        this.stream.write(PdfNumber.floatToString(width));\n        this.stream.write(Operators.whiteSpace);\n        this.writeOperator(Operators.setLineWidth);\n    };\n    /**\n     * Sets the `line cap`.\n     * @private\n     */\n    PdfStreamWriter.prototype.setLineCap = function (lineCapStyle) {\n        this.stream.write((lineCapStyle).toString());\n        this.stream.write(Operators.whiteSpace);\n        this.writeOperator(Operators.setLineCapStyle);\n    };\n    /**\n     * Sets the `line join`.\n     * @private\n     */\n    PdfStreamWriter.prototype.setLineJoin = function (lineJoinStyle) {\n        this.stream.write((lineJoinStyle).toString());\n        this.stream.write(Operators.whiteSpace);\n        this.writeOperator(Operators.setLineJoinStyle);\n    };\n    Object.defineProperty(PdfStreamWriter.prototype, \"position\", {\n        //IPdfWriter members\n        /**\n         * Gets or sets the current `position` within the stream.\n         * @private\n         */\n        get: function () {\n            return this.stream.position;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStreamWriter.prototype, \"length\", {\n        /**\n         * Gets `stream length`.\n         * @private\n         */\n        get: function () {\n            var returnValue = 0;\n            if (this.stream.data.length !== 0 && this.stream.data.length !== -1) {\n                for (var index = 0; index < this.stream.data.length; index++) {\n                    returnValue += this.stream.data[index].length;\n                }\n            }\n            return returnValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfStreamWriter.prototype, \"document\", {\n        /**\n         * Gets and Sets the `current document`.\n         * @private\n         */\n        get: function () {\n            return null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfStreamWriter;\n}());\nexport { PdfStreamWriter };\n","/**\n * PdfPen.ts class for EJ2-PDF\n */\nimport { PdfColor } from './pdf-color';\nimport { PdfDashStyle, PdfColorSpace } from './enum';\nimport { PdfBrush } from './brushes/pdf-brush';\n/**\n * `PdfPen` class defining settings for drawing operations, that determines the color,\n * width, and style of the drawing elements.\n * ```typescript\n * // create a new PDF document\n * let document : PdfDocument = new PdfDocument();\n * // create a new page\n * let page1 : PdfPage = document.pages.add();\n * // set pen\n * let pen : PdfPen = new PdfPen(new PdfColor(0, 0, 0));\n * // draw rectangle\n * page1.graphics.drawRectangle(pen, new RectangleF({x : 0, y : 0}, {width : 100, height : 50}));\n * // save the document.\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n */\nvar PdfPen = /** @class */ (function () {\n    function PdfPen(arg1, arg2) {\n        //Fields\n        /**\n         * Specifies the `color of the pen`.\n         * @default new PdfColor()\n         * @private\n         */\n        this.pdfColor = new PdfColor(0, 0, 0);\n        /**\n         * Specifies the `dash offset of the pen`.\n         * @default 0\n         * @private\n         */\n        this.dashOffsetValue = 0;\n        /**\n         * Specifies the `dash pattern of the pen`.\n         * @default [0]\n         * @private\n         */\n        this.penDashPattern = [0];\n        /**\n         * Specifies the `dash style of the pen`.\n         * @default Solid\n         * @private\n         */\n        this.pdfDashStyle = PdfDashStyle.Solid;\n        /**\n         * Specifies the `line cap of the pen`.\n         * @default 0\n         * @private\n         */\n        this.pdfLineCap = 0;\n        /**\n         * Specifies the `line join of the pen`.\n         * @default 0\n         * @private\n         */\n        this.pdfLineJoin = 0;\n        /**\n         * Specifies the `width of the pen`.\n         * @default 1.0\n         * @private\n         */\n        this.penWidth = 1.0;\n        /**\n         * Specifies the `mitter limit of the pen`.\n         * @default 0.0\n         * @private\n         */\n        this.internalMiterLimit = 0.0;\n        /**\n         * Stores the `colorspace` value.\n         * @default Rgb\n         * @private\n         */\n        this.colorSpace = PdfColorSpace.Rgb;\n        if (typeof arg2 === 'number') {\n            this.constructor(arg1);\n            this.width = arg2;\n        }\n        else if (typeof arg2 === 'undefined' && arg1 instanceof PdfBrush) {\n            this.setBrush(arg1);\n        }\n        else if (typeof arg2 === 'undefined' && arg1 instanceof PdfColor) {\n            this.color = arg1;\n        }\n    }\n    Object.defineProperty(PdfPen.prototype, \"color\", {\n        //Properties\n        /**\n         * Gets or sets the `color of the pen`.\n         * @private\n         */\n        get: function () {\n            return this.pdfColor;\n        },\n        set: function (value) {\n            this.pdfColor = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPen.prototype, \"dashOffset\", {\n        /**\n         * Gets or sets the `dash offset of the pen`.\n         * @private\n         */\n        get: function () {\n            if (typeof this.dashOffsetValue === 'undefined' || this.dashOffsetValue == null) {\n                return 0;\n            }\n            else {\n                return this.dashOffsetValue;\n            }\n        },\n        set: function (value) {\n            this.dashOffsetValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPen.prototype, \"dashPattern\", {\n        /**\n         * Gets or sets the `dash pattern of the pen`.\n         * @private\n         */\n        get: function () {\n            return this.penDashPattern;\n        },\n        set: function (value) {\n            this.penDashPattern = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPen.prototype, \"dashStyle\", {\n        /**\n         * Gets or sets the `dash style of the pen`.\n         * ```typescript\n         * // create a new PDF document\n         * let document : PdfDocument = new PdfDocument();\n         * // create a new page\n         * let page1 : PdfPage = document.pages.add();\n         * // set pen\n         * let pen : PdfPen = new PdfPen(new PdfColor(0, 0, 0));\n         * //\n         * // set pen style\n         * pen.dashStyle = PdfDashStyle.DashDot;\n         * // get pen style\n         * let style : PdfDashStyle = pen.dashStyle;\n         * //\n         * // draw rectangle\n         * page1.graphics.drawRectangle(pen, new RectangleF({x : 0, y : 0}, {width : 100, height : 50}));\n         * // save the document.\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            return this.pdfDashStyle;\n        },\n        set: function (value) {\n            if (this.pdfDashStyle !== value) {\n                this.pdfDashStyle = value;\n                switch (this.pdfDashStyle) {\n                    case PdfDashStyle.Custom:\n                        break;\n                    case PdfDashStyle.Dash:\n                        this.penDashPattern = [3, 1];\n                        break;\n                    case PdfDashStyle.Dot:\n                        this.penDashPattern = [1, 1];\n                        break;\n                    case PdfDashStyle.DashDot:\n                        this.penDashPattern = [3, 1, 1, 1];\n                        break;\n                    case PdfDashStyle.DashDotDot:\n                        this.penDashPattern = [3, 1, 1, 1, 1, 1];\n                        break;\n                    case PdfDashStyle.Solid:\n                        break;\n                    default:\n                        this.pdfDashStyle = PdfDashStyle.Solid;\n                        this.penDashPattern = [0];\n                        break;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPen.prototype, \"lineCap\", {\n        /**\n         * Gets or sets the `line cap of the pen`.\n         * @private\n         */\n        get: function () {\n            return this.pdfLineCap;\n        },\n        set: function (value) {\n            this.pdfLineCap = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPen.prototype, \"lineJoin\", {\n        /**\n         * Gets or sets the `line join style of the pen`.\n         * @private\n         */\n        get: function () {\n            return this.pdfLineJoin;\n        },\n        set: function (value) {\n            this.pdfLineJoin = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPen.prototype, \"miterLimit\", {\n        /**\n         * Gets or sets the `miter limit`.\n         * @private\n         */\n        get: function () {\n            return this.internalMiterLimit;\n        },\n        set: function (value) {\n            this.internalMiterLimit = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPen.prototype, \"width\", {\n        /**\n         * Gets or sets the `width of the pen`.\n         * ```typescript\n         * // create a new PDF document\n         * let document : PdfDocument = new PdfDocument();\n         * // create a new page\n         * let page1 : PdfPage = document.pages.add();\n         * // set pen\n         * let pen : PdfPen = new PdfPen(new PdfColor(0, 0, 0));\n         * //\n         * // set pen width\n         * pen.width = 2;\n         * //\n         * // draw rectangle\n         * page1.graphics.drawRectangle(pen, new RectangleF({x : 0, y : 0}, {width : 100, height : 50}));\n         * // save the document.\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            return this.penWidth;\n        },\n        set: function (value) {\n            this.penWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Helper\n    /**\n     * `Clones` this instance of PdfPen class.\n     * @private\n     */\n    PdfPen.prototype.clone = function () {\n        var pen = this;\n        return pen;\n    };\n    /**\n     * `Sets the brush`.\n     * @private\n     */\n    PdfPen.prototype.setBrush = function (brush) {\n        var sBrush = brush;\n        this.color = sBrush.color;\n        this.pdfBrush = sBrush;\n    };\n    /**\n     * `Monitors the changes`.\n     * @private\n     */\n    PdfPen.prototype.monitorChanges = function (currentPen, streamWriter, getResources, saveState, currentColorSpace, matrix) {\n        var diff = false;\n        saveState = true;\n        if (currentPen == null) {\n            diff = true;\n        }\n        diff = this.dashControl(currentPen, saveState, streamWriter);\n        streamWriter.setLineWidth(this.width);\n        streamWriter.setLineJoin(this.lineJoin);\n        streamWriter.setLineCap(this.lineCap);\n        var miterLimit = this.miterLimit;\n        if (miterLimit > 0) {\n            streamWriter.setMiterLimit(miterLimit);\n            diff = true;\n        }\n        var brush = this.pdfBrush;\n        streamWriter.setColorAndSpace(this.color, currentColorSpace, true);\n        diff = true;\n        return diff;\n    };\n    /**\n     * `Controls the dash style` and behaviour of each line.\n     * @private\n     */\n    PdfPen.prototype.dashControl = function (pen, saveState, streamWriter) {\n        saveState = true;\n        var lineWidth = this.width;\n        var pattern = this.getPattern();\n        streamWriter.setLineDashPattern(pattern, this.dashOffset * lineWidth);\n        return saveState;\n    };\n    /**\n     * `Gets the pattern` of PdfPen.\n     * @private\n     */\n    PdfPen.prototype.getPattern = function () {\n        var pattern = this.dashPattern;\n        for (var i = 0; i < pattern.length; ++i) {\n            pattern[i] *= this.width;\n        }\n        return pattern;\n    };\n    return PdfPen;\n}());\nexport { PdfPen };\n","/**\n * PdfTransformationMatrix.ts class for EJ2-PDF\n */\nimport { PointF } from './../drawing/pdf-drawing';\nimport { PdfNumber } from './../primitives/pdf-number';\n/**\n * Class for representing Root `transformation matrix`.\n */\nvar PdfTransformationMatrix = /** @class */ (function () {\n    function PdfTransformationMatrix(value) {\n        /**\n         * Value for `angle converting`.\n         * @default 180.0 / Math.PI\n         * @private\n         */\n        this.radDegFactor = 180.0 / Math.PI;\n        if (typeof value === 'undefined') {\n            this.transformationMatrix = new Matrix(1.00, 0.00, 0.00, 1.00, 0.00, 0.00);\n        }\n        else {\n            this.transformationMatrix = new Matrix(1.00, 0.00, 0.00, -1.00, 0.00, 0.00);\n        }\n    }\n    Object.defineProperty(PdfTransformationMatrix.prototype, \"matrix\", {\n        // Properties\n        /**\n         * Gets or sets the `internal matrix object`.\n         * @private\n         */\n        get: function () {\n            return this.transformationMatrix;\n        },\n        set: function (value) {\n            this.transformationMatrix = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Public methods\n    /**\n     * `Translates` coordinates by specified coordinates.\n     * @private\n     */\n    PdfTransformationMatrix.prototype.translate = function (offsetX, offsetY) {\n        this.transformationMatrix.translate(offsetX, offsetY);\n    };\n    /**\n     * `Scales` coordinates by specified coordinates.\n     * @private\n     */\n    PdfTransformationMatrix.prototype.scale = function (scaleX, scaleY) {\n        this.transformationMatrix.elements[0] = scaleX;\n        this.transformationMatrix.elements[3] = scaleY;\n    };\n    /**\n     * `Rotates` coordinate system in counterclockwise direction.\n     * @private\n     */\n    PdfTransformationMatrix.prototype.rotate = function (angle) {\n        //Convert from degree to radian \n        angle = (angle * Math.PI) / 180;\n        //Rotation \n        this.transformationMatrix.elements[0] = Math.cos(angle);\n        this.transformationMatrix.elements[1] = Math.sin(angle);\n        this.transformationMatrix.elements[2] = -Math.sin(angle);\n        this.transformationMatrix.elements[3] = Math.cos(angle);\n    };\n    // Overrides\n    /**\n     * Gets `PDF representation`.\n     * @private\n     */\n    PdfTransformationMatrix.prototype.toString = function () {\n        var builder = '';\n        var whitespace = ' ';\n        for (var i = 0, len = this.transformationMatrix.elements.length; i < len; i++) {\n            var temp = this.matrix.elements[i];\n            builder += PdfNumber.floatToString(this.transformationMatrix.elements[i]);\n            builder += whitespace;\n        }\n        return builder;\n    };\n    // Implementation\n    /**\n     * `Multiplies` matrices (changes coordinate system.)\n     * @private\n     */\n    PdfTransformationMatrix.prototype.multiply = function (matrix) {\n        this.transformationMatrix.multiply(matrix.matrix);\n    };\n    /**\n     * Converts `degrees to radians`.\n     * @private\n     */\n    PdfTransformationMatrix.degreesToRadians = function (degreesX) {\n        return this.degRadFactor * degreesX;\n    };\n    /**\n     * Converts `radians to degrees`.\n     * @private\n     */\n    PdfTransformationMatrix.prototype.radiansToDegrees = function (radians) {\n        return this.radDegFactor * radians;\n    };\n    /**\n     * `Clones` this instance of PdfTransformationMatrix.\n     * @private\n     */\n    PdfTransformationMatrix.prototype.clone = function () {\n        return this;\n    };\n    // Constants\n    /**\n     * Value for `angle converting`.\n     * @default Math.PI / 180.0\n     * @private\n     */\n    PdfTransformationMatrix.degRadFactor = Math.PI / 180.0;\n    return PdfTransformationMatrix;\n}());\nexport { PdfTransformationMatrix };\nvar Matrix = /** @class */ (function () {\n    function Matrix(arg1, arg2, arg3, arg4, arg5, arg6) {\n        if (typeof arg1 === 'undefined') {\n            this.metrixElements = [];\n        }\n        else if (typeof arg1 === 'number') {\n            this.constructor();\n            this.metrixElements.push(arg1);\n            this.metrixElements.push(arg2);\n            this.metrixElements.push(arg3);\n            this.metrixElements.push(arg4);\n            this.metrixElements.push(arg5);\n            this.metrixElements.push(arg6);\n        }\n        else {\n            this.metrixElements = arg1;\n        }\n    }\n    Object.defineProperty(Matrix.prototype, \"elements\", {\n        // Properties\n        /**\n         * Gets the `elements`.\n         * @private\n         */\n        get: function () {\n            return this.metrixElements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"offsetX\", {\n        /**\n         * Gets the off set `X`.\n         * @private\n         */\n        get: function () {\n            return this.metrixElements[4];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"offsetY\", {\n        /**\n         * Gets the off set `Y`.\n         * @private\n         */\n        get: function () {\n            return this.metrixElements[5];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Translates` coordinates by specified coordinates.\n     * @private\n     */\n    Matrix.prototype.translate = function (offsetX, offsetY) {\n        this.metrixElements[4] = offsetX;\n        this.metrixElements[5] = offsetY;\n    };\n    /**\n     * `Translates` the specified offset X.\n     * @private\n     */\n    Matrix.prototype.transform = function (point) {\n        var x = point.x;\n        var y = point.y;\n        var x2 = x * this.elements[0] + y * this.elements[2] + this.offsetX;\n        var y2 = x * this.elements[1] + y * this.elements[3] + this.offsetY;\n        return new PointF(x2, y2);\n    };\n    /**\n     * `Multiplies matrices` (changes coordinate system.)\n     * @private\n     */\n    Matrix.prototype.multiply = function (matrix) {\n        var tempMatrix = [];\n        tempMatrix.push(this.elements[0] * matrix.elements[0] + this.elements[1] * matrix.elements[2]);\n        tempMatrix[1] = (this.elements[0] * matrix.elements[1] + this.elements[1] * matrix.elements[3]);\n        tempMatrix[2] = (this.elements[2] * matrix.elements[0] + this.elements[3] * matrix.elements[2]);\n        tempMatrix[3] = (this.elements[2] * matrix.elements[1] + this.elements[3] * matrix.elements[3]);\n        tempMatrix[4] = (this.offsetX * matrix.elements[0] + this.offsetY * matrix.elements[2] + matrix.offsetX);\n        tempMatrix[5] = (this.offsetX * matrix.elements[1] + this.offsetY * matrix.elements[3] + matrix.offsetY);\n        for (var i = 0; i < tempMatrix.length; i++) {\n            this.elements[i] = tempMatrix[i];\n        }\n    };\n    // IDisposable Members\n    /**\n     * `Dispose` this instance of PdfTransformationMatrix class.\n     * @private\n     */\n    Matrix.prototype.dispose = function () {\n        this.metrixElements = null;\n    };\n    // ICloneable Members\n    /**\n     * `Clones` this instance of PdfTransformationMatrix class.\n     * @private\n     */\n    Matrix.prototype.clone = function () {\n        var m = new Matrix(this.metrixElements);\n        return m;\n    };\n    return Matrix;\n}());\nexport { Matrix };\n","/**\n * `constants.ts` class for EJ2-PDF\n * @private\n */\nvar ProcedureSets = /** @class */ (function () {\n    function ProcedureSets() {\n        /**\n         * Specifies the `PDF` procedure set.\n         * @private\n         */\n        this.pdf = 'PDF';\n        /**\n         * Specifies the `Text` procedure set.\n         * @private\n         */\n        this.text = 'Text';\n        /**\n         * Specifies the `ImageB` procedure set.\n         * @private\n         */\n        this.imageB = 'ImageB';\n        /**\n         * Specifies the `ImageC` procedure set.\n         * @private\n         */\n        this.imageC = 'ImageC';\n        /**\n         * Specifies the `ImageI` procedure set.\n         * @private\n         */\n        this.imageI = 'ImageI';\n    }\n    return ProcedureSets;\n}());\nexport { ProcedureSets };\n","/**\n * Dictionary class\n * @private\n * @hidden\n */\nvar TemporaryDictionary = /** @class */ (function () {\n    function TemporaryDictionary() {\n        /**\n         * @hidden\n         * @private\n         */\n        this.mKeys = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.mValues = [];\n    }\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.size = function () {\n        return this.mKeys.length;\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.add = function (key, value) {\n        if (key === undefined || key === null || value === undefined || value === null) {\n            throw new ReferenceError('Provided key or value is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n            return 1;\n        }\n        else {\n            throw new RangeError('An item with the same key has already been added.');\n        }\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.keys = function () {\n        return this.mKeys;\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.values = function () {\n        return this.mValues;\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.getValue = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            return this.mValues[index];\n        }\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.setValue = function (key, value) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n        }\n        else {\n            this.mValues[index] = value;\n        }\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.remove = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            this.mKeys.splice(index, 1);\n            this.mValues.splice(index, 1);\n            return true;\n        }\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.containsKey = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.clear = function () {\n        this.mKeys = [];\n        this.mValues = [];\n    };\n    return TemporaryDictionary;\n}());\nexport { TemporaryDictionary };\n","import { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PdfName } from './../primitives/pdf-name';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\n/**\n * Represents a simple `transparency`.\n * @private\n */\nvar PdfTransparency = /** @class */ (function () {\n    // Properties\n    // /**\n    //  * Gets the `stroke` operation alpha value.\n    //  * @private\n    //  */\n    // public get stroke() : number {\n    //     let result : number = this.getNumber(this.dictionaryProperties.CA);\n    //     return result;\n    // }\n    // /**\n    //  * Gets the `fill` operation alpha value.\n    //  * @private\n    //  */\n    // public get fill() : number {\n    //     let result : number = this.getNumber(this.dictionaryProperties.ca);\n    //     return result;\n    // }\n    // /**\n    //  * Gets the `blend mode`.\n    //  * @private\n    //  */\n    // public get mode() : PdfBlendMode {\n    //     let result : string = this.getName(this.dictionaryProperties.ca);\n    //     return PdfBlendMode.Normal;\n    // }\n    // Constructors\n    /**\n     * Initializes a new instance of the `Transparency` class.\n     * @private\n     */\n    function PdfTransparency(stroke, fill, mode) {\n        // Fields\n        /**\n         * Internal variable to store `dictionary`.\n         * @default new PdfDictionary()\n         * @private\n         */\n        this.dictionary = new PdfDictionary();\n        /**\n         * Internal variable for accessing fields from `DictionryProperties` class.\n         * @default new DictionaryProperties()\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        this.dictionary.items.setValue(this.dictionaryProperties.CA, new PdfNumber(stroke));\n        this.dictionary.items.setValue(this.dictionaryProperties.ca, new PdfNumber(fill));\n        this.dictionary.items.setValue(this.dictionaryProperties.BM, new PdfName(mode.toString()));\n    }\n    Object.defineProperty(PdfTransparency.prototype, \"element\", {\n        // // Implementation\n        // /**\n        //  * Gets the `number value`.\n        //  * @private\n        //  */\n        // private getNumber(keyName : string) : number {\n        //     let result : number = 0.0;\n        //     let numb : PdfNumber = this.dictionary.items.getValue(keyName) as PdfNumber;\n        //     result = numb.intValue;\n        //     return result;\n        // }\n        // /**\n        //  * Gets the `name value`.\n        //  * @private\n        //  */\n        // private getName(keyName : string) : string {\n        //     let result : string = null;\n        //     let name : PdfName = this.dictionary.items.getValue(keyName) as PdfName;\n        //     result = name.value;\n        //     return result;\n        // }\n        // IPdfWrapper Members\n        /**\n         * Gets the `element`.\n         * @private\n         */\n        get: function () {\n            return this.dictionary;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTransparency;\n}());\nexport { PdfTransparency };\n","/**\n * Represent a `collection of automatic fields information`.\n * @private\n */\nvar PdfAutomaticFieldInfoCollection = /** @class */ (function () {\n    /**\n     * Initializes a new instance of the 'PdfPageNumberFieldInfoCollection' class.\n     * @private\n     */\n    function PdfAutomaticFieldInfoCollection() {\n        /**\n         * Internal variable to store instance of `pageNumberFields` class.\n         * @private\n         */\n        this.automaticFieldsInformation = [];\n        //\n    }\n    Object.defineProperty(PdfAutomaticFieldInfoCollection.prototype, \"automaticFields\", {\n        /**\n         * Gets the `page number fields collection`.\n         * @private\n         */\n        get: function () {\n            return this.automaticFieldsInformation;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Public methods\n    /// Adds the specified field info.\n    /**\n     * Add page number field into collection.\n     * @private\n     */\n    PdfAutomaticFieldInfoCollection.prototype.add = function (fieldInfo) {\n        return this.automaticFields.push(fieldInfo);\n    };\n    return PdfAutomaticFieldInfoCollection;\n}());\nexport { PdfAutomaticFieldInfoCollection };\n","/**\n * Represents a base class for all page graphics elements.\n */\nvar PdfGraphicsElement = /** @class */ (function () {\n    // Constructors\n    function PdfGraphicsElement() {\n        //\n    }\n    /**\n     * `Draws` the page number field.\n     * @public\n     */\n    PdfGraphicsElement.prototype.drawHelper = function (graphics, x, y) {\n        var bNeedSave = (x !== 0 || y !== 0);\n        var gState = null;\n        // Translate co-ordinates.\n        if (bNeedSave) {\n            // Save state.\n            gState = graphics.save();\n            graphics.translateTransform(x, y);\n        }\n        this.drawInternal(graphics);\n        if (bNeedSave) {\n            // Restore state.\n            graphics.restore(gState);\n        }\n    };\n    return PdfGraphicsElement;\n}());\nexport { PdfGraphicsElement };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfAutomaticField.ts class for EJ2-PDF\n */\nimport { RectangleF, SizeF, PointF } from './../../drawing/pdf-drawing';\nimport { PdfSolidBrush } from './../../graphics/brushes/pdf-solid-brush';\nimport { PdfColor } from './../../graphics/pdf-color';\nimport { PdfDocument } from './../pdf-document';\nimport { PdfGraphicsElement } from './../../graphics/figures/base/graphics-element';\nimport { PdfAutomaticFieldInfo } from './automatic-field-info';\n/**\n * Represents a fields which is calculated before the document saves.\n */\nvar PdfAutomaticField = /** @class */ (function (_super) {\n    __extends(PdfAutomaticField, _super);\n    // Constructors\n    function PdfAutomaticField() {\n        var _this = _super.call(this) || this;\n        // Fields\n        _this.internalBounds = new RectangleF(0, 0, 0, 0);\n        _this.internalTemplateSize = new SizeF(0, 0);\n        return _this;\n    }\n    Object.defineProperty(PdfAutomaticField.prototype, \"bounds\", {\n        // Properties\n        get: function () {\n            return this.internalBounds;\n        },\n        set: function (value) {\n            this.internalBounds = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAutomaticField.prototype, \"size\", {\n        get: function () {\n            return new SizeF(this.bounds.width, this.bounds.height);\n        },\n        set: function (value) {\n            this.bounds.width = value.width;\n            this.bounds.height = value.height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAutomaticField.prototype, \"location\", {\n        get: function () {\n            return new PointF(this.bounds.x, this.bounds.y);\n        },\n        set: function (value) {\n            this.bounds.x = value.x;\n            this.bounds.y = value.y;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAutomaticField.prototype, \"font\", {\n        get: function () {\n            return this.internalFont;\n        },\n        set: function (value) {\n            this.internalFont = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAutomaticField.prototype, \"brush\", {\n        get: function () {\n            return this.internalBrush;\n        },\n        set: function (value) {\n            this.internalBrush = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAutomaticField.prototype, \"pen\", {\n        get: function () {\n            return this.internalPen;\n        },\n        set: function (value) {\n            this.internalPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAutomaticField.prototype, \"stringFormat\", {\n        get: function () {\n            return this.internalStringFormat;\n        },\n        set: function (value) {\n            this.internalStringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfAutomaticField.prototype.performDrawHelper = function (graphics, location, scalingX, scalingY) {\n        if (this.bounds.height === 0 || this.bounds.width === 0) {\n            var text = this.getValue(graphics);\n            this.internalTemplateSize = this.getFont().measureString(text, this.size, this.stringFormat);\n        }\n    };\n    PdfAutomaticField.prototype.draw = function (arg1, arg2, arg3) {\n        if (typeof arg2 === 'undefined') {\n            var location_1 = new PointF(0, 0);\n            this.draw(arg1, location_1);\n        }\n        else if (arg2 instanceof PointF) {\n            this.draw(arg1, arg2.x, arg2.y);\n        }\n        else {\n            this.drawHelper(arg1, arg2, arg3);\n            var info = new PdfAutomaticFieldInfo(this, new PointF(arg2, arg3));\n            arg1.automaticFields.add(info);\n        }\n    };\n    PdfAutomaticField.prototype.getSize = function () {\n        if (this.bounds.height === 0 || this.bounds.width === 0) {\n            return this.internalTemplateSize;\n        }\n        else {\n            return this.size;\n        }\n    };\n    PdfAutomaticField.prototype.drawInternal = function (graphics) {\n        //\n    };\n    /* tslint:disable */\n    PdfAutomaticField.prototype.getBrush = function () {\n        return (typeof this.internalBrush === 'undefined' || this.internalBrush == null) ? new PdfSolidBrush(new PdfColor(0, 0, 0)) : this.internalBrush;\n    };\n    PdfAutomaticField.prototype.getFont = function () {\n        return (typeof this.internalFont === 'undefined' || this.internalFont == null) ? PdfDocument.defaultFont : this.internalFont;\n    };\n    /* tslint:enable */\n    PdfAutomaticField.prototype.getPageFromGraphics = function (graphics) {\n        if (typeof graphics.page !== 'undefined' && graphics.page !== null) {\n            var page = graphics.page;\n            return page;\n        }\n        else {\n            var page = graphics.currentPage;\n            return page;\n        }\n    };\n    return PdfAutomaticField;\n}(PdfGraphicsElement));\nexport { PdfAutomaticField };\n","/**\n * PdfAutomaticFieldInfo.ts class for EJ2-PDF\n * @private\n */\nimport { PointF } from './../../drawing/pdf-drawing';\nimport { PdfAutomaticField } from './automatic-field';\n/**\n * Represents information about the automatic field.\n * @private\n */\nvar PdfAutomaticFieldInfo = /** @class */ (function () {\n    function PdfAutomaticFieldInfo(field, location, scaleX, scaleY) {\n        // Fields\n        /**\n         * Internal variable to store location of the field.\n         * @private\n         */\n        this.pageNumberFieldLocation = new PointF();\n        /**\n         * Internal variable to store field.\n         * @private\n         */\n        this.pageNumberField = null;\n        /**\n         * Internal variable to store x scaling factor.\n         * @private\n         */\n        this.scaleX = 1;\n        /**\n         * Internal variable to store y scaling factor.\n         * @private\n         */\n        this.scaleY = 1;\n        if (typeof location === 'undefined' && field instanceof PdfAutomaticFieldInfo) {\n            this.pageNumberField = field.field;\n            this.pageNumberFieldLocation = field.location;\n            this.scaleX = field.scalingX;\n            this.scaleY = field.scalingY;\n        }\n        else if (typeof scaleX === 'undefined' && location instanceof PointF && field instanceof PdfAutomaticField) {\n            this.pageNumberField = field;\n            this.pageNumberFieldLocation = location;\n        }\n        else {\n            this.pageNumberField = field;\n            this.pageNumberFieldLocation = location;\n            this.scaleX = scaleX;\n            this.scaleY = scaleY;\n        }\n    }\n    Object.defineProperty(PdfAutomaticFieldInfo.prototype, \"location\", {\n        /* tslint:enable */\n        // Properties\n        /**\n         * Gets or sets the location.\n         * @private\n         */\n        get: function () {\n            return this.pageNumberFieldLocation;\n        },\n        set: function (value) {\n            this.pageNumberFieldLocation = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAutomaticFieldInfo.prototype, \"field\", {\n        /**\n         * Gets or sets the field.\n         * @private\n         */\n        get: function () {\n            return this.pageNumberField;\n        },\n        set: function (value) {\n            this.pageNumberField = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAutomaticFieldInfo.prototype, \"scalingX\", {\n        /**\n         * Gets or sets the scaling X factor.\n         * @private\n         */\n        get: function () {\n            return this.scaleX;\n        },\n        set: function (value) {\n            this.scaleX = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAutomaticFieldInfo.prototype, \"scalingY\", {\n        /**\n         * Gets or sets the scaling Y factor.\n         * @private\n         */\n        get: function () {\n            return this.scaleY;\n        },\n        set: function (value) {\n            this.scaleY = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfAutomaticFieldInfo;\n}());\nexport { PdfAutomaticFieldInfo };\n","/**\n * PdfGraphics.ts class for EJ2-PDF\n */\nimport { PdfColorSpace, TextRenderingMode, PdfFillMode, PdfTextAlignment } from './enum';\nimport { PdfVerticalAlignment, PdfBlendMode } from './enum';\nimport { PdfSubSuperScript } from './fonts/enum';\nimport { PdfStreamWriter } from './../input-output/pdf-stream-writer';\nimport { PdfPen } from './pdf-pen';\nimport { PdfBrush } from './brushes/pdf-brush';\nimport { PdfSolidBrush } from './brushes/pdf-solid-brush';\nimport { PdfFont } from './fonts/pdf-font';\nimport { PdfTransformationMatrix } from './pdf-transformation-matrix';\nimport { PointF, SizeF, RectangleF } from './../drawing/pdf-drawing';\nimport { ProcedureSets } from './constants';\nimport { PdfString } from './../primitives/pdf-string';\nimport { PdfStringFormat } from './fonts/pdf-string-format';\nimport { TemporaryDictionary } from './../collections/object-object-pair/dictionary';\nimport { PdfTransparency } from './pdf-transparency';\nimport { PdfStringLayouter, LineType } from './fonts/string-layouter';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { StringTokenizer } from './fonts/string-tokenizer';\nimport { PdfAutomaticFieldInfoCollection } from './../document/automatic-fields/automatic-field-info-collection';\nimport { PdfAutomaticFieldInfo } from './../document/automatic-fields/automatic-field-info';\nimport { Operators } from './../input-output/pdf-operators';\n/**\n * `PdfGraphics` class represents a graphics context of the objects.\n * It's used for performing all the graphics operations.\n * ```typescript\n * // create a new PDF document\n * let document : PdfDocument = new PdfDocument();\n * // add a new page to the document\n * let page1 : PdfPage = document.pages.add();\n * // set the font\n * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n * // create black brush\n * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n * //\n * //graphics of the page\n * let page1Graphics : PdfGraphics = page1.graphics;\n * // draw the text on the page1 graphics\n * page1Graphics.drawString('Hello World', font, blackBrush, new PointF(0, 0));\n * //\n * // save the document\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n */\nvar PdfGraphics = /** @class */ (function () {\n    function PdfGraphics(arg1, arg2, arg3) {\n        /**\n         * Represents the `Current color space`.\n         * @private\n         */\n        this.currentColorSpace = PdfColorSpace.Rgb;\n        /**\n         * Stores `previous rendering mode`.\n         * @private\n         */\n        this.previousTextRenderingMode = TextRenderingMode.Fill;\n        /**\n         * Previous `character spacing` value or 0.\n         * @private\n         */\n        this.previousCharacterSpacing = 0.0;\n        /**\n         * Previous `word spacing` value or 0.\n         * @private\n         */\n        this.previousWordSpacing = 0.0;\n        /**\n         * The `previously used text scaling` value.\n         * @private\n         */\n        this.previousTextScaling = 100.0;\n        /**\n         * Instance of `ProcedureSets` class.\n         * @private\n         */\n        this.procedureSets = new ProcedureSets();\n        /**\n         * To check wihether it is a `direct text rendering`.\n         * @default true\n         * @private\n         */\n        this.isNormalRender = true;\n        /**\n         * check whether to `use font size` to calculate the shift.\n         * @default false\n         * @private\n         */\n        this.isUseFontSize = false;\n        /**\n         * check whether the font is in `italic type`.\n         * @default false\n         * @private\n         */\n        this.isItalic = false;\n        /**\n         * Check whether it is an `emf Text Matrix`.\n         * @default false\n         * @private\n         */\n        this.isEmfTextScaled = false;\n        /**\n         * Check whether it is an `emf` call.\n         * @default false\n         * @private\n         */\n        this.isEmf = false;\n        /**\n         * Check whether it is an `emf plus` call.\n         * @default false\n         * @private\n         */\n        this.isEmfPlus = false;\n        /**\n         * Check whether it is in `base line format`.\n         * @default true\n         * @private\n         */\n        this.isBaselineFormat = true;\n        /**\n         * Emf Text `Scaling Factor`.\n         * @private\n         */\n        this.emfScalingFactor = new SizeF(0, 0);\n        /**\n         * To check whether the `last color space` of document and garphics is saved.\n         * @private\n         */\n        this.colorSpaceChanged = false;\n        /**\n         * Stores an instance of `DictionaryProperties`.\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        /**\n         * Checks whether the x co-ordinate is need to set as client size or not.\n         * @hidden\n         * @private\n         */\n        this.isOverloadWithPosition = false;\n        /**\n         * Checks whether the x co-ordinate is need to set as client size or not.\n         * @hidden\n         * @private\n         */\n        this.isPointOverload = false;\n        /**\n         * Current colorspaces.\n         * @hidden\n         * @private\n         */\n        this.currentColorSpaces = ['RGB', 'CMYK', 'GrayScale', 'Indexed'];\n        /**\n         * Checks the current image `is optimized` or not.\n         * @default false.\n         * @private\n         */\n        this.isImageOptimized = false;\n        /**\n         * Stores the `graphics states`.\n         * @private\n         */\n        this.graphicsState = [];\n        /**\n         * Indicates whether the object `had trasparency`.\n         * @default false\n         * @private\n         */\n        this.istransparencySet = false;\n        /**\n         * Stores the instance of `PdfAutomaticFieldInfoCollection` class .\n         * @default null\n         * @private\n         */\n        this.internalAutomaticFields = null;\n        /**\n         * Stores the index of the start line that should draw with in the next page.\n         * @private\n         */\n        this.startCutIndex = -1;\n        if (arg3 instanceof PdfStreamWriter) {\n            this.pdfStreamWriter = arg3;\n            this.getResources = arg2;\n            this.canvasSize = arg1;\n            this.initialize();\n        }\n        else {\n            this.constructor(arg1, arg2, new PdfStreamWriter(arg3));\n        }\n    }\n    Object.defineProperty(PdfGraphics.prototype, \"stringLayoutResult\", {\n        //  Properties\n        /**\n         * Returns the `result` after drawing string.\n         * @private\n         */\n        get: function () {\n            return this.pdfStringLayoutResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphics.prototype, \"size\", {\n        /**\n         * Gets the `size` of the canvas.\n         * @private\n         */\n        get: function () {\n            return this.canvasSize;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphics.prototype, \"mediaBoxUpperRightBound\", {\n        /**\n         * Gets and Sets the value of `MediaBox upper right bound`.\n         * @private\n         */\n        get: function () {\n            if (typeof this.internalMediaBoxUpperRightBound === 'undefined') {\n                this.internalMediaBoxUpperRightBound = 0;\n            }\n            return this.internalMediaBoxUpperRightBound;\n        },\n        set: function (value) {\n            this.internalMediaBoxUpperRightBound = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphics.prototype, \"clientSize\", {\n        /**\n         * Gets the `size` of the canvas reduced by margins and page templates.\n         * @private\n         */\n        get: function () {\n            return new SizeF(this.clipBounds.width, this.clipBounds.height);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphics.prototype, \"colorSpace\", {\n        /**\n         * Gets or sets the current `color space` of the document\n         * @private\n         */\n        get: function () {\n            return this.currentColorSpace;\n        },\n        set: function (value) {\n            this.currentColorSpace = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphics.prototype, \"streamWriter\", {\n        /**\n         * Gets the `stream writer`.\n         * @private\n         */\n        get: function () {\n            return this.pdfStreamWriter;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphics.prototype, \"matrix\", {\n        /**\n         * Gets the `transformation matrix` reflecting current transformation.\n         * @private\n         */\n        get: function () {\n            if (this.transformationMatrix == null) {\n                this.transformationMatrix = new PdfTransformationMatrix();\n            }\n            return this.transformationMatrix;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphics.prototype, \"layer\", {\n        /**\n         * Gets the `layer` for the graphics, if exists.\n         * @private\n         */\n        get: function () {\n            return this.pageLayer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphics.prototype, \"page\", {\n        /**\n         * Gets the `page` for this graphics, if exists.\n         * @private\n         */\n        get: function () {\n            return this.pageLayer.page;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphics.prototype, \"automaticFields\", {\n        get: function () {\n            if (this.internalAutomaticFields == null || typeof this.internalAutomaticFields === 'undefined') {\n                this.internalAutomaticFields = new PdfAutomaticFieldInfoCollection();\n            }\n            return this.internalAutomaticFields;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Initializes` this instance.\n     * @private\n     */\n    PdfGraphics.prototype.initialize = function () {\n        this.bStateSaved = false;\n        this.currentPen = null;\n        this.currentBrush = null;\n        this.currentFont = null;\n        this.currentColorSpace = PdfColorSpace.Rgb;\n        this.bCSInitialized = false;\n        this.transformationMatrix = null;\n        this.previousTextRenderingMode = (-1); //.Fill;\n        this.previousCharacterSpacing = -1.0;\n        this.previousWordSpacing = -1.0;\n        this.previousTextScaling = -100.0;\n        // this.m_trasparencies = null;\n        this.currentStringFormat = null;\n        this.clipBounds = new RectangleF(new PointF(0, 0), this.size);\n        this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf);\n    };\n    PdfGraphics.prototype.drawPdfTemplate = function (template, location, size) {\n        if (typeof size === 'undefined') {\n            if (template == null) {\n                throw Error('ArgumentNullException-template');\n            }\n            this.drawPdfTemplate(template, location, template.size);\n        }\n        else {\n            // let crossTable : PdfCrossTable = null;\n            // if (this.pageLayer != null) {\n            //     crossTable = (this.page as PdfPage).section.parentDocument.crossTable;\n            // }\n            if (template == null) {\n                throw Error('ArgumentNullException-template');\n            }\n            var scaleX = (template.width > 0) ? size.width / template.width : 1;\n            var scaleY = (template.height > 0) ? size.height / template.height : 1;\n            var bNeedScale = !(scaleX === 1 && scaleY === 1);\n            // Save state.\n            var state = this.save();\n            // Take into consideration that rect location is bottom/left.\n            var matrix = new PdfTransformationMatrix();\n            if (this.pageLayer != null) {\n                this.getTranslateTransform(location.x, location.y + size.height, matrix);\n            }\n            if (bNeedScale) {\n                this.getScaleTransform(scaleX, scaleY, matrix);\n            }\n            this.pdfStreamWriter.modifyCtm(matrix);\n            // Output template.\n            var resources = this.getResources.getResources();\n            var name_1 = resources.getName(template);\n            this.pdfStreamWriter.executeObject(name_1);\n            // Restore state.\n            this.restore(state);\n            //Transfer automatic fields from template.\n            var g = template.graphics;\n            if (g != null) {\n                for (var index = 0; index < g.automaticFields.automaticFields.length; index++) {\n                    var fieldInfo = g.automaticFields.automaticFields[index];\n                    var newLocation = new PointF(fieldInfo.location.x + location.x, fieldInfo.location.y + location.y);\n                    var scalingX = template.size.width == 0 ? 0 : size.width / template.size.width;\n                    var scalingY = template.size.height == 0 ? 0 : size.height / template.size.height;\n                    this.automaticFields.add(new PdfAutomaticFieldInfo(fieldInfo.field, newLocation, scalingX, scalingY));\n                    this.page.dictionary.modify();\n                }\n            }\n            this.getResources.getResources().requireProcedureSet(this.procedureSets.imageB);\n            this.getResources.getResources().requireProcedureSet(this.procedureSets.imageC);\n            this.getResources.getResources().requireProcedureSet(this.procedureSets.imageI);\n            this.getResources.getResources().requireProcedureSet(this.procedureSets.text);\n        }\n    };\n    /* tslint:disable */\n    /**\n     * @public\n     */\n    PdfGraphics.prototype.drawString = function (arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, arg9) {\n        if (typeof arg1 === 'string' && arg2 instanceof PdfFont && (arg3 instanceof PdfPen || arg3 === null) && (arg4 instanceof PdfBrush || arg4 === null) && typeof arg5 === 'number' && typeof arg6 === 'number' && (arg7 instanceof PdfStringFormat || arg7 === null) && typeof arg8 === 'undefined') {\n            this.isOverloadWithPosition = true;\n            this.drawString(arg1, arg2, arg3, arg4, arg5, arg6, (this.clientSize.width - arg5), 0, arg7);\n        }\n        else {\n            var temparg3 = arg3;\n            var temparg4 = arg4;\n            var temparg5 = arg5;\n            var temparg6 = arg6;\n            var temparg7 = arg7;\n            var temparg8 = arg8;\n            var temparg9 = arg9;\n            var layouter = new PdfStringLayouter();\n            var result = layouter.layout(arg1, arg2, temparg9, new SizeF(temparg7, 0), this.isOverloadWithPosition, this.clientSize);\n            if (!result.empty) {\n                var rect = this.checkCorrectLayoutRectangle(result.actualSize, temparg5, temparg6, temparg9);\n                if (temparg7 <= 0) {\n                    temparg5 = rect.x;\n                    temparg7 = rect.width;\n                }\n                if (temparg8 <= 0) {\n                    temparg6 = rect.y;\n                    temparg8 = rect.height;\n                }\n                this.drawStringLayoutResult(result, arg2, temparg3, temparg4, new RectangleF(temparg5, temparg6, temparg7, temparg8), temparg9);\n                this.isEmfTextScaled = false;\n                this.emfScalingFactor = new SizeF(0, 0);\n            }\n            this.getResources.getResources().requireProcedureSet(this.procedureSets.text);\n            this.isNormalRender = true;\n            this.pdfStringLayoutResult = result;\n            this.isUseFontSize = false;\n        }\n    }; /* tslint:enable */\n    PdfGraphics.prototype.drawLine = function (arg1, arg2, arg3, arg4, arg5) {\n        if (arg2 instanceof PointF) {\n            var temparg2 = arg2;\n            var temparg3 = arg3;\n            this.drawLine(arg1, temparg2.x, temparg2.y, temparg3.x, temparg3.y);\n        }\n        else {\n            var temparg2 = arg2;\n            var temparg3 = arg3;\n            var temparg4 = arg4;\n            var temparg5 = arg5;\n            this.stateControl(arg1, null, null);\n            var sw = this.streamWriter;\n            sw.beginPath(temparg2, temparg3);\n            sw.appendLineSegment(temparg4, temparg5);\n            sw.strokePath();\n            this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf);\n        }\n    };\n    /* tslint:disable */\n    PdfGraphics.prototype.drawRectangle = function (arg1, arg2, arg3, arg4, arg5, arg6) {\n        if (arg1 instanceof PdfPen && typeof arg2 === 'number') {\n            var temparg3 = arg3;\n            this.drawRectangle(arg1, null, arg2, temparg3, arg4, arg5);\n        }\n        else if (arg1 instanceof PdfBrush && typeof arg2 === 'number') {\n            var temparg3 = arg3;\n            this.drawRectangle(null, arg1, arg2, temparg3, arg4, arg5);\n        }\n        else {\n            var temparg3 = arg3;\n            var temparg4 = arg4;\n            var temparg5 = arg5;\n            var temparg6 = arg6;\n            if (arg2 instanceof PdfSolidBrush && arg2.color.isEmpty) {\n                arg2 = null;\n            }\n            var temparg1 = arg1;\n            var temparg2 = arg2;\n            this.stateControl(temparg1, temparg2, null);\n            this.streamWriter.appendRectangle(temparg3, temparg4, temparg5, temparg6);\n            this.drawPath(temparg1, temparg2, false);\n        }\n    };\n    PdfGraphics.prototype.drawPath = function (arg1, arg2, arg3, arg4) {\n        if (typeof arg3 === 'boolean') {\n            var temparg3 = arg3;\n            this.drawPath(arg1, arg2, PdfFillMode.Winding, temparg3);\n        }\n        else {\n            var temparg3 = arg3;\n            var temparg4 = arg4;\n            var isPen = arg1 != null;\n            var isBrush = arg2 != null;\n            var isEvenOdd = (temparg3 === PdfFillMode.Alternate);\n            if (isPen && isBrush) {\n                this.streamWriter.fillStrokePath(isEvenOdd);\n            }\n            else if (!isPen && !isBrush) {\n                this.streamWriter.endPath();\n            }\n            else if (isPen) {\n                this.streamWriter.strokePath();\n            }\n            else {\n                this.streamWriter.fillPath(isEvenOdd);\n            }\n        }\n    };\n    /* tslint:disable */\n    PdfGraphics.prototype.drawImage = function (arg1, arg2, arg3, arg4, arg5) {\n        if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            var size = arg1.physicalDimension;\n            this.drawImage(arg1, arg2, arg3, size.width, size.height);\n        }\n        else {\n            var temparg2 = arg2;\n            var temparg3 = arg3;\n            var temparg4 = arg4;\n            var temparg5 = arg5;\n            arg1.save();\n            var matrix = new PdfTransformationMatrix();\n            this.getTranslateTransform(temparg2, (temparg3 + temparg5), matrix);\n            this.getScaleTransform(arg4, arg5, matrix);\n            this.pdfStreamWriter.write('q');\n            this.pdfStreamWriter.modifyCtm(matrix);\n            // Output template.\n            var resources = this.getResources.getResources();\n            if (typeof this.pageLayer !== 'undefined' && this.page != null) {\n                resources.document = this.page.document;\n            }\n            var name_2 = resources.getName(arg1);\n            if (typeof this.pageLayer !== 'undefined') {\n                this.page.setResources(resources);\n            }\n            this.pdfStreamWriter.executeObject(name_2);\n            this.pdfStreamWriter.write(Operators.restoreState);\n            this.pdfStreamWriter.write(Operators.newLine);\n            var resource = this.getResources.getResources();\n            resource.requireProcedureSet(this.procedureSets.imageB);\n            resource.requireProcedureSet(this.procedureSets.imageC);\n            resource.requireProcedureSet(this.procedureSets.imageI);\n            resource.requireProcedureSet(this.procedureSets.text);\n        }\n    };\n    //Implementation\n    /* tslint:disable */\n    /**\n     * Returns `bounds` of the line info.\n     * @private\n     */\n    PdfGraphics.prototype.getLineBounds = function (lineIndex, result, font, layoutRectangle, format) {\n        var bounds;\n        if (!result.empty && lineIndex < result.lineCount && lineIndex >= 0) {\n            var line = result.lines[lineIndex];\n            var vShift = this.getTextVerticalAlignShift(result.actualSize.height, layoutRectangle.height, format);\n            var y = vShift + layoutRectangle.y + (result.lineHeight * lineIndex);\n            var lineWidth = line.width;\n            var hShift = this.getHorizontalAlignShift(lineWidth, layoutRectangle.width, format);\n            var lineIndent = this.getLineIndent(line, format, layoutRectangle, (lineIndex === 0));\n            hShift += (!this.rightToLeft(format)) ? lineIndent : 0;\n            var x = layoutRectangle.x + hShift;\n            /* tslint:disable */\n            var width = (!this.shouldJustify(line, layoutRectangle.width, format)) ? lineWidth - lineIndent : layoutRectangle.width - lineIndent; /* tslint:enable */\n            var height = result.lineHeight;\n            bounds = new RectangleF(x, y, width, height);\n        }\n        else {\n            bounds = new RectangleF(0, 0, 0, 0);\n        }\n        return bounds;\n    };\n    /**\n     * Creates `lay outed rectangle` depending on the text settings.\n     * @private\n     */\n    PdfGraphics.prototype.checkCorrectLayoutRectangle = function (textSize, x, y, format) {\n        var layoutedRectangle = new RectangleF(x, y, textSize.width, textSize.width);\n        if (format != null) {\n            switch (format.alignment) {\n                case PdfTextAlignment.Center:\n                    layoutedRectangle.x -= layoutedRectangle.width / 2;\n                    break;\n                case PdfTextAlignment.Right:\n                    layoutedRectangle.x -= layoutedRectangle.width;\n                    break;\n            }\n            switch (format.lineAlignment) {\n                case PdfVerticalAlignment.Middle:\n                    layoutedRectangle.y -= layoutedRectangle.height / 2;\n                    break;\n                case PdfVerticalAlignment.Bottom:\n                    layoutedRectangle.y -= layoutedRectangle.height;\n                    break;\n            }\n        }\n        return layoutedRectangle;\n    };\n    /**\n     * Sets the `layer` for the graphics.\n     * @private\n     */\n    PdfGraphics.prototype.setLayer = function (layer) {\n        this.pageLayer = layer;\n        var page = layer.page;\n        if (page != null && typeof page !== 'undefined') {\n            page.beginSave = this.pageSave;\n        }\n    };\n    /**\n     * Adding page number field before page saving.\n     * @private\n     */\n    /* tslint:disable */\n    PdfGraphics.prototype.pageSave = function (page) {\n        if (page.graphics.automaticFields != null) {\n            for (var i = 0; i < page.graphics.automaticFields.automaticFields.length; i++) {\n                var fieldInfo = page.graphics.automaticFields.automaticFields[i];\n                fieldInfo.field.performDraw(page.graphics, fieldInfo.location, fieldInfo.scalingX, fieldInfo.scalingY);\n            }\n        }\n    };\n    /**\n     * `Draws a layout result`.\n     * @private\n     */\n    PdfGraphics.prototype.drawStringLayoutResult = function (result, font, pen, brush, layoutRectangle, format) {\n        if (!result.empty) {\n            this.applyStringSettings(font, pen, brush, format, layoutRectangle);\n            // Set text scaling\n            var textScaling = (format != null) ? format.horizontalScalingFactor : 100.0;\n            if (textScaling !== this.previousTextScaling && !this.isEmfTextScaled) {\n                this.pdfStreamWriter.setTextScaling(textScaling);\n                this.previousTextScaling = textScaling;\n            }\n            var height = (format == null || format.lineSpacing === 0) ? font.height : format.lineSpacing + font.height;\n            var subScript = (format != null && format.subSuperScript === PdfSubSuperScript.SubScript);\n            var shift = 0;\n            shift = (subScript) ? height - (font.height + font.metrics.getDescent(format)) : (height - font.metrics.getAscent(format));\n            this.shift = shift;\n            this.pdfStreamWriter.startNextLine(layoutRectangle.x, layoutRectangle.y - shift);\n            this.pdfStreamWriter.setLeading(+height);\n            var resultHeight = 0;\n            var remainingString = '';\n            for (var i = 0; i < result.lines.length; i++) {\n                resultHeight += result.lineHeight;\n                if ((layoutRectangle.y + resultHeight) > this.clientSize.height) {\n                    this.startCutIndex = i;\n                    break;\n                }\n            }\n            for (var j = this.startCutIndex; (j < result.lines.length && j >= 0); j++) {\n                remainingString += result.lines[j].text;\n            }\n            var bounds = new RectangleF(layoutRectangle.x, layoutRectangle.y, layoutRectangle.width, layoutRectangle.height);\n            this.drawLayoutResult(result, font, format, layoutRectangle);\n            this.underlineStrikeoutText(pen, brush, result, font, bounds, format);\n            this.isEmfPlus = false;\n            this.isUseFontSize = false;\n            if (this.startCutIndex !== -1) {\n                var page = this.getNextPage();\n                page.graphics.drawString(remainingString, font, pen, brush, layoutRectangle.x, 0, layoutRectangle.width, 0, format);\n            }\n        }\n        else {\n            throw new Error('ArgumentNullException:result');\n        }\n    };\n    /**\n     * Gets the `next page`.\n     * @private\n     */\n    PdfGraphics.prototype.getNextPage = function () {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        return nextPage;\n    };\n    PdfGraphics.prototype.setClip = function (rectangle, mode) {\n        if (typeof mode === 'undefined') {\n            this.setClip(rectangle, PdfFillMode.Winding);\n        }\n        else {\n            this.pdfStreamWriter.appendRectangle(rectangle);\n            this.pdfStreamWriter.clipPath((mode === PdfFillMode.Alternate));\n        }\n    };\n    /**\n     * Applies all the `text settings`.\n     * @private\n     */\n    PdfGraphics.prototype.applyStringSettings = function (font, pen, brush, format, bounds) {\n        var setLineWidth = false;\n        var tm = this.getTextRenderingMode(pen, brush, format);\n        this.stateControl(pen, brush, font, format);\n        this.pdfStreamWriter.beginText();\n        if ((tm) !== this.previousTextRenderingMode) {\n            this.pdfStreamWriter.setTextRenderingMode(tm);\n            this.previousTextRenderingMode = tm;\n        }\n        // Set character spacing.\n        var cs = (format != null) ? format.characterSpacing : 0;\n        if (cs !== this.previousCharacterSpacing && !this.isEmfTextScaled) {\n            this.pdfStreamWriter.setCharacterSpacing(cs);\n            this.previousCharacterSpacing = cs;\n        }\n        // Set word spacing.\n        // NOTE: it works only if the space code is equal to 32 (0x20).\n        var ws = (format != null) ? format.wordSpacing : 0;\n        if (ws !== this.previousWordSpacing) {\n            this.pdfStreamWriter.setWordSpacing(ws);\n            this.previousWordSpacing = ws;\n        }\n    };\n    /**\n     * Calculates `shift value` if the text is vertically aligned.\n     * @private\n     */\n    PdfGraphics.prototype.getTextVerticalAlignShift = function (textHeight, boundsHeight, format) {\n        var shift = 0;\n        if (boundsHeight >= 0 && format != null && format.lineAlignment !== PdfVerticalAlignment.Top) {\n            switch (format.lineAlignment) {\n                case PdfVerticalAlignment.Middle:\n                    shift = (boundsHeight - textHeight) / 2;\n                    break;\n                case PdfVerticalAlignment.Bottom:\n                    shift = boundsHeight - textHeight;\n                    break;\n            }\n        }\n        return shift;\n    };\n    /* tslint:disable */\n    /**\n     * `Draws layout result`.\n     * @private\n     */\n    PdfGraphics.prototype.drawLayoutResult = function (result, font, format, layoutRectangle) {\n        var vAlignShift = this.getTextVerticalAlignShift(result.actualSize.height, layoutRectangle.height, format);\n        if (vAlignShift !== 0) {\n            this.pdfStreamWriter.startNextLine(0, vAlignShift);\n        }\n        var lines = result.lines;\n        for (var i = 0, len = lines.length; (i < len && i !== this.startCutIndex); i++) {\n            var lineInfo = lines[i];\n            var line = lineInfo.text;\n            var lineWidth = lineInfo.width;\n            var hAlignShift = this.getHorizontalAlignShift(lineWidth, layoutRectangle.width, format);\n            var lineIndent = this.getLineIndent(lineInfo, format, layoutRectangle, (i === 0));\n            hAlignShift += (!this.rightToLeft(format)) ? lineIndent : 0;\n            if (hAlignShift !== 0 && !this.isEmfTextScaled) {\n                this.pdfStreamWriter.startNextLine(hAlignShift, 0);\n            }\n            this.drawAsciiLine(lineInfo, layoutRectangle, font, format);\n            if (hAlignShift !== 0 && !this.isEmfTextScaled) {\n                this.pdfStreamWriter.startNextLine(-hAlignShift, 0);\n            }\n            if (this.isOverloadWithPosition && lines.length > 1) {\n                this.pdfStreamWriter.startNextLine(-(layoutRectangle.x), 0);\n                layoutRectangle.x = 0;\n                layoutRectangle.width = this.clientSize.width;\n                this.isOverloadWithPosition = false;\n                this.isPointOverload = true;\n            }\n        }\n        this.getResources.getResources().requireProcedureSet(this.procedureSets.text);\n        if (vAlignShift !== 0) {\n            this.pdfStreamWriter.startNextLine(0, -(vAlignShift - result.lineHeight));\n        }\n        this.pdfStreamWriter.endText();\n    };\n    /**\n     * `Draws Ascii line`.\n     * @private\n     */\n    PdfGraphics.prototype.drawAsciiLine = function (lineInfo, layoutRectangle, font, format) {\n        this.justifyLine(lineInfo, layoutRectangle.width, format);\n        var value = '';\n        if (lineInfo.text.indexOf('(') !== -1 || lineInfo.text.indexOf(')') !== -1) {\n            for (var i = 0; i < lineInfo.text.length; i++) {\n                if (lineInfo.text[i] === '(') {\n                    value += '\\\\\\(';\n                }\n                else if (lineInfo.text[i] === ')') {\n                    value += '\\\\\\)';\n                }\n                else {\n                    value += lineInfo.text[i];\n                }\n            }\n        }\n        if (value === '') {\n            value = lineInfo.text;\n        }\n        var line = '(' + value + ')';\n        this.pdfStreamWriter.showNextLineText(new PdfString(line));\n    };\n    /**\n     * `Justifies` the line if needed.\n     * @private\n     */\n    PdfGraphics.prototype.justifyLine = function (lineInfo, boundsWidth, format) {\n        var line = lineInfo.text;\n        var lineWidth = lineInfo.width;\n        var shouldJustify = this.shouldJustify(lineInfo, boundsWidth, format);\n        var hasWordSpacing = (format != null && format.wordSpacing !== 0);\n        var symbols = StringTokenizer.spaces;\n        var whitespacesCount = StringTokenizer.getCharsCount(line, symbols);\n        var wordSpace = 0;\n        if (shouldJustify) {\n            // Correct line width.\n            if (hasWordSpacing) {\n                lineWidth -= (whitespacesCount * format.wordSpacing);\n            }\n            var difference = boundsWidth - lineWidth;\n            wordSpace = difference / whitespacesCount;\n            this.pdfStreamWriter.setWordSpacing(wordSpace);\n        }\n        else {\n            // If there is justifying, but the line shouldn't be justified, restore default word spacing.\n            if (hasWordSpacing) {\n                this.pdfStreamWriter.setWordSpacing(format.wordSpacing);\n            }\n            else {\n                this.pdfStreamWriter.setWordSpacing(0);\n            }\n        }\n        return wordSpace;\n    };\n    /**\n     * `Reset` or reinitialize the current graphic value.\n     * @private\n     */\n    PdfGraphics.prototype.reset = function (size) {\n        this.canvasSize = size;\n        this.streamWriter.clear();\n        this.initialize();\n        this.initializeCoordinates();\n    };\n    /**\n     * Checks whether the line should be `justified`.\n     * @private\n     */\n    PdfGraphics.prototype.shouldJustify = function (lineInfo, boundsWidth, format) {\n        var line = lineInfo.text;\n        var lineWidth = lineInfo.width;\n        var justifyStyle = (format != null && format.alignment === PdfTextAlignment.Justify);\n        var goodWidth = (boundsWidth >= 0 && lineWidth < boundsWidth);\n        var symbols = StringTokenizer.spaces;\n        var whitespacesCount = StringTokenizer.getCharsCount(line, symbols);\n        var hasSpaces = (whitespacesCount > 0 && line[0] !== StringTokenizer.whiteSpace);\n        var goodLineBreakStyle = ((lineInfo.lineType & LineType.LayoutBreak) > 0);\n        /* tslint:disable */\n        var shouldJustify = (justifyStyle && goodWidth && hasSpaces && (goodLineBreakStyle || format.alignment === PdfTextAlignment.Justify)); /* tslint:enable */\n        return shouldJustify;\n    };\n    /* tslint:disable */\n    /**\n     * Emulates `Underline, Strikeout` of the text if needed.\n     * @private\n     */\n    PdfGraphics.prototype.underlineStrikeoutText = function (pen, brush, result, font, layoutRectangle, format) {\n        if (font.underline || font.strikeout) {\n            // Calculate line width.\n            var linePen = this.createUnderlineStikeoutPen(pen, brush, font, format);\n            if (linePen != null) {\n                // Approximate line positions.\n                var vShift = this.getTextVerticalAlignShift(result.actualSize.height, layoutRectangle.height, format);\n                var underlineYOffset = 0;\n                underlineYOffset = layoutRectangle.y + vShift + font.metrics.getAscent(format) + 1.5 * linePen.width;\n                var strikeoutYOffset = layoutRectangle.y + vShift + font.metrics.getHeight(format) / 2 + 1.5 * linePen.width;\n                var lines = result.lines;\n                // Run through the text and draw lines.\n                for (var i = 0, len = result.lineCount; i < len; i++) {\n                    var lineInfo = lines[i];\n                    var line = lineInfo.text;\n                    var lineWidth = lineInfo.width;\n                    var hShift = this.getHorizontalAlignShift(lineWidth, layoutRectangle.width, format);\n                    var lineIndent = this.getLineIndent(lineInfo, format, layoutRectangle, (i === 0));\n                    hShift += (!this.rightToLeft(format)) ? lineIndent : 0;\n                    var x1 = layoutRectangle.x + hShift;\n                    /* tslint:disable */\n                    var x2 = (!this.shouldJustify(lineInfo, layoutRectangle.width, format)) ? x1 + lineWidth - lineIndent : x1 + layoutRectangle.width - lineIndent;\n                    /* tslint:enable */\n                    if (font.underline) {\n                        var y = underlineYOffset;\n                        this.drawLine(linePen, x1, y, x2, y);\n                        underlineYOffset += result.lineHeight;\n                    }\n                    if (font.strikeout) {\n                        var y = strikeoutYOffset;\n                        this.drawLine(linePen, x1, y, x2, y);\n                        strikeoutYOffset += result.lineHeight;\n                    }\n                    if (this.isPointOverload && lines.length > 1) {\n                        layoutRectangle.x = 0;\n                        layoutRectangle.width = this.clientSize.width;\n                    }\n                }\n                this.isPointOverload = false;\n            }\n        }\n    };\n    /**\n     * `Creates a pen` for drawing lines in the text.\n     * @private\n     */\n    PdfGraphics.prototype.createUnderlineStikeoutPen = function (pen, brush, font, format) {\n        // Calculate line width.\n        var lineWidth = font.metrics.getSize(format) / 20;\n        var linePen = null;\n        // Create a pen fo the lines.\n        if (pen != null) {\n            linePen = new PdfPen(pen.color, lineWidth);\n        }\n        else if (brush != null) {\n            linePen = new PdfPen(brush, lineWidth);\n        }\n        return linePen;\n    };\n    /**\n     * Return `text rendering mode`.\n     * @private\n     */\n    PdfGraphics.prototype.getTextRenderingMode = function (pen, brush, format) {\n        var tm = TextRenderingMode.None;\n        if (pen != null && brush != null) {\n            tm = TextRenderingMode.FillStroke;\n        }\n        else if (pen != null) {\n            tm = TextRenderingMode.Stroke;\n        }\n        else {\n            tm = TextRenderingMode.Fill;\n        }\n        if (format != null && format.clipPath) {\n            tm |= TextRenderingMode.ClipFlag;\n        }\n        return tm;\n    };\n    /**\n     * Returns `line indent` for the line.\n     * @private\n     */\n    PdfGraphics.prototype.getLineIndent = function (lineInfo, format, layoutBounds, firstLine) {\n        var lineIndent = 0;\n        var firstParagraphLine = ((lineInfo.lineType & LineType.FirstParagraphLine) > 0);\n        if (format != null && firstParagraphLine) {\n            lineIndent = (firstLine) ? format.firstLineIndent : format.paragraphIndent;\n            lineIndent = (layoutBounds.width > 0) ? Math.min(layoutBounds.width, lineIndent) : lineIndent;\n        }\n        return lineIndent;\n    };\n    /**\n     * Calculates shift value if the line is `horizontaly aligned`.\n     * @private\n     */\n    PdfGraphics.prototype.getHorizontalAlignShift = function (lineWidth, boundsWidth, format) {\n        var shift = 0;\n        if (boundsWidth >= 0 && format != null && format.alignment !== PdfTextAlignment.Left) {\n            switch (format.alignment) {\n                case PdfTextAlignment.Center:\n                    shift = (boundsWidth - lineWidth) / 2;\n                    break;\n                case PdfTextAlignment.Right:\n                    shift = boundsWidth - lineWidth;\n                    break;\n            }\n        }\n        return shift;\n    };\n    /**\n     * Gets or sets the value that indicates `text direction` mode.\n     * @private\n     */\n    PdfGraphics.prototype.rightToLeft = function (format) {\n        var rtl = (format != null && format.rightToLeft);\n        return rtl;\n    };\n    PdfGraphics.prototype.stateControl = function (pen, brush, font, format) {\n        if (typeof format === 'undefined') {\n            this.stateControl(pen, brush, font, null);\n        }\n        else {\n            var saveState = false;\n            if (brush !== null) {\n                var solidBrush = brush;\n                if (typeof this.pageLayer !== 'undefined' && this.pageLayer != null) {\n                    if (this.colorSpaceChanged === false) {\n                        this.lastDocumentCS = this.pageLayer.page.document.colorSpace;\n                        this.lastGraphicsCS = this.pageLayer.page.graphics.colorSpace;\n                        this.colorSpace = this.pageLayer.page.document.colorSpace;\n                        this.currentColorSpace = this.pageLayer.page.document.colorSpace;\n                        this.colorSpaceChanged = true;\n                    }\n                }\n                this.initCurrentColorSpace(this.currentColorSpace);\n            }\n            else if (pen != null) {\n                var pdfPen = pen;\n                if (typeof this.pageLayer !== 'undefined' && this.pageLayer != null) {\n                    /* tslint:disable */\n                    this.colorSpace = this.pageLayer.page.document.colorSpace;\n                    this.currentColorSpace = this.pageLayer.page.document.colorSpace;\n                }\n                this.initCurrentColorSpace(this.currentColorSpace);\n            }\n            this.penControl(pen, saveState);\n            this.brushControl(brush, saveState);\n            this.fontControl(font, format, saveState);\n        }\n    };\n    /**\n     * Initializes the `current color space`.\n     * @private\n     */\n    PdfGraphics.prototype.initCurrentColorSpace = function (colorspace) {\n        var re = this.getResources.getResources();\n        if (!this.bCSInitialized) {\n            this.pdfStreamWriter.setColorSpace('Device' + this.currentColorSpaces[this.currentColorSpace], true);\n            this.pdfStreamWriter.setColorSpace('Device' + this.currentColorSpaces[this.currentColorSpace], false);\n            this.bCSInitialized = true;\n        }\n    };\n    /**\n     * Controls the `pen state`.\n     * @private\n     */\n    PdfGraphics.prototype.penControl = function (pen, saveState) {\n        if (pen != null) {\n            this.currentPen = pen;\n            this.colorSpace = PdfColorSpace.Rgb;\n            /* tslint:disable */\n            pen.monitorChanges(this.currentPen, this.pdfStreamWriter, this.getResources, saveState, this.colorSpace, this.matrix.clone());\n            /* tslint:enable */\n            this.currentPen = pen.clone();\n        }\n    };\n    /**\n     * Controls the `brush state`.\n     * @private\n     */\n    PdfGraphics.prototype.brushControl = function (brush, saveState) {\n        if (brush != null) {\n            this.currentBrush = brush;\n            /* tslint:disable */\n            brush.monitorChanges(this.currentBrush, this.pdfStreamWriter, this.getResources, saveState, this.colorSpace);\n            /* tslint:enable */\n            this.currentBrush = brush;\n            brush = null;\n        }\n    };\n    /**\n     * Saves the font and other `font settings`.\n     * @private\n     */\n    PdfGraphics.prototype.fontControl = function (font, format, saveState) {\n        if (font != null) {\n            var curSubSuper = (format != null) ? format.subSuperScript : PdfSubSuperScript.None;\n            /* tslint:disable */\n            var prevSubSuper = (this.currentStringFormat != null) ? this.currentStringFormat.subSuperScript : PdfSubSuperScript.None; /* tslint:enable */\n            if (saveState || font !== this.currentFont || curSubSuper !== prevSubSuper) {\n                var resources = this.getResources.getResources();\n                this.currentFont = font;\n                this.currentStringFormat = format;\n                var size = font.metrics.getSize(format);\n                /* tslint:disable */\n                this.isEmfTextScaled = false;\n                var fontName = resources.getName(font);\n                this.pdfStreamWriter.setFont(font, fontName, size);\n            }\n        }\n    };\n    PdfGraphics.prototype.setTransparency = function (arg1, arg2, arg3) {\n        if (typeof arg2 === 'undefined') {\n            this.istransparencySet = true;\n            this.setTransparency(arg1, arg1, PdfBlendMode.Normal);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'undefined') {\n            this.setTransparency(arg1, arg2, PdfBlendMode.Normal);\n        }\n        else {\n            if (this.trasparencies == null) {\n                this.trasparencies = new TemporaryDictionary();\n            }\n            var transp = null;\n            var td = new TransparencyData(arg1, arg2, arg3);\n            if (this.trasparencies.containsKey(td)) {\n                transp = this.trasparencies.getValue(td);\n            }\n            if (transp == null) {\n                transp = new PdfTransparency(arg1, arg2, arg3);\n                this.trasparencies.setValue(td, transp);\n            }\n            var resources = this.getResources.getResources();\n            var name_3 = resources.getName(transp);\n            var sw = this.streamWriter;\n            sw.setGraphicsState(name_3);\n        }\n    };\n    PdfGraphics.prototype.clipTranslateMargins = function (x, y, left, top, right, bottom) {\n        if (x instanceof RectangleF && typeof y === 'undefined') {\n            this.clipBounds = x;\n            this.pdfStreamWriter.writeComment('Clip margins.');\n            this.pdfStreamWriter.appendRectangle(x);\n            this.pdfStreamWriter.closePath();\n            this.pdfStreamWriter.clipPath(false);\n            this.pdfStreamWriter.writeComment('Translate co-ordinate system.');\n            this.translateTransform(x.x, x.y);\n        }\n        else if (typeof x === 'number') {\n            var clipArea = new RectangleF(left, top, this.size.width - left - right, this.size.height - top - bottom);\n            this.clipBounds = clipArea;\n            this.pdfStreamWriter.writeComment(\"Clip margins.\");\n            this.pdfStreamWriter.appendRectangle(clipArea);\n            this.pdfStreamWriter.closePath();\n            this.pdfStreamWriter.clipPath(false);\n            this.pdfStreamWriter.writeComment(\"Translate co-ordinate system.\");\n            this.translateTransform(x, y);\n        }\n    };\n    /**\n     * `Updates y` co-ordinate.\n     * @private\n     */\n    PdfGraphics.prototype.updateY = function (y) {\n        return -y;\n    };\n    /**\n     * Used to `translate the transformation`.\n     * ```typescript\n     * // create a new PDF document\n     * let document : PdfDocument = new PdfDocument();\n     * // create a new page\n     * let page1 : PdfPage = document.pages.add();\n     * // set pen\n     * let pen : PdfPen = new PdfPen(new PdfColor(0, 0, 0));\n     * //\n     * // set translate transform\n     * page1.graphics.translateTransform(100, 100);\n     * //\n     * // draw the rectangle after applying translate transform\n     * page1.graphics.drawRectangle(pen, new RectangleF({x : 0, y : 0}, {width : 100, height : 50}));\n     * // save the document.\n     * document.save('output.pdf');\n     * // destroy the document\n     * document.destroy();\n     * ```\n     * @param offsetX The x-coordinate of the translation.\n     * @param offsetY The y-coordinate of the translation.\n     */\n    PdfGraphics.prototype.translateTransform = function (offsetX, offsetY) {\n        var matrix = new PdfTransformationMatrix();\n        this.getTranslateTransform(offsetX, offsetY, matrix);\n        this.pdfStreamWriter.modifyCtm(matrix);\n        this.matrix.multiply(matrix);\n    };\n    /**\n     * `Translates` coordinates of the input matrix.\n     * @private\n     */\n    PdfGraphics.prototype.getTranslateTransform = function (x, y, input) {\n        input.translate(x, this.updateY(y));\n        return input;\n    };\n    /* tslint:disable */\n    /**\n     * Applies the specified `scaling operation` to the transformation matrix of this Graphics by prepending it to the object's transformation matrix.\n     * ```typescript\n     * // create a new PDF document\n     * let document : PdfDocument = new PdfDocument();\n     * // create a new page\n     * let page1 : PdfPage = document.pages.add();\n     * // create pen\n     * let pen : PdfPen = new PdfPen(new PdfColor(0, 0, 0));\n     * //\n     * // apply scaling trasformation\n     * page1.graphics.scaleTransform(1.5, 2);\n     * //\n     * // draw the rectangle after applying scaling transform\n     * page1.graphics.drawRectangle(pen, new RectangleF({x : 100, y : 100}, {width : 100, height : 50}));\n     * // save the document.\n     * document.save('output.pdf');\n     * // destroy the document\n     * document.destroy();\n     * ```\n     * @param scaleX Scale factor in the x direction.\n     * @param scaleY Scale factor in the y direction.\n     */\n    /* tslint:enable */\n    PdfGraphics.prototype.scaleTransform = function (scaleX, scaleY) {\n        var matrix = new PdfTransformationMatrix();\n        this.getScaleTransform(scaleX, scaleY, matrix);\n        this.pdfStreamWriter.modifyCtm(matrix);\n        this.matrix.multiply(matrix);\n    };\n    /**\n     * `Scales` coordinates of the input matrix.\n     * @private\n     */\n    PdfGraphics.prototype.getScaleTransform = function (x, y, input) {\n        if (input == null) {\n            input = new PdfTransformationMatrix();\n        }\n        input.scale(x, y);\n        return input;\n    };\n    /**\n     * Applies the specified `rotation` to the transformation matrix of this Graphics.\n     * ```typescript\n     * // create a new PDF document\n     * let document : PdfDocument = new PdfDocument();\n     * // create a new page\n     * let page1 : PdfPage = document.pages.add();\n     * // create pen\n     * let pen : PdfPen = new PdfPen(new PdfColor(0, 0, 0));\n     * //\n     * // set RotateTransform with 25 degree of angle\n     * page1.graphics.rotateTransform(25);\n     * //\n     * // draw the rectangle after RotateTransformation\n     * page1.graphics.drawRectangle(pen, new RectangleF({x : 100, y : 100}, {width : 100, height : 50}));\n     * // save the document.\n     * document.save('output.pdf');\n     * // destroy the document\n     * document.destroy();\n     * ```\n     * @param angle Angle of rotation in degrees.\n     */\n    PdfGraphics.prototype.rotateTransform = function (angle) {\n        var matrix = new PdfTransformationMatrix();\n        this.getRotateTransform(angle, matrix);\n        this.pdfStreamWriter.modifyCtm(matrix);\n        this.matrix.multiply(matrix);\n    };\n    /**\n     * `Initializes coordinate system`.\n     * @private\n     */\n    PdfGraphics.prototype.initializeCoordinates = function () {\n        // Matrix equation: TM(T-1)=M', where T=[1 0 0 -1 0 h]\n        this.pdfStreamWriter.writeComment('Change co-ordinate system to left/top.');\n        // Translate co-ordinates only, don't flip.\n        if (this.mediaBoxUpperRightBound !== -(this.size.height)) {\n            if (this.cropBox == null) {\n                if (this.mediaBoxUpperRightBound === this.size.height || this.mediaBoxUpperRightBound === 0) {\n                    this.translateTransform(0, this.updateY(this.size.height));\n                }\n                else {\n                    this.translateTransform(0, this.updateY(this.mediaBoxUpperRightBound));\n                }\n            }\n        }\n    };\n    /**\n     * `Rotates` coordinates of the input matrix.\n     * @private\n     */\n    PdfGraphics.prototype.getRotateTransform = function (angle, input) {\n        if (input == null || typeof input === 'undefined') {\n            input = new PdfTransformationMatrix();\n        }\n        input.rotate(this.updateY(angle));\n        return input;\n    };\n    /**\n     * `Saves` the current state of this Graphics and identifies the saved state with a GraphicsState.\n     * ```typescript\n     * // create a new PDF document\n     * let document : PdfDocument = new PdfDocument();\n     * // create a new page\n     * let page1 : PdfPage = document.pages.add();\n     * // create pen\n     * let pen : PdfPen = new PdfPen(new PdfColor(0, 0, 0));\n     * //\n     * // save the graphics state\n     * let state1 : PdfGraphicsState = page1.graphics.save();\n     * //\n     * page1.graphics.scaleTransform(1.5, 2);\n     * // draw the rectangle\n     * page1.graphics.drawRectangle(pen, new RectangleF({x : 100, y : 100}, {width : 100, height : 50}));\n     * // restore the graphics state\n     * page1.graphics.restore(state1);\n     * // save the document.\n     * document.save('output.pdf');\n     * // destroy the document\n     * document.destroy();\n     * ```\n     */\n    PdfGraphics.prototype.save = function () {\n        var state = new PdfGraphicsState(this, this.matrix.clone());\n        state.brush = this.currentBrush;\n        state.pen = this.currentPen;\n        state.font = this.currentFont;\n        state.colorSpace = this.currentColorSpace;\n        state.characterSpacing = this.previousCharacterSpacing;\n        state.wordSpacing = this.previousWordSpacing;\n        state.textScaling = this.previousTextScaling;\n        state.textRenderingMode = this.previousTextRenderingMode;\n        this.graphicsState.push(state);\n        this.pdfStreamWriter.saveGraphicsState();\n        return state;\n    };\n    PdfGraphics.prototype.restore = function (state) {\n        if (typeof state === 'undefined') {\n            if (this.graphicsState.length > 0) {\n                this.doRestoreState();\n            }\n        }\n        else {\n            if (this.graphicsState.indexOf(state) !== -1) {\n                for (;;) {\n                    if (this.graphicsState.length === 0) {\n                        break;\n                    }\n                    var popState = this.doRestoreState();\n                    if (popState === state) {\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * `Restores graphics state`.\n     * @private\n     */\n    PdfGraphics.prototype.doRestoreState = function () {\n        var state = this.graphicsState.pop();\n        this.transformationMatrix = state.matrix;\n        this.currentBrush = state.brush;\n        this.currentPen = state.pen;\n        this.currentFont = state.font;\n        this.currentColorSpace = state.colorSpace;\n        this.previousCharacterSpacing = state.characterSpacing;\n        this.previousWordSpacing = state.wordSpacing;\n        this.previousTextScaling = state.textScaling;\n        this.previousTextRenderingMode = state.textRenderingMode;\n        this.pdfStreamWriter.restoreGraphicsState();\n        return state;\n    };\n    // Constants\n    /**\n     * Specifies the mask of `path type values`.\n     * @private\n     */\n    PdfGraphics.pathTypesValuesMask = 0xf;\n    /**\n     * Checks whether the object is `transparencyObject`.\n     * @hidden\n     * @private\n     */\n    PdfGraphics.transparencyObject = false;\n    return PdfGraphics;\n}());\nexport { PdfGraphics };\n/**\n * `GetResourceEventHandler` class is alternate for event handlers and delegates.\n * @private\n * @hidden\n */\nvar GetResourceEventHandler = /** @class */ (function () {\n    /**\n     * Initialize instance of `GetResourceEventHandler` class.\n     * Alternate for event handlers and delegates.\n     * @private\n     */\n    function GetResourceEventHandler(sender) {\n        this.sender = sender;\n    }\n    /**\n     * Return the instance of `PdfResources` class.\n     * @private\n     */\n    GetResourceEventHandler.prototype.getResources = function () {\n        return this.sender.getResources();\n    };\n    return GetResourceEventHandler;\n}());\nexport { GetResourceEventHandler };\nvar PdfGraphicsState = /** @class */ (function () {\n    function PdfGraphicsState(graphics, matrix) {\n        /**\n         * Stores `previous rendering mode`.\n         * @default TextRenderingMode.Fill\n         * @private\n         */\n        this.internalTextRenderingMode = TextRenderingMode.Fill;\n        /**\n         * `Previous character spacing` value or 0.\n         * @default 0.0\n         * @private\n         */\n        this.internalCharacterSpacing = 0.0;\n        /**\n         * `Previous word spacing` value or 0.\n         * @default 0.0\n         * @private\n         */\n        this.internalWordSpacing = 0.0;\n        /**\n         * The previously used `text scaling value`.\n         * @default 100.0\n         * @private\n         */\n        this.internalTextScaling = 100.0;\n        /**\n         * `Current color space`.\n         * @default PdfColorSpace.Rgb\n         * @private\n         */\n        this.pdfColorSpace = PdfColorSpace.Rgb;\n        if (typeof graphics !== 'undefined') {\n            this.pdfGraphics = graphics;\n            this.transformationMatrix = matrix;\n        }\n    }\n    Object.defineProperty(PdfGraphicsState.prototype, \"graphics\", {\n        // Properties\n        /**\n         * Gets the parent `graphics object`.\n         * @private\n         */\n        get: function () {\n            return this.pdfGraphics;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphicsState.prototype, \"matrix\", {\n        /**\n         * Gets the `current matrix`.\n         * @private\n         */\n        get: function () {\n            return this.transformationMatrix;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphicsState.prototype, \"characterSpacing\", {\n        /**\n         * Gets or sets the `current character spacing`.\n         * @private\n         */\n        get: function () {\n            return this.internalCharacterSpacing;\n        },\n        set: function (value) {\n            this.internalCharacterSpacing = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphicsState.prototype, \"wordSpacing\", {\n        /**\n         * Gets or sets the `word spacing` value.\n         * @private\n         */\n        get: function () {\n            return this.internalWordSpacing;\n        },\n        set: function (value) {\n            this.internalWordSpacing = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphicsState.prototype, \"textScaling\", {\n        /**\n         * Gets or sets the `text scaling` value.\n         * @private\n         */\n        get: function () {\n            return this.internalTextScaling;\n        },\n        set: function (value) {\n            this.internalTextScaling = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphicsState.prototype, \"pen\", {\n        /**\n         * Gets or sets the `current pen` object.\n         * @private\n         */\n        get: function () {\n            return this.pdfPen;\n        },\n        set: function (value) {\n            this.pdfPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphicsState.prototype, \"brush\", {\n        /**\n         * Gets or sets the `brush`.\n         * @private\n         */\n        get: function () {\n            return this.pdfBrush;\n        },\n        set: function (value) {\n            this.pdfBrush = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphicsState.prototype, \"font\", {\n        /**\n         * Gets or sets the `current font` object.\n         * @private\n         */\n        get: function () {\n            return this.pdfFont;\n        },\n        set: function (value) {\n            this.pdfFont = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphicsState.prototype, \"colorSpace\", {\n        /**\n         * Gets or sets the `current color space` value.\n         * @private\n         */\n        get: function () {\n            return this.pdfColorSpace;\n        },\n        set: function (value) {\n            this.pdfColorSpace = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGraphicsState.prototype, \"textRenderingMode\", {\n        /**\n         * Gets or sets the `text rendering mode`.\n         * @private\n         */\n        get: function () {\n            return this.internalTextRenderingMode;\n        },\n        set: function (value) {\n            this.internalTextRenderingMode = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGraphicsState;\n}());\nexport { PdfGraphicsState };\nvar TransparencyData = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initializes a new instance of the `TransparencyData` class.\n     * @private\n     */\n    function TransparencyData(alphaPen, alphaBrush, blendMode) {\n        this.alphaPen = alphaPen;\n        this.alphaBrush = alphaBrush;\n        this.blendMode = blendMode;\n    }\n    return TransparencyData;\n}());\n","import { PdfStream } from './../primitives/pdf-stream';\nimport { PdfGraphics, GetResourceEventHandler } from './../graphics/pdf-graphics';\nimport { PdfPageLayerCollection } from './pdf-page-layer-collection';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { PdfColorSpace } from './../graphics/enum';\n/**\n * The `PdfPageLayer` used to create layers in PDF document.\n * @private\n */\nvar PdfPageLayer = /** @class */ (function () {\n    function PdfPageLayer(page, streamClipPageTemplates) {\n        // private bSaved : boolean;\n        /**\n         * Local Variable to store the `color space` of the document.\n         * @private\n         */\n        this.pdfColorSpace = PdfColorSpace.Rgb;\n        /**\n         * Local Variable to set `visibility`.\n         * @default true\n         * @private\n         */\n        this.isVisible = true;\n        /**\n         * Indicates if `Sublayer` is present.\n         * @default false\n         * @private\n         */\n        this.sublayer = false;\n        /**\n         * Local variable to store `length` of the graphics.\n         * @default 0\n         * @private\n         */\n        this.contentLength = 0;\n        /**\n         * Instance for `PdfDictionaryProperties` Class.\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        if (typeof streamClipPageTemplates === 'undefined') {\n            this.pdfPage = page;\n            this.clipPageTemplates = true;\n            this.content = new PdfStream();\n        }\n        else if (streamClipPageTemplates instanceof PdfStream || streamClipPageTemplates === null) {\n            if (page == null) {\n                throw new Error('ArgumentNullException:page');\n            }\n            if (streamClipPageTemplates == null) {\n                throw new Error('ArgumentNullException:stream');\n            }\n            this.pdfPage = page;\n            this.content = streamClipPageTemplates;\n        }\n        else {\n            this.constructor(page);\n            this.clipPageTemplates = streamClipPageTemplates;\n        }\n    }\n    Object.defineProperty(PdfPageLayer.prototype, \"colorSpace\", {\n        // Properties\n        /**\n         * Get or set the `color space`.\n         * @private\n         */\n        get: function () {\n            return this.pdfColorSpace;\n        },\n        set: function (value) {\n            this.pdfColorSpace = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageLayer.prototype, \"page\", {\n        /**\n         * Gets parent `page` of the layer.\n         * @private\n         */\n        get: function () {\n            return this.pdfPage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageLayer.prototype, \"layerId\", {\n        /**\n         * Gets and Sets the `id of the layer`.\n         * @private\n         */\n        get: function () {\n            return this.layerid;\n        },\n        set: function (value) {\n            this.layerid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageLayer.prototype, \"name\", {\n        /**\n         * Gets or sets the `name` of the layer.\n         * @private\n         */\n        get: function () {\n            return this.layerName;\n        },\n        set: function (value) {\n            this.layerName = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageLayer.prototype, \"visible\", {\n        /**\n         * Gets or sets the `visibility` of the layer.\n         * @private\n         */\n        get: function () {\n            return this.isVisible;\n        },\n        set: function (value) {\n            this.isVisible = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageLayer.prototype, \"graphics\", {\n        /**\n         * Gets `Graphics` context of the layer, used to draw various graphical content on layer.\n         * @private\n         */\n        get: function () {\n            if ((this.pdfGraphics == null)) {\n                this.initializeGraphics(this.page);\n            }\n            return this.pdfGraphics;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageLayer.prototype, \"layers\", {\n        /**\n         * Gets the collection of `PdfPageLayer`, this collection handle by the class 'PdfPageLayerCollection'.\n         * @private\n         */\n        get: function () {\n            if (this.layer == null) {\n                this.layer = new PdfPageLayerCollection(this.page);\n                this.layer.sublayer = true;\n                return this.layer;\n            }\n            else {\n                return this.layer;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Adds` a new PDF Page layer.\n     * @private\n     */\n    PdfPageLayer.prototype.add = function () {\n        var layer = new PdfPageLayer(this.pdfPage);\n        layer.name = '';\n        return layer;\n    };\n    /**\n     * Returns a value indicating the `sign` of a single-precision floating-point number.\n     * @private\n     */\n    PdfPageLayer.prototype.sign = function (number) {\n        if (number === 0) {\n            return 0;\n        }\n        else if (number > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    };\n    /**\n     * `Initializes Graphics context` of the layer.\n     * @private\n     */\n    PdfPageLayer.prototype.initializeGraphics = function (page) {\n        var oPage = page;\n        var gr = new GetResourceEventHandler(this.page);\n        var cropBox = null;\n        this.pdfGraphics = new PdfGraphics(page.size, gr, this.content);\n        this.pdfGraphics.mediaBoxUpperRightBound = 0;\n        if (oPage != null) {\n            var sc = oPage.section.parent;\n            if (sc != null) {\n                this.pdfGraphics.colorSpace = sc.document.colorSpace;\n                this.colorSpace = sc.document.colorSpace;\n            }\n        }\n        // Transform coordinates to the left/top and activate margins.\n        var isSame = (this.sign(page.origin.y) === this.sign(page.origin.x));\n        // if (page != null) {\n        if (page.origin.x >= 0 && page.origin.y >= 0 || !(isSame)) {\n            this.pdfGraphics.initializeCoordinates();\n        }\n        else {\n            // this.m_graphics.InitializeCoordinates(page);\n        }\n        var clipRect = oPage.section.getActualBounds(oPage, true);\n        var margins = oPage.section.pageSettings.margins;\n        if (this.clipPageTemplates) {\n            if (page.origin.x >= 0 && page.origin.y >= 0) {\n                this.pdfGraphics.clipTranslateMargins(clipRect);\n            }\n        }\n        else {\n            this.graphics.clipTranslateMargins(clipRect.x, clipRect.y, margins.left, margins.top, margins.right, margins.bottom);\n        }\n        this.pdfGraphics.setLayer(this);\n        // this.bSaved = false;\n    };\n    Object.defineProperty(PdfPageLayer.prototype, \"element\", {\n        // IPdfWrapper Members\n        /**\n         * Gets the wrapped `element`.\n         * @private\n         */\n        get: function () {\n            return this.content;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPageLayer;\n}());\nexport { PdfPageLayer };\n","/**\n * PdfCollection.ts class for EJ2-PDF\n * The class used to handle the collection of PdF objects.\n */\nvar PdfCollection = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initializes a new instance of the `Collection` class.\n     * @private\n     */\n    function PdfCollection() {\n        //\n    }\n    Object.defineProperty(PdfCollection.prototype, \"count\", {\n        // Properties\n        /**\n         * Gets the `Count` of stored objects.\n         * @private\n         */\n        get: function () {\n            if (typeof this.collection === 'undefined') {\n                this.collection = [];\n            }\n            return this.collection.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfCollection.prototype, \"list\", {\n        /**\n         * Gets the `list` of stored objects.\n         * @private\n         */\n        get: function () {\n            if (typeof this.collection === 'undefined') {\n                this.collection = [];\n            }\n            return this.collection;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfCollection;\n}());\nexport { PdfCollection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfPageLayerCollection.ts class for EJ2-PDF\n */\nimport { PdfPageBase } from './pdf-page-base';\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { PdfPageLayer } from './pdf-page-layer';\nimport { PdfCollection } from './../general/pdf-collection';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfStream } from './../primitives/pdf-stream';\n/**\n * The class provides methods and properties to handle the collections of `PdfPageLayer`.\n */\nvar PdfPageLayerCollection = /** @class */ (function (_super) {\n    __extends(PdfPageLayerCollection, _super);\n    function PdfPageLayerCollection(page) {\n        var _this = _super.call(this) || this;\n        /**\n         * Stores the `number of first level layers` in the document.\n         * @default 0\n         * @private\n         */\n        _this.parentLayerCount = 0;\n        /**\n         * Indicates if `Sublayer` is present.\n         * @default false\n         * @private\n         */\n        _this.sublayer = false;\n        /**\n         * Stores the `optional content dictionary`.\n         * @private\n         */\n        _this.optionalContent = new PdfDictionary();\n        if (page instanceof PdfPageBase) {\n            // if (page == null) {\n            //     throw new Error('ArgumentNullException:page');\n            // }\n            _this.page = page;\n            var lPage = page;\n            // if (lPage != null) {\n            _this.parseLayers(lPage);\n            // }\n        }\n        return _this;\n    }\n    PdfPageLayerCollection.prototype.items = function (index, value) {\n        if (typeof index === 'number' && typeof value === 'undefined') {\n            var obj = this.list[index];\n            return obj;\n        }\n        else {\n            if (value == null) {\n                throw new Error('ArgumentNullException: layer');\n            }\n            if (value.page !== this.page) {\n                throw new Error('ArgumentException: The layer belongs to another page');\n            }\n            // // Add/remove the layer.\n            // let layer : PdfPageLayer = this.items(index);\n            // if (layer != null) {\n            //     this.RemoveLayer(layer);\n            // }\n            // this.List[index] = value;\n            // this.InsertLayer(index, value);\n        }\n    };\n    PdfPageLayerCollection.prototype.add = function (firstArgument, secondArgument) {\n        if (typeof firstArgument === 'undefined') {\n            var layer = new PdfPageLayer(this.page);\n            layer.name = '';\n            this.add(layer);\n            return layer;\n        }\n        else if (firstArgument instanceof PdfPageLayer) {\n            // if (layer == null)\n            //     throw new ArgumentNullException(\"layer\");\n            // if (layer.Page != m_page)\n            //     throw new ArgumentException(\"The layer belongs to another page\");\n            var index = this.list.push(firstArgument);\n            // Register layer.\n            this.addLayer(index, firstArgument);\n            return index;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * Registers `layer` at the page.\n     * @private\n     */\n    PdfPageLayerCollection.prototype.addLayer = function (index, layer) {\n        var reference = new PdfReferenceHolder(layer);\n        this.page.contents.add(reference);\n    };\n    // private RemoveLayer(layer : PdfPageLayer) : void {\n    //     if (layer == null) {\n    //         throw new Error('ArgumentNullException:layer');\n    //     }\n    //     let reference : PdfReferenceHolder = new PdfReferenceHolder(layer);\n    //     if (this.page != null) {\n    //         this.page.Contents.Remove(reference);\n    //     }\n    // }\n    /**\n     * Inserts `PdfPageLayer` into the collection at specified index.\n     * @private\n     */\n    PdfPageLayerCollection.prototype.insert = function (index, layer) {\n        // if (index < 0)\n        //     throw new ArgumentOutOfRangeException(\"index\", \"Value can not be less 0\");\n        // if (layer == null)\n        //     throw new ArgumentNullException(\"layer\");\n        // if (layer.Page != m_page)\n        //     throw new ArgumentException(\"The layer belongs to another page\");\n        var list = [];\n        var length = this.list.length;\n        for (var i = index; i < length; i++) {\n            list.push(this.list.pop());\n        }\n        this.list.push(layer);\n        for (var i = 0; i < list.length; i++) {\n            this.list.push(list[i]);\n        }\n        // Register layer.\n        this.insertLayer(index, layer);\n    };\n    /**\n     * Registers layer at the page.\n     * @private\n     */\n    PdfPageLayerCollection.prototype.insertLayer = function (index, layer) {\n        if (layer == null) {\n            throw new Error('ArgumentNullException:layer');\n        }\n        var reference = new PdfReferenceHolder(layer);\n        this.page.contents.insert(index, reference);\n    };\n    // tslint:disable\n    /**\n     * `Parses the layers`.\n     * @private\n     */\n    PdfPageLayerCollection.prototype.parseLayers = function (loadedPage) {\n        // if (loadedPage == null) {\n        //     throw new Error('ArgumentNullException:loadedPage');\n        // }\n        var contents = this.page.contents;\n        var resource = this.page.getResources();\n        var crossTable = null;\n        var ocproperties = null;\n        var propertie = null;\n        var isLayerAdded = false;\n        // if (loadedPage instanceof PdfPage) {\n        crossTable = loadedPage.crossTable;\n        // } else {\n        //     crossTable = (loadedPage as PdfLoadedPage).CrossTable;\n        //     Propertie = PdfCrossTable.Dereference(Resource[DictionaryProperties.Properties]) as PdfDictionary;\n        //     ocproperties = PdfCrossTable.Dereference((loadedPage as PdfLoadedPage).\n        //     Document.Catalog[DictionaryProperties.OCProperties]) as PdfDictionary;\n        // }\n        var saveStream = new PdfStream();\n        var restoreStream = new PdfStream();\n        var saveState = 'q';\n        var newLine = '\\n';\n        var restoreState = 'Q';\n        // for (let index : number = 0; index < contents.Items.length; index++) {\n        //     let obj : IPdfPrimitive = contents[index];\n        //     let stream : PdfStream = crossTable.GetObject(obj) as PdfStream;\n        //     if (stream == null)\n        //         throw new PdfDocumentException(\"Invalid contents array.\");\n        //     // if (stream.Compress)\n        //     {\n        //         if (!loadedPage.Imported)\n        //             stream.Decompress();\n        //     }\n        //     byte[] contentId = stream.Data;\n        //     string str = PdfString.ByteToString(contentId);\n        //     if (!loadedPage.Imported && (contents.Count == 1) && ((stream.Data[stream.Data.Length - 2] ==\n        //     RestoreState) || (stream.Data[stream.Data.Length - 1] == RestoreState)))\n        //     {\n        //         byte[] content = stream.Data;\n        //         byte[] data = new byte[content.Length + 4];\n        //         data[0] = SaveState;\n        //         data[1] = NewLine;\n        //         content.CopyTo(data, 2);\n        //         data[data.Length - 2] = NewLine;\n        //         data[data.Length - 1] = RestoreState;\n        //         stream.Data = data;\n        //     }\n        //     if (ocproperties != null)\n        //     {\n        //         if (Propertie != null)\n        //         {\n        //             foreach (KeyValuePair<PdfName, IPdfPrimitive> prop in Propertie.Items)\n        //             {\n        //                 String Key = prop.Key.ToString();\n        //                 PdfReferenceHolder refh = prop.Value as PdfReferenceHolder;\n        //                 PdfDictionary Dict = null;\n        //                 if (refh != null)\n        //                 {\n        //                     Dict = refh.Object as PdfDictionary;\n        //                 }\n        //                 else\n        //                 {\n        //                     Dict = prop.Value as PdfDictionary;\n        //                 }\n        //                 PdfDictionary m_usage = PdfCrossTable.Dereference(Dict[DictionaryProperties.Usage]) as PdfDictionary;\n        //                 if (m_usage != null)\n        //                 {\n        //                     if (str.Contains(Key))\n        //                     {\n        //                         PdfPageLayer layer = new PdfPageLayer(loadedPage, stream);\n        //                         PdfDictionary printoption = PdfCrossTable.Dereference(m_usage[DictionaryProperties.Print])\n        //                         as PdfDictionary;\n        //                         if (printoption != null)\n        //                         {\n        //                             layer.m_printOption = printoption;\n        //                             foreach (KeyValuePair<PdfName, IPdfPrimitive> value in printoption.Items)\n        //                             {\n        //                                 if (value.Key.Value.Equals(DictionaryProperties.PrintState))\n        //                                 {\n        //                                     string printState = (value.Value as PdfName).Value;\n        //                                     if (printState.Equals(DictionaryProperties.OCGON))\n        //                                     {\n        //                                         layer.PrintState = PdfPrintState.AlwaysPrint;\n        //                                         break;\n        //                                     }\n        //                                     else\n        //                                     {\n        //                                         layer.PrintState = PdfPrintState.NeverPrint;\n        //                                         break;\n        //                                     }\n        //                                 }\n        //                             }\n        //                         }\n        //                         PdfString layerName = PdfCrossTable.Dereference(Dict[DictionaryProperties.Name]) as PdfString;\n        //                         layer.Name = layerName.Value;\n        //                         List.add(layer);\n        //                         isLayerAdded = true;\n        //                         if(!str.Contains(\"EMC\"))\n        //                         break;\n        //                     }\n        //                 }\n        //                 else\n        //                 {\n        //                     if (str.Contains(Key))\n        //                     {\n        //                         PdfPageLayer layer = new PdfPageLayer(loadedPage, stream);\n        //                         List.add(layer);\n        //                         if(Dict.ContainsKey(DictionaryProperties.Name))\n        //                         {\n        //                         PdfString layerName = PdfCrossTable.Dereference(Dict[DictionaryProperties.Name]) as PdfString;\n        //                         layer.Name = layerName.Value;\n        //                         }\n        //                         isLayerAdded = true;\n        //                         break;\n        //                     }\n        //                 }\n        //             }\n        //         }\n        //     }\n        //     if (!isLayerAdded)\n        //     {\n        //         PdfPageLayer layer = new PdfPageLayer(loadedPage, stream);\n        //         List.add(layer);\n        //     }\n        //     else\n        //         isLayerAdded = false;\n        // }\n        var saveData = [];\n        saveData.push(saveState);\n        saveStream.data = saveData;\n        contents.insert(0, new PdfReferenceHolder(saveStream));\n        saveData = [];\n        saveData.push(restoreState);\n        restoreStream.data = saveData;\n        contents.insert(contents.count, new PdfReferenceHolder(restoreStream));\n    };\n    /**\n     * Returns `index of` the `PdfPageLayer` in the collection if exists, -1 otherwise.\n     * @private\n     */\n    PdfPageLayerCollection.prototype.indexOf = function (layer) {\n        if (layer == null) {\n            throw new Error('ArgumentNullException: layer');\n        }\n        var index = this.list.indexOf(layer);\n        return index;\n    };\n    return PdfPageLayerCollection;\n}(PdfCollection));\nexport { PdfPageLayerCollection };\n","/**\n * PdfTemplate.ts class for EJ2-PDF\n */\nimport { PdfStream } from './../../primitives/pdf-stream';\nimport { DictionaryProperties } from './../../input-output/pdf-dictionary-properties';\nimport { PdfArray } from './../../primitives/pdf-array';\nimport { PdfGraphics } from './../pdf-graphics';\nimport { PdfResources } from './../pdf-resources';\nimport { PdfName } from './../../primitives/pdf-name';\nimport { PointF, SizeF, RectangleF } from './../../drawing/pdf-drawing';\nimport { GetResourceEventHandler } from './../pdf-graphics';\n/**\n * Represents `Pdf Template` object.\n * @private\n */\nvar PdfTemplate = /** @class */ (function () {\n    function PdfTemplate(arg1, arg2) {\n        /**\n         * Initialize an instance for `DictionaryProperties` class.\n         * @private\n         * @hidden\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        /**\n         * Checks whether the transformation 'is performed'.\n         * @default true\n         * @private\n         */\n        this.writeTransformation = true;\n        if (typeof arg1 === 'undefined') {\n            //\n        }\n        else if (arg1 instanceof SizeF && typeof arg2 === 'undefined') {\n            this.content = new PdfStream();\n            var tempSize = new SizeF(arg1.width, arg1.height);\n            this.setSize(tempSize);\n            this.initialize();\n        }\n        else {\n            this.content = new PdfStream();\n            this.setSize(new SizeF(arg1, arg2));\n            this.initialize();\n        }\n    }\n    Object.defineProperty(PdfTemplate.prototype, \"size\", {\n        //Properties\n        /**\n         * Gets the size of the 'PdfTemplate'.\n         */\n        get: function () {\n            return this.templateSize;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTemplate.prototype, \"width\", {\n        /**\n         * Gets the width of the 'PdfTemplate'.\n         */\n        get: function () {\n            return this.size.width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTemplate.prototype, \"height\", {\n        /**\n         * Gets the height of the 'PdfTemplate'.\n         */\n        get: function () {\n            return this.size.height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTemplate.prototype, \"graphics\", {\n        /**\n         * Gets the `graphics` of the 'PdfTemplate'.\n         */\n        get: function () {\n            if (this.pdfGraphics == null || typeof this.pdfGraphics === 'undefined') {\n                var gr = new GetResourceEventHandler(this);\n                var g = new PdfGraphics(this.size, gr, this.content);\n                this.pdfGraphics = g;\n                // if(this.writeTransformation) {\n                // Transform co-ordinates to Top/Left.\n                this.pdfGraphics.initializeCoordinates();\n                // }\n            }\n            return this.pdfGraphics;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the resources and modifies the template dictionary.\n     * @private\n     */\n    PdfTemplate.prototype.getResources = function () {\n        if (this.resources == null) {\n            this.resources = new PdfResources();\n            this.content.items.setValue(this.dictionaryProperties.resources, this.resources);\n        }\n        return this.resources;\n    };\n    // Public methods\n    /**\n     * `Initialize` the type and subtype of the template.\n     * @private\n     */\n    PdfTemplate.prototype.initialize = function () {\n        this.addType();\n        this.addSubType();\n    };\n    /**\n     * `Adds type key`.\n     * @private\n     */\n    PdfTemplate.prototype.addType = function () {\n        var value = new PdfName(this.dictionaryProperties.xObject);\n        this.content.items.setValue(this.dictionaryProperties.type, value);\n    };\n    /**\n     * `Adds SubType key`.\n     * @private\n     */\n    PdfTemplate.prototype.addSubType = function () {\n        var value = new PdfName(this.dictionaryProperties.form);\n        this.content.items.setValue(this.dictionaryProperties.subtype, value);\n    };\n    PdfTemplate.prototype.reset = function (size) {\n        if (typeof size === 'undefined') {\n            if (this.resources != null) {\n                this.resources = null;\n                this.content.remove(this.dictionaryProperties.resources);\n            }\n            if (this.graphics != null) {\n                this.graphics.reset(this.size);\n            }\n        }\n        else {\n            this.setSize(size);\n            this.reset();\n        }\n    };\n    /**\n     * `Set the size` of the 'PdfTemplate'.\n     * @private\n     */\n    PdfTemplate.prototype.setSize = function (size) {\n        var rect = new RectangleF(new PointF(0, 0), size);\n        var val = PdfArray.fromRectangle(rect);\n        this.content.items.setValue(this.dictionaryProperties.bBox, val);\n        this.templateSize = size;\n    };\n    Object.defineProperty(PdfTemplate.prototype, \"element\", {\n        // /**\n        //  * Returns the value of current graphics.\n        //  * @private\n        //  */\n        // public GetGraphics(g : PdfGraphics) : PdfGraphics {\n        //     if (this.graphics == null || typeof this.graphics === 'undefined') {\n        //         this.graphics = g;\n        //         this.graphics.Size = this.Size;\n        //         this.graphics.StreamWriter = new PdfStreamWriter(this.content)\n        //         this.graphics.Initialize();\n        //         if(this.writeTransformation) {\n        //             this.graphics.InitializeCoordinates();\n        //         }\n        //     }\n        //     return this.graphics;\n        // }\n        // IPdfWrapper Members\n        /**\n         * Gets the `content stream` of 'PdfTemplate' class.\n         * @private\n         */\n        get: function () {\n            return this.content;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTemplate;\n}());\nexport { PdfTemplate };\n","/**\n * ByteArray class\n * Used to keep information about image stream as byte array.\n * @private\n */\nvar ByteArray = /** @class */ (function () {\n    /**\n     * Initialize the new instance for `byte-array` class\n     * @hidden\n     * @private\n     */\n    function ByteArray(length) {\n        /**\n         * Current stream `position`.\n         * @default 0\n         * @private\n         */\n        this.mPosition = 0;\n        this.buffer = new Uint8Array(length);\n        this.dataView = new DataView(this.buffer.buffer);\n    }\n    Object.defineProperty(ByteArray.prototype, \"position\", {\n        /**\n         * Gets and Sets a current `position` of byte array.\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.mPosition;\n        },\n        set: function (value) {\n            this.mPosition = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Read` from current stream position.\n     * @default 0\n     * @hidden\n     * @private\n     */\n    ByteArray.prototype.read = function (buffer, offset, count) {\n        for (var index = offset; index < count; index++) {\n            var position = this.position;\n            buffer.buffer[index] = this.readByte(position);\n            this.position++;\n        }\n    };\n    /**\n     * @hidden\n     */\n    ByteArray.prototype.getBuffer = function (index) {\n        return this.buffer[index];\n    };\n    /**\n     * @hidden\n     */\n    ByteArray.prototype.writeFromBase64String = function (base64) {\n        var arr = this.encodedString(base64);\n        this.buffer = arr;\n    };\n    /**\n     * @hidden\n     */\n    ByteArray.prototype.encodedString = function (input) {\n        var keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        var chr1;\n        var chr2;\n        var chr3;\n        var enc1;\n        var enc2;\n        var enc3;\n        var enc4;\n        var i = 0;\n        var resultIndex = 0;\n        var dataUrlPrefix = 'data:';\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\n        var totalLength = input.length * 3 / 4;\n        if (input.charAt(input.length - 1) === keyStr.charAt(64)) {\n            totalLength--;\n        }\n        var output = new Uint8Array(totalLength | 0);\n        while (i < input.length) {\n            enc1 = keyStr.indexOf(input.charAt(i++));\n            enc2 = keyStr.indexOf(input.charAt(i++));\n            enc3 = keyStr.indexOf(input.charAt(i++));\n            enc4 = keyStr.indexOf(input.charAt(i++));\n            chr1 = (enc1 << 2) | (enc2 >> 4);\n            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n            chr3 = ((enc3 & 3) << 6) | enc4;\n            output[resultIndex++] = chr1;\n            output[resultIndex++] = chr2;\n            output[resultIndex++] = chr3;\n        }\n        return output;\n    };\n    /**\n     * @hidden\n     */\n    ByteArray.prototype.readByte = function (offset) {\n        return (this.buffer[offset]);\n    };\n    Object.defineProperty(ByteArray.prototype, \"internalBuffer\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.buffer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ByteArray.prototype, \"count\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.buffer.byteLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ByteArray;\n}());\nexport { ByteArray };\n","/**\n * `PdfBoolean` class is used to perform boolean related primitive operations.\n * @private\n */\nvar PdfBoolean = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfBoolean` class.\n     * @private\n     */\n    function PdfBoolean(value) {\n        /**\n         * Internal variable to store the `position`.\n         * @default -1\n         * @private\n         */\n        this.currentPosition = -1;\n        this.value = value;\n    }\n    Object.defineProperty(PdfBoolean.prototype, \"status\", {\n        //Properties\n        /**\n         * Gets or sets the `Status` of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.objectStatus;\n        },\n        set: function (value) {\n            this.objectStatus = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBoolean.prototype, \"isSaving\", {\n        /**\n         * Gets or sets a value indicating whether this document `is saving` or not.\n         * @private\n         */\n        get: function () {\n            return this.saving;\n        },\n        set: function (value) {\n            this.saving = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBoolean.prototype, \"objectCollectionIndex\", {\n        /**\n         * Gets or sets the `index` value of the specified object.\n         * @private\n         */\n        get: function () {\n            return this.index;\n        },\n        set: function (value) {\n            this.index = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBoolean.prototype, \"position\", {\n        /**\n         * Gets or sets the `position` of the object.\n         * @private\n         */\n        get: function () {\n            return this.currentPosition;\n        },\n        set: function (value) {\n            this.currentPosition = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBoolean.prototype, \"clonedObject\", {\n        /**\n         * Returns `cloned object`.\n         * @private\n         */\n        get: function () {\n            var rValue = null;\n            return rValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Saves` the object using the specified writer.\n     * @private\n     */\n    PdfBoolean.prototype.save = function (writer) {\n        writer.write(this.boolToStr(this.value));\n    };\n    /**\n     * Creates a `copy of PdfBoolean`.\n     * @private\n     */\n    PdfBoolean.prototype.clone = function (crossTable) {\n        var newNumber = new PdfBoolean(this.value);\n        return newNumber;\n    };\n    // Implementation\n    /**\n     * Converts `boolean to string` - 0/1 'true'/'false'.\n     * @private\n     */\n    PdfBoolean.prototype.boolToStr = function (value) {\n        return value ? 'true' : 'false';\n    };\n    return PdfBoolean;\n}());\nexport { PdfBoolean };\n","/**\n * public Enum for `PdfLayoutType`.\n * @private\n */\nexport var PdfLayoutType;\n(function (PdfLayoutType) {\n    /**\n     * Specifies the type of `Paginate`.\n     * @private\n     */\n    PdfLayoutType[PdfLayoutType[\"Paginate\"] = 0] = \"Paginate\";\n    /**\n     * Specifies the type of `OnePage`.\n     * @private\n     */\n    PdfLayoutType[PdfLayoutType[\"OnePage\"] = 1] = \"OnePage\";\n})(PdfLayoutType || (PdfLayoutType = {}));\n/**\n * public Enum for `PdfLayoutBreakType`.\n * @private\n */\nexport var PdfLayoutBreakType;\n(function (PdfLayoutBreakType) {\n    /**\n     * Specifies the type of `FitPage`.\n     * @private\n     */\n    PdfLayoutBreakType[PdfLayoutBreakType[\"FitPage\"] = 0] = \"FitPage\";\n    /**\n     * Specifies the type of `FitElement`.\n     * @private\n     */\n    PdfLayoutBreakType[PdfLayoutBreakType[\"FitElement\"] = 1] = \"FitElement\";\n    /**\n     * Specifies the type of `FitColumnsToPage`.\n     * @private\n     */\n    PdfLayoutBreakType[PdfLayoutBreakType[\"FitColumnsToPage\"] = 2] = \"FitColumnsToPage\";\n})(PdfLayoutBreakType || (PdfLayoutBreakType = {}));\n","/**\n * Used to perform `convertion between pixels and points`.\n * @private\n */\nvar PdfUnitConverter = /** @class */ (function () {\n    //constructors\n    /**\n     * Initializes a new instance of the `UnitConvertor` class with DPI value.\n     * @private\n     */\n    function PdfUnitConverter(dpi) {\n        this.updateProportionsHelper(dpi);\n    }\n    /**\n     * `Converts` the value, from one graphics unit to another graphics unit.\n     * @private\n     */\n    PdfUnitConverter.prototype.convertUnits = function (value, from, to) {\n        return this.convertFromPixels(this.convertToPixels(value, from), to);\n    };\n    /**\n     * Converts the value `to pixel` from specified graphics unit.\n     * @private\n     */\n    PdfUnitConverter.prototype.convertToPixels = function (value, from) {\n        var index = from;\n        var result = (value * this.proportions[index]);\n        return result;\n    };\n    /**\n     * Converts value, to specified graphics unit `from Pixel`.\n     * @private\n     */\n    PdfUnitConverter.prototype.convertFromPixels = function (value, to) {\n        var index = to;\n        var result = (value / this.proportions[index]);\n        return result;\n    };\n    /**\n     * `Update proportions` matrix according to Graphics settings.\n     * @private\n     */\n    PdfUnitConverter.prototype.updateProportionsHelper = function (pixelPerInch) {\n        this.proportions = [\n            pixelPerInch / 2.54,\n            pixelPerInch / 6.0,\n            1,\n            pixelPerInch / 72.0,\n            pixelPerInch,\n            pixelPerInch / 300.0,\n            pixelPerInch / 25.4 // Millimeter\n        ];\n    };\n    //Fields\n    /**\n     * Indicates default `horizontal resolution`.\n     * @default 96\n     * @private\n     */\n    PdfUnitConverter.horizontalResolution = 96;\n    /**\n     * Indicates default `vertical resolution`.\n     * @default 96\n     * @private\n     */\n    PdfUnitConverter.verticalResolution = 96;\n    return PdfUnitConverter;\n}());\nexport { PdfUnitConverter };\n","import { SizeF } from './../../drawing/pdf-drawing';\nimport { PdfGraphicsUnit } from './../enum';\nimport { PdfUnitConverter } from './../unit-convertor';\n/**\n * `PdfImage` class represents the base class for images and provides functionality for the 'PdfBitmap' class.\n * @private\n */\nvar PdfImage = /** @class */ (function () {\n    function PdfImage() {\n    }\n    Object.defineProperty(PdfImage.prototype, \"width\", {\n        /**\n         * Gets and Sets the `width` of an image.\n         * @private\n         */\n        get: function () {\n            return this.imageWidth;\n        },\n        set: function (value) {\n            this.imageWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfImage.prototype, \"height\", {\n        /**\n         * Gets and Sets the `height` of an image.\n         * @private\n         */\n        get: function () {\n            return this.imageHeight;\n        },\n        set: function (value) {\n            this.imageHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfImage.prototype, \"size\", {\n        /**\n         * Gets or sets the size of the image.\n         * @private\n         */\n        set: function (value) {\n            this.width = value.width;\n            this.height = value.height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfImage.prototype, \"physicalDimension\", {\n        /**\n         * Gets the `physical dimension` of an image.\n         * @private\n         */\n        get: function () {\n            this.imagePhysicalDimension = this.getPointSize(this.width, this.height, this.horizontalResolution, this.verticalResolution);\n            return new SizeF(this.width, this.height);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfImage.prototype, \"element\", {\n        // /**\n        //  * Gets the `image stream as string`.\n        //  * @private\n        //  */\n        // public static fromString(string : string) : PdfImage {\n        //     let image : PdfImage = new PdfBitmap(string);\n        //     return image;\n        // }\n        /**\n         * Gets the `element` image stream.\n         * @private\n         */\n        get: function () {\n            return this.imageStream;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfImage.prototype.getPointSize = function (width, height, horizontalResolution, verticalResolution) {\n        if (typeof horizontalResolution === 'undefined') {\n            var dpiX = PdfUnitConverter.horizontalResolution;\n            var dpiY = PdfUnitConverter.verticalResolution;\n            var size = this.getPointSize(width, height, dpiX, dpiY);\n            return size;\n        }\n        else {\n            var ucX = new PdfUnitConverter(horizontalResolution);\n            var ucY = new PdfUnitConverter(verticalResolution);\n            var ptWidth = ucX.convertUnits(width, PdfGraphicsUnit.Pixel, PdfGraphicsUnit.Point);\n            var ptHeight = ucY.convertUnits(height, PdfGraphicsUnit.Pixel, PdfGraphicsUnit.Point);\n            var size = new SizeF(ptWidth, ptHeight);\n            return size;\n        }\n    };\n    return PdfImage;\n}());\nexport { PdfImage };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfBitmap.ts class for EJ2-PDF\n */\nimport { ImageDecoder } from './../../graphics/images/image-decoder';\nimport { ByteArray } from './../../graphics/images/byte-array';\nimport { DictionaryProperties } from './../../input-output/pdf-dictionary-properties';\nimport { PdfImage } from './pdf-image';\n/**\n * The 'PdfBitmap' contains methods and properties to handle the Bitmap images.\n * ```typescript\n * // create a new PDF document.\n * let document : PdfDocument = new PdfDocument();\n * // add a page to the document.\n * let page1 : PdfPage = document.pages.add();\n * // base64 string of an image\n * let imageString : string = '/9j/3+2w7em7HzY/KiijFw … 1OEYRUYrQ45yc5OUtz/9k=';\n * // load the image from the base64 string of original image.\n * let image : PdfBitmap = new PdfBitmap(imageString);\n * // draw the image\n * page1.graphics.drawImage(image, new RectangleF({x : 10, y : 10}, {width : 200, height : 200}));\n * // save the document.\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n */\nvar PdfBitmap = /** @class */ (function (_super) {\n    __extends(PdfBitmap, _super);\n    /**\n     * Create an instance for `PdfBitmap` class.\n     * @param encodedString Base64 string of an image.\n     * ```typescript\n     * // create a new PDF document.\n     * let document : PdfDocument = new PdfDocument();\n     * // add a page to the document.\n     * let page1 : PdfPage = document.pages.add();\n     * // base64 string of an image\n     * let imageString : string = '/9j/3+2w7em7HzY/KiijFw … 1OEYRUYrQ45yc5OUtz/9k=';\n     * //\n     * // load the image from the base64 string of original image.\n     * let image : PdfBitmap = new PdfBitmap(imageString);\n     * //\n     * // draw the image\n     * page1.graphics.drawImage(image, new RectangleF({x : 10, y : 10}, {width : 200, height : 200}));\n     * // save the document.\n     * document.save('output.pdf');\n     * // destroy the document\n     * document.destroy();\n     * ```\n     */\n    function PdfBitmap(encodedString) {\n        var _this = _super.call(this) || this;\n        //Fields\n        /**\n         * Specifies the `status` of an image.\n         * @default true.\n         * @hidden\n         * @private\n         */\n        _this.imageStatus = true;\n        /**\n         * Internal variable for accessing fields from `DictionryProperties` class.\n         * @hidden\n         * @private\n         */\n        _this.dictionaryProperties = new DictionaryProperties();\n        _this.loadImage(encodedString);\n        return _this;\n    }\n    /**\n     * `Load image`.\n     * @hidden\n     * @private\n     */\n    PdfBitmap.prototype.loadImage = function (encodedString) {\n        var task = this.initializeAsync(encodedString);\n    };\n    /**\n     * `Initialize` image parameters.\n     * @private\n     */\n    PdfBitmap.prototype.initializeAsync = function (encodedString) {\n        var byteArray = new ByteArray(encodedString.length);\n        byteArray.writeFromBase64String(encodedString);\n        this.decoder = new ImageDecoder(byteArray);\n        this.height = this.decoder.height;\n        this.width = this.decoder.width;\n        // FrameCount = BitmapImageDecoder.FrameCount;\n        this.bitsPerComponent = this.decoder.bitsPerComponent;\n    };\n    /**\n     * `Saves` the image into stream.\n     * @private\n     */\n    PdfBitmap.prototype.save = function () {\n        this.imageStatus = true;\n        this.imageStream = this.decoder.getImageDictionary();\n    };\n    return PdfBitmap;\n}(PdfImage));\nexport { PdfBitmap };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfResources.ts class for EJ2-PDF\n */\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { TemporaryDictionary } from './../collections/object-object-pair/dictionary';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfCrossTable } from './../input-output/pdf-cross-table';\nimport { PdfFont } from './fonts/pdf-font';\nimport { PdfTemplate } from './figures/pdf-template';\nimport { PdfBrush } from './brushes/pdf-brush';\nimport { PdfTransparency } from './pdf-transparency';\nimport { PdfBitmap } from './../graphics/images/pdf-bitmap';\nimport { PdfImage } from './../graphics/images/pdf-image';\n/**\n * `PdfResources` class used to set resource contents like font, image.\n * @private\n */\nvar PdfResources = /** @class */ (function (_super) {\n    __extends(PdfResources, _super);\n    function PdfResources(baseDictionary) {\n        var _this = _super.call(this) || this;\n        /**\n         * Dictionary for the `properties names`.\n         * @private\n         */\n        _this.properties = new PdfDictionary();\n        if (baseDictionary instanceof PdfDictionary) {\n            _this = _super.call(this, baseDictionary) || this;\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfResources.prototype, \"names\", {\n        //Properties\n        /**\n         * Gets the `font names`.\n         * @private\n         */\n        get: function () {\n            return this.getNames();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfResources.prototype, \"document\", {\n        /**\n         * Get or set the `page document`.\n         * @private\n         */\n        get: function () {\n            return this.pdfDocument;\n        },\n        set: function (value) {\n            this.pdfDocument = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Public Methods\n    /**\n     * `Generates name` for the object and adds to the resource if the object is new.\n     * @private\n     */\n    PdfResources.prototype.getName = function (obj) {\n        var primitive = obj.element;\n        var name = null;\n        if (this.names.containsKey(primitive)) {\n            name = this.names.getValue(primitive);\n        }\n        // Object is new.\n        if (name == null) {\n            var sName = this.generateName();\n            name = new PdfName(sName);\n            this.names.setValue(primitive, name);\n            if (obj instanceof PdfFont) {\n                this.add(obj, name);\n            }\n            else if (obj instanceof PdfTemplate) {\n                this.add(obj, name);\n            }\n            else if (obj instanceof PdfTransparency) {\n                this.add(obj, name);\n            }\n            else if (obj instanceof PdfImage || obj instanceof PdfBitmap) {\n                this.add(obj, name);\n            }\n        }\n        return name;\n    };\n    /**\n     * Gets `resource names` to font dictionaries.\n     * @private\n     */\n    PdfResources.prototype.getNames = function () {\n        if (this.pdfNames == null) {\n            this.pdfNames = new TemporaryDictionary();\n        }\n        var fonts = this.items.getValue(this.dictionaryProperties.font);\n        if (fonts != null) {\n            var reference = fonts;\n            var dictionary = fonts;\n            dictionary = PdfCrossTable.dereference(fonts);\n        }\n        return this.pdfNames;\n    };\n    /**\n     * Add `RequireProcedureSet` into procset array.\n     * @private\n     */\n    PdfResources.prototype.requireProcedureSet = function (procedureSetName) {\n        if (procedureSetName == null) {\n            throw new Error('ArgumentNullException:procedureSetName');\n        }\n        var procSets = this.items.getValue(this.dictionaryProperties.procset);\n        if (procSets == null) {\n            procSets = new PdfArray();\n            this.items.setValue(this.dictionaryProperties.procset, procSets);\n        }\n        var name = new PdfName(procedureSetName);\n        if (!procSets.contains(name)) {\n            procSets.add(name);\n        }\n    };\n    //Helper Methods\n    /**\n     * `Remove font` from array.\n     * @private\n     */\n    PdfResources.prototype.removeFont = function (name) {\n        var key = null;\n        var keys = this.pdfNames.keys();\n        for (var index = 0; index < this.pdfNames.size(); index++) {\n            if (this.pdfNames.getValue(keys[index]) === new PdfName(name)) {\n                key = keys[index];\n                break;\n            }\n        }\n        if (key != null) {\n            this.pdfNames.remove(key);\n        }\n    };\n    /**\n     * Generates `Unique string name`.\n     * @private\n     */\n    PdfResources.prototype.generateName = function () {\n        var name = Guid.getNewGuidString();\n        return name;\n    };\n    PdfResources.prototype.add = function (arg1, arg2) {\n        if (arg1 instanceof PdfFont) {\n            var dictionary = null;\n            var fonts = this.items.getValue(this.dictionaryProperties.font);\n            if (fonts != null) {\n                var reference = fonts;\n                dictionary = fonts;\n                dictionary = fonts;\n            }\n            else {\n                dictionary = new PdfDictionary();\n                this.items.setValue(this.dictionaryProperties.font, dictionary);\n            }\n            dictionary.items.setValue(arg2.value, new PdfReferenceHolder(arg1.element));\n        }\n        else if (arg1 instanceof PdfTemplate) {\n            var xobjects = void 0;\n            xobjects = this.items.getValue(this.dictionaryProperties.xObject);\n            // Create fonts dictionary.\n            if (xobjects == null) {\n                xobjects = new PdfDictionary();\n                this.items.setValue(this.dictionaryProperties.xObject, xobjects);\n            }\n            xobjects.items.setValue(arg2.value, new PdfReferenceHolder(arg1.element));\n        }\n        else if (arg1 instanceof PdfBrush) {\n            // let savable : IPdfPrimitive = (arg1 as IPdfWrapper).Element;\n            // if (savable != null)\n            // {\n            //     let pattern : PdfDictionary = this.Items.getValue(this.dictionaryProperties.pattern) as PdfDictionary;\n            //     // Create a new pattern dictionary.\n            //     if (pattern == null) {\n            //         pattern = new PdfDictionary();\n            //         this.Items.setValue(this.dictionaryProperties.pattern, pattern);\n            //     }\n            //     pattern.Items.setValue(name, new PdfReferenceHolder(savable));\n            // }\n        }\n        else if (arg1 instanceof PdfTransparency) {\n            var savable = arg1.element;\n            var transDic = null;\n            transDic = this.items.getValue(this.dictionaryProperties.extGState);\n            // Create a new pattern dictionary.\n            if (transDic == null) {\n                transDic = new PdfDictionary();\n                this.items.setValue(this.dictionaryProperties.extGState, transDic);\n            }\n            transDic.items.setValue(arg2.value, new PdfReferenceHolder(savable));\n        }\n        else {\n            /* tslint:disable */\n            var xobjects = this.Dictionary.items.getValue(this.dictionaryProperties.xObject);\n            var parentXObjects = void 0;\n            if (typeof this.pdfDocument !== 'undefined') {\n                parentXObjects = this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject);\n            }\n            var values = this.Dictionary.items.values();\n            var hasSameImageStream = false;\n            var oldReference = void 0;\n            if (typeof this.pdfDocument !== 'undefined' && (typeof parentXObjects === undefined || parentXObjects == null)) {\n                parentXObjects = new PdfDictionary();\n                this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject, parentXObjects);\n            }\n            else if (typeof this.pdfDocument !== 'undefined') {\n                var values_1 = parentXObjects.items.values();\n                for (var i = 0; i < values_1.length; i++) {\n                    if (typeof values_1[i] !== 'undefined' && typeof values_1[i].element !== 'undefined') {\n                        if (values_1[i].element.data[0] === arg1.element.data[0]) {\n                            oldReference = values_1[i];\n                            hasSameImageStream = true;\n                        }\n                    }\n                }\n            }\n            if (xobjects == null) {\n                xobjects = new PdfDictionary();\n                this.Dictionary.items.setValue(this.dictionaryProperties.xObject, xobjects);\n            }\n            if (hasSameImageStream && typeof oldReference !== 'undefined') {\n                xobjects.items.setValue(arg2.value, oldReference);\n            }\n            else {\n                var reference = new PdfReferenceHolder(arg1.element);\n                xobjects.items.setValue(arg2.value, reference);\n                if (typeof this.pdfDocument !== 'undefined') {\n                    parentXObjects.items.setValue(arg2.value, reference);\n                }\n            }\n            /* tslint:enable */\n        }\n    };\n    return PdfResources;\n}(PdfDictionary));\nexport { PdfResources };\n/**\n * Used to create new guid for resources.\n * @private\n */\nvar Guid = /** @class */ (function () {\n    /**\n     * Initialize an `instance of GUID` class.\n     * @private\n     */\n    function Guid(stringValue) {\n        this.stringValue = stringValue || Guid.getNewGuidString();\n    }\n    Object.defineProperty(Guid, \"randomNumber\", {\n        /**\n         * Generate `Random number` for GUID.\n         * @private\n         */\n        get: function () {\n            Guid.guid = Guid.guid + 1;\n            Guid.guid = Guid.guid > 999999999999 ? 0 : Guid.guid;\n            return Guid.guid;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Return the value of `GUID as string`.\n     * @private\n     */\n    Guid.prototype.toString = function () {\n        return this.stringValue;\n    };\n    /**\n     * Generate `new GUID`.\n     * @private\n     */\n    Guid.getNewGuidString = function () {\n        var guid = 'abc7def4-ghi9-jkl2-m6n3-';\n        var temproaryString = 'opqrstuvwxyz';\n        var randomString = Guid.randomNumber.toString();\n        randomString = guid + temproaryString.substr(0, (12 - randomString.length)) + randomString;\n        return randomString;\n    };\n    /**\n     * static field to store `endding value of current GUID`.\n     * @private\n     */\n    Guid.guid = 0;\n    return Guid;\n}());\nexport { Guid };\n","import { PdfArray } from './../primitives/pdf-array';\nimport { PdfPageLayerCollection } from './pdf-page-layer-collection';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { PdfResources } from './../graphics/pdf-resources';\n/**\n * The abstract base class for all pages,\n * `PdfPageBase` class provides methods and properties to create PDF pages and its elements.\n * @private\n */\nvar PdfPageBase = /** @class */ (function () {\n    //constructors\n    /**\n     * Initializes a new instance of the `PdfPageBase` class.\n     * @private\n     */\n    function PdfPageBase(dictionary) {\n        /**\n         * `Index` of the default layer.\n         * @default -1.\n         * @private\n         */\n        this.defLayerIndex = -1;\n        /**\n         * Local variable to store if page `updated`.\n         * @default false.\n         * @private\n         */\n        this.modified = false;\n        /**\n         * Instance of `DictionaryProperties` class.\n         * @hidden\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        this.pageDictionary = dictionary;\n    }\n    Object.defineProperty(PdfPageBase.prototype, \"section\", {\n        //Properties\n        /**\n         * Gets the `section` of a page.\n         * @private\n         */\n        get: function () {\n            // if (this.pdfSection === null) {\n            //     throw new Error('PdfException : Page must be added to some section before using.');\n            // }\n            return this.pdfSection;\n        },\n        set: function (value) {\n            this.pdfSection = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageBase.prototype, \"dictionary\", {\n        /**\n         * Gets the page `dictionary`.\n         * @private\n         */\n        get: function () {\n            return this.pageDictionary;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageBase.prototype, \"element\", {\n        /**\n         * Gets the wrapped `element`.\n         * @private\n         */\n        get: function () {\n            return this.pageDictionary;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageBase.prototype, \"defaultLayer\", {\n        /**\n         * Gets the `default layer` of the page (Read only).\n         * @private\n         */\n        get: function () {\n            var layer = this.layers;\n            var index = this.defaultLayerIndex;\n            var returnlayer = layer.items(index);\n            return returnlayer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageBase.prototype, \"defaultLayerIndex\", {\n        /**\n         * Gets or sets `index of the default layer`.\n         * @private\n         */\n        get: function () {\n            if (this.layerCollection.count === 0 || this.defLayerIndex === -1) {\n                var layer = this.layerCollection.add();\n                this.defLayerIndex = this.layerCollection.indexOf(layer);\n            }\n            return this.defLayerIndex;\n        },\n        /**\n         * Gets or sets` index of the default layer`.\n         * @private\n         */\n        set: function (value) {\n            if (value < 0 || value > this.layers.count - 1) {\n                throw new Error('ArgumentOutOfRangeException : value, Index can not be less 0 and greater Layers.Count - 1');\n            }\n            else {\n                this.defLayerIndex = value;\n                this.modified = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageBase.prototype, \"layers\", {\n        /**\n         * Gets the collection of the page's `layers` (Read only).\n         * @private\n         */\n        get: function () {\n            if (this.layerCollection == null || typeof this.layerCollection === 'undefined') {\n                this.layerCollection = new PdfPageLayerCollection(this);\n            }\n            return this.layerCollection;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Return an instance of `PdfResources` class.\n     * @private\n     */\n    PdfPageBase.prototype.getResources = function () {\n        if (this.resources == null) {\n            this.resources = new PdfResources();\n            this.dictionary.items.setValue(this.dictionaryProperties.resources, this.resources);\n        }\n        return this.resources;\n    };\n    Object.defineProperty(PdfPageBase.prototype, \"contents\", {\n        /**\n         * Gets `array of page's content`.\n         * @private\n         */\n        get: function () {\n            var obj = this.pageDictionary.items.getValue(this.dictionaryProperties.contents);\n            var contents = obj;\n            var rh = obj;\n            if (contents == null) {\n                contents = new PdfArray();\n                this.pageDictionary.items.setValue(this.dictionaryProperties.contents, contents);\n            }\n            return contents;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Sets the `resources`.\n     * @private\n     */\n    PdfPageBase.prototype.setResources = function (res) {\n        this.resources = res;\n        this.dictionary.items.setValue(this.dictionaryProperties.resources, this.resources);\n        this.modified = true;\n    };\n    return PdfPageBase;\n}());\nexport { PdfPageBase };\n","import { PdfArray } from './../primitives/pdf-array';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { SizeF, RectangleF, PointF } from './../drawing/pdf-drawing';\nimport { PdfStringLayouter } from './../graphics/fonts/string-layouter';\nimport { PdfColorSpace } from './../graphics/enum';\n/**\n * `PdfAnnotationCollection` class represents the collection of 'PdfAnnotation' objects.\n * @private\n */\nvar PdfAnnotationCollection = /** @class */ (function () {\n    function PdfAnnotationCollection(page) {\n        // Constants\n        /**\n         * `Error` constant message.\n         * @private\n         */\n        this.alreadyExistsAnnotationError = 'This annotatation had been already added to page';\n        /**\n         * `Error` constant message.\n         * @private\n         */\n        this.missingAnnotationException = 'Annotation is not contained in collection.';\n        /**\n         * Specifies the Internal variable to store fields of `PdfDictionaryProperties`.\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        /**\n         * Array of the `annotations`.\n         * @private\n         */\n        this.internalAnnotations = new PdfArray();\n        /**\n         * privte `list` for the annotations.\n         * @private\n         */\n        this.lists = [];\n        if (typeof page !== 'undefined') {\n            this.page = page;\n        }\n    }\n    Object.defineProperty(PdfAnnotationCollection.prototype, \"annotations\", {\n        /**\n         * Gets the `PdfAnnotation` object at the specified index. Read-Only.\n         * @private\n         */\n        get: function () {\n            return this.internalAnnotations;\n        },\n        set: function (value) {\n            this.internalAnnotations = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Public methods\n    /**\n     * `Adds` a new annotation to the collection.\n     * @private\n     */\n    PdfAnnotationCollection.prototype.add = function (annotation) {\n        // this.SetPrint(annotation);\n        this.doAdd(annotation);\n    };\n    /**\n     * `Adds` a Annotation to collection.\n     * @private\n     */\n    /* tslint:disable */\n    PdfAnnotationCollection.prototype.doAdd = function (annotation) {\n        if (typeof annotation.destination !== 'undefined') {\n            var layout = new PdfStringLayouter();\n            var layoutResult = layout.layout(annotation.text, annotation.font, annotation.stringFormat, new SizeF((annotation.bounds.width), 0), false, new SizeF(0, 0));\n            var lastPosition = annotation.bounds.y;\n            if (layoutResult.lines.length === 1) {\n                var size = annotation.font.measureString(layoutResult.lines[0].text);\n                annotation.bounds = new RectangleF(new PointF(annotation.bounds.x, lastPosition), size);\n                annotation.text = layoutResult.lines[0].text;\n                //Draw Annotation Text.\n                this.page.graphics.drawString(annotation.text, annotation.font, null, annotation.brush, annotation.bounds.x, annotation.bounds.y, annotation.bounds.width, annotation.bounds.height, null);\n                //Add annotation to dictionary.\n                annotation.setPage(this.page);\n                this.setColor(annotation);\n                this.internalAnnotations.add(new PdfReferenceHolder(annotation));\n                this.lists.push(annotation);\n            }\n            else {\n                for (var i = 0; i < layoutResult.lines.length; i++) {\n                    var size = annotation.font.measureString(layoutResult.lines[i].text);\n                    if (i === 0) {\n                        annotation.bounds = new RectangleF(annotation.bounds.x, lastPosition, size.width, size.height);\n                        annotation.text = layoutResult.lines[i].text;\n                        //Draw Annotation Text.\n                        this.page.graphics.drawString(annotation.text, annotation.font, null, annotation.brush, annotation.bounds.x, lastPosition, size.width, size.height, null);\n                        //Add annotation to dictionary.\n                        annotation.setPage(this.page);\n                        this.setColor(annotation);\n                        this.internalAnnotations.add(new PdfReferenceHolder(annotation));\n                        this.lists.push(annotation);\n                        //Update y for drawing next line of the text.\n                        lastPosition += annotation.bounds.height;\n                    }\n                    else {\n                        var annot = annotation.clone();\n                        annot.bounds = new RectangleF(new PointF(annotation.bounds.x, lastPosition), size);\n                        annot.text = layoutResult.lines[i].text;\n                        //Draw Annotation Text.\n                        this.page.graphics.drawString(annot.text, annot.font, null, annot.brush, annot.bounds.x, annot.bounds.y, annot.bounds.width, annot.bounds.height, null);\n                        //Add annotation to dictionary.\n                        annot.setPage(this.page);\n                        this.setColor(annot);\n                        this.internalAnnotations.add(new PdfReferenceHolder(annot));\n                        this.lists.push(annot);\n                        //Update y for drawing next line of the text.\n                        lastPosition += annot.bounds.height;\n                    }\n                }\n            }\n        }\n        else {\n            annotation.setPage(this.page);\n            this.internalAnnotations.add(new PdfReferenceHolder(annotation));\n            return this.lists.push(annotation);\n        }\n    };\n    /* tslint:enable */\n    /**\n     * `Set a color of an annotation`.\n     * @private\n     */\n    PdfAnnotationCollection.prototype.setColor = function (annotation) {\n        var cs = PdfColorSpace.Rgb;\n        var colours = annotation.color.toArray(cs);\n        annotation.dictionary.items.setValue(this.dictionaryProperties.c, colours);\n    };\n    Object.defineProperty(PdfAnnotationCollection.prototype, \"element\", {\n        // IPdfWrapper Members\n        /**\n         * Gets the `Element` representing this object.\n         * @private\n         */\n        get: function () {\n            return this.internalAnnotations;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfAnnotationCollection;\n}());\nexport { PdfAnnotationCollection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfPageBase } from './pdf-page-base';\nimport { PdfDictionary, SaveTemplateEventHandler } from './../primitives/pdf-dictionary';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { SizeF } from './../drawing/pdf-drawing';\nimport { PdfAnnotationCollection } from './../annotations/annotation-collection';\nimport { PdfPageLayer } from './pdf-page-layer';\n/**\n * Provides methods and properties to create pages and its elements.\n * `PdfPage` class inherited from the `PdfPageBase` class.\n * ```typescript\n * // create a new PDF document\n * let document : PdfDocument = new PdfDocument();\n * //\n * // add a new page to the document\n * let page1 : PdfPage = document.pages.add();\n * //\n * // set the font\n * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n * // create black brush\n * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n * // draw the text\n * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(0, 0));\n * // save the document\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n */\nvar PdfPage = /** @class */ (function (_super) {\n    __extends(PdfPage, _super);\n    //constructors\n    /**\n     * Initialize the new instance for `PdfPage` class.\n     * @private\n     */\n    function PdfPage() {\n        var _this = _super.call(this, new PdfDictionary()) || this;\n        /**\n         * Stores the instance of `PdfAnnotationCollection` class.\n         * @hidden\n         * @default null\n         * @private\n         */\n        _this.annotationCollection = null;\n        /**\n         * Stores the instance of `PageBeginSave` event for Page Number Field.\n         * @default null\n         * @private\n         */\n        _this.beginSave = null;\n        _this.initialize();\n        return _this;\n    }\n    Object.defineProperty(PdfPage.prototype, \"document\", {\n        //Properties\n        /**\n         * Gets current `document`.\n         * @private\n         */\n        get: function () {\n            if (this.section !== null && this.section.parent !== null) {\n                return this.section.parent.document;\n            }\n            else {\n                return null;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPage.prototype, \"graphics\", {\n        /**\n         * Get the current `graphics`.\n         * ```typescript\n         * // create a new PDF document\n         * let document : PdfDocument = new PdfDocument();\n         * // add a new page to the document\n         * let page1 : PdfPage = document.pages.add();\n         * //\n         * // get graphics\n         * let graphics : PdfGraphics = page1.graphics;\n         * //\n         * // set the font\n         * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n         * // create black brush\n         * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n         * // draw the text\n         * graphics.drawString('Hello World', font, blackBrush, new PointF(0, 0));\n         * // save the document\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            var result = this.defaultLayer.graphics;\n            result.currentPage = this;\n            return result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPage.prototype, \"crossTable\", {\n        /**\n         * Gets the `cross table`.\n         * @private\n         */\n        get: function () {\n            if (this.section === null) {\n                throw new Error('PdfDocumentException : Page is not created');\n            }\n            return this.section.parent === null ? this.section.parentDocument.crossTable : this.section.parent.document.crossTable;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPage.prototype, \"size\", {\n        /**\n         * Gets the size of the PDF page- Read only.\n         * @public\n         */\n        get: function () {\n            return this.section.pageSettings.size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPage.prototype, \"origin\", {\n        /**\n         * Gets the `origin` of the page.\n         * @private\n         */\n        get: function () {\n            return this.section.pageSettings.origin;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPage.prototype, \"annotations\", {\n        /**\n         * Gets a collection of the `annotations` of the page- Read only.\n         * @private\n         */\n        get: function () {\n            if (this.annotationCollection == null) {\n                this.annotationCollection = new PdfAnnotationCollection(this);\n                // if (!this.Dictionary.ContainsKey(this.dictionaryProperties.annots)) {\n                this.dictionary.items.setValue(this.dictionaryProperties.annots, this.annotationCollection.element);\n                // }\n                this.annotationCollection.annotations = this.dictionary.items.getValue(this.dictionaryProperties.annots);\n            }\n            return this.annotationCollection;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Initializes` a page.\n     * @private\n     */\n    PdfPage.prototype.initialize = function () {\n        this.dictionary.items.setValue(this.dictionaryProperties.type, new PdfName('Page'));\n        this.dictionary.pageBeginDrawTemplate = new SaveTemplateEventHandler(this);\n    };\n    /**\n     * Sets parent `section` to the page.\n     * @private\n     */\n    PdfPage.prototype.setSection = function (section) {\n        this.section = section;\n        this.dictionary.items.setValue(this.dictionaryProperties.parent, new PdfReferenceHolder(section));\n    };\n    /**\n     * `Resets the progress`.\n     * @private\n     */\n    PdfPage.prototype.resetProgress = function () {\n        this.isProgressOn = false;\n    };\n    /**\n     * Get the page size reduced by page margins and page template dimensions.\n     * ```typescript\n     * // create a new PDF document\n     * let document : PdfDocument = new PdfDocument();\n     * // add a pages to the document\n     * let page1 : PdfPage = document.pages.add();\n     * // create new standard font\n     * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n     * // set brush\n     * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n     * //\n     * // set the specified point using `getClientSize` method\n     * let point : PointF = new PointF(page1.getClientSize().width - 200, page1.getClientSize().height - 200);\n     * // draw the text\n     * page1.graphics.drawString('Hello World', font, blackBrush, point);\n     * //\n     * // save the document\n     * document.save('output.pdf');\n     * // destroy the document\n     * document.destroy();\n     * ```\n     */\n    PdfPage.prototype.getClientSize = function () {\n        var returnValue = this.section.getActualBounds(this, true);\n        return new SizeF(returnValue.width, returnValue.height);\n    };\n    /**\n     * Helper method to retrive the instance of `PageBeginSave` event for header and footer elements.\n     * @private\n     */\n    PdfPage.prototype.pageBeginSave = function () {\n        var doc = this.document;\n        if (typeof doc !== undefined && doc != null) {\n            this.drawPageTemplates(doc);\n        }\n        if (this.beginSave != null && typeof this.beginSave !== 'undefined') {\n            this.beginSave(this);\n        }\n    };\n    /**\n     * Helper method to draw template elements.\n     * @private\n     */\n    PdfPage.prototype.drawPageTemplates = function (document) {\n        // Draw Background templates.\n        var hasBackTemplates = this.section.containsTemplates(document, this, false);\n        if (hasBackTemplates) {\n            var backLayer = new PdfPageLayer(this, false);\n            this.layers.insert(0, backLayer);\n            this.section.drawTemplates(this, backLayer, document, false);\n            if (backLayer.graphics !== null && typeof backLayer.graphics !== 'undefined') {\n                for (var i = 0; i < backLayer.graphics.automaticFields.automaticFields.length; i++) {\n                    var fieldInfo = backLayer.graphics.automaticFields.automaticFields[i];\n                    fieldInfo.field.performDraw(backLayer.graphics, fieldInfo.location, fieldInfo.scalingX, fieldInfo.scalingY);\n                }\n            }\n        }\n        // Draw Foreground templates.\n        var hasFrontTemplates = this.section.containsTemplates(document, this, true);\n        if (hasFrontTemplates) {\n            var frontLayer = new PdfPageLayer(this, false);\n            this.layers.add(frontLayer);\n            this.section.drawTemplates(this, frontLayer, document, true);\n        }\n    };\n    return PdfPage;\n}(PdfPageBase));\nexport { PdfPage };\n","/**\n * Provides data for `PageAddedEventHandler` event.\n * This event raises when adding the new PDF page to the PDF document.\n */\nvar PageAddedEventArgs = /** @class */ (function () {\n    function PageAddedEventArgs(page) {\n        if (typeof page !== 'undefined') {\n            this.pdfPage = page;\n        }\n        else {\n            this.pdfPage = null;\n        }\n    }\n    Object.defineProperty(PageAddedEventArgs.prototype, \"page\", {\n        /**\n         * Gets the `newly added page`.\n         * @private\n         */\n        get: function () {\n            return this.pdfPage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PageAddedEventArgs;\n}());\nexport { PageAddedEventArgs };\n","/**\n * Represents the `collection of pages in a section`.\n * @private\n */\nvar PdfSectionPageCollection = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initializes a new instance of the `PdfSectionPageCollection` class.\n     * @private\n     */\n    function PdfSectionPageCollection(section) {\n        //  Fields\n        /**\n         * @hidden\n         * @private\n         */\n        this.pdfSection = null;\n        if (section == null) {\n            throw Error('ArgumentNullException(\"section\")');\n        }\n        this.section = section;\n    }\n    Object.defineProperty(PdfSectionPageCollection.prototype, \"section\", {\n        // Properties\n        /**\n         * Gets the `PdfPage` at the specified index.\n         * @private\n         */\n        get: function () {\n            return this.pdfSection;\n        },\n        set: function (value) {\n            this.pdfSection = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Public Methods\n    /**\n     * `Determines` whether the specified page is within the collection.\n     * @private\n     */\n    PdfSectionPageCollection.prototype.contains = function (page) {\n        return this.section.contains(page);\n    };\n    /**\n     * `Removes` the specified page from collection.\n     * @private\n     */\n    PdfSectionPageCollection.prototype.remove = function (page) {\n        this.section.remove(page);\n    };\n    /**\n     * `Adds` a new page from collection.\n     * @private\n     */\n    PdfSectionPageCollection.prototype.add = function () {\n        return this.section.add();\n    };\n    return PdfSectionPageCollection;\n}());\nexport { PdfSectionPageCollection };\n","import { TemplateType } from './../pages/enum';\n// import { PdfStampCollection } from `./../Pages/PdfStampCollection`;\n/**\n * `PdfDocumentTemplate` class encapsulates a page template for all the pages in the document.\n * @private\n */\nvar PdfDocumentTemplate = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initializes a new instance of the `PdfDocumentTemplate` class.\n     * @public\n     */\n    function PdfDocumentTemplate() {\n        //\n    }\n    Object.defineProperty(PdfDocumentTemplate.prototype, \"left\", {\n        // private m_stamps : PdfStampCollection;\n        // Properties\n        /**\n         * `Left` page template object.\n         * @public\n         */\n        get: function () {\n            return this.leftTemplate;\n        },\n        set: function (value) {\n            this.leftTemplate = this.checkElement(value, TemplateType.Left);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentTemplate.prototype, \"top\", {\n        /**\n         * `Top` page template object.\n         * @public\n         */\n        get: function () {\n            return this.topTemplate;\n        },\n        set: function (value) {\n            this.topTemplate = this.checkElement(value, TemplateType.Top);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentTemplate.prototype, \"right\", {\n        /**\n         * `Right` page template object.\n         * @public\n         */\n        get: function () {\n            return this.rightTemplate;\n        },\n        set: function (value) {\n            this.rightTemplate = this.checkElement(value, TemplateType.Right);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentTemplate.prototype, \"bottom\", {\n        /**\n         * `Bottom` page template object.\n         * @public\n         */\n        get: function () {\n            return this.bottomTemplate;\n        },\n        set: function (value) {\n            this.bottomTemplate = this.checkElement(value, TemplateType.Bottom);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentTemplate.prototype, \"EvenLeft\", {\n        /**\n         * `EvenLeft` page template object.\n         * @public\n         */\n        get: function () {\n            return this.evenLeft;\n        },\n        set: function (value) {\n            this.evenLeft = this.checkElement(value, TemplateType.Left);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentTemplate.prototype, \"EvenTop\", {\n        /**\n         * `EvenTop` page template object.\n         * @public\n         */\n        get: function () {\n            return this.evenTop;\n        },\n        set: function (value) {\n            this.evenTop = this.checkElement(value, TemplateType.Top);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentTemplate.prototype, \"EvenRight\", {\n        /**\n         * `EvenRight` page template object.\n         * @public\n         */\n        get: function () {\n            return this.evenRight;\n        },\n        set: function (value) {\n            this.evenRight = this.checkElement(value, TemplateType.Right);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentTemplate.prototype, \"EvenBottom\", {\n        /**\n         * `EvenBottom` page template object.\n         * @public\n         */\n        get: function () {\n            return this.evenBottom;\n        },\n        set: function (value) {\n            this.evenBottom = this.checkElement(value, TemplateType.Bottom);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentTemplate.prototype, \"OddLeft\", {\n        /**\n         * `OddLeft` page template object.\n         * @public\n         */\n        get: function () {\n            return this.oddLeft;\n        },\n        set: function (value) {\n            this.oddLeft = this.checkElement(value, TemplateType.Left);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentTemplate.prototype, \"OddTop\", {\n        /**\n         * `OddTop` page template object.\n         * @public\n         */\n        get: function () {\n            return this.oddTop;\n        },\n        set: function (value) {\n            this.oddTop = this.checkElement(value, TemplateType.Top);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentTemplate.prototype, \"OddRight\", {\n        /**\n         * `OddRight` page template object.\n         * @public\n         */\n        get: function () {\n            return this.oddRight;\n        },\n        set: function (value) {\n            this.oddRight = this.checkElement(value, TemplateType.Right);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentTemplate.prototype, \"OddBottom\", {\n        /**\n         * `OddBottom` page template object.\n         * @public\n         */\n        get: function () {\n            return this.oddBottom;\n        },\n        set: function (value) {\n            this.oddBottom = this.checkElement(value, TemplateType.Bottom);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * Returns `left` template.\n     * @public\n     */\n    PdfDocumentTemplate.prototype.getLeft = function (page) {\n        if (page == null) {\n            throw new Error('ArgumentNullException:page');\n        }\n        var template = null;\n        // if (page.Document.Pages != null) {\n        var even = this.isEven(page);\n        if (even) {\n            template = (this.EvenLeft != null) ? this.EvenLeft : this.left;\n        }\n        else {\n            template = (this.OddLeft != null) ? this.OddLeft : this.left;\n        }\n        // }\n        return template;\n    };\n    /**\n     * Returns `top` template.\n     * @public\n     */\n    PdfDocumentTemplate.prototype.getTop = function (page) {\n        if (page == null) {\n            throw new Error('ArgumentNullException:page');\n        }\n        var template = null;\n        // if (page.Document.Pages != null) {\n        var even = this.isEven(page);\n        if (even) {\n            template = (this.EvenTop != null) ? this.EvenTop : this.top;\n        }\n        else {\n            template = (this.OddTop != null) ? this.OddTop : this.top;\n        }\n        // }\n        return template;\n    };\n    /**\n     * Returns `right` template.\n     * @public\n     */\n    PdfDocumentTemplate.prototype.getRight = function (page) {\n        if (page == null) {\n            throw new Error('ArgumentNullException:page');\n        }\n        var template = null;\n        // if (page.Document.Pages != null) {\n        var even = this.isEven(page);\n        if (even) {\n            template = (this.EvenRight != null) ? this.EvenRight : this.right;\n        }\n        else {\n            template = (this.OddRight != null) ? this.OddRight : this.right;\n        }\n        // }\n        return template;\n    };\n    /**\n     * Returns `bottom` template.\n     * @public\n     */\n    PdfDocumentTemplate.prototype.getBottom = function (page) {\n        if (page == null) {\n            throw new Error('ArgumentNullException:page');\n        }\n        var template = null;\n        // if (page.Document.Pages != null) {\n        var even = this.isEven(page);\n        if (even) {\n            template = (this.EvenBottom != null) ? this.EvenBottom : this.bottom;\n        }\n        else {\n            template = (this.OddBottom != null) ? this.OddBottom : this.bottom;\n        }\n        // }\n        return template;\n    };\n    /**\n     * Checks whether the page `is even`.\n     * @private\n     */\n    PdfDocumentTemplate.prototype.isEven = function (page) {\n        var pages = page.section.document.pages;\n        var index = 0;\n        if (pages.pageCollectionIndex.containsKey(page)) {\n            index = pages.pageCollectionIndex.getValue(page) + 1;\n        }\n        else {\n            index = pages.indexOf(page) + 1;\n        }\n        var even = ((index % 2) === 0);\n        return even;\n    };\n    /**\n     * Checks a `template element`.\n     * @private\n     */\n    PdfDocumentTemplate.prototype.checkElement = function (templateElement, type) {\n        if (templateElement != null) {\n            if ((typeof templateElement.type !== 'undefined') && (templateElement.type !== TemplateType.None)) {\n                throw new Error('NotSupportedException:Can not reassign the template element. Please, create new one.');\n            }\n            templateElement.type = type;\n        }\n        return templateElement;\n    };\n    return PdfDocumentTemplate;\n}());\nexport { PdfDocumentTemplate };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfSectionTemplate.ts class for EJ2-PDF\n */\nimport { PdfDocumentTemplate } from './../document/pdf-document-template';\n/**\n * Represents a `page template` for all the pages in the section.\n */\nvar PdfSectionTemplate = /** @class */ (function (_super) {\n    __extends(PdfSectionTemplate, _super);\n    // Constructors\n    /**\n     * `Creates a new object`.\n     * @private\n     */\n    function PdfSectionTemplate() {\n        var _this = _super.call(this) || this;\n        _this.leftValue = _this.topValue = _this.rightValue = _this.bottomValue = _this.stampValue = true;\n        return _this;\n    }\n    Object.defineProperty(PdfSectionTemplate.prototype, \"applyDocumentLeftTemplate\", {\n        // Properties\n        /**\n         * Gets or sets value indicating whether parent `Left page template should be used or not`.\n         * @private\n         */\n        get: function () {\n            return this.leftValue;\n        },\n        set: function (value) {\n            this.leftValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSectionTemplate.prototype, \"applyDocumentTopTemplate\", {\n        /**\n         * Gets or sets value indicating whether parent `Top page template should be used or not`.\n         * @private\n         */\n        get: function () {\n            return this.topValue;\n        },\n        set: function (value) {\n            this.topValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSectionTemplate.prototype, \"applyDocumentRightTemplate\", {\n        /**\n         * Gets or sets value indicating whether parent `Right page template should be used or not`.\n         * @private\n         */\n        get: function () {\n            return this.rightValue;\n        },\n        set: function (value) {\n            this.rightValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSectionTemplate.prototype, \"applyDocumentBottomTemplate\", {\n        /**\n         * Gets or sets value indicating whether parent `Bottom page template should be used or not`.\n         * @private\n         */\n        get: function () {\n            return this.bottomValue;\n        },\n        set: function (value) {\n            this.bottomValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSectionTemplate.prototype, \"applyDocumentStamps\", {\n        /**\n         * Gets or sets value indicating whether the `stamp value` is true or not.\n         * @private\n         */\n        get: function () {\n            return this.stampValue;\n        },\n        set: function (value) {\n            this.stampValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfSectionTemplate;\n}(PdfDocumentTemplate));\nexport { PdfSectionTemplate };\n","import { PdfPage } from './pdf-page';\nimport { PageAddedEventArgs } from './page-added-event-arguments';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { SaveSectionEventHandler } from './../primitives/pdf-dictionary';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { PdfSectionCollection } from './pdf-section-collection';\nimport { PdfSectionPageCollection } from './pdf-section-page-collection';\nimport { RectangleF } from './../drawing/pdf-drawing';\nimport { PdfSectionTemplate } from './pdf-section-templates';\n/**\n * Represents a `section` entity. A section it's a set of the pages with similar page settings.\n */\nvar PdfSection = /** @class */ (function () {\n    function PdfSection(document, pageSettings) {\n        //Fields\n        //public PageAdded() : PageAddedEventArgs.PageAddedEventHandler = new PageAddedEventArgs.PageAddedEventHandler(Object,args)\n        /**\n         * @hidden\n         * @private\n         */\n        this.pageAdded = new PageAddedEventArgs();\n        /**\n         * @hidden\n         * @private\n         */\n        this.pdfPages = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        if (typeof pageSettings === 'undefined') {\n            this.constructor(document, document.pageSettings);\n        }\n        else {\n            this.pdfDocument = document;\n            this.settings = pageSettings.clone();\n            this.initialSettings = this.settings.clone();\n            this.initialize();\n        }\n    }\n    Object.defineProperty(PdfSection.prototype, \"parent\", {\n        //Property\n        /**\n         * Gets or sets the `parent`.\n         * @private\n         */\n        get: function () {\n            return this.sectionCollection;\n        },\n        set: function (value) {\n            this.sectionCollection = value;\n            this.section.items.setValue(this.dictionaryProperties.parent, new PdfReferenceHolder(value));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"parentDocument\", {\n        /**\n         * Gets the `parent document`.\n         * @private\n         */\n        get: function () {\n            return this.pdfDocument;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"pageSettings\", {\n        /**\n         * Gets or sets the `page settings` of the section.\n         * @private\n         */\n        get: function () {\n            return this.settings;\n        },\n        set: function (value) {\n            if (value != null) {\n                this.settings = value;\n            }\n            else {\n                throw Error('Value can not be null.');\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"element\", {\n        /**\n         * Gets the wrapped `element`.\n         * @private\n         */\n        get: function () {\n            return this.section;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"count\", {\n        /**\n         * Gets the `count` of the pages in the section.\n         * @private\n         */\n        get: function () {\n            return this.pagesReferences.count;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"template\", {\n        /**\n         * Gets or sets a `template` for the pages in the section.\n         * @private\n         */\n        get: function () {\n            if (this.pageTemplate == null) {\n                this.pageTemplate = new PdfSectionTemplate();\n            }\n            return this.pageTemplate;\n        },\n        set: function (value) {\n            this.pageTemplate = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"document\", {\n        /**\n         * Gets the `document`.\n         * @private\n         */\n        get: function () {\n            return this.sectionCollection.document;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"pages\", {\n        /**\n         * Gets the collection of `pages` in a section (Read only)\n         * @private\n         */\n        get: function () {\n            if (this.pagesCollection == null || typeof this.pagesCollection === 'undefined') {\n                this.pagesCollection = new PdfSectionPageCollection(this);\n            }\n            return this.pagesCollection;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //methods\n    /**\n     * `Return the page collection` of current section.\n     * @private\n     */\n    PdfSection.prototype.getPages = function () {\n        return this.pdfPages;\n    };\n    /**\n     * `Translates` point into native coordinates of the page.\n     * @private\n     */\n    PdfSection.prototype.pointToNativePdf = function (page, point) {\n        var bounds = this.getActualBounds(page, true);\n        point.x += bounds.x;\n        point.y = this.pageSettings.height - (point.y);\n        return point;\n    };\n    /**\n     * Sets the page setting of the current section.\n     * @public\n     * @param settings Instance of `PdfPageSettings`\n     */\n    PdfSection.prototype.setPageSettings = function (settings) {\n        this.settings = settings;\n        this.state.orientation = settings.orientation;\n        this.state.rotate = settings.rotate;\n        this.state.size = settings.size;\n        this.state.origin = settings.origin;\n    };\n    /**\n     * `Initializes` the object.\n     * @private\n     */\n    PdfSection.prototype.initialize = function () {\n        this.pagesReferences = new PdfArray();\n        this.section = new PdfDictionary();\n        this.state = new PageSettingsState(this.pdfDocument);\n        this.section.sectionBeginSave = new SaveSectionEventHandler(this, this.state);\n        this.pageCount = new PdfNumber(0);\n        this.section.items.setValue(this.dictionaryProperties.count, this.pageCount);\n        this.section.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.pages));\n        this.section.items.setValue(this.dictionaryProperties.kids, this.pagesReferences);\n    };\n    /**\n     * Checks whether any template should be printed on this layer.\n     * @private\n     * @param document The parent document.\n     * @param page The parent page.\n     * @param foreground Layer z-order.\n     * @returns True - if some content should be printed on the layer, False otherwise.\n     */\n    PdfSection.prototype.containsTemplates = function (document, page, foreground) {\n        var documentHeaders = this.getDocumentTemplates(document, page, true, foreground);\n        var documentTemplates = this.getDocumentTemplates(document, page, false, foreground);\n        var contains = (documentHeaders.length > 0 || documentTemplates.length > 0);\n        return contains;\n    };\n    /**\n     * Returns array of the document templates.\n     * @private\n     * @param document The parent document.\n     * @param page The parent page.\n     * @param headers If true - return headers/footers, if false - return simple templates.\n     * @param foreground If true - return foreground templates, if false - return background templates.\n     * @returns Returns array of the document templates.\n     */\n    /* tslint:disable */\n    PdfSection.prototype.getDocumentTemplates = function (document, page, headers, foreground) {\n        var templates = [];\n        if (headers) {\n            if (this.template.applyDocumentTopTemplate && document.template.getTop(page) != null) {\n                if ((!(document.template.getTop(page).foreground || foreground)) || (document.template.getTop(page).foreground && foreground)) {\n                    templates.push(document.template.getTop(page));\n                }\n            }\n            if (this.template.applyDocumentBottomTemplate && document.template.getBottom(page) != null) {\n                if ((!(document.template.getBottom(page).foreground || foreground)) || (document.template.getBottom(page).foreground && foreground)) {\n                    templates.push(document.template.getBottom(page));\n                }\n            }\n            if (this.template.applyDocumentLeftTemplate && document.template.getLeft(page) != null) {\n                if ((!(document.template.getLeft(page).foreground || foreground)) || (document.template.getLeft(page).foreground && foreground)) {\n                    templates.push(document.template.getLeft(page));\n                }\n            }\n            if (this.template.applyDocumentRightTemplate && document.template.getRight(page) != null) {\n                if ((!(document.template.getRight(page).foreground || foreground)) || (document.template.getRight(page).foreground && foreground)) {\n                    templates.push(document.template.getRight(page));\n                }\n            }\n        }\n        return templates;\n    };\n    /* tslint:enable */\n    /**\n     * `Adds` the specified page.\n     * @private\n     */\n    PdfSection.prototype.add = function (page) {\n        if (typeof page === 'undefined') {\n            var page_1 = new PdfPage();\n            this.add(page_1);\n            return page_1;\n        }\n        else {\n            var r = this.checkPresence(page);\n            this.pdfPages.push(page);\n            this.pagesReferences.add(r);\n            page.setSection(this);\n            page.resetProgress();\n            this.pageAddedMethod(page);\n        }\n    };\n    /**\n     * `Checks the presence`.\n     * @private\n     */\n    PdfSection.prototype.checkPresence = function (page) {\n        var rh = new PdfReferenceHolder(page);\n        var contains = false;\n        var sc = this.parent;\n        for (var index = 0; index < sc.section.length; index++) {\n            var section = sc.section[index];\n            contains = contains || section.contains(page);\n        }\n        return rh;\n    };\n    /**\n     * `Determines` whether the page in within the section.\n     * @private\n     */\n    PdfSection.prototype.contains = function (page) {\n        var index = this.indexOf(page);\n        return (0 <= index);\n    };\n    /**\n     * Get the `index of` the page.\n     * @private\n     */\n    PdfSection.prototype.indexOf = function (page) {\n        for (var index = 0; index < this.pdfPages.length; index++) {\n            if (this.pdfPages[index] === page) {\n                return this.pdfPages.indexOf(page);\n            }\n        }\n        var r = new PdfReferenceHolder(page);\n        return this.pagesReferences.indexOf(r);\n    };\n    /**\n     * Call two event's methods.\n     * @hidden\n     * @private\n     */\n    PdfSection.prototype.pageAddedMethod = function (page) {\n        //Create event's arguments\n        var args = new PageAddedEventArgs(page);\n        this.onPageAdded(args);\n        var parent = this.parent;\n        parent.document.pages.onPageAdded(args);\n        this.pageCount.intValue = this.count;\n    };\n    /**\n     * Called when the page has been added.\n     * @hidden\n     * @private\n     */\n    PdfSection.prototype.onPageAdded = function (args) {\n        //\n    };\n    PdfSection.prototype.getActualBounds = function (arg1, arg2, arg3) {\n        if (arg1 instanceof PdfPage && typeof arg2 === 'boolean') {\n            var result = void 0;\n            var document_1 = this.parent.document;\n            result = this.getActualBounds(document_1, arg1, arg2);\n            return result;\n        }\n        else {\n            arg1 = arg1;\n            arg2 = arg2;\n            arg3 = arg3;\n            var bounds = new RectangleF(0, 0, 0, 0);\n            bounds.height = (arg3) ? this.pageSettings.size.height : this.pageSettings.getActualSize().height;\n            bounds.width = (arg3) ? this.pageSettings.size.width : this.pageSettings.getActualSize().width;\n            var left = this.getLeftIndentWidth(arg1, arg2, arg3);\n            var top_1 = this.getTopIndentHeight(arg1, arg2, arg3);\n            var right = this.getRightIndentWidth(arg1, arg2, arg3);\n            var bottom = this.getBottomIndentHeight(arg1, arg2, arg3);\n            bounds.x += left;\n            bounds.y += top_1;\n            bounds.width -= (left + right);\n            bounds.height -= (top_1 + bottom);\n            return bounds;\n        }\n    };\n    /**\n     * Calculates width of the `left indent`.\n     * @private\n     */\n    PdfSection.prototype.getLeftIndentWidth = function (document, page, includeMargins) {\n        if (document == null) {\n            throw new Error('ArgumentNullException:document');\n        }\n        if (page == null) {\n            throw new Error('ArgumentNullException:page');\n        }\n        var value = (includeMargins) ? this.pageSettings.margins.left : 0;\n        var templateWidth = (this.template.getLeft(page) != null) ? this.template.getLeft(page).width : 0;\n        var docTemplateWidth = (document.template.getLeft(page) != null) ? document.template.getLeft(page).width : 0;\n        value += (this.template.applyDocumentLeftTemplate) ? Math.max(templateWidth, docTemplateWidth) : templateWidth;\n        return value;\n    };\n    /**\n     * Calculates `Height` of the top indent.\n     * @private\n     */\n    PdfSection.prototype.getTopIndentHeight = function (document, page, includeMargins) {\n        if (document == null) {\n            throw new Error('ArgumentNullException:document');\n        }\n        if (page == null) {\n            throw new Error('ArgumentNullException:page');\n        }\n        var value = (includeMargins) ? this.pageSettings.margins.top : 0;\n        var templateHeight = (this.template.getTop(page) != null) ? this.template.getTop(page).height : 0;\n        var docTemplateHeight = (document.template.getTop(page) != null) ? document.template.getTop(page).height : 0;\n        value += (this.template.applyDocumentTopTemplate) ? Math.max(templateHeight, docTemplateHeight) : templateHeight;\n        return value;\n    };\n    /**\n     * Calculates `width` of the right indent.\n     * @private\n     */\n    PdfSection.prototype.getRightIndentWidth = function (document, page, includeMargins) {\n        if (document == null) {\n            throw new Error('ArgumentNullException:document');\n        }\n        if (page == null) {\n            throw new Error('ArgumentNullException:page');\n        }\n        var value = (includeMargins) ? this.pageSettings.margins.right : 0;\n        var templateWidth = (this.template.getRight(page) != null) ? this.template.getRight(page).width : 0;\n        var docTemplateWidth = (document.template.getRight(page) != null) ? document.template.getRight(page).width : 0;\n        value += (this.template.applyDocumentRightTemplate) ? Math.max(templateWidth, docTemplateWidth) : templateWidth;\n        return value;\n    };\n    /**\n     * Calculates `Height` of the bottom indent.\n     * @private\n     */\n    PdfSection.prototype.getBottomIndentHeight = function (document, page, includeMargins) {\n        if (document == null) {\n            throw new Error('ArgumentNullException:document');\n        }\n        if (page == null) {\n            throw new Error('ArgumentNullException:page');\n        }\n        var value = (includeMargins) ? this.pageSettings.margins.bottom : 0;\n        var templateHeight = (this.template.getBottom(page) != null) ? this.template.getBottom(page).height : 0;\n        var docTemplateHeight = (document.template.getBottom(page) != null) ? document.template.getBottom(page).height : 0;\n        value += (this.template.applyDocumentBottomTemplate) ? Math.max(templateHeight, docTemplateHeight) : templateHeight;\n        return value;\n    };\n    /**\n     * `Removes` the page from the section.\n     * @private\n     */\n    PdfSection.prototype.remove = function (page) {\n        if (page == null) {\n            throw Error('ArgumentNullException(\"page\")');\n        }\n        var index = this.pdfPages.indexOf(page);\n        this.pagesReferences.removeAt(index);\n        var temproaryPages = [];\n        for (var j = 0; j < index; j++) {\n            temproaryPages.push(this.pdfPages[j]);\n        }\n        for (var j = index + 1; j < this.pdfPages.length; j++) {\n            temproaryPages.push(this.pdfPages[j]);\n        }\n        this.pdfPages = temproaryPages;\n    };\n    /**\n     * In fills dictionary by the data from `Page settings`.\n     * @private\n     */\n    PdfSection.prototype.applyPageSettings = function (container, parentSettings, state) {\n        var bounds = new RectangleF(state.origin, state.size);\n        container.items.setValue(this.dictionaryProperties.mediaBox, PdfArray.fromRectangle(bounds));\n        var rotate = 0;\n        rotate = PdfSectionCollection.rotateFactor * state.rotate;\n        var angle = new PdfNumber(rotate);\n        container.items.setValue(this.dictionaryProperties.rotate, angle);\n    };\n    /**\n     * Catches the Save event of the dictionary.\n     * @hidden\n     * @private\n     */\n    PdfSection.prototype.beginSave = function (state, writer) {\n        var doc = writer.document;\n        this.applyPageSettings(this.section, doc.pageSettings, state);\n    };\n    /**\n     * Draws page templates on the page.\n     * @private\n     */\n    PdfSection.prototype.drawTemplates = function (page, layer, document, foreground) {\n        var documentHeaders = this.getDocumentTemplates(document, page, true, foreground);\n        var documentTemplates = this.getDocumentTemplates(document, page, false, foreground);\n        if (foreground) {\n            this.drawTemplatesHelper(layer, document, documentHeaders);\n            this.drawTemplatesHelper(layer, document, documentTemplates);\n        }\n        else {\n            this.drawTemplatesHelper(layer, document, documentHeaders);\n            this.drawTemplatesHelper(layer, document, documentTemplates);\n        }\n    };\n    /**\n     * Draws page templates on the page.\n     * @private\n     */\n    PdfSection.prototype.drawTemplatesHelper = function (layer, document, templates) {\n        if (templates != null && templates.length > 0) {\n            var len = templates.length;\n            for (var i = 0; i < len; i++) {\n                var template = templates[i];\n                template.draw(layer, document);\n            }\n        }\n    };\n    return PdfSection;\n}());\nexport { PdfSection };\nvar PageSettingsState = /** @class */ (function () {\n    //Public Constructor\n    /**\n     * New instance to store the `PageSettings`.\n     * @private\n     */\n    function PageSettingsState(document) {\n        this.pageOrientation = document.pageSettings.orientation;\n        this.pageRotate = document.pageSettings.rotate;\n        this.pageSize = document.pageSettings.size;\n        this.pageOrigin = document.pageSettings.origin;\n    }\n    Object.defineProperty(PageSettingsState.prototype, \"orientation\", {\n        //public Properties\n        /**\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.pageOrientation;\n        },\n        set: function (value) {\n            this.pageOrientation = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PageSettingsState.prototype, \"rotate\", {\n        /**\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.pageRotate;\n        },\n        set: function (value) {\n            this.pageRotate = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PageSettingsState.prototype, \"size\", {\n        /**\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.pageSize;\n        },\n        set: function (value) {\n            this.pageSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PageSettingsState.prototype, \"origin\", {\n        /**\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.pageOrigin;\n        },\n        set: function (value) {\n            this.pageOrigin = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PageSettingsState;\n}());\nexport { PageSettingsState };\n","import { PdfNumber } from './../primitives/pdf-number';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfDictionary, SaveSectionCollectionEventHandler } from './../primitives/pdf-dictionary';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { RectangleF, PointF } from './../drawing/pdf-drawing';\nimport { PdfSection } from './pdf-section';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\n/**\n * Represents the `collection of the sections`.\n * @private\n */\nvar PdfSectionCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfSectionCollection` class.\n     * @private\n     */\n    function PdfSectionCollection(document) {\n        /**\n         * @hidden\n         * @private\n         */\n        this.sections = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        // if (document === null) {\n        //     throw new Error('ArgumentNullException : document');\n        // }\n        this.pdfDocument = document.clone();\n        this.initialize();\n    }\n    Object.defineProperty(PdfSectionCollection.prototype, \"section\", {\n        //Properties\n        /**\n         * Gets the `Section` collection.\n         */\n        get: function () {\n            return this.sections;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSectionCollection.prototype, \"document\", {\n        /**\n         * Gets a parent `document`.\n         * @private\n         */\n        get: function () {\n            return this.pdfDocument;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSectionCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of sections` in a document.\n         * @private\n         */\n        get: function () {\n            return this.sections.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSectionCollection.prototype, \"element\", {\n        /**\n         * Gets the wrapped `element`.\n         * @private\n         */\n        get: function () {\n            return this.pages;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Methods\n    /**\n     * `Initializes the object`.\n     * @private\n     */\n    PdfSectionCollection.prototype.initialize = function () {\n        this.sectionCount = new PdfNumber(0);\n        this.sectionCollection = new PdfArray();\n        this.pages = new PdfDictionary();\n        this.pages.beginSave = new SaveSectionCollectionEventHandler(this);\n        this.pages.items.setValue(this.dictionaryProperties.type, new PdfName('Pages'));\n        this.pages.items.setValue(this.dictionaryProperties.kids, this.sectionCollection);\n        this.pages.items.setValue(this.dictionaryProperties.count, this.sectionCount);\n        this.pages.items.setValue(this.dictionaryProperties.resources, new PdfDictionary());\n        this.setPageSettings(this.pages, this.pdfDocument.pageSettings);\n    };\n    /**\n     * Initializes a new instance of the `PdfSectionCollection` class.\n     * @private\n     */\n    PdfSectionCollection.prototype.pdfSectionCollection = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException()');\n        }\n        return this.sections[index];\n    };\n    /**\n     * In fills dictionary by the data from `Page settings`.\n     * @private\n     */\n    PdfSectionCollection.prototype.setPageSettings = function (container, pageSettings) {\n        // if (container === null) {\n        //     throw new Error('ArgumentNullException : container');\n        // }\n        // if (pageSettings === null) {\n        //     throw new Error('ArgumentNullException : pageSettings');\n        // }\n        var bounds = new RectangleF(new PointF(), pageSettings.size);\n        container.items.setValue(this.dictionaryProperties.mediaBox, PdfArray.fromRectangle(bounds));\n    };\n    /**\n     * `Adds` the specified section.\n     * @private\n     */\n    PdfSectionCollection.prototype.add = function (section) {\n        if (typeof section === 'undefined') {\n            var section_1 = new PdfSection(this.pdfDocument);\n            this.add(section_1);\n            return section_1;\n        }\n        else {\n            // if (section === null) {\n            //     throw new Error('ArgumentNullException : section');\n            // }\n            var r = this.checkSection(section);\n            this.sections.push(section);\n            section.parent = this;\n            this.sectionCollection.add(r);\n            return this.sections.indexOf(section);\n        }\n    };\n    /**\n     * `Checks` if the section is within the collection.\n     * @private\n     */\n    PdfSectionCollection.prototype.checkSection = function (section) {\n        var r = new PdfReferenceHolder(section);\n        var contains = this.sectionCollection.contains(r);\n        // if (contains) {\n        //     throw new Error('ArgumentException : The object can not be added twice to the collection,section');\n        // }\n        return r;\n    };\n    /**\n     * Catches the Save event of the dictionary to `count the pages`.\n     * @private\n     */\n    PdfSectionCollection.prototype.countPages = function () {\n        var count = 0;\n        this.sections.forEach(function (n) { return (count += n.count); });\n        return count;\n    };\n    /**\n     * Catches the Save event of the dictionary to `count the pages`.\n     * @hidden\n     * @private\n     */\n    PdfSectionCollection.prototype.beginSave = function () {\n        this.sectionCount.intValue = this.countPages();\n    };\n    //Fields\n    /**\n     * Rotate factor for page `rotation`.\n     * @default 90\n     * @private\n     */\n    PdfSectionCollection.rotateFactor = 90;\n    return PdfSectionCollection;\n}());\nexport { PdfSectionCollection };\n","import { PdfPage } from './pdf-page';\nimport { Dictionary } from './../collections/dictionary';\nimport { PdfPageOrientation } from './enum';\n/**\n * Represents a virtual collection of all the pages in the document.\n * @private\n */\nvar PdfDocumentPageCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfPageCollection` class.\n     * @private\n     */\n    function PdfDocumentPageCollection(document) {\n        /**\n         * It holds the page collection with the `index`.\n         * @private\n         */\n        this.pdfPageCollectionIndex = new Dictionary();\n        /**\n         * Stores the previous pages's `orientation`.\n         * @default PdfPageOrientation.Portrait\n         * @private\n         */\n        this.previousPageOrientation = PdfPageOrientation.Portrait;\n        this.document = document;\n    }\n    Object.defineProperty(PdfDocumentPageCollection.prototype, \"count\", {\n        //Property\n        /**\n         * Gets the total `number of the pages`.\n         * @private\n         */\n        get: function () {\n            return this.countPages();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocumentPageCollection.prototype, \"pageCollectionIndex\", {\n        /**\n         * Gets a `page index` from the document.\n         * @private\n         */\n        get: function () {\n            return this.pdfPageCollectionIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfDocumentPageCollection.prototype.add = function (page) {\n        if (typeof page === 'undefined') {\n            var page_1 = new PdfPage();\n            this.add(page_1);\n            return page_1;\n        }\n        else {\n            var section = this.getLastSection();\n            if (section.pageSettings.orientation !== this.previousPageOrientation) {\n                section = this.document.sections.add();\n                section.pageSettings.orientation = this.document.pageSettings.orientation;\n            }\n            section.add(page);\n        }\n    };\n    /**\n     * Returns `last section` in the document.\n     * @private\n     */\n    PdfDocumentPageCollection.prototype.getLastSection = function () {\n        var sc = this.document.sections;\n        if (sc.section.length === 0) {\n            sc.add();\n        }\n        var section = sc.section[sc.section.length - 1];\n        return section;\n    };\n    /**\n     * Called when `new page has been added`.\n     * @private\n     */\n    PdfDocumentPageCollection.prototype.onPageAdded = function (args) {\n        // if (PageAdded !== null)\n        // {\n        //     PageAdded(this, args);\n        // }\n    };\n    /**\n     * Gets the `total number of pages`.\n     * @private\n     */\n    PdfDocumentPageCollection.prototype.countPages = function () {\n        var sc = this.document.sections;\n        var count = 0;\n        for (var index = 0; index < sc.section.length; index++) {\n            count += sc.section[index].count;\n        }\n        return count;\n    };\n    /**\n     * Gets the `page object` from page index.\n     * @private\n     */\n    PdfDocumentPageCollection.prototype.getPageByIndex = function (index) {\n        return this.getPage(index);\n    };\n    /**\n     * Gets a page by its `index` in the document.\n     * @private\n     */\n    PdfDocumentPageCollection.prototype.getPage = function (index) {\n        if ((index < 0) || (index >= this.count)) {\n            throw Error('ArgumentOutOfRangeException(\"index\", \"Value can not be less 0\")');\n        }\n        var page = null;\n        var sectionStartIndex = 0;\n        var sectionCount = 0;\n        var pageIndex = 0;\n        var length = this.document.sections.count;\n        for (var i = 0; i < length; i++) {\n            var section = this.document.sections.section[i];\n            sectionCount = section.count;\n            pageIndex = index - sectionStartIndex;\n            // We found a section containing the page.\n            if ((index >= sectionStartIndex && pageIndex < sectionCount)) {\n                page = section.getPages()[pageIndex];\n                break;\n            }\n            sectionStartIndex += sectionCount;\n        }\n        return page;\n    };\n    /**\n     * Gets the `index of` the page in the document.\n     * @private\n     */\n    PdfDocumentPageCollection.prototype.indexOf = function (page) {\n        var index = -1;\n        if (page == null) {\n            throw new Error('ArgumentNullException: page');\n        }\n        else {\n            var numPages = 0;\n            for (var i = 0, len = this.document.sections.count; i < len; i++) {\n                var section = this.document.sections.pdfSectionCollection(i);\n                index = section.indexOf(page);\n                if (index >= 0) {\n                    index += numPages;\n                    break;\n                }\n                else {\n                    index = -1;\n                }\n                numPages += section.count;\n            }\n        }\n        return index;\n    };\n    /**\n     * `Removes` the specified page.\n     * @private\n     */\n    PdfDocumentPageCollection.prototype.remove = function (page) {\n        if (page == null) {\n            throw Error('ArgumentNullException(\"page\")');\n        }\n        var section = null;\n        var len;\n        for (var i = 0, len_1 = this.document.sections.count; i < len_1; i++) {\n            section = this.document.sections.pdfSectionCollection(i);\n            if (section.pages.contains(page)) {\n                section.pages.remove(page);\n                break;\n            }\n        }\n        return section;\n    };\n    return PdfDocumentPageCollection;\n}());\nexport { PdfDocumentPageCollection };\n","/**\n * PdfCacheCollection.ts class for EJ2-PDF\n */\nimport { Dictionary } from './../collections/dictionary';\n/**\n * `Collection of the cached objects`.\n * @private\n */\nvar PdfCacheCollection = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initializes a new instance of the `PdfCacheCollection` class.\n     * @private\n     */\n    function PdfCacheCollection() {\n        this.referenceObjects = [];\n        this.pdfFontCollection = new Dictionary();\n    }\n    // Public methods\n    /**\n     * `Searches` for the similar cached object. If is not found - adds the object to the cache.\n     * @private\n     */\n    PdfCacheCollection.prototype.search = function (obj) {\n        var result = null;\n        var group = this.createNewGroup();\n        group.push(obj);\n        return result;\n    };\n    // Implementation\n    /**\n     * `Creates` a new group.\n     * @private\n     */\n    PdfCacheCollection.prototype.createNewGroup = function () {\n        var group = [];\n        this.referenceObjects.push(group);\n        return group;\n    };\n    PdfCacheCollection.prototype.destroy = function () {\n        this.pdfFontCollection = undefined;\n        this.referenceObjects = undefined;\n    };\n    return PdfCacheCollection;\n}());\nexport { PdfCacheCollection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfWriter } from './../input-output/pdf-writer';\nimport { PdfMainObjectCollection } from './../input-output/pdf-main-object-collection';\nimport { PdfDocumentBase } from './pdf-document-base';\nimport { PdfCrossTable } from './../input-output/pdf-cross-table';\nimport { PdfCatalog } from './pdf-catalog';\nimport { PdfPageSettings } from './../pages/pdf-page-settings';\nimport { PdfSectionCollection } from './../pages/pdf-section-collection';\nimport { PdfDocumentPageCollection } from './../pages/pdf-document-page-collection';\nimport { PdfCacheCollection } from './../general/pdf-cache-collection';\nimport { PdfColorSpace } from './../graphics/enum';\nimport { PdfDocumentTemplate } from './pdf-document-template';\nimport { PdfFontFamily } from './../graphics/fonts/enum';\nimport { PdfStandardFont } from './../graphics/fonts/pdf-standard-font';\n/**\n * Represents a PDF document and can be used to create a new PDF document from the scratch.\n * ```typescript\n * // create a new PDF document\n * let document : PdfDocument = new PdfDocument();\n * // add a new page to the document\n * let page1 : PdfPage = document.pages.add();\n * // set the font\n * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n * // create black brush\n * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n * // draw the text\n * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(0, 0));\n * // save the document\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n */\nvar PdfDocument = /** @class */ (function (_super) {\n    __extends(PdfDocument, _super);\n    function PdfDocument(isMerging) {\n        var _this = _super.call(this) || this;\n        /**\n         * Default `margin` value.\n         * @default 40.0\n         * @private\n         */\n        _this.defaultMargin = 40.0;\n        /**\n         * Internal variable to store instance of `StreamWriter` classes..\n         * @default null\n         * @private\n         */\n        _this.streamWriter = null;\n        _this = _super.call(this, _this) || this;\n        if (isMerging === true || isMerging === false || typeof isMerging !== 'undefined') {\n            var objects = new PdfMainObjectCollection();\n            _this.setMainObjectCollection(objects);\n            var crossTable = new PdfCrossTable();\n            crossTable.isMerging = isMerging;\n            crossTable.document = _this;\n            _this.setCrossTable(crossTable);\n            var catalog = new PdfCatalog();\n            _this.setCatalog(catalog);\n            objects.add(catalog);\n            catalog.position = -1;\n            _this.sectionCollection = new PdfSectionCollection(_this);\n            _this.documentPageCollection = new PdfDocumentPageCollection(_this);\n            catalog.pages = _this.sectionCollection;\n        }\n        else {\n            PdfDocument.cacheCollection = new PdfCacheCollection();\n            _this.constructor(false);\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfDocument, \"defaultFont\", {\n        //Properties\n        /**\n         * Gets the `default font`. It is used for complex objects when font is not explicitly defined.\n         * @private\n         */\n        get: function () {\n            if (this.defaultStandardFont == null) {\n                this.defaultStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 8);\n            }\n            return this.defaultStandardFont;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocument.prototype, \"sections\", {\n        /**\n         * Gets the collection of the `sections` in the document.\n         * @private\n         */\n        get: function () {\n            return this.sectionCollection;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocument.prototype, \"pageSettings\", {\n        /**\n         * Gets the document's page setting.\n         * @public\n         */\n        get: function () {\n            if (this.settings == null) {\n                this.settings = new PdfPageSettings(this.defaultMargin);\n            }\n            return this.settings;\n        },\n        /**\n         * Sets the document's page setting.\n         * ```typescript\n         * // create a new PDF document\n         * let document : PdfDocument = new PdfDocument();\n         *\n         * // sets the right margin of the page\n         * document.pageSettings.margins.right = 0;\n         * // set the page size.\n         * document.pageSettings.size = new SizeF(500, 500);\n         * // change the page orientation to landscape\n         * document.pageSettings.orientation = PdfPageOrientation.Landscape;\n         * // apply 90 degree rotation on the page\n         * document.pageSettings.rotate = PdfPageRotateAngle.RotateAngle90;\n         *\n         * // add a pages to the document\n         * let page1 : PdfPage = document.pages.add();\n         * // set font\n         * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n         * // set brush\n         * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n         * // set the specified Point\n         * let point : PointF = new PointF(page1.getClientSize().width - 200, page1.getClientSize().height - 200);\n         * // draw the text\n         * page1.graphics.drawString('Hello World', font, blackBrush, point);\n         * // save the document\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        set: function (value) {\n            this.settings = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocument.prototype, \"pages\", {\n        /**\n         * Represents the collection of pages in the PDF document.\n         * ```typescript\n         * // create a new PDF document\n         * let document : PdfDocument = new PdfDocument();\n         * //\n         * // get the collection of pages in the document\n         * let pageCollection : PdfDocumentPageCollection  = document.pages;\n         * //\n         * // add pages\n         * let page1 : PdfPage = pageCollection.add();\n         * // save the document\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            return this.documentPageCollection;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocument, \"cache\", {\n        /**\n         * Gets collection of the `cached objects`.\n         * @private\n         */\n        get: function () {\n            if (typeof PdfDocument.cacheCollection === 'undefined' || PdfDocument.cacheCollection == null) {\n                return new PdfCacheCollection();\n            }\n            return PdfDocument.cacheCollection;\n        },\n        /**\n         * Sets collection of the `cached objects`.\n         * @private\n         */\n        set: function (value) {\n            this.cacheCollection = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocument.prototype, \"colorSpace\", {\n        /* tslint:disable */\n        /**\n         * Gets or sets the `color space` of the document. This property can be used to create PDF document in RGB, Gray scale or CMYK color spaces.\n         * @private\n         */\n        get: function () {\n            if ((this.pdfColorSpace === PdfColorSpace.Rgb) || ((this.pdfColorSpace === PdfColorSpace.Cmyk)\n                || (this.pdfColorSpace === PdfColorSpace.GrayScale))) {\n                return this.pdfColorSpace;\n            }\n            else {\n                return PdfColorSpace.Rgb;\n            }\n        },\n        set: function (value) {\n            if ((value === PdfColorSpace.Rgb) || ((value === PdfColorSpace.Cmyk) ||\n                (value === PdfColorSpace.GrayScale))) {\n                this.pdfColorSpace = value;\n            }\n            else {\n                this.pdfColorSpace = PdfColorSpace.Rgb;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDocument.prototype, \"template\", {\n        /* tslint:enable */\n        /**\n         * Gets or sets a `template` to all pages in the document.\n         * @private\n         */\n        get: function () {\n            if (this.pageTemplate == null) {\n                this.pageTemplate = new PdfDocumentTemplate();\n            }\n            return this.pageTemplate;\n        },\n        set: function (value) {\n            this.pageTemplate = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfDocument.prototype.docSave = function (stream, arg2, arg3) {\n        this.checkPagesPresence();\n        if (stream === null) {\n            throw new Error('ArgumentNullException : stream');\n        }\n        this.streamWriter = stream;\n        var writer = new PdfWriter(stream);\n        writer.document = this;\n        if (typeof arg2 === 'boolean' && typeof arg3 === 'undefined') {\n            return this.crossTable.save(writer);\n        }\n        else {\n            this.crossTable.save(writer, arg2);\n        }\n    };\n    /**\n     * Checks the pages `presence`.\n     * @private\n     */\n    PdfDocument.prototype.checkPagesPresence = function () {\n        if (this.pages.count === 0) {\n            this.pages.add();\n        }\n    };\n    /**\n     * disposes the current instance of `PdfDocument` class.\n     * ```typescript\n     * // create a new PDF document\n     * let document : PdfDocument = new PdfDocument();\n     * // add a new page to the document\n     * let page1 : PdfPage = document.pages.add();\n     * // set the font\n     * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n     * // create black brush\n     * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n     * // draw the text\n     * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(0, 0));\n     * // save the document\n     * document.save('output.pdf');\n     * // destroy the document\n     * document.destroy();\n     * ```\n     */\n    PdfDocument.prototype.destroy = function () {\n        this.catalog = undefined;\n        this.colorSpace = undefined;\n        this.currentSavingObj = undefined;\n        this.documentPageCollection = undefined;\n        this.isStreamCopied = undefined;\n        this.pageSettings = undefined;\n        this.pageTemplate = undefined;\n        this.pdfColorSpace = undefined;\n        this.sectionCollection = undefined;\n        PdfDocument.cache.destroy();\n        this.crossTable.pdfObjects.destroy();\n        PdfDocument.cache = undefined;\n        this.streamWriter.destroy();\n    };\n    /**\n     * `Font` used in complex objects to draw strings and text when it is not defined explicitly.\n     * @default null\n     * @private\n     */\n    PdfDocument.defaultStandardFont = null;\n    return PdfDocument;\n}(PdfDocumentBase));\nexport { PdfDocument };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfFont } from './pdf-font';\nimport { PdfSubSuperScript } from './enum';\nimport { PdfArray } from './../../primitives/pdf-array';\n/**\n * `Metrics` of the font.\n * @private\n */\nvar PdfFontMetrics = /** @class */ (function () {\n    function PdfFontMetrics() {\n        /**\n         * `Line gap`.\n         * @private\n         */\n        this.lineGap = 0;\n    }\n    //  Public methods\n    /**\n     * Returns `ascent` taking into consideration font`s size.\n     * @private\n     */\n    PdfFontMetrics.prototype.getAscent = function (format) {\n        var returnValue = this.ascent * PdfFont.charSizeMultiplier * this.getSize(format);\n        return returnValue;\n    };\n    /**\n     * Returns `descent` taking into consideration font`s size.\n     * @private\n     */\n    PdfFontMetrics.prototype.getDescent = function (format) {\n        var returnValue = this.descent * PdfFont.charSizeMultiplier * this.getSize(format);\n        return returnValue;\n    };\n    /**\n     * Returns `Line gap` taking into consideration font`s size.\n     * @private\n     */\n    PdfFontMetrics.prototype.getLineGap = function (format) {\n        var returnValue = this.lineGap * PdfFont.charSizeMultiplier * this.getSize(format);\n        return returnValue;\n    };\n    /**\n     * Returns `height` taking into consideration font`s size.\n     * @private\n     */\n    PdfFontMetrics.prototype.getHeight = function (format) {\n        var height;\n        var clearTypeFonts = ['cambria', 'candara', 'constantia', 'corbel', 'cariadings'];\n        var clearTypeFontCollection = [];\n        for (var index = 0; index < clearTypeFonts.length; index++) {\n            var font = clearTypeFonts[index];\n            clearTypeFontCollection.push(font);\n        }\n        if (this.getDescent(format) < 0) {\n            // if ((clearTypeFontCollection.indexOf(this.name.toLowerCase()) !== -1) && !this.isUnicodeFont) {\n            //     height = (this.GetAscent(format) - this.GetDescent(format) - this.GetLineGap(format));\n            // } else {\n            height = (this.getAscent(format) - this.getDescent(format) + this.getLineGap(format));\n            // }\n        }\n        else {\n            height = (this.getAscent(format) + this.getDescent(format) + this.getLineGap(format));\n        }\n        return height;\n    };\n    /**\n     * Calculates `size` of the font depending on the subscript/superscript value.\n     * @private\n     */\n    PdfFontMetrics.prototype.getSize = function (format) {\n        var size = this.size;\n        if (format != null) {\n            switch (format.subSuperScript) {\n                case PdfSubSuperScript.SubScript:\n                    size /= this.subScriptSizeFactor;\n                    break;\n                case PdfSubSuperScript.SuperScript:\n                    size /= this.superscriptSizeFactor;\n                    break;\n            }\n        }\n        return size;\n    };\n    /**\n     * `Clones` the metrics.\n     * @private\n     */\n    PdfFontMetrics.prototype.clone = function () {\n        var metrics = this;\n        metrics.widthTable = WidthTable.clone();\n        return metrics;\n    };\n    Object.defineProperty(PdfFontMetrics.prototype, \"widthTable\", {\n        //  Properies\n        /**\n         * Gets or sets the `width table`.\n         * @private\n         */\n        get: function () {\n            return this.internalWidthTable;\n        },\n        set: function (value) {\n            this.internalWidthTable = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfFontMetrics;\n}());\nexport { PdfFontMetrics };\nvar WidthTable = /** @class */ (function () {\n    function WidthTable() {\n    }\n    /**\n     * Static `clones` this instance of the WidthTable class.\n     * @private\n     */\n    WidthTable.clone = function () {\n        return null;\n    };\n    return WidthTable;\n}());\nexport { WidthTable };\nvar StandardWidthTable = /** @class */ (function (_super) {\n    __extends(StandardWidthTable, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `StandardWidthTable` class.\n     * @private\n     */\n    function StandardWidthTable(widths) {\n        var _this = _super.call(this) || this;\n        if (widths == null) {\n            throw new Error('ArgumentNullException:widths');\n        }\n        _this.widths = widths;\n        return _this;\n    }\n    //Properties\n    /**\n     * Gets the `32 bit number` at the specified index.\n     * @private\n     */\n    StandardWidthTable.prototype.items = function (index) {\n        if (index < 0 || index >= this.widths.length) {\n            throw new Error('ArgumentOutOfRangeException:index, The character is not supported by the font.');\n        }\n        var result = this.widths[index];\n        return result;\n    };\n    Object.defineProperty(StandardWidthTable.prototype, \"length\", {\n        /**\n         * Gets the `length` of the internal array.\n         * @private\n         */\n        get: function () {\n            return this.widths.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Overrides\n    /**\n     * `Clones` this instance of the WidthTable class.\n     * @private\n     */\n    StandardWidthTable.prototype.clone = function () {\n        var swt = this;\n        swt.widths = this.widths;\n        return swt;\n    };\n    /**\n     * Converts width table to a `PDF array`.\n     * @private\n     */\n    StandardWidthTable.prototype.toArray = function () {\n        var arr = new PdfArray(this.widths);\n        return arr;\n    };\n    return StandardWidthTable;\n}(WidthTable));\nexport { StandardWidthTable };\n","/**\n * PdfStandardFontMetricsFactory.ts class for EJ2-PDF\n */\nimport { PdfFontStyle, PdfFontFamily } from './enum';\nimport { PdfFontMetrics, StandardWidthTable } from './pdf-font-metrics';\n/**\n * @private\n * `Factory of the standard fonts metrics`.\n */\nvar PdfStandardFontMetricsFactory = /** @class */ (function () {\n    function PdfStandardFontMetricsFactory() {\n    }\n    /**\n     * Returns `metrics` of the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.getMetrics = function (fontFamily, fontStyle, size) {\n        var metrics = null;\n        switch (fontFamily) {\n            case PdfFontFamily.Helvetica:\n                metrics = this.getHelveticaMetrics(fontFamily, fontStyle, size);\n                break;\n            case PdfFontFamily.Courier:\n                metrics = this.getCourierMetrics(fontFamily, fontStyle, size);\n                break;\n            case PdfFontFamily.TimesRoman:\n                metrics = this.getTimesMetrics(fontFamily, fontStyle, size);\n                break;\n            case PdfFontFamily.Symbol:\n                metrics = this.getSymbolMetrics(fontFamily, fontStyle, size);\n                break;\n            case PdfFontFamily.ZapfDingbats:\n                metrics = this.getZapfDingbatsMetrics(fontFamily, fontStyle, size);\n                break;\n            default:\n                metrics = this.getHelveticaMetrics(PdfFontFamily.Helvetica, fontStyle, size);\n                break;\n        }\n        metrics.name = fontFamily.toString();\n        metrics.subScriptSizeFactor = this.subSuperScriptFactor;\n        metrics.superscriptSizeFactor = this.subSuperScriptFactor;\n        return metrics;\n    };\n    // Implementation\n    /**\n     * Creates `Helvetica font metrics`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.getHelveticaMetrics = function (fontFamily, fontStyle, size) {\n        var metrics = new PdfFontMetrics();\n        if ((fontStyle & PdfFontStyle.Bold) > 0 && (fontStyle & PdfFontStyle.Italic) > 0) {\n            metrics.ascent = this.helveticaBoldItalicAscent;\n            metrics.descent = this.helveticaBoldItalicDescent;\n            metrics.postScriptName = this.helveticaBoldItalicName;\n            metrics.size = size;\n            metrics.widthTable = new StandardWidthTable(this.arialBoldWidth);\n            metrics.height = metrics.ascent - metrics.descent;\n        }\n        else if ((fontStyle & PdfFontStyle.Bold) > 0) {\n            metrics.ascent = this.helveticaBoldAscent;\n            metrics.descent = this.helveticaBoldDescent;\n            metrics.postScriptName = this.helveticaBoldName;\n            metrics.size = size;\n            metrics.widthTable = new StandardWidthTable(this.arialBoldWidth);\n            metrics.height = metrics.ascent - metrics.descent;\n        }\n        else if ((fontStyle & PdfFontStyle.Italic) > 0) {\n            metrics.ascent = this.helveticaItalicAscent;\n            metrics.descent = this.helveticaItalicDescent;\n            metrics.postScriptName = this.helveticaItalicName;\n            metrics.size = size;\n            metrics.widthTable = new StandardWidthTable(this.arialWidth);\n            metrics.height = metrics.ascent - metrics.descent;\n        }\n        else {\n            metrics.ascent = this.helveticaAscent;\n            metrics.descent = this.helveticaDescent;\n            metrics.postScriptName = this.helveticaName;\n            metrics.size = size;\n            metrics.widthTable = new StandardWidthTable(this.arialWidth);\n            metrics.height = metrics.ascent - metrics.descent;\n        }\n        return metrics;\n    };\n    /**\n     * Creates `Courier font metrics`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.getCourierMetrics = function (fontFamily, fontStyle, size) {\n        var metrics = new PdfFontMetrics();\n        if ((fontStyle & PdfFontStyle.Bold) > 0 && (fontStyle & PdfFontStyle.Italic) > 0) {\n            metrics.ascent = this.courierBoldItalicAscent;\n            metrics.descent = this.courierBoldItalicDescent;\n            metrics.postScriptName = this.courierBoldItalicName;\n            metrics.size = size;\n            metrics.widthTable = new StandardWidthTable(this.fixedWidth);\n            metrics.height = metrics.ascent - metrics.descent;\n        }\n        else if ((fontStyle & PdfFontStyle.Bold) > 0) {\n            metrics.ascent = this.courierBoldAscent;\n            metrics.descent = this.courierBoldDescent;\n            metrics.postScriptName = this.courierBoldName;\n            metrics.size = size;\n            metrics.widthTable = new StandardWidthTable(this.fixedWidth);\n            metrics.height = metrics.ascent - metrics.descent;\n        }\n        else if ((fontStyle & PdfFontStyle.Italic) > 0) {\n            metrics.ascent = this.courierItalicAscent;\n            metrics.descent = this.courierItalicDescent;\n            metrics.postScriptName = this.courierItalicName;\n            metrics.size = size;\n            metrics.widthTable = new StandardWidthTable(this.fixedWidth);\n            metrics.height = metrics.ascent - metrics.descent;\n        }\n        else {\n            metrics.ascent = this.courierAscent;\n            metrics.descent = this.courierDescent;\n            metrics.postScriptName = this.courierName;\n            metrics.size = size;\n            metrics.widthTable = new StandardWidthTable(this.fixedWidth);\n            metrics.height = metrics.ascent - metrics.descent;\n        }\n        return metrics;\n    };\n    /**\n     * Creates `Times font metrics`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.getTimesMetrics = function (fontFamily, fontStyle, size) {\n        var metrics = new PdfFontMetrics();\n        if ((fontStyle & PdfFontStyle.Bold) > 0 && (fontStyle & PdfFontStyle.Italic) > 0) {\n            metrics.ascent = this.timesBoldItalicAscent;\n            metrics.descent = this.timesBoldItalicDescent;\n            metrics.postScriptName = this.timesBoldItalicName;\n            metrics.size = size;\n            metrics.widthTable = new StandardWidthTable(this.timesRomanBoldItalicWidths);\n            metrics.height = metrics.ascent - metrics.descent;\n        }\n        else if ((fontStyle & PdfFontStyle.Bold) > 0) {\n            metrics.ascent = this.timesBoldAscent;\n            metrics.descent = this.timesBoldDescent;\n            metrics.postScriptName = this.timesBoldName;\n            metrics.size = size;\n            metrics.widthTable = new StandardWidthTable(this.timesRomanBoldWidth);\n            metrics.height = metrics.ascent - metrics.descent;\n        }\n        else if ((fontStyle & PdfFontStyle.Italic) > 0) {\n            metrics.ascent = this.timesItalicAscent;\n            metrics.descent = this.timesItalicDescent;\n            metrics.postScriptName = this.timesItalicName;\n            metrics.size = size;\n            metrics.widthTable = new StandardWidthTable(this.timesRomanItalicWidth);\n            metrics.height = metrics.ascent - metrics.descent;\n        }\n        else {\n            metrics.ascent = this.timesAscent;\n            metrics.descent = this.timesDescent;\n            metrics.postScriptName = this.timesName;\n            metrics.size = size;\n            metrics.widthTable = new StandardWidthTable(this.timesRomanWidth);\n            metrics.height = metrics.ascent - metrics.descent;\n        }\n        return metrics;\n    };\n    /**\n     * Creates `Symbol font metrics`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.getSymbolMetrics = function (fontFamily, fontStyle, size) {\n        var metrics = new PdfFontMetrics();\n        metrics.ascent = this.symbolAscent;\n        metrics.descent = this.symbolDescent;\n        metrics.postScriptName = this.symbolName;\n        metrics.size = size;\n        metrics.widthTable = new StandardWidthTable(this.symbolWidth);\n        metrics.height = metrics.ascent - metrics.descent;\n        return metrics;\n    };\n    /**\n     * Creates `ZapfDingbats font metrics`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.getZapfDingbatsMetrics = function (fontFamily, fontStyle, size) {\n        var metrics = new PdfFontMetrics();\n        metrics.ascent = this.zapfDingbatsAscent;\n        metrics.descent = this.zapfDingbatsDescent;\n        metrics.postScriptName = this.zapfDingbatsName;\n        metrics.size = size;\n        metrics.widthTable = new StandardWidthTable(this.zapfDingbatsWidth);\n        metrics.height = metrics.ascent - metrics.descent;\n        return metrics;\n    };\n    /**\n     * `Multiplier` os subscript superscript.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.subSuperScriptFactor = 1.52;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.helveticaAscent = 931;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.helveticaDescent = -225;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.helveticaName = 'Helvetica';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.helveticaBoldAscent = 962;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.helveticaBoldDescent = -228;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.helveticaBoldName = 'Helvetica-Bold';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.helveticaItalicAscent = 931;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.helveticaItalicDescent = -225;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.helveticaItalicName = 'Helvetica-Oblique';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.helveticaBoldItalicAscent = 962;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.helveticaBoldItalicDescent = -228;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.helveticaBoldItalicName = 'Helvetica-BoldOblique';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.courierAscent = 805;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.courierDescent = -250;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.courierName = 'Courier';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.courierBoldAscent = 801;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.courierBoldDescent = -250;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.courierBoldName = 'Courier-Bold';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.courierItalicAscent = 805;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.courierItalicDescent = -250;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.courierItalicName = 'Courier-Oblique';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.courierBoldItalicAscent = 801;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.courierBoldItalicDescent = -250;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.courierBoldItalicName = 'Courier-BoldOblique';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesAscent = 898;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesDescent = -218;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesName = 'Times-Roman';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesBoldAscent = 935;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesBoldDescent = -218;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesBoldName = 'Times-Bold';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesItalicAscent = 883;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesItalicDescent = -217;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesItalicName = 'Times-Italic';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesBoldItalicAscent = 921;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesBoldItalicDescent = -218;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesBoldItalicName = 'Times-BoldItalic';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.symbolAscent = 1010;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.symbolDescent = -293;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.symbolName = 'Symbol';\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.zapfDingbatsAscent = 820;\n    /**\n     * `Ascender` value for the font.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.zapfDingbatsDescent = -143;\n    /**\n     * `Font type`.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.zapfDingbatsName = 'ZapfDingbats';\n    /**\n     * `Arial` widths table.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.arialWidth = [\n        278, 278, 355, 556, 556, 889, 667, 191, 333, 333, 389, 584, 278, 333,\n        278, 278, 556, 556, 556, 556, 556, 556, 556, 556, 556, 556, 278, 278, 584, 584,\n        584, 556, 1015, 667, 667, 722, 722, 667, 611, 778, 722, 278, 500, 667, 556, 833,\n        722, 778, 667, 778, 722, 667, 611, 722, 667, 944, 667, 667, 611, 278, 278, 278,\n        469, 556, 333, 556, 556, 500, 556, 556, 278, 556, 556, 222, 222, 500, 222, 833,\n        556, 556, 556, 556, 333, 500, 278, 556, 500, 722, 500, 500, 500, 334, 260, 334,\n        584, 0, 556, 0, 222, 556, 333, 1000, 556, 556, 333, 1000, 667, 333, 1000, 0,\n        611, 0, 0, 222, 222, 333, 333, 350, 556, 1000, 333, 1000, 500, 333, 944, 0,\n        500, 667, 0, 333, 556, 556, 556, 556, 260, 556, 333, 737, 370, 556, 584, 0,\n        737, 333, 400, 584, 333, 333, 333, 556, 537, 278, 333, 333, 365, 556, 834, 834,\n        834, 611, 667, 667, 667, 667, 667, 667, 1000, 722, 667, 667, 667, 667, 278, 278,\n        278, 278, 722, 722, 778, 778, 778, 778, 778, 584, 778, 722, 722, 722, 722, 667,\n        667, 611, 556, 556, 556, 556, 556, 556, 889, 500, 556, 556, 556, 556, 278, 278,\n        278, 278, 556, 556, 556, 556, 556, 556, 556, 584, 611, 556, 556, 556, 556, 500,\n        556, 500\n    ];\n    /**\n     * `Arial bold` widths table.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.arialBoldWidth = [\n        278, 333, 474, 556, 556, 889, 722, 238, 333, 333, 389, 584, 278, 333,\n        278, 278, 556, 556, 556, 556, 556, 556, 556, 556, 556, 556, 333, 333, 584, 584,\n        584, 611, 975, 722, 722, 722, 722, 667, 611, 778, 722, 278, 556, 722, 611, 833,\n        722, 778, 667, 778, 722, 667, 611, 722, 667, 944, 667, 667, 611, 333, 278, 333,\n        584, 556, 333, 556, 611, 556, 611, 556, 333, 611, 611, 278, 278, 556, 278, 889,\n        611, 611, 611, 611, 389, 556, 333, 611, 556, 778, 556, 556, 500, 389, 280, 389,\n        584, 0, 556, 0, 278, 556, 500, 1000, 556, 556, 333, 1000, 667, 333, 1000, 0,\n        611, 0, 0, 278, 278, 500, 500, 350, 556, 1000, 333, 1000, 556, 333, 944, 0,\n        500, 667, 0, 333, 556, 556, 556, 556, 280, 556, 333, 737, 370, 556, 584, 0,\n        737, 333, 400, 584, 333, 333, 333, 611, 556, 278, 333, 333, 365, 556, 834, 834,\n        834, 611, 722, 722, 722, 722, 722, 722, 1000, 722, 667, 667, 667, 667, 278, 278,\n        278, 278, 722, 722, 778, 778, 778, 778, 778, 584, 778, 722, 722, 722, 722, 667,\n        667, 611, 556, 556, 556, 556, 556, 556, 889, 556, 556, 556, 556, 556, 278, 278,\n        278, 278, 611, 611, 611, 611, 611, 611, 611, 584, 611, 611, 611, 611, 611, 556,\n        611, 556\n    ];\n    /**\n     * `Fixed` widths table.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.fixedWidth = [\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,\n        600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600\n    ];\n    /**\n     * `Times` widths table.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesRomanWidth = [\n        250, 333, 408, 500, 500, 833, 778, 180, 333, 333, 500, 564, 250, 333,\n        250, 278, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 278, 278, 564, 564,\n        564, 444, 921, 722, 667, 667, 722, 611, 556, 722, 722, 333, 389, 722, 611, 889,\n        722, 722, 556, 722, 667, 556, 611, 722, 722, 944, 722, 722, 611, 333, 278, 333,\n        469, 500, 333, 444, 500, 444, 500, 444, 333, 500, 500, 278, 278, 500, 278, 778,\n        500, 500, 500, 500, 333, 389, 278, 500, 500, 722, 500, 500, 444, 480, 200, 480,\n        541, 0, 500, 0, 333, 500, 444, 1000, 500, 500, 333, 1000, 556, 333, 889, 0,\n        611, 0, 0, 333, 333, 444, 444, 350, 500, 1000, 333, 980, 389, 333, 722, 0,\n        444, 722, 0, 333, 500, 500, 500, 500, 200, 500, 333, 760, 276, 500, 564, 0,\n        760, 333, 400, 564, 300, 300, 333, 500, 453, 250, 333, 300, 310, 500, 750, 750,\n        750, 444, 722, 722, 722, 722, 722, 722, 889, 667, 611, 611, 611, 611, 333, 333,\n        333, 333, 722, 722, 722, 722, 722, 722, 722, 564, 722, 722, 722, 722, 722, 722,\n        556, 500, 444, 444, 444, 444, 444, 444, 667, 444, 444, 444, 444, 444, 278, 278,\n        278, 278, 500, 500, 500, 500, 500, 500, 500, 564, 500, 500, 500, 500, 500, 500,\n        500, 500\n    ];\n    /**\n     * `Times bold` widths table.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesRomanBoldWidth = [\n        250, 333, 555, 500, 500, 1000, 833, 278, 333, 333, 500, 570, 250, 333,\n        250, 278, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 333, 333, 570, 570,\n        570, 500, 930, 722, 667, 722, 722, 667, 611, 778, 778, 389, 500, 778, 667, 944,\n        722, 778, 611, 778, 722, 556, 667, 722, 722, 1000, 722, 722, 667, 333, 278, 333,\n        581, 500, 333, 500, 556, 444, 556, 444, 333, 500, 556, 278, 333, 556, 278, 833,\n        556, 500, 556, 556, 444, 389, 333, 556, 500, 722, 500, 500, 444, 394, 220, 394,\n        520, 0, 500, 0, 333, 500, 500, 1000, 500, 500, 333, 1000, 556, 333, 1000, 0,\n        667, 0, 0, 333, 333, 500, 500, 350, 500, 1000, 333, 1000, 389, 333, 722, 0,\n        444, 722, 0, 333, 500, 500, 500, 500, 220, 500, 333, 747, 300, 500, 570, 0,\n        747, 333, 400, 570, 300, 300, 333, 556, 540, 250, 333, 300, 330, 500, 750, 750,\n        750, 500, 722, 722, 722, 722, 722, 722, 1000, 722, 667, 667, 667, 667, 389, 389,\n        389, 389, 722, 722, 778, 778, 778, 778, 778, 570, 778, 722, 722, 722, 722, 722,\n        611, 556, 500, 500, 500, 500, 500, 500, 722, 444, 444, 444, 444, 444, 278, 278,\n        278, 278, 500, 556, 500, 500, 500, 500, 500, 570, 500, 556, 556, 556, 556, 500,\n        556, 500\n    ];\n    /**\n     * `Times italic` widths table.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesRomanItalicWidth = [\n        250, 333, 420, 500, 500, 833, 778, 214, 333, 333, 500, 675, 250, 333,\n        250, 278, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 333, 333, 675, 675,\n        675, 500, 920, 611, 611, 667, 722, 611, 611, 722, 722, 333, 444, 667, 556, 833,\n        667, 722, 611, 722, 611, 500, 556, 722, 611, 833, 611, 556, 556, 389, 278, 389,\n        422, 500, 333, 500, 500, 444, 500, 444, 278, 500, 500, 278, 278, 444, 278, 722,\n        500, 500, 500, 500, 389, 389, 278, 500, 444, 667, 444, 444, 389, 400, 275, 400,\n        541, 0, 500, 0, 333, 500, 556, 889, 500, 500, 333, 1000, 500, 333, 944, 0,\n        556, 0, 0, 333, 333, 556, 556, 350, 500, 889, 333, 980, 389, 333, 667, 0,\n        389, 556, 0, 389, 500, 500, 500, 500, 275, 500, 333, 760, 276, 500, 675, 0,\n        760, 333, 400, 675, 300, 300, 333, 500, 523, 250, 333, 300, 310, 500, 750, 750,\n        750, 500, 611, 611, 611, 611, 611, 611, 889, 667, 611, 611, 611, 611, 333, 333,\n        333, 333, 722, 667, 722, 722, 722, 722, 722, 675, 722, 722, 722, 722, 722, 556,\n        611, 500, 500, 500, 500, 500, 500, 500, 667, 444, 444, 444, 444, 444, 278, 278,\n        278, 278, 500, 500, 500, 500, 500, 500, 500, 675, 500, 500, 500, 500, 500, 444,\n        500, 444\n    ];\n    /**\n     * `Times bold italic` widths table.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.timesRomanBoldItalicWidths = [\n        250, 389, 555, 500, 500, 833, 778, 278, 333, 333, 500, 570, 250, 333,\n        250, 278, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 333, 333, 570, 570,\n        570, 500, 832, 667, 667, 667, 722, 667, 667, 722, 778, 389, 500, 667, 611, 889,\n        722, 722, 611, 722, 667, 556, 611, 722, 667, 889, 667, 611, 611, 333, 278, 333,\n        570, 500, 333, 500, 500, 444, 500, 444, 333, 500, 556, 278, 278, 500, 278, 778,\n        556, 500, 500, 500, 389, 389, 278, 556, 444, 667, 500, 444, 389, 348, 220, 348,\n        570, 0, 500, 0, 333, 500, 500, 1000, 500, 500, 333, 1000, 556, 333, 944, 0,\n        611, 0, 0, 333, 333, 500, 500, 350, 500, 1000, 333, 1000, 389, 333, 722, 0,\n        389, 611, 0, 389, 500, 500, 500, 500, 220, 500, 333, 747, 266, 500, 606, 0,\n        747, 333, 400, 570, 300, 300, 333, 576, 500, 250, 333, 300, 300, 500, 750, 750,\n        750, 500, 667, 667, 667, 667, 667, 667, 944, 667, 667, 667, 667, 667, 389, 389,\n        389, 389, 722, 722, 722, 722, 722, 722, 722, 570, 722, 722, 722, 722, 722, 611,\n        611, 500, 500, 500, 500, 500, 500, 500, 722, 444, 444, 444, 444, 444, 278, 278,\n        278, 278, 500, 556, 500, 500, 500, 500, 500, 570, 500, 556, 556, 556, 556, 444,\n        500, 444\n    ];\n    /**\n     * `Symbol` widths table.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.symbolWidth = [\n        250, 333, 713, 500, 549, 833, 778, 439, 333, 333, 500, 549, 250, 549,\n        250, 278, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 278, 278,\n        549, 549, 549, 444, 549, 722, 667, 722, 612, 611, 763, 603, 722, 333,\n        631, 722, 686, 889, 722, 722, 768, 741, 556, 592, 611, 690, 439, 768,\n        645, 795, 611, 333, 863, 333, 658, 500, 500, 631, 549, 549, 494, 439,\n        521, 411, 603, 329, 603, 549, 549, 576, 521, 549, 549, 521, 549, 603,\n        439, 576, 713, 686, 493, 686, 494, 480, 200, 480, 549, 750, 620, 247,\n        549, 167, 713, 500, 753, 753, 753, 753, 1042, 987, 603, 987, 603, 400,\n        549, 411, 549, 549, 713, 494, 460, 549, 549, 549, 549, 1000, 603, 1000,\n        658, 823, 686, 795, 987, 768, 768, 823, 768, 768, 713, 713, 713, 713,\n        713, 713, 713, 768, 713, 790, 790, 890, 823, 549, 250, 713, 603, 603,\n        1042, 987, 603, 987, 603, 494, 329, 790, 790, 786, 713, 384, 384, 384,\n        384, 384, 384, 494, 494, 494, 494, 329, 274, 686, 686, 686, 384, 384,\n        384, 384, 384, 384, 494, 494, 494, -1\n    ];\n    /**\n     * `Zip dingbats` widths table.\n     * @private\n     */\n    PdfStandardFontMetricsFactory.zapfDingbatsWidth = [\n        278, 974, 961, 974, 980, 719, 789, 790, 791, 690, 960, 939, 549, 855,\n        911, 933, 911, 945, 974, 755, 846, 762, 761, 571, 677, 763, 760, 759,\n        754, 494, 552, 537, 577, 692, 786, 788, 788, 790, 793, 794, 816, 823,\n        789, 841, 823, 833, 816, 831, 923, 744, 723, 749, 790, 792, 695, 776,\n        768, 792, 759, 707, 708, 682, 701, 826, 815, 789, 789, 707, 687, 696,\n        689, 786, 787, 713, 791, 785, 791, 873, 761, 762, 762, 759, 759, 892,\n        892, 788, 784, 438, 138, 277, 415, 392, 392, 668, 668, 390, 390, 317,\n        317, 276, 276, 509, 509, 410, 410, 234, 234, 334, 334, 732, 544, 544,\n        910, 667, 760, 760, 776, 595, 694, 626, 788, 788, 788, 788, 788, 788,\n        788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788,\n        788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788,\n        788, 788, 788, 788, 788, 788, 894, 838, 1016, 458, 748, 924, 748, 918,\n        927, 928, 928, 834, 873, 828, 924, 924, 917, 930, 931, 463, 883, 836,\n        836, 867, 867, 696, 696, 874, 874, 760, 946, 771, 865, 771, 888, 967,\n        888, 831, 873, 927, 970, 918\n    ];\n    return PdfStandardFontMetricsFactory;\n}());\nexport { PdfStandardFontMetricsFactory };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfFontFamily, PdfFontStyle, FontEncoding } from './enum';\nimport { PdfFont } from './pdf-font';\nimport { PdfDocument } from './../../document/pdf-document';\nimport { PdfStandardFontMetricsFactory } from './pdf-standard-font-metrics-factory';\nimport { PdfDictionary } from './../../primitives/pdf-dictionary';\nimport { DictionaryProperties } from './../../input-output/pdf-dictionary-properties';\nimport { PdfName } from './../../primitives/pdf-name';\n/**\n * Represents one of the 14 standard fonts.\n * It's used to create a standard PDF font to draw the text in to the PDF.\n * ```typescript\n * // create a new PDF document\n * let document : PdfDocument = new PdfDocument();\n * // add a new page to the document\n * let page1 : PdfPage = document.pages.add();\n * //\n * // create new standard font\n * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n * //\n * // create black brush\n * let blackBrush : PdfSolidBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n * // draw the text\n * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(0, 0));\n * // save the document\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n */\nvar PdfStandardFont = /** @class */ (function (_super) {\n    __extends(PdfStandardFont, _super);\n    function PdfStandardFont(fontFamilyPrototype, size, style) {\n        var _this = _super.call(this, size, style) || this;\n        /**\n         * Gets `ascent` of the font.\n         * @private\n         */\n        _this.dictionaryProperties = new DictionaryProperties();\n        /**\n         * Gets `encodings` for internal class use.\n         * @hidden\n         * @private\n         */\n        _this.encodings = ['Unknown', 'StandardEncoding', 'MacRomanEncoding', 'MacExpertEncoding',\n            'WinAnsiEncoding', 'PDFDocEncoding', 'IdentityH'];\n        if ((typeof fontFamilyPrototype === 'number') && (typeof style === 'undefined')) {\n            _this.constructor(fontFamilyPrototype, size, PdfFontStyle.Regular);\n        }\n        else if ((typeof fontFamilyPrototype === 'number') && (typeof style !== 'undefined')) {\n            _this = _super.call(this, size, style) || this;\n            _this.pdfFontFamily = fontFamilyPrototype;\n            _this.checkStyle();\n            _this.initializeInternals();\n        }\n        else if ((fontFamilyPrototype instanceof PdfStandardFont) && (typeof style === 'undefined')) {\n            _this.constructor(fontFamilyPrototype.fontFamily, size, fontFamilyPrototype.style);\n        }\n        else if ((fontFamilyPrototype instanceof PdfStandardFont) && (typeof style !== 'undefined')) {\n            _this.constructor(fontFamilyPrototype.fontFamily, size, style);\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfStandardFont.prototype, \"fontFamily\", {\n        //Properties\n        /**\n         * Gets the `FontFamily`.\n         * @private\n         */\n        get: function () {\n            return this.pdfFontFamily;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //methods\n    /**\n     * Checks font `style` of the font.\n     * @private\n     */\n    PdfStandardFont.prototype.checkStyle = function () {\n        if (this.fontFamily === PdfFontFamily.Symbol || this.fontFamily === PdfFontFamily.ZapfDingbats) {\n            var style = this.style;\n            style &= ~(PdfFontStyle.Bold | PdfFontStyle.Italic);\n            this.setStyle(style);\n        }\n    };\n    /**\n     * Returns `width` of the line.\n     * @public\n     */\n    PdfStandardFont.prototype.getLineWidth = function (line, format) {\n        if (line == null) {\n            throw new Error('ArgumentNullException:line');\n        }\n        var width = 0;\n        var name = this.name;\n        line = PdfStandardFont.convert(line);\n        for (var i = 0, len = line.length; i < len; i++) {\n            var ch = line[i];\n            var charWidth = this.getCharWidthInternal(ch, format);\n            width += charWidth;\n        }\n        var size = this.metrics.getSize(format);\n        width *= (PdfFont.charSizeMultiplier * size);\n        width = this.applyFormatSettings(line, format, width);\n        return width;\n    };\n    /**\n     * Checks whether fonts are `equals`.\n     * @private\n     */\n    PdfStandardFont.prototype.equalsToFont = function (font) {\n        var equal = false;\n        var stFont = font;\n        if (stFont != null) {\n            var fontFamilyEqual = (this.fontFamily === stFont.fontFamily);\n            var lineReducer = (~(PdfFontStyle.Underline | PdfFontStyle.Strikeout));\n            var styleEqual = (this.style & lineReducer) === (stFont.style & lineReducer);\n            equal = (fontFamilyEqual && styleEqual);\n        }\n        return equal;\n    };\n    /**\n     * `Initializes` font internals..\n     * @private\n     */\n    PdfStandardFont.prototype.initializeInternals = function () {\n        var equalFont = null;\n        // if (PdfDocument.EnableCache) {\n        equalFont = PdfDocument.cache.search(this);\n        // }\n        var internals = null;\n        // if (equalFont == null) {\n        // Create font metrics.\n        var metrics = PdfStandardFontMetricsFactory.getMetrics(this.pdfFontFamily, this.style, this.size);\n        this.metrics = metrics;\n        internals = this.createInternals();\n        this.setInternals(internals);\n    };\n    /**\n     * `Creates` font`s dictionary.\n     * @private\n     */\n    PdfStandardFont.prototype.createInternals = function () {\n        var dictionary = new PdfDictionary();\n        dictionary.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.font));\n        dictionary.items.setValue(this.dictionaryProperties.subtype, new PdfName(this.dictionaryProperties.type1));\n        dictionary.items.setValue(this.dictionaryProperties.baseFont, new PdfName(this.metrics.postScriptName));\n        if (this.fontFamily !== PdfFontFamily.Symbol && this.fontFamily !== PdfFontFamily.ZapfDingbats) {\n            var encoding = this.encodings[FontEncoding.WinAnsiEncoding];\n            dictionary.items.setValue(this.dictionaryProperties.encoding, new PdfName(encoding));\n        }\n        return dictionary;\n    };\n    /**\n     * Returns `width` of the char. This methods doesn`t takes into consideration font`s size.\n     * @private\n     */\n    PdfStandardFont.prototype.getCharWidthInternal = function (charCode, format) {\n        var width = 0;\n        var code = 0;\n        code = charCode.charCodeAt(0);\n        if (this.name === '0' || this.name === '1' || this.name === '2' ||\n            this.name === '3' || this.name === '4') {\n            code = code - PdfStandardFont.charOffset;\n        }\n        code = (code >= 0 && code !== 128) ? code : 0;\n        var metrics = this.metrics;\n        var widthTable = metrics.widthTable;\n        width = widthTable.items(code);\n        return width;\n    };\n    /**\n     * `Converts` the specified text.\n     * @private\n     */\n    PdfStandardFont.convert = function (text) {\n        return text;\n    };\n    //Constants\n    /**\n     * First character `position`.\n     * @private\n     */\n    PdfStandardFont.charOffset = 32;\n    return PdfStandardFont;\n}(PdfFont));\nexport { PdfStandardFont };\n","import { PdfColor } from './../graphics/pdf-color';\nimport { RectangleF, PointF } from './../drawing/pdf-drawing';\nimport { PdfDictionary, SaveAnnotationEventHandler } from './../primitives/pdf-dictionary';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfString } from './../primitives/pdf-string';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfSolidBrush } from './../graphics/brushes/pdf-solid-brush';\nimport { PdfStandardFont } from './../graphics/fonts/pdf-standard-font';\nimport { PdfFontFamily } from './../graphics/fonts/enum';\nimport { PdfStringFormat } from './../graphics/fonts/pdf-string-format';\nimport { PdfTextAlignment } from './../graphics/enum';\n/**\n * `PdfAnnotation` class represents the base class for annotation objects.\n * @private\n */\nvar PdfAnnotation = /** @class */ (function () {\n    function PdfAnnotation(arg1) {\n        // Fields\n        /**\n         * Specifies the Internal variable to store fields of `PdfDictionaryProperties`.\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        /**\n         * `Color` of the annotation\n         * @private\n         */\n        this.pdfColor = new PdfColor(255, 255, 255);\n        /**\n         * `Bounds` of the annotation.\n         * @private\n         */\n        this.rectangle = new RectangleF(0, 0, 0, 0);\n        /**\n         * Parent `page` of the annotation.\n         * @private\n         */\n        this.pdfPage = null;\n        /**\n         * `Brush of the text` of the annotation.\n         * @default new PdfSolidBrush(new PdfColor(0, 0, 0))\n         * @private\n         */\n        this.textBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        /**\n         * `Font of the text` of the annotation.\n         * @default new PdfStandardFont(PdfFontFamily.TimesRoman, 10)\n         * @private\n         */\n        this.textFont = new PdfStandardFont(PdfFontFamily.TimesRoman, 10);\n        /**\n         * `StringFormat of the text` of the annotation.\n         * @default new PdfStringFormat(PdfTextAlignment.Left)\n         * @private\n         */\n        this.format = new PdfStringFormat(PdfTextAlignment.Left);\n        /**\n         * `Text` of the annotation.\n         * @private\n         */\n        this.content = '';\n        /**\n         * Internal variable to store `dictionary`.\n         * @private\n         */\n        this.pdfDictionary = new PdfDictionary();\n        /**\n         * To specifying the `Inner color` with which to fill the annotation\n         * @private\n         */\n        this.internalColor = new PdfColor();\n        /**\n         * `opacity or darkness` of the annotation.\n         * @private\n         * @default 1.0\n         */\n        this.darkness = 1.0;\n        if (typeof arg1 === 'undefined') {\n            this.initialize();\n        }\n        else {\n            this.initialize();\n            this.bounds = arg1;\n        }\n    }\n    Object.defineProperty(PdfAnnotation.prototype, \"color\", {\n        // Properties\n        /**\n         * `Color` of the annotation\n         * @private\n         */\n        get: function () {\n            return this.pdfColor;\n        },\n        set: function (value) {\n            this.pdfColor = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"innerColor\", {\n        /**\n         * To specifying the `Inner color` with which to fill the annotation\n         * @private\n         */\n        get: function () {\n            return this.internalColor;\n        },\n        set: function (value) {\n            this.internalColor = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"bounds\", {\n        /**\n         * `bounds` of the annotation.\n         * @private\n         */\n        get: function () {\n            return this.rectangle;\n        },\n        set: function (value) {\n            this.rectangle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"page\", {\n        /**\n         * Parent `page` of the annotation.\n         * @private\n         */\n        get: function () {\n            return this.pdfPage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"font\", {\n        /**\n         * To specifying the `Font of the text` in the annotation.\n         * @private\n         */\n        get: function () {\n            return this.textFont;\n        },\n        set: function (value) {\n            this.textFont = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"stringFormat\", {\n        /**\n         * To specifying the `StringFormat of the text` in the annotation.\n         * @private\n         */\n        get: function () {\n            return this.format;\n        },\n        set: function (value) {\n            this.format = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"brush\", {\n        /**\n         * To specifying the `Brush of the text` in the annotation.\n         * @private\n         */\n        get: function () {\n            return this.textBrush;\n        },\n        set: function (value) {\n            this.textBrush = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"text\", {\n        /**\n         * `Text` of the annotation.\n         * @private\n         */\n        get: function () {\n            return this.content;\n        },\n        set: function (value) {\n            this.content = value;\n            this.dictionary.items.setValue(this.dictionaryProperties.contents, new PdfString(this.content));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"dictionary\", {\n        /**\n         * Internal variable to store `dictionary`.\n         * @hidden\n         */\n        get: function () {\n            return this.pdfDictionary;\n        },\n        set: function (value) {\n            this.pdfDictionary = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Initialize` the annotation event handler and specifies the type of the annotation.\n     * @private\n     */\n    PdfAnnotation.prototype.initialize = function () {\n        this.pdfDictionary.annotationBeginSave = new SaveAnnotationEventHandler(this);\n        this.pdfDictionary.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.annot));\n    };\n    /**\n     * Sets related `page` of the annotation.\n     * @private\n     */\n    PdfAnnotation.prototype.setPage = function (page) {\n        this.pdfPage = page;\n        this.pdfDictionary.items.setValue(this.dictionaryProperties.p, new PdfReferenceHolder(this.pdfPage));\n    };\n    /**\n     * Handles the `BeginSave` event of the Dictionary.\n     * @private\n     */\n    PdfAnnotation.prototype.beginSave = function () {\n        this.save();\n    };\n    /**\n     * `Saves` an annotation.\n     * @private\n     */\n    /* tslint:disable */\n    PdfAnnotation.prototype.save = function () {\n        var nativeRectangle = new RectangleF(this.rectangle.x, this.rectangle.y, this.rectangle.width, this.rectangle.height);\n        var section = this.pdfPage.section;\n        var initialHeight = nativeRectangle.height;\n        var tempLoacation = section.pointToNativePdf(this.page, new PointF(nativeRectangle.x, nativeRectangle.y));\n        nativeRectangle.x = tempLoacation.x;\n        nativeRectangle.width = tempLoacation.x + nativeRectangle.width;\n        nativeRectangle.y = (tempLoacation.y - this.page.document.pageSettings.margins.top);\n        nativeRectangle.height = nativeRectangle.y - initialHeight;\n        this.pdfDictionary.items.setValue(this.dictionaryProperties.rect, PdfArray.fromRectangle(nativeRectangle));\n        this.dictionary.items.setValue(this.dictionaryProperties.ca, new PdfNumber(this.darkness));\n    };\n    Object.defineProperty(PdfAnnotation.prototype, \"element\", {\n        /* tslint:enable */\n        // IPdfWrapper Members\n        /**\n         * Gets the `element`.\n         * @private\n         */\n        get: function () {\n            return this.pdfDictionary;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfAnnotation;\n}());\nexport { PdfAnnotation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfAnnotation } from './annotation';\nimport { PdfName } from './../primitives/pdf-name';\n/**\n * `PdfLinkAnnotation` class represents the ink annotation class.\n * @private\n */\nvar PdfLinkAnnotation = /** @class */ (function (_super) {\n    __extends(PdfLinkAnnotation, _super);\n    function PdfLinkAnnotation(rectangle) {\n        var _this = this;\n        if (typeof rectangle === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, rectangle) || this;\n        }\n        return _this;\n    }\n    // Implementation\n    /**\n     * `Initializes` annotation object.\n     * @private\n     */\n    PdfLinkAnnotation.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        this.dictionary.items.setValue(this.dictionaryProperties.subtype, new PdfName(this.dictionaryProperties.link));\n    };\n    return PdfLinkAnnotation;\n}(PdfAnnotation));\nexport { PdfLinkAnnotation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfLinkAnnotation } from './link-annotation';\n/**\n * Represents base class for `link annotations` with associated action.\n * @private\n */\nvar PdfActionLinkAnnotation = /** @class */ (function (_super) {\n    __extends(PdfActionLinkAnnotation, _super);\n    // Constructors\n    /**\n     * Specifies the constructor for `ActionLinkAnnotation`.\n     * @private\n     */\n    function PdfActionLinkAnnotation(rectangle) {\n        var _this = _super.call(this, rectangle) || this;\n        // Fields\n        /**\n         * Internal variable to store annotation's `action`.\n         * @default null\n         * @private\n         */\n        _this.pdfAction = null;\n        return _this;\n    }\n    //Public method\n    /**\n     * get and set the `action`.\n     * @hidden\n     */\n    PdfActionLinkAnnotation.prototype.getSetAction = function (value) {\n        if (typeof value === 'undefined') {\n            return this.pdfAction;\n        }\n        else {\n            this.pdfAction = value;\n        }\n    };\n    return PdfActionLinkAnnotation;\n}(PdfLinkAnnotation));\nexport { PdfActionLinkAnnotation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfLinkAnnotation } from './link-annotation';\n/**\n * `PdfDocumentLinkAnnotation` class represents an annotation object with holds link on another location within a document.\n * ```typescript\n * // create a new PDF document\n * let document : PdfDocument = new PdfDocument();\n * // create new pages\n * let page1 : PdfPage = document.pages.add();\n * let page2 : PdfPage = document.pages.add();\n * // create a new rectangle\n * let bounds : RectangleF = new RectangleF({x : 10, y : 200}, {width : 300, height : 25});\n * //\n * // create a new document link annotation\n * let documentLinkAnnotation : PdfDocumentLinkAnnotation = new PdfDocumentLinkAnnotation(bounds);\n * // set the annotation text\n * documentLinkAnnotation.text = 'Document link annotation';\n * // set the destination\n * documentLinkAnnotation.destination = new PdfDestination(page2);\n * // set the documentlink annotation location\n * documentLinkAnnotation.destination.location = new PointF(10, 0);\n * // add this annotation to a new page\n * page1.annotations.add(documentLinkAnnotation);\n * //\n * // save the document to disk\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n */\nvar PdfDocumentLinkAnnotation = /** @class */ (function (_super) {\n    __extends(PdfDocumentLinkAnnotation, _super);\n    function PdfDocumentLinkAnnotation(rectangle, destination) {\n        var _this = _super.call(this, rectangle) || this;\n        // Fields\n        /**\n         * `Destination` of the annotation.\n         * @default null\n         * @private\n         */\n        _this.pdfDestination = null;\n        if (typeof destination !== 'undefined') {\n            _this.destination = destination;\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfDocumentLinkAnnotation.prototype, \"destination\", {\n        // Properties\n        /**\n         * Gets or sets the `destination` of the annotation.\n         * ```typescript\n         * // create a new PDF document\n         * let document : PdfDocument = new PdfDocument();\n         * // create new pages\n         * let page1 : PdfPage = document.pages.add();\n         * let page2 : PdfPage = document.pages.add();\n         * // create a new rectangle\n         * let bounds : RectangleF = new RectangleF({x : 10, y : 200}, {width : 300, height : 25});\n         * //\n         * // create a new document link annotation\n         * let documentLinkAnnotation : PdfDocumentLinkAnnotation = new PdfDocumentLinkAnnotation(bounds);\n         * // set the annotation text\n         * documentLinkAnnotation.text = 'Document link annotation';\n         * // set the destination\n         * documentLinkAnnotation.destination = new PdfDestination(page2);\n         * // set the documentlink annotation location\n         * documentLinkAnnotation.destination.location = new PointF(10, 0);\n         * // add this annotation to a new page\n         * page1.annotations.add(documentLinkAnnotation);\n         * //\n         * // save the document to disk\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         * @default null\n         */\n        get: function () {\n            return this.pdfDestination;\n        },\n        set: function (value) {\n            // if (this.pdfDestination !== value) {\n            this.pdfDestination = value;\n            // }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Saves` annotation object.\n     * @private\n     */\n    PdfDocumentLinkAnnotation.prototype.save = function () {\n        _super.prototype.save.call(this);\n        if (this.pdfDestination != null) {\n            this.dictionary.items.setValue(this.dictionaryProperties.dest, this.pdfDestination.element);\n        }\n    };\n    /**\n     * `Clone` the document link annotation.\n     * @private\n     */\n    PdfDocumentLinkAnnotation.prototype.clone = function () {\n        var annot = new PdfDocumentLinkAnnotation(this.bounds, this.destination);\n        annot.color = this.color;\n        annot.brush = this.brush;\n        annot.destination = this.destination;\n        annot.font = this.font;\n        return annot;\n    };\n    return PdfDocumentLinkAnnotation;\n}(PdfLinkAnnotation));\nexport { PdfDocumentLinkAnnotation };\n","/**\n * ElementLayouter.ts class for EJ2-PDF\n */\nimport { RectangleF } from './../../../drawing/pdf-drawing';\nimport { PdfLayoutType, PdfLayoutBreakType } from './../enum';\n/**\n * Base class for `elements lay outing`.\n * @private\n */\nvar ElementLayouter = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `ElementLayouter` class.\n     * @private\n     */\n    function ElementLayouter(element) {\n        this.layoutElement = element;\n    }\n    Object.defineProperty(ElementLayouter.prototype, \"elements\", {\n        // Properties\n        /**\n         * Gets the `element`.\n         * @private\n         */\n        get: function () {\n            return this.layoutElement;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `element`.\n     * @private\n     */\n    ElementLayouter.prototype.getElement = function () {\n        return this.layoutElement;\n    };\n    ElementLayouter.prototype.layout = function (param, isBoundsChanged) {\n        if (typeof isBoundsChanged === 'boolean' && isBoundsChanged === true) {\n            return this.layoutInternal(param, true);\n        }\n        else {\n            return this.layoutInternal(param);\n        }\n    };\n    /**\n     * Returns the `next page`.\n     * @private\n     */\n    ElementLayouter.prototype.getNextPage = function (currentPage) {\n        var section = currentPage.section;\n        var nextPage = section.add();\n        return nextPage;\n    };\n    return ElementLayouter;\n}());\nexport { ElementLayouter };\nvar PdfLayoutFormat = /** @class */ (function () {\n    function PdfLayoutFormat(baseFormat) {\n        if (typeof baseFormat === 'undefined') {\n            //\n        }\n        else {\n            this.break = baseFormat.break;\n            this.layout = baseFormat.layout;\n            this.paginateBounds = baseFormat.paginateBounds;\n            this.boundsSet = baseFormat.usePaginateBounds;\n        }\n    }\n    Object.defineProperty(PdfLayoutFormat.prototype, \"layout\", {\n        // Properties\n        /**\n         * Gets or sets `layout` type of the element.\n         * @private\n         */\n        get: function () {\n            if (typeof this.layoutType === 'undefined' || this.layoutType == null) {\n                this.layoutType = PdfLayoutType.Paginate;\n            }\n            return this.layoutType;\n        },\n        set: function (value) {\n            this.layoutType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutFormat.prototype, \"break\", {\n        /**\n         * Gets or sets `break` type of the element.\n         * @private\n         */\n        get: function () {\n            if (typeof this.breakType === 'undefined' || this.boundsSet == null) {\n                this.breakType = PdfLayoutBreakType.FitPage;\n            }\n            return this.breakType;\n        },\n        set: function (value) {\n            this.breakType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutFormat.prototype, \"paginateBounds\", {\n        /**\n         * Gets or sets the `bounds` on the next page.\n         * @private\n         */\n        get: function () {\n            if (typeof this.layoutPaginateBounds === 'undefined' && this.layoutPaginateBounds == null) {\n                this.layoutPaginateBounds = new RectangleF(0, 0, 0, 0);\n            }\n            return this.layoutPaginateBounds;\n        },\n        set: function (value) {\n            this.layoutPaginateBounds = value;\n            this.boundsSet = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutFormat.prototype, \"usePaginateBounds\", {\n        /**\n         * Gets a value indicating whether [`use paginate bounds`].\n         * @private\n         */\n        get: function () {\n            if (typeof this.boundsSet === 'undefined' || this.boundsSet == null) {\n                this.boundsSet = false;\n            }\n            return this.boundsSet;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfLayoutFormat;\n}());\nexport { PdfLayoutFormat };\nvar PdfLayoutParams = /** @class */ (function () {\n    function PdfLayoutParams() {\n    }\n    Object.defineProperty(PdfLayoutParams.prototype, \"page\", {\n        // Properties\n        /**\n         * Gets or sets the layout `page` for the element.\n         * @private\n         */\n        get: function () {\n            return this.pdfPage;\n        },\n        set: function (value) {\n            this.pdfPage = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutParams.prototype, \"bounds\", {\n        /**\n         * Gets or sets layout `bounds` for the element.\n         * @private\n         */\n        get: function () {\n            return new RectangleF(this.layoutBounds.x, this.layoutBounds.y, this.layoutBounds.width, this.layoutBounds.height);\n        },\n        set: function (value) {\n            this.layoutBounds = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutParams.prototype, \"format\", {\n        /**\n         * Gets or sets `layout settings` for the element.\n         * @private\n         */\n        get: function () {\n            return this.layoutFormat;\n        },\n        set: function (value) {\n            this.layoutFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfLayoutParams;\n}());\nexport { PdfLayoutParams };\nvar PdfLayoutResult = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initializes the new instance of `PdfLayoutResult` class.\n     * @private\n     */\n    function PdfLayoutResult(page, bounds) {\n        this.pdfPage = page;\n        this.layoutBounds = bounds;\n    }\n    Object.defineProperty(PdfLayoutResult.prototype, \"page\", {\n        // Properties\n        /**\n         * Gets the last `page` where the element was drawn.\n         * @private\n         */\n        get: function () {\n            return this.pdfPage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutResult.prototype, \"bounds\", {\n        /**\n         * Gets the `bounds` of the element on the last page where it was drawn.\n         * @private\n         */\n        get: function () {\n            return this.layoutBounds;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfLayoutResult;\n}());\nexport { PdfLayoutResult };\n","/**\n * public Enum for `PdfDestinationMode`.\n * @private\n */\nexport var PdfDestinationMode;\n(function (PdfDestinationMode) {\n    /**\n     * Specifies the type of `Location`.\n     * @private\n     */\n    PdfDestinationMode[PdfDestinationMode[\"Location\"] = 0] = \"Location\";\n    /**\n     * Specifies the type of `FitToPage`.\n     * @private\n     */\n    PdfDestinationMode[PdfDestinationMode[\"FitToPage\"] = 1] = \"FitToPage\";\n    /**\n     * Specifies the type of `FitR`.\n     * @private\n     */\n    PdfDestinationMode[PdfDestinationMode[\"FitR\"] = 2] = \"FitR\";\n})(PdfDestinationMode || (PdfDestinationMode = {}));\n","import { RectangleF, PointF } from './../../drawing/pdf-drawing';\nimport { PdfLayoutParams, PdfLayoutFormat } from './base/element-layouter';\n/**\n * `PdfLayoutElement` class represents the base class for all elements that can be layout on the pages.\n * @private\n */\nvar PdfLayoutElement = /** @class */ (function () {\n    function PdfLayoutElement() {\n    }\n    PdfLayoutElement.prototype.drawHelper = function (arg2, arg3, arg4, arg5) {\n        if (arg3 instanceof PointF && typeof arg3.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg2, arg3.x, arg3.y);\n        }\n        else if (typeof arg3 === 'number' && typeof arg4 === 'number' && typeof arg5 === 'undefined') {\n            return this.drawHelper(arg2, arg3, arg4, null);\n        }\n        else if (arg3 instanceof RectangleF && typeof arg3.width !== 'undefined' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg2, arg3, null);\n        }\n        else if (arg3 instanceof PointF && typeof arg3.width === 'undefined' && arg4 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg2, arg3.x, arg3.y, arg4);\n        }\n        else if (typeof arg3 === 'number' && typeof arg4 === 'number' && (arg5 instanceof PdfLayoutFormat || arg5 == null)) {\n            var width = (arg2.graphics.clientSize.width - arg3);\n            var layoutRectangle = new RectangleF(arg3, arg4, width, 0);\n            return this.drawHelper(arg2, layoutRectangle, arg5);\n        }\n        else if (arg3 instanceof RectangleF && typeof arg3.width !== 'undefined' && typeof arg4 === 'boolean') {\n            this.bEmbedFonts = arg4;\n            return this.drawHelper(arg2, arg3, null);\n        }\n        else {\n            var param = new PdfLayoutParams();\n            var temparg3 = arg3;\n            var temparg4 = arg4;\n            param.page = arg2;\n            param.bounds = temparg3;\n            param.format = (temparg4 != null) ? temparg4 : new PdfLayoutFormat();\n            var result = this.layout(param);\n            return result;\n        }\n    };\n    return PdfLayoutElement;\n}());\nexport { PdfLayoutElement };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * TextLayouter.ts class for EJ2-PDF\n */\nimport { ElementLayouter, PdfLayoutResult } from './element-layouter';\nimport { RectangleF, SizeF } from './../../../drawing/pdf-drawing';\nimport { PdfStringLayouter } from './../../fonts/string-layouter';\nimport { PdfLayoutBreakType } from './../../figures/enum';\nimport { PdfColor } from './../../pdf-color';\nimport { PdfTextWebLink } from './../../../annotations/pdf-text-web-link';\n/**\n * Class that `layouts the text`.\n * @private\n */\nvar TextLayouter = /** @class */ (function (_super) {\n    __extends(TextLayouter, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `TextLayouter` class.\n     * @private\n     */\n    function TextLayouter(element) {\n        return _super.call(this, element) || this;\n    }\n    Object.defineProperty(TextLayouter.prototype, \"element\", {\n        /**\n         * Gets the layout `element`.\n         * @private\n         */\n        get: function () {\n            return _super.prototype.getElement.call(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Layouts` the element.\n     * @private\n     */\n    TextLayouter.prototype.layoutInternal = function (param) {\n        /* tslint:disable */\n        this.format = (this.element.stringFormat != null && typeof this.element.stringFormat !== 'undefined') ? this.element.stringFormat : null;\n        var currentPage = param.page;\n        var currentBounds = param.bounds;\n        var text = this.element.value;\n        var result = null;\n        var pageResult = new TextPageLayoutResult();\n        pageResult.page = currentPage;\n        pageResult.remainder = text;\n        for (;;) {\n            pageResult = this.layoutOnPage(text, currentPage, currentBounds, param);\n            result = this.getLayoutResult(pageResult);\n            break;\n        }\n        /* tslint:enable */\n        return result;\n    };\n    /**\n     * Raises `PageLayout` event if needed.\n     * @private\n     */\n    TextLayouter.prototype.getLayoutResult = function (pageResult) {\n        var result = new PdfTextLayoutResult(pageResult.page, pageResult.bounds, pageResult.remainder, pageResult.lastLineBounds);\n        return result;\n    };\n    /* tslint:disable */\n    /**\n     * `Layouts` the text on the page.\n     * @private\n     */\n    TextLayouter.prototype.layoutOnPage = function (text, currentPage, currentBounds, param) {\n        var result = new TextPageLayoutResult();\n        result.remainder = text;\n        result.page = currentPage;\n        currentBounds = this.checkCorrectBounds(currentPage, currentBounds);\n        var layouter = new PdfStringLayouter();\n        var stringResult = layouter.layout(text, this.element.font, this.format, currentBounds, currentPage.getClientSize().height, false, new SizeF(0, 0));\n        var textFinished = (stringResult.remainder == null);\n        var doesntFit = (param.format.break === PdfLayoutBreakType.FitElement);\n        var canDraw = !(doesntFit || stringResult.empty);\n        // Draw the text.\n        var graphics = currentPage.graphics;\n        var brush = this.element.getBrush();\n        if (this.element instanceof PdfTextWebLink) {\n            brush.color = new PdfColor(0, 0, 255);\n        }\n        graphics.drawStringLayoutResult(stringResult, this.element.font, this.element.pen, brush, currentBounds, this.format);\n        var lineInfo = stringResult.lines[stringResult.lineCount - 1];\n        result.lastLineBounds = graphics.getLineBounds(stringResult.lineCount - 1, stringResult, this.element.font, currentBounds, this.format);\n        result.bounds = this.getTextPageBounds(currentPage, currentBounds, stringResult);\n        result.remainder = stringResult.remainder;\n        result.end = (textFinished);\n        return result;\n    };\n    /* tslint:enable */\n    /**\n     * `Corrects current bounds` on the page.\n     * @private\n     */\n    TextLayouter.prototype.checkCorrectBounds = function (currentPage, currentBounds) {\n        var pageSize = currentPage.graphics.clientSize;\n        currentBounds.height = (currentBounds.height > 0) ? currentBounds.height : pageSize.height - currentBounds.y;\n        return currentBounds;\n    };\n    /**\n     * Returns a `rectangle` where the text was printed on the page.\n     * @private\n     */\n    /* tslint:disable */\n    TextLayouter.prototype.getTextPageBounds = function (currentPage, currentBounds, stringResult) {\n        var textSize = stringResult.actualSize;\n        var x = currentBounds.x;\n        var y = currentBounds.y;\n        var width = (currentBounds.width > 0) ? currentBounds.width : textSize.width;\n        var height = textSize.height;\n        var shiftedRect = currentPage.graphics.checkCorrectLayoutRectangle(textSize, currentBounds.x, currentBounds.y, this.format);\n        // if (currentBounds.width <= 0) {\n        x = shiftedRect.x;\n        // }\n        var verticalShift = currentPage.graphics.getTextVerticalAlignShift(textSize.height, currentBounds.height, this.format);\n        y += verticalShift;\n        var bounds = new RectangleF(x, y, width, height);\n        return bounds;\n    };\n    return TextLayouter;\n}(ElementLayouter));\nexport { TextLayouter };\nvar TextPageLayoutResult = /** @class */ (function () {\n    function TextPageLayoutResult() {\n    }\n    return TextPageLayoutResult;\n}());\nexport { TextPageLayoutResult };\nvar PdfTextLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTextLayoutResult, _super);\n    // Constructors\n    /**\n     * Initializes the new instance of `PdfTextLayoutResult` class.\n     * @private\n     */\n    function PdfTextLayoutResult(page, bounds, remainder, lastLineBounds) {\n        var _this = _super.call(this, page, bounds) || this;\n        _this.remainderText = remainder;\n        _this.lastLineTextBounds = lastLineBounds;\n        return _this;\n    }\n    Object.defineProperty(PdfTextLayoutResult.prototype, \"remainder\", {\n        // Properties\n        /**\n         * Gets a value that contains the `text` that was not printed.\n         * @private\n         */\n        get: function () {\n            return this.remainderText;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTextLayoutResult.prototype, \"lastLineBounds\", {\n        /**\n         * Gets a value that indicates the `bounds` of the last line that was printed on the page.\n         * @private\n         */\n        get: function () {\n            return this.lastLineTextBounds;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTextLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTextLayoutResult };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfTextElement.ts class for EJ2-PDF\n */\nimport { PdfLayoutElement } from './../figures/layout-element';\nimport { PdfBrush } from './../brushes/pdf-brush';\nimport { PdfFont } from './../fonts/pdf-font';\nimport { PdfStandardFont } from './../fonts/pdf-standard-font';\nimport { PdfPen } from './../pdf-pen';\nimport { PdfLayoutParams } from './../figures/base/element-layouter';\nimport { TextLayouter } from './base/text-layouter';\nimport { PdfSolidBrush } from './../brushes/pdf-solid-brush';\nimport { PdfColor } from './../pdf-color';\nimport { RectangleF, SizeF, PointF } from './../../drawing/pdf-drawing';\nimport { PdfLayoutFormat } from './base/element-layouter';\nimport { PdfStringLayouter } from './../fonts/string-layouter';\nimport { PdfTextAlignment } from './../enum';\n/**\n * `PdfTextElement` class represents the text area with the ability to span several pages\n * and inherited from the 'PdfLayoutElement' class.\n * @private\n */\nvar PdfTextElement = /** @class */ (function (_super) {\n    __extends(PdfTextElement, _super);\n    function PdfTextElement(arg1, arg2, arg3, arg4, arg5) {\n        var _this = _super.call(this) || this;\n        // Fields\n        /**\n         * `Text` data.\n         * @private\n         */\n        _this.content = '';\n        /**\n         * `Value` of text data.\n         * @private\n         */\n        _this.elementValue = '';\n        /**\n         * indicate whether the drawText with PointF overload is called or not.\n         * @default false\n         * @private\n         */\n        _this.hasPointOverload = false;\n        /**\n         * indicate whether the PdfGridCell value is `PdfTextElement`\n         * @default false\n         * @private\n         */\n        _this.isPdfTextElement = false;\n        if (typeof arg1 === 'undefined') {\n            //\n        }\n        else if (typeof arg1 === 'string' && typeof arg2 === 'undefined') {\n            _this = _super.call(this) || this;\n            _this.content = arg1;\n            _this.elementValue = arg1;\n        }\n        else if (typeof arg1 === 'string' && arg2 instanceof PdfFont && typeof arg3 === 'undefined') {\n            _this = _super.call(this) || this;\n            _this.content = arg1;\n            _this.elementValue = arg1;\n            _this.pdfFont = arg2;\n        }\n        else if (typeof arg1 === 'string' && arg2 instanceof PdfFont && arg3 instanceof PdfPen && typeof arg4 === 'undefined') {\n            _this = _super.call(this) || this;\n            _this.content = arg1;\n            _this.elementValue = arg1;\n            _this.pdfFont = arg2;\n            _this.pdfPen = arg3;\n        }\n        else if (typeof arg1 === 'string' && arg2 instanceof PdfFont && arg3 instanceof PdfBrush && typeof arg4 === 'undefined') {\n            _this = _super.call(this) || this;\n            _this.content = arg1;\n            _this.elementValue = arg1;\n            _this.pdfFont = arg2;\n            _this.pdfBrush = arg3;\n        }\n        else {\n            _this = _super.call(this) || this;\n            _this.content = arg1;\n            _this.elementValue = arg1;\n            _this.pdfFont = arg2;\n            _this.pdfPen = arg3;\n            _this.pdfBrush = arg4;\n            _this.format = arg5;\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfTextElement.prototype, \"text\", {\n        // Properties\n        /**\n         * Gets or sets a value indicating the `text` that should be printed.\n         * ```typescript\n         * // create a new PDF document.\n         * let document : PdfDocument = new PdfDocument();\n         * // add a page to the document.\n         * let page1 : PdfPage = document.pages.add();\n         * // create the font\n         * let font : PdfFont = new PdfStandardFont(PdfFontFamily.Helvetica, 12);\n         * // create the Text Web Link\n         * let textLink : PdfTextWebLink = new PdfTextWebLink();\n         * // set the hyperlink\n         * textLink.url = 'http://www.google.com';\n         * //\n         * // set the link text\n         * textLink.text = 'Google';\n         * //\n         * // set the font\n         * textLink.font = font;\n         * // draw the hyperlink in PDF page\n         * textLink.draw(page1, new PointF(10, 40));\n         * // save the document.\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            return this.content;\n        },\n        set: function (value) {\n            this.elementValue = value;\n            this.content = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTextElement.prototype, \"value\", {\n        //get value\n        /**\n         * Gets or sets a `value` indicating the text that should be printed.\n         * @private\n         */\n        get: function () {\n            return this.elementValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTextElement.prototype, \"pen\", {\n        //get pen\n        /**\n         * Gets or sets a `PdfPen` that determines the color, width, and style of the text\n         * @private\n         */\n        get: function () {\n            return this.pdfPen;\n        },\n        //Set pen value\n        set: function (value) {\n            this.pdfPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTextElement.prototype, \"brush\", {\n        //get brush\n        /**\n         * Gets or sets the `PdfBrush` that will be used to draw the text with color and texture.\n         * @private\n         */\n        get: function () {\n            return this.pdfBrush;\n        },\n        //Set brush value\n        set: function (value) {\n            this.pdfBrush = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTextElement.prototype, \"font\", {\n        //get font\n        /**\n         * Gets or sets a `PdfFont` that defines the text format.\n         * ```typescript\n         * // create a new PDF document.\n         * let document : PdfDocument = new PdfDocument();\n         * // add a page to the document.\n         * let page1 : PdfPage = document.pages.add();\n         * // create the font\n         * let font : PdfFont = new PdfStandardFont(PdfFontFamily.Helvetica, 12);\n         * // create the Text Web Link\n         * let textLink : PdfTextWebLink = new PdfTextWebLink();\n         * // set the hyperlink\n         * textLink.url = 'http://www.google.com';\n         * // set the link text\n         * textLink.text = 'Google';\n         * //\n         * // set the font\n         * textLink.font = font;\n         * //\n         * // draw the hyperlink in PDF page\n         * textLink.draw(page1, new PointF(10, 40));\n         * // save the document.\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            return this.pdfFont;\n        },\n        set: function (value) {\n            this.pdfFont = value;\n            if (this.pdfFont instanceof PdfStandardFont && this.content != null) {\n                this.elementValue = PdfStandardFont.convert(this.content);\n            }\n            else {\n                this.elementValue = this.content;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTextElement.prototype, \"stringFormat\", {\n        /**\n         * Gets or sets the `PdfStringFormat` that will be used to set the string format\n         * @private\n         */\n        get: function () {\n            return this.format;\n        },\n        set: function (value) {\n            this.format = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * Gets a `brush` for drawing.\n     * @private\n     */\n    PdfTextElement.prototype.getBrush = function () {\n        return (this.pdfBrush == null || typeof this.pdfBrush === 'undefined') ? new PdfSolidBrush(new PdfColor(0, 0, 0)) : this.pdfBrush;\n    };\n    // /**\n    //  * `Draws` an element on the Graphics.\n    //  * @private\n    //  */\n    // public drawInternal(graphics : PdfGraphics) : void {\n    //     graphics.drawString(this.elementValue, this.pdfFont, this.pdfPen, this.getBrush(), 0, 0, this.stringFormat);\n    // }\n    /**\n     * `Layouts` the element.\n     * @private\n     */\n    PdfTextElement.prototype.layout = function (param) {\n        var layouter = new TextLayouter(this);\n        var result = layouter.layout(param);\n        return result;\n    };\n    PdfTextElement.prototype.drawText = function (arg2, arg3, arg4, arg5) {\n        if (arg3 instanceof PointF && typeof arg3.width === 'undefined' && typeof arg4 === 'undefined') {\n            this.hasPointOverload = true;\n            return this.drawText(arg2, arg3.x, arg3.y);\n        }\n        else if (typeof arg3 === 'number' && typeof arg4 === 'number' && typeof arg5 === 'undefined') {\n            this.hasPointOverload = true;\n            return this.drawText(arg2, arg3, arg4, null);\n        }\n        else if (arg3 instanceof RectangleF && typeof arg3.width !== 'undefined' && typeof arg4 === 'undefined') {\n            return this.drawText(arg2, arg3, null);\n        }\n        else if (arg3 instanceof PointF && typeof arg3.width === 'undefined' && arg4 instanceof PdfLayoutFormat) {\n            this.hasPointOverload = true;\n            return this.drawText(arg2, arg3.x, arg3.y, arg4);\n        }\n        else if (typeof arg3 === 'number' && typeof arg4 === 'number' && (arg5 instanceof PdfLayoutFormat || arg5 == null)) {\n            this.hasPointOverload = true;\n            var width = (arg2.graphics.clientSize.width - arg3);\n            var layoutRectangle = new RectangleF(arg3, arg4, width, 0);\n            return this.drawText(arg2, layoutRectangle, arg5);\n        }\n        else if (arg3 instanceof RectangleF && typeof arg3.width !== 'undefined' && typeof arg4 === 'boolean') {\n            return this.drawText(arg2, arg3, null);\n        }\n        else {\n            var layout = new PdfStringLayouter();\n            if (this.hasPointOverload) {\n                var stringLayoutResult = layout.layout(this.value, this.font, this.stringFormat, new SizeF((arg2.graphics.clientSize.width - arg3.x), 0), true, arg2.graphics.clientSize);\n                var layoutResult = void 0;\n                var param = new PdfLayoutParams();\n                var temparg3 = arg3;\n                var temparg4 = arg4;\n                param.page = arg2;\n                var previousPage = arg2;\n                param.bounds = temparg3;\n                param.format = (temparg4 != null) ? temparg4 : new PdfLayoutFormat();\n                if (stringLayoutResult.lines.length > 1) {\n                    this.text = stringLayoutResult.layoutLines[0].text;\n                    if (param.bounds.y <= param.page.graphics.clientSize.height) {\n                        var previousPosition = new PointF(param.bounds.x, param.bounds.y);\n                        layoutResult = this.layout(param);\n                        var bounds = new RectangleF(0, layoutResult.bounds.y + stringLayoutResult.lineHeight, arg2.graphics.clientSize.width, stringLayoutResult.lineHeight);\n                        var isPaginate = false;\n                        for (var i = 1; i < stringLayoutResult.lines.length; i++) {\n                            param.page = layoutResult.page;\n                            param.bounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n                            this.text = stringLayoutResult.layoutLines[i].text;\n                            if (bounds.y + stringLayoutResult.lineHeight > layoutResult.page.graphics.clientSize.height) {\n                                isPaginate = true;\n                                param.page = param.page.graphics.getNextPage();\n                                if (previousPosition.y > (layoutResult.page.graphics.clientSize.height - layoutResult.bounds.height)) {\n                                    bounds = new RectangleF(0, layoutResult.bounds.height, layoutResult.page.graphics.clientSize.width, stringLayoutResult.lineHeight);\n                                }\n                                else {\n                                    bounds = new RectangleF(0, 0, layoutResult.page.graphics.clientSize.width, stringLayoutResult.lineHeight);\n                                }\n                                param.bounds = bounds;\n                            }\n                            layoutResult = this.layout(param);\n                            if (i !== (stringLayoutResult.lines.length - 1)) {\n                                bounds = new RectangleF(0, layoutResult.bounds.y + stringLayoutResult.lineHeight, layoutResult.page.graphics.clientSize.width, stringLayoutResult.lineHeight);\n                            }\n                            else {\n                                var lineWidth = this.font.measureString(this.text, this.format).width;\n                                layoutResult = this.calculateResultBounds(layoutResult, lineWidth, layoutResult.page.graphics.clientSize.width, 0);\n                            }\n                        }\n                    }\n                    return layoutResult;\n                }\n                else {\n                    var lineSize = this.font.measureString(this.text, this.format);\n                    if (param.bounds.y <= param.page.graphics.clientSize.height) {\n                        layoutResult = this.layout(param);\n                        layoutResult = this.calculateResultBounds(layoutResult, lineSize.width, layoutResult.page.graphics.clientSize.width, 0);\n                    }\n                    return layoutResult;\n                }\n            }\n            else {\n                var layoutResult = layout.layout(this.value, this.font, this.stringFormat, new SizeF(arg3.width, 0), false, arg2.graphics.clientSize);\n                var result = void 0;\n                var param = new PdfLayoutParams();\n                var temparg3 = arg3;\n                var temparg4 = arg4;\n                param.page = arg2;\n                param.bounds = temparg3;\n                param.format = (temparg4 != null) ? temparg4 : new PdfLayoutFormat();\n                if (layoutResult.lines.length > 1) {\n                    this.text = layoutResult.layoutLines[0].text;\n                    if (param.bounds.y <= param.page.graphics.clientSize.height) {\n                        var previousPosition = new PointF(param.bounds.x, param.bounds.y);\n                        result = this.layout(param);\n                        var bounds = new RectangleF(temparg3.x, result.bounds.y + layoutResult.lineHeight, temparg3.width, layoutResult.lineHeight);\n                        var isPaginate = false;\n                        for (var i = 1; i < layoutResult.lines.length; i++) {\n                            param.page = result.page;\n                            param.bounds = new RectangleF(bounds.x, bounds.y, bounds.width, bounds.height);\n                            this.text = layoutResult.layoutLines[i].text;\n                            if (bounds.y + layoutResult.lineHeight > result.page.graphics.clientSize.height) {\n                                isPaginate = true;\n                                param.page = param.page.graphics.getNextPage();\n                                if (previousPosition.y > (result.page.graphics.clientSize.height - result.bounds.height)) {\n                                    bounds = new RectangleF(temparg3.x, layoutResult.lineHeight, temparg3.width, layoutResult.lineHeight);\n                                }\n                                else {\n                                    bounds = new RectangleF(temparg3.x, 0, temparg3.width, layoutResult.lineHeight);\n                                }\n                                param.bounds = bounds;\n                            }\n                            result = this.layout(param);\n                            if (i !== (layoutResult.lines.length - 1)) {\n                                bounds = new RectangleF(temparg3.x, result.bounds.y + layoutResult.lineHeight, temparg3.width, layoutResult.lineHeight);\n                            }\n                            else {\n                                var lineWidth = this.font.measureString(this.text, this.format).width;\n                                result = this.calculateResultBounds(result, lineWidth, temparg3.width, temparg3.x);\n                            }\n                        }\n                    }\n                    return result;\n                }\n                else {\n                    var lineSize = this.font.measureString(this.text, this.format);\n                    if (param.bounds.y <= param.page.graphics.clientSize.height) {\n                        result = this.layout(param);\n                        result = this.calculateResultBounds(result, lineSize.width, temparg3.width, temparg3.x);\n                    }\n                    return result;\n                }\n            }\n        }\n    };\n    PdfTextElement.prototype.calculateResultBounds = function (result, lineWidth, maximumWidth, startPosition) {\n        var shift = 0;\n        if (this.stringFormat != null && typeof this.stringFormat !== 'undefined' && this.stringFormat.alignment === PdfTextAlignment.Center) {\n            result.bounds.x = startPosition + (maximumWidth - lineWidth) / 2;\n            result.bounds.width = lineWidth;\n        }\n        else if (this.stringFormat != null && typeof this.stringFormat !== 'undefined' && this.stringFormat.alignment === PdfTextAlignment.Right) {\n            result.bounds.x = startPosition + (maximumWidth - lineWidth);\n            result.bounds.width = lineWidth;\n        }\n        else if (this.stringFormat != null && typeof this.stringFormat !== 'undefined' && this.stringFormat.alignment === PdfTextAlignment.Justify) {\n            result.bounds.x = startPosition;\n            result.bounds.width = maximumWidth;\n        }\n        else {\n            result.bounds.width = startPosition;\n            result.bounds.width = lineWidth;\n        }\n        return result;\n    };\n    return PdfTextElement;\n}(PdfLayoutElement));\nexport { PdfTextElement };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfActionLinkAnnotation } from './action-link-annotation';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfUriAction } from './../actions/uri-action';\n/**\n * `PdfUriAnnotation` class represents the Uri annotation.\n * @private\n */\nvar PdfUriAnnotation = /** @class */ (function (_super) {\n    __extends(PdfUriAnnotation, _super);\n    function PdfUriAnnotation(rectangle, uri) {\n        var _this = _super.call(this, rectangle) || this;\n        if (typeof uri !== 'undefined') {\n            _this.uri = uri;\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfUriAnnotation.prototype, \"uriAction\", {\n        /**\n         * Get `action` of the annotation.\n         * @private\n         */\n        get: function () {\n            if (typeof this.pdfUriAction === 'undefined') {\n                this.pdfUriAction = new PdfUriAction();\n            }\n            return this.pdfUriAction;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfUriAnnotation.prototype, \"uri\", {\n        // Properties\n        /**\n         * Gets or sets the `Uri` address.\n         * @private\n         */\n        get: function () {\n            return this.uriAction.uri;\n        },\n        set: function (value) {\n            if (this.uriAction.uri !== value) {\n                this.uriAction.uri = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfUriAnnotation.prototype, \"action\", {\n        /**\n         * Gets or sets the `action`.\n         * @private\n         */\n        get: function () {\n            return this.getSetAction();\n        },\n        set: function (value) {\n            this.getSetAction(value);\n            this.uriAction.next = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Initializes` annotation object.\n     * @private\n     */\n    PdfUriAnnotation.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        this.dictionary.items.setValue(this.dictionaryProperties.subtype, new PdfName(this.dictionaryProperties.link));\n        var tempPrimitive = this.uriAction.element;\n        this.dictionary.items.setValue(this.dictionaryProperties.a, this.uriAction.element);\n    };\n    return PdfUriAnnotation;\n}(PdfActionLinkAnnotation));\nexport { PdfUriAnnotation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfPage } from './../pages/pdf-page';\nimport { PointF, RectangleF, SizeF } from './../drawing/pdf-drawing';\nimport { PdfTextElement } from './../graphics/figures/text-element';\nimport { PdfUriAnnotation } from './uri-annotation';\nimport { PdfStringLayouter } from './../graphics/fonts/string-layouter';\nimport { PdfFontStyle } from './../graphics/fonts/enum';\nimport { PdfTextAlignment } from './../graphics/enum';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfNumber } from './../primitives/pdf-number';\n/**\n * `PdfTextWebLink` class represents the class for text web link annotation.\n * ```typescript\n * // create a new PDF document.\n * let document : PdfDocument = new PdfDocument();\n * // add a page to the document.\n * let page1 : PdfPage = document.pages.add();\n * // create the font\n * let font : PdfFont = new PdfStandardFont(PdfFontFamily.Helvetica, 12);\n * //\n * // create the Text Web Link\n * let textLink : PdfTextWebLink = new PdfTextWebLink();\n * // set the hyperlink\n * textLink.url = 'http://www.google.com';\n * // set the link text\n * textLink.text = 'Google';\n * // set the font\n * textLink.font = font;\n * // draw the hyperlink in PDF page\n * textLink.draw(page1, new PointF(10, 40));\n * //\n * // save the document.\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n */\nvar PdfTextWebLink = /** @class */ (function (_super) {\n    __extends(PdfTextWebLink, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `PdfTextWebLink` class.\n     * @private\n     */\n    function PdfTextWebLink() {\n        var _this = _super.call(this) || this;\n        // Fields\n        /**\n         * Internal variable to store `Url`.\n         * @default ''\n         * @private\n         */\n        _this.uniformResourceLocator = '';\n        /**\n         * Internal variable to store `Uri Annotation` object.\n         * @default null\n         * @private\n         */\n        _this.uriAnnotation = null;\n        /**\n         * Checks whether the drawTextWebLink method with `PointF` overload is called or not.\n         * If it set as true, then the start position of each lines excluding firest line is changed as (0, Y).\n         * @private\n         * @hidden\n         */\n        _this.recalculateBounds = false;\n        _this.defaultBorder = new PdfArray();\n        for (var i = 0; i < 3; i++) {\n            _this.defaultBorder.add(new PdfNumber(0));\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfTextWebLink.prototype, \"url\", {\n        // Properties\n        /**\n         * Gets or sets the `Uri address`.\n         * ```typescript\n         * // create a new PDF document.\n         * let document : PdfDocument = new PdfDocument();\n         * // add a page to the document.\n         * let page1 : PdfPage = document.pages.add();\n         * // create the font\n         * let font : PdfFont = new PdfStandardFont(PdfFontFamily.Helvetica, 12);\n         * // create the Text Web Link\n         * let textLink : PdfTextWebLink = new PdfTextWebLink();\n         * //\n         * // set the hyperlink\n         * textLink.url = 'http://www.google.com';\n         * //\n         * // set the link text\n         * textLink.text = 'Google';\n         * // set the font\n         * textLink.font = font;\n         * // draw the hyperlink in PDF page\n         * textLink.draw(page1, new PointF(10, 40));\n         * // save the document.\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            return this.uniformResourceLocator;\n        },\n        set: function (value) {\n            if (value.length === 0) {\n                throw new Error('ArgumentException : Url - string can not be empty');\n            }\n            this.uniformResourceLocator = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTextWebLink.prototype.draw = function (arg1, arg2) {\n        if (arg1 instanceof PdfPage) {\n            var layout = new PdfStringLayouter();\n            var previousFontStyle = this.font.style;\n            if (arg2 instanceof PointF) {\n                this.recalculateBounds = true;\n                this.font.style = PdfFontStyle.Underline;\n                var layoutResult = layout.layout(this.value, this.font, this.stringFormat, new SizeF((arg1.graphics.clientSize.width - arg2.x), 0), true, arg1.graphics.clientSize);\n                if (layoutResult.lines.length === 1) {\n                    var textSize = this.font.measureString(this.value);\n                    var rect = new RectangleF(arg2, textSize);\n                    rect = this.calculateBounds(rect, textSize.width, arg1.graphics.clientSize.width, arg2.x);\n                    this.uriAnnotation = new PdfUriAnnotation(rect, this.url);\n                    this.uriAnnotation.dictionary.items.setValue('Border', this.defaultBorder);\n                    arg1.annotations.add(this.uriAnnotation);\n                    var result = this.drawText(arg1, arg2);\n                    this.font.style = previousFontStyle;\n                    return result;\n                }\n                else {\n                    var result = this.drawMultipleLineWithPoint(layoutResult, arg1, arg2);\n                    this.font.style = previousFontStyle;\n                    return result;\n                }\n            }\n            else {\n                var layoutResult = layout.layout(this.value, this.font, this.stringFormat, new SizeF(arg2.width, 0), false, new SizeF(0, 0));\n                this.font.style = PdfFontStyle.Underline;\n                if (layoutResult.lines.length === 1) {\n                    var textSize = this.font.measureString(this.value);\n                    var rect = new RectangleF(new PointF(arg2.x, arg2.y), textSize);\n                    rect = this.calculateBounds(rect, textSize.width, arg2.width, arg2.x);\n                    this.uriAnnotation = new PdfUriAnnotation(rect, this.url);\n                    this.uriAnnotation.dictionary.items.setValue('Border', this.defaultBorder);\n                    arg1.annotations.add(this.uriAnnotation);\n                    var returnValue = this.drawText(arg1, arg2);\n                    this.font.style = previousFontStyle;\n                    return returnValue;\n                }\n                else {\n                    var returnValue = this.drawMultipleLineWithBounds(layoutResult, arg1, arg2);\n                    this.font.style = previousFontStyle;\n                    return returnValue;\n                }\n            }\n        }\n        else {\n            var page = new PdfPage();\n            page = arg1.page;\n            return this.draw(page, arg2);\n        }\n    };\n    /* tslint:enable */\n    //Private methods\n    /**\n     * Helper method `Draw` a Multiple Line Text Web Link on the Graphics with the specified location.\n     * @private\n     */\n    PdfTextWebLink.prototype.drawMultipleLineWithPoint = function (result, page, location) {\n        var layoutResult;\n        for (var i = 0; i < result.layoutLines.length; i++) {\n            var size = this.font.measureString(result.lines[i].text);\n            var bounds = new RectangleF(location, size);\n            if (i !== 0) {\n                bounds.x = 0;\n            }\n            this.text = result.lines[i].text;\n            if (bounds.y + size.height > page.graphics.clientSize.height) {\n                if (i !== 0) {\n                    page = page.graphics.getNextPage();\n                    bounds = new RectangleF(0, 0, page.graphics.clientSize.width, size.height);\n                    location.y = 0;\n                }\n                else {\n                    break;\n                }\n            }\n            bounds = this.calculateBounds(bounds, size.width, page.graphics.clientSize.width, bounds.x);\n            this.uriAnnotation = new PdfUriAnnotation(bounds, this.url);\n            this.uriAnnotation.dictionary.items.setValue('Border', this.defaultBorder);\n            page.annotations.add(this.uriAnnotation);\n            if (i !== 0) {\n                layoutResult = this.drawText(page, new PointF(0, bounds.y));\n            }\n            else {\n                layoutResult = this.drawText(page, bounds.x, bounds.y);\n            }\n            location.y += size.height;\n        }\n        return layoutResult;\n    };\n    /**\n     * Helper method `Draw` a Multiple Line Text Web Link on the Graphics with the specified bounds.\n     * @private\n     */\n    PdfTextWebLink.prototype.drawMultipleLineWithBounds = function (result, page, bounds) {\n        var layoutResult;\n        for (var i = 0; i < result.layoutLines.length; i++) {\n            var size = this.font.measureString(result.lines[i].text);\n            var internalBounds = new RectangleF(new PointF(bounds.x, bounds.y), size);\n            internalBounds = this.calculateBounds(internalBounds, size.width, bounds.width, bounds.x);\n            this.text = result.lines[i].text;\n            if (bounds.y + size.height > page.graphics.clientSize.height) {\n                if (i !== 0) {\n                    page = page.graphics.getNextPage();\n                    bounds = new RectangleF(bounds.x, 0, bounds.width, size.height);\n                    internalBounds.y = 0;\n                }\n                else {\n                    break;\n                }\n            }\n            this.uriAnnotation = new PdfUriAnnotation(internalBounds, this.url);\n            this.uriAnnotation.dictionary.items.setValue('Border', this.defaultBorder);\n            page.annotations.add(this.uriAnnotation);\n            layoutResult = this.drawText(page, bounds);\n            bounds.y += size.height;\n        }\n        return layoutResult;\n    };\n    /* tslint:disable */\n    PdfTextWebLink.prototype.calculateBounds = function (currentBounds, lineWidth, maximumWidth, startPosition) {\n        var shift = 0;\n        if (this.stringFormat != null && typeof this.stringFormat !== 'undefined' && this.stringFormat.alignment === PdfTextAlignment.Center) {\n            currentBounds.x = startPosition + (maximumWidth - lineWidth) / 2;\n            currentBounds.width = lineWidth;\n        }\n        else if (this.stringFormat != null && typeof this.stringFormat !== 'undefined' && this.stringFormat.alignment === PdfTextAlignment.Right) {\n            currentBounds.x = startPosition + (maximumWidth - lineWidth);\n            currentBounds.width = lineWidth;\n        }\n        else if (this.stringFormat != null && typeof this.stringFormat !== 'undefined' && this.stringFormat.alignment === PdfTextAlignment.Justify) {\n            currentBounds.x = startPosition;\n            currentBounds.width = maximumWidth;\n        }\n        else {\n            currentBounds.width = startPosition;\n            currentBounds.width = lineWidth;\n        }\n        return currentBounds;\n    };\n    return PdfTextWebLink;\n}(PdfTextElement));\nexport { PdfTextWebLink };\n","/**\n * PdfNumbersConvertor.ts class for EJ2-PDF\n * @private\n */\nimport { PdfNumberStyle } from './../../pages/enum';\n/**\n * `PdfNumbersConvertor` for convert page number into numbers, roman letters, etc.,\n * @private\n */\nvar PdfNumbersConvertor = /** @class */ (function () {\n    function PdfNumbersConvertor() {\n    }\n    // Static methods\n    /**\n     * Convert string value from page number with correct format.\n     * @private\n     */\n    PdfNumbersConvertor.convert = function (intArabic, numberStyle) {\n        var result = '';\n        switch (numberStyle) {\n            case PdfNumberStyle.None:\n                result = '';\n                break;\n            case PdfNumberStyle.Numeric:\n                result = intArabic.toString();\n                break;\n            case PdfNumberStyle.LowerLatin:\n                result = this.arabicToLetter(intArabic).toLowerCase();\n                break;\n            case PdfNumberStyle.LowerRoman:\n                result = this.arabicToRoman(intArabic).toLowerCase();\n                break;\n            case PdfNumberStyle.UpperLatin:\n                result = this.arabicToLetter(intArabic);\n                break;\n            case PdfNumberStyle.UpperRoman:\n                result = this.arabicToRoman(intArabic);\n                break;\n        }\n        return result;\n    };\n    /**\n     * Converts `arabic to roman` letters.\n     * @private\n     */\n    PdfNumbersConvertor.arabicToRoman = function (intArabic) {\n        var retval = '';\n        retval += this.generateNumber(intArabic, 1000, 'M');\n        retval += this.generateNumber(intArabic, 900, 'CM');\n        retval += this.generateNumber(intArabic, 500, 'D');\n        retval += this.generateNumber(intArabic, 400, 'CD');\n        retval += this.generateNumber(intArabic, 100, 'C');\n        retval += this.generateNumber(intArabic, 90, 'XC');\n        retval += this.generateNumber(intArabic, 50, 'L');\n        retval += this.generateNumber(intArabic, 40, 'XL');\n        retval += this.generateNumber(intArabic, 10, 'X');\n        retval += this.generateNumber(intArabic, 9, 'IX');\n        retval += this.generateNumber(intArabic, 5, 'V');\n        retval += this.generateNumber(intArabic, 4, 'IV');\n        retval += this.generateNumber(intArabic, 1, 'I');\n        return retval.toString();\n    };\n    /**\n     * Converts `arabic to normal letters`.\n     * @private\n     */\n    PdfNumbersConvertor.arabicToLetter = function (arabic) {\n        var stack = this.convertToLetter(arabic);\n        var result = '';\n        while (stack.length > 0) {\n            var num = stack.pop();\n            result = this.appendChar(result, num);\n        }\n        return result.toString();\n    };\n    /**\n     * Generate a string value of an input number.\n     * @private\n     */\n    PdfNumbersConvertor.generateNumber = function (value, magnitude, letter) {\n        var numberstring = '';\n        while (value >= magnitude) {\n            value -= magnitude;\n            numberstring += letter;\n        }\n        return numberstring.toString();\n    };\n    /**\n     * Convert a input number into letters.\n     * @private\n     */\n    PdfNumbersConvertor.convertToLetter = function (arabic) {\n        if (arabic <= 0) {\n            throw Error('ArgumentOutOfRangeException-arabic, Value can not be less 0');\n        }\n        var stack = [];\n        while (arabic > this.letterLimit) {\n            var remainder = arabic % this.letterLimit;\n            if (remainder === 0.0) {\n                arabic = arabic / this.letterLimit - 1;\n                remainder = this.letterLimit;\n            }\n            else {\n                arabic /= this.letterLimit;\n            }\n            stack.push(remainder);\n        }\n        stack.push(arabic);\n        return stack;\n    };\n    /**\n     * Convert number to actual string value.\n     * @private\n     */\n    PdfNumbersConvertor.appendChar = function (builder, value) {\n        var letter = String.fromCharCode(PdfNumbersConvertor.acsiiStartIndex + value);\n        builder += letter;\n        return builder;\n    };\n    // Fields\n    /**\n     * numbers of letters in english [readonly].\n     * @default = 26.0\n     * @private\n     */\n    PdfNumbersConvertor.letterLimit = 26.0;\n    /**\n     * Resturns `acsii start index` value.\n     * @default 64\n     * @private\n     */\n    PdfNumbersConvertor.acsiiStartIndex = (65 - 1);\n    return PdfNumbersConvertor;\n}());\nexport { PdfNumbersConvertor };\n","/**\n * Represent class to store information about `template and value pairs`.\n * @private\n */\nvar PdfTemplateValuePair = /** @class */ (function () {\n    function PdfTemplateValuePair(template, value) {\n        // Fields\n        /**\n         * Internal variable to store template.\n         * @default null\n         * @private\n         */\n        this.pdfTemplate = null;\n        /**\n         * Intenal variable to store value.\n         * @private\n         */\n        this.content = '';\n        if (typeof template === 'undefined') {\n            //\n        }\n        else {\n            this.template = template;\n            this.value = value;\n        }\n    }\n    Object.defineProperty(PdfTemplateValuePair.prototype, \"template\", {\n        // Properties\n        /**\n         * Gets or sets the template.\n         * @private\n         */\n        get: function () {\n            return this.pdfTemplate;\n        },\n        set: function (value) {\n            this.pdfTemplate = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTemplateValuePair.prototype, \"value\", {\n        /**\n         * Gets or sets the value.\n         * @private\n         */\n        get: function () {\n            return this.content;\n        },\n        set: function (value) {\n            this.content = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTemplateValuePair;\n}());\nexport { PdfTemplateValuePair };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfAutomaticField.ts class for EJ2-PDF\n */\nimport { PdfAutomaticField } from './automatic-field';\nimport { TemporaryDictionary } from './../../collections/object-object-pair/dictionary';\nimport { PdfTemplateValuePair } from './pdf-template-value-pair';\nimport { SizeF, PointF } from './../../drawing/pdf-drawing';\nimport { PdfTemplate } from './../../graphics/figures/pdf-template';\n/**\n * Represents automatic field which has the same value within the `PdfGraphics`.\n */\nvar PdfMultipleValueField = /** @class */ (function (_super) {\n    __extends(PdfMultipleValueField, _super);\n    function PdfMultipleValueField() {\n        var _this = _super.call(this) || this;\n        //  Fields\n        /**\n         * Stores the instance of dictionary values of `graphics and template value pair`.\n         * @private\n         */\n        _this.list = new TemporaryDictionary();\n        return _this;\n    }\n    // Implementation\n    /* tslint:disable */\n    PdfMultipleValueField.prototype.performDraw = function (graphics, location, scalingX, scalingY) {\n        _super.prototype.performDrawHelper.call(this, graphics, location, scalingX, scalingY);\n        var value = this.getValue(graphics);\n        var template = new PdfTemplate(this.getSize());\n        this.list.setValue(graphics, new PdfTemplateValuePair(template, value));\n        var g = template.graphics;\n        var size = this.getSize();\n        template.graphics.drawString(value, this.getFont(), this.pen, this.getBrush(), 0, 0, size.width, size.height, this.stringFormat);\n        var drawLocation = new PointF(location.x + this.location.x, location.y + this.location.y);\n        graphics.drawPdfTemplate(template, drawLocation, new SizeF(template.width * scalingX, template.height * scalingY));\n    };\n    return PdfMultipleValueField;\n}(PdfAutomaticField));\nexport { PdfMultipleValueField };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfBrush } from './../../graphics/brushes/pdf-brush';\nimport { PdfNumberStyle } from './../../pages/enum';\nimport { PdfNumbersConvertor } from './pdf-numbers-convertor';\nimport { PdfMultipleValueField } from './multiple-value-field';\n/**\n * Represents PDF document `page number field`.\n * @public\n */\nvar PdfPageNumberField = /** @class */ (function (_super) {\n    __extends(PdfPageNumberField, _super);\n    function PdfPageNumberField(font, arg2) {\n        var _this = _super.call(this) || this;\n        // Fields\n        /**\n         * Stores the number style of the page number field.\n         * @private\n         */\n        _this.internalNumberStyle = PdfNumberStyle.Numeric;\n        if (typeof arg2 === 'undefined') {\n            _this.font = font;\n        }\n        else if (arg2 instanceof PdfBrush) {\n            _this.font = font;\n            _this.brush = arg2;\n        }\n        else {\n            _this.font = font;\n            _this.bounds = arg2;\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfPageNumberField.prototype, \"numberStyle\", {\n        // Properties\n        /**\n         * Gets and sets the number style of the page number field.\n         * @private\n         */\n        get: function () {\n            return this.internalNumberStyle;\n        },\n        set: function (value) {\n            this.internalNumberStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Return the `string` value of page number field.\n     * @public\n     */\n    PdfPageNumberField.prototype.getValue = function (graphics) {\n        var result = null;\n        var page = this.getPageFromGraphics(graphics);\n        result = this.internalGetValue(page);\n        return result;\n    };\n    /**\n     * Internal method to `get actual value of page number`.\n     * @private\n     */\n    PdfPageNumberField.prototype.internalGetValue = function (page) {\n        var document = page.document;\n        var pageIndex = document.pages.indexOf(page) + 1;\n        return PdfNumbersConvertor.convert(pageIndex, this.numberStyle);\n    };\n    return PdfPageNumberField;\n}(PdfMultipleValueField));\nexport { PdfPageNumberField };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfCompositeField.ts class for EJ2-PDF\n */\nimport { PdfMultipleValueField } from './multiple-value-field';\n/**\n * Represents class which can concatenate multiple automatic fields into single string.\n */\nvar PdfCompositeField = /** @class */ (function (_super) {\n    __extends(PdfCompositeField, _super);\n    // Constructor\n    /**\n     * Initialize a new instance of `PdfCompositeField` class.\n     * @param font Font of the field.\n     * @param brush Color of the field.\n     * @param text Content of the field.\n     * @param list List of the automatic fields in specific order based on the text content.\n     */\n    function PdfCompositeField(font, brush, text) {\n        var list = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            list[_i - 3] = arguments[_i];\n        }\n        var _this = _super.call(this) || this;\n        // Fields\n        /**\n         * Stores the array of automatic fields.\n         * @private\n         */\n        _this.internalAutomaticFields = null;\n        /**\n         * Stores the text value of the field.\n         * @private\n         */\n        _this.internalText = '';\n        _this.font = font;\n        _this.brush = brush;\n        _this.text = text;\n        _this.automaticFields = list;\n        return _this;\n    }\n    Object.defineProperty(PdfCompositeField.prototype, \"text\", {\n        // Properties\n        /**\n         * Gets and sets the content of the field.\n         * @public\n         */\n        get: function () {\n            return this.internalText;\n        },\n        set: function (value) {\n            this.internalText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfCompositeField.prototype, \"automaticFields\", {\n        /**\n         * Gets and sets the list of the field to drawn.\n         * @public\n         */\n        get: function () {\n            return this.internalAutomaticFields;\n        },\n        set: function (value) {\n            this.internalAutomaticFields = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * Return the actual value generated from the list of automatic fields.\n     * @public\n     */\n    PdfCompositeField.prototype.getValue = function (graphics) {\n        var values = [];\n        var text = this.text.toString();\n        if (typeof this.automaticFields !== 'undefined' && this.automaticFields != null && this.automaticFields.length > 0) {\n            for (var i = 0; i < this.automaticFields.length; i++) {\n                var automaticField = this.automaticFields[i];\n                text = text.replace('{' + i + '}', automaticField.getValue(graphics));\n            }\n        }\n        return text;\n    };\n    return PdfCompositeField;\n}(PdfMultipleValueField));\nexport { PdfCompositeField };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfSingleValueField.ts class for EJ2-PDF\n */\nimport { PdfAutomaticField } from './automatic-field';\nimport { TemporaryDictionary } from './../../collections/object-object-pair/dictionary';\nimport { PdfTemplateValuePair } from './pdf-template-value-pair';\nimport { PointF, SizeF } from './../../drawing/pdf-drawing';\nimport { PdfTemplate } from './../../graphics/figures/pdf-template';\n/**\n * Represents automatic field which has the same value in the whole document.\n */\nvar PdfSingleValueField = /** @class */ (function (_super) {\n    __extends(PdfSingleValueField, _super);\n    // Constructors\n    function PdfSingleValueField() {\n        var _this = _super.call(this) || this;\n        // Fields\n        /* tslint:disable */\n        _this.list = new TemporaryDictionary();\n        /* tslint:enable */\n        _this.painterGraphics = [];\n        return _this;\n    }\n    PdfSingleValueField.prototype.performDraw = function (graphics, location, scalingX, scalingY) {\n        _super.prototype.performDrawHelper.call(this, graphics, location, scalingX, scalingY);\n        var page = this.getPageFromGraphics(graphics);\n        var document = page.document;\n        var textValue = this.getValue(graphics);\n        /* tslint:disable */\n        if (this.list.containsKey(document)) {\n            var pair = this.list.getValue(document);\n            var drawLocation = new PointF(location.x + this.location.x, location.y + this.location.y);\n            graphics.drawPdfTemplate(pair.template, drawLocation, new SizeF(pair.template.width * scalingX, pair.template.height * scalingY));\n            this.painterGraphics.push(graphics);\n        }\n        else {\n            var size = this.getSize();\n            var template = new PdfTemplate(size);\n            this.list.setValue(document, new PdfTemplateValuePair(template, textValue));\n            template.graphics.drawString(textValue, this.getFont(), this.pen, this.getBrush(), 0, 0, size.width, size.height, this.stringFormat);\n            var drawLocation = new PointF(location.x + this.location.x, location.y + this.location.y);\n            graphics.drawPdfTemplate(template, drawLocation, new SizeF(template.width * scalingX, template.height * scalingY));\n            this.painterGraphics.push(graphics);\n        }\n        /* tslint:enable */\n    };\n    return PdfSingleValueField;\n}(PdfAutomaticField));\nexport { PdfSingleValueField };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfPageCountField.ts class for EJ2-PDF\n */\nimport { PdfSingleValueField } from './single-value-field';\nimport { PdfNumberStyle } from './../../pages/enum';\nimport { PdfBrush } from './../../graphics/brushes/pdf-brush';\nimport { PdfNumbersConvertor } from './pdf-numbers-convertor';\n/**\n * Represents total PDF document page count automatic field.\n */\nvar PdfPageCountField = /** @class */ (function (_super) {\n    __extends(PdfPageCountField, _super);\n    function PdfPageCountField(font, arg2) {\n        var _this = _super.call(this) || this;\n        // Fields\n        /**\n         * Stores the number style of the field.\n         * @private\n         */\n        _this.internalNumberStyle = PdfNumberStyle.Numeric;\n        if (typeof arg2 === 'undefined') {\n            _this.font = font;\n        }\n        else if (arg2 instanceof PdfBrush) {\n            _this.font = font;\n            _this.brush = arg2;\n        }\n        else {\n            _this.font = font;\n            _this.bounds = arg2;\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfPageCountField.prototype, \"numberStyle\", {\n        // Properties\n        /**\n         * Gets and sets the number style of the field.\n         * @public\n         */\n        get: function () {\n            return this.internalNumberStyle;\n        },\n        set: function (value) {\n            this.internalNumberStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * Return the actual value of the content to drawn.\n     * @public\n     */\n    PdfPageCountField.prototype.getValue = function (graphics) {\n        var result = null;\n        var page = this.getPageFromGraphics(graphics);\n        var document = page.section.parent.document;\n        var count = document.pages.count;\n        result = PdfNumbersConvertor.convert(count, this.numberStyle);\n        return result;\n    };\n    return PdfPageCountField;\n}(PdfSingleValueField));\nexport { PdfPageCountField };\n","import { PointF, RectangleF } from './../drawing/pdf-drawing';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfPageRotateAngle } from './../pages/enum';\nimport { PdfDestinationMode } from './../general/enum';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\n/**\n * `PdfDestination` class represents an anchor in the document\n * where bookmarks or annotations can direct when clicked.\n */\nvar PdfDestination = /** @class */ (function () {\n    function PdfDestination(arg1, arg2) {\n        // Fields\n        /**\n         * Internal variable for accessing fields from `DictionryProperties` class.\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        /**\n         * Type of the `destination`.\n         * @private\n         */\n        this.destinationMode = PdfDestinationMode.Location;\n        /**\n         * `Zoom` factor.\n         * @private\n         * @default 0\n         */\n        this.zoomFactor = 0;\n        /**\n         * `Location` of the destination.\n         * @default new PointF() with 0 ,0 as co-ordinates\n         * @private\n         */\n        this.destinationLocation = new PointF(0, 0);\n        /**\n         * `Bounds` of the destination as RectangleF.\n         * @default RectangleF.Empty\n         * @private\n         */\n        this.bounds = new RectangleF();\n        /**\n         * Pdf primitive representing `this` object.\n         * @private\n         */\n        this.array = new PdfArray();\n        if (typeof arg2 === 'undefined') {\n            var angle = PdfPageRotateAngle.RotateAngle0;\n            this.destinationLocation = new PointF(0, this.destinationLocation.y);\n            this.pdfPage = arg1;\n        }\n        else if (arg2 instanceof PointF) {\n            this.constructor(arg1);\n            this.destinationLocation = arg2;\n        }\n        else {\n            this.constructor(arg1);\n            this.bounds = arg2;\n        }\n    }\n    Object.defineProperty(PdfDestination.prototype, \"zoom\", {\n        // Properties\n        /**\n         * Gets and Sets the `zoom` factor.\n         * @private\n         */\n        get: function () {\n            return this.zoomFactor;\n        },\n        set: function (value) {\n            this.zoomFactor = value;\n            this.initializePrimitive();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDestination.prototype, \"page\", {\n        /**\n         * Gets and Sets the `page` object.\n         * @private\n         */\n        get: function () {\n            return this.pdfPage;\n        },\n        set: function (value) {\n            this.pdfPage = value;\n            this.initializePrimitive();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDestination.prototype, \"mode\", {\n        /**\n         * Gets and Sets the destination `mode`.\n         * @private\n         */\n        get: function () {\n            return this.destinationMode;\n        },\n        set: function (value) {\n            this.destinationMode = value;\n            this.initializePrimitive();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfDestination.prototype, \"location\", {\n        /**\n         * Gets and Sets the `location`.\n         * @private\n         */\n        get: function () {\n            return this.destinationLocation;\n        },\n        set: function (value) {\n            this.destinationLocation = value;\n            this.initializePrimitive();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Translates` co-ordinates to PDF co-ordinate system (lower/left).\n     * @private\n     */\n    PdfDestination.prototype.pointToNativePdf = function (page, point) {\n        var section = page.section;\n        return section.pointToNativePdf(page, point);\n    };\n    /**\n     * `In fills` array by correct values.\n     * @private\n     */\n    PdfDestination.prototype.initializePrimitive = function () {\n        this.array.clear();\n        this.array.add(new PdfReferenceHolder(this.pdfPage));\n        switch (this.destinationMode) {\n            case PdfDestinationMode.Location:\n                var simplePage = this.pdfPage;\n                var point = new PointF();\n                point = this.pointToNativePdf(simplePage, this.destinationLocation);\n                this.array.add(new PdfName(this.dictionaryProperties.xyz));\n                this.array.add(new PdfNumber(point.x));\n                this.array.add(new PdfNumber(point.y));\n                this.array.add(new PdfNumber(this.zoomFactor));\n                break;\n            case PdfDestinationMode.FitToPage:\n                this.array.add(new PdfName(this.dictionaryProperties.fit));\n                break;\n        }\n    };\n    Object.defineProperty(PdfDestination.prototype, \"element\", {\n        /**\n         * Gets the `element` representing this object.\n         * @private\n         */\n        get: function () {\n            this.initializePrimitive();\n            return this.array;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfDestination;\n}());\nexport { PdfDestination };\n","/**\n * public Enum for `PdfBorderOverlapStyle`.\n * @private\n */\nexport var PdfBorderOverlapStyle;\n(function (PdfBorderOverlapStyle) {\n    /**\n     * Specifies the type of `Overlap`.\n     * @private\n     */\n    PdfBorderOverlapStyle[PdfBorderOverlapStyle[\"Overlap\"] = 0] = \"Overlap\";\n    /**\n     * Specifies the type of `Inside`.\n     * @private\n     */\n    PdfBorderOverlapStyle[PdfBorderOverlapStyle[\"Inside\"] = 1] = \"Inside\";\n})(PdfBorderOverlapStyle || (PdfBorderOverlapStyle = {}));\n","/**\n * PdfPageTemplateElement.ts class for EJ2-Pdf\n */\nimport { PdfDockStyle, PdfAlignmentStyle, TemplateType } from './enum';\nimport { PointF, SizeF } from './../drawing/pdf-drawing';\nimport { PdfTemplate } from './../graphics/figures/pdf-template';\nimport { PdfPage } from './pdf-page';\nimport { RectangleF } from './../drawing/pdf-drawing';\n/**\n * Describes a `page template` object that can be used as header/footer, watermark or stamp.\n */\nvar PdfPageTemplateElement = /** @class */ (function () {\n    /* tslint:disable */\n    function PdfPageTemplateElement(arg1, arg2, arg3, arg4, arg5) {\n        if (arg1 instanceof RectangleF && typeof arg2 === 'undefined') {\n            this.constructor(arg1.x, arg1.y, arg1.width, arg1.height);\n        }\n        else if (arg1 instanceof RectangleF && arg2 instanceof PdfPage && typeof arg3 === 'undefined') {\n            this.constructor(arg1.x, arg1.y, arg1.width, arg1.height, arg2);\n        }\n        else if (arg1 instanceof PointF && arg2 instanceof SizeF && typeof arg3 === 'undefined') {\n            this.constructor(arg1.x, arg1.y, arg2.width, arg2.height);\n        }\n        else if (arg1 instanceof PointF && arg2 instanceof SizeF && arg3 instanceof PdfPage && typeof arg4 === 'undefined') {\n            this.constructor(arg1.x, arg1.y, arg2.width, arg2.height, arg3);\n        }\n        else if (arg1 instanceof SizeF && typeof arg2 === 'undefined') {\n            this.constructor(arg1.width, arg1.height);\n        }\n        else if (typeof arg1 === 'number' && typeof arg2 === 'number' && typeof arg3 === 'undefined') {\n            this.constructor(0, 0, arg1, arg2);\n        }\n        else if (typeof arg1 === 'number' && typeof arg2 === 'number' && arg3 instanceof PdfPage && typeof arg4 === 'undefined') {\n            this.constructor(0, 0, arg1, arg2, arg3);\n        }\n        else if (typeof arg1 === 'number' && typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'number' && typeof arg5 === 'undefined') {\n            this.x = arg1;\n            this.y = arg2;\n            this.pdfTemplate = new PdfTemplate(arg3, arg4);\n        }\n        else {\n            this.x = arg1;\n            this.y = arg2;\n            this.pdfTemplate = new PdfTemplate(arg3, arg4);\n            // this.graphics.colorSpace = this.page.document.colorSpace;\n        }\n        /* tslint:enable */\n    }\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"dock\", {\n        // Properties\n        /**\n         * Gets or sets the `dock style` of the page template element.\n         * @private\n         */\n        get: function () {\n            return this.dockStyle;\n        },\n        set: function (value) {\n            // if (this.dockStyle !== value && this.Type === TemplateType.None) {\n            this.dockStyle = value;\n            // Reset alignment.\n            this.resetAlignment();\n            // }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"alignment\", {\n        /**\n         * Gets or sets `alignment` of the page template element.\n         * @private\n         */\n        get: function () {\n            return this.alignmentStyle;\n        },\n        set: function (value) {\n            // if (this.alignmentStyle !== value) {\n            this.setAlignment(value);\n            // }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"foreground\", {\n        /**\n         * Indicates whether the page template is located `in front of the page layers or behind of it`.\n         * @private\n         */\n        get: function () {\n            return this.isForeground;\n        },\n        set: function (value) {\n            // if (this.foreground !== value) {\n            this.isForeground = value;\n            // }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"background\", {\n        /**\n         * Indicates whether the page template is located `behind of the page layers or in front of it`.\n         * @private\n         */\n        get: function () {\n            return !this.isForeground;\n        },\n        set: function (value) {\n            this.isForeground = !value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"location\", {\n        /**\n         * Gets or sets `location` of the page template element.\n         * @private\n         */\n        get: function () {\n            return this.currentLocation;\n        },\n        set: function (value) {\n            if (this.type === TemplateType.None) {\n                this.currentLocation = value;\n            }\n            else {\n                //\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"x\", {\n        /**\n         * Gets or sets `X` co-ordinate of the template element on the page.\n         * @private\n         */\n        get: function () {\n            var value = (typeof this.currentLocation !== 'undefined') ? this.currentLocation.x : 0;\n            return value;\n        },\n        set: function (value) {\n            if (this.type === TemplateType.None) {\n                this.currentLocation.x = value;\n            }\n            else {\n                //\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"y\", {\n        /**\n         * Gets or sets `Y` co-ordinate of the template element on the page.\n         * @private\n         */\n        get: function () {\n            var value = (typeof this.currentLocation !== 'undefined') ? this.currentLocation.y : 0;\n            return value;\n        },\n        set: function (value) {\n            if (this.type === TemplateType.None) {\n                this.currentLocation.y = value;\n            }\n            else {\n                //\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"size\", {\n        /**\n         * Gets or sets `size` of the page template element.\n         * @private\n         */\n        get: function () {\n            return this.template.size;\n        },\n        set: function (value) {\n            if (this.type === TemplateType.None) {\n                this.template.reset(value);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"width\", {\n        /**\n         * Gets or sets `width` of the page template element.\n         * @private\n         */\n        get: function () {\n            return this.template.width;\n        },\n        set: function (value) {\n            if (this.template.width !== value && this.type === TemplateType.None) {\n                var size = this.template.size;\n                size.width = value;\n                this.template.reset(size);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"height\", {\n        /**\n         * Gets or sets `height` of the page template element.\n         * @private\n         */\n        get: function () {\n            return this.template.height;\n        },\n        set: function (value) {\n            if (this.template.height !== value && this.type === TemplateType.None) {\n                var size = this.template.size;\n                size.height = value;\n                this.template.reset(size);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"graphics\", {\n        /**\n         * Gets `graphics` context of the page template element.\n         * @private\n         */\n        get: function () {\n            return this.template.graphics;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"template\", {\n        /**\n         * Gets Pdf `template` object.\n         * @private\n         */\n        get: function () {\n            // if (typeof this.pdfTemplate === 'undefined' || this.pdfTemplate == null) {\n            //     this.pdfTemplate = new PdfTemplate(this.size);\n            // }\n            return this.pdfTemplate;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"type\", {\n        /**\n         * Gets or sets `type` of the usage of this page template.\n         * @private\n         */\n        get: function () {\n            return this.templateType;\n        },\n        set: function (value) {\n            this.updateDocking(value);\n            this.templateType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPageTemplateElement.prototype, \"bounds\", {\n        /**\n         * Gets or sets `bounds` of the page template.\n         * @public\n         */\n        get: function () {\n            return new RectangleF(new PointF(this.x, this.y), this.size);\n        },\n        set: function (value) {\n            if (this.type === TemplateType.None) {\n                this.location = new PointF(value.x, value.y);\n                this.size = new SizeF(value.width, value.height);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Updates Dock` property if template is used as header/footer.\n     * @private\n     */\n    PdfPageTemplateElement.prototype.updateDocking = function (type) {\n        if (type !== TemplateType.None) {\n            switch (type) {\n                case TemplateType.Top:\n                    this.dock = PdfDockStyle.Top;\n                    break;\n                case TemplateType.Bottom:\n                    this.dock = PdfDockStyle.Bottom;\n                    break;\n                case TemplateType.Left:\n                    this.dock = PdfDockStyle.Left;\n                    break;\n                case TemplateType.Right:\n                    this.dock = PdfDockStyle.Right;\n                    break;\n            }\n            this.resetAlignment();\n        }\n    };\n    /**\n     * `Resets alignment` of the template.\n     * @private\n     */\n    PdfPageTemplateElement.prototype.resetAlignment = function () {\n        this.alignment = PdfAlignmentStyle.None;\n    };\n    /**\n     * `Sets alignment` of the template.\n     * @private\n     */\n    PdfPageTemplateElement.prototype.setAlignment = function (alignment) {\n        if (this.dock === PdfDockStyle.None) {\n            this.alignmentStyle = alignment;\n        }\n        else {\n            // Template is docked and alignment has been changed.\n            var canBeSet = false;\n            switch (this.dock) {\n                case PdfDockStyle.Left:\n                    canBeSet = (alignment === PdfAlignmentStyle.TopLeft || alignment === PdfAlignmentStyle.MiddleLeft ||\n                        alignment === PdfAlignmentStyle.BottomLeft || alignment === PdfAlignmentStyle.None);\n                    break;\n                case PdfDockStyle.Top:\n                    canBeSet = (alignment === PdfAlignmentStyle.TopLeft || alignment === PdfAlignmentStyle.TopCenter ||\n                        alignment === PdfAlignmentStyle.TopRight || alignment === PdfAlignmentStyle.None);\n                    break;\n                case PdfDockStyle.Right:\n                    canBeSet = (alignment === PdfAlignmentStyle.TopRight || alignment === PdfAlignmentStyle.MiddleRight ||\n                        alignment === PdfAlignmentStyle.BottomRight || alignment === PdfAlignmentStyle.None);\n                    break;\n                case PdfDockStyle.Bottom:\n                    canBeSet = (alignment === PdfAlignmentStyle.BottomLeft || alignment === PdfAlignmentStyle.BottomCenter\n                        || alignment === PdfAlignmentStyle.BottomRight || alignment === PdfAlignmentStyle.None);\n                    break;\n                case PdfDockStyle.Fill:\n                    canBeSet = (alignment === PdfAlignmentStyle.MiddleCenter || alignment === PdfAlignmentStyle.None);\n                    break;\n            }\n            if (canBeSet) {\n                this.alignmentStyle = alignment;\n            }\n        }\n    };\n    /**\n     * Draws the template.\n     * @private\n     */\n    PdfPageTemplateElement.prototype.draw = function (layer, document) {\n        var page = layer.page;\n        var bounds = this.calculateBounds(page, document);\n        if (bounds.x === -0) {\n            bounds.x = 0;\n        }\n        layer.graphics.drawPdfTemplate(this.template, new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n    };\n    /**\n     * Calculates bounds of the page template.\n     * @private\n     */\n    PdfPageTemplateElement.prototype.calculateBounds = function (page, document) {\n        var result = this.bounds;\n        if (this.alignmentStyle !== PdfAlignmentStyle.None) {\n            result = this.getAlignmentBounds(page, document);\n        }\n        else if (this.dockStyle !== PdfDockStyle.None) {\n            result = this.getDockBounds(page, document);\n        }\n        return result;\n    };\n    /**\n     * Calculates bounds according to the alignment.\n     * @private\n     */\n    PdfPageTemplateElement.prototype.getAlignmentBounds = function (page, document) {\n        var result = this.bounds;\n        if (this.type === TemplateType.None) {\n            result = this.getSimpleAlignmentBounds(page, document);\n        }\n        else {\n            result = this.getTemplateAlignmentBounds(page, document);\n        }\n        return result;\n    };\n    /**\n     * Calculates bounds according to the alignment.\n     * @private\n     */\n    PdfPageTemplateElement.prototype.getSimpleAlignmentBounds = function (page, document) {\n        var bounds = this.bounds;\n        var pdfSection = page.section;\n        var actualBounds = pdfSection.getActualBounds(document, page, false);\n        var x = this.x;\n        var y = this.y;\n        switch (this.alignmentStyle) {\n            case PdfAlignmentStyle.TopLeft:\n                x = 0;\n                y = 0;\n                break;\n            case PdfAlignmentStyle.TopCenter:\n                x = (actualBounds.width - this.width) / 2;\n                y = 0;\n                break;\n            case PdfAlignmentStyle.TopRight:\n                x = actualBounds.width - this.width;\n                y = 0;\n                break;\n            case PdfAlignmentStyle.MiddleLeft:\n                x = 0;\n                y = (actualBounds.height - this.height) / 2;\n                break;\n            case PdfAlignmentStyle.MiddleCenter:\n                x = (actualBounds.width - this.width) / 2;\n                y = (actualBounds.height - this.height) / 2;\n                break;\n            case PdfAlignmentStyle.MiddleRight:\n                x = actualBounds.width - this.width;\n                y = (actualBounds.height - this.height) / 2;\n                break;\n            case PdfAlignmentStyle.BottomLeft:\n                x = 0;\n                y = actualBounds.height - this.height;\n                break;\n            case PdfAlignmentStyle.BottomCenter:\n                x = (actualBounds.width - this.width) / 2;\n                y = actualBounds.height - this.height;\n                break;\n            case PdfAlignmentStyle.BottomRight:\n                x = actualBounds.width - this.width;\n                y = actualBounds.height - this.height;\n                break;\n        }\n        bounds.x = x;\n        bounds.y = y;\n        return bounds;\n    };\n    /**\n     * Calculates bounds according to the alignment.\n     * @private\n     */\n    PdfPageTemplateElement.prototype.getTemplateAlignmentBounds = function (page, document) {\n        var result = this.bounds;\n        var section = page.section;\n        var actualBounds = section.getActualBounds(document, page, false);\n        var x = this.x;\n        var y = this.y;\n        switch (this.alignmentStyle) {\n            case PdfAlignmentStyle.TopLeft:\n                if (this.type === TemplateType.Left) {\n                    x = -actualBounds.x;\n                    y = 0;\n                }\n                else if (this.type === TemplateType.Top) {\n                    x = -actualBounds.x;\n                    y = -actualBounds.y;\n                }\n                break;\n            case PdfAlignmentStyle.TopCenter:\n                x = (actualBounds.width - this.width) / 2;\n                y = -actualBounds.y;\n                break;\n            case PdfAlignmentStyle.TopRight:\n                if (this.type === TemplateType.Right) {\n                    x = actualBounds.width + section.getRightIndentWidth(document, page, false) - this.width;\n                    y = 0;\n                }\n                else if (this.type === TemplateType.Top) {\n                    x = actualBounds.width + section.getRightIndentWidth(document, page, false) - this.width;\n                    y = -actualBounds.y;\n                }\n                break;\n            case PdfAlignmentStyle.MiddleLeft:\n                x = -actualBounds.x;\n                y = (actualBounds.height - this.height) / 2;\n                break;\n            case PdfAlignmentStyle.MiddleCenter:\n                x = (actualBounds.width - this.width) / 2;\n                y = (actualBounds.height - this.height) / 2;\n                break;\n            case PdfAlignmentStyle.MiddleRight:\n                x = actualBounds.width + section.getRightIndentWidth(document, page, false) - this.width;\n                y = (actualBounds.height - this.height) / 2;\n                break;\n            case PdfAlignmentStyle.BottomLeft:\n                if (this.type === TemplateType.Left) {\n                    x = -actualBounds.x;\n                    y = actualBounds.height - this.height;\n                }\n                else if (this.type === TemplateType.Bottom) {\n                    x = -actualBounds.x;\n                    y = actualBounds.height + section.getBottomIndentHeight(document, page, false) - this.height;\n                }\n                break;\n            case PdfAlignmentStyle.BottomCenter:\n                x = (actualBounds.width - this.width) / 2;\n                y = actualBounds.height + section.getBottomIndentHeight(document, page, false) - this.height;\n                break;\n            case PdfAlignmentStyle.BottomRight:\n                if (this.type === TemplateType.Right) {\n                    x = actualBounds.width + section.getRightIndentWidth(document, page, false) - this.width;\n                    y = actualBounds.height - this.height;\n                }\n                else if (this.type === TemplateType.Bottom) {\n                    x = actualBounds.width + section.getRightIndentWidth(document, page, false) - this.width;\n                    y = actualBounds.height + section.getBottomIndentHeight(document, page, false) - this.height;\n                }\n                break;\n        }\n        result.x = x;\n        result.y = y;\n        return result;\n    };\n    /**\n     * Calculates bounds according to the docking.\n     * @private\n     */\n    PdfPageTemplateElement.prototype.getDockBounds = function (page, document) {\n        var result = this.bounds;\n        if (this.type === TemplateType.None) {\n            result = this.getSimpleDockBounds(page, document);\n        }\n        else {\n            result = this.getTemplateDockBounds(page, document);\n        }\n        return result;\n    };\n    /**\n     * Calculates bounds according to the docking.\n     * @private\n     */\n    PdfPageTemplateElement.prototype.getSimpleDockBounds = function (page, document) {\n        var result = this.bounds;\n        var section = page.section;\n        var actualBounds = section.getActualBounds(document, page, false);\n        var x = this.x;\n        var y = this.y;\n        var width = this.width;\n        var height = this.height;\n        switch (this.dockStyle) {\n            case PdfDockStyle.Left:\n                x = 0;\n                y = 0;\n                width = this.width;\n                height = actualBounds.height;\n                break;\n            case PdfDockStyle.Top:\n                x = 0;\n                y = 0;\n                width = actualBounds.width;\n                height = this.height;\n                break;\n            case PdfDockStyle.Right:\n                x = actualBounds.width - this.width;\n                y = 0;\n                width = this.width;\n                height = actualBounds.height;\n                break;\n            case PdfDockStyle.Bottom:\n                x = 0;\n                y = actualBounds.height - this.height;\n                width = actualBounds.width;\n                height = this.height;\n                break;\n            case PdfDockStyle.Fill:\n                x = 0;\n                x = 0;\n                width = actualBounds.width;\n                height = actualBounds.height;\n                break;\n        }\n        result = new RectangleF(x, y, width, height);\n        return result;\n    };\n    /**\n     * Calculates template bounds basing on docking if template is a page template.\n     * @private\n     */\n    PdfPageTemplateElement.prototype.getTemplateDockBounds = function (page, document) {\n        var result = this.bounds;\n        var section = page.section;\n        var actualBounds = section.getActualBounds(document, page, false);\n        var actualSize = section.pageSettings.getActualSize();\n        var x = this.x;\n        var y = this.y;\n        var width = this.width;\n        var height = this.height;\n        switch (this.dockStyle) {\n            case PdfDockStyle.Left:\n                x = -actualBounds.x;\n                y = 0;\n                width = this.width;\n                height = actualBounds.height;\n                break;\n            case PdfDockStyle.Top:\n                x = -actualBounds.x;\n                y = -actualBounds.y;\n                width = actualSize.width;\n                height = this.height;\n                if (actualBounds.height < 0) {\n                    y = -actualBounds.y + actualSize.height;\n                }\n                break;\n            case PdfDockStyle.Right:\n                x = actualBounds.width + section.getRightIndentWidth(document, page, false) - this.width;\n                y = 0;\n                width = this.width;\n                height = actualBounds.height;\n                break;\n            case PdfDockStyle.Bottom:\n                x = -actualBounds.x;\n                y = actualBounds.height + section.getBottomIndentHeight(document, page, false) - this.height;\n                width = actualSize.width;\n                height = this.height;\n                if (actualBounds.height < 0) {\n                    y -= actualSize.height;\n                }\n                break;\n            case PdfDockStyle.Fill:\n                x = 0;\n                x = 0;\n                width = actualBounds.width;\n                height = actualBounds.height;\n                break;\n        }\n        result = new RectangleF(x, y, width, height);\n        return result;\n    };\n    return PdfPageTemplateElement;\n}());\nexport { PdfPageTemplateElement };\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen } from './../../../graphics/pdf-pen';\nimport { PdfDashStyle } from './../../../graphics/enum';\nimport { PdfColor } from './../../../graphics/pdf-color';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottom = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfBorders, PdfPaddings } from './pdf-borders';\nimport { PdfBorderOverlapStyle } from './../../tables/light-tables/enum';\n/**\n * Base class for the `grid style`,\n */\nvar PdfGridStyleBase = /** @class */ (function () {\n    function PdfGridStyleBase() {\n    }\n    Object.defineProperty(PdfGridStyleBase.prototype, \"backgroundBrush\", {\n        // Properties\n        /**\n         * Gets or sets the `background brush`.\n         * @private\n         */\n        get: function () {\n            return this.gridBackgroundBrush;\n        },\n        set: function (value) {\n            this.gridBackgroundBrush = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyleBase.prototype, \"textBrush\", {\n        /**\n         * Gets or sets the `text brush`.\n         * @private\n         */\n        get: function () {\n            return this.gridTextBrush;\n        },\n        set: function (value) {\n            this.gridTextBrush = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyleBase.prototype, \"textPen\", {\n        /**\n         * Gets or sets the `text pen`.\n         * @private\n         */\n        get: function () {\n            return this.gridTextPen;\n        },\n        set: function (value) {\n            this.gridTextPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyleBase.prototype, \"font\", {\n        /**\n         * Gets or sets the `font`.\n         * @private\n         */\n        get: function () {\n            return this.gridFont;\n        },\n        set: function (value) {\n            this.gridFont = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridStyleBase;\n}());\nexport { PdfGridStyleBase };\n/**\n * `PdfGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n */\nvar PdfGridStyle = /** @class */ (function (_super) {\n    __extends(PdfGridStyle, _super);\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     * @private\n     */\n    function PdfGridStyle() {\n        var _this = _super.call(this) || this;\n        _this.gridBorderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        _this.bAllowHorizontalOverflow = false;\n        _this.gridHorizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        return _this;\n    }\n    Object.defineProperty(PdfGridStyle.prototype, \"cellSpacing\", {\n        //Properties\n        /**\n         * Gets or sets the `cell spacing` of the 'PdfGrid'.\n         * @private\n         */\n        get: function () {\n            if (typeof this.gridCellSpacing === 'undefined') {\n                this.gridCellSpacing = 0;\n            }\n            return this.gridCellSpacing;\n        },\n        set: function (value) {\n            this.gridCellSpacing = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyle.prototype, \"horizontalOverflowType\", {\n        /**\n         * Gets or sets the type of the `horizontal overflow` of the 'PdfGrid'.\n         * @private\n         */\n        get: function () {\n            return this.gridHorizontalOverflowType;\n        },\n        set: function (value) {\n            this.gridHorizontalOverflowType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyle.prototype, \"allowHorizontalOverflow\", {\n        /**\n         * Gets or sets a value indicating whether to `allow horizontal overflow`.\n         * @private\n         */\n        get: function () {\n            return this.bAllowHorizontalOverflow;\n        },\n        set: function (value) {\n            this.bAllowHorizontalOverflow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyle.prototype, \"cellPadding\", {\n        /**\n         * Gets or sets the `cell padding`.\n         * @private\n         */\n        get: function () {\n            if (typeof this.gridCellPadding === 'undefined') {\n                this.gridCellPadding = new PdfPaddings();\n            }\n            return this.gridCellPadding;\n        },\n        set: function (value) {\n            if (typeof this.gridCellPadding === 'undefined') {\n                this.gridCellPadding = new PdfPaddings();\n                this.gridCellPadding = value;\n            }\n            else {\n                this.gridCellPadding = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyle.prototype, \"borderOverlapStyle\", {\n        /**\n         * Gets or sets the `border overlap style` of the 'PdfGrid'.\n         * @private\n         */\n        get: function () {\n            return this.gridBorderOverlapStyle;\n        },\n        set: function (value) {\n            this.gridBorderOverlapStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridStyle;\n}(PdfGridStyleBase));\nexport { PdfGridStyle };\n/**\n * `PdfGridCellStyle` class provides customization of the appearance for the 'PdfGridCell'.\n */\nvar PdfGridCellStyle = /** @class */ (function (_super) {\n    __extends(PdfGridCellStyle, _super);\n    /**\n     * Initializes a new instance of the `PdfGridCellStyle` class.\n     * @private\n     */\n    function PdfGridCellStyle() {\n        var _this = _super.call(this) || this;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.gridCellBorders = PdfBorders.default;\n        return _this;\n    }\n    Object.defineProperty(PdfGridCellStyle.prototype, \"stringFormat\", {\n        //Properties\n        /**\n         * Gets the `string format` of the 'PdfGridCell'.\n         * @private\n         */\n        get: function () {\n            return this.format;\n        },\n        set: function (value) {\n            this.format = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCellStyle.prototype, \"borders\", {\n        /**\n         * Gets or sets the `border` of the 'PdfGridCell'.\n         * @private\n         */\n        get: function () {\n            return this.gridCellBorders;\n        },\n        set: function (value) {\n            this.gridCellBorders = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCellStyle.prototype, \"cellPadding\", {\n        /**\n         * Gets or sets the `cell padding`.\n         * @private\n         */\n        get: function () {\n            return this.gridCellPadding;\n        },\n        set: function (value) {\n            if (this.gridCellPadding == null || typeof this.gridCellPadding === 'undefined') {\n                this.gridCellPadding = new PdfPaddings();\n            }\n            this.gridCellPadding = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridCellStyle;\n}(PdfGridStyleBase));\nexport { PdfGridCellStyle };\n/**\n * `PdfGridRowStyle` class provides customization of the appearance for the `PdfGridRow`.\n */\nvar PdfGridRowStyle = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfGridRowStyle` class.\n     * @private\n     */\n    function PdfGridRowStyle() {\n        //\n    }\n    Object.defineProperty(PdfGridRowStyle.prototype, \"backgroundBrush\", {\n        /**\n         * Determine the value of the border is changed or not.\n         * @private\n         */\n        // Properties\n        /**\n         * Gets or sets the `background brush`.\n         * @private\n         */\n        get: function () {\n            return this.gridRowBackgroundBrush;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridRowStyle.prototype.setBackgroundBrush = function (value) {\n        this.gridRowBackgroundBrush = value;\n        if (typeof this.parent !== 'undefined') {\n            for (var i = 0; i < this.parent.cells.count; i++) {\n                this.parent.cells.getCell(i).style.backgroundBrush = value;\n            }\n        }\n    };\n    Object.defineProperty(PdfGridRowStyle.prototype, \"textBrush\", {\n        /**\n         * Gets or sets the `text brush`.\n         * @private\n         */\n        get: function () {\n            return this.gridRowTextBrush;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridRowStyle.prototype.setTextBrush = function (value) {\n        this.gridRowTextBrush = value;\n        if (typeof this.parent !== 'undefined') {\n            for (var i = 0; i < this.parent.cells.count; i++) {\n                this.parent.cells.getCell(i).style.textBrush = value;\n            }\n        }\n    };\n    Object.defineProperty(PdfGridRowStyle.prototype, \"textPen\", {\n        /**\n         * Gets or sets the `text pen`.\n         * @private\n         */\n        get: function () {\n            return this.gridRowTextPen;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridRowStyle.prototype.setTextPen = function (value) {\n        this.gridRowTextPen = value;\n        if (typeof this.parent !== 'undefined') {\n            for (var i = 0; i < this.parent.cells.count; i++) {\n                this.parent.cells.getCell(i).style.textPen = value;\n            }\n        }\n    };\n    Object.defineProperty(PdfGridRowStyle.prototype, \"font\", {\n        /**\n         * Gets or sets the `font`.\n         * @private\n         */\n        get: function () {\n            return this.gridRowFont;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridRowStyle.prototype.setFont = function (value) {\n        this.gridRowFont = value;\n        if (typeof this.parent !== 'undefined') {\n            for (var i = 0; i < this.parent.cells.count; i++) {\n                this.parent.cells.getCell(i).style.font = value;\n            }\n        }\n    };\n    Object.defineProperty(PdfGridRowStyle.prototype, \"border\", {\n        /**\n         * Gets or sets the `border` of the current row.\n         * @private\n         */\n        get: function () {\n            if (typeof this.gridRowBorder === 'undefined') {\n                this.setBorder(new PdfBorders());\n            }\n            return this.gridRowBorder;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridRowStyle.prototype.setBorder = function (value) {\n        this.gridRowBorder = value;\n        if (typeof this.parent !== 'undefined') {\n            for (var i = 0; i < this.parent.cells.count; i++) {\n                this.parent.cells.getCell(i).style.borders = value;\n            }\n        }\n    };\n    /**\n     * sets the `parent row` of the current object.\n     * @private\n     */\n    PdfGridRowStyle.prototype.setParent = function (parent) {\n        this.parent = parent;\n    };\n    return PdfGridRowStyle;\n}());\nexport { PdfGridRowStyle };\n/**\n * public Enum for `PdfHorizontalOverflowType`.\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","import { PdfGridCellStyle } from './styles/style';\nimport { PdfStringLayouter } from './../../graphics/fonts/string-layouter';\nimport { PdfDocument } from './../../document/pdf-document';\nimport { PdfStringFormat } from './../../graphics/fonts/pdf-string-format';\nimport { RectangleF, PointF, SizeF } from './../../drawing/pdf-drawing';\nimport { PdfDashStyle, PdfLineCap } from './../../graphics/enum';\nimport { PdfBorderOverlapStyle } from './../tables/light-tables/enum';\nimport { PdfSolidBrush } from './../../graphics/brushes/pdf-solid-brush';\nimport { PdfColor } from './../../graphics/pdf-color';\nimport { PdfImage } from './../../graphics/images/pdf-image';\nimport { PdfBitmap } from './../../graphics/images/pdf-bitmap';\nimport { PdfTextWebLink } from './../../annotations/pdf-text-web-link';\n/**\n * `PdfGridCell` class represents the schema of a cell in a 'PdfGrid'.\n */\nvar PdfGridCell = /** @class */ (function () {\n    function PdfGridCell(row) {\n        /**\n         * `Width` of the cell.\n         * @default 0\n         * @private\n         */\n        this.cellWidth = 0;\n        /**\n         * `Height` of the cell.\n         * @default 0\n         * @private\n         */\n        this.cellHeight = 0;\n        /**\n         * Specifies weather the `cell is drawn`.\n         * @default true\n         * @private\n         */\n        this.finsh = true;\n        /**\n         * The `remaining height` of row span.\n         * @default 0\n         * @private\n         */\n        this.rowSpanRemainingHeight = 0;\n        if (typeof row === 'undefined') {\n            this.gridRowSpan = 1;\n            this.colSpan = 1;\n        }\n        else {\n            this.constructor();\n            this.gridRow = row;\n        }\n    }\n    Object.defineProperty(PdfGridCell.prototype, \"isCellMergeContinue\", {\n        //Properties\n        get: function () {\n            return this.internalIsCellMergeContinue;\n        },\n        set: function (value) {\n            this.internalIsCellMergeContinue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"isRowMergeContinue\", {\n        get: function () {\n            return this.internalIsRowMergeContinue;\n        },\n        set: function (value) {\n            this.internalIsRowMergeContinue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"isCellMergeStart\", {\n        get: function () {\n            return this.internalIsCellMergeStart;\n        },\n        set: function (value) {\n            this.internalIsCellMergeStart = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"isRowMergeStart\", {\n        get: function () {\n            return this.internalIsRowMergeStart;\n        },\n        set: function (value) {\n            this.internalIsRowMergeStart = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"remainingString\", {\n        /**\n         * Gets or sets the `remaining string` after the row split between pages.\n         * @private\n         */\n        get: function () {\n            return this.remaining;\n        },\n        set: function (value) {\n            this.remaining = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"stringFormat\", {\n        /**\n         * Gets or sets the `string format`.\n         * @private\n         */\n        get: function () {\n            if (this.format == null) {\n                this.format = new PdfStringFormat();\n            }\n            return this.format;\n        },\n        set: function (value) {\n            this.format = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"row\", {\n        /**\n         * Gets or sets the parent `row`.\n         * @private\n         */\n        get: function () {\n            return this.gridRow;\n        },\n        set: function (value) {\n            this.gridRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"value\", {\n        /**\n         * Gets or sets the `value` of the cell.\n         * @private\n         */\n        get: function () {\n            return this.objectValue;\n        },\n        set: function (value) {\n            this.objectValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"rowSpan\", {\n        /**\n         * Gets or sets a value that indicates the total number of rows that cell `spans` within a PdfGrid.\n         * @private\n         */\n        get: function () {\n            return this.gridRowSpan;\n        },\n        set: function (value) {\n            if (value < 1) {\n                throw new Error('ArgumentException : Invalid span specified, must be greater than or equal to 1');\n            }\n            else {\n                this.gridRowSpan = value;\n                this.row.rowSpanExists = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"style\", {\n        /**\n         * Gets or sets the cell `style`.\n         * @private\n         */\n        get: function () {\n            if (this.cellStyle == null) {\n                this.cellStyle = new PdfGridCellStyle();\n            }\n            return this.cellStyle;\n        },\n        set: function (value) {\n            this.cellStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfGrid cell.[Read-Only].\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"columnSpan\", {\n        /**\n         * Gets or sets a value that indicates the total number of columns that cell `spans` within a PdfGrid.\n         * @private\n         */\n        get: function () {\n            return this.colSpan;\n        },\n        set: function (value) {\n            if (value < 1) {\n                throw Error('Invalid span specified, must be greater than or equal to 1');\n            }\n            else {\n                this.colSpan = value;\n                this.row.columnSpanExists = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfGrid cell.[Read-Only].\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0 || this.row.grid.isComplete) {\n                this.cellWidth = this.measureWidth();\n            }\n            return this.cellWidth;\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Calculates the width`.\n     * @private\n     */\n    PdfGridCell.prototype.measureWidth = function () {\n        // .. Calculate the cell text width.\n        // .....Add border widths, cell spacings and paddings to the width.\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.objectValue === 'string') {\n            /* tslint:disable */\n            var slr = layouter.layout(this.objectValue, this.getTextFont(), this.stringFormat, new SizeF(0, 0), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        else if (this.objectValue instanceof PdfImage || this.objectValue instanceof PdfBitmap) {\n            width += this.objectValue.width;\n        }\n        else if (this.objectValue instanceof PdfTextWebLink) {\n            var webLink = this.objectValue;\n            var result = layouter.layout(webLink.text, webLink.font, webLink.stringFormat, new SizeF(0, 0), false, new SizeF(0, 0));\n            /* tslint:enable */\n            width += result.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        width += (this.row.grid.style.cellPadding.left + this.row.grid.style.cellPadding.right);\n        width += this.row.grid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * Draw the `cell background`.\n     * @private\n     */\n    PdfGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = this.getBackgroundBrush();\n        if (backgroundBrush != null) {\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n        }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     * @private\n     */\n    /* tslint:disable */\n    PdfGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(bounds.x, bounds.y, bounds.width, bounds.height);\n        if (typeof this.style.cellPadding === 'undefined' || this.style.cellPadding == null) {\n            returnBounds.x += this.gridRow.grid.style.cellPadding.left + this.cellStyle.borders.left.width;\n            returnBounds.y += this.gridRow.grid.style.cellPadding.top + this.cellStyle.borders.top.width;\n            returnBounds.width -= (this.gridRow.grid.style.cellPadding.right + this.gridRow.grid.style.cellPadding.left);\n            returnBounds.width -= (this.cellStyle.borders.left.width + this.cellStyle.borders.right.width);\n            returnBounds.height -= (this.gridRow.grid.style.cellPadding.bottom + this.gridRow.grid.style.cellPadding.top);\n            returnBounds.height -= (this.cellStyle.borders.top.width + this.cellStyle.borders.bottom.width);\n            if (this.rowSpan === 1) {\n                returnBounds.width -= (this.style.borders.left.width);\n            }\n        }\n        else {\n            returnBounds.x += this.style.cellPadding.left + this.cellStyle.borders.left.width;\n            returnBounds.y += this.style.cellPadding.top + this.cellStyle.borders.top.width;\n            returnBounds.width -= (this.style.cellPadding.right + this.style.cellPadding.left);\n            returnBounds.width -= (this.cellStyle.borders.left.width + this.cellStyle.borders.right.width);\n            returnBounds.height -= (this.style.cellPadding.bottom + this.style.cellPadding.top);\n            returnBounds.height -= (this.cellStyle.borders.top.width + this.cellStyle.borders.bottom.width);\n            if (this.rowSpan === 1) {\n                returnBounds.width -= (this.style.borders.left.width);\n            }\n        }\n        return returnBounds;\n    };\n    /**\n     * `Draws` the specified graphics.\n     * @private\n     */\n    PdfGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans) {\n        var isrowbreak = false;\n        var result = null;\n        if (this.internalIsCellMergeContinue || this.internalIsRowMergeContinue) {\n            if (this.internalIsCellMergeContinue && this.row.grid.style.allowHorizontalOverflow) {\n                if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) != this.row.rowOverflowIndex + 1)) || (this.row.rowOverflowIndex == 0 && this.internalIsCellMergeContinue)) {\n                    return result;\n                }\n            }\n            else {\n                return result;\n            }\n        }\n        //Adjust bounds with Row and Column Spacing\n        bounds = this.adjustOuterLayoutArea(bounds, graphics);\n        var textPen = this.getTextPen();\n        var textBrush = this.getTextBrush();\n        if (typeof textPen === 'undefined' && typeof textBrush === 'undefined') {\n            textBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var font = this.getTextFont();\n        var strFormat = this.getStringFormat();\n        var innerLayoutArea = this.adjustContentLayoutArea(bounds);\n        this.drawCellBackground(graphics, bounds);\n        if (typeof this.objectValue === 'string' || typeof this.remaining === 'string') {\n            var temp = void 0;\n            temp = this.remaining === '' ? this.remaining : this.objectValue;\n            graphics.drawString(temp, font, textPen, textBrush, innerLayoutArea.x, innerLayoutArea.y, innerLayoutArea.width, innerLayoutArea.height, strFormat);\n            result = graphics.stringLayoutResult;\n        }\n        else if (this.objectValue instanceof PdfImage || this.objectValue instanceof PdfBitmap) {\n            var imageBounds = void 0;\n            if (this.objectValue.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.objectValue.width, innerLayoutArea.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.objectValue, imageBounds.x, imageBounds.y, imageBounds.width, imageBounds.height);\n        }\n        else if (this.objectValue instanceof PdfTextWebLink) {\n            this.objectValue.draw(graphics.currentPage, innerLayoutArea);\n        }\n        if (this.style.borders != null) {\n            this.drawCellBorders(graphics, bounds);\n        }\n        return result;\n    };\n    /* tslint:enable */\n    /**\n     * Draws the `cell border` constructed by drawing lines.\n     * @private\n     */\n    PdfGridCell.prototype.drawCellBorders = function (graphics, bounds) {\n        if (this.row.grid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n        var p2 = new PointF(bounds.x, bounds.y);\n        var pen = this.cellStyle.borders.left;\n        if (this.cellStyle.borders.left.dashStyle === PdfDashStyle.Solid) {\n            pen.lineCap = PdfLineCap.Square;\n        }\n        // SetTransparency(ref graphics, pen);\n        graphics.drawLine(pen, p1, p2);\n        p1 = new PointF(bounds.x + bounds.width, bounds.y);\n        p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n        pen = this.cellStyle.borders.right;\n        if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n            p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n            p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n        }\n        if (this.cellStyle.borders.right.dashStyle === PdfDashStyle.Solid) {\n            pen.lineCap = PdfLineCap.Square;\n        }\n        graphics.drawLine(pen, p1, p2);\n        p1 = new PointF(bounds.x, bounds.y);\n        p2 = new PointF(bounds.x + bounds.width, bounds.y);\n        pen = this.cellStyle.borders.top;\n        if (this.cellStyle.borders.top.dashStyle === PdfDashStyle.Solid) {\n            pen.lineCap = PdfLineCap.Square;\n        }\n        graphics.drawLine(pen, p1, p2);\n        p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n        p2 = new PointF(bounds.x, bounds.y + bounds.height);\n        pen = this.cellStyle.borders.bottom;\n        // if ((bounds.y + bounds.height) > (graphics.clientSize.height - (pen.width / 2))) {\n        //     p1 = new PointF((bounds.x + bounds.width), (graphics.clientSize.height - (pen.width / 2)));\n        //     p2 = new PointF(bounds.x, (graphics.clientSize.height - (pen.width / 2)));\n        // }\n        if (this.cellStyle.borders.bottom.dashStyle === PdfDashStyle.Solid) {\n            pen.lineCap = PdfLineCap.Square;\n        }\n        graphics.drawLine(pen, p1, p2);\n    };\n    /**\n     * `Adjusts the outer layout area`.\n     * @private\n     */\n    /* tslint:disable */\n    PdfGridCell.prototype.adjustOuterLayoutArea = function (bounds, g) {\n        var isHeader = false;\n        var cellSpacing = this.row.grid.style.cellSpacing;\n        if (cellSpacing > 0) {\n            bounds = new RectangleF(bounds.x + cellSpacing, bounds.y + cellSpacing, bounds.width - cellSpacing, bounds.height - cellSpacing);\n        }\n        var currentColIndex = this.row.cells.indexOf(this);\n        if (this.columnSpan > 1) {\n            var span = this.columnSpan;\n            var totalWidth = 0;\n            for (var i = currentColIndex; i < currentColIndex + span; i++) {\n                if (this.row.grid.style.allowHorizontalOverflow) {\n                    var width = void 0;\n                    var compWidth = this.row.grid.size.width < g.clientSize.width ? this.row.grid.size.width : g.clientSize.width;\n                    if (this.row.grid.size.width > g.clientSize.width) {\n                        width = bounds.x + totalWidth + this.row.grid.columns.getColumn(i).width;\n                    }\n                    else {\n                        width = totalWidth + this.row.grid.columns.getColumn(i).width;\n                    }\n                    if (width > compWidth) {\n                        break;\n                    }\n                }\n                totalWidth += this.row.grid.columns.getColumn(i).width;\n            }\n            totalWidth -= this.row.grid.style.cellSpacing;\n            bounds.width = totalWidth;\n        }\n        if (this.rowSpan > 1 || this.row.rowSpanExists) {\n            var span = this.rowSpan;\n            var currentRowIndex = this.row.grid.rows.rowCollection.indexOf(this.row);\n            if (currentRowIndex == -1) {\n                currentRowIndex = this.row.grid.headers.indexOf(this.row);\n                if (currentRowIndex != -1) {\n                    isHeader = true;\n                }\n            }\n            var totalHeight = 0;\n            var max = 0;\n            for (var i = currentRowIndex; i < currentRowIndex + span; i++) {\n                totalHeight += (isHeader ? this.row.grid.headers.getHeader(i).height : this.row.grid.rows.getRow(i).height);\n                var row = this.row.grid.rows.getRow(i);\n                var rowIndex = this.row.grid.rows.rowCollection.indexOf(row);\n            }\n            var cellIndex = this.row.cells.indexOf(this);\n            totalHeight -= this.row.grid.style.cellSpacing;\n            // if (this.row.cells.getCell(cellIndex).height > totalHeight && (!this.row.grid.rows.getRow((currentRowIndex + span) - 1).isRowHeightSet)) {\n            //     this.row.grid.rows.getRow((currentRowIndex + span) - 1).cells.getCell(cellIndex).rowSpanRemainingHeight = this.row.cells.getCell(cellIndex).height - totalHeight;\n            //     totalHeight = this.row.cells.getCell(cellIndex).height;\n            //     bounds.height = totalHeight;\n            // } else {\n            bounds.height = totalHeight;\n            // }\n            if (!this.row.rowMergeComplete) {\n                bounds.height = totalHeight;\n            }\n        }\n        return bounds;\n    };\n    /* tslint:enable */\n    /**\n     * Gets the `text font`.\n     * @private\n     */\n    PdfGridCell.prototype.getTextFont = function () {\n        if (typeof this.style.font !== 'undefined' && this.style.font != null) {\n            return this.style.font;\n        }\n        else if (typeof this.row.style.font !== 'undefined' && this.row.style.font != null) {\n            return this.row.style.font;\n        }\n        else if (typeof this.row.grid.style.font !== 'undefined' && this.row.grid.style.font != null) {\n            return this.row.grid.style.font;\n        }\n        else {\n            return PdfDocument.defaultFont;\n        }\n    };\n    /**\n     * Gets the `text brush`.\n     * @private\n     */\n    PdfGridCell.prototype.getTextBrush = function () {\n        if (typeof this.style.textBrush !== 'undefined' && this.style.textBrush != null) {\n            return this.style.textBrush;\n        }\n        else if (typeof this.row.style.textBrush !== 'undefined' && this.row.style.textBrush != null) {\n            return this.row.style.textBrush;\n        }\n        else {\n            return this.row.grid.style.textBrush;\n        }\n    };\n    /**\n     * Gets the `text pen`.\n     * @private\n     */\n    PdfGridCell.prototype.getTextPen = function () {\n        if (typeof this.style.textPen !== 'undefined' && this.style.textPen != null) {\n            return this.style.textPen;\n        }\n        else if (typeof this.row.style.textPen !== 'undefined' && this.row.style.textPen != null) {\n            return this.row.style.textPen;\n        }\n        else {\n            return this.row.grid.style.textPen;\n        }\n    };\n    /**\n     * Gets the `background brush`.\n     * @private\n     */\n    PdfGridCell.prototype.getBackgroundBrush = function () {\n        if (typeof this.style.backgroundBrush !== 'undefined' && this.style.backgroundBrush != null) {\n            return this.style.backgroundBrush;\n        }\n        else if (typeof this.row.style.backgroundBrush !== 'undefined' && this.row.style.backgroundBrush != null) {\n            return this.row.style.backgroundBrush;\n        }\n        else {\n            return this.row.grid.style.backgroundBrush;\n        }\n    };\n    /**\n     * Gets the current `StringFormat`.\n     * @private\n     */\n    PdfGridCell.prototype.getStringFormat = function () {\n        if (typeof this.style.stringFormat !== 'undefined' && this.style.stringFormat != null) {\n            return this.style.stringFormat;\n        }\n        else {\n            return this.stringFormat;\n        }\n    };\n    /**\n     * Calculates the `height`.\n     * @private\n     */\n    PdfGridCell.prototype.measureHeight = function () {\n        // .. Calculate the cell text height.\n        // .....Add border widths, cell spacings and paddings to the height.\n        var width = this.calculateWidth();\n        // //check whether the Current PdfGridCell has padding\n        if (this.style.cellPadding == null || typeof this.style.cellPadding === 'undefined') {\n            width -= (this.gridRow.grid.style.cellPadding.right + this.gridRow.grid.style.cellPadding.left);\n            width -= (this.style.borders.left.width + this.style.borders.right.width);\n        }\n        else {\n            width -= (this.style.cellPadding.right + this.style.cellPadding.left);\n            width -= (this.style.borders.left.width + this.style.borders.right.width);\n        }\n        var height = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.objectValue === 'string' || typeof this.remainingString === 'string') {\n            var currentValue = this.objectValue;\n            /* tslint:disable */\n            var slr = layouter.layout(currentValue, this.getTextFont(), this.stringFormat, new SizeF(width, 0), false, new SizeF(0, 0));\n            /* tslint:enable */\n            height += slr.actualSize.height;\n        }\n        else if (this.objectValue instanceof PdfImage || this.objectValue instanceof PdfBitmap) {\n            height += this.objectValue.height;\n        }\n        else if (this.objectValue instanceof PdfTextWebLink) {\n            var webLink = this.objectValue;\n            /* tslint:disable */\n            var slr = layouter.layout(webLink.text, webLink.font, webLink.stringFormat, new SizeF(width, 0), false, new SizeF(0, 0));\n            /* tslint:enable */\n            height += slr.actualSize.height;\n        }\n        height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        //Add padding top and bottom value to height\n        if (this.style.cellPadding == null || typeof this.style.cellPadding === 'undefined') {\n            height += (this.row.grid.style.cellPadding.top + this.row.grid.style.cellPadding.bottom);\n        }\n        else {\n            height += (this.style.cellPadding.top + this.style.cellPadding.bottom);\n        }\n        height += this.row.grid.style.cellSpacing;\n        return height;\n    };\n    /**\n     * return the calculated `width` of the cell.\n     * @private\n     */\n    PdfGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.row.grid.columns.getColumn(cellIndex + i).width;\n        }\n        return width;\n    };\n    return PdfGridCell;\n}());\nexport { PdfGridCell };\n/**\n * `PdfGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfGridCell' objects.\n * @private\n */\nvar PdfGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     * @private\n     */\n    function PdfGridCellCollection(row) {\n        /**\n         * @hidden\n         * @private\n         */\n        this.cells = [];\n        this.gridRow = row;\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     * @private\n     */\n    PdfGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.gridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     * @private\n     */\n    PdfGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfGridCellCollection;\n}());\nexport { PdfGridCellCollection };\n","import { PdfGridCell } from './pdf-grid-cell';\nimport { PdfStringFormat } from './../../graphics/fonts/pdf-string-format';\n/**\n * `PdfGridColumn` class represents the schema of a column in a 'PdfGrid'.\n */\nvar PdfGridColumn = /** @class */ (function () {\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfGridColumn` class with the parent grid.\n     * @private\n     */\n    function PdfGridColumn(grid) {\n        /**\n         * The `width` of the column.\n         * @default 0\n         * @private\n         */\n        this.columnWidth = 0;\n        this.grid = grid;\n    }\n    Object.defineProperty(PdfGridColumn.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the 'PdfGridColumn'.\n         * @private\n         */\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.isCustomWidth = true;\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         * @private\n         */\n        get: function () {\n            if (this.stringFormat == null) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridColumn;\n}());\nexport { PdfGridColumn };\n/**\n * `PdfGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfGridColumn' objects.\n * @private\n */\nvar PdfGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfGridColumnCollection` class with the parent grid.\n     * @private\n     */\n    function PdfGridColumnCollection(grid) {\n        /**\n         * @hidden\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.columnWidth = 0;\n        this.grid = grid;\n        this.internalColumns = [];\n    }\n    //Iplementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     * @private\n     */\n    PdfGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfGridColumn(this.grid));\n            for (var index = 0; index < this.grid.rows.count; index++) {\n                var row = this.grid.rows.getRow(index);\n                var cell = new PdfGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            if (this.grid.initialWidth !== 0 && this.columnWidth !== this.grid.initialWidth && !this.grid.style.allowHorizontalOverflow) {\n                this.columnWidth = this.grid.initialWidth;\n                this.grid.isPageWidth = true;\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfGridColumn` from the specified index.[Read-Only]\n     * @private\n     */\n    PdfGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     * @private\n     */\n    PdfGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        // this.m_grid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     * @private\n     */\n    PdfGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var summ = 0.0;\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            if (this.grid.isPageWidth && totalWidth >= 0 && !this.internalColumns[i].isCustomWidth) {\n                this.internalColumns[i].width = 0;\n            }\n            else {\n                widths[i] = this.internalColumns[i].width;\n                if (this.internalColumns[i].width > 0 && this.internalColumns[i].isCustomWidth) {\n                    totalWidth -= this.internalColumns[i].width;\n                    subFactor--;\n                }\n                else {\n                    widths[i] = 0;\n                }\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfGridColumnCollection;\n}());\nexport { PdfGridColumnCollection };\n","import { PdfGridCell, PdfGridCellCollection } from './pdf-grid-cell';\nimport { PdfGridRowStyle } from './styles/style';\n/**\n * `PdfGridRow` class provides customization of the settings for the particular row.\n */\nvar PdfGridRow = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridRow` class with the parent grid.\n     * @private\n     */\n    function PdfGridRow(grid) {\n        /**\n         * Stores the index of the overflowing row.\n         * @private\n         */\n        this.gridRowOverflowIndex = 0;\n        /**\n         * Check whether the row height `is set explicitly`.\n         * @default false\n         * @private\n         */\n        this.isRowHeightSet = false;\n        /**\n         * Check weather the row merge `is completed` or not.\n         * @default true\n         * @private\n         */\n        this.isRowMergeComplete = true;\n        this.pdfGrid = grid;\n    }\n    Object.defineProperty(PdfGridRow.prototype, \"rowSpanExists\", {\n        //Properties\n        /**\n         * Gets or sets a value indicating [`row span exists`].\n         * @private\n         */\n        get: function () {\n            return this.bRowSpanExists;\n        },\n        set: function (value) {\n            this.bRowSpanExists = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"cells\", {\n        /**\n         * Gets the `cells` from the selected row.[Read-Only].\n         * @private\n         */\n        get: function () {\n            if (this.gridCells == null) {\n                this.gridCells = new PdfGridCellCollection(this);\n            }\n            return this.gridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"grid\", {\n        /**\n         * Gets or sets the parent `grid`.\n         * @private\n         */\n        get: function () {\n            return this.pdfGrid;\n        },\n        set: function (value) {\n            this.pdfGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"style\", {\n        /**\n         * Gets or sets the row `style`.\n         * @private\n         */\n        get: function () {\n            if (typeof this.rowStyle === 'undefined') {\n                this.rowStyle = new PdfGridRowStyle();\n                this.rowStyle.setParent(this);\n            }\n            return this.rowStyle;\n        },\n        set: function (value) {\n            this.rowStyle = value;\n            for (var i = 0; i < this.cells.count; i++) {\n                this.cells.getCell(i).style.borders = value.border;\n                if (typeof value.font !== 'undefined') {\n                    this.cells.getCell(i).style.font = value.font;\n                }\n                if (typeof value.backgroundBrush !== 'undefined') {\n                    this.cells.getCell(i).style.backgroundBrush = value.backgroundBrush;\n                }\n                if (typeof value.textBrush !== 'undefined') {\n                    this.cells.getCell(i).style.textBrush = value.textBrush;\n                }\n                if (typeof value.textPen !== 'undefined') {\n                    this.cells.getCell(i).style.textPen = value.textPen;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         * @private\n         */\n        get: function () {\n            if (typeof this.gridRowBreakHeight === 'undefined') {\n                this.gridRowBreakHeight = 0;\n            }\n            return this.gridRowBreakHeight;\n        },\n        set: function (value) {\n            this.gridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"rowOverflowIndex\", {\n        get: function () {\n            return this.gridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.gridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         * @private\n         */\n        get: function () {\n            if (!this.isRowHeightSet) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n            this.isRowHeightSet = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"columnSpanExists\", {\n        /**\n         * Gets or sets a value indicating [`column span exists`].\n         * @private\n         */\n        get: function () {\n            return this.bColumnSpanExists;\n        },\n        set: function (value) {\n            this.bColumnSpanExists = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"rowMergeComplete\", {\n        /**\n         * Check whether the Row `has row span or row merge continue`.\n         * @private\n         */\n        get: function () {\n            return this.isRowMergeComplete;\n        },\n        set: function (value) {\n            this.isRowMergeComplete = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"rowIndex\", {\n        /**\n         * Returns `index` of the row.\n         * @private\n         */\n        get: function () {\n            return this.grid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Calculates the height`.\n     * @private\n     */\n    PdfGridRow.prototype.measureHeight = function () {\n        var rowSpanRemainingHeight = 0;\n        var rowHeight;\n        var maxHeight = 0;\n        // if(this.cells.getCell(0).RowSpan > 1) {\n        //     rowHeight=0;\n        // } else {\n        rowHeight = this.cells.getCell(0).height;\n        // }\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            //get the maximum rowspan remaining height.\n            if (cell.rowSpanRemainingHeight > rowSpanRemainingHeight) {\n                rowSpanRemainingHeight = cell.rowSpanRemainingHeight;\n            }\n            //skip the cell if row spanned.\n            // if (cell.IsRowMergeContinue)\n            //     continue; \n            // if (!cell.IsRowMergeContinue)\n            this.rowMergeComplete = false;\n            if (cell.rowSpan > 1) {\n                if (maxHeight < cell.height) {\n                    maxHeight = cell.height;\n                }\n                continue;\n            }\n            rowHeight = Math.max(rowHeight, cell.height);\n        }\n        if (rowHeight === 0) {\n            rowHeight = maxHeight;\n        }\n        else if (rowSpanRemainingHeight > 0) {\n            rowHeight += rowSpanRemainingHeight;\n        }\n        return rowHeight;\n    };\n    return PdfGridRow;\n}());\nexport { PdfGridRow };\n/**\n * `PdfGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfGridRow' objects.\n * @private\n */\nvar PdfGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfGridRowCollection` class with the parent grid.\n     * @private\n     */\n    function PdfGridRowCollection(grid) {\n        this.rows = [];\n        this.grid = grid;\n    }\n    Object.defineProperty(PdfGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfGrid`.[Read-Only].\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `grid`.\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridRowCollection.prototype.addRow = function (arg) {\n        if (typeof arg === 'undefined') {\n            var temprow = new PdfGridRow(this.grid);\n            this.addRow(temprow);\n            return temprow;\n        }\n        else {\n            arg.style.setBackgroundBrush(this.grid.style.backgroundBrush);\n            arg.style.setFont(this.grid.style.font);\n            arg.style.setTextBrush(this.grid.style.textBrush);\n            arg.style.setTextPen(this.grid.style.textPen);\n            if (arg.cells.count === 0) {\n                for (var i = 0; i < this.grid.columns.count; i++) {\n                    arg.cells.add(new PdfGridCell());\n                }\n            }\n            this.rows.push(arg);\n        }\n    };\n    /**\n     * Return the row by index.\n     * @private\n     */\n    PdfGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfGridRowCollection;\n}());\nexport { PdfGridRowCollection };\n/**\n * `PdfGridHeaderCollection` class provides customization of the settings for the header.\n * @private\n */\nvar PdfGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfGridHeaderCollection` class with the parent grid.\n     * @private\n     */\n    function PdfGridHeaderCollection(grid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         * @private\n         */\n        this.rows = [];\n        this.grid = grid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     * @private\n     */\n    PdfGridHeaderCollection.prototype.getHeader = function (index) {\n        // if (index < 0 || index >= Count) {\n        //     throw new IndexOutOfRangeException();\n        // }\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridHeaderCollection.prototype.add = function (arg) {\n        if (typeof arg === 'number') {\n            var row = void 0;\n            for (var i = 0; i < arg; i++) {\n                row = new PdfGridRow(this.grid);\n                for (var j = 0; j < this.grid.columns.count; j++) {\n                    row.cells.add(new PdfGridCell());\n                }\n                this.rows.push(row);\n            }\n            return this.rows;\n        }\n        else {\n            this.rows.push(arg);\n        }\n    };\n    PdfGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfGridHeaderCollection;\n}());\nexport { PdfGridHeaderCollection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfGrid.ts class for EJ2-PDF\n */\nimport { PdfGridColumnCollection } from './pdf-grid-column';\nimport { PdfGridRowCollection, PdfGridHeaderCollection } from './pdf-grid-row';\nimport { RectangleF, SizeF, PointF } from './../../drawing/pdf-drawing';\nimport { PdfLayoutElement } from './../../graphics/figures/layout-element';\nimport { PdfLayoutResult, PdfLayoutFormat } from './../../graphics/figures/base/element-layouter';\nimport { PdfBorders } from './styles/pdf-borders';\nimport { PdfGridStyle } from './styles/style';\nimport { PdfLayoutType } from './../../graphics/figures/enum';\nimport { PdfHorizontalOverflowType } from './styles/style';\nimport { TemporaryDictionary } from './../../collections/object-object-pair/dictionary';\nimport { PdfStringFormat } from './../../graphics/fonts/pdf-string-format';\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     * @private\n     */\n    function PdfGridLayoutFormat(baseFormat) {\n        var _this = this;\n        if (typeof baseFormat === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, baseFormat) || this;\n        }\n        return _this;\n    }\n    return PdfGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfGridLayoutFormat };\nvar PdfGrid = /** @class */ (function (_super) {\n    __extends(PdfGrid, _super);\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGrid` class.\n     * @private\n     */\n    function PdfGrid() {\n        var _this = _super.call(this) || this;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.gridSize = new SizeF(0, 0);\n        /**\n         * @hidden\n         * @private\n         */\n        _this.isRearranged = false;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.pageBounds = new RectangleF();\n        /**\n         * @hidden\n         * @private\n         */\n        _this.listOfNavigatePages = [];\n        /**\n         * @hidden\n         * @private\n         */\n        _this.flag = true;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.columnRanges = [];\n        /**\n         * @hidden\n         * @private\n         */\n        _this.currentLocation = new PointF(0, 0);\n        /**\n         * @hidden\n         * @private\n         */\n        _this.breakRow = true;\n        return _this;\n    }\n    Object.defineProperty(PdfGrid.prototype, \"raiseBeginCellDraw\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         * @private\n         */\n        get: function () {\n            return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"raiseEndCellDraw\", {\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         * @private\n         */\n        get: function () {\n            return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"raiseBeginPageLayout\", {\n        /**\n         * Gets a value indicating whether the `start page layout event` should be raised.\n         * @private\n         */\n        get: function () {\n            return (typeof this.beginPageLayout !== 'undefined');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"raiseEndPageLayout\", {\n        /**\n         * Gets a value indicating whether the `ending page layout event` should be raised.\n         * @private\n         */\n        get: function () {\n            return (typeof this.endPageLayout !== 'undefined');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"repeatHeader\", {\n        /**\n         * Gets or sets a value indicating whether to `repeat header`.\n         * @private\n         */\n        get: function () {\n            if (this.bRepeatHeader == null || typeof this.bRepeatHeader === 'undefined') {\n                this.bRepeatHeader = false;\n            }\n            return this.bRepeatHeader;\n        },\n        set: function (value) {\n            this.bRepeatHeader = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"allowRowBreakAcrossPages\", {\n        /**\n         * Gets or sets a value indicating whether to split or cut rows that `overflow a page`.\n         * @private\n         */\n        get: function () {\n            return this.breakRow;\n        },\n        set: function (value) {\n            this.breakRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"columns\", {\n        /**\n         * Gets the `column` collection of the PdfGrid.[Read-Only]\n         * @private\n         */\n        get: function () {\n            if (this.gridColumns == null || typeof this.gridColumns === 'undefined') {\n                this.gridColumns = new PdfGridColumnCollection(this);\n            }\n            return this.gridColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"rows\", {\n        /**\n         * Gets the `row` collection from the PdfGrid.[Read-Only]\n         * @private\n         */\n        get: function () {\n            if (this.gridRows == null) {\n                this.gridRows = new PdfGridRowCollection(this);\n            }\n            return this.gridRows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"headers\", {\n        /**\n         * Gets the `headers` collection from the PdfGrid.[Read-Only]\n         * @private\n         */\n        get: function () {\n            if (this.gridHeaders == null || typeof this.gridHeaders === 'undefined') {\n                this.gridHeaders = new PdfGridHeaderCollection(this);\n            }\n            return this.gridHeaders;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"initialWidth\", {\n        /**\n         * Indicating `initial width` of the page.\n         * @private\n         */\n        get: function () {\n            return this.gridInitialWidth;\n        },\n        set: function (value) {\n            this.gridInitialWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"style\", {\n        /**\n         * Gets or sets the `grid style`.\n         * @private\n         */\n        get: function () {\n            if (this.gridStyle == null) {\n                this.gridStyle = new PdfGridStyle();\n            }\n            return this.gridStyle;\n        },\n        set: function (value) {\n            if (this.gridStyle == null) {\n                this.gridStyle = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"isPageWidth\", {\n        /**\n         * Gets a value indicating whether the grid column width is considered to be `page width`.\n         * @private\n         */\n        get: function () {\n            return this.pageWidth;\n        },\n        set: function (value) {\n            this.pageWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"isChildGrid\", {\n        /**\n         * Gets or set if grid `is nested grid`.\n         * @private\n         */\n        get: function () {\n            return this.childGrid;\n        },\n        set: function (value) {\n            this.childGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"size\", {\n        /**\n         * Gets the `size`.\n         * @private\n         */\n        get: function () {\n            if (this.gridSize.width === 0 && this.gridSize.height === 0) {\n                this.gridSize = this.measure();\n                return this.gridSize;\n            }\n            else {\n                return this.gridSize;\n            }\n        },\n        set: function (value) {\n            this.gridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 == null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    /**\n     * `measures` this instance.\n     * @private\n     */\n    PdfGrid.prototype.measure = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfGrid.prototype.layout = function (param, isGridLayouter) {\n        if (typeof isGridLayouter === 'undefined') {\n            this.setSpan();\n            this.layoutFormat = param.format;\n            this.gridLocation = param.bounds;\n            var result = this.layout(param, true);\n            return result;\n        }\n        else {\n            return this.layoutInternal(param);\n        }\n    };\n    PdfGrid.prototype.setSpan = function () {\n        var colSpan;\n        var rowSpan = 1;\n        var currentCellIndex;\n        var currentRowIndex = 0;\n        var rowCount = this.headers.count;\n        for (var i = 0; i < rowCount; i++) {\n            var row = this.headers.getHeader(i);\n            var colCount = row.cells.count;\n            for (var j = 0; j < colCount; j++) {\n                var cell = row.cells.getCell(j);\n                //Skip setting span map for already coverted rows/columns.\n                if (!cell.isCellMergeContinue && !cell.isRowMergeContinue && (cell.columnSpan > 1 || cell.rowSpan > 1)) {\n                    if (cell.columnSpan + j > row.cells.count) {\n                        throw new Error('Invalid span specified at row ' + j.toString() + ' column ' + i.toString());\n                    }\n                    if (cell.rowSpan + i > this.headers.count) {\n                        throw new Error('Invalid span specified at Header ' + j.toString() + ' column ' + i.toString());\n                    }\n                    // if (this.rows.count !== 0 && cell.rowSpan + i > this.rows.count) {\n                    //     throw new Error('Invalid span specified at row ' + j.toString() + ' column ' + i.toString());\n                    // }\n                    if (cell.columnSpan > 1 && cell.rowSpan > 1) {\n                        colSpan = cell.columnSpan;\n                        rowSpan = cell.rowSpan;\n                        currentCellIndex = j;\n                        currentRowIndex = i;\n                        cell.isCellMergeStart = true;\n                        cell.isRowMergeStart = true;\n                        //Set Column merges for first row\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            row.cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                            row.cells.getCell(currentCellIndex).rowSpan = rowSpan;\n                            colSpan--;\n                        }\n                        currentCellIndex = j;\n                        colSpan = cell.columnSpan;\n                        //Set Row Merges and column merges foreach subsequent rows.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                            rowSpan--;\n                            while (colSpan > 1) {\n                                currentCellIndex++;\n                                this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                                colSpan--;\n                            }\n                            colSpan = cell.columnSpan;\n                            currentCellIndex = j;\n                        }\n                    }\n                    else if (cell.columnSpan > 1 && cell.rowSpan === 1) {\n                        colSpan = cell.columnSpan;\n                        currentCellIndex = j;\n                        cell.isCellMergeStart = true;\n                        //Set Column merges.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                        }\n                    }\n                    else if (cell.columnSpan === 1 && cell.rowSpan > 1) {\n                        rowSpan = cell.rowSpan;\n                        currentRowIndex = i;\n                        //Set row Merges.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Gets the `format`.\n     * @private\n     */\n    PdfGrid.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    /**\n     * `Layouts` the element.\n     * @private\n     */\n    PdfGrid.prototype.layoutInternal = function (param) {\n        this.initialWidth = param.bounds.width;\n        var format = this.getFormat(param.format);\n        this.currentPage = param.page;\n        if (this.currentPage !== null) {\n            var pageHeight = this.currentPage.getClientSize().height;\n            var pageWidth = this.currentPage.getClientSize().width;\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        else {\n            throw Error('Can not set page as null');\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        var index = 0;\n        index = this.currentGraphics.page.section.indexOf(this.currentGraphics.page);\n        this.listOfNavigatePages.push(index);\n        this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        if (this.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        else if (this.headers.count !== 0) {\n            this.currentBounds.width = param.bounds.width;\n        }\n        else {\n            throw Error('Please add row or header into grid');\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        if (param.bounds.height > 0 && !this.isChildGrid) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        this.hType = this.style.horizontalOverflowType;\n        if (!this.style.allowHorizontalOverflow) {\n            this.measureColumnsWidth(this.currentBounds);\n            this.columnRanges.push([0, this.columns.count - 1]);\n        }\n        else {\n            this.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        var result = this.layoutOnPage(param);\n        return result;\n    };\n    PdfGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            var widths = this.columns.getDefaultWidths(bounds.width);\n            var tempWidth = this.columns.getColumn(0).width;\n            for (var i = 0, count = this.columns.count; i < count; i++) {\n                this.columns.getColumn(i).width = widths[i];\n            }\n        }\n        else {\n            var widths = [];\n            var cellWidth = 0;\n            var cellWidths = 0;\n            if (this.headers.count > 0) {\n                var colCount = this.headers.getHeader(0).cells.count;\n                var rowCount = this.headers.count;\n                for (var i = 0; i < colCount; i++) {\n                    cellWidth = 0;\n                    for (var j = 0; j < rowCount; j++) {\n                        var rowWidth = Math.min(this.initialWidth, this.headers.getHeader(j).cells.getCell(i).width);\n                        cellWidth = Math.max(cellWidth, rowWidth);\n                    }\n                    widths[i] = cellWidth;\n                }\n            }\n            else {\n                var colCount = this.rows.getRow(0).cells.count;\n                var rowCount = this.rows.count;\n                for (var i = 0; i < colCount; i++) {\n                    cellWidth = 0;\n                    for (var j = 0; j < rowCount; j++) {\n                        var rowWidth = Math.min(this.initialWidth, this.rows.getRow(j).cells.getCell(i).width);\n                        cellWidth = Math.max(cellWidth, rowWidth);\n                    }\n                    widths[i] = cellWidth;\n                }\n            }\n            cellWidth = 0;\n            for (var i = 0, colCount = this.columns.count; i < colCount; i++) {\n                for (var j = 0, rowCount = this.rows.count; j < rowCount; j++) {\n                    if (this.rows.getRow(j).cells.getCell(i).columnSpan == 1 || this.rows.getRow(j).cells.getCell(i).value !== null || this.rows.getRow(j).cells.getCell(i).rowSpan >= 1) {\n                        if (this.rows.getRow(j).cells.getCell(i).value !== null &&\n                            !this.rows.getRow(j).grid.style.allowHorizontalOverflow) {\n                            var value = this.rows.getRow(j).grid.style.cellPadding.right +\n                                this.rows.getRow(j).grid.style.cellPadding.left\n                                + this.rows.getRow(j).cells.getCell(i).style.borders.left.width / 2\n                                + this.gridLocation.x;\n                            this.rows.getRow(j).cells.getCell(i).value.initialWidth = this.initialWidth - value;\n                        }\n                        var rowWidth = 0;\n                        var internalWidth = this.rows.getRow(j).cells.getCell(i).width;\n                        internalWidth += this.rows.getRow(j).cells.getCell(i).style.borders.left.width;\n                        internalWidth += this.rows.getRow(j).cells.getCell(i).style.borders.right.width;\n                        var internalHeight = this.rows.getRow(j).cells.getCell(i).height;\n                        internalHeight += (this.rows.getRow(j).cells.getCell(i).style.borders.top.width);\n                        internalHeight += (this.rows.getRow(j).cells.getCell(i).style.borders.bottom.width);\n                        var isCorrectWidth = (internalWidth + this.gridLocation.x) > this.currentGraphics.clientSize.width;\n                        var isCorrectHeight = (internalHeight + this.gridLocation.y) > this.currentGraphics.clientSize.height;\n                        if (isCorrectWidth || isCorrectHeight) {\n                            throw Error('Image size exceeds client size of the page. Can not insert this image');\n                        }\n                        rowWidth = Math.min(this.initialWidth, this.rows.getRow(j).cells.getCell(i).width);\n                        cellWidth = Math.max(widths[i], Math.max(cellWidth, rowWidth));\n                        cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    }\n                }\n                widths[i] = cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0, count = this.columns.count; i < count; i++) {\n                this.columns.getColumn(i).width = widths[i];\n            }\n        }\n    };\n    /* tslint:enable */\n    /**\n     * `Determines the column draw ranges`.\n     * @private\n     */\n    PdfGrid.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.columns.count; i++) {\n            cellWidths += this.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                endColumn = startColumn;\n                cellWidths = (endColumn <= i) ? this.columns.getColumn(i).width : 0;\n            }\n        }\n        // if (startColumn !== this.columns.Count) {\n        this.columnRanges.push([startColumn, this.columns.count - 1]);\n        // }\n    };\n    /**\n     * `Layouts the on page`.\n     * @private\n     */\n    PdfGrid.prototype.layoutOnPage = function (param) {\n        /* tslint:disable */\n        this.pageBounds.x = param.bounds.x;\n        this.pageBounds.y = param.bounds.y;\n        this.pageBounds.height = param.bounds.height;\n        var format = this.getFormat(param.format);\n        var endArgs = null;\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        var isParentCell = false;\n        var cellBounds = [];\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var returnObject = this.raiseBeforePageLayout(this.currentPage, this.currentBounds, this.currentRowIndex);\n            this.currentBounds = returnObject.currentBounds;\n            this.currentRowIndex = returnObject.currentRowIndex;\n            // if (returnObject.returnValue) {\n            // result = new PdfGridLayoutResult(this.currentPage, this.currentBounds);\n            // break;\n            // }\n            //Draw Headers.\n            var drawHeader = void 0;\n            for (var i_1 = 0; i_1 < this.headers.count; i_1++) {\n                var row = this.headers.getHeader(i_1);\n                var headerHeight = this.currentBounds.y;\n                // RowLayoutResult\n                var headerResult = this.drawRow(row);\n                // if (headerHeight === this.currentBounds.y) {\n                //     drawHeader = true;\n                //     if (PdfGrid.repeatRowIndex === -1) {\n                //         PdfGrid.repeatRowIndex = this.rows.getRow.indexOf(row);\n                //     }\n                // } else {\n                drawHeader = false;\n                // }\n            }\n            var i = 0;\n            var length_1 = this.rows.count;\n            var repeatRow = void 0;\n            var startingHeight = 0;\n            var flag = true;\n            //Here is to draw parent Grid and Cells\n            cellBounds = [];\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < this.rows.count; j++) {\n                var row = this.rows.getRow(j);\n                i++;\n                this.currentRowIndex = i - 1;\n                var originalHeight = this.currentBounds.y;\n                startPage = this.currentPage;\n                PdfGrid.repeatRowIndex = -1;\n                var rowResult = this.drawRow(row);\n                cellBounds.push(rowResult.bounds.width);\n                //if height remains same, it is understood that row is not drawn in the page\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    PdfGrid.repeatRowIndex = this.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    PdfGrid.repeatRowIndex = -1;\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    // During pagination, cell position is maintained here.\n                    this.startLocation.x = this.currentBounds.x;\n                    var isAddNextPage = false;\n                    this.currentPage = this.getNextPage(format);\n                    if ((param.format !== null) && !param.format.usePaginateBounds && param.bounds !== null &&\n                        param.bounds.height > 0 && !this.isChildGrid) {\n                        this.currentBounds.height = param.bounds.height;\n                    }\n                    if ((param.format !== null) && !param.format.usePaginateBounds && param.bounds !== null &&\n                        param.bounds.y > 0 && !this.isChildGrid) {\n                        this.currentBounds.y = param.bounds.y;\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if ((format.paginateBounds.x === format.paginateBounds.y) &&\n                        (format.paginateBounds.y === format.paginateBounds.height) &&\n                        (format.paginateBounds.height === format.paginateBounds.width) && (format.paginateBounds.width === 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    if (this.repeatHeader) {\n                        for (var i_2 = 0; i_2 < this.headers.count; i_2++) {\n                            var header = this.headers.getHeader(i_2);\n                            this.drawRow(header);\n                        }\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                }\n            }\n            var isPdfGrid = false;\n            var maximumCellBoundsWidth = 0;\n            if (cellBounds.length > 0) {\n                maximumCellBoundsWidth = cellBounds[0];\n            }\n            var largeNavigatePage = [[0, 0]];\n            if (!isPdfGrid && cellBounds.length > 0) {\n                for (var c = 0; c < i - 1; c++) {\n                    if (maximumCellBoundsWidth < cellBounds[c]) {\n                        maximumCellBoundsWidth = cellBounds[c];\n                    }\n                }\n                this.rowLayoutBoundsWidth = maximumCellBoundsWidth;\n            }\n            else {\n                this.rowLayoutBoundsWidth = largeNavigatePage[0][1];\n            }\n            if (this.columnRanges.length - 1 !== index && this.columnRanges.length > 1 && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPage(format);\n                if ((format.paginateBounds.x === format.paginateBounds.y) && (format.paginateBounds.y === format.paginateBounds.height)\n                    && (format.paginateBounds.height === format.paginateBounds.width) && (format.paginateBounds.width === 0)) {\n                    this.currentBounds.x += this.startLocation.x;\n                    this.currentBounds.y += this.startLocation.y;\n                    // this.currentBounds.height = this.pageBounds.height;\n                }\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.style.allowHorizontalOverflow && this.style.horizontalOverflowType == PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        this.raisePageLayouted(result);\n        return result;\n    }; /* tslint:enable */\n    /**\n     * Gets the `next page`.\n     * @private\n     */\n    PdfGrid.prototype.getNextPage = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        this.flag = false;\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        var pageindex = this.currentGraphics.page.section.indexOf(this.currentGraphics.page);\n        if (!(this.listOfNavigatePages.indexOf(pageindex) !== -1)) {\n            this.listOfNavigatePages.push(pageindex);\n        }\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        // if ((format.PaginateBounds.x !== format.PaginateBounds.y) && (format.PaginateBounds.y !== format.PaginateBounds.height)\n        //     && (format.PaginateBounds.height !== format.PaginateBounds.width) && (format.PaginateBounds.width !== 0)) {\n        //     this.currentBounds.x = format.PaginateBounds.x;\n        //     this.currentBounds.y = format.PaginateBounds.y;\n        //     this.currentBounds.height = format.PaginateBounds.height;\n        // }\n        return nextPage;\n    };\n    /**\n     * Gets the `layout result`.\n     * @private\n     */\n    PdfGrid.prototype.getLayoutResult = function () {\n        var bounds;\n        /* tslint:disable */\n        bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y - this.startLocation.y));\n        /* tslint:enable */\n        return new PdfGridLayoutResult(this.currentPage, bounds);\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     * @private\n     */\n    PdfGrid.prototype.ReCalculateHeight = function (row, height) {\n        var newHeight = 0.0;\n        // for (let i : number = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n        //     if (!(row.cells.getCell(i).RemainingString === null || row.cells.getCell(i).RemainingString === '' ||\n        //           typeof row.cells.getCell(i).RemainingString === 'undefined')) {\n        //         newHeight = Math.max(newHeight, row.cells.getCell(i).MeasureHeight());\n        //     }\n        // }\n        return Math.max(height, newHeight);\n    };\n    /**\n     * `Raises BeforePageLayout event`.\n     * @private\n     */\n    PdfGrid.prototype.raiseBeforePageLayout = function (currentPage, currentBounds, currentRow) {\n        var cancel = false;\n        if (this.raiseBeginPageLayout) {\n            var args = new PdfGridBeginPageLayoutEventArgs(currentBounds, currentPage, currentRow);\n            this.beginPageLayout(this, args);\n            // if (currentBounds !== args.Bounds) {\n            //     this.isChanged = true;\n            //     this.currentLocation = new PointF(args.Bounds.x, args.Bounds.y);\n            //     this.measureColumnsWidth(new RectangleF(new PointF(args.Bounds.x, args.Bounds.y) ,\n            //                                                  new SizeF(args.Bounds.width + args.Bounds.x ,\n            //                                                                 args.Bounds.height)));\n            // }\n            cancel = args.cancel;\n            currentBounds = args.bounds;\n            currentRow = args.startRowIndex;\n        }\n        return { returnValue: cancel, currentBounds: currentBounds, currentRowIndex: currentRow };\n    };\n    /**\n     * `Raises PageLayout event` if needed.\n     * @private\n     */\n    PdfGrid.prototype.raisePageLayouted = function (result) {\n        var args = new PdfGridEndPageLayoutEventArgs(result);\n        if (this.raiseEndPageLayout) {\n            this.endPageLayout(this, args);\n        }\n        return args;\n    };\n    PdfGrid.prototype.drawRow = function (row, result, height) {\n        if (typeof result === 'undefined') {\n            //.. Check if required space available.\n            //.....If the row conains spans which  falls through more than one page, then draw the row to next page.\n            var result_1 = new RowLayoutResult();\n            var rowHeightWithSpan = 0;\n            var location_1 = new PointF(0, 0);\n            var size = new SizeF(0, 0);\n            var isHeader = false;\n            if (row.rowSpanExists) {\n                var maxSpan = 0;\n                var currRowIndex = this.rows.rowCollection.indexOf(row);\n                if (currRowIndex === -1) {\n                    currRowIndex = this.headers.indexOf(row);\n                    if (currRowIndex !== -1) {\n                        isHeader = true;\n                    }\n                }\n                for (var i = 0; i < row.cells.count; i++) {\n                    var cell = row.cells.getCell(i);\n                    maxSpan = Math.max(maxSpan, cell.rowSpan);\n                }\n                for (var i = currRowIndex; i < currRowIndex + maxSpan; i++) {\n                    rowHeightWithSpan += (isHeader ? this.headers.getHeader(i).height : this.rows.getRow(i).height);\n                }\n                var rowMaxHeight = rowHeightWithSpan;\n                for (var i = 0; i < row.cells.count; i++) {\n                    rowMaxHeight = rowMaxHeight > row.cells.getCell(i).height ? rowMaxHeight : row.cells.getCell(i).height;\n                }\n                var nextRow = this.headers.getHeader(this.headers.indexOf(row) + 1);\n                var flag = true;\n                for (var i = 0; i < nextRow.cells.count; i++) {\n                    if (nextRow.cells.getCell(i).value !== '' && nextRow.cells.getCell(i).value !== undefined) {\n                        flag = false;\n                        break;\n                    }\n                }\n                if ((rowMaxHeight > rowHeightWithSpan) && flag) {\n                    row.height += (rowMaxHeight - rowHeightWithSpan);\n                }\n            }\n            var calculatedHeight = row.rowBreakHeight > 0.0 ? row.rowBreakHeight : row.height;\n            if (this.currentBounds.y + calculatedHeight > this.currentPageBounds.height ||\n                this.currentBounds.y + calculatedHeight > (this.currentBounds.height + this.startLocation.y) ||\n                this.currentBounds.y + rowHeightWithSpan > this.currentPageBounds.height) {\n                // If a row is repeated and still cannot fit in page, proceed draw.\n                // if (PdfGrid.repeatRowIndex > -1 && PdfGrid.repeatRowIndex === row.RowIndex) {\n                //     if (this.AllowRowBreakAcrossPages) {\n                //         result.IsFinish = true;\n                //         // this.DrawRowWithBreak(ref result, row, height);\n                //     } else {\n                //         result.IsFinish = false;\n                //         this.drawRow(row, result, height);\n                //     }\n                // } else {\n                result_1.isFinish = false;\n                // }\n            }\n            else {\n                result_1.isFinish = true;\n                this.drawRow(row, result_1, calculatedHeight);\n            }\n            return result_1;\n        }\n        else {\n            var skipcell = false;\n            var location_2 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            result.bounds = new RectangleF(location_2, new SizeF(0, 0));\n            height = this.ReCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cancelSpans = ((i > this.cellEndIndex + 1) && (row.cells.getCell(i).columnSpan > 1));\n                // let cancelSpans : boolean = false;\n                if (!cancelSpans) {\n                    for (var j = 1; j < row.cells.getCell(i).columnSpan; j++) {\n                        row.cells.getCell(i + j).isCellMergeContinue = true;\n                    }\n                }\n                var size = new SizeF(this.columns.getColumn(i).width, height);\n                // if (size.width > this.currentGraphics.ClientSize.width) {\n                //     size.width = this.currentGraphics.ClientSize.width;\n                // }\n                // if (this.IsChildGrid && this.style.AllowHorizontalOverflow) {\n                //     if (size.width >= this.currentGraphics.ClientSize.width) {\n                //         size.width -= 2 * this.currentBounds.x;\n                //     }\n                // }\n                /* tslint:disable */\n                if (!this.CheckIfDefaultFormat(this.columns.getColumn(i).format) &&\n                    this.CheckIfDefaultFormat(row.cells.getCell(i).stringFormat)) {\n                    row.cells.getCell(i).stringFormat = this.columns.getColumn(i).format;\n                }\n                var cellstyle = row.cells.getCell(i).style;\n                var tempValue = ((typeof row.cells.getCell(i).value === 'string' &&\n                    row.cells.getCell(i).value !== null) ? row.cells.getCell(i).value : '');\n                row.cells.getCell(i).style = this.RaiseBeforeCellDraw(this.currentGraphics, this.currentRowIndex, i, new RectangleF(location_2, size), tempValue, cellstyle);\n                // if (!skipcell) {\n                // let stringResult : PdfStringLayoutResult = row.cells.getCell(i).draw(this.currentGraphics, new RectangleF(location, size), cancelSpans);\n                var stringResult = row.cells.getCell(i).draw(this.currentGraphics, new RectangleF(location_2, size), cancelSpans);\n                if (row.grid.style.allowHorizontalOverflow && (row.cells.getCell(i).columnSpan > this.cellEndIndex || i + row.cells.getCell(i).columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                    row.rowOverflowIndex = this.cellEndIndex;\n                }\n                if (row.grid.style.allowHorizontalOverflow && (row.rowOverflowIndex > 0 && (row.cells.getCell(i).columnSpan > this.cellEndIndex || i + row.cells.getCell(i).columnSpan > this.cellEndIndex + 1)) && row.cells.getCell(i).columnSpan - this.cellEndIndex + i - 1 > 0) {\n                    row.cells.getCell(row.rowOverflowIndex + 1).value = stringResult !== null ? (stringResult.remainder !== undefined) ? stringResult.remainder : '' : '';\n                    row.cells.getCell(row.rowOverflowIndex + 1).stringFormat = row.cells.getCell(i).stringFormat;\n                    row.cells.getCell(row.rowOverflowIndex + 1).style = row.cells.getCell(i).style;\n                    row.cells.getCell(row.rowOverflowIndex + 1).columnSpan = row.cells.getCell(i).columnSpan - this.cellEndIndex + i - 1;\n                }\n                // }\n                /* tslint:enable */\n                tempValue = ((typeof row.cells.getCell(i).value === 'string' &&\n                    row.cells.getCell(i).value !== null) ? row.cells.getCell(i).value : '');\n                this.RaiseAfterCellDraw(this.currentGraphics, this.currentRowIndex, i, new RectangleF(location_2, size), tempValue, row.cells.getCell(i).style);\n                location_2.x += this.columns.getColumn(i).width;\n            }\n            // if (!row.RowMergeComplete || row.isRowHeightSet) {\n            this.currentBounds.y += height;\n            // }\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location_2.x, location_2.y));\n        }\n    };\n    /**\n     * Checks if the given format `is default format` or not.\n     * @private\n     */\n    PdfGrid.prototype.CheckIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    /**\n     * `Raises BeforeCellDraw event`.\n     * @private\n     */\n    PdfGrid.prototype.RaiseBeforeCellDraw = function (graphics, rowIndex, cellIndex, bounds, value, style) {\n        var args = null;\n        if (this.raiseBeginCellDraw) {\n            args = new PdfGridBeginCellDrawEventArgs(graphics, rowIndex, cellIndex, bounds, value, style);\n            this.beginCellDraw(this, args);\n            style = args.style;\n        }\n        return style;\n    };\n    /**\n     * `Raises AfterCellDraw event`.\n     * @private\n     */\n    PdfGrid.prototype.RaiseAfterCellDraw = function (graphics, rowIndex, cellIndex, bounds, value, cellstyle) {\n        var args = null;\n        if (this.raiseEndCellDraw) {\n            args = new PdfGridEndCellDrawEventArgs(graphics, rowIndex, cellIndex, bounds, value, cellstyle);\n            this.endCellDraw(this, args);\n        }\n    };\n    /**\n     * `Rearranges the pages`.\n     * @private\n     */\n    PdfGrid.prototype.reArrangePages = function (layoutedPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutedPages.keys();\n        var values = layoutedPages.values();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        /* tslint:disable */\n        for (var i = 0; i < layoutedPages.size(); i++) {\n            var count = 0;\n            for (var j = i, count_1 = (layoutedPages.size() / this.columnRanges.length); j < layoutedPages.size(); j += count_1) {\n                var page = pages[j];\n                if (document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n        /* tslint:enable */\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    PdfGrid.repeatRowIndex = -1;\n    return PdfGrid;\n}(PdfLayoutElement));\nexport { PdfGrid };\n/**\n * `GridCellEventArgs` class is alternate for grid events.\n */\nvar GridCellEventArgs = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initialize a new instance for `GridCellEventArgs` class.\n     * @private\n     */\n    function GridCellEventArgs(graphics, rowIndex, cellIndex, bounds, value) {\n        this.gridRowIndex = rowIndex;\n        this.gridCellIndex = cellIndex;\n        this.internalValue = value;\n        this.gridBounds = bounds;\n        this.pdfGraphics = graphics;\n    }\n    Object.defineProperty(GridCellEventArgs.prototype, \"rowIndex\", {\n        // Properties\n        /**\n         * Gets the value of current `row index`.\n         * @private\n         */\n        get: function () {\n            return this.gridRowIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GridCellEventArgs.prototype, \"cellIndex\", {\n        /**\n         * Gets the value of current `cell index`.\n         * @private\n         */\n        get: function () {\n            return this.gridCellIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GridCellEventArgs.prototype, \"value\", {\n        /**\n         * Gets the actual `value` of current cell.\n         * @private\n         */\n        get: function () {\n            return this.internalValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GridCellEventArgs.prototype, \"bounds\", {\n        /**\n         * Gets the `bounds` of current cell.\n         * @private\n         */\n        get: function () {\n            return this.gridBounds;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GridCellEventArgs.prototype, \"graphics\", {\n        /**\n         * Gets the instance of `current graphics`.\n         * @private\n         */\n        get: function () {\n            return this.pdfGraphics;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return GridCellEventArgs;\n}());\nexport { GridCellEventArgs };\n/**\n * `PdfGridBeginCellDrawEventArgs` class is alternate for begin cell draw events.\n */\nvar PdfGridBeginCellDrawEventArgs = /** @class */ (function (_super) {\n    __extends(PdfGridBeginCellDrawEventArgs, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `StartCellLayoutEventArgs` class.\n     * @private\n     */\n    function PdfGridBeginCellDrawEventArgs(graphics, rowIndex, cellIndex, bounds, value, style) {\n        var _this = _super.call(this, graphics, rowIndex, cellIndex, bounds, value) || this;\n        _this.style = style;\n        return _this;\n    }\n    Object.defineProperty(PdfGridBeginCellDrawEventArgs.prototype, \"skip\", {\n        // Properties\n        /**\n         * Gets or sets a value indicating whether the value of this cell should be `skipped`.\n         * @private\n         */\n        get: function () {\n            return this.bSkip;\n        },\n        set: function (value) {\n            this.bSkip = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridBeginCellDrawEventArgs.prototype, \"style\", {\n        /**\n         * Gets or sets a `style` value of the cell.\n         * @private\n         */\n        get: function () {\n            return this.cellStyle;\n        },\n        set: function (value) {\n            this.cellStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridBeginCellDrawEventArgs;\n}(GridCellEventArgs));\nexport { PdfGridBeginCellDrawEventArgs };\n/**\n * `PdfGridEndCellDrawEventArgs` class is alternate for end cell draw events.\n */\nvar PdfGridEndCellDrawEventArgs = /** @class */ (function (_super) {\n    __extends(PdfGridEndCellDrawEventArgs, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `PdfGridEndCellLayoutEventArgs` class.\n     * @private\n     */\n    function PdfGridEndCellDrawEventArgs(graphics, rowIndex, cellIndex, bounds, value, style) {\n        var _this = _super.call(this, graphics, rowIndex, cellIndex, bounds, value) || this;\n        _this.cellStyle = style;\n        return _this;\n    }\n    Object.defineProperty(PdfGridEndCellDrawEventArgs.prototype, \"style\", {\n        // Propertise\n        /**\n         * Get the `PdfGridCellStyle`.\n         * @private\n         */\n        get: function () {\n            return this.cellStyle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridEndCellDrawEventArgs;\n}(GridCellEventArgs));\nexport { PdfGridEndCellDrawEventArgs };\n/**\n * `PdfGridCancelEventArgs` class is alternate for cancel events.\n */\nvar PdfCancelEventArgs = /** @class */ (function () {\n    function PdfCancelEventArgs() {\n    }\n    Object.defineProperty(PdfCancelEventArgs.prototype, \"cancel\", {\n        // Properties\n        /**\n         * Gets and Sets the value of `cancel`.\n         * @private\n         */\n        get: function () {\n            return this.isCancel;\n        },\n        set: function (value) {\n            this.isCancel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfCancelEventArgs;\n}());\nexport { PdfCancelEventArgs };\n/**\n * `BeginPageLayoutEventArgs` class is alternate for begin page layout events.\n */\nvar BeginPageLayoutEventArgs = /** @class */ (function (_super) {\n    __extends(BeginPageLayoutEventArgs, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `BeginPageLayoutEventArgs` class with the specified rectangle and page.\n     * @private\n     */\n    function BeginPageLayoutEventArgs(bounds, page) {\n        var _this = _super.call(this) || this;\n        _this.bounds = bounds;\n        _this.pdfPage = page;\n        return _this;\n    }\n    Object.defineProperty(BeginPageLayoutEventArgs.prototype, \"bounds\", {\n        // Properties\n        /**\n         * Gets or sets value that indicates the lay outing `bounds` on the page.\n         * @private\n         */\n        get: function () {\n            return this.cellBounds;\n        },\n        set: function (value) {\n            this.cellBounds = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BeginPageLayoutEventArgs.prototype, \"page\", {\n        /**\n         * Gets the `page` where the lay outing should start.\n         * @private\n         */\n        get: function () {\n            return this.pdfPage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return BeginPageLayoutEventArgs;\n}(PdfCancelEventArgs));\nexport { BeginPageLayoutEventArgs };\n/**\n * `EndPageLayoutEventArgs` class is alternate for end page layout events.\n */\nvar EndPageLayoutEventArgs = /** @class */ (function (_super) {\n    __extends(EndPageLayoutEventArgs, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `EndPageLayoutEventArgs` class. with the specified 'PdfLayoutResult'.\n     * @private\n     */\n    function EndPageLayoutEventArgs(result) {\n        var _this = _super.call(this) || this;\n        _this.layoutResult = result;\n        return _this;\n    }\n    Object.defineProperty(EndPageLayoutEventArgs.prototype, \"result\", {\n        // Properties\n        /**\n         * Gets the lay outing `result` of the page.\n         * @private\n         */\n        get: function () {\n            return this.layoutResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EndPageLayoutEventArgs.prototype, \"nextPage\", {\n        /**\n         * Gets or sets a value indicating the `next page` where the element should be layout.\n         * @private\n         */\n        get: function () {\n            return this.nextPdfPage;\n        },\n        set: function (value) {\n            this.nextPdfPage = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EndPageLayoutEventArgs;\n}(PdfCancelEventArgs));\nexport { EndPageLayoutEventArgs };\n/**\n * `PdfGridBeginPageLayoutEventArgs` class is alternate for begin page layout events.\n */\nvar PdfGridBeginPageLayoutEventArgs = /** @class */ (function (_super) {\n    __extends(PdfGridBeginPageLayoutEventArgs, _super);\n    // Constructors\n    /**\n     * Initialize a new instance of `PdfGridBeginPageLayoutEventArgs` class.\n     * @private\n     */\n    function PdfGridBeginPageLayoutEventArgs(bounds, page, startRow) {\n        var _this = _super.call(this, bounds, page) || this;\n        _this.startRow = startRow;\n        return _this;\n    }\n    Object.defineProperty(PdfGridBeginPageLayoutEventArgs.prototype, \"startRowIndex\", {\n        // Properties\n        /**\n         * Gets the `start row index`.\n         * @private\n         */\n        get: function () {\n            return this.startRow;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridBeginPageLayoutEventArgs;\n}(BeginPageLayoutEventArgs));\nexport { PdfGridBeginPageLayoutEventArgs };\n/**\n * `PdfGridEndPageLayoutEventArgs` class is alternate for begin page layout events.\n */\nvar PdfGridEndPageLayoutEventArgs = /** @class */ (function (_super) {\n    __extends(PdfGridEndPageLayoutEventArgs, _super);\n    // Constructors\n    /**\n     * Initialize a new instance of `PdfGridEndPageLayoutEventArgs` class.\n     * @private\n     */\n    function PdfGridEndPageLayoutEventArgs(result) {\n        return _super.call(this, result) || this;\n    }\n    return PdfGridEndPageLayoutEventArgs;\n}(EndPageLayoutEventArgs));\nexport { PdfGridEndPageLayoutEventArgs };\n/**\n * `RowLayoutResult` class to store layout result of rows.\n */\nvar RowLayoutResult = /** @class */ (function () {\n    //Constructors\n    /**\n     * Initializes a new instance of the `RowLayoutResult` class.\n     * @private\n     */\n    function RowLayoutResult() {\n        this.layoutedBounds = new RectangleF(0, 0, 0, 0);\n    }\n    Object.defineProperty(RowLayoutResult.prototype, \"isFinish\", {\n        /**\n         * Gets or sets a value indicating whether this instance `is finish`.\n         * @private\n         */\n        get: function () {\n            return this.bIsFinished;\n        },\n        set: function (value) {\n            this.bIsFinished = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RowLayoutResult.prototype, \"bounds\", {\n        /**\n         * Gets or sets the `bounds`.\n         * @private\n         */\n        get: function () {\n            return this.layoutedBounds;\n        },\n        set: function (value) {\n            this.layoutedBounds = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RowLayoutResult;\n}());\nexport { RowLayoutResult };\n/**\n * `PdfGridLayoutResult` class represents the results of the PdfGrid including bounds and resultant page.\n */\nvar PdfGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfGridLayoutResult, _super);\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfGridLayoutResult` class with the current page and bounds.\n     * @private\n     */\n    function PdfGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfGridLayoutResult };\n","import { print as printWindow, createElement, isNullOrUndefined, Browser } from '@syncfusion/ej2-base';\nimport { getElement } from '../utils/helper';\nimport { beforePrint } from '../model/constants';\nimport { PdfPageOrientation, PdfDocument, PdfBitmap } from '@syncfusion/ej2-pdf-export';\n/**\n * Annotation Module handles the Annotation for chart and accumulation series.\n */\nvar ExportUtils = /** @class */ (function () {\n    /**\n     * Constructor for chart and accumulation annotation\n     * @param control\n     */\n    function ExportUtils(control) {\n        this.control = control;\n    }\n    /**\n     * To print the accumulation and chart elements\n     * @param elements\n     */\n    ExportUtils.prototype.print = function (elements) {\n        this.printWindow = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWindow.moveTo(0, 0);\n        this.printWindow.resizeTo(screen.availWidth, screen.availHeight);\n        var argsData = {\n            cancel: false, htmlContent: this.getHTMLContent(elements), name: beforePrint\n        };\n        this.control.trigger(beforePrint, argsData);\n        if (!argsData.cancel) {\n            printWindow(argsData.htmlContent, this.printWindow);\n        }\n    };\n    /**\n     * To get the html string of the chart and accumulation\n     * @param elements\n     * @private\n     */\n    ExportUtils.prototype.getHTMLContent = function (elements) {\n        var div = createElement('div');\n        if (elements) {\n            if (elements instanceof Array) {\n                elements.forEach(function (value) {\n                    div.appendChild(getElement(value).cloneNode(true));\n                });\n            }\n            else if (elements instanceof Element) {\n                div.appendChild(elements.cloneNode(true));\n            }\n            else {\n                div.appendChild(getElement(elements).cloneNode(true));\n            }\n        }\n        else {\n            div.appendChild(this.control.element.cloneNode(true));\n        }\n        return div;\n    };\n    /**\n     * To export the file as image/svg format\n     * @param type\n     * @param fileName\n     */\n    ExportUtils.prototype.export = function (type, fileName, orientation) {\n        var _this = this;\n        var element = createElement('canvas', {\n            id: 'ej2-canvas',\n            attrs: {\n                'width': this.control.availableSize.width.toString(),\n                'height': this.control.availableSize.height.toString()\n            }\n        });\n        var isDownload = !(Browser.userAgent.toString().indexOf('HeadlessChrome') > -1);\n        orientation = isNullOrUndefined(orientation) ? PdfPageOrientation.Landscape : orientation;\n        var svgData = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">' +\n            this.control.svgObject.outerHTML +\n            '</svg>';\n        var url = window.URL.createObjectURL(new Blob(type === 'SVG' ? [svgData] :\n            [(new XMLSerializer()).serializeToString(this.control.svgObject)], { type: 'image/svg+xml' }));\n        if (type === 'SVG') {\n            this.triggerDownload(fileName, type, url, isDownload);\n        }\n        else {\n            var image_1 = new Image();\n            var ctx_1 = element.getContext('2d');\n            image_1.onload = (function () {\n                ctx_1.drawImage(image_1, 0, 0);\n                window.URL.revokeObjectURL(url);\n                if (type === 'PDF') {\n                    var document_1 = new PdfDocument();\n                    var imageString = element.toDataURL('image/jpeg').replace('image/jpeg', 'image/octet-stream');\n                    document_1.pageSettings.orientation = orientation;\n                    imageString = imageString.slice(imageString.indexOf(',') + 1);\n                    document_1.pages.add().graphics.drawImage(new PdfBitmap(imageString), 0, 0, _this.control.availableSize.width, _this.control.availableSize.height);\n                    if (isDownload) {\n                        document_1.save(fileName + '.pdf');\n                        document_1.destroy();\n                    }\n                }\n                else {\n                    if (window.navigator.msSaveOrOpenBlob) {\n                        window.navigator.msSaveOrOpenBlob(element.msToBlob(), fileName + '.' + type.toLocaleLowerCase());\n                    }\n                    else {\n                        _this.triggerDownload(fileName, type, element.toDataURL('image/png').replace('image/png', 'image/octet-stream'), isDownload);\n                    }\n                }\n            });\n            image_1.src = url;\n        }\n    };\n    /**\n     * To trigger the download element\n     * @param fileName\n     * @param type\n     * @param url\n     */\n    ExportUtils.prototype.triggerDownload = function (fileName, type, url, isDownload) {\n        createElement('a', {\n            attrs: {\n                'download': fileName + '.' + type.toLocaleLowerCase(),\n                'href': url\n            }\n        }).dispatchEvent(new MouseEvent(isDownload ? 'click' : 'move', {\n            view: window,\n            bubbles: false,\n            cancelable: true\n        }));\n    };\n    return ExportUtils;\n}());\nexport { ExportUtils };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, NotifyPropertyChanges, Internationalization } from '@syncfusion/ej2-base';\nimport { L10n, createElement } from '@syncfusion/ej2-base';\nimport { ChildProperty } from '@syncfusion/ej2-base';\nimport { remove, extend } from '@syncfusion/ej2-base';\nimport { Browser, Touch } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, Complex, Collection } from '@syncfusion/ej2-base';\nimport { findClipRect, measureText, TextOption, showTooltip, removeElement } from '../common/utils/helper';\nimport { textElement, RectOption, createSvg, firstToLowerCase, titlePositionX } from '../common/utils/helper';\nimport { getSeriesColor, Theme, getThemeColor } from '../common/model/theme';\nimport { Margin, Border, ChartArea, Font, Indexes, TooltipSettings } from '../common/model/base';\nimport { Row, Column, Axis } from './axis/axis';\nimport { CartesianAxisLayoutPanel } from './axis/cartesian-panel';\nimport { Rect } from '../common/utils/helper';\nimport { ChartData } from './utils/get-data';\nimport { Series } from './series/chart-series';\nimport { Data } from '../common/model/data';\nimport { Marker } from './series/marker';\nimport { LegendSettings } from '../common/legend/legend';\nimport { TechnicalIndicator } from './technical-indicators/technical-indicator';\nimport { chartMouseClick, pointClick, pointMove, chartMouseLeave } from '../common/model/constants';\nimport { chartMouseDown, chartMouseMove, chartMouseUp, load } from '../common/model/constants';\nimport { ExportUtils } from '../common/utils/export';\nimport { ChartAnnotationSettings } from './model/chart-base';\nimport { getElement, getTitle } from '../common/utils/helper';\n/**\n * Configures the crosshair in the chart.\n */\nvar CrosshairSettings = /** @class */ (function (_super) {\n    __extends(CrosshairSettings, _super);\n    function CrosshairSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], CrosshairSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Complex({ color: null, width: 1 }, Border)\n    ], CrosshairSettings.prototype, \"line\", void 0);\n    __decorate([\n        Property('Both')\n    ], CrosshairSettings.prototype, \"lineType\", void 0);\n    return CrosshairSettings;\n}(ChildProperty));\nexport { CrosshairSettings };\n/**\n * Configures the zooming behavior for the chart.\n */\nvar ZoomSettings = /** @class */ (function (_super) {\n    __extends(ZoomSettings, _super);\n    function ZoomSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enableSelectionZooming\", void 0);\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enablePinchZooming\", void 0);\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enableMouseWheelZooming\", void 0);\n    __decorate([\n        Property(true)\n    ], ZoomSettings.prototype, \"enableDeferredZooming\", void 0);\n    __decorate([\n        Property('XY')\n    ], ZoomSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(['Zoom', 'ZoomIn', 'ZoomOut', 'Pan', 'Reset'])\n    ], ZoomSettings.prototype, \"toolbarItems\", void 0);\n    __decorate([\n        Property(false)\n    ], ZoomSettings.prototype, \"enablePan\", void 0);\n    return ZoomSettings;\n}(ChildProperty));\nexport { ZoomSettings };\n/**\n * Represents the Chart control.\n * ```html\n * <div id=\"chart\"/>\n * <script>\n *   var chartObj = new Chart({ isResponsive : true });\n *   chartObj.appendTo(\"#chart\");\n * </script>\n * ```\n */\nvar Chart = /** @class */ (function (_super) {\n    __extends(Chart, _super);\n    /**\n     * Constructor for creating the widget\n     * @hidden\n     */\n    function Chart(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @private */\n        _this.chartAreaType = 'Cartesian';\n        return _this;\n    }\n    /**\n     * Initialize the event handler.\n     */\n    Chart.prototype.preRender = function () {\n        this.unWireEvents();\n        this.initPrivateVariable();\n        this.setCulture();\n        this.wireEvents();\n    };\n    Chart.prototype.initPrivateVariable = function () {\n        this.animateSeries = true;\n        this.horizontalAxes = [];\n        this.verticalAxes = [];\n        this.refreshAxis();\n        this.refreshDefinition(this.rows);\n        this.refreshDefinition(this.columns);\n        if (this.tooltipModule) {\n            this.tooltipModule.previousPoints = [];\n        }\n    };\n    /**\n     * To Initialize the control rendering.\n     */\n    Chart.prototype.render = function () {\n        this.trigger(load, { chart: this });\n        this.createChartSvg();\n        this.setTheme();\n        this.markerRender = new Marker(this);\n        this.calculateAreaType();\n        this.calculateVisibleSeries();\n        this.initTechnicalIndicators();\n        this.initTrendLines();\n        this.calculateVisibleAxis();\n        this.processData();\n    };\n    /**\n     * Gets the localized label by locale keyword.\n     * @param  {string} key\n     * @return {string}\n     */\n    Chart.prototype.getLocalizedLabel = function (key) {\n        return this.localeObject.getConstant(key);\n    };\n    /**\n     * Refresh the chart bounds.\n     * @private\n     */\n    Chart.prototype.refreshBound = function () {\n        if (this.legendModule && this.legendSettings.visible) {\n            this.legendModule.getLegendOptions(this.visibleSeries, this);\n        }\n        var isCalculateStacking = false;\n        var series;\n        for (var i = 0, len = this.visibleSeries.length; i < len; i++) {\n            series = this.visibleSeries[i];\n            series.position = series.rectCount = undefined;\n            if (((series.type.indexOf('Stacking') !== -1) || (series.drawType.indexOf('Stacking') !== -1\n                && this.chartAreaType === 'PolarRadar')) && !isCalculateStacking) {\n                series.calculateStackedValue(series.type.indexOf('100') > -1, this);\n                isCalculateStacking = true;\n            }\n        }\n        this.calculateBounds();\n        this.renderElements();\n    };\n    Chart.prototype.renderElements = function () {\n        this.renderBorder();\n        this.renderTitle();\n        this.renderAreaBorder();\n        var axisElement = this.renderAxes();\n        this.renderSeriesElements(axisElement);\n        this.renderLegend();\n        this.applyZoomkit();\n        this.performSelection();\n        this.setSecondaryElementPosition();\n        this.renderAnnotation();\n    };\n    /**\n     * To render the legend\n     */\n    Chart.prototype.renderAxes = function () {\n        this.yAxisElements = this.renderer.createGroup({ id: this.element.id + 'yAxisCollection' });\n        var axisElement;\n        if (this.rows.length > 0 && this.columns.length > 0) {\n            axisElement = this.chartAxisLayoutPanel.renderAxes();\n        }\n        if (this.stripLineModule) {\n            this.stripLineModule.renderStripLine(this, 'Behind', this.axisCollections);\n        }\n        return axisElement;\n    };\n    /**\n     * To render the legend\n     */\n    Chart.prototype.renderLegend = function () {\n        if (this.legendModule && this.legendModule.legendCollections.length) {\n            this.legendModule.renderLegend(this, this.legendSettings, this.legendModule.legendBounds);\n        }\n        this.element.appendChild(this.svgObject);\n    };\n    /**\n     * To set the left and top position for data label template for center aligned chart\n     */\n    Chart.prototype.setSecondaryElementPosition = function () {\n        var element = getElement(this.element.id + '_Secondary_Element');\n        if (!element) {\n            return;\n        }\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        element.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\n        element.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\n    };\n    Chart.prototype.initializeModuleElements = function () {\n        this.dataLabelCollections = [];\n        this.seriesElements = this.renderer.createGroup({ id: this.element.id + 'SeriesCollection' });\n        if (this.indicators.length) {\n            this.indicatorElements = this.renderer.createGroup({ id: this.element.id + 'IndicatorCollection' });\n        }\n        if (this.hasTrendlines()) {\n            this.trendLineElements = this.renderer.createGroup({ id: this.element.id + 'TrendLineCollection' });\n        }\n        this.dataLabelElements = this.renderer.createGroup({ id: this.element.id + 'DataLabelCollection' });\n    };\n    Chart.prototype.hasTrendlines = function () {\n        var isTrendline;\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n            var series = _a[_i];\n            isTrendline = series.trendlines.length ? true : false;\n            if (isTrendline) {\n                break;\n            }\n        }\n        return isTrendline;\n    };\n    Chart.prototype.renderSeriesElements = function (axisElement) {\n        // Initialize the series elements values\n        this.initializeModuleElements();\n        var tooltipDiv = document.createElement('div');\n        tooltipDiv.id = this.element.id + '_Secondary_Element';\n        tooltipDiv.setAttribute('style', 'position: relative');\n        this.element.appendChild(tooltipDiv);\n        // For userInteraction\n        if (this.tooltip.enable) {\n            this.svgObject.appendChild(this.renderer.createGroup({ id: this.element.id + '_UserInteraction', style: 'pointer-events:none;' }));\n        }\n        if (this.rows.length > 0 && this.columns.length > 0) {\n            this.initializeIndicator();\n            this.initializeTrendLine();\n            this.renderSeries();\n            this.appendElementsAfterSeries(axisElement);\n        }\n    };\n    Chart.prototype.renderSeries = function () {\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.visible) {\n                findClipRect(item);\n                item.renderSeries(this, item.index);\n            }\n        }\n        var clipRect = this.renderer.drawClipPath({\n            'id': this.element.id + '_ChartAreaClipRect_',\n            'x': this.chartAxisLayoutPanel.seriesClipRect.x,\n            'y': this.chartAxisLayoutPanel.seriesClipRect.y,\n            'width': this.chartAxisLayoutPanel.seriesClipRect.width,\n            'height': this.chartAxisLayoutPanel.seriesClipRect.height,\n            'fill': 'transparent',\n            'stroke-width': 1,\n            'stroke': 'Gray'\n        });\n        this.seriesElements.appendChild(clipRect);\n        this.svgObject.appendChild(this.seriesElements);\n    };\n    Chart.prototype.initializeIndicator = function () {\n        for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n            var indicator = _a[_i];\n            if (this[firstToLowerCase(indicator.type) + 'IndicatorModule']) {\n                this[firstToLowerCase(indicator.type) + 'IndicatorModule'].createIndicatorElements(this, indicator, indicator.index);\n            }\n        }\n        if (this.indicatorElements) {\n            this.svgObject.appendChild(this.indicatorElements);\n        }\n    };\n    Chart.prototype.initializeTrendLine = function () {\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (series.trendlines.length) {\n                this.trendLineModule.getTrendLineElements(series, this);\n            }\n        }\n        if (this.trendLineElements) {\n            this.svgObject.appendChild(this.trendLineElements);\n        }\n    };\n    Chart.prototype.appendElementsAfterSeries = function (axisElement) {\n        if (this.chartAreaType === 'PolarRadar') {\n            this.svgObject.appendChild(this.yAxisElements);\n        }\n        this.svgObject.appendChild(axisElement);\n        if (this.stripLineModule) {\n            this.stripLineModule.renderStripLine(this, 'Over', this.axisCollections);\n        }\n        if (!this.tooltip.enable) {\n            this.svgObject.appendChild(this.renderer.createGroup({ id: this.element.id + '_UserInteraction', style: 'pointer-events:none;' }));\n        }\n    };\n    Chart.prototype.applyZoomkit = function () {\n        if (this.zoomModule && this.zoomModule.isZoomed && (!this.zoomSettings.enablePan || this.zoomModule.performedUI)) {\n            this.zoomModule.applyZoomToolkit(this, this.axisCollections);\n        }\n    };\n    Chart.prototype.renderAnnotation = function () {\n        if (this.annotationModule) {\n            this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n        }\n    };\n    Chart.prototype.performSelection = function () {\n        var selectedDataIndexes = [];\n        if (this.selectionModule) {\n            selectedDataIndexes = extend([], this.selectionModule.selectedDataIndexes, null, true);\n            this.selectionModule.invokeSelection(this);\n        }\n        if (selectedDataIndexes.length > 0) {\n            this.selectionModule.selectedDataIndexes = selectedDataIndexes;\n            this.selectionModule.redrawSelection(this, this.selectionMode);\n        }\n    };\n    Chart.prototype.processData = function () {\n        var series;\n        this.visibleSeriesCount = 0;\n        var check = true;\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series_1 = _a[_i];\n            if (!series_1.visible && !this.legendSettings.visible) {\n                this.visibleSeriesCount++;\n                continue;\n            }\n            if (series_1.category !== 'Indicator' && series_1.category !== 'TrendLine') {\n                this.initializeDataModule(series_1);\n            }\n        }\n        for (var _b = 0, _c = this.indicators; _b < _c.length; _b++) {\n            var indicator = _c[_b];\n            if (indicator.dataSource) {\n                var techIndicator = indicator;\n                this.initializeDataModule(techIndicator);\n                check = false;\n            }\n        }\n        if (!this.visibleSeries.length || this.visibleSeriesCount === this.visibleSeries.length && check) {\n            this.refreshBound();\n            this.trigger('loaded', { chart: this });\n        }\n    };\n    Chart.prototype.initializeDataModule = function (series) {\n        series.xData = [];\n        series.yData = [];\n        series.dataModule = new Data(series.dataSource, series.query);\n        series.points = [];\n        series.refreshDataManager(this);\n    };\n    Chart.prototype.calculateBounds = function () {\n        var margin = this.margin;\n        // Title Height;\n        var titleHeight = 0;\n        var padding = 15;\n        var left = margin.left;\n        var width = this.availableSize.width - left - margin.right - this.border.width;\n        this.titleCollection = [];\n        if (this.title) {\n            this.titleCollection = getTitle(this.title, this.titleStyle, width);\n            titleHeight = (measureText(this.title, this.titleStyle).height * this.titleCollection.length) + padding;\n        }\n        var top = margin.top + titleHeight + this.chartArea.border.width / 2;\n        var height = this.availableSize.height - top - this.border.width - margin.bottom;\n        this.initialClipRect = new Rect(left, top, width, height);\n        if (this.legendModule) {\n            this.legendModule.calculateLegendBounds(this.initialClipRect, this.availableSize);\n        }\n        this.chartAxisLayoutPanel.measureAxis(this.initialClipRect);\n    };\n    /**\n     * Handles the print method for chart control.\n     */\n    Chart.prototype.print = function (id) {\n        var exportChart = new ExportUtils(this);\n        exportChart.print(id);\n    };\n    /**\n     * Handles the export method for chart control.\n     * @param type\n     * @param fileName\n     */\n    Chart.prototype.export = function (type, fileName, orientation) {\n        var exportChart = new ExportUtils(this);\n        exportChart.export(type, fileName, orientation);\n    };\n    /**\n     * Defines the trendline initialization\n     */\n    Chart.prototype.initTrendLines = function () {\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            var trendIndex = 0;\n            for (var _b = 0, _c = series.trendlines; _b < _c.length; _b++) {\n                var trendline = _c[_b];\n                var trendLine = trendline;\n                var type = firstToLowerCase(trendLine.type);\n                if (this.trendLineModule) {\n                    trendLine.index = trendIndex;\n                    trendLine.sourceIndex = series.index;\n                    this.trendLineModule.initSeriesCollection(trendLine, this);\n                    if (trendLine.targetSeries) {\n                        trendLine.targetSeries.xAxisName = series.xAxisName;\n                        trendLine.targetSeries.yAxisName = series.yAxisName;\n                        this.visibleSeries.push(trendLine.targetSeries);\n                    }\n                }\n                trendIndex++;\n            }\n        }\n    };\n    Chart.prototype.calculateAreaType = function () {\n        var series = this.series[0];\n        if (series) {\n            this.requireInvertedAxis = ((series.type.indexOf('Bar') !== -1) && !this.isTransposed) ||\n                ((series.type.indexOf('Bar') === -1) && this.isTransposed && this.chartAreaType !== 'PolarRadar');\n        }\n        this.chartAxisLayoutPanel = this.chartAreaType === 'PolarRadar' ? (this.polarSeriesModule || this.radarSeriesModule)\n            : new CartesianAxisLayoutPanel(this);\n    };\n    Chart.prototype.calculateVisibleAxis = function () {\n        var axis;\n        var series;\n        var axes = [this.primaryXAxis, this.primaryYAxis];\n        axes = this.chartAreaType === 'Cartesian' ? axes.concat(this.axes) : axes;\n        this.axisCollections = [];\n        if (this.zoomModule) {\n            this.zoomModule.isPanning = this.zoomModule.isAxisZoomed(axes) && this.zoomSettings.enablePan;\n            this.svgObject.setAttribute('cursor', this.zoomModule.isPanning ? 'pointer' : 'auto');\n        }\n        for (var i = 0, len = axes.length; i < len; i++) {\n            axis = axes[i];\n            axis.series = [];\n            axis.labels = [];\n            for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n                var series_2 = _a[_i];\n                this.initAxis(series_2, axis, true);\n            }\n            for (var _b = 0, _c = this.indicators; _b < _c.length; _b++) {\n                var indicator = _c[_b];\n                this.initAxis(indicator, axis, false);\n            }\n            if (axis.orientation != null) {\n                this.axisCollections.push(axis);\n            }\n        }\n        if (this.rows.length > 0 && this.columns.length > 0) {\n            this.chartAxisLayoutPanel.measure();\n        }\n    };\n    Chart.prototype.initAxis = function (series, axis, isSeries) {\n        if (series.xAxisName === axis.name || (series.xAxisName == null && axis.name === 'primaryXAxis')) {\n            axis.orientation = this.requireInvertedAxis ? 'Vertical' : 'Horizontal';\n            series.xAxis = axis;\n            if (isSeries) {\n                axis.series.push(series);\n            }\n        }\n        else if (series.yAxisName === axis.name || (series.yAxisName == null && axis.name === 'primaryYAxis')) {\n            axis.orientation = this.requireInvertedAxis ? 'Horizontal' : 'Vertical';\n            series.yAxis = axis;\n            if (isSeries) {\n                axis.series.push(series);\n            }\n        }\n    };\n    Chart.prototype.initTechnicalIndicators = function () {\n        var i = 0;\n        for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n            var indicator = _a[_i];\n            var techIndicator = indicator;\n            var type = firstToLowerCase(techIndicator.type);\n            if (this[type + 'IndicatorModule']) {\n                techIndicator.index = i;\n                this[type + 'IndicatorModule'].initSeriesCollection(techIndicator, this);\n                for (var _b = 0, _c = techIndicator.targetSeries; _b < _c.length; _b++) {\n                    var targetSeries = _c[_b];\n                    if (indicator.seriesName || indicator.dataSource) {\n                        this.visibleSeries.push(targetSeries);\n                    }\n                }\n            }\n            i++;\n        }\n    };\n    /** @private */\n    Chart.prototype.refreshTechnicalIndicator = function (series) {\n        if (this.indicators.length) {\n            var targetIndicator = null;\n            if (series instanceof Series && series.category !== 'Indicator') {\n                for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n                    var indicator = _a[_i];\n                    if (indicator.seriesName === series.name && !indicator.dataSource) {\n                        targetIndicator = indicator;\n                        targetIndicator.setDataSource(series, this);\n                    }\n                }\n            }\n            else if (series instanceof TechnicalIndicator) {\n                targetIndicator = series;\n                targetIndicator.setDataSource(series instanceof Series ? series : null, this);\n            }\n        }\n    };\n    Chart.prototype.calculateVisibleSeries = function () {\n        var series;\n        this.visibleSeries = [];\n        var colors = this.palettes.length ? this.palettes : getSeriesColor(this.theme);\n        var count = colors.length;\n        for (var i = 0, len = this.series.length; i < len; i++) {\n            series = this.series[i];\n            series.index = i;\n            series.interior = series.fill || colors[i % count];\n            switch (series.type) {\n                case 'Bar':\n                case 'StackingBar':\n                case 'StackingBar100':\n                    if (this.series[0].type.indexOf('Bar') === -1) {\n                        continue;\n                    }\n                    break;\n                case 'Polar':\n                case 'Radar':\n                    if (this.chartAreaType !== 'PolarRadar') {\n                        continue;\n                    }\n                    if (this.chartAreaType === 'PolarRadar' && ((series.xAxisName === null && series.yAxisName !== null) ||\n                        (series.xAxisName !== null && series.yAxisName === null) ||\n                        (series.xAxisName !== null && series.yAxisName !== null))) {\n                        continue;\n                    }\n                    break;\n                default:\n                    if (this.chartAreaType === 'PolarRadar' || this.series[0].type.indexOf('Bar') > -1) {\n                        continue;\n                    }\n                    break;\n            }\n            this.visibleSeries.push(series);\n            this.series[i] = series;\n        }\n    };\n    Chart.prototype.renderTitle = function () {\n        if (this.title) {\n            var anchor = this.titleStyle.textAlignment === 'Near' ? 'start' :\n                this.titleStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            this.elementSize = measureText(this.title, this.titleStyle);\n            var options = new TextOption(this.element.id + '_ChartTitle', titlePositionX(this.availableSize, this.margin.left, this.margin.right, this.titleStyle), this.margin.top + ((this.elementSize.height) * 3 / 4), anchor, this.titleCollection, '', 'auto');\n            var element = textElement(options, this.titleStyle, this.titleStyle.color || this.themeStyle.chartTitle, this.svgObject);\n            element.setAttribute('aria-label', this.description || this.title);\n            element.setAttribute('tabindex', this.tabIndex.toString());\n        }\n    };\n    Chart.prototype.renderBorder = function () {\n        var width = this.border.width;\n        var rect = new RectOption(this.element.id + '_ChartBorder', this.background || this.themeStyle.background, this.border, 1, new Rect(width / 2, width / 2, this.availableSize.width - width, this.availableSize.height - width));\n        this.htmlObject = this.renderer.drawRectangle(rect);\n        this.svgObject.appendChild(this.htmlObject);\n    };\n    Chart.prototype.renderAreaBorder = function () {\n        if (this.chartAreaType === 'PolarRadar') {\n            return null;\n        }\n        else {\n            var rect = new RectOption(this.element.id + '_ChartAreaBorder', this.chartArea.background, { width: this.chartArea.border.width, color: this.chartArea.border.color || this.themeStyle.areaBorder }, this.chartArea.opacity, this.chartAxisLayoutPanel.seriesClipRect);\n            this.htmlObject = this.renderer.drawRectangle(rect);\n            this.svgObject.appendChild(this.htmlObject);\n        }\n    };\n    /**\n     * To add series for the chart\n     * @param {SeriesModel[]} seriesCollection - Defines the series collection to be added in chart.\n     * @return {void}.\n     */\n    Chart.prototype.addSeries = function (seriesCollection) {\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            series = new Series(this, 'series', series);\n            this.series.push(series);\n        }\n        this.refresh();\n    };\n    /**\n     * To Remove series for the chart\n     * @param index - Defines the series index to be remove in chart series\n     * @return {void}\n     */\n    Chart.prototype.removeSeries = function (index) {\n        this.series.splice(index);\n        this.refresh();\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}.\n     * @member of Chart\n     */\n    Chart.prototype.destroy = function () {\n        this.unWireEvents();\n        _super.prototype.destroy.call(this);\n        this.element.classList.remove('e-chart');\n    };\n    /**\n     * Get component name\n     */\n    Chart.prototype.getModuleName = function () {\n        return 'chart';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Chart.prototype.getPersistData = function () {\n        var keyEntity = ['loaded', 'animationComplete'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Method to create SVG element.\n     */\n    Chart.prototype.createChartSvg = function () {\n        this.removeSvg();\n        createSvg(this);\n    };\n    /**\n     * Method to bind events for chart\n     */\n    Chart.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        var startEvent = Browser.touchStartEvent;\n        var moveEvent = Browser.touchMoveEvent;\n        var stopEvent = Browser.touchEndEvent;\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        /*! UnBind the Event handler */\n        EventHandler.remove(this.element, startEvent, this.chartOnMouseDown);\n        EventHandler.remove(this.element, moveEvent, this.mouseMove);\n        EventHandler.remove(this.element, stopEvent, this.mouseEnd);\n        EventHandler.remove(this.element, 'click', this.chartOnMouseClick);\n        EventHandler.remove(this.element, 'contextmenu', this.chartRightClick);\n        EventHandler.remove(this.element, cancelEvent, this.mouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.chartResize);\n    };\n    Chart.prototype.wireEvents = function () {\n        /*! Find the Events type */\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        /*! Bind the Event handler */\n        EventHandler.add(this.element, Browser.touchStartEvent, this.chartOnMouseDown, this);\n        EventHandler.add(this.element, Browser.touchMoveEvent, this.mouseMove, this);\n        EventHandler.add(this.element, Browser.touchEndEvent, this.mouseEnd, this);\n        EventHandler.add(this.element, 'click', this.chartOnMouseClick, this);\n        EventHandler.add(this.element, 'contextmenu', this.chartRightClick, this);\n        EventHandler.add(this.element, cancelEvent, this.mouseLeave, this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.chartResize.bind(this));\n        this.longPress = this.longPress.bind(this);\n        new Touch(this.element, { tapHold: this.longPress, tapHoldThreshold: 500 });\n        /*! Apply the style for chart */\n        this.setStyle(this.element);\n    };\n    Chart.prototype.chartRightClick = function (event) {\n        if (this.crosshair.enable && this.crosshairModule &&\n            (event.buttons === 2 || event.which === 0 || event.pointerType === 'touch')) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        return true;\n    };\n    Chart.prototype.setStyle = function (element) {\n        var zooming = this.zoomSettings;\n        var disableScroll = zooming.enableSelectionZooming || zooming.enableMouseWheelZooming || zooming.enablePinchZooming ||\n            this.selectionMode !== 'None' || this.crosshair.enable;\n        element.style.touchAction = disableScroll ? 'none' : 'element';\n        element.style.msTouchAction = disableScroll ? 'none' : 'element';\n        element.style.msContentZooming = 'none';\n        element.style.msUserSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n        element.style.display = 'block';\n    };\n    /**\n     * Finds the orientation.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.isOrientation = function () {\n        return ('orientation' in window && 'onorientationchange' in window);\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.longPress = function (e) {\n        this.mouseX = (e && e.originalEvent.changedTouches) ? (e.originalEvent.changedTouches[0].clientX) : 0;\n        this.mouseY = (e && e.originalEvent.changedTouches) ? (e.originalEvent.changedTouches[0].clientY) : 0;\n        this.startMove = true;\n        this.setMouseXY(this.mouseX, this.mouseY);\n        this.notify('tapHold', e);\n        return false;\n    };\n    /**\n     * To find mouse x, y for aligned chart element svg position\n     */\n    Chart.prototype.setMouseXY = function (pageX, pageY) {\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        this.mouseX = (pageX - rect.left) - Math.max(svgRect.left - rect.left, 0);\n        this.mouseY = (pageY - rect.top) - Math.max(svgRect.top - rect.top, 0);\n    };\n    /**\n     * Handles the chart resize.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartResize = function (e) {\n        var _this = this;\n        this.animateSeries = false;\n        if (this.resizeTo) {\n            clearTimeout(this.resizeTo);\n        }\n        this.resizeTo = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTo);\n                return;\n            }\n            _this.createChartSvg();\n            _this.refreshAxis();\n            _this.refreshBound();\n            _this.trigger('loaded', { chart: _this });\n        }, 500);\n        return false;\n    };\n    /**\n     * Handles the mouse move.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.mouseMove = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        if (e.type === 'touchmove') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2' || this.isTouch;\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        this.setMouseXY(pageX, pageY);\n        this.chartOnMouseMove(e);\n        return false;\n    };\n    /**\n     * Handles the mouse leave.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.mouseLeave = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        if (e.type === 'touchleave') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        this.setMouseXY(pageX, pageY);\n        this.chartOnMouseLeave(e);\n        return false;\n    };\n    /**\n     * Handles the mouse leave on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseLeave = function (e) {\n        var element = e.target;\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.trigger(chartMouseLeave, { target: element.id, x: this.mouseX, y: this.mouseY });\n        this.isChartDrag = false;\n        this.notify(cancelEvent, e);\n        return false;\n    };\n    /**\n     * Handles the mouse click on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseClick = function (e) {\n        var element = e.target;\n        this.trigger(chartMouseClick, { target: element.id, x: this.mouseX, y: this.mouseY });\n        if (this.pointClick) {\n            this.triggerPointEvent(pointClick);\n        }\n        this.notify('click', e);\n        return false;\n    };\n    Chart.prototype.triggerPointEvent = function (event) {\n        var data = new ChartData(this);\n        var pointData = data.getData();\n        if (pointData.series && pointData.point) {\n            this.trigger(event, { series: pointData.series,\n                point: pointData.point,\n                seriesIndex: pointData.series.index, pointIndex: pointData.point.index,\n                x: this.mouseX, y: this.mouseY });\n        }\n    };\n    /**\n     * Handles the mouse move on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseMove = function (e) {\n        var element = e.target;\n        this.trigger(chartMouseMove, { target: element.id, x: this.mouseX, y: this.mouseY });\n        if (this.pointMove) {\n            this.triggerPointEvent(pointMove);\n        }\n        // Tooltip for chart series.\n        if (!this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY);\n            this.axisTooltip(e, this.mouseX, this.mouseY);\n        }\n        this.notify(Browser.touchMoveEvent, e);\n        this.isTouch = false;\n        return false;\n    };\n    Chart.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId === (this.element.id + '_ChartTitle')) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.title, x, y, this.element.offsetWidth, this.element.id + '_EJ2_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_Title_Tooltip');\n        }\n    };\n    Chart.prototype.axisTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if (((targetId.indexOf('AxisLabel') > -1) || targetId.indexOf('Axis_MultiLevelLabel') > -1) &&\n            (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.findAxisLabel(targetId), x, y, this.element.offsetWidth, this.element.id + '_EJ2_AxisLabel_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_AxisLabel_Tooltip');\n        }\n    };\n    Chart.prototype.findAxisLabel = function (text) {\n        var texts;\n        if (text.indexOf('AxisLabel') > -1) {\n            texts = ((text.replace(this.element.id, '')).replace('AxisLabel_', '')).split('_');\n            return this.axisCollections[parseInt(texts[0], 10)].visibleLabels[parseInt(texts[1], 10)].originalText;\n        }\n        else {\n            texts = ((text.replace(this.element.id, '')).replace('Axis_MultiLevelLabel_Level_', '').replace('Text_', '')).split('_');\n            return (this.axisCollections[parseInt(texts[0], 10)].multiLevelLabels[parseInt(texts[1], 10)]\n                .categories[parseInt(texts[2], 10)].text);\n        }\n    };\n    /**\n     * Handles the mouse down on chart.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseDown = function (e) {\n        var pageX;\n        var pageY;\n        var target;\n        var touchArg;\n        var offset = Browser.isDevice ? 20 : 30;\n        var rect = this.element.getBoundingClientRect();\n        var element = e.target;\n        this.trigger(chartMouseDown, { target: element.id, x: this.mouseX, y: this.mouseY });\n        if (e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n            target = touchArg.target;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch';\n            pageX = e.clientX;\n            pageY = e.clientY;\n            target = e.target;\n        }\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        this.mouseDownX = this.previousMouseMoveX = (pageX - rect.left) - Math.max(svgRect.left - rect.left, 0);\n        this.mouseDownY = this.previousMouseMoveY = (pageY - rect.top) - Math.max(svgRect.top - rect.top, 0);\n        if (this.isTouch) {\n            this.isDoubleTap = (new Date().getTime() < this.threshold && target.id.indexOf(this.element.id + '_Zooming_') === -1 &&\n                (this.mouseDownX - offset >= this.mouseX || this.mouseDownX + offset >= this.mouseX) &&\n                (this.mouseDownY - offset >= this.mouseY || this.mouseDownY + offset >= this.mouseY) &&\n                (this.mouseX - offset >= this.mouseDownX || this.mouseX + offset >= this.mouseDownX) &&\n                (this.mouseY - offset >= this.mouseDownY || this.mouseY + offset >= this.mouseDownY));\n        }\n        this.notify(Browser.touchStartEvent, e);\n        return false;\n    };\n    /**\n     * Handles the mouse up.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.mouseEnd = function (e) {\n        var pageY;\n        var pageX;\n        var touchArg;\n        if (e.type === 'touchend') {\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            this.isTouch = true;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            pageY = e.clientY;\n            pageX = e.clientX;\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n        }\n        this.setMouseXY(pageX, pageY);\n        this.chartOnMouseUp(e);\n        return false;\n    };\n    /**\n     * Handles the mouse up.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.chartOnMouseUp = function (e) {\n        var element = e.target;\n        this.trigger(chartMouseUp, { target: element.id, x: this.mouseX, y: this.mouseY });\n        this.isChartDrag = false;\n        if (this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n            this.axisTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n            this.threshold = new Date().getTime() + 300;\n        }\n        this.seriesElements.removeAttribute('clip-path');\n        this.notify(Browser.touchEndEvent, e);\n        return false;\n    };\n    /**\n     * Method to set culture for chart\n     */\n    Chart.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n        this.setLocaleConstants();\n        this.localeObject = new L10n(this.getModuleName(), this.defaultLocalConstants, this.locale);\n    };\n    /**\n     * Method to set the annotation content dynamically for chart.\n     */\n    Chart.prototype.setAnnotationValue = function (annotationIndex, content) {\n        var parentNode = getElement(this.element.id + '_Annotation_Collections');\n        var annotation = this.annotations[annotationIndex];\n        var element;\n        if (content !== null) {\n            annotation.content = content;\n            if (parentNode) {\n                removeElement(this.element.id + '_Annotation_' + annotationIndex);\n                element = createElement('div');\n                this.annotationModule.processAnnotation(annotation, annotationIndex, element);\n                parentNode.appendChild(element.children[0]);\n            }\n            else {\n                this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n            }\n        }\n    };\n    /**\n     * Method to set locale constants\n     */\n    Chart.prototype.setLocaleConstants = function () {\n        this.defaultLocalConstants = {\n            ZoomIn: 'ZoomIn',\n            Zoom: 'Zoom',\n            ZoomOut: 'ZoomOut',\n            Pan: 'Pan',\n            Reset: 'Reset',\n            ResetZoom: 'Reset Zoom'\n        };\n    };\n    /**\n     * Theming for chart\n     */\n    Chart.prototype.setTheme = function () {\n        /*! Set theme */\n        this.themeStyle = getThemeColor(this.theme);\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return {ModuleDeclaration[]}\n     * @private\n     */\n    Chart.prototype.requiredModules = function () {\n        var _this = this;\n        var modules = [];\n        var series = this.series;\n        var enableAnnotation = false;\n        var moduleName;\n        var errorBarVisible = false;\n        var dataLabelEnable = false;\n        var zooming = this.zoomSettings;\n        this.chartAreaType = (series.length > 0 && (series[0].type === 'Polar' || series[0].type === 'Radar')) ? 'PolarRadar' : 'Cartesian';\n        if (this.tooltip.enable) {\n            modules.push({\n                member: 'Tooltip',\n                args: [this]\n            });\n        }\n        series.map(function (value) {\n            _this.isLegend = (_this.legendSettings.visible && ((value.name !== '') || !!_this.isLegend));\n            moduleName = value.type.indexOf('100') !== -1 ? value.type.replace('100', '') + 'Series' : value.type + 'Series';\n            errorBarVisible = value.errorBar.visible || errorBarVisible;\n            dataLabelEnable = value.marker.dataLabel.visible || dataLabelEnable;\n            if (!modules.some(function (currentModule) {\n                return currentModule.member === moduleName;\n            })) {\n                modules.push({\n                    member: moduleName,\n                    args: [_this, series]\n                });\n            }\n            if (_this.chartAreaType === 'PolarRadar') {\n                modules.push({\n                    member: value.drawType + 'Series',\n                    args: [_this, series]\n                });\n            }\n        });\n        this.findIndicatorModules(modules);\n        this.findTrendLineModules(modules);\n        modules = this.findAxisModule(modules);\n        enableAnnotation = this.annotations.some(function (value) {\n            return (value.content !== null);\n        });\n        if (errorBarVisible) {\n            modules.push({\n                member: 'ErrorBar',\n                args: [this, series]\n            });\n        }\n        if (this.isLegend) {\n            modules.push({\n                member: 'Legend',\n                args: [this]\n            });\n        }\n        if (this.chartAreaType !== 'PolarRadar' && (zooming.enableSelectionZooming\n            || zooming.enableMouseWheelZooming || zooming.enablePinchZooming || zooming.enablePan)) {\n            modules.push({\n                member: 'Zoom',\n                args: [this, this.zoomSettings]\n            });\n        }\n        if (this.selectionMode !== 'None' && !(this.chartAreaType === 'PolarRadar' &&\n            this.selectionMode.indexOf('Drag') > -1)) {\n            modules.push({\n                member: 'Selection',\n                args: [this]\n            });\n        }\n        if (dataLabelEnable) {\n            modules.push({\n                member: 'DataLabel',\n                args: [this, series]\n            });\n        }\n        if (enableAnnotation) {\n            modules.push({\n                member: 'Annotation',\n                args: [this, this.annotations]\n            });\n        }\n        if (this.chartAreaType !== 'PolarRadar' && this.crosshair.enable) {\n            modules.push({\n                member: 'Crosshair',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    Chart.prototype.findAxisModule = function (modules) {\n        var axisCollections = [];\n        axisCollections.push(this.primaryXAxis);\n        axisCollections.push(this.primaryYAxis);\n        axisCollections = axisCollections.concat(this.axes);\n        var datetimeEnabled = false;\n        var categoryEnabled = false;\n        var logarithmicEnabled = false;\n        var striplineEnabled = false;\n        var dateTimeCategoryEnabled = false;\n        var multiLevelEnabled = false;\n        for (var _i = 0, axisCollections_1 = axisCollections; _i < axisCollections_1.length; _i++) {\n            var axis = axisCollections_1[_i];\n            datetimeEnabled = axis.valueType === 'DateTime' || datetimeEnabled;\n            categoryEnabled = axis.valueType === 'Category' || categoryEnabled;\n            logarithmicEnabled = axis.valueType === 'Logarithmic' || logarithmicEnabled;\n            dateTimeCategoryEnabled = axis.valueType === 'DateTimeCategory' || dateTimeCategoryEnabled;\n            striplineEnabled = this.findStriplineVisibility(axis.stripLines) || striplineEnabled;\n            multiLevelEnabled = axis.multiLevelLabels.length > 0 || multiLevelEnabled;\n        }\n        if (datetimeEnabled) {\n            modules.push({\n                member: 'DateTime',\n                args: [this]\n            });\n        }\n        if (categoryEnabled) {\n            modules.push({\n                member: 'Category',\n                args: [this]\n            });\n        }\n        if (logarithmicEnabled) {\n            modules.push({\n                member: 'Logarithmic',\n                args: [this]\n            });\n        }\n        if (striplineEnabled) {\n            modules.push({\n                member: 'StripLine',\n                args: [this]\n            });\n        }\n        if (multiLevelEnabled) {\n            modules.push({\n                member: 'MultiLevelLabel',\n                args: [this]\n            });\n        }\n        if (dateTimeCategoryEnabled) {\n            modules.push({\n                member: 'DateTimeCategory',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    Chart.prototype.findIndicatorModules = function (modules) {\n        var macdEnable;\n        var bandEnable;\n        var indicators = this.indicators;\n        if (this.indicators.length) {\n            modules.push({\n                member: 'LineSeries',\n                args: [this]\n            });\n            indicators.map(function (indicator) {\n                macdEnable = macdEnable || indicator.type === 'Macd';\n                bandEnable = bandEnable || indicator.type === 'BollingerBands';\n            });\n            if (macdEnable) {\n                modules.push({\n                    member: 'ColumnSeries',\n                    args: [this]\n                });\n            }\n            if (bandEnable) {\n                modules.push({\n                    member: 'RangeAreaSeries',\n                    args: [this]\n                });\n            }\n            for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n                var indicator = _a[_i];\n                modules.push({\n                    member: indicator.type + 'Indicator',\n                    args: [this]\n                });\n            }\n        }\n    };\n    Chart.prototype.findTrendLineModules = function (modules) {\n        var isLine;\n        var isSpline;\n        var _loop_1 = function (series) {\n            var markerEnable;\n            series.trendlines.map(function (trendline) {\n                markerEnable = markerEnable || trendline.marker.visible;\n                isLine = isLine || (trendline.type === 'Linear' || trendline.type === 'MovingAverage') ? true : false;\n                isSpline = isSpline || !isLine ? true : false;\n            });\n            if (markerEnable) {\n                modules.push({\n                    member: 'Marker',\n                    args: [this_1, series]\n                });\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n            var series = _a[_i];\n            _loop_1(series);\n        }\n        if (isLine || isSpline) {\n            modules.push({\n                member: 'TrendLine',\n                args: [this]\n            });\n        }\n        if (isLine) {\n            modules.push({\n                member: 'LineSeries',\n                args: [this]\n            });\n        }\n        if (isSpline) {\n            modules.push({\n                member: 'SplineSeries',\n                args: [this]\n            });\n        }\n    };\n    Chart.prototype.findStriplineVisibility = function (striplines) {\n        var visible = false;\n        for (var _i = 0, striplines_1 = striplines; _i < striplines_1.length; _i++) {\n            var stripline = striplines_1[_i];\n            if (stripline.visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * To Remove the SVG.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.removeSvg = function () {\n        if (document.getElementById(this.element.id + '_Secondary_Element')) {\n            remove(document.getElementById(this.element.id + '_Secondary_Element'));\n        }\n        var removeLength = 0;\n        if (this.zoomModule && this.zoomModule.pinchTarget) {\n            this.zoomModule.pinchTarget.id = '';\n            this.zoomModule.pinchTarget.setAttribute('opacity', '0');\n            this.svgObject.appendChild(this.zoomModule.pinchTarget);\n            removeLength = 1;\n        }\n        if (this.svgObject) {\n            while (this.svgObject.childNodes.length > removeLength) {\n                this.svgObject.removeChild(this.svgObject.firstChild);\n            }\n            if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode) {\n                remove(this.svgObject);\n            }\n        }\n    };\n    Chart.prototype.refreshDefinition = function (definitions) {\n        for (var _i = 0, definitions_1 = definitions; _i < definitions_1.length; _i++) {\n            var item = definitions_1[_i];\n            item.axes = [];\n        }\n    };\n    /**\n     * Refresh the axis default value.\n     * @return {boolean}\n     * @private\n     */\n    Chart.prototype.refreshAxis = function () {\n        var axis = this.primaryXAxis;\n        axis.rect = new Rect(undefined, undefined, 0, 0);\n        axis = this.primaryYAxis;\n        axis.isStack100 = false;\n        axis.rect = new Rect(undefined, undefined, 0, 0);\n        for (var _i = 0, _a = this.axes; _i < _a.length; _i++) {\n            var item = _a[_i];\n            axis = item;\n            axis.rect = new Rect(undefined, undefined, 0, 0);\n            axis.isStack100 = false;\n        }\n    };\n    Chart.prototype.axisChange = function (axis) {\n        if (!axis.name && !axis.valueType) {\n            return false;\n        }\n        this.refreshDefinition(this.columns);\n        this.refreshDefinition(this.rows);\n        this.calculateVisibleAxis();\n        this.processData();\n        return true;\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    Chart.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var renderer = false;\n        var refreshBounds = false;\n        if (Object.keys(newProp).length === 1 && Object.keys(newProp)[0] === 'indicators') {\n            //add valid check, it should happen only when property change is triggered for target series\n            return;\n        }\n        this.animateSeries = false;\n        if (!this.delayRedraw) {\n            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'primaryXAxis':\n                        refreshBounds = this.axisChange(newProp.primaryXAxis);\n                        if (newProp.primaryXAxis.edgeLabelPlacement) {\n                            renderer = true;\n                        }\n                        if (!newProp.primaryXAxis.crosshairTooltip) {\n                            refreshBounds = true;\n                        }\n                        break;\n                    case 'primaryYAxis':\n                        refreshBounds = this.axisChange(newProp.primaryYAxis);\n                        if (newProp.primaryYAxis.edgeLabelPlacement) {\n                            renderer = true;\n                        }\n                        if (!newProp.primaryYAxis.crosshairTooltip) {\n                            refreshBounds = true;\n                        }\n                        break;\n                    case 'height':\n                    case 'width':\n                        this.createChartSvg();\n                        refreshBounds = true;\n                        break;\n                    case 'title':\n                        refreshBounds = true;\n                        break;\n                    case 'titleStyle':\n                        if (newProp.titleStyle && (newProp.titleStyle.size || newProp.titleStyle.textOverflow)) {\n                            refreshBounds = true;\n                        }\n                        else {\n                            renderer = true;\n                        }\n                        break;\n                    case 'border':\n                        renderer = true;\n                        break;\n                    case 'zoomSettings':\n                    case 'background':\n                        renderer = true;\n                        break;\n                    case 'chartArea':\n                        if (newProp.chartArea.border && newProp.chartArea.border.width) {\n                            refreshBounds = true;\n                        }\n                        renderer = true;\n                        break;\n                    case 'legendSettings':\n                        if (!newProp.legendSettings.background || !newProp.legendSettings.opacity) {\n                            refreshBounds = true;\n                        }\n                        renderer = true;\n                        break;\n                    case 'palettes':\n                        this.calculateVisibleSeries();\n                        renderer = true;\n                        break;\n                    case 'selectedDataIndexes':\n                    case 'selectionMode':\n                        if (this.selectionModule && newProp.selectionMode && newProp.selectionMode.indexOf('Drag') === -1) {\n                            this.selectionModule.redrawSelection(this, oldProp.selectionMode);\n                        }\n                        break;\n                    case 'isMultiSelect':\n                        if (this.selectionModule && !newProp.isMultiSelect && this.selectionModule.selectedDataIndexes.length > 1) {\n                            this.selectionModule.redrawSelection(this, oldProp.selectionMode);\n                        }\n                        break;\n                    case 'theme':\n                        this.animateSeries = true;\n                        break;\n                    case 'locale':\n                    case 'currencyCode':\n                        _super.prototype.refresh.call(this);\n                        break;\n                    case 'tooltip':\n                        this.tooltipModule.previousPoints = [];\n                        break;\n                }\n            }\n            if (!refreshBounds && renderer) {\n                this.removeSvg();\n                this.renderElements();\n                this.trigger('loaded', { chart: this });\n            }\n            if (refreshBounds) {\n                this.removeSvg();\n                this.refreshAxis();\n                this.refreshBound();\n                this.trigger('loaded', { chart: this });\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Chart.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.chartTitleFont, Font)\n    ], Chart.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], Chart.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\n    ], Chart.prototype, \"border\", void 0);\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"background\", void 0);\n    __decorate([\n        Complex({ border: { color: null, width: 0.5 }, background: 'transparent' }, ChartArea)\n    ], Chart.prototype, \"chartArea\", void 0);\n    __decorate([\n        Complex({ name: 'primaryXAxis' }, Axis)\n    ], Chart.prototype, \"primaryXAxis\", void 0);\n    __decorate([\n        Complex({ name: 'primaryYAxis' }, Axis)\n    ], Chart.prototype, \"primaryYAxis\", void 0);\n    __decorate([\n        Collection([{}], Row)\n    ], Chart.prototype, \"rows\", void 0);\n    __decorate([\n        Collection([{}], Column)\n    ], Chart.prototype, \"columns\", void 0);\n    __decorate([\n        Collection([{}], Axis)\n    ], Chart.prototype, \"axes\", void 0);\n    __decorate([\n        Collection([{}], Series)\n    ], Chart.prototype, \"series\", void 0);\n    __decorate([\n        Collection([{}], ChartAnnotationSettings)\n    ], Chart.prototype, \"annotations\", void 0);\n    __decorate([\n        Property([])\n    ], Chart.prototype, \"palettes\", void 0);\n    __decorate([\n        Property('Material')\n    ], Chart.prototype, \"theme\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Chart.prototype, \"tooltip\", void 0);\n    __decorate([\n        Complex({}, CrosshairSettings)\n    ], Chart.prototype, \"crosshair\", void 0);\n    __decorate([\n        Complex({}, LegendSettings)\n    ], Chart.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, ZoomSettings)\n    ], Chart.prototype, \"zoomSettings\", void 0);\n    __decorate([\n        Property('None')\n    ], Chart.prototype, \"selectionMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Chart.prototype, \"isMultiSelect\", void 0);\n    __decorate([\n        Collection([], Indexes)\n    ], Chart.prototype, \"selectedDataIndexes\", void 0);\n    __decorate([\n        Property(false)\n    ], Chart.prototype, \"useGroupingSeparator\", void 0);\n    __decorate([\n        Property(false)\n    ], Chart.prototype, \"isTransposed\", void 0);\n    __decorate([\n        Collection([], TechnicalIndicator)\n    ], Chart.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], Chart.prototype, \"description\", void 0);\n    __decorate([\n        Property(1)\n    ], Chart.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Property(true)\n    ], Chart.prototype, \"enableSideBySidePlacement\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"annotationRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"animationComplete\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"legendRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"textRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"pointRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"seriesRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"axisLabelRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"axisRangeCalculated\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"axisMultiLabelRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseClick\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"pointClick\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"pointMove\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseLeave\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseDown\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"chartMouseUp\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"dragComplete\", void 0);\n    __decorate([\n        Event()\n    ], Chart.prototype, \"zoomComplete\", void 0);\n    __decorate([\n        Property('USD')\n    ], Chart.prototype, \"currencyCode\", void 0);\n    Chart = __decorate([\n        NotifyPropertyChanges\n    ], Chart);\n    return Chart;\n}(Component));\nexport { Chart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Double } from '../axis/double-axis';\n/**\n * Common axis classes\n * @private\n */\nvar NiceInterval = /** @class */ (function (_super) {\n    __extends(NiceInterval, _super);\n    function NiceInterval() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Method to calculate numeric datetime interval\n     */\n    NiceInterval.prototype.calculateDateTimeNiceInterval = function (axis, size, start, end) {\n        var oneDay = 24 * 60 * 60 * 1000;\n        var startDate = new Date(start);\n        var endDate = new Date(end);\n        //var axisInterval ;\n        var totalDays = (Math.abs((startDate.getTime() - endDate.getTime()) / (oneDay)));\n        var interval;\n        axis.actualIntervalType = axis.intervalType;\n        switch (axis.intervalType) {\n            case 'Years':\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 365, size);\n                break;\n            case 'Months':\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 30, size);\n                break;\n            case 'Days':\n                interval = this.calculateNumericNiceInterval(axis, totalDays, size);\n                break;\n            case 'Hours':\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24, size);\n                break;\n            case 'Minutes':\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60, size);\n                break;\n            case 'Seconds':\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60 * 60, size);\n                break;\n            case 'Auto':\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 365, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Years';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays / 30, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Months';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Days';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Hours';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60, size);\n                if (interval >= 1) {\n                    axis.actualIntervalType = 'Minutes';\n                    return interval;\n                }\n                interval = this.calculateNumericNiceInterval(axis, totalDays * 24 * 60 * 60, size);\n                axis.actualIntervalType = 'Seconds';\n                return interval;\n        }\n        return interval;\n    };\n    /**\n     * To get the skeleton for the DateTime axis.\n     * @return {string}\n     *  @private\n     */\n    NiceInterval.prototype.getSkeleton = function (axis) {\n        var skeleton;\n        if (axis.skeleton) {\n            return axis.skeleton;\n        }\n        if (axis.actualIntervalType === 'Years') {\n            skeleton = 'yMMM';\n        }\n        else if (axis.actualIntervalType === 'Months') {\n            skeleton = 'MMMd';\n        }\n        else if (axis.actualIntervalType === 'Days') {\n            skeleton = 'yMd';\n        }\n        else if (axis.actualIntervalType === 'Hours') {\n            skeleton = 'EHm';\n        }\n        else if (axis.actualIntervalType === 'Minutes' || axis.actualIntervalType === 'Seconds') {\n            skeleton = 'Hms';\n        }\n        else {\n            skeleton = 'Hms';\n        }\n        return skeleton;\n    };\n    return NiceInterval;\n}(Double));\nexport { NiceInterval };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DoubleRange } from '../utils/double-range';\nimport { withIn, firstToLowerCase } from '../../common/utils/helper';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { NiceInterval } from '../axis/axis-helper';\n/**\n * `DateTime` module is used to render datetime axis.\n */\nvar DateTime = /** @class */ (function (_super) {\n    __extends(DateTime, _super);\n    /**\n     * Constructor for the dateTime module.\n     * @private\n     */\n    function DateTime(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     */\n    DateTime.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis);\n    };\n    /**\n     * Actual Range for the axis.\n     * @private\n     */\n    DateTime.prototype.getActualRange = function (axis, size) {\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = this.chart.intl.getDateParser(option);\n        var dateFormatter = this.chart.intl.getDateFormat(option);\n        // Axis min\n        if ((axis.minimum) !== null) {\n            this.min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: axis.minimum }).val))));\n        }\n        else if (this.min === null || this.min === Number.POSITIVE_INFINITY) {\n            this.min = Date.parse(dateParser(dateFormatter(new Date(1970, 1, 1))));\n        }\n        // Axis Max\n        if ((axis.maximum) !== null) {\n            this.max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: axis.maximum }).val))));\n        }\n        else if (this.max === null || this.max === Number.NEGATIVE_INFINITY) {\n            this.max = Date.parse(dateParser(dateFormatter(new Date(1970, 5, 1))));\n        }\n        if (this.min === this.max) {\n            this.max = this.max + 2592000000;\n            this.min = this.min - 2592000000;\n        }\n        axis.actualRange = {};\n        axis.doubleRange = new DoubleRange(this.min, this.max);\n        var datetimeInterval = this.calculateDateTimeNiceInterval(axis, size, axis.doubleRange.start, axis.doubleRange.end);\n        if (!axis.interval) {\n            axis.actualRange.interval = datetimeInterval;\n        }\n        else {\n            axis.actualRange.interval = axis.interval;\n        }\n        axis.actualRange.min = axis.doubleRange.start;\n        axis.actualRange.max = axis.doubleRange.end;\n    };\n    /**\n     * Apply padding for the range.\n     * @private\n     */\n    DateTime.prototype.applyRangePadding = function (axis, size) {\n        this.start = (axis.actualRange.min);\n        this.end = (axis.actualRange.max);\n        var minimum;\n        var maximum;\n        var interval = axis.actualRange.interval;\n        if (!axis.setRange()) {\n            var rangePadding = axis.getRangePadding(this.chart);\n            minimum = new Date(this.start);\n            maximum = new Date(this.end);\n            var intervalType = axis.actualIntervalType;\n            if (rangePadding === 'None') {\n                this.start = minimum.getTime();\n                this.end = maximum.getTime();\n            }\n            else if (rangePadding === 'Additional' || rangePadding === 'Round') {\n                switch (intervalType) {\n                    case 'Years':\n                        this.getYear(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Months':\n                        this.getMonth(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Days':\n                        this.getDay(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Hours':\n                        this.getHour(minimum, maximum, rangePadding, interval);\n                        break;\n                    case 'Minutes':\n                        var minute = (minimum.getMinutes() / interval) * interval;\n                        var endMinute = maximum.getMinutes() + (minimum.getMinutes() - minute);\n                        if (rangePadding === 'Round') {\n                            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), minimum.getHours(), minute, 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), endMinute, 59)).getTime();\n                        }\n                        else {\n                            this.start = (new Date(minimum.getFullYear(), maximum.getMonth(), minimum.getDate(), minimum.getHours(), minute + (-interval), 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), endMinute + (interval), 0)).getTime();\n                        }\n                        break;\n                    case 'Seconds':\n                        var second = (minimum.getSeconds() / interval) * interval;\n                        var endSecond = maximum.getSeconds() + (minimum.getSeconds() - second);\n                        if (rangePadding === 'Round') {\n                            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), minimum.getHours(), minimum.getMinutes(), second, 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), maximum.getMinutes(), endSecond, 0)).getTime();\n                        }\n                        else {\n                            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), minimum.getHours(), minimum.getMinutes(), second + (-interval), 0)).getTime();\n                            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), maximum.getHours(), maximum.getMinutes(), endSecond + (interval), 0)).getTime();\n                        }\n                        break;\n                }\n            }\n        }\n        axis.actualRange.min = (axis.minimum != null) ? this.min : this.start;\n        axis.actualRange.max = (axis.maximum != null) ? this.max : this.end;\n        axis.actualRange.delta = (axis.actualRange.max - axis.actualRange.min);\n        axis.doubleRange = new DoubleRange(axis.actualRange.min, axis.actualRange.max);\n        this.calculateVisibleRange(size, axis);\n    };\n    DateTime.prototype.getYear = function (minimum, maximum, rangePadding, interval) {\n        var startYear = minimum.getFullYear();\n        var endYear = maximum.getFullYear();\n        if (rangePadding === 'Additional') {\n            this.start = (new Date(startYear - interval, 1, 1, 0, 0, 0)).getTime();\n            this.end = (new Date(endYear + interval, 1, 1, 0, 0, 0)).getTime();\n        }\n        else {\n            this.start = new Date(startYear, 0, 0, 0, 0, 0).getTime();\n            this.end = new Date(endYear, 11, 30, 23, 59, 59).getTime();\n        }\n    };\n    DateTime.prototype.getMonth = function (minimum, maximum, rangePadding, interval) {\n        var month = minimum.getMonth();\n        var endMonth = maximum.getMonth();\n        if (rangePadding === 'Round') {\n            this.start = (new Date(minimum.getFullYear(), month, 0, 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), endMonth, new Date(maximum.getFullYear(), maximum.getMonth(), 0).getDate(), 23, 59, 59)).getTime();\n        }\n        else {\n            this.start = (new Date(minimum.getFullYear(), month + (-interval), 1, 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), endMonth + (interval), endMonth === 2 ? 28 : 30, 0, 0, 0)).getTime();\n        }\n    };\n    DateTime.prototype.getDay = function (minimum, maximum, rangePadding, interval) {\n        var day = minimum.getDate();\n        var endDay = maximum.getDate();\n        if (rangePadding === 'Round') {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), day, 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), endDay, 23, 59, 59)).getTime();\n        }\n        else {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), day + (-interval), 0, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), endDay + (interval), 0, 0, 0)).getTime();\n        }\n    };\n    DateTime.prototype.getHour = function (minimum, maximum, rangePadding, interval) {\n        var hour = (minimum.getHours() / interval) * interval;\n        var endHour = maximum.getHours() + (minimum.getHours() - hour);\n        if (rangePadding === 'Round') {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), hour, 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), endHour, 59, 59)).getTime();\n        }\n        else {\n            this.start = (new Date(minimum.getFullYear(), minimum.getMonth(), minimum.getDate(), hour + (-interval), 0, 0)).getTime();\n            this.end = (new Date(maximum.getFullYear(), maximum.getMonth(), maximum.getDate(), endHour + (interval), 0, 0)).getTime();\n        }\n    };\n    /**\n     * Calculate visible range for axis.\n     * @private\n     */\n    DateTime.prototype.calculateVisibleRange = function (size, axis) {\n        axis.visibleRange = {\n            min: axis.actualRange.min,\n            max: axis.actualRange.max,\n            interval: axis.actualRange.interval,\n            delta: axis.actualRange.delta,\n        };\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            axis.calculateVisibleRange(size);\n            axis.visibleRange.interval = (axis.enableAutoIntervalOnZooming) ?\n                this.calculateDateTimeNiceInterval(axis, size, axis.visibleRange.min, axis.visibleRange.max)\n                : axis.visibleRange.interval;\n        }\n        axis.dateTimeInterval = this.increaseDateTimeInterval(axis, axis.visibleRange.min, axis.visibleRange.interval).getTime()\n            - axis.visibleRange.min;\n        axis.triggerRangeRender(this.chart, axis.visibleRange.min, axis.visibleRange.max, axis.visibleRange.interval);\n    };\n    /**\n     * Calculate visible labels for the axis.\n     * @private\n     */\n    DateTime.prototype.calculateVisibleLabels = function (axis) {\n        axis.visibleLabels = [];\n        var tempInterval = axis.visibleRange.min;\n        if (!axis.setRange()) {\n            tempInterval = this.alignRangeStart(axis, tempInterval, axis.visibleRange.interval, axis.actualIntervalType).getTime();\n        }\n        axis.format = this.chart.intl.getDateFormat({\n            format: axis.labelFormat, type: firstToLowerCase(axis.skeletonType), skeleton: this.getSkeleton(axis)\n        });\n        axis.startLabel = axis.format(new Date(axis.visibleRange.min));\n        axis.endLabel = axis.format(new Date(axis.visibleRange.max));\n        while (tempInterval <= axis.visibleRange.max) {\n            if (withIn(tempInterval, axis.visibleRange)) {\n                axis.triggerLabelRender(this.chart, tempInterval, axis.format(new Date(tempInterval)), axis.labelStyle);\n            }\n            tempInterval = this.increaseDateTimeInterval(axis, tempInterval, axis.visibleRange.interval).getTime();\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /** @private */\n    DateTime.prototype.increaseDateTimeInterval = function (axis, value, interval) {\n        var result = new Date(value);\n        interval = Math.ceil(interval);\n        switch (axis.actualIntervalType) {\n            case 'Years':\n                result.setFullYear(result.getFullYear() + interval);\n                return result;\n            case 'Months':\n                result.setMonth(result.getMonth() + interval);\n                return result;\n            case 'Days':\n                result.setDate(result.getDate() + interval);\n                return result;\n            case 'Hours':\n                result.setHours(result.getHours() + interval);\n                return result;\n            case 'Minutes':\n                result.setMinutes(result.getMinutes() + interval);\n                return result;\n            case 'Seconds':\n                result.setSeconds(result.getSeconds() + interval);\n                return result;\n        }\n        return result;\n    };\n    DateTime.prototype.alignRangeStart = function (axis, sDate, intervalSize, intervalType) {\n        var sResult = new Date(sDate);\n        switch (axis.actualIntervalType) {\n            case 'Years':\n                var year = Math.floor(Math.floor(sResult.getFullYear() / intervalSize) * intervalSize);\n                sResult = new Date(year, sResult.getMonth(), sResult.getDate(), 0, 0, 0);\n                return sResult;\n            case 'Months':\n                var month = Math.floor(Math.floor((sResult.getMonth()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), month, sResult.getDate(), 0, 0, 0);\n                return sResult;\n            case 'Days':\n                var day = Math.floor(Math.floor((sResult.getDate()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), day, 0, 0, 0);\n                return sResult;\n            case 'Hours':\n                var hour = Math.floor(Math.floor((sResult.getHours()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), sResult.getDate(), hour, 0, 0);\n                return sResult;\n            case 'Minutes':\n                var minutes = Math.floor(Math.floor((sResult.getMinutes()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), sResult.getDate(), sResult.getHours(), minutes, 0, 0);\n                return sResult;\n            case 'Seconds':\n                var seconds = Math.floor(Math.floor((sResult.getSeconds()) / intervalSize) * intervalSize);\n                sResult = new Date(sResult.getFullYear(), sResult.getMonth(), sResult.getDate(), sResult.getHours(), sResult.getMinutes(), seconds, 0);\n                return sResult;\n        }\n        return sResult;\n    };\n    /**\n     * Get module name\n     */\n    DateTime.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'DateTime';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    DateTime.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return DateTime;\n}(NiceInterval));\nexport { DateTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DoubleRange } from '../utils/double-range';\nimport { withIn } from '../../common/utils/helper';\nimport { NiceInterval } from '../axis/axis-helper';\n/**\n * `Category` module is used to render category axis.\n */\nvar Category = /** @class */ (function (_super) {\n    __extends(Category, _super);\n    /**\n     * Constructor for the category module.\n     * @private\n     */\n    function Category(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     */\n    Category.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis);\n    };\n    /**\n     * Actual Range for the axis.\n     * @private\n     */\n    Category.prototype.getActualRange = function (axis, size) {\n        this.initializeDoubleRange(axis);\n        // axis.doubleRange = new DoubleRange(<number>this.min, <number>this.max);\n        axis.actualRange = {};\n        if (!axis.interval) {\n            axis.actualRange.interval = Math.max(1, Math.floor(axis.doubleRange.delta / axis.getActualDesiredIntervalsCount(size)));\n        }\n        else {\n            axis.actualRange.interval = Math.ceil(axis.interval);\n        }\n        axis.actualRange.min = axis.doubleRange.start;\n        axis.actualRange.max = axis.doubleRange.end;\n        axis.actualRange.delta = axis.doubleRange.delta;\n    };\n    /**\n     * Padding for the axis.\n     * @private\n     */\n    Category.prototype.applyRangePadding = function (axis, size) {\n        var ticks = (axis.labelPlacement === 'BetweenTicks' && this.chart.chartAreaType !== 'PolarRadar') ? 0.5 : 0;\n        if (ticks > 0) {\n            axis.actualRange.min -= ticks;\n            axis.actualRange.max += ticks;\n        }\n        else {\n            axis.actualRange.max += axis.actualRange.max ? 0 : 0.5;\n        }\n        axis.doubleRange = new DoubleRange(axis.actualRange.min, axis.actualRange.max);\n        axis.actualRange.delta = axis.doubleRange.delta;\n        this.calculateVisibleRange(size, axis);\n    };\n    /**\n     * Calculate label for the axis.\n     * @private\n     */\n    Category.prototype.calculateVisibleLabels = function (axis) {\n        /*! Generate axis labels */\n        axis.visibleLabels = [];\n        var tempInterval = Math.ceil(axis.visibleRange.min);\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            tempInterval = axis.visibleRange.min - (axis.visibleRange.min % axis.visibleRange.interval);\n        }\n        var position;\n        axis.startLabel = axis.labels[Math.round(axis.visibleRange.min)];\n        axis.endLabel = axis.labels[Math.floor(axis.visibleRange.max)];\n        for (; tempInterval <= axis.visibleRange.max; tempInterval += axis.visibleRange.interval) {\n            if (withIn(tempInterval, axis.visibleRange) && axis.labels.length > 0) {\n                position = Math.round(tempInterval);\n                axis.triggerLabelRender(this.chart, position, axis.labels[position] ? axis.labels[position] : position.toString(), axis.labelStyle);\n            }\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /**\n     * Get module name\n     */\n    Category.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Category';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    Category.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Category;\n}(NiceInterval));\nexport { Category };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Double } from '../axis/double-axis';\nimport { logBase, withIn } from '../../common/utils/helper';\n/**\n * `Logarithmic` module is used to render log axis.\n */\nvar Logarithmic = /** @class */ (function (_super) {\n    __extends(Logarithmic, _super);\n    /**\n     * Constructor for the logerithmic module.\n     * @private\n     */\n    function Logarithmic(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The method to calculate the range and labels for the axis.\n     * @return {void}\n     */\n    Logarithmic.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.calculateVisibleRange(size, axis);\n        this.calculateVisibleLabels(axis, this.chart);\n    };\n    /**\n     * Calculates actual range for the axis.\n     * @private\n     */\n    Logarithmic.prototype.getActualRange = function (axis, size) {\n        this.initializeDoubleRange(axis);\n        this.min = this.min < 0 ? 0 : this.min;\n        var logStart = logBase(this.min, axis.logBase);\n        logStart = isFinite(logStart) ? logStart : this.min;\n        var logEnd = logBase(this.max, axis.logBase);\n        logEnd = isFinite(logStart) ? logEnd : this.max;\n        this.min = Math.floor(logStart / 1);\n        this.max = Math.ceil(logEnd / 1);\n        axis.actualRange.interval = axis.interval || this.calculateLogNiceInterval(this.max - this.min, size, axis);\n        axis.actualRange.min = this.min;\n        axis.actualRange.max = this.max;\n        axis.actualRange.delta = this.max - this.min;\n    };\n    /**\n     * Calculates visible range for the axis.\n     * @private\n     */\n    Logarithmic.prototype.calculateVisibleRange = function (size, axis) {\n        axis.visibleRange = {\n            interval: axis.actualRange.interval, max: axis.actualRange.max,\n            min: axis.actualRange.min, delta: axis.actualRange.delta\n        };\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            axis.calculateVisibleRange(size);\n            axis.visibleRange.interval = (axis.enableAutoIntervalOnZooming) ?\n                this.calculateLogNiceInterval(axis.doubleRange.delta, size, axis)\n                : axis.visibleRange.interval;\n            axis.visibleRange.interval = Math.floor(axis.visibleRange.interval) === 0 ? 1 : Math.floor(axis.visibleRange.interval);\n            axis.triggerRangeRender(this.chart, axis.visibleRange.min, axis.visibleRange.max, axis.visibleRange.interval);\n        }\n    };\n    /**\n     * Calculates log iInteval for the axis.\n     * @private\n     */\n    Logarithmic.prototype.calculateLogNiceInterval = function (delta, size, axis) {\n        var actualDesiredIntervalsCount = axis.getActualDesiredIntervalsCount(size);\n        var niceInterval = delta;\n        var minInterval = Math.pow(10, Math.floor(logBase(niceInterval, 10)));\n        for (var j = 0, len = axis.intervalDivs.length; j < len; j++) {\n            var currentInterval = minInterval * axis.intervalDivs[j];\n            if (actualDesiredIntervalsCount < (delta / currentInterval)) {\n                break;\n            }\n            niceInterval = currentInterval;\n        }\n        return niceInterval;\n    };\n    /**\n     * Calculates labels for the axis.\n     * @private\n     */\n    Logarithmic.prototype.calculateVisibleLabels = function (axis, chart) {\n        /*! Generate axis labels */\n        var tempInterval = axis.visibleRange.min;\n        axis.visibleLabels = [];\n        if (axis.zoomFactor < 1 || axis.zoomPosition > 0) {\n            tempInterval = axis.visibleRange.min - (axis.visibleRange.min % axis.visibleRange.interval);\n        }\n        var axisFormat = this.getFormat(axis);\n        var isCustomFormat = axisFormat.match('{value}') !== null;\n        axis.format = chart.intl.getNumberFormat({\n            format: isCustomFormat ? '' : axisFormat,\n            useGrouping: chart.useGroupingSeparator\n        });\n        axis.startLabel = axis.format(Math.pow(axis.logBase, axis.visibleRange.min));\n        axis.endLabel = axis.format(Math.pow(axis.logBase, axis.visibleRange.max));\n        for (; tempInterval <= axis.visibleRange.max; tempInterval += axis.visibleRange.interval) {\n            if (withIn(tempInterval, axis.visibleRange)) {\n                axis.triggerLabelRender(this.chart, tempInterval, this.formatValue(axis, isCustomFormat, axisFormat, Math.pow(axis.logBase, tempInterval)), axis.labelStyle);\n            }\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /**\n     * Get module name\n     */\n    Logarithmic.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Logarithmic';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    Logarithmic.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Logarithmic;\n}(Double));\nexport { Logarithmic };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Category } from '../axis/category-axis';\nimport { withIn, firstToLowerCase } from '../../common/utils/helper';\n/**\n * Category module is used to render category axis.\n */\nvar DateTimeCategory = /** @class */ (function (_super) {\n    __extends(DateTimeCategory, _super);\n    /**\n     * Constructor for the category module.\n     * @private\n     */\n    function DateTimeCategory(chart) {\n        return _super.call(this, chart) || this;\n    }\n    /**\n     * The function to calculate the range and labels for the axis.\n     * @return {void}\n     * @private\n     */\n    DateTimeCategory.prototype.calculateRangeAndInterval = function (size, axis) {\n        this.axisSize = size;\n        this.calculateRange(axis, size);\n        this.getActualRange(axis, size);\n        this.applyRangePadding(axis, size);\n        this.calculateVisibleLabels(axis);\n    };\n    /**\n     * Calculate label for the axis.\n     * @private\n     */\n    DateTimeCategory.prototype.calculateVisibleLabels = function (axis) {\n        /*! Generate axis labels */\n        axis.visibleLabels = [];\n        var padding = axis.labelPlacement === 'BetweenTicks' ? 0.5 : 0;\n        if (axis.intervalType === 'Auto') {\n            this.calculateDateTimeNiceInterval(axis, this.axisSize, parseInt(axis.labels[0], 10), parseInt(axis.labels[axis.labels.length - 1], 10));\n        }\n        else {\n            axis.actualIntervalType = axis.intervalType;\n        }\n        axis.format = this.chart.intl.getDateFormat({\n            format: axis.labelFormat, type: firstToLowerCase(axis.skeletonType), skeleton: this.getSkeleton(axis)\n        });\n        for (var i = 0; i < axis.labels.length; i++) {\n            if (!this.sameInterval(axis.labels.map(Number)[i], axis.labels.map(Number)[i - 1], axis.actualIntervalType, i)) {\n                if (withIn(i - padding, axis.visibleRange)) {\n                    axis.triggerLabelRender(this.chart, i, axis.format(new Date(axis.labels.map(Number)[i])), axis.labelStyle);\n                }\n            }\n        }\n        axis.getMaxLabelWidth(this.chart);\n    };\n    /**\n     * get same interval\n     */\n    DateTimeCategory.prototype.sameInterval = function (currentDate, previousDate, type, index) {\n        var sameValue;\n        if (index === 0) {\n            sameValue = false;\n        }\n        else {\n            switch (type) {\n                case 'Years':\n                    sameValue = new Date(currentDate).getFullYear() === new Date(previousDate).getFullYear();\n                    break;\n                case 'Months':\n                    sameValue = new Date(currentDate).getFullYear() === new Date(previousDate).getFullYear() &&\n                        new Date(currentDate).getMonth() === new Date(previousDate).getMonth();\n                    break;\n                case 'Days':\n                    sameValue = (Math.abs(currentDate - previousDate) < 24 * 60 * 60 * 1000 &&\n                        new Date(currentDate).getDay() === new Date(previousDate).getDay());\n                    break;\n                case 'Hours':\n                    sameValue = (Math.abs(currentDate - previousDate) < 60 * 60 * 1000 &&\n                        new Date(currentDate).getDay() === new Date(previousDate).getDay());\n                    break;\n                case 'Minutes':\n                    sameValue = (Math.abs(currentDate - previousDate) < 60 * 1000 &&\n                        new Date(currentDate).getMinutes() === new Date(previousDate).getMinutes());\n                    break;\n                case 'Seconds':\n                    sameValue = (Math.abs(currentDate - previousDate) < 1000 &&\n                        new Date(currentDate).getDay() === new Date(previousDate).getDay());\n                    break;\n            }\n        }\n        return sameValue;\n    };\n    /**\n     * Get module name\n     */\n    DateTimeCategory.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'DateTimeCategory';\n    };\n    /**\n     * To destroy the category axis.\n     * @return {void}\n     * @private\n     */\n    DateTimeCategory.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return DateTimeCategory;\n}(Category));\nexport { DateTimeCategory };\n","/**\n * StripLine src\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Rect, TextOption, measureText, valueToCoefficient, textElement, logBase, RectOption } from '../../common/utils/helper';\n/**\n * `StripLine` module is used to render the stripLine in chart.\n */\nvar StripLine = /** @class */ (function () {\n    function StripLine() {\n    }\n    StripLine.prototype.measureStripLine = function (axis, stripline, seriesClipRect) {\n        var actualStart;\n        var actualEnd;\n        if (axis.valueType === 'DateTimeCategory') {\n            var start = stripline.start;\n            var end = stripline.end;\n            actualStart = start ? axis.labels.indexOf(start.getTime().toString()) : null;\n            actualEnd = end ? axis.labels.indexOf(end.getTime().toString()) : null;\n        }\n        else {\n            actualStart = stripline.start;\n            actualEnd = stripline.end;\n        }\n        var rect = this.getFromTovalue(actualStart, actualEnd, stripline.size, stripline.startFromAxis, axis);\n        var height = (axis.orientation === 'Vertical') ? (rect.to - rect.from) * axis.rect.height : seriesClipRect.height;\n        var width = (axis.orientation === 'Horizontal') ? (rect.to - rect.from) * axis.rect.width : seriesClipRect.width;\n        var x = (axis.orientation === 'Vertical') ? seriesClipRect.x : ((rect.from * axis.rect.width) + axis.rect.x);\n        var y = (axis.orientation === 'Horizontal') ? seriesClipRect.y : (axis.rect.y + axis.rect.height -\n            (rect.to * axis.rect.height));\n        if (height !== 0 && width !== 0) {\n            return new Rect(x, y, width, height);\n        }\n        return new Rect(0, 0, 0, 0);\n    };\n    /**\n     * To get from to value from start, end, size, start from axis\n     */\n    StripLine.prototype.getFromTovalue = function (start, end, size, startFromAxis, axis) {\n        var from = startFromAxis ? axis.visibleRange.min : this.findValue(Math.min(start, isNullOrUndefined(end) ? start : end), axis);\n        var to = this.findValue(this.getToValue(Math.max(start, isNullOrUndefined(end) ? start : end), from, size, axis, end), axis);\n        return { from: valueToCoefficient(axis.isInversed ? to : from, axis), to: valueToCoefficient(axis.isInversed ? from : to, axis) };\n    };\n    StripLine.prototype.getToValue = function (to, from, size, axis, end) {\n        if (axis.valueType === 'DateTime') {\n            return (isNullOrUndefined(end) ? new Date(new Date(from).getTime() + size) : to);\n        }\n        else {\n            return isNullOrUndefined(end) ? (axis.valueType === 'Logarithmic' ? Math.pow(axis.logBase, from) : from) + size : to;\n        }\n    };\n    StripLine.prototype.findValue = function (value, axis) {\n        if (axis.valueType === 'Logarithmic') {\n            value = logBase(value, axis.logBase);\n        }\n        if (value < axis.visibleRange.min) {\n            value = axis.visibleRange.min;\n        }\n        else if (value > axis.visibleRange.max) {\n            value = axis.visibleRange.max;\n        }\n        return value;\n    };\n    /**\n     * To render striplines based start and end.\n     * @private\n     * @param chart\n     * @param position\n     * @param axes\n     */\n    StripLine.prototype.renderStripLine = function (chart, position, axes) {\n        var id = chart.element.id + '_stripline_' + position + '_';\n        var striplineGroup = chart.renderer.createGroup({ id: id + 'collections' });\n        var seriesClipRect = chart.chartAxisLayoutPanel.seriesClipRect;\n        var rect;\n        var count = 0;\n        for (var _i = 0, axes_1 = axes; _i < axes_1.length; _i++) {\n            var axis = axes_1[_i];\n            for (var _a = 0, _b = axis.stripLines; _a < _b.length; _a++) {\n                var stripline = _b[_a];\n                if (stripline.visible && stripline.zIndex === position) {\n                    rect = this.measureStripLine(axis, stripline, seriesClipRect);\n                    this.renderRectangle(stripline, rect, id + 'rect_' + count, striplineGroup, chart);\n                    this.renderText(stripline, rect, id + 'text_' + count, striplineGroup, chart, axis);\n                    count++;\n                }\n            }\n        }\n        chart.svgObject.appendChild(striplineGroup);\n    };\n    StripLine.prototype.renderRectangle = function (stripline, rect, id, parent, chart) {\n        parent.appendChild(chart.renderer.drawRectangle(new RectOption(id, stripline.color, stripline.border, stripline.opacity, rect, 0, 0, '', '')));\n    };\n    StripLine.prototype.renderText = function (stripline, rect, id, parent, chart, axis) {\n        var textSize = measureText(stripline.text, stripline.textStyle);\n        var textMid = 3 * (textSize.height / 8);\n        var ty = rect.y + (rect.height / 2) + textMid;\n        var rotation = (stripline.rotation === null) ? ((axis.orientation === 'Vertical') ? 0 : -90) : stripline.rotation;\n        var tx = rect.x + (rect.width / 2);\n        var alignment;\n        var anchor;\n        var padding = 5;\n        if (axis.orientation === 'Horizontal') {\n            tx = this.getTextStart(tx + (textMid * this.factor(stripline.horizontalAlignment)), rect.width, stripline.horizontalAlignment);\n            ty = this.getTextStart(ty - textMid, rect.height, stripline.verticalAlignment);\n            alignment = this.invertAlignment(stripline.verticalAlignment);\n        }\n        else {\n            tx = this.getTextStart(tx, rect.width, stripline.horizontalAlignment);\n            ty = this.getTextStart(ty + (textMid * this.factor(stripline.verticalAlignment)) - padding, rect.height, stripline.verticalAlignment);\n            alignment = stripline.horizontalAlignment;\n        }\n        anchor = alignment;\n        textElement(new TextOption(id, tx, ty, anchor, stripline.text, 'rotate(' + rotation + ' ' + tx + ',' + ty + ')', 'middle'), stripline.textStyle, stripline.textStyle.color, parent);\n    };\n    StripLine.prototype.invertAlignment = function (anchor) {\n        switch (anchor) {\n            case 'Start':\n                anchor = 'End';\n                break;\n            case 'End':\n                anchor = 'Start';\n                break;\n        }\n        return anchor;\n    };\n    StripLine.prototype.factor = function (anchor) {\n        var factor = 0;\n        switch (anchor) {\n            case 'Start':\n                factor = 1;\n                break;\n            case 'End':\n                factor = -1;\n                break;\n        }\n        return factor;\n    };\n    StripLine.prototype.getTextStart = function (xy, size, textAlignment) {\n        var padding = 5;\n        switch (textAlignment) {\n            case 'Start':\n                xy = xy - (size / 2) + padding;\n                break;\n            case 'End':\n                xy = xy + (size / 2) - padding;\n                break;\n        }\n        return xy;\n    };\n    /**\n     * To get the module name for `StripLine`.\n     * @private\n     */\n    StripLine.prototype.getModuleName = function () {\n        return 'StripLine';\n    };\n    /**\n     * To destroy the `StripLine` module.\n     * @private\n     */\n    StripLine.prototype.destroy = function () {\n        // destroy peform here\n    };\n    return StripLine;\n}());\nexport { StripLine };\n","import { Rect, getAnimationFunction } from '../../common/utils/helper';\nimport { Animation } from '@syncfusion/ej2-base';\n/**\n * Base for line type series.\n */\nvar LineBase = /** @class */ (function () {\n    /** @private */\n    function LineBase(chartModule) {\n        this.chart = chartModule;\n        this.padding = 5;\n    }\n    /**\n     * To improve the chart performance.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.improveChartPerformance = function (series) {\n        var tempPoints = [];\n        var xVisibleRange = series.xAxis.visibleRange;\n        var yVisibleRange = series.yAxis.visibleRange;\n        var seriesPoints = series.points;\n        var areaBounds = series.clipRect;\n        var xTolerance = Math.abs(xVisibleRange.delta / areaBounds.width);\n        var yTolerance = Math.abs(yVisibleRange.delta / areaBounds.height);\n        var prevXValue = (seriesPoints[0] && seriesPoints[0].x > xTolerance) ? 0 : xTolerance;\n        var prevYValue = (seriesPoints[0] && seriesPoints[0].y > yTolerance) ? 0 : yTolerance;\n        var xVal = 0;\n        var yVal = 0;\n        var currentPoint;\n        for (var _i = 0, seriesPoints_1 = seriesPoints; _i < seriesPoints_1.length; _i++) {\n            var currentPoint_1 = seriesPoints_1[_i];\n            currentPoint_1.symbolLocations = [];\n            xVal = currentPoint_1.xValue ? currentPoint_1.xValue : xVisibleRange.min;\n            yVal = currentPoint_1.yValue ? currentPoint_1.yValue : yVisibleRange.min;\n            if (Math.abs(prevXValue - xVal) >= xTolerance || Math.abs(prevYValue - yVal) >= yTolerance) {\n                tempPoints.push(currentPoint_1);\n                prevXValue = xVal;\n                prevYValue = yVal;\n            }\n        }\n        return tempPoints;\n    };\n    /**\n     * To generate the line path direction\n     * @param firstPoint\n     * @param secondPoint\n     * @param series\n     * @param isInverted\n     * @param getPointLocation\n     * @param startPoint\n     */\n    LineBase.prototype.getLineDirection = function (firstPoint, secondPoint, series, isInverted, getPointLocation, startPoint) {\n        var direction = '';\n        if (firstPoint != null) {\n            var point1 = getPointLocation(firstPoint.xValue, firstPoint.yValue, series.xAxis, series.yAxis, isInverted, series);\n            var point2 = getPointLocation(secondPoint.xValue, secondPoint.yValue, series.xAxis, series.yAxis, isInverted, series);\n            direction = startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ' +\n                'L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ';\n        }\n        return direction;\n    };\n    /**\n     * To append the line path.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.appendLinePath = function (options, series, clipRect) {\n        var htmlObject = series.chart.renderer.drawPath(options);\n        htmlObject.setAttribute('clip-path', clipRect);\n        series.pathElement = htmlObject;\n        series.seriesElement.appendChild(htmlObject);\n        series.isRectSeries = false;\n    };\n    /**\n     * To render the marker for the series.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.renderMarker = function (series) {\n        if (series.marker.visible) {\n            series.chart.markerRender.render(series);\n        }\n    };\n    /**\n     * To do the progressive animation.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.doProgressiveAnimation = function (series, option) {\n        var animation = new Animation({});\n        var path = series.pathElement;\n        var strokeDashArray = path.getAttribute('stroke-dasharray');\n        var pathLength = series.pathElement.getTotalLength();\n        var currentTime;\n        path.style.visibility = 'hidden';\n        animation.animate(path, {\n            duration: option.duration,\n            delay: option.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    path.style.visibility = 'visible';\n                    currentTime = Math.abs(Math.round(((args.timeStamp - args.delay) * pathLength) / args.duration));\n                    path.setAttribute('stroke-dasharray', currentTime + ',' + pathLength);\n                }\n            },\n            end: function (model) {\n                path.setAttribute('stroke-dasharray', strokeDashArray);\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        });\n    };\n    /**\n     * To store the symbol location and region\n     * @param point\n     * @param series\n     * @param isInverted\n     * @param getLocation\n     */\n    LineBase.prototype.storePointLocation = function (point, series, isInverted, getLocation) {\n        point.symbolLocations.push(getLocation(point.xValue, point.yValue, series.xAxis, series.yAxis, isInverted, series));\n        point.regions.push(new Rect(point.symbolLocations[0].x - series.marker.width, point.symbolLocations[0].y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n    };\n    /**\n     * To do the linear animation.\n     * @return {void}\n     * @private\n     */\n    LineBase.prototype.doLinearAnimation = function (series, animation) {\n        var clipRect = series.clipRectElement.childNodes[0].childNodes[0];\n        var effect = getAnimationFunction('Linear');\n        var elementHeight = +clipRect.getAttribute('height');\n        var elementWidth = +clipRect.getAttribute('width');\n        var xCenter = +clipRect.getAttribute('x');\n        var yCenter = series.chart.requireInvertedAxis ? +clipRect.getAttribute('height') + +clipRect.getAttribute('y') :\n            +clipRect.getAttribute('y');\n        var value;\n        clipRect.style.visibility = 'hidden';\n        new Animation({}).animate(clipRect, {\n            duration: animation.duration,\n            delay: animation.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    clipRect.style.visibility = 'visible';\n                    if (series.chart.requireInvertedAxis) {\n                        value = effect(args.timeStamp - args.delay, 0, elementHeight, args.duration);\n                        clipRect.setAttribute('transform', 'translate(' + xCenter + ' ' + yCenter +\n                            ') scale(1,' + (value / elementHeight) + ') translate(' + (-xCenter) + ' ' + (-yCenter) + ')');\n                    }\n                    else {\n                        value = effect(args.timeStamp - args.delay, 0, elementWidth, args.duration);\n                        clipRect.setAttribute('transform', 'translate(' + xCenter + ' ' + yCenter +\n                            ') scale(' + (value / elementWidth) + ', 1) translate(' + (-xCenter) + ' ' + (-yCenter) + ')');\n                    }\n                }\n            },\n            end: function (model) {\n                clipRect.setAttribute('transform', 'translate(0,0)');\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        });\n    };\n    return LineBase;\n}());\nexport { LineBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, getPoint, PathOption, TransformToVisible } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * `LineSeries` module used to render the line series.\n */\nvar LineSeries = /** @class */ (function (_super) {\n    __extends(LineSeries, _super);\n    function LineSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Line Series.\n     * @return {void}.\n     * @private\n     */\n    LineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var point1;\n        var point2;\n        var direction = '';\n        var prevPoint = null;\n        var startPoint = 'M';\n        var options;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        var visiblePoints = this.improveChartPerformance(series);\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                direction += this.getLineDirection(prevPoint, point, series, isInverted, getCoordinate, startPoint);\n                startPoint = prevPoint ? 'L' : startPoint;\n                prevPoint = point;\n                this.storePointLocation(point, series, isInverted, getCoordinate);\n            }\n            else {\n                prevPoint = (series.emptyPointSettings.mode === 'Drop') ? prevPoint : null;\n                startPoint = (series.emptyPointSettings.mode === 'Drop') ? startPoint : 'M';\n                point.symbolLocations = [];\n            }\n        }\n        if (series.chart.chartAreaType === 'PolarRadar') {\n            if (series.isClosed) {\n                point2 = getCoordinate(visiblePoints[visiblePoints.length - 1].xValue, visiblePoints[visiblePoints.length - 1].yValue, xAxis, yAxis, isInverted, series);\n                point1 = getCoordinate(visiblePoints[0].xValue, visiblePoints[0].yValue, xAxis, yAxis, isInverted, series);\n                direction = direction.concat(startPoint + ' ' + point2.x + ' ' + point2.y + ' ' + 'L' + ' ' + point1.x + ' ' + point1.y);\n            }\n        }\n        var name = series.category === 'Indicator' ? series.chart.element.id + '_Indicator_' + series.index + '_' + series.name :\n            series.category === 'TrendLine' ? series.chart.element.id + '_Series_' + series.sourceIndex + '_TrendLine_' + series.index :\n                series.chart.element.id + '_Series_' + series.index;\n        options = new PathOption(name, 'none', series.width, series.interior, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    LineSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doProgressiveAnimation(series, option);\n    };\n    /**\n     * Get module name.\n     */\n    LineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'LineSeries';\n    };\n    /**\n     * To destroy the line series.\n     * @return {void}\n     * @private\n     */\n    LineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return LineSeries;\n}(LineBase));\nexport { LineSeries };\n","import { Animation } from '@syncfusion/ej2-base';\nimport { DoubleRange } from '../utils/double-range';\nimport { Rect, valueToCoefficient, getMinPointsDelta, PathOption } from '../../common/utils/helper';\nimport { getAnimationFunction, getPoint } from '../../common/utils/helper';\nimport { pointRender } from '../../common/model/constants';\n/**\n * Column Series Base\n */\nvar ColumnBase = /** @class */ (function () {\n    function ColumnBase() {\n    }\n    /**\n     * To get the position of the column series.\n     * @return {DoubleRange}\n     * @private\n     */\n    ColumnBase.prototype.getSideBySideInfo = function (series) {\n        if (series.chart.enableSideBySidePlacement && !series.position) {\n            this.getSideBySidePositions(series);\n        }\n        var position = !series.chart.enableSideBySidePlacement ? 0 : series.position;\n        var rectCount = !series.chart.enableSideBySidePlacement ? 1 : series.rectCount;\n        series.isRectSeries = true;\n        var visibleSeries = series.chart.visibleSeries;\n        var seriesSpacing = series.chart.enableSideBySidePlacement ? series.columnSpacing : 0; // Column Spacing\n        var pointSpacing = series.columnWidth; // Column width\n        var minimumPointDelta = getMinPointsDelta(series.xAxis, visibleSeries);\n        var width = minimumPointDelta * pointSpacing;\n        var radius;\n        var location = (position) / rectCount - 0.5;\n        var doubleRange = new DoubleRange(location, location + (1 / rectCount));\n        if (!(isNaN(doubleRange.start) || isNaN(doubleRange.end))) {\n            doubleRange = new DoubleRange(doubleRange.start * width, doubleRange.end * width);\n            radius = seriesSpacing * doubleRange.delta;\n            doubleRange = new DoubleRange(doubleRange.start + radius / 2, doubleRange.end - radius / 2);\n        }\n        return doubleRange;\n    };\n    /**\n     * To get the rect values.\n     * @return {Rect}\n     * @private\n     */\n    ColumnBase.prototype.getRectangle = function (x1, y1, x2, y2, series) {\n        var point1 = getPoint(x1, y1, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        var point2 = getPoint(x2, y2, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        return new Rect(Math.min(point1.x, point2.x), Math.min(point1.y, point2.y), Math.abs(point2.x - point1.x), Math.abs(point2.y - point1.y));\n    };\n    /**\n     * To get the position of each series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.getSideBySidePositions = function (series) {\n        var chart = series.chart;\n        var seriesCollection = [];\n        for (var _i = 0, _a = chart.columns; _i < _a.length; _i++) {\n            var columnItem = _a[_i];\n            for (var _b = 0, _c = chart.rows; _b < _c.length; _b++) {\n                var item = _c[_b];\n                this.findRectPosition(series.findSeriesCollection(columnItem, item, false));\n            }\n        }\n    };\n    ColumnBase.prototype.findRectPosition = function (seriesCollection) {\n        var stackingGroup = [];\n        var vSeries = { rectCount: 0, position: null };\n        seriesCollection.forEach(function (value) {\n            if (value.type.indexOf('Stacking') !== -1) {\n                if (value.stackingGroup) {\n                    if (stackingGroup[value.stackingGroup] === undefined) {\n                        value.position = vSeries.rectCount;\n                        stackingGroup[value.stackingGroup] = vSeries.rectCount++;\n                    }\n                    else {\n                        value.position = stackingGroup[value.stackingGroup];\n                    }\n                }\n                else {\n                    if (vSeries.position === null) {\n                        value.position = vSeries.rectCount;\n                        vSeries.position = vSeries.rectCount++;\n                    }\n                    else {\n                        value.position = vSeries.position;\n                    }\n                }\n            }\n            else {\n                value.position = vSeries.rectCount++;\n            }\n        });\n        seriesCollection.forEach(function (value) {\n            value.rectCount = vSeries.rectCount;\n        });\n    };\n    /**\n     * Updates the symbollocation for points\n     * @return void\n     * @private\n     */\n    ColumnBase.prototype.updateSymbolLocation = function (point, rect, series) {\n        if (!series.chart.requireInvertedAxis) {\n            this.updateXRegion(point, rect, series);\n        }\n        else {\n            this.updateYRegion(point, rect, series);\n        }\n    };\n    /**\n     * Update the region for the point.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.updateXRegion = function (point, rect, series) {\n        point.regions.push(rect);\n        point.symbolLocations.push({\n            x: rect.x + (rect.width) / 2,\n            y: (series.seriesType === 'BoxPlot' || series.seriesType.indexOf('HighLow') !== -1 ||\n                (point.yValue >= 0 === !series.yAxis.isInversed)) ? rect.y : (rect.y + rect.height)\n        });\n    };\n    /**\n     * Update the region for the point in bar series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.updateYRegion = function (point, rect, series) {\n        point.regions.push(rect);\n        point.symbolLocations.push({\n            x: (series.seriesType === 'BoxPlot' || series.seriesType.indexOf('HighLow') !== -1 ||\n                (point.yValue >= 0 === !series.yAxis.isInversed)) ? rect.x + rect.width : rect.x,\n            y: rect.y + rect.height / 2\n        });\n    };\n    /**\n     * To trigger the point rendering event.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.triggerEvent = function (series, point, fill, border) {\n        var argsData = {\n            cancel: false, name: pointRender, series: series, point: point,\n            fill: series.setPointColor(point, fill),\n            border: series.setBorderColor(point, border)\n        };\n        series.chart.trigger(pointRender, argsData);\n        point.color = argsData.fill;\n        return argsData;\n    };\n    /**\n     * To draw the rectangle for points.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.drawRectangle = function (series, point, rect, argsData) {\n        var check = series.chart.requireInvertedAxis ? rect.height : rect.width;\n        if (check <= 0) {\n            return null;\n        }\n        var direction = this.calculateRoundedRectPath(rect, series.cornerRadius.topLeft, series.cornerRadius.topRight, series.cornerRadius.bottomLeft, series.cornerRadius.bottomRight);\n        var name = series.category === 'Indicator' ? series.chart.element.id + '_Indicator_' + series.index + '_' + series.name +\n            '_Point_' + point.index : series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index;\n        var options = new PathOption(name, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n        var element = series.chart.renderer.drawPath(options);\n        switch (series.seriesType) {\n            case 'XY':\n                element.setAttribute('aria-label', point.x.toString() + ':' + point.yValue.toString());\n                break;\n            case 'HighLow':\n                element.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString() + ':' + point.low.toString());\n                break;\n        }\n        series.seriesElement.appendChild(element);\n    };\n    /**\n     * To animate the series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.animate = function (series) {\n        var rectElements = series.seriesElement.childNodes;\n        var count = series.category === 'Indicator' ? 0 : 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (!point.symbolLocations.length && !(series.type === 'BoxAndWhisker' && point.regions.length)) {\n                continue;\n            }\n            this.animateRect(rectElements[count], series, point);\n            count++;\n        }\n    };\n    /**\n     * To animate the series.\n     * @return {void}\n     * @private\n     */\n    ColumnBase.prototype.animateRect = function (element, series, point) {\n        var option = series.animation;\n        var effect = getAnimationFunction('Linear');\n        var isPlot = point.yValue < 0;\n        var x;\n        var y;\n        var elementHeight = +point.regions[0].height;\n        var elementWidth = +point.regions[0].width;\n        var centerX;\n        var centerY;\n        if (!series.chart.requireInvertedAxis) {\n            x = +point.regions[0].x;\n            if (series.type.indexOf('Stacking') > -1) {\n                y = (1 - valueToCoefficient(0, series.yAxis)) * (series.yAxis.rect.height);\n                centerX = x;\n                centerY = y;\n            }\n            else {\n                y = +point.regions[0].y;\n                centerY = (series.seriesType.indexOf('HighLow') !== -1 || series.type.indexOf('Waterfall') !== -1) ? y + elementHeight / 2 :\n                    (isPlot !== series.yAxis.isInversed) ? y : y + elementHeight;\n                centerX = isPlot ? x : x + elementWidth;\n            }\n        }\n        else {\n            y = +point.regions[0].y;\n            if (series.type.indexOf('Stacking') > -1) {\n                x = (valueToCoefficient(0, series.yAxis)) * series.yAxis.rect.width;\n                centerX = x;\n                centerY = y;\n            }\n            else {\n                x = +point.regions[0].x;\n                centerY = isPlot ? y : y + elementHeight;\n                centerX = (series.seriesType.indexOf('HighLow') !== -1 || series.type.indexOf('Waterfall') !== -1) ? x + elementWidth / 2 :\n                    (isPlot !== series.yAxis.isInversed) ? x + elementWidth : x;\n            }\n        }\n        var value;\n        element.style.visibility = 'hidden';\n        new Animation({}).animate(element, {\n            duration: option.duration,\n            delay: option.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    element.style.visibility = 'visible';\n                    if (!series.chart.requireInvertedAxis) {\n                        elementHeight = elementHeight ? elementHeight : 1;\n                        value = effect(args.timeStamp - args.delay, 0, elementHeight, args.duration);\n                        element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY +\n                            ') scale(1,' + (value / elementHeight) + ') translate(' + (-centerX) + ' ' + (-centerY) + ')');\n                    }\n                    else {\n                        elementWidth = elementWidth ? elementWidth : 1;\n                        value = effect(args.timeStamp - args.delay, 0, elementWidth, args.duration);\n                        element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY +\n                            ') scale(' + (value / elementWidth) + ', 1) translate(' + (-centerX) + ' ' + (-centerY) + ')');\n                    }\n                }\n            },\n            end: function (model) {\n                element.setAttribute('transform', 'translate(0,0)');\n                var seriesElement = series.seriesElement;\n                if (element === seriesElement.lastElementChild || point.index === series.points.length - 1 ||\n                    (series.type === 'Waterfall' && element === seriesElement.children[seriesElement.childElementCount - 2])) {\n                    series.chart.trigger('animationComplete', { series: series });\n                    if (series.type === 'Waterfall') {\n                        var rectElements = seriesElement.childNodes;\n                        for (var i = 0; i < rectElements.length; i++) {\n                            if (rectElements[i].id.indexOf('Connector') !== -1) {\n                                rectElements[i].style.visibility = 'visible';\n                                rectElements[i].setAttribute('transform', 'translate(0,0)');\n                            }\n                        }\n                    }\n                }\n            }\n        });\n    };\n    /**\n     * To get rounded rect path direction\n     */\n    ColumnBase.prototype.calculateRoundedRectPath = function (rect, topLeft, topRight, bottomLeft, bottomRight) {\n        return 'M' + ' ' + rect.x + ' ' + (topLeft + rect.y) +\n            ' Q ' + rect.x + ' ' + rect.y + ' ' + (rect.x + topLeft) + ' ' +\n            rect.y + ' ' + 'L' + ' ' + (rect.x + rect.width - topRight) + ' ' + rect.y +\n            ' Q ' + (rect.x + rect.width) + ' ' + rect.y + ' ' +\n            (rect.x + rect.width) + ' ' + (rect.y + topRight) + ' ' + 'L ' +\n            (rect.x + rect.width) + ' ' + (rect.y + rect.height - bottomRight)\n            + ' Q ' + (rect.x + rect.width) + ' ' + (rect.y + rect.height) + ' ' + (rect.x + rect.width - bottomRight) + ' ' +\n            (rect.y + rect.height) + ' ' + 'L ' + (rect.x + bottomLeft) + ' ' + (rect.y + rect.height) + ' Q ' + rect.x + ' ' +\n            (rect.y + rect.height) + ' ' + rect.x + ' ' + (rect.y + rect.height - bottomLeft) + ' ' + 'L' + ' ' + rect.x + ' ' +\n            (topLeft + rect.y) + ' ' + 'Z';\n    };\n    return ColumnBase;\n}());\nexport { ColumnBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `ColumnSeries` Module used to render the column series.\n */\nvar ColumnSeries = /** @class */ (function (_super) {\n    __extends(ColumnSeries, _super);\n    function ColumnSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Column series.\n     * @return {void}\n     * @private\n     */\n    ColumnSeries.prototype.render = function (series) {\n        var rect;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var pointColumn = _a[_i];\n            pointColumn.symbolLocations = [];\n            pointColumn.regions = [];\n            if (pointColumn.visible && withInRange(series.points[pointColumn.index - 1], pointColumn, series.points[pointColumn.index + 1], series)) {\n                rect = this.getRectangle(pointColumn.xValue + sideBySideInfo.start, pointColumn.yValue, pointColumn.xValue + sideBySideInfo.end, origin, series);\n                var color = series.category === 'Indicator' ? pointColumn.color : series.interior;\n                argsData = this.triggerEvent(series, pointColumn, color, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(pointColumn, rect, series);\n                    this.drawRectangle(series, pointColumn, rect, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    ColumnSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    ColumnSeries.prototype.getModuleName = function () {\n        return 'ColumnSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the column series.\n     * @return {void}\n     * @private\n     */\n    ColumnSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return ColumnSeries;\n}(ColumnBase));\nexport { ColumnSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getPoint } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\nimport { RectOption } from '../../common/utils/helper';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Base class for multi colored series\n */\nvar MultiColoredSeries = /** @class */ (function (_super) {\n    __extends(MultiColoredSeries, _super);\n    function MultiColoredSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * To Generate the area path direction\n     * @param xValue\n     * @param yValue\n     * @param series\n     * @param isInverted\n     * @param getPointLocation\n     * @param startPoint\n     * @param startPath\n     */\n    MultiColoredSeries.prototype.getAreaPathDirection = function (xValue, yValue, series, isInverted, getPointLocation, startPoint, startPath) {\n        var direction = '';\n        var firstPoint;\n        if (startPoint === null) {\n            firstPoint = getPointLocation(xValue, yValue, series.xAxis, series.yAxis, isInverted, series);\n            direction += (startPath + ' ' + (firstPoint.x) + ' ' + (firstPoint.y) + ' ');\n        }\n        return direction;\n    };\n    /**\n     * To Generate the empty point direction\n     * @param firstPoint\n     * @param secondPoint\n     * @param series\n     * @param isInverted\n     * @param getPointLocation\n     */\n    MultiColoredSeries.prototype.getAreaEmptyDirection = function (firstPoint, secondPoint, series, isInverted, getPointLocation) {\n        var direction = '';\n        direction += this.getAreaPathDirection(firstPoint.x, firstPoint.y, series, isInverted, getPointLocation, null, 'L');\n        direction += this.getAreaPathDirection(secondPoint.x, secondPoint.y, series, isInverted, getPointLocation, null, 'L');\n        return direction;\n    };\n    /**\n     * To set point color\n     * @param points\n     */\n    MultiColoredSeries.prototype.setPointColor = function (currentPoint, previous, series, isXSegment, segments) {\n        if (series.pointColorMapping === '') {\n            var segment = void 0;\n            var value = void 0;\n            for (var i = 0; i < segments.length; i++) {\n                segment = segments[i];\n                value = isXSegment ? currentPoint.xValue : currentPoint.yValue;\n                if (value <= this.getAxisValue(segment.value, isXSegment ? series.xAxis : series.yAxis, series.chart) || !segment.value) {\n                    currentPoint.interior = segment.color;\n                    break;\n                }\n            }\n            if (currentPoint.interior == null) {\n                currentPoint.interior = series.interior;\n            }\n            return false;\n        }\n        else {\n            if (previous) {\n                return series.setPointColor(currentPoint, series.interior) !== series.setPointColor(previous, series.interior);\n            }\n            else {\n                return false;\n            }\n        }\n    };\n    MultiColoredSeries.prototype.sortSegments = function (series, chartSegments) {\n        var axis = series.segmentAxis === 'X' ? series.xAxis : series.yAxis;\n        var segments = [].concat(chartSegments);\n        var access = this;\n        return segments.sort(function (a, b) {\n            return access.getAxisValue(a.value, axis, series.chart) - access.getAxisValue(b.value, axis, series.chart);\n        });\n    };\n    /**\n     * Segment calculation performed here\n     * @param series\n     * @param options\n     * @param chartSegments\n     */\n    MultiColoredSeries.prototype.applySegmentAxis = function (series, options, segments) {\n        var _this = this;\n        if (series.pointColorMapping !== '') {\n            options.map(function (option) {\n                _this.appendLinePath(option, series, '');\n            });\n            return null;\n        }\n        var isXSegment = series.segmentAxis === 'X';\n        var axis = isXSegment ? series.xAxis : series.yAxis;\n        var chart = series.chart;\n        var segment;\n        this.includeSegment(segments, axis, series, segments.length);\n        var length = segments.length;\n        var value;\n        var clipPath;\n        var _loop_1 = function (index) {\n            segment = segments[index];\n            value = this_1.getAxisValue(segment.value, axis, series.chart);\n            clipPath = this_1.createClipRect(index ? this_1.getAxisValue(segments[index - 1].value, axis, series.chart)\n                : axis.visibleRange.min, value, series, index, isXSegment);\n            if (clipPath) {\n                options.map(function (option) {\n                    series.seriesElement.appendChild(chart.renderer.drawPath({\n                        'clip-path': clipPath,\n                        'stroke-dasharray': segment.dashArray,\n                        'opacity': option.opacity,\n                        'stroke': series.type.indexOf('Line') > -1 ? segment.color || series.interior : series.border.color,\n                        'stroke-width': option['stroke-width'],\n                        'fill': series.type.indexOf('Line') > -1 ? 'none' : segment.color || series.interior,\n                        'id': option.id + '_Segment_' + index,\n                        'd': option.d\n                    }));\n                });\n            }\n        };\n        var this_1 = this;\n        for (var index = 0; index < length; index++) {\n            _loop_1(index);\n        }\n    };\n    MultiColoredSeries.prototype.includeSegment = function (segments, axis, series, length) {\n        if (length <= 0) {\n            segments.push({ value: axis.visibleRange.max, color: series.interior });\n            return null;\n        }\n        if (this.getAxisValue(segments[length - 1].value, axis, series.chart) < axis.visibleRange.max) {\n            segments.push({ value: axis.visibleRange.max, color: series.interior });\n        }\n    };\n    /**\n     * To create clip rect for segment axis\n     * @param startValue\n     * @param endValue\n     * @param series\n     * @param index\n     * @param isX\n     * @param chart\n     */\n    MultiColoredSeries.prototype.createClipRect = function (startValue, endValue, series, index, isX) {\n        var isRequired = series.chart.requireInvertedAxis;\n        var startPointLocation = getPoint(isX ? startValue : series.xAxis.visibleRange.min, isX ? series.yAxis.visibleRange.max : endValue, series.xAxis, series.yAxis, isRequired);\n        var endPointLocation = getPoint(isX ? endValue : series.xAxis.visibleRange.max, isX ? series.yAxis.visibleRange.min : startValue, series.xAxis, series.yAxis, isRequired);\n        endPointLocation = isRequired ?\n            [startPointLocation, startPointLocation = endPointLocation][0] : endPointLocation;\n        if ((endPointLocation.x - startPointLocation.x > 0) && (endPointLocation.y - startPointLocation.y > 0)) {\n            series.seriesElement.appendChild(series.chart.renderer.drawClipPath(new RectOption(series.chart.element.id + '_ChartSegmentClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                x: startPointLocation.x,\n                y: startPointLocation.y,\n                width: endPointLocation.x - startPointLocation.x,\n                height: endPointLocation.y - startPointLocation.y\n            })));\n            return 'url(#' + series.chart.element.id + '_ChartSegmentClipRect_' + index + ')';\n        }\n        return null;\n    };\n    /**\n     * To get exact value from segment value\n     * @param segmentValue\n     * @param axis\n     * @param chart\n     */\n    MultiColoredSeries.prototype.getAxisValue = function (segmentValue, axis, chart) {\n        if (segmentValue === null) {\n            segmentValue = axis.visibleRange.max;\n        }\n        if (axis.valueType === 'DateTime') {\n            var option = { skeleton: 'full', type: 'dateTime' };\n            return Date.parse(chart.intl.getDateParser(option)(chart.intl.getDateFormat(option)(new Date(DataUtil.parse.parseJson({ val: segmentValue }).val))));\n        }\n        else if (axis.valueType.indexOf('Category') > -1) {\n            var xValue = axis.valueType === 'DateTimeCategory' ?\n                (segmentValue.getTime()).toString() :\n                segmentValue;\n            return (axis.labels.indexOf(xValue) < 0) ? +segmentValue : axis.labels.indexOf(xValue);\n        }\n        else {\n            return +segmentValue;\n        }\n    };\n    return MultiColoredSeries;\n}(LineBase));\nexport { MultiColoredSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getPoint, withInRange, ChartLocation, PathOption, TransformToVisible } from '../../common/utils/helper';\nimport { MultiColoredSeries } from './multi-colored-base';\n/**\n * `AreaSeries` module is used to render the area series.\n */\nvar AreaSeries = /** @class */ (function (_super) {\n    __extends(AreaSeries, _super);\n    function AreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Area series.\n     * @return {void}\n     * @private\n     */\n    AreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var _this = this;\n        var startPoint = null;\n        var direction = '';\n        var origin = series.chart.chartAreaType === 'PolarRadar' ? series.points[0].yValue :\n            Math.max(series.yAxis.visibleRange.min, 0);\n        var currentXValue;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        series.points.map(function (point, i, seriesPoints) {\n            currentXValue = point.xValue;\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(seriesPoints[i - 1], point, seriesPoints[i + 1], series)) {\n                direction += _this.getAreaPathDirection(currentXValue, origin, series, isInverted, getCoordinate, startPoint, 'M');\n                startPoint = startPoint || new ChartLocation(currentXValue, origin);\n                // First Point to draw the area path\n                direction += _this.getAreaPathDirection(currentXValue, point.yValue, series, isInverted, getCoordinate, null, 'L');\n                if (seriesPoints[i + 1] && !seriesPoints[i + 1].visible && series.emptyPointSettings.mode !== 'Drop') {\n                    direction += _this.getAreaEmptyDirection({ 'x': currentXValue, 'y': origin }, startPoint, series, isInverted, getCoordinate);\n                    startPoint = null;\n                }\n                _this.storePointLocation(point, series, isInverted, getPoint);\n            }\n        });\n        this.appendLinePath(new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, (series.points.length > 1 ? (direction + this.getAreaPathDirection(series.points[series.points.length - 1].xValue, series.chart.chartAreaType === 'PolarRadar' ?\n            series.points[series.points.length - 1].yValue : origin, series, isInverted, getCoordinate, null, 'L')) : '')), series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * To destroy the area series.\n     * @return {void}\n     * @private\n     */\n    AreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name\n     */\n    AreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'AreaSeries';\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    AreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    return AreaSeries;\n}(MultiColoredSeries));\nexport { AreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `BarSeries` module is used to render the bar series.\n */\nvar BarSeries = /** @class */ (function (_super) {\n    __extends(BarSeries, _super);\n    function BarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Bar series.\n     * @return {void}\n     * @private\n     */\n    BarSeries.prototype.render = function (series) {\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var rect;\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var pointBar = _a[_i];\n            pointBar.symbolLocations = [];\n            pointBar.regions = [];\n            if (pointBar.visible && withInRange(series.points[pointBar.index - 1], pointBar, series.points[pointBar.index + 1], series)) {\n                rect = this.getRectangle(pointBar.xValue + sideBySideInfo.start, pointBar.yValue, pointBar.xValue + sideBySideInfo.end, origin, series);\n                argsData = this.triggerEvent(series, pointBar, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(pointBar, rect, series);\n                    this.drawRectangle(series, pointBar, rect, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    BarSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the bar series.\n     * @return {void}\n     * @private\n     */\n    BarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * Get module name\n     */\n    BarSeries.prototype.getModuleName = function () {\n        return 'BarSeries';\n    };\n    return BarSeries;\n}(ColumnBase));\nexport { BarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { valueToCoefficient, TextOption, inside, measureText } from '../../common/utils/helper';\nimport { Size, Rect, PathOption, CircleOption } from '../../common/utils/helper';\nimport { LineBase } from '../series/line-base';\nimport { textElement, valueToPolarCoefficient, CoefficientToVector } from '../../common/utils/helper';\n/**\n * Specifies the Polar Axis Layout.\n */\nvar axisPadding = 10;\nvar PolarRadarPanel = /** @class */ (function (_super) {\n    __extends(PolarRadarPanel, _super);\n    function PolarRadarPanel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Measure the polar radar axis size.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.measureAxis = function (rect) {\n        var chart = this.chart;\n        this.initialClipRect = rect;\n        this.seriesClipRect = new Rect(rect.x, rect.y, rect.width, rect.height);\n        //Measure axis size calculation\n        this.measureRowAxis(chart, this.initialClipRect);\n        this.measureColumnAxis(chart, this.initialClipRect);\n        this.calculateAxisSize();\n    };\n    PolarRadarPanel.prototype.measureRowAxis = function (chart, rect) {\n        this.calculateRowSize(rect);\n        var row = chart.rows[0];\n        this.measureDefinition(row, chart, new Size(chart.availableSize.width, row.computedHeight), rect);\n    };\n    PolarRadarPanel.prototype.measureColumnAxis = function (chart, rect) {\n        this.calculateColumnSize(rect);\n        var column = chart.columns[0];\n        this.measureDefinition(column, chart, new Size(column.computedWidth, chart.availableSize.height), rect);\n    };\n    /**\n     * Measure the column and row in chart.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.measureDefinition = function (definition, chart, size, clipRect) {\n        for (var _i = 0, _a = definition.axes; _i < _a.length; _i++) {\n            var axis = _a[_i];\n            axis.getModule(chart);\n            axis.baseModule.calculateRangeAndInterval(size, axis);\n        }\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.calculateAxisSize = function () {\n        var chart = this.chart;\n        var axis;\n        var padding = 5;\n        this.centerX = this.initialClipRect.width * 0.5 + this.initialClipRect.x;\n        this.centerY = this.initialClipRect.height * 0.5 + this.initialClipRect.y;\n        chart.radius = Math.min(this.initialClipRect.width, this.initialClipRect.height) / 2 - padding -\n            chart.primaryXAxis.majorTickLines.height - chart.primaryXAxis.maxLabelSize.height;\n        chart.radius = (chart.primaryXAxis.coefficient * chart.radius) / 100;\n        this.seriesClipRect.y = this.centerY - chart.radius;\n        this.seriesClipRect.x = this.centerX - chart.radius;\n        this.seriesClipRect.height = 2 * chart.radius;\n        this.seriesClipRect.width = 2 * chart.radius;\n        this.calculateRowSize(this.seriesClipRect);\n        axis = chart.primaryYAxis;\n        axis.rect = this.seriesClipRect;\n        this.calculateColumnSize(this.seriesClipRect);\n        axis = chart.primaryXAxis;\n        axis.rect = this.seriesClipRect;\n    };\n    /**\n     * Measure the axis.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.measure = function () {\n        var chart = this.chart;\n        chart.verticalAxes.push(chart.primaryYAxis);\n        var row = chart.rows[0];\n        row.axes[0] = chart.primaryYAxis;\n        chart.rows[0] = row;\n        chart.horizontalAxes.push(chart.primaryXAxis);\n        var column = chart.columns[0];\n        column.axes[0] = chart.primaryXAxis;\n        chart.columns[0] = column;\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    PolarRadarPanel.prototype.calculateRowSize = function (rect) {\n        /*! Calculate row size */\n        var chart = this.chart;\n        var row = chart.rows[0];\n        row.computedHeight = rect.height / 2;\n        row.computedTop = rect.y;\n        chart.rows[0] = row;\n    };\n    /**\n     * Measure the row size.\n     * @return {void}\n     */\n    PolarRadarPanel.prototype.calculateColumnSize = function (rect) {\n        /*! Calculate column size */\n        var chart = this.chart;\n        var column = chart.columns[0];\n        column.computedLeft = rect.x;\n        column.computedWidth = rect.width;\n        chart.columns[0] = column;\n    };\n    /**\n     * To render the axis element.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.renderAxes = function () {\n        var axis;\n        var chart = this.chart;\n        this.startAngle = chart.primaryXAxis.startAngle;\n        var axisElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisCollection' });\n        var axisLineElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisOutsideCollection' });\n        for (var i = 0, len = chart.axisCollections.length; i < len; i++) {\n            this.element = chart.renderer.createGroup({ id: chart.element.id + 'AxisGroup' + i });\n            axis = chart.axisCollections[i];\n            if (axis.orientation === 'Horizontal') {\n                if (axis.majorGridLines.width > 0 || axis.majorTickLines.width > 0) {\n                    this.drawXAxisGridLine(axis, i);\n                }\n                if (axis.visible) {\n                    this.drawXAxisLabels(axis, i);\n                }\n            }\n            else {\n                this.drawYAxisGridLine(axis, i);\n                if (axis.lineStyle.width > 0) {\n                    this.drawYAxisLine(axis, i, axis.plotOffset, 0);\n                }\n                if (axis.visible) {\n                    this.drawYAxisLabels(axis, i);\n                }\n            }\n            axisElement.appendChild(this.element);\n        }\n        axisElement.appendChild(this.element);\n        chart.svgObject.appendChild(axisElement);\n        return axisLineElement;\n    };\n    PolarRadarPanel.prototype.drawYAxisLine = function (axis, index, plotX, plotY) {\n        var chart = this.chart;\n        var optionsLine = {};\n        var vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value, axis), this.startAngle);\n        var axisLine = 'M ' + this.centerX + ' ' + this.centerY + 'L ' +\n            (this.centerX + chart.radius * vector.x) + ' ' + (this.centerY + chart.radius * vector.y);\n        optionsLine = {\n            'id': chart.element.id + 'AxisLine_' + index,\n            'd': axisLine,\n            'stroke-dasharray': axis.lineStyle.dashArray,\n            'stroke-width': axis.lineStyle.width,\n            'stroke': axis.lineStyle.color || chart.themeStyle.axisLine\n        };\n        chart.yAxisElements.appendChild(chart.renderer.drawPath(optionsLine));\n    };\n    PolarRadarPanel.prototype.drawYAxisLabels = function (axis, index) {\n        var chart = this.chart;\n        var elementSize;\n        var options;\n        var pointX = 0;\n        var pointY = 0;\n        var vector;\n        var angle = this.startAngle < 0 ? this.startAngle + 360 : this.startAngle;\n        var anchor = 'middle';\n        var radius;\n        var padding = 5;\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value, axis), this.startAngle);\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            radius = chart.radius * valueToCoefficient(axis.visibleLabels[i].value, axis);\n            elementSize = axis.visibleLabels[i].size;\n            radius = chart.radius * valueToCoefficient(axis.visibleLabels[i].value, axis);\n            pointX = (this.centerX + radius * vector.x) + ((axis.majorTickLines.height + elementSize.width / 2 + padding / 2)\n                * (Math.cos(angle * Math.PI / 180)) * (axis.labelPosition === 'Inside' ? 1 : -1));\n            pointY = (this.centerY + radius * vector.y) + ((axis.majorTickLines.height + elementSize.height / 2)\n                * (Math.sin(angle * Math.PI / 180)) * (axis.labelPosition === 'Inside' ? 1 : -1));\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY + (elementSize.height / 4), anchor, axis.visibleLabels[i].text);\n            textElement(options, axis.labelStyle, axis.labelStyle.color || chart.themeStyle.axisLabel, labelElement);\n        }\n        chart.yAxisElements.appendChild(labelElement);\n    };\n    PolarRadarPanel.prototype.drawYAxisGridLine = function (axis, index) {\n        var chart = this.chart;\n        var options;\n        var radius;\n        var majorTick = '';\n        var majorGrid = '';\n        var vector;\n        var vector2;\n        var angle = this.startAngle < 0 ? this.startAngle + 360 : this.startAngle;\n        var rect = axis.rect;\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        var border = {\n            color: axis.majorGridLines.color || chart.themeStyle.majorGridLine,\n            width: axis.majorGridLines.width\n        };\n        if (axis.majorGridLines.width > 0) {\n            if (chart.visibleSeries[0].type === 'Polar') {\n                for (var j = 0; j < axis.visibleLabels.length; j++) {\n                    radius = chart.radius * valueToCoefficient(axis.visibleLabels[j].value, axis);\n                    options = new CircleOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', border, axis.majorGridLines.width, this.centerX, this.centerY, radius);\n                    this.element.appendChild(chart.renderer.drawCircle(options));\n                }\n            }\n            else {\n                for (var j = 0; j < axis.visibleLabels.length; j++) {\n                    radius = chart.radius * valueToCoefficient(axis.visibleLabels[j].value, axis);\n                    for (var i = 0, len = chart.primaryXAxis.visibleLabels.length; i < len; i++) {\n                        vector = CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[i].value, chart.primaryXAxis), this.startAngle);\n                        if (i + 1 < len) {\n                            vector2 = CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[i + 1].value, chart.primaryXAxis), this.startAngle);\n                        }\n                        else {\n                            vector2 = CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[0].value, chart.primaryXAxis), this.startAngle);\n                        }\n                        x1 = this.centerX + radius * vector.x;\n                        y1 = this.centerY + radius * vector.y;\n                        x2 = this.centerX + radius * vector2.x;\n                        y2 = this.centerY + radius * vector2.y;\n                        majorGrid = majorGrid.concat('M' + ' ' + x1 + ' ' + y1 + ' ' + 'L' + ' ' + x2 + ' ' + y2 + ' ');\n                    }\n                }\n                options = new PathOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines.width, axis.majorGridLines.color || chart.themeStyle.majorGridLine, null, null, majorGrid);\n                this.element.appendChild(chart.renderer.drawPath(options));\n            }\n        }\n        if (axis.majorTickLines.width > 0) {\n            vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value, axis), this.startAngle);\n            for (var i = 0; i < axis.visibleLabels.length; i++) {\n                radius = chart.radius * valueToCoefficient(axis.visibleLabels[i].value, axis);\n                x1 = this.centerX + radius * vector.x;\n                y1 = this.centerY + radius * vector.y;\n                x2 = x1 + (axis.majorTickLines.height * (Math.cos(angle * Math.PI / 180)) * (axis.tickPosition === 'Inside' ? 1 : -1));\n                y2 = y1 + (axis.majorTickLines.height * (Math.sin(angle * Math.PI / 180)) * (axis.tickPosition === 'Inside' ? 1 : -1));\n                majorTick = majorTick.concat('M ' + x1 + ' ' + y1 +\n                    ' L ' + x2 + ' ' + y2 + ' ');\n            }\n        }\n        this.renderTickLine(axis, index, majorTick, '');\n    };\n    PolarRadarPanel.prototype.drawXAxisGridLine = function (axis, index) {\n        var chart = this.chart;\n        var tempInterval;\n        var vector;\n        var majorGrid = '';\n        var majorTick = '';\n        var minorGirdLine = '';\n        var minorTickLine = '';\n        var x1 = this.centerX;\n        var x2;\n        var y1 = this.centerY;\n        var y2;\n        var minorDirection;\n        var tickSize = axis.majorTickLines.height;\n        var rect = axis.rect;\n        var length = axis.visibleLabels.length;\n        //Gridlines\n        for (var i = 0; i < length; i++) {\n            tempInterval = axis.visibleLabels[i].value;\n            vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[i].value, axis), this.startAngle);\n            x2 = this.centerX + chart.radius * vector.x;\n            y2 = this.centerY + chart.radius * vector.y;\n            var xLoc = x2 + (axis.majorTickLines.height * vector.x * (axis.tickPosition === 'Inside' ? -1 : 1));\n            var yLoc = y2 + (axis.majorTickLines.height * vector.y * (axis.tickPosition === 'Inside' ? -1 : 1));\n            majorGrid = majorGrid.concat('M ' + x1 + ' ' + y1 + ' ' + 'L' + x2 + ' ' + y2);\n            majorTick = majorTick.concat('M ' + x2 + ' ' + y2 +\n                ' L ' + xLoc + ' ' + yLoc + ' ');\n            if (axis.minorTicksPerInterval > 0 && (axis.minorGridLines.width > 0 || axis.minorTickLines.width > 0)\n                && axis.valueType !== 'Category' && chart.visibleSeries[0].type !== 'Radar') {\n                minorDirection = this.drawAxisMinorLine(axis, tempInterval, minorGirdLine, minorTickLine);\n                minorGirdLine = minorDirection[0];\n                minorTickLine = minorDirection[1];\n            }\n        }\n        this.renderTickLine(axis, index, majorTick, minorTickLine);\n        this.renderGridLine(axis, index, majorGrid, minorGirdLine);\n    };\n    PolarRadarPanel.prototype.drawAxisMinorLine = function (axis, tempInterval, minorGird, minorTick) {\n        var value = tempInterval;\n        var x;\n        var y;\n        var vector;\n        var range = axis.visibleRange;\n        var direction = [];\n        var tickSize = axis.minorTickLines.height;\n        var rect = axis.rect;\n        for (var j = 0; j < axis.minorTicksPerInterval; j++) {\n            value += (axis.valueType === 'DateTime' ? axis.dateTimeInterval : axis.visibleRange.interval) /\n                (axis.minorTicksPerInterval + 1);\n            if (inside(value, range)) {\n                vector = CoefficientToVector(valueToPolarCoefficient(value, axis), this.startAngle);\n                x = this.centerX + this.chart.radius * vector.x;\n                y = this.centerY + this.chart.radius * vector.y;\n                var tickXSize = x + (axis.minorTickLines.height * vector.x * (axis.tickPosition === 'Inside' ? -1 : 1));\n                var tickYSize = y + (axis.minorTickLines.height * vector.y * (axis.tickPosition === 'Inside' ? -1 : 1));\n                minorGird = minorGird.concat('M' + ' ' + this.centerX + ' ' + this.centerY\n                    + 'L ' + x + ' ' + y);\n                minorTick = minorTick.concat('M' + ' ' + x + ' ' + y + 'L' + ' ' + (tickXSize) + ' ' +\n                    (tickYSize));\n            }\n        }\n        direction.push(minorGird);\n        direction.push(minorTick);\n        return direction;\n    };\n    /**\n     * To render the axis label.\n     * @return {void}\n     * @private\n     */\n    PolarRadarPanel.prototype.drawXAxisLabels = function (axis, index) {\n        var chart = this.chart;\n        var pointX = 0;\n        var elementSize;\n        var pointY = 0;\n        var labelElement = chart.renderer.createGroup({ id: chart.element.id + 'AxisLabels' + index });\n        var options;\n        var vector;\n        var labelText;\n        var firstLabelX;\n        var islabelInside = axis.labelPosition === 'Inside';\n        var padding = 5;\n        var lastLabelX;\n        var textAnchor = '';\n        var ticksbwtLabel = axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks'\n            && chart.visibleSeries[0].type !== 'Radar' ? 0.5 : 0;\n        var radius = chart.radius + axis.majorTickLines.height;\n        radius = (islabelInside) ? -radius : radius;\n        for (var i = 0, len = axis.visibleLabels.length; i < len; i++) {\n            vector = CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[i].value + ticksbwtLabel, axis), this.startAngle);\n            if (!isNaN(vector.x) && !isNaN(vector.y)) {\n                pointX = this.centerX + (radius + axis.majorTickLines.height + padding) * vector.x;\n                pointY = this.centerY + (radius + axis.majorTickLines.height + padding) * vector.y;\n                textAnchor = parseFloat(pointX.toFixed(1)) === parseFloat(this.centerX.toFixed(1)) ? 'middle' :\n                    ((pointX < this.centerX && !islabelInside) || (pointX > this.centerX && islabelInside)) ? 'end' : 'start';\n            }\n            labelText = axis.visibleLabels[i].text;\n            if (i === 0) {\n                firstLabelX = pointX;\n            }\n            else if (i === axis.visibleLabels.length - 1 && axis.valueType !== 'Category') {\n                lastLabelX = measureText(labelText, axis.labelStyle).height;\n                lastLabelX += pointX;\n                labelText = (lastLabelX > firstLabelX) ? '' : labelText;\n            }\n            options = new TextOption(chart.element.id + index + '_AxisLabel_' + i, pointX, pointY, textAnchor, labelText, '', 'central');\n            textElement(options, axis.labelStyle, axis.labelStyle.color || chart.themeStyle.axisLabel, labelElement);\n        }\n        this.element.appendChild(labelElement);\n    };\n    PolarRadarPanel.prototype.renderTickLine = function (axis, index, majorTickLine, minorTickLine) {\n        var tickOptions;\n        var chart = this.chart;\n        if (axis.majorTickLines.width > 0) {\n            tickOptions = new PathOption(chart.element.id + '_MajorTickLine_' + index, 'transparent', axis.majorTickLines.width, axis.majorTickLines.color || chart.themeStyle.majorTickLine, null, null, majorTickLine);\n            chart.yAxisElements.appendChild(chart.renderer.drawPath(tickOptions));\n        }\n        if (axis.minorTickLines.width > 0) {\n            tickOptions = new PathOption(chart.element.id + '_MinorTickLine_' + index, 'transparent', axis.minorTickLines.width, axis.minorTickLines.color || chart.themeStyle.minorTickLine, null, null, minorTickLine);\n            chart.yAxisElements.appendChild(chart.renderer.drawPath(tickOptions));\n        }\n    };\n    PolarRadarPanel.prototype.renderGridLine = function (axis, index, majorGrid, minorGird) {\n        var chart = this.chart;\n        var gridOptions;\n        if (axis.majorGridLines.width > 0) {\n            gridOptions = new PathOption(chart.element.id + '_MajorGridLine_' + index, 'transparent', axis.majorGridLines.width, axis.majorGridLines.color || chart.themeStyle.majorGridLine, null, axis.majorGridLines.dashArray, majorGrid);\n            this.element.appendChild(chart.renderer.drawPath(gridOptions));\n        }\n        if (axis.minorGridLines.width > 0) {\n            gridOptions = new PathOption(chart.element.id + '_MinorGridLine_' + index, 'transparent', axis.minorGridLines.width, axis.minorGridLines.color || chart.themeStyle.minorGridLine, null, axis.minorGridLines.dashArray, minorGird);\n            this.element.appendChild(chart.renderer.drawPath(gridOptions));\n        }\n    };\n    return PolarRadarPanel;\n}(LineBase));\nexport { PolarRadarPanel };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption, logBase, markerAnimate, PolarArc, valueToCoefficient, firstToLowerCase } from '../../common/utils/helper';\nimport { PolarRadarPanel } from '../axis/polar-radar-panel';\nimport { pointRender } from '../../common/model/constants';\nimport { Animation } from '@syncfusion/ej2-base';\n/**\n * `PolarSeries` module is used to render the polar series.\n */\nvar PolarSeries = /** @class */ (function (_super) {\n    __extends(PolarSeries, _super);\n    function PolarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Polar Series.\n     * @return {void}.\n     * @private\n     */\n    PolarSeries.prototype.render = function (series) {\n        var seriesType = firstToLowerCase(series.drawType);\n        if (series.drawType.indexOf('Column') > -1) {\n            this.columnDrawTypeRender(series);\n        }\n        else {\n            series.chart[seriesType + 'SeriesModule'].render(series, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        }\n    };\n    /**\n     * Render Column DrawType.\n     * @return {void}.\n     * @private\n     */\n    PolarSeries.prototype.columnDrawTypeRender = function (series) {\n        var visiblePoints = series.points;\n        var rect;\n        var options;\n        var argsData;\n        var startAngle;\n        var endAngle;\n        var itemCurrentXPos;\n        var radius;\n        var pointStartAngle;\n        var pointEndAngle;\n        var x1;\n        var x2;\n        var y1;\n        var y2;\n        var startValue;\n        var endValue;\n        var innerRadius;\n        var centerX = (series.clipRect.width / 2) + series.clipRect.x;\n        var dStartX;\n        var dStartY;\n        var centerY = (series.clipRect.height / 2) + series.clipRect.y;\n        var dEndX;\n        var dEndY;\n        var axisInversed = series.xAxis.isInversed ? 1 : 0;\n        var direction = '';\n        var sumofYValues = 0;\n        var interval = (series.points[1] ? series.points[1].xValue : 2 * series.points[0].xValue) - series.points[0].xValue;\n        var ticks = series.xAxis.valueType === 'Category' && series.xAxis.labelPlacement === 'BetweenTicks' ? 0 : interval / 2;\n        var rangeInterval = series.xAxis.valueType === 'DateTime' ? series.xAxis.dateTimeInterval : 1;\n        var min = series.xAxis.actualRange.min;\n        var inversedValue;\n        this.getSeriesPosition(series);\n        var position = series.xAxis.isInversed ? (series.rectCount - 1 - series.position) : series.position;\n        var ticksbwtLabel = series.xAxis.valueType === 'Category' && series.xAxis.labelPlacement === 'BetweenTicks' ? 0.5\n            : 0.5 - (series.rectCount / 2);\n        do {\n            sumofYValues += rangeInterval;\n            min += rangeInterval;\n        } while (min <= series.xAxis.actualRange.max - (series.xAxis.valueType === 'Category' ? 0 : 1));\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                inversedValue = series.xAxis.isInversed ? (series.xAxis.visibleRange.max - point.xValue) :\n                    point.xValue - series.xAxis.visibleRange.min;\n                itemCurrentXPos = (inversedValue) +\n                    ((interval / series.rectCount) * position - ticks) + (sumofYValues / 360 * series.xAxis.startAngle);\n                itemCurrentXPos = (((itemCurrentXPos) / (sumofYValues)));\n                startAngle = 2 * Math.PI * (itemCurrentXPos + series.xAxis.startAngle);\n                endAngle = 2 * Math.PI * ((itemCurrentXPos + series.xAxis.startAngle) + (interval / series.rectCount) / (sumofYValues));\n                pointStartAngle = startAngle;\n                pointEndAngle = endAngle;\n                startAngle = (startAngle - 0.5 * Math.PI);\n                endAngle = (endAngle - 0.5 * Math.PI) - 0.000001;\n                if (series.drawType === 'StackingColumn' || series.drawType === 'RangeColumn') {\n                    startValue = series.drawType === 'RangeColumn' ? point.low : series.stackedValues.startValues[point.index];\n                    endValue = series.drawType === 'RangeColumn' ? point.high : series.stackedValues.endValues[point.index];\n                    endValue = (series.yAxis.valueType === 'Logarithmic' ?\n                        logBase(endValue === 0 ? 1 : endValue, series.yAxis.logBase) : endValue);\n                    endValue = endValue > series.yAxis.actualRange.max ? series.yAxis.actualRange.max : endValue;\n                    radius = startValue === endValue ? 0 : series.chart.radius * valueToCoefficient(endValue, series.yAxis);\n                    x1 = centerX + radius * Math.cos(startAngle);\n                    x2 = centerX + radius * Math.cos(endAngle);\n                    y1 = centerY + radius * Math.sin(startAngle);\n                    y2 = centerY + radius * Math.sin(endAngle);\n                    innerRadius = series.chart.radius * valueToCoefficient((startValue === 0 && series.yAxis.visibleRange.min !== 0) ? series.yAxis.visibleRange.min : startValue, series.yAxis);\n                    dStartX = centerX + innerRadius * Math.cos(startAngle);\n                    dStartY = centerY + innerRadius * Math.sin(startAngle);\n                    dEndX = centerX + innerRadius * Math.cos(endAngle);\n                    dEndY = centerY + innerRadius * Math.sin(endAngle);\n                    if (series.type === 'Polar') {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'A' + ' ' + radius + ' ' + radius + ' ' + '0' + ' '\n                            + '0' + ' ' + 1 + ' ' + x2 + ' ' + y2 + ' ' + 'L' + ' ' + dEndX + ' ' + dEndY + ' ' +\n                            'A' + ' ' + innerRadius + ' ' + innerRadius + ' ' + '1' + ' ' + '0' + ' ' + '0' + ' '\n                            + dStartX + ' ' + dStartY + ' ' + 'z');\n                    }\n                    else {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'L' + ' ' + x2 + ' ' + y2 + ' ' + 'L'\n                            + dEndX + ' ' + dEndY + ' ' + 'L' + ' ' + dStartX + ' ' + dStartY + ' ' + 'z');\n                    }\n                    point.regionData = new PolarArc(pointStartAngle, pointEndAngle, innerRadius, radius, itemCurrentXPos);\n                }\n                else {\n                    endValue = point.yValue > series.yAxis.actualRange.max ? series.yAxis.actualRange.max : point.yValue;\n                    radius = series.chart.radius * valueToCoefficient((series.yAxis.valueType === 'Logarithmic' ? logBase(endValue, series.yAxis.logBase) : endValue), series.yAxis);\n                    x1 = centerX + radius * Math.cos(startAngle);\n                    x2 = centerX + radius * Math.cos(endAngle);\n                    y1 = centerY + radius * Math.sin(startAngle);\n                    y2 = centerY + radius * Math.sin(endAngle);\n                    if (series.type === 'Polar') {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'A' + ' ' + radius + ' ' + radius + ' ' + '0' + ' ' +\n                            '0' + ' ' + 1 + ' ' + x2 + ' ' + y2 + ' ' + 'L' + ' ' + centerX + ' ' +\n                            centerY + ' ' + 'z');\n                    }\n                    else {\n                        direction = ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'L' + ' ' + x2 + ' ' + y2 + ' ' + 'L' + ' '\n                            + centerX + ' ' + centerY + ' ' + 'z');\n                    }\n                    point.regionData = new PolarArc(pointStartAngle, pointEndAngle, 0, radius, itemCurrentXPos);\n                }\n                argsData = this.triggerEvent(series.chart, series, point);\n                options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n                if (!argsData.cancel) {\n                    this.appendLinePath(options, series, '');\n                    if (series.type === 'Polar') {\n                        point.symbolLocations.push({\n                            x: centerX + radius * Math.cos((startAngle + (endAngle - startAngle) / 2)),\n                            y: centerY + radius * Math.sin((startAngle + (endAngle - startAngle) / 2))\n                        });\n                    }\n                    else {\n                        point.symbolLocations.push({ x: (x1 + x2) / 2, y: (y1 + y2) / 2 });\n                    }\n                }\n            }\n        }\n        series.isRectSeries = true;\n    };\n    /**\n     * To trigger the point rendering event.\n     * @return {void}\n     * @private\n     */\n    PolarSeries.prototype.triggerEvent = function (chart, series, point) {\n        var argsData = {\n            cancel: false, name: pointRender, series: series, point: point,\n            fill: series.setPointColor(point, series.interior),\n            border: series.setBorderColor(point, { width: series.border.width, color: series.border.color })\n        };\n        chart.trigger(pointRender, argsData);\n        point.color = argsData.fill;\n        return argsData;\n    };\n    /** get position for column drawtypes\n     * @return {void}.\n     * @private\n     */\n    PolarSeries.prototype.getSeriesPosition = function (series) {\n        var chart = series.chart;\n        var seriesCollection = [];\n        var stackingGroup = [];\n        var vSeries = { rectCount: 0, position: null };\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series_1 = _a[_i];\n            if (series_1.visible && (series_1.type === 'Polar' || series_1.type === 'Radar') && series_1.drawType.indexOf('Column') !== -1) {\n                seriesCollection.push(series_1);\n            }\n        }\n        seriesCollection.forEach(function (series) {\n            if (series.drawType.indexOf('Stacking') !== -1) {\n                if (series.stackingGroup) {\n                    if (stackingGroup[series.stackingGroup] === undefined) {\n                        series.position = vSeries.rectCount;\n                        stackingGroup[series.stackingGroup] = vSeries.rectCount++;\n                    }\n                    else {\n                        series.position = stackingGroup[series.stackingGroup];\n                    }\n                }\n                else {\n                    if (vSeries.position === null) {\n                        series.position = vSeries.rectCount;\n                        vSeries.position = vSeries.rectCount++;\n                    }\n                    else {\n                        series.position = vSeries.position;\n                    }\n                }\n            }\n            else {\n                series.position = vSeries.rectCount++;\n            }\n        });\n        seriesCollection.forEach(function (value) {\n            value.rectCount = vSeries.rectCount;\n        });\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    PolarSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        var duration = series.animation.duration;\n        var delay = series.animation.delay;\n        var rectElements = series.seriesElement.childNodes;\n        var count = 1;\n        if (series.drawType === 'Scatter') {\n            for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                if (!point.symbolLocations.length || !rectElements[count]) {\n                    continue;\n                }\n                markerAnimate(rectElements[count], delay, duration, series, point.index, point.symbolLocations[0], false);\n                count++;\n            }\n        }\n        else {\n            for (count = 1; count < rectElements.length; count++) {\n                this.doPolarRadarAnimation(rectElements[count], delay, duration, series);\n            }\n        }\n    };\n    /**\n     * To do the Polar Radar draw type column animation.\n     * @return {void}\n     * @private\n     */\n    PolarSeries.prototype.doPolarRadarAnimation = function (animateElement, delay, duration, series) {\n        var chartcenterX = series.clipRect.width / 2 + series.clipRect.x;\n        var chartcenterY = series.clipRect.height / 2 + series.clipRect.y;\n        var elementHeight = 0;\n        animateElement.style.visibility = 'hidden';\n        new Animation({}).animate(animateElement, {\n            duration: duration,\n            delay: delay,\n            progress: function (args) {\n                if (args.timeStamp > args.delay) {\n                    args.element.style.visibility = 'visible';\n                    elementHeight = ((args.timeStamp - args.delay) / args.duration);\n                    animateElement.setAttribute('transform', 'translate(' + chartcenterX\n                        + ' ' + chartcenterY + ') scale(' + elementHeight + ') translate(' + (-chartcenterX) + ' ' + (-chartcenterY) + ')');\n                }\n            },\n            end: function (model) {\n                animateElement.style.visibility = 'visible';\n                animateElement.removeAttribute('transform');\n                series.chart.trigger('animationComplete', { series: series });\n            }\n        });\n    };\n    /**\n     * Get module name.\n     */\n    PolarSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'PolarSeries';\n    };\n    /**\n     * To destroy the polar series.\n     * @return {void}\n     * @private\n     */\n    PolarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return PolarSeries;\n}(PolarRadarPanel));\nexport { PolarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { PolarSeries } from '../series/polar-series';\n/**\n * `RadarSeries` module is used to render the radar series.\n */\nvar RadarSeries = /** @class */ (function (_super) {\n    __extends(RadarSeries, _super);\n    function RadarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render radar Series.\n     * @return {void}.\n     * @private\n     */\n    RadarSeries.prototype.render = function (series) {\n        var seriesType = firstToLowerCase(series.drawType);\n        if (series.drawType.indexOf('Column') === -1) {\n            series.chart[seriesType + 'SeriesModule'].render(series, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        }\n        else {\n            this.columnDrawTypeRender(series);\n        }\n    };\n    /**\n     * Get module name.\n     */\n    RadarSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'RadarSeries';\n    };\n    /**\n     * To destroy the radar series.\n     * @return {void}\n     * @private\n     */\n    RadarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return RadarSeries;\n}(PolarSeries));\nexport { RadarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `StackingBarSeries` module is used to render the stacking bar series.\n */\nvar StackingBarSeries = /** @class */ (function (_super) {\n    __extends(StackingBarSeries, _super);\n    function StackingBarSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Stacking bar series.\n     * @return {void}\n     * @private\n     */\n    StackingBarSeries.prototype.render = function (series) {\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var stackedValue = series.stackedValues;\n        var rect;\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var pointStack = _a[_i];\n            pointStack.symbolLocations = [];\n            pointStack.regions = [];\n            if (pointStack.visible && withInRange(series.points[pointStack.index - 1], pointStack, series.points[pointStack.index + 1], series)) {\n                rect = this.getRectangle(pointStack.xValue + sideBySideInfo.start, stackedValue.endValues[pointStack.index], pointStack.xValue + sideBySideInfo.end, stackedValue.startValues[pointStack.index], series);\n                argsData = this.triggerEvent(series, pointStack, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.drawRectangle(series, pointStack, rect, argsData);\n                    this.updateSymbolLocation(pointStack, rect, series);\n                }\n            }\n        }\n    };\n    /**\n     * To destroy the stacking bar.\n     * @return {void}\n     * @private\n     */\n    StackingBarSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StackingBarSeries.prototype.getModuleName = function () {\n        return 'StackingBarSeries';\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    StackingBarSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    return StackingBarSeries;\n}(ColumnBase));\nexport { StackingBarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `CandleSeries` module is used to render the candle series.\n */\nvar CandleSeries = /** @class */ (function (_super) {\n    __extends(CandleSeries, _super);\n    function CandleSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Candle series.\n     * @return {void}\n     * @private\n     */\n    CandleSeries.prototype.render = function (series) {\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        var borderWidth = Math.max(series.border.width, 1);\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            var direction = '';\n            var centerRegion = void 0;\n            var tickRegion = void 0;\n            var midPoint = void 0;\n            midPoint = (sideBySideInfo.start + sideBySideInfo.end) / 2;\n            //initializing after zooming and also normal initialization\n            point.regions = [];\n            point.symbolLocations = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                //region to cover the top and bottom ticks\n                tickRegion = this.getRectangle((point.xValue + sideBySideInfo.median), Math.max(point.high, point.low), (point.xValue + sideBySideInfo.median), Math.min(point.high, point.low), series);\n                if (!series.chart.requireInvertedAxis) {\n                    tickRegion.x -= borderWidth / 2;\n                    tickRegion.width = borderWidth;\n                }\n                else {\n                    tickRegion.y -= borderWidth / 2;\n                    tickRegion.height = borderWidth;\n                }\n                //get middleRect\n                centerRegion = this.getRectangle((point.xValue + sideBySideInfo.start), Math.max(point.open, point.close), (point.xValue + sideBySideInfo.end), Math.min(point.open, point.close), series);\n                direction = this.getPathString(tickRegion, centerRegion, series);\n                argsData = this.triggerPointRenderEvent(series, point);\n                if (!argsData.cancel) {\n                    this.drawCandle(series, point, centerRegion, argsData, direction);\n                    this.updateSymbolLocation(point, tickRegion, series);\n                    this.updateSymbolLocation(point, centerRegion, series);\n                }\n            }\n        }\n    };\n    /**\n     * Trigger point rendering event\n     */\n    CandleSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var fill;\n        fill = this.getCandleColor(point, series);\n        var border = { color: series.border.color, width: Math.max(series.border.width, 1) };\n        return this.triggerEvent(series, point, fill, border);\n    };\n    /**\n     * Find the color of the candle\n     * @param series\n     * @private\n     */\n    CandleSeries.prototype.getCandleColor = function (point, series) {\n        var currentPoint = point;\n        var previousPoint = series.points[point.index - 1];\n        if (series.enableSolidCandles === false) {\n            if (!previousPoint) {\n                return series.bearFillColor;\n            }\n            else {\n                return previousPoint.close > point.close ? series.bullFillColor :\n                    series.bearFillColor;\n            }\n        }\n        else {\n            return point.open > point.close ? series.bullFillColor :\n                series.bearFillColor;\n        }\n    };\n    /**\n     * Finds the path of the candle shape\n     * @param Series\n     * @private\n     */\n    CandleSeries.prototype.getPathString = function (topRect, midRect, series) {\n        var direction = '';\n        var width = series.chart.requireInvertedAxis ? topRect.height : topRect.width;\n        var center = series.chart.requireInvertedAxis ? topRect.y + topRect.height / 2 :\n            topRect.x + topRect.width / 2;\n        //tick 1 segment\n        direction += !series.chart.requireInvertedAxis ?\n            'M' + ' ' + (center) + ' ' + (topRect.y) + ' ' + 'L' + ' ' + (center) + ' ' + midRect.y :\n            'M' + ' ' + (topRect.x) + ' ' + (center) + ' ' + 'L' + ' ' + (midRect.x) + ' ' + center;\n        direction = direction.concat(' M' + ' ' + (midRect.x) + ' ' + (midRect.y) + ' ' +\n            'L' + ' ' + (midRect.x + midRect.width) + ' ' + (midRect.y) + ' ' +\n            'L' + ' ' + (midRect.x + midRect.width) + ' ' +\n            (midRect.y + midRect.height) + ' ' +\n            'L' + ' ' + (midRect.x) + ' ' + (midRect.y + midRect.height) +\n            ' ' + 'Z');\n        direction += !series.chart.requireInvertedAxis ?\n            ' M' + ' ' + (center) + ' ' + (midRect.y + midRect.height) + ' ' + 'L' + ' ' + (center) + ' ' + (topRect.y +\n                topRect.height) :\n            ' M' + ' ' + (midRect.x + midRect.width) + ' ' + (center) + ' ' + 'L' + ' ' +\n                (topRect.x + topRect.width) + ' ' + center;\n        return direction;\n    };\n    /**\n     * Draws the candle shape\n     * @param series\n     * @private\n     */\n    CandleSeries.prototype.drawCandle = function (series, point, rect, argsData, direction) {\n        var check = series.chart.requireInvertedAxis ? rect.height : rect.width;\n        if (check <= 0) {\n            return null;\n        }\n        var fill = !series.enableSolidCandles ?\n            (point.open > point.close ? argsData.fill : 'transparent') : argsData.fill;\n        argsData.border.color = argsData.fill;\n        var options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index, fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n        var candleElement = series.chart.renderer.drawPath(options);\n        candleElement.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString()\n            + ':' + point.low.toString() + ':' + point.close.toString() + ':' + point.open.toString());\n        series.seriesElement.appendChild(candleElement);\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    CandleSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    CandleSeries.prototype.getModuleName = function () {\n        return 'CandleSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the candle series.\n     * @return {void}\n     * @private\n     */\n    CandleSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the candle series.\n         */\n    };\n    return CandleSeries;\n}(ColumnBase));\nexport { CandleSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `StackingColumnSeries` module used to render the stacking column series.\n */\nvar StackingColumnSeries = /** @class */ (function (_super) {\n    __extends(StackingColumnSeries, _super);\n    function StackingColumnSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Stacking column series.\n     * @return {void}\n     * @private\n     */\n    StackingColumnSeries.prototype.render = function (series) {\n        series.isRectSeries = true;\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var rect;\n        var argsData;\n        var stackedValue = series.stackedValues;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                rect = this.getRectangle(point.xValue + sideBySideInfo.start, stackedValue.endValues[point.index], point.xValue + sideBySideInfo.end, stackedValue.startValues[point.index], series);\n                argsData = this.triggerEvent(series, point, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.drawRectangle(series, point, rect, argsData);\n                    this.updateSymbolLocation(point, rect, series);\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    StackingColumnSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the stacking column.\n     * @return {void}\n     * @private\n     */\n    StackingColumnSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StackingColumnSeries.prototype.getModuleName = function () {\n        return 'StackingColumnSeries';\n    };\n    return StackingColumnSeries;\n}(ColumnBase));\nexport { StackingColumnSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, getPoint, withInRange } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * `StepLineSeries` module is used to render the step line series.\n */\nvar StepLineSeries = /** @class */ (function (_super) {\n    __extends(StepLineSeries, _super);\n    function StepLineSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Step line series.\n     * @return {void}\n     * @private\n     */\n    StepLineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var direction = '';\n        var startPoint = 'M';\n        var prevPoint = null;\n        var pathOptions;\n        var lineLength;\n        var point1;\n        var point2;\n        var visiblePoints = this.improveChartPerformance(series);\n        if (xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks') {\n            lineLength = 0.5;\n        }\n        else {\n            lineLength = 0;\n        }\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                if (prevPoint != null) {\n                    point2 = getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted);\n                    point1 = getPoint(prevPoint.xValue, prevPoint.yValue, xAxis, yAxis, isInverted);\n                    direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ' + 'L' + ' ' +\n                        (point2.x) + ' ' + (point1.y) + 'L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n                    startPoint = 'L';\n                }\n                else {\n                    point1 = getPoint(point.xValue - lineLength, point.yValue, xAxis, yAxis, isInverted);\n                    direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n                    startPoint = 'L';\n                }\n                this.storePointLocation(point, series, isInverted, getPoint);\n                prevPoint = point;\n            }\n            else {\n                prevPoint = series.emptyPointSettings.mode === 'Drop' ? prevPoint : null;\n                startPoint = series.emptyPointSettings.mode === 'Drop' ? startPoint : 'M';\n            }\n        }\n        point1 = getPoint(visiblePoints[visiblePoints.length - 1].xValue + lineLength, visiblePoints[visiblePoints.length - 1].yValue, xAxis, yAxis, isInverted);\n        direction = direction.concat(startPoint + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n        pathOptions = new PathOption(series.chart.element.id + '_Series_' + series.index, 'transparent', series.width, series.interior, series.opacity, series.dashArray, direction);\n        this.appendLinePath(pathOptions, series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    StepLineSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * To destroy the step line series.\n     * @return {void}\n     * @private\n     */\n    StepLineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StepLineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'StepLineSeries';\n    };\n    return StepLineSeries;\n}(LineBase));\nexport { StepLineSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getPoint, withInRange, ChartLocation, PathOption } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * `StepAreaSeries` Module used to render the step area series.\n */\nvar StepAreaSeries = /** @class */ (function (_super) {\n    __extends(StepAreaSeries, _super);\n    function StepAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render StepArea series.\n     * @return {void}\n     * @private\n     */\n    StepAreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var currentPoint;\n        var secondPoint;\n        var start = null;\n        var direction = '';\n        var pointsLength = series.points.length;\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var options;\n        var point;\n        var xValue;\n        var lineLength;\n        var prevPoint = null;\n        if (xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks') {\n            lineLength = 0.5;\n        }\n        else {\n            lineLength = 0;\n        }\n        for (var i = 0; i < pointsLength; i++) {\n            point = series.points[i];\n            xValue = point.xValue;\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[i - 1], point, series.points[i + 1], series)) {\n                if (start === null) {\n                    start = new ChartLocation(xValue, 0);\n                    // Start point for the current path\n                    currentPoint = getPoint(xValue - lineLength, origin, xAxis, yAxis, isInverted);\n                    direction += ('M' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ');\n                    currentPoint = getPoint(xValue - lineLength, point.yValue, xAxis, yAxis, isInverted);\n                    direction += ('L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ');\n                }\n                // First Point to draw the Steparea path\n                if (prevPoint != null) {\n                    currentPoint = getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted);\n                    secondPoint = getPoint(prevPoint.xValue, prevPoint.yValue, xAxis, yAxis, isInverted);\n                    direction += ('L' + ' ' +\n                        (currentPoint.x) + ' ' + (secondPoint.y) + 'L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ');\n                }\n                else if (series.emptyPointSettings.mode === 'Gap') {\n                    currentPoint = getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted);\n                    direction += 'L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y) + ' ';\n                }\n                this.storePointLocation(point, series, isInverted, getPoint);\n                prevPoint = point;\n            }\n            if (series.points[i + 1] && !series.points[i + 1].visible && series.emptyPointSettings.mode !== 'Drop') {\n                // current start point\n                currentPoint = getPoint(xValue + lineLength, origin, xAxis, yAxis, isInverted);\n                direction += ('L' + ' ' + (currentPoint.x) + ' ' + (currentPoint.y));\n                start = null;\n                prevPoint = null;\n            }\n        }\n        if (pointsLength > 1) {\n            start = { 'x': series.points[pointsLength - 1].xValue + lineLength, 'y': series.points[pointsLength - 1].yValue };\n            secondPoint = getPoint(start.x, start.y, xAxis, yAxis, isInverted);\n            direction += ('L' + ' ' + (secondPoint.x) + ' ' + (secondPoint.y) + ' ');\n            start = { 'x': series.points[pointsLength - 1].xValue + lineLength, 'y': origin };\n            secondPoint = getPoint(start.x, start.y, xAxis, yAxis, isInverted);\n            direction += ('L' + ' ' + (secondPoint.x) + ' ' + (secondPoint.y) + ' ');\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    StepAreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * To destroy the step Area series.\n     * @return {void}\n     * @private\n     */\n    StepAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StepAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'StepAreaSeries';\n    };\n    return StepAreaSeries;\n}(LineBase));\nexport { StepAreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, getPoint, withInRange, Rect, TransformToVisible } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * `StackingAreaSeries` module used to render the Stacking Area series.\n */\nvar StackingAreaSeries = /** @class */ (function (_super) {\n    __extends(StackingAreaSeries, _super);\n    function StackingAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the Stacking area series.\n     * @return {void}\n     * @private\n     */\n    StackingAreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var polarAreaType = series.chart.chartAreaType === 'PolarRadar';\n        var getCoordinate = polarAreaType ? TransformToVisible : getPoint;\n        var lineDirection = '';\n        var visiblePoints = series.points;\n        var pointsLength = visiblePoints.length;\n        var stackedvalue = series.stackedValues;\n        var origin = polarAreaType ?\n            Math.max(series.yAxis.visibleRange.min, stackedvalue.endValues[0]) :\n            Math.max(series.yAxis.visibleRange.min, stackedvalue.startValues[0]);\n        var border = series.border;\n        var options;\n        var startPoint = 0;\n        var point1 = getCoordinate(visiblePoints[0].xValue, origin, xAxis, yAxis, isInverted, series);\n        var point2;\n        lineDirection = lineDirection.concat('M' + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n        for (var i = 0; i < pointsLength; i++) {\n            visiblePoints[i].symbolLocations = [];\n            visiblePoints[i].regions = [];\n            if (visiblePoints[i].visible && withInRange(visiblePoints[i - 1], visiblePoints[i], visiblePoints[i + 1], series)) {\n                point1 = getCoordinate(visiblePoints[i].xValue, stackedvalue.endValues[i], xAxis, yAxis, isInverted, series);\n                lineDirection = lineDirection.concat('L' + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n                visiblePoints[i].symbolLocations.push(getCoordinate(visiblePoints[i].xValue, stackedvalue.endValues[i], xAxis, yAxis, isInverted, series));\n                visiblePoints[i].regions.push(new Rect(visiblePoints[i].symbolLocations[0].x - series.marker.width, visiblePoints[i].symbolLocations[0].y - series.marker.height, 2 * series.marker.width, 2 * series.marker.height));\n            }\n            else {\n                if (series.emptyPointSettings.mode !== 'Drop') {\n                    for (var j = i - 1; j >= startPoint; j--) {\n                        point2 = getCoordinate(visiblePoints[j].xValue, stackedvalue.startValues[j], xAxis, yAxis, isInverted, series);\n                        lineDirection = lineDirection.concat('L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n                    }\n                    if (visiblePoints[i + 1] && visiblePoints[i + 1].visible) {\n                        point1 = getCoordinate(visiblePoints[i + 1].xValue, stackedvalue.startValues[i + 1], xAxis, yAxis, isInverted, series);\n                        lineDirection = lineDirection.concat('M' + ' ' + (point1.x) + ' ' + (point1.y) + ' ');\n                    }\n                    startPoint = i + 1;\n                }\n            }\n        }\n        if (series.chart.chartAreaType === 'PolarRadar' && visiblePoints.length > 1) {\n            point1 = { 'x': series.points[0].xValue, 'y': stackedvalue.endValues[0] };\n            point2 = getCoordinate(point1.x, point1.y, xAxis, yAxis, isInverted, series);\n            lineDirection += ('L' + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n        }\n        for (var j = pointsLength - 1; j >= startPoint; j--) {\n            var previousSeries = this.getPreviousSeries(series);\n            if (previousSeries.emptyPointSettings.mode !== 'Drop' || !previousSeries.points[j].isEmpty) {\n                point2 = getCoordinate(visiblePoints[j].xValue, stackedvalue.startValues[j], xAxis, yAxis, isInverted, series);\n                lineDirection = lineDirection.concat(((j === (pointsLength - 1) && polarAreaType) ? 'M' : 'L')\n                    + ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n            }\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, lineDirection);\n        this.appendLinePath(options, series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    StackingAreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * To destroy the stacking area.\n     * @return {void}\n     * @private\n     */\n    StackingAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StackingAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'StackingAreaSeries';\n    };\n    /**\n     * To find previous visible series\n     */\n    StackingAreaSeries.prototype.getPreviousSeries = function (series) {\n        var seriesCollection = series.chart.visibleSeries;\n        for (var i = 0, length_1 = seriesCollection.length; i < length_1; i++) {\n            if (series.index === seriesCollection[i].index && i !== 0) {\n                return seriesCollection[i - 1];\n            }\n        }\n        return seriesCollection[0];\n    };\n    return StackingAreaSeries;\n}(LineBase));\nexport { StackingAreaSeries };\n","import { withInRange, getPoint, PathOption, drawSymbol, Size, Rect, markerAnimate, TransformToVisible } from '../../common/utils/helper';\nimport { pointRender } from '../../common/model/constants';\n/**\n * `ScatterSeries` module is used to render the scatter series.\n */\nvar ScatterSeries = /** @class */ (function () {\n    function ScatterSeries() {\n    }\n    /**\n     * Render the scatter series.\n     * @return {void}\n     * @private\n     */\n    ScatterSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var seriesIndex = series.index;\n        var marker = series.marker;\n        var border = series.border;\n        var visiblePoints = series.points;\n        var pointIndex;\n        var symbolId;\n        var shapeOption;\n        var argsData;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                point.symbolLocations.push(getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series));\n                symbolId = series.chart.element.id + '_Series_' + seriesIndex + '_Point_' + point.index;\n                argsData = {\n                    cancel: false, name: pointRender, series: series, point: point,\n                    fill: series.setPointColor(point, series.interior),\n                    border: series.setBorderColor(point, { width: series.border.width, color: series.border.color }),\n                    height: marker.height, width: marker.width, shape: marker.shape\n                };\n                series.chart.trigger(pointRender, argsData);\n                if (!argsData.cancel) {\n                    point.color = argsData.fill;\n                    shapeOption = new PathOption(symbolId, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, null);\n                    series.seriesElement.appendChild(drawSymbol(point.symbolLocations[0], argsData.shape, new Size(argsData.width, argsData.height), marker.imageUrl, shapeOption, point.x.toString() + ':' + point.yValue.toString()));\n                    point.regions.push(new Rect(point.symbolLocations[0].x - marker.width, point.symbolLocations[0].y - marker.height, 2 * marker.width, 2 * marker.height));\n                    point.marker = {\n                        border: argsData.border, fill: argsData.fill,\n                        height: argsData.height, visible: true,\n                        width: argsData.width, shape: argsData.shape\n                    };\n                }\n                else {\n                    point.marker = { visible: true };\n                }\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    ScatterSeries.prototype.doAnimation = function (series) {\n        var duration = series.animation.duration;\n        var delay = series.animation.delay;\n        var rectElements = series.seriesElement.childNodes;\n        var count = 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (!point.symbolLocations.length || !rectElements[count]) {\n                continue;\n            }\n            markerAnimate(rectElements[count], delay, duration, series, point.index, point.symbolLocations[0], false);\n            count++;\n        }\n    };\n    /**\n     * Get module name.\n     */\n    ScatterSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'ScatterSeries';\n    };\n    /**\n     * To destroy the scatter.\n     * @return {void}\n     */\n    ScatterSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return ScatterSeries;\n}());\nexport { ScatterSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `RangeColumnSeries` module is used to render the range column series.\n */\nvar RangeColumnSeries = /** @class */ (function (_super) {\n    __extends(RangeColumnSeries, _super);\n    function RangeColumnSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Range Column series.\n     * @return {void}\n     * @private\n     */\n    RangeColumnSeries.prototype.render = function (series) {\n        var rect;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        //let origin: number = Math.max(<number>series.yAxis.visibleRange.min, 0);\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var rangePoint = _a[_i];\n            rangePoint.symbolLocations = [];\n            rangePoint.regions = [];\n            if (rangePoint.visible && withInRange(series.points[rangePoint.index - 1], rangePoint, series.points[rangePoint.index + 1], series)) {\n                rect = this.getRectangle(rangePoint.xValue + sideBySideInfo.start, rangePoint.high, rangePoint.xValue + sideBySideInfo.end, rangePoint.low, series);\n                argsData = this.triggerEvent(series, rangePoint, series.interior, { width: series.border.width, color: series.border.color });\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(rangePoint, rect, series);\n                    this.drawRectangle(series, rangePoint, rect, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * Get module name.\n     */\n    RangeColumnSeries.prototype.getModuleName = function () {\n        return 'RangeColumnSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    RangeColumnSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the range column series.\n     * @return {void}\n     * @private\n     */\n    RangeColumnSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return RangeColumnSeries;\n}(ColumnBase));\nexport { RangeColumnSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, withInRange, subArraySum } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `WaterfallSeries` module is used to render the waterfall series.\n */\nvar WaterfallSeries = /** @class */ (function (_super) {\n    __extends(WaterfallSeries, _super);\n    function WaterfallSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render waterfall series.\n     * @return {void}\n     * @private\n     */\n    WaterfallSeries.prototype.render = function (series) {\n        var rect;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var argsData;\n        var prevEndValue = 0;\n        var direction = '';\n        var currentEndValue = 0;\n        var originValue;\n        var prevRegion = null;\n        var y;\n        var isInversed = series.chart.requireInvertedAxis;\n        var intermediateOrigin = 0;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                //Calcute the current point value to render waterfall series.\n                var isSum = this.isIntermediateSum(series, point.index);\n                var totalSum = this.isSumIndex(series, point.index);\n                currentEndValue += isSum || totalSum === true ? 0 : point.yValue;\n                //Calcute the origin value for points\n                originValue = (isSum === true ? intermediateOrigin : ((prevEndValue !== null && !totalSum) ? prevEndValue : origin));\n                rect = this.getRectangle(point.xValue + sideBySideInfo.start, currentEndValue, point.xValue + sideBySideInfo.end, originValue, series);\n                argsData = this.triggerPointRenderEvent(series, point);\n                //intermediateOrigin is used only for imtermediate data \n                if (isSum) {\n                    intermediateOrigin = currentEndValue;\n                }\n                prevEndValue = currentEndValue;\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(point, rect, series);\n                    this.drawRectangle(series, point, rect, argsData);\n                }\n                var currentRegion = point.regions[0];\n                if (prevRegion !== null) {\n                    var prevLeft = isInversed ? prevRegion.x : prevRegion.y;\n                    var currentLeft = isInversed ? currentRegion.x : currentRegion.y;\n                    var prevBottom = isInversed ? prevRegion.x + prevRegion.width : prevRegion.y + prevRegion.height;\n                    var currentBottom = isInversed ?\n                        currentRegion.x + currentRegion.width : currentRegion.y + currentRegion.height;\n                    if (Math.round(prevLeft) === Math.round(currentLeft) ||\n                        Math.round(prevBottom) === Math.round(currentLeft)) {\n                        y = isInversed ? currentRegion.x : currentRegion.y;\n                    }\n                    else {\n                        y = currentBottom;\n                    }\n                    if (isInversed) {\n                        direction = direction.concat('M' + ' ' + y + ' ' + (prevRegion.y + prevRegion.height) + ' ' +\n                            'L' + ' ' + y + ' ' + currentRegion.y + ' ');\n                    }\n                    else {\n                        direction = direction.concat('M' + ' ' + prevRegion.x + ' ' + y + ' ' +\n                            'L' + ' ' + (currentRegion.x + currentRegion.width) + ' ' + y + ' ');\n                    }\n                }\n                prevRegion = point.regions[0];\n            }\n        }\n        var options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Connector_', 'none', series.connector.width, series.connector.color, series.opacity, series.connector.dashArray, direction);\n        var element = series.chart.renderer.drawPath(options);\n        if (series.chart.animateSeries) {\n            element.style.visibility = 'hidden';\n        }\n        series.seriesElement.appendChild(element);\n    };\n    /**\n     * To check intermediateSumIndex in waterfall series.\n     * @return boolean\n     * @private\n     */\n    WaterfallSeries.prototype.isIntermediateSum = function (series, index) {\n        if (series.intermediateSumIndexes !== undefined && series.intermediateSumIndexes.indexOf(index) !== -1) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To check sumIndex in waterfall series.\n     * @return boolean\n     * @private\n     */\n    WaterfallSeries.prototype.isSumIndex = function (series, index) {\n        if (series.sumIndexes !== undefined && series.sumIndexes.indexOf(index) !== -1) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * To trigger the point rendering event for waterfall series.\n     * @return IPointRenderEventArgs\n     * @private\n     */\n    WaterfallSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var color;\n        var isSum = this.isIntermediateSum(series, point.index);\n        var totalSum = this.isSumIndex(series, point.index);\n        if (isSum || totalSum) {\n            color = series.summaryFillColor;\n        }\n        else if (point.y < 0) {\n            color = series.negativeFillColor;\n        }\n        else {\n            color = series.interior;\n        }\n        return this.triggerEvent(series, point, color, { color: series.border.color, width: series.border.width });\n    };\n    /**\n     * Add sumIndex and intermediateSumIndex data.\n     * @return {object[]}\n     * @private\n     */\n    WaterfallSeries.prototype.processWaterfallData = function (json, series) {\n        var data = json;\n        var length = json.length;\n        var index;\n        var intermediateSum = series.intermediateSumIndexes;\n        var sumIndex = series.sumIndexes;\n        if (intermediateSum !== undefined && intermediateSum.length > 0) {\n            for (var i = 0; i < intermediateSum.length; i++) {\n                for (var j = 0; j < data.length; j++) {\n                    if (j === intermediateSum[i]) {\n                        if (i === 0) {\n                            index = subArraySum(data, -1, intermediateSum[i], null, series);\n                        }\n                        else {\n                            index = subArraySum(data, intermediateSum[i - 1], intermediateSum[i], null, series);\n                        }\n                        data[j][series.yName] = index;\n                    }\n                }\n            }\n        }\n        if (sumIndex !== undefined && sumIndex.length > 0) {\n            for (var k = 0; k < sumIndex.length; k++) {\n                for (var j = 0; j < data.length; j++) {\n                    if (j === sumIndex[k]) {\n                        if (intermediateSum !== undefined) {\n                            index = subArraySum(data, -1, sumIndex[k], sumIndex, series);\n                        }\n                        else {\n                            index = subArraySum(data, -1, sumIndex[k], null, series);\n                        }\n                        data[j][series.yName] = index;\n                    }\n                }\n            }\n        }\n        return data;\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    WaterfallSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    WaterfallSeries.prototype.getModuleName = function () {\n        return 'WaterfallSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the waterfall series.\n     * @return {void}\n     * @private\n     */\n    WaterfallSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the waterfall series.\n         */\n    };\n    return WaterfallSeries;\n}(ColumnBase));\nexport { WaterfallSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `HiloSeries` module is used to render the hilo series.\n */\nvar HiloSeries = /** @class */ (function (_super) {\n    __extends(HiloSeries, _super);\n    function HiloSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Hiloseries.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.render = function (series) {\n        var region;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible &&\n                withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                region = this.getRectangle(point.xValue + sideBySideInfo.median, point.high, point.xValue + sideBySideInfo.median, point.low, series);\n                argsData = this.triggerPointRenderEvent(series, point);\n                if (!argsData.cancel) {\n                    if (!series.chart.requireInvertedAxis) {\n                        region.width = argsData.border.width;\n                        region.x = region.x - (region.width / 2);\n                    }\n                    else {\n                        region.height = argsData.border.width;\n                        region.y = region.y - (region.height / 2);\n                    }\n                    argsData.border.width = 0;\n                    this.updateSymbolLocation(point, region, series);\n                    this.drawRectangle(series, point, region, argsData);\n                }\n            }\n        }\n    };\n    /**\n     * To trigger the point rendering event.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var border = { color: series.fill, width: Math.max(series.border.width, 2) };\n        return _super.prototype.triggerEvent.call(this, series, point, series.interior, border);\n    };\n    /**\n     * Get module name.\n     */\n    HiloSeries.prototype.getModuleName = function () {\n        return 'HiloSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    HiloSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the Hilo series.\n     * @return {void}\n     * @private\n     */\n    HiloSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the Hilo Series\n         */\n    };\n    return HiloSeries;\n}(ColumnBase));\nexport { HiloSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption } from '../../common/utils/helper';\nimport { ColumnBase } from './column-base';\n/**\n * `HiloOpenCloseSeries` module is used to render the hiloOpenClose series.\n */\nvar HiloOpenCloseSeries = /** @class */ (function (_super) {\n    __extends(HiloOpenCloseSeries, _super);\n    function HiloOpenCloseSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render HiloOpenCloseSeries series.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.render = function (series) {\n        var highLowRect;\n        var open;\n        var close;\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        var borderWidth = Math.max(series.border.width, 2);\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible &&\n                withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                //highlow\n                highLowRect = this.getRectangle(point.xValue + sideBySideInfo.start, Math.max(point.high, point.low), point.xValue + sideBySideInfo.end, Math.min(point.high, point.low), series);\n                point.regions.push(this.getRectangle(point.xValue + sideBySideInfo.median, Math.max(point.high, point.low), point.xValue + sideBySideInfo.median, Math.min(point.high, point.low), series));\n                this.updateTickRegion(!series.chart.requireInvertedAxis, point.regions[0], borderWidth);\n                //open\n                point.regions.push(this.getRectangle(point.xValue + sideBySideInfo.start, Math.max(point.open, point.close), point.xValue + sideBySideInfo.median, Math.max(point.open, point.close), series));\n                //close\n                point.regions.push(this.getRectangle(point.xValue + sideBySideInfo.median, Math.min(point.open, point.close), point.xValue + sideBySideInfo.end, Math.min(point.open, point.close), series));\n                argsData = this.triggerPointRenderEvent(series, point);\n                if (!argsData.cancel) {\n                    this.updateSymbolLocation(point, point.regions[0], series);\n                    var open_1 = { x: point.regions[1].x, y: point.regions[1].y };\n                    var close_1 = { x: point.regions[2].x, y: point.regions[2].y };\n                    this.drawHiloOpenClosePath(series, point, open_1, close_1, highLowRect, argsData);\n                }\n                this.updateTickRegion(series.chart.requireInvertedAxis, point.regions[1], borderWidth);\n                this.updateTickRegion(series.chart.requireInvertedAxis, point.regions[2], borderWidth);\n            }\n        }\n    };\n    /**\n     * Updates the tick region\n     */\n    HiloOpenCloseSeries.prototype.updateTickRegion = function (horizontal, region, borderWidth) {\n        if (horizontal) {\n            region.x -= borderWidth / 2;\n            region.width = borderWidth;\n        }\n        else {\n            region.y -= borderWidth / 2;\n            region.height = borderWidth;\n        }\n    };\n    /**\n     * Trigger point rendering event\n     */\n    HiloOpenCloseSeries.prototype.triggerPointRenderEvent = function (series, point) {\n        var fill = (point.open <= point.close) ? series.bearFillColor : series.bullFillColor;\n        var border = { color: series.border.color, width: Math.max(series.border.width, 1) };\n        return this.triggerEvent(series, point, fill, border);\n    };\n    /**\n     * To draw the rectangle for points.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.drawHiloOpenClosePath = function (series, point, open, close, rect, argsData) {\n        // region highlow\n        var direction;\n        var options;\n        if (series.chart.requireInvertedAxis) {\n            direction = ('M' + ' ' + (rect.x) + ' ' + (rect.y + rect.height / 2) + ' ' +\n                'L' + ' ' + (rect.x + rect.width) + ' ' + (rect.y + rect.height / 2) + ' ');\n            direction += ('M' + ' ' + (open.x) + ' ' + (rect.y + rect.height / 2) + ' ' +\n                'L' + ' ' + (open.x) + ' ' + (rect.y + rect.height) + ' ');\n            direction += ('M' + ' ' + (close.x) + ' ' + (rect.y + rect.height / 2) + ' ' +\n                'L' + ' ' + (close.x) + ' ' + (rect.y) + ' ');\n        }\n        else {\n            direction = ('M' + ' ' + (rect.x + rect.width / 2) + ' ' + (rect.y + rect.height) + ' ' +\n                'L' + ' ' + (rect.x + rect.width / 2) + ' ' + (rect.y) + ' ');\n            //region opentick\n            direction += ('M' + ' ' + (rect.x) + ' ' + (open.y) + ' ' +\n                'L' + ' ' + (rect.x + rect.width / 2) + ' ' + (open.y) + ' ');\n            //region closetick\n            direction += ('M' + ' ' + (rect.x + rect.width / 2) + ' ' + (close.y) + ' ' +\n                'L' + ' ' + (rect.x + rect.width) + ' ' + (close.y) + ' ');\n        }\n        options = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index, argsData.fill, argsData.border.width, argsData.fill, series.opacity, series.dashArray, direction);\n        var element = series.chart.renderer.drawPath(options);\n        element.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString()\n            + ':' + point.low.toString() + ':' + point.close.toString() + ':' + point.open.toString());\n        series.seriesElement.appendChild(element);\n    };\n    /**\n     * Get module name.\n     */\n    HiloOpenCloseSeries.prototype.getModuleName = function () {\n        return 'HiloOpenCloseSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    HiloOpenCloseSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * To destroy the column series.\n     * @return {void}\n     * @private\n     */\n    HiloOpenCloseSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return HiloOpenCloseSeries;\n}(ColumnBase));\nexport { HiloOpenCloseSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, getPoint, PathOption, Rect } from '../../common/utils/helper';\nimport { LineBase } from './line-base';\n/**\n * `RangeAreaSeries` module is used to render the range area series.\n */\nvar RangeAreaSeries = /** @class */ (function (_super) {\n    __extends(RangeAreaSeries, _super);\n    function RangeAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render RangeArea Series.\n     * @return {void}.\n     * @private\n     */\n    RangeAreaSeries.prototype.render = function (series) {\n        var point;\n        var direction = '';\n        var command = 'M';\n        var closed = undefined;\n        var visiblePoints = this.improveChartPerformance(series);\n        for (var i = 0, length_1 = visiblePoints.length; i < length_1; i++) {\n            point = visiblePoints[i];\n            point.symbolLocations = [];\n            point.regions = [];\n            var low = Math.min(point.low, point.high);\n            var high = Math.max(point.low, point.high);\n            if (series.yAxis.isInversed) {\n                var temp = low;\n                low = high;\n                high = temp;\n            }\n            var lowPoint = getPoint(point.xValue, low, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n            var highPoint = getPoint(point.xValue, high, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n            point.symbolLocations.push(highPoint);\n            point.symbolLocations.push(lowPoint);\n            var rect = new Rect(Math.min(lowPoint.x, highPoint.x), Math.min(lowPoint.y, highPoint.y), Math.max(Math.abs(highPoint.x - lowPoint.x), series.marker.width), Math.max(Math.abs(highPoint.y - lowPoint.y), series.marker.width));\n            if (!series.chart.requireInvertedAxis) {\n                rect.x -= series.marker.width / 2;\n            }\n            else {\n                rect.y -= series.marker.width / 2;\n            }\n            point.regions.push(rect);\n            //Path to connect the high points\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                direction = direction.concat(command + ' ' + (lowPoint.x) + ' ' + (lowPoint.y) + ' ');\n                closed = false;\n                if ((i + 1 < visiblePoints.length && !visiblePoints[i + 1].visible)\n                    || i === visiblePoints.length - 1) {\n                    // Path to connect the low points\n                    direction = this.closeRangeAreaPath(visiblePoints, point, series, direction, i);\n                    command = 'M';\n                    direction = direction.concat(' ' + 'Z');\n                    closed = true;\n                }\n                command = 'L';\n            }\n            else {\n                if (closed === false && i !== 0) {\n                    direction = this.closeRangeAreaPath(visiblePoints, point, series, direction, i);\n                    closed = true;\n                }\n                command = 'M';\n                point.symbolLocations = [];\n            }\n        }\n        var name = series.category === 'Indicator' ? series.chart.element.id + '_Indicator_' + series.index + '_' + series.name :\n            series.chart.element.id + '_Series_' + series.index;\n        var options = new PathOption(name, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * path for rendering the low points\n     * @return {void}.\n     * @private\n     */\n    RangeAreaSeries.prototype.closeRangeAreaPath = function (visiblePoints, point, series, direction, i) {\n        for (var j = i; j >= 0; j--) {\n            if (visiblePoints[j].visible && visiblePoints[j].symbolLocations[0]) {\n                point = visiblePoints[j];\n                direction += 'L' + ' ' + (point.symbolLocations[0].x) + ' ' + ((point.symbolLocations[0].y)) + ' ';\n            }\n            else {\n                break;\n            }\n        }\n        return direction;\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    RangeAreaSeries.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    /**\n     * Get module name.\n     */\n    RangeAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'RangeAreaSeries';\n    };\n    /**\n     * To destroy the line series.\n     * @return {void}\n     * @private\n     */\n    RangeAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys range area series\n         */\n    };\n    return RangeAreaSeries;\n}(LineBase));\nexport { RangeAreaSeries };\n","import { withInRange, getPoint, PathOption, drawSymbol, Size, Rect, markerAnimate } from '../../common/utils/helper';\nimport { pointRender } from '../../common/model/constants';\n/**\n * `BubbleSeries` module is used to render the bubble series.\n */\nvar BubbleSeries = /** @class */ (function () {\n    function BubbleSeries() {\n    }\n    /**\n     * Render the Bubble series.\n     * @return {void}\n     * @private\n     */\n    BubbleSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var marker = series.marker;\n        var visiblePoints = series.points;\n        var shapeOption;\n        var argsData;\n        //let bubbleMode: RadiusMode = bubbleOptions.radiusMode;\n        var segmentRadius;\n        var radius;\n        var value = Math.max(series.chart.initialClipRect.height, series.chart.initialClipRect.width);\n        var percentChange = value / 100;\n        var maxRadius = series.maxRadius * percentChange;\n        var minRadius = series.minRadius * percentChange;\n        var maximumSize = null;\n        var maxValue = null;\n        if ((series.maxRadius === null || series.minRadius === null)) {\n            for (var _i = 0, _a = series.chart.visibleSeries; _i < _a.length; _i++) {\n                var value_1 = _a[_i];\n                if (value_1.type === 'Bubble' && value_1.visible === true && (value_1.maxRadius === null || value_1.minRadius === null)) {\n                    maximumSize = value_1.sizeMax > maximumSize ? value_1.sizeMax : maximumSize;\n                }\n            }\n            maxValue = (value / 5) / 2;\n            minRadius = maxRadius = 1;\n            radius = maxValue * maxRadius;\n        }\n        else {\n            maximumSize = series.sizeMax;\n            radius = maxRadius - minRadius;\n        }\n        for (var _b = 0, visiblePoints_1 = visiblePoints; _b < visiblePoints_1.length; _b++) {\n            var bubblePoint = visiblePoints_1[_b];\n            bubblePoint.symbolLocations = [];\n            bubblePoint.regions = [];\n            if (bubblePoint.visible &&\n                withInRange(visiblePoints[bubblePoint.index - 1], bubblePoint, visiblePoints[bubblePoint.index + 1], series)) {\n                bubblePoint.symbolLocations.push(getPoint(bubblePoint.xValue, bubblePoint.yValue, xAxis, yAxis, isInverted));\n                if ((series.maxRadius === null || series.minRadius === null)) {\n                    segmentRadius = radius * Math.abs(+bubblePoint.size / maximumSize);\n                }\n                else {\n                    segmentRadius = minRadius + radius * Math.abs(+bubblePoint.size / maximumSize);\n                }\n                segmentRadius = segmentRadius || minRadius;\n                argsData = {\n                    cancel: false, name: pointRender, series: series, point: bubblePoint,\n                    fill: series.setPointColor(bubblePoint, series.interior),\n                    border: series.setBorderColor(bubblePoint, { width: series.border.width, color: series.border.color }),\n                    height: 2 * segmentRadius, width: 2 * segmentRadius\n                };\n                series.chart.trigger(pointRender, argsData);\n                if (!argsData.cancel) {\n                    bubblePoint.color = argsData.fill;\n                    shapeOption = new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + bubblePoint.index, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, null);\n                    series.seriesElement.appendChild(drawSymbol(bubblePoint.symbolLocations[0], 'Circle', new Size(argsData.width, argsData.height), marker.imageUrl, shapeOption, bubblePoint.x.toString() + ':' + bubblePoint.yValue.toString()));\n                    bubblePoint.regions.push(new Rect(bubblePoint.symbolLocations[0].x - segmentRadius, bubblePoint.symbolLocations[0].y - segmentRadius, 2 * segmentRadius, 2 * segmentRadius));\n                    bubblePoint.marker = {\n                        border: argsData.border, fill: argsData.fill,\n                        height: argsData.height, visible: true,\n                        shape: 'Circle', width: argsData.width\n                    };\n                }\n                else {\n                    bubblePoint.marker = { visible: false };\n                }\n            }\n        }\n    };\n    /**\n     * To destroy the Bubble.\n     * @return {void}\n     * @private\n     */\n    BubbleSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name.\n     */\n    BubbleSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'BubbleSeries';\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    BubbleSeries.prototype.doAnimation = function (series) {\n        var duration = series.animation.duration;\n        var delay = series.animation.delay;\n        var rectElements = series.seriesElement.childNodes;\n        var count = 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var bubblePoint = _a[_i];\n            if (!bubblePoint.symbolLocations.length) {\n                continue;\n            }\n            markerAnimate(rectElements[count], delay, duration, series, bubblePoint.index, bubblePoint.symbolLocations[0], false);\n            count++;\n        }\n    };\n    return BubbleSeries;\n}());\nexport { BubbleSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ChartLocation, ControlPoints } from '../../common/utils/helper';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { LineBase } from './line-base';\n/**\n * render Line series\n */\nvar SplineBase = /** @class */ (function (_super) {\n    __extends(SplineBase, _super);\n    /** @private */\n    function SplineBase(chartModule) {\n        var _this = _super.call(this, chartModule) || this;\n        _this.splinePoints = [];\n        return _this;\n    }\n    /**\n     * To find the control points for spline.\n     * @return {void}\n     * @private\n     */\n    SplineBase.prototype.findSplinePoint = function (series) {\n        var value;\n        var points = this.filterEmptyPoints(series);\n        this.splinePoints = this.findSplineCoefficients(points, series);\n        if (points.length > 1) {\n            series.drawPoints = [];\n            for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n                var point = points_1[_i];\n                if (point.index !== 0) {\n                    var previous = this.getPreviousIndex(points, point.index - 1, series);\n                    value = this.getControlPoints(points[previous], point, this.splinePoints[previous], this.splinePoints[point.index], series);\n                    series.drawPoints.push(value);\n                    if (point.yValue && value.controlPoint1.y && value.controlPoint2.y) {\n                        series.yMin = Math.floor(Math.min(series.yMin, point.yValue, value.controlPoint1.y, value.controlPoint2.y));\n                        series.yMax = Math.ceil(Math.max(series.yMax, point.yValue, value.controlPoint1.y, value.controlPoint2.y));\n                    }\n                }\n            }\n        }\n    };\n    SplineBase.prototype.getPreviousIndex = function (points, i, series) {\n        if (series.emptyPointSettings.mode !== 'Drop') {\n            return i;\n        }\n        while (isNullOrUndefined(points[i]) && i > -1) {\n            i = i - 1;\n        }\n        return i;\n    };\n    SplineBase.prototype.getNextIndex = function (points, i, series) {\n        if (series.emptyPointSettings.mode !== 'Drop') {\n            return i;\n        }\n        while (isNullOrUndefined(points[i]) && i < points.length) {\n            i = i + 1;\n        }\n        return i;\n    };\n    SplineBase.prototype.filterEmptyPoints = function (series) {\n        if (series.emptyPointSettings.mode !== 'Drop') {\n            return series.points;\n        }\n        var points = extend([], series.points, null, true);\n        for (var i = 0; i < points.length; i++) {\n            points[i].index = i;\n            if (points[i].isEmpty) {\n                points[i].symbolLocations = [];\n                points[i].regions = [];\n                points.splice(i, 1);\n                i--;\n            }\n        }\n        return points;\n    };\n    /**\n     * To find the natural spline.\n     * @return {void}\n     * @private\n     */\n    SplineBase.prototype.findSplineCoefficients = function (points, series) {\n        var count = points.length;\n        var ySpline = [];\n        var ySplineDuplicate = [];\n        var coefficient1;\n        var coefficient2;\n        var coefficient3;\n        var dy1;\n        var dy2;\n        var dx = [];\n        var dy = [];\n        var slope = [];\n        var interPoint;\n        var slopeLength;\n        var cardinalSplineTension = series.cardinalSplineTension ? series.cardinalSplineTension : 0.5;\n        cardinalSplineTension = cardinalSplineTension < 0 ? 0 : cardinalSplineTension > 1 ? 1 : cardinalSplineTension;\n        switch (series.splineType) {\n            case 'Monotonic':\n                for (var i = 0; i < count - 1; i++) {\n                    dx[i] = points[i + 1].xValue - points[i].xValue;\n                    dy[i] = points[i + 1].yValue - points[i].yValue;\n                    slope[i] = dy[i] / dx[i];\n                }\n                //interpolant points\n                slopeLength = slope.length;\n                // to find the first and last co-efficient value\n                ySpline[0] = slope[0];\n                ySpline[count - 1] = slope[slopeLength - 1];\n                //to find the other co-efficient values\n                for (var j = 0; j < dx.length; j++) {\n                    if (slopeLength > j + 1) {\n                        if (slope[j] * slope[j + 1] <= 0) {\n                            ySpline[j + 1] = 0;\n                        }\n                        else {\n                            interPoint = dx[j] + dx[j + 1];\n                            ySpline[j + 1] = 3 * interPoint / ((interPoint + dx[j + 1]) / slope[j] + (interPoint + dx[j]) / slope[j + 1]);\n                        }\n                    }\n                }\n                break;\n            case 'Cardinal':\n                for (var i = 0; i < count; i++) {\n                    if (i === 0) {\n                        ySpline[i] = (count > 2) ? (cardinalSplineTension * (points[i + 2].xValue - points[i].xValue)) : 0;\n                    }\n                    else if (i === (count - 1)) {\n                        ySpline[i] = (count > 2) ? (cardinalSplineTension * (points[count - 1].xValue - points[count - 3].xValue)) : 0;\n                    }\n                    else {\n                        ySpline[i] = (cardinalSplineTension * (points[i + 1].xValue - points[i - 1].xValue));\n                    }\n                }\n                break;\n            default:\n                if (series.splineType === 'Clamped') {\n                    var firstIndex = (points[1].yValue - points[0].yValue) / (points[1].xValue - points[0].xValue);\n                    var lastIndex = (points[count - 1].xValue - points[count - 2].xValue) /\n                        (points[count - 1].yValue - points[count - 2].yValue);\n                    ySpline[0] = (3 * (points[1].yValue - points[0].yValue)) / (points[1].xValue - points[0].xValue) - 3;\n                    ySplineDuplicate[0] = 0.5;\n                    ySpline[points.length - 1] = (3 * (points[points.length - 1].yValue - points[points.length - 2].yValue)) /\n                        (points[points.length - 1].xValue - points[points.length - 2].xValue);\n                    ySpline[0] = ySplineDuplicate[0] = Math.abs(ySpline[0]) === Infinity ? 0 : ySpline[0];\n                    ySpline[points.length - 1] = ySplineDuplicate[points.length - 1] = Math.abs(ySpline[points.length - 1]) === Infinity ?\n                        0 : ySpline[points.length - 1];\n                }\n                else {\n                    // assigning the first and last value as zero\n                    ySpline[0] = ySplineDuplicate[0] = 0;\n                    ySpline[points.length - 1] = 0;\n                }\n                for (var i = 1; i < count - 1; i++) {\n                    coefficient1 = points[i].xValue - points[i - 1].xValue;\n                    coefficient2 = points[i + 1].xValue - points[i - 1].xValue;\n                    coefficient3 = points[i + 1].xValue - points[i].xValue;\n                    dy1 = points[i + 1].yValue - points[i].yValue || null;\n                    dy2 = points[i].yValue - points[i - 1].yValue || null;\n                    if (coefficient1 === 0 || coefficient2 === 0 || coefficient3 === 0) {\n                        ySpline[i] = 0;\n                        ySplineDuplicate[i] = 0;\n                    }\n                    else {\n                        var p = 1 / (coefficient1 * ySpline[i - 1] + 2 * coefficient2);\n                        ySpline[i] = -p * coefficient3;\n                        ySplineDuplicate[i] = p * (6 * (dy1 / coefficient3 - dy2 / coefficient1) - coefficient1 * ySplineDuplicate[i - 1]);\n                    }\n                }\n                for (var k = count - 2; k >= 0; k--) {\n                    ySpline[k] = ySpline[k] * ySpline[k + 1] + ySplineDuplicate[k];\n                }\n                break;\n        }\n        return ySpline;\n    };\n    /**\n     * To find the control points for spline.\n     * @return {void}\n     * @private\n     */\n    SplineBase.prototype.getControlPoints = function (point1, point2, ySpline1, ySpline2, series) {\n        var controlPoint1;\n        var controlPoint2;\n        var point;\n        var ySplineDuplicate1 = ySpline1;\n        var ySplineDuplicate2 = ySpline2;\n        switch (series.splineType) {\n            case 'Cardinal':\n                if (series.xAxis.valueType === 'DateTime') {\n                    ySplineDuplicate1 = ySpline1 / this.dateTimeInterval(series);\n                    ySplineDuplicate2 = ySpline2 / this.dateTimeInterval(series);\n                }\n                controlPoint1 = new ChartLocation(point1.xValue + ySpline1 / 3, point1.yValue + ySplineDuplicate1 / 3);\n                controlPoint2 = new ChartLocation(point2.xValue - ySpline2 / 3, point2.yValue - ySplineDuplicate2 / 3);\n                point = new ControlPoints(controlPoint1, controlPoint2);\n                break;\n            case 'Monotonic':\n                var value = (point2.xValue - point1.xValue) / 3;\n                controlPoint1 = new ChartLocation(point1.xValue + value, point1.yValue + ySpline1 * value);\n                controlPoint2 = new ChartLocation(point2.xValue - value, point2.yValue - ySpline2 * value);\n                point = new ControlPoints(controlPoint1, controlPoint2);\n                break;\n            default:\n                var one3 = 1 / 3.0;\n                var deltaX2 = (point2.xValue - point1.xValue);\n                deltaX2 = deltaX2 * deltaX2;\n                var y1 = one3 * (((2 * point1.yValue) + point2.yValue) - one3 * deltaX2 * (ySpline1 + 0.5 * ySpline2));\n                var y2 = one3 * ((point1.yValue + (2 * point2.yValue)) - one3 * deltaX2 * (0.5 * ySpline1 + ySpline2));\n                controlPoint1 = new ChartLocation((2 * (point1.xValue) + (point2.xValue)) * one3, y1);\n                controlPoint2 = new ChartLocation(((point1.xValue) + 2 * (point2.xValue)) * one3, y2);\n                point = new ControlPoints(controlPoint1, controlPoint2);\n                break;\n        }\n        return point;\n    };\n    /**\n     * calculate datetime interval in hours\n     *\n     */\n    SplineBase.prototype.dateTimeInterval = function (series) {\n        var interval = series.xAxis.actualIntervalType;\n        var intervalInMilliseconds;\n        if (interval === 'Years') {\n            intervalInMilliseconds = 365 * 24 * 60 * 60 * 1000;\n        }\n        else if (interval === 'Months') {\n            intervalInMilliseconds = 30 * 24 * 60 * 60 * 1000;\n        }\n        else if (interval === 'Days') {\n            intervalInMilliseconds = 24 * 60 * 60 * 1000;\n        }\n        else if (interval === 'Hours') {\n            intervalInMilliseconds = 60 * 60 * 1000;\n        }\n        else if (interval === 'Minutes') {\n            intervalInMilliseconds = 60 * 1000;\n        }\n        else if (interval === 'Seconds') {\n            intervalInMilliseconds = 1000;\n        }\n        else {\n            intervalInMilliseconds = 30 * 24 * 60 * 60 * 1000;\n        }\n        return intervalInMilliseconds;\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    SplineBase.prototype.doAnimation = function (series) {\n        var option = series.animation;\n        this.doLinearAnimation(series, option);\n    };\n    return SplineBase;\n}(LineBase));\nexport { SplineBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, getPoint, withInRange, TransformToVisible } from '../../common/utils/helper';\nimport { SplineBase } from './spline-base';\n/**\n * `SplineSeries` module is used to render the spline series.\n */\nvar SplineSeries = /** @class */ (function (_super) {\n    __extends(SplineSeries, _super);\n    function SplineSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the spline series.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var chart = series.chart;\n        var marker = series.marker;\n        var ySpline;\n        var options;\n        var firstPoint = null;\n        var secondPoint = null;\n        var direction = '';\n        var pt1;\n        var pt2;\n        var bpt1;\n        var bpt2;\n        var data;\n        var controlPointCount = 0;\n        var controlPoint1;\n        var controlPoint2;\n        var startPoint = 'M';\n        var points = this.filterEmptyPoints(series);\n        var previous;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var point = points_1[_i];\n            previous = this.getPreviousIndex(points, point.index - 1, series);\n            point.symbolLocations = [];\n            point.regions = [];\n            if (point.visible && withInRange(points[previous], point, points[this.getNextIndex(points, point.index - 1, series)], series)) {\n                if (firstPoint !== null) {\n                    data = series.drawPoints[previous];\n                    controlPoint1 = data.controlPoint1;\n                    controlPoint2 = data.controlPoint2;\n                    pt1 = getCoordinate(firstPoint.xValue, firstPoint.yValue, xAxis, yAxis, isInverted, series);\n                    pt2 = getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series);\n                    bpt1 = getCoordinate(controlPoint1.x, controlPoint1.y, xAxis, yAxis, isInverted, series);\n                    bpt2 = getCoordinate(controlPoint2.x, controlPoint2.y, xAxis, yAxis, isInverted, series);\n                    direction = direction.concat((startPoint + ' ' + (pt1.x) + ' ' + (pt1.y) + ' ' + 'C' + ' ' + (bpt1.x) + ' '\n                        + (bpt1.y) + ' ' + (bpt2.x) + ' ' + (bpt2.y) + ' ' + (pt2.x) + ' ' + (pt2.y) + ' '));\n                    startPoint = 'L';\n                }\n                firstPoint = point;\n                this.storePointLocation(point, series, isInverted, getCoordinate);\n            }\n            else {\n                startPoint = 'M';\n                firstPoint = null;\n                point.symbolLocations = [];\n            }\n        }\n        var name = series.category === 'TrendLine' ? series.chart.element.id + '_Series_' + series.sourceIndex + '_TrendLine_' + series.index :\n            series.chart.element.id + '_Series_' + series.index;\n        options = new PathOption(name, 'transparent', series.width, series.interior, series.opacity, series.dashArray, direction);\n        this.appendLinePath(options, series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * Get module name.\n     */\n    SplineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'SplineSeries';\n    };\n    /**\n     * To destroy the spline.\n     * @return {void}\n     * @private\n     */\n    SplineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return SplineSeries;\n}(SplineBase));\nexport { SplineSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, getPoint, withInRange, TransformToVisible } from '../../common/utils/helper';\nimport { SplineBase } from './spline-base';\n/**\n * `SplineAreaSeries` module used to render the spline area series.\n */\nvar SplineAreaSeries = /** @class */ (function (_super) {\n    __extends(SplineAreaSeries, _super);\n    function SplineAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render the splineArea series.\n     * @return {void}\n     * @private\n     */\n    SplineAreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var firstPoint = null;\n        var direction = '';\n        var startPoint = null;\n        var startPoint1 = null;\n        var pt1;\n        var pt2;\n        var bpt1;\n        var bpt2;\n        var controlPt1;\n        var controlPt2;\n        var points = this.filterEmptyPoints(series);\n        var pointsLength = series.points.length;\n        var point;\n        var previous;\n        var getCoordinate = series.chart.chartAreaType === 'PolarRadar' ? TransformToVisible : getPoint;\n        var origin = series.chart.chartAreaType === 'PolarRadar' ? series.points[0].yValue :\n            Math.max(series.yAxis.visibleRange.min, 0);\n        for (var i = 0; i < pointsLength; i++) {\n            point = series.points[i];\n            point.symbolLocations = [];\n            point.regions = [];\n            previous = this.getPreviousIndex(points, point.index - 1, series);\n            if (point.visible &&\n                withInRange(points[previous], point, points[this.getNextIndex(points, point.index - 1, series)], series)) {\n                if (firstPoint) {\n                    controlPt1 = series.drawPoints[previous].controlPoint1;\n                    controlPt2 = series.drawPoints[previous].controlPoint2;\n                    pt1 = getCoordinate(firstPoint.xValue, firstPoint.yValue, xAxis, yAxis, isInverted, series);\n                    pt2 = getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series);\n                    bpt1 = getCoordinate(controlPt1.x, controlPt1.y, xAxis, yAxis, isInverted, series);\n                    bpt2 = getCoordinate(controlPt2.x, controlPt2.y, xAxis, yAxis, isInverted, series);\n                    direction = direction.concat(' C' + bpt1.x + ' '\n                        + bpt1.y + ' ' + bpt2.x + ' ' + bpt2.y + ' ' + pt2.x + ' ' + pt2.y + ' ');\n                }\n                else {\n                    // Start point for the current path\n                    startPoint = getCoordinate(point.xValue, origin, xAxis, yAxis, isInverted, series);\n                    direction += ('M ' + startPoint.x + ' ' + startPoint.y + ' ');\n                    // First Point to draw the area path\n                    startPoint1 = getCoordinate(point.xValue, point.yValue, xAxis, yAxis, isInverted, series);\n                    direction += ('L ' + startPoint1.x + ' ' + startPoint1.y + ' ');\n                }\n                this.storePointLocation(point, series, isInverted, getCoordinate);\n                firstPoint = point;\n            }\n            else {\n                firstPoint = null;\n                point.symbolLocations = [];\n            }\n            if (((i + 1 < pointsLength && !series.points[i + 1].visible) || i === pointsLength - 1)\n                && pt2 && startPoint) {\n                startPoint = getCoordinate(point.xValue, origin, xAxis, yAxis, isInverted, series);\n                direction = direction.concat('L ' + (startPoint.x) + ' ' + (startPoint.y));\n            }\n        }\n        this.appendLinePath(new PathOption(series.chart.element.id + '_Series_' + series.index, series.interior, series.border.width, series.border.color, series.opacity, series.dashArray, direction), series, '');\n        this.renderMarker(series);\n    };\n    /**\n     * Get module name.\n     */\n    SplineAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'SplineAreaSeries';\n    };\n    /**\n     * To destroy the spline.\n     * @return {void}\n     * @private\n     */\n    SplineAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return SplineAreaSeries;\n}(SplineBase));\nexport { SplineAreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { LineBase } from '../series/line-base';\nimport { Series, Points } from '../series/chart-series';\nimport { RectOption, Rect } from '../../common/utils/helper';\nimport { findClipRect } from '../../common/utils/helper';\n/**\n * Technical Analysis module helps to predict the market trend\n */\nvar TechnicalAnalysis = /** @class */ (function (_super) {\n    __extends(TechnicalAnalysis, _super);\n    function TechnicalAnalysis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series, that are used to represent the given technical indicator\n     * @private\n     */\n    TechnicalAnalysis.prototype.initSeriesCollection = function (indicator, chart) {\n        indicator.targetSeries = [];\n        var signalLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(signalLine, indicator, 'SignalLine', indicator.fill, indicator.width, chart);\n    };\n    /**\n     * Initializes the properties of the given series\n     * @private\n     */\n    TechnicalAnalysis.prototype.setSeriesProperties = function (series, indicator, name, fill, width, chart) {\n        series.name = name;\n        series.xName = 'x';\n        series.yName = 'y';\n        series.fill = fill || '#606eff';\n        series.dashArray = indicator.dashArray;\n        series.width = width;\n        series.xAxisName = indicator.xAxisName;\n        series.animation = indicator.animation;\n        series.yAxisName = indicator.yAxisName;\n        series.clipRectElement = indicator.clipRectElement;\n        series.points = [];\n        series.enableTooltip = true;\n        series.interior = series.fill;\n        series.category = 'Indicator';\n        series.index = indicator.index;\n        series.chart = chart;\n        series.xMin = Infinity;\n        series.xMax = -Infinity;\n        series.yMin = Infinity;\n        series.yMax = -Infinity;\n        series.xData = [];\n        series.yData = [];\n        series.marker.visible = false;\n        indicator.targetSeries.push(series);\n    };\n    /**\n     * Creates the elements of a technical indicator\n     * @private\n     */\n    TechnicalAnalysis.prototype.createIndicatorElements = function (chart, indicator, index) {\n        if (indicator.seriesName || indicator.dataSource) {\n            findClipRect(indicator.targetSeries[0]);\n        }\n        var clipRect = new Rect(0, 0, 0, 0);\n        if (indicator.seriesName || indicator.dataSource) {\n            clipRect = indicator.targetSeries[0].clipRect;\n        }\n        //defines the clip rect element\n        var clipRectElement = chart.renderer.drawClipPath(new RectOption(chart.element.id + '_ChartIndicatorClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n            x: 0, y: 0, width: clipRect.width,\n            height: clipRect.height,\n        }));\n        //creates the group for an indicator\n        indicator.indicatorElement = chart.renderer.createGroup({\n            'id': chart.element.id + 'IndicatorGroup' + index,\n            'transform': 'translate(' + clipRect.x + ',' + clipRect.y + ')',\n            'clip-path': 'url(#' + chart.element.id + '_ChartIndicatorClipRect_' + index + ')'\n        });\n        indicator.indicatorElement.appendChild(clipRectElement);\n        //Defines a group for each series in a technical indicator\n        for (var _i = 0, _a = indicator.targetSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            series.clipRectElement = clipRectElement;\n            var element = series.chart.renderer.createGroup({\n                'id': series.chart.element.id + '_Indicator_' +\n                    indicator.index + '_' + series.name + '_Group'\n            });\n            indicator.indicatorElement.appendChild(element);\n            series.seriesElement = element;\n        }\n        chart.indicatorElements.appendChild(indicator.indicatorElement);\n    };\n    TechnicalAnalysis.prototype.getDataPoint = function (x, y, sourcePoint, series, index, indicator) {\n        if (indicator === void 0) { indicator = null; }\n        var point = new Points();\n        point.x = x;\n        point.y = y;\n        point.xValue = sourcePoint.xValue;\n        point.color = series.fill;\n        point.index = index;\n        point.yValue = y;\n        point.visible = true;\n        series.xMin = Math.min(series.xMin, point.xValue);\n        series.yMin = Math.min(series.yMin, point.yValue);\n        series.xMax = Math.max(series.xMax, point.xValue);\n        series.yMax = Math.max(series.yMax, point.yValue);\n        series.xData.push(point.xValue);\n        if (indicator && indicator.type === 'Macd' && series.type === 'Column') {\n            if (point.y >= 0) {\n                point.color = indicator.macdPositiveColor;\n            }\n            else {\n                point.color = indicator.macdNegativeColor;\n            }\n        }\n        return point;\n    };\n    TechnicalAnalysis.prototype.getRangePoint = function (x, high, low, sourcePoint, series, index, indicator) {\n        if (indicator === void 0) { indicator = null; }\n        var point = new Points();\n        point.x = x;\n        point.high = high;\n        point.low = low;\n        point.xValue = sourcePoint.xValue;\n        point.color = series.fill;\n        point.index = index;\n        point.visible = true;\n        series.xData.push(point.xValue);\n        return point;\n    };\n    TechnicalAnalysis.prototype.setSeriesRange = function (points, indicator, series) {\n        if (series === void 0) { series = null; }\n        if (!series) {\n            indicator.targetSeries[0].points = points;\n        }\n        else {\n            series.points = points;\n        }\n    };\n    return TechnicalAnalysis;\n}(LineBase));\nexport { TechnicalAnalysis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `SmaIndicator` module is used to render SMA indicator.\n */\nvar SmaIndicator = /** @class */ (function (_super) {\n    __extends(SmaIndicator, _super);\n    function SmaIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions based on SMA approach\n     * @private\n     */\n    SmaIndicator.prototype.initDataSource = function (indicator, chart) {\n        var smaPoints = [];\n        var points = indicator.points;\n        if (points && points.length) {\n            //prepare data\n            var validData = points;\n            var field = firstToLowerCase(indicator.field);\n            var xField = 'x';\n            var signalSeries = indicator.targetSeries[0];\n            if (validData && validData.length && validData.length >= indicator.period) {\n                //find initial average\n                var average = 0;\n                var sum = 0;\n                for (var i = 0; i < indicator.period; i++) {\n                    sum += validData[i][field];\n                }\n                average = sum / indicator.period;\n                smaPoints.push(this.getDataPoint(validData[indicator.period - 1][xField], average, validData[indicator.period - 1], signalSeries, smaPoints.length));\n                var index = indicator.period;\n                while (index < validData.length) {\n                    sum -= validData[index - indicator.period][field];\n                    sum += validData[index][field];\n                    average = sum / indicator.period;\n                    smaPoints.push(this.getDataPoint(validData[index][xField], average, validData[index], signalSeries, smaPoints.length));\n                    index++;\n                }\n            }\n            this.setSeriesRange(smaPoints, indicator);\n        }\n    };\n    /**\n     * To destroy the SMA indicator\n     * @return {void}\n     * @private\n     */\n    SmaIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the SMA indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    SmaIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'SmaIndicator';\n    };\n    return SmaIndicator;\n}(TechnicalAnalysis));\nexport { SmaIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `EmaIndicator` module is used to render EMA indicator.\n */\nvar EmaIndicator = /** @class */ (function (_super) {\n    __extends(EmaIndicator, _super);\n    function EmaIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions based on EMA approach\n     * @private\n     */\n    EmaIndicator.prototype.initDataSource = function (indicator, chart) {\n        var field = firstToLowerCase(indicator.field);\n        var xField = 'x';\n        var emaPoints = [];\n        var signalSeries = indicator.targetSeries[0];\n        //prepare data\n        var validData = indicator.points;\n        if (validData && validData.length && validData.length >= indicator.period) {\n            //find initial average\n            var sum = 0;\n            var average = 0;\n            //smoothing factor\n            var k = (2 / (indicator.period + 1));\n            for (var i = 0; i < indicator.period; i++) {\n                sum += validData[i][field];\n            }\n            average = sum / indicator.period;\n            emaPoints.push(this.getDataPoint(validData[indicator.period - 1][xField], average, validData[indicator.period - 1], signalSeries, emaPoints.length));\n            var index = indicator.period;\n            while (index < validData.length) {\n                //previous average\n                var prevAverage = emaPoints[index - indicator.period][signalSeries.yName];\n                var yValue = (validData[index][field] - prevAverage) * k + prevAverage;\n                emaPoints.push(this.getDataPoint(validData[index][xField], yValue, validData[index], signalSeries, emaPoints.length));\n                index++;\n            }\n        }\n        this.setSeriesRange(emaPoints, indicator);\n    };\n    /**\n     * To destroy the EMA Indicator\n     * @return {void}\n     * @private\n     */\n    EmaIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the EMA Indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    EmaIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'EmaIndicator';\n    };\n    return EmaIndicator;\n}(TechnicalAnalysis));\nexport { EmaIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase } from '../../common/utils/helper';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `TmaIndicator` module is used to render TMA indicator.\n */\nvar TmaIndicator = /** @class */ (function (_super) {\n    __extends(TmaIndicator, _super);\n    function TmaIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions based on TMA approach\n     * @private\n     */\n    TmaIndicator.prototype.initDataSource = function (indicator, chart) {\n        var tmaPoints = [];\n        var field = firstToLowerCase(indicator.field);\n        var xField = 'x';\n        var signalSeries = indicator.targetSeries[0];\n        //prepare data\n        var validData = indicator.points;\n        if (validData && validData.length && validData.length >= indicator.period) {\n            var signalSeries_1 = indicator.targetSeries[0];\n            //prepare data\n            var validData_1 = indicator.points;\n            if (validData_1.length && validData_1.length >= indicator.period) {\n                //smoothing factor\n                var k = (2 / (indicator.period + 1));\n                //find initial average\n                var average = 0;\n                var sum = 0;\n                var sumOfSMA = 0;\n                var averageSMA = 0;\n                var smaValues = [];\n                //sma values\n                var index = 0;\n                var length_1 = validData_1.length;\n                var period = indicator.period;\n                while (length_1 >= period) {\n                    sum = 0;\n                    index = validData_1.length - length_1;\n                    for (var j = index; j < index + period; j++) {\n                        sum = sum + validData_1[j][field];\n                    }\n                    sum = sum / period;\n                    smaValues.push(sum);\n                    length_1--;\n                }\n                //initial values\n                for (var k_1 = 0; k_1 < period - 1; k_1++) {\n                    sum = 0;\n                    for (var j = 0; j < k_1 + 1; j++) {\n                        sum = sum + validData_1[j][field];\n                    }\n                    sum = sum / (k_1 + 1);\n                    smaValues.splice(k_1, 0, sum);\n                }\n                index = indicator.period;\n                while (index <= smaValues.length) {\n                    sum = 0;\n                    for (var j = index - indicator.period; j < index; j++) {\n                        sum = sum + smaValues[j];\n                    }\n                    sum = sum / indicator.period;\n                    tmaPoints.push(this.getDataPoint(validData_1[index - 1][xField], sum, validData_1[index - 1], signalSeries_1, tmaPoints.length));\n                    index++;\n                }\n            }\n        }\n        this.setSeriesRange(tmaPoints, indicator);\n    };\n    /**\n     * To destroy the TMA indicator.\n     * @return {void}\n     * @private\n     */\n    TmaIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the TMA Indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    TmaIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'TmaIndicator';\n    };\n    return TmaIndicator;\n}(TechnicalAnalysis));\nexport { TmaIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `AccumulationDistributionIndicator` module is used to render accumulation distribution indicator.\n */\nvar AccumulationDistributionIndicator = /** @class */ (function (_super) {\n    __extends(AccumulationDistributionIndicator, _super);\n    function AccumulationDistributionIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions using accumulation distribution approach\n     * @private\n     */\n    AccumulationDistributionIndicator.prototype.initDataSource = function (indicator, chart) {\n        var sourceSeries = indicator.sourceSeries;\n        var adPoints = [];\n        var validData = indicator.points;\n        if (validData.length > 0 && validData.length > indicator.period) {\n            adPoints = this.calculateADPoints(indicator, validData);\n        }\n        this.setSeriesRange(adPoints, indicator);\n    };\n    /**\n     *  Calculates the Accumulation Distribution values\n     * @private\n     */\n    AccumulationDistributionIndicator.prototype.calculateADPoints = function (indicator, validData) {\n        var temp = [];\n        var sum = 0;\n        var i = 0;\n        var value = 0;\n        var high = 0;\n        var low = 0;\n        var close = 0;\n        var signalSeries = indicator.targetSeries[0];\n        for (i = 0; i < validData.length; i++) {\n            high = Number(validData[i].high);\n            low = Number(validData[i].low);\n            close = Number(validData[i].close);\n            /**\n             * Money Flow Multiplier = [(Close -  Low) - (High - Close)] /(High - Low)\n             * Money Flow Volume = Money Flow Multiplier x Volume for the Period\n             * ADL = Previous ADL + Current Period's Money Flow Volume\n             */\n            value = ((close - low) - (high - close)) / (high - low);\n            /**\n             * Sum is to calculate the Y values of the Accumulation distribution indicator\n             */\n            sum = sum + value * Number(validData[i].volume);\n            /**\n             * To calculate the x and y values for the Accumulation distribution indicator\n             */\n            temp[i] = this.getDataPoint(validData[i].x, sum, validData[i], signalSeries, temp.length);\n        }\n        return temp;\n    };\n    /**\n     * To destroy the Accumulation Distribution Technical Indicator.\n     * @return {void}\n     * @private\n     */\n    AccumulationDistributionIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the Accumulation Distribution Technical indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationDistributionIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the Indicator\n         */\n        return 'AccumulationDistributionIndicator';\n    };\n    return AccumulationDistributionIndicator;\n}(TechnicalAnalysis));\nexport { AccumulationDistributionIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `AtrIndicator` module is used to render ATR indicator.\n */\nvar AtrIndicator = /** @class */ (function (_super) {\n    __extends(AtrIndicator, _super);\n    function AtrIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions using Average True Range approach\n     * @private\n     */\n    AtrIndicator.prototype.initDataSource = function (indicator, chart) {\n        var sourceSeries = indicator.sourceSeries;\n        var atrPoints = [];\n        var validData = indicator.points;\n        if (validData.length > 0 && validData.length > indicator.period) {\n            this.calculateATRPoints(indicator, validData);\n        }\n    };\n    /**\n     *  To calculate Average True Range indicator points\n     * @private\n     */\n    AtrIndicator.prototype.calculateATRPoints = function (indicator, validData) {\n        var average = 0;\n        var highLow = 0;\n        var highClose = 0;\n        var lowClose = 0;\n        var trueRange = 0;\n        var points = [];\n        var temp = [];\n        var period = indicator.period;\n        var sum = 0;\n        var y = 'y';\n        var signalSeries = indicator.targetSeries[0];\n        for (var i = 0; i < validData.length; i++) {\n            /**\n             * Current High less the current Low\n             * Current High less the previous Close (absolute value)\n             * Current Low less the previous Close (absolute value)\n             */\n            highLow = Number(validData[i].high) - Number(validData[i].low);\n            if (i > 0) {\n                //\n                highClose = Math.abs(Number(validData[i].high) - Number(validData[i - 1].close));\n                lowClose = Math.abs(Number(validData[i].low) - Number(validData[i - 1].close));\n            }\n            /**\n             * To find the maximum of highLow, highClose, lowClose\n             */\n            trueRange = Math.max(highLow, highClose, lowClose);\n            sum = sum + trueRange;\n            /**\n             * Push the x and y values for the Average true range indicator\n             */\n            if (i >= period) {\n                average = (Number(temp[i - 1][y]) * (period - 1) + trueRange) / period;\n                points.push(this.getDataPoint(validData[i].x, average, validData[i], signalSeries, points.length));\n            }\n            else {\n                average = sum / period;\n                if (i === period - 1) {\n                    points.push(this.getDataPoint(validData[i].x, average, validData[i], signalSeries, points.length));\n                }\n            }\n            temp[i] = { x: validData[i].x, y: average };\n        }\n        this.setSeriesRange(points, indicator);\n    };\n    /**\n     * To destroy the Average true range indicator.\n     * @return {void}\n     * @private\n     */\n    AtrIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroy the Average true range indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    AtrIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the Indicator\n         */\n        return 'AtrIndicator';\n    };\n    return AtrIndicator;\n}(TechnicalAnalysis));\nexport { AtrIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `MomentumIndicator` module is used to render Momentum indicator.\n */\nvar MomentumIndicator = /** @class */ (function (_super) {\n    __extends(MomentumIndicator, _super);\n    function MomentumIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series to represent a momentum indicator\n     * @private\n     */\n    MomentumIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        var upperLine = new Series(indicator, 'targetSeries', {}, true);\n        _super.prototype.setSeriesProperties.call(this, upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n    };\n    /**\n     * Defines the predictions using momentum approach\n     * @private\n     */\n    MomentumIndicator.prototype.initDataSource = function (indicator, chart) {\n        var upperCollection = [];\n        var signalCollection = [];\n        var validData = indicator.points;\n        if (validData && validData.length) {\n            var upperSeries = indicator.targetSeries[1];\n            var signalSeries = indicator.targetSeries[0];\n            var length_1 = indicator.period;\n            if (validData.length >= indicator.period) {\n                for (var i = 0; i < validData.length; i++) {\n                    upperCollection.push(this.getDataPoint(validData[i].x, 100, validData[i], upperSeries, upperCollection.length));\n                    if (!(i < length_1)) {\n                        signalCollection.push(this.getDataPoint(validData[i].x, (Number(validData[i].close) / Number(validData[i - length_1].close) * 100), validData[i], signalSeries, signalCollection.length));\n                    }\n                }\n            }\n            this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n            this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[1]);\n        }\n    };\n    /**\n     * To destroy the momentum indicator\n     * @return {void}\n     * @private\n     */\n    MomentumIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the momentum indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    MomentumIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'MomentumIndicator';\n    };\n    return MomentumIndicator;\n}(TechnicalAnalysis));\nexport { MomentumIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `RsiIndicator` module is used to render RSI indicator.\n */\nvar RsiIndicator = /** @class */ (function (_super) {\n    __extends(RsiIndicator, _super);\n    function RsiIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the series collection to represent the RSI Indicator\n     * @private\n     */\n    RsiIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        if (indicator.showZones) {\n            var lowerLine = new Series(indicator, 'targetSeries', {}, true);\n            _super.prototype.setSeriesProperties.call(this, lowerLine, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n            var upperLine = new Series(indicator, 'targetSeries', {}, true);\n            _super.prototype.setSeriesProperties.call(this, upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n        }\n    };\n    /**\n     * Defines the predictions using RSI approach\n     * @private\n     */\n    RsiIndicator.prototype.initDataSource = function (indicator, chart) {\n        var signalCollection = [];\n        var lowerCollection = [];\n        var upperCollection = [];\n        var signalSeries = indicator.targetSeries[0];\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            //Find upper band and lower band values\n            if (indicator.showZones) {\n                for (var i = 0; i < validData.length; i++) {\n                    upperCollection.push(this.getDataPoint(validData[i].x, indicator.overBought, validData[i], indicator.targetSeries[1], upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[i].x, indicator.overSold, validData[i], indicator.targetSeries[2], lowerCollection.length));\n                }\n            }\n            //Find signal line value\n            var prevClose = Number(validData[0].close);\n            var gain = 0;\n            var loss = 0;\n            for (var i = 1; i <= indicator.period; i++) {\n                var close_1 = Number(validData[i].close);\n                if (close_1 > prevClose) {\n                    gain += close_1 - prevClose;\n                }\n                else {\n                    loss += prevClose - close_1;\n                }\n                prevClose = close_1;\n            }\n            gain = gain / indicator.period;\n            loss = loss / indicator.period;\n            signalCollection.push(this.getDataPoint(validData[indicator.period].x, 100 - (100 / (1 + gain / loss)), validData[indicator.period], signalSeries, signalCollection.length));\n            for (var j = indicator.period + 1; j < validData.length; j++) {\n                var close_2 = Number(validData[j].close);\n                if (close_2 > prevClose) {\n                    gain = (gain * (indicator.period - 1) + (close_2 - prevClose)) / indicator.period;\n                    loss = (loss * (indicator.period - 1)) / indicator.period;\n                }\n                else if (close_2 < prevClose) {\n                    loss = (loss * (indicator.period - 1) + (prevClose - close_2)) / indicator.period;\n                    gain = (gain * (indicator.period - 1)) / indicator.period;\n                }\n                prevClose = close_2;\n                signalCollection.push(this.getDataPoint(validData[j].x, 100 - (100 / (1 + gain / loss)), validData[j], signalSeries, signalCollection.length));\n            }\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n        if (indicator.showZones) {\n            this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[1]);\n            this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[2]);\n        }\n    };\n    /**\n     * To destroy the RSI Indicator.\n     * @return {void}\n     * @private\n     */\n    RsiIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the RSI Indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    RsiIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the indicator.\n         */\n        return 'RsiIndicator';\n    };\n    return RsiIndicator;\n}(TechnicalAnalysis));\nexport { RsiIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `StochasticIndicator` module is used to render stochastic indicator.\n */\nvar StochasticIndicator = /** @class */ (function (_super) {\n    __extends(StochasticIndicator, _super);\n    function StochasticIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series that represents the stochastic indicator\n     * @private\n     */\n    StochasticIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        var periodLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(periodLine, indicator, 'PeriodLine', indicator.periodLine.color, indicator.periodLine.width, chart);\n        if (indicator.showZones) {\n            var upperSeries = new Series(indicator, 'targetSeries', {}, true);\n            this.setSeriesProperties(upperSeries, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n            var lowerSeries = new Series(indicator, 'targetSeries', {}, true);\n            this.setSeriesProperties(lowerSeries, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n        }\n    };\n    /**\n     * Defines the predictions based on stochastic approach\n     * @private\n     */\n    StochasticIndicator.prototype.initDataSource = function (indicator, chart) {\n        var signalCollection = [];\n        var upperCollection = [];\n        var lowerCollection = [];\n        var periodCollection = [];\n        var source = [];\n        var sourceSeries = indicator.sourceSeries;\n        var point = {};\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            if (indicator.showZones) {\n                for (var i = 0; i < validData.length; i++) {\n                    upperCollection.push(this.getDataPoint(validData[i].x, indicator.overBought, validData[i], indicator.targetSeries[2], upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[i].x, indicator.overSold, validData[i], indicator.targetSeries[3], lowerCollection.length));\n                }\n            }\n            source = this.calculatePeriod(indicator.period, indicator.kPeriod, validData, indicator.targetSeries[1]);\n            periodCollection = this.smaCalculation(indicator.period, indicator.kPeriod, source, indicator.targetSeries[1]);\n            signalCollection = this.smaCalculation(indicator.period + indicator.kPeriod - 1, indicator.dPeriod, source, indicator.targetSeries[0]);\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n        this.setSeriesRange(periodCollection, indicator, indicator.targetSeries[1]);\n        if (indicator.showZones) {\n            this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[2]);\n            this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[3]);\n        }\n    };\n    /**\n     * Calculates the SMA Values\n     * @private\n     */\n    StochasticIndicator.prototype.smaCalculation = function (period, kPeriod, data, sourceSeries) {\n        var pointCollection = [];\n        if (data.length >= period + kPeriod) {\n            var count = period + (kPeriod - 1);\n            var temp = [];\n            var values = [];\n            for (var i = 0; i < data.length; i++) {\n                var value = Number(data[i].y);\n                temp.push(value);\n            }\n            var length_1 = temp.length;\n            while (length_1 >= count) {\n                var sum = 0;\n                for (var i = period - 1; i < (period + kPeriod - 1); i++) {\n                    sum = sum + temp[i];\n                }\n                sum = sum / kPeriod;\n                values.push(sum.toFixed(2));\n                temp.splice(0, 1);\n                length_1 = temp.length;\n            }\n            var len = count - 1;\n            for (var i = 0; i < data.length; i++) {\n                if (!(i < len)) {\n                    pointCollection.push(this.getDataPoint(data[i].x, Number(values[i - len]), data[i], sourceSeries, pointCollection.length));\n                    data[i].y = Number((values[i - len]));\n                }\n            }\n        }\n        return pointCollection;\n    };\n    /**\n     * Calculates the period line values.\n     * @private\n     */\n    StochasticIndicator.prototype.calculatePeriod = function (period, kPeriod, data, series) {\n        var lowValues = [];\n        var highValues = [];\n        var closeValues = [];\n        var modifiedSource = [];\n        for (var j = 0; j < data.length; j++) {\n            lowValues[j] = data[j].low;\n            highValues[j] = data[j].high;\n            closeValues[j] = data[j].close;\n        }\n        if (data.length > period) {\n            var totalPeriod = period + kPeriod;\n            var mins = [];\n            var maxs = [];\n            for (var i = 0; i < period - 1; ++i) {\n                maxs.push(0);\n                mins.push(0);\n                modifiedSource.push(this.getDataPoint(data[i].x, data[i].close, data[i], series, modifiedSource.length));\n            }\n            for (var i = period - 1; i < data.length; ++i) {\n                var min = Number.MAX_VALUE;\n                var max = Number.MIN_VALUE;\n                for (var j = 0; j < period; ++j) {\n                    min = Math.min(min, lowValues[i - j]);\n                    max = Math.max(max, highValues[i - j]);\n                }\n                maxs.push(max);\n                mins.push(min);\n            }\n            for (var i = period - 1; i < data.length; ++i) {\n                var top_1 = 0;\n                var bottom = 0;\n                top_1 += closeValues[i] - mins[i];\n                bottom += maxs[i] - mins[i];\n                modifiedSource.push(this.getDataPoint(data[i].x, (top_1 / bottom) * 100, data[i], series, modifiedSource.length));\n            }\n        }\n        return modifiedSource;\n    };\n    /**\n     * To destroy the Stocastic Indicator.\n     * @return {void}\n     * @private\n     */\n    StochasticIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the stochastic indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    StochasticIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the indicator.\n         */\n        return 'StochasticIndicator';\n    };\n    return StochasticIndicator;\n}(TechnicalAnalysis));\nexport { StochasticIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `BollingerBands` module is used to render bollinger band indicator.\n */\nvar BollingerBands = /** @class */ (function (_super) {\n    __extends(BollingerBands, _super);\n    function BollingerBands() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the series collection to represent bollinger band\n     */\n    BollingerBands.prototype.initSeriesCollection = function (indicator, chart) {\n        indicator.targetSeries = [];\n        var rangeArea = new Series(indicator, 'targetSeries', {}, true);\n        rangeArea.type = 'RangeArea';\n        if (indicator.bandColor !== 'transparent' && indicator.bandColor !== 'none') {\n            this.setSeriesProperties(rangeArea, indicator, 'BollingerBand', indicator.bandColor, 0, chart);\n        }\n        var signalLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(signalLine, indicator, 'SignalLine', indicator.fill, indicator.width, chart);\n        var upperLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n        var lowerLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(lowerLine, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n    };\n    /**\n     * Defines the predictions using Bollinger Band Approach\n     * @private\n     */\n    BollingerBands.prototype.initDataSource = function (indicator, chart) {\n        var enableBand = indicator.bandColor !== 'transparent' && indicator.bandColor !== 'none';\n        var start = enableBand ? 1 : 0;\n        var signalCollection = [];\n        var upperCollection = [];\n        var lowerCollection = [];\n        var bandCollection = [];\n        var upperSeries = indicator.targetSeries[start + 1];\n        var lowerSeries = indicator.targetSeries[start + 2];\n        var signalSeries = indicator.targetSeries[start];\n        var rangeAreaSeries = enableBand ? indicator.targetSeries[0] : null;\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            var sum = 0;\n            var deviationSum = 0;\n            var multiplier = indicator.standardDeviation;\n            var limit = validData.length;\n            var length_1 = Math.round(indicator.period);\n            var smaPoints = [];\n            var deviations = [];\n            var bollingerPoints = [];\n            for (var i_1 = 0; i_1 < length_1; i_1++) {\n                sum += Number(validData[i_1].close);\n            }\n            var sma = sum / indicator.period;\n            for (var i_2 = 0; i_2 < limit; i_2++) {\n                var y = Number(validData[i_2].close);\n                if (i_2 >= length_1 - 1 && i_2 < limit) {\n                    if (i_2 - indicator.period >= 0) {\n                        var diff = y - Number(validData[i_2 - length_1].close);\n                        sum = sum + diff;\n                        sma = sum / (indicator.period);\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2] - deviations[i_2 - length_1];\n                    }\n                    else {\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2];\n                    }\n                    var range = Math.sqrt(deviationSum / (indicator.period));\n                    var lowerBand = smaPoints[i_2] - (multiplier * range);\n                    var upperBand = smaPoints[i_2] + (multiplier * range);\n                    if (i_2 + 1 === length_1) {\n                        for (var j_1 = 0; j_1 < length_1 - 1; j_1++) {\n                            bollingerPoints[j_1] = {\n                                'X': validData[j_1].x, 'mb': smaPoints[i_2],\n                                'lb': lowerBand, 'ub': upperBand, visible: true\n                            };\n                        }\n                    }\n                    bollingerPoints[i_2] = {\n                        'X': validData[i_2].x, 'mb': smaPoints[i_2],\n                        'lb': lowerBand, 'ub': upperBand, visible: true\n                    };\n                }\n                else {\n                    if (i_2 < indicator.period - 1) {\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2];\n                    }\n                }\n            }\n            var i = -1;\n            var j = -1;\n            for (var k = 0; k < limit; k++) {\n                if (k >= (length_1 - 1)) {\n                    var ub = 'ub';\n                    var lb = 'lb';\n                    var mb = 'mb';\n                    upperCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][ub], validData[k], upperSeries, upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][lb], validData[k], lowerSeries, lowerCollection.length));\n                    signalCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][mb], validData[k], signalSeries, signalCollection.length));\n                    if (enableBand) {\n                        bandCollection.push(this.getRangePoint(validData[k].x, upperCollection[++i].y, lowerCollection[++j].y, validData[k], rangeAreaSeries, bandCollection.length));\n                    }\n                }\n            }\n        }\n        if (enableBand) {\n            this.setSeriesRange(bandCollection, indicator, indicator.targetSeries[0]);\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[start]);\n        this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[start + 1]);\n        this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[start + 2]);\n    };\n    /**\n     * To destroy the Bollinger Band.\n     * @return {void}\n     * @private\n     */\n    BollingerBands.prototype.destroy = function (chart) {\n        /**\n         * Destroys the bollinger band\n         */\n    };\n    /**\n     * Get module name.\n     */\n    BollingerBands.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'BollingerBandsIndicator';\n    };\n    return BollingerBands;\n}(TechnicalAnalysis));\nexport { BollingerBands };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `MacdIndicator` module is used to render MACD indicator.\n */\nvar MacdIndicator = /** @class */ (function (_super) {\n    __extends(MacdIndicator, _super);\n    function MacdIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the collection of series to represent the MACD indicator\n     * @private\n     */\n    MacdIndicator.prototype.initSeriesCollection = function (indicator, chart) {\n        _super.prototype.initSeriesCollection.call(this, indicator, chart);\n        if (indicator.macdType === 'Line' || indicator.macdType === 'Both') {\n            var macdSeries = new Series(indicator, 'targetSeries', {}, true);\n            this.setSeriesProperties(macdSeries, indicator, 'MacdLine', indicator.macdLine.color, indicator.macdLine.width, chart);\n        }\n        if (indicator.macdType === 'Histogram' || indicator.macdType === 'Both') {\n            var histogramSeries = new Series(indicator, 'targetSeries', {}, true);\n            histogramSeries.type = 'Column';\n            this.setSeriesProperties(histogramSeries, indicator, 'Histogram', indicator.macdPositiveColor, indicator.width, chart);\n        }\n    };\n    /**\n     * Defines the predictions using MACD approach\n     * @private\n     */\n    MacdIndicator.prototype.initDataSource = function (indicator, chart) {\n        var signalCollection = [];\n        var fastPeriod = indicator.fastPeriod;\n        var slowPeriod = indicator.slowPeriod;\n        var trigger = indicator.period;\n        var length = fastPeriod + trigger;\n        var macdCollection = [];\n        var histogramCollection = [];\n        var validData = indicator.points;\n        var signalSeries = indicator.targetSeries[0];\n        var histogramSeries;\n        var macdLineSeries;\n        if (indicator.macdType === 'Histogram') {\n            histogramSeries = indicator.targetSeries[1];\n        }\n        else {\n            macdLineSeries = indicator.targetSeries[1];\n            if (indicator.macdType === 'Both') {\n                histogramSeries = indicator.targetSeries[2];\n            }\n        }\n        if (validData && length < validData.length && slowPeriod <= fastPeriod &&\n            slowPeriod > 0 && (length - 2) >= 0) {\n            var shortEMA = this.calculateEMAValues(slowPeriod, validData, 'close');\n            var longEMA = this.calculateEMAValues(fastPeriod, validData, 'close');\n            var macdValues = this.getMACDVales(indicator, shortEMA, longEMA);\n            macdCollection = this.getMACDPoints(indicator, macdValues, validData, macdLineSeries || signalSeries);\n            var signalEMA = this.calculateEMAValues(trigger, macdCollection, 'y');\n            signalCollection = this.getSignalPoints(indicator, signalEMA, validData, signalSeries);\n            if (histogramSeries) {\n                histogramCollection = this.getHistogramPoints(indicator, macdValues, signalEMA, validData, histogramSeries);\n            }\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[0]);\n        if (histogramSeries) {\n            this.setSeriesRange(histogramCollection, indicator, histogramSeries);\n        }\n        if (macdLineSeries) {\n            this.setSeriesRange(macdCollection, indicator, macdLineSeries);\n        }\n    };\n    /**\n     * Calculates the EMA values for the given period\n     */\n    MacdIndicator.prototype.calculateEMAValues = function (period, validData, field) {\n        var sum = 0;\n        var initialEMA = 0;\n        var emaValues = [];\n        var emaPercent = (2 / (period + 1));\n        for (var i = 0; i < period; i++) {\n            sum += Number(validData[i][field]);\n        }\n        initialEMA = (sum / period);\n        emaValues.push(initialEMA);\n        var emaAvg = initialEMA;\n        for (var j = period; j < validData.length; j++) {\n            emaAvg = (Number(validData[j][field]) - emaAvg) * emaPercent + emaAvg;\n            emaValues.push(emaAvg);\n        }\n        return emaValues;\n    };\n    /**\n     * Defines the MACD Points\n     */\n    MacdIndicator.prototype.getMACDPoints = function (indicator, macdPoints, validData, series) {\n        var macdCollection = [];\n        var dataMACDIndex = indicator.fastPeriod - 1;\n        var macdIndex = 0;\n        while (dataMACDIndex < validData.length) {\n            macdCollection.push(this.getDataPoint(validData[dataMACDIndex].x, macdPoints[macdIndex], validData[dataMACDIndex], series, macdCollection.length));\n            dataMACDIndex++;\n            macdIndex++;\n        }\n        return macdCollection;\n    };\n    /**\n     * Calculates the signal points\n     */\n    MacdIndicator.prototype.getSignalPoints = function (indicator, signalEma, validData, series) {\n        var dataSignalIndex = indicator.fastPeriod + indicator.period - 2;\n        var signalIndex = 0;\n        var signalCollection = [];\n        while (dataSignalIndex < validData.length) {\n            signalCollection.push(this.getDataPoint(validData[dataSignalIndex].x, signalEma[signalIndex], validData[dataSignalIndex], series, signalCollection.length));\n            dataSignalIndex++;\n            signalIndex++;\n        }\n        return signalCollection;\n    };\n    /**\n     * Calculates the MACD values\n     */\n    MacdIndicator.prototype.getMACDVales = function (indicator, shortEma, longEma) {\n        var macdPoints = [];\n        var diff = indicator.fastPeriod - indicator.slowPeriod;\n        for (var i = 0; i < longEma.length; i++) {\n            macdPoints.push((shortEma[i + diff] - longEma[i]));\n        }\n        return macdPoints;\n    };\n    /**\n     * Calculates the Histogram Points\n     */\n    MacdIndicator.prototype.getHistogramPoints = function (indicator, macdPoints, signalEma, validData, series) {\n        var dataHistogramIndex = indicator.fastPeriod + indicator.period - 2;\n        var histogramIndex = 0;\n        var histogramCollection = [];\n        while (dataHistogramIndex < validData.length) {\n            histogramCollection.push(this.getDataPoint(validData[dataHistogramIndex].x, macdPoints[histogramIndex + (indicator.period - 1)] - signalEma[histogramIndex], validData[dataHistogramIndex], series, histogramCollection.length, indicator));\n            dataHistogramIndex++;\n            histogramIndex++;\n        }\n        return histogramCollection;\n    };\n    /**\n     * To destroy the MACD Indicator.\n     * @return {void}\n     * @private\n     */\n    MacdIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroys the MACD indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    MacdIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'MacdIndicator';\n    };\n    return MacdIndicator;\n}(TechnicalAnalysis));\nexport { MacdIndicator };\n","import { Series, Points } from '../series/chart-series';\nimport { findClipRect, RectOption } from '../../common/utils/helper';\n/**\n * `Trendline` module is used to render 6 types of trendlines in chart.\n */\nvar Trendlines = /** @class */ (function () {\n    function Trendlines() {\n    }\n    /**\n     * Defines the collection of series, that are used to represent a trendline\n     * @private\n     */\n    Trendlines.prototype.initSeriesCollection = function (trendline, chart) {\n        var trendLineSeries = new Series(trendline, 'targetSeries', {}, true);\n        if (trendline.type === 'Linear' || trendline.type === 'MovingAverage') {\n            trendLineSeries.type = 'Line';\n        }\n        else {\n            trendLineSeries.type = 'Spline';\n        }\n        this.setSeriesProperties(trendLineSeries, trendline, trendline.type, trendline.fill, trendline.width, chart);\n    };\n    /**\n     * Initializes the properties of the trendline series\n     */\n    Trendlines.prototype.setSeriesProperties = function (series, trendline, name, fill, width, chart) {\n        series.name = trendline.name;\n        series.xName = 'x';\n        series.yName = 'y';\n        series.fill = fill || 'blue';\n        series.width = width;\n        series.clipRectElement = trendline.clipRectElement;\n        series.points = [];\n        series.enableTooltip = trendline.enableTooltip;\n        series.index = trendline.index;\n        series.sourceIndex = trendline.sourceIndex;\n        series.interior = series.fill;\n        series.animation = trendline.animation;\n        series.legendShape = 'HorizontalLine';\n        series.marker = trendline.marker;\n        series.category = 'TrendLine';\n        series.chart = chart;\n        series.xMin = Infinity;\n        series.xMax = -Infinity;\n        series.yMin = Infinity;\n        series.yMax = -Infinity;\n        series.xData = [];\n        series.yData = [];\n        trendline.targetSeries = series;\n    };\n    /**\n     * Creates the elements of a trendline\n     */\n    Trendlines.prototype.createTrendLineElements = function (chart, trendline, index, element, clipRectElement) {\n        trendline.trendLineElement = element;\n        trendline.targetSeries.clipRectElement = clipRectElement;\n        trendline.targetSeries.seriesElement = element;\n        chart.trendLineElements.appendChild(trendline.trendLineElement);\n    };\n    /**\n     * Defines the data point of trendline\n     */\n    Trendlines.prototype.getDataPoint = function (x, y, sourcePoint, series, index) {\n        var trendPoint = new Points();\n        trendPoint.x = x;\n        trendPoint.y = y;\n        trendPoint.xValue = Number(x);\n        trendPoint.color = series.fill;\n        trendPoint.index = index;\n        trendPoint.yValue = Number(y);\n        trendPoint.visible = true;\n        series.xMin = Math.min(series.xMin, trendPoint.xValue);\n        series.yMin = Math.min(series.yMin, trendPoint.yValue);\n        series.xMax = Math.max(series.xMax, trendPoint.xValue);\n        series.yMax = Math.max(series.yMax, trendPoint.yValue);\n        series.xData.push(trendPoint.xValue);\n        return trendPoint;\n    };\n    /**\n     * Finds the slope and intercept of trendline\n     */\n    Trendlines.prototype.findSlopeIntercept = function (xValues, yValues, trendline, points) {\n        var xAvg = 0;\n        var yAvg = 0;\n        var xyAvg = 0;\n        var xxAvg = 0;\n        var yyAvg = 0;\n        var index = 0;\n        var slope = 0;\n        var intercept = 0;\n        while (index < points.length) {\n            xAvg += xValues[index];\n            yAvg += yValues[index];\n            xyAvg += xValues[index] * yValues[index];\n            xxAvg += xValues[index] * xValues[index];\n            yyAvg += yValues[index] * yValues[index];\n            index++;\n        }\n        var type = trendline.type;\n        if (trendline.intercept && (type === 'Linear' || type === 'Exponential')) {\n            intercept = trendline.intercept;\n            switch (type) {\n                case 'Linear':\n                    slope = ((xyAvg) - (trendline.intercept * xAvg)) / xxAvg;\n                    break;\n                case 'Exponential':\n                    slope = ((xyAvg) - (Math.log(Math.abs(trendline.intercept)) * xAvg)) / xxAvg;\n                    break;\n            }\n        }\n        else {\n            slope = ((points.length * xyAvg) - (xAvg * yAvg)) / ((points.length * xxAvg) - (xAvg * xAvg));\n            if (type === 'Exponential' || type === 'Power') {\n                intercept = Math.exp((yAvg - (slope * xAvg)) / points.length);\n            }\n            else {\n                intercept = (yAvg - (slope * xAvg)) / points.length;\n            }\n        }\n        return { slope: slope, intercept: intercept };\n    };\n    /**\n     * Defines the points to draw the trendlines\n     */\n    Trendlines.prototype.initDataSource = function (trendline, chart) {\n        var points = trendline.points;\n        if (points && points.length) {\n            //prepare data\n            var trendlineSeries = trendline.targetSeries;\n            switch (trendline.type) {\n                case 'Linear':\n                    this.setLinearRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Exponential':\n                    this.setExponentialRange(points, trendline, trendlineSeries);\n                    break;\n                case 'MovingAverage':\n                    this.setMovingAverageRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Polynomial':\n                    this.setPolynomialRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Power':\n                    this.setPowerRange(points, trendline, trendlineSeries);\n                    break;\n                case 'Logarithmic':\n                    this.setLogarithmicRange(points, trendline, trendlineSeries);\n                    break;\n            }\n            if (trendline.type !== 'Linear' && trendline.type !== 'MovingAverage') {\n                trendlineSeries.chart.splineSeriesModule.findSplinePoint(trendlineSeries);\n            }\n        }\n    };\n    /**\n     * Calculation of exponential points\n     */\n    Trendlines.prototype.setExponentialRange = function (points, trendline, series) {\n        var xValue = [];\n        var yValue = [];\n        var index = 0;\n        var slopeIntercept;\n        while (index < points.length) {\n            var point = points[index];\n            xValue.push(point.xValue);\n            yValue.push(Math.log(point.yValue));\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xValue, yValue, trendline, points);\n        series.points = this.getExponentialPoints(trendline, points, xValue, yValue, series, slopeIntercept);\n    };\n    /**\n     * Calculation of logarithmic points\n     */\n    Trendlines.prototype.setLogarithmicRange = function (points, trendline, series) {\n        var xLogValue = [];\n        var yLogValue = [];\n        var xPointsLgr = [];\n        var slopeIntercept;\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xPointsLgr.push(point.xValue);\n            xLogValue.push(Math.log(point.xValue));\n            yLogValue.push(point.yValue);\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xLogValue, yLogValue, trendline, points);\n        series.points = this.getLogarithmicPoints(trendline, points, xPointsLgr, yLogValue, series, slopeIntercept);\n    };\n    /**\n     * Calculation of polynomial points\n     */\n    Trendlines.prototype.setPolynomialRange = function (points, trendline, series) {\n        var xPolyValues = [];\n        var yPolyValues = [];\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xPolyValues.push(point.xValue);\n            yPolyValues.push(point.yValue);\n            index++;\n        }\n        series.points = this.getPolynomialPoints(trendline, points, xPolyValues, yPolyValues, series);\n    };\n    /**\n     * Calculation of power points\n     */\n    Trendlines.prototype.setPowerRange = function (points, trendline, series) {\n        var xValues = [];\n        var yValues = [];\n        var powerPoints = [];\n        var slopeIntercept;\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            powerPoints.push(point.xValue);\n            xValues.push(Math.log(point.xValue));\n            yValues.push(Math.log(point.yValue));\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xValues, yValues, trendline, points);\n        series.points = this.getPowerPoints(trendline, points, powerPoints, yValues, series, slopeIntercept);\n    };\n    /**\n     * Calculation of linear points\n     */\n    Trendlines.prototype.setLinearRange = function (points, trendline, series) {\n        var xValues = [];\n        var yValues = [];\n        var slopeIntercept;\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xValues.push(point.xValue);\n            yValues.push(point.yValue);\n            index++;\n        }\n        slopeIntercept = this.findSlopeIntercept(xValues, yValues, trendline, points);\n        series.points = this.getLinearPoints(trendline, points, xValues, yValues, series, slopeIntercept);\n    };\n    /**\n     * Calculation of moving average points\n     */\n    Trendlines.prototype.setMovingAverageRange = function (points, trendline, series) {\n        var xValues = [];\n        var yValues = [];\n        var xAvgValues = [];\n        var index = 0;\n        while (index < points.length) {\n            var point = points[index];\n            xAvgValues.push(point.xValue);\n            xValues.push(index + 1);\n            yValues.push(point.yValue);\n            index++;\n        }\n        series.points = this.getMovingAveragePoints(trendline, points, xAvgValues, yValues, series);\n    };\n    /**\n     * Calculation of logarithmic points\n     */\n    Trendlines.prototype.getLogarithmicPoints = function (trendline, points, xValues, yValues, series, slopeInterceptLog) {\n        var midPoint = Math.round((points.length / 2));\n        var pts = [];\n        var x1Log = xValues[0] - trendline.backwardForecast;\n        var y1Log = slopeInterceptLog.intercept + (slopeInterceptLog.slope * Math.log(x1Log));\n        var x2Log = xValues[midPoint - 1];\n        var y2Log = slopeInterceptLog.intercept + (slopeInterceptLog.slope * Math.log(x2Log));\n        var x3Log = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y3Log = slopeInterceptLog.intercept + (slopeInterceptLog.slope * Math.log(x3Log));\n        pts.push(this.getDataPoint(x1Log, y1Log, points[0], series, pts.length));\n        pts.push(this.getDataPoint(x2Log, y2Log, points[midPoint - 1], series, pts.length));\n        pts.push(this.getDataPoint(x3Log, y3Log, points[points.length - 1], series, pts.length));\n        return pts;\n    };\n    /**\n     * Defines the points based on data point\n     */\n    Trendlines.prototype.getPowerPoints = function (trendline, points, xValues, yValues, series, slopeInterceptPower) {\n        var midPoint = Math.round((points.length / 2));\n        var pts = [];\n        var x1 = xValues[0] - trendline.backwardForecast;\n        x1 = x1 > -1 ? x1 : 0;\n        var y1 = slopeInterceptPower.intercept * Math.pow(x1, slopeInterceptPower.slope);\n        var x2 = xValues[midPoint - 1];\n        var y2 = slopeInterceptPower.intercept * Math.pow(x2, slopeInterceptPower.slope);\n        var x3 = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y3 = slopeInterceptPower.intercept * Math.pow(x3, slopeInterceptPower.slope);\n        pts.push(this.getDataPoint(x1, y1, points[0], series, pts.length));\n        pts.push(this.getDataPoint(x2, y2, points[midPoint - 1], series, pts.length));\n        pts.push(this.getDataPoint(x3, y3, points[points.length - 1], series, pts.length));\n        return pts;\n    };\n    /**\n     * Get the polynomial points based on polynomial slopes\n     */\n    Trendlines.prototype.getPolynomialPoints = function (trendline, points, xValues, yValues, series) {\n        var midPoint = Math.round((points.length / 2));\n        var pts = [];\n        var polynomialOrder = points.length <= trendline.polynomialOrder ? points.length : trendline.polynomialOrder;\n        polynomialOrder = Math.max(2, polynomialOrder);\n        polynomialOrder = Math.min(6, polynomialOrder);\n        trendline.polynomialOrder = polynomialOrder;\n        trendline.polynomialSlopes = [];\n        trendline.polynomialSlopes.length = trendline.polynomialOrder + 1;\n        var index = 0;\n        while (index < xValues.length) {\n            var xVal = xValues[index];\n            var yVal = yValues[index];\n            var subIndex = 0;\n            while (subIndex <= trendline.polynomialOrder) {\n                if (!trendline.polynomialSlopes[subIndex]) {\n                    trendline.polynomialSlopes[subIndex] = 0;\n                }\n                trendline.polynomialSlopes[subIndex] += Math.pow(xVal, subIndex) * yVal;\n                ++subIndex;\n            }\n            index++;\n        }\n        var numArray = [];\n        numArray.length = 1 + 2 * trendline.polynomialOrder;\n        var matrix = [];\n        matrix.length = trendline.polynomialOrder + 1;\n        var newIndex = 0;\n        while (newIndex < (trendline.polynomialOrder + 1)) {\n            matrix[newIndex] = [];\n            matrix[newIndex].length = 3;\n            newIndex++;\n        }\n        var nIndex = 0;\n        var num1 = 0;\n        while (nIndex < xValues.length) {\n            var d = xValues[nIndex];\n            var num2 = 1.0;\n            var nIndex2 = 0;\n            while (nIndex2 < numArray.length) {\n                if (!numArray[nIndex2]) {\n                    numArray[nIndex2] = 0;\n                }\n                numArray[nIndex2] += num2;\n                num2 *= d;\n                ++num1;\n                ++nIndex2;\n            }\n            ++nIndex;\n        }\n        var nnIndex = 0;\n        while (nnIndex <= trendline.polynomialOrder) {\n            var nnIndex2 = 0;\n            while (nnIndex2 <= trendline.polynomialOrder) {\n                matrix[nnIndex][nnIndex2] = numArray[nnIndex + nnIndex2];\n                ++nnIndex2;\n            }\n            ++nnIndex;\n        }\n        if (!this.gaussJordanElimination(matrix, trendline.polynomialSlopes)) {\n            trendline.polynomialSlopes = null;\n        }\n        pts = this.getPoints(trendline, points, xValues, yValues, series);\n        return pts;\n    };\n    /**\n     * Defines the moving average points\n     */\n    Trendlines.prototype.getMovingAveragePoints = function (trendline, points, xValues, yValues, series) {\n        var pts = [];\n        var period = trendline.period >= points.length ? points.length - 1 : trendline.period;\n        period = Math.max(2, period);\n        var index = 0;\n        var y;\n        var x;\n        var count;\n        var nullCount;\n        while (index < points.length - 1) {\n            y = count = nullCount = 0;\n            for (var j = index; count < period; j++) {\n                count++;\n                if (!yValues[j]) {\n                    nullCount++;\n                }\n                y += yValues[j];\n            }\n            y = period - nullCount <= 0 ? null : y / (period - nullCount);\n            if (y && !isNaN(y)) {\n                x = xValues[period - 1 + index];\n                pts.push(this.getDataPoint(x, y, points[period - 1 + index], series, pts.length));\n            }\n            index++;\n        }\n        return pts;\n    };\n    /**\n     * Defines the linear points\n     */\n    Trendlines.prototype.getLinearPoints = function (trendline, points, xValues, yValues, series, slopeInterceptLinear) {\n        var pts = [];\n        var x1Linear = xValues[0] - trendline.backwardForecast;\n        var y1Linear = slopeInterceptLinear.slope * x1Linear + slopeInterceptLinear.intercept;\n        var x2Linear = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y2Linear = slopeInterceptLinear.slope * x2Linear + slopeInterceptLinear.intercept;\n        pts.push(this.getDataPoint(x1Linear, y1Linear, points[0], series, pts.length));\n        pts.push(this.getDataPoint(x2Linear, y2Linear, points[points.length - 1], series, pts.length));\n        return pts;\n    };\n    /**\n     * Defines the exponential points\n     */\n    Trendlines.prototype.getExponentialPoints = function (trendline, points, xValues, yValues, series, slopeInterceptExp) {\n        var midPoint = Math.round((points.length / 2));\n        var ptsExp = [];\n        var x1 = xValues[0] - trendline.backwardForecast;\n        var y1 = slopeInterceptExp.intercept * Math.exp(slopeInterceptExp.slope * x1);\n        var x2 = xValues[midPoint - 1];\n        var y2 = slopeInterceptExp.intercept * Math.exp(slopeInterceptExp.slope * x2);\n        var x3 = xValues[xValues.length - 1] + trendline.forwardForecast;\n        var y3 = slopeInterceptExp.intercept * Math.exp(slopeInterceptExp.slope * x3);\n        ptsExp.push(this.getDataPoint(x1, y1, points[0], series, ptsExp.length));\n        ptsExp.push(this.getDataPoint(x2, y2, points[midPoint - 1], series, ptsExp.length));\n        ptsExp.push(this.getDataPoint(x3, y3, points[points.length - 1], series, ptsExp.length));\n        return ptsExp;\n    };\n    /**\n     * Defines the points based on data point\n     */\n    Trendlines.prototype.getPoints = function (trendline, points, xValues, yValues, series) {\n        var midPoint = Math.round((points.length / 2));\n        var polynomialSlopes = trendline.polynomialSlopes;\n        var pts = [];\n        var x1 = 1;\n        var index = 1;\n        var xValue;\n        var yValue;\n        while (index <= polynomialSlopes.length) {\n            if (index === 1) {\n                xValue = xValues[0] - trendline.backwardForecast;\n                yValue = this.getPolynomialYValue(polynomialSlopes, xValue);\n                pts.push(this.getDataPoint(xValue, yValue, points[0], series, pts.length));\n            }\n            else if (index === polynomialSlopes.length) {\n                xValue = xValues[points.length - 1] + trendline.forwardForecast;\n                yValue = this.getPolynomialYValue(polynomialSlopes, xValue);\n                pts.push(this.getDataPoint(xValue, yValue, points[points.length - 1], series, pts.length));\n            }\n            else {\n                x1 += (points.length + trendline.forwardForecast) / polynomialSlopes.length;\n                xValue = xValues[parseInt(x1.toString(), 10) - 1];\n                yValue = this.getPolynomialYValue(polynomialSlopes, xValue);\n                pts.push(this.getDataPoint(xValue, yValue, points[parseInt(x1.toString(), 10) - 1], series, pts.length));\n            }\n            index++;\n        }\n        return pts;\n    };\n    /**\n     * Defines the polynomial value of y\n     */\n    Trendlines.prototype.getPolynomialYValue = function (slopes, x) {\n        var sum = 0;\n        var index = 0;\n        while (index < slopes.length) {\n            sum += slopes[index] * Math.pow(x, index);\n            index++;\n        }\n        return sum;\n    };\n    /**\n     * Defines the gauss jordan elimination\n     */\n    Trendlines.prototype.gaussJordanElimination = function (matrix, polynomialSlopes) {\n        var length = matrix.length;\n        var numArray1 = [];\n        var numArray2 = [];\n        var numArray3 = [];\n        numArray1.length = length;\n        numArray2.length = length;\n        numArray3.length = length;\n        var index = 0;\n        while (index < length) {\n            numArray3[index] = 0;\n            ++index;\n        }\n        var index1 = 0;\n        while (index1 < length) {\n            var num1 = 0;\n            var index2 = 0;\n            var index3 = 0;\n            var index4 = 0;\n            while (index4 < length) {\n                if (numArray3[index4] !== 1) {\n                    var index5 = 0;\n                    while (index5 < length) {\n                        if (numArray3[index5] === 0 && Math.abs(matrix[index4][index5]) >= num1) {\n                            num1 = Math.abs(matrix[index4][index5]);\n                            index2 = index4;\n                            index3 = index5;\n                        }\n                        ++index5;\n                    }\n                }\n                ++index4;\n            }\n            ++numArray3[index3];\n            if (index2 !== index3) {\n                var index4_1 = 0;\n                while (index4_1 < length) {\n                    var num2 = matrix[index2][index4_1];\n                    matrix[index2][index4_1] = matrix[index3][index4_1];\n                    matrix[index3][index4_1] = num2;\n                    ++index4_1;\n                }\n                var num3 = polynomialSlopes[index2];\n                polynomialSlopes[index2] = polynomialSlopes[index3];\n                polynomialSlopes[index3] = num3;\n            }\n            numArray2[index1] = index2;\n            numArray1[index1] = index3;\n            if (matrix[index3][index3] === 0.0) {\n                return false;\n            }\n            var num4 = 1.0 / matrix[index3][index3];\n            matrix[index3][index3] = 1.0;\n            var iindex4 = 0;\n            while (iindex4 < length) {\n                matrix[index3][iindex4] *= num4;\n                ++iindex4;\n            }\n            polynomialSlopes[index3] *= num4;\n            var iandex4 = 0;\n            while (iandex4 < length) {\n                if (iandex4 !== index3) {\n                    var num2 = matrix[iandex4][index3];\n                    matrix[iandex4][index3] = 0.0;\n                    var index5 = 0;\n                    while (index5 < length) {\n                        matrix[iandex4][index5] -= matrix[index3][index5] * num2;\n                        ++index5;\n                    }\n                    polynomialSlopes[iandex4] -= polynomialSlopes[index3] * num2;\n                }\n                ++iandex4;\n            }\n            ++index1;\n        }\n        var iindex1 = length - 1;\n        while (iindex1 >= 0) {\n            if (numArray2[iindex1] !== numArray1[iindex1]) {\n                var iindex2 = 0;\n                while (iindex2 < length) {\n                    var num = matrix[iindex2][numArray2[iindex1]];\n                    matrix[iindex2][numArray2[iindex1]] = matrix[iindex2][numArray1[iindex1]];\n                    matrix[iindex2][numArray1[iindex1]] = num;\n                    ++iindex2;\n                }\n            }\n            --iindex1;\n        }\n        return true;\n    };\n    /**\n     * Defines the trendline elements\n     */\n    Trendlines.prototype.getTrendLineElements = function (series, chart) {\n        findClipRect(series);\n        var clipRect = series.clipRect;\n        var clipRectElement = chart.renderer.drawClipPath(new RectOption(chart.element.id + '_ChartTrendlineClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n            x: 0, y: 0, width: clipRect.width,\n            height: clipRect.height,\n        }));\n        var element;\n        element = chart.renderer.createGroup({\n            'id': chart.element.id + 'TrendlineSeriesGroup' + series.index,\n            'transform': 'translate(' + clipRect.x + ',' + clipRect.y + ')',\n            'clip-path': 'url(#' + chart.element.id + '_ChartTrendlineClipRect_' + series.index + ')'\n        });\n        //defines the clip rect element\n        element.appendChild(clipRectElement);\n        for (var _i = 0, _a = series.trendlines; _i < _a.length; _i++) {\n            var trendline = _a[_i];\n            this.createTrendLineElements(chart, trendline, trendline.index, element, clipRectElement);\n        }\n    };\n    /**\n     * To destroy the trendline\n     */\n    Trendlines.prototype.destroy = function (chart) {\n        /**\n         * Destroys the Linear Trendline\n         */\n    };\n    /**\n     * Get module name\n     */\n    Trendlines.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'TrendLine';\n    };\n    return Trendlines;\n}());\nexport { Trendlines };\n","import { Animation, Browser } from '@syncfusion/ej2-base';\nimport { measureText, findDirection, textElement, getValueXByPoint, stopTimer, getValueYByPoint, TextOption, Rect, ChartLocation, PathOption, withInBounds, removeElement } from '../../common/utils/helper';\n/**\n * `Crosshair` module is used to render the crosshair for chart.\n */\nvar Crosshair = /** @class */ (function () {\n    /**\n     * Constructor for crosshair module.\n     * @private\n     */\n    function Crosshair(chart) {\n        this.arrowLocation = new ChartLocation(0, 0);\n        this.rx = 2;\n        this.ry = 2;\n        this.chart = chart;\n        this.elementID = this.chart.element.id;\n        this.addEventListener();\n    }\n    /**\n     * @hidden\n     */\n    Crosshair.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n        this.chart.on(cancelEvent, this.mouseLeaveHandler, this);\n        this.chart.on('tapHold', this.longPress, this);\n    };\n    Crosshair.prototype.mouseUpHandler = function () {\n        if (this.chart.startMove) {\n            this.removeCrosshair(2000);\n        }\n    };\n    Crosshair.prototype.mouseLeaveHandler = function () {\n        this.removeCrosshair(1000);\n    };\n    Crosshair.prototype.mouseMoveHandler = function (event) {\n        var chart = this.chart;\n        if (event.type === 'touchmove' && (Browser.isIos || Browser.isIos7) && chart.startMove && event.preventDefault) {\n            event.preventDefault();\n        }\n        // Tooltip for chart series.\n        if (!chart.disableTrackTooltip) {\n            if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                if (chart.startMove || !chart.isTouch) {\n                    this.crosshair();\n                }\n            }\n            else {\n                this.removeCrosshair(1000);\n            }\n        }\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Crosshair.prototype.longPress = function () {\n        var chart = this.chart;\n        if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            this.crosshair();\n        }\n        return false;\n    };\n    /**\n     * Renders the crosshair.\n     * @return {void}\n     */\n    Crosshair.prototype.crosshair = function () {\n        var chart = this.chart;\n        var horizontalCross = '';\n        var verticalCross = '';\n        var options;\n        var crosshair = chart.crosshair;\n        var chartRect = chart.chartAxisLayoutPanel.seriesClipRect;\n        var crossGroup = document.getElementById(this.elementID + '_UserInteraction');\n        this.stopAnimation();\n        if (chart.tooltip.enable && !withInBounds(chart.tooltipModule.valueX, chart.tooltipModule.valueY, chartRect)) {\n            return null;\n        }\n        this.valueX = chart.tooltip.enable ? chart.tooltipModule.valueX : chart.mouseX;\n        this.valueY = chart.tooltip.enable ? chart.tooltipModule.valueY : chart.mouseY;\n        crossGroup.setAttribute('opacity', '1');\n        if (crosshair.lineType === 'Both' || crosshair.lineType === 'Horizontal') {\n            horizontalCross += 'M ' + chartRect.x + ' ' + this.valueY +\n                ' L ' + (chartRect.x + chartRect.width) + ' ' + this.valueY;\n        }\n        if (crosshair.lineType === 'Both' || crosshair.lineType === 'Vertical') {\n            verticalCross += 'M ' + this.valueX + ' ' + chartRect.y +\n                ' L ' + this.valueX + ' ' + (chartRect.y + chartRect.height);\n        }\n        if (crossGroup.childNodes.length === 0) {\n            var axisTooltipGroup = chart.renderer.createGroup({ 'id': this.elementID + '_crosshair_axis' });\n            options = new PathOption(this.elementID + '_HorizontalLine', 'none', crosshair.line.width, crosshair.line.color || chart.themeStyle.crosshairLine, 1, null, horizontalCross);\n            this.renderCrosshairLine(options, crossGroup);\n            options.d = verticalCross;\n            options.id = this.elementID + '_VerticalLine';\n            this.renderCrosshairLine(options, crossGroup);\n            crossGroup.appendChild(axisTooltipGroup);\n            this.renderAxisTooltip(chart, chartRect, crossGroup.lastChild);\n        }\n        else {\n            document.getElementById(this.elementID + '_HorizontalLine').setAttribute('d', horizontalCross);\n            document.getElementById(this.elementID + '_VerticalLine').setAttribute('d', verticalCross);\n            this.renderAxisTooltip(chart, chartRect, crossGroup.lastChild);\n        }\n    };\n    Crosshair.prototype.renderCrosshairLine = function (options, crossGroup) {\n        var htmlObject = this.chart.renderer.drawPath(options);\n        crossGroup.appendChild(htmlObject);\n    };\n    Crosshair.prototype.renderAxisTooltip = function (chart, chartRect, axisGroup) {\n        var axis;\n        var text;\n        var rect;\n        var pathElement;\n        var textElem;\n        var options;\n        var padding = 5;\n        var direction;\n        var axisRect;\n        for (var k = 0, length_1 = chart.axisCollections.length; k < length_1; k++) {\n            axis = chart.axisCollections[k];\n            axisRect = !axis.placeNextToAxisLine ? axis.rect : axis.updatedRect;\n            if (axis.crosshairTooltip.enable) {\n                if ((this.valueX <= (axisRect.x + axisRect.width) && axisRect.x <= this.valueX) ||\n                    (this.valueY <= (axisRect.y + axisRect.height) && axisRect.y <= this.valueY)) {\n                    pathElement = document.getElementById(this.elementID + '_axis_tooltip_' + k);\n                    textElem = document.getElementById(this.elementID + '_axis_tooltip_text_' + k);\n                    text = this.getAxisText(axis);\n                    if (!text) {\n                        continue;\n                    }\n                    rect = this.tooltipLocation(text, axis, chartRect, axisRect);\n                    if (pathElement === null) {\n                        pathElement = chart.renderer.drawPath({\n                            'id': this.elementID + '_axis_tooltip_' + k,\n                            'fill': axis.crosshairTooltip.fill || chart.themeStyle.crosshairFill\n                        });\n                        axisGroup.appendChild(pathElement);\n                        options = new TextOption(this.elementID + '_axis_tooltip_text_' + k, 0, 0, 'start', text);\n                        textElem = textElement(options, axis.crosshairTooltip.textStyle, axis.crosshairTooltip.textStyle.color || chart.themeStyle.crosshairLabel, axisGroup);\n                    }\n                    direction = findDirection(this.rx, this.ry, rect, this.arrowLocation, 10, this.isTop, this.isBottom, this.isLeft, this.valueX, this.valueY);\n                    pathElement.setAttribute('d', direction);\n                    textElem.textContent = text;\n                    textElem.setAttribute('x', (rect.x + padding).toString());\n                    textElem.setAttribute('y', (rect.y + padding + 3 * this.elementSize.height / 4).toString());\n                }\n                else {\n                    removeElement(this.elementID + '_axis_tooltip_' + k);\n                    removeElement(this.elementID + '_axis_tooltip_text_' + k);\n                }\n            }\n        }\n    };\n    Crosshair.prototype.getAxisText = function (axis) {\n        var value;\n        this.isBottom = false;\n        this.isTop = false;\n        this.isLeft = false;\n        this.isRight = false;\n        var labelValue = (axis.valueType === 'Category' && axis.labelPlacement === 'BetweenTicks')\n            ? 0.5 : 0;\n        if (axis.orientation === 'Horizontal') {\n            value = getValueXByPoint(Math.abs(this.valueX - axis.rect.x), axis.rect.width, axis) + labelValue;\n            this.isBottom = !axis.opposedPosition;\n            this.isTop = axis.opposedPosition;\n        }\n        else {\n            value = getValueYByPoint(Math.abs(this.valueY - axis.rect.y), axis.rect.height, axis) + labelValue;\n            this.isRight = axis.opposedPosition;\n            this.isLeft = !axis.opposedPosition;\n        }\n        if (axis.valueType === 'DateTime') {\n            return axis.format(new Date(value));\n        }\n        else if (axis.valueType === 'Category') {\n            return axis.labels[Math.floor(value)];\n        }\n        else if (axis.valueType === 'Logarithmic') {\n            return value = axis.format(Math.pow(axis.logBase, value));\n        }\n        else {\n            var customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            return customLabelFormat ? axis.labelFormat.replace('{value}', axis.format(value)) : axis.format(value);\n        }\n    };\n    Crosshair.prototype.tooltipLocation = function (text, axis, bounds, axisRect) {\n        var isBottom = false;\n        var isLeft = false;\n        var padding = 5;\n        var arrowPadding = 10;\n        var tooltipRect;\n        var boundsX = bounds.x;\n        var boundsY = bounds.y;\n        var islabelInside = axis.labelPosition === 'Inside';\n        this.elementSize = measureText(text, axis.crosshairTooltip.textStyle);\n        if (axis.orientation === 'Horizontal') {\n            var yLocation = islabelInside ? axisRect.y - this.elementSize.height - (padding * 2 + arrowPadding) : axisRect.y;\n            var height = islabelInside ? axisRect.y - this.elementSize.height - arrowPadding : axisRect.y + arrowPadding;\n            this.arrowLocation = new ChartLocation(this.valueX, yLocation);\n            tooltipRect = new Rect((this.valueX - (this.elementSize.width / 2) - padding), height, this.elementSize.width + padding * 2, this.elementSize.height + padding * 2);\n            if (axis.opposedPosition) {\n                tooltipRect.y = islabelInside ? axisRect.y : axisRect.y - (this.elementSize.height + padding * 2 + arrowPadding);\n            }\n            if (tooltipRect.x < boundsX) {\n                tooltipRect.x = boundsX;\n            }\n            if (tooltipRect.x + tooltipRect.width > boundsX + bounds.width) {\n                tooltipRect.x -= ((tooltipRect.x + tooltipRect.width) - (boundsX + bounds.width));\n            }\n            if (this.arrowLocation.x + arrowPadding / 2 > tooltipRect.x + tooltipRect.width - this.rx) {\n                this.arrowLocation.x = tooltipRect.x + tooltipRect.width - this.rx - arrowPadding / 2;\n            }\n            if (this.arrowLocation.x - arrowPadding / 2 < tooltipRect.x + this.rx) {\n                this.arrowLocation.x = tooltipRect.x + this.rx + arrowPadding / 2;\n            }\n        }\n        else {\n            this.arrowLocation = new ChartLocation(axisRect.x, this.valueY);\n            var width = islabelInside ? axisRect.x : axisRect.x - (this.elementSize.width) - (padding * 2 + arrowPadding);\n            tooltipRect = new Rect(width, this.valueY - (this.elementSize.height / 2) - padding, this.elementSize.width + (padding * 2), this.elementSize.height + padding * 2);\n            if (axis.opposedPosition) {\n                tooltipRect.x = islabelInside ? axisRect.x - this.elementSize.width - arrowPadding : axisRect.x + arrowPadding;\n                if ((tooltipRect.x + tooltipRect.width) > this.chart.availableSize.width) {\n                    this.arrowLocation.x -= ((tooltipRect.x + tooltipRect.width) - this.chart.availableSize.width);\n                    tooltipRect.x -= ((tooltipRect.x + tooltipRect.width) - this.chart.availableSize.width);\n                }\n            }\n            else {\n                if (tooltipRect.x < 0) {\n                    this.arrowLocation.x -= tooltipRect.x;\n                    tooltipRect.x = 0;\n                }\n            }\n            if (tooltipRect.y < boundsY) {\n                tooltipRect.y = boundsY;\n            }\n            if (tooltipRect.y + tooltipRect.height >= boundsY + bounds.height) {\n                tooltipRect.y -= ((tooltipRect.y + tooltipRect.height) - (boundsY + bounds.height));\n            }\n            if (this.arrowLocation.y + arrowPadding / 2 > tooltipRect.y + tooltipRect.height - this.ry) {\n                this.arrowLocation.y = tooltipRect.y + tooltipRect.height - this.ry - arrowPadding / 2;\n            }\n            if (this.arrowLocation.y - arrowPadding / 2 < tooltipRect.y + this.ry) {\n                this.arrowLocation.y = tooltipRect.y + this.ry + arrowPadding / 2;\n            }\n        }\n        return tooltipRect;\n    };\n    Crosshair.prototype.stopAnimation = function () {\n        stopTimer(this.crosshairInterval);\n    };\n    /**\n     * Removes the crosshair on mouse leave.\n     * @return {void}\n     * @private\n     */\n    Crosshair.prototype.removeCrosshair = function (duration) {\n        var chart = this.chart;\n        var crosshair = document.getElementById(this.elementID + '_UserInteraction');\n        this.stopAnimation();\n        if (crosshair && crosshair.getAttribute('opacity') !== '0') {\n            this.crosshairInterval = setTimeout(function () {\n                new Animation({}).animate(crosshair, {\n                    duration: 200,\n                    progress: function (args) {\n                        // crosshair.removeAttribute('e-animate');\n                        crosshair.style.animation = '';\n                        crosshair.setAttribute('opacity', (1 - (args.timeStamp / args.duration)).toString());\n                    },\n                    end: function (model) {\n                        crosshair.setAttribute('opacity', '0');\n                        chart.startMove = false;\n                        if (chart.tooltipModule) {\n                            chart.tooltipModule.valueX = null;\n                            chart.tooltipModule.valueY = null;\n                        }\n                    }\n                });\n            }, duration);\n        }\n    };\n    /**\n     * Get module name.\n     */\n    Crosshair.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Crosshair';\n    };\n    /**\n     * To destroy the crosshair.\n     * @return {void}\n     * @private\n     */\n    Crosshair.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Crosshair;\n}());\nexport { Crosshair };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, extend, Browser } from '@syncfusion/ej2-base';\nimport { Animation, compile as templateComplier } from '@syncfusion/ej2-base';\nimport { measureText, TextOption, Size, Rect, ChartLocation, textElement } from '../../common/utils/helper';\nimport { findDirection, stopTimer, removeElement } from '../../common/utils/helper';\nimport { ChartData } from '../../chart/utils/get-data';\nimport { tooltipRender } from '../../common/model/constants';\nimport { Theme } from '../../common/model/theme';\n/**\n * Tooltip Module used to render the tooltip for series.\n */\nvar BaseTooltip = /** @class */ (function (_super) {\n    __extends(BaseTooltip, _super);\n    /**\n     * Constructor for tooltip module.\n     * @private.\n     */\n    function BaseTooltip(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.padding = 5;\n        _this.arrowPadding = 12;\n        _this.rx = 2;\n        _this.ry = 2;\n        _this.markerPoint = [];\n        _this.element = _this.chart.element;\n        _this.textStyle = chart.tooltip.textStyle;\n        _this.control = chart;\n        return _this;\n    }\n    BaseTooltip.prototype.getElement = function (id) {\n        return document.getElementById(id);\n    };\n    /**\n     * Renders the tooltip.\n     * @return {void}\n     * @private\n     */\n    BaseTooltip.prototype.getTooltipElement = function (isTooltip) {\n        this.inverted = this.chart.requireInvertedAxis;\n        this.updateTemplateFn(this.control);\n        this.formattedText = [];\n        this.header = (this.control.tooltip.header === null) ?\n            ((this.control.tooltip.shared) ? '<b>${point.x}</b>' : '<b>${series.name}</b>')\n            : (this.control.tooltip.header);\n        if (!isTooltip) {\n            var elementCollection = document.getElementsByClassName('ejSVGTooltip');\n            for (var i = elementCollection.length - 1; i >= 0; i--) {\n                if (!this.getElement(this.element.id).contains(elementCollection[i])) {\n                    elementCollection[i].remove();\n                }\n            }\n            return this.createElement(this.control);\n        }\n        return null;\n    };\n    BaseTooltip.prototype.createElement = function (chart) {\n        this.textElements = [];\n        var tooltipDiv = document.createElement('div');\n        tooltipDiv.id = this.element.id + '_tooltip';\n        tooltipDiv.className = 'ejSVGTooltip';\n        tooltipDiv.setAttribute('style', 'pointer-events:none; position:absolute;z-index: 1');\n        if (!chart.tooltip.template || chart.tooltip.shared) {\n            // SVG element for tooltip\n            var svgObject = chart.renderer.createSvg({ id: this.element.id + '_tooltip_svg' });\n            tooltipDiv.appendChild(svgObject);\n            // Group to hold text and path.\n            var groupElement = chart.renderer.createGroup({ id: this.element.id + '_tooltip_group' });\n            svgObject.appendChild(groupElement);\n            var pathElement = chart.renderer.drawPath({\n                'id': this.element.id + '_tooltip_path', 'stroke-width': chart.tooltip.border.width,\n                'fill': chart.tooltip.fill || chart.themeStyle.tooltipFill, 'opacity': chart.tooltip.opacity,\n                'stroke': chart.tooltip.border.color\n            });\n            groupElement.appendChild(pathElement);\n        }\n        return tooltipDiv;\n    };\n    BaseTooltip.prototype.pushData = function (data, isFirst, tooltipDiv, isChart) {\n        if (data.series.enableTooltip) {\n            if (isChart) {\n                this.currentPoints.push(data);\n            }\n            else {\n                this.currentPoints.push(data);\n            }\n            this.stopAnimation();\n            if (isFirst) {\n                document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n            }\n            return true;\n        }\n        return false;\n    };\n    BaseTooltip.prototype.renderTooltip = function (data, areaRect, location, textCollection, isFirst, cartesain) {\n        if (this.triggerEvent(data, isFirst, textCollection)) {\n            this.renderText(isFirst, this.control);\n            this.removeHighlight(this.control);\n            this.highlightPoints(data);\n            return this.renderTooltipElement(this.control, data, areaRect, location, cartesain, isFirst);\n        }\n        else {\n            this.removeHighlight(this.control);\n            this.getElement(this.element.id + '_tooltip').remove();\n            return null;\n        }\n    };\n    BaseTooltip.prototype.renderTemplate = function (data, rect, location, point, isFirst) {\n        this.removeHighlight(this.control);\n        this.createTemplate(point, data, rect, location, this.getElement(this.element.id + '_tooltip'), isFirst);\n    };\n    BaseTooltip.prototype.renderTooltipElement = function (chart, pointData, areaRect, location, cartesain, isFirst) {\n        var tooltipDiv = this.getElement(this.element.id + '_tooltip');\n        var arrowLocation = new ChartLocation(0, 0);\n        var tipLocation = new ChartLocation(0, 0);\n        var textHeights;\n        var svgObject = this.getElement(this.element.id + '_tooltip_svg');\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var pathElement = this.getElement(this.element.id + '_tooltip_path');\n        var rect;\n        var isTop = false;\n        var isLeft = false;\n        var isBottom = false;\n        var x = 0;\n        var y = 0;\n        this.tipRadius = 1;\n        var series = pointData.series;\n        if (this.header !== '') {\n            this.elementSize.height += 5;\n        }\n        if (this.currentPoints.length > 1) {\n            this.arrowPadding = 0;\n            rect = this.sharedTooltipLocation(areaRect, this.valueX, this.valueY);\n            isTop = true;\n        }\n        else {\n            this.arrowPadding = 12;\n            rect = this.seriesTooltipLocation(pointData, areaRect, location, arrowLocation, tipLocation);\n            if (!this.inverted || !series.isRectSeries) {\n                isTop = (rect.y < (location.y + (cartesain ? series.clipRect.y : 0)));\n                isBottom = !isTop;\n                y = (isTop ? 0 : this.arrowPadding);\n            }\n            else {\n                isLeft = (rect.x < (location.x + series.clipRect.x));\n                x = (isLeft ? 0 : this.arrowPadding);\n            }\n        }\n        if (this.header !== '') {\n            var headerSize = measureText(this.header, chart.tooltip.textStyle).height + (this.padding * 2) +\n                (isBottom ? this.arrowPadding : 0); //header padding;\n            var xLength = (this.padding * 3) + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0);\n            var direction = 'M ' + xLength + ' ' + headerSize +\n                'L ' + (rect.width + (!isLeft && !isTop && !isBottom ? this.arrowPadding : 0) - (this.padding * 2)) +\n                ' ' + headerSize;\n            var pathElement_1 = this.chart.renderer.drawPath({\n                'id': this.element.id + '_header_path', 'stroke-width': 1,\n                'fill': null, 'opacity': 0.8, 'stroke': chart.themeStyle.tooltipHeaderLine, 'd': direction\n            });\n            groupElement.appendChild(pathElement_1);\n        }\n        var start = chart.tooltip.border.width / 2;\n        var pointRect = new Rect(start + x, start + y, rect.width - start, rect.height - start);\n        groupElement.setAttribute('opacity', '1');\n        if (chart.tooltip.enableAnimation && !chart.tooltip.shared && !isFirst && !this.isComplete) {\n            this.animateTooltipDiv(tooltipDiv, rect);\n        }\n        else {\n            this.updateDiv(tooltipDiv, rect.x, rect.y);\n        }\n        this.isComplete = false;\n        svgObject.setAttribute('height', (rect.height + chart.tooltip.border.width + (!((!this.inverted) ||\n            (!pointData.series.isRectSeries)) ? 0 : this.arrowPadding)).toString());\n        svgObject.setAttribute('width', (rect.width + chart.tooltip.border.width + (((!this.inverted) ||\n            (!pointData.series.isRectSeries)) ? 0 : this.arrowPadding)).toString());\n        svgObject.setAttribute('opacity', '1');\n        pathElement.setAttribute('d', findDirection(this.rx, this.ry, pointRect, arrowLocation, this.arrowPadding, isTop, isBottom, isLeft, tipLocation.x, tipLocation.y, this.tipRadius));\n        pathElement.setAttribute('filter', Browser.isIE ? '' : 'url(#chart_shadow_tooltip)');\n        var shadowElement = '<filter id=\"chart_shadow_tooltip\" height=\"130%\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\"/>';\n        shadowElement += '<feOffset dx=\"3\" dy=\"3\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"0.5\"/>';\n        shadowElement += '</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n        var defElement = chart.renderer.createDefs();\n        defElement.setAttribute('id', 'chart_tooltip_definition');\n        groupElement.appendChild(defElement);\n        defElement.innerHTML = shadowElement;\n        pathElement.setAttribute('stroke', chart.tooltip.border.color);\n        this.changeText(new ChartLocation(x, y), isBottom, !isLeft && !isTop && !isBottom, rect);\n        return new Side(isBottom, !isLeft && !isTop && !isBottom);\n    };\n    BaseTooltip.prototype.changeText = function (point, isBottom, isRight, rect) {\n        var element = document.getElementById(this.element.id + '_tooltip_text');\n        if (isBottom) {\n            element.setAttribute('transform', 'translate(0,' + this.arrowPadding + ')');\n        }\n        if (isRight) {\n            element.setAttribute('transform', 'translate(' + this.arrowPadding + ' 0)');\n        }\n    };\n    BaseTooltip.prototype.renderText = function (isRender, chart) {\n        var height = 0;\n        var width = 0; // Padding for text;\n        var subWidth = 0;\n        var size;\n        var lines;\n        var key = 'properties';\n        var font = extend({}, this.chart.tooltip.textStyle, null, true)[key];\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var tspanElement;\n        var tspanStyle = '';\n        var line;\n        var tspanOption;\n        this.header = this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim();\n        var headerSpace = (this.header !== '' && this.formattedText[0] !== '') ? 5 : 0;\n        var isRow = true;\n        var isColumn = true;\n        this.markerPoint = [];\n        var markerSize = 10;\n        var spaceWidth = 4;\n        var dy = (22 / parseFloat(Theme.tooltipLabelFont.size)) * (parseFloat(font.size));\n        if (!isRender) {\n            removeElement(this.element.id + '_tooltip_text');\n            removeElement(this.element.id + '_header_path');\n            removeElement(this.element.id + '_tooltip_trackball_group');\n            removeElement('chart_tooltip_definition');\n        }\n        var options = new TextOption(this.element.id + '_tooltip_text', this.padding * 2, this.padding * 4, 'start', '');\n        var parentElement = textElement(options, font, null, groupElement, false);\n        for (var k = 0, pointsLength = this.formattedText.length; k < pointsLength; k++) {\n            var textCollection = this.formattedText[k].replace(/<(b|strong)>/g, '<b>')\n                .replace(/<\\/(b|strong)>/g, '</b>')\n                .split(/<br.*?>/g);\n            size = measureText(this.formattedText[k], font);\n            if ((k !== 0) || (this.header === '')) {\n                this.markerPoint.push((this.header !== '' ? (this.padding) : 0) + options.y + height);\n            }\n            for (var i = 0, len = textCollection.length; i < len; i++) {\n                lines = textCollection[i].replace(/<b>/g, '<br><b>').replace(/<\\/b>/g, '</b><br>').split('<br>');\n                subWidth = 0;\n                isColumn = true;\n                height += dy;\n                for (var k_1 = 0, len_1 = lines.length; k_1 < len_1; k_1++) {\n                    line = lines[k_1];\n                    if (line.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n                        subWidth += spaceWidth;\n                        if (isColumn && !isRow) {\n                            tspanOption = { x: (this.padding * 2) + (markerSize + 5), dy: dy + ((isColumn) ? headerSpace : 0), fill: '' };\n                            headerSpace = null;\n                        }\n                        else {\n                            if (isRow && isColumn) {\n                                tspanOption = { x: (this.header === '') ? ((this.padding * 2) + (markerSize + 5)) : (this.padding * 2) };\n                            }\n                            else {\n                                tspanOption = {};\n                            }\n                        }\n                        isColumn = false;\n                        tspanElement = chart.renderer.createTSpan(tspanOption, '');\n                        parentElement.appendChild(tspanElement);\n                        if (line.indexOf('<b>') > -1) {\n                            tspanStyle = 'font-weight:bold';\n                            font.fontWeight = 'bold';\n                            (tspanElement).setAttribute('fill', chart.tooltip.textStyle.color || chart.themeStyle.tooltipBoldLabel);\n                        }\n                        else {\n                            tspanStyle = '';\n                            font.fontWeight = 'Normal';\n                            (tspanElement).setAttribute('fill', chart.tooltip.textStyle.color || chart.themeStyle.tooltipLightLabel);\n                        }\n                        (tspanElement).textContent = line = line.replace(/<[a-zA-Z\\/](.|\\n)*?>/g, '');\n                        subWidth += measureText(line, font).width;\n                        if (tspanStyle !== '') {\n                            tspanElement.setAttribute('style', tspanStyle);\n                        }\n                        isRow = false;\n                    }\n                }\n                subWidth -= spaceWidth;\n                width = Math.max(width, subWidth);\n            }\n        }\n        height -= (this.header ? this.padding : 0);\n        this.elementSize = new Size(width + (width > 0 ? (2 * this.padding) : 0), height + (this.header !== '' ? this.padding : 0));\n        this.elementSize.width += (markerSize + 5); // marker size + marker Spacing\n        var element = (parentElement.childNodes[0]);\n        if (this.header !== '' && element) {\n            font.fontWeight = 'bold';\n            var width_1 = (this.elementSize.width + (2 * this.padding)) / 2 - measureText(this.header, font).width / 2;\n            element.setAttribute('x', width_1.toString());\n        }\n    };\n    BaseTooltip.prototype.createTemplate = function (point, data, areaRect, location, parent, isFirst) {\n        var chart = this.control;\n        this.highlightPoints(data);\n        var argsData = { cancel: false, name: tooltipRender, point: data.point, series: data.series, };\n        this.chart.trigger(tooltipRender, argsData);\n        var firstElement = this.getElement(this.element.id + '_tooltip').firstChild;\n        if (firstElement) {\n            firstElement.remove();\n        }\n        if (!argsData.cancel) {\n            var templateElement = this.templateFn(point);\n            var elem = createElement('div');\n            while (templateElement.length > 0) {\n                elem.appendChild(templateElement[0]);\n            }\n            parent.appendChild(elem);\n            var rect = parent.getBoundingClientRect();\n            this.padding = 0;\n            this.elementSize = new Size(rect.width, rect.height);\n            var tooltipRect = this.seriesTooltipLocation(data, areaRect, location, new ChartLocation(0, 0), new ChartLocation(0, 0));\n            if (chart.tooltip.enableAnimation && !chart.tooltip.shared && !isFirst && !this.isComplete) {\n                this.animateTooltipDiv(parent, tooltipRect);\n            }\n            else {\n                this.updateDiv(parent, tooltipRect.x, tooltipRect.y);\n            }\n            this.isComplete = false;\n        }\n        else {\n            this.removeHighlight(chart);\n            this.getElement(this.element.id + '_tooltip').remove();\n        }\n    };\n    BaseTooltip.prototype.sharedTooltipLocation = function (bounds, x, y) {\n        var width = this.elementSize.width + (2 * this.padding);\n        var height = this.elementSize.height + (2 * this.padding);\n        var tooltipRect = new Rect(x + 2 * this.padding, y - height - this.padding, width, height);\n        if (tooltipRect.y < bounds.y) {\n            tooltipRect.y += (tooltipRect.height + 2 * this.padding);\n        }\n        if (tooltipRect.x + tooltipRect.width > bounds.x + bounds.width) {\n            tooltipRect.x -= (tooltipRect.width + 4 * this.padding);\n        }\n        return tooltipRect;\n    };\n    BaseTooltip.prototype.seriesTooltipLocation = function (pointData, bounds, symbolLocation, arrowLocation, tipLocation) {\n        var series = pointData.series;\n        var location = new ChartLocation(symbolLocation.x, symbolLocation.y);\n        if (series.type === 'RangeArea' && pointData.point.regions[0]) {\n            if (!series.chart.requireInvertedAxis) {\n                location.y = pointData.point.regions[0].y + pointData.point.regions[0].height / 2;\n            }\n            else {\n                location.x = pointData.point.regions[0].x + pointData.point.regions[0].width / 2;\n            }\n        }\n        var width = this.elementSize.width + (2 * this.padding);\n        var height = this.elementSize.height + (2 * this.padding);\n        var markerHeight = 0;\n        if (!series.isRectSeries) {\n            var chartSeries = pointData.series;\n            markerHeight = (this.chart.tooltip.shared || chartSeries.marker.visible || series.type === 'Scatter'\n                || chartSeries.drawType === 'Scatter') ? ((chartSeries.marker.height + 2) / 2 + (2 * chartSeries.marker.border.width)) : 0;\n        }\n        var clipX = this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.x;\n        var clipY = this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.y;\n        var boundsX = bounds.x;\n        var boundsY = bounds.y;\n        if (!this.inverted || !series.isRectSeries) {\n            location.y = (series.type === 'Waterfall' && pointData.point.y < 0) ?\n                location.y - pointData.point.regions[0].height : location.y;\n            location = new ChartLocation(location.x + clipX - this.elementSize.width / 2 - this.padding, location.y + clipY - this.elementSize.height - (2 * this.padding) - this.arrowPadding - markerHeight);\n            arrowLocation.x = tipLocation.x = width / 2;\n            if (location.y < boundsY || (series.isRectSeries && pointData.point.y < 0 && series.type !== 'Waterfall')) {\n                location.y = (symbolLocation.y < 0 ? 0 : symbolLocation.y) + clipY + markerHeight;\n            }\n            if (location.y + height + this.arrowPadding > boundsY + bounds.height) {\n                location.y = (symbolLocation.y > bounds.height ? bounds.height : symbolLocation.y)\n                    + clipY - this.elementSize.height - (2 * this.padding) - this.arrowPadding - markerHeight;\n            }\n            tipLocation.x = width / 2;\n            if (location.x < boundsX) {\n                arrowLocation.x -= (boundsX - location.x);\n                tipLocation.x -= (boundsX - location.x);\n                location.x = boundsX;\n            }\n            if (location.x + width > boundsX + bounds.width) {\n                arrowLocation.x += ((location.x + width) - (boundsX + bounds.width));\n                tipLocation.x += ((location.x + width) - (boundsX + bounds.width));\n                location.x -= ((location.x + width) - (boundsX + bounds.width));\n            }\n            if (arrowLocation.x + this.arrowPadding / 2 > width - this.rx) {\n                arrowLocation.x = width - this.rx - this.arrowPadding / 2;\n                tipLocation.x = width;\n                this.tipRadius = 0;\n            }\n            if (arrowLocation.x - this.arrowPadding / 2 < this.rx) {\n                arrowLocation.x = this.rx + this.arrowPadding / 2;\n                tipLocation.x = 0;\n                this.tipRadius = 0;\n            }\n        }\n        else {\n            location.x = (series.type === 'Waterfall' && pointData.point.y < 0) ?\n                location.x + pointData.point.regions[0].width : location.x;\n            location = new ChartLocation(location.x + clipX + markerHeight, location.y + clipY - this.elementSize.height / 2 - (this.padding));\n            arrowLocation.y = tipLocation.y = height / 2;\n            if ((location.x + width + this.arrowPadding > boundsX + bounds.width) || (series.isRectSeries &&\n                pointData.point.y < 0 && series.type !== 'Waterfall')) {\n                location.x = (symbolLocation.x > bounds.width ? bounds.width : symbolLocation.x)\n                    + clipX - markerHeight - (width + this.arrowPadding);\n            }\n            if (location.x < boundsX) {\n                location.x = (symbolLocation.x < 0 ? 0 : symbolLocation.x) + clipX + markerHeight;\n            }\n            if (location.y <= boundsY) {\n                arrowLocation.y -= (boundsY - location.y);\n                tipLocation.y -= (boundsY - location.y);\n                location.y = boundsY;\n            }\n            if (location.y + height >= boundsY + bounds.height) {\n                arrowLocation.y += ((location.y + height) - (boundsY + bounds.height));\n                tipLocation.y += ((location.y + height) - (boundsY + bounds.height));\n                location.y -= ((location.y + height) - (boundsY + bounds.height));\n            }\n            if (arrowLocation.y + this.arrowPadding / 2 > height - this.ry) {\n                arrowLocation.y = height - this.ry - this.arrowPadding / 2;\n                tipLocation.y = height;\n                this.tipRadius = 0;\n            }\n            if (arrowLocation.y - this.arrowPadding / 2 < this.ry) {\n                arrowLocation.y = this.ry + this.arrowPadding / 2;\n                tipLocation.y = 0;\n                this.tipRadius = 0;\n            }\n        }\n        return new Rect(location.x, location.y, width, height);\n    };\n    /*\n   * @hidden\n   */\n    BaseTooltip.prototype.progressAnimation = function (element, tooltipGroup, series, opacity, rectOpacity, timeStamp, isRect, shared) {\n        tooltipGroup.style.animation = '';\n        tooltipGroup.setAttribute('opacity', (opacity - timeStamp).toString());\n        if (element && isRect && !shared) {\n            element.setAttribute('opacity', (rectOpacity + (rectOpacity * timeStamp)).toString());\n        }\n    };\n    /*\n     * @hidden\n     */\n    BaseTooltip.prototype.endAnimation = function (element, tooltipGroup, series, shared) {\n        this.currentPoints = [];\n        if (element && series.isRectSeries) {\n            element.setAttribute('opacity', series.opacity.toString());\n        }\n        this.removeHighlight(this.control);\n        tooltipGroup.setAttribute('opacity', '0');\n        if (this.control.tooltip.template && !shared) {\n            tooltipGroup.style.display = 'none';\n        }\n        this.isComplete = true;\n        this.control.trigger('animationComplete', {});\n    };\n    BaseTooltip.prototype.removeHighlight = function (chart) {\n        var item;\n        var series;\n        for (var i = 0, len = this.previousPoints.length; i < len; i++) {\n            item = this.previousPoints[i];\n            if (item.series.isRectSeries) {\n                if (item.series.visible) {\n                    this.highlightPoint(item.series, item.point.index, false);\n                }\n                continue;\n            }\n            series = item.series;\n            if (!series.marker.visible && item.series.type !== 'Scatter' && item.series.type !== 'Bubble') {\n                this.previousPoints.shift();\n                len -= 1;\n            }\n        }\n    };\n    BaseTooltip.prototype.highlightPoint = function (series, pointIndex, highlight) {\n        var element = this.getElement(this.element.id + '_Series_' + series.index + '_Point_' + pointIndex);\n        if (element) {\n            element.setAttribute('opacity', (highlight ? series.opacity / 2 : series.opacity).toString());\n        }\n    };\n    BaseTooltip.prototype.highlightPoints = function (item) {\n        if (item.series.isRectSeries) {\n            this.highlightPoint(item.series, item.point.index, true);\n            return null;\n        }\n    };\n    BaseTooltip.prototype.animateTooltipDiv = function (tooltipDiv, rect) {\n        var _this = this;\n        var x = parseFloat(tooltipDiv.style.left);\n        var y = parseFloat(tooltipDiv.style.top);\n        var currenDiff;\n        new Animation({}).animate(tooltipDiv, {\n            duration: 300,\n            progress: function (args) {\n                currenDiff = (args.timeStamp / args.duration);\n                tooltipDiv.style.animation = null;\n                tooltipDiv.style.left = (x + currenDiff * (rect.x - x)) + 'px';\n                tooltipDiv.style.top = (y + currenDiff * (rect.y - y)) + 'px';\n            },\n            end: function (model) {\n                _this.updateDiv(tooltipDiv, rect.x, rect.y);\n            }\n        });\n    };\n    BaseTooltip.prototype.updateDiv = function (tooltipDiv, x, y) {\n        tooltipDiv.style.left = x + 'px';\n        tooltipDiv.style.top = y + 'px';\n    };\n    BaseTooltip.prototype.triggerEvent = function (point, isFirst, textCollection, firstText) {\n        if (firstText === void 0) { firstText = true; }\n        var argsData = {\n            cancel: false, name: tooltipRender, text: textCollection,\n            point: point.point, series: point.series, textStyle: this.textStyle\n        };\n        this.chart.trigger(tooltipRender, argsData);\n        if (!argsData.cancel) {\n            if (point.series.type === 'BoxAndWhisker') {\n                this.removeText();\n                isFirst = true;\n            }\n            this.formattedText = this.formattedText.concat(argsData.text);\n        }\n        return !argsData.cancel;\n    };\n    BaseTooltip.prototype.removeText = function () {\n        this.textElements = [];\n        var element = this.getElement(this.element.id + '_tooltip_group');\n        if (element.childNodes.length > 0) {\n            while (element.lastChild && element.childNodes.length !== 1) {\n                element.removeChild(element.lastChild);\n            }\n        }\n    };\n    BaseTooltip.prototype.updateTemplateFn = function (chart) {\n        if (chart.tooltip.template) {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(chart.tooltip.template).length) {\n                    this.templateFn = templateComplier(document.querySelector(chart.tooltip.template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                this.templateFn = templateComplier(chart.tooltip.template);\n            }\n        }\n    };\n    BaseTooltip.prototype.stopAnimation = function () {\n        stopTimer(this.toolTipInterval);\n    };\n    return BaseTooltip;\n}(ChartData));\nexport { BaseTooltip };\nvar Side = /** @class */ (function () {\n    function Side(bottom, right) {\n        this.isRight = right;\n        this.isBottom = bottom;\n    }\n    return Side;\n}());\nexport { Side };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend, Browser } from '@syncfusion/ej2-base';\nimport { Animation } from '@syncfusion/ej2-base';\nimport { Size, PointData, ChartLocation } from '../../common/utils/helper';\nimport { drawSymbol, PathOption, valueToCoefficient, removeElement, valueToPolarCoefficient, withInBounds } from '../../common/utils/helper';\nimport { BaseTooltip } from '../../common/user-interaction/tooltip';\n/**\n * `Tooltip` module is used to render the tooltip for chart series.\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for tooltip module.\n     * @private.\n     */\n    function Tooltip(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Tooltip.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(cancelEvent, this.mouseLeaveHandler, this);\n        this.chart.on('tapHold', this.longPress, this);\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    Tooltip.prototype.mouseUpHandler = function () {\n        var chart = this.control;\n        if (chart.isTouch && !this.isSelected(chart) &&\n            ((withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect) && chart.tooltip.shared)\n                || !chart.tooltip.shared)) {\n            if (!chart.crosshair.enable) {\n                this.tooltip();\n                this.removeTooltip(2000);\n            }\n            else if (chart.startMove) {\n                this.removeTooltip(2000);\n            }\n        }\n    };\n    Tooltip.prototype.mouseLeaveHandler = function () {\n        this.removeTooltip(1000);\n    };\n    Tooltip.prototype.mouseMoveHandler = function () {\n        var chart = this.chart;\n        // Tooltip for chart series.\n        if (!chart.disableTrackTooltip && !this.isSelected(chart)) {\n            if (!chart.tooltip.shared && (!chart.isTouch || (chart.startMove))) {\n                this.tooltip();\n            }\n            if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                if (chart.tooltip.shared && (!chart.isTouch || (chart.startMove))) {\n                    this.tooltip();\n                }\n            }\n            else {\n                if (chart.tooltip.shared) {\n                    this.removeTooltip(1000);\n                }\n            }\n        }\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Tooltip.prototype.longPress = function () {\n        var chart = this.chart;\n        if (chart.crosshair.enable && withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            this.tooltip();\n        }\n        return false;\n    };\n    /**\n     * Renders the tooltip.\n     * @return {void}\n     */\n    Tooltip.prototype.tooltip = function () {\n        var isTooltip = this.getElement(this.element.id + '_tooltip');\n        var tooltipDiv = this.getTooltipElement(isTooltip);\n        if (!this.chart.tooltip.shared) {\n            this.renderSeriesTooltip(this.chart, !isTooltip, tooltipDiv);\n        }\n        else {\n            this.renderGroupedTooltip(this.chart, !isTooltip, tooltipDiv);\n        }\n    };\n    Tooltip.prototype.findHeader = function (data) {\n        this.header = this.parseTemplate(data.point, data.series, this.header, data.series.xAxis, data.series.yAxis);\n        if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n            this.formattedText = this.formattedText.concat(this.header);\n        }\n    };\n    Tooltip.prototype.renderSeriesTooltip = function (chart, isFirst, tooltipDiv) {\n        var data = this.getData();\n        var markerSide;\n        data.lierIndex = this.lierIndex;\n        var rect = chart.chartAxisLayoutPanel.seriesClipRect;\n        this.currentPoints = [];\n        if (this.findData(data, this.previousPoints[0])) {\n            if (this.pushData(data, isFirst, tooltipDiv, true)) {\n                var text = this.getTooltipText(data);\n                if (!chart.tooltip.template) {\n                    if (this.header !== '') {\n                        this.findHeader(data);\n                    }\n                    markerSide = this.renderTooltip(data, rect, this.getSymbolLocation(data), text, isFirst, chart.chartAreaType === 'Cartesian');\n                    if (markerSide) {\n                        this.drawMarker(markerSide.isBottom, markerSide.isRight, 10);\n                    }\n                }\n                else {\n                    this.renderTemplate(data, rect, this.getSymbolLocation(data), this.getTemplateText(data), isFirst);\n                }\n                this.isRemove = true;\n            }\n            this.previousPoints = extend([], this.currentPoints, null, true);\n        }\n        else {\n            if (!data.point && this.isRemove) {\n                this.removeTooltip(1000);\n                this.isRemove = false;\n            }\n            else {\n                for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                    var series = _a[_i];\n                    if (series.visible) {\n                        data = this.getClosestX(chart, series) || data;\n                    }\n                }\n            }\n        }\n        if (data && data.point) {\n            this.findMouseValue(data, chart);\n        }\n    };\n    Tooltip.prototype.findData = function (data, previous) {\n        return data.point && ((!previous || (previous.point !== data.point)) ||\n            (previous && previous.lierIndex > 3 && previous.lierIndex !== this.lierIndex));\n    };\n    Tooltip.prototype.getSymbolLocation = function (data) {\n        return data.series.type === 'BoxAndWhisker' ?\n            this.getBoxLocation(data) : data.point.symbolLocations[0];\n    };\n    Tooltip.prototype.getTooltipText = function (pointData) {\n        var series = pointData.series;\n        var text;\n        return this.parseTemplate(pointData.point, series, this.getFormat(this.chart, series), series.xAxis, series.yAxis);\n    };\n    Tooltip.prototype.getTemplateText = function (data) {\n        var point = extend({}, data.point);\n        point.x = this.formatPointValue(data.point, data.series.xAxis, 'x', true, false);\n        if ((data.series.seriesType === 'XY')) {\n            point.y = this.formatPointValue(data.point, data.series.yAxis, 'y', false, true);\n        }\n        else {\n            point.low = this.formatPointValue(data.point, data.series.yAxis, 'low', false, true);\n            point.high = this.formatPointValue(data.point, data.series.yAxis, 'high', false, true);\n        }\n        return point;\n    };\n    Tooltip.prototype.findMouseValue = function (data, chart) {\n        if (!chart.requireInvertedAxis) {\n            if (chart.chartAreaType === 'PolarRadar') {\n                this.valueX = valueToPolarCoefficient(data.point.xValue, data.series.xAxis) * data.series.xAxis.rect.width\n                    + data.series.xAxis.rect.x;\n            }\n            else {\n                this.valueX = valueToCoefficient(data.point.xValue, data.series.xAxis) * data.series.xAxis.rect.width\n                    + data.series.xAxis.rect.x;\n            }\n            this.valueY = chart.mouseY;\n        }\n        else {\n            this.valueY = (1 - valueToCoefficient(data.point.xValue, data.series.xAxis)) * data.series.xAxis.rect.height\n                + data.series.xAxis.rect.y;\n            this.valueX = chart.mouseX;\n        }\n    };\n    Tooltip.prototype.renderGroupedTooltip = function (chart, isFirst, tooltipDiv) {\n        var data;\n        var height = 0;\n        var width = 0;\n        var pointData = chart.chartAreaType === 'PolarRadar' ? this.getData() : null;\n        this.stopAnimation();\n        this.removeHighlight(chart);\n        this.currentPoints = [];\n        var extraPoints = [];\n        var markerSide;\n        if (isFirst) {\n            document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n        }\n        this.removeText();\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (!series.enableTooltip) {\n                continue;\n            }\n            if (chart.chartAreaType === 'Cartesian' && series.visible) {\n                data = this.getClosestX(chart, series);\n            }\n            else if (chart.chartAreaType === 'PolarRadar' && series.visible && pointData.point !== null) {\n                data = new PointData(series.points[pointData.point.index], series);\n            }\n            if (data && this.header !== '' && this.currentPoints.length === 0) {\n                this.findHeader(data);\n            }\n            if (data && this.triggerEvent(data, isFirst, this.getTooltipText(data))) {\n                if (series.category === 'Series') {\n                    this.highlightPoints(data);\n                }\n                this.findMouseValue(data, chart);\n                this.currentPoints.push(data);\n                data = null;\n            }\n            else if (data) {\n                extraPoints.push(data);\n            }\n        }\n        if (this.currentPoints.length > 0) {\n            this.renderText(isFirst, chart);\n            markerSide = this.renderTooltipElement(chart, this.currentPoints[0], chart.chartAxisLayoutPanel.seriesClipRect, this.getSymbolLocation(this.currentPoints[0]), chart.chartAreaType === 'Cartesian', isFirst);\n            this.drawMarker(markerSide.isBottom, markerSide.isRight, 10);\n        }\n        else {\n            this.getElement(this.element.id + '_tooltip_path').setAttribute('d', '');\n        }\n        this.currentPoints = this.currentPoints.concat(extraPoints);\n        this.previousPoints = extend([], this.currentPoints, null, true);\n    };\n    Tooltip.prototype.getBoxLocation = function (data) {\n        var location;\n        location = this.lierIndex > 3 ? data.point.symbolLocations[this.lierIndex - 4] :\n            {\n                x: data.point.regions[0].x + (data.point.regions[0].width / 2),\n                y: data.point.regions[0].y + (data.point.regions[0].height / 2)\n            };\n        return location;\n    };\n    Tooltip.prototype.drawMarker = function (isBottom, isRight, size) {\n        var shapeOption;\n        var count = 0;\n        var series;\n        var markerGroup = this.chart.renderer.createGroup({ id: this.element.id + '_tooltip_trackball_group' });\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var x = (this.padding * 2) + (size / 2) + (isRight ? this.arrowPadding : 0);\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n            var data = _a[_i];\n            series = data.series;\n            if (series.visible && series.enableTooltip && data.point.visible) {\n                shapeOption = new PathOption(this.element.id + '_Tooltip_Trackball_' + series.index, this.findColor(data, series) || series.interior, 1, '#cccccc', series.opacity, null);\n                markerGroup.appendChild(drawSymbol(new ChartLocation(x, this.markerPoint[count] - this.padding + (isBottom ? this.arrowPadding : 0)), data.point.marker.shape || series.marker.shape, new Size(size, size), series.marker.imageUrl, shapeOption, null));\n                count++;\n            }\n        }\n        groupElement.appendChild(markerGroup);\n    };\n    Tooltip.prototype.findColor = function (data, series) {\n        if (series.isRectSeries) {\n            return data.point.color;\n        }\n        else {\n            return (data.point.color && data.point.color !== '#ffffff' ? data.point.color : data.point.interior) || series.marker.fill;\n        }\n    };\n    Tooltip.prototype.parseTemplate = function (point, series, format, xAxis, yAxis) {\n        var val;\n        var textValue;\n        var xFormat;\n        var customLabelFormat;\n        var chart = this.chart;\n        for (var _i = 0, _a = Object.keys(point); _i < _a.length; _i++) {\n            var dataValue = _a[_i];\n            val = new RegExp('${point' + '.' + dataValue + '}', 'gm');\n            format = format.replace(val.source, this.formatPointValue(point, val.source === '${point.x}' ? xAxis : yAxis, dataValue, val.source === '${point.x}', (val.source === '${point.high}' ||\n                val.source === '${point.open}' ||\n                val.source === '${point.close}' ||\n                val.source === '${point.low}' ||\n                val.source === '${point.y}' ||\n                val.source === '${point.minimum}' ||\n                val.source === '${point.maximum}' ||\n                val.source === '${point.outliers}' ||\n                val.source === '${point.upperQuartile}' ||\n                val.source === '${point.lowerQuartile}' ||\n                val.source === '${point.median}')));\n        }\n        for (var _b = 0, _c = Object.keys(Object.getPrototypeOf(series)); _b < _c.length; _b++) {\n            var dataValue = _c[_b];\n            val = new RegExp('${series' + '.' + dataValue + '}', 'gm');\n            textValue = series[dataValue];\n            format = format.replace(val.source, textValue);\n        }\n        return format;\n    };\n    Tooltip.prototype.formatPointValue = function (point, axis, dataValue, isXPoint, isYPoint) {\n        var textValue;\n        var customLabelFormat;\n        var value;\n        if (axis.valueType !== 'Category' && isXPoint) {\n            customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            textValue = customLabelFormat ? axis.labelFormat.replace('{value}', axis.format(point[dataValue])) :\n                axis.format(point[dataValue]);\n        }\n        else if (isYPoint) {\n            customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            value = dataValue === 'outliers' ? axis.format(point[dataValue][this.lierIndex - 4]) :\n                axis.format(point[dataValue]);\n            textValue = customLabelFormat ? axis.labelFormat.replace('{value}', value) : value;\n        }\n        else {\n            textValue = point[dataValue];\n        }\n        return textValue;\n    };\n    Tooltip.prototype.getFormat = function (chart, series) {\n        if (chart.tooltip.format) {\n            if (series.seriesType === 'XY' && series.category === 'Indicator') {\n                return this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n            }\n            return chart.tooltip.format;\n        }\n        var format = !chart.tooltip.shared ? '${point.x}' : '${series.name}';\n        switch (series.seriesType) {\n            case 'XY':\n                if (series.category === 'Indicator') {\n                    this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n                }\n                return format + ' : ' + ((series.type === 'Bubble') ? '<b>${point.y}</b>  Size : <b>${point.size}</b>'\n                    : '<b>${point.y}</b>');\n            case 'HighLow':\n                return format + ('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>');\n            case 'HighLowOpenClose':\n                return format + ('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>' +\n                    'Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>');\n            case 'BoxPlot': {\n                return format + '<br/>' + (this.lierIndex > 3 ? 'Outliers : <b>${point.outliers}</b>' :\n                    'Maximum : <b>${point.maximum}</b><br/>Q1 : <b>${point.upperQuartile}</b><br/>' +\n                        'Median : <b>${point.median}</b><br/>Q3 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>');\n            }\n        }\n        return '';\n    };\n    Tooltip.prototype.getIndicatorTooltipFormat = function (series, chart, format) {\n        var toolTip;\n        var points = [];\n        if (series.seriesType === 'XY') {\n            toolTip = series.name + ' : ${point.y}';\n        }\n        else {\n            toolTip = format;\n        }\n        return toolTip;\n    };\n    /*\n   * @hidden\n   */\n    Tooltip.prototype.removeHighlightedMarker = function (data) {\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var item = data_1[_i];\n            removeElement(this.element.id + '_Series_' + item.series.index +\n                '_Point_' + item.point.index + '_Trackball');\n        }\n        if (this.chart.markerRender) {\n            this.chart.markerRender.removeHighlightedMarker();\n        }\n        this.previousPoints = [];\n    };\n    /**\n     * Removes the tooltip on mouse leave.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.removeTooltip = function (duration) {\n        var _this = this;\n        var chart = this.chart;\n        var tooltipElement = this.getElement(this.element.id + '_tooltip');\n        this.stopAnimation();\n        if (tooltipElement && this.previousPoints.length > 0) {\n            var data_2 = this.previousPoints;\n            this.toolTipInterval = setTimeout(function () {\n                var rectOpacity;\n                var tooltipGroup = tooltipElement.firstChild;\n                var series = data_2[0].series;\n                var element = _this.getElement(chart.element.id + '_Series_' + data_2[0].series.index\n                    + '_Point_' + data_2[0].point.index);\n                var opacity = parseFloat(tooltipGroup.getAttribute('opacity')) || 1;\n                if (element && series.isRectSeries && !chart.tooltip.shared) {\n                    rectOpacity = parseFloat(element.getAttribute('opacity'));\n                }\n                new Animation({}).animate(tooltipGroup, {\n                    duration: 200,\n                    progress: function (args) {\n                        //  tooltipGroup.removeAttribute('e-animate');\n                        _this.progressAnimation(element, tooltipGroup, series, opacity, rectOpacity, (args.timeStamp / args.duration), series.isRectSeries, !chart.tooltip.shared);\n                    },\n                    end: function (model) {\n                        _this.valueX = null;\n                        _this.valueY = null;\n                        _this.endAnimation(element, tooltipGroup, series, chart.tooltip.shared);\n                        _this.removeHighlightedMarker(data_2);\n                    }\n                });\n            }, duration);\n        }\n    };\n    /**\n     * Get module name.\n     */\n    Tooltip.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Tooltip';\n    };\n    /**\n     * To destroy the tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Tooltip;\n}(BaseTooltip));\nexport { Tooltip };\n","import { EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { removeElement, measureText, RectOption, Rect, PolygonOption, PathOption, createTooltip, minMax } from '../../common/utils/helper';\nimport { textElement, TextOption } from '../../common/utils/helper';\n/**\n * Zooming Toolkit created here\n * @private\n */\nvar Toolkit = /** @class */ (function () {\n    /** @private */\n    function Toolkit(chart) {\n        this.chart = chart;\n        this.elementId = chart.element.id;\n        this.selectionColor = '#ff4081';\n        this.fillColor = '#737373';\n    }\n    /**\n     * To create the pan button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createPanButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.chart.zoomModule.isPanning ? this.selectionColor : this.fillColor;\n        var direction = 'M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,';\n        direction += '11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z';\n        childElement.id = this.elementId + '_Zooming_Pan';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('Pan'));\n        this.panElements = childElement;\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Pan_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Pan_2', fillColor, null, null, 1, null, direction)));\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.pan);\n    };\n    /**\n     * To create the zoom button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createZoomButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.chart.zoomModule.isPanning ? this.fillColor : this.selectionColor;\n        var direction = 'M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,';\n        direction += '5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571';\n        direction = direction + 'L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,';\n        childElement.id = this.elementId + '_Zooming_Zoom';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('Zoom'));\n        this.zoomElements = childElement;\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Zoom_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Zoom_3', fillColor, null, null, 1, null, direction + '4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z')));\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoom);\n    };\n    /**\n     * To create the ZoomIn button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createZoomInButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.fillColor;\n        var direction = 'M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,';\n        direction += '14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,';\n        direction += '5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,';\n        childElement.id = this.elementId + '_Zooming_ZoomIn';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('ZoomIn'));\n        var polygonDirection = '12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466';\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_ZoomIn_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_ZoomIn_2', fillColor, null, null, 1, null, direction + '4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z')));\n        childElement.appendChild(render.drawPolygon(new PolygonOption(this.elementId + '_Zooming_ZoomIn_3', polygonDirection + ' 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466', fillColor)));\n        this.zoomInElements = childElement;\n        this.elementOpacity = chart.zoomModule.isPanning ? '0.2' : '1';\n        childElement.setAttribute('opacity', this.elementOpacity);\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoomIn);\n    };\n    /**\n     * To create the ZoomOut button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createZoomOutButton = function (childElement, parentElement, chart) {\n        var render = this.chart.renderer;\n        var fillColor = this.fillColor;\n        var direction = 'M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,';\n        direction += '1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,';\n        direction += '1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,';\n        childElement.id = this.elementId + '_Zooming_ZoomOut';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('ZoomOut'));\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_ZoomOut_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_ZoomOut_2', fillColor, null, null, 1, null, direction + '4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z')));\n        this.zoomOutElements = childElement;\n        this.elementOpacity = chart.zoomModule.isPanning ? '0.2' : '1';\n        childElement.setAttribute('opacity', this.elementOpacity);\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoomOut);\n    };\n    /**\n     * To create the Reset button.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.createResetButton = function (childElement, parentElement, chart, isDevice) {\n        var render = this.chart.renderer;\n        var fillColor = this.fillColor;\n        var size;\n        var direction = 'M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,';\n        direction += '1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,';\n        direction += '13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,';\n        childElement.id = this.elementId + '_Zooming_Reset';\n        childElement.setAttribute('aria-label', this.chart.getLocalizedLabel('Reset'));\n        if (!isDevice) {\n            childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Reset_1', 'transparent', {}, 1, new Rect(0, 0, 16, 16))));\n            childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Reset_2', fillColor, null, null, 1, null, direction + '3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z')));\n        }\n        else {\n            size = measureText(this.chart.getLocalizedLabel('ResetZoom'), { size: '12px' });\n            childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Reset_1', 'transparent', {}, 1, new Rect(0, 0, size.width, size.height))));\n            textElement(new TextOption(this.elementId + '_Zooming_Reset_2', 0 + size.width / 2, 0 + size.height * 3 / 4, 'middle', this.chart.getLocalizedLabel('ResetZoom'), 'rotate(0,' + (0) + ',' + (0) + ')', 'auto'), { size: '12px' }, 'black', childElement);\n        }\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.reset);\n    };\n    /**\n     * To bind events.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.wireEvents = function (element, process) {\n        EventHandler.add(element, 'mousedown touchstart', process, this);\n        EventHandler.add(element, 'mouseover', this.showTooltip, this);\n        EventHandler.add(element, 'mouseout', this.removeTooltip, this);\n    };\n    /**\n     * To show tooltip.\n     * @return {void}\n     * @private\n     */\n    Toolkit.prototype.showTooltip = function (event) {\n        var text = event.currentTarget.id.split('_Zooming_')[1];\n        var left = (event.pageX - (measureText(text, { size: '10px' }).width + 5));\n        if (!this.chart.isTouch) {\n            createTooltip('EJ2_Chart_ZoomTip', this.chart.getLocalizedLabel(text), (event.pageY + 10), left, '10px');\n        }\n    };\n    /** @private */\n    Toolkit.prototype.removeTooltip = function () {\n        removeElement('EJ2_Chart_ZoomTip');\n    };\n    // Toolkit events function calculation here.\n    /** @private */\n    Toolkit.prototype.reset = function () {\n        var chart = this.chart;\n        if (!chart.zoomModule.isDevice) {\n            remove(chart.zoomModule.toolkitElements);\n        }\n        this.removeTooltip();\n        chart.svgObject.setAttribute('cursor', 'auto');\n        chart.axisCollections.forEach(function (axis) {\n            axis.zoomFactor = 1;\n            axis.zoomPosition = 0;\n        });\n        chart.disableTrackTooltip = false;\n        chart.zoomModule.isZoomed = chart.zoomModule.isPanning = chart.isChartDrag = chart.delayRedraw = false;\n        chart.zoomModule.touchMoveList = chart.zoomModule.touchStartList = [];\n        chart.zoomModule.pinchTarget = null;\n        chart.removeSvg();\n        chart.refreshAxis();\n        chart.refreshBound();\n        this.elementOpacity = '1';\n        return false;\n    };\n    Toolkit.prototype.zoomIn = function (e) {\n        this.zoomInOutCalculation(1, this.chart, this.chart.axisCollections, this.chart.zoomSettings.mode);\n        return false;\n    };\n    Toolkit.prototype.zoomOut = function (e) {\n        this.zoomInOutCalculation(-1, this.chart, this.chart.axisCollections, this.chart.zoomSettings.mode);\n        return false;\n    };\n    Toolkit.prototype.zoom = function (e) {\n        this.chart.zoomModule.isPanning = false;\n        var zoomModule = this.chart.zoomModule;\n        this.elementOpacity = '1';\n        this.chart.svgObject.setAttribute('cursor', 'auto');\n        this.zoomInElements.setAttribute('opacity', this.elementOpacity);\n        this.zoomOutElements.setAttribute('opacity', this.elementOpacity);\n        this.applySelection(this.zoomElements.childNodes, this.selectionColor);\n        this.applySelection(this.panElements.childNodes, '#737373');\n        return false;\n    };\n    /** @private */\n    Toolkit.prototype.pan = function () {\n        var zoomModule = this.chart.zoomModule;\n        var element;\n        this.chart.zoomModule.isPanning = true;\n        this.chart.svgObject.setAttribute('cursor', 'pointer');\n        this.elementOpacity = '0.2';\n        element = this.zoomInElements ? this.zoomInElements.setAttribute('opacity', this.elementOpacity) : null;\n        element = this.zoomOutElements ? this.zoomOutElements.setAttribute('opacity', this.elementOpacity) : null;\n        element = this.panElements ? this.applySelection(this.panElements.childNodes, this.selectionColor) : null;\n        element = this.zoomElements ? this.applySelection(this.zoomElements.childNodes, '#737373') : null;\n        return false;\n    };\n    Toolkit.prototype.zoomInOutCalculation = function (scale, chart, axes, mode) {\n        if (!chart.zoomModule.isPanning && this.elementOpacity !== '0.2') {\n            var zoomFactor_1;\n            var zoomPosition_1;\n            var cumulative_1;\n            chart.disableTrackTooltip = true;\n            chart.delayRedraw = true;\n            axes.forEach(function (axis) {\n                if ((axis.orientation === 'Horizontal' && mode !== 'Y') ||\n                    (axis.orientation === 'Vertical' && mode !== 'X')) {\n                    cumulative_1 = Math.max(Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1) + (0.25 * scale), 1);\n                    zoomFactor_1 = (cumulative_1 === 1) ? 1 : minMax(1 / cumulative_1, 0, 1);\n                    zoomPosition_1 = (cumulative_1 === 1) ? 0 : axis.zoomPosition + ((axis.zoomFactor - zoomFactor_1) * 0.5);\n                    if (axis.zoomPosition !== zoomPosition_1 || axis.zoomFactor !== zoomFactor_1) {\n                        zoomFactor_1 = (zoomPosition_1 + zoomFactor_1) > 1 ? (1 - zoomPosition_1) : zoomFactor_1;\n                    }\n                    axis.zoomFactor = zoomFactor_1;\n                    axis.zoomPosition = zoomPosition_1;\n                }\n            });\n        }\n    };\n    Toolkit.prototype.applySelection = function (elements, color) {\n        for (var i = 1, length_1 = elements.length; i < length_1; i++) {\n            elements[i].setAttribute('fill', color);\n        }\n    };\n    return Toolkit;\n}());\nexport { Toolkit };\n","import { EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { getRectLocation, minMax, getElement, ChartLocation, Rect, RectOption, measureText } from '../../common/utils/helper';\nimport { Toolkit } from './zooming-toolkit';\nimport { zoomComplete } from '../../common/model/constants';\nimport { withInBounds } from '../../common/utils/helper';\n/**\n * `Zooming` module handles the zooming for chart.\n */\nvar Zoom = /** @class */ (function () {\n    /**\n     * Constructor for Zooming module.\n     * @private.\n     */\n    function Zoom(chart) {\n        this.chart = chart;\n        this.isPointer = Browser.isPointer;\n        this.browserName = Browser.info.name;\n        this.wheelEvent = this.browserName === 'mozilla' ? (this.isPointer ? 'mousewheel' : 'DOMMouseScroll') : 'mousewheel';\n        this.cancelEvent = this.isPointer ? 'pointerleave' : 'mouseleave';\n        this.addEventListener();\n        this.isDevice = Browser.isDevice;\n        var zooming = chart.zoomSettings;\n        this.toolkit = new Toolkit(chart);\n        this.zooming = zooming;\n        this.elementId = chart.element.id;\n        this.zoomingRect = new Rect(0, 0, 0, 0);\n        this.zoomAxes = [];\n        this.zoomkitOpacity = 0.3;\n        this.isIOS = Browser.isIos || Browser.isIos7;\n    }\n    /**\n     * Function that handles the Rectangular zooming.\n     * @return {void}\n     */\n    Zoom.prototype.renderZooming = function (e, chart, isTouch) {\n        this.calculateZoomAxesRange(chart, chart.axisCollections);\n        if (this.zooming.enableSelectionZooming && (!isTouch\n            || (chart.isDoubleTap && this.touchStartList.length === 1)) && (!this.isPanning || chart.isDoubleTap)) {\n            this.isPanning = this.isDevice ? true : this.isPanning;\n            this.performedUI = true;\n            this.drawZoomingRectangle(chart);\n        }\n        else if (this.isPanning && chart.isChartDrag) {\n            if (!isTouch || (isTouch && this.touchStartList.length === 1)) {\n                this.pinchTarget = isTouch ? e.target : null;\n                this.doPan(chart, chart.axisCollections);\n            }\n        }\n    };\n    // Zooming rectangle drawn here\n    Zoom.prototype.drawZoomingRectangle = function (chart) {\n        var areaBounds = chart.chartAxisLayoutPanel.seriesClipRect;\n        var startLocation = new ChartLocation(chart.previousMouseMoveX, chart.previousMouseMoveY);\n        var endLocation = new ChartLocation(chart.mouseX, chart.mouseY);\n        var rect = this.zoomingRect = getRectLocation(startLocation, endLocation, areaBounds);\n        if (rect.width > 0 && rect.height > 0) {\n            this.isZoomed = true;\n            chart.disableTrackTooltip = true;\n            chart.svgObject.setAttribute('cursor', 'crosshair');\n            if (this.zooming.mode === 'X') {\n                rect.height = areaBounds.height;\n                rect.y = areaBounds.y;\n            }\n            else if (this.zooming.mode === 'Y') {\n                rect.width = areaBounds.width;\n                rect.x = areaBounds.x;\n            }\n            chart.svgObject.appendChild(chart.renderer.drawRectangle(new RectOption(this.elementId + '_ZoomArea', chart.themeStyle.selectionRectFill, { color: chart.themeStyle.selectionRectStroke, width: 1 }, 1, rect, 0, 0, '', '3')));\n        }\n    };\n    // Panning performed here\n    Zoom.prototype.doPan = function (chart, axes) {\n        if (chart.startMove && chart.crosshair.enable) {\n            return null;\n        }\n        var currentScale;\n        var offset;\n        this.isZoomed = true;\n        var translateX;\n        var translateY;\n        this.offset = !chart.delayRedraw ? chart.chartAxisLayoutPanel.seriesClipRect : this.offset;\n        chart.delayRedraw = true;\n        chart.disableTrackTooltip = true;\n        axes.forEach(function (axis) {\n            currentScale = Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1);\n            if (axis.orientation === 'Horizontal') {\n                offset = (chart.previousMouseMoveX - chart.mouseX) / axis.rect.width / currentScale;\n                axis.zoomPosition = minMax(axis.zoomPosition + offset, 0, (1 - axis.zoomFactor));\n            }\n            else {\n                offset = (chart.previousMouseMoveY - chart.mouseY) / axis.rect.height / currentScale;\n                axis.zoomPosition = minMax(axis.zoomPosition - offset, 0, (1 - axis.zoomFactor));\n            }\n        });\n        if (this.zooming.enableDeferredZooming) {\n            translateX = chart.mouseX - chart.mouseDownX;\n            translateY = chart.mouseY - chart.mouseDownY;\n            switch (this.zooming.mode) {\n                case 'X':\n                    translateY = 0;\n                    break;\n                case 'Y':\n                    translateX = 0;\n                    break;\n            }\n            this.setTransform(translateX, translateY, null, null, chart, false);\n            this.refreshAxis(chart.chartAxisLayoutPanel, chart, chart.axisCollections);\n        }\n        else {\n            this.performZoomRedraw(chart);\n        }\n        chart.previousMouseMoveX = chart.mouseX;\n        chart.previousMouseMoveY = chart.mouseY;\n    };\n    /**\n     * Redraw the chart on zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.performZoomRedraw = function (chart) {\n        var rect = this.zoomingRect;\n        chart.animateSeries = false;\n        if (this.isZoomed) {\n            if (rect.width > 0 && rect.height > 0) {\n                this.performedUI = true;\n                chart.svgObject.setAttribute('cursor', 'auto');\n                this.doZoom(chart, chart.axisCollections, chart.chartAxisLayoutPanel.seriesClipRect);\n                chart.isDoubleTap = false;\n            }\n            else if (chart.disableTrackTooltip) {\n                chart.disableTrackTooltip = false;\n                chart.delayRedraw = false;\n                chart.removeSvg();\n                chart.refreshAxis();\n                chart.refreshBound();\n            }\n        }\n    };\n    Zoom.prototype.refreshAxis = function (layout, chart, axes) {\n        var mode = chart.zoomSettings.mode;\n        layout.measureAxis(new Rect(chart.initialClipRect.x, chart.initialClipRect.y, chart.initialClipRect.width, chart.initialClipRect.height));\n        axes.map(function (axis, index) {\n            if (axis.orientation === 'Horizontal' && mode !== 'Y') {\n                layout.drawXAxisLabels(axis, index, null, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n            }\n            if (axis.orientation === 'Vertical' && mode !== 'X') {\n                layout.drawYAxisLabels(axis, index, null, (axis.placeNextToAxisLine ? axis.updatedRect : axis.rect));\n            }\n        });\n    };\n    // Rectangular zoom calculated here performed here\n    Zoom.prototype.doZoom = function (chart, axes, bounds) {\n        var zoomRect = this.zoomingRect;\n        var mode = this.zooming.mode;\n        var argsData;\n        var previousZF;\n        var previousZP;\n        var currentZF;\n        var currentZP;\n        this.isPanning = chart.zoomSettings.enablePan || this.isPanning;\n        axes.forEach(function (axis) {\n            previousZF = currentZF = axis.zoomFactor;\n            previousZP = currentZP = axis.zoomPosition;\n            argsData = {\n                cancel: false, name: zoomComplete, axis: axis, previousZoomFactor: previousZF, previousZoomPosition: previousZP,\n                currentZoomFactor: currentZF, currentZoomPosition: currentZP\n            };\n            if (axis.orientation === 'Horizontal') {\n                if (mode !== 'Y') {\n                    currentZP += Math.abs((zoomRect.x - bounds.x) / (bounds.width)) * axis.zoomFactor;\n                    currentZF *= (zoomRect.width / bounds.width);\n                    argsData.currentZoomPosition = currentZP;\n                    argsData.currentZoomFactor = currentZF;\n                    chart.trigger(zoomComplete, argsData);\n                }\n            }\n            else {\n                if (mode !== 'X') {\n                    currentZP += (1 - Math.abs((zoomRect.height + (zoomRect.y - bounds.y)) / (bounds.height))) * axis.zoomFactor;\n                    currentZF *= (zoomRect.height / bounds.height);\n                    argsData.currentZoomFactor = currentZF;\n                    argsData.currentZoomPosition = currentZP;\n                    chart.trigger(zoomComplete, argsData);\n                }\n            }\n            if (!argsData.cancel) {\n                axis.zoomFactor = argsData.currentZoomFactor;\n                axis.zoomPosition = argsData.currentZoomPosition;\n            }\n        });\n        this.zoomingRect = new Rect(0, 0, 0, 0);\n        this.performZoomRedraw(chart);\n    };\n    /**\n     * Function that handles the Mouse wheel zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.performMouseWheelZooming = function (e, mouseX, mouseY, chart, axes) {\n        var direction = (this.browserName === 'mozilla' && !this.isPointer) ?\n            -(e.detail) / 3 > 0 ? 1 : -1 : (e.wheelDelta / 120) > 0 ? 1 : -1;\n        var mode = this.zooming.mode;\n        var origin = 0.5;\n        var cumulative;\n        var zoomFactor;\n        var zoomPosition;\n        this.isZoomed = true;\n        this.calculateZoomAxesRange(chart, chart.axisCollections);\n        chart.disableTrackTooltip = true;\n        this.performedUI = true;\n        this.isPanning = chart.zoomSettings.enablePan || this.isPanning;\n        axes.forEach(function (axis) {\n            if ((axis.orientation === 'Vertical' && mode !== 'X') ||\n                (axis.orientation === 'Horizontal' && mode !== 'Y')) {\n                cumulative = Math.max(Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1) + (0.25 * direction), 1);\n                if (cumulative >= 1) {\n                    origin = axis.orientation === 'Horizontal' ? mouseX / axis.rect.width : 1 - (mouseY / axis.rect.height);\n                    origin = origin > 1 ? 1 : origin < 0 ? 0 : origin;\n                    zoomFactor = (cumulative === 1) ? 1 : minMax(1 / cumulative, 0, 1);\n                    zoomPosition = (cumulative === 1) ? 0 : axis.zoomPosition + ((axis.zoomFactor - zoomFactor) * origin);\n                    if (axis.zoomPosition !== zoomPosition || axis.zoomFactor !== zoomFactor) {\n                        zoomFactor = (zoomPosition + zoomFactor) > 1 ? (1 - zoomPosition) : zoomFactor;\n                    }\n                }\n                axis.zoomFactor = zoomFactor;\n                axis.zoomPosition = zoomPosition;\n            }\n        });\n        this.performZoomRedraw(chart);\n    };\n    /**\n     * Function that handles the Pinch zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.performPinchZooming = function (e, chart) {\n        if ((this.zoomingRect.width > 0 && this.zoomingRect.height > 0) || (chart.startMove && chart.crosshair.enable)) {\n            return false;\n        }\n        this.calculateZoomAxesRange(chart, chart.axisCollections);\n        this.isZoomed = true;\n        this.isPanning = true;\n        this.performedUI = true;\n        this.offset = !chart.delayRedraw ? chart.chartAxisLayoutPanel.seriesClipRect : this.offset;\n        chart.delayRedraw = true;\n        chart.disableTrackTooltip = true;\n        var elementOffset = chart.element.getBoundingClientRect();\n        var touchDown = this.touchStartList;\n        var touchMove = this.touchMoveList;\n        var touch0StartX = touchDown[0].pageX - elementOffset.left;\n        var touch0StartY = touchDown[0].pageY - elementOffset.top;\n        var touch0EndX = touchMove[0].pageX - elementOffset.left;\n        var touch0EndY = touchMove[0].pageY - elementOffset.top;\n        var touch1StartX = touchDown[1].pageX - elementOffset.left;\n        var touch1StartY = touchDown[1].pageY - elementOffset.top;\n        var touch1EndX = touchMove[1].pageX - elementOffset.left;\n        var touch1EndY = touchMove[1].pageY - elementOffset.top;\n        var scaleX;\n        var scaleY;\n        var translateXValue;\n        var translateYValue;\n        var pinchRect;\n        var clipX;\n        var clipY;\n        scaleX = Math.abs(touch0EndX - touch1EndX) / Math.abs(touch0StartX - touch1StartX);\n        scaleY = Math.abs(touch0EndY - touch1EndY) / Math.abs(touch0StartY - touch1StartY);\n        clipX = ((this.offset.x - touch0EndX) / scaleX) + touch0StartX;\n        clipY = ((this.offset.y - touch0EndY) / scaleY) + touch0StartY;\n        pinchRect = new Rect(clipX, clipY, this.offset.width / scaleX, this.offset.height / scaleY);\n        translateXValue = (touch0EndX - (scaleX * touch0StartX));\n        translateYValue = (touch0EndY - (scaleY * touch0StartY));\n        if (!isNaN(scaleX - scaleX) && !isNaN(scaleY - scaleY)) {\n            switch (this.zooming.mode) {\n                case 'XY':\n                    this.setTransform(translateXValue, translateYValue, scaleX, scaleY, chart, true);\n                    break;\n                case 'X':\n                    this.setTransform(translateXValue, 0, scaleX, 1, chart, true);\n                    break;\n                case 'Y':\n                    this.setTransform(0, translateYValue, 1, scaleY, chart, true);\n                    break;\n            }\n        }\n        this.calculatePinchZoomFactor(chart, pinchRect);\n        this.refreshAxis(chart.chartAxisLayoutPanel, chart, chart.axisCollections);\n        return true;\n    };\n    Zoom.prototype.calculatePinchZoomFactor = function (chart, pinchRect) {\n        var _this = this;\n        var mode = this.zooming.mode;\n        var selectionMin;\n        var selectionMax;\n        var rangeMin;\n        var rangeMax;\n        var value;\n        var axisTrans;\n        chart.axisCollections.forEach(function (axis, index) {\n            if ((axis.orientation === 'Horizontal' && mode !== 'Y') ||\n                (axis.orientation === 'Vertical' && mode !== 'X')) {\n                if (axis.orientation === 'Horizontal') {\n                    value = pinchRect.x - _this.offset.x;\n                    axisTrans = axis.rect.width / _this.zoomAxes[index].delta;\n                    rangeMin = value / axisTrans + _this.zoomAxes[index].min;\n                    value = pinchRect.x + pinchRect.width - _this.offset.x;\n                    rangeMax = value / axisTrans + _this.zoomAxes[index].min;\n                }\n                else {\n                    value = pinchRect.y - _this.offset.y;\n                    axisTrans = axis.rect.height / _this.zoomAxes[index].delta;\n                    rangeMin = (value * -1 + axis.rect.height) / axisTrans + _this.zoomAxes[index].min;\n                    value = pinchRect.y + pinchRect.height - _this.offset.y;\n                    rangeMax = (value * -1 + axis.rect.height) / axisTrans + _this.zoomAxes[index].min;\n                }\n                selectionMin = Math.min(rangeMin, rangeMax);\n                selectionMax = Math.max(rangeMin, rangeMax);\n                axis.zoomPosition = (selectionMin - _this.zoomAxes[index].actualMin) / _this.zoomAxes[index].actualDelta;\n                axis.zoomFactor = (selectionMax - selectionMin) / _this.zoomAxes[index].actualDelta;\n                axis.zoomPosition = axis.zoomPosition < 0 ? 0 : axis.zoomPosition;\n                axis.zoomFactor = axis.zoomFactor > 1 ? 1 : axis.zoomFactor;\n            }\n        });\n    };\n    // Series transformation style applied here.\n    Zoom.prototype.setTransform = function (transX, transY, scaleX, scaleY, chart, isPinch) {\n        chart.seriesElements.setAttribute('clip-path', 'url(#' + this.elementId + '_ChartAreaClipRect_)');\n        if (chart.indicatorElements) {\n            chart.indicatorElements.setAttribute('clip-path', 'url(#' + this.elementId + '_ChartAreaClipRect_)');\n        }\n        var translate;\n        var xAxisLoc;\n        var yAxisLoc;\n        var element;\n        if (transX !== null && transY !== null) {\n            chart.visibleSeries.forEach(function (value) {\n                xAxisLoc = chart.requireInvertedAxis ? value.yAxis.rect.x : value.xAxis.rect.x;\n                yAxisLoc = chart.requireInvertedAxis ? value.xAxis.rect.y : value.yAxis.rect.y;\n                translate = 'translate(' + (transX + (isPinch ? (scaleX * xAxisLoc) : xAxisLoc)) +\n                    ',' + (transY + (isPinch ? (scaleY * yAxisLoc) : yAxisLoc)) + ')';\n                translate = (scaleX || scaleY) ? translate + ' scale(' + scaleX + ' ' + scaleY + ')' : translate;\n                if (value.category === 'Indicator') {\n                    value.seriesElement.parentElement.setAttribute('transform', translate);\n                }\n                else {\n                    value.seriesElement.setAttribute('transform', translate);\n                }\n                element = getElement(chart.element.id + '_Series_' + value.index + '_DataLabelCollections');\n                if (value.errorBarElement) {\n                    value.errorBarElement.setAttribute('transform', translate);\n                }\n                if (value.symbolElement) {\n                    value.symbolElement.setAttribute('transform', translate);\n                }\n                if (value.textElement) {\n                    value.textElement.setAttribute('visibility', 'hidden');\n                    value.shapeElement.setAttribute('visibility', 'hidden');\n                }\n                if (element) {\n                    element.style.visibility = 'hidden';\n                }\n            });\n        }\n    };\n    Zoom.prototype.calculateZoomAxesRange = function (chart, axes) {\n        var _this = this;\n        var range;\n        var axisRange;\n        chart.axisCollections.forEach(function (axis, index) {\n            axisRange = axis.visibleRange;\n            if (_this.zoomAxes[index]) {\n                if (!chart.delayRedraw) {\n                    _this.zoomAxes[index].min = axisRange.min;\n                    _this.zoomAxes[index].delta = axisRange.delta;\n                }\n            }\n            else {\n                range = {\n                    actualMin: axis.actualRange.min,\n                    actualDelta: axis.actualRange.delta,\n                    min: axisRange.min,\n                    delta: axisRange.delta\n                };\n                _this.zoomAxes[index] = range;\n            }\n        });\n    };\n    // Zooming Toolkit created here\n    Zoom.prototype.showZoomingToolkit = function (chart) {\n        var toolboxItems = this.zooming.toolbarItems;\n        var areaBounds = chart.chartAxisLayoutPanel.seriesClipRect;\n        var spacing = 5;\n        var render = chart.renderer;\n        var length = this.isDevice ? 1 : toolboxItems.length;\n        var iconSize = this.isDevice ? measureText('Reset Zoom', { size: '12px' }).width : 16;\n        var height = this.isDevice ? measureText('Reset Zoom', { size: '12px' }).height : 22;\n        var width = (length * iconSize) + ((length + 1) * spacing) + ((length - 1) * spacing);\n        var transX = areaBounds.x + areaBounds.width - width - spacing;\n        var transY = (areaBounds.y + spacing);\n        var xPosition = spacing;\n        var outerElement;\n        var toolkit = this.toolkit;\n        var element;\n        var shadowElement = '<filter id=\"chart_shadow\" height=\"130%\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"5\"/>';\n        shadowElement += '<feOffset dx=\"-3\" dy=\"4\" result=\"offsetblur\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"1\"/>';\n        shadowElement += '</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>';\n        if (length === 0 || getElement(this.elementId + '_Zooming_KitCollection')) {\n            return false;\n        }\n        var defElement = render.createDefs();\n        toolboxItems = this.isDevice ? ['Reset'] : toolboxItems;\n        defElement.innerHTML = shadowElement;\n        this.toolkitElements = render.createGroup({\n            id: this.elementId + '_Zooming_KitCollection',\n            transform: 'translate(' + transX + ',' + transY + ')'\n        });\n        this.toolkitElements.appendChild(defElement);\n        this.toolkitElements.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Rect', '#fafafa', { color: 'transparent', width: 1 }, 1, new Rect(0, 0, width, (height + (spacing * 2))), 0, 0)));\n        outerElement = render.drawRectangle(new RectOption(this.elementId + '_Zooming_Rect', '#fafafa', { color: 'transparent', width: 1 }, 0.1, new Rect(0, 0, width, (height + (spacing * 2))), 0, 0));\n        outerElement.setAttribute('filter', 'url(#chart_shadow)');\n        this.toolkitElements.appendChild(outerElement);\n        var currentItem;\n        for (var i = 1; i <= length; i++) {\n            currentItem = toolboxItems[i - 1];\n            element = render.createGroup({\n                transform: 'translate(' + xPosition + ',' + (this.isDevice ? spacing : (spacing + 3)) + ')'\n            });\n            // for desktop toolkit hight is 32 and top padding is 8 icon size 16\n            switch (currentItem) {\n                case 'Pan':\n                    toolkit.createPanButton(element, this.toolkitElements, chart);\n                    break;\n                case 'Zoom':\n                    toolkit.createZoomButton(element, this.toolkitElements, chart);\n                    break;\n                case 'ZoomIn':\n                    toolkit.createZoomInButton(element, this.toolkitElements, chart);\n                    break;\n                case 'ZoomOut':\n                    toolkit.createZoomOutButton(element, this.toolkitElements, chart);\n                    break;\n                case 'Reset':\n                    toolkit.createResetButton(element, this.toolkitElements, chart, this.isDevice);\n                    break;\n            }\n            xPosition += iconSize + (spacing * 2);\n        }\n        this.toolkitElements.setAttribute('opacity', this.isDevice ? '1' : '' + this.zoomkitOpacity);\n        this.toolkitElements.setAttribute('cursor', 'auto');\n        chart.svgObject.appendChild(this.toolkitElements);\n        if (!this.isDevice) {\n            EventHandler.add(this.toolkitElements, 'mousemove touchstart', this.zoomToolkitMove, this);\n            EventHandler.add(this.toolkitElements, 'mouseleave touchend', this.zoomToolkitLeave, this);\n            if (this.isPanning) {\n                toolkit.pan();\n            }\n        }\n        return true;\n    };\n    /**\n     * To the show the zooming toolkit.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.applyZoomToolkit = function (chart, axes) {\n        var showToolkit = this.isAxisZoomed(axes);\n        if (showToolkit) {\n            this.showZoomingToolkit(chart);\n            this.isZoomed = true;\n        }\n        else {\n            this.toolkit.removeTooltip();\n            this.isPanning = false;\n            this.isZoomed = false;\n            chart.svgObject.setAttribute('cursor', 'auto');\n        }\n    };\n    /**\n     * Return boolean property to show zooming toolkit.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.isAxisZoomed = function (axes) {\n        var showToolkit = false;\n        axes.forEach(function (axis) {\n            showToolkit = (showToolkit || (axis.zoomFactor !== 1 || axis.zoomPosition !== 0));\n        });\n        return showToolkit;\n    };\n    Zoom.prototype.zoomToolkitMove = function (e) {\n        var element = this.toolkitElements;\n        var opacity = +element.getAttribute('opacity');\n        this.zoomkitOpacity = 1;\n        element.setAttribute('opacity', '' + this.zoomkitOpacity);\n        return false;\n    };\n    Zoom.prototype.zoomToolkitLeave = function (e) {\n        var element = this.toolkitElements;\n        this.zoomkitOpacity = 0.3;\n        element.setAttribute('opacity', '' + this.zoomkitOpacity);\n        return false;\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        EventHandler.add(this.chart.element, this.wheelEvent, this.chartMouseWheel, this);\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchStartEvent, this.mouseDownHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n        this.chart.on(this.cancelEvent, this.mouseCancelHandler, this);\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        EventHandler.remove(this.chart.element, this.wheelEvent, this.chartMouseWheel);\n        this.chart.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n        this.chart.off(Browser.touchStartEvent, this.mouseDownHandler);\n        this.chart.off(Browser.touchEndEvent, this.mouseUpHandler);\n        this.chart.off(this.cancelEvent, this.mouseCancelHandler);\n    };\n    /**\n     * Handles the mouse wheel on chart.\n     * @return {boolean}\n     * @private\n     */\n    Zoom.prototype.chartMouseWheel = function (e) {\n        var chart = this.chart;\n        var offset = chart.element.getBoundingClientRect();\n        var svgRect = getElement(chart.element.id + '_svg').getBoundingClientRect();\n        var mouseX = (e.clientX - offset.left) - Math.max(svgRect.left - offset.left, 0);\n        var mouseY = (e.clientY - offset.top) - Math.max(svgRect.top - offset.top, 0);\n        if (this.zooming.enableMouseWheelZooming &&\n            withInBounds(mouseX, mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            e.preventDefault();\n            this.performMouseWheelZooming(e, mouseX, mouseY, chart, chart.axisCollections);\n        }\n        return false;\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseMoveHandler = function (e) {\n        //Zooming for chart\n        var chart = this.chart;\n        var touches = null;\n        if (e.type === 'touchmove') {\n            if (e.preventDefault && this.isIOS &&\n                (this.isPanning || (chart.isDoubleTap)\n                    || (this.zooming.enablePinchZooming && this.touchStartList.length > 1))) {\n                e.preventDefault();\n            }\n            touches = e.touches;\n        }\n        if (chart.isChartDrag) {\n            if (chart.isTouch) {\n                this.touchMoveList = this.addTouchPointer(this.touchMoveList, e, touches);\n                if (this.zooming.enablePinchZooming && this.touchMoveList.length > 1\n                    && this.touchStartList.length > 1) {\n                    this.performPinchZooming(e, chart);\n                }\n            }\n            this.renderZooming(e, chart, chart.isTouch);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseDownHandler = function (e) {\n        //Zooming for chart\n        var chart = this.chart;\n        var touches = null;\n        var target;\n        if (e.type === 'touchstart') {\n            touches = e.touches;\n            target = e.target;\n        }\n        else {\n            target = e.target;\n        }\n        if (target.id.indexOf(chart.element.id + '_Zooming_') === -1 &&\n            withInBounds(chart.previousMouseMoveX, chart.previousMouseMoveY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            chart.isChartDrag = true;\n        }\n        if (chart.isTouch) {\n            this.touchStartList = this.addTouchPointer(this.touchStartList, e, touches);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseUpHandler = function (e) {\n        var chart = this.chart;\n        var performZoomRedraw = e.target.id.indexOf(chart.element.id + '_ZoomOut_') === -1 ||\n            e.target.id.indexOf(chart.element.id + '_ZoomIn_') === -1;\n        if (chart.isChartDrag || performZoomRedraw) {\n            this.performZoomRedraw(chart);\n        }\n        if (chart.isTouch) {\n            if (chart.isDoubleTap && withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)\n                && this.touchStartList.length === 1 && this.isZoomed) {\n                this.toolkit.reset();\n            }\n            this.touchStartList = [];\n            chart.isDoubleTap = false;\n        }\n    };\n    /**\n     * @hidden\n     */\n    Zoom.prototype.mouseCancelHandler = function (e) {\n        if (this.isZoomed) {\n            this.performZoomRedraw(this.chart);\n        }\n        this.pinchTarget = null;\n        this.touchStartList = [];\n        this.touchMoveList = [];\n    };\n    /**\n     * Handles the touch pointer.\n     * @return {boolean}\n     * @private\n     */\n    Zoom.prototype.addTouchPointer = function (touchList, e, touches) {\n        if (touches) {\n            touchList = [];\n            for (var i = 0, length_1 = touches.length; i < length_1; i++) {\n                touchList.push({ pageX: touches[i].clientX, pageY: touches[i].clientY, pointerId: null });\n            }\n        }\n        else {\n            touchList = touchList ? touchList : [];\n            if (touchList.length === 0) {\n                touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n            }\n            else {\n                for (var i = 0, length_2 = touchList.length; i < length_2; i++) {\n                    if (touchList[i].pointerId === e.pointerId) {\n                        touchList[i] = { pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId };\n                    }\n                    else {\n                        touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n                    }\n                }\n            }\n        }\n        return touchList;\n    };\n    /**\n     * Get module name.\n     */\n    Zoom.prototype.getModuleName = function () {\n        // Returns te module name\n        return 'Zoom';\n    };\n    /**\n     * To destroy the zooming.\n     * @return {void}\n     * @private\n     */\n    Zoom.prototype.destroy = function (chart) {\n        // Destroy method performed here\n        this.removeEventListener();\n    };\n    return Zoom;\n}());\nexport { Zoom };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Selection Module handles the selection for chart.\n * @private\n */\nvar BaseSelection = /** @class */ (function () {\n    function BaseSelection(control) {\n        this.control = control;\n    }\n    /**\n     * To create selection styles for series\n     */\n    BaseSelection.prototype.seriesStyles = function () {\n        var seriesclass;\n        var style = document.getElementById(this.styleId);\n        if (isNullOrUndefined(style)) {\n            style = document.createElement('style');\n            style.setAttribute('id', this.styleId);\n            for (var _i = 0, _a = this.control.visibleSeries; _i < _a.length; _i++) {\n                var series = _a[_i];\n                seriesclass = series.selectionStyle || this.styleId + '_series_' + series.index;\n                style.innerHTML += series.selectionStyle ? '' : '.' + seriesclass + ' { } ';\n            }\n            style.innerHTML += '.' + this.unselected + ' { opacity:' + (0.3) + ';} ';\n            document.body.appendChild(style);\n        }\n    };\n    /**\n     * To concat indexes\n     */\n    BaseSelection.prototype.concatIndexes = function (userIndexes, localIndexes) {\n        return userIndexes.concat(localIndexes);\n    };\n    /**\n     * Selected points series visibility checking on legend click\n     */\n    BaseSelection.prototype.checkVisibility = function (selectedIndexes) {\n        var visible = false;\n        var uniqueSeries = [];\n        for (var _i = 0, selectedIndexes_1 = selectedIndexes; _i < selectedIndexes_1.length; _i++) {\n            var index = selectedIndexes_1[_i];\n            if (uniqueSeries.indexOf(index.series) === -1) {\n                uniqueSeries.push(index.series);\n            }\n        }\n        for (var _a = 0, uniqueSeries_1 = uniqueSeries; _a < uniqueSeries_1.length; _a++) {\n            var index = uniqueSeries_1[_a];\n            if (this.control.series[index].visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * To add svg element style class\n     * @private\n     */\n    BaseSelection.prototype.addSvgClass = function (element, className) {\n        var elementClassName = element.getAttribute('class') || '';\n        elementClassName += ((elementClassName !== '') ? ' ' : '');\n        if (elementClassName.indexOf(className) === -1) {\n            element.setAttribute('class', elementClassName + className);\n        }\n    };\n    /**\n     * To remove svg element style class\n     * @private\n     */\n    BaseSelection.prototype.removeSvgClass = function (element, className) {\n        var elementClassName = element.getAttribute('class') || '';\n        if (elementClassName.indexOf(className) > -1) {\n            element.setAttribute('class', elementClassName.replace(className, ''));\n        }\n    };\n    /**\n     * To get children from parent element\n     */\n    BaseSelection.prototype.getChildren = function (parent) {\n        var children = [];\n        for (var i = 0; i < parent.childNodes.length; i++) {\n            if (parent.childNodes[i].tagName !== 'defs') {\n                children.push(parent.childNodes[i]);\n            }\n        }\n        return children;\n    };\n    return BaseSelection;\n}());\nexport { BaseSelection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Selection src file\n */\nimport { Browser } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ChartLocation, Rect, RectOption, CircleOption, withInBounds, getDraggedRectLocation, removeElement, getElement } from '../../common/utils/helper';\nimport { Index } from '../../common/model/base';\nimport { dragComplete } from '../../common/model/constants';\nimport { BaseSelection } from '../../common/user-interaction/selection';\n/**\n * `Selection` module handles the selection for chart.\n * @private\n */\nvar Selection = /** @class */ (function (_super) {\n    __extends(Selection, _super);\n    /**\n     * Constructor for selection module.\n     * @private.\n     */\n    function Selection(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.chart = chart;\n        _this.renderer = chart.renderer;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Binding events for selection module.\n     */\n    Selection.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(Browser.touchMoveEvent, this.mouseMove, this);\n        this.chart.on(cancelEvent, this.completeSelection, this);\n        this.chart.on('click', this.calculateSelectedElements, this);\n        this.chart.on(Browser.touchStartEvent, this.mousedown, this);\n        this.chart.on(Browser.touchEndEvent, this.completeSelection, this);\n    };\n    /**\n     * Chart mouse down\n     */\n    Selection.prototype.mousedown = function (e) {\n        var chart = this.chart;\n        if (chart.selectionMode === 'None' || chart.isChartDrag) {\n            return;\n        }\n        if (chart.isDoubleTap || !chart.isTouch || this.rectPoints) {\n            this.dragStart(chart, chart.chartAxisLayoutPanel.seriesClipRect, chart.mouseDownX, chart.mouseDownY, e);\n        }\n    };\n    /**\n     * UnBinding events for selection module.\n     */\n    Selection.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.off(Browser.touchMoveEvent, this.mouseMove);\n        this.chart.off('pointerleave' || 'mouseleave', this.completeSelection);\n        this.chart.off('click', this.calculateSelectedElements);\n        this.chart.off(Browser.touchStartEvent, this.mousedown);\n        this.chart.off(Browser.touchEndEvent, this.completeSelection);\n    };\n    /**\n     * To find private variable values\n     */\n    Selection.prototype.initPrivateVariables = function (chart) {\n        this.styleId = chart.element.id + '_ej2_chart_selection';\n        this.unselected = chart.element.id + '_ej2_deselected';\n        this.closeIconId = chart.element.id + '_ej2_drag_close';\n        this.draggedRectGroup = chart.element.id + '_ej2_drag_group';\n        this.draggedRect = chart.element.id + '_ej2_drag_rect';\n        this.selectedDataIndexes = [];\n        this.rectPoints = null;\n        this.isSeriesMode = chart.selectionMode === 'Series';\n    };\n    /**\n     * Method to select the point and series.\n     * @return {void}\n     */\n    Selection.prototype.invokeSelection = function (chart) {\n        this.initPrivateVariables(chart);\n        this.series = extend({}, chart.visibleSeries, null, true);\n        this.seriesStyles();\n        if (!(chart.selectionMode.indexOf('Drag') > -1)) {\n            this.selectDataIndex(chart, this.concatIndexes(chart.selectedDataIndexes, this.selectedDataIndexes));\n        }\n    };\n    Selection.prototype.generateStyle = function (series) {\n        if (series) {\n            return (series.selectionStyle || this.styleId + '_series_' + series.index);\n        }\n        return 'undefined';\n    };\n    Selection.prototype.selectDataIndex = function (chart, indexes) {\n        for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\n            var index = indexes_1[_i];\n            this.performSelection(index, chart, this.getElementByIndex(chart, index)[0]);\n        }\n    };\n    Selection.prototype.getElementByIndex = function (chart, index, suffix) {\n        if (suffix === void 0) { suffix = ''; }\n        var elementId = chart.element.id + '_Series_' + index.series + '_Point' + '_' + index.point;\n        var series = chart.series[index.series];\n        elementId = (!series.isRectSeries && series.type !== 'Scatter' && series.type !== 'Bubble' &&\n            series.marker.visible) ? (elementId + '_Symbol' + suffix) : elementId;\n        return [getElement(elementId), (series.type === 'RangeArea' && series.marker.visible) ? getElement(elementId + '1') : null];\n    };\n    Selection.prototype.getClusterElements = function (chart, index) {\n        var clusters = [];\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            index = new Index(series.index, index.point);\n            clusters.push(this.getElementByIndex(chart, index)[0]);\n        }\n        return clusters;\n    };\n    Selection.prototype.findElements = function (chart, series, index, suffix) {\n        if (suffix === void 0) { suffix = ''; }\n        if (this.isSeriesMode) {\n            return this.getSeriesElements(series);\n        }\n        else if (chart.selectionMode === 'Cluster') {\n            return this.getClusterElements(chart, index);\n        }\n        else {\n            return this.getElementByIndex(chart, index, suffix);\n        }\n    };\n    /**\n     * To find the selected element.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.calculateSelectedElements = function (event) {\n        if (this.chart.selectionMode === 'None' || event.target.id.indexOf(this.chart.element.id + '_') === -1) {\n            return;\n        }\n        if (event.target.id.indexOf('_Series_') > -1) {\n            this.performSelection(this.indexFinder(event.target.id), this.chart, event.target);\n        }\n    };\n    Selection.prototype.performSelection = function (index, chart, element) {\n        this.isSeriesMode = chart.selectionMode === 'Series';\n        if (chart.series[index.series].type === 'BoxAndWhisker' &&\n            element.id === chart.element.id + '_Series_' + index.series + '_Point_' + index.point + '_BoxPath') {\n            element = element.parentElement;\n        }\n        switch (chart.selectionMode) {\n            case 'Series':\n                this.selection(chart, index, this.getSeriesElements(chart.series[index.series]));\n                this.blurEffect(chart.element.id, chart.visibleSeries);\n                break;\n            case 'Point':\n                if (!isNaN(index.point)) {\n                    this.selection(chart, index, [element]);\n                    this.blurEffect(chart.element.id, chart.visibleSeries);\n                }\n                break;\n            case 'Cluster':\n                if (!isNaN(index.point)) {\n                    this.clusterSelection(chart, chart.series, index);\n                    this.blurEffect(chart.element.id, chart.visibleSeries);\n                }\n                break;\n        }\n    };\n    Selection.prototype.selection = function (chart, index, selectedElements) {\n        if (!chart.isMultiSelect && (chart.selectionMode.indexOf('Drag') === -1)) {\n            this.removeMultiSelectEelments(chart, this.selectedDataIndexes, index, chart.series);\n        }\n        var className = selectedElements[0] && (selectedElements[0].getAttribute('class') || '');\n        if (selectedElements[0] && className.indexOf(this.getSelectionClass(selectedElements[0].id)) > -1) {\n            this.removeStyles(selectedElements);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index);\n        }\n        else {\n            this.applyStyles(selectedElements);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index, true);\n        }\n    };\n    Selection.prototype.clusterSelection = function (chart, series, index) {\n        this.selection(chart, index, this.getClusterElements(chart, new Index(index.series, index.point)));\n    };\n    Selection.prototype.removeMultiSelectEelments = function (chart, index, currentIndex, seriesCollection) {\n        var series;\n        for (var i = 0; i < index.length; i++) {\n            series = seriesCollection[index[i].series];\n            if ((this.isSeriesMode && !this.toEquals(index[i], currentIndex, this.isSeriesMode)) ||\n                (this.control.selectionMode === 'Cluster' && !this.toEquals(index[i], currentIndex, false)) ||\n                (!this.isSeriesMode && this.toEquals(index[i], currentIndex, true) && !this.toEquals(index[i], currentIndex, false))) {\n                this.removeStyles(this.findElements(chart, series, index[i]));\n                index.splice(i, 1);\n                i--;\n            }\n        }\n    };\n    Selection.prototype.blurEffect = function (chartId, visibleSeries) {\n        var visibility = this.checkVisibility(this.selectedDataIndexes); // legend click scenario\n        for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n            var series = visibleSeries_1[_i];\n            if (series.visible) {\n                this.checkSelectionElements(getElement(chartId + 'SeriesGroup' + series.index), this.generateStyle(series), visibility);\n                if (!isNullOrUndefined(getElement(chartId + 'SymbolGroup' + series.index))) {\n                    this.checkSelectionElements(getElement(chartId + 'SymbolGroup' + series.index), this.generateStyle(series), visibility);\n                }\n            }\n        }\n    };\n    Selection.prototype.checkSelectionElements = function (element, className, visibility) {\n        var children = (this.isSeriesMode ? [element] : element.childNodes);\n        var elementClassName;\n        var parentClassName;\n        var legendShape;\n        var selectElement = element;\n        for (var i = 0; i < children.length; i++) {\n            elementClassName = children[i].getAttribute('class') || '';\n            parentClassName = children[i].parentNode.getAttribute('class') || '';\n            if (elementClassName.indexOf(className) === -1 &&\n                parentClassName.indexOf(className) === -1 && visibility) {\n                this.addSvgClass(children[i], this.unselected);\n            }\n            else {\n                selectElement = children[i];\n                this.removeSvgClass(children[i], this.unselected);\n            }\n        }\n        if (this.control.legendModule && this.control.legendSettings.visible) {\n            legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + className.split('_series_')[1]);\n            if (legendShape) {\n                elementClassName = selectElement.getAttribute('class') || '';\n                parentClassName = selectElement.parentNode.getAttribute('class') || '';\n                if (elementClassName.indexOf(className) === -1 && parentClassName.indexOf(className) === -1 && visibility) {\n                    this.addSvgClass(legendShape, this.unselected);\n                }\n                else {\n                    this.removeSvgClass(legendShape, this.unselected);\n                }\n            }\n        }\n    };\n    Selection.prototype.applyStyles = function (elements) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            if (element) {\n                this.removeSvgClass(element.parentNode, this.unselected);\n                this.removeSvgClass(element, this.unselected);\n                this.addSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    Selection.prototype.getSelectionClass = function (id) {\n        return this.generateStyle(this.control.series[this.indexFinder(id).series]);\n    };\n    Selection.prototype.removeStyles = function (elements) {\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            if (element) {\n                this.removeSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    Selection.prototype.addOrRemoveIndex = function (indexes, index, add) {\n        for (var i = 0; i < indexes.length; i++) {\n            if (this.toEquals(indexes[i], index, this.isSeriesMode)) {\n                indexes.splice(i, 1);\n                i--;\n            }\n        }\n        if (add) {\n            indexes.push(index);\n        }\n    };\n    Selection.prototype.toEquals = function (first, second, checkSeriesOnly) {\n        return ((first.series === second.series || (this.control.selectionMode === 'Cluster' && !checkSeriesOnly))\n            && (checkSeriesOnly || (first.point === second.point)));\n    };\n    /**\n     * To redraw the selected points.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.redrawSelection = function (chart, oldMode) {\n        this.isSeriesMode = oldMode === 'Series';\n        var selectedDataIndexes = extend([], this.selectedDataIndexes, null, true);\n        this.removeSelectedElements(chart, this.selectedDataIndexes, chart.series);\n        this.blurEffect(chart.element.id, chart.visibleSeries);\n        this.selectDataIndex(chart, selectedDataIndexes);\n    };\n    /** @private */\n    Selection.prototype.legendSelection = function (chart, series) {\n        var seriesStyle = this.generateStyle(chart.visibleSeries[series]);\n        var selectedElements = document.getElementsByClassName(seriesStyle);\n        this.isSeriesMode = chart.selectionMode === 'Series';\n        var isBlurEffectNeeded = true;\n        if (selectedElements.length > 0) {\n            var elements = [];\n            for (var i = 0; i < selectedElements.length; i++) {\n                elements.push(selectedElements[i]);\n            }\n            this.removeStyles(elements);\n            this.isSeriesMode = true;\n            this.addOrRemoveIndex(this.selectedDataIndexes, new Index(series, NaN));\n            for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                var series_1 = _a[_i];\n                seriesStyle = this.generateStyle(series_1);\n                if (document.getElementsByClassName(seriesStyle).length > 0) {\n                    for (var _b = 0, elements_3 = elements; _b < elements_3.length; _b++) {\n                        var element = elements_3[_b];\n                        this.checkSelectionElements(element, seriesStyle, true);\n                    }\n                    isBlurEffectNeeded = false;\n                    break;\n                }\n            }\n            if (isBlurEffectNeeded) {\n                this.isSeriesMode = chart.selectionMode === 'Series';\n                this.blurEffect(chart.element.id, chart.visibleSeries);\n            }\n        }\n        else {\n            var seriesElements = this.getSeriesElements(chart.visibleSeries[series]);\n            for (var _c = 0, seriesElements_1 = seriesElements; _c < seriesElements_1.length; _c++) {\n                var seriesElement = seriesElements_1[_c];\n                this.checkSelectionElements(seriesElement, seriesStyle, false);\n            }\n            this.isSeriesMode = true;\n            this.selection(chart, new Index(series, NaN), seriesElements);\n            this.isSeriesMode = chart.selectionMode === 'Series';\n            this.blurEffect(chart.element.id, chart.visibleSeries);\n        }\n    };\n    Selection.prototype.getSeriesElements = function (series) {\n        var seriesElements = [series.seriesElement];\n        if (series.marker.visible && series.type !== 'Scatter' && series.type !== 'Bubble' && !series.isRectSeries) {\n            seriesElements.push(series.symbolElement);\n        }\n        return seriesElements;\n    };\n    Selection.prototype.indexFinder = function (id) {\n        var ids = ['NaN', 'NaN'];\n        if (id.indexOf('SeriesGroup') > -1) {\n            ids = id.split('SeriesGroup');\n            ids[0] = ids[1];\n        }\n        else if (id.indexOf('SymbolGroup') > -1) {\n            ids = id.split('SymbolGroup');\n            ids[0] = ids[1];\n        }\n        else if (id.indexOf('_Point_') > -1) {\n            ids = id.split('_Series_')[1].split('_Point_');\n        }\n        else if (id.indexOf('_Series_') > -1) {\n            ids[0] = id.split('_Series_')[1];\n        }\n        return new Index(parseInt(ids[0], 10), parseInt(ids[1], 10));\n    };\n    /**\n     * Drag selection that returns the selected data.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.calculateDragSelectedElements = function (chart, dragRect) {\n        this.removeSelectedElements(chart, this.selectedDataIndexes, chart.series);\n        var rect = new Rect(dragRect.x, dragRect.y, dragRect.width, dragRect.height);\n        var axisOffset = new ChartLocation(chart.chartAxisLayoutPanel.seriesClipRect.x, chart.chartAxisLayoutPanel.seriesClipRect.y);\n        this.removeOffset(rect, axisOffset);\n        var points;\n        var index;\n        var selectedPointValues = [];\n        var selectedSeriesValues = [];\n        this.isSeriesMode = false;\n        var symbolLocation;\n        var _loop_1 = function (series) {\n            if (series.visible) {\n                points = series.points;\n                selectedPointValues = [];\n                var xAxisOffset_1;\n                var yAxisOffset_1;\n                if ((chart.isTransposed || series.type.indexOf('Bar') !== -1) &&\n                    !(chart.isTransposed && series.type.indexOf('Bar') !== -1)) {\n                    xAxisOffset_1 = series.xAxis.rect.y - axisOffset.y;\n                    yAxisOffset_1 = series.yAxis.rect.x - axisOffset.x;\n                }\n                else {\n                    xAxisOffset_1 = series.xAxis.rect.x - axisOffset.x;\n                    yAxisOffset_1 = series.yAxis.rect.y - axisOffset.y;\n                }\n                for (var j = 0; j < points.length; j++) {\n                    var yValue = series.type !== 'RangeArea' ? points[j].yValue :\n                        points[j].regions[0].y;\n                    var isCurrentPoint = void 0;\n                    if (series.type === 'BoxAndWhisker') {\n                        isCurrentPoint = points[j].regions.some(function (region) {\n                            return withInBounds(region.x + xAxisOffset_1, region.y + yAxisOffset_1, rect);\n                        });\n                    }\n                    else {\n                        isCurrentPoint = points[j].symbolLocations.some(function (location) {\n                            return location && withInBounds(location.x + xAxisOffset_1, location.y + yAxisOffset_1, rect);\n                        });\n                    }\n                    if (isCurrentPoint && series.category !== 'Indicator') {\n                        index = new Index(series.index, points[j].index);\n                        this_1.selection(chart, index, this_1.findElements(chart, series, index));\n                        selectedPointValues.push({ x: points[j].xValue.toString(), y: yValue });\n                    }\n                    if (isCurrentPoint && series.type === 'RangeArea') {\n                        selectedPointValues.push({ x: points[j].xValue.toString(), y: points[j].regions[0].y });\n                    }\n                }\n                selectedSeriesValues.push(selectedPointValues);\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            _loop_1(series);\n        }\n        this.blurEffect(chart.element.id, chart.visibleSeries);\n        this.rectPoints = new Rect(dragRect.x, dragRect.y, dragRect.width, dragRect.height);\n        this.createCloseButton((dragRect.x + dragRect.width), dragRect.y);\n        var args = {\n            name: dragComplete,\n            selectedDataValues: selectedSeriesValues,\n            cancel: false\n        };\n        chart.trigger(dragComplete, args);\n    };\n    Selection.prototype.removeOffset = function (rect, clip) {\n        rect.x -= clip.x;\n        rect.y -= clip.y;\n    };\n    /**\n     * Method to draw dragging rect.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.drawDraggingRect = function (chart, dragRect) {\n        var cartesianLayout = chart.chartAxisLayoutPanel.seriesClipRect;\n        switch (chart.selectionMode) {\n            case 'DragX':\n                dragRect.y = cartesianLayout.y;\n                dragRect.height = cartesianLayout.height;\n                break;\n            case 'DragY':\n                dragRect.x = cartesianLayout.x;\n                dragRect.width = cartesianLayout.width;\n                break;\n        }\n        if (dragRect.width < 5 || dragRect.height < 5) {\n            return null;\n        }\n        var element = getElement(this.draggedRect);\n        if (this.closeIcon) {\n            removeElement(this.closeIconId);\n        }\n        if (element) {\n            this.setAttributes(element, dragRect);\n        }\n        else {\n            var dragGroup = chart.renderer.createGroup({ id: this.draggedRectGroup });\n            chart.svgObject.appendChild(dragGroup);\n            element = chart.renderer.drawRectangle(new RectOption(this.draggedRect, chart.themeStyle.selectionRectFill, { color: chart.themeStyle.selectionRectStroke, width: 1 }, 1, dragRect));\n            element.setAttribute('style', 'cursor:move;');\n            dragGroup.appendChild(element);\n        }\n    };\n    Selection.prototype.createCloseButton = function (x, y) {\n        var closeIcon = this.chart.renderer.createGroup({\n            id: this.closeIconId,\n            style: 'cursor:pointer; visibility: visible;'\n        });\n        closeIcon.appendChild(this.chart.renderer.drawCircle(new CircleOption(this.closeIconId + '_circle', '#FFFFFF', { color: this.chart.themeStyle.selectionCircleStroke, width: 1 }, 1, x, y, 10)));\n        var direction = 'M ' + (x - 4) + ' ' + (y - 4) + ' L ' + (x + 4) + ' ' + (y + 4) + ' M ' + (x - 4) + ' ' + (y + 4) +\n            ' L ' + (x + 4) + ' ' + (y - 4);\n        closeIcon.appendChild(this.chart.renderer.drawPath({\n            id: this.closeIconId + '_cross', d: direction,\n            stroke: this.chart.themeStyle.selectionCircleStroke,\n            'stroke-width': 2, fill: this.chart.themeStyle.selectionCircleStroke\n        }));\n        this.closeIcon = closeIcon;\n        getElement(this.draggedRectGroup).appendChild(closeIcon);\n    };\n    /**\n     * Method to remove dragged element.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.removeDraggedElements = function (chart, event) {\n        if ((event.target.id.indexOf(this.closeIconId) > -1) && (event.type.indexOf('move') === -1)) {\n            this.removeSelectedElements(chart, this.selectedDataIndexes, chart.series);\n            this.blurEffect(chart.element.id, chart.visibleSeries);\n            remove(getElement(this.draggedRectGroup));\n            this.changeCursorStyle(false, chart.svgObject, 'auto');\n            this.rectPoints = null;\n        }\n    };\n    /**\n     * Method to resize the drag rect.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.resizingSelectionRect = function (chart, location, tapped) {\n        var rect = new Rect(this.rectPoints.x, this.rectPoints.y, this.rectPoints.width, this.rectPoints.height);\n        var resize = this.findResizeMode(chart.svgObject, rect, location);\n        if (this.resizing) {\n            rect = getDraggedRectLocation(rect.x, rect.y, (rect.x + rect.width), (rect.y + rect.height), chart.chartAxisLayoutPanel.seriesClipRect);\n            this.drawDraggingRect(chart, rect);\n            this.dragRect = rect;\n        }\n        if (tapped) {\n            this.resizing = resize;\n        }\n    };\n    Selection.prototype.findResizeMode = function (chartSvgObject, rect, location) {\n        var cursorStyle = 'se-resize';\n        var resize = false;\n        if (!this.resizing) {\n            var resizeEdges = [new Rect(rect.x, (rect.y - 10), rect.width - 5, 20),\n                new Rect((rect.x - 10), rect.y, 20, rect.height),\n                new Rect(rect.x, (rect.y + rect.height - 10), rect.width - 10, 20),\n                new Rect((rect.x + rect.width - 10), rect.y + 5, 20, rect.height - 15),\n                new Rect((rect.x + rect.width - 10), (rect.y + rect.height - 10), 20, 20)]; //corner\n            for (var i = 0; i < resizeEdges.length; i++) {\n                if (withInBounds(location.x, location.y, resizeEdges[i])) {\n                    cursorStyle = (i === 4) ? cursorStyle : (i % 2 === 0) ? 'ns-resize' : 'ew-resize';\n                    resize = true;\n                    this.resizeMode = i;\n                    break;\n                }\n            }\n        }\n        else {\n            var x = rect.x;\n            var y = rect.y;\n            var width = (location.x - x);\n            var height = (location.y - y);\n            switch (this.resizeMode) {\n                case 0:\n                    height = Math.abs((rect.height + rect.y) - location.y);\n                    rect.y = Math.min((rect.height + rect.y), location.y);\n                    rect.height = height;\n                    break;\n                case 1:\n                    width = Math.abs((rect.width + rect.x) - location.x);\n                    rect.x = Math.min((rect.width + rect.x), location.x);\n                    rect.width = width;\n                    break;\n                case 2:\n                    rect.height = Math.abs(height);\n                    rect.y = Math.min(location.y, y);\n                    break;\n                case 3:\n                    rect.width = Math.abs(width);\n                    rect.x = Math.min(location.x, x);\n                    break;\n                case 4:\n                    rect.width = Math.abs(width);\n                    rect.height = Math.abs(height);\n                    rect.x = Math.min(location.x, x);\n                    rect.y = Math.min(location.y, y);\n                    break;\n            }\n        }\n        this.changeCursorStyle(resize, getElement(this.draggedRect), cursorStyle);\n        this.changeCursorStyle(resize, chartSvgObject, cursorStyle);\n        return resize;\n    };\n    Selection.prototype.changeCursorStyle = function (isResize, rectelement, cursorStyle) {\n        cursorStyle = isResize ? cursorStyle : (this.control.svgObject === rectelement) ? 'auto' : 'move';\n        rectelement.setAttribute('style', 'cursor:' + cursorStyle + ';');\n    };\n    Selection.prototype.removeSelectedElements = function (chart, index, seriesCollection) {\n        index.splice(0, index.length);\n        var seriesElements;\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            seriesElements = this.getSeriesElements(series);\n            this.removeStyles(seriesElements);\n            for (var _a = 0, seriesElements_2 = seriesElements; _a < seriesElements_2.length; _a++) {\n                var seriesElement = seriesElements_2[_a];\n                this.removeStyles(this.getChildren(seriesElement));\n            }\n        }\n    };\n    Selection.prototype.setAttributes = function (ele, object) {\n        var keys = Object.keys(object);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            ele.setAttribute(key, object[key]);\n        }\n    };\n    /**\n     * Method to move the dragged rect.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.draggedRectMoved = function (chart, grabbedPoint, doDrawing) {\n        var rect = new Rect(this.rectPoints.x, this.rectPoints.y, this.rectPoints.width, this.rectPoints.height);\n        rect.x -= (grabbedPoint.x - chart.mouseX);\n        rect.y -= (grabbedPoint.y - chart.mouseY);\n        rect = getDraggedRectLocation(rect.x, rect.y, rect.x + rect.width, rect.height + rect.y, chart.chartAxisLayoutPanel.seriesClipRect);\n        if (doDrawing) {\n            this.drawDraggingRect(chart, rect);\n        }\n        else {\n            this.calculateDragSelectedElements(chart, rect);\n        }\n    };\n    /**\n     * To complete the selection.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.completeSelection = function (e) {\n        var chart = this.chart;\n        if (chart.selectionMode === 'None') {\n            return;\n        }\n        if ((this.dragging || this.resizing) && this.dragRect.width > 5 && this.dragRect.height > 5) {\n            this.calculateDragSelectedElements(chart, this.dragRect);\n        }\n        else if (this.rectGrabbing && this.rectPoints.width && this.rectPoints.height) {\n            this.draggedRectMoved(chart, this.dragRect);\n        }\n        this.dragging = false;\n        this.rectGrabbing = false;\n        this.resizing = false;\n        this.removeDraggedElements(chart, e);\n    };\n    Selection.prototype.getDragRect = function (chart, seriesClipRect) {\n        return getDraggedRectLocation(chart.mouseDownX, chart.mouseDownY, chart.mouseX, chart.mouseY, seriesClipRect);\n    };\n    /** @private */\n    Selection.prototype.dragStart = function (chart, seriesClipRect, mouseDownX, mouseDownY, event) {\n        this.dragging = (chart.selectionMode.indexOf('Drag') > -1) && (chart.isDoubleTap || !chart.isTouch) &&\n            chart.chartAreaType !== 'PolarRadar';\n        if (this.dragging) {\n            this.dragRect = new Rect(chart.mouseDownX, chart.mouseDownY, 0, 0);\n            if (chart.mouseDownX < seriesClipRect.x || chart.mouseDownX > (seriesClipRect.x + seriesClipRect.width) ||\n                chart.mouseDownY < seriesClipRect.y || chart.mouseDownY > (seriesClipRect.y + seriesClipRect.height)) {\n                this.dragging = false;\n            }\n        }\n        if (this.rectPoints) {\n            this.dragRect = new Rect(chart.mouseDownX, chart.mouseDownY, 0, 0);\n            this.resizingSelectionRect(chart, new ChartLocation(mouseDownX, mouseDownY), true);\n            this.rectGrabbing = withInBounds(mouseDownX, mouseDownY, this.rectPoints);\n        }\n    };\n    /** @private */\n    Selection.prototype.mouseMove = function (event) {\n        var chart = this.chart;\n        if (chart.selectionMode === 'None') {\n            return;\n        }\n        if (event.type === 'touchmove' && (Browser.isIos || Browser.isIos7) && this.dragging && event.preventDefault) {\n            event.preventDefault();\n        }\n        var insideMoving = withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect);\n        if (insideMoving) {\n            if (this.rectGrabbing && !this.resizing) {\n                this.draggedRectMoved(chart, this.dragRect, true);\n            }\n            else if (this.dragging && !this.resizing) {\n                this.dragRect = this.getDragRect(chart, chart.chartAxisLayoutPanel.seriesClipRect);\n                this.drawDraggingRect(chart, this.dragRect);\n            }\n            if (this.rectPoints) {\n                this.resizingSelectionRect(chart, new ChartLocation(chart.mouseX, chart.mouseY));\n            }\n        }\n        else {\n            this.completeSelection(event);\n        }\n    };\n    /**\n     * Get module name.\n     * @private\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'Selection';\n    };\n    /**\n     * To destroy the selection.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.destroy = function (chart) {\n        this.removeEventListener();\n        // Destroy method performed here\n    };\n    return Selection;\n}(BaseSelection));\nexport { Selection };\n","import { ChartLocation, Rect, TextOption, RectOption, isCollide, markerAnimate } from '../../common/utils/helper';\nimport { getLabelText, measureText, convertHexToColor, calculateRect, textElement, colorNameToHex } from '../../common/utils/helper';\nimport { textRender } from '../../common/model/constants';\nimport { createTemplate, getFontStyle, getElement, measureElementRect, templateAnimate, withIn } from '../../common/utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\nimport { getPoint } from '../../common/utils/helper';\n/**\n * `DataLabel` module is used to render data label for the data point.\n */\nvar DataLabel = /** @class */ (function () {\n    /**\n     * Constructor for the data label module.\n     * @private\n     */\n    function DataLabel(chart) {\n        this.errorHeight = 0;\n        this.chart = chart;\n    }\n    DataLabel.prototype.initPrivateVariables = function (series, marker) {\n        var transform;\n        var render = series.chart.renderer;\n        transform = series.chart.chartAreaType === 'Cartesian' ? 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')' : '';\n        if (marker.dataLabel.visible) {\n            series.shapeElement = render.createGroup({\n                'id': this.chart.element.id + 'ShapeGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.chart.element.id + '_ChartSeriesClipRect_' + series.index + ')'\n            });\n            series.textElement = render.createGroup({\n                'id': this.chart.element.id + 'TextGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.chart.element.id + '_ChartSeriesClipRect_' + series.index + ')'\n            });\n        }\n        this.markerHeight = ((series.type === 'Scatter' || marker.visible) && !this.isRectSeries(series)) ? (marker.height / 2) : 0;\n        this.commonId = this.chart.element.id + '_Series_' + series.index + '_Point_';\n        this.calculateErrorHeight(series, series.marker.dataLabel.position);\n        this.chartBackground = this.chart.chartArea.background === 'trasparent' ?\n            this.chart.background || this.chart.themeStyle.background : this.chart.chartArea.background;\n    };\n    DataLabel.prototype.calculateErrorHeight = function (series, position) {\n        if (!series.errorBar.visible) {\n            return null;\n        }\n        else if (series.errorBar.visible && this.chart.chartAreaType !== 'PolarRadar') {\n            var direction = series.errorBar.direction;\n            var positiveHeight = this.chart.errorBarModule.positiveHeight;\n            var negativeHeight = this.chart.errorBarModule.negativeHeight;\n            if (this.isRectSeries(series)) {\n                if (position === 'Top' || position === 'Auto') {\n                    if (direction === 'Both' || direction === 'Minus') {\n                        this.errorHeight = negativeHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n                if (position === 'Outer' || position === 'Auto') {\n                    if (direction === 'Both' || direction === 'Plus') {\n                        this.errorHeight = positiveHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n            }\n            else {\n                if (position === 'Top' || position === 'Outer' || position === 'Auto') {\n                    if ((direction === 'Both' || direction === 'Plus') && (!series.chart.isTransposed)) {\n                        this.errorHeight = positiveHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n                if (position === 'Bottom' || position === 'Auto') {\n                    if (direction === 'Both' || direction === 'Minus') {\n                        this.errorHeight = negativeHeight;\n                    }\n                    else {\n                        this.errorHeight = 0;\n                    }\n                }\n            }\n        }\n        else {\n            this.errorHeight = 0;\n        }\n    };\n    DataLabel.prototype.isRectSeries = function (series) {\n        return series.isRectSeries || series.type === 'RangeArea';\n    };\n    /**\n     * Render the data label for series.\n     * @return {void}\n     */\n    DataLabel.prototype.render = function (series, chart, dataLabel) {\n        var _this = this;\n        // initialize the private variable\n        this.initPrivateVariables(series, series.marker);\n        var rect;\n        var rgbValue;\n        var contrast;\n        var argsData;\n        var border;\n        var textSize;\n        this.inverted = chart.requireInvertedAxis;\n        this.yAxisInversed = series.yAxis.isInversed;\n        var element = createElement('div', {\n            id: chart.element.id + '_Series_' + series.index + '_DataLabelCollections'\n        });\n        // Data label point iteration started\n        series.points.map(function (point, index) {\n            _this.margin = dataLabel.margin;\n            var labelText = [];\n            var labelLength;\n            var clip = series.clipRect;\n            border = { width: dataLabel.border.width, color: dataLabel.border.color };\n            if ((point.symbolLocations.length && point.symbolLocations[0]) ||\n                (series.type === 'BoxAndWhisker' && point.regions.length)) {\n                labelText = getLabelText(point, series, chart);\n                labelLength = labelText.length;\n                for (var i = 0; i < labelLength; i++) {\n                    argsData = {\n                        cancel: false, name: textRender, series: series,\n                        point: point, text: labelText[i], border: border,\n                        color: dataLabel.fill, template: dataLabel.template\n                    };\n                    chart.trigger(textRender, argsData);\n                    if (!argsData.cancel) {\n                        _this.fontBackground = argsData.color;\n                        _this.isDataLabelShape(argsData);\n                        _this.markerHeight = series.type === 'Bubble' ? (point.regions[0].height / 2) : _this.markerHeight;\n                        if (argsData.template !== null) {\n                            _this.createDataLabelTemplate(element, series, dataLabel, point, argsData, i);\n                        }\n                        else {\n                            textSize = measureText(argsData.text, dataLabel.font);\n                            rect = _this.calculateTextPosition(point, series, textSize, dataLabel, i);\n                            if (!isCollide(rect, chart.dataLabelCollections, clip)) {\n                                chart.dataLabelCollections.push(new Rect(rect.x + clip.x, rect.y + clip.y, rect.width, rect.height));\n                                if (_this.isShape) {\n                                    series.shapeElement.appendChild(chart.renderer.drawRectangle(new RectOption(_this.commonId + index + '_TextShape_' + i, argsData.color, argsData.border, dataLabel.opacity, rect, dataLabel.rx, dataLabel.ry)));\n                                }\n                                // Checking the font color\n                                rgbValue = convertHexToColor(colorNameToHex(_this.fontBackground));\n                                contrast = Math.round((rgbValue.r * 299 + rgbValue.g * 587 + rgbValue.b * 114) / 1000);\n                                textElement(new TextOption(_this.commonId + index + '_Text_' + i, rect.x + _this.margin.left + textSize.width / 2, rect.y + _this.margin.top + textSize.height * 3 / 4, 'middle', argsData.text, 'rotate(0,' + (rect.x) + ',' + (rect.y) + ')', 'auto'), dataLabel.font, dataLabel.font.color ||\n                                    ((contrast >= 128 || series.type === 'Hilo') ? 'black' : 'white'), series.textElement);\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        if (element.childElementCount) {\n            getElement(chart.element.id + '_Secondary_Element').appendChild(element);\n        }\n    };\n    /**\n     * Render the data label template.\n     * @return {void}\n     * @private\n     */\n    DataLabel.prototype.createDataLabelTemplate = function (parentElement, series, dataLabel, point, data, labelIndex) {\n        this.margin = { left: 0, right: 0, bottom: 0, top: 0 };\n        var clip = series.clipRect;\n        var childElement = createTemplate(createElement('div', {\n            id: this.chart.element.id + '_Series_' + series.index + '_DataLabel_'\n                + point.index + (labelIndex ? ('_' + labelIndex) : ''),\n            styles: 'position: absolute;background-color:' + data.color + ';' +\n                getFontStyle(dataLabel.font) + ';border:' + data.border.width + 'px solid ' + data.border.color + ';'\n        }), point.index, data.template, this.chart, point, series);\n        var elementRect = measureElementRect(childElement);\n        var rect = this.calculateTextPosition(point, series, { width: elementRect.width, height: elementRect.height }, dataLabel, labelIndex);\n        childElement.style.left = ((this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.x) + rect.x) + 'px';\n        childElement.style.top = ((this.chart.chartAreaType === 'PolarRadar' ? 0 : series.clipRect.y) + rect.y) + 'px';\n        var rgbValue = convertHexToColor(colorNameToHex(this.fontBackground));\n        var vAxis = series.chart.requireInvertedAxis ? series.xAxis : series.yAxis;\n        var hAxis = series.chart.requireInvertedAxis ? series.yAxis : series.xAxis;\n        childElement.style.color = dataLabel.font.color ||\n            ((Math.round((rgbValue.r * 299 + rgbValue.g * 587 + rgbValue.b * 114) / 1000)) >= 128 ? 'black' : 'white');\n        if (childElement.childElementCount && !isCollide(rect, this.chart.dataLabelCollections, clip)\n            && (series.seriesType !== 'XY' || point.yValue === undefined || withIn(point.yValue, series.yAxis.visibleRange) ||\n                (series.type.indexOf('100') > -1 && withIn(series.stackedValues.endValues[point.index], series.yAxis.visibleRange)))\n            && withIn(point.xValue, series.xAxis.visibleRange) && parseFloat(childElement.style.top) >= vAxis.rect.y &&\n            parseFloat(childElement.style.left) >= hAxis.rect.x && parseFloat(childElement.style.top) <= vAxis.rect.y + vAxis.rect.height &&\n            parseFloat(childElement.style.left) <= hAxis.rect.x + hAxis.rect.width) {\n            this.chart.dataLabelCollections.push(new Rect(rect.x + clip.x, rect.y + clip.y, rect.width, rect.height));\n            parentElement.appendChild(childElement);\n            if (series.animation.enable && this.chart.animateSeries) {\n                this.doDataLabelAnimation(series, childElement);\n            }\n        }\n    };\n    DataLabel.prototype.calculateTextPosition = function (point, series, textSize, dataLabel, labelIndex) {\n        var labelRegion = labelIndex > 1 ? (series.type === 'Candle') ? point.regions[1] : point.regions[0] : point.regions[0];\n        if (labelIndex > 1 && series.type === 'HiloOpenClose') {\n            labelRegion = (labelIndex === 2) ? point.regions[1] : point.regions[2];\n        }\n        var location;\n        location = this.getLabelLocation(point, series, textSize, labelIndex);\n        var padding = 5;\n        var clipRect = series.clipRect;\n        var rect;\n        // calculating alignment\n        if (!this.chart.requireInvertedAxis || !this.isRectSeries(series) || series.type === 'BoxAndWhisker') {\n            this.locationX = location.x;\n            var alignmentValue = textSize.height + (this.borderWidth * 2) + this.markerHeight +\n                this.margin.bottom + this.margin.top + padding;\n            location.y = (dataLabel.position === 'Auto') ? location.y :\n                this.calculateAlignment(alignmentValue, location.y, dataLabel.alignment, this.isRectSeries(series) ? point.yValue < 0 : false);\n            // calculating position\n            location.y = (!this.isRectSeries(series) || series.type === 'BoxAndWhisker') ?\n                this.calculatePathPosition(location.y, dataLabel.position, series, point, textSize, labelIndex) :\n                this.calculateRectPosition(location.y, labelRegion, point.yValue < 0 !== this.yAxisInversed, dataLabel.position, series, textSize, labelIndex, point);\n            if (this.isRectSeries(series) && this.chart.chartAreaType === 'PolarRadar') {\n                location = this.calculatePolarRectPosition(location, dataLabel.position, series, point, textSize, labelIndex);\n            }\n        }\n        else {\n            this.locationY = location.y;\n            var alignmentValue = textSize.width + this.borderWidth + this.margin.left + this.margin.right - padding;\n            location.x = dataLabel.position === 'Auto' ? location.x :\n                this.calculateAlignment(alignmentValue, location.x, dataLabel.alignment, point.yValue < 0);\n            location.x = this.calculateRectPosition(location.x, labelRegion, point.yValue < 0 !== this.yAxisInversed, dataLabel.position, series, textSize, labelIndex, point);\n        }\n        rect = calculateRect(location, textSize, this.margin);\n        // Checking the condition whether data Label has been exist the clip rect\n        if (!((rect.y > clipRect.height) || (rect.x > clipRect.width) ||\n            (rect.x + rect.width < 0) || (rect.y + rect.height < 0))) {\n            rect.x = rect.x < 0 ? padding : rect.x;\n            rect.y = rect.y < 0 ? padding : rect.y;\n            rect.x -= (rect.x + rect.width) > clipRect.width ? (rect.x + rect.width) - clipRect.width + padding : 0;\n            rect.y -= (rect.y + rect.height) > clipRect.height ? (rect.y + rect.height) - clipRect.height + padding : 0;\n            this.fontBackground = this.fontBackground === 'transparent' ? this.chartBackground : this.fontBackground;\n        }\n        return rect;\n    };\n    // Calculation label location for polar column draw types\n    DataLabel.prototype.calculatePolarRectPosition = function (location, position, series, point, size, labelIndex) {\n        var padding = 5;\n        var columnRadius;\n        var angle = (point.regionData.startAngle - 0.5 * Math.PI) + (point.regionData.endAngle - point.regionData.startAngle) / 2;\n        if (labelIndex === 0) {\n            columnRadius = point.regionData.radius < point.regionData.innerRadius ? point.regionData.innerRadius\n                : point.regionData.radius;\n        }\n        else {\n            columnRadius = point.regionData.radius > point.regionData.innerRadius ? point.regionData.innerRadius\n                : point.regionData.radius;\n        }\n        this.fontBackground = this.fontBackground === 'transparent' ? this.chartBackground : this.fontBackground;\n        if (series.drawType.indexOf('Stacking') > -1) {\n            position = position === 'Outer' ? 'Top' : position;\n        }\n        else if (series.drawType.indexOf('Range') > -1) {\n            position = (position === 'Outer' || position === 'Top') ? position : 'Auto';\n        }\n        if (position === 'Outer') {\n            columnRadius = labelIndex === 0 ? columnRadius + 2 * padding : columnRadius - 2 * padding;\n        }\n        else if (position === 'Middle') {\n            columnRadius = columnRadius / 2 + padding;\n        }\n        else if (position === 'Top') {\n            columnRadius = labelIndex === 0 ? columnRadius - 2 * padding : columnRadius + 2 * padding;\n        }\n        else if (position === 'Bottom') {\n            columnRadius = padding;\n        }\n        else {\n            if (labelIndex === 0) {\n                columnRadius = columnRadius >= series.chart.radius ? columnRadius - padding :\n                    series.drawType === 'StackingColumn' ? columnRadius - 2 * padding : columnRadius + 2 * padding;\n            }\n            else {\n                columnRadius = columnRadius >= series.chart.radius ? columnRadius + padding : columnRadius - 2 * padding;\n            }\n        }\n        location.x = series.clipRect.width / 2 + series.clipRect.x + columnRadius * Math.cos(angle);\n        location.y = series.clipRect.height / 2 + series.clipRect.y + columnRadius * Math.sin(angle);\n        return location;\n    };\n    /**\n     * Get the label location\n     */\n    DataLabel.prototype.getLabelLocation = function (point, series, textSize, labelIndex) {\n        var location = new ChartLocation(0, 0);\n        var labelRegion = (series.type === 'Candle' && labelIndex > 1) ? point.regions[1] : point.regions[0];\n        if (series.type === 'HiloOpenClose') {\n            labelRegion = (labelIndex === 2) ? point.regions[1] : point.regions[2];\n        }\n        var xAxis = series.xAxis;\n        var yAxis = series.yAxis;\n        var isInverted = series.chart.requireInvertedAxis;\n        if (series.type === 'BoxAndWhisker') {\n            this.markerHeight = 0;\n            switch (labelIndex) {\n                case 0:\n                    location = getPoint(point.xValue, point.median, xAxis, yAxis, isInverted);\n                    break;\n                case 1:\n                    location = getPoint(point.xValue, point.maximum, xAxis, yAxis, isInverted);\n                    break;\n                case 2:\n                    location = getPoint(point.xValue, point.minimum, xAxis, yAxis, isInverted);\n                    break;\n                case 3:\n                    location = getPoint(point.xValue, point.upperQuartile, xAxis, yAxis, isInverted);\n                    break;\n                case 4:\n                    location = getPoint(point.xValue, point.lowerQuartile, xAxis, yAxis, isInverted);\n                    break;\n                default: {\n                    location = getPoint(point.xValue, point.outliers[labelIndex - 5], xAxis, yAxis, isInverted);\n                    this.markerHeight = series.marker.height / 2;\n                    break;\n                }\n            }\n        }\n        else if (labelIndex === 0 || labelIndex === 1) {\n            location = new ChartLocation(point.symbolLocations[0].x, point.symbolLocations[0].y);\n        }\n        else if ((labelIndex === 2 || labelIndex === 3) && series.type === 'Candle') {\n            location = new ChartLocation(point.symbolLocations[1].x, point.symbolLocations[1].y);\n        }\n        else if (isInverted) {\n            location = { x: labelRegion.x + (labelRegion.width) / 2, y: labelRegion.y };\n        }\n        else {\n            location = { x: labelRegion.x + labelRegion.width, y: labelRegion.y + (labelRegion.height) / 2 };\n        }\n        //Aligning the label at the beginning of the tick, when tick size is less than text size\n        if (labelIndex > 1 && series.type === 'HiloOpenClose') {\n            if (series.chart.requireInvertedAxis) {\n                var height = labelRegion.height;\n                location.y = labelRegion.y + height / 2 + 2 * (labelIndex === 2 ? 1 : -1);\n            }\n            else {\n                var width = labelRegion.width;\n                location.x = labelRegion.x + width / 2 + 2 * (labelIndex === 2 ? 1 : -1);\n            }\n        }\n        return location;\n    };\n    DataLabel.prototype.calculateRectPosition = function (labelLocation, rect, isMinus, position, series, textSize, labelIndex, point) {\n        if (series.chart.chartAreaType === 'PolarRadar') {\n            return null;\n        }\n        var padding = 5;\n        var margin = this.margin;\n        var textLength = !this.inverted ? textSize.height : textSize.width;\n        var extraSpace = this.borderWidth + textLength / 2 + padding;\n        if (series.type.indexOf('Stacking') > -1) {\n            position = position === 'Outer' ? 'Top' : position;\n        }\n        else if (series.type.indexOf('Range') > -1) {\n            position = (position === 'Outer' || position === 'Top') ? position : 'Auto';\n        }\n        else if (series.type === 'Waterfall') {\n            position = position === 'Auto' ? 'Middle' : position;\n        }\n        switch (position) {\n            case 'Bottom':\n                labelLocation = !this.inverted ?\n                    isMinus ? (labelLocation - rect.height + extraSpace + margin.top) :\n                        (labelLocation + rect.height - extraSpace - margin.bottom) :\n                    isMinus ? (labelLocation + rect.width - extraSpace - margin.left) :\n                        (labelLocation - rect.width + extraSpace + margin.right);\n                break;\n            case 'Middle':\n                labelLocation = labelLocation = !this.inverted ?\n                    (isMinus ? labelLocation - (rect.height / 2) : labelLocation + (rect.height / 2)) :\n                    (isMinus ? labelLocation + (rect.width / 2) : labelLocation - (rect.width / 2));\n                break;\n            case 'Auto':\n                labelLocation = this.calculateRectActualPosition(labelLocation, rect, isMinus, series, textSize, labelIndex, point);\n                break;\n            default:\n                extraSpace += this.errorHeight;\n                labelLocation = this.calculateTopAndOuterPosition(labelLocation, rect, position, series, labelIndex, extraSpace, isMinus);\n                break;\n        }\n        var check = !this.inverted ? (labelLocation < rect.y || labelLocation > rect.y + rect.height) :\n            (labelLocation < rect.x || labelLocation > rect.x + rect.width);\n        this.fontBackground = check ?\n            (this.fontBackground === 'transparent' ? this.chartBackground : this.fontBackground)\n            : this.fontBackground === 'transparent' ? (point.color || series.interior) : this.fontBackground;\n        return labelLocation;\n    };\n    DataLabel.prototype.calculatePathPosition = function (labelLocation, position, series, point, size, labelIndex) {\n        var padding = 5;\n        if ((series.type.indexOf('Area') > -1 && series.type !== 'RangeArea')\n            && this.yAxisInversed && series.marker.dataLabel.position !== 'Auto') {\n            position = position === 'Top' ? 'Bottom' : position === 'Bottom' ? 'Top' : position;\n        }\n        this.fontBackground = this.fontBackground === 'transparent' ? this.chartBackground : this.fontBackground;\n        switch (position) {\n            case 'Top':\n            case 'Outer':\n                labelLocation = labelLocation - this.markerHeight - this.borderWidth - size.height / 2 - this.margin.bottom - padding -\n                    this.errorHeight;\n                break;\n            case 'Bottom':\n                labelLocation = labelLocation + this.markerHeight + this.borderWidth + size.height / 2 + this.margin.top + padding +\n                    this.errorHeight;\n                break;\n            case 'Auto':\n                labelLocation = this.calculatePathActualPosition(labelLocation, this.markerHeight, series, point, size, labelIndex);\n                break;\n        }\n        return labelLocation;\n    };\n    DataLabel.prototype.isDataLabelShape = function (style) {\n        this.isShape = (style.color !== 'transparent' || style.border.width > 0);\n        this.borderWidth = style.border.width;\n        if (!this.isShape) {\n            this.margin = { left: 0, right: 0, bottom: 0, top: 0 };\n        }\n    };\n    DataLabel.prototype.calculateRectActualPosition = function (labelLocation, rect, isMinus, series, size, labelIndex, point) {\n        var location;\n        var labelRect;\n        var isOverLap = true;\n        var position = 0;\n        var collection = this.chart.dataLabelCollections;\n        var finalPosition = series.type.indexOf('Range') !== -1 || series.type === 'Hilo' ? 2 : 4;\n        while (isOverLap && position < finalPosition) {\n            location = this.calculateRectPosition(labelLocation, rect, isMinus, this.getPosition(position), series, size, labelIndex, point);\n            if (!this.inverted) {\n                labelRect = calculateRect(new ChartLocation(this.locationX, location), size, this.margin);\n                isOverLap = labelRect.y < 0 || isCollide(labelRect, collection, series.clipRect) || labelRect.y > series.clipRect.height;\n            }\n            else {\n                labelRect = calculateRect(new ChartLocation(location, this.locationY), size, this.margin);\n                isOverLap = labelRect.x < 0 || isCollide(labelRect, collection, series.clipRect) ||\n                    labelRect.x + labelRect.width > series.clipRect.width;\n            }\n            position++;\n        }\n        return location;\n    };\n    // alignment calculation assigned here\n    DataLabel.prototype.calculateAlignment = function (value, labelLocation, alignment, isMinus) {\n        switch (alignment) {\n            case 'Far':\n                labelLocation = !this.inverted ? (isMinus ? labelLocation + value : labelLocation - value) :\n                    (isMinus ? labelLocation - value : labelLocation + value);\n                break;\n            case 'Near':\n                labelLocation = !this.inverted ? (isMinus ? labelLocation - value : labelLocation + value) :\n                    (isMinus ? labelLocation + value : labelLocation - value);\n                break;\n            case 'Center':\n                labelLocation = labelLocation;\n                break;\n        }\n        return labelLocation;\n    };\n    //calculation for top and outer position of datalabel for rect series\n    DataLabel.prototype.calculateTopAndOuterPosition = function (location, rect, position, series, index, extraSpace, isMinus) {\n        var margin = this.margin;\n        var top;\n        switch (series.type) {\n            case 'RangeColumn':\n            case 'RangeArea':\n            case 'Hilo':\n                top = (index === 0 && !this.yAxisInversed) || (index === 1 && this.yAxisInversed);\n                location = this.updateLabelLocation(position, location, extraSpace, margin, rect, top);\n                break;\n            case 'Candle':\n                top = (index === 0 || index === 2) && !this.yAxisInversed\n                    || (index === 1 || index === 3) && this.yAxisInversed;\n                location = this.updateLabelLocation(position, location, extraSpace, margin, rect, top, index > 1);\n                break;\n            case 'HiloOpenClose':\n                if (index <= 1) {\n                    top = (index === 0 && !this.yAxisInversed) || (index === 1 && this.yAxisInversed);\n                    location = this.updateLabelLocation(position, location, extraSpace, margin, rect, top);\n                }\n                else {\n                    if (this.yAxisInversed) {\n                        location = !this.inverted ? location + extraSpace + margin.top : location - extraSpace - margin.right;\n                    }\n                    else {\n                        location = !this.inverted ? location - extraSpace - margin.bottom : location + extraSpace + margin.left;\n                    }\n                }\n                break;\n            default:\n                if ((isMinus && position === 'Top') || (!isMinus && position === 'Outer')) {\n                    location = !this.inverted ? location - extraSpace - margin.bottom : location + extraSpace + margin.left;\n                }\n                else {\n                    location = !this.inverted ? location + extraSpace + margin.top : location - extraSpace - margin.right;\n                }\n                break;\n        }\n        return location;\n    };\n    /**\n     * Updates the label location\n     */\n    DataLabel.prototype.updateLabelLocation = function (position, location, extraSpace, margin, rect, top, inside) {\n        if (inside === void 0) { inside = false; }\n        if (!this.inverted) {\n            if (top) {\n                location = (position === 'Outer' && !inside) ? location - extraSpace - margin.bottom : location + extraSpace + margin.top;\n            }\n            else {\n                location = (position === 'Outer' && !inside) ? location + rect.height + extraSpace + margin.top :\n                    location + rect.height - extraSpace - margin.bottom;\n            }\n        }\n        else {\n            if (top) {\n                location = (position === 'Outer' && !inside) ? location + extraSpace + margin.left : location - extraSpace - margin.right;\n            }\n            else {\n                location = (position === 'Outer' && !inside) ? location - rect.width - extraSpace - margin.right :\n                    location - rect.width + extraSpace + margin.left;\n            }\n        }\n        return location;\n    };\n    DataLabel.prototype.calculatePathActualPosition = function (y, markerSize, series, point, size, labelIndex) {\n        var points = series.points;\n        var index = point.index;\n        var yValue = points[index].yValue;\n        var position;\n        var nextPoint = points.length - 1 > index ? points[index + 1] : null;\n        var previousPoint = index > 0 ? points[index - 1] : null;\n        var yLocation;\n        var isOverLap = true;\n        var labelRect;\n        var isBottom;\n        var positionIndex;\n        var collection = this.chart.dataLabelCollections;\n        if (series.type === 'Bubble') {\n            position = 'Top';\n        }\n        else if (series.type.indexOf('Step') > -1) {\n            position = 'Top';\n            if (index) {\n                position = (!previousPoint || !previousPoint.visible || (yValue > previousPoint.yValue !== this.yAxisInversed)\n                    || yValue === previousPoint.yValue) ? 'Top' : 'Bottom';\n            }\n        }\n        else if (series.type === 'BoxAndWhisker') {\n            if (labelIndex === 1 || labelIndex === 3 || labelIndex > 4) {\n                position = series.yAxis.isInversed ? 'Bottom' : 'Top';\n            }\n            else if (labelIndex === 2 || labelIndex === 4) {\n                position = series.yAxis.isInversed ? 'Top' : 'Bottom';\n            }\n            else {\n                isOverLap = false;\n                position = 'Middle';\n                yLocation = this.calculatePathPosition(y, position, series, point, size, labelIndex);\n            }\n        }\n        else {\n            if (index === 0) {\n                position = (!nextPoint || !nextPoint.visible || yValue > nextPoint.yValue ||\n                    (yValue < nextPoint.yValue && this.yAxisInversed)) ? 'Top' : 'Bottom';\n            }\n            else if (index === points.length - 1) {\n                position = (!previousPoint || !previousPoint.visible || yValue > previousPoint.yValue ||\n                    (yValue < previousPoint.yValue && this.yAxisInversed)) ? 'Top' : 'Bottom';\n            }\n            else {\n                if (!nextPoint.visible && !(previousPoint && previousPoint.visible)) {\n                    position = 'Top';\n                }\n                else if (!nextPoint.visible || !previousPoint) {\n                    position = (nextPoint.yValue > yValue || (previousPoint && previousPoint.yValue > yValue)) ?\n                        'Bottom' : 'Top';\n                }\n                else {\n                    var slope = (nextPoint.yValue - previousPoint.yValue) / 2;\n                    var intersectY = (slope * index) + (nextPoint.yValue - (slope * (index + 1)));\n                    position = !this.yAxisInversed ? intersectY < yValue ? 'Top' : 'Bottom' :\n                        intersectY < yValue ? 'Bottom' : 'Top';\n                }\n            }\n        }\n        isBottom = position === 'Bottom';\n        positionIndex = ['Outer', 'Top', 'Bottom', 'Middle', 'Auto'].indexOf(position);\n        while (isOverLap && positionIndex < 4) {\n            yLocation = this.calculatePathPosition(y, this.getPosition(positionIndex), series, point, size, labelIndex);\n            labelRect = calculateRect(new ChartLocation(this.locationX, yLocation), size, this.margin);\n            isOverLap = labelRect.y < 0 || isCollide(labelRect, collection, series.clipRect)\n                || (labelRect.y + labelRect.height) > series.clipRect.height;\n            positionIndex = isBottom ? positionIndex - 1 : positionIndex + 1;\n            isBottom = false;\n        }\n        return yLocation;\n    };\n    /**\n     * Animates the data label.\n     * @param  {Series} series - Data label of the series gets animated.\n     * @return {void}\n     */\n    DataLabel.prototype.doDataLabelAnimation = function (series, element) {\n        var shapeElements = series.shapeElement.childNodes;\n        var textNode = series.textElement.childNodes;\n        var delay = series.animation.delay + series.animation.duration;\n        var location;\n        var length = element ? 1 : textNode.length;\n        for (var i = 0; i < length; i++) {\n            if (element) {\n                element.style.visibility = 'hidden';\n                templateAnimate(element, delay, 200, 'ZoomIn');\n            }\n            else {\n                location = new ChartLocation((+textNode[i].getAttribute('x')) + ((+textNode[i].getAttribute('width')) / 2), (+textNode[i].getAttribute('y')) + ((+textNode[i].getAttribute('height')) / 2));\n                markerAnimate(textNode[i], delay, 200, series, null, location, true);\n                if (shapeElements[i]) {\n                    location = new ChartLocation((+shapeElements[i].getAttribute('x')) + ((+shapeElements[i].getAttribute('width')) / 2), (+shapeElements[i].getAttribute('y')) + ((+shapeElements[i].getAttribute('height')) / 2));\n                    markerAnimate(shapeElements[i], delay, 200, series, null, location, true);\n                }\n            }\n        }\n    };\n    DataLabel.prototype.getPosition = function (index) {\n        return (['Outer', 'Top', 'Bottom', 'Middle', 'Auto'][index]);\n    };\n    /**\n     * Get module name.\n     */\n    DataLabel.prototype.getModuleName = function () {\n        // Returns the module name\n        return 'DataLabel';\n    };\n    /**\n     * To destroy the dataLabel for series.\n     * @return {void}\n     * @private\n     */\n    DataLabel.prototype.destroy = function (chart) {\n        // Destroy method performed here\n    };\n    return DataLabel;\n}());\nexport { DataLabel };\n","import { Mean, RectOption } from '../../common/utils/helper';\nimport { getPoint, PathOption, sum, templateAnimate } from '../../common/utils/helper';\n/**\n * `ErrorBar` module is used to render the error bar for series.\n */\nvar ErrorBar = /** @class */ (function () {\n    /**\n     * Constructor for the error bar module.\n     * @private\n     */\n    function ErrorBar(chart) {\n        this.chart = chart;\n    }\n    /**\n     * Render the error bar for series.\n     * @return {void}\n     */\n    ErrorBar.prototype.render = function (series) {\n        if (this.chart.chartAreaType === 'PolarRadar') {\n            return null;\n        }\n        this.createElement(series);\n        this.renderErrorBar(series);\n    };\n    ErrorBar.prototype.renderErrorBar = function (series) {\n        var seriesIndex = series.index;\n        var point;\n        var symbolId;\n        var capId;\n        var errorbar = series.errorBar;\n        var errorBarCap = series.errorBar.errorBarCap;\n        var border = series.border;\n        var start;\n        var mid;\n        var end;\n        var isInverted;\n        var isVert;\n        var errorDirection = ['', ''];\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point_1 = _a[_i];\n            if (point_1.visible && point_1.symbolLocations[0]) {\n                var errorX = 0;\n                var errorY = 0;\n                switch (errorbar.mode) {\n                    case 'Vertical':\n                        errorY = errorbar.verticalError;\n                        break;\n                    case 'Horizontal':\n                        errorX = errorbar.horizontalError;\n                        break;\n                    case 'Both':\n                        errorX = errorbar.horizontalError;\n                        errorY = errorbar.verticalError;\n                        break;\n                }\n                errorDirection = this['calculate' + errorbar.type + 'Value'](point_1, series, this.chart.requireInvertedAxis, errorX, errorY);\n                symbolId = this.chart.element.id + '_Series_' + '_ErrorBarGroup_' + seriesIndex + '_Point_' + point_1.index;\n                capId = this.chart.element.id + '_Series_' + '_ErrorBarCap_' + seriesIndex + '_Point_' + point_1.index;\n                var shapeOption = new PathOption(symbolId, '', errorbar.width, errorbar.color || this.chart.themeStyle.errorBar, null, '', errorDirection[0]);\n                var path = this.chart.renderer.drawPath(shapeOption);\n                series.errorBarElement.appendChild(path);\n                var capOption = new PathOption(capId, '', errorBarCap.width, errorBarCap.color || this.chart.themeStyle.errorBar, null, '', errorDirection[1]);\n                var capPath = this.chart.renderer.drawPath(capOption);\n                series.errorBarElement.appendChild(capPath);\n            }\n        }\n    };\n    // path calculation for error bar\n    ErrorBar.prototype.findLocation = function (point, series, isInverted, x1, y1) {\n        var errorbar = series.errorBar;\n        var direction = errorbar.direction;\n        var location = [];\n        var stackedValue = series.stackedValues;\n        var yValue = series.type.indexOf('Stacking') > -1 ? series.stackedValues.endValues[point.index] :\n            (series.seriesType === 'HighLow' || series.seriesType === 'HighLowOpenClose') ? (series.points[point.index].high) :\n                point.yValue;\n        var startPoint = getPoint(point.xValue + ((direction === 'Plus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Horizontal' || errorbar.mode === 'Both')) ? x1 = errorbar.horizontalPositiveError : x1 : 0), yValue + ((direction === 'Plus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Vertical' || errorbar.mode === 'Both')) ? y1 = errorbar.verticalPositiveError : y1 : 0), series.xAxis, series.yAxis, isInverted);\n        location.push(startPoint);\n        if (series.isRectSeries) {\n            var midPoint = point.symbolLocations[0];\n            location.push(midPoint);\n        }\n        else {\n            var midPoint = getPoint(point.xValue, point.yValue, series.xAxis, series.yAxis, isInverted);\n            location.push(midPoint);\n        }\n        var endPoint = getPoint(point.xValue - ((direction === 'Minus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Horizontal' || errorbar.mode === 'Both')) ? x1 = errorbar.horizontalNegativeError : x1 : 0), yValue - ((direction === 'Minus' || direction === 'Both') ? (errorbar.type === 'Custom' &&\n            (errorbar.mode === 'Vertical' || errorbar.mode === 'Both')) ? y1 = errorbar.verticalNegativeError : y1 : 0), series.xAxis, series.yAxis, isInverted);\n        location.push(endPoint);\n        // calculate error height for datalabel position alignment\n        point.error = (errorbar.mode === 'Vertical') ? errorbar.verticalError : errorbar.horizontalError;\n        this.negativeHeight = (errorbar.mode === 'Vertical' || errorbar.mode === 'Both') ? (isInverted ? (location[1].x - location[2].x) :\n            (location[2].y - location[1].y)) : 0;\n        this.positiveHeight = (errorbar.mode === 'Vertical' || errorbar.mode === 'Both') ? (isInverted ? (location[0].x - location[1].x) :\n            (location[1].y - location[0].y)) : 0;\n        return this.getErrorDirection(location[0], location[1], location[2], series, isInverted);\n    };\n    // calculations for eror bar types\n    ErrorBar.prototype.calculateFixedValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var errorbar = series.errorBar;\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculatePercentageValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        errorX = (errorX / 100) * point.xValue;\n        errorY = (errorY / 100) * point.yValue;\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculateStandardDeviationValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var getMean = this.meanCalculation(series, series.errorBar.mode);\n        errorX = errorX * (getMean.horizontalSquareRoot + getMean.horizontalMean);\n        errorY = errorY * (getMean.verticalSquareRoot + getMean.verticalMean);\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculateStandardErrorValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var length = series.points.length;\n        var getMean = this.meanCalculation(series, series.errorBar.mode);\n        errorX = ((errorX * getMean.horizontalSquareRoot) / Math.sqrt(length));\n        errorY = ((errorY * getMean.verticalSquareRoot) / Math.sqrt(length));\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.calculateCustomValue = function (point, series, isInverted, errorX, errorY, xAxis, yAxis) {\n        var errorbar = series.errorBar;\n        return this.findLocation(point, series, isInverted, errorX, errorY);\n    };\n    ErrorBar.prototype.getHorizontalDirection = function (start, mid, end, direction, errorMode, capLength) {\n        var path = '';\n        var capDirection = '';\n        path += ' M ' + start.x + ' ' + mid.y + ' L ' + end.x + ' ' + mid.y;\n        capDirection += (direction === 'Plus' || direction === 'Both') ? ' M ' + (start.x) + ' ' + (mid.y - capLength) + ' L '\n            + (start.x) + ' ' + (mid.y + capLength) : '';\n        capDirection += (direction === 'Minus' || direction === 'Both') ? ' M ' + (end.x) + ' ' + (mid.y - capLength) + ' L '\n            + (end.x) + ' ' + (mid.y + capLength) : ' ';\n        return [path, capDirection];\n    };\n    ErrorBar.prototype.getVerticalDirection = function (start, mid, end, direction, errorMode, capLength) {\n        var path = '';\n        var capDirection = '';\n        path += ' M ' + mid.x + ' ' + start.y + ' L ' + mid.x + ' ' + end.y;\n        capDirection += (direction === 'Plus' || direction === 'Both') ? ' M ' + (mid.x - capLength) + ' ' + start.y + ' L '\n            + (mid.x + capLength) + ' ' + start.y : '';\n        capDirection += (direction === 'Minus' || direction === 'Both') ? ' M ' + (mid.x - capLength) + ' ' + end.y + ' L '\n            + (mid.x + capLength) + ' ' + end.y : '';\n        return [path, capDirection];\n    };\n    ErrorBar.prototype.getBothDirection = function (start, mid, end, direction, errorMode, capLength) {\n        var capDirection = '';\n        var path = '';\n        var pathH = this.getHorizontalDirection(start, mid, end, direction, errorMode, capLength);\n        var pathV = this.getVerticalDirection(start, mid, end, direction, errorMode, capLength);\n        path = pathH[0].concat(pathV[0]);\n        capDirection = pathH[1].concat(pathV[1]);\n        return [path, capDirection];\n    };\n    ErrorBar.prototype.getErrorDirection = function (start, mid, end, series, isInverted) {\n        var direction = series.errorBar.direction;\n        var mode = series.errorBar.mode;\n        var capLength = series.errorBar.errorBarCap.length;\n        var path = '';\n        var paths;\n        var capDirection = '';\n        var errorMode = mode;\n        switch (mode) {\n            case 'Both':\n                errorMode = mode;\n                break;\n            case 'Horizontal':\n                errorMode = (isInverted) ? 'Vertical' : mode;\n                break;\n            case 'Vertical':\n                errorMode = (isInverted) ? 'Horizontal' : mode;\n                break;\n        }\n        switch (errorMode) {\n            case 'Horizontal':\n                paths = this.getHorizontalDirection(start, mid, end, direction, errorMode, capLength);\n                break;\n            case 'Vertical':\n                paths = this.getVerticalDirection(start, mid, end, direction, errorMode, capLength);\n                break;\n            case 'Both':\n                paths = this.getBothDirection(start, mid, end, direction, errorMode, capLength);\n                break;\n        }\n        return [paths[0], paths[1]];\n    };\n    // mean calculation for standard deviation and standard error\n    ErrorBar.prototype.meanCalculation = function (series, mode) {\n        var sumOfX = 0;\n        var sumOfY = 0;\n        var verticalMean = 0;\n        var horizontalMean = 0;\n        var horSquareDev;\n        var verStandardMean;\n        var horStandardMean;\n        var verSquareTotal;\n        var horSquareTotal;\n        var verSquareRoot;\n        var horSquareRoot;\n        var length = series.points.length;\n        switch (mode) {\n            case 'Vertical':\n                sumOfY = sum(series.yData);\n                verticalMean = sumOfY / length;\n                break;\n            case 'Horizontal':\n                sumOfX = sum(series.xData);\n                horizontalMean = sumOfX / length;\n                break;\n            case 'Both':\n                sumOfY = sum(series.yData);\n                verticalMean = sumOfY / length;\n                sumOfX = sum(series.xData);\n                horizontalMean = sumOfX / length;\n        }\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (mode === 'Vertical') {\n                sumOfY = sumOfY + Math.pow((point.yValue - verticalMean), 2);\n            }\n            else if (mode === 'Horizontal') {\n                sumOfX = sumOfX + Math.pow((point.xValue - horizontalMean), 2);\n            }\n            else {\n                sumOfY = sumOfY + Math.pow((point.yValue - verticalMean), 2);\n                sumOfX = sumOfX + Math.pow((point.xValue - horizontalMean), 2);\n            }\n        }\n        verStandardMean = sumOfY / (length - 1);\n        verSquareRoot = Math.sqrt(sumOfY / (length - 1));\n        horStandardMean = sumOfX / (length - 1);\n        horSquareRoot = Math.sqrt(sumOfX / (length - 1));\n        return new Mean(verStandardMean, verSquareRoot, horStandardMean, horSquareRoot, verticalMean, horizontalMean);\n    };\n    ErrorBar.prototype.createElement = function (series) {\n        var explodeValue = 5;\n        var render = series.chart.renderer;\n        var transform;\n        transform = series.chart.chartAreaType === 'Cartesian' ? 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')' : '';\n        var markerHeight = (series.marker.height + explodeValue) / 2;\n        var markerWidth = (series.marker.width + explodeValue) / 2;\n        if (series.chart.chartAreaType === 'Cartesian') {\n            var errorBarClipRect = render.drawClipPath(new RectOption(this.chart.element.id + '_ChartErrorBarClipRect_' + series.index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                x: -markerWidth, y: -markerHeight,\n                width: series.clipRect.width + markerWidth * 2, height: series.clipRect.height + markerHeight * 2\n            }));\n            series.errorBarElement = render.createGroup({\n                'id': this.chart.element.id + 'ErrorBarGroup' + series.index,\n                'transform': transform,\n                'clip-path': 'url(#' + this.chart.element.id + '_ChartErrorBarClipRect_' + series.index + ')'\n            });\n            series.errorBarElement.appendChild(errorBarClipRect);\n        }\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    ErrorBar.prototype.doErrorBarAnimation = function (series) {\n        var errorBarElements = series.errorBarElement.childNodes;\n        if (!errorBarElements) {\n            return null;\n        }\n        var delay = series.animation.delay + series.animation.duration;\n        var j = 1;\n        while (j < errorBarElements.length) {\n            for (var i = 0; i < series.points.length; i++) {\n                if (!series.points[i].symbolLocations[0]) {\n                    continue;\n                }\n                errorBarElements[j].style.visibility = 'hidden';\n                templateAnimate(errorBarElements[j], delay, 350, series.chart.requireInvertedAxis ? 'SlideLeftIn' : 'SlideBottomIn', false);\n            }\n            j++;\n        }\n    };\n    /**\n     * Get module name.\n     */\n    ErrorBar.prototype.getModuleName = function () {\n        // Returns the module name\n        return 'ErrorBar';\n    };\n    /**\n     * To destroy the errorBar for series.\n     * @return {void}\n     * @private\n     */\n    ErrorBar.prototype.destroy = function (chart) {\n        // Destroy method performed here\n    };\n    return ErrorBar;\n}());\nexport { ErrorBar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Chart legend\n */\nimport { remove, Browser } from '@syncfusion/ej2-base';\nimport { extend } from '@syncfusion/ej2-base';\nimport { LegendOptions, BaseLegend } from '../../common/legend/legend';\nimport { measureText, textTrim } from '../../common/utils/helper';\nimport { legendRender } from '../../common/model/constants';\n/**\n * `Legend` module is used to render legend for the chart.\n */\nvar Legend = /** @class */ (function (_super) {\n    __extends(Legend, _super);\n    function Legend(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.library = _this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Binding events for legend module.\n     */\n    Legend.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on(Browser.touchMoveEvent, this.mouseMove, this);\n        this.chart.on('click', this.click, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseEnd, this);\n    };\n    /**\n     * UnBinding events for legend module.\n     */\n    Legend.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.off(Browser.touchMoveEvent, this.mouseMove);\n        this.chart.off('click', this.click);\n        this.chart.off(Browser.touchEndEvent, this.mouseEnd);\n    };\n    /**\n     * To handle mosue move for legend module\n     */\n    Legend.prototype.mouseMove = function (e) {\n        if (this.chart.legendSettings.visible && !this.chart.isTouch) {\n            this.move(e);\n        }\n    };\n    /**\n     * To handle mosue end for legend module\n     */\n    Legend.prototype.mouseEnd = function (e) {\n        if (this.chart.legendSettings.visible && this.chart.isTouch) {\n            this.move(e);\n        }\n    };\n    /**\n     * Get the legend options.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.getLegendOptions = function (visibleSeriesCollection, chart) {\n        this.legendCollections = [];\n        var seriesType;\n        for (var _i = 0, visibleSeriesCollection_1 = visibleSeriesCollection; _i < visibleSeriesCollection_1.length; _i++) {\n            var series = visibleSeriesCollection_1[_i];\n            if (series.category !== 'Indicator') {\n                seriesType = (chart.chartAreaType === 'PolarRadar') ? series.drawType :\n                    series.type;\n                this.legendCollections.push(new LegendOptions(series.name, series.interior, series.legendShape, series.visible, seriesType, series.marker.shape, series.marker.visible));\n            }\n        }\n    };\n    /** @private */\n    Legend.prototype.getLegendBounds = function (availableSize, legendBounds, legend) {\n        var padding = legend.padding;\n        var extraHeight = 0;\n        var extraWidth = 0;\n        if (!this.isVertical) {\n            extraHeight = !legend.height ? ((availableSize.height / 100) * 5) : 0;\n        }\n        else {\n            extraWidth = !legend.width ? ((availableSize.width / 100) * 5) : 0;\n        }\n        legendBounds.height += extraHeight;\n        legendBounds.width += extraWidth;\n        var shapeHeight = legend.shapeHeight;\n        var shapeWidth = legend.shapeWidth;\n        var shapePadding = legend.shapePadding;\n        var maximumWidth = 0;\n        var rowWidth = 0;\n        var legendWidth = 0;\n        var columnHeight = 0;\n        var rowCount = 0;\n        var legendEventArgs;\n        this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n        var render = false;\n        for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n            var legendOption = _a[_i];\n            legendEventArgs = {\n                fill: legendOption.fill, text: legendOption.text, shape: legendOption.shape,\n                markerShape: legendOption.markerShape, name: legendRender, cancel: false\n            };\n            this.chart.trigger(legendRender, legendEventArgs);\n            legendOption.render = !legendEventArgs.cancel;\n            legendOption.text = legendEventArgs.text;\n            legendOption.fill = legendEventArgs.fill;\n            legendOption.shape = legendEventArgs.shape;\n            legendOption.markerShape = legendEventArgs.markerShape;\n            legendOption.textSize = measureText(legendOption.text, legend.textStyle);\n            if (legendOption.render && legendOption.text !== '') {\n                render = true;\n                legendWidth = shapeWidth + shapePadding + legendOption.textSize.width + padding;\n                rowWidth = rowWidth + legendWidth;\n                if (legendBounds.width < (padding + rowWidth) || this.isVertical) {\n                    maximumWidth = Math.max(maximumWidth, (rowWidth + padding - (this.isVertical ? 0 : legendWidth)));\n                    if (rowCount === 0 && (legendWidth !== rowWidth)) {\n                        rowCount = 1;\n                    }\n                    rowWidth = this.isVertical ? 0 : legendWidth;\n                    rowCount++;\n                    columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding;\n                }\n            }\n        }\n        columnHeight = Math.max(columnHeight, (this.maxItemHeight + padding) + padding);\n        this.isPaging = legendBounds.height < columnHeight;\n        this.totalPages = rowCount;\n        if (render) {\n            this.setBounds(Math.max((rowWidth + padding), maximumWidth), columnHeight, legend, legendBounds);\n        }\n        else {\n            this.setBounds(0, 0, legend, legendBounds);\n        }\n    };\n    /** @private */\n    Legend.prototype.getRenderPoint = function (legendOption, start, textPadding, prevLegend, rect, count, firstLegend) {\n        var padding = this.legend.padding;\n        var previousBound = (prevLegend.location.x + textPadding + prevLegend.textSize.width);\n        if ((previousBound + (legendOption.textSize.width + textPadding)) > (rect.x + rect.width + this.legend.shapeWidth / 2) ||\n            this.isVertical) {\n            legendOption.location.x = start.x;\n            legendOption.location.y = (count === firstLegend) ? prevLegend.location.y :\n                prevLegend.location.y + this.maxItemHeight + padding;\n        }\n        else {\n            legendOption.location.x = (count === firstLegend) ? prevLegend.location.x : previousBound;\n            legendOption.location.y = prevLegend.location.y;\n        }\n        var availwidth = (this.legendBounds.x + this.legendBounds.width) - (legendOption.location.x +\n            textPadding - this.legend.shapeWidth / 2);\n        legendOption.text = textTrim(+availwidth.toFixed(4), legendOption.text, this.legend.textStyle);\n    };\n    /** @private */\n    Legend.prototype.LegendClick = function (seriesIndex) {\n        var chart = this.chart;\n        var series = chart.visibleSeries[seriesIndex];\n        var legend = this.legendCollections[seriesIndex];\n        var selectedDataIndexes = [];\n        if (chart.selectionModule) {\n            selectedDataIndexes = extend([], chart.selectionModule.selectedDataIndexes, null, true);\n        }\n        if (chart.legendSettings.toggleVisibility) {\n            if (!series.visible) {\n                series.visible = true;\n            }\n            else {\n                series.visible = false;\n            }\n            legend.visible = (series.visible);\n            if (chart.svgObject.childNodes.length > 0) {\n                while (chart.svgObject.lastChild) {\n                    chart.svgObject.removeChild(chart.svgObject.lastChild);\n                }\n                remove(chart.svgObject);\n            }\n            chart.animateSeries = false;\n            chart.removeSvg();\n            chart.refreshAxis();\n            series.refreshAxisLabel();\n            this.refreshSeries(chart.visibleSeries);\n            chart.refreshBound();\n            if (selectedDataIndexes.length > 0) {\n                chart.selectionModule.selectedDataIndexes = selectedDataIndexes;\n                chart.selectionModule.redrawSelection(chart, chart.selectionMode);\n            }\n        }\n        else if (chart.selectionModule) {\n            chart.selectionModule.legendSelection(chart, seriesIndex);\n        }\n    };\n    Legend.prototype.refreshSeries = function (seriesCollection) {\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n            var series = seriesCollection_1[_i];\n            series.position = undefined;\n        }\n    };\n    /**\n     * To show the tooltip for the trimmed text in legend.\n     * @return {void}\n     */\n    Legend.prototype.click = function (event) {\n        if (!this.chart.legendSettings.visible) {\n            return;\n        }\n        var targetId = event.target.id;\n        var legendItemsId = [this.legendID + '_text_', this.legendID + '_shape_marker_',\n            this.legendID + '_shape_'];\n        var seriesIndex;\n        for (var _i = 0, legendItemsId_1 = legendItemsId; _i < legendItemsId_1.length; _i++) {\n            var id = legendItemsId_1[_i];\n            if (targetId.indexOf(id) > -1) {\n                seriesIndex = parseInt(targetId.split(id)[1], 10);\n                this.LegendClick(seriesIndex);\n            }\n        }\n        if (targetId.indexOf(this.legendID + '_pageup') > -1) {\n            this.changePage(event, true);\n        }\n        else if (targetId.indexOf(this.legendID + '_pagedown') > -1) {\n            this.changePage(event, false);\n        }\n    };\n    /**\n     * Get module name\n     */\n    Legend.prototype.getModuleName = function () {\n        return 'Legend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.destroy = function (chart) {\n        this.removeEventListener();\n    };\n    return Legend;\n}(BaseLegend));\nexport { Legend };\n","import { createTemplate, measureElementRect, logBase } from '../utils/helper';\nimport { ChartLocation, stringToNumber, appendElement, withIn, Rect } from '../utils/helper';\nimport { getPoint } from '../utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\nimport { annotationRender } from '../model/constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Annotation Module handles the Annotation for chart and accumulation series.\n */\nvar AnnotationBase = /** @class */ (function () {\n    /**\n     * Constructor for chart and accumulation annotation\n     * @param control\n     */\n    function AnnotationBase(control) {\n        this.control = control;\n    }\n    /**\n     * Method to render the annotation for chart and accumulation series.\n     * @private\n     * @param annotation\n     * @param index\n     */\n    AnnotationBase.prototype.render = function (annotation, index) {\n        this.isChart = this.control.getModuleName() === 'chart';\n        this.annotation = annotation;\n        var childElement = createTemplate(createElement('div', {\n            id: this.control.element.id + '_Annotation_' + index,\n            styles: 'position: absolute;'\n        }), index, annotation.content, this.control);\n        return childElement;\n    };\n    /**\n     * Method to calculate the location for annotation - coordinate unit as pixel.\n     * @private\n     * @param location\n     */\n    AnnotationBase.prototype.setAnnotationPixelValue = function (location) {\n        var rect;\n        rect = this.annotation.region === 'Chart' ?\n            new Rect(0, 0, this.control.availableSize.width, this.control.availableSize.height) :\n            this.isChart ?\n                this.control.chartAxisLayoutPanel.seriesClipRect :\n                this.control.series[0].accumulationBound;\n        location.x = ((typeof this.annotation.x !== 'string') ?\n            ((typeof this.annotation.x === 'number') ? this.annotation.x : 0) :\n            stringToNumber(this.annotation.x, rect.width)) + rect.x;\n        location.y = ((typeof this.annotation.y === 'number') ? this.annotation.y :\n            stringToNumber(this.annotation.y, rect.height)) + rect.y;\n        return true;\n    };\n    /**\n     * Method to calculate the location for annotation - coordinate unit as point.\n     * @private\n     * @param location\n     */\n    AnnotationBase.prototype.setAnnotationPointValue = function (location) {\n        var symbolLocation = new ChartLocation(0, 0);\n        if (this.isChart) {\n            var xAxis = void 0;\n            var yAxis = void 0;\n            var chart = this.control;\n            var annotation = this.annotation;\n            var xValue = void 0;\n            var isLog = false;\n            var xAxisName = annotation.xAxisName;\n            var yAxisName = annotation.yAxisName;\n            var isInverted = chart.requireInvertedAxis;\n            for (var _i = 0, _a = chart.axisCollections; _i < _a.length; _i++) {\n                var axis = _a[_i];\n                if (xAxisName === axis.name || (xAxisName == null && axis.name === 'primaryXAxis')) {\n                    xAxis = axis;\n                    if (xAxis.valueType.indexOf('Category') > -1) {\n                        var xAnnotation = xAxis.valueType === 'DateTimeCategory' ? (annotation.x.getTime()).toString() :\n                            annotation.x;\n                        if (xAxis.labels.indexOf(xAnnotation) < 0) {\n                            return false;\n                        }\n                        else {\n                            xValue = xAxis.labels.indexOf(xAnnotation);\n                        }\n                    }\n                    else if (xAxis.valueType === 'DateTime') {\n                        var option = { skeleton: 'full', type: 'dateTime' };\n                        xValue = (typeof this.annotation.x === 'object') ?\n                            Date.parse(chart.intl.getDateParser(option)(chart.intl.getDateFormat(option)(new Date(DataUtil.parse.parseJson({ val: annotation.x }).val)))) : 0;\n                    }\n                    else {\n                        xValue = +annotation.x;\n                    }\n                }\n                else if (yAxisName === axis.name || (yAxisName == null && axis.name === 'primaryYAxis')) {\n                    yAxis = axis;\n                    isLog = yAxis.valueType === 'Logarithmic';\n                }\n            }\n            if (xAxis && yAxis && withIn(xAxis.valueType === 'Logarithmic' ? logBase(xValue, xAxis.logBase) : xValue, xAxis.visibleRange)) {\n                symbolLocation = getPoint(xValue, withIn((isLog ? logBase(+this.annotation.y, yAxis.logBase) : +this.annotation.y), yAxis.visibleRange) ? +annotation.y :\n                    isLog ? Math.pow(yAxis.logBase, yAxis.visibleRange.max) :\n                        +annotation.y > yAxis.visibleRange.max ? yAxis.visibleRange.max : yAxis.visibleRange.min, xAxis, yAxis, isInverted);\n                location.x = symbolLocation.x + (isInverted ? yAxis.rect.x : xAxis.rect.x);\n                location.y = symbolLocation.y + (isInverted ? xAxis.rect.y : yAxis.rect.y);\n            }\n            else {\n                return false;\n            }\n            return true;\n        }\n        else {\n            return this.setAccumulationPointValue(location);\n        }\n    };\n    /**\n     * To process the annotation for accumulation chart\n     * @param annotation\n     * @param index\n     * @param parentElement\n     */\n    AnnotationBase.prototype.processAnnotation = function (annotation, index, parentElement) {\n        var annotationElement;\n        var location;\n        location = new ChartLocation(0, 0);\n        annotationElement = this.render(annotation, index);\n        if (this['setAnnotation' + annotation.coordinateUnits + 'Value'](location)) {\n            this.setElementStyle(location, annotationElement, parentElement);\n        }\n    };\n    /**\n     * Method to calculate the location for annotation - coordinate unit as point in accumulation chart.\n     * @private\n     * @param location\n     */\n    AnnotationBase.prototype.setAccumulationPointValue = function (location) {\n        var accumulation = this.control;\n        var point;\n        for (var _i = 0, _a = accumulation.visibleSeries[0].points; _i < _a.length; _i++) {\n            var accPoint = _a[_i];\n            if (typeof accPoint.x === 'object') {\n                if (Date.parse(accPoint.x) === Date.parse(this.annotation.x) &&\n                    accPoint.y === this.annotation.y) {\n                    point = accPoint;\n                    break;\n                }\n            }\n            else {\n                if (accPoint.x === this.annotation.x && accPoint.y === this.annotation.y) {\n                    point = accPoint;\n                    break;\n                }\n            }\n        }\n        if (point && point.visible) {\n            location.x = point.symbolLocation.x;\n            location.y = point.symbolLocation.y;\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Method to set the element style for accumulation / chart annotation.\n     * @private\n     * @param location\n     * @param element\n     * @param parentElement\n     */\n    AnnotationBase.prototype.setElementStyle = function (location, element, parentElement) {\n        var elementRect = measureElementRect(element);\n        var argsData = {\n            cancel: false, name: annotationRender, content: element,\n            location: location\n        };\n        this.control.trigger(annotationRender, argsData);\n        if (!argsData.cancel) {\n            argsData.content.style.left = this.setAlignmentValue(this.annotation.horizontalAlignment, elementRect.width, argsData.location.x) + 'px';\n            argsData.content.style.top = this.setAlignmentValue(this.annotation.verticalAlignment, elementRect.height, argsData.location.y) + 'px';\n            argsData.content.setAttribute('aria-label', this.annotation.description || 'Annotation');\n            appendElement(argsData.content, parentElement);\n        }\n    };\n    /**\n     * Method to calculate the alignment value for annotation.\n     * @private\n     * @param alignment\n     * @param size\n     * @param value\n     */\n    AnnotationBase.prototype.setAlignmentValue = function (alignment, size, value) {\n        switch (alignment) {\n            case 'Top':\n            case 'Near':\n                value -= size;\n                break;\n            case 'Bottom':\n            case 'Far':\n                value += 0;\n                break;\n            case 'Middle':\n            case 'Center':\n                value -= (size / 2);\n                break;\n        }\n        return value;\n    };\n    return AnnotationBase;\n}());\nexport { AnnotationBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AnnotationBase } from '../../common/annotation/annotation';\nimport { appendElement } from '../../common/utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\n/**\n * `ChartAnnotation` module handles the annotation for chart.\n */\nvar ChartAnnotation = /** @class */ (function (_super) {\n    __extends(ChartAnnotation, _super);\n    /**\n     * Constructor for chart annotation.\n     * @private.\n     */\n    function ChartAnnotation(control, annotations) {\n        var _this = _super.call(this, control) || this;\n        _this.chart = control;\n        _this.annotations = annotations;\n        return _this;\n    }\n    /**\n     * Method to render the annotation for chart\n     * @param element\n     * @private\n     */\n    ChartAnnotation.prototype.renderAnnotations = function (element) {\n        var _this = this;\n        this.parentElement = createElement('div', {\n            id: this.chart.element.id + '_Annotation_Collections'\n        });\n        this.annotations.map(function (annotation, index) {\n            _this.processAnnotation(annotation, index, _this.parentElement);\n        });\n        appendElement(this.parentElement, element);\n    };\n    /**\n     * To destroy the annotation.\n     * @return {void}\n     * @private\n     */\n    ChartAnnotation.prototype.destroy = function (control) {\n        // Destroy method performed here\n    };\n    /**\n     * Get module name.\n     */\n    ChartAnnotation.prototype.getModuleName = function () {\n        // Returns te module name\n        return 'Annotation';\n    };\n    return ChartAnnotation;\n}(AnnotationBase));\nexport { ChartAnnotation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, PathOption, sum } from '../../common/utils/helper';\nimport { Size, getSaturationColor, getPoint } from '../../common/utils/helper';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ColumnBase } from './column-base';\nimport { getMedian } from '../../common/utils/helper';\n/**\n * `BoxAndWhiskerSeries` module is used to render the box and whisker series.\n */\nvar BoxAndWhiskerSeries = /** @class */ (function (_super) {\n    __extends(BoxAndWhiskerSeries, _super);\n    function BoxAndWhiskerSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render BoxAndWhisker series.\n     * @return {void}\n     * @private\n     */\n    BoxAndWhiskerSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var sideBySideInfo = this.getSideBySideInfo(series);\n        var argsData;\n        var centerRegion;\n        var borderWidth = series.border.width || 1;\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            point.symbolLocations = [];\n            point.regions = [];\n            var centerRegion_1 = void 0;\n            if (point.visible && withInRange(series.points[point.index - 1], point, series.points[point.index + 1], series)) {\n                this.findBoxPlotValues(point.y, point, series.boxPlotMode);\n                //region to cover the top and bottom ticks\n                this.updateTipRegion(series, point, sideBySideInfo);\n                //get middle rect\n                centerRegion_1 = this.getRectangle((point.xValue + sideBySideInfo.start), point.upperQuartile, (point.xValue + sideBySideInfo.end), point.lowerQuartile, series);\n                point.regions.push(centerRegion_1);\n                argsData = this.triggerEvent(series, point, series.interior, {\n                    color: (!isNullOrUndefined(series.border.color) && series.border.color !== 'transparent') ? series.border.color :\n                        getSaturationColor(series.interior, -0.6),\n                    width: series.border.width ? series.border.width : 1\n                });\n                if (!argsData.cancel) {\n                    this.renderBoxAndWhisker(series, point, centerRegion_1, argsData, this.getPathString(point, series, getPoint(point.xValue, point.median, xAxis, yAxis, isInverted), getPoint(point.xValue, point.average, xAxis, yAxis, isInverted)));\n                }\n            }\n        }\n        if (series.marker.visible) {\n            series.chart.markerRender.render(series);\n        }\n    };\n    /**\n     * update the tip region fo box plot\n     * @param series\n     * @param point\n     * @param sideBySideInfo\n     */\n    BoxAndWhiskerSeries.prototype.updateTipRegion = function (series, point, sideBySideInfo) {\n        var tipRegion = this.getRectangle((point.xValue + sideBySideInfo.median), point.maximum, (point.xValue + sideBySideInfo.median), point.minimum, series);\n        this.updateTipSize(series, point, tipRegion, series.chart.requireInvertedAxis);\n    };\n    /**\n     * Update tip size to tip regions\n     * @param series\n     * @param point\n     * @param region\n     * @param isInverted\n     */\n    BoxAndWhiskerSeries.prototype.updateTipSize = function (series, point, region, isInverted) {\n        var borderWidth = series.border.width || 1;\n        if (!isInverted) {\n            region.x -= borderWidth / 2;\n            region.width = region.width || borderWidth;\n        }\n        else {\n            region.y -= borderWidth / 2;\n            region.height = region.height || borderWidth;\n        }\n        point.regions.push(region);\n    };\n    /**\n     * Calculation for path direction performed here\n     * @param point\n     * @param series\n     * @param median\n     * @param average\n     */\n    BoxAndWhiskerSeries.prototype.getPathString = function (point, series, median, average) {\n        var topRect = point.regions[0];\n        var midRect = point.regions[1];\n        var direction = '';\n        var width = series.chart.requireInvertedAxis ? topRect.height : topRect.width;\n        var center = series.chart.requireInvertedAxis ? topRect.y + topRect.height / 2 :\n            topRect.x + topRect.width / 2;\n        var midWidth = midRect.x + midRect.width;\n        var midHeight = midRect.y + midRect.height;\n        var topWidth = topRect.x + topRect.width;\n        var topHeight = topRect.y + topRect.height;\n        if (!series.chart.requireInvertedAxis) {\n            this.updateTipSize(series, point, { x: midRect.x, y: topRect.y, width: midWidth - midRect.x, height: 0 }, true);\n            this.updateTipSize(series, point, { x: midRect.x, y: topHeight, width: midWidth - midRect.x, height: 0 }, true);\n            direction += 'M ' + midRect.x + ' ' + topRect.y + ' ' + ' L ' + midWidth + ' ' + topRect.y;\n            direction += ' M ' + center + ' ' + topRect.y + ' ' + ' L ' + center + ' ' + midRect.y;\n            direction += ' M ' + midRect.x + ' ' + midRect.y + ' ' + ' L ' + midWidth + ' ' + midRect.y +\n                ' L ' + midWidth + ' ' + midHeight + ' L ' + midRect.x + ' ' + midHeight + ' Z';\n            direction += ' M ' + center + ' ' + midHeight + ' L ' + center + ' ' + topHeight;\n            direction += ' M ' + midRect.x + ' ' + topHeight + ' L ' + midWidth + ' ' + topHeight;\n            direction += ' M ' + midRect.x + ' ' + median.y + ' L ' + midWidth + ' ' + median.y;\n            direction += series.showMean ?\n                ' M ' + (average.x - 5) + ' ' + (average.y - 5) + ' L ' + (average.x + 5) + ' ' + (average.y + 5) +\n                    ' M ' + (average.x + 5) + ' ' + (average.y - 5) + ' L ' + (average.x - 5) + ' ' + (average.y + 5) : '';\n        }\n        else {\n            this.updateTipSize(series, point, { x: topRect.x, y: midRect.y, width: 0, height: midHeight - midRect.y }, false);\n            this.updateTipSize(series, point, { x: topWidth, y: midRect.y, width: 0, height: midHeight - midRect.y }, true);\n            direction += 'M ' + topRect.x + ' ' + midRect.y + ' L ' + topRect.x + ' ' + midHeight;\n            direction += 'M ' + topRect.x + ' ' + center + ' ' + ' L ' + midRect.x + ' ' + center;\n            direction += ' M ' + midRect.x + ' ' + midRect.y + ' ' + ' L ' + midWidth + ' ' + midRect.y +\n                ' L ' + midWidth + ' ' + midHeight + ' L ' + midRect.x + ' ' + midHeight + ' Z';\n            direction += ' M ' + midWidth + ' ' + center + ' L ' + topWidth + ' ' + center;\n            direction += ' M ' + topWidth + ' ' + midRect.y + ' L ' + topWidth + ' ' + midHeight;\n            direction += ' M ' + median.x + ' ' + midRect.y + ' ' + ' L ' + median.x + ' ' + midHeight;\n            direction += series.showMean ?\n                'M ' + (average.x + 5) + ' ' + (average.y - 5) + ' L ' + (average.x - 5) + ' ' + (average.y + 5) +\n                    'M ' + (average.x - 5) + ' ' + (average.y - 5) + ' L ' + (average.x + 5) + ' ' + (average.y + 5) : '';\n        }\n        return direction;\n    };\n    /**\n     * Rendering for box and whisker append here.\n     * @param series\n     * @param point\n     * @param rect\n     * @param argsData\n     * @param direction\n     */\n    BoxAndWhiskerSeries.prototype.renderBoxAndWhisker = function (series, point, rect, argsData, direction) {\n        var location;\n        var size;\n        var symbolId = series.chart.element.id + '_Series_' + series.index + '_Point_' + point.index;\n        var element = series.chart.renderer.drawPath(new PathOption(symbolId + '_BoxPath', argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction));\n        element.setAttribute('aria-label', point.x.toString() + ':' + point.maximum.toString()\n            + ':' + point.minimum.toString() + ':' + point.lowerQuartile.toString() + ':' + point.upperQuartile.toString());\n        var parentElement = series.chart.renderer.createGroup({\n            'id': symbolId\n        });\n        parentElement.appendChild(element);\n        for (var i = 0; i < point.outliers.length; i++) {\n            location = getPoint(point.xValue, point.outliers[i], series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n            size = new Size(series.marker.width, series.marker.height);\n            point.symbolLocations.push(location);\n            this.updateTipSize(series, point, {\n                x: location.x - (size.width / 2), y: location.y - (size.height / 2),\n                width: size.width, height: size.height\n            }, true);\n        }\n        series.seriesElement.appendChild(parentElement);\n    };\n    /**\n     * To find the box plot values\n     * @param yValues\n     * @param point\n     * @param mode\n     */\n    BoxAndWhiskerSeries.prototype.findBoxPlotValues = function (yValues, point, mode) {\n        var yCount = yValues.length;\n        var quartile = {\n            average: sum(yValues) / yCount,\n            lowerQuartile: 0, upperQuartile: 0,\n            maximum: 0, minimum: 0,\n            median: 0, outliers: []\n        };\n        if (mode === 'Exclusive') {\n            quartile.lowerQuartile = this.getExclusiveQuartileValue(yValues, yCount, 0.25);\n            quartile.upperQuartile = this.getExclusiveQuartileValue(yValues, yCount, 0.75);\n            quartile.median = this.getExclusiveQuartileValue(yValues, yCount, 0.5);\n        }\n        else if (mode === 'Inclusive') {\n            quartile.lowerQuartile = this.getInclusiveQuartileValue(yValues, yCount, 0.25);\n            quartile.upperQuartile = this.getInclusiveQuartileValue(yValues, yCount, 0.75);\n            quartile.median = this.getInclusiveQuartileValue(yValues, yCount, 0.5);\n        }\n        else {\n            quartile.median = getMedian(yValues);\n            this.getQuartileValues(yValues, yCount, quartile);\n        }\n        this.getMinMaxOutlier(yValues, yCount, quartile);\n        point.minimum = quartile.minimum;\n        point.maximum = quartile.maximum;\n        point.lowerQuartile = quartile.lowerQuartile;\n        point.upperQuartile = quartile.upperQuartile;\n        point.median = quartile.median;\n        point.outliers = quartile.outliers;\n        point.average = quartile.average;\n    };\n    /**\n     * to find the exclusive quartile values\n     * @param yValues\n     * @param count\n     * @param percentile\n     */\n    BoxAndWhiskerSeries.prototype.getExclusiveQuartileValue = function (yValues, count, percentile) {\n        if (count === 0) {\n            return 0;\n        }\n        else if (count === 1) {\n            return yValues[0];\n        }\n        var value = 0;\n        var rank = percentile * (count + 1);\n        var integerRank = Math.floor(Math.abs(rank));\n        var fractionRank = rank - integerRank;\n        if (integerRank === 0) {\n            value = yValues[0];\n        }\n        else if (integerRank > count - 1) {\n            value = yValues[count - 1];\n        }\n        else {\n            value = fractionRank * (yValues[integerRank] - yValues[integerRank - 1]) + yValues[integerRank - 1];\n        }\n        return value;\n    };\n    /**\n     * to find the inclusive quartile values\n     * @param yValues\n     * @param count\n     * @param percentile\n     */\n    BoxAndWhiskerSeries.prototype.getInclusiveQuartileValue = function (yValues, count, percentile) {\n        if (count === 0) {\n            return 0;\n        }\n        else if (count === 1) {\n            return yValues[0];\n        }\n        var value = 0;\n        var rank = percentile * (count - 1);\n        var integerRank = Math.floor(Math.abs(rank));\n        var fractionRank = rank - integerRank;\n        value = fractionRank * (yValues[integerRank + 1] - yValues[integerRank]) + yValues[integerRank];\n        return value;\n    };\n    /**\n     * To find the quartile values\n     * @param yValues\n     * @param count\n     * @param lowerQuartile\n     * @param upperQuartile\n     */\n    BoxAndWhiskerSeries.prototype.getQuartileValues = function (yValues, count, quartile) {\n        if (count === 1) {\n            quartile.lowerQuartile = yValues[0];\n            quartile.upperQuartile = yValues[0];\n            return null;\n        }\n        var isEvenList = count % 2 === 0;\n        var halfLength = count / 2;\n        var lowerQuartileArray = yValues.slice(0, halfLength);\n        var upperQuartileArray = yValues.slice(isEvenList ? halfLength : halfLength + 1, count);\n        quartile.lowerQuartile = getMedian(lowerQuartileArray);\n        quartile.upperQuartile = getMedian(upperQuartileArray);\n    };\n    /**\n     * To find the min, max and outlier values\n     * @param yValues\n     * @param lowerQuartile\n     * @param upperQuartile\n     * @param minimum\n     * @param maximum\n     * @param outliers\n     */\n    BoxAndWhiskerSeries.prototype.getMinMaxOutlier = function (yValues, count, quartile) {\n        var interquartile = quartile.upperQuartile - quartile.lowerQuartile;\n        var rangeIQR = 1.5 * interquartile;\n        for (var i = 0; i < count; i++) {\n            if (yValues[i] < quartile.lowerQuartile - rangeIQR) {\n                quartile.outliers.push(yValues[i]);\n            }\n            else {\n                quartile.minimum = yValues[i];\n                break;\n            }\n        }\n        for (var i = count - 1; i >= 0; i--) {\n            if (yValues[i] > quartile.upperQuartile + rangeIQR) {\n                quartile.outliers.push(yValues[i]);\n            }\n            else {\n                quartile.maximum = yValues[i];\n                break;\n            }\n        }\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    BoxAndWhiskerSeries.prototype.doAnimation = function (series) {\n        this.animate(series);\n    };\n    /**\n     * Get module name.\n     */\n    BoxAndWhiskerSeries.prototype.getModuleName = function () {\n        return 'BoxAndWhiskerSeries';\n        /**\n         * return the module name\n         */\n    };\n    /**\n     * To destroy the candle series.\n     * @return {void}\n     * @private\n     */\n    BoxAndWhiskerSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroys the candle series.\n         */\n    };\n    return BoxAndWhiskerSeries;\n}(ColumnBase));\nexport { BoxAndWhiskerSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { getPoint, withInRange, ChartLocation, PathOption } from '../../common/utils/helper';\nimport { MultiColoredSeries } from './multi-colored-base';\n/**\n * `MultiColoredAreaSeries` module used to render the area series with multi color.\n */\nvar MultiColoredAreaSeries = /** @class */ (function (_super) {\n    __extends(MultiColoredAreaSeries, _super);\n    function MultiColoredAreaSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Area series.\n     * @return {void}\n     * @private\n     */\n    MultiColoredAreaSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var _this = this;\n        var firstPoint;\n        var startPoint = null;\n        var direction = '';\n        var origin = Math.max(series.yAxis.visibleRange.min, 0);\n        var options = [];\n        var startRegion;\n        var previous;\n        var color;\n        var rendered;\n        var segments = this.sortSegments(series, series.segments);\n        series.points.map(function (point, i, seriesPoints) {\n            point.symbolLocations = [];\n            point.regions = [];\n            rendered = false;\n            if (point.visible && withInRange(seriesPoints[i - 1], point, seriesPoints[i + 1], series)) {\n                direction += _this.getAreaPathDirection(point.xValue, origin, series, isInverted, getPoint, startPoint, 'M');\n                startPoint = startPoint || new ChartLocation(point.xValue, origin);\n                firstPoint = getPoint(point.xValue, point.yValue, xAxis, yAxis, isInverted, series);\n                if (previous && _this.setPointColor(point, previous, series, series.segmentAxis === 'X', segments)) {\n                    rendered = true;\n                    startRegion = getPoint(startPoint.x, origin, xAxis, yAxis, isInverted, series);\n                    direction += ('L' + ' ' + (firstPoint.x) + ' ' + (firstPoint.y) + ' ');\n                    direction += ('L' + ' ' + (firstPoint.x) + ' ' + (startRegion.y) + ' ');\n                    _this.generatePathOption(options, series, previous, direction, '_Point_' + previous.index);\n                    direction = 'M' + ' ' + (firstPoint.x) + ' ' + (startRegion.y) + ' ' + 'L' + ' ' +\n                        (firstPoint.x) + ' ' + (firstPoint.y) + ' ';\n                }\n                else {\n                    direction += ('L' + ' ' + (firstPoint.x) + ' ' + (firstPoint.y) + ' ');\n                    _this.setPointColor(point, null, series, series.segmentAxis === 'X', segments);\n                }\n                if (seriesPoints[i + 1] && !seriesPoints[i + 1].visible && series.emptyPointSettings.mode !== 'Drop') {\n                    direction += _this.getAreaEmptyDirection({ 'x': point.xValue, 'y': origin }, startPoint, series, isInverted, getPoint);\n                    startPoint = null;\n                }\n                previous = point;\n                _this.storePointLocation(point, series, isInverted, getPoint);\n            }\n        });\n        if (!rendered) {\n            direction = series.points.length > 1 ?\n                (direction + this.getAreaPathDirection(previous.xValue, origin, series, isInverted, getPoint, null, 'L')) : '';\n            this.generatePathOption(options, series, previous, direction, '');\n        }\n        this.applySegmentAxis(series, options, segments);\n        this.renderMarker(series);\n    };\n    /**\n     * To Store the path directions of the area\n     */\n    MultiColoredAreaSeries.prototype.generatePathOption = function (options, series, point, direction, id) {\n        options.push(new PathOption(series.chart.element.id + '_Series_' + series.index + id, series.setPointColor(point, series.interior), series.border.width, series.border.color, series.opacity, series.dashArray, direction));\n    };\n    /**\n     * To destroy the area series.\n     * @return {void}\n     * @private\n     */\n    MultiColoredAreaSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    /**\n     * Get module name\n     */\n    MultiColoredAreaSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'MultiColoredAreaSeries';\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    MultiColoredAreaSeries.prototype.doAnimation = function (series) {\n        this.doLinearAnimation(series, series.animation);\n    };\n    return MultiColoredAreaSeries;\n}(MultiColoredSeries));\nexport { MultiColoredAreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withInRange, getPoint, PathOption } from '../../common/utils/helper';\nimport { MultiColoredSeries } from './multi-colored-base';\n/**\n * `MultiColoredLineSeries` used to render the line series with multi color.\n */\nvar MultiColoredLineSeries = /** @class */ (function (_super) {\n    __extends(MultiColoredLineSeries, _super);\n    function MultiColoredLineSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Render Line Series.\n     * @return {void}.\n     * @private\n     */\n    MultiColoredLineSeries.prototype.render = function (series, xAxis, yAxis, isInverted) {\n        var previous = null;\n        var startPoint = 'M';\n        var visiblePoints = this.improveChartPerformance(series);\n        var options = [];\n        var direction = '';\n        var segments = this.sortSegments(series, series.segments);\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n            var point = visiblePoints_1[_i];\n            point.regions = [];\n            if (point.visible && withInRange(visiblePoints[point.index - 1], point, visiblePoints[point.index + 1], series)) {\n                direction += this.getLineDirection(previous, point, series, isInverted, getPoint, startPoint);\n                if (previous != null) {\n                    if (this.setPointColor(point, previous, series, series.segmentAxis === 'X', segments)) {\n                        options.push(new PathOption(series.chart.element.id + '_Series_' + series.index + '_Point_' + previous.index, 'none', series.width, series.setPointColor(previous, series.interior), series.opacity, series.dashArray, direction));\n                        startPoint = 'M';\n                        direction = '';\n                    }\n                    else {\n                        startPoint = 'L';\n                    }\n                }\n                else {\n                    this.setPointColor(point, null, series, series.segmentAxis === 'X', segments);\n                }\n                previous = point;\n                this.storePointLocation(point, series, isInverted, getPoint);\n            }\n            else {\n                previous = (series.emptyPointSettings.mode === 'Drop') ? previous : null;\n                startPoint = (series.emptyPointSettings.mode === 'Drop') ? startPoint : 'M';\n                point.symbolLocations = [];\n            }\n        }\n        if (direction !== '') {\n            options.push(new PathOption(series.chart.element.id + '_Series_' + series.index, 'none', series.width, series.setPointColor(visiblePoints[visiblePoints.length - 1], series.interior), series.opacity, series.dashArray, direction));\n        }\n        this.applySegmentAxis(series, options, segments);\n        this.renderMarker(series);\n    };\n    /**\n     * Animates the series.\n     * @param  {Series} series - Defines the series to animate.\n     * @return {void}\n     */\n    MultiColoredLineSeries.prototype.doAnimation = function (series) {\n        this.doLinearAnimation(series, series.animation);\n    };\n    /**\n     * Get module name.\n     */\n    MultiColoredLineSeries.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'MultiColoredLineSeries';\n    };\n    /**\n     * To destroy the line series.\n     * @return {void}\n     * @private\n     */\n    MultiColoredLineSeries.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return MultiColoredLineSeries;\n}(MultiColoredSeries));\nexport { MultiColoredLineSeries };\n","import { textWrap, TextOption, PathOption } from '../../common/utils/helper';\nimport { valueToCoefficient, measureText, textTrim, textElement } from '../../common/utils/helper';\nimport { axisMultiLabelRender } from '../../common/model/constants';\n/**\n * `MultiLevelLabel` module is used to render the multi level label in chart.\n */\nvar MultiLevelLabel = /** @class */ (function () {\n    /**\n     * Constructor for the logerithmic module.\n     * @private\n     */\n    function MultiLevelLabel(chart) {\n        /** @private */\n        this.xAxisPrevHeight = [];\n        /** @private */\n        this.xAxisMultiLabelHeight = [];\n        /** @private */\n        this.yAxisPrevHeight = [];\n        /** @private */\n        this.yAxisMultiLabelHeight = [];\n        this.chart = chart;\n    }\n    /**\n     * Finds multilevel label height\n     * @return {void}\n     */\n    MultiLevelLabel.prototype.getMultilevelLabelsHeight = function (axis) {\n        var value = 0;\n        var multiLevelLabelsHeight = [];\n        var prevHeight = [];\n        var isVertical = axis.orientation === 'Vertical';\n        var axisValue = isVertical ? axis.rect.height : axis.rect.width;\n        var labelSize;\n        var height;\n        var padding = 10;\n        var gap;\n        axis.multiLevelLabels.map(function (multiLevel, index) {\n            multiLevel.categories.map(function (categoryLabel) {\n                if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    height = isVertical ? labelSize.width : labelSize.height;\n                    height += 2 * multiLevel.border.width +\n                        (multiLevel.border.type === 'CurlyBrace' ? padding : 0);\n                    gap = (categoryLabel.maximumTextWidth !== null) ? categoryLabel.maximumTextWidth :\n                        (valueToCoefficient(typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) :\n                            categoryLabel.end, axis) * axisValue) -\n                            (valueToCoefficient(typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) :\n                                categoryLabel.start, axis) * axisValue);\n                    if ((labelSize.width > gap - padding) && gap > 0 && (multiLevel.overflow === 'Wrap') && !isVertical) {\n                        height = (height * (textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length));\n                    }\n                    multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height :\n                        ((multiLevelLabelsHeight[index] < height) ? height : multiLevelLabelsHeight[index]);\n                }\n            });\n            prevHeight[index] = value;\n            value += multiLevelLabelsHeight[index] ? (multiLevelLabelsHeight[index] + padding) : 0;\n        });\n        axis.multiLevelLabelHeight = value + ((axis.title !== '' || (this.chart.legendModule && this.chart.legendSettings.visible))\n            ? padding / 2 : 0);\n        if (isVertical) {\n            this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.yAxisPrevHeight = prevHeight;\n        }\n        else {\n            this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.xAxisPrevHeight = prevHeight;\n        }\n    };\n    /**\n     * render x axis multi level labels\n     * @private\n     * @return {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisMultiLevelLabels = function (axis, index, parent, axisRect) {\n        var _this = this;\n        var x;\n        var y;\n        var padding = 10;\n        var startX;\n        var startY = (axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.height) + padding;\n        var endX;\n        var endY;\n        var pathRect = '';\n        var start;\n        var end;\n        var labelSize;\n        var clipY;\n        var isOutside = axis.labelPosition === 'Outside';\n        var gap;\n        var anchor;\n        var isInversed = axis.isInversed;\n        var argsData;\n        var labelElement;\n        var opposedPosition = axis.opposedPosition;\n        clipY = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (axisRect.y + startY - axis.majorTickLines.width) : (axisRect.y - startY - axis.multiLevelLabelHeight);\n        this.createClipRect(axisRect.x - axis.majorTickLines.width, clipY, axis.multiLevelLabelHeight + padding, axisRect.width + 2 * axis.majorTickLines.width, this.chart.element.id + '_XAxis_Clippath_' + index, this.chart.element.id + 'XAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            pathRect = '';\n            multiLevel.categories.map(function (categoryLabel, i) {\n                labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                if (((start >= axis.visibleRange.min && start <= axis.visibleRange.max)\n                    || (end >= axis.visibleRange.min && end <= axis.visibleRange.max))) {\n                    argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, axis.multiLevelLabels[level].textStyle, axis.multiLevelLabels[level].alignment);\n                    if (!argsData.cancel) {\n                        startX = valueToCoefficient(start, axis) * axisRect.width;\n                        endX = valueToCoefficient(end, axis) * axisRect.width;\n                        endX = isInversed ? [startX, startX = endX][0] : endX;\n                        labelSize = measureText(argsData.text, argsData.textStyle);\n                        gap = ((categoryLabel.maximumTextWidth === null) ? endX - startX : categoryLabel.maximumTextWidth) - padding;\n                        x = startX + axisRect.x + padding;\n                        y = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ? (startY + axisRect.y +\n                            labelSize.height / 2 + padding + _this.xAxisPrevHeight[level]) : (axisRect.y - startY + labelSize.height / 2 -\n                            _this.xAxisMultiLabelHeight[level] - _this.xAxisPrevHeight[level]);\n                        if (argsData.alignment === 'Center') {\n                            x += (endX - startX - padding) / 2;\n                            anchor = 'middle';\n                        }\n                        else if (argsData.alignment === 'Far') {\n                            x = x + (endX - startX - padding) - multiLevel.border.width / 2;\n                            anchor = 'end';\n                        }\n                        else {\n                            anchor = 'start';\n                            x += multiLevel.border.width / 2;\n                        }\n                        y = multiLevel.border.type === 'CurlyBrace' ?\n                            (((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? y + padding : y - padding / 2) : y;\n                        var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                        if (multiLevel.overflow !== 'None') {\n                            options.text = (multiLevel.overflow === 'Wrap') ?\n                                textWrap(argsData.text, gap, argsData.textStyle) : textTrim(gap, argsData.text, argsData.textStyle);\n                            options.x = options.x - padding / 2;\n                        }\n                        textElement(options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, labelElement);\n                        if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                            pathRect = _this.renderXAxisLabelBorder(level, endX - startX - padding, axis, startX, startY, labelSize, options, axisRect, argsData.alignment, pathRect, isOutside, opposedPosition);\n                        }\n                        _this.multiElements.appendChild(labelElement);\n                    }\n                }\n            });\n            if (pathRect !== '') {\n                _this.createBorderElement(level, index, axis, pathRect);\n            }\n        });\n        parent.appendChild(this.multiElements);\n    };\n    /**\n     * render x axis multi level labels border\n     * @private\n     * @return {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisLabelBorder = function (labelIndex, gap, axis, startX, startY, labelSize, textOptions, axisRect, alignment, path, isOutside, opposedPosition) {\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var value;\n        var value1;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var width = gap + padding;\n        var height = this.xAxisMultiLabelHeight[labelIndex] + padding;\n        var x = startX + axisRect.x;\n        var y = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ?\n            (startY + axisRect.y + this.xAxisPrevHeight[labelIndex]) : (axisRect.y - startY - this.xAxisPrevHeight[labelIndex]);\n        switch (groupLabel.border.type) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M' + x + ' ' + y + 'L' + x + ' ' + (y + height) +\n                    'M' + (x + width) + ' ' + y + 'L' + (x + width) + ' ' + (y + height);\n                path += (groupLabel.border.type !== 'WithoutTopandBottomBorder') ? ('L' + ' ' + (x) + ' ' + (y + height) + ' ') : ' ';\n                path += groupLabel.border.type === 'Rectangle' ? ('M' + x + ' ' + y + 'L' + (x + width) + ' ' + y) : ' ';\n                break;\n            case 'Brace':\n                if (alignment === 'Near') {\n                    value = textOptions.x;\n                    value1 = textOptions.x + labelSize.width + 2;\n                }\n                else if (alignment === 'Center') {\n                    value = textOptions.x - labelSize.width / 2 - 2;\n                    value1 = textOptions.x + labelSize.width / 2 + 2;\n                }\n                else {\n                    value = textOptions.x - labelSize.width - 2;\n                    value1 = textOptions.x;\n                }\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M' + x + ' ' + y + 'L' + x + ' ' + (y + height / 2) +\n                    'M' + x + ' ' + (y + height / 2) + 'L' + (value - 2) + ' ' + (y + height / 2) +\n                    'M' + (value1) + ' ' + (y + height / 2) + 'L' + (x + width) + ' ' + (y + height / 2) +\n                    'M' + (x + width) + ' ' + (y + height / 2) + 'L' + (x + width) + ' ' + (y);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                else {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + 'L' + (x + width / 2 - 5) + ' ' + (y + padding) + 'L' + (x + width / 2) + ' ' + (y + padding1) +\n                        'L' + (x + width / 2 + 5) + ' ' + (y + padding) + 'L' + (x + width - 10) + ' ' + (y + padding) + ' C ' +\n                        (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else if (alignment === 'Near') {\n                    path += 'M' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + 'L' + (x + 15) + ' ' + (y + padding1) + 'L' + (x + 20) + ' ' + (y + padding) + 'L' +\n                        (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' '\n                        + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else {\n                    path += 'M' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + 'L' + (x + width - 20) + ' ' + (y + padding) + 'L' + (x + width - 15) + ' ' + (y + padding1) +\n                        'L' + (x + width - 10) + ' ' + (y + padding) + 'L' + (x + width - 10) + ' ' + (y + padding) + ' C '\n                        + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * render y axis multi level labels\n     * @private\n     * @return {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisMultiLevelLabels = function (axis, index, parent, rect) {\n        var _this = this;\n        var labelSize;\n        var clipX;\n        var isOutside = axis.labelPosition === 'Outside';\n        var x;\n        var y;\n        var padding = 10;\n        var startX = (axis.tickPosition === axis.labelPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.width) + padding;\n        var startY;\n        var path = '';\n        var labelElement;\n        var endY;\n        var argsData;\n        var isInversed = axis.isInversed;\n        var start;\n        var end;\n        var gap;\n        var anchor = 'middle';\n        var opposedPosition = axis.opposedPosition;\n        clipX = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (rect.x - axis.multiLevelLabelHeight - startX - padding) : (rect.x + startX);\n        this.createClipRect(clipX, rect.y - axis.majorTickLines.width, rect.height + 2 * axis.majorTickLines.width, axis.multiLevelLabelHeight + padding, this.chart.element.id + '_YAxis_Clippath_' + index, this.chart.element.id + 'YAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            path = '';\n            multiLevel.categories.map(function (categoryLabel, i) {\n                labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                if (((start >= axis.visibleRange.min && start <= axis.visibleRange.max)\n                    || (end >= axis.visibleRange.min && end <= axis.visibleRange.max))) {\n                    startY = valueToCoefficient((start), axis) * (rect.height);\n                    endY = valueToCoefficient((end), axis) * (rect.height);\n                    endY = isInversed ? [startY, startY = endY][0] : endY;\n                    argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, multiLevel.textStyle, multiLevel.alignment);\n                    if (!argsData.cancel) {\n                        labelSize = measureText(argsData.text, argsData.textStyle);\n                        gap = endY - startY;\n                        x = rect.x - startX - _this.yAxisPrevHeight[level] -\n                            (_this.yAxisMultiLabelHeight[level] / 2) - padding / 2;\n                        y = rect.height + rect.y - startY - (gap / 2);\n                        if (opposedPosition) {\n                            x = isOutside ? rect.x + startX + padding / 2 + (_this.yAxisMultiLabelHeight[level] / 2) +\n                                _this.yAxisPrevHeight[level] : rect.x - startX - (_this.yAxisMultiLabelHeight[level] / 2) -\n                                _this.yAxisPrevHeight[level] - padding / 2;\n                        }\n                        else {\n                            x = isOutside ? x : rect.x + startX + padding / 2 + (_this.yAxisMultiLabelHeight[level] / 2) +\n                                _this.yAxisPrevHeight[level];\n                        }\n                        if (argsData.alignment === 'Center') {\n                            y += labelSize.height / 4;\n                        }\n                        else if (argsData.alignment === 'Far') {\n                            y += gap / 2 - labelSize.height / 2;\n                        }\n                        else {\n                            y = y - gap / 2 + labelSize.height;\n                        }\n                        x = multiLevel.border.type === 'CurlyBrace' ? (((!opposedPosition && isOutside) ||\n                            (opposedPosition && !isOutside)) ? x - padding : x + padding) : x;\n                        var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                        options.text = (multiLevel.overflow === 'Trim') ?\n                            textTrim((categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] :\n                                categoryLabel.maximumTextWidth), argsData.text, argsData.textStyle) : options.text;\n                        textElement(options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, labelElement);\n                        if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                            path = _this.renderYAxisLabelBorder(level, gap, axis, endY, startX, startY, labelSize, options, rect, argsData.alignment, path, isOutside, opposedPosition);\n                        }\n                        _this.multiElements.appendChild(labelElement);\n                    }\n                }\n            });\n            if (path !== '') {\n                _this.createBorderElement(level, index, axis, path);\n            }\n        });\n        parent.appendChild(this.multiElements);\n    };\n    /**\n     * render y axis multi level labels border\n     * @private\n     * @return {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisLabelBorder = function (labelIndex, gap, axis, endY, startX, startY, labelSize, textOptions, rect, alignment, path, isOutside, opposedPosition) {\n        var height = endY - startY;\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var y = rect.y + rect.height - endY;\n        var width = this.yAxisMultiLabelHeight[labelIndex] + padding;\n        var x = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? rect.x - startX -\n            this.yAxisPrevHeight[labelIndex] : rect.x + startX + this.yAxisPrevHeight[labelIndex];\n        switch (groupLabel.border.type) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? -width : width;\n                path += 'M' + x + ' ' + y + 'L' + (x + width) + ' ' + y +\n                    'M' + x + ' ' + (y + height) + 'L' + (x + width) + ' ' + (y + height);\n                path += (groupLabel.border.type !== 'WithoutTopandBottomBorder') ? ('L' + ' ' + (x + width) + ' ' + y + ' ') : ' ';\n                path += (groupLabel.border.type === 'Rectangle') ? ('M' + (x) + ' ' + (y + height) + 'L' + ' ' + (x) + ' ' + y + ' ') : ' ';\n                break;\n            case 'Brace':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? width : -width;\n                path += 'M ' + (x) + ' ' + y + ' L ' + (x - width / 2) + ' ' + y + ' L ' + (x - width / 2) + ' ' +\n                    (textOptions.y - labelSize.height / 2 - 4) + ' M ' + (x - width / 2) + ' ' +\n                    (textOptions.y + labelSize.height / 4 + 2) +\n                    ' L ' + (x - width / 2) + ' ' + (y + height) + ' L ' + (x) + ' ' + (y + height);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                else {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2) + ' L ' + (x + padding1) + ' ' + (y + (height - 10) / 2 + 5)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2 + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' '\n                        + x + ' ' + (y + height);\n                }\n                else if (alignment === 'Far') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + height - 20) + ' ' + ' L ' + (x + padding1) + ' ' + (y + (height - 15)) +\n                        ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding) + ' ' + (y + height) + ' ' + x + ' '\n                        + (y + height);\n                }\n                else {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding1) + ' ' + (y + 15) +\n                        ' L ' + (x + padding) + ' ' + (y + 20) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x +\n                        ' ' + (y + height);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * create cliprect\n     * @return {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createClipRect = function (x, y, height, width, clipId, axisId) {\n        this.multiElements = this.chart.renderer.createGroup({\n            'id': axisId,\n            'clip-path': 'url(#' + clipId + ')'\n        });\n        this.multiElements.appendChild(this.chart.renderer.drawClipPath({\n            'id': clipId,\n            'x': x,\n            'y': y,\n            'width': width,\n            'height': height,\n            'fill': 'white',\n            'stroke-width': 1, 'stroke': 'Gray'\n        }));\n    };\n    /**\n     * create borer element\n     * @return {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createBorderElement = function (borderIndex, axisIndex, axis, path) {\n        var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + axisIndex + '_Axis_MultiLevelLabel_Rect_' + borderIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color || this.chart.themeStyle.axisLine, 1, '', path));\n        borderElement.setAttribute('style', 'pointer-events: none');\n        this.multiElements.appendChild(borderElement);\n    };\n    /**\n     * Triggers the event.\n     * @return {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.triggerMultiLabelRender = function (axis, text, textStyle, textAlignment) {\n        var argsData;\n        argsData = {\n            cancel: false, name: axisMultiLabelRender, axis: axis,\n            text: text, textStyle: textStyle, alignment: textAlignment\n        };\n        this.chart.trigger(axisMultiLabelRender, argsData);\n        return argsData;\n    };\n    /**\n     * To get the module name for `MultiLevelLabel`.\n     * @private\n     */\n    MultiLevelLabel.prototype.getModuleName = function () {\n        return 'MultiLevelLabel';\n    };\n    /**\n     * To destroy the `MultiLevelLabel` module.\n     * @private\n     */\n    MultiLevelLabel.prototype.destroy = function () {\n        // destroy peform here\n    };\n    return MultiLevelLabel;\n}());\nexport { MultiLevelLabel };\n","/**\n * Defines the common functionalities of accumulation series\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { degreeToLocation, getElement, indexFinder } from '../../common/utils/helper';\nimport { pointByIndex } from '../model/acc-base';\n/**\n * Accumulation Base used to do some base calculation for accumulation chart.\n */\nvar AccumulationBase = /** @class */ (function () {\n    /** @private */\n    function AccumulationBase(accumulation) {\n        this.accumulation = accumulation;\n    }\n    Object.defineProperty(AccumulationBase.prototype, \"center\", {\n        /**\n         * Gets the center of the pie\n         * @private\n         */\n        get: function () {\n            return this.pieCenter || (this.accumulation.visibleSeries[0].type === 'Pie' ?\n                this.accumulation.pieSeriesModule.center : null);\n        },\n        /**\n         * Sets the center of the pie\n         * @private\n         */\n        set: function (value) {\n            this.pieCenter = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AccumulationBase.prototype, \"radius\", {\n        /**\n         * Gets the radius of the pie\n         * @private\n         */\n        get: function () {\n            return this.pieRadius !== undefined ? this.pieRadius :\n                this.accumulation.pieSeriesModule.radius;\n        },\n        /**\n         * Sets the radius of the pie\n         * @private\n         */\n        set: function (value) {\n            this.pieRadius = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AccumulationBase.prototype, \"labelRadius\", {\n        /**\n         * Gets the label radius of the pie\n         * @private\n         */\n        get: function () {\n            return this.pieLabelRadius !== undefined ? this.pieLabelRadius :\n                this.accumulation.pieSeriesModule.labelRadius;\n        },\n        /**\n         * Sets the label radius of the pie\n         * @private\n         */\n        set: function (value) {\n            this.pieLabelRadius = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Checks whether the series is circular or not\n     * @private\n     */\n    AccumulationBase.prototype.isCircular = function () {\n        return this.accumulation.type === 'Pie';\n    };\n    /**\n     * To process the explode on accumulation chart loading\n     * @private\n     */\n    AccumulationBase.prototype.processExplode = function (event) {\n        if (event.target.id.indexOf('_Series_') > -1 || event.target.id.indexOf('_datalabel_') > -1) {\n            var pointIndex = indexFinder(event.target.id).point;\n            if (isNaN(pointIndex) || (event.target.id.indexOf('_datalabel_') > -1 &&\n                this.accumulation.visibleSeries[0].points[pointIndex].labelPosition === 'Outside')) {\n                return null;\n            }\n            this.explodePoints(pointIndex, this.accumulation);\n            this.deExplodeAll(pointIndex);\n        }\n    };\n    /**\n     * To invoke the explode on accumulation chart loading\n     * @private\n     */\n    AccumulationBase.prototype.invokeExplode = function () {\n        if (this.accumulation.visibleSeries[0].explodeAll) {\n            for (var _i = 0, _a = this.accumulation.visibleSeries[0].points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                this.explodePoints(point.index, this.accumulation);\n            }\n        }\n        else if (!isNullOrUndefined(this.accumulation.visibleSeries[0].explodeIndex)) {\n            this.explodePoints(this.accumulation.visibleSeries[0].explodeIndex, this.accumulation);\n        }\n        if (this.accumulation.accumulationSelectionModule && this.accumulation.selectionMode !== 'None' &&\n            this.accumulation.accumulationSelectionModule.selectedDataIndexes.length) {\n            for (var _b = 0, _c = this.accumulation.accumulationSelectionModule.selectedDataIndexes; _b < _c.length; _b++) {\n                var index = _c[_b];\n                this.explodePoints(index.point, this.accumulation, true);\n                this.deExplodeAll(index.point);\n            }\n        }\n    };\n    /**\n     * To deExplode all points in the series\n     */\n    AccumulationBase.prototype.deExplodeAll = function (index) {\n        var pointId = this.accumulation.element.id + '_Series_0_Point_';\n        var points = this.accumulation.visibleSeries[0].points;\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var currentPoint = points_1[_i];\n            if (index !== currentPoint.index) {\n                this.deExplodeSlice(currentPoint.index, pointId, this.center);\n            }\n        }\n    };\n    /**\n     * To explode point by index\n     * @private\n     */\n    AccumulationBase.prototype.explodePoints = function (index, chart, explode) {\n        if (explode === void 0) { explode = false; }\n        var pointId = this.accumulation.element.id + '_Series_0_Point_';\n        var translate;\n        var points = this.accumulation.visibleSeries[0].points;\n        var point = pointByIndex(index, this.accumulation.visibleSeries[0].points);\n        if (isNullOrUndefined(point)) {\n            return null;\n        }\n        if (!this.isCircular()) {\n            translate = { x: chart.explodeDistance, y: 0 };\n        }\n        else {\n            translate = degreeToLocation(point.midAngle, chart.explodeDistance, this.center);\n        }\n        if (this.isExplode(pointId + index) || explode) {\n            this.explodeSlice(index, translate, pointId, this.center || { x: 0, y: 0 });\n        }\n        else {\n            this.deExplodeSlice(index, pointId, this.center);\n        }\n    };\n    /**\n     * To check point is exploded by id\n     */\n    AccumulationBase.prototype.isExplode = function (id) {\n        var element = getElement(id);\n        if (element && (element.getAttribute('transform') === 'translate(0, 0)' || element.getAttribute('transform') === null ||\n            element.getAttribute('transform') === 'translate(0)')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * To deExplode the point by index\n     */\n    AccumulationBase.prototype.deExplodeSlice = function (index, sliceId, center) {\n        var position = 'translate(0, 0)';\n        this.setTranslate(index, sliceId, position);\n    };\n    /**\n     * To translate the point elements by index and position\n     */\n    AccumulationBase.prototype.setTranslate = function (index, sliceId, position) {\n        this.setElementTransform(sliceId + index, position);\n        if (this.accumulation.visibleSeries[0].dataLabel.visible) {\n            sliceId = this.accumulation.element.id + '_datalabel_Series_0_';\n            this.setElementTransform(sliceId + 'shape_' + index, position);\n            this.setElementTransform(sliceId + 'text_' + index, position);\n            this.setElementTransform(sliceId + 'connector_' + index, position);\n        }\n    };\n    /**\n     * To translate the point element by id and position\n     */\n    AccumulationBase.prototype.setElementTransform = function (id, position) {\n        var element = getElement(id);\n        if (element) {\n            element.setAttribute('transform', position);\n        }\n    };\n    /**\n     * To translate the point elements by index position\n     */\n    AccumulationBase.prototype.explodeSlice = function (index, translate, sliceId, center) {\n        var position = 'translate(' + (translate.x - center.x) + ', ' + (translate.y - center.y) + ')';\n        this.setTranslate(index, sliceId, position);\n    };\n    return AccumulationBase;\n}());\nexport { AccumulationBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Accumulation charts base file\n */\nimport { Animation } from '@syncfusion/ej2-base';\nimport { stringToNumber, ChartLocation, degreeToLocation, Rect, getAnimationFunction, getElement } from '../../common/utils/helper';\nimport { animationComplete } from '../../common/model/constants';\nimport { AccumulationBase } from './accumulation-base';\n/**\n * PieBase class used to do pie base calculations.\n */\nvar PieBase = /** @class */ (function (_super) {\n    __extends(PieBase, _super);\n    function PieBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * To initialize the property values.\n     * @private\n     */\n    PieBase.prototype.initProperties = function (chart, series) {\n        this.accumulation = chart;\n        var size = Math.min(chart.initialClipRect.width, chart.initialClipRect.height);\n        this.initAngles(series);\n        this.radius = stringToNumber(series.radius, size / 2);\n        this.innerRadius = stringToNumber(series.innerRadius, this.radius);\n        this.labelRadius = series.dataLabel.position === 'Inside' ? (((this.radius - this.innerRadius) / 2) + this.innerRadius) :\n            (this.radius + stringToNumber(series.dataLabel.connectorStyle.length || '4%', size / 2));\n        chart.explodeDistance = series.explode ? stringToNumber(series.explodeOffset, this.radius) : 0;\n        this.findCenter(chart, series);\n        this.defaultLabelBound(series, series.dataLabel.visible, series.dataLabel.position);\n        this.totalAngle -= 0.001;\n    };\n    /**\n     * To find the center of the accumulation.\n     * @private\n     */\n    PieBase.prototype.findCenter = function (accumulation, series) {\n        this.accumulation = accumulation;\n        this.center = {\n            x: stringToNumber('50%', accumulation.initialClipRect.width) + (accumulation.initialClipRect.x),\n            y: stringToNumber('50%', accumulation.initialClipRect.height) + (accumulation.initialClipRect.y)\n        };\n        var accumulationRect = this.getSeriesBound(series);\n        var accumulationRectCenter = new ChartLocation(accumulationRect.x + accumulationRect.width / 2, accumulationRect.y + accumulationRect.height / 2);\n        this.center.x += (this.center.x - accumulationRectCenter.x);\n        this.center.y += (this.center.y - accumulationRectCenter.y);\n        this.accumulation.center = this.center;\n    };\n    /**\n     * To find angles from series.\n     */\n    PieBase.prototype.initAngles = function (series) {\n        this.totalAngle = (series.endAngle - series.startAngle) % 360;\n        this.startAngle = series.startAngle - 90;\n        this.totalAngle = this.totalAngle <= 0 ? (360 + this.totalAngle) : this.totalAngle;\n        this.startAngle = (this.startAngle < 0 ? (this.startAngle + 360) : this.startAngle) % 360;\n    };\n    /**\n     * To calculate data-label bound\n     * @private\n     */\n    PieBase.prototype.defaultLabelBound = function (series, visible, position) {\n        var accumulationBound = this.getSeriesBound(series);\n        series.accumulationBound = accumulationBound;\n        series.labelBound = new Rect(accumulationBound.x, accumulationBound.y, accumulationBound.width + accumulationBound.x, accumulationBound.height + accumulationBound.y);\n        if (visible && position === 'Outside') {\n            series.labelBound = new Rect(Infinity, Infinity, -Infinity, -Infinity);\n        }\n    };\n    /**\n     * To calculate series bound\n     * @private\n     */\n    PieBase.prototype.getSeriesBound = function (series) {\n        var rect = new Rect(Infinity, Infinity, -Infinity, -Infinity);\n        this.initAngles(series);\n        var start = this.startAngle;\n        var total = this.totalAngle;\n        var end = (this.startAngle + total) % 360;\n        end = (end === 0) ? 360 : end;\n        series.findMaxBounds(rect, this.getRectFromAngle(start));\n        series.findMaxBounds(rect, this.getRectFromAngle(end));\n        series.findMaxBounds(rect, new Rect(this.center.x, this.center.y, 0, 0));\n        var nextQuandrant = (Math.floor(start / 90) * 90 + 90) % 360;\n        var lastQuadrant = (Math.floor(end / 90) * 90) % 360;\n        lastQuadrant = (lastQuadrant === 0) ? 360 : lastQuadrant;\n        if (total >= 90 || lastQuadrant === nextQuandrant) {\n            series.findMaxBounds(rect, this.getRectFromAngle(nextQuandrant));\n            series.findMaxBounds(rect, this.getRectFromAngle(lastQuadrant));\n        }\n        if (start === 0 || (start + total >= 360)) {\n            series.findMaxBounds(rect, this.getRectFromAngle(0));\n        }\n        var length = nextQuandrant === lastQuadrant ? 0 : Math.floor(total / 90);\n        for (var i = 1; i < length; i++) {\n            nextQuandrant = nextQuandrant + 90;\n            if ((nextQuandrant < lastQuadrant || end < start) || total === 360) {\n                series.findMaxBounds(rect, this.getRectFromAngle(nextQuandrant));\n            }\n        }\n        rect.width -= rect.x;\n        rect.height -= rect.y;\n        return rect;\n    };\n    /**\n     * To get rect location size from angle\n     */\n    PieBase.prototype.getRectFromAngle = function (angle) {\n        var location = degreeToLocation(angle, this.radius, this.center);\n        return new Rect(location.x, location.y, 0, 0);\n    };\n    /**\n     * To get path arc direction\n     */\n    PieBase.prototype.getPathArc = function (center, start, end, radius, innerRadius) {\n        var degree = end - start;\n        degree = degree < 0 ? (degree + 360) : degree;\n        var flag = (degree < 180) ? 0 : 1;\n        if (!innerRadius && innerRadius === 0) {\n            return this.getPiePath(center, degreeToLocation(start, radius, center), degreeToLocation(end, radius, center), radius, flag);\n        }\n        else {\n            return this.getDoughnutPath(center, degreeToLocation(start, radius, center), degreeToLocation(end, radius, center), radius, degreeToLocation(start, innerRadius, center), degreeToLocation(end, innerRadius, center), innerRadius, flag);\n        }\n    };\n    /**\n     * To get pie direction\n     */\n    PieBase.prototype.getPiePath = function (center, start, end, radius, clockWise) {\n        return 'M ' + center.x + ' ' + center.y + ' L ' + start.x + ' ' + start.y + ' A ' + radius + ' ' +\n            radius + ' 0 ' + clockWise + ' 1 ' + end.x + ' ' + end.y + ' Z';\n    };\n    /**\n     * To get doughnut direction\n     */\n    PieBase.prototype.getDoughnutPath = function (center, start, end, radius, innerStart, innerEnd, innerRadius, clockWise) {\n        return 'M ' + start.x + ' ' + start.y + ' A ' + radius + ' ' + radius + ' 0 ' + clockWise +\n            ' 1 ' + end.x + ' ' + end.y + ' L ' + innerEnd.x + ' ' + innerEnd.y + ' A ' + innerRadius +\n            ' ' + innerRadius + ' 0 ' + clockWise + ',0 ' + innerStart.x + ' ' + innerStart.y + ' Z';\n    };\n    /**\n     * Method to start animation for pie series.\n     */\n    PieBase.prototype.doAnimation = function (slice, series) {\n        var _this = this;\n        var startAngle = series.startAngle - 85;\n        var value;\n        var radius = Math.max(this.accumulation.availableSize.height, this.accumulation.availableSize.width) * 0.75;\n        radius += radius * (0.414); // formula r + r / 2 * (1.414 -1)\n        var effect = getAnimationFunction('Linear'); // need to check animation type\n        new Animation({}).animate(slice, {\n            duration: series.animation.duration,\n            delay: series.animation.delay,\n            progress: function (args) {\n                value = effect(args.timeStamp, startAngle, _this.totalAngle, args.duration);\n                slice.setAttribute('d', _this.getPathArc(_this.center, startAngle, value, radius, 0));\n            },\n            end: function (args) {\n                slice.setAttribute('d', _this.getPathArc(_this.center, 0, 359.99999, radius, 0));\n                _this.accumulation.trigger(animationComplete, { series: series, accumulation: _this.accumulation });\n                var datalabelGroup = getElement(_this.accumulation.element.id + '_datalabel_Series_' + series.index);\n                datalabelGroup.style.visibility = _this.accumulation.isDestroyed ? 'hidden' : 'visible';\n            }\n        });\n    };\n    return PieBase;\n}(AccumulationBase));\nexport { PieBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PathOption, degreeToLocation } from '../../common/utils/helper';\nimport { PieBase } from '../renderer/pie-base';\n/**\n * PieSeries module used to render `Pie` Series.\n */\nvar PieSeries = /** @class */ (function (_super) {\n    __extends(PieSeries, _super);\n    function PieSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * To get path option, degree, symbolLocation from the point.\n     * @private\n     */\n    PieSeries.prototype.renderPoint = function (point, series, chart, option) {\n        var sum = series.sumOfPoints;\n        var degree = ((Math.abs(point.y) / sum) * (this.totalAngle));\n        option.d = this.getPathOption(point, degree);\n        point.midAngle = (this.startAngle - (degree / 2)) % 360;\n        point.endAngle = this.startAngle % 360;\n        point.symbolLocation = degreeToLocation(point.midAngle, (this.radius + this.innerRadius) / 2, this.center);\n        return option;\n    };\n    /**\n     * To get path option from the point.\n     */\n    PieSeries.prototype.getPathOption = function (point, degree) {\n        var path = this.getPathArc(this.center, this.startAngle % 360, (this.startAngle + degree) % 360, this.radius, this.innerRadius);\n        this.startAngle += degree;\n        return path;\n    };\n    /**\n     * To animate the pie series.\n     * @private\n     */\n    PieSeries.prototype.animateSeries = function (accumulation, option, series, slice) {\n        var groupId = accumulation.element.id + 'SeriesGroup' + series.index;\n        if (series.animation.enable && accumulation.animateSeries) {\n            var clippath = accumulation.renderer.createClipPath({ id: groupId + '_clipPath' });\n            var path = new PathOption(groupId + '_slice', 'transparent', 1, 'transparent', 1, '', '');\n            var clipslice = accumulation.renderer.drawPath(path);\n            clippath.appendChild(clipslice);\n            accumulation.svgObject.appendChild(clippath);\n            slice.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n            this.doAnimation(clipslice, series);\n        }\n    };\n    /**\n     * To get the module name of the Pie series.\n     */\n    PieSeries.prototype.getModuleName = function () {\n        return 'PieSeries';\n    };\n    /**\n     * To destroy the pie series.\n     * @return {void}\n     * @private\n     */\n    PieSeries.prototype.destroy = function (accumulation) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return PieSeries;\n}(PieBase));\nexport { PieSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * AccumulationChart file\n */\nimport { Property, Component, Complex, Collection, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { Internationalization, Event, Browser, EventHandler, Touch } from '@syncfusion/ej2-base';\nimport { remove, extend, isNullOrUndefined, createElement } from '@syncfusion/ej2-base';\nimport { Font, Margin, Border, TooltipSettings, Indexes } from '../common/model/base';\nimport { AccumulationSeries } from './model/acc-base';\nimport { Theme, getThemeColor } from '../common/model/theme';\nimport { load, pointClick } from '../common/model/constants';\nimport { pointMove, chartMouseClick, chartMouseDown } from '../common/model/constants';\nimport { chartMouseLeave, chartMouseMove, chartMouseUp, resized } from '../common/model/constants';\nimport { LegendSettings } from '../common/legend/legend';\nimport { Rect, Size, subtractRect, indexFinder } from '../common/utils/helper';\nimport { measureText, RectOption, showTooltip } from '../common/utils/helper';\nimport { textElement, TextOption, createSvg, calculateSize, removeElement, firstToLowerCase } from '../common/utils/helper';\nimport { getElement, titlePositionX } from '../common/utils/helper';\nimport { Data } from '../common/model/data';\nimport { AccumulationBase } from './renderer/accumulation-base';\nimport { PieSeries } from './renderer/pie-series';\nimport { AccumulationAnnotationSettings } from './model/acc-base';\nimport { ExportUtils } from '../common/utils/export';\nimport { getTitle } from '../common/utils/helper';\n/**\n * Represents the AccumulationChart control.\n * ```html\n * <div id=\"accumulation\"/>\n * <script>\n *   var accObj = new AccumulationChart({ });\n *   accObj.appendTo(\"#accumulation\");\n * </script>\n * ```\n */\nvar AccumulationChart = /** @class */ (function (_super) {\n    __extends(AccumulationChart, _super);\n    /**\n     * Constructor for creating the AccumulationChart widget\n     * @private\n     */\n    function AccumulationChart(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @private explode radius internal property */\n        _this.explodeDistance = 0;\n        return _this;\n    }\n    Object.defineProperty(AccumulationChart.prototype, \"type\", {\n        /** @private */\n        get: function () {\n            if (this.series && this.series.length) {\n                return this.series[0].type;\n            }\n            return 'Pie';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // accumulation chart methods\n    /**\n     *  To create svg object, renderer and binding events for the container.\n     */\n    AccumulationChart.prototype.preRender = function () {\n        this.unWireEvents();\n        this.setCulture();\n        this.animateSeries = true;\n        calculateSize(this);\n        this.wireEvents();\n    };\n    /**\n     * Themeing for chart goes here\n     */\n    AccumulationChart.prototype.setTheme = function () {\n        /*! Set theme for accumulation chart */\n        this.themeStyle = getThemeColor(this.theme);\n    };\n    /**\n     * To render the accumulation chart elements\n     */\n    AccumulationChart.prototype.render = function () {\n        this.trigger(load, { accumulation: this });\n        this.setTheme();\n        this.accBaseModule = new AccumulationBase(this);\n        this.pieSeriesModule = new PieSeries(this);\n        this.calculateVisibleSeries();\n        this.processData();\n    };\n    /**\n     * Method to unbind events for accumulation chart\n     */\n    AccumulationChart.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var move = Browser.touchMoveEvent;\n        var stop = Browser.touchEndEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        /*! UnBind the Event handler */\n        EventHandler.remove(this.element, move, this.accumulationMouseMove);\n        EventHandler.remove(this.element, stop, this.accumulationMouseEnd);\n        EventHandler.remove(this.element, start, this.accumulationMouseStart);\n        EventHandler.remove(this.element, 'click', this.accumulationOnMouseClick);\n        EventHandler.remove(this.element, 'contextmenu', this.accumulationRightClick);\n        EventHandler.remove(this.element, cancel, this.accumulationMouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.accumulationResize);\n    };\n    /**\n     * Method to bind events for the accumulation chart\n     */\n    AccumulationChart.prototype.wireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        /*! Bind the Event handler */\n        EventHandler.add(this.element, move, this.accumulationMouseMove, this);\n        EventHandler.add(this.element, stop, this.accumulationMouseEnd, this);\n        EventHandler.add(this.element, start, this.accumulationMouseStart, this);\n        EventHandler.add(this.element, 'click', this.accumulationOnMouseClick, this);\n        EventHandler.add(this.element, 'contextmenu', this.accumulationRightClick, this);\n        EventHandler.add(this.element, cancel, this.accumulationMouseLeave, this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.accumulationResize.bind(this));\n        new Touch(this.element); // To avoid geasture blocking for browser\n        /*! Apply the style for chart */\n        this.setStyle(this.element);\n    };\n    /**\n     * Method to set mouse x, y from events\n     */\n    AccumulationChart.prototype.setMouseXY = function (e) {\n        var pageX;\n        var pageY;\n        if (e.type.indexOf('touch') > -1) {\n            this.isTouch = true;\n            var touchArg = e;\n            pageY = touchArg.changedTouches[0].clientY;\n            pageX = touchArg.changedTouches[0].clientX;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        this.mouseX = (pageX - rect.left) - Math.max(svgRect.left - rect.left, 0);\n        this.mouseY = (pageY - rect.top) - Math.max(svgRect.top - rect.top, 0);\n    };\n    /**\n     * Handles the mouse end.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseEnd = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseUp, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        if (this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n            if (this.accumulationDataLabelModule && this.visibleSeries[0].dataLabel.visible) {\n                this.accumulationDataLabelModule.move(e, this.mouseX, this.mouseY, this.isTouch);\n            }\n            if (this.accumulationLegendModule && this.legendSettings.visible) {\n                this.accumulationLegendModule.move(e);\n            }\n        }\n        this.notify(Browser.touchEndEvent, e);\n        return false;\n    };\n    /*public removeSvgOffset(x: number, y: number): ChartLocation {\n        let rect: ClientRect = this.element.getBoundingClientRect();\n        let svgRect: ClientRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        return { x: (x - rect.left) - Math.max(svgRect.left - rect.left, 0), y: (y - rect.top) - Math.max(svgRect.top - rect.top, 0)};\n    }*/\n    /**\n     * Handles the mouse start.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseStart = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseDown, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        return false;\n    };\n    /**\n     * Handles the accumulation chart resize.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationResize = function (e) {\n        var _this = this;\n        this.animateSeries = false;\n        var args = {\n            accumulation: this,\n            previousSize: new Size(this.availableSize.width, this.availableSize.height),\n            name: resized,\n            currentSize: new Size(0, 0)\n        };\n        if (this.resizeTo) {\n            clearTimeout(this.resizeTo);\n        }\n        this.resizeTo = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTo);\n                return;\n            }\n            calculateSize(_this);\n            args.currentSize = _this.availableSize;\n            _this.trigger(resized, args);\n            _this.refreshSeries();\n            _this.refreshChart();\n        }, 500);\n        return false;\n    };\n    /**\n     * Handles the export method for chart control.\n     */\n    AccumulationChart.prototype.export = function (type, fileName, orientation) {\n        var exportChart = new ExportUtils(this);\n        exportChart.export(type, fileName, orientation);\n    };\n    /**\n     * Handles the print method for accumulation chart control.\n     */\n    AccumulationChart.prototype.print = function (id) {\n        var exportChart = new ExportUtils(this);\n        exportChart.print(id);\n    };\n    /**\n     * Applying styles for accumulation chart element\n     */\n    AccumulationChart.prototype.setStyle = function (element) {\n        element.style.touchAction = 'element';\n        element.style.msTouchAction = 'element';\n        element.style.msContentZooming = 'none';\n        element.style.msUserSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n    };\n    /**\n     * Method to set the annotation content dynamically for accumulation.\n     */\n    AccumulationChart.prototype.setAnnotationValue = function (annotationIndex, content) {\n        var annotation = this.annotations[annotationIndex];\n        var element;\n        var parentNode = getElement(this.element.id + '_Annotation_Collections');\n        if (content) {\n            annotation.content = content;\n            if (parentNode) {\n                element = createElement('div');\n                removeElement(this.element.id + '_Annotation_' + annotationIndex);\n                this.annotationModule.processAnnotation(annotation, annotationIndex, element);\n                parentNode.appendChild(element.children[0]);\n            }\n            else {\n                this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n            }\n        }\n    };\n    /**\n     * Handles the mouse move on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseMove = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseMove, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        if (this.pointMove) {\n            this.triggerPointEvent(pointMove, e.target);\n        }\n        if (this.accumulationLegendModule && this.legendSettings.visible) {\n            this.accumulationLegendModule.move(e);\n        }\n        if (this.accumulationDataLabelModule && this.visibleSeries[0] && this.visibleSeries[0].dataLabel.visible) {\n            this.accumulationDataLabelModule.move(e, this.mouseX, this.mouseY);\n        }\n        if (!this.isTouch) {\n            this.titleTooltip(e, this.mouseX, this.mouseY);\n        }\n        this.notify(Browser.touchMoveEvent, e);\n        return false;\n    };\n    AccumulationChart.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((event.target.textContent.indexOf('...') > -1) && (targetId === (this.element.id + '_title'))) {\n            showTooltip(this.title, x, y, this.element.offsetWidth, this.element.id + '_EJ2_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_Title_Tooltip');\n        }\n    };\n    /**\n     * Handles the mouse click on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationOnMouseClick = function (e) {\n        this.setMouseXY(e);\n        if (this.accumulationLegendModule && this.legendSettings.visible) {\n            this.accumulationLegendModule.click(e);\n        }\n        if (this.selectionMode !== 'None' && this.accumulationSelectionModule) {\n            this.accumulationSelectionModule.calculateSelectedElements(this, e);\n        }\n        if (this.visibleSeries[0].explode) {\n            this.accBaseModule.processExplode(e);\n        }\n        this.trigger(chartMouseClick, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        if (this.pointClick) {\n            this.triggerPointEvent(pointClick, e.target);\n        }\n        return false;\n    };\n    AccumulationChart.prototype.triggerPointEvent = function (event, element) {\n        var indexes = indexFinder(element.id, true);\n        if (indexes.series >= 0 && indexes.point >= 0) {\n            this.trigger(event, { series: this.series[indexes.series],\n                point: this.series[indexes.series].points[indexes.point],\n                seriesIndex: indexes.series, pointIndex: indexes.point,\n                x: this.mouseX, y: this.mouseY });\n        }\n    };\n    /**\n     * Handles the mouse right click on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationRightClick = function (event) {\n        if (event.buttons === 2 || event.pointerType === 'touch') {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Handles the mouse leave on accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.accumulationMouseLeave = function (e) {\n        this.setMouseXY(e);\n        this.trigger(chartMouseLeave, { target: e.target.id, x: this.mouseX, y: this.mouseY });\n        this.notify(Browser.isPointer ? 'pointerleave' : 'mouseleave', e);\n        return false;\n    };\n    /**\n     * Method to set culture for chart\n     */\n    AccumulationChart.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n    };\n    /**\n     * Method to create SVG element for accumulation chart.\n     */\n    AccumulationChart.prototype.createPieSvg = function () {\n        this.removeSvg();\n        createSvg(this);\n    };\n    /**\n     * To Remove the SVG from accumulation chart.\n     * @return {boolean}\n     * @private\n     */\n    AccumulationChart.prototype.removeSvg = function () {\n        removeElement(this.element.id + '_Secondary_Element');\n        if (this.svgObject) {\n            while (this.svgObject.childNodes.length > 0) {\n                this.svgObject.removeChild(this.svgObject.firstChild);\n            }\n            if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode) {\n                remove(this.svgObject);\n            }\n        }\n        removeElement('EJ2_legend_tooltip');\n        removeElement('EJ2_datalabel_tooltip');\n    };\n    /**\n     * Method to create the secondary element for tooltip, datalabel and annotaitons.\n     */\n    AccumulationChart.prototype.createSecondaryElement = function () {\n        this.element.appendChild(createElement('div', {\n            id: this.element.id + '_Secondary_Element',\n            styles: 'position: relative'\n        }));\n    };\n    /**\n     * Method to find visible series based on series types\n     */\n    AccumulationChart.prototype.calculateVisibleSeries = function () {\n        this.visibleSeries = [];\n        for (var i = 0, length_1 = this.series.length; i < length_1; i++) {\n            this.series[i].index = i;\n            if (this.series[i].type === this.type && this.visibleSeries.length === 0) {\n                this.visibleSeries.push(this.series[i]);\n                break;\n            }\n        }\n    };\n    /**\n     * To find points from dataSource\n     */\n    AccumulationChart.prototype.processData = function () {\n        this.seriesCounts = 0;\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            series.dataModule = new Data(series.dataSource, series.query);\n            series.refreshDataManager(this);\n        }\n    };\n    /**\n     * To refresh the accumulation chart\n     * @private\n     */\n    AccumulationChart.prototype.refreshChart = function () {\n        this.doGrouppingProcess();\n        this.createPieSvg();\n        this.calculateBounds();\n        this.renderElements();\n    };\n    /**\n     * Method to find groupped points\n     */\n    AccumulationChart.prototype.doGrouppingProcess = function () {\n        var series = this.visibleSeries[0];\n        if (!isNullOrUndefined(series.resultData) && ((!isNullOrUndefined(series.lastGroupTo) &&\n            series.lastGroupTo !== series.groupTo))) {\n            series.getPoints(series.resultData, this);\n        }\n    };\n    /**\n     * Method to calculate bounds for accumulation chart\n     */\n    AccumulationChart.prototype.calculateBounds = function () {\n        this.initialClipRect = new Rect(this.margin.left, this.margin.top, this.availableSize.width, this.availableSize.height);\n        this.titleCollection = [];\n        this.titleCollection = getTitle(this.title, this.titleStyle, this.initialClipRect.width);\n        subtractRect(this.initialClipRect, new Rect(0, (measureText(this.title, this.titleStyle).height * this.titleCollection.length), this.margin.right + this.margin.left, this.margin.bottom + this.margin.top));\n        this.calculateLegendBounds();\n    };\n    /*\n     * Method to calculate legend bounds for accumulation chart\n     */\n    AccumulationChart.prototype.calculateLegendBounds = function () {\n        if (!this.accumulationLegendModule || !this.legendSettings.visible) {\n            return null;\n        }\n        this.accumulationLegendModule.getLegendOptions(this, this.visibleSeries);\n        this.accumulationLegendModule.calculateLegendBounds(this.initialClipRect, this.availableSize);\n    };\n    /**\n     * To render elements for accumulation chart\n     * @private\n     */\n    AccumulationChart.prototype.renderElements = function () {\n        this.renderBorder();\n        this.renderTitle();\n        this.createSecondaryElement();\n        this.renderSeries();\n        this.renderLegend();\n        this.element.appendChild(this.svgObject);\n        this.processSelection();\n        this.processExplode();\n        this.renderAnnotation();\n        this.setSecondaryElementPosition();\n        this.trigger('loaded', { accumulation: this });\n        this.animateSeries = false;\n    };\n    /**\n     * To set the left and top position for data label template for center aligned chart\n     */\n    AccumulationChart.prototype.setSecondaryElementPosition = function () {\n        var tooltipParent = getElement(this.element.id + '_Secondary_Element');\n        if (!tooltipParent) {\n            return;\n        }\n        var rect = this.element.getBoundingClientRect();\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n        tooltipParent.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\n        tooltipParent.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\n    };\n    /**\n     * To render the annotaitions for accumulation series.\n     */\n    AccumulationChart.prototype.renderAnnotation = function () {\n        if (this.annotationModule) {\n            this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n        }\n    };\n    /**\n     * Method to process the explode in accumulation chart\n     */\n    AccumulationChart.prototype.processExplode = function () {\n        if (!this.visibleSeries[0].explode) {\n            return null;\n        }\n        this.accBaseModule.invokeExplode();\n    };\n    /**\n     * Method to render series for accumulation chart\n     */\n    AccumulationChart.prototype.renderSeries = function () {\n        this.svgObject.appendChild(this.renderer.createGroup({ id: this.element.id + '_SeriesCollection' }));\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (series.visible && this[(firstToLowerCase(series.type) + 'SeriesModule')]) {\n                this[(firstToLowerCase(series.type) + 'SeriesModule')].initProperties(this, series);\n                series.renderSeries(this);\n            }\n        }\n    };\n    /**\n     * Method to render border for accumulation chart\n     */\n    AccumulationChart.prototype.renderBorder = function () {\n        var padding = this.border.width;\n        this.svgObject.appendChild(this.renderer.drawRectangle(new RectOption(this.element.id + '_border', this.background || this.themeStyle.background, this.border, 1, new Rect(padding / 2, padding / 2, this.availableSize.width - padding, this.availableSize.height - padding))));\n    };\n    /**\n     * Method to render legend for accumulation chart\n     */\n    AccumulationChart.prototype.renderLegend = function () {\n        if (!this.accumulationLegendModule || !this.legendSettings.visible) {\n            return null;\n        }\n        if (this.accumulationLegendModule.legendCollections.length) {\n            if (this.visibleSeries[0].type === 'Pie') {\n                this.accumulationLegendModule.getSmartLegendLocation(this.visibleSeries[0].labelBound, this.accumulationLegendModule.legendBounds, this.margin);\n            }\n            this.accumulationLegendModule.renderLegend(this, this.legendSettings, this.accumulationLegendModule.legendBounds);\n        }\n    };\n    /**\n     * To process the selection in accumulation chart\n     */\n    AccumulationChart.prototype.processSelection = function () {\n        if (!this.accumulationSelectionModule || this.selectionMode === 'None') {\n            return null;\n        }\n        var selectedDataIndexes = extend([], this.accumulationSelectionModule.selectedDataIndexes, null, true);\n        this.accumulationSelectionModule.invokeSelection(this);\n        if (selectedDataIndexes.length > 0) {\n            this.accumulationSelectionModule.selectedDataIndexes = selectedDataIndexes;\n            this.accumulationSelectionModule.redrawSelection(this, this.selectionMode);\n        }\n    };\n    /**\n     * To render title for accumulation chart\n     */\n    AccumulationChart.prototype.renderTitle = function () {\n        if (!this.title) {\n            return null;\n        }\n        var titleSize = measureText(this.title, this.titleStyle);\n        var anchor = this.titleStyle.textAlignment === 'Near' ? 'start' :\n            this.titleStyle.textAlignment === 'Far' ? 'end' : 'middle';\n        textElement(new TextOption(this.element.id + '_title', titlePositionX(this.availableSize, this.margin.left, this.margin.left, this.titleStyle), this.margin.top + (titleSize.height * 3 / 4), anchor, this.titleCollection, '', 'auto'), this.titleStyle, this.titleStyle.color || this.themeStyle.chartTitle, this.svgObject);\n    };\n    /**\n     * To get the series parent element\n     * @private\n     */\n    AccumulationChart.prototype.getSeriesElement = function () {\n        return this.svgObject.getElementsByTagName('g')[0];\n    };\n    /**\n     * To refresh the all visible series points\n     * @private\n     */\n    AccumulationChart.prototype.refreshSeries = function () {\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            this.refreshPoints(series.points);\n        }\n    };\n    /**\n     * To refresh points label region and visible\n     * @private\n     */\n    AccumulationChart.prototype.refreshPoints = function (points) {\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var point = points_1[_i];\n            point.labelPosition = null;\n            point.labelRegion = null;\n            point.labelVisible = true;\n        }\n    };\n    /**\n     * To get Module name\n     *  @private\n     */\n    AccumulationChart.prototype.getModuleName = function () {\n        return 'accumulationchart';\n    };\n    /**\n     * To destroy the accumulationcharts\n     * @private\n     */\n    AccumulationChart.prototype.destroy = function () {\n        this.unWireEvents();\n        _super.prototype.destroy.call(this);\n        this.element.classList.remove('e-accumulationchart');\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return {ModuleDeclaration[]}\n     * @private\n     */\n    AccumulationChart.prototype.requiredModules = function () {\n        var modules = [];\n        var enableAnnotation = false;\n        modules.push({\n            member: this.type + 'Series',\n            args: [this]\n        });\n        if (this.legendSettings.visible) {\n            modules.push({\n                member: 'AccumulationLegend',\n                args: [this]\n            });\n        }\n        if (this.findDatalabelVisibility()) {\n            modules.push({\n                member: 'AccumulationDataLabel',\n                args: [this]\n            });\n        }\n        if (this.tooltip.enable) {\n            modules.push({\n                member: 'AccumulationTooltip',\n                args: [this]\n            });\n        }\n        if (this.selectionMode !== 'None') {\n            modules.push({\n                member: 'AccumulationSelection',\n                args: [this]\n            });\n        }\n        enableAnnotation = this.annotations.some(function (value) {\n            return (value.content !== null);\n        });\n        if (enableAnnotation) {\n            modules.push({\n                member: 'Annotation',\n                args: [this, this.annotations]\n            });\n        }\n        return modules;\n    };\n    /**\n     * To find datalabel visibility in series\n     */\n    AccumulationChart.prototype.findDatalabelVisibility = function () {\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (series.dataLabel.visible) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    AccumulationChart.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    AccumulationChart.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var update = {\n            refreshElements: false, refreshBounds: false\n        };\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'theme':\n                    this.animateSeries = true;\n                    break;\n                case 'title':\n                case 'height':\n                case 'width':\n                case 'margin':\n                    update.refreshBounds = true;\n                    break;\n                case 'titleStyle':\n                    if (newProp.titleStyle && (newProp.titleStyle.size || newProp.titleStyle.textOverflow)) {\n                        update.refreshBounds = true;\n                    }\n                    else {\n                        update.refreshElements = true;\n                    }\n                    break;\n                case 'legendSettings':\n                    update.refreshBounds = true;\n                    update.refreshElements = true;\n                    break;\n                case 'locale':\n                case 'currencyCode':\n                    _super.prototype.refresh.call(this);\n                    break;\n                case 'background':\n                case 'border':\n                case 'annotations':\n                case 'enableSmartLabels':\n                    update.refreshElements = true;\n                    break;\n                case 'isMultiSelect':\n                case 'selectedDataIndexes':\n                case 'selectionMode':\n                    if (this.accumulationSelectionModule) {\n                        if (isNullOrUndefined(this.accumulationSelectionModule.selectedDataIndexes)) {\n                            this.accumulationSelectionModule.invokeSelection(this);\n                        }\n                        else {\n                            this.accumulationSelectionModule.redrawSelection(this, oldProp.selectionMode);\n                        }\n                    }\n                    break;\n            }\n        }\n        if (!update.refreshBounds && update.refreshElements) {\n            this.createPieSvg();\n            this.renderElements();\n        }\n        else if (update.refreshBounds) {\n            this.refreshSeries();\n            this.createPieSvg();\n            this.calculateBounds();\n            this.renderElements();\n        }\n    };\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.chartTitleFont, Font)\n    ], AccumulationChart.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Complex({}, LegendSettings)\n    ], AccumulationChart.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], AccumulationChart.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('None')\n    ], AccumulationChart.prototype, \"selectionMode\", void 0);\n    __decorate([\n        Property(false)\n    ], AccumulationChart.prototype, \"isMultiSelect\", void 0);\n    __decorate([\n        Collection([], Indexes)\n    ], AccumulationChart.prototype, \"selectedDataIndexes\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], AccumulationChart.prototype, \"margin\", void 0);\n    __decorate([\n        Property(true)\n    ], AccumulationChart.prototype, \"enableSmartLabels\", void 0);\n    __decorate([\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\n    ], AccumulationChart.prototype, \"border\", void 0);\n    __decorate([\n        Property(null)\n    ], AccumulationChart.prototype, \"background\", void 0);\n    __decorate([\n        Collection([{}], AccumulationSeries)\n    ], AccumulationChart.prototype, \"series\", void 0);\n    __decorate([\n        Collection([{}], AccumulationAnnotationSettings)\n    ], AccumulationChart.prototype, \"annotations\", void 0);\n    __decorate([\n        Property('Material')\n    ], AccumulationChart.prototype, \"theme\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"seriesRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"legendRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"textRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"pointRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"annotationRender\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseClick\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"pointClick\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"pointMove\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"animationComplete\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseDown\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseLeave\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"chartMouseUp\", void 0);\n    __decorate([\n        Event()\n    ], AccumulationChart.prototype, \"resized\", void 0);\n    __decorate([\n        Property('USD')\n    ], AccumulationChart.prototype, \"currencyCode\", void 0);\n    AccumulationChart = __decorate([\n        NotifyPropertyChanges\n    ], AccumulationChart);\n    return AccumulationChart;\n}(Component));\nexport { AccumulationChart };\n","/**\n * Defines the common behavior of funnel and pyramid series\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Size, stringToNumber, Rect } from '../../common/utils/helper';\nimport { AccumulationBase } from './accumulation-base';\n/**\n * TriangularBase is used to calculate base functions for funnel/pyramid series.\n */\nvar TriangularBase = /** @class */ (function (_super) {\n    __extends(TriangularBase, _super);\n    function TriangularBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the properties of funnel/pyramid series\n     * @private\n     */\n    TriangularBase.prototype.initProperties = function (chart, series) {\n        var actualChartArea = chart.initialClipRect;\n        series.triangleSize = new Size(stringToNumber(series.width, actualChartArea.width), stringToNumber(series.height, actualChartArea.height));\n        series.neckSize = new Size(stringToNumber(series.neckWidth, actualChartArea.width), stringToNumber(series.neckHeight, actualChartArea.height));\n        this.defaultLabelBound(series, series.dataLabel.visible, series.dataLabel.position, chart);\n        if (series.explodeOffset === '30%') {\n            series.explodeOffset = '25px';\n        }\n        chart.explodeDistance = stringToNumber(series.explodeOffset, actualChartArea.width);\n        var points = series.points;\n        this.initializeSizeRatio(points, series);\n    };\n    /**\n     * Initializes the size of the pyramid/funnel segments\n     * @private\n     */\n    TriangularBase.prototype.initializeSizeRatio = function (points, series, reverse) {\n        if (reverse === void 0) { reverse = false; }\n        var sumOfPoints = series.sumOfPoints;\n        //Limiting the ratio within the range of 0 to 1\n        var gapRatio = Math.min(Math.max(series.gapRatio, 0), 1);\n        //% equivalence of a value 1\n        var coEff = 1 / (sumOfPoints * (1 + gapRatio / (1 - gapRatio)));\n        var spacing = gapRatio / (points.length - 1);\n        var y = 0;\n        //starting from bottom\n        for (var i = points.length - 1; i >= 0; i--) {\n            var index = reverse ? points.length - 1 - i : i;\n            if (points[index].visible) {\n                var height = coEff * points[index].y;\n                points[index].yRatio = y;\n                points[index].heightRatio = height;\n                y += height + spacing;\n            }\n        }\n    };\n    /**\n     * Marks the label location from the set of points that forms a pyramid/funnel segment\n     * @private\n     */\n    TriangularBase.prototype.setLabelLocation = function (series, point, points) {\n        var last = points.length - 1;\n        var bottom = series.type === 'Funnel' ? points.length - 2 : points.length - 1;\n        var x = (points[0].x + points[bottom].x) / 2;\n        var right = (points[1].x + points[bottom - 1].x) / 2;\n        point.region = new Rect(x, points[0].y, right - x, points[bottom].y - points[0].y);\n        point.symbolLocation = {\n            x: point.region.x + point.region.width / 2,\n            y: point.region.y + point.region.height / 2\n        };\n        point.labelOffset = {\n            x: point.symbolLocation.x - (points[0].x + points[last].x) / 2,\n            y: point.symbolLocation.y - (points[0].y + points[last].y) / 2\n        };\n    };\n    /**\n     * Finds the path to connect the list of points\n     * @private\n     */\n    TriangularBase.prototype.findPath = function (locations) {\n        var path = 'M';\n        for (var i = 0; i < locations.length; i++) {\n            path += locations[i].x + ' ' + locations[i].y;\n            if (i !== locations.length - 1) {\n                path += ' L';\n            }\n        }\n        return path;\n    };\n    /**\n     * To calculate data-label bounds\n     * @private\n     */\n    TriangularBase.prototype.defaultLabelBound = function (series, visible, position, chart) {\n        var x = (chart.initialClipRect.width - series.triangleSize.width) / 2;\n        var y = (chart.initialClipRect.height - series.triangleSize.height) / 2;\n        var accumulationBound = new Rect(x, y, series.triangleSize.width, series.triangleSize.height);\n        series.labelBound = new Rect(accumulationBound.x, accumulationBound.y, accumulationBound.width + accumulationBound.x, accumulationBound.height + accumulationBound.y);\n        series.accumulationBound = accumulationBound;\n        if (visible && position === 'Outside') {\n            series.labelBound = new Rect(Infinity, Infinity, -Infinity, -Infinity);\n        }\n    };\n    return TriangularBase;\n}(AccumulationBase));\nexport { TriangularBase };\n","/**\n * Defines the behavior of a funnel series\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TriangularBase } from './triangular-base';\n/**\n * FunnelSeries module used to render `Funnel` Series.\n */\nvar FunnelSeries = /** @class */ (function (_super) {\n    __extends(FunnelSeries, _super);\n    function FunnelSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the path of a funnel segment\n     */\n    FunnelSeries.prototype.getSegmentData = function (point, series, chart) {\n        var lineWidth;\n        var topRadius;\n        var bottomRadius;\n        var endTop;\n        var endBottom;\n        var minRadius;\n        var endMin;\n        var bottomY;\n        var area = series.triangleSize;\n        var offset = 0;\n        var extraSpace = (chart.initialClipRect.width - series.triangleSize.width) / 2;\n        var emptySpaceAtLeft = extraSpace + chart.initialClipRect.x;\n        var seriesTop = chart.initialClipRect.y + (chart.initialClipRect.height - area.height) / 2;\n        //defines the top and bottom of a segment\n        var top = point.yRatio * area.height;\n        var bottom = top + point.heightRatio * area.height;\n        var neckSize = series.neckSize;\n        lineWidth = neckSize.width + (area.width - neckSize.width) * ((area.height - neckSize.height - top) /\n            (area.height - neckSize.height));\n        topRadius = (area.width / 2) - lineWidth / 2;\n        //Calculating the middle slope change and bottom\n        endTop = topRadius + lineWidth;\n        if (bottom > area.height - neckSize.height || area.height === neckSize.height) {\n            lineWidth = neckSize.width;\n        }\n        else {\n            lineWidth = neckSize.width + (area.width - neckSize.width) *\n                ((area.height - neckSize.height - bottom) / (area.height - neckSize.height));\n        }\n        bottomRadius = (area.width / 2) - (lineWidth / 2);\n        endBottom = bottomRadius + lineWidth;\n        if (top >= area.height - neckSize.height) {\n            topRadius = bottomRadius = minRadius = (area.width / 2) - neckSize.width / 2;\n            endTop = endBottom = endMin = (area.width / 2) + neckSize.width / 2;\n        }\n        else if (bottom > (area.height - neckSize.height)) {\n            minRadius = bottomRadius = (area.width / 2) - lineWidth / 2;\n            endMin = endBottom = minRadius + lineWidth;\n            bottomY = area.height - neckSize.height;\n        }\n        var points = [];\n        top += seriesTop;\n        bottom += seriesTop;\n        bottomY += seriesTop;\n        var line1 = { x: emptySpaceAtLeft + offset + topRadius, y: top };\n        var line2 = { x: emptySpaceAtLeft + offset + endTop, y: top };\n        var line4 = { x: emptySpaceAtLeft + offset + endBottom, y: bottom };\n        var line5 = { x: emptySpaceAtLeft + offset + bottomRadius, y: bottom };\n        var line3 = { x: emptySpaceAtLeft + offset + endBottom, y: bottom };\n        var line6 = { x: emptySpaceAtLeft + offset + bottomRadius, y: bottom };\n        if (bottomY) {\n            line3 = { x: emptySpaceAtLeft + offset + endMin, y: bottomY };\n            line6 = { x: emptySpaceAtLeft + offset + minRadius, y: bottomY };\n        }\n        var polygon = [line1, line2, line3, line4, line5, line6];\n        this.setLabelLocation(series, point, polygon);\n        var direction = this.findPath(polygon);\n        return direction;\n    };\n    /**\n     * Renders a funnel segment\n     * @private\n     */\n    FunnelSeries.prototype.renderPoint = function (point, series, chart, options) {\n        var direction = this.getSegmentData(point, series, chart);\n        point.midAngle = 0;\n        options.d = direction;\n    };\n    /**\n     * To get the module name of the funnel series.\n     */\n    FunnelSeries.prototype.getModuleName = function () {\n        return 'FunnelSeries';\n    };\n    /**\n     * To destroy the funnel series.\n     * @return {void}\n     * @private\n     */\n    FunnelSeries.prototype.destroy = function (accumulation) {\n        /**\n         * Destroys the funnel series\n         */\n    };\n    return FunnelSeries;\n}(TriangularBase));\nexport { FunnelSeries };\n","/**\n * Defines the behavior of a pyramid series\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TriangularBase } from './triangular-base';\n/**\n * PyramidSeries module used to render `Pyramid` Series.\n */\nvar PyramidSeries = /** @class */ (function (_super) {\n    __extends(PyramidSeries, _super);\n    function PyramidSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the path of a pyramid segment\n     */\n    PyramidSeries.prototype.getSegmentData = function (point, series, chart) {\n        var area = series.triangleSize;\n        //top of th series\n        var seriesTop = chart.initialClipRect.y + (chart.initialClipRect.height - area.height) / 2;\n        var points = [];\n        //consider, if the point is exploded\n        var offset = 0;\n        var extraSpace = (chart.initialClipRect.width - series.triangleSize.width) / 2;\n        var emptySpaceAtLeft = extraSpace + chart.initialClipRect.x;\n        //top and bottom\n        var top = point.yRatio;\n        var bottom = point.yRatio + point.heightRatio;\n        //width of the top and bottom edge\n        var topRadius = 0.5 * (1 - point.yRatio);\n        var bottomRadius = 0.5 * (1 - bottom);\n        top += seriesTop / area.height;\n        bottom += seriesTop / area.height;\n        var line1 = {\n            x: emptySpaceAtLeft + offset + topRadius * area.width,\n            y: top * area.height\n        };\n        var line2 = {\n            x: emptySpaceAtLeft + offset + (1 - topRadius) * area.width,\n            y: top * area.height\n        };\n        var line3 = {\n            x: emptySpaceAtLeft + offset + (1 - bottomRadius) * area.width,\n            y: bottom * area.height\n        };\n        var line4 = {\n            x: emptySpaceAtLeft + offset + bottomRadius * area.width,\n            y: bottom * area.height\n        };\n        var polygon = [line1, line2, line3, line4];\n        this.setLabelLocation(series, point, polygon);\n        var direction = this.findPath(polygon);\n        return direction;\n    };\n    /**\n     * Initializes the size of the pyramid segments\n     * @private\n     */\n    PyramidSeries.prototype.initializeSizeRatio = function (points, series) {\n        if (series.pyramidMode === 'Linear') {\n            _super.prototype.initializeSizeRatio.call(this, points, series, true);\n        }\n        else {\n            this.calculateSurfaceSegments(series);\n        }\n    };\n    /**\n     * Defines the size of the pyramid segments, the surface of that will reflect the values\n     */\n    PyramidSeries.prototype.calculateSurfaceSegments = function (series) {\n        var count = series.points.length;\n        var sumOfValues = series.sumOfPoints;\n        var yRatio = 0;\n        var y = [];\n        var height = [];\n        var gapRatio = Math.min(0, Math.max(series.gapRatio, 1));\n        var gapHeight = gapRatio / (count - 1);\n        var preSum = this.getSurfaceHeight(0, sumOfValues);\n        var currY = 0;\n        for (var i = 0; i < count; i++) {\n            if (series.points[i].visible) {\n                y[i] = currY;\n                height[i] = this.getSurfaceHeight(currY, Math.abs(series.points[i].y));\n                currY += height[i] + gapHeight * preSum;\n            }\n        }\n        var coef = 1 / (currY - gapHeight * preSum);\n        for (var i = 0; i < count; i++) {\n            if (series.points[i].visible) {\n                series.points[i].yRatio = coef * y[i];\n                series.points[i].heightRatio = coef * height[i];\n            }\n        }\n    };\n    /**\n     * Finds the height of pyramid segment\n     */\n    PyramidSeries.prototype.getSurfaceHeight = function (y, surface) {\n        var result = this.solveQuadraticEquation(1, 2 * y, -surface);\n        return result;\n    };\n    /**\n     * Solves quadratic equation\n     */\n    PyramidSeries.prototype.solveQuadraticEquation = function (a, b, c) {\n        var root1;\n        var root2;\n        var d = b * b - 4 * a * c;\n        if (d >= 0) {\n            var sd = Math.sqrt(d);\n            root1 = (-b - sd) / (2 * a);\n            root2 = (-b + sd) / (2 * a);\n            return Math.max(root1, root2);\n        }\n        return 0;\n    };\n    /**\n     * Renders a pyramid segment\n     */\n    PyramidSeries.prototype.renderPoint = function (point, series, chart, options) {\n        var direction = this.getSegmentData(point, series, chart);\n        point.midAngle = 0;\n        options.d = direction;\n    };\n    /**\n     * To get the module name of the Pyramid series.\n     */\n    PyramidSeries.prototype.getModuleName = function () {\n        return 'PyramidSeries';\n    };\n    /**\n     * To destroy the pyramid series\n     * @return {void}\n     * @private\n     */\n    PyramidSeries.prototype.destroy = function (accumulation) {\n        /**\n         * Destroys the pyramid series\n         */\n    };\n    return PyramidSeries;\n}(TriangularBase));\nexport { PyramidSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * AccumulationChart legend\n */\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pointByIndex } from '../model/acc-base';\nimport { BaseLegend, LegendOptions } from '../../common/legend/legend';\nimport { Rect, measureText, textTrim } from '../../common/utils/helper';\n/**\n * AccumulationLegend module used to render `Legend` for Accumulation chart.\n */\nvar AccumulationLegend = /** @class */ (function (_super) {\n    __extends(AccumulationLegend, _super);\n    /**\n     * Constructor for Accumulation Legend.\n     * @param chart\n     */\n    function AccumulationLegend(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.library = _this;\n        _this.titleRect = new Rect(0, chart.margin.top, 0, 0);\n        return _this;\n    }\n    /**\n     * Get the legend options.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.getLegendOptions = function (chart, series) {\n        this.legendCollections = [];\n        for (var i = 0; i < 1; i++) {\n            var seriesType = series[i].type;\n            if (seriesType === 'Pie' || seriesType === 'Doughnut') {\n                seriesType = (series[i].innerRadius !== '0' && series[i].innerRadius !== '0%') ?\n                    'Doughnut' : 'Pie';\n            }\n            for (var _i = 0, _a = series[i].points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                if (!isNullOrUndefined(point.x) && !isNullOrUndefined(point.y)) {\n                    this.legendCollections.push(new LegendOptions(point.x.toString(), point.color, series[i].legendShape, point.visible, seriesType, null, null, point.index, series[i].index));\n                }\n            }\n        }\n    };\n    /**\n     * To find legend bounds for accumulation chart.\n     * @private\n     */\n    AccumulationLegend.prototype.getLegendBounds = function (availableSize, legendBounds, legend) {\n        var extraWidth = 0;\n        var extraHeight = 0;\n        var padding = legend.padding;\n        if (!this.isVertical) {\n            extraHeight = !legend.height ? ((availableSize.height / 100) * 5) : 0;\n        }\n        else {\n            extraWidth = !legend.width ? ((availableSize.width / 100) * 5) : 0;\n        }\n        legendBounds.width += extraWidth;\n        legendBounds.height += extraHeight;\n        var shapePadding = legend.shapePadding;\n        var maximumWidth = 0;\n        var shapeWidth = legend.shapeWidth;\n        var rowWidth = 0;\n        var rowCount = 0;\n        var columnWidth = [];\n        var columnHeight = 0;\n        var legendWidth = 0;\n        this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n        var legendEventArgs;\n        var render = false;\n        for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n            var legendOption = _a[_i];\n            legendEventArgs = { fill: legendOption.fill, text: legendOption.text, shape: legendOption.shape,\n                name: 'legendRender', cancel: false };\n            this.chart.trigger('legendRender', legendEventArgs);\n            legendOption.render = !legendEventArgs.cancel;\n            legendOption.text = legendEventArgs.text;\n            legendOption.fill = legendEventArgs.fill;\n            legendOption.shape = legendEventArgs.shape;\n            legendOption.textSize = measureText(legendOption.text, legend.textStyle);\n            if (legendOption.render && legendOption.text !== '') {\n                render = true;\n                legendWidth = shapeWidth + shapePadding + legendOption.textSize.width + padding;\n                if (this.isVertical) {\n                    ++rowCount;\n                    columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding;\n                    if ((rowCount * (this.maxItemHeight + padding)) + padding > legendBounds.height) {\n                        columnHeight = Math.max(columnHeight, (rowCount * (this.maxItemHeight + padding)) + padding);\n                        rowWidth = rowWidth + maximumWidth;\n                        columnWidth.push(maximumWidth);\n                        this.totalPages = Math.max(rowCount, this.totalPages || 1);\n                        maximumWidth = 0;\n                        rowCount = 1;\n                    }\n                    maximumWidth = Math.max(legendWidth, maximumWidth);\n                }\n                else {\n                    rowWidth = rowWidth + legendWidth;\n                    if (legendBounds.width < (padding + rowWidth)) {\n                        maximumWidth = Math.max(maximumWidth, (rowWidth + padding - legendWidth));\n                        if (rowCount === 0 && (legendWidth !== rowWidth)) {\n                            rowCount = 1;\n                        }\n                        rowWidth = legendWidth;\n                        rowCount++;\n                        columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding;\n                    }\n                }\n            }\n        }\n        if (this.isVertical) {\n            rowWidth = rowWidth + maximumWidth;\n            this.isPaging = legendBounds.width < (rowWidth + padding);\n            columnHeight = Math.max(columnHeight, ((this.totalPages || 1) * (this.maxItemHeight + padding)) + padding);\n            this.isPaging = this.isPaging && (this.totalPages > 1);\n            if (columnWidth[columnWidth.length - 1] !== maximumWidth) {\n                columnWidth.push(maximumWidth);\n            }\n        }\n        else {\n            this.isPaging = legendBounds.height < columnHeight;\n            this.totalPages = this.totalRowCount = rowCount;\n            columnHeight = Math.max(columnHeight, (this.maxItemHeight + padding) + padding);\n        }\n        this.maxColumns = 0; // initialization for max columns\n        var width = this.isVertical ? this.getMaxColumn(columnWidth, legendBounds.width, padding, rowWidth + padding) :\n            Math.max(rowWidth + padding, maximumWidth);\n        if (render) {\n            this.setBounds(width, columnHeight, legend, legendBounds);\n        }\n        else {\n            this.setBounds(0, 0, legend, legendBounds);\n        }\n    };\n    /**\n     * To find maximum column size for legend\n     */\n    AccumulationLegend.prototype.getMaxColumn = function (columns, width, padding, rowWidth) {\n        var maxPageColumn = padding;\n        this.maxColumnWidth = Math.max.apply(null, columns);\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            maxPageColumn += this.maxColumnWidth;\n            this.maxColumns++;\n            if (maxPageColumn + padding > width) {\n                maxPageColumn -= this.maxColumnWidth;\n                this.maxColumns--;\n                break;\n            }\n        }\n        this.isPaging = (maxPageColumn < rowWidth) && (this.totalPages > 1);\n        if (maxPageColumn === padding) {\n            maxPageColumn = width;\n        }\n        this.maxColumns = Math.max(1, this.maxColumns);\n        this.maxWidth = maxPageColumn;\n        return maxPageColumn;\n    };\n    /**\n     * To find available width from legend x position.\n     */\n    AccumulationLegend.prototype.getAvailWidth = function (tx, width, legendX) {\n        if (this.isVertical) {\n            width = this.maxWidth;\n        }\n        return width - ((this.legend.padding * 2) + this.legend.shapeWidth + this.legend.shapePadding);\n    };\n    /**\n     * To find legend rendering locations from legend options.\n     * @private\n     */\n    AccumulationLegend.prototype.getRenderPoint = function (legendOption, start, textPadding, prevLegend, rect, count, firstLegend) {\n        var padding = this.legend.padding;\n        if (this.isVertical) {\n            if (count === firstLegend || (prevLegend.location.y + (this.maxItemHeight * 1.5) + (padding * 2) > rect.y + rect.height)) {\n                legendOption.location.x = prevLegend.location.x + ((count === firstLegend) ? 0 : this.maxColumnWidth);\n                legendOption.location.y = start.y;\n                this.pageXCollections.push(legendOption.location.x - (this.legend.shapeWidth / 2) - padding);\n                this.totalPages++;\n            }\n            else {\n                legendOption.location.x = prevLegend.location.x;\n                legendOption.location.y = prevLegend.location.y + this.maxItemHeight + padding;\n            }\n        }\n        else {\n            var previousBound = (prevLegend.location.x + textPadding + prevLegend.textSize.width);\n            if ((previousBound + (legendOption.textSize.width + textPadding)) > (rect.x + rect.width + this.legend.shapeWidth / 2)) {\n                legendOption.location.y = (count === firstLegend) ? prevLegend.location.y :\n                    prevLegend.location.y + this.maxItemHeight + padding;\n                legendOption.location.x = start.x;\n            }\n            else {\n                legendOption.location.y = prevLegend.location.y;\n                legendOption.location.x = (count === firstLegend) ? prevLegend.location.x : previousBound;\n            }\n            this.totalPages = this.totalRowCount;\n        }\n        var availablewidth = this.getAvailWidth(legendOption.location.x, this.legendBounds.width, this.legendBounds.x);\n        legendOption.text = textTrim(+availablewidth.toFixed(4), legendOption.text, this.legend.textStyle);\n    };\n    /**\n     * finding the smart legend place according to positions.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.getSmartLegendLocation = function (labelBound, legendBound, margin) {\n        var space;\n        switch (this.position) {\n            case 'Left':\n                space = ((labelBound.x - legendBound.width) - margin.left) / 2;\n                legendBound.x = (labelBound.x - legendBound.width) < margin.left ? legendBound.x :\n                    (labelBound.x - legendBound.width) - space;\n                break;\n            case 'Right':\n                space = ((this.chart.availableSize.width - margin.right) - (labelBound.x + labelBound.width + legendBound.width)) / 2;\n                legendBound.x = (labelBound.x + labelBound.width + legendBound.width) > (this.chart.availableSize.width - margin.right) ?\n                    legendBound.x : (labelBound.x + labelBound.width + space);\n                break;\n            case 'Top':\n                this.getTitleRect(this.chart);\n                space = ((labelBound.y - legendBound.height) - (this.titleRect.y + this.titleRect.height)) / 2;\n                legendBound.y = (labelBound.y - legendBound.height) < margin.top ? legendBound.y :\n                    (labelBound.y - legendBound.height) - space;\n                break;\n            case 'Bottom':\n                space = ((this.chart.availableSize.height - margin.bottom) - (labelBound.y + labelBound.height + legendBound.height)) / 2;\n                legendBound.y = labelBound.y + labelBound.height + legendBound.height > (this.chart.availableSize.height - margin.bottom) ?\n                    legendBound.y : (labelBound.y + labelBound.height) + space;\n                break;\n        }\n    };\n    /**\n     * To get title rect.\n     */\n    AccumulationLegend.prototype.getTitleRect = function (accumulation) {\n        if (!accumulation.title) {\n            return null;\n        }\n        var titleSize = measureText(accumulation.title, accumulation.titleStyle);\n        this.titleRect = new Rect(accumulation.availableSize.width / 2 - titleSize.width / 2, accumulation.margin.top, titleSize.width, titleSize.height);\n    };\n    /**\n     * To get legend by index\n     */\n    AccumulationLegend.prototype.legendByIndex = function (index, legendCollections) {\n        for (var _i = 0, legendCollections_1 = legendCollections; _i < legendCollections_1.length; _i++) {\n            var legend = legendCollections_1[_i];\n            if (legend.pointIndex === index) {\n                return legend;\n            }\n        }\n        return null;\n    };\n    /**\n     * To show or hide the legend on clicking the legend.\n     * @return {void}\n     */\n    AccumulationLegend.prototype.click = function (event) {\n        var targetId = event.target.id;\n        var legendItemsId = [this.legendID + '_text_', this.legendID + '_shape_',\n            this.legendID + '_shape_marker_'];\n        var selectedDataIndexes = [];\n        if (this.chart.accumulationSelectionModule) {\n            selectedDataIndexes = extend([], this.chart.accumulationSelectionModule.selectedDataIndexes, null, true);\n        }\n        for (var _i = 0, legendItemsId_1 = legendItemsId; _i < legendItemsId_1.length; _i++) {\n            var id = legendItemsId_1[_i];\n            if (targetId.indexOf(id) > -1) {\n                var pointIndex = parseInt(targetId.split(id)[1], 10);\n                var currentSeries = this.chart.visibleSeries[0];\n                var point = pointByIndex(pointIndex, currentSeries.points);\n                var legendOption = this.legendByIndex(pointIndex, this.legendCollections);\n                if (this.chart.legendSettings.toggleVisibility) {\n                    point.visible = !point.visible;\n                    legendOption.visible = point.visible;\n                    this.chart.removeSvg();\n                    if (point.visible) {\n                        currentSeries.sumOfPoints += point.y;\n                    }\n                    else {\n                        currentSeries.sumOfPoints -= point.y;\n                    }\n                    this.chart.refreshPoints(currentSeries.points);\n                    this.chart.renderElements();\n                }\n                else if (this.chart.accumulationSelectionModule) {\n                    this.chart.accumulationSelectionModule.legendSelection(this.chart, 0, pointIndex);\n                }\n            }\n        }\n        if (targetId.indexOf(this.legendID + '_pageup') > -1) {\n            this.changePage(event, true);\n        }\n        else if (targetId.indexOf(this.legendID + '_pagedown') > -1) {\n            this.changePage(event, false);\n        }\n    };\n    /**\n     * Get module name\n     */\n    AccumulationLegend.prototype.getModuleName = function () {\n        return 'AccumulationLegend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return AccumulationLegend;\n}(BaseLegend));\nexport { AccumulationLegend };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * AccumulationChart DataLabel module file\n */\nimport { extend, createElement } from '@syncfusion/ej2-base';\nimport { ChartLocation, degreeToLocation, Rect, isOverlap, stringToNumber, getAngle, TextOption } from '../../common/utils/helper';\nimport { textTrim, subtractThickness, Thickness, getElement } from '../../common/utils/helper';\nimport { removeElement, measureText, RectOption, textElement, showTooltip } from '../../common/utils/helper';\nimport { PathOption, colorNameToHex, convertHexToColor, containsRect } from '../../common/utils/helper';\nimport { getSeriesFromIndex } from '../model/acc-base';\nimport { textRender } from '../../common/model/constants';\nimport { getFontStyle, createTemplate, measureElementRect, templateAnimate } from '../../common/utils/helper';\nimport { AccumulationBase } from './accumulation-base';\n/**\n * AccumulationDataLabel module used to render `dataLabel`.\n */\nvar AccumulationDataLabel = /** @class */ (function (_super) {\n    __extends(AccumulationDataLabel, _super);\n    function AccumulationDataLabel(accumulation) {\n        var _this = _super.call(this, accumulation) || this;\n        _this.id = accumulation.element.id + '_datalabel_Series_';\n        if (accumulation.title) {\n            var titleSize = measureText(accumulation.title, accumulation.titleStyle);\n            _this.titleRect = new Rect(accumulation.availableSize.width / 2 - titleSize.width / 2, accumulation.margin.top, titleSize.width, titleSize.height);\n        }\n        return _this;\n    }\n    /**\n     * Method to get datalabel text location.\n     * @private\n     */\n    AccumulationDataLabel.prototype.getDataLabelPosition = function (point, dataLabel, textSize, points, parent, id) {\n        var radius = this.isCircular() ? this.labelRadius : this.getLabelDistance(point, dataLabel);\n        this.getLabelRegion(point, dataLabel.position, textSize, radius, this.marginValue);\n        point.labelAngle = point.midAngle;\n        point.labelPosition = dataLabel.position;\n        if (this.accumulation.enableSmartLabels) {\n            this.getSmartLabel(point, dataLabel, textSize, points, parent, id);\n        }\n    };\n    /**\n     * Method to get datalabel bound.\n     */\n    AccumulationDataLabel.prototype.getLabelRegion = function (point, position, textSize, labelRadius, margin, endAngle) {\n        if (endAngle === void 0) { endAngle = 0; }\n        var labelAngle = endAngle || point.midAngle;\n        var space = 10;\n        var location = degreeToLocation(labelAngle, labelRadius, this.isCircular() ? this.center :\n            this.getLabelLocation(point, position));\n        location.y = (position === 'Inside') ? (location.y - textSize.height / 2) : location.y;\n        location.x = (position === 'Inside') ? (location.x - textSize.width / 2) : location.x;\n        point.labelRegion = new Rect(location.x, location.y, textSize.width + (margin * 2), textSize.height + (margin * 2));\n        if (position === 'Outside') {\n            point.labelRegion.y -= point.labelRegion.height / 2;\n            if (labelAngle >= 90 && labelAngle <= 270) {\n                point.labelRegion.x -= (point.labelRegion.width + space);\n            }\n            else {\n                point.labelRegion.x += space;\n            }\n        }\n    };\n    /**\n     * Method to get datalabel smart position.\n     */\n    AccumulationDataLabel.prototype.getSmartLabel = function (point, dataLabel, textSize, points, parent, id) {\n        var circular = this.isCircular();\n        var labelRadius = circular ? this.radius : this.getLabelDistance(point, dataLabel);\n        var connectorLength = circular ? (dataLabel.connectorStyle.length || '4%') :\n            '0px';\n        labelRadius += stringToNumber(connectorLength, labelRadius);\n        var previousPoint = this.findPreviousPoint(points, point.index, point.labelPosition);\n        if (dataLabel.position === 'Inside') {\n            if (previousPoint && previousPoint.labelRegion && (isOverlap(point.labelRegion, previousPoint.labelRegion)\n                || this.isOverlapping(point, points)) || !circular && !containsRect(point.region, point.labelRegion)) {\n                point.labelPosition = 'Outside';\n                if (!circular) {\n                    labelRadius = this.getLabelDistance(point, dataLabel);\n                }\n                this.getLabelRegion(point, point.labelPosition, textSize, labelRadius, this.marginValue);\n                previousPoint = this.findPreviousPoint(points, point.index, point.labelPosition);\n                if (previousPoint && (isOverlap(point.labelRegion, previousPoint.labelRegion) ||\n                    this.isConnectorLineOverlapping(point, previousPoint))) {\n                    this.setOuterSmartLabel(previousPoint, point, dataLabel.border.width, labelRadius, textSize, this.marginValue);\n                }\n            }\n        }\n        else {\n            if (previousPoint && previousPoint.labelRegion && (isOverlap(point.labelRegion, previousPoint.labelRegion)\n                || this.isOverlapping(point, points) || this.isConnectorLineOverlapping(point, previousPoint))) {\n                this.setOuterSmartLabel(previousPoint, point, dataLabel.border.width, labelRadius, textSize, this.marginValue);\n            }\n        }\n        if (this.isOverlapping(point, points) || (this.titleRect && point.labelRegion && isOverlap(point.labelRegion, this.titleRect))) {\n            this.setPointVisibileFalse(point);\n        }\n        if (this.accumulation.accumulationLegendModule && point.labelVisible && point.labelRegion) {\n            var rect = this.accumulation.accumulationLegendModule.legendBounds;\n            var padding = this.accumulation.legendSettings.border.width / 2;\n            this.textTrimming(point, new Rect(rect.x - padding, rect.y - padding, rect.width + (2 * padding), rect.height + (2 * padding)), dataLabel.font, this.accumulation.accumulationLegendModule.position);\n        }\n        if (point.labelVisible && point.labelRegion) {\n            var position = this.isCircular() ? (point.labelRegion.x >= this.center.x) ? 'InsideRight' : 'InsideLeft' :\n                'InsideRight';\n            this.textTrimming(point, this.areaRect, dataLabel.font, position);\n        }\n        if (point.labelVisible && point.labelRegion && ((point.labelRegion.y + point.labelRegion.height >\n            this.areaRect.y + this.areaRect.height || point.labelRegion.y < this.areaRect.y) || (point.labelRegion.x < this.areaRect.x ||\n            point.labelRegion.x + point.labelRegion.width > this.areaRect.x + this.areaRect.width))) {\n            this.setPointVisibileFalse(point);\n        }\n    };\n    /**\n     * To find trimmed datalabel tooltip needed.\n     * @return {void}\n     * @private\n     */\n    AccumulationDataLabel.prototype.move = function (e, x, y, isTouch) {\n        var _this = this;\n        if (e.target.textContent.indexOf('...') > -1) {\n            var targetId = e.target.id.split(this.id);\n            if (targetId.length === 2) {\n                var seriesIndex = parseInt(targetId[1].split('_text_')[0], 10);\n                var pointIndex = parseInt(targetId[1].split('_text_')[1], 10);\n                if (!isNaN(seriesIndex) && !isNaN(pointIndex)) {\n                    if (isTouch) {\n                        removeElement(this.accumulation.element.id + '_EJ2_Datalabel_Tooltip');\n                    }\n                    var point = getSeriesFromIndex(seriesIndex, (this.accumulation).visibleSeries).points[pointIndex];\n                    showTooltip(point.text || point.y.toString(), x, y, this.areaRect.width, this.accumulation.element.id + '_EJ2_Datalabel_Tooltip', getElement(this.accumulation.element.id + '_Secondary_Element'));\n                }\n            }\n        }\n        else {\n            removeElement(this.accumulation.element.id + '_EJ2_Datalabel_Tooltip');\n        }\n        if (isTouch) {\n            clearTimeout(this.clearTooltip);\n            this.clearTooltip = setTimeout(function () { removeElement(_this.accumulation.element.id + '_EJ2_Datalabel_Tooltip'); }, 1000);\n        }\n    };\n    /**\n     * To find previous valid label point\n     */\n    AccumulationDataLabel.prototype.findPreviousPoint = function (points, index, position) {\n        var point = points[0];\n        for (var i = index - 1; i >= 0; i--) {\n            point = points[i];\n            if (point.visible && point.labelVisible && point.labelRegion && point.labelPosition === position) {\n                return point;\n            }\n        }\n        return null;\n    };\n    /**\n     * To find current point datalabel is overlapping with other points\n     */\n    AccumulationDataLabel.prototype.isOverlapping = function (currentPoint, points) {\n        for (var i = currentPoint.index - 1; i >= 0; i--) {\n            if (points[i].visible && points[i].labelVisible && points[i].labelRegion && currentPoint.labelRegion &&\n                currentPoint.labelVisible && isOverlap(currentPoint.labelRegion, points[i].labelRegion)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To get text trimmed while exceeds the accumulation chart area.\n     */\n    AccumulationDataLabel.prototype.textTrimming = function (point, rect, font, position) {\n        if (isOverlap(point.labelRegion, rect)) {\n            var size = point.labelRegion.width;\n            if (position === 'Right') {\n                size = rect.x - point.labelRegion.x;\n            }\n            else if (position === 'Left') {\n                size = point.labelRegion.x - (rect.x + rect.width);\n                if (size < 0) {\n                    size += point.labelRegion.width;\n                    point.labelRegion.x = rect.x + rect.width;\n                }\n            }\n            else if (position === 'InsideRight') {\n                size = (rect.x + rect.width) - point.labelRegion.x;\n            }\n            else if (position === 'InsideLeft') {\n                size = (point.labelRegion.x + point.labelRegion.width) - rect.x;\n                if (size < point.labelRegion.width) {\n                    point.labelRegion.x = rect.x;\n                }\n            }\n            else {\n                this.setPointVisibileFalse(point);\n            }\n            if (point.labelVisible && point.labelRegion) {\n                if (size < point.labelRegion.width) {\n                    point.label = textTrim(size - (this.marginValue * 2), point.label, font);\n                    point.labelRegion.width = size;\n                }\n                if (point.label.length === 3 && point.label.indexOf('...') > -1) {\n                    this.setPointVisibileFalse(point);\n                }\n            }\n        }\n    };\n    /**\n     * To set point label visible and region to disable.\n     */\n    AccumulationDataLabel.prototype.setPointVisibileFalse = function (point) {\n        point.labelVisible = false;\n        point.labelRegion = null;\n    };\n    /**\n     * To set datalabel angle position for outside labels\n     */\n    AccumulationDataLabel.prototype.setOuterSmartLabel = function (previousPoint, point, border, labelRadius, textsize, margin) {\n        if (!this.isCircular()) {\n            this.setSmartLabelForSegments(point, previousPoint, labelRadius, textsize, margin);\n        }\n        else {\n            var labelAngle = this.getOverlappedAngle(previousPoint.labelRegion, point.labelRegion, point.midAngle, border * 2);\n            this.getLabelRegion(point, 'Outside', textsize, labelRadius, margin, labelAngle);\n            if (labelAngle > point.endAngle) {\n                this.setPointVisibileFalse(point);\n            }\n            point.labelAngle = labelAngle;\n            while (point.labelVisible && (isOverlap(previousPoint.labelRegion, point.labelRegion) || labelAngle <= previousPoint.labelAngle\n                || this.isConnectorLineOverlapping(point, previousPoint))) {\n                if (labelAngle > point.endAngle) {\n                    this.setPointVisibileFalse(point);\n                    break;\n                }\n                point.labelAngle = labelAngle;\n                this.getLabelRegion(point, 'Outside', textsize, labelRadius, margin, labelAngle);\n                labelAngle += 0.1;\n            }\n        }\n    };\n    /**\n     * Sets smart label positions for funnel and pyramid series\n     */\n    AccumulationDataLabel.prototype.setSmartLabelForSegments = function (point, prevPoint, distance, textSize, margin) {\n        var textRegion = point.labelRegion;\n        //let overlapWidth: number = prevPoint.labelRegion.x + prevPoint.labelRegion.width - textRegion.x;\n        var overlapHeight = this.accumulation.type === 'Funnel' ?\n            prevPoint.labelRegion.y - (textRegion.y + textRegion.height) :\n            point.labelRegion.y - (prevPoint.labelRegion.y + prevPoint.labelRegion.height);\n        if (overlapHeight < 0) {\n            point.labelRegion.y += this.accumulation.type === 'Funnel' ? overlapHeight : -overlapHeight;\n        }\n    };\n    /**\n     * To find connector line overlapping.\n     */\n    AccumulationDataLabel.prototype.isConnectorLineOverlapping = function (point, previous) {\n        var start = this.getLabelLocation(point);\n        var end = new ChartLocation(0, 0);\n        this.getEdgeOfLabel(point.labelRegion, point.labelAngle, end);\n        var previousstart = this.getLabelLocation(previous);\n        var previousend = new ChartLocation(0, 0);\n        this.getEdgeOfLabel(previous.labelRegion, previous.labelAngle, previousend);\n        return this.isLineRectangleIntersect(start, end, point.labelRegion) ||\n            this.isLineRectangleIntersect(start, end, previous.labelRegion) ||\n            this.isLineRectangleIntersect(previousstart, previousend, point.labelRegion);\n    };\n    /**\n     * To find two rectangle intersect\n     */\n    AccumulationDataLabel.prototype.isLineRectangleIntersect = function (line1, line2, rect) {\n        var rectPoints = [\n            new ChartLocation(Math.round(rect.x), Math.round(rect.y)),\n            new ChartLocation(Math.round((rect.x + rect.width)), Math.round(rect.y)),\n            new ChartLocation(Math.round((rect.x + rect.width)), Math.round((rect.y + rect.height))),\n            new ChartLocation(Math.round(rect.x), Math.round((rect.y + rect.height)))\n        ];\n        line1.x = Math.round(line1.x);\n        line1.y = Math.round(line1.y);\n        line2.x = Math.round(line2.x);\n        line2.y = Math.round(line2.y);\n        for (var i = 0; i < rectPoints.length; i++) {\n            if (this.isLinesIntersect(line1, line2, rectPoints[i], rectPoints[(i + 1) % rectPoints.length])) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To find two line intersect\n     */\n    AccumulationDataLabel.prototype.isLinesIntersect = function (point1, point2, point11, point12) {\n        var a1 = point2.y - point1.y;\n        var b1 = point1.x - point2.x;\n        var c1 = a1 * point1.x + b1 * point1.y;\n        var a2 = point12.y - point11.y;\n        var b2 = point11.x - point12.x;\n        var c2 = a2 * point11.x + b2 * point11.y;\n        var delta = a1 * b2 - a2 * b1;\n        if (delta !== 0) {\n            var x = (b2 * c1 - b1 * c2) / delta;\n            var y = (a1 * c2 - a2 * c1) / delta;\n            var lies = Math.min(point1.x, point2.x) <= x && x <= Math.max(point1.x, point2.x);\n            lies = lies && Math.min(point1.y, point2.y) <= y && y <= Math.max(point1.y, point2.y);\n            lies = lies && Math.min(point11.x, point12.x) <= x && x <= Math.max(point11.x, point12.x);\n            lies = lies && Math.min(point11.y, point12.y) <= y && y <= Math.max(point11.y, point12.y);\n            return lies;\n        }\n        return false;\n    };\n    /**\n     * To get two rectangle overlapping angles.\n     */\n    AccumulationDataLabel.prototype.getOverlappedAngle = function (first, second, angle, padding) {\n        var x = first.x;\n        if (angle >= 90 && angle <= 270) {\n            second.y = first.y - (padding + second.height / 2);\n            x = first.x + first.width;\n        }\n        else {\n            second.y = first.y + first.height + padding;\n        }\n        return getAngle(this.center, new ChartLocation(x, second.y));\n    };\n    /**\n     * To get connector line path\n     */\n    AccumulationDataLabel.prototype.getConnectorPath = function (label, point, dataLabel, end) {\n        if (end === void 0) { end = 0; }\n        var connector = dataLabel.connectorStyle;\n        var labelRadius = this.isCircular() ? this.labelRadius : this.getLabelDistance(point, dataLabel);\n        var start = this.getConnectorStartPoint(point, connector);\n        var labelAngle = end || point.midAngle;\n        var middle = new ChartLocation(0, 0);\n        var endPoint = this.getEdgeOfLabel(label, labelAngle, middle, connector.width);\n        if (connector.type === 'Curve') {\n            if (this.isCircular()) {\n                var r = labelRadius - this.radius;\n                middle = degreeToLocation(labelAngle, labelRadius - (r / 2), this.center);\n                return 'M ' + start.x + ' ' + start.y + ' Q' + middle.x + ',' + middle.y + ' ' + endPoint.x + ',' + endPoint.y;\n            }\n            else {\n                return this.getPolyLinePath(start, endPoint);\n            }\n        }\n        else {\n            return 'M ' + start.x + ' ' + start.y + ' L ' + middle.x + ' ' + middle.y + ' L ' + endPoint.x + ' ' + endPoint.y;\n        }\n    };\n    /**\n     * Finds the curved path for funnel/pyramid data label connectors\n     */\n    AccumulationDataLabel.prototype.getPolyLinePath = function (start, end) {\n        var controlPoints = [start, end];\n        if (start.y === end.y) {\n            return 'M ' + start.x + ' ' + start.y + ' L ' + end.x + ' ' + end.y;\n        }\n        var path = 'M';\n        for (var i = 0; i <= 16; i++) {\n            var t = i / 16;\n            var points = this.getBezierPoint(t, controlPoints, 0, 2);\n            path += points.x + ',' + points.y;\n            if (i !== 16) {\n                path += ' L';\n            }\n        }\n        return path;\n    };\n    /**\n     * Finds the bezier point for funnel/pyramid data label connectors\n     */\n    AccumulationDataLabel.prototype.getBezierPoint = function (t, controlPoints, index, count) {\n        if (count === 1) {\n            return controlPoints[index];\n        }\n        var p0 = this.getBezierPoint(t, controlPoints, index, count - 1);\n        var p1 = this.getBezierPoint(t, controlPoints, index + 1, count - 1);\n        var x = (p0.x) ? p0.x : p0.x;\n        var y = (p0.y) ? p0.y : p0.y;\n        var x1 = (p1.x) ? p1.x : p1.x;\n        var y1 = (p1.y) ? p1.y : p1.y;\n        var x2 = (1 - t) * x + t * x1;\n        var y2 = (1 - t) * y + t * y1;\n        if (p0.x) {\n            return { x: x2, y: y2 };\n        }\n        else {\n            return { x: x2, y: y2 };\n        }\n    };\n    /**\n     * To get label edges based on the center and label rect position.\n     */\n    AccumulationDataLabel.prototype.getEdgeOfLabel = function (labelshape, angle, middle, border) {\n        if (border === void 0) { border = 1; }\n        var edge = new ChartLocation(labelshape.x, labelshape.y);\n        if (angle >= 90 && angle <= 270) {\n            edge.x += labelshape.width + border / 2;\n            edge.y += labelshape.height / 2;\n            middle.x = edge.x + 10;\n            middle.y = edge.y;\n        }\n        else {\n            edge.x -= border / 2;\n            edge.y += labelshape.height / 2;\n            middle.x = edge.x - 10;\n            middle.y = edge.y;\n        }\n        return edge;\n    };\n    /**\n     * Finds the distance between the label position and the edge/center of the funnel/pyramid\n     */\n    AccumulationDataLabel.prototype.getLabelDistance = function (point, dataLabel) {\n        if (point.labelPosition && dataLabel.position !== point.labelPosition || dataLabel.connectorStyle.length) {\n            var length_1 = stringToNumber(dataLabel.connectorStyle.length || '70px', this.accumulation.initialClipRect.width);\n            if (length_1 < this.accumulation.initialClipRect.width) {\n                return length_1;\n            }\n        }\n        var position = point.labelPosition || dataLabel.position;\n        var series = this.accumulation.visibleSeries[0];\n        var extraSpace = (this.accumulation.initialClipRect.width - series.triangleSize.width) / 2;\n        var labelLocation;\n        switch (position) {\n            case 'Inside':\n                return 0;\n            case 'Outside':\n                labelLocation = point.symbolLocation.x + point.labelOffset.x;\n                return this.accumulation.initialClipRect.width - labelLocation - extraSpace;\n        }\n    };\n    /**\n     * Finds the label position / beginning of the connector(ouside funnel labels)\n     */\n    AccumulationDataLabel.prototype.getLabelLocation = function (point, position) {\n        if (position === void 0) { position = 'Outside'; }\n        if (this.accumulation.type !== 'Pie') {\n            position = point.labelPosition || position;\n            var location_1 = {\n                x: point.symbolLocation.x,\n                y: point.symbolLocation.y - point.labelOffset.y\n            };\n            switch (position) {\n                case 'Inside':\n                    location_1.y = point.region.y + point.region.height / 2;\n                    break;\n                case 'Outside':\n                    location_1.x += point.labelOffset.x;\n            }\n            return location_1;\n        }\n        else {\n            return degreeToLocation(point.midAngle, this.radius, this.center);\n        }\n    };\n    /**\n     * Finds the beginning of connector line\n     */\n    AccumulationDataLabel.prototype.getConnectorStartPoint = function (point, connector) {\n        return this.isCircular() ? degreeToLocation(point.midAngle, this.radius - connector.width, this.center) :\n            this.getLabelLocation(point);\n    };\n    /**\n     * To find area rect based on margin, available size.\n     * @private\n     */\n    AccumulationDataLabel.prototype.findAreaRect = function () {\n        this.areaRect = new Rect(0, 0, this.accumulation.availableSize.width, this.accumulation.availableSize.height);\n        var margin = this.accumulation.margin;\n        subtractThickness(this.areaRect, new Thickness(margin.left, margin.right, margin.top, margin.bottom));\n    };\n    /**\n     * To render the data labels from series points.\n     */\n    AccumulationDataLabel.prototype.renderDataLabel = function (point, dataLabel, parent, points, series, templateElement) {\n        var id = this.accumulation.element.id + '_datalabel_Series_' + series + '_';\n        var datalabelGroup = this.accumulation.renderer.createGroup({ id: id + 'g_' + point.index });\n        point.label = point.originalText || point.y.toString();\n        var border = { width: dataLabel.border.width, color: dataLabel.border.color };\n        var argsData = {\n            cancel: false, name: textRender, series: this.accumulation.visibleSeries[0], point: point,\n            text: point.label, border: border, color: dataLabel.fill, template: dataLabel.template\n        };\n        this.accumulation.trigger(textRender, argsData);\n        var isTemplate = argsData.template !== null;\n        point.labelVisible = !argsData.cancel;\n        point.text = point.label = argsData.text;\n        this.marginValue = argsData.border.width ? (5 + argsData.border.width) : 1;\n        // Template element\n        var childElement = createElement('div', {\n            id: this.accumulation.element.id + '_Series_' + 0 + '_DataLabel_' + point.index,\n            styles: 'position: absolute;background-color:' + argsData.color + ';' +\n                getFontStyle(dataLabel.font) + ';border:' + argsData.border.width + 'px solid ' + argsData.border.color + ';'\n        });\n        var textSize = isTemplate ? this.getTemplateSize(childElement, point, argsData) :\n            measureText(point.label, dataLabel.font);\n        textSize.height += 4; // 4 for calculation with padding for smart label shape\n        textSize.width += 4;\n        this.getDataLabelPosition(point, dataLabel, textSize, points, datalabelGroup, id);\n        if (point.labelVisible) {\n            this.correctLabelRegion(point.labelRegion, textSize);\n            if (isTemplate) {\n                this.setTemplateStyle(childElement, point, templateElement, dataLabel.font.color, argsData.color);\n            }\n            else {\n                datalabelGroup.appendChild(this.accumulation.renderer.drawRectangle(new RectOption(id + 'shape_' + point.index, argsData.color, argsData.border, 1, point.labelRegion, dataLabel.rx, dataLabel.ry)));\n                textElement(new TextOption(id + 'text_' + point.index, point.labelRegion.x + this.marginValue, point.labelRegion.y + (textSize.height * 3 / 4) + this.marginValue, 'start', point.label, '', 'auto'), dataLabel.font, dataLabel.font.color || this.getSaturatedColor(point, argsData.color), datalabelGroup);\n            }\n            if (this.accumulation.accumulationLegendModule && (dataLabel.position === 'Outside' || this.accumulation.enableSmartLabels)) {\n                this.accumulation.visibleSeries[0].findMaxBounds(this.accumulation.visibleSeries[0].labelBound, point.labelRegion);\n            }\n            if (point.labelPosition === 'Outside') {\n                var path = this.getConnectorPath(extend({}, point.labelRegion, null, true), point, dataLabel, point.labelAngle);\n                var pathElement = this.accumulation.renderer.drawPath(new PathOption(id + 'connector_' + point.index, 'transparent', dataLabel.connectorStyle.width, dataLabel.connectorStyle.color || point.color, 1, '', path));\n                datalabelGroup.appendChild(pathElement);\n            }\n            parent.appendChild(datalabelGroup);\n        }\n    };\n    /**\n     * To find the template element size\n     * @param element\n     * @param point\n     * @param argsData\n     */\n    AccumulationDataLabel.prototype.getTemplateSize = function (element, point, argsData) {\n        var clientRect;\n        element = createTemplate(element, point.index, argsData.template, this.accumulation, point, this.accumulation.visibleSeries[0]);\n        clientRect = measureElementRect(element);\n        return { width: clientRect.width, height: clientRect.height };\n    };\n    /**\n     * To set the template element style\n     * @param childElement\n     * @param point\n     * @param parent\n     * @param labelColor\n     * @param fill\n     */\n    AccumulationDataLabel.prototype.setTemplateStyle = function (childElement, point, parent, labelColor, fill) {\n        childElement.style.left = (point.labelRegion.x) + 'px';\n        childElement.style.top = (point.labelRegion.y) + 'px';\n        childElement.style.color = labelColor ||\n            this.getSaturatedColor(point, fill);\n        if (childElement.childElementCount) {\n            parent.appendChild(childElement);\n            this.doTemplateAnimation(this.accumulation, childElement);\n        }\n    };\n    /**\n     * To find saturated color for datalabel\n     */\n    AccumulationDataLabel.prototype.getSaturatedColor = function (point, color) {\n        var saturatedColor;\n        if (this.marginValue >= 1) {\n            saturatedColor = color === 'transparent' ? this.getLabelBackground(point) : color;\n        }\n        else {\n            saturatedColor = this.getLabelBackground(point);\n        }\n        saturatedColor = (saturatedColor === 'transparent') ? window.getComputedStyle(document.body, null).backgroundColor : saturatedColor;\n        var rgbValue = convertHexToColor(colorNameToHex(saturatedColor));\n        var contrast = Math.round((rgbValue.r * 299 + rgbValue.g * 587 + rgbValue.b * 114) / 1000);\n        return contrast >= 128 ? 'black' : 'white';\n    };\n    /**\n     * Animates the data label template.\n     * @return {void}.\n     * @private\n     */\n    AccumulationDataLabel.prototype.doTemplateAnimation = function (accumulation, element) {\n        var series = accumulation.visibleSeries[0];\n        var delay = series.animation.delay + series.animation.duration;\n        if (series.animation.enable && accumulation.animateSeries) {\n            element.style.visibility = 'hidden';\n            templateAnimate(element, delay, 200, 'ZoomIn');\n        }\n    };\n    /**\n     * To find background color for the datalabel\n     */\n    AccumulationDataLabel.prototype.getLabelBackground = function (point) {\n        return point.labelPosition === 'Outside' ?\n            this.accumulation.background || this.accumulation.themeStyle.background : point.color;\n    };\n    /**\n     * To correct the padding between datalabel regions.\n     */\n    AccumulationDataLabel.prototype.correctLabelRegion = function (labelRegion, textSize, padding) {\n        if (padding === void 0) { padding = 4; }\n        labelRegion.height -= padding;\n        labelRegion.width -= padding;\n        labelRegion.x += padding / 2;\n        labelRegion.y += padding / 2;\n        textSize.height -= padding;\n        textSize.width -= padding;\n    };\n    /**\n     * To get the dataLabel module name\n     */\n    AccumulationDataLabel.prototype.getModuleName = function () {\n        return 'AccumulationDataLabel';\n    };\n    /**\n     * To destroy the data label.\n     * @return {void}\n     * @private\n     */\n    AccumulationDataLabel.prototype.destroy = function (accumulation) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return AccumulationDataLabel;\n}(AccumulationBase));\nexport { AccumulationDataLabel };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * AccumulationChart Tooltip file\n */\nimport { Browser, Animation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { AccPointData, withInBounds, ChartLocation, PathOption, drawSymbol, Size, indexFinder } from '../../common/utils/helper';\nimport { BaseTooltip } from '../../common/user-interaction/tooltip';\n/**\n * `AccumulationTooltip` module is used to render tooltip for accumulation chart.\n */\nvar AccumulationTooltip = /** @class */ (function (_super) {\n    __extends(AccumulationTooltip, _super);\n    function AccumulationTooltip(accumulation) {\n        var _this = _super.call(this, accumulation) || this;\n        _this.accumulation = accumulation;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    AccumulationTooltip.prototype.addEventListener = function () {\n        if (this.accumulation.isDestroyed) {\n            return;\n        }\n        this.accumulation.on(Browser.isPointer ? 'pointerleave' : 'mouseleave', this.mouseLeaveHandler, this);\n        this.accumulation.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.accumulation.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    AccumulationTooltip.prototype.mouseLeaveHandler = function (e) {\n        this.removeTooltip(1000);\n    };\n    AccumulationTooltip.prototype.mouseUpHandler = function (e) {\n        var control = this.accumulation;\n        if (control.tooltip.enable && control.isTouch && withInBounds(control.mouseX, control.mouseY, control.initialClipRect)) {\n            this.tooltip(e);\n            this.removeTooltip(2000);\n        }\n    };\n    AccumulationTooltip.prototype.mouseMoveHandler = function (e) {\n        var control = this.accumulation;\n        // Tooltip for chart series.    \n        if (control.tooltip.enable && withInBounds(control.mouseX, control.mouseY, control.initialClipRect)) {\n            this.tooltip(e);\n        }\n    };\n    /**\n     * Renders the tooltip.\n     * @param  {PointerEvent} event - Mouse move event.\n     * @return {void}\n     */\n    AccumulationTooltip.prototype.tooltip = function (event) {\n        var isTooltip = this.getElement(this.element.id + '_tooltip');\n        var tooltipDiv = this.getTooltipElement(isTooltip);\n        this.renderSeriesTooltip(event, this.accumulation, !isTooltip, tooltipDiv);\n    };\n    AccumulationTooltip.prototype.renderSeriesTooltip = function (e, chart, isFirst, tooltipDiv) {\n        var data = this.getPieData(e, chart, chart.mouseX, chart.mouseY);\n        var rect = chart.initialClipRect;\n        this.currentPoints = [];\n        var markerSide;\n        if (data.point && (!this.previousPoints[0] || (this.previousPoints[0].point !== data.point))) {\n            if (this.pushData(data, isFirst, tooltipDiv, false)) {\n                var text = this.getTooltipText(data, chart.tooltip);\n                if (!chart.tooltip.template) {\n                    if (this.header !== '') {\n                        this.findHeader(data);\n                    }\n                    markerSide = this.renderTooltip(data, rect, data.point.symbolLocation, text, isFirst, false);\n                    if (markerSide) {\n                        this.drawMarker(markerSide.isBottom, 10);\n                    }\n                }\n                else {\n                    this.renderTemplate(data, rect, data.point.symbolLocation, this.getTemplateText(data), isFirst);\n                }\n                this.isRemove = true;\n            }\n            this.previousPoints = extend([], this.currentPoints, null, true);\n        }\n        else {\n            if (!data.point && this.isRemove) {\n                this.removeTooltip(1000);\n                this.isRemove = false;\n            }\n        }\n    };\n    AccumulationTooltip.prototype.drawMarker = function (isBottom, size) {\n        var count = 0;\n        var shapeOption;\n        var groupElement = this.getElement(this.element.id + '_tooltip_group');\n        var markerGroup = this.chart.renderer.createGroup({ id: this.element.id + '_tooltip_trackball_group' });\n        var x = (this.padding * 2) + (size / 2);\n        var y;\n        var series;\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n            var data = _a[_i];\n            series = data.series;\n            y = this.markerPoint[count] - this.padding + (isBottom ? this.arrowPadding : 0);\n            shapeOption = new PathOption(this.element.id + '_Tooltip_Trackball_' + series.index, data.point.color, 1, '#cccccc', series.opacity, null);\n            markerGroup.appendChild(drawSymbol(new ChartLocation(x, y), 'Circle', new Size(size, size), null, shapeOption, null));\n            count++;\n        }\n        groupElement.appendChild(markerGroup);\n    };\n    AccumulationTooltip.prototype.getPieData = function (e, chart, x, y) {\n        var target = e.target;\n        var id = indexFinder(target.id, true);\n        if (!isNaN(id.series)) {\n            var seriesIndex = id.series;\n            var pointIndex = id.point;\n            if (!isNullOrUndefined(seriesIndex) && !isNaN(seriesIndex) && !isNullOrUndefined(pointIndex) && !isNaN(pointIndex)) {\n                var series = this.getSeriesFromIndex(seriesIndex, chart.visibleSeries);\n                if (series.enableTooltip) {\n                    return new AccPointData(series.points[pointIndex], series);\n                }\n            }\n        }\n        return new AccPointData(null, null);\n    };\n    /**\n     * To get series from index\n     */\n    AccumulationTooltip.prototype.getSeriesFromIndex = function (index, visibleSeries) {\n        return visibleSeries[0];\n    };\n    AccumulationTooltip.prototype.getTemplateText = function (data) {\n        var point = extend({}, data.point);\n        return point;\n    };\n    AccumulationTooltip.prototype.getTooltipText = function (data, tooltip) {\n        var series = data.series;\n        var format = tooltip.format ? tooltip.format : '${point.x} : <b>${point.y}</b>';\n        return this.parseTemplate(data.point, series, format);\n    };\n    AccumulationTooltip.prototype.findHeader = function (data) {\n        this.header = this.parseTemplate(data.point, data.series, this.header);\n        if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n            this.formattedText = this.formattedText.concat(this.header);\n        }\n    };\n    AccumulationTooltip.prototype.parseTemplate = function (point, series, format) {\n        var value;\n        var textValue;\n        for (var _i = 0, _a = Object.keys(point); _i < _a.length; _i++) {\n            var dataValue = _a[_i];\n            value = new RegExp('${point' + '.' + dataValue + '}', 'gm');\n            format = format.replace(value.source, point[dataValue]);\n        }\n        for (var _b = 0, _c = Object.keys(Object.getPrototypeOf(series)); _b < _c.length; _b++) {\n            var dataValue = _c[_b];\n            value = new RegExp('${series' + '.' + dataValue + '}', 'gm');\n            textValue = series[dataValue];\n            format = format.replace(value.source, textValue);\n        }\n        return format;\n    };\n    /**\n     * Removes the tooltip on mouse leave.\n     * @return {void}\n     * @private\n     */\n    AccumulationTooltip.prototype.removeTooltip = function (duration) {\n        var _this = this;\n        var chart = this.control;\n        var tooltipElement = this.getElement(this.element.id + '_tooltip');\n        this.stopAnimation();\n        if (tooltipElement && this.previousPoints.length > 0) {\n            var data_1 = this.previousPoints;\n            this.toolTipInterval = setTimeout(function () {\n                var series = data_1[0].series;\n                var tooltipGroup = tooltipElement.firstChild;\n                var opacity = parseFloat(tooltipGroup.getAttribute('opacity')) || 1;\n                var element = _this.getElement(chart.element.id + '_Series_' + data_1[0].series.index\n                    + '_Point_' + data_1[0].point.index);\n                var rectOpacity;\n                if (element) {\n                    rectOpacity = parseFloat(element.getAttribute('opacity'));\n                }\n                new Animation({}).animate(tooltipGroup, {\n                    duration: 200,\n                    progress: function (args) {\n                        _this.progressAnimation(element, tooltipGroup, series, opacity, rectOpacity, (args.timeStamp / args.duration), series.isRectSeries, false);\n                    },\n                    end: function (model) {\n                        _this.previousPoints = [];\n                        _this.endAnimation(element, tooltipGroup, series, false);\n                    }\n                });\n            }, duration);\n        }\n    };\n    /**\n     * Get module name\n     */\n    AccumulationTooltip.prototype.getModuleName = function () {\n        return 'AccumulationTooltip';\n    };\n    /**\n     * To destroy the Tooltip.\n     * @return {void}\n     * @private\n     */\n    AccumulationTooltip.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return AccumulationTooltip;\n}(BaseTooltip));\nexport { AccumulationTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend } from '@syncfusion/ej2-base';\nimport { indexFinder } from '../../common/utils/helper';\nimport { pointByIndex } from '../model/acc-base';\nimport { Index } from '../../common/model/base';\nimport { BaseSelection } from '../../common/user-interaction/selection';\n/**\n * `AccumulationSelection` module handles the selection for accumulation chart.\n * @private\n */\nvar AccumulationSelection = /** @class */ (function (_super) {\n    __extends(AccumulationSelection, _super);\n    function AccumulationSelection(accumulation) {\n        var _this = _super.call(this, accumulation) || this;\n        _this.renderer = accumulation.renderer;\n        return _this;\n    }\n    /**\n     * To initialize the private variables\n     */\n    AccumulationSelection.prototype.initPrivateVariables = function (accumulation) {\n        this.styleId = accumulation.element.id + '_ej2_chart_selection';\n        this.unselected = accumulation.element.id + '_ej2_deselected';\n        this.selectedDataIndexes = [];\n        this.rectPoints = null;\n    };\n    /**\n     * Invoke selection for rendered chart.\n     * @param  {AccumulationChart} chart - Define the chart to invoke the selection.\n     * @return {void}\n     */\n    AccumulationSelection.prototype.invokeSelection = function (accumulation) {\n        this.initPrivateVariables(accumulation);\n        this.series = extend({}, accumulation.visibleSeries, null, true);\n        this.seriesStyles();\n        this.selectDataIndex(this.concatIndexes(accumulation.selectedDataIndexes, this.selectedDataIndexes), accumulation);\n    };\n    /**\n     * To get series selection style by series.\n     */\n    AccumulationSelection.prototype.generateStyle = function (series) {\n        return (series.selectionStyle || this.styleId + '_series_' + series.index);\n    };\n    /**\n     * To get elements by index, series\n     */\n    AccumulationSelection.prototype.findElements = function (accumulation, series, index) {\n        return [this.getElementByIndex(index)];\n    };\n    /**\n     * To get series point element by index\n     */\n    AccumulationSelection.prototype.getElementByIndex = function (index) {\n        var elementId = this.control.element.id + '_Series_' + index.series + '_Point_' + index.point;\n        return document.getElementById(elementId);\n    };\n    /**\n     * To calculate selected elements on mouse click or touch\n     * @private\n     */\n    AccumulationSelection.prototype.calculateSelectedElements = function (accumulation, event) {\n        if (event.target.id.indexOf(accumulation.element.id + '_') === -1) {\n            return;\n        }\n        if (event.target.id.indexOf('_Series_') > -1 || event.target.id.indexOf('_datalabel_') > -1) {\n            this.performSelection(indexFinder(event.target.id), accumulation, event.target);\n        }\n    };\n    /**\n     * To perform the selection process based on index and element.\n     */\n    AccumulationSelection.prototype.performSelection = function (index, accumulation, element) {\n        element = element.id.indexOf('datalabel') > -1 ?\n            accumulation.getSeriesElement().childNodes[index.series].childNodes[index.point]\n            : element;\n        switch (accumulation.selectionMode) {\n            case 'Point':\n                if (!isNaN(index.point)) {\n                    this.selection(accumulation, index, [element]);\n                    this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n                }\n                break;\n        }\n    };\n    /**\n     * To select the element by index. Adding or removing selection style class name.\n     */\n    AccumulationSelection.prototype.selection = function (accumulation, index, selectedElements) {\n        if (!accumulation.isMultiSelect) {\n            this.removeMultiSelectEelments(accumulation, this.selectedDataIndexes, index, accumulation.series);\n        }\n        var className = selectedElements[0] && (selectedElements[0].getAttribute('class') || '');\n        if (selectedElements[0] && className.indexOf(this.getSelectionClass(selectedElements[0].id)) > -1) {\n            this.removeStyles(selectedElements, index);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index);\n        }\n        else {\n            this.applyStyles(selectedElements, index);\n            this.addOrRemoveIndex(this.selectedDataIndexes, index, true);\n        }\n    };\n    /**\n     * To redraw the selection process on accumulation chart refresh.\n     * @private\n     */\n    AccumulationSelection.prototype.redrawSelection = function (accumulation, oldMode) {\n        var selectedDataIndexes = extend([], this.selectedDataIndexes, null, true);\n        this.removeSelectedElements(accumulation, this.selectedDataIndexes);\n        this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n        this.selectDataIndex(selectedDataIndexes, accumulation);\n    };\n    /**\n     * To remove the selected elements style classes by indexes.\n     */\n    AccumulationSelection.prototype.removeSelectedElements = function (accumulation, indexes) {\n        var seriesgroup = accumulation.getSeriesElement();\n        for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\n            var index = indexes_1[_i];\n            this.removeStyles([this.getElementByIndex(index)], index);\n        }\n    };\n    /**\n     * To perform the selection for legend elements.\n     * @private\n     */\n    AccumulationSelection.prototype.legendSelection = function (accumulation, series, pointIndex) {\n        var element = accumulation.getSeriesElement().childNodes[series].childNodes[pointIndex];\n        var seriesStyle = this.generateStyle(accumulation.visibleSeries[series]);\n        var seriesElements = accumulation.getSeriesElement().childNodes[series].childNodes[pointIndex];\n        this.selection(accumulation, new Index(series, pointIndex), [seriesElements]);\n        this.blurEffect(accumulation.element.id, accumulation.visibleSeries);\n    };\n    /**\n     * To select the element by selected data indexes.\n     */\n    AccumulationSelection.prototype.selectDataIndex = function (indexes, accumulation) {\n        var element;\n        for (var _i = 0, indexes_2 = indexes; _i < indexes_2.length; _i++) {\n            var index = indexes_2[_i];\n            element = this.getElementByIndex(index);\n            if (element) {\n                this.performSelection(index, accumulation, element);\n            }\n        }\n    };\n    /**\n     * To remove the selection styles for multi selection process.\n     */\n    AccumulationSelection.prototype.removeMultiSelectEelments = function (accumulation, index, currentIndex, seriesCollection) {\n        var series;\n        for (var i = 0; i < index.length; i++) {\n            series = seriesCollection[index[i].series];\n            if (!this.checkEquals(index[i], currentIndex)) {\n                this.removeStyles(this.findElements(accumulation, series, index[i]), index[i]);\n                index.splice(i, 1);\n                i--;\n            }\n        }\n    };\n    /**\n     * To apply the opacity effect for accumulation chart series elements.\n     */\n    AccumulationSelection.prototype.blurEffect = function (pieId, visibleSeries) {\n        var visibility = this.checkPointVisibility(this.selectedDataIndexes); // legend click scenario\n        for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n            var series = visibleSeries_1[_i];\n            if (series.visible) {\n                this.checkSelectionElements(document.getElementById(pieId + '_SeriesCollection'), this.generateStyle(series), visibility);\n            }\n        }\n    };\n    /**\n     * To check selection elements by style class name.\n     */\n    AccumulationSelection.prototype.checkSelectionElements = function (element, className, visibility) {\n        var children = (element.childNodes[0].childNodes);\n        var legendShape;\n        var elementClass;\n        var parentClass;\n        for (var i = 0; i < children.length; i++) {\n            elementClass = children[i].getAttribute('class') || '';\n            parentClass = children[i].parentNode.getAttribute('class') || '';\n            if (elementClass.indexOf(className) === -1 && parentClass.indexOf(className) === -1 && visibility) {\n                this.addSvgClass(children[i], this.unselected);\n            }\n            else {\n                this.removeSvgClass(children[i], this.unselected);\n            }\n            if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + i);\n                if (legendShape) {\n                    if (elementClass.indexOf(className) === -1 && parentClass.indexOf(className) === -1 && visibility) {\n                        this.addSvgClass(legendShape, this.unselected);\n                    }\n                    else {\n                        this.removeSvgClass(legendShape, this.unselected);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To apply selection style for elements.\n     */\n    AccumulationSelection.prototype.applyStyles = function (elements, index) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            var legendShape = void 0;\n            if (element) {\n                if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                    legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + index.point);\n                    this.removeSvgClass(legendShape, this.unselected);\n                    this.addSvgClass(legendShape, this.getSelectionClass(legendShape.id));\n                }\n                this.removeSvgClass(element.parentNode, this.unselected);\n                this.removeSvgClass(element, this.unselected);\n                this.addSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    /**\n     * To get selection style class name by id\n     */\n    AccumulationSelection.prototype.getSelectionClass = function (id) {\n        return this.generateStyle(this.control.series[indexFinder(id).series]);\n    };\n    /**\n     * To remove selection style for elements.\n     */\n    AccumulationSelection.prototype.removeStyles = function (elements, index) {\n        var legendShape;\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            if (element) {\n                if (this.control.accumulationLegendModule && this.control.legendSettings.visible) {\n                    legendShape = document.getElementById(this.control.element.id + '_chart_legend_shape_' + index.point);\n                    this.removeSvgClass(legendShape, this.getSelectionClass(legendShape.id));\n                }\n                this.removeSvgClass(element, this.getSelectionClass(element.id));\n            }\n        }\n    };\n    /**\n     * To apply or remove selected elements index.\n     */\n    AccumulationSelection.prototype.addOrRemoveIndex = function (indexes, index, add) {\n        for (var i = 0; i < indexes.length; i++) {\n            if (this.checkEquals(indexes[i], index)) {\n                indexes.splice(i, 1);\n                i--;\n            }\n        }\n        if (add) {\n            indexes.push(index);\n        }\n    };\n    /**\n     * To check two index, point and series are equal\n     */\n    AccumulationSelection.prototype.checkEquals = function (first, second) {\n        return ((first.point === second.point) && (first.series === second.series));\n    };\n    /**\n     * To check selected points are visibility\n     */\n    AccumulationSelection.prototype.checkPointVisibility = function (selectedDataIndexes) {\n        var visible = false;\n        for (var _i = 0, selectedDataIndexes_1 = selectedDataIndexes; _i < selectedDataIndexes_1.length; _i++) {\n            var data = selectedDataIndexes_1[_i];\n            if (pointByIndex(data.point, this.control.visibleSeries[0].points).visible) {\n                visible = true;\n                break;\n            }\n        }\n        return visible;\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationSelection.prototype.getModuleName = function () {\n        return 'AccumulationSelection';\n    };\n    /**\n     * To destroy the selection.\n     * @return {void}\n     * @private\n     */\n    AccumulationSelection.prototype.destroy = function (accumulation) {\n        // Destroy method performed here\n    };\n    return AccumulationSelection;\n}(BaseSelection));\nexport { AccumulationSelection };\n","/**\n * AccumulationChart annotation properties\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AnnotationBase } from '../../common/annotation/annotation';\nimport { appendElement } from '../../common/utils/helper';\nimport { createElement } from '@syncfusion/ej2-base';\n/**\n * `AccumulationAnnotation` module handles the annotation for accumulation chart.\n */\nvar AccumulationAnnotation = /** @class */ (function (_super) {\n    __extends(AccumulationAnnotation, _super);\n    /**\n     * Constructor for accumulation chart annotation.\n     * @private.\n     */\n    function AccumulationAnnotation(control, annotations) {\n        var _this = _super.call(this, control) || this;\n        _this.pie = control;\n        _this.annotations = annotations;\n        return _this;\n    }\n    /**\n     * Method to render the annotation for accumulation chart\n     * @param element\n     */\n    AccumulationAnnotation.prototype.renderAnnotations = function (element) {\n        var _this = this;\n        this.parentElement = createElement('div', {\n            id: this.pie.element.id + '_Annotation_Collections'\n        });\n        this.annotations.map(function (annotation, index) {\n            _this.processAnnotation(annotation, index, _this.parentElement);\n        });\n        appendElement(this.parentElement, element);\n    };\n    /**\n     * Get module name.\n     */\n    AccumulationAnnotation.prototype.getModuleName = function () {\n        // Returns te module name\n        return 'Annotation';\n    };\n    /**\n     * To destroy the annotation.\n     * @return {void}\n     * @private\n     */\n    AccumulationAnnotation.prototype.destroy = function (control) {\n        // Destroy method performed here\n    };\n    return AccumulationAnnotation;\n}(AnnotationBase));\nexport { AccumulationAnnotation };\n"],"names":["createInstance","classFunction","params","arrayParam","unshift","undefined","Function","prototype","bind","apply","setImmediate","handler","unbind","num","Uint16Array","window","msCrypto","crypto","getRandomValues","secret","combineArray","messageHandler","event","source","data","length","addEventListener","postMessage","removeEventListener","getValue","nameSpace","obj","value","splits","split","i","isUndefined","setValue","key","keys","start","fromObj","isNullOrUndefined","deleteObject","isObject","objCon","constructor","getEnumValue","enumObject","enumValue","merge","destination","temrObj","tempProp","_i","keys_1","Object","extend","copied","first","second","deep","result","arguments","arguments_1","obj1","forEach","clone","src","copy","getUniqueID","definedName","uid","debounce","eventFunction","delay","out","_this","this","args","later","clearTimeout","setTimeout","queryParams","array","keys_2","push","encodeURIComponent","join","isObjectArray","parser","toString","call","compareElementParent","child","parent","node","document","parentNode","throwError","message","Error","e","stack","print","element","printWindow","div","createElement","links","slice","getElementsByTagName","querySelectorAll","reference","open","appendChild","cloneNode","len","outerHTML","write","innerHTML","close","focus","interval","setInterval","ready","clearInterval","formatUnit","indexOf","getInstance","component","elem","querySelector","instances","_a","inst","addInstance","instance","ret","tagName","properties","className","id","styles","setAttribute","attrs","attributes","addClass","elements","classes","classList","getClassList","ele","_b","classList_1","contains","add","removeClass","classList_2","remove","isVisible","style","visibility","offsetWidth","prepend","fromElements","toElement","docFrag","createDocumentFragment","insertBefore","firstElementChild","append","detach","removeChild","EventHandler","clearEvents","select","selector","context","selectAll","closest","el","nodeType","matches","siblings","childNodes_1","Array","childNodes","curNode","Node","ELEMENT_NODE","getAttributeOrDefault","property","attrVal","getAttribute","setStyleAttribute","addClasses","removeClasses","msMatchesSelector","webkitMatchesSelector","getObject","curKey","defaultValue","type","hasOwnProperty","getObjectArray","isSetter","isFactory","curType","setProperties","propertyGetter","propertySetter","newValue","oldVal","saveChanges","complexGetter","complexSetter","complexFactoryGetter","complexFactorySetter","complexArrayGetter","defCollection","complexArraySetter","oldValueCollection","newValCollection","complexArrayFactorySetter","complexArrayFactoryGetter","Property","target","propertyDescriptor","set","get","enumerable","configurable","defineProperty","addPropertyCollection","Complex","ComplexFactory","Collection","CollectionFactory","Event","eventDescriptor","oldValue","finalContext","getParentContext","prefix","NotifyPropertyChanges","classConstructor","propertyType","propList","props","complexProps","colProps","events","propNames","complexPropNames","colPropNames","eventNames","propertyName","getBuilderProperties","builderObject","propCollections","isPropertyArray","rex","_c","prop","test","childType","tempValue","CreateBuilder","builderFunction","create","temp","curText","rippleEffect","rippleOptions","done","rippleModel","getRippleModel","rippleFlag","isRippleEnabled","rippleHandler","rippleUpHandler","rippleLeaveHandler","Browser","isPointer","removeAttribute","ignore","isCenterRipple","duration","offset","getBoundingClientRect","offsetX","pageX","body","scrollLeft","offsetY","pageY","scrollTop","Math","max","abs","left","right","top","bottom","radius","sqrt","diameter","x","y","rippleElement","getComputedStyle","getPropertyValue","transform","removeRipple","eventArgs","rippleElements","opacity","getElementsByClassName","enableRipple","isRipple","setCulture","cultureName","defaultCulture","onIntlChange","notify","locale","setCurrencyCode","currencyCode","defaultCurrencyCode","loadCldr","data_1","cldrData","enableRtl","status","rightToLeft","getNumericObject","numObject","IntlBase","getDependables","mapper","dateObject","numSystem","symbPattern","pattern","getSymbolPattern","getFormatData","dateSeparator","getDateSeparator","getDefaultDateObject","compile","template","helper","fnCode","evalExp","str","localKeys","replace","LINES","DBL_QUOTED_STR","exp","match","cnt","matchStr","CALL_FUNCTION","rlStr","IF_STMT","WORD","trim","addNameSpace","QUOTES","FOR_STMT","rlStr_1","mtc","fnStr","fNameSpace","ELSE_STMT","IF_OR_FOR","addNS","ignoreList","NOT_NUMBER","templateString","compiler","engineObj","propName","HAS_ROW","setTemplateEngine","classObj","getTemplateEngine","getSeriesColor","theme","palette","getThemeColor","axisLabel","axisTitle","axisLine","majorGridLine","minorGridLine","majorTickLine","minorTickLine","chartTitle","legendLabel","background","areaBorder","errorBar","crosshairLine","crosshairFill","crosshairLabel","tooltipFill","tooltipBoldLabel","tooltipLightLabel","tooltipHeaderLine","markerShadow","selectionRectFill","selectionRectStroke","selectionCircleStroke","measureText","text","font","htmlObject","getElementById","position","fontSize","size","fontWeight","fontStyle","fontFamily","whiteSpace","lineHeight","Size","clientWidth","clientHeight","sort","fields","isDescending","sortData","a","b","rotateTextSize","angle","chart","box","options","renderer","SvgRenderer","font-size","font-style","font-family","font-weight","text-anchor","createText","delayRedraw","svgObject","removeElement","getElement","logBase","base","log","showTooltip","areaWidth","isTouch","tooltip","width","inside","range","min","withIn","withInRange","previousPoint","currentPoint","nextPoint","series","mX2","logWithIn","xValue","xAxis","mX1","mX3","xStart","floor","visibleRange","xEnd","ceil","sum","values","values_1","subArraySum","last","index","yName","subtractThickness","rect","thickness","height","subtractRect","degreeToLocation","degree","center","radian","PI","ChartLocation","cos","sin","getAccumulationLegend","locX","locY","r","mode","cartesianlarge","cartesiansmall","getAngle","point","atan2","subArray","valueToCoefficient","axis","isInversed","TransformToVisible","yAxis","isInverted","valueType","labelPlacement","CoefficientToVector","valueToPolarCoefficient","primaryXAxis","startAngle","clipRect","indexFinder","isPoint","ids","Index","parseInt","coefficient","delta","dateTimeInterval","visibleLabels","createTooltip","createZoomingLabels","isVertical","arrowLocation","direction","opposedPosition","anchor","chartRect","availableSize","endLabel","startLabel","labelStyle","findDirection","Rect","drawPath","PathOption","textElement","TextOption","color","withInBounds","bounds","getValueXByPoint","getValueYByPoint","findClipRect","requireInvertedAxis","firstToLowerCase","substr","toLowerCase","getMinPointsDelta","seriesCollection","xValues","minVal","minDelta","Number","MAX_VALUE","visible","name","xAxisName","points","map","xMin","getAnimationFunction","effect","functionName","linear","currentTime","startValue","endValue","markerAnimate","pointIndex","isLabel","centerX","centerY","Animation","animate","progress","timeStamp","end","model","trigger","templateAnimate","isRemove","drawSymbol","location","shape","url","label","calculateShapes","renderOption","path","rx","ry","cx","cy","d","yValue","concat","href","calculateLegendShapes","getRectLocation","startLocation","endLocation","outerRect","minMax","getTemplateFunction","templateFn","templateComplier","createTemplate","childElement","content","templateElement","getFontStyle","measureElementRect","findlElement","length_1","getPoint","xLength","yLength","appendElement","hasChildNodes","getDraggedRectLocation","x1","y1","x2","y2","checkBounds","getLabelText","labelFormat","customLabelFormat","seriesType","high","low","median","maximum","minimum","upperQuartile","lowerQuartile","outliers","liers","format","parseFloat","stopTimer","timer","isCollide","collections","currentRect","some","isOverlap","containsRect","calculateRect","textSize","margin","convertToHexCode","componentToHex","g","hex","convertHexToColor","exec","ColorValue","colorNameToHex","isRGBValue","getSaturationColor","factor","colorCode","rgb","round","getMedian","half","fill","space","stroke","textTrim","maxWidth","substring","stringToNumber","containerSize","rX","rY","arrowPadding","tipX","tipY","tipRadius","startX","startY","isMinus","tspanElement","renderOptions","dominant-baseline","baseLine","createTSpan","calculateSize","containerWidth","containerHeight","createSvg","getTitle","title","titleCollection","textOverflow","textWrap","titlePositionX","chartSize","leftPadding","rightPadding","titleStyle","textAlignment","currentLabel","maximumWidth","textCollection","labelCollection","validateNullOrUndefined","defaultToString","item","getSeriesFromIndex","visibleSeries","visibleSeries_1","pointByIndex","points_1","headerRegex","defaultType","Ajax","async","toUpperCase","send","Promise","resolve","reject","httpRequest","XMLHttpRequest","onreadystatechange","stateChange","setRequestHeader","contentType","beforeSend","successHandler","onSuccess","failureHandler","reason","onFailure","responseText","dataType","JSON","parse","error","readyState","statusText","getResponseHeader","responseHeaders","header","headers","getAllResponseHeaders","addOrGetEventData","__eventList","eventName","listener","bindTo","intDebounce","debounceListener","eventData","j","splice","copyData","shift","eventProp","eventData_1","event_1","Observer","boundedEvents","on","cntxt","notExist","isHandlerPresent","off","curObject","argument","curObject_1","cur","destroy","boundedEvents_1","Base","isProtectedOnChange","changedProperties","oldProperties","refreshing","finalUpdate","childChangedProperties","modelObserver","isDestroyed","muteOnChange","prevDetection","dataBind","callChildDataBind","obj_1","clearChanges","getOwnPropertyNames","newChanges","oldChanges","onPropertyChanged","moduleClass","getModuleName","ej2_instances","filter","REGX_BROWSER","OPERA","EDGE","CHROME","PANTHOMEJS","SAFARI","WEBKIT","MSIE","MOZILLA","browserDetails","extractBrowserDetail","browserInfo","culture","clientInfo","userAgent","version","language","navigator","getEvent","isDevice","move","getTouchStartEvent","getTouchEndEvent","getTouchMoveEvent","regX","uA","info","isMSPointer","isWebView","cordova","PhoneGap","phonegap","forge","touchStartEvent","touchMoveEvent","touchEndEvent","__extends","extendStatics","setPrototypeOf","__proto__","p","__","__decorate","decorators","desc","c","getOwnPropertyDescriptor","Reflect","decorate","_super","easing","ease","easeIn","easeOut","easeInOut","elasticInOut","elasticIn","elasticOut","Animation_1","getModel","elements_1","element_1","delayAnimation","stop","animation","animationId","frameId","cancelAnimationFrame","applyAnimation","step","timerId","startTime","prevTimeStamp","startAnimation","begin","avg","timingFunction","requestAnimationFrame","performance","now","fail","newProp","oldProp","CanvasRenderer","rootID","rootId","getOptionValue","createCanvas","canvasObj","ctx","getContext","setCanvasSize","setAttributes","lineWidth","dashArray","dashArrayString","setLineDash","strokeStyle","drawLine","save","beginPath","moveTo","lineTo","restore","dataUrl","toDataURL","drawRectangle","canvasCtx","cornerRadius","globalAlpha","drawCornerRadius","fillStyle","fillRect","arcTo","closePath","canvasTranslate","dataSplit","borderWidth","flag","translate","innerR","c1","c2","c3","c4","bezierCurveTo","arc","counterClockWise","drawText","textAlign","baseline","textBaseline","rotate","labelRotation","fillText","drawCircle","drawPolyline","drawEllipse","circumference","scaleX","scaleY","scale","drawImage","imageObj","Image","createLinearGradient","colors","myGradient","colorStop","setGradientValues","createRadialGradient","colorName","newColorStop","stopColor","addColorStop","setElementAttributes","updateCanvasAttributes","img_1","onload","ModuleLoader","loadedModules","inject","requiredModules","moduleList","reqLength","clean","clearUnusedModule","modl","moduleList_1","module","modName","member","isModuleLoaded","moduleObject","memberName","getMemberName","isProperty","loadedModule","modules","usedModules","arg","removableModule_1","mod","ChildProperty","isArray","parentObj","controlParent","isParentArray","updateChange","val","updateTimeOut","curIndex","defaultNumberingSystem","latn","_digits","_type","defaultNumberSymbols","decimal","group","percentSign","plusSign","minusSign","infinity","nan","exponential","latnNumberSystem","ParserBase","getMainObject","cName","getNumberingSystem","numberingSystems","reverseObject","res","propKeys_1","getSymbolRegex","regexStr","RegExp","getSymbolMatch","matchKeys_1","constructRegex","convertValueParts","regex","getDefaultNumberingSystem","nSystem","getCurrentNumericOptions","curObj","numberSystem","needSymbols","digits","numericPair","numberParseRegex","numericRegex","symbolNumberSystem","symbolMatch","getNumberMapper","isNumber","numberSymbols","timeSeparator","latnNumberSystem_1","nPair","nRegex","errorText","ms","ls","mf","lf","NumberFormat","numberFormatter","option","cldr","symbolPattern","fOptions","cOptions","dOptions","dependable","numberMapper","parserObject","currencySymbol","getCurrencySymbol","numericObject","currency","percentSymbol","minusSymbol","symbols","formatRegex","customFormat","getProperNumericSkeleton","isCurrency","isPercent","isAccount","groupOne","checkValueRange","maximumSignificantDigits","minimumSignificantDigits","maximumFractionDigits","minimumFractionDigits","fractionDigits","useGrouping","defaultCurrency","nData","pData","groupSeparator","groupData","getGroupingDetails","minimumFraction","mval","maximumFraction","mfrac","lfrac","isNaN","isFinite","intNumberFormatter","negativeDataRegex","pattern_1","lastIndexOf","primary","s","secondary","val1","val2","checkbothExist","isFraction","decide","dint","str1","str2","checkRange","curData","zeroData","fValue","processSignificantDigits","processFraction","minimumIntegerDigits","processMinimumIntegers","groupNumbers","latnParseRegex","nlead","nend","toPrecision","level1","sep","decimalSymbol","level2","toFixed","lead","getResultantPattern","skeleton","resPattern","iType","basicPatterns","dPattern","tPattern","defaultObject","patternMatcher","needFraction","cSymbol","fractionOnly","customRegex","changeCurrencySymbol","groupPattern","fraction","fmatch","fractionRegex","sym","formatSplit","customNumberFormat","integerPart","fractionPart","isCurrencyPercent","parts","actual","symbol","part","loc","typeMapper","dateObj","getActualDateTimeFormat","isExcelFormat","actualPattern","patternRegex","patternMatch","tLength","timeZonePattern","options_1","timeZone","numMapper","timezone","Date","getTimezoneOffset","hourFormat","gmtZeroFormat","DateFormat","getTimeZoneValue","gmtFormat","getActualNumberFormat","minFrac","parseOptions","custom","fractionDigitsPattern","minimumIntegerPattern","groupingPattern","minDigits","maxDigits","diff","integer","no","G","M","L","H","'"," a","yy","EEEE","E","$","%","-","0","1","dateParseRegex","dates","calendars","gregorian","months","stand-alone","abbreviated","2","3","4","5","6","7","8","9","10","11","12","narrow","wide","days","sun","mon","tue","wed","thu","fri","sat","short","dayPeriods","am","pm","eras","eraNames","0-alt-variant","1-alt-variant","eraAbbr","eraNarrow","dateFormats","full","long","medium","timeFormats","dateTimeFormats","availableFormats","Ed","Ehm","EHm","Ehms","EHms","Gy","GyMMM","GyMMMd","GyMMMEd","h","hm","Hm","hms","Hms","hmsv","Hmsv","hmv","Hmv","Md","MEd","MMM","MMMd","MMMEd","MMMMd","yM","yMd","yMEd","yMMM","yMMMd","yMMMEd","yMMMM","timeZoneNames","numbers","currencies","USD","displayName","symbol-alt-narrow","EUR","GBP","minimumGroupingDigits","symbols-numberSystem-latn","list","superscriptingExponent","perMille","decimalFormats-numberSystem-latn","standard","percentFormats-numberSystem-latn","currencyFormats-numberSystem-latn","accounting","monthIndex","month","C","P","N","A","Theme","weekdayKey","timeSetter","m","datePartMatcher","z","Z","dateFormat","formatOptions","dateSeperator","patternMatch_1","char","weekday","designator","eText","era","getDate","intDateFormatter","matches_1","curval","processNumber","curstr","getMonth","getDay","getFullYear","desig","getHours","dec","checkTwodigitNumber","tVal","curPattern","ishour","latnRegex","minute","hour","day","DateParser","dateParser","hourOnly","numOptions","regexString","evalposition","gmtCorrection","zCorrectTemp","isgmtTraversed","nRegx","canUpdate","charKey","optional","weekObject","hour12","tzone","hpattern","parseTimeZoneRegx","pos","parserRegex","parsedDateParts","internalDateParse","getDateObject","setMilliseconds","tKeys","year","setFullYear","tKeys_1","tValue","pDate","setDate","lDate","lastDay","setHours","tzValue","setMinutes","getMinutes","retOptions","props_1","matchString","internalNumberParser","tmatch","getZoneValue","tZone","splitStr","cRegex","NumberParser","numberParser","symbolRegex","symbolpattern","getParsedNumber","isNegative","Infinity","NaN","exponent","Internationalization","getDateFormat","getCulture","getNumberFormat","getDateParser","getNumberParser","formatNumber","formatDate","parseDate","parseNumber","getDatePattern","getNumberPattern","Component","needsID","moduleLoader","localObserver","detectFunction","appendTo","cancel","enablePersistence","setPersistData","refresh","preRender","injectModules","render","mergePersistData","event_2","getInjectedModules","injectedModules","Inject","localStorage","getItem","setItem","getPersistData","clearTemplate","templateName","addOnPersist","persistObj","objValue","getActualProperties","stringify","ignoreOnPersist","iterateJsonProperties","newObj","this_1","newList","defaultPosition","Position","Draggable","dragLimit","Draggable_1","getDefaultPosition","padding","diffX","diffY","droppables","toggleEvents","isIE","scope","isUnWire","handle","initialize","evt","currentTarget","preventDefault","changedTouches","abort","intCoord","getCoordinates","initialPosition","relativeXPosition","relativeYPosition","intDragStart","intDestroy","documentElement","intCordinate","styleProp","marginLeft","marginTop","marginRight","marginBottom","dragTarget","intClosest","calculateParentPosition","getMousePosition","distance","getHelperElement","dragTargetElement","helperElement","parentClientRect","offsetParent","dragStart","curTarget","getProperTargetElement","dragArea","setDragArea","enableTailMode","posValue","getProcessedPositionValue","intDrag","intDragStop","setGlobalDroppables","queryPositionInfo","pageXOffset","pageYOffset","docHeight","getDocumentWidthHeight","docWidth","drag","eleObj","checkTargetElement","intOver","dragData","hoverObject","intOut","tLeft","tTop","pagex","pagey","dLeft","dTop","skipDistanceCheck","helperWidth","helperHeight","offsetHeight","iTop","iLeft","dragValue","docBody","docEle","dragStop","dragStopCalled","intDrop","eleWidthBound","eleHeightBound","elementArea","tborder","tpadding","lowerKey","prevStyle","display","elementFromPoint","clientX","clientY","cursorAt","sender","reset","draggable","draggedElement","dropIns","getDropInstance","parent_1","parentElement","drop","eleInst","eleInst_1","Droppable","mouseOver","wireEvents","area","accept","isDrag","isDropArea","canDrop","droppedElement","coord","keyCode","backspace","tab","enter","control","alt","pause","capslock","escape","pageup","pagedown","home","leftarrow","uparrow","rightarrow","downarrow","insert","delete","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","semicolon","plus","comma","minus","dot","forwardslash","graveaccent","openbracket","backslash","closebracket","singlequote","KeyboardEvents","keyPressHandler","isAltKey","altKey","isCtrlKey","ctrlKey","isShiftKey","shiftKey","curkeyCode","which","keyConfigs","configCollection_1","rconfig","rKeyObj","KeyboardEvents_1","getKeyConfigData","action","keyAction","unwireEvents","config","configCache","keyData","getKeyCode","keyVal","charCodeAt","L10n","controlName","localeStrings","setLocale","intLocale","intGetControlConstant","currentLocale","load","localeObject","getConstant","svgLink","svgObj","createElementNS","setSVGSize","line","rectangle","circle","polyline","ellipse","drawPolygon","polygon","img","setAttributeNS","preserveAspectRatio","textContent","tSpan","createTitle","createDefs","createClipPath","clipPath","createForeignObject","foreignObject","createGroup","createPattern","newOptions","fx","fy","drawGradient","gradientType","defs","gradient","stop_1","drawClipPath","drawCircularClipPath","SwipeSettings","swipeRegex","Touch","touchAction","tapCount","startEvent","isTouchMoved","movedDirection","startPoint","lastMovedPoint","startEventData","hScrollLocked","vScrollLocked","tStampStart","timeOutTapHold","tapHoldEvent","tapHoldThreshold","moveEvent","endEvent","movedPoint","eScrollArgs","calcScrollPoints","startEvents","originalEvent","distanceX","distanceY","scrollDirection","velocity","getVelocity","timeOutTap","endPoint","eSwipeArgs","tDistance","swipeSettings","swipeThresholdDistance","calcPoints","swipeArgs","swipeDirection","defaultArgs","canTrigger","scrollBool","isScrollable","moved","checkSwipe","tap","tapThreshold","modeClear","lastTapTime","getTime","eleStyle","overflow","overflowX","overflowY","eTapArgs","pnt","newX","newY","newT","xDist","yDist","Engine","axisLabelFont","axisTitleFont","chartTitleFont","crosshairLabelFont","tooltipLabelFont","legendLabelFont","stripLineLabelFont","Connector","Font","Border","ChartArea","Margin","Indexes","CornerRadius","seriesIndex","EmptyPointSettings","TooltipSettings","Mean","verticalStandardMean","verticalSquareRoot","horizontalStandardMean","horizontalSquareRoot","verticalMean","horizontalMean","PolarArc","endAngle","innerRadius","currentXPosition","CustomizeOption","StackValues","startValues","endValues","RectOption","border","CircleOption","PolygonOption","Thickness","PointData","lierIndex","AccPointData","ControlPoints","controlPoint1","controlPoint2","DoubleRange","mStart","mEnd","Double","calculateNumericNiceInterval","actualDesiredIntervalsCount","getActualDesiredIntervalsCount","niceInterval","desiredIntervals","minInterval","pow","intervalDivs","currentInterval","getActualRange","initializeDoubleRange","actualRange","doubleRange","POSITIVE_INFINITY","NEGATIVE_INFINITY","calculateRangeAndInterval","calculateRange","applyRangePadding","calculateVisibleLabels","setRange","series_1","paddingInterval","orientation","rangePadding","findMinMax","yMin","yMax","xMax","getRangePadding","findAdditional","findNormal","updateActualRange","calculateVisibleRange","zoomFactor","zoomPosition","enableAutoIntervalOnZooming","triggerRangeRender","tempInterval","getFormat","isCustom","intl","useGroupingSeparator","triggerLabelRender","formatValue","getMaxLabelWidth","isStack100","ChartAnnotationSettings","LabelBorder","MultiLevelCategories","StripLineSettings","MultiLevelLabels","Row","axes","nearSizes","farSizes","computeSize","findTickSize","crossInAxis","findLabelSize","lineStyle","Column","MajorGridLines","MinorGridLines","AxisLine","MajorTickLines","MinorTickLines","CrosshairTooltip","Axis","axisBottomLine","crossAt","updatedRect","multiLevelLabelHeight","crossAxis","tickPosition","isInside","majorTickLines","innerPadding","titleSize","labelPosition","labelSize","maxLabelSize","placeNextToAxisLine","findDifference","updateCrossValue","baseRange","desiredIntervalsCount","maximumLabels","argsData","VisibleLabels","pointX","previousEnd","isIntersect","labelIntersectAction","rotatedLabel","edgeLabelPlacement","findMultiRows","multiLevelLabelModule","multiLevelLabels","getMultilevelLabelsHeight","currentX","store","getModule","baseModule","originalText","Query","from","subQuery","isChild","queries","fKey","fromTable","lookups","expands","sortedColumns","groupedColumns","setKey","field","using","dataManager","execute","always","executeQuery","DataUtil","executeLocal","cloned","subQuerySelector","isCountRequired","tableName","addParams","fn","expand","tables","where","fieldName","operator","ignoreCase","ignoreAccent","predicate","Predicate","search","searchKey","fieldNames","comparer","fnOperators","sortBy","isFromGroup","sorts","order","endsWith","fnSort","filterQueries","sortByDesc","page","pageIndex","pageSize","take","nos","skip","hierarchy","query","selectorFn","foreignKey","requiresCount","aggregate","q","filterQueryLists","singles","filtered","isComplex","processOperator","condition","predicates","and","combinePredicates","combine","or","fromJson","json","fromJSONData","pred","validate","record","isAnd","toJson","preds","consts","GroupGuid","input","startsWith","fnAscending","fnDescending","localeCompare","extractFields","jsonArray","newData","aggregates","level","groupDs","jsonData","items","count","indx","childLevels","grouped","groupedArray","records","this_2","getVal","tempObj","aggs","buildHierarchy","lookup","pKey","grp","fKeyData","getFieldList","copyObj","ds","middle","ignoreDiacritics","diacritics","current","callAdaptorFunction","adaptor","fnName","param1","param2","isnull","isPlainObject","isCors","xhr","getGuid","rand","arr","Uint8Array","random","isNull","getItemFromComparer","castRequired","distinct","requiresCompleteRecord","tmp","serverTimezoneOffset","average","truecount","DataManager","falsecount","operatorSymbols","<",">","<=",">=","==","!=","*=","$=","^=","odBiOperator","lessthan","lessthanorequal","greaterthan","greaterthanorequal","equal","notequal","odUniOperator","endswith","startswith","odv4UniOperator","Ⓐ","Ａ","À","Á","Â","Ầ","Ấ","Ẫ","Ẩ","Ã","Ā","Ă","Ằ","Ắ","Ẵ","Ẳ","Ȧ","Ǡ","Ä","Ǟ","Ả","Å","Ǻ","Ǎ","Ȁ","Ȃ","Ạ","Ậ","Ặ","Ḁ","Ą","Ⱥ","Ɐ","Ꜳ","Æ","Ǽ","Ǣ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ⓑ","Ｂ","Ḃ","Ḅ","Ḇ","Ƀ","Ƃ","Ɓ","Ⓒ","Ｃ","Ć","Ĉ","Ċ","Č","Ç","Ḉ","Ƈ","Ȼ","Ꜿ","Ⓓ","Ｄ","Ḋ","Ď","Ḍ","Ḑ","Ḓ","Ḏ","Đ","Ƌ","Ɗ","Ɖ","Ꝺ","Ǳ","Ǆ","ǲ","ǅ","Ⓔ","Ｅ","È","É","Ê","Ề","Ế","Ễ","Ể","Ẽ","Ē","Ḕ","Ḗ","Ĕ","Ė","Ë","Ẻ","Ě","Ȅ","Ȇ","Ẹ","Ệ","Ȩ","Ḝ","Ę","Ḙ","Ḛ","Ɛ","Ǝ","Ⓕ","Ｆ","Ḟ","Ƒ","Ꝼ","Ⓖ","Ｇ","Ǵ","Ĝ","Ḡ","Ğ","Ġ","Ǧ","Ģ","Ǥ","Ɠ","Ꞡ","Ᵹ","Ꝿ","Ⓗ","Ｈ","Ĥ","Ḣ","Ḧ","Ȟ","Ḥ","Ḩ","Ḫ","Ħ","Ⱨ","Ⱶ","Ɥ","Ⓘ","Ｉ","Ì","Í","Î","Ĩ","Ī","Ĭ","İ","Ï","Ḯ","Ỉ","Ǐ","Ȉ","Ȋ","Ị","Į","Ḭ","Ɨ","Ⓙ","Ｊ","Ĵ","Ɉ","Ⓚ","Ｋ","Ḱ","Ǩ","Ḳ","Ķ","Ḵ","Ƙ","Ⱪ","Ꝁ","Ꝃ","Ꝅ","Ꞣ","Ⓛ","Ｌ","Ŀ","Ĺ","Ľ","Ḷ","Ḹ","Ļ","Ḽ","Ḻ","Ł","Ƚ","Ɫ","Ⱡ","Ꝉ","Ꝇ","Ꞁ","Ǉ","ǈ","Ⓜ","Ｍ","Ḿ","Ṁ","Ṃ","Ɱ","Ɯ","Ⓝ","Ｎ","Ǹ","Ń","Ñ","Ṅ","Ň","Ṇ","Ņ","Ṋ","Ṉ","Ƞ","Ɲ","Ꞑ","Ꞥ","Ǌ","ǋ","Ⓞ","Ｏ","Ò","Ó","Ô","Ồ","Ố","Ỗ","Ổ","Õ","Ṍ","Ȭ","Ṏ","Ō","Ṑ","Ṓ","Ŏ","Ȯ","Ȱ","Ö","Ȫ","Ỏ","Ő","Ǒ","Ȍ","Ȏ","Ơ","Ờ","Ớ","Ỡ","Ở","Ợ","Ọ","Ộ","Ǫ","Ǭ","Ø","Ǿ","Ɔ","Ɵ","Ꝋ","Ꝍ","Ƣ","Ꝏ","Ȣ","Ⓟ","Ｐ","Ṕ","Ṗ","Ƥ","Ᵽ","Ꝑ","Ꝓ","Ꝕ","Ⓠ","Ｑ","Ꝗ","Ꝙ","Ɋ","Ⓡ","Ｒ","Ŕ","Ṙ","Ř","Ȑ","Ȓ","Ṛ","Ṝ","Ŗ","Ṟ","Ɍ","Ɽ","Ꝛ","Ꞧ","Ꞃ","Ⓢ","Ｓ","ẞ","Ś","Ṥ","Ŝ","Ṡ","Š","Ṧ","Ṣ","Ṩ","Ș","Ş","Ȿ","Ꞩ","Ꞅ","Ⓣ","Ｔ","Ṫ","Ť","Ṭ","Ț","Ţ","Ṱ","Ṯ","Ŧ","Ƭ","Ʈ","Ⱦ","Ꞇ","Ꜩ","Ⓤ","Ｕ","Ù","Ú","Û","Ũ","Ṹ","Ū","Ṻ","Ŭ","Ü","Ǜ","Ǘ","Ǖ","Ǚ","Ủ","Ů","Ű","Ǔ","Ȕ","Ȗ","Ư","Ừ","Ứ","Ữ","Ử","Ự","Ụ","Ṳ","Ų","Ṷ","Ṵ","Ʉ","Ⓥ","Ｖ","Ṽ","Ṿ","Ʋ","Ꝟ","Ʌ","Ꝡ","Ⓦ","Ｗ","Ẁ","Ẃ","Ŵ","Ẇ","Ẅ","Ẉ","Ⱳ","Ⓧ","Ｘ","Ẋ","Ẍ","Ⓨ","Ｙ","Ỳ","Ý","Ŷ","Ỹ","Ȳ","Ẏ","Ÿ","Ỷ","Ỵ","Ƴ","Ɏ","Ỿ","Ⓩ","Ｚ","Ź","Ẑ","Ż","Ž","Ẓ","Ẕ","Ƶ","Ȥ","Ɀ","Ⱬ","Ꝣ","ⓐ","ａ","ẚ","à","á","â","ầ","ấ","ẫ","ẩ","ã","ā","ă","ằ","ắ","ẵ","ẳ","ȧ","ǡ","ä","ǟ","ả","å","ǻ","ǎ","ȁ","ȃ","ạ","ậ","ặ","ḁ","ą","ⱥ","ɐ","ꜳ","æ","ǽ","ǣ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ⓑ","ｂ","ḃ","ḅ","ḇ","ƀ","ƃ","ɓ","ⓒ","ｃ","ć","ĉ","ċ","č","ç","ḉ","ƈ","ȼ","ꜿ","ↄ","ⓓ","ｄ","ḋ","ď","ḍ","ḑ","ḓ","ḏ","đ","ƌ","ɖ","ɗ","ꝺ","ǳ","ǆ","ⓔ","ｅ","è","é","ê","ề","ế","ễ","ể","ẽ","ē","ḕ","ḗ","ĕ","ė","ë","ẻ","ě","ȅ","ȇ","ẹ","ệ","ȩ","ḝ","ę","ḙ","ḛ","ɇ","ɛ","ǝ","ⓕ","ｆ","ḟ","ƒ","ꝼ","ⓖ","ｇ","ǵ","ĝ","ḡ","ğ","ġ","ǧ","ģ","ǥ","ɠ","ꞡ","ᵹ","ꝿ","ⓗ","ｈ","ĥ","ḣ","ḧ","ȟ","ḥ","ḩ","ḫ","ẖ","ħ","ⱨ","ⱶ","ɥ","ƕ","ⓘ","ｉ","ì","í","î","ĩ","ī","ĭ","ï","ḯ","ỉ","ǐ","ȉ","ȋ","ị","į","ḭ","ɨ","ı","ⓙ","ｊ","ĵ","ǰ","ɉ","ⓚ","ｋ","ḱ","ǩ","ḳ","ķ","ḵ","ƙ","ⱪ","ꝁ","ꝃ","ꝅ","ꞣ","ⓛ","ｌ","ŀ","ĺ","ľ","ḷ","ḹ","ļ","ḽ","ḻ","ſ","ł","ƚ","ɫ","ⱡ","ꝉ","ꞁ","ꝇ","ǉ","ⓜ","ｍ","ḿ","ṁ","ṃ","ɱ","ɯ","ⓝ","ｎ","ǹ","ń","ñ","ṅ","ň","ṇ","ņ","ṋ","ṉ","ƞ","ɲ","ŉ","ꞑ","ꞥ","ǌ","ⓞ","ｏ","ò","ó","ô","ồ","ố","ỗ","ổ","õ","ṍ","ȭ","ṏ","ō","ṑ","ṓ","ŏ","ȯ","ȱ","ö","ȫ","ỏ","ő","ǒ","ȍ","ȏ","ơ","ờ","ớ","ỡ","ở","ợ","ọ","ộ","ǫ","ǭ","ø","ǿ","ɔ","ꝋ","ꝍ","ɵ","ƣ","ȣ","ꝏ","ⓟ","ｐ","ṕ","ṗ","ƥ","ᵽ","ꝑ","ꝓ","ꝕ","ⓠ","ｑ","ɋ","ꝗ","ꝙ","ⓡ","ｒ","ŕ","ṙ","ř","ȑ","ȓ","ṛ","ṝ","ŗ","ṟ","ɍ","ɽ","ꝛ","ꞧ","ꞃ","ⓢ","ｓ","ß","ś","ṥ","ŝ","ṡ","š","ṧ","ṣ","ṩ","ș","ş","ȿ","ꞩ","ꞅ","ẛ","ⓣ","ｔ","ṫ","ẗ","ť","ṭ","ț","ţ","ṱ","ṯ","ŧ","ƭ","ʈ","ⱦ","ꞇ","ꜩ","ⓤ","ｕ","ù","ú","û","ũ","ṹ","ū","ṻ","ŭ","ü","ǜ","ǘ","ǖ","ǚ","ủ","ů","ű","ǔ","ȕ","ȗ","ư","ừ","ứ","ữ","ử","ự","ụ","ṳ","ų","ṷ","ṵ","ʉ","ⓥ","ｖ","ṽ","ṿ","ʋ","ꝟ","ʌ","ꝡ","ⓦ","ｗ","ẁ","ẃ","ŵ","ẇ","ẅ","ẘ","ẉ","ⱳ","ⓧ","ｘ","ẋ","ẍ","ⓨ","ｙ","ỳ","ý","ŷ","ỹ","ȳ","ẏ","ÿ","ỷ","ẙ","ỵ","ƴ","ɏ","ỿ","ⓩ","ｚ","ź","ẑ","ż","ž","ẓ","ẕ","ƶ","ȥ","ɀ","ⱬ","ꝣ","Ά","Έ","Ή","Ί","Ϊ","Ό","Ύ","Ϋ","Ώ","ά","έ","ή","ί","ϊ","ΐ","ό","ύ","ϋ","ΰ","ω","ς","expected","notnull","processSymbols","parseJson","jsonText","jsonReviver","iterateAndReviveArray","iterateAndReviveJson","dupValue","dateParse","toTimeZone","isJson","isGuid","replacer","jsonReplacer","arrayReplacer","keys_3","addSelfOffset","toJSON","date","toUTC","utc","unix","Adaptor","requestType","dataSource","pvt","processResponse","JsonAdaptor","processQuery","countFlg","agg","batchRequest","dm","changes","addedRecords","changedRecords","update","deletedRecords","onWhere","onAggregates","onSearch","onSortBy","fnCompare","onGroup","aggQuery","onPage","onRange","onTake","onSkip","onSelect","keyField","UrlAdaptor","hierarchyFilters","getQueryRequest","request","groups","filters","searches","getFiltersFrom","req","getRequestQuery","reqParams","pvtData","convertToQueryString","request1","requests","getAggregateResult","batchUrl","crudUrl","removeUrl","changed","added","deleted","table","insertUrl","keyColumn","updateUrl","predicats","aggregateData","ODataAdaptor","multipartAccept","batch","changeSet","batchPre","contentId","batchContent","changeSetContent","batchChangeSetContentType","onPredicate","requiresCast","guid","returnValue","getField","onComplexPredicate","onEachWhere","onEachSearch","onEachSort","reverse","onCount","settings","overrideMimeType","dataCopy","results","emptyAndBatch","processBatchResponse","versionCheck","requiresFormat","keys_4","initialGuid","cid","cSet","generateInsertRequest","generateUpdateRequest","generateDeleteRequest","stat","method","generateBodyContent","cIdx","jsonObj","exVal","changeGuid","ODataV4Adaptor","getModulename","isDate","WebApiAdaptor","Count","Items","WebMethodAdaptor","param","RemoteSaveAdaptor","CacheAdaptor","isCrudAction","isInsertAction","cacheAdaptor","guidId","forDel","requestTime","removeItem","generateKey","currentFilter","newQuery","cachedItems","crossDomain","offline","timeTillExpiration","cachingPageSize","enableCaching","jsonp","defaultQuery","isDataAvailable","then","setDefaultQuery","deffered","Deferred","nextTick","getDeferedArgs","makeRequest","promise","extendRequest","fnSuccess","fnFail","cache","processData","isSelector","process","virtualSelectRecords","fnQueryChild","subDeffer","childArgs","subUrl","childReq","subData","virtualRecords","ajax","catch","all","pResult","cResult","deff","doAjaxRequest","defer","CartesianAxisLayoutPanel","chartModule","measureAxis","seriesClipRect","initialClipRect","leftSize","rightSize","topSize","bottomSize","measureRowAxis","measureColumnAxis","calculateAxisSize","refreshAxis","row","calculateRowSize","rows","arrangeAxis","measureDefinition","computedHeight","column","calculateColumnSize","columns","computedWidth","definition","axis_1","nearCount","farCount","len_1","k","len_2","span","computedTop","plotOffset","len_3","len_4","computedLeft","measure","actualIndex","axisCollections","axis_2","verticalAxes","getActualRow","pushAxis","horizontalAxes","getActualColumn","crossesAt","isTransposed","crossesInAxis","updateCrossAt","primaryYAxis","dateFormatter","labels","axisCollection","actualLength","columnIndex","rowIndex","rowTop","remainingHeight","columnLeft","remainingWidth","renderAxes","outsideElement","axisElement","axisLineElement","findAxisPosition","drawAxisLine","majorGridLines","drawXAxisGridLine","drawXAxisLabels","drawXAxisBorder","drawXAxisTitle","drawYAxisGridLine","drawYAxisLabels","drawYAxisBorder","drawYAxisTitle","drawBottomLine","isRow","definitionName","optionsLine","stroke-width","plotX","plotY","stroke-dasharray","themeStyle","minorDirection","pointY","majorGrid","majorTick","minorGird","minorTick","tickSize","axisLineSize","ticksbwtLabel","ticks","isBorder","minorGridLines","minorTickLines","minorTicksPerInterval","drawAxisMinorLine","renderGridLine","renderTickLine","chartArea","startIndex","endIndex","elementSize","isLabelInside","isOpposed","labelElement","createZoomingLabel","gap","endY","labelBorder","endX","createAxisBorderElement","renderYAxisMultiLevelLabels","description","tabIndex","labelIndex","logStart","coor","isTickInside","logInterval","logPosition","ticksX","ticksY","findLogNumeric","labelPadding","rotateSize","diffHeight","yLocation","intervalLength","islabelInside","anglePadding","findAxisLabel","axisRect","length_2","renderXAxisMultiLevelLabels","borderElement","findParentNode","zoomElement","replaceChild","ChartData","currentPoints","previousPoints","getData","drawType","isRectSeries","marker","mouseX","mouseY","getRectPoint","isSelected","selectionMode","selectionModule","rectPoints","fromCenterX","fromCenterY","clickAngle","distanceFromCenter","arcAngle","regionData","regions","chartAreaType","checkRegionContainsPoint","regionRect","region","getClosest","xData","xData_1","getClosestX","DataLabelSettings","MarkerSettings","Points","symbolLocations","Trendline","setDataSource","trendLineModule","initDataSource","visibleSeriesCount","ErrorBarCapSettings","ChartSegment","ErrorBarSettings","SeriesBase","currentViewData","processJsonData","textMappingName","Series","dataLabel","processWaterfallData","sizeMax","getSeriesType","dataPoint","pushCategoryData","pushData","setEmptyPoint","isArea","findSplinePoint","xName","volume","interior","pointColorMapping","findVisibility","isEmpty","emptyPointSettings","yData","getAverage","yValues","setXYMinMax","setHiloMinMax","isIndexed","refreshDataManager","dataManagerSuccess","dataModule","generateQuery","isRemoteData","recordsCount","refreshChart","refreshTechnicalIndicator","category","trendlines","refreshBound","drawPoints","delayedAnimation","refreshAxisLabel","findSeriesCollection","isStack","rowSeries","_d","_e","_f","_g","rectSeriesInChart","calculateStackedValue","isStacking100","columnItem","calculateStackingValues","stackingGroup","lastValue","lastPositive","lastNegative","frequencies","findFrequencies","seriesCollection_1","pointsLength","percent","stackedValues","seriesCollection_2","renderSeries","createSeriesElements","errorBarModule","dataLabelModule","appendSeriesElement","seriesElements","performAnimation","elementId","explodeValue","markerHeight","markerWidth","clipRectElement","symbolElement","seriesElement","clip-path","errorBarElement","dataLabelElements","shapeElement","enable","animateSeries","doAnimation","doErrorBarAnimation","markerRender","doMarkerAnimation","doDataLabelAnimation","setPointColor","setBorderColor","Data","initDataManager","MarkerExplode","mouseMoveHandler","mouseUpHandler","crosshair","markerMove","startMove","previous","explodeSeries","shared","chartAxisLayoutPanel","pointData","chartSeries","enableTooltip","removeHighlightedMarker","markerExplode","drawTrackBall","seriesMarker","symbolId","borderColor","colorValue","imageUrl","Marker","renderMarker","shapeOption","isBoxPlot","markerClipRect","getRangeLowPoint","markerElements","incFactor","lowPoint","Location","LegendSettings","BaseLegend","rowCount","columnCount","pageButtonSize","pageXCollections","maxColumns","isTrimmed","currentPage","legend","legendSettings","legendID","isChartControl","calculateLegendBounds","getPosition","legendBounds","library","getLegendBounds","getLocation","alignment","setBounds","maxItemHeight","legendHeight","legendWidth","alignLegend","legendSize","renderLegend","firstLegend","findFirstLegendPosition","legendCollections","shapeHeight","legendGroup","legendTranslateGroup","createLegendElements","legendSeriesGroup","shapeWidth","textOptions","totalPages","textPadding","shapePadding","previousLegend","legendOption","generateId","getRenderPoint","renderSymbol","renderText","toggleVisibility","isPaging","renderPagingElements","legendCollection","legendCollection_1","legendItemsGroup","clippath","symbolColor","markerShape","symbolOption","markerVisibility","fontcolor","textStyle","textOption","paginggroup","iconSize","clipPathHeight","pageTextElement","translatePage","pagingText","pageNumber","changePage","pageUp","pageText","targetId","clearTooltip","LegendOptions","TechnicalIndicator","targetSeries","Encoding","includeBom","emitBOM","encodingType","initBOM","getByteCount","chars","utf8Len","getByteCountInternal","codePoint","isHighSurrogate","codeUnit","toCodepoint","highCodeUnit","lowCodeUnit","charIndex","charCount","byteCount","isUtf8","charCode","getBytes","RangeError","ArrayBuffer","getBytesOfUtf8Encoding","getBytesOfUnicodeEncoding","getBytesOfAnsiEncoding","getString","bytes","byteLength","byteCal","getStringOfUtf8Encoding","byteUnicode","getStringofUnicodeEncoding","String","fromCharCode","bufview","charcode","uint","uint16","byteUni","byte16","Save","fileName","buffer","extension","mimeType","getMimeType","Blob","isMicrosoftBrowser","msSaveBlob","downloadLink","saveInternal","hasDownloadAttribute","download","dataUrl_1","URL","createObjectURL","createEvent","initEvent","dispatchEvent","revokeObjectURL","reader_1","FileReader","onloadend","readAsDataURL","StreamWriter","encoding","bufferBlob","bufferText","init","flush","enc","setBomByte","arrayUnicode","uint8","arrayUtf8","utf8","bufferArray","writeLine","arrLiteralCodes","Int16Array","arrLiteralLengths","arrDistanceCodes","arrDistanceLengths","CompressedStreamWriter","noWrap","pendingBuffer","pendingBufLength","pendingBufCache","pendingBufBitsInCache","bufferPosition","extraBits","currentHash","matchStart","matchLength","matchPrevAvail","blockStart","stringStart","lookAhead","totalBytesIn","inputOffset","inputEnd","windowSize","windowMask","hashSize","hashMask","hashShift","maxDist","checkSum","treeLiteral","CompressorHuffmanTree","treeDistances","treeCodeLengths","arrDistances","arrLiterals","stream","dataWindow","hashHead","hashPrevious","writeZLibHeader","compressedString","encode","inputBuffer","ChecksumCalculator","checksumUpdate","pendingBufferFlush","compressData","headerDate","pendingBufferWriteShortBytes","finish","success","fillWindow","canFlush","compressSlow","lookAheadCompleted","slideWindow","prevMatch","prevLen","discardMatch","matchPreviousBest","matchPreviousAvailable","huffmanIsFull","insertString","findLongestMatch","huffmanTallyLit","huffmanTallyDist","huffmanFlushBlock","lastBlock","more","subarray","updateHash","hash","curMatch","chainLen","niceLen","scan","bestEnd","bestLength","limit","stringEnd","scanEnd1","scanEnd","literal","codeFrequencies","dist","lc","huffmanLengthCode","dc","huffmanDistanceCode","stored","storedOffset","storedLength","buildTree","calculateBLFreq","blTreeCodes","codeLengths","huffCodeLengthOrders","opt_len","getEncodedLength","static_len","huffmanFlushStoredBlock","pendingBufferWriteBits","setStaticCodes","huffmanCompressBlock","huffmanReset","huffmanSendAllTrees","pendingBufferAlignToByte","pendingBufferWriteShort","pendingBufferWriteByteBlock","code","buildCodes","treeLength","rank","writeTree","literalLen","writeCodeToStream","bits","Uint32Array","pendingBufferFlushBits","isClose","writer","elementCount","minCodes","maxLength","codeMinCount","codeFrequency","lengthCount","Int32Array","codeCount","codeLength","codes","lengths","lengthTemp","nextCode","bitsCount","bitReverse","reverseBits","blTree","maxCount","minCount","curLen","nextLen","maxRepeatCount","minRepeatCount","currentRepeatCount","currentCodeLength","codesCount","arrTree","n","freq","pPos","nodesCount","iIndex","constructHuffmanTree","buildLength","lastVal","minDepth","numNodes","numLeafs","calculateOptimalCodeLength","iIncreasableLength","recreateTree","nodePtr","childPtr","childIndex","bitLength","checksum","checksum_uint","s1","s2","checkSumBitOffset","steps","checksumIterationCount","checksumBase","crc32Table","ZipArchive","files","addItem","file","ZipArchiveItem","addDirectory","directoryName","zipArchive","saveAsBlob","blob","skipFileSave","zipData","dirLength","getCompressedData","constructZippedObject","isDirectory","writeZippedContent","crc32Value","compressedData","compressedSize","uncompressedDataSize","compressionType","calculateCrc32Value","readAsArrayBuffer","compressor","currentIndex","nextIndex","zipParts","extFileAttr","writeHeader","localHeader","centralDir","writeCentralDirectory","zipHeader","getModifiedTime","getModifiedDate","localDirLen","cenDirLen","getArrayBuffer","writeFooter","externalFileAttribute","centralLength","localLength","modTime","getSeconds","modiDate","itemName","InternalEnum","Dictionary","toStringFunction","nElements","toStr","pair","previousElement","keysArray","namesOfKeys","index1","pair1","valuesArray","namesOfValues","index2","pair2","containsKey","clear","PdfName","stringStartMark","internalValue","isSaving6","position6","normalizeValue","status6","index6","escapeString","crossTable","newName","stringValue","ch","delimiters","replacements","Operators","forTest","endObj","slash","newLine","endStream","xref","f","trailer","startxref","eof","beginText","endText","appendLineSegment","fillEvenOdd","fillStroke","fillStrokeEvenOdd","appendbeziercurve","appendRectangle","saveState","restoreState","paintXObject","modifyCtm","modifyTM","setLineWidth","setLineCapStyle","setLineJoinStyle","setDashPattern","setFlatnessTolerance","closeStrokePath","closeFillStrokePath","setCharacterSpace","setWordSpace","setHorizontalScaling","setTextLeading","setFont","setRenderingMode","setTextRise","setTextScaling","setCoords","goToNextLine","setText","setTextWithFormatting","setTextOnNewLine","selectcolorspaceforstroking","selectcolorspacefornonstroking","setrbgcolorforstroking","setrbgcolorfornonstroking","setcmykcolorforstroking","setcmykcolorfornonstroking","setgraycolorforstroking","setgraycolorfornonstroking","clipPathEvenOdd","endPath","setGraphicsState","comment","evenOdd","setMiterLimit","DictionaryProperties","pages","kids","resources","mediaBox","root","decodeParms","type1","baseFont","subtype","contents","procset","colorSpace","extGState","xObject","bitsPerComponent","image","dctdecode","blackIs1","predictor","deviceRgb","next","link","annot","uri","annots","ca","CA","xyz","fit","dest","BM","flatedecode","bBox","form","PdfDictionary","dictionary","position7","primitiveItems","suffix","object","archive","encrypt","dictionaryProperties","freezeChanges","status7","isSaving7","index7","getArchive","setArchive","setEncrypt","modify","getEncrypt","freezer","bChanged","onBeginSave","beginSave","onTemplateBeginSave","pageBeginDrawTemplate","pageBeginSave","onBeginAnnotationSave","annotationBeginSave","onSectionBeginSave","saveEvent","sectionBeginSave","state","bRaiseEvent","saveItems","SaveSectionCollectionEventHandler","SaveAnnotationEventHandler","SaveSectionEventHandler","SaveTemplateEventHandler","PdfNumber","position5","status5","isSaving5","index5","intValue","floatToString","number","returnString","PdfArray","startMark","endMark","position9","clonedObject9","internalElements","tempArray","tempNumberArray","pdfNumber","status9","isSaving9","index9","pdfCrossTable","markedChange","tempElement","inputElement","getItems","newArray","fromRectangle","tempElements","markChanged","removeAt","PdfStream","dicPrefix","dicSuffix","clonedObject2","bCompress","dataStream2","bCompress2","clearStream","internalStream","compressContent","sw","getCompressedString","addFilter","filterName","PdfReferenceHolder","bytesToString","byteArray","output","ForceEncoding","SourceType","PdfHorizontalAlignment","PdfString","bHex","position1","clonedObject1","bDecrypted","isParentDecrypted","isPacked","isFormField","isColorSpace","isHexString","status1","isSaving1","bytesToHex","stringMark","CrossTable","newString","hexStringMark","hexFormatPattern","PdfReference","objNumber","genNumber","index3","position3","status3","isSaving3","obj2","index4","position4","objectIndex","primitiveObject","status4","isSaving4","pdfReference","cTable","isSaving","getReference","PdfAction","pdfDictionary","PdfUriAction","uniformResourceIdentifier","PdfVerticalAlignment","PdfTextAlignment","TextRenderingMode","PdfLineJoin","PdfLineCap","PdfDashStyle","PdfFillMode","PdfColorSpace","PdfBlendMode","PdfGraphicsUnit","PdfGridImagePosition","PdfFontStyle","PdfColor","color1","color2","color3","color4","redColor","greenColor","blueColor","grayColor","gray","alpha","filled","maxColourChannelValue","cyanColor","magentaColor","yellowColor","blackColor","assignCMYK","red","green","blue","black","cyan","magenta","yellow","rgbToString","ifStroking","colour","rgbStrings","toArray","Rgb","grayStringsSroke","grayStringsFill","PointF","SizeF","RectangleF","arg1","arg2","arg3","arg4","pointf","sizef","PdfBrush","PdfSolidBrush","pdfColor","monitorChanges","brush","streamWriter","getResources","currentColorSpace","setColorAndSpace","resetChanges","PdfFontFamily","PdfFontType","PdfWordWrapType","PdfSubSuperScript","FontEncoding","LineType","PdfStringFormat","scalingFactor","internalLineLimit","wordWrapType","Word","verticalAlignment","Top","isRightToLeft","internalCharacterSpacing","internalWordSpacing","leading","clip","pdfSubSuperScript","None","internalParagraphIndent","firstLineIndent","trailingSpaces","isNoClip","initialLineIndent","StringTokenizer","textValue","currentPosition","getCharsCount","numSymbols","readLine","text2","peekLine","readWord","peekWord","word","read","peek","spaces","whiteSpacePattern","PdfStringLayouter","isOverloadWithPosition","layout","arg5","arg6","arg7","clientSize","doLayout","rectSize","pageHeight","reader","PdfStringLayoutResult","lineResult","lines","lineIndent","getLineIndent","layoutLine","numSymbolsInserted","returnedValue","copyToResult","numInserted","finalizeResult","firstLine","paragraphIndent","getLineHeight","lineSpacing","getLineWidth","layoutLineHeight","lineType","FirstParagraphLine","addToLineResult","NewLineBreak","builder","curLine","curIndent","isSingleWord","curLineWidth","getWrapType","Character","ln","LayoutBreak","LastParagraphLine","layoutLines","breakType","LineInfo","actualSize","lineLimit","maxHeight","expHeight","trimLine","size_1","wordWrap","textRemainder","empty","ObjectStatus","PdfFont","Regular","setStyle","metrics","getHeight","Bold","Italic","Strikeout","Underline","fontMetrics","pdfFontInternals","measureString","temparg2","layoutArea","temparg3","equalsTo","equalsToFont","getInternals","setInternals","internals","applyFormatSettings","realWidth","characterSpacing","wordSpacing","charSizeMultiplier","syncObject","PdfWriter","pdfDocument","overload","tempOverload","ObjectType","PdfMainObjectCollection","objectCollections","mainObjectCollection","primitiveObjectCollection","isNew","objInfo","ObjectInfo","Registered","lookFor","wasNew","trySetReference","found","setReference","pdfObject","objectCollectionIndex","PdfDocumentBase","isStreamCopied","PdfDocument","objects","currentSavingObject","pdfCatalog","setMainObjectCollection","setCrossTable","setCatalog","catalog","filename","SW","encoding_1","SW_1","blobData","docSave","PdfPageOrientation","PdfCatalog","sections","tempDictionaryProperties","PdfCrossTable","maxGenNumIndex","objectCount","merging","internalTrailer","pdfObjects","saveHead","mappedReferences","markTrailerReferences","saveObjects","saveCount","xrefPos","registerObject","saveSections","saveTrailer","saveTheEndess","objectCollection","prevXRef","objectNum","prepareSubsection","saveSubsection","Free","generation","isFree","addOffsetLength","addGenNumberLength","total","generateFileVersion","bNew","getSubReference","objnumber","nextObjNumber","tempIndex","tempkey","tempvalue","bForceNew","saveIndirectObject","currentSavingObj","doSaveObject","free","RegisteredObject","dereference","rh","tempOffset","offsetNumber","tempReference","Normal","PdfPageSize","letter","note","legal","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","b0","b1","b2","b3","b4","b5","archE","archD","archC","archB","archA","flsa","halfLetter","letter11x17","ledger","PdfPageRotateAngle","PdfNumberStyle","PdfDockStyle","PdfAlignmentStyle","TemplateType","ImageFormat","PdfMargins","pdfMargin","setMargins","leftMargin","topMargin","rightMargin","bottomMargin","margin1","margin2","margin3","margin4","PdfPageSettings","margins","pageMargins","rotateAngle","RotateAngle0","pageOrientation","Portrait","pageOrigin","isRotation","setSize","updateSize","Landscape","getActualSize","PdfStreamWriter","dictionaryName","writeOperator","executeObject","useEvenOddRule","fillStrokePath","fillPath","closeFillPath","textScaling","strokePath","restoreGraphicsState","saveGraphicsState","startNextLine","writePoint","setLeading","setTextRenderingMode","renderingMode","setCharacterSpacing","charSpacing","setWordSpacing","showNextLineText","checkTextParam","writeText","setColorSpace","temparg1","op","matrix","opcode","updateY","string","writeComment","forStroking","setLineDashPattern","patternOffset","setLineDashPatternHelper","tempPattern","miterLimit","setLineCap","lineCapStyle","setLineJoin","lineJoinStyle","PdfPen","dashOffsetValue","penDashPattern","pdfDashStyle","Solid","pdfLineCap","pdfLineJoin","penWidth","internalMiterLimit","setBrush","Custom","Dash","Dot","DashDot","DashDotDot","sBrush","pdfBrush","currentPen","dashControl","lineJoin","lineCap","pen","getPattern","dashOffset","dashPattern","PdfTransformationMatrix","radDegFactor","transformationMatrix","Matrix","multiply","degreesToRadians","degreesX","degRadFactor","radiansToDegrees","radians","metrixElements","tempMatrix","dispose","ProcedureSets","pdf","imageB","imageC","imageI","TemporaryDictionary","mKeys","mValues","ReferenceError","PdfTransparency","PdfAutomaticFieldInfoCollection","automaticFieldsInformation","fieldInfo","automaticFields","PdfGraphicsElement","drawHelper","graphics","bNeedSave","gState","translateTransform","drawInternal","PdfAutomaticField","internalBounds","internalTemplateSize","internalFont","internalBrush","internalPen","internalStringFormat","performDrawHelper","scalingX","scalingY","getFont","stringFormat","draw","location_1","PdfAutomaticFieldInfo","getSize","getBrush","defaultFont","getPageFromGraphics","pageNumberFieldLocation","pageNumberField","PdfGraphics","previousTextRenderingMode","Fill","previousCharacterSpacing","previousWordSpacing","previousTextScaling","procedureSets","isNormalRender","isUseFontSize","isItalic","isEmfTextScaled","isEmf","isEmfPlus","isBaselineFormat","emfScalingFactor","colorSpaceChanged","isPointOverload","currentColorSpaces","isImageOptimized","graphicsState","istransparencySet","internalAutomaticFields","startCutIndex","pdfStreamWriter","canvasSize","pdfStringLayoutResult","internalMediaBoxUpperRightBound","clipBounds","pageLayer","bStateSaved","currentBrush","currentFont","bCSInitialized","currentStringFormat","requireProcedureSet","drawPdfTemplate","bNeedScale","getTranslateTransform","getScaleTransform","name_1","getName","newLocation","drawString","arg8","arg9","temparg4","temparg5","temparg6","temparg7","temparg8","temparg9","checkCorrectLayoutRectangle","drawStringLayoutResult","stateControl","Winding","isPen","isBrush","isEvenOdd","Alternate","physicalDimension","name_2","setResources","resource","getLineBounds","lineIndex","layoutRectangle","lineCount","getTextVerticalAlignShift","hShift","getHorizontalAlignShift","shouldJustify","layoutedRectangle","Center","Right","lineAlignment","Middle","Bottom","setLayer","layer","pageSave","performDraw","applyStringSettings","horizontalScalingFactor","subSuperScript","SubScript","getDescent","getAscent","resultHeight","remainingString","drawLayoutResult","underlineStrikeoutText","getNextPage","section","getPages","setClip","tm","getTextRenderingMode","cs","ws","textHeight","boundsHeight","vAlignShift","lineInfo","hAlignShift","drawAsciiLine","justifyLine","boundsWidth","hasWordSpacing","whitespacesCount","wordSpace","initializeCoordinates","justifyStyle","Justify","goodWidth","hasSpaces","goodLineBreakStyle","underline","strikeout","linePen","createUnderlineStikeoutPen","vShift","underlineYOffset","strikeoutYOffset","FillStroke","Stroke","ClipFlag","layoutBounds","firstParagraphLine","Left","lastDocumentCS","lastGraphicsCS","initCurrentColorSpace","penControl","brushControl","fontControl","colorspace","curSubSuper","prevSubSuper","fontName","setTransparency","trasparencies","transp","td","TransparencyData","name_3","clipTranslateMargins","clipArea","scaleTransform","rotateTransform","getRotateTransform","mediaBoxUpperRightBound","cropBox","PdfGraphicsState","textRenderingMode","doRestoreState","pop","pathTypesValuesMask","transparencyObject","GetResourceEventHandler","internalTextRenderingMode","internalTextScaling","pdfColorSpace","pdfGraphics","pdfPen","pdfFont","alphaPen","alphaBrush","blendMode","PdfPageLayer","streamClipPageTemplates","sublayer","contentLength","pdfPage","clipPageTemplates","layerid","layerName","initializeGraphics","PdfPageLayerCollection","sign","oPage","gr","sc","isSame","origin","getActualBounds","pageSettings","PdfCollection","collection","parentLayerCount","optionalContent","PdfPageBase","lPage","parseLayers","firstArgument","secondArgument","addLayer","insertLayer","loadedPage","saveStream","restoreStream","saveData","PdfTemplate","writeTransformation","tempSize","templateSize","PdfResources","addType","addSubType","ByteArray","mPosition","dataView","DataView","readByte","getBuffer","writeFromBase64String","base64","encodedString","chr1","chr2","chr3","enc2","enc3","keyStr","resultIndex","totalLength","charAt","PdfBoolean","objectStatus","saving","boolToStr","PdfLayoutType","ImageDecoder","mFormat","Unknown","mbitsPerComponent","mStream","mHeight","mWidth","mImageData","internalBuffer","checkIfJpeg","Jpeg","parseJpegImage","imgData","mJpegHeader","getImageDictionary","imageData","imageStream","tempString","decodedString","imageDataAsNumberArray","compress","getColorSpace","getDecodeParams","decodeParams","mPngHeader","GIF_HEADER","BMP_HEADER","PdfUnitConverter","dpi","updateProportionsHelper","convertUnits","to","convertFromPixels","convertToPixels","proportions","pixelPerInch","horizontalResolution","verticalResolution","PdfImage","imageWidth","imageHeight","imagePhysicalDimension","getPointSize","dpiX","dpiY","ucX","ucY","ptWidth","Pixel","Point","ptHeight","PdfBitmap","imageStatus","loadImage","initializeAsync","decoder","baseDictionary","getNames","primitive","names","sName","generateName","pdfNames","fonts","procedureSetName","procSets","removeFont","Guid","getNewGuidString","xobjects","savable","transDic","parentXObjects","hasSameImageStream","oldReference","randomString","randomNumber","defLayerIndex","modified","pageDictionary","pdfSection","layers","defaultLayerIndex","layerCollection","PdfAnnotationCollection","alreadyExistsAnnotationError","missingAnnotationException","internalAnnotations","lists","annotation","doAdd","setPage","layoutResult","lastPosition","setColor","colours","PdfPage","annotationCollection","defaultLayer","parentDocument","annotations","setSection","resetProgress","isProgressOn","getClientSize","doc","drawPageTemplates","containsTemplates","backLayer","drawTemplates","frontLayer","PageAddedEventArgs","PdfSectionPageCollection","PdfDocumentTemplate","leftTemplate","checkElement","topTemplate","rightTemplate","bottomTemplate","evenLeft","evenTop","evenRight","evenBottom","oddLeft","oddTop","oddRight","oddBottom","getLeft","isEven","EvenLeft","OddLeft","getTop","EvenTop","OddTop","getRight","EvenRight","OddRight","getBottom","EvenBottom","OddBottom","pageCollectionIndex","PdfSectionTemplate","leftValue","topValue","rightValue","bottomValue","stampValue","PdfSection","pageAdded","pdfPages","initialSettings","sectionCollection","pagesReferences","pageTemplate","pagesCollection","pointToNativePdf","setPageSettings","PageSettingsState","pageCount","foreground","documentHeaders","getDocumentTemplates","documentTemplates","templates","applyDocumentTopTemplate","applyDocumentBottomTemplate","applyDocumentLeftTemplate","applyDocumentRightTemplate","page_1","checkPresence","pageAddedMethod","onPageAdded","document_1","getLeftIndentWidth","top_1","getTopIndentHeight","getRightIndentWidth","getBottomIndentHeight","includeMargins","templateWidth","docTemplateWidth","templateHeight","docTemplateHeight","temproaryPages","applyPageSettings","container","parentSettings","PdfSectionCollection","rotateFactor","drawTemplatesHelper","pageRotate","sectionCount","pdfSectionCollection","section_1","checkSection","countPages","PdfDocumentPageCollection","pdfPageCollectionIndex","previousPageOrientation","getLastSection","getPageByIndex","getPage","sectionStartIndex","numPages","PdfCacheCollection","referenceObjects","pdfFontCollection","createNewGroup","isMerging","defaultMargin","documentPageCollection","cacheCollection","defaultStandardFont","PdfStandardFont","Helvetica","Cmyk","GrayScale","checkPagesPresence","PdfFontMetrics","lineGap","ascent","descent","getLineGap","clearTypeFonts","clearTypeFontCollection","subScriptSizeFactor","SuperScript","superscriptSizeFactor","widthTable","WidthTable","internalWidthTable","StandardWidthTable","widths","swt","PdfStandardFontMetricsFactory","getMetrics","getHelveticaMetrics","Courier","getCourierMetrics","TimesRoman","getTimesMetrics","Symbol","getSymbolMetrics","ZapfDingbats","getZapfDingbatsMetrics","subSuperScriptFactor","helveticaBoldItalicAscent","helveticaBoldItalicDescent","postScriptName","helveticaBoldItalicName","arialBoldWidth","helveticaBoldAscent","helveticaBoldDescent","helveticaBoldName","helveticaItalicAscent","helveticaItalicDescent","helveticaItalicName","arialWidth","helveticaAscent","helveticaDescent","helveticaName","courierBoldItalicAscent","courierBoldItalicDescent","courierBoldItalicName","fixedWidth","courierBoldAscent","courierBoldDescent","courierBoldName","courierItalicAscent","courierItalicDescent","courierItalicName","courierAscent","courierDescent","courierName","timesBoldItalicAscent","timesBoldItalicDescent","timesBoldItalicName","timesRomanBoldItalicWidths","timesBoldAscent","timesBoldDescent","timesBoldName","timesRomanBoldWidth","timesItalicAscent","timesItalicDescent","timesItalicName","timesRomanItalicWidth","timesAscent","timesDescent","timesName","timesRomanWidth","symbolAscent","symbolDescent","symbolName","symbolWidth","zapfDingbatsAscent","zapfDingbatsDescent","zapfDingbatsName","zapfDingbatsWidth","fontFamilyPrototype","encodings","pdfFontFamily","checkStyle","initializeInternals","convert","getCharWidthInternal","stFont","fontFamilyEqual","lineReducer","styleEqual","createInternals","WinAnsiEncoding","charOffset","PdfAnnotation","textBrush","textFont","internalColor","darkness","nativeRectangle","initialHeight","tempLoacation","PdfLinkAnnotation","PdfActionLinkAnnotation","pdfAction","getSetAction","PdfDocumentLinkAnnotation","pdfDestination","PdfLayoutBreakType","PdfDestinationMode","ElementLayouter","layoutElement","isBoundsChanged","layoutInternal","PdfLayoutFormat","baseFormat","break","paginateBounds","boundsSet","usePaginateBounds","layoutType","Paginate","FitPage","layoutPaginateBounds","PdfLayoutParams","layoutFormat","PdfLayoutResult","PdfLayoutElement","bEmbedFonts","TextLayouter","currentBounds","pageResult","TextPageLayoutResult","remainder","layoutOnPage","getLayoutResult","PdfTextLayoutResult","lastLineBounds","checkCorrectBounds","stringResult","textFinished","FitElement","PdfTextWebLink","getTextPageBounds","verticalShift","remainderText","lastLineTextBounds","PdfTextElement","elementValue","hasPointOverload","isPdfTextElement","stringLayoutResult","previousPosition","calculateResultBounds","lineSize","startPosition","PdfUriAnnotation","pdfUriAction","uriAction","uniformResourceLocator","uriAnnotation","recalculateBounds","defaultBorder","previousFontStyle","calculateBounds","drawMultipleLineWithPoint","drawMultipleLineWithBounds","PdfNumbersConvertor","intArabic","numberStyle","Numeric","LowerLatin","arabicToLetter","LowerRoman","arabicToRoman","UpperLatin","UpperRoman","retval","generateNumber","arabic","convertToLetter","appendChar","magnitude","numberstring","letterLimit","acsiiStartIndex","PdfTemplateValuePair","pdfTemplate","PdfMultipleValueField","drawLocation","PdfPageNumberField","internalNumberStyle","internalGetValue","PdfCompositeField","internalText","automaticField","PdfSingleValueField","painterGraphics","PdfPageCountField","PdfBorderOverlapStyle","PdfDestination","destinationMode","destinationLocation","initializePrimitive","simplePage","FitToPage","PdfPageTemplateElement","dockStyle","resetAlignment","alignmentStyle","setAlignment","isForeground","currentLocation","templateType","updateDocking","dock","canBeSet","TopLeft","MiddleLeft","BottomLeft","TopCenter","TopRight","MiddleRight","BottomRight","BottomCenter","MiddleCenter","getAlignmentBounds","getDockBounds","getSimpleAlignmentBounds","getTemplateAlignmentBounds","actualBounds","getSimpleDockBounds","getTemplateDockBounds","PdfBorders","defaultBorderPenLeft","dashStyle","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","PdfPaddings","leftPad","rightPad","topPad","bottomPad","PdfHorizontalOverflowType","PdfGridStyleBase","gridBackgroundBrush","gridTextBrush","gridTextPen","gridFont","PdfGridStyle","gridBorderOverlapStyle","Overlap","bAllowHorizontalOverflow","gridHorizontalOverflowType","LastPage","gridCellSpacing","gridCellPadding","PdfGridCellStyle","gridCellBorders","default","PdfGridRowStyle","gridRowBackgroundBrush","setBackgroundBrush","cells","getCell","backgroundBrush","gridRowTextBrush","setTextBrush","gridRowTextPen","setTextPen","textPen","gridRowFont","gridRowBorder","setBorder","borders","setParent","PdfGridCell","cellWidth","cellHeight","finsh","rowSpanRemainingHeight","gridRowSpan","colSpan","gridRow","internalIsCellMergeContinue","internalIsRowMergeContinue","internalIsCellMergeStart","internalIsRowMergeStart","remaining","objectValue","rowSpanExists","cellStyle","measureHeight","columnSpanExists","grid","isComplete","measureWidth","layouter","getTextFont","webLink","cellPadding","cellSpacing","drawCellBackground","getBackgroundBrush","adjustContentLayoutArea","returnBounds","rowSpan","cancelSubsequentSpans","allowHorizontalOverflow","rowOverflowIndex","adjustOuterLayoutArea","getTextPen","getTextBrush","strFormat","getStringFormat","innerLayoutArea","imageBounds","drawCellBorders","borderOverlapStyle","Inside","p1","p2","Square","isHeader","currentColIndex","columnSpan","totalWidth","compWidth","getColumn","currentRowIndex","rowCollection","totalHeight","getHeader","getRow","rowMergeComplete","calculateWidth","currentValue","slr","cellIndex","PdfGridCellCollection","cell","tempcell","PdfGridColumn","columnWidth","isCustomWidth","PdfGridColumnCollection","internalColumns","measureColumnsWidth","initialWidth","isPageWidth","getDefaultWidths","subFactor","PdfGridRow","gridRowOverflowIndex","isRowHeightSet","isRowMergeComplete","pdfGrid","bRowSpanExists","gridCells","rowStyle","gridRowBreakHeight","rowHeight","bColumnSpanExists","PdfGridRowCollection","addRow","temprow","PdfGridHeaderCollection","PdfGridLayoutFormat","PdfGrid","gridSize","isRearranged","pageBounds","listOfNavigatePages","columnRanges","breakRow","beginCellDraw","endCellDraw","beginPageLayout","endPageLayout","bRepeatHeader","gridColumns","gridRows","gridHeaders","gridInitialWidth","gridStyle","pageWidth","childGrid","isGridLayouter","setSpan","gridLocation","currentCellIndex","colCount","isCellMergeContinue","isRowMergeContinue","isCellMergeStart","isRowMergeStart","currentPageBounds","currentGraphics","isChildGrid","hType","horizontalOverflowType","determineColumnDrawRanges","rowWidth","internalWidth","internalHeight","isCorrectWidth","isCorrectHeight","startColumn","endColumn","cellWidths","availableWidth","subWidths","layoutedPages","startPage","cellBounds","cellStartIndex","cellEndIndex","returnObject","raiseBeforePageLayout","i_1","drawRow","repeatRow","originalHeight","repeatRowIndex","rowResult","isFinish","OnePage","repeatHeader","i_2","maximumCellBoundsWidth","largeNavigatePage","rowLayoutBoundsWidth","NextPage","reArrangePages","raisePageLayouted","nextPage","pageindex","PdfGridLayoutResult","ReCalculateHeight","currentRow","raiseBeginPageLayout","PdfGridBeginPageLayoutEventArgs","startRowIndex","PdfGridEndPageLayoutEventArgs","raiseEndPageLayout","result_1","RowLayoutResult","rowHeightWithSpan","maxSpan","currRowIndex","rowMaxHeight","nextRow","calculatedHeight","rowBreakHeight","location_2","cancelSpans","CheckIfDefaultFormat","cellstyle","RaiseBeforeCellDraw","RaiseAfterCellDraw","defaultFormat","measureTrailingSpaces","noClip","raiseBeginCellDraw","PdfGridBeginCellDrawEventArgs","raiseEndCellDraw","PdfGridEndCellDrawEventArgs","count_1","GridCellEventArgs","gridRowIndex","gridCellIndex","gridBounds","bSkip","PdfCancelEventArgs","isCancel","BeginPageLayoutEventArgs","EndPageLayoutEventArgs","nextPdfPage","startRow","layoutedBounds","bIsFinished","ExportUtils","outerHeight","outerWidth","resizeTo","screen","availWidth","availHeight","htmlContent","getHTMLContent","Element","export","isDownload","svgData","XMLSerializer","serializeToString","triggerDownload","image_1","ctx_1","imageString","msSaveOrOpenBlob","msToBlob","toLocaleLowerCase","MouseEvent","view","bubbles","cancelable","CrosshairSettings","ZoomSettings","Chart","unWireEvents","initPrivateVariable","refreshDefinition","tooltipModule","createChartSvg","setTheme","calculateAreaType","calculateVisibleSeries","initTechnicalIndicators","initTrendLines","calculateVisibleAxis","getLocalizedLabel","legendModule","getLegendOptions","isCalculateStacking","rectCount","renderElements","renderBorder","renderTitle","renderAreaBorder","renderSeriesElements","applyZoomkit","performSelection","setSecondaryElementPosition","renderAnnotation","yAxisElements","stripLineModule","renderStripLine","svgRect","initializeModuleElements","dataLabelCollections","indicators","indicatorElements","hasTrendlines","trendLineElements","isTrendline","tooltipDiv","initializeIndicator","initializeTrendLine","appendElementsAfterSeries","indicator","createIndicatorElements","getTrendLineElements","zoomModule","isZoomed","zoomSettings","enablePan","performedUI","applyZoomToolkit","annotationModule","renderAnnotations","selectedDataIndexes","invokeSelection","redrawSelection","check","initializeDataModule","techIndicator","titleHeight","trendIndex","trendLine","sourceIndex","initSeriesCollection","yAxisName","polarSeriesModule","radarSeriesModule","isPanning","isAxisZoomed","series_2","initAxis","isSeries","seriesName","palettes","addSeries","removeSeries","keyEntity","removeSvg","stopEvent","cancelEvent","chartOnMouseDown","mouseMove","mouseEnd","chartOnMouseClick","chartRightClick","mouseLeave","chartResize","longPress","tapHold","crosshairModule","buttons","pointerType","stopPropagation","zooming","disableScroll","enableSelectionZooming","enableMouseWheelZooming","enablePinchZooming","msTouchAction","msContentZooming","msUserSelect","webkitUserSelect","isOrientation","setMouseXY","touchArg","chartOnMouseMove","chartOnMouseLeave","isChartDrag","pointClick","triggerPointEvent","pointMove","titleTooltip","axisTooltip","texts","categories","mouseDownX","previousMouseMoveX","mouseDownY","previousMouseMoveY","isDoubleTap","threshold","chartOnMouseUp","setLocaleConstants","defaultLocalConstants","setAnnotationValue","annotationIndex","processAnnotation","children","ZoomIn","Zoom","ZoomOut","Pan","Reset","ResetZoom","moduleName","enableAnnotation","errorBarVisible","dataLabelEnable","isLegend","currentModule","findIndicatorModules","findTrendLineModules","findAxisModule","datetimeEnabled","categoryEnabled","logarithmicEnabled","striplineEnabled","dateTimeCategoryEnabled","multiLevelEnabled","axisCollections_1","findStriplineVisibility","stripLines","macdEnable","bandEnable","isLine","isSpline","markerEnable","trendline","striplines","striplines_1","removeLength","pinchTarget","firstChild","definitions","definitions_1","axisChange","refreshBounds","crosshairTooltip","isMultiSelect","NiceInterval","calculateDateTimeNiceInterval","startDate","endDate","totalDays","actualIntervalType","intervalType","getSkeleton","DateTime","datetimeInterval","getYear","getHour","endMinute","endSecond","startYear","endYear","endMonth","endDay","endHour","increaseDateTimeInterval","alignRangeStart","skeletonType","setMonth","setSeconds","sDate","intervalSize","sResult","minutes","seconds","Category","Logarithmic","logEnd","calculateLogNiceInterval","axisFormat","isCustomFormat","DateTimeCategory","axisSize","sameInterval","currentDate","previousDate","sameValue","StripLine","measureStripLine","stripline","actualStart","actualEnd","getFromTovalue","startFromAxis","findValue","getToValue","striplineGroup","axes_1","zIndex","renderRectangle","textMid","ty","rotation","tx","getTextStart","horizontalAlignment","invertAlignment","xy","LineBase","improveChartPerformance","tempPoints","xVisibleRange","yVisibleRange","seriesPoints","areaBounds","xTolerance","yTolerance","prevXValue","prevYValue","xVal","yVal","seriesPoints_1","currentPoint_1","getLineDirection","firstPoint","secondPoint","getPointLocation","point1","point2","appendLinePath","pathElement","doProgressiveAnimation","strokeDashArray","pathLength","getTotalLength","storePointLocation","doLinearAnimation","elementHeight","elementWidth","xCenter","yCenter","LineSeries","prevPoint","getCoordinate","visiblePoints","visiblePoints_1","isClosed","ColumnBase","getSideBySideInfo","enableSideBySidePlacement","getSideBySidePositions","seriesSpacing","columnSpacing","pointSpacing","getRectangle","findRectPosition","vSeries","updateSymbolLocation","updateYRegion","updateXRegion","triggerEvent","calculateRoundedRectPath","topLeft","topRight","bottomLeft","bottomRight","rectElements","animateRect","isPlot","lastElementChild","childElementCount","ColumnSeries","sideBySideInfo","pointColumn","MultiColoredSeries","getAreaPathDirection","startPath","getAreaEmptyDirection","isXSegment","segments","segment","getAxisValue","sortSegments","chartSegments","segmentAxis","access","applySegmentAxis","includeSegment","createClipRect","isX","isRequired","startPointLocation","endPointLocation","segmentValue","AreaSeries","currentXValue","BarSeries","pointBar","PolarRadarPanel","drawYAxisLine","vector","vector2","minorGirdLine","xLoc","yLoc","tickXSize","tickYSize","labelText","firstLabelX","lastLabelX","textAnchor","tickOptions","gridOptions","PolarSeries","columnDrawTypeRender","itemCurrentXPos","pointStartAngle","pointEndAngle","dStartX","dStartY","dEndX","dEndY","sumofYValues","rangeInterval","getSeriesPosition","doPolarRadarAnimation","animateElement","chartcenterX","chartcenterY","RadarSeries","StackingBarSeries","stackedValue","pointStack","CandleSeries","centerRegion","tickRegion","getPathString","triggerPointRenderEvent","drawCandle","getCandleColor","enableSolidCandles","bullFillColor","bearFillColor","topRect","midRect","candleElement","StackingColumnSeries","StepLineSeries","pathOptions","lineLength","StepAreaSeries","StackingAreaSeries","polarAreaType","lineDirection","stackedvalue","previousSeries","getPreviousSeries","ScatterSeries","RangeColumnSeries","rangePoint","WaterfallSeries","originValue","prevEndValue","currentEndValue","prevRegion","intermediateOrigin","isSum","isIntermediateSum","totalSum","isSumIndex","currentRegion","prevLeft","currentLeft","prevBottom","currentBottom","connector","intermediateSumIndexes","sumIndexes","summaryFillColor","negativeFillColor","intermediateSum","sumIndex","HiloSeries","HiloOpenCloseSeries","highLowRect","updateTickRegion","open_1","close_1","drawHiloOpenClosePath","horizontal","RangeAreaSeries","command","closed","highPoint","closeRangeAreaPath","BubbleSeries","segmentRadius","percentChange","maxRadius","minRadius","maximumSize","value_1","bubblePoint","SplineBase","splinePoints","filterEmptyPoints","findSplineCoefficients","getPreviousIndex","getControlPoints","getNextIndex","coefficient1","coefficient2","coefficient3","dy1","dy2","interPoint","slopeLength","ySpline","ySplineDuplicate","dx","dy","slope","cardinalSplineTension","splineType","ySpline1","ySpline2","ySplineDuplicate1","ySplineDuplicate2","deltaX2","SplineSeries","pt1","pt2","bpt1","bpt2","SplineAreaSeries","controlPt1","controlPt2","startPoint1","TechnicalAnalysis","signalLine","setSeriesProperties","indicatorElement","getDataPoint","sourcePoint","macdPositiveColor","macdNegativeColor","getRangePoint","setSeriesRange","SmaIndicator","smaPoints","validData","signalSeries","period","EmaIndicator","emaPoints","prevAverage","TmaIndicator","tmaPoints","signalSeries_1","validData_1","smaValues","k_1","AccumulationDistributionIndicator","sourceSeries","adPoints","calculateADPoints","AtrIndicator","calculateATRPoints","highLow","highClose","lowClose","trueRange","MomentumIndicator","upperLine","upperCollection","signalCollection","upperSeries","RsiIndicator","showZones","lowerLine","lowerCollection","overBought","overSold","prevClose","gain","loss","close_2","StochasticIndicator","periodLine","lowerSeries","periodCollection","calculatePeriod","kPeriod","smaCalculation","dPeriod","pointCollection","lowValues","highValues","closeValues","modifiedSource","mins","maxs","MIN_VALUE","BollingerBands","rangeArea","bandColor","enableBand","bandCollection","rangeAreaSeries","deviationSum","multiplier","standardDeviation","deviations","bollingerPoints","sma","lowerBand","upperBand","j_1","X","mb","lb","ub","MacdIndicator","macdType","macdSeries","macdLine","histogramSeries","macdLineSeries","fastPeriod","slowPeriod","macdCollection","histogramCollection","shortEMA","calculateEMAValues","longEMA","macdValues","getMACDVales","getMACDPoints","signalEMA","getSignalPoints","getHistogramPoints","initialEMA","emaValues","emaPercent","emaAvg","macdPoints","dataMACDIndex","macdIndex","signalEma","dataSignalIndex","signalIndex","shortEma","longEma","dataHistogramIndex","histogramIndex","Trendlines","trendLineSeries","legendShape","createTrendLineElements","trendLineElement","trendPoint","findSlopeIntercept","xAvg","yAvg","xyAvg","xxAvg","yyAvg","intercept","trendlineSeries","setLinearRange","setExponentialRange","setMovingAverageRange","setPolynomialRange","setPowerRange","setLogarithmicRange","splineSeriesModule","slopeIntercept","getExponentialPoints","xLogValue","yLogValue","xPointsLgr","getLogarithmicPoints","xPolyValues","yPolyValues","getPolynomialPoints","powerPoints","getPowerPoints","getLinearPoints","xAvgValues","getMovingAveragePoints","slopeInterceptLog","midPoint","pts","x1Log","backwardForecast","y1Log","x2Log","y2Log","x3Log","forwardForecast","y3Log","slopeInterceptPower","x3","y3","polynomialOrder","polynomialSlopes","subIndex","numArray","newIndex","nIndex","num2","nIndex2","nnIndex","nnIndex2","gaussJordanElimination","getPoints","nullCount","slopeInterceptLinear","x1Linear","y1Linear","x2Linear","y2Linear","slopeInterceptExp","ptsExp","getPolynomialYValue","slopes","numArray1","numArray2","numArray3","num1","index4_1","num3","num4","iindex4","iandex4","iindex1","iindex2","Crosshair","elementID","mouseLeaveHandler","removeCrosshair","isIos","isIos7","disableTrackTooltip","horizontalCross","verticalCross","crossGroup","stopAnimation","valueX","valueY","axisTooltipGroup","renderCrosshairLine","renderAxisTooltip","lastChild","axisGroup","textElem","getAxisText","tooltipLocation","isTop","isBottom","isLeft","isRight","labelValue","tooltipRect","boundsX","boundsY","crosshairInterval","BaseTooltip","markerPoint","getTooltipElement","isTooltip","inverted","updateTemplateFn","formattedText","elementCollection","textElements","groupElement","isFirst","isChart","renderTooltip","areaRect","cartesain","removeHighlight","highlightPoints","renderTooltipElement","renderTemplate","tipLocation","sharedTooltipLocation","seriesTooltipLocation","headerSize","pathElement_1","pointRect","enableAnimation","updateDiv","animateTooltipDiv","shadowElement","defElement","changeText","Side","isRender","tspanOption","subWidth","tspanStyle","headerSpace","isColumn","width_1","firstElement","symbolLocation","clipX","clipY","progressAnimation","tooltipGroup","rectOpacity","isRect","endAnimation","highlightPoint","highlight","currenDiff","firstText","removeText","toolTipInterval","Tooltip","removeTooltip","renderGroupedTooltip","renderSeriesTooltip","findHeader","parseTemplate","markerSide","findData","getTooltipText","getSymbolLocation","getTemplateText","drawMarker","findMouseValue","getBoxLocation","formatPointValue","extraPoints","markerGroup","findColor","dataValue","getPrototypeOf","isXPoint","isYPoint","getIndicatorTooltipFormat","tooltipElement","data_2","Toolkit","selectionColor","fillColor","createPanButton","panElements","pan","createZoomButton","zoomElements","zoom","createZoomInButton","polygonDirection","zoomInElements","elementOpacity","zoomIn","createZoomOutButton","zoomOutElements","zoomOut","createResetButton","toolkitElements","touchMoveList","touchStartList","zoomInOutCalculation","applySelection","zoomFactor_1","zoomPosition_1","cumulative_1","browserName","wheelEvent","toolkit","zoomingRect","zoomAxes","zoomkitOpacity","isIOS","renderZooming","calculateZoomAxesRange","doPan","drawZoomingRectangle","currentScale","translateX","translateY","enableDeferredZooming","setTransform","performZoomRedraw","doZoom","previousZF","previousZP","currentZF","currentZP","zoomRect","previousZoomFactor","previousZoomPosition","currentZoomFactor","currentZoomPosition","performMouseWheelZooming","cumulative","wheelDelta","performPinchZooming","translateXValue","translateYValue","pinchRect","elementOffset","touchDown","touchMove","touch0StartX","touch0StartY","touch0EndX","touch0EndY","touch1StartX","touch1StartY","touch1EndX","touch1EndY","calculatePinchZoomFactor","selectionMin","selectionMax","rangeMin","rangeMax","axisTrans","actualMin","actualDelta","transX","transY","isPinch","xAxisLoc","yAxisLoc","axisRange","showZoomingToolkit","outerElement","toolboxItems","toolbarItems","xPosition","currentItem","zoomToolkitMove","zoomToolkitLeave","showToolkit","chartMouseWheel","mouseDownHandler","mouseCancelHandler","touches","addTouchPointer","touchList","pointerId","BaseSelection","seriesStyles","seriesclass","styleId","selectionStyle","unselected","concatIndexes","userIndexes","localIndexes","checkVisibility","selectedIndexes","uniqueSeries","selectedIndexes_1","uniqueSeries_1","addSvgClass","elementClassName","removeSvgClass","getChildren","Selection","completeSelection","calculateSelectedElements","mousedown","initPrivateVariables","closeIconId","draggedRectGroup","draggedRect","isSeriesMode","selectDataIndex","generateStyle","indexes","indexes_1","getElementByIndex","getClusterElements","clusters","findElements","getSeriesElements","selection","blurEffect","clusterSelection","selectedElements","removeMultiSelectEelments","getSelectionClass","removeStyles","addOrRemoveIndex","applyStyles","toEquals","chartId","checkSelectionElements","parentClassName","selectElement","elements_2","checkSeriesOnly","oldMode","removeSelectedElements","legendSelection","seriesStyle","isBlurEffectNeeded","elements_3","seriesElements_1","calculateDragSelectedElements","dragRect","axisOffset","removeOffset","selectedPointValues","selectedSeriesValues","xAxisOffset_1","yAxisOffset_1","isCurrentPoint","createCloseButton","selectedDataValues","drawDraggingRect","cartesianLayout","closeIcon","dragGroup","removeDraggedElements","changeCursorStyle","resizingSelectionRect","tapped","resize","findResizeMode","resizing","chartSvgObject","cursorStyle","resizeMode","resizeEdges","isResize","rectelement","seriesElements_2","draggedRectMoved","grabbedPoint","doDrawing","dragging","rectGrabbing","getDragRect","DataLabel","errorHeight","commonId","calculateErrorHeight","chartBackground","positiveHeight","negativeHeight","rgbValue","contrast","yAxisInversed","labelLength","fontBackground","isDataLabelShape","createDataLabelTemplate","calculateTextPosition","isShape","elementRect","vAxis","hAxis","labelRegion","getLabelLocation","locationY","alignmentValue","calculateAlignment","calculateRectPosition","locationX","calculatePathPosition","calculatePolarRectPosition","columnRadius","labelLocation","textLength","extraSpace","calculateRectActualPosition","calculateTopAndOuterPosition","calculatePathActualPosition","labelRect","isOverLap","finalPosition","updateLabelLocation","markerSize","positionIndex","intersectY","shapeElements","textNode","ErrorBar","renderErrorBar","capId","errorbar","errorBarCap","errorDirection","point_1","errorX","errorY","verticalError","horizontalError","capOption","capPath","findLocation","horizontalPositiveError","verticalPositiveError","horizontalNegativeError","verticalNegativeError","getErrorDirection","calculateFixedValue","calculatePercentageValue","calculateStandardDeviationValue","getMean","meanCalculation","calculateStandardErrorValue","calculateCustomValue","getHorizontalDirection","mid","errorMode","capLength","capDirection","getVerticalDirection","getBothDirection","pathH","pathV","paths","verStandardMean","horStandardMean","verSquareRoot","horSquareRoot","sumOfX","sumOfY","errorBarClipRect","errorBarElements","Legend","click","visibleSeriesCollection","visibleSeriesCollection_1","extraHeight","extraWidth","legendEventArgs","columnHeight","prevLegend","previousBound","availwidth","LegendClick","refreshSeries","legendItemsId_1","AnnotationBase","setAnnotationPixelValue","accumulationBound","setAnnotationPointValue","isLog","xAnnotation","setAccumulationPointValue","annotationElement","coordinateUnits","setElementStyle","accPoint","setAlignmentValue","ChartAnnotation","BoxAndWhiskerSeries","centerRegion_1","findBoxPlotValues","boxPlotMode","updateTipRegion","renderBoxAndWhisker","tipRegion","updateTipSize","midWidth","midHeight","topWidth","topHeight","showMean","yCount","quartile","getExclusiveQuartileValue","getInclusiveQuartileValue","getQuartileValues","getMinMaxOutlier","percentile","integerRank","fractionRank","isEvenList","halfLength","lowerQuartileArray","upperQuartileArray","rangeIQR","MultiColoredAreaSeries","startRegion","rendered","generatePathOption","MultiColoredLineSeries","MultiLevelLabel","xAxisPrevHeight","xAxisMultiLabelHeight","yAxisPrevHeight","yAxisMultiLabelHeight","multiLevelLabelsHeight","prevHeight","axisValue","multiLevel","categoryLabel","maximumTextWidth","pathRect","isOutside","triggerMultiLabelRender","renderXAxisLabelBorder","multiElements","createBorderElement","padding1","padding2","value1","groupLabel","renderYAxisLabelBorder","clipId","axisId","borderIndex","axisIndex","AccumulationAnnotationSettings","AccumulationDataLabelSettings","AccPoints","labelVisible","AccumulationSeries","sumOfPoints","accumulation","resultData","seriesCounts","findSumOfPoints","sumOfClub","clubValue","groupTo","setPoints","isClub","pushPoints","lastGroupTo","clubPoint","setAccEmptyPoint","seriesGroup","renderPoints","datalabelGroup","accumulationDataLabelModule","renderDataLabel","findMaxBounds","labelBound","pieSeriesModule","accumulationLegendModule","explodeDistance","pointId","renderPoint","getSeriesElement","findAreaRect","totalbound","bound","AccumulationBase","pieCenter","pieRadius","pieLabelRadius","labelRadius","isCircular","processExplode","explodePoints","deExplodeAll","invokeExplode","explodeAll","explodeIndex","accumulationSelectionModule","deExplodeSlice","explode","midAngle","isExplode","explodeSlice","sliceId","setTranslate","setElementTransform","PieBase","initProperties","initAngles","connectorStyle","explodeOffset","findCenter","defaultLabelBound","totalAngle","accumulationRect","getSeriesBound","accumulationRectCenter","getRectFromAngle","nextQuandrant","lastQuadrant","getPathArc","getDoughnutPath","getPiePath","clockWise","innerStart","innerEnd","PieSeries","getPathOption","groupId","clipslice","AccumulationChart","accBaseModule","isIE11Pointer","accumulationMouseMove","accumulationMouseEnd","accumulationMouseStart","accumulationOnMouseClick","accumulationRightClick","accumulationMouseLeave","accumulationResize","previousSize","currentSize","createPieSvg","createSecondaryElement","doGrouppingProcess","processSelection","tooltipParent","getSmartLegendLocation","refreshPoints","findDatalabelVisibility","refreshElements","TriangularBase","actualChartArea","triangleSize","neckSize","neckWidth","neckHeight","initializeSizeRatio","gapRatio","coEff","spacing","yRatio","heightRatio","setLabelLocation","labelOffset","findPath","locations","FunnelSeries","getSegmentData","topRadius","bottomRadius","endTop","endBottom","endMin","bottomY","emptySpaceAtLeft","seriesTop","line1","line2","line4","line5","line3","line6","PyramidSeries","pyramidMode","calculateSurfaceSegments","sumOfValues","gapHeight","preSum","getSurfaceHeight","currY","coef","surface","solveQuadraticEquation","root1","root2","sd","AccumulationLegend","titleRect","totalRowCount","getMaxColumn","maxPageColumn","maxColumnWidth","columns_1","getAvailWidth","legendX","availablewidth","legendBound","getTitleRect","legendByIndex","legendCollections_1","legendItemsId","currentSeries","AccumulationDataLabel","getDataLabelPosition","getLabelDistance","getLabelRegion","marginValue","labelAngle","enableSmartLabels","getSmartLabel","circular","findPreviousPoint","isOverlapping","isConnectorLineOverlapping","setOuterSmartLabel","setPointVisibileFalse","textTrimming","textsize","getOverlappedAngle","setSmartLabelForSegments","textRegion","overlapHeight","getEdgeOfLabel","previousstart","previousend","isLineRectangleIntersect","isLinesIntersect","point11","point12","lies","getConnectorPath","getConnectorStartPoint","getPolyLinePath","controlPoints","t","getBezierPoint","p0","labelshape","edge","isTemplate","getTemplateSize","correctLabelRegion","setTemplateStyle","getSaturatedColor","clientRect","labelColor","doTemplateAnimation","saturatedColor","getLabelBackground","backgroundColor","AccumulationTooltip","getPieData","AccumulationSelection","indexes_2","checkEquals","pieId","checkPointVisibility","elementClass","parentClass","selectedDataIndexes_1","AccumulationAnnotation","pie"],"mappings":"+BASA,SAAgBA,GAAeC,EAAeC,GAC1C,GAAIC,GAAaD,CAEjB,OADAC,GAAWC,YAAQC,IACZ,IAAKC,SAASC,UAAUC,KAAKC,MAAMR,EAAeE,IAQ7D,QAAgBO,GAAaC,GACzB,GAAIC,GACAC,EAAM,GAAIC,aAAY,IACVC,OAAOC,UAAYD,OAAOE,QAChCC,gBAAgBL,EAC1B,IAAIM,GAAS,MAAQC,EAAaP,GAC9BQ,EAAiB,SAAUC,GACvBA,EAAMC,SAAWR,QAAgC,gBAAfO,GAAME,MAAqBF,EAAME,KAAKC,QAAU,IAAMH,EAAME,OAASL,IACvGR,IACAC,KAKR,OAFAG,QAAOW,iBAAiB,UAAWL,GAAgB,GACnDN,OAAOY,YAAYR,EAAQ,KACpBP,EAAS,WACZG,OAAOa,oBAAoB,UAAWP,IAU9C,QAAgBQ,GAASC,EAAWC,GAIhC,IAAK,GAFDC,GAAQD,EACRE,EAASH,EAAUI,MAAM,KACpBC,EAAI,EAAGA,EAAIF,EAAOR,SAAWW,EAAYJ,GAAQG,IACtDH,EAAQA,EAAMC,EAAOE,GAEzB,OAAOH,GAUX,QAAgBK,GAASP,EAAWE,EAAOD,GACvC,GAGII,GAEAG,EALAC,EAAOT,EAAUI,MAAM,KACvBM,EAAQT,MACRU,EAAUD,EAEVf,EAASc,EAAKd,MAElB,KAAKU,EAAI,EAAGA,EAAIV,EAAQU,IACpBG,EAAMC,EAAKJ,GACPA,EAAI,IAAMV,EACVgB,EAAQH,OAAiBjC,KAAV2B,KAA2BA,EAErCU,EAAkBD,EAAQH,MAC/BG,EAAQH,OAEZG,EAAUA,EAAQH,EAEtB,OAAOE,GASX,QAAgBG,GAAaZ,EAAKO,SACvBP,GAAIO,GAQf,QAAgBM,GAASb,GACrB,GAAIc,KACJ,QAASH,EAAkBX,IAAQA,EAAIe,cAAgBD,EAAOC,YASlE,QAAgBC,GAAaC,EAAYC,GACrC,MAAOD,GAAWC,GAStB,QAAgBC,GAAM3B,EAAQ4B,GAC1B,IAAKT,EAAkBS,GAInB,IAAK,GAHDC,GAAU7B,EACV8B,EAAWF,EAENG,EAAK,EAAGC,EADNC,OAAOjB,KAAKY,GACSG,EAAKC,EAAO9B,OAAQ6B,IAAM,CACtD,GAAIhB,GAAMiB,EAAOD,EACjBF,GAAQd,GAAOe,EAASf,IAYpC,QAAgBmB,GAAOC,EAAQC,EAAOC,EAAQC,GAC1C,GAAIC,GAASJ,MACTjC,EAASsC,UAAUtC,MACnBoC,KACApC,GAAkB,EAqBtB,KAAK,GADDuC,GAAcD,UACT5B,EAAI,EAAGA,EAAIV,EAAQU,KAnBd,SAAUA,GACpB,IAAK6B,EAAY7B,GACb,MAAO,UAEX,IAAI8B,GAAOD,EAAY7B,EACvBqB,QAAOjB,KAAK0B,GAAMC,QAAQ,SAAU5B,GAChC,GAEI6B,GAFAC,EAAMN,EAAOxB,GACb+B,EAAOJ,EAAK3B,EAEZuB,IAAQjB,EAASyB,IACjBF,EAAQvB,EAASwB,GAAOA,KACxBN,EAAOxB,GAAOmB,KAAWU,EAAOE,GAAM,IAGtCP,EAAOxB,GAAO+B,KAMdlC,EAEZ,OAAO2B,GAQX,QAAgBpB,GAAkBV,GAC9B,WAAiB3B,KAAV2B,GAAiC,OAAVA,EAQlC,QAAgBI,GAAYJ,GACxB,WAAQ,KAAuBA,EAQnC,QAAgBsC,GAAYC,GACxB,MAAOA,GAAc,IAAMC,KAS/B,QAAgBC,GAASC,EAAeC,GACpC,GAAIC,EAEJ,OAAO,YACH,GAAIC,GAAQC,KACRC,EAAOhB,UACPiB,EAAQ,WAER,MADAJ,GAAM,KACCF,EAAcjE,MAAMoE,EAAOE,GAEtCE,cAAaL,GACbA,EAAMM,WAAWF,EAAOL,IAWhC,QAAgBQ,GAAY3D,GAGxB,IAAK,GAFD4D,MAEK9B,EAAK,EAAG+B,EADN7B,OAAOjB,KAAKf,GACS8B,EAAK+B,EAAO5D,OAAQ6B,IAAM,CACtD,GAAIhB,GAAM+C,EAAO/B,EACjB8B,GAAME,KAAKC,mBAAmBjD,GAAO,IAAMiD,mBAAmB,GAAK/D,EAAKc,KAE5E,MAAO8C,GAAMI,KAAK,KAOtB,QAAgBC,GAAczD,GAC1B,GAAI0D,GAASlC,OAAOjD,UAAUoF,QAC9B,OAA2B,mBAAvBD,EAAOE,KAAK5D,IACkB,oBAA1B0D,EAAOE,KAAK5D,EAAM,IAa9B,QAAgB6D,GAAqBC,EAAOC,GACxC,GAAIC,GAAOF,CACX,OAAIE,KAASD,KAGJC,IAASC,WAAaD,IAIpBH,EAAqBG,EAAKE,WAAYH,GAQrD,QAAgBI,GAAWC,GACvB,IACI,KAAM,IAAIC,OAAMD,GAEpB,MAAOE,GACH,KAAMA,GAAEF,QAAU,KAAOE,EAAEC,OASnC,QAAgBC,GAAMC,EAASC,GAC3B,GAAIC,GAAMV,SAASW,cAAc,OAC7BC,KAAWC,MAAMlB,KAAKK,SAASc,qBAAqB,QAAQ,GAAGC,iBAAiB,gBAChFC,EAAY,EACZvE,GAAkBgE,KAClBA,EAAc3F,OAAOmG,KAAK,GAAI,QAAS,oCAE3CP,EAAIQ,YAAYV,EAAQW,WAAU,GAClC,KAAK,GAAIjF,GAAI,EAAGkF,EAAMR,EAAMpF,OAAQU,EAAIkF,EAAKlF,IACzC8E,GAAaJ,EAAM1E,GAAGmF,SAE1BZ,GAAYT,SAASsB,MAAM,+BAAiCN,EAAY,gBAAkBN,EAAIa,UAC1F,8EACJd,EAAYT,SAASwB,QACrBf,EAAYgB,OAEZ,IAAIC,GAAWC,YAAY,WACnBlB,EAAYmB,QACZnB,EAAYF,QACZE,EAAYe,QACZK,cAAcH,KAEnB,IACH,OAAOjB,GAQX,QAAgBqB,GAAW/F,GACvB,GAAI8B,GAAS9B,EAAQ,EACrB,OAAe,SAAX8B,IAA8C,IAAzBA,EAAOkE,QAAQ,OAAyC,IAA1BlE,EAAOkE,QAAQ,MAC3DlE,EAEJA,EAAS,KAUpB,QAAgBmE,GAAYxB,EAASyB,GAEjC,GAAIC,GAA6B,mBAAYlC,SAASmC,cAAc3B,GAAWA,CAC/E,IAAI0B,EAAKE,IACL,IAAK,GAAI/E,GAAK,EAAGgF,EAAKH,EAAKE,IAAY/E,EAAKgF,EAAG7G,OAAQ6B,IAAM,CACzD,GAAIiF,GAAOD,EAAGhF,EACd,IAAIiF,YAAgBL,GAChB,MAAOK,GAInB,MAAO,MASX,QAAgBC,GAAY/B,EAASgC,GAEjC,GAAIN,GAA6B,mBAAYlC,SAASmC,cAAc3B,GAAWA,CAC3E0B,GAAKE,IACLF,EAAKE,IAAW/C,KAAKmD,GAGrBN,EAAKE,KAAcI,GAG3B,QAASrH,GAAaP,GAElB,IAAK,GADD6H,GAAM,GACDvG,EAAI,EAAGA,EAAI,EAAGA,IACnBuG,IAAQvG,EAAI,IAAM,IAAMtB,EAAIsB,EAEhC,OAAOuG,GC7VX,QAAgB9B,GAAc+B,EAASC,GACnC,GAAInC,GAAUR,SAASW,cAAc+B,EACrC,YAA4B,OACjBlC,GAEXA,EAAQe,UAAaoB,EAAWpB,UAAYoB,EAAWpB,UAAY,OACtCnH,KAAzBuI,EAAWC,YACXpC,EAAQoC,UAAYD,EAAWC,eAEbxI,KAAlBuI,EAAWE,KACXrC,EAAQqC,GAAKF,EAAWE,QAEFzI,KAAtBuI,EAAWG,QACXtC,EAAQuC,aAAa,QAASJ,EAAWG,YAEpB1I,KAArBuI,EAAWK,OACXC,EAAWzC,EAASmC,EAAWK,OAE5BxC,GAQX,QAAgB0C,GAASC,EAAUC,GAE/B,IAAK,GADDC,GAAYC,EAAaF,GACpB/F,EAAK,EAAGgF,EAAKc,EAAU9F,EAAKgF,EAAG7G,OAAQ6B,IAE5C,IAAK,GADDkG,GAAMlB,EAAGhF,GACJmG,EAAK,EAAGC,EAAcJ,EAAWG,EAAKC,EAAYjI,OAAQgI,IAAM,CACrE,GAAIZ,GAAYa,EAAYD,EACvBD,GAAIF,UAAUK,SAASd,IACxBW,EAAIF,UAAUM,IAAIf,GAI9B,MAAOO,GAQX,QAAgBS,GAAYT,EAAUC,GAElC,IAAK,GADDC,GAAYC,EAAaF,GACpB/F,EAAK,EAAGgF,EAAKc,EAAU9F,EAAKgF,EAAG7G,OAAQ6B,IAAM,CAClD,GAAIkG,GAAMlB,EAAGhF,EACb,IAAsB,KAAlBkG,EAAIX,UACJ,IAAK,GAAIY,GAAK,EAAGK,EAAcR,EAAWG,EAAKK,EAAYrI,OAAQgI,IAAM,CACrE,GAAIZ,GAAYiB,EAAYL,EAC5BD,GAAIF,UAAUS,OAAOlB,IAIjC,MAAOO,GAEX,QAASG,GAAaF,GAClB,GAAIC,KAOJ,OANuB,gBAAZD,GACPC,EAAUhE,KAAK+D,GAGfC,EAAYD,EAETC,EAOX,QAAgBU,GAAUvD,GACtB,GAAI+C,GAAM/C,CACV,OAAiC,KAAzB+C,EAAIS,MAAMC,YAAqBV,EAAIW,YAAc,EAQ7D,QAAgBC,GAAQC,EAAcC,GAElC,IAAK,GADDC,GAAUtE,SAASuE,yBACdlH,EAAK,EAAGgF,EAAK+B,EAAc/G,EAAKgF,EAAG7G,OAAQ6B,IAAM,CACtD,GAAIkG,GAAMlB,EAAGhF,EACbiH,GAAQpD,YAAYqC,GAGxB,MADAc,GAAUG,aAAaF,EAASD,EAAUI,mBACnCL,EAQX,QAAgBM,GAAON,EAAcC,GAEjC,IAAK,GADDC,GAAUtE,SAASuE,yBACdlH,EAAK,EAAGgF,EAAK+B,EAAc/G,EAAKgF,EAAG7G,OAAQ6B,IAAM,CACtD,GAAIkG,GAAMlB,EAAGhF,EACbiH,GAAQpD,YAAYqC,GAGxB,MADAc,GAAUnD,YAAYoD,GACfF,EAOX,QAAgBO,GAAOnE,GAEnB,MADiBA,GAAQP,WACP2E,YAAYpE,GAOlC,QAAgBsD,GAAOtD,GACnB,GAAIP,GAAaO,EAAQP,UACzB4E,IAAaC,YAAYtE,GACzBP,EAAW2E,YAAYpE,GAQ3B,QAAgByC,GAAWzC,EAASyC,GAGhC,IAAK,GADDM,GAAM/C,EACDnD,EAAK,EAAGC,EAFNC,OAAOjB,KAAK2G,GAES5F,EAAKC,EAAO9B,OAAQ6B,IAAM,CACtD,GAAIhB,GAAMiB,EAAOD,EACjBkG,GAAIR,aAAa1G,EAAK4G,EAAW5G,IAErC,MAAOkH,GAQX,QAAgBwB,GAAOC,EAAUC,GAE7B,WADgB,KAAZA,IAAsBA,EAAUjF,UAC7BiF,EAAQ9C,cAAc6C,GAQjC,QAAgBE,GAAUF,EAAUC,GAGhC,WAFgB,KAAZA,IAAsBA,EAAUjF,UACrBiF,EAAQlE,iBAAiBiE,GAS5C,QAAgBG,GAAQ3E,EAASwE,GAC7B,GAAII,GAAK5E,CACT,IAA0B,kBAAf4E,GAAGD,QACV,MAAOC,GAAGD,QAAQH,EAEtB,MAAOI,GAAsB,IAAhBA,EAAGC,UAAgB,CAC5B,GAAIC,EAAQF,EAAIJ,GACZ,MAAOI,EAEXA,GAAKA,EAAGnF,WAEZ,MAAO,MAOX,QAAgBsF,GAAS/E,GAGrB,IAAK,GAFD+E,MAEKlI,EAAK,EAAGmI,EADAC,MAAMnL,UAAUuG,MAAMlB,KAAKa,EAAQP,WAAWyF,YACnBrI,EAAKmI,EAAahK,OAAQ6B,IAAM,CACxE,GAAIsI,GAAUH,EAAanI,EACvBsI,GAAQN,WAAaO,KAAKC,cAAgBrF,IAAYmF,GACtDJ,EAASlG,KAAKsG,GAGtB,MAAOJ,GASX,QAAgBO,GAAsBtF,EAASuF,EAAUhK,GACrD,GAAIiK,GAAUxF,EAAQyF,aAAaF,EAKnC,OAJItJ,GAAkBuJ,KAClBxF,EAAQuC,aAAagD,EAAUhK,EAAM2D,YACrCsG,EAAUjK,GAEPiK,EASX,QAAgBE,GAAkB1F,EAASwC,OACzB5I,KAAV4I,GACAzF,OAAOjB,KAAK0G,GAAO/E,QAAQ,SAAU5B,GAEjCmE,EAAQwD,MAAM3H,GAAO2G,EAAM3G,KAYvC,QAAgBgH,GAAU7C,EAAS2F,EAAYC,GAC3ClD,GAAU1C,GAAU2F,GACpBvC,GAAapD,GAAU4F,GAS3B,QAAgBd,GAAQ9E,EAASwE,GAC7B,GAAIM,GAAU9E,EAAQ8E,SAAW9E,EAAQ6F,mBAAqB7F,EAAQ8F,qBACtE,OAAIhB,GACOA,EAAQ3F,KAAKa,EAASwE,IAG6C,OAAhEjD,QAAQpC,KAAKK,SAASe,iBAAiBiE,GAAWxE,GCpQpE,QAAS+F,GAAU/D,EAAUgE,EAAQC,EAAcC,GAI/C,MAHKlE,GAASG,WAAWgE,eAAeH,KACpChE,EAASG,WAAW6D,GAAUzM,EAAe2M,GAAOlE,EAAUgE,EAAQC,KAEnEjE,EAASG,WAAW6D,GAW/B,QAASI,GAAepE,EAAUgE,EAAQC,EAAcC,EAAMG,EAAUC,GAGpE,IAAK,GAFDjJ,MACAuD,EAAMqF,EAAajL,OACdU,EAAI,EAAGA,EAAIkF,EAAKlF,IAAK,CAC1B,GAAI6K,GAAUL,CAId,IAHII,IACAC,EAAUL,EAAKD,EAAavK,KAE5B2K,EAAU,CACV,GAAIvE,GAAOvI,EAAegN,GAAUvE,EAAUgE,MAAY,GAC1DlE,GAAK0E,cAAcP,EAAavK,IAAI,GACpC2B,EAAOwB,KAAKiD,OAGZzE,GAAOwB,KAAKtF,EAAegN,GAAUvE,EAAUgE,EAAQC,EAAavK,IAAI,KAGhF,MAAO2B,GAOX,QAASoJ,GAAeR,EAAcD,GAClC,MAAO,YAIH,MAHK3H,MAAK8D,WAAWgE,eAAeH,KAChC3H,KAAK8D,WAAW6D,GAAUC,GAEvB5H,KAAK8D,WAAW6D,IAQ/B,QAASU,GAAeT,EAAcD,GAClC,MAAO,UAAUW,GACb,GAAItI,KAAK8D,WAAW6D,KAAYW,EAAU,CACtC,GAAIC,GAASvI,KAAK8D,WAAWgE,eAAeH,GAAU3H,KAAK8D,WAAW6D,GAAUC,CAChF5H,MAAKwI,YAAYb,EAAQW,EAAUC,GACnCvI,KAAK8D,WAAW6D,GAAUW,IAOtC,QAASG,GAAcb,EAAcD,EAAQE,GACzC,MAAO,YACH,MAAOH,GAAU1H,KAAM2H,EAAQC,EAAcC,IAMrD,QAASa,GAAcd,EAAcD,EAAQE,GACzC,MAAO,UAAUS,GACbZ,EAAU1H,KAAM2H,EAAQC,EAAcC,GAAMM,cAAcG,IAGlE,QAASK,GAAqBf,EAAcD,EAAQE,GAChD,MAAO,YACH,GAAIK,GAAUL,KACd,OAAOH,GAAU1H,KAAM2H,EAAQC,EAAcM,IAGrD,QAASU,GAAqBhB,EAAcD,EAAQE,GAChD,MAAO,UAAUS,GACb,GAAIJ,GAAUL,EAAKS,EACnBZ,GAAU1H,KAAM2H,EAAQC,EAAcM,GAASC,cAAcG,IAGrE,QAASO,GAAmBjB,EAAcD,EAAQE,GAC9C,MAAO,YACH,IAAK7H,KAAK8D,WAAWgE,eAAeH,GAAS,CACzC,GAAImB,GAAgBf,EAAe/H,KAAM2H,EAAQC,EAAcC,GAAM,EACrE7H,MAAK8D,WAAW6D,GAAUmB,EAE9B,MAAO9I,MAAK8D,WAAW6D,IAG/B,QAASoB,GAAmBnB,EAAcD,EAAQE,GAC9C,MAAO,UAAUS,GACb,GAAIU,GAAqBjB,EAAe/H,KAAM2H,EAAQC,EAAcC,GAAM,GACtEoB,EAAmBlB,EAAe/H,KAAM2H,EAAQW,EAAUT,GAAM,EACpE7H,MAAKwI,YAAYb,EAAQsB,EAAkBD,GAC3ChJ,KAAK8D,WAAW6D,GAAUsB,GAGlC,QAASC,GAA0BtB,EAAcD,EAAQE,GACrD,MAAO,UAAUS,GACb,GAAIU,GAAqBjB,EAAe/H,KAAM2H,EAAQC,EAAcC,GAAM,GAAO,GAC7EoB,EAAmBlB,EAAe/H,KAAM2H,EAAQW,EAAUT,GAAM,GAAM,EAC1E7H,MAAKwI,YAAYb,EAAQsB,EAAkBD,GAC3ChJ,KAAK8D,WAAW6D,GAAUsB,GAGlC,QAASE,GAA0BvB,EAAcD,EAAQE,GACrD,MAAO,YACH,GAAIK,GAAUL,KACd,KAAK7H,KAAK8D,WAAWgE,eAAeH,GAAS,CACzC,GAAImB,GAAgBf,EAAe/H,KAAM2H,EAAQC,EAAcM,GAAS,EACxElI,MAAK8D,WAAW6D,GAAUmB,EAE9B,MAAO9I,MAAK8D,WAAW6D,IAY/B,QAAgByB,GAASxB,GACrB,MAAO,UAAUyB,EAAQ7L,GACrB,GAAI8L,IACAC,IAAKlB,EAAeT,EAAcpK,GAClCgM,IAAKpB,EAAeR,EAAcpK,GAClCiM,YAAY,EACZC,cAAc,EAGlBhL,QAAOiL,eAAeN,EAAQ7L,EAAK8L,GACnCM,GAAsBP,EAAQ7L,EAAK,OAAQoK,IAanD,QAAgBiC,IAAQjC,EAAcC,GAClC,MAAO,UAAUwB,EAAQ7L,GACrB,GAAI8L,IACAC,IAAKb,EAAcd,EAAcpK,EAAKqK,GACtC2B,IAAKf,EAAcb,EAAcpK,EAAKqK,GACtC4B,YAAY,EACZC,cAAc,EAGlBhL,QAAOiL,eAAeN,EAAQ7L,EAAK8L,GACnCM,GAAsBP,EAAQ7L,EAAK,cAAeoK,EAAcC,IAaxE,QAAgBiC,IAAejC,GAC3B,MAAO,UAAUwB,EAAQ7L,GACrB,GAAI8L,IACAC,IAAKX,KAAyBpL,EAAKqK,GACnC2B,IAAKb,KAAyBnL,EAAKqK,GACnC4B,YAAY,EACZC,cAAc,EAGlBhL,QAAOiL,eAAeN,EAAQ7L,EAAK8L,GACnCM,GAAsBP,EAAQ7L,EAAK,iBAAmBqK,IAa9D,QAAgBkC,IAAWnC,EAAcC,GACrC,MAAO,UAAUwB,EAAQ7L,GACrB,GAAI8L,IACAC,IAAKR,EAAmBnB,EAAcpK,EAAKqK,GAC3C2B,IAAKX,EAAmBjB,EAAcpK,EAAKqK,GAC3C4B,YAAY,EACZC,cAAc,EAGlBhL,QAAOiL,eAAeN,EAAQ7L,EAAK8L,GACnCM,GAAsBP,EAAQ7L,EAAK,UAAWoK,EAAcC,IAapE,QAAgBmC,IAAkBnC,GAC9B,MAAO,UAAUwB,EAAQ7L,GACrB,GAAI8L,IACAC,IAAKL,KAA8B1L,EAAKqK,GACxC2B,IAAKL,KAA8B3L,EAAKqK,GACxC4B,YAAY,EACZC,cAAc,EAGlBhL,QAAOiL,eAAeN,EAAQ7L,EAAK8L,GACnCM,GAAsBP,EAAQ7L,EAAK,aAAeqK,IAY1D,QAAgBoC,MACZ,MAAO,UAAUZ,EAAQ7L,GACrB,GAAI0M,IACAX,IAAK,SAAUjB,GACX,GAAI6B,GAAWnK,KAAK8D,WAAWtG,EAC/B,IAAI2M,IAAa7B,EAAU,CACvB,GAAI8B,GAAeC,GAAiBrK,KAAMxC,IACZ,IAA1BF,EAAY6M,IACZC,EAAahE,QAAQtJ,oBAAoBsN,EAAaE,OAAQH,GAElEC,EAAahE,QAAQxJ,iBAAiBwN,EAAaE,OAAQhC,GAC3DtI,KAAK8D,WAAWtG,GAAO8K,IAG/BkB,IAAKpB,MAAe7M,GAAWiC,GAC/BiM,YAAY,EACZC,cAAc,EAElBhL,QAAOiL,eAAeN,EAAQ7L,EAAK0M,GACnCN,GAAsBP,EAAQ7L,EAAK,UAwB3C,QAAgB+M,IAAsBC,IAOtC,QAASZ,IAAsBP,EAAQ7L,EAAKiN,EAAc7C,EAAcC,GAChEvK,EAAY+L,EAAOqB,YACnBrB,EAAOqB,UACHC,SACAC,gBACAC,YACAC,UACAC,aACAC,oBACAC,gBACAC,gBAIR7B,EAAOqB,SAASD,EAAe,KAAKjK,MAChC2K,aAAc3N,EACdoK,aAAcA,EACdC,KAAMA,IAEVwB,EAAOqB,SAASD,EAAe,SAASjK,KAAKhD,GAQjD,QAAS4N,IAAqBhI,GAC1B,GAAI9F,EAAY8F,EAAU3H,UAAU4P,eAAgB,CAChDjI,EAAU3H,UAAU4P,eAChBvH,cAAgBwH,mBAAqBxG,IAAK,WACtC9E,KAAKuL,iBAAkB,EACvBvL,KAAKsL,gBAAgB9K,KAAK7B,KAAWqB,KAAK8D,iBAIlD,KAAK,GADD0H,GAAM,UACDhN,EAAK,EAAGgF,EAAK9E,OAAOjB,KAAK2F,EAAU3H,UAAUiP,UAAWlM,EAAKgF,EAAG7G,OAAQ6B,IA6B7E,IAAK,GA5BDhB,GAAMgG,EAAGhF,GA4BJmG,EAAK,EAAG8G,EAAKrI,EAAU3H,UAAUiP,SAASlN,GAAMmH,EAAK8G,EAAG9O,OAAQgI,KA3B3D,SAAU+G,GAChBF,EAAIG,KAAKnO,GACT4F,EAAU3H,UAAU4P,cAAcK,EAAKP,cAAgB,SAAUjO,GAC7D,GAAI0O,KACJxN,GAAMwN,EAAWR,GAAqBM,EAAK7D,OAC3C3K,EAAM0O,EACN,IAAIC,EAWJ,OANIA,GAJCD,EAAUL,gBAICK,EAAUN,gBAHV3M,KAAWiN,EAAU9H,eAKrC9D,KAAK8D,WAAW4H,EAAKP,cAAgBU,EACrCD,EAAU9H,cACV8H,EAAUN,mBACVM,EAAUL,iBAAkB,EACrBvL,MAIXoD,EAAU3H,UAAU4P,cAAcK,EAAKP,cAAgB,SAAUjO,GAE7D,MADA8C,MAAK8D,WAAW4H,EAAKP,cAAgBjO,EAC9B8C,OAKJyL,EAAG9G,IAK1B,MAAOvB,GAAU3H,UAAU4P,cAO/B,QAAgBS,IAAc1I,GAC1B,GAAI2I,GAAkB,SAAUpK,GAE5B,MADA3B,MAAK2B,QAAUA,EACR3B,KAaX,OAXuB,UAAU2B,GAS7B,MARKoK,GAAgBtQ,UAAUqM,eAAe,aAC1CiE,EAAgBtQ,UAAY2P,GAAqBhI,IACvB4I,OAAS,WAC/B,GAAIC,GAAOtN,QAAeqB,KAAK8D,WAE/B,OADA9D,MAAK8D,cACE,GAAIV,GAAU6I,EAAMjM,KAAK2B,WAGjC,GAAIoK,GAAgBpK,IAUnC,QAAS0I,IAAiBjE,EAASkE,GAC/B,IAA4C,IAAxClE,EAAQ0B,eAAe,aACvB,OAAS1B,QAASA,EAASkE,OAAQA,EAGnC,IAAI4B,GAAUnP,EAAS,WAAYqJ,EAInC,OAHI8F,KACA5B,EAAS4B,EAAU,IAAM5B,GAEtBD,GAAiBtN,EAAS,YAAaqJ,GAAUkE,GCpKhE,QAAgB6B,IAAaxK,EAASyK,EAAeC,GACjD,GAAIC,GAAcC,GAAeH,EACjC,QAA+B,IAA3BE,EAAYE,gBAAoDjR,KAA3B+Q,EAAYE,aAA6BC,GACvEjR,UAEXmG,EAAQuC,aAAa,cAAe,QACpC8B,GAAalB,IAAInD,EAAS,YAAa+K,IAAiBzL,OAAQU,EAASyK,cAAeE,IACxFtG,GAAalB,IAAInD,EAAS,UAAWgL,IAAmB1L,OAAQU,EAASyK,cAAeE,EAAaD,KAAMA,IAC3GrG,GAAalB,IAAInD,EAAS,aAAciL,IAAsB3L,OAAQU,EAASyK,cAAeE,IAC1FO,GAAQC,WACR9G,GAAalB,IAAInD,EAAS,gBAAiBiL,IAAsB3L,OAAQU,EAASyK,cAAeE,eAGjG3K,EAAQoL,gBAAgB,eACxB/G,GAAaf,OAAOtD,EAAS,YAAa+K,IAC1C1G,GAAaf,OAAOtD,EAAS,UAAWgL,IACxC3G,GAAaf,OAAOtD,EAAS,aAAciL,IAC3C5G,GAAaf,OAAOtD,EAAS,gBAAiBiL,MAGtD,QAASL,IAAeH,GAQpB,OANIjG,SAAUiG,GAAiBA,EAAcjG,SAAWiG,EAAcjG,SAAW,KAC7E6G,OAAQZ,GAAiBA,EAAcY,OAASZ,EAAcY,OAAS,KACvER,WAAYJ,GAAiBA,EAAcI,WAC3CS,eAAgBb,GAAiBA,EAAca,eAC/CC,SAAUd,GAAiBA,EAAcc,SAAWd,EAAcc,SAAW,KAUrF,QAASR,IAAclL,GACnB,GAAI6H,GAAU7H,EAAS,OACnB2E,EAAWnG,KAAKoM,cAAcjG,SAC9BxE,EAAUwE,EAAWG,EAAQ+C,EAAQlD,GAAYkD,CACrD,OAAK1H,GAAY3B,KAAKoM,eAAiB9F,EAAQ+C,EAAQrJ,KAAKoM,cAAcY,SAA1E,CAGA,GAAIG,GAASxL,EAAQyL,wBACjBC,EAAU7L,EAAE8L,MAAQnM,SAASoM,KAAKC,WAClCC,EAAUjM,EAAEkM,MAAQvM,SAASoM,KAAKI,UAClCL,EAAQM,KAAKC,IAAID,KAAKE,IAAIT,EAAUF,EAAOY,MAAOH,KAAKE,IAAIT,EAAUF,EAAOa,QAC5EN,EAAQE,KAAKC,IAAID,KAAKE,IAAIL,EAAUN,EAAOc,KAAML,KAAKE,IAAIL,EAAUN,EAAOe,SAC3EC,EAASP,KAAKQ,KAAKd,EAAQA,EAAQI,EAAQA,GAC3CW,EAAoB,EAATF,EAAa,KACxBG,EAAIjB,EAAUF,EAAOY,KAAOI,EAC5BI,EAAId,EAAUN,EAAOc,IAAME,CAC3BnO,MAAKoM,eAAiBpM,KAAKoM,cAAca,iBACzCqB,EAAI,EACJC,EAAI,EACJF,EAAW,QAEf1M,EAAQ6C,UAAUM,IAAI,WACtB,IAGI0J,GAAgB1M,EAAc,OAASiC,UAAW,mBAAoBE,OAF7D,UAAYoK,EAAW,YAAcA,EAAW,UAAYC,EAAI,WAAaC,EAAI,2BAD/EvO,KAAKoM,cAAcc,SAASrM,WAEF,OAEzCc,GAAQU,YAAYmM,GACpBvS,OAAOwS,iBAAiBD,GAAeE,iBAAiB,WACxDF,EAAcrJ,MAAMwJ,UAAY,WAC5BhN,IAAY3B,KAAKiB,QACjB+E,GAAalB,IAAInD,EAAS,aAAciL,IAAsB3L,OAAQjB,KAAKiB,OAAQmL,cAAepM,KAAKoM,iBAS/G,QAASO,IAAgBnL,GACrBoN,GAAapN,EAAGxB,MAQpB,QAAS4M,IAAmBpL,GACxBoN,GAAapN,EAAGxB,MASpB,QAAS4O,IAAapN,EAAGqN,GACrB,GAAI3B,GAAW2B,EAAUzC,cAAcc,SACnC7D,EAAU7H,EAAS,OACnB2E,EAAW0I,EAAUzC,cAAcjG,SACnCxE,EAAUwE,EAAWG,EAAQ+C,EAAQlD,GAAYkD,CACrD,IAAK1H,KAAYA,IAAsD,IAA3CA,EAAQoC,UAAUb,QAAQ,aAAtD,CAGA,GAAI4L,GAAiBzI,EAAU,oBAAqB1E,GAChD6M,EAAgBM,EAAeA,EAAenS,OAAS,EACvD6R,KACAA,EAAcrJ,MAAM4J,QAAU,OAE9BF,EAAU5N,SAAWU,GACrBqE,GAAaf,OAAOtD,EAAS,aAAciL,IAG/CxM,WAAW,WACHoO,GAAiBA,EAAcpN,YAC/BoN,EAAcpN,WAAW2E,YAAYyI,GAEpC7M,EAAQqN,uBAAuB,oBAAoBrS,QACpDgF,EAAQ6C,UAAUS,OAAO,YAEzB4J,EAAUxC,MACVwC,EAAUxC,KAAK7K,IAEpB0L,IAQP,QAAgB+B,IAAaC,GAEzB,MADAzC,IAAkByC,ECjNtB,QAAgBC,IAAWC,GACvBC,GAAiBD,EACjBE,GAAaC,OAAO,wBAA0BC,OAAUH,KAO5D,QAAgBI,IAAgBC,GAC5BC,GAAsBD,EACtBJ,GAAaC,OAAO,wBAA0BG,aAAgBC,KAOlE,QAAgBC,MAEZ,IAAK,GADDlT,MACK8B,EAAK,EAAGA,EAAKS,UAAUtC,OAAQ6B,IACpC9B,EAAK8B,GAAMS,UAAUT,EAEzB,KAAK,GAAIgF,GAAK,EAAGqM,EAASnT,EAAM8G,EAAKqM,EAAOlT,OAAQ6G,IAAM,CACtD,GAAIvG,GAAM4S,EAAOrM,EACjB7E,GAAOmR,GAAU7S,MAAS,IAQlC,QAAgB8S,IAAUC,OACP,KAAXA,IAAqBA,GAAS,GAClCC,GAAcD,EACdV,GAAaC,OAAO,wBAA0BQ,UAAWE,KAQ7D,QAAgBC,IAAiBV,EAAQ3H,GAErC,GAAIsI,GAAYC,GAASC,eAAeP,GAAUN,GAAQ,GAAMc,GAAO,IACnEC,EAAaH,GAASC,eAAeP,GAAUN,GAAQc,GAAO,IAC9DE,EAAYzT,EAAS,yBAA0BoT,GAC/CM,EAAc1T,EAAS,wBAA0ByT,EAAWL,GAC5DO,EAAUN,GAASO,iBAAiB9I,GAAQ,UAAW2I,EAAWL,GAAW,EACjF,OAAOxR,GAAO8R,EAAaL,GAASQ,cAAcF,GAAS,EAAM,IAAI,IAASG,cAAiBT,GAASU,iBAAiBP,KAO7H,QAAgBQ,MACZ,MAAOX,IAASC,eAAeP,GAAU,IAAI,GAAOQ,GAAO,ICxL/D,QAAgBU,IAAQC,EAAUC,GAC9B,GAEIC,GAAS,YADOC,GAAQH,EADd,OACiCC,GACH,gBAG5C,OADS,IAAI1V,UAJC,OAIiB2V,GACrBzV,KAAKwV,GAGnB,QAASE,IAAQC,EAAKrU,EAAWkU,GAI7B,GAAII,KACJ,OAAOD,GAAIE,QAAQC,GAAO,IAAID,QAAQE,GAAgB,QAAUF,QAAQG,GAAK,SAAUC,EAAOC,EAAKzE,EAAQ0E,GACvG,GAAIpL,GAAUmL,EAAID,MAAMG,GAExB,IAAIrL,EAAS,CACT,GAAIsL,GAAQtL,EAAQ,EACpB,IAAIuL,GAAQrG,KAAKiG,GAEbA,EAAM,MAAQA,EAAIL,QAAQ9K,EAAQ,GAAIsL,EAAMR,QAAQU,GAAM,SAAUZ,GAEhE,MADAA,GAAMA,EAAIa,OACHC,GAAad,GAAOe,GAAOzG,KAAK0F,KAAsC,IAA5BC,EAAUpO,QAAQmO,GAAcrU,EAAWsU,MAC1F,yBAEL,IAAIe,GAAS1G,KAAKiG,GAAM,CAEzB,GAAIU,GAAU7L,EAAQ,GAAGrJ,MAAM,OAE/BwU,GAAM,MAAQA,EAAIL,QAAQ9K,EAAQ,GAAI,SAAU8L,GAG5C,MAFAjB,GAAU9Q,KAAK8R,EAAQ,IACvBhB,EAAU9Q,KAAK8R,EAAQ,GAAK,SACrB,gBAAkBH,GAAaG,EAAQ,IAAI,EAAMtV,EAAWsU,GAAa,iBAC/E,QAAUgB,EAAQ,GAAK,KAAOH,GAAaG,EAAQ,IAAI,EAAMtV,EAAWsU,GACvE,eAAiBgB,EAAQ,GAAK,gCAEnC,CAED,GAAIE,GAAQZ,EAAIxU,MAAM,KAClBqV,EAAcvB,GAAUA,EAAOpJ,eAAe0K,EAAM,IAAM,QAAU,QAExEZ,GAAM,QAAyB,YAD/Ba,EAAc,KAAK9G,KAAK6G,EAAM,IAAM,GAAKC,GACC,GAAKA,GAC3Cb,EAAIL,QAAQQ,EAAOI,GAAa1L,EAAQ,GAAG8K,QAAQ,IAAKvU,EAAY,KAAsB,WAAfyV,EAAyCzV,EAAWsU,IAC/H,UAKRM,GAFKc,GAAU/G,KAAKiG,GAEd,MAAQA,EAAIL,QAAQmB,GAAW,6BAE9Bd,EAAID,MAAMgB,IAEXf,EAAIL,QAAQoB,GAAW,4BAIvB,KAAOR,GAAaP,GAAkC,IAA5BN,EAAUpO,QAAQ0O,GAAc5U,EAAWsU,GAAa,IAE5F,OAAOM,KAGf,QAASO,IAAad,EAAKuB,EAAO5V,EAAW6V,GACzC,MAASD,KAAWE,GAAWnH,KAAK0F,KAAoD,IAA3CwB,EAAW3P,QAAQmO,EAAIjU,MAAM,KAAK,IAAcJ,EAAY,IAAMqU,EAAMA,EClGzH,QAAgBL,IAAQ+B,EAAgB7B,GACpC,GAAI8B,GAAWC,GAAUjC,QAAQ+B,EAAgB7B,EAEjD,OAAO,UAAUxU,EAAM0G,EAAW8P,GAC9B,GAAIlU,GAASgU,EAAStW,EAAM0G,EAAW8P,EACvC,OAAsB,gBAAXlU,GACG8C,EAAeqR,GAAQxH,KAAK3M,GAAU,QAAU,OAAU0D,UAAW1D,IACpE6H,WAGJ7H,GASnB,QAAgBoU,IAAkBC,GAC9BJ,GAAUjC,QAAUqC,EAASrC,QAOjC,QAAgBsC,MACZ,MAAOL,IAAUjC,QCsBrB,QAAgBuC,IAAeC,GAC3B,GAAIC,EACJ,QAAQD,GACJ,IAAK,SACDC,GAAW,UAAW,UAAW,UAAW,UAAW,UACnD,UAAW,UAAW,UAAW,UAAW,UAChD,MACJ,KAAK,YACDA,GAAW,UAAW,UAAW,UAAW,UAAW,UACnD,UAAW,UAAW,UAAW,UAAW,UAChD,MACJ,KAAK,eACDA,GAAW,UAAW,UAAW,UAAW,UAAW,UACnD,UAAW,UAAW,UAAW,UAAW,UAChD,MACJ,SACIA,GAAW,UAAW,UAAW,UAAW,UAAW,UACnD,UAAW,UAAW,UAAW,UAAW,WAGxD,MAAOA,GAGX,QAAgBC,IAAcF,GAC1B,GAAIrO,EACJ,QAAQqO,GACJ,IAAK,eACDrO,GACIwO,UAAW,UACXC,UAAW,UACXC,SAAU,UACVC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,YAAa,UACbC,WAAY,UACZC,WAAY,UACZC,SAAU,UACVC,cAAe,UACfC,cAAe,UACfC,eAAgB,UAChBC,YAAa,UACbC,iBAAkB,UAClBC,kBAAmB,UACnBC,kBAAmB,UACnBC,aAAc,UACdC,kBAAmB,0BACnBC,oBAAqB,UACrBC,sBAAuB,UAE3B,MACJ,SACI9P,GACIwO,UAAW,UACXC,UAAW,UACXC,SAAU,UACVC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,YAAa,UACbC,WAAY,UACZC,WAAY,OACZC,SAAU,UACVC,cAAe,UACfC,cAAe,UACfC,eAAgB,UAChBC,YAAa,uBACbC,iBAAkB,UAClBC,kBAAmB,UACnBC,kBAAmB,UACnBC,aAAc,KACdC,kBAAmB,0BACnBC,oBAAqB,UACrBC,sBAAuB,WAInC,MAAO9P,GCvHX,QAAgB+P,IAAYC,EAAMC,GAC9B,GAAIC,GAAalU,SAASmU,eAAe,mBAiBzC,OAhBmB,QAAfD,IACAA,EAAavT,EAAc,QAAUkC,GAAI,qBACzC7C,SAASoM,KAAKlL,YAAYgT,IAE9BA,EAAW3S,UAAYyS,EACvBE,EAAWlQ,MAAMoQ,SAAW,WAC5BF,EAAWlQ,MAAMqQ,SAAWJ,EAAKK,KACjCJ,EAAWlQ,MAAMuQ,WAAaN,EAAKM,WACnCL,EAAWlQ,MAAMwQ,UAAYP,EAAKO,UAClCN,EAAWlQ,MAAMyQ,WAAaR,EAAKQ,WACnCP,EAAWlQ,MAAMC,WAAa,SAC9BiQ,EAAWlQ,MAAM8I,IAAM,OACvBoH,EAAWlQ,MAAM4I,KAAO,IACxBsH,EAAWlQ,MAAM0Q,WAAa,SAE9BR,EAAWlQ,MAAM2Q,WAAa,SACvB,GAAIC,IAAKV,EAAWW,YAAaX,EAAWY,cASvD,QAAgBC,IAAKxZ,EAAMyZ,EAAQC,GAC/B,GAAIC,GAAW1X,KAAWjC,EAAM,KAgBhC,OAfA2Z,GAASH,KAAK,SAAUI,EAAGC,GAGvB,IAAK,GAFD1X,GAAQ,EACRC,EAAS,EACJzB,EAAI,EAAGA,EAAI8Y,EAAOxZ,OAAQU,IAC/BwB,GAASyX,EAAEH,EAAO9Y,IAClByB,GAAUyX,EAAEJ,EAAO9Y,GAEvB,QAAM+Y,GAAgBvX,EAAQC,GAAYsX,GAAgBvX,EAAQC,GACtD,EAEHD,IAAUC,EACR,EAEJ,IAEJuX,EAGX,QAAgBG,IAAepB,EAAMD,EAAMsB,EAAOC,GAC9C,GACIC,GACAC,EACAvB,EAHAwB,EAAW,GAAIC,IAAYJ,EAAM/U,QAAQqC,GAsB7C,OAlBA4S,IACIG,YAAa3B,EAAKK,KAClBuB,aAAc5B,EAAKO,UACnBsB,cAAe7B,EAAKQ,WACpBsB,cAAe9B,EAAKM,WACpB/G,UAAa,UAAY8H,EAAQ,UACjCU,cAAe,UAEnB9B,EAAawB,EAASO,WAAWR,EAASzB,GACrCuB,EAAMW,aACPX,EAAM/U,QAAQU,YAAYqU,EAAMY,WAEpCZ,EAAMY,UAAUjV,YAAYgT,GAC5BsB,EAAMtB,EAAWjI,wBACjBnI,EAAOoQ,GACFqB,EAAMW,aACPpS,EAAOyR,EAAMY,WAEV,GAAIvB,IAAMY,EAAI3I,MAAQ2I,EAAI5I,KAAQ4I,EAAIzI,OAASyI,EAAI1I,KAG9D,QAAgBsJ,IAAcvT,GAC1B,GAAIrC,GAAU6V,GAAWxT,EACrBrC,IACAsD,EAAOtD,GAIf,QAAgB8V,IAAQva,EAAOwa,GAC3B,MAAO9J,MAAK+J,IAAIza,GAAS0Q,KAAK+J,IAAID,GAGtC,QAAgBE,IAAYzC,EAAM7G,EAAGC,EAAGsJ,EAAW7T,EAAIrC,EAASmW,GAE5D,GAAIC,GAAU5W,SAASmU,eAAetR,GAClCgU,EAAQ9C,GAAYC,GACpBS,WAAY,WAAYH,KAAM,OAC9BE,UAAW,SAAUD,WAAY,YAClCsC,MAAQ,CACX1J,GAAKA,EAAI0J,EAAQH,EAAavJ,EAAI0J,EAAQ1J,EACrCyJ,GAWDA,EAAQrV,UAAYyS,EACpB4C,EAAQ5S,MAAM8I,KAAOM,EAAI,IAAI1N,WAAa,KAC1CkX,EAAQ5S,MAAM4I,MAAQO,EAAI,IAAIzN,WAAa,OAZ3CkX,EAAUjW,EAAc,OACpBY,UAAWyS,EACXnR,GAAIA,EACJC,OAAQ,QAAUsK,EAAI,IAAI1N,WAAa,YAAcyN,EAAI,IAAIzN,WAAa,4NAI9Ec,EAAQU,YAAY0V,IAOpBD,GACA1X,WAAW,WAAcmX,GAAcvT,IAAQ,MAIvD,QAAgBiU,IAAO/a,EAAOgb,GAC1B,MAAQhb,GAAQgb,EAAMrK,KAAS3Q,EAAQgb,EAAMC,IAGjD,QAAgBC,IAAOlb,EAAOgb,GAC1B,MAAQhb,IAASgb,EAAMrK,KAAS3Q,GAASgb,EAAMC,IAGnD,QAAgBE,IAAYC,EAAeC,EAAcC,EAAWC,GAChE,GAAIC,GAAMD,EAAOE,UAAUJ,EAAaK,OAAQH,EAAOI,OACnDC,EAAMR,EAAgBG,EAAOE,UAAUL,EAAcM,OAAQH,EAAOI,OAASH,EAC7EK,EAAMP,EAAYC,EAAOE,UAAUH,EAAUI,OAAQH,EAAOI,OAASH,EACrEM,EAASpL,KAAKqL,MAAMR,EAAOI,MAAMK,aAAaf,KAC9CgB,EAAOvL,KAAKwL,KAAKX,EAAOI,MAAMK,aAAarL,IAC/C,OAASiL,IAAOE,GAAUF,GAAOK,GAAUT,GAAOM,GAAUN,GAAOS,GAC9DJ,GAAOC,GAAUD,GAAOI,GAAUH,GAAUF,GAAOE,GAAUD,EAGtE,QAAgBM,IAAIC,GAEhB,IAAK,GADDD,GAAM,EACD7a,EAAK,EAAG+a,EAAWD,EAAQ9a,EAAK+a,EAAS5c,OAAQ6B,IAEtD6a,GADYE,EAAS/a,EAGzB,OAAO6a,GAGX,QAAgBG,IAAYF,EAAQza,EAAO4a,EAAMC,EAAOjB,GACpD,GAAIY,GAAM,CACV,IAAc,OAAVK,EACA,IAASrc,EAAKwB,EAAQ,EAAIxB,EAAIoc,EAAMpc,KACN,IAAtBqc,EAAMxW,QAAQ7F,KACdgc,GAAOC,EAAOjc,GAAGob,EAAOkB,YAKhC,KAAK,GAAItc,GAAKwB,EAAQ,EAAIxB,EAAIoc,EAAMpc,IAC3BO,EAAkB0b,EAAOjc,GAAGob,EAAOkB,UACpCN,GAAOC,EAAOjc,GAAGob,EAAOkB,OAIpC,OAAON,GAGX,QAAgBO,IAAkBC,EAAMC,GAKpC,MAJAD,GAAKvL,GAAKwL,EAAU/L,KACpB8L,EAAKtL,GAAKuL,EAAU7L,IACpB4L,EAAK7B,OAAS8B,EAAU/L,KAAO+L,EAAU9L,MACzC6L,EAAKE,QAAUD,EAAU7L,IAAM6L,EAAU5L,OAClC2L,EAGX,QAAgBG,IAAaH,EAAMC,GAK/B,MAJAD,GAAKvL,GAAKwL,EAAUxL,EACpBuL,EAAKtL,GAAKuL,EAAUvL,EACpBsL,EAAK7B,OAAS8B,EAAUxL,EAAIwL,EAAU9B,MACtC6B,EAAKE,QAAUD,EAAUvL,EAAIuL,EAAUC,OAChCF,EAGX,QAAgBI,IAAiBC,EAAQ/L,EAAQgM,GAC7C,GAAIC,GAAUF,EAAStM,KAAKyM,GAAM,GAClC,OAAO,IAAIC,IAAc1M,KAAK2M,IAAIH,GAAUjM,EAASgM,EAAO7L,EAAGV,KAAK4M,IAAIJ,GAAUjM,EAASgM,EAAO5L,GAEtG,QAASkM,IAAsBC,EAAMC,EAAMC,EAAGb,EAAQ/B,EAAO6C,GACzD,GAAIC,GAAiBb,GAAiB,IAAKW,EAAG,GAAIN,IAAcI,EAAMC,IAClEI,EAAiBd,GAAiB,IAAKW,EAAG,GAAIN,IAAcI,EAAQ1C,EAAQ,GAAK2C,GACrF,OAAO,KAAYD,EAAO,IAAMC,EAAO,OAAmBD,EAAOE,GAAK,MAAe,QAAwB,MACzG,UAAoCE,EAAexM,EAAI,IAAMwM,EAAevM,EAAI,SAA+BmM,EAC9G1C,EAAQ,IAAO,KAAO2C,EAAQZ,EAAS,IAAO,MAAaW,KAAc,KAAOC,EAAOZ,EAAS,IAAM,QAC/F,MAAY,UAAoCgB,EAAezM,EAAI,IAAMyM,EAAexM,EAAI,KAG5G,QAAgByM,IAASb,EAAQc,GAC7B,GAAIxE,GAAQ7I,KAAKsN,MAAOD,EAAM1M,EAAI4L,EAAO5L,EAAK0M,EAAM3M,EAAI6L,EAAO7L,EAE/D,QADAmI,EAAQA,EAAQ,EAAK,MAAQA,EAASA,IACtB,IAAM7I,KAAKyM,IAG/B,QAAgBc,IAAS7B,EAAQI,GAE7B,IAAK,GADDyB,MACK9d,EAAI,EAAGA,GAAKqc,EAAQ,EAAGrc,IAC5B8d,EAAS3a,KAAK8Y,EAAOjc,GAEzB,OAAO8d,GAGX,QAAgBC,IAAmBle,EAAOme,GACtC,GAAInD,GAAQmD,EAAKnC,aACbla,GAAU9B,EAAQgb,EAAMC,KAAQD,EAAY,KAChD,OAAOmD,GAAKC,WAAc,EAAItc,EAAUA,EAG5C,QAAgBuc,IAAmBjN,EAAGC,EAAGsK,EAAO2C,EAAOC,EAAYhD,GAC/DnK,EAAyB,gBAApBuK,EAAM6C,UAA8BjE,GAAQnJ,EAAI,EAAIA,EAAI,EAAGuK,EAAMpB,SAAWnJ,EACjFC,EAAyB,gBAApBiN,EAAME,UACPjE,GAAQlJ,EAAI,EAAIA,EAAI,EAAGiN,EAAM/D,SAAWlJ,EAC5CD,GAAyB,aAApBuK,EAAM6C,WAAqD,iBAAzB7C,EAAM8C,gBAAqD,UAAhBlD,EAAO5Q,KAAmB,GAAM,CAClH,IAAIsG,GAASsK,EAAO/B,MAAMvI,OAASiN,GAAmB7M,EAAGiN,GACrDP,EAAQW,GAAoBC,GAAwBvN,EAAGuK,GAAQJ,EAAO/B,MAAMoF,aAAaC,WAC7F,QACIzN,EAAImK,EAAOuD,SAAShE,MAAQ,EAAIS,EAAOuD,SAAS1N,EAAKH,EAAS8M,EAAM3M,EACpEC,EAAIkK,EAAOuD,SAASjC,OAAS,EAAItB,EAAOuD,SAASzN,EAAKJ,EAAS8M,EAAM1M,GAO7E,QAAgB0N,IAAYjY,EAAIkY,OACZ,KAAZA,IAAsBA,GAAU,EACpC,IAAIC,IAAO,MAAO,MAYlB,OAXInY,GAAGd,QAAQ,YAAc,EACzBiZ,EAAMnY,EAAG5G,MAAM,YAAY,GAAGA,MAAM,WAE/B4G,EAAGd,QAAQ,YAAc,KAAOgZ,GAAYA,IAAuC,IAA5BlY,EAAGd,QAAQ,cACvEiZ,EAAMnY,EAAG5G,MAAM,YACX,GAAK,IAEJ4G,EAAGd,QAAQ,WAAa,KAAOgZ,GAAYA,IAAuC,IAA5BlY,EAAGd,QAAQ,gBACtEiZ,EAAMnY,EAAG5G,MAAM,WACX,GAAK,KAEN,GAAIgf,IAAMC,SAASF,EAAI,GAAI,IAAKE,SAASF,EAAI,GAAI,KAG5D,QAAgBP,IAAoBU,EAAaP,GAC7CA,EAAaA,EAAa,EAAIA,EAAa,IAAMA,CACjD,IAAItF,GAAQ7I,KAAKyM,IAAM,IAAM,EAAIiC,EAEjC,OADA7F,IAAiBsF,EAAanO,KAAKyM,GAAM,KAChC/L,EAAGV,KAAK2M,IAAI9D,GAAQlI,EAAGX,KAAK4M,IAAI/D,IAG7C,QAAgBoF,IAAwB3e,EAAOme,GAC3C,GACIkB,GACA5f,EAFAub,EAAQmD,EAAKnC,YAYjB,OATuB,aAAnBmC,EAAKK,WACLa,EAASrE,EAAMrK,KAA0B,aAAnBwN,EAAKK,UAA2BL,EAAKmB,iBAAmBtE,EAAMrV,UAAaqV,EAAMC,IACvGxb,EAAS0e,EAAKoB,cAAc9f,OAAS,EACrC4f,EAAkB,IAAVA,EAAc,EAAIA,IAG1BA,EAAQrE,EAAMqE,MACd5f,EAAS0e,EAAKoB,cAAc9f,QAEzB0e,EAAKC,YAAepe,EAAQgb,EAAMC,KAAOoE,GAAU,EAAI,KAC1D,GAAMrf,EAAQgb,EAAMC,KAAOoE,GAAU,EAAI,KA4BjD,QAAgBG,IAAc1Y,EAAImR,EAAMlH,EAAKF,EAAMyH,GAC/C,GAAIuC,GAAUP,GAAWxT,GACrBmB,EAAQ,OAAS8I,EAAIpN,WAAa,WACxBkN,EAAKlN,WAAa,8EAE8B2U,EAAW,qBACpEuC,IAODA,EAAQ7T,aAAa,YAAa,SAAWiR,EAAO,UACpD4C,EAAQ7T,aAAa,SAAUiB,KAP/B4S,EAAUjW,EAAc,OACpBkC,GAAIA,EAAItB,UAAW,SAAWyS,EAAO,SAAUlR,OAAQkB,IAE3DhE,SAASoM,KAAKlL,YAAY0V,IAQlC,QAAgB4E,IAAoBjG,EAAO2E,EAAMpa,EAAQyY,EAAOkD,EAAY/C,GAWxE,IAAK,GAPDpE,GAEAnH,EACAC,EAEAsO,EACAC,EARAC,EAAkB1B,EAAK0B,gBACvBC,EAASJ,EAAa,QAAU,OAEhCK,EAAYvG,EAAMwG,cAAclF,MAM3B3a,EAAI,EAAGA,EAAI,EAAGA,IACnBoY,EAAOP,GAAY7X,EAAIge,EAAK8B,SAAW9B,EAAK+B,WAAY/B,EAAKgC,YACzDT,GACAC,EAAgBxf,EAAI,GAAIid,IAAcT,EAAKvL,EAAGuL,EAAKtL,EANlD,GAOG,GAAI+L,IAAce,EAAKxB,KAAKvL,EAAIuL,EAAKtL,EAAIsL,EAAKE,OAPjD,GAQDzL,EAAKuL,EAAKvL,GAAKyO,EAAmBlD,EAAK7B,MAflC,IAesDvC,EAAKuC,MAf3D,EAAA,IAgBLzJ,EAAKsL,EAAKtL,GAAKlR,EAAI,EAAIwc,EAAKE,OAAStE,EAAKsE,OAhBrC,GAiBLzL,GAAMA,EAAI,GAAM,EAAeA,EAAImH,EAAKuC,MAjBnC,EAiBwD+E,GAAoBtH,EAAKuC,MAAQ,EAAKvC,EAAKuC,MAAQ,EAAK,EACrH8E,EAAYQ,GAXX,EAAA,EAWiC,GAAIC,IAAKjP,EAAGC,EAAGkH,EAAKuC,MAlBjD,EAkBiEvC,EAAKsE,OAlBtE,GAkBwF8C,EAlBxF,GAkB+G,GAAO,GAAQE,EAAiBF,EAAcvO,EAAGuO,EAActO,GAAKlR,GAXvL,EAAA,MAcDwf,EAAgBxf,EAAI,GAAIid,IAAeT,EAAKvL,EAAIuL,EAAK7B,MAdpD,EAckE6B,EAAKtL,EAAIsL,EAAKE,QAC7E,GAAIO,IAAcT,EAAKvL,EAf1B,EAemCuL,EAAKtL,EAAIsL,EAAKE,QAClDzL,EAAKuL,EAAKvL,GAAKjR,EAAKwc,EAAK7B,MAAQvC,EAAKuC,MAvBjC,EAuBmD,GACxDzJ,EAAKwO,EAAmBlD,EAAKtL,EAAIkH,EAAKsE,OAAS,GAAOF,EAAKtL,EAAIsL,EAAKE,OAxB/D,EAyBL+C,EAAYQ,GAlBX,EAAA,EAkBiC,GAAIC,IAAKjP,EAAGC,EAAGkH,EAAKuC,MAzBjD,EAyBiEvC,EAAKsE,OAzBtE,GAyBwF8C,EAzBxF,EAyB+GE,GAAkBA,GAAiB,EAAOF,EAAcvO,GAAKjR,EAlBhL,GAAA,GAkB+Lwf,EAActO,IAElND,OACAC,EAAIA,EAAUkH,EAAKsE,OAAS,EAAnB,MACT9Y,EAAOoB,YAAYqU,EAAMG,SAAS2G,SAAS,GAAIC,IAAW/G,EAAM/U,QAAQqC,GAAK,SAAW0V,EAAQ,oBAAsBrc,EAAG,UAAW,EAAG,UAAW,EAAG,KAAMyf,KAC3JY,GAAY,GAAIC,IAAWjH,EAAM/U,QAAQqC,GAAK,SAAW0V,EAAQ,cAAgBrc,EAAGiR,EAAGC,EAAGyO,EAAQ3f,EAAIge,EAAK8B,SAAW9B,EAAK+B,aAAeQ,MAAO,QAAShI,WAAY,WAAYF,WAAY,UAAWD,KAAM,QAAU,QAASxU,EAEtO,OAAOA,GAIX,QAAgB4c,IAAavP,EAAGC,EAAGuP,EAAQ9F,EAAO+B,GAG9C,WAFc,KAAV/B,IAAoBA,EAAQ,OACjB,KAAX+B,IAAqBA,EAAS,GAC1BzL,GAAKwP,EAAOxP,EAAI0J,GAAS1J,GAAKwP,EAAOxP,EAAIwP,EAAO9F,MAAQA,GAASzJ,GAAKuP,EAAOvP,EAAIwL,GAClFxL,GAAKuP,EAAOvP,EAAIuP,EAAO/D,OAASA,EAG3C,QAAgBgE,IAAiB7gB,EAAOuY,EAAM4F,GAE1C,OADmBA,EAAKC,WAA6B,EAAKpe,EAAQuY,EAA7BvY,EAAQuY,GACvB4F,EAAKnC,mBAAsBmC,EAAKnC,aAAaf,IAGvE,QAAgB6F,IAAiB9gB,EAAOuY,EAAM4F,GAE1C,OADkBA,EAAKC,WAAape,EAAQuY,EAAQ,EAAKvY,EAAQuY,GAC3C4F,EAAKnC,mBAAsBmC,EAAKnC,aAAaf,IAGvE,QAAgB8F,IAAaxF,GACzB,GAAIoB,GAAOpB,EAAOuD,QACdvD,GAAO/B,MAAMwH,qBACbrE,EAAKvL,EAAImK,EAAO+C,MAAM3B,KAAKvL,EAC3BuL,EAAKtL,EAAIkK,EAAOI,MAAMgB,KAAKtL,EAC3BsL,EAAK7B,MAAQS,EAAO+C,MAAM3B,KAAK7B,MAC/B6B,EAAKE,OAAStB,EAAOI,MAAMgB,KAAKE,SAGhCF,EAAKvL,EAAImK,EAAOI,MAAMgB,KAAKvL,EAC3BuL,EAAKtL,EAAIkK,EAAO+C,MAAM3B,KAAKtL,EAC3BsL,EAAK7B,MAAQS,EAAOI,MAAMgB,KAAK7B,MAC/B6B,EAAKE,OAAStB,EAAO+C,MAAM3B,KAAKE,QAIxC,QAAgBoE,IAAiB9M,GAC7B,MAAOA,GAAI+M,OAAO,EAAG,GAAGC,cAAgBhN,EAAI+M,OAAO,GAGvD,QAAgBE,IAAkBjD,EAAMkD,GACpC,GACIC,GACAC,EAFAC,EAAWC,OAAOC,SAkCtB,OA/BAL,GAAiBnf,QAAQ,SAAUqZ,EAAQiB,GACvC8E,KACI/F,EAAOoG,UACNxD,EAAKyD,OAASrG,EAAOsG,WAA4B,iBAAd1D,EAAKyD,MAAgD,OAArBrG,EAAOsG,WACnE1D,EAAKyD,OAASrG,EAAO/B,MAAMoF,aAAagD,OAASrG,EAAOsG,cAChEP,EAAU/F,EAAOuG,OAAOC,IAAI,SAAUhE,EAAOvB,GACzC,MAAOuB,GAAMrC,UAET1C,KAAK,SAAUrX,EAAOC,GAAU,MAAOD,GAAQC,IAChC,IAAnB0f,EAAQ7hB,OAGO,KAFf8hB,EAASD,EAAQ,IAAO/F,EAAOyG,MAAmC,aAA3BzG,EAAOI,MAAM6C,UAChDjD,EAAOyG,KAAO7D,EAAKnC,aAAaf,QAEhCuG,EAAW9Q,KAAKuK,IAAIuG,EAAUD,IAIlCD,EAAQpf,QAAQ,SAAUlC,EAAOwc,EAAO8E,GAChC9E,EAAQ,GAAKxc,GAEE,KADfuhB,EAASvhB,EAAQshB,EAAQ9E,EAAQ,MAE7BgF,EAAW9Q,KAAKuK,IAAIuG,EAAUD,SAOlDC,IAAaC,OAAOC,YACpBF,EAAW,GAERA,EAGX,QAAgBS,IAAqBC,GACjC,GAAIC,EACJ,QAAQD,GACJ,IAAK,SACDC,EAAeC,GAGvB,MAAOD,GAUX,QAAgBC,IAAOC,EAAaC,EAAYC,EAAUvS,GACtD,OAAQuS,EAAW7R,KAAK2M,IAAIgF,EAAcrS,GAAYU,KAAKyM,GAAK,IAAMoF,EAAWD,EAMrF,QAAgBE,IAAc/d,EAAS9B,EAAOqN,EAAUuL,EAAQkH,EAAY1E,EAAO2E,GAC/E,GAAIC,GAAU5E,EAAM3M,EAChBwR,EAAU7E,EAAM1M,EAChBwL,EAAS,CACbpY,GAAQwD,MAAMC,WAAa,SAC3B,GAAI2a,QAAcC,QAAQre,GACtBuL,SAAUA,EACVrN,MAAOA,EACPogB,SAAU,SAAUhgB,GACZA,EAAKigB,UAAYjgB,EAAKJ,QACtBI,EAAK0B,QAAQwD,MAAMC,WAAa,UAChC2U,GAAW9Z,EAAKigB,UAAYjgB,EAAKJ,OAASI,EAAKiN,SAC/CvL,EAAQuC,aAAa,YAAa,aAAe2b,EAC3C,IAAMC,EAAU,WAAa/F,EAAS,gBAAmB8F,EAAW,KAAQC,EAAW,OAGrGK,IAAK,SAAUC,GACXze,EAAQwD,MAAMC,WAAa,GAC3BzD,EAAQoL,gBAAgB,aACH,YAAhB0L,EAAO5Q,MAAsC,WAAhB4Q,EAAO5Q,MAAuB+X,GAAYD,IAAelH,EAAOuG,OAAOriB,OAAS,GAC9G8b,EAAO/B,MAAM2J,QAAQ,qBAAuB5H,OAAQA,OASpE,QAAgB6H,IAAgB3e,EAAS9B,EAAOqN,EAAU4R,EAAMyB,GAC5D,GAAIR,QAAcC,QAAQre,GACtBuL,SAAUA,EACVrN,MAAOA,EACPif,KAAMA,EACNmB,SAAU,SAAUhgB,GAChBA,EAAK0B,QAAQwD,MAAMC,WAAa,WAEpC+a,IAAK,SAAUlgB,GACPsgB,EACAtb,EAAOhF,EAAK0B,SAGZ1B,EAAK0B,QAAQwD,MAAMC,WAAa,aAMhD,QAAgBob,IAAWC,EAAUC,EAAOjL,EAAMkL,EAAK/J,EAASgK,GAC5D,GACI/J,GAAW,GAAIC,IAAY,IAC3B7K,EAAO4U,GAAgBJ,EAAUhL,EAAMiL,EAAO9J,EAAS+J,GACvDtL,EAAawB,EAAS,OAAS5K,EAAKoT,cAAcpT,EAAK6U,aAE3D,OADAzL,GAAWnR,aAAa,aAAc0c,GAC/BvL,EAGX,QAAgBwL,IAAgBJ,EAAUhL,EAAMiL,EAAO9J,EAAS+J,GAC5D,GAAII,GACA1B,EAAe,OACfrH,EAAQvC,EAAKuC,MACb+B,EAAStE,EAAKsE,OACdW,EAAO+F,EAASnS,EAChBqM,EAAO8F,EAASlS,EAChBD,EAAImS,EAASnS,GAAM0J,EAAQ,EAC3BzJ,EAAIkS,EAASlS,GAAMwL,EAAS,CAChC,QAAQ2G,GACJ,IAAK,SACL,IAAK,SACDrB,EAAe,UACfjhB,EAAMwY,GAAWoK,GAAMhJ,EAAQ,EAAGiJ,GAAMlH,EAAS,EAAGmH,GAAMxG,EAAMyG,GAAMxG,GACtE,MACJ,KAAK,QAIDvc,EAAMwY,GAAWwK,EAHjBL,EAAO,KAAYzS,EAAI,IAAMqM,EAAO,OAAmBD,EAAQ1C,EAAQ,GAAM,IAAM2C,EAAO,MAC1ED,EAAO,KAAOC,EAAQZ,EAAS,GAAM,MAAkBW,EAAO,KACzEC,GAASZ,EAAS,IAEvB,MACJ,KAAK,iBAED3b,EAAMwY,GAAWwK,EADjBL,EAAO,KAAYzS,EAAI,IAAMqM,EAAO,OAAmBD,EAAQ1C,EAAQ,GAAM,IAAM2C,GAEnF,MACJ,KAAK,eAEDvc,EAAMwY,GAAWwK,EADjBL,EAAO,KAAYrG,EAAO,KAAOC,EAAQZ,EAAS,GAAM,MAAkBW,EAAO,KAAOC,GAASZ,EAAS,IAE1G,MACJ,KAAK,UAMD3b,EAAMwY,GAAWwK,EALjBL,EAAO,KAAYzS,EAAI,IAAMqM,EAAO,MACpBD,EAAO,KAAOC,GAASZ,EAAS,GAAM,OACrCW,EAAQ1C,EAAQ,GAAM,IAAM2C,EAAO,MACpCD,EAAO,KAAOC,EAAQZ,EAAS,GAAM,MACrCzL,EAAI,IAAMqM,EAAO,MAEjC,MACJ,KAAK,YACL,IAAK,OACL,IAAK,gBACL,IAAK,SACL,IAAK,YACL,IAAK,gBACL,IAAK,WAMDvc,EAAMwY,GAAWwK,EALjBL,EAAO,KAAYzS,EAAI,KAAOqM,GAASZ,EAAS,GAAM,OACrCW,EAAQ1C,EAAQ,GAAM,KAAO2C,GAASZ,EAAS,GAAM,OACrDW,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,MACrDzL,EAAI,KAAOqM,EAAQZ,EAAS,GAAM,MAClCzL,EAAI,KAAOqM,GAASZ,EAAS,GAAM,MAEnD,MACJ,KAAK,UACL,IAAK,WAKD3b,EAAMwY,GAAWwK,EAJjBL,EAAO,KAAYzS,EAAI,KAAOqM,EAAQZ,EAAS,GAAM,MACrCW,EAAO,KAAOC,GAASZ,EAAS,GAAM,OACrCW,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,MACrDzL,EAAI,KAAOqM,EAAQZ,EAAS,GAAM,MAElD,MACJ,KAAK,SACL,IAAK,mBAKD3b,EAAMwY,GAAWwK,EAJjBL,EAAO,MAAarG,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,MACxDW,EAAO,KAAOC,EAAQZ,EAAS,GAAM,OACpCW,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,OACpDW,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,MAErE,MACJ,KAAK,WAID,IAAK,GAFDnB,OAAS,GACTyI,MAAS,GACJhkB,EAAI,EAAGA,GAAK,EAAGA,IACpBub,EAAUZ,EAAQ,EAAKpK,KAAK2M,IAAK3M,KAAKyM,GAAK,KAJtC,GAI8Chd,IACnDgkB,EAAUtH,EAAS,EAAKnM,KAAK4M,IAAK5M,KAAKyM,GAAK,KALvC,GAK+Chd,IAEhD0jB,EADM,IAAN1jB,EACO,MAAaqd,EAAO9B,GAAU,KAAO+B,EAAO0G,GAAU,IAGtDN,EAAKO,OAAO,MAAa5G,EAAO9B,GAAU,KAAO+B,EAAO0G,GAAU,IAIjFjjB,GAAMwY,GAAWwK,EADjBL,EAAOA,EAAKO,OAAO,MAEnB,MACJ,KAAK,QACDjC,EAAe,QACfjhB,EAAMwY,GAAW2K,KAAQZ,EAAK5G,OAAUA,EAAQ/B,MAASA,EAAO1J,EAAGA,EAAGC,EAAGA,IAIjF,MADAqI,GAAU4K,GAAsBf,EAAU,GAAI1K,IAAKiC,EAAO+B,GAAS2G,EAAO9J,GAASkK,cAC1EA,aAAclK,EAASyI,aAAcA,GAGlD,QAAgBoC,IAAgBC,EAAeC,EAAaC,GACxD,GAAItT,GACAC,CAKJ,OAJAD,GAAKqT,EAAYrT,EAAIsT,EAAUtT,EAAKsT,EAAUtT,EACzCqT,EAAYrT,EAAKsT,EAAUtT,EAAIsT,EAAU5J,MAAU4J,EAAUtT,EAAIsT,EAAU5J,MAAQ2J,EAAYrT,EACpGC,EAAKoT,EAAYpT,EAAIqT,EAAUrT,EAAKqT,EAAUrT,EACzCoT,EAAYpT,EAAKqT,EAAUrT,EAAIqT,EAAU7H,OAAW6H,EAAUrT,EAAIqT,EAAU7H,OAAS4H,EAAYpT,EAC/F,GAAIgP,IAAMjP,EAAIoT,EAAcpT,EAAIoT,EAAcpT,EAAIA,EAAKC,EAAImT,EAAcnT,EAAImT,EAAcnT,EAAIA,EAAIX,KAAKE,IAAIQ,EAAIoT,EAAcpT,GAAIV,KAAKE,IAAIS,EAAImT,EAAcnT,IAGxK,QAAgBsT,IAAO3kB,EAAOib,EAAKtK,GAC/B,MAAO3Q,GAAQ2Q,EAAMA,EAAO3Q,EAAQib,EAAMA,EAAMjb,EAGpD,QAAgBsa,IAAWxT,GACvB,MAAO7C,UAASmU,eAAetR,GAGnC,QAAgB8d,IAAoB7Q,GAChC,GAAI8Q,GAAa,IACjB,KAEQ5gB,SAASe,iBAAiB+O,GAAUtU,SACpColB,EAAaC,GAAiB7gB,SAASmC,cAAc2N,GAAUvO,UAAUwP,SAGjF,MAAO1Q,GACHugB,EAAaC,GAAiB/Q,GAElC,MAAO8Q,GAGX,QAAgBE,IAAeC,EAAcvC,EAAYwC,EAASzL,EAAOuE,EAAOxC,GAC5E,GAAIsJ,GACAK,CACJL,GAAaD,GAAoBK,EACjC,KACI,GAAIJ,GAAcA,GAAarL,MAAOA,EAAO+B,OAAQA,EAAQwC,MAAOA,IAASte,OAEzE,IADAylB,EAAkBL,GAAarL,MAAOA,EAAO+B,OAAQA,EAAQwC,MAAOA,IAC7DmH,EAAgBzlB,OAAS,GAC5BulB,EAAa7f,YAAY+f,EAAgB,IAIrD,MAAO5gB,GACH,MAAO0gB,GAEX,MAAOA,GAGX,QAAgBG,IAAajN,GAMzB,MAJQ,aAAeA,EAAKK,KACxB,gBAAkBL,EAAKO,UAAY,iBAAmBP,EAAKM,WAC3D,iBAAmBN,EAAKQ,WAAa,YAAcR,EAAKrG,QACxD,WAAaqG,EAAKwI,MAAQ,IAIlC,QAAgB0E,IAAmB3gB,GAC/B,GAAImc,EAIJ,OAHA3c,UAASoM,KAAKlL,YAAYV,GAC1Bmc,EAASnc,EAAQyL,wBACjBmK,GAAc5V,EAAQqC,IACf8Z,EAGX,QAAgByE,IAAaje,EAAUN,GAEnC,IAAK,GADDrC,GACKtE,EAAI,EAAGmlB,EAAWle,EAAS3H,OAAQU,EAAImlB,EAAUnlB,IAClDiH,EAASjH,GAAG2G,GAAGd,QAAQc,IAAO,IAC9BrC,EAAU2C,EAASjH,GAI3B,OAAOsE,GAGX,QAAgB8gB,IAASnU,EAAGC,EAAGsK,EAAO2C,EAAOC,EAAYhD,GACrDnK,EAA0B,gBAApBuK,EAAM6C,UAA+BjE,GAAUnJ,EAAI,EAAKA,EAAI,EAAIuK,EAAMpB,SAAWnJ,EACvFC,EAA0B,gBAApBiN,EAAME,UAA+BjE,GAAUlJ,EAAI,EAAKA,EAAI,EAAIiN,EAAM/D,SAAWlJ,EACvFD,EAAI8M,GAAmB9M,EAAGuK,GAC1BtK,EAAI6M,GAAmB7M,EAAGiN,EAC1B,IAAIkH,GAAWjH,EAAa5C,EAAMgB,KAAKE,OAASlB,EAAMgB,KAAK7B,MACvD2K,EAAWlH,EAAaD,EAAM3B,KAAK7B,MAAQwD,EAAM3B,KAAKE,MAG1D,OAAO,IAAIO,IAFKmB,EAAalN,IAAgBD,IAC7BmN,GAAc,EAAInN,MAAkB,EAAIC,MAI5D,QAAgBqU,IAAc5hB,EAAOC,GACjC,KAAID,GAASA,EAAM6hB,iBAAmB5hB,GAIlC,MAAO,KAHPA,GAAOoB,YAAYrB,GAO3B,QAAgB8hB,IAAuBC,EAAIC,EAAIC,EAAIC,EAAItB,GACnD,GAAI5J,GAAQpK,KAAKE,IAAIiV,EAAKE,GACtBlJ,EAASnM,KAAKE,IAAIkV,EAAKE,GACvB5U,EAAIV,KAAKC,IAAIsV,GAAYvV,KAAKuK,IAAI4K,EAAIE,GAAKjL,EAAO4J,EAAUtT,EAAGsT,EAAU5J,OAAQ4J,EAAUtT,GAC3FC,EAAIX,KAAKC,IAAIsV,GAAYvV,KAAKuK,IAAI6K,EAAIE,GAAKnJ,EAAQ6H,EAAUrT,EAAGqT,EAAU7H,QAAS6H,EAAUrT,EACjG,OAAO,IAAIgP,IAAKjP,EAAGC,EAAGX,KAAKuK,IAAIH,EAAO4J,EAAU5J,OAAQpK,KAAKuK,IAAI4B,EAAQ6H,EAAU7H,SAGvF,QAAgBoJ,IAAYzlB,EAAO+X,EAAM0C,EAAKtK,GAO1C,MANInQ,GAAQya,EACRza,EAAQya,EAEFza,EAAQ+X,EAAS5H,EAAMsK,IAC7Bza,EAASmQ,EAAMsK,EAAO1C,GAEnB/X,EAGX,QAAgB0lB,IAAa7K,EAAcE,EAAQ/B,GAC/C,GAAI2M,GAAc5K,EAAO+C,MAAM6H,YAC3BlO,KACAmO,EAAqD,OAAjCD,EAAY1R,MAAM,UAC1C,QAAQ8G,EAAO8K,YACX,IAAK,KACDpO,EAAK3U,KAAK+X,EAAapD,MAAQoD,EAAa8I,OAAOxgB,WACnD,MACJ,KAAK,UACDsU,EAAK3U,KAAK+X,EAAapD,MAAQvH,KAAKC,IAAI0K,EAAaiL,KAAMjL,EAAakL,KAAK5iB,YAC7EsU,EAAK3U,KAAK+X,EAAapD,MAAQvH,KAAKuK,IAAII,EAAaiL,KAAMjL,EAAakL,KAAK5iB,WAC7E,MACJ,KAAK,mBACDsU,EAAK3U,KAAK+X,EAAapD,MAAQvH,KAAKC,IAAI0K,EAAaiL,KAAMjL,EAAakL,KAAK5iB,YAC7EsU,EAAK3U,KAAK+X,EAAapD,MAAQvH,KAAKuK,IAAII,EAAaiL,KAAMjL,EAAakL,KAAK5iB,YAC7EsU,EAAK3U,KAAK+X,EAAapD,MAAQvH,KAAKC,IAAI0K,EAAanW,KAAMmW,EAAa5V,OAAO9B,YAC/EsU,EAAK3U,KAAK+X,EAAapD,MAAQvH,KAAKuK,IAAII,EAAanW,KAAMmW,EAAa5V,OAAO9B,WAC/E,MACJ,KAAK,UACDsU,EAAK3U,KAAK+X,EAAapD,MAAQoD,EAAamL,OAAO7iB,YACnDsU,EAAK3U,KAAK+X,EAAapD,MAAQoD,EAAaoL,QAAQ9iB,YACpDsU,EAAK3U,KAAK+X,EAAapD,MAAQoD,EAAaqL,QAAQ/iB,YACpDsU,EAAK3U,KAAK+X,EAAapD,MAAQoD,EAAasL,cAAchjB,YAC1DsU,EAAK3U,KAAK+X,EAAapD,MAAQoD,EAAauL,cAAcjjB,WAC1D,KAAK,GAAIrC,GAAK,EAAGgF,EAAK+U,EAAawL,SAAUvlB,EAAKgF,EAAG7G,OAAQ6B,IAAM,CAC/D,GAAIwlB,GAAQxgB,EAAGhF,EACf2W,GAAK3U,KAAK+X,EAAapD,MAAQ6O,EAAMnjB,aAIjD,GAAIwiB,IAAgB9K,EAAapD,KAC7B,IAAK,GAAI9X,GAAI,EAAGA,EAAI8X,EAAKxY,OAAQU,IAC7B8X,EAAK9X,GAAKimB,EAAoBD,EAAY9R,QAAQ,UAAWkH,EAAO+C,MAAMyI,OAAOC,WAAW/O,EAAK9X,MAC7Fob,EAAO+C,MAAMyI,OAAOC,WAAW/O,EAAK9X,IAGhD,OAAO8X,GAGX,QAAgBgP,IAAUC,GACtBnoB,OAAO+G,cAAcohB,GAGzB,QAAgBC,IAAUxK,EAAMyK,EAAatI,GACzC,GACIuI,GAAc,GAAIhH,IAAK1D,EAAKvL,EAAI0N,EAAS1N,EAAGuL,EAAKtL,EAAIyN,EAASzN,EAAGsL,EAAK7B,MAAO6B,EAAKE,OAKtF,OAJYuK,GAAYE,KAAK,SAAU3K,GACnC,MAAQ0K,GAAYjW,EAAIuL,EAAKvL,EAAIuL,EAAK7B,OAASuM,EAAYjW,EAAIiW,EAAYvM,MAAQ6B,EAAKvL,GACpFiW,EAAYhW,EAAIsL,EAAKtL,EAAIsL,EAAKE,QAAUwK,EAAYxK,OAASwK,EAAYhW,EAAIsL,EAAKtL,IAK9F,QAAgBkW,IAAUF,EAAa1K,GACnC,MAAQ0K,GAAYjW,EAAIuL,EAAKvL,EAAIuL,EAAK7B,OAASuM,EAAYjW,EAAIiW,EAAYvM,MAAQ6B,EAAKvL,GACpFiW,EAAYhW,EAAIsL,EAAKtL,EAAIsL,EAAKE,QAAUwK,EAAYxK,OAASwK,EAAYhW,EAAIsL,EAAKtL,EAG1F,QAAgBmW,IAAaH,EAAa1K,GACtC,MAAQ0K,GAAYjW,GAAKuL,EAAKvL,GAAKiW,EAAYjW,EAAIiW,EAAYvM,OAAS6B,EAAKvL,EAAIuL,EAAK7B,OAClFuM,EAAYhW,GAAKsL,EAAKtL,GAAKgW,EAAYxK,OAASwK,EAAYhW,GAAKsL,EAAKtL,EAAIsL,EAAKE,OAGvF,QAAgB4K,IAAclE,EAAUmE,EAAUC,GAC9C,MAAO,IAAItH,IAAMkD,EAASnS,EAAKsW,EAAS5M,MAAQ,EAAK6M,EAAO9W,KAAQ0S,EAASlS,EAAKqW,EAAS7K,OAAS,EAAK8K,EAAO5W,IAAM2W,EAAS5M,MAAQ6M,EAAO9W,KAAO8W,EAAO7W,MAAO4W,EAAS7K,OAAS8K,EAAO5W,IAAM4W,EAAO3W,QAG7M,QAAgB4W,IAAiB5nB,GAC7B,MAAO,IAAM6nB,GAAe7nB,EAAM0d,GAAKmK,GAAe7nB,EAAM8nB,GAAKD,GAAe7nB,EAAMqZ,GAG1F,QAAgBwO,IAAe7nB,GAC3B,GAAI+nB,GAAM/nB,EAAM2D,SAAS,GACzB,OAAsB,KAAfokB,EAAItoB,OAAe,IAAMsoB,EAAMA,EAG1C,QAAgBC,IAAkBD,GAC9B,GAAIjmB,GAAS,4CAA4CmmB,KAAKF,EAC9D,OAAOjmB,GAAS,GAAIomB,IAAW/I,SAASrd,EAAO,GAAI,IAAKqd,SAASrd,EAAO,GAAI,IAAKqd,SAASrd,EAAO,GAAI,KACjG,GAAIomB,IAAW,IAAK,IAAK,KAGjC,QAAgBC,IAAezH,GAC3B,GAAIjc,EACJic,GAAkB,gBAAVA,EAA0B,QAAUA,GAC5Cjc,EAAUR,SAASmU,eAAe,qBAC1BnQ,MAAMyY,MAAQA,EACtBA,EAAQ3hB,OAAOwS,iBAAiB9M,GAASic,KACzC,IACI0H,GADM,uGACWH,KAAKvH,EAC1B,OAAOkH,IAAiB,GAAIM,IAAW/I,SAASiJ,EAAW,GAAI,IAAKjJ,SAASiJ,EAAW,GAAI,IAAKjJ,SAASiJ,EAAW,GAAI,MAG7H,QAAgBC,IAAmB3H,EAAO4H,IAEtC5H,GADAA,EAAQyH,GAAezH,IACTrM,QAAQ,cAAe,KAC3B5U,OAAS,IACfihB,EAAQA,EAAM,GAAKA,EAAM,GAAKA,EAAM,GAAKA,EAAM,GAAKA,EAAM,GAAKA,EAAM,IAEzE4H,EAASA,GAAU,CAInB,KAAK,GADDC,GADAC,EAAM,IAEDroB,EAAI,EAAGA,EAAI,EAAGA,IACnBooB,EAAYpJ,SAASuB,EAAMQ,OAAW,EAAJ/gB,EAAO,GAAI,IAE7CqoB,IAAQ,MADRD,EAAY7X,KAAK+X,MAAM/X,KAAKuK,IAAIvK,KAAKC,IAAI,EAAG4X,EAAaA,EAAYD,GAAU,OACtD3kB,SAAS,KAAKud,OAAOqH,EAAU5kB,SAAS,IAAIlE,OAEzE,OAAO+oB,GAGX,QAAgBE,IAAUtM,GACtB,GAAIuM,GAAOjY,KAAKqL,MAAMK,EAAO3c,OAAS,EACtC,OAAO2c,GAAO3c,OAAS,EAAI2c,EAAOuM,IAAUvM,EAAOuM,EAAO,GAAKvM,EAAOuM,IAAS,EAInF,QAAgBrE,IAAsBf,EAAUhL,EAAMiL,EAAO9J,GACzD,GAEImD,GAAStE,EAAKsE,OACd/B,EAAQvC,EAAKuC,MACb0C,EAAO+F,EAASnS,EAChBqM,EAAO8F,EAASlS,CACpB,QAAQmS,GACJ,IAAK,mBACL,IAAK,OAGDtiB,EAAMwY,GAAWwK,EAFV,MAAa1G,GAAS1C,EAAQ,GAAM,MAAe,OACzC0C,EAAQ1C,EAAQ,GAAM,OAEvC,MACJ,KAAK,WACDpB,EAAQkP,KAAO,cAQf1nB,EAAMwY,GAAWwK,EAPV,MAAa1G,GAAS1C,EAAQ,OAAsB,KAAO2C,EAAQZ,EAAS,GAAM,OAAmBW,GACtG1C,EAAQ,EAAMA,EAAQ,IAAO,KAAO2C,EAAQZ,EAAS,GAAM,OAAmBW,GAAS1C,EAAQ,EAAMA,EAAQ,IAC7G,MAAe,OAAmB0C,GAAS1C,EAAQ,IAAO,MAAe,OAAmB0C,GAAS1C,EAAQ,IAC7G,KAAO2C,EAAQZ,EAAS,GAAM,OAAmBW,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,OAChGW,EAAQ1C,EAAQ,GAAM,KAAO2C,GAASZ,EAAS,GAAM,OAAmBW,EAAQ1C,EAAQ,GAAM,KAAO2C,GAC1GZ,EAAS,GAAM,MAAaW,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,MAAkBW,EAAQ1C,EAAQ,OACjG,KAAO2C,EAAQZ,EAAS,IAE/C,MACJ,KAAK,aACD,GAAIgM,GAAQ,CAMZ3nB,GAAMwY,GAAWwK,EALV,MAAa1G,GAAS1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,OACxDW,EAAQ1C,EAAQ,GAAM,MAAe,OACjD0C,GAAS1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,OAAcW,GAAS1C,EAAQ,GAAM,KAC1F2C,EAAQZ,EAAS,EAAKgM,GAAS,OAAmBrL,EAAQ1C,EAAQ,EAAM,EAAI+N,GAAU,MACvF,MAAQrL,GAAS1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,EAAKgM,GAAS,MAEzE,MACJ,KAAK,YACDnP,EAAQkP,KAAOlP,EAAQoP,OACvBpP,EAAQoP,OAAS,cAOjB5nB,EAAMwY,GAAWwK,EALV,MAAa1G,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,OACvDW,GAAS1C,EAAQ,GAAM,MAAe,OAClD0C,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,OACpDW,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAJnDgM,EAAQ,IAIyD,OAAcrL,GAAS1C,EAAQ,EAAM,EAAI+N,GACpG,MAAe,MAAQrL,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,EAAKgM,GAAS,MAEzF,MACJ,KAAK,SACL,IAAK,iBACL,IAAK,oBACL,IAAK,cAaD3nB,EAAMwY,GAAWwK,EAZV,MAAa1G,EAAY1C,EAAQ,EAAb,GAAmB,KAAO2C,EAAQZ,EAAS,GAAM,OACvEW,GAAa1C,EAAQ,GAAd,GAAqB,KAAO2C,EAAQZ,EAAS,GAAM,OAC1DW,GAAa1C,EAAQ,GAAd,GAAqB,KAAO2C,EAAQZ,EAAS,GAAM,OAAmBW,EAC7E1C,EAAQ,EAD4E,GACtE,KAAO2C,EAAQZ,EAAS,GAAM,SAC5CW,GAAS1C,EAAQ,GAAOA,EAAQ,IAAO,KAAO2C,EAAQZ,EAAS,KAC9D,OAAmBW,EAAQ1C,EAAQ,GAAOA,EAAQ,IAAO,KAAO2C,EAAQZ,EAAS,KAClE,OAAmBW,EAAQ1C,EAAQ,GAAOA,EAAQ,IAAO,KAAO2C,EAC9EZ,EAAS,GAAM,OAAmBW,GAAS1C,EAAQ,GAAOA,EAAQ,IAAO,KAAO2C,EAClFZ,EAAS,GAAM,SAA+BW,EAAY1C,EAAQ,GAAb,GAAoB,MAAe,OAC5E0C,EAAY1C,EAAQ,EAAb,GAAmB,MAAe,OACnD0C,EAAY1C,EAAQ,EAAb,GAAmB,KAAO2C,EAAQZ,EAAS,GAAM,OACxDW,EAAY1C,EAAQ,GAAb,GAAoB,KAAO2C,EAAQZ,EAAS,GAAM,MAEhE,MACJ,KAAK,MACL,IAAK,cACL,IAAK,iBAeD3b,EAAMwY,GAAWwK,EAdV,MAAa1G,GAAS1C,EAAQ,QAAuB,KAAO2C,EAAYZ,EAAS,EAAd,GAAoB,OAC3EW,EAAY1C,EAAQ,GAAb,GAAoB,KAAO2C,EAAYZ,EAAS,EAAd,GAAoB,OAC3EW,EAAY1C,EAAQ,GAAb,GAAoB,KAAO2C,EAAYZ,EAAS,GAAd,GAAqB,OAC9DW,EAAQ1C,EAAQ,OAAuB,KAAO2C,EAAYZ,EAAS,GAAd,GAAqB,SAC5DW,GAAS1C,EAAQ,QAAuB,KAAO2C,EAAQZ,EAAS,MAC3D,OAAmBW,EAAQ1C,EAAQ,OAAsB,KAAO2C,EACjFZ,EAAS,MAAuB,OAAmBW,EAAQ1C,EAAQ,OACpE,KAAO2C,EAAQZ,EAAS,OAAwB,OAAmBW,EAAQ1C,EAAQ,OACjE,KAAO2C,EAAQZ,EAAS,OAAwB,SAC3DW,EAAQ1C,EAAQ,OAAuB,KAAO2C,EAAQZ,EAAS,KACpD,OAAmBW,GAAS1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,KAClE,OAAmBW,GAAS1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,KAClE,OAAmBW,EAAQ1C,EAAQ,OACrD,KAAO2C,EAAQZ,EAAS,KAAuB,MAErD,MACJ,KAAK,SACDnD,EAAQkP,KAAO,cAMf1nB,EAAMwY,GAAWwK,EALV,MAAa1G,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,MAClEW,EAAO,KAAOC,EAAOZ,GAAU,IAAMW,EAAO,KAAOC,EAAQZ,EAAS,GACpE,MAAkBW,EAAO,KAAOC,EAAQZ,EAAS,GAAM,OAAmBW,EACzE1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,KAAOW,EAAQ1C,EAAQ,GAAM,KACzE2C,EAAQZ,EAAS,IAExB,MACJ,KAAK,OACL,IAAK,mBACL,IAAK,YACL,IAAK,eACL,IAAK,kBAMD3b,EAAMwY,GAAWwK,EALV,MAAa1G,EAAQ1C,EAAQ,OAAsB,KAAO2C,EAAQZ,EAAS,GAC5E,OAAmBW,GAAS1C,EAAQ,SAAuB,KAAO2C,EAAQZ,EAAS,GACnF,QAA2B,KAAOY,EAAQZ,EAAS,GAAM,OAAmBW,EAC3E1C,EAAQ,QAAsB,KAAO2C,GAASZ,EAAS,EAAMA,EAAS,GAAM,OAChEW,EAAQX,EAAS,OAAsB,KAAOY,EAAQZ,EAAS,GAAM,MAExF,MACJ,KAAK,aAMD3b,EAAMwY,GAAWwK,EALV,MAAa1G,EAAQ1C,EAAQ,GAAM,KAAO2C,EAAQZ,EAAS,GAAM,MAAkBW,EACpF,KAAOC,EAAOZ,GAAU,IAAMW,EAAO,KAAOC,EAAQZ,EAAS,GAAM,QAC7DW,EAAO,KAAOC,EAAQZ,EAAS,GAAM,OAAmBW,EAAQ1C,EAAQ,GAAM,KACnF2C,EAAQZ,EAAS,GAAM,KAAOW,EAAQ1C,EAAQ,GAAM,KACpD2C,EAAQZ,EAAS,GAAM,OAE9B,MACJ,KAAK,MACL,IAAK,WACDnD,EAAQoP,OAAS,cAGjB5nB,EAAMwY,GAAWwK,EADV3G,GAAsBC,EAAMC,EAD3B/M,KAAKuK,IAAI4B,EAAQ/B,GAAS,EACU+B,EAAQ/B,EAAO0I,KAInE,OAASI,aAAclK,GAG3B,QAAgBqP,IAASC,EAAU/Q,EAAMC,GACrC,GAAIwL,GAAQzL,EACRM,EAAOP,GAAYC,EAAMC,GAAM4C,KACnC,IAAIvC,EAAOyQ,EAEP,IAAK,GAAI7oB,GADQ8X,EAAKxY,OACI,EAAGU,GAAK,IAAKA,EAGnC,GAFAujB,EAAQzL,EAAKgR,UAAU,EAAG9oB,GAAK,OAC/BoY,EAAOP,GAAY0L,EAAOxL,GAAM4C,QACpBkO,EACR,MAAOtF,EAInB,OAAOA,GAGX,QAAgBwF,IAAelpB,EAAOmpB,GAClC,MAAc,QAAVnpB,OAA4B3B,KAAV2B,GACa,IAAxBA,EAAMgG,QAAQ,KAAemjB,EAAgB,IAAOhK,SAASnf,EAAO,IAAMmf,SAASnf,EAAO,IAE9F,KAGX,QAAgBogB,IAAcgJ,EAAIC,EAAI1M,EAAMgD,EAAe2J,EAAcvY,EAAKC,EAAQH,EAAM0Y,EAAMC,EAAMC,GACpG,GAAI7J,GAAY,GACZ8J,EAAS/M,EAAKvL,EACduY,EAAShN,EAAKtL,EACdyJ,EAAQ6B,EAAKvL,EAAIuL,EAAK7B,MACtB+B,EAASF,EAAKtL,EAAIsL,EAAKE,MAmE3B,OAlEA4M,GAAYA,GAAwB,EAChC1Y,GAKA6O,GAJAA,EAAYA,EAAUwE,OAAO,OAAuB,KAAOuF,EAASN,GAAM,MAAQK,EAAS,IACrFC,EAAS,KAAOD,EAASN,GAAM,IAAMO,EAAS,QAClC7O,EAAQsO,GAAM,MAAiB,MAAQtO,EAAQ,IAC3D6O,EAAS,MAAgB,KAAOA,EAASN,KACzBjF,OAAO,QAAuB,KAAOvH,EAASwM,GAAM,MAAQvO,EAAQ,MACzE,KAAOA,EAAQsO,GAAM,OACjB,IAAjBE,IAEA1J,GADAA,EAAYA,EAAUwE,OAAO,OAAczE,EAAcvO,EAAIkY,EAAe,GAAK,QAC3DlF,OAAO,OAAcmF,EAAOE,GAAa,KAAO5M,EAASyM,EAAeG,IAC9F7J,GAAa,QAAsB,KAAO/C,EAASyM,GAAgB,KAAOC,EAAOE,GAC7E,KAAO5M,EAASyM,EAAeG,IAGnC7J,EADCD,EAAcvO,EAAIkY,EAAe,EAAKI,EAC3B9J,EAAUwE,OAAO,OAAczE,EAAcvO,EAAIkY,EAAe,GAAK,IAAMzM,EACnF,OAAc6M,EAASN,GAAM,IAAMvM,EAAS,MAAQ6M,EAAS,IAC3D7M,EAAS,MAAiB,KAAOA,EAASwM,GAAM,MAGjC,IAAjBC,EACY1J,EAAUwE,OAAO,OAAcsF,EAASN,GAAM,IAAMvM,EAAS,MAAQ6M,EAAS,IACpF7M,EAAS,MAAiB,KAAOA,EAASwM,GAAM,MAG1CzJ,EAAUwE,OAAO,QAAwB,KAAOvH,EAASwM,GAAM,OAI9ErY,GAGL4O,GAFAA,EAAYA,EAAUwE,OAAO,OAAuB,KAAOuF,EAASN,GAAM,MAAQK,EAAS,MAC1E,KAAOA,EAASN,GAAM,MAAiB,OAAczJ,EAAcvO,EAAIkY,EAAe,GAAK,QACtFlF,OAAO,OAAcmF,EAAOE,GAAa,KAAO9J,EAActO,EAAIoY,IAIxF7J,GAFAA,GADAA,GAAa,QAAsB,IAAOD,IAAmB,KAAO4J,EAAOE,GAAa,KAAO9J,EAActO,EAAIoY,IAC3FrF,OAAO,OAAczE,EAAcvO,EAAIkY,EAAe,GAAK,MAAiB,OAC3FxO,EAAQsO,GAAM,MAAiB,QAAkB,MAAiB,MAAgB,KAAOO,EAASN,KACnFjF,OAAO,QAAuB,KAAOvH,EAASwM,GAAM,QAAkB,MAC3E,KAAOvO,EAAQsO,GAAM,MAClC,OAAcM,EAASN,GAAM,MAAiB,QAAmB,MACpD,MAAiB,KAAOvM,EAASwM,GAAM,OAEnDxY,GAKL+O,GAFAA,GAFAA,EAAYA,EAAUwE,OAAO,OAAuB,KAAOuF,EAASN,GAAM,MAAQK,EAAS,MAC1E,KAAOA,EAASN,GAAM,QACjBhF,OAAO,OAActJ,EAAQsO,GAAM,MAAiB,QAAkB,MAC3E,MAAgB,KAAOO,EAASN,GAAM,QAAuB,KAAO1J,EAActO,EAAIiY,EAAe,KAChGlF,OAAO,OAActJ,EAAQwO,EAAeG,GAAa,KAAOD,EAAOC,IAI7F7J,GAFAA,GADAA,GAAa,OAAS9E,EAAQwO,GAAgB,MAAe,KAAOxO,EAAQwO,EAAeG,GAAa,KAAOD,EAAOC,IAChGrF,OAAO,QAAuB,KAAOzE,EAActO,EAAIiY,EAAe,GACxF,QAAuB,KAAOzM,EAASwM,GAAM,MAAQvO,EAAQ,MAAiB,KAAOA,EAAQsO,GAAM,QACjFhF,OAAO,OAAcsF,EAASN,GAAM,MAAiB,MAAQM,EAAS,MAC3E,MAAiB,KAAO7M,EAASwM,GAAM,QAKxDzJ,GAFAA,EAAYA,EAAUwE,OAAO,MAAasF,EAASN,GAAM,MAAiB,QAAmB,MAC5E,MAAiB,KAAOO,EAASN,GAAM,QAAwB,KAAO1J,EAActO,EAAIiY,EAAe,KAClGlF,OAAO,OAAcsF,EAASJ,EAAeG,GAAa,KAAOD,EAAOC,IAK9F7J,GAHAA,GADAA,GAAa,OAAS8J,EAASJ,GAAgB,MAAe,KAAOI,EAASJ,EAAeG,GAAa,KAAOD,EAAOC,IAClGrF,OAAO,QAAwB,KAAOzE,EAActO,EAAIiY,EAAe,GACzF,QAAwB,KAAOzM,EAASwM,GAAM,MAAQK,EAAS,MAClD,KAAOA,EAASN,GAAM,QACjBhF,OAAO,OAActJ,EAAQsO,GAAM,MAAiB,MAAQtO,EAAQ,MACzE,MAAgB,KAAO+B,EAASwM,GAC7C,QAAuB,KAAOM,EAASN,GAAM,MAAQvO,EAAQ,MAChD,KAAOA,EAAQsO,GAAM,MAAiB,OAEpDxJ,EAGX,QAAgBY,IAAY9G,EAASxB,EAAMwI,EAAO3c,EAAQ6lB,OACtC,KAAZA,IAAsBA,GAAU,EACpC,IACIzR,GACA0R,EAEA5R,EACA4E,EALAiN,KAGAnQ,EAAW,GAAIC,IAAY,GAmB/B,IAhBAkQ,GACIhjB,GAAM4S,EAAQ5S,GACdsK,EAAKsI,EAAQtI,EACbC,EAAKqI,EAAQrI,EACbuX,KAAQlI,EACR7G,YAAa3B,EAAKK,KAClBuB,aAAc5B,EAAKO,UACnBsB,cAAe7B,EAAKQ,WACpBsB,cAAe9B,EAAKM,WACpByB,cAAeP,EAAQoG,OACvBrO,UAAaiI,EAAQjI,UACrBI,QAAWqG,EAAKrG,QAChBkY,oBAAqBrQ,EAAQsQ,UAEjC/R,EAA+B,gBAAjByB,GAAQzB,KAAoByB,EAAQzB,KAAO2R,EAAUlQ,EAAQzB,KAAKyB,EAAQzB,KAAKxY,OAAS,GAAKia,EAAQzB,KAAK,GACxHE,EAAawB,EAASO,WAAW4P,EAAe7R,GACpB,gBAAjByB,GAAQzB,MAAqByB,EAAQzB,KAAKxY,OAAS,EAC1D,IAAK,GAAIU,GAAI,EAAGkF,EAAMqU,EAAQzB,KAAKxY,OAAQU,EAAIkF,EAAKlF,IAChD0c,EAAU7E,GAAY0B,EAAQzB,KAAK9X,GAAI+X,GAAa,OACpD2R,EAAelQ,EAASsQ,aACpB7Y,EAAKsI,EAAQtI,EAAGtK,GAAM4S,EAAQ5S,GAC9BuK,EAAMqI,KAAc,GAAcvZ,EAAI0c,EAAW1c,EAAI0c,IACtD+M,EAAUlQ,EAAQzB,KAAKyB,EAAQzB,KAAKxY,QAAUU,EAAI,IAAMuZ,EAAQzB,KAAK9X,IACxEgY,EAAWhT,YAAY0kB,EAI/B,OADA9lB,GAAOoB,YAAYgT,GACZA,EAKX,QAAgB+R,IAAc1Q,GAC1B,GAAI2Q,GAAiB3Q,EAAM/U,QAAQqU,YAC/BsR,EAAkB5Q,EAAM/U,QAAQsU,YACpCS,GAAMwG,cAAgB,GAAInH,IAAKqQ,GAAe1P,EAAMsB,MAAOqP,IAAmBA,GAAkB,IAAKjB,GAAe1P,EAAMqD,OAAQuN,IAAoBA,GAAmB,KAE7K,QAAgBC,IAAU7Q,GACtBA,EAAMG,SAAW,GAAIC,IAAYJ,EAAM/U,QAAQqC,IAC/CojB,GAAc1Q,GACdA,EAAMY,UAAYZ,EAAMG,SAAS0Q,WAC7BvjB,GAAI0S,EAAM/U,QAAQqC,GAAK,OACvBgU,MAAOtB,EAAMwG,cAAclF,MAC3B+B,OAAQrD,EAAMwG,cAAcnD,SASpC,QAAgByN,IAASC,EAAOtiB,EAAO6S,GACnC,GAAI0P,KACJ,QAAQviB,EAAMwiB,cACV,IAAK,OACDD,EAAkBE,GAASH,EAAOzP,EAAO7S,EACzC,MACJ,KAAK,OACDuiB,EAAgBlnB,KAAKylB,GAASjO,EAAOyP,EAAOtiB,GAC5C,MACJ,SACIuiB,EAAgBlnB,KAAKinB,GAG7B,MAAOC,GAKX,QAAgBG,IAAeC,EAAWC,EAAaC,EAAcC,GAWjE,MATiC,SAA7BA,EAAWC,cACCH,EAEsB,WAA7BE,EAAWC,cACJJ,EAAU9P,MAAQ,EAGlB8P,EAAU9P,MAAQgQ,EAOtC,QAAgBJ,IAASO,EAAcC,EAAchT,GAKjD,IAAK,GADDD,GAHAkT,EAAiBF,EAAa/qB,MAAM,KACpCwjB,EAAQ,GACR0H,KAEKjrB,EAAI,EAAGkF,EAAM8lB,EAAe1rB,OAAQU,EAAIkF,EAAKlF,IAClD8X,EAAOkT,EAAehrB,GAClB6X,GAAY0L,EAAMU,OAAOnM,GAAOC,GAAM4C,MAAQoQ,EAC9CxH,EAAQA,EAAMU,QAAkB,KAAVV,EAAe,GAAK,KAAOzL,GAGnC,KAAVyL,GACA0H,EAAgB9nB,KAAKylB,GAASmC,EAAcxH,EAAOxL,IACnDwL,EAAQzL,IAGRmT,EAAgB9nB,KAAKylB,GAASmC,EAAcjT,EAAMC,IAClDD,EAAO,IAGXyL,GAASvjB,IAAMkF,EAAM,GACrB+lB,EAAgB9nB,KAAKylB,GAASmC,EAAcxH,EAAOxL,GAG3D,OAAOkT,GCp1BX,QAAgBC,IAAwBrrB,EAAOoE,GAC3C,GAAc,OAAVpE,OAA4B3B,KAAV2B,EAClB,KAAM,IAAIqE,OAAM,sBAAwBD,EAAU,gCChV1D,QAAgBknB,IAAgBC,GAM5B,MAA6C,oBAAzC/pB,OAAOjD,UAAUoF,SAASC,KAAK2nB,GACxB,KAAOA,EAGP,KAAOA,EAAK5nB,WC0c3B,QAAgB6nB,IAAmBhP,EAAOiP,GACtC,IAAK,GAAInqB,GAAK,EAAGoqB,EAAkBD,EAAenqB,EAAKoqB,EAAgBjsB,OAAQ6B,IAAM,CACjF,GAAIia,GAASmQ,EAAgBpqB,EAC7B,IAAIkb,IAAUjB,EAAOiB,MACjB,MAAOjB,GAGf,MAAOkQ,GAAc,GAMzB,QAAgBE,IAAanP,EAAOsF,GAChC,IAAK,GAAIxgB,GAAK,EAAGsqB,EAAW9J,EAAQxgB,EAAKsqB,EAASnsB,OAAQ6B,IAAM,CAC5D,GAAIyc,GAAQ6N,EAAStqB,EACrB,IAAIyc,EAAMvB,QAAUA,EAChB,MAAOuB,GAGf,MAAO,MX5eX,GAAI1X,IAAY,gBACZ7D,GAAM,EYANqpB,GAAc,6BACdC,GAAc,MAcdC,cAQA,QAASA,GAAKrS,EAAS/O,EAAMqhB,GAKzBlpB,KAAK6a,MAAO,EACZ7a,KAAK4W,WACkB,gBAAZA,IACP5W,KAAK2gB,IAAM/J,EACX5W,KAAK6H,KAAOA,EAAOA,EAAKshB,cAAgBH,GACxChpB,KAAK6a,OAAQjd,EAAkBsrB,IAASA,GAEhB,gBAAZtS,KACZ5W,KAAK4W,QAAUA,EACfxY,EAAM4B,KAAMA,KAAK4W,UAErB5W,KAAK6H,KAAO7H,KAAK6H,KAAO7H,KAAK6H,KAAKshB,cAAgBH,GA8EtD,MAvEAC,GAAKxtB,UAAU2tB,KAAO,SAAU1sB,GAC5B,GAAIqD,GAAQC,IAeZ,OAdAA,MAAKtD,KAAOkB,EAAkBlB,GAAQsD,KAAKtD,KAAOA,EACpC,GAAI2sB,SAAQ,SAAUC,EAASC,GACzCxpB,EAAMypB,YAAc,GAAIC,gBACxB1pB,EAAMypB,YAAYE,mBAAqB,WAAc3pB,EAAM4pB,YAAYL,EAASC,IAChFxpB,EAAMypB,YAAYpnB,KAAKrC,EAAM8H,KAAM9H,EAAM4gB,IAAK5gB,EAAM8a,MAE/Cjd,EAAkBmC,EAAMrD,OACzBqD,EAAMypB,YAAYI,iBAAiB,eAAgB7pB,EAAM8pB,aAAe,mCAExE9pB,EAAM+pB,YACN/pB,EAAM+pB,aAEV/pB,EAAMypB,YAAYJ,KAAMxrB,EAAkBmC,EAAMrD,MAAqB,KAAbqD,EAAMrD,SAItEusB,EAAKxtB,UAAUsuB,eAAiB,SAAUrtB,GAItC,MAHIsD,MAAKgqB,WACLhqB,KAAKgqB,UAAUttB,EAAMsD,MAElBtD,GAEXusB,EAAKxtB,UAAUwuB,eAAiB,SAAUC,GAItC,MAHIlqB,MAAKmqB,WACLnqB,KAAKmqB,UAAUnqB,KAAKwpB,aAEjBU,GAEXjB,EAAKxtB,UAAUkuB,YAAc,SAAUL,EAASC,GAC5C,GAAI7sB,GAAOsD,KAAKwpB,YAAYY,YAC5B,IAAIpqB,KAAKqqB,UAA4C,SAAhCrqB,KAAKqqB,SAAShM,cAC/B,GAAa,KAAT3hB,EACAA,MAAOnB,OAGP,KACImB,EAAO4tB,KAAKC,MAAM7tB,GAEtB,MAAO8tB,IAKqB,IAAhCxqB,KAAKwpB,YAAYiB,aACe,MAA5BzqB,KAAKwpB,YAAYxZ,QAA8C,MAA5BhQ,KAAKwpB,YAAYxZ,OACpDsZ,EAAQtpB,KAAK+pB,eAAertB,IAG5B6sB,EAAO,GAAIhoB,OAAMvB,KAAKiqB,eAAejqB,KAAKwpB,YAAYkB,gBASlEzB,EAAKxtB,UAAUkvB,kBAAoB,SAAUntB,GACzC,GAAIotB,GACAC,CACJD,KAEA,KADA,GAAIE,GAAU/B,GAAY5D,KAAKnlB,KAAKwpB,YAAYuB,yBACzCD,GACHF,EAAgBE,EAAQ,GAAGzM,eAAiByM,EAAQ,GACpDA,EAAU/B,GAAY5D,KAAKnlB,KAAKwpB,YAAYuB,wBAGhD,OADAF,GAASD,EAAgBptB,EAAI6gB,eACtBzgB,EAAkBitB,GAAU,KAAOA,GAEvC5B,KCjGPjjB,cACA,QAASA,MA2GT,MAxGAA,GAAaglB,kBAAoB,SAAUrpB,GACvC,MAAI,eAAiBA,GACVA,EAAQspB,YAAYngB,QAG3BnJ,EAAQspB,eACDtpB,EAAQspB,YAAYngB,YAYnC9E,EAAalB,IAAM,SAAUnD,EAASupB,EAAWC,EAAUC,EAAQC,GAC/D,GACIC,GADAC,EAAYvlB,EAAaglB,kBAAkBrpB,EAG3C2pB,GADAD,EACmB1rB,EAASwrB,EAAUE,GAGnBF,EAEnBC,IACAE,EAAmBA,EAAiB5vB,KAAK0vB,GAG7C,KAAK,GADD5uB,GAAQ0uB,EAAU9tB,MAAM,KACnBC,EAAI,EAAGA,EAAIb,EAAMG,OAAQU,IAC9BkuB,EAAU/qB,MACNse,KAAMtiB,EAAMa,GACZ8tB,SAAUA,EACVxrB,SAAU2rB,IAEd3pB,EAAQ/E,iBAAiBJ,EAAMa,GAAIiuB,EAEvC,OAAOA,IASXtlB,EAAaf,OAAS,SAAUtD,EAASupB,EAAWC,GAmBhD,IAAK,GAlBDI,GAAYvlB,EAAaglB,kBAAkBrpB,GAC3CnF,EAAQ0uB,EAAU9tB,MAAM,KAiBnBouB,EAAI,EAAGA,EAAIhvB,EAAMG,OAAQ6uB,KAhBpB,SAAUA,GACpB,GACIF,GADA5R,GAAS,CAET6R,IAAkC,IAArBA,EAAU5uB,QACvB4uB,EAAU/G,KAAK,SAAUlW,EAAGjR,GACxB,MAAOiR,GAAEwQ,OAAStiB,EAAMgvB,IAAMld,EAAE6c,WAAaA,IACxCzR,EAAQrc,EAAGiuB,EAAmBhd,EAAE3O,UAAU,MAGxC,IAAX+Z,GACA6R,EAAUE,OAAO/R,EAAO,GAExB4R,GACA3pB,EAAQ7E,oBAAoBN,EAAMgvB,GAAIF,IAIlCE,IAQhBxlB,EAAaC,YAAc,SAAUtE,GACjC,GAAI4pB,GACAG,CAEJA,GAAW/sB,KAAW+sB,EADtBH,EAAYvlB,EAAaglB,kBAAkBrpB,GAE3C,KAAK,GAAItE,GAAI,EAAGA,EAAIquB,EAAS/uB,OAAQU,IACjCsE,EAAQ7E,oBAAoB4uB,EAASruB,GAAGyhB,KAAM4M,EAASruB,GAAGsC,UAC1D4rB,EAAUI,SAWlB3lB,EAAaqa,QAAU,SAAU1e,EAASupB,EAAWU,GAEjD,IACK,GAAIptB,GAAK,EAAGqtB,EAFD7lB,EAAaglB,kBAAkBrpB,GAELnD,EAAKqtB,EAAYlvB,OAAQ6B,IAAM,CACrE,GAAIstB,GAAUD,EAAYrtB,EACtBstB,GAAQhN,OAASoM,GACjBY,EAAQnsB,SAASmB,KAAKd,KAAM4rB,KAIjC5lB,KChIP+lB,cACA,QAASA,GAAS3lB,GACdpG,KAAKgsB,iBACDpuB,EAAkBwI,KAGtBpG,KAAKoG,QAAUA,GAyFnB,MA/EA2lB,GAAStwB,UAAUwwB,GAAK,SAAU/kB,EAAUrL,EAASuK,GACjD,IAAIxI,EAAkB/B,GAAtB,CAGA,GAAIqwB,GAAQ9lB,GAAWpG,KAAKoG,OAC5B,IAAIpG,KAAKmsB,SAASjlB,GAEd,YADAlH,KAAKgsB,cAAc9kB,KAAerL,QAASA,EAASuK,QAAS8lB,IAG5DlsB,MAAKosB,iBAAiBpsB,KAAKgsB,cAAc9kB,GAAWrL,IACrDmE,KAAKgsB,cAAc9kB,GAAU1G,MAAO3E,QAASA,EAASuK,QAAS8lB,MASvEH,EAAStwB,UAAU4wB,IAAM,SAAUnlB,EAAUrL,GACzC,IAAImE,KAAKmsB,SAASjlB,GAAlB,CAGA,GAAIolB,GAAYvvB,EAASmK,EAAUlH,KAAKgsB,cACxC,IAAInwB,GACA,IAAK,GAAIwB,GAAI,EAAGA,EAAIivB,EAAU3vB,OAAQU,IAClC,GAAIxB,IAAYywB,EAAUjvB,GAAGxB,QAAS,CAClCywB,EAAUb,OAAOpuB,EAAG,EACpB,mBAKD2C,MAAKgsB,cAAc9kB,KASlC6kB,EAAStwB,UAAU8T,OAAS,SAAUrI,EAAUqlB,GAC5C,IAAIvsB,KAAKmsB,SAASjlB,GAAlB,CAGIqlB,IACAA,EAASzN,KAAO5X,EAGpB,KAAK,GAAI1I,GAAK,EAAGguB,EADDzvB,EAASmK,EAAUlH,KAAKgsB,eAAehqB,MAAM,GACnBxD,EAAKguB,EAAY7vB,OAAQ6B,IAAM,CACrE,GAAIiuB,GAAMD,EAAYhuB,EACtBiuB,GAAI5wB,QAAQiF,KAAK2rB,EAAIrmB,QAASmmB,MAMtCR,EAAStwB,UAAUixB,QAAU,WACzB1sB,KAAKgsB,cAAgBhsB,KAAKoG,YAAU7K,IAKxCwwB,EAAStwB,UAAU0wB,SAAW,SAAUzgB,GACpC,OAAmD,IAA5C1L,KAAKgsB,cAAclkB,eAAe4D,IAK7CqgB,EAAStwB,UAAU2wB,iBAAmB,SAAUJ,EAAenwB,GAC3D,IAAK,GAAI2C,GAAK,EAAGmuB,EAAkBX,EAAextB,EAAKmuB,EAAgBhwB,OAAQ6B,IAE3E,GADUmuB,EAAgBnuB,GAClB3C,UAAYA,EAChB,OAAO,CAGf,QAAO,GAEJkwB,KCxFPa,cAIA,QAASA,GAAKhW,EAASjV,GACnB3B,KAAK6sB,qBAAsB,EAC3B7sB,KAAK8D,cACL9D,KAAK8sB,qBACL9sB,KAAK+sB,iBACL/sB,KAAKgtB,YAAa,EAElBhtB,KAAKitB,YAAc,aACnBjtB,KAAKktB,0BACLltB,KAAKmtB,cAAgB,GAAIpB,IAAS/rB,MAC7B1C,EAAYqE,KAET3B,KAAK2B,QADL,mBACeR,SAASmC,cAAc3B,GAGvBA,EAEd/D,EAAkBoC,KAAK2B,WACxB3B,KAAK6sB,qBAAsB,EAC3B7sB,KAAK0D,gBAGRpG,EAAYsZ,IACb5W,KAAKmI,cAAcyO,GAAS,GAEhC5W,KAAKotB,aAAc,EAgJvB,MAvIAR,GAAKnxB,UAAU0M,cAAgB,SAAUuD,EAAM2hB,GAC3C,GAAIC,GAAgBttB,KAAK6sB,mBACzB7sB,MAAK6sB,sBAAwBQ,EAC7BjvB,EAAM4B,KAAM0L,IACS,IAAjB2hB,IACAjvB,EAAM4B,KAAK8sB,kBAAmBphB,GAC9B1L,KAAKutB,YAETvtB,KAAKitB,cACLjtB,KAAK8sB,qBACL9sB,KAAK+sB,iBACL/sB,KAAK6sB,oBAAsBS,GAU/BV,EAAKY,kBAAoB,SAAUvwB,EAAKgE,GAEpC,IAAK,GAAIzC,GAAK,EAAGC,EADNC,OAAOjB,KAAKR,GACSuB,EAAKC,EAAO9B,OAAQ6B,IAAM,CACtD,GAAIhB,GAAMiB,EAAOD,EACjB,IAAIyC,EAAOzD,YAAgBoJ,OACvB,IAAK,GAAIpD,GAAK,EAAGmB,EAAK1D,EAAOzD,GAAMgG,EAAKmB,EAAGhI,OAAQ6G,IAAM,CACrD,GAAIiqB,GAAQ9oB,EAAGnB,OACQjI,KAAnBkyB,EAAMF,UACNE,EAAMF,eAKdtsB,GAAOzD,GAAK+vB,aAIxBX,EAAKnxB,UAAUiyB,aAAe,WAC1B1tB,KAAKitB,cACLjtB,KAAK8sB,qBACL9sB,KAAK+sB,iBACL/sB,KAAKktB,2BAKTN,EAAKnxB,UAAU8xB,SAAW,WAEtB,GADAX,EAAKY,kBAAkBxtB,KAAKktB,uBAAwBltB,MAChDtB,OAAOivB,oBAAoB3tB,KAAK8sB,mBAAmBnwB,OAAQ,CAC3D,GAAI2wB,GAAgBttB,KAAK6sB,oBACrBe,EAAa5tB,KAAK8sB,kBAClBe,EAAa7tB,KAAK+sB,aACtB/sB,MAAK0tB,eACL1tB,KAAK6sB,qBAAsB,EAC3B7sB,KAAK8tB,kBAAkBF,EAAYC,GACnC7tB,KAAK6sB,oBAAsBS,IAInCV,EAAKnxB,UAAU+M,YAAc,SAAUhL,EAAK8K,EAAU6B,GAC9CnK,KAAK6sB,sBAGT7sB,KAAK+sB,cAAcvvB,GAAO2M,EAC1BnK,KAAK8sB,kBAAkBtvB,GAAO8K,EAC9BtI,KAAKitB,cACLjtB,KAAKitB,YAAcrxB,EAAaoE,KAAKutB,SAAS7xB,KAAKsE,SAUvD4sB,EAAKnxB,UAAUmB,iBAAmB,SAAUsuB,EAAWrvB,GACnDmE,KAAKmtB,cAAclB,GAAGf,EAAWrvB,IAQrC+wB,EAAKnxB,UAAUqB,oBAAsB,SAAUouB,EAAWrvB,GACtDmE,KAAKmtB,cAAcd,IAAInB,EAAWrvB,IAUtC+wB,EAAKnxB,UAAU4kB,QAAU,SAAU6K,EAAWU,GAC1C,IAAyB,IAArB5rB,KAAKotB,YAAsB,CAC3B,GAAIE,GAAgBttB,KAAK6sB,mBACzB7sB,MAAK6sB,qBAAsB,EAC3B7sB,KAAKmtB,cAAc5d,OAAO2b,EAAWU,GACrC5rB,KAAK6sB,oBAAsBS,IAMnCV,EAAKnxB,UAAUiI,YAAc,WAEzB,GAAIqqB,GAAc,KAAO/tB,KAAKguB,gBAAgB3P,aAC9Cha,IAAUrE,KAAK2B,UAAW,YAAaosB,IAClCnwB,EAAkBoC,KAAK2B,QAAQssB,eAIhC1wB,EAAS,iBAAkByC,MAAOA,KAAK2B,SAHvC3B,KAAK2B,QAAQssB,cAAcztB,KAAKR,OASxC4sB,EAAKnxB,UAAUixB,QAAU,WACrB,GAAI3sB,GAAQC,IACZA,MAAK2B,QAAQssB,cACTjuB,KAAK2B,QAAQssB,cAAcC,OAAO,SAAU7wB,GAAK,MAAOA,KAAM0C,IAClEgF,GAAa/E,KAAK2B,UAAW,KAAO3B,KAAKguB,kBACC,IAAtChuB,KAAK2B,QAAQssB,cAActxB,QAE3BoI,GAAa/E,KAAK2B,UAAW,cAEjC3B,KAAK0tB,eACL1tB,KAAKmtB,cAAcT,UACnB1sB,KAAKotB,aAAc,GAEhBR,KC5KPuB,IACAC,MAAO,0CACPC,KAAM,qCACNC,OAAQ,+BACRC,WAAY,4BACZC,OAAQ,yBACRC,OAAQ,yBACRC,KAAM,2BACNC,QAAS,iCAGS,oBAAX1yB,UACPA,OAAO2yB,eAAiB3yB,OAAO2yB,mBAMnC,ICpBWxe,IDoBPvD,cACA,QAASA,MA6QT,MA3QAA,GAAQgiB,qBAAuB,WAI3B,IAAK,GAHDC,IAAgBC,YAEhBC,KACKxwB,EAAK,EAAGC,EAFNC,OAAOjB,KAAK0wB,IAES3vB,EAAKC,EAAO9B,OAAQ6B,IAAM,CACtD,GAAIhB,GAAMiB,EAAOD,EAEjB,IADAwwB,EAAaniB,EAAQoiB,UAAUtd,MAAMwc,GAAa3wB,IAClC,CAKZ,GAJAsxB,EAAYhQ,KAAwC,QAAhCkQ,EAAW,GAAG3Q,cAA0B,QAAU2Q,EAAW,GAAG3Q,cACpFyQ,EAAYhQ,KAAwC,UAAhCkQ,EAAW,GAAG3Q,cAA4B,SAAWyQ,EAAYhQ,KACrFgQ,EAAYI,QAAUF,EAAW,GACjCF,EAAYC,QAAQjQ,KAAOgQ,EAAYC,QAAQI,SAAWC,UAAUD,SAC9DtiB,EAAQoiB,UAAUtd,MAvCxB,gBAuC0C,CACtCmd,EAAYhQ,KAAO,MACnB,OAEJ,GAAIoQ,GAAUriB,EAAQoiB,UAAUtd,MAtC7B,0BAuCsB,YAArBmd,EAAYhQ,MAAqBoQ,IACjCJ,EAAYI,QAAUA,EAAQ,GAElC,QAGR,MAAOJ,IAOXjiB,EAAQwiB,SAAW,SAAU7yB,GAEzB,GAAIsO,IACApN,OACIoP,UAAW,cAAegL,QAAS,aAAcwX,SAAU,aAE/DC,MACIziB,UAAW,cAAegL,QAAS,YAAawX,SAAU,aAE9DnP,KACIrT,UAAW,YAAagL,QAAS,WAAYwX,SAAU,WAG/D,OAAQziB,GAAQC,UAAYhC,EAAOtO,GAAOsQ,UACrCD,EAAQiL,QAAUhN,EAAOtO,GAAOsb,SAAYjL,EAAQyiB,SAA0C,GAA/B,IAAMxkB,EAAOtO,GAAO8yB,UAC9ExkB,EAAOtO,GAAO8yB,UAM5BziB,EAAQ2iB,mBAAqB,WACzB,MAAO3iB,GAAQwiB,SAAS,UAM5BxiB,EAAQ4iB,iBAAmB,WACvB,MAAO5iB,GAAQwiB,SAAS,QAM5BxiB,EAAQ6iB,kBAAoB,WACxB,MAAO7iB,GAAQwiB,SAAS,SAQ5BxiB,EAAQ9P,SAAW,SAAUS,EAAKmyB,GAC9B,GAAIf,GAAiB3yB,OAAO2yB,cAC5B,YAAI,KAAuBA,EAAepxB,GAC/BoxB,EAAepxB,GAAOmyB,EAAKhkB,KAAKkB,EAAQoiB,WAE5CL,EAAepxB,IAE1BkB,OAAOiL,eAAekD,EAAS,aAC3BrD,IAAK,WACD,MAAOqD,GAAQ+iB,IAOnBrmB,IAAK,SAAUqmB,GACX/iB,EAAQ+iB,GAAKA,EACb3zB,OAAO2yB,mBAEXnlB,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,QAM3BrD,IAAK,WACD,MAAIlM,GAAYrB,OAAO2yB,eAAeiB,MAC3B5zB,OAAO2yB,eAAeiB,KAAOhjB,EAAQgiB,uBAEzC5yB,OAAO2yB,eAAeiB,MAEjCpmB,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,QAI3BrD,IAAK,WACD,MAAOqD,GAAQ9P,SAAS,OAjJtB,kBAmJN0M,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,WAI3BrD,IAAK,WACD,MAAIlM,GAAYrB,OAAO2yB,eAAe9W,SAC3B7b,OAAO2yB,eAAe9W,QAAW,gBAAkB7b,QAEvDA,OAAO2yB,eAAe9W,SAEjCrO,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,aAI3BrD,IAAK,WACD,MAAIlM,GAAYrB,OAAO2yB,eAAe9hB,WAC3B7Q,OAAO2yB,eAAe9hB,UAAa,kBAAoB7Q,QAAOmzB,UAElEnzB,OAAO2yB,eAAe9hB,WAEjCrD,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,eAI3BrD,IAAK,WACD,MAAIlM,GAAYrB,OAAO2yB,eAAekB,aAC3B7zB,OAAO2yB,eAAekB,YAAe,oBAAsB7zB,QAAOmzB,UAEtEnzB,OAAO2yB,eAAekB,aAEjCrmB,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,YAI3BrD,IAAK,WACD,MAAOqD,GAAQ9P,SAAS,WAnMlB,0EAqMV0M,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,SAI3BrD,IAAK,WACD,MAAOqD,GAAQ9P,SAAS,QA1MrB,8BA4MP0M,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,UAI3BrD,IAAK,WACD,MAAOqD,GAAQ9P,SAAS,SAnNpB,2EAqNR0M,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,aAI3BrD,IAAK,WACD,MAAOqD,GAAQ9P,SAAS,YA5NjB,aA8NX0M,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,aAI3BrD,IAAK,WACD,MAAIlM,GAAYrB,OAAO2yB,eAAemB,YAClC9zB,OAAO2yB,eAAemB,YAAczyB,EAAYrB,OAAO+zB,UAAY1yB,EAAYrB,OAAOg0B,WAC/E3yB,EAAYrB,OAAOi0B,WAA8B,WAAjBj0B,OAAOk0B,OACvCl0B,OAAO2yB,eAAemB,WAE1B9zB,OAAO2yB,eAAemB,WAEjCtmB,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,aAI3BrD,IAAK,WACD,MAAOqD,GAAQ9P,SAAS,YApPjB,gCAsPX0M,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,mBAI3BrD,IAAK,WACD,MAAIlM,GAAYrB,OAAO2yB,eAAewB,iBAC3Bn0B,OAAO2yB,eAAewB,gBAAkBvjB,EAAQ2iB,qBAEpDvzB,OAAO2yB,eAAewB,iBAEjC3mB,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,kBAI3BrD,IAAK,WACD,MAAIlM,GAAYrB,OAAO2yB,eAAeyB,gBAC3Bp0B,OAAO2yB,eAAeyB,eAAiBxjB,EAAQ6iB,oBAEnDzzB,OAAO2yB,eAAeyB,gBAEjC5mB,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAekD,EAAS,iBAI3BrD,IAAK,WACD,MAAIlM,GAAYrB,OAAO2yB,eAAe0B,eAC3Br0B,OAAO2yB,eAAe0B,cAAgBzjB,EAAQ4iB,mBAElDxzB,OAAO2yB,eAAe0B,eAEjC7mB,YAAY,EACZC,cAAc,IAGlBmD,EAAQ+iB,GAA0B,mBAAdR,WAA4BA,UAAUH,UAAY,GAC/DpiB,KbzSP0jB,GAAwC,WACxC,GAAIC,GAAgB9xB,OAAO+xB,iBACpBC,uBAA2B9pB,QAAS,SAAUwa,EAAG7K,GAAK6K,EAAEsP,UAAYna,IACvE,SAAU6K,EAAG7K,GAAK,IAAK,GAAIoa,KAAKpa,GAAOA,EAAEzO,eAAe6oB,KAAIvP,EAAEuP,GAAKpa,EAAEoa,IACzE,OAAO,UAAUvP,EAAG7K,GAEhB,QAASqa,KAAO5wB,KAAKhC,YAAcojB,EADnCoP,EAAcpP,EAAG7K,GAEjB6K,EAAE3lB,UAAkB,OAAN8a,EAAa7X,OAAOsN,OAAOuK,IAAMqa,EAAGn1B,UAAY8a,EAAE9a,UAAW,GAAIm1B,QAGnFC,GAA0C,SAAUC,EAAYznB,EAAQ7L,EAAKuzB,GAC7E,GAA2H3P,GAAvH4P,EAAI/xB,UAAUtC,OAAQie,EAAIoW,EAAI,EAAI3nB,EAAkB,OAAT0nB,EAAgBA,EAAOryB,OAAOuyB,yBAAyB5nB,EAAQ7L,GAAOuzB,CACrH,IAAuB,gBAAZG,UAAoD,kBAArBA,SAAQC,SAAyBvW,EAAIsW,QAAQC,SAASL,EAAYznB,EAAQ7L,EAAKuzB,OACpH,KAAK,GAAI1zB,GAAIyzB,EAAWn0B,OAAS,EAAGU,GAAK,EAAGA,KAAS+jB,EAAI0P,EAAWzzB,MAAIud,GAAKoW,EAAI,EAAI5P,EAAExG,GAAKoW,EAAI,EAAI5P,EAAE/X,EAAQ7L,EAAKod,GAAKwG,EAAE/X,EAAQ7L,KAASod,EAChJ,OAAOoW,GAAI,GAAKpW,GAAKlc,OAAOiL,eAAeN,EAAQ7L,EAAKod,GAAIA,GAkB5DmF,GAAqC,YAErC,QAASA,GAAUnJ,GACf,GAAI7W,GAAQqxB,EAAOtwB,KAAKd,KAAM4W,MAASrb,KAAcyE,IAcrD,OAVAD,GAAMsxB,QACFC,KAAM,2CACNhS,OAAQ,2CACRiS,OAAQ,2CACRC,QAAS,2CACTC,UAAW,2CACXC,aAAc,oCACdC,UAAW,oCACXC,WAAY,qCAET7xB,EA2LX,MA3MAwwB,IAAUxQ,EAAWqR,GAkBrBS,EAAc9R,EAOdA,EAAUtkB,UAAUukB,QAAU,SAAUre,EAASiV,GAC7CA,EAAWA,KACX,IAAIwJ,GAAQpgB,KAAK8xB,SAASlb,EAC1B,IAAuB,gBAAZjV,GAEP,IAAK,GAAInD,GAAK,EAAGuzB,EADFnrB,MAAMnL,UAAUuG,MAAMlB,KAAKuF,EAAU1E,EAASR,WACrB3C,EAAKuzB,EAAWp1B,OAAQ6B,IAAM,CAClE,GAAIwzB,GAAYD,EAAWvzB,EAC3B4hB,GAAMze,QAAUqwB,EAChBH,EAAYI,eAAe7R,OAI/BA,GAAMze,QAAUA,EAChBkwB,EAAYI,eAAe7R,IASnCL,EAAUmS,KAAO,SAAUvwB,EAASye,GAChCze,EAAQwD,MAAMgtB,UAAY,GAC1BxwB,EAAQoL,gBAAgB,YACxB,IAAIqlB,GAAczwB,EAAQyF,aAAa,iBACvC,IAAIgrB,EAAa,CACb,GAAIC,GAAUhW,SAAS+V,EAAa,GACpCE,sBAAqBD,GACrB1wB,EAAQoL,gBAAgB,kBAExBqT,GAASA,EAAMD,KACfC,EAAMD,IAAIrf,KAAKd,KAAMogB,IAQ7BL,EAAUkS,eAAiB,SAAU7R,GAC7BA,EAAMvgB,MACNO,WAAW,WAAcyxB,EAAYU,eAAenS,IAAWA,EAAMvgB,OAGrEgyB,EAAYU,eAAenS,IAQnCL,EAAUwS,eAAiB,SAAUnS,GACjC,GAAIrgB,GAAQC,IACZogB,GAAMF,UAAY,CAClB,IAAIsS,GAAO,EACPC,EAAU,EACVC,EAAY,EACZC,EAAgB,EAChBzlB,EAAWkT,EAAMlT,QACrBkT,GAAMze,QAAQuC,aAAa,YAAa,OACxC,IAAI0uB,GAAiB,SAAU1S,GAC3B,IACI,GAAIA,EAAW,CAGXyS,EAAkC,IAAlBA,EAAsBzS,EAAYyS,EAClDvS,EAAMF,UAAaA,EAAYE,EAAMF,UAAayS,EAClDA,EAAgBzS,GAGXsS,GAAQpS,EAAMyS,OACfzS,EAAMyS,MAAM/xB,KAAKf,EAAOqgB,GAE5BoS,GAAc,CACd,IAAIM,GAAM1S,EAAMF,UAAYsS,CACxBpS,GAAMF,UAAYhT,GAAYkT,EAAMF,UAAY4S,EAAM5lB,GAAYkT,EAAMze,QAAQyF,aAAa,cAE7FgZ,EAAMze,QAAQwD,MAAMgtB,UAAY/R,EAAMtB,KAAO,IAAMsB,EAAMlT,SAAW,MAAQkT,EAAM2S,eAC9E3S,EAAMH,UACNG,EAAMH,SAASnf,KAAKf,EAAOqgB,GAG/B4S,sBAAsBJ,KAItBN,qBAAqBG,GACrBrS,EAAMze,QAAQoL,gBAAgB,kBAC9BqT,EAAMze,QAAQoL,gBAAgB,aAC9BqT,EAAMze,QAAQwD,MAAMgtB,UAAY,GAC5B/R,EAAMD,KACNC,EAAMD,IAAIrf,KAAKf,EAAOqgB,QAK9BsS,GAAYO,YAAYC,MAExBT,EAAUO,sBAAsBJ,GAChCxS,EAAMze,QAAQuC,aAAa,iBAAkBuuB,EAAQ5xB,YAG7D,MAAOW,GACH8wB,qBAAqBG,GACrBrS,EAAMze,QAAQoL,gBAAgB,kBAC1BqT,EAAM+S,MACN/S,EAAM+S,KAAKryB,KAAKf,EAAOyB,IAInCoxB,MAOJ7S,EAAUtkB,UAAUq2B,SAAW,SAAUlb,GACrC,OACIkI,KAAMlI,EAAQkI,MAAQ9e,KAAK8e,KAC3Bjf,MAAO+W,EAAQ/W,OAASG,KAAKH,MAC7BqN,aAAgC3R,KAArBqb,EAAQ1J,SAAyB0J,EAAQ1J,SAAWlN,KAAKkN,SACpE2lB,MAAOjc,EAAQic,OAAS7yB,KAAK6yB,MAC7B1S,IAAKvJ,EAAQuJ,KAAOngB,KAAKmgB,IACzBgT,KAAMvc,EAAQuc,MAAQnzB,KAAKmzB,KAC3BlT,SAAUrJ,EAAQqJ,UAAYjgB,KAAKigB,SACnC8S,eAAgB/yB,KAAKqxB,OAAOza,EAAQmc,gBAAkB/yB,KAAKqxB,OAAOza,EAAQmc,gBACrEnc,EAAQmc,gBAAkB/yB,KAAKqxB,OAAOrxB,KAAK+yB,kBAMxDhT,EAAUtkB,UAAUqyB,kBAAoB,SAAUsF,EAASC,KAO3DtT,EAAUtkB,UAAUuyB,cAAgB,WAChC,MAAO,aAKXjO,EAAUtkB,UAAUixB,QAAU,aAG9BmE,IACIznB,EAAS,WACV2W,EAAUtkB,UAAW,WAAQ,IAChCo1B,IACIznB,EAAS,MACV2W,EAAUtkB,UAAW,eAAY,IACpCo1B,IACIznB,EAAS,SACV2W,EAAUtkB,UAAW,qBAAkB,IAC1Co1B,IACIznB,EAAS,IACV2W,EAAUtkB,UAAW,YAAS,IACjCo1B,IACI5mB,MACD8V,EAAUtkB,UAAW,eAAY,IACpCo1B,IACI5mB,MACD8V,EAAUtkB,UAAW,YAAS,IACjCo1B,IACI5mB,MACD8V,EAAUtkB,UAAW,UAAO,IAC/Bo1B,IACI5mB,MACD8V,EAAUtkB,UAAW,WAAQ,IAChCskB,EAAY8R,EAAchB,IACtBtmB,IACDwV,EAEH,IAAI8R,IACNjF,IAyISngB,IAAkB,EehXzB6mB,cAEA,QAASA,GAAeC,GACpBvzB,KAAKwzB,OAASD,EA2YlB,MAvYAD,GAAe73B,UAAUg4B,eAAiB,SAAU7c,EAASpZ,GACzD,MAAOoZ,GAAQpZ,IAQnB81B,EAAe73B,UAAUi4B,aAAe,SAAU9c,GAC9C,GAAI+c,GAAYxyB,SAASW,cAAc,SAKvC,OAJA6xB,GAAUzvB,aAAa,KAAMlE,KAAKwzB,OAAS,WAC3CxzB,KAAK4zB,IAAMD,EAAUE,WAAW,MAChC7zB,KAAK2zB,UAAYA,EACjB3zB,KAAK8zB,cAAcld,EAAQoB,MAAOpB,EAAQmD,QACnC/Z,KAAK2zB,WAQhBL,EAAe73B,UAAUq4B,cAAgB,SAAU9b,EAAO+B,GACtD,GAAIpY,GAAUR,SAASmU,eAAetV,KAAKwzB,QACvC/d,EAAQ7X,EAAkB+D,GAA6C,KAAlCA,EAAQyL,uBAC7CxP,GAAkBoC,KAAKgY,OACvBhY,KAAK2zB,UAAUzvB,aAAa,QAAS8T,EAAQA,EAAMnX,WAAa4U,EAAKuC,MAAMnX,YAG3Eb,KAAK2zB,UAAUzvB,aAAa,QAASlE,KAAKgY,MAAMnX,YAEhDjD,EAAkBoC,KAAK+Z,QACvB/Z,KAAK2zB,UAAUzvB,aAAa,SAAU6V,EAASA,EAAOlZ,WAAa,OAGnEb,KAAK2zB,UAAUzvB,aAAa,SAAUlE,KAAK+Z,OAAOlZ,aAI1DyyB,EAAe73B,UAAUs4B,cAAgB,SAAUnd,GAC/C5W,KAAK4zB,IAAII,UAAYh0B,KAAKyzB,eAAe7c,EAAS,eAClD,IAAIqd,GAAYj0B,KAAKyzB,eAAe7c,EAAS,mBAC7C,KAAKhZ,EAAkBq2B,GAAY,CAC/B,GAAIC,GAAkBD,EAAU72B,MAAM,IACtC4C,MAAK4zB,IAAIO,aAAa9X,SAAS6X,EAAgB,GAAI,IAAK7X,SAAS6X,EAAgB,GAAI,MAEzFl0B,KAAK4zB,IAAIQ,YAAcp0B,KAAKyzB,eAAe7c,EAAS,WAOxD0c,EAAe73B,UAAU44B,SAAW,SAAUzd,GAC1C5W,KAAK4zB,IAAIU,OACTt0B,KAAK4zB,IAAIW,YACTv0B,KAAK4zB,IAAII,UAAYh0B,KAAKyzB,eAAe7c,EAAS,gBAClD5W,KAAK4zB,IAAIQ,YAAcxd,EAAQoP,OAC/BhmB,KAAK4zB,IAAIY,OAAO5d,EAAQmM,GAAInM,EAAQoM,IACpChjB,KAAK4zB,IAAIa,OAAO7d,EAAQqM,GAAIrM,EAAQsM,IACpCljB,KAAK4zB,IAAI5N,SACThmB,KAAK4zB,IAAIc,UACT10B,KAAK20B,QAAU30B,KAAK2zB,UAAUiB,aAOlCtB,EAAe73B,UAAUo5B,cAAgB,SAAUje,GAC/C,GAAIke,GAAY90B,KAAK4zB,IACjBmB,EAAene,EAAQoK,EAC3BhhB,MAAK4zB,IAAIU,OACTt0B,KAAK4zB,IAAIW,YACTv0B,KAAK4zB,IAAIoB,YAAch1B,KAAKyzB,eAAe7c,EAAS,WACpD5W,KAAK+zB,cAAcnd,GACnB5W,KAAK4zB,IAAI/Z,KAAKjD,EAAQtI,EAAGsI,EAAQrI,EAAGqI,EAAQoB,MAAOpB,EAAQmD,QACtC,OAAjBgb,GAAyBA,GAAgB,EACzC/0B,KAAKi1B,iBAAiBre,IAGD,SAAjBA,EAAQkP,OACRlP,EAAQkP,KAAO,eAEnB9lB,KAAK4zB,IAAIsB,UAAYte,EAAQkP,KAC7B9lB,KAAK4zB,IAAIuB,SAASve,EAAQtI,EAAGsI,EAAQrI,EAAGqI,EAAQoB,MAAOpB,EAAQmD,QAC/D/Z,KAAK4zB,IAAI5N,UAEbhmB,KAAK4zB,IAAIc,UACT10B,KAAK4zB,IAAMkB,EACX90B,KAAK20B,QAAU30B,KAAK2zB,UAAUiB,aAGlCtB,EAAe73B,UAAUw5B,iBAAmB,SAAUre,GAClD,GAAIme,GAAene,EAAQoK,GACvB1S,EAAIsI,EAAQtI,EACZC,EAAIqI,EAAQrI,EACZyJ,EAAQpB,EAAQoB,MAChB+B,EAASnD,EAAQmD,MACA,UAAjBnD,EAAQkP,OACRlP,EAAQkP,KAAO,eAEnB9lB,KAAK4zB,IAAIsB,UAAYte,EAAQkP,KACzB9N,EAAQ,EAAI+c,IACZA,EAAe/c,EAAQ,GAEvB+B,EAAS,EAAIgb,IACbA,EAAehb,EAAS,GAE5B/Z,KAAK4zB,IAAIW,YACTv0B,KAAK4zB,IAAIY,OAAOlmB,EAAI0J,EAAQ+c,EAAcxmB,GAC1CvO,KAAK4zB,IAAIwB,MAAM9mB,EAAI0J,EAAOzJ,EAAGD,EAAI0J,EAAOzJ,EAAIwL,EAAQgb,GACpD/0B,KAAK4zB,IAAIwB,MAAM9mB,EAAI0J,EAAOzJ,EAAIwL,EAAQzL,EAAGC,EAAIwL,EAAQgb,GACrD/0B,KAAK4zB,IAAIwB,MAAM9mB,EAAGC,EAAIwL,EAAQzL,EAAGC,EAAGwmB,GACpC/0B,KAAK4zB,IAAIwB,MAAM9mB,EAAGC,EAAGD,EAAI0J,EAAOzJ,EAAGwmB,GACnC/0B,KAAK4zB,IAAIyB,YACTr1B,KAAK4zB,IAAI9N,OACT9lB,KAAK4zB,IAAI5N,SACThmB,KAAK20B,QAAU30B,KAAK2zB,UAAUiB,aAQlCtB,EAAe73B,UAAU+hB,SAAW,SAAU5G,EAAS0e,GACnD,GACIC,GADO3e,EAAQwK,EACEhkB,MAAM,KACvBo4B,EAAcx1B,KAAKyzB,eAAe7c,EAAS,gBAC3Cke,EAAY90B,KAAK4zB,IACjB6B,GAAO,CACXz1B,MAAK4zB,IAAIU,OACTt0B,KAAK4zB,IAAIW,YACLe,GACAt1B,KAAK4zB,IAAI8B,UAAUJ,EAAgB,GAAIA,EAAgB,IAE3Dt1B,KAAK4zB,IAAIoB,YAAcpe,EAAQ7H,QAAU6H,EAAQ7H,QAAU/O,KAAKyzB,eAAe7c,EAAS,gBACxF5W,KAAK+zB,cAAcnd,EACnB,KAAK,GAAIvZ,GAAI,EAAGA,EAAIk4B,EAAU54B,OAAQU,GAAQ,EAAG,CAC7C,GAAI0lB,GAAKmB,WAAWqR,EAAUl4B,EAAI,IAC9B2lB,EAAKkB,WAAWqR,EAAUl4B,EAAI,GAClC,QAAQk4B,EAAUl4B,IACd,IAAK,IACIuZ,EAAQ+e,QAAW/e,EAAQsK,IAC5BlhB,KAAK4zB,IAAIY,OAAOzR,EAAIC,EAExB,MACJ,KAAK,IACIpM,EAAQ+e,QACT31B,KAAK4zB,IAAIa,OAAO1R,EAAIC,EAExB,MACJ,KAAK,IACD,GAAI4S,GAAK1R,WAAWqR,EAAUl4B,EAAI,IAC9Bw4B,EAAK3R,WAAWqR,EAAUl4B,EAAI,IAC9By4B,EAAK5R,WAAWqR,EAAUl4B,EAAI,IAC9B04B,EAAK7R,WAAWqR,EAAUl4B,EAAI,GAClC2C,MAAK4zB,IAAIoC,cAAcjT,EAAIC,EAAI4S,EAAIC,EAAIC,EAAIC,GAC3C14B,GAAQ,CACR,MACJ,KAAK,IACIuZ,EAAQ+e,OAUJF,IACLz1B,KAAK4zB,IAAIqC,IAAIrf,EAAQtI,EAAGsI,EAAQrI,EAAGqI,EAAQzI,OAAQyI,EAAQlZ,MAAOkZ,EAAQuJ,IAAKvJ,EAAQsf,kBACvFl2B,KAAK4zB,IAAIqC,IAAIrf,EAAQtI,EAAGsI,EAAQrI,EAAGqI,EAAQ+e,OAAQ/e,EAAQuJ,IAAKvJ,EAAQlZ,OAAQkZ,EAAQsf,kBACxFT,GAAO,GAZH7e,EAAQsK,GACRlhB,KAAK4zB,IAAIqC,IAAIrf,EAAQsK,GAAItK,EAAQuK,GAAIvK,EAAQzI,OAAQ,EAAG,EAAIP,KAAKyM,GAAIzD,EAAQsf,mBAG7El2B,KAAK4zB,IAAIY,OAAO5d,EAAQtI,EAAGsI,EAAQrI,GACnCvO,KAAK4zB,IAAIqC,IAAIrf,EAAQtI,EAAGsI,EAAQrI,EAAGqI,EAAQzI,OAAQyI,EAAQlZ,MAAOkZ,EAAQuJ,IAAKvJ,EAAQsf,kBACvFl2B,KAAK4zB,IAAIa,OAAO7d,EAAQtI,EAAGsI,EAAQrI,IAQ3ClR,GAAQ,CACR,MACJ,KAAK,IACD2C,KAAK4zB,IAAIyB,aAIA,SAAjBze,EAAQkP,UAAoCvqB,KAAjBqb,EAAQkP,OACnC9lB,KAAK4zB,IAAIsB,UAAYte,EAAQkP,KAC7B9lB,KAAK4zB,IAAI9N,QAET0P,EAAc,GACdx1B,KAAK4zB,IAAI5N,SAEbhmB,KAAK4zB,IAAIc,UACT10B,KAAK4zB,IAAMkB,EACX90B,KAAK20B,QAAU30B,KAAK2zB,UAAUiB,aAQlCtB,EAAe73B,UAAU06B,SAAW,SAAUvf,EAASgK,GACnD,GAAIlL,GAAa1V,KAAKyzB,eAAe7c,EAAS,cACzChZ,GAAkB8X,IAA4C,YAA7BA,EAAW2I,gBAC7C3I,EAAa,SAEjB,IAAIF,GAAWxV,KAAKyzB,eAAe7c,EAAS,aACxChB,EAAa5V,KAAKyzB,eAAe7c,EAAS,eAE1CxB,EADYpV,KAAKyzB,eAAe7c,EAAS,cAAcyH,cACnC,IAAM3I,EAAa,IAAMF,EAAW,IAAMI,EAC9DoH,EAAShd,KAAKyzB,eAAe7c,EAAS,eACtC7H,MAA8BxT,KAApBqb,EAAQ7H,QAAwB6H,EAAQ7H,QAAU,CACjD,YAAXiO,IACAA,EAAS,UAEbhd,KAAK4zB,IAAIU,OACTt0B,KAAK4zB,IAAIsB,UAAYte,EAAQkP,KAC7B9lB,KAAK4zB,IAAIxe,KAAOA,EAChBpV,KAAK4zB,IAAIwC,UAAYpZ,EACrBhd,KAAK4zB,IAAIoB,YAAcjmB,EACnB6H,EAAQyf,WACRr2B,KAAK4zB,IAAI0C,aAAe1f,EAAQyf,SAGpCr2B,MAAK4zB,IAAI8B,UAAU9e,EAAQtI,IAAoBsI,EAAQrI,GACvDvO,KAAK4zB,IAAI2C,OAAO3f,EAAQ4f,cAAgB5oB,KAAKyM,GAAK,KAClDra,KAAK4zB,IAAI6C,SAAS7V,EAAO,EAAG,GAC5B5gB,KAAK4zB,IAAIc,UACT10B,KAAK20B,QAAU30B,KAAK2zB,UAAUiB,aAOlCtB,EAAe73B,UAAUi7B,WAAa,SAAU9f,GAC5C,GAAIke,GAAY90B,KAAK4zB,GACrB5zB,MAAK4zB,IAAIU,OACTt0B,KAAK4zB,IAAIW,YACTv0B,KAAK4zB,IAAIqC,IAAIrf,EAAQsK,GAAItK,EAAQuK,GAAIvK,EAAQgE,EAAG,EAAG,EAAIhN,KAAKyM,IAC5Dra,KAAK4zB,IAAIsB,UAAYte,EAAQkP,KAC7B9lB,KAAK4zB,IAAIoB,YAAcpe,EAAQ7H,QAC/B/O,KAAK4zB,IAAI9N,OACT9lB,KAAK+zB,cAAcnd,GACnB5W,KAAK4zB,IAAI5N,SACThmB,KAAK4zB,IAAIc,UACT10B,KAAK4zB,IAAMkB,EACX90B,KAAK20B,QAAU30B,KAAK2zB,UAAUiB,aAOlCtB,EAAe73B,UAAUk7B,aAAe,SAAU/f,GAC9C5W,KAAK4zB,IAAIU,OACTt0B,KAAK4zB,IAAIW,WAET,KAAK,GADDvV,GAASpI,EAAQoI,OAAO5hB,MAAM,KACzBC,EAAI,EAAGA,EAAI2hB,EAAOriB,OAAS,EAAGU,IAAK,CACxC,GAAI4d,GAAQ+D,EAAO3hB,GAAGD,MAAM,KACxBkR,EAAI4V,WAAWjJ,EAAM,IACrB1M,EAAI2V,WAAWjJ,EAAM,GACf,KAAN5d,EACA2C,KAAK4zB,IAAIY,OAAOlmB,EAAGC,GAGnBvO,KAAK4zB,IAAIa,OAAOnmB,EAAGC,GAG3BvO,KAAK4zB,IAAII,UAAYh0B,KAAKyzB,eAAe7c,EAAS,gBAClD5W,KAAK4zB,IAAIQ,YAAcxd,EAAQoP,OAC/BhmB,KAAK4zB,IAAI5N,SACThmB,KAAK4zB,IAAIc,UACT10B,KAAK20B,QAAU30B,KAAK2zB,UAAUiB,aAOlCtB,EAAe73B,UAAUm7B,YAAc,SAAUhgB,GAC7C,GAAIke,GAAY90B,KAAK4zB,IACjBiD,EAAgBjpB,KAAKC,IAAI+I,EAAQoK,GAAIpK,EAAQqK,IAC7C6V,EAASlgB,EAAQoK,GAAK6V,EACtBE,EAASngB,EAAQqK,GAAK4V,CAC1B72B,MAAK4zB,IAAIU,OACTt0B,KAAK4zB,IAAIW,YACTv0B,KAAK4zB,IAAI8B,UAAU9e,EAAQsK,GAAItK,EAAQuK,IACvCnhB,KAAK4zB,IAAIU,OACTt0B,KAAK4zB,IAAIoD,MAAMF,EAAQC,GACvB/2B,KAAK4zB,IAAIqC,IAAI,EAAG,EAAGY,EAAe,EAAG,EAAIjpB,KAAKyM,IAAI,GAClDra,KAAK4zB,IAAIsB,UAAYte,EAAQkP,KAC7B9lB,KAAK4zB,IAAI9N,OACT9lB,KAAK4zB,IAAIc,UACT10B,KAAK4zB,IAAII,UAAYh0B,KAAKyzB,eAAe7c,EAAS,gBAClD5W,KAAK4zB,IAAIQ,YAAcxd,EAAQoP,OAC/BhmB,KAAK4zB,IAAI5N,SACThmB,KAAK4zB,IAAIc,UACT10B,KAAK4zB,IAAMkB,EACX90B,KAAK20B,QAAU30B,KAAK2zB,UAAUiB,aAOlCtB,EAAe73B,UAAUw7B,UAAY,SAAUrgB,GAC3C5W,KAAK4zB,IAAIU,MACT,IAAI4C,GAAW,GAAIC,MACdv5B,GAAkBgZ,EAAQ2K,QAC3B2V,EAAS53B,IAAMsX,EAAQ2K,KACvBvhB,KAAK4zB,IAAIqD,UAAUC,EAAUtgB,EAAQtI,EAAGsI,EAAQrI,EAAGqI,EAAQoB,MAAOpB,EAAQmD,SAE9E/Z,KAAK4zB,IAAIc,UACT10B,KAAK20B,QAAU30B,KAAK2zB,UAAUiB,aAOlCtB,EAAe73B,UAAU27B,qBAAuB,SAAUC,GACtD,GAAIC,EAKJ,OAJK15B,GAAkBy5B,EAAO,GAAGE,aAC7BD,EAAat3B,KAAK4zB,IAAIwD,qBAAqB,EAAG,EAAG,EAAGp3B,KAAK2zB,UAAU5Z,SAE3D/Z,KAAKw3B,kBAAkBH,EAAQC,IAQ/ChE,EAAe73B,UAAUg8B,qBAAuB,SAAUJ,GACtD,GAAIC,EAKJ,OAJK15B,GAAkBy5B,EAAO,GAAGE,aAC7BD,EAAat3B,KAAK4zB,IAAI6D,qBAAqB,EAAG,EAAG,EAAG,EAAG,EAAGz3B,KAAK2zB,UAAU5Z,SAE7D/Z,KAAKw3B,kBAAkBH,EAAQC,IAInDhE,EAAe73B,UAAU+7B,kBAAoB,SAAUH,EAAQC,GAC3D,GAAII,EACJ,IAAK95B,EAAkBy5B,EAAO,GAAGE,WAU7BG,EAAYL,EAAO,GAAGzZ,MAAM/c,eAVa,CACzC,IAAK,GAAIxD,GAAI,EAAGA,GAAKg6B,EAAO16B,OAAS,EAAGU,IAAK,CACzC,GAAIugB,GAAQyZ,EAAOh6B,GAAGugB,MAClB+Z,EAAgBN,EAAOh6B,aAAc2E,MAAM,GAAI,GAC/C41B,EAAYvb,SAASsb,EAAc,IAAM,GAC7CL,GAAWO,aAAaD,EAAWha,GAEvC8Z,EAAYJ,EAAWz2B,WAM3B,MADAb,MAAK20B,QAAU30B,KAAK2zB,UAAUiB,YACvB8C,GAQXpE,EAAe73B,UAAUq8B,qBAAuB,SAAUlhB,EAASjV,GAG/D,IAAK,GAFDlE,GAAOiB,OAAOjB,KAAKmZ,GACnB0C,EAAS5a,OAAOjB,KAAKmZ,GAASqI,IAAI,SAAUzhB,GAAO,MAAOoZ,GAAQpZ,KAC7DH,EAAI,EAAGA,EAAII,EAAKd,OAAQU,IAC7BsE,EAAQuC,aAAazG,EAAKJ,GAAIic,EAAOjc,GAEzC,OAAOsE,IAOX2xB,EAAe73B,UAAUs8B,uBAAyB,SAAUnhB,GACxD5W,KAAK83B,qBAAqBlhB,EAAS5W,KAAK2zB,UACxC,IAAIC,GAAM5zB,KAAK4zB,GACf,KAAKh2B,EAAkBoC,KAAK20B,SAAU,CAClC,GAAIqD,GAAQ,GAAIb,MAChBa,GAAMC,OAAS,WACXrE,EAAIqD,UAAUe,EAAO,EAAG,IAE5BA,EAAM14B,IAAMU,KAAK20B,UAGlBrB,KChZP4E,cACA,QAASA,GAAaj3B,GAClBjB,KAAKm4B,iBACLn4B,KAAKiB,OAASA,EA8FlB,MArFAi3B,GAAaz8B,UAAU28B,OAAS,SAAUC,EAAiBC,GACvD,GAAIC,GAAYF,EAAgB17B,MAChC,IAAkB,IAAd47B,EAEA,WADAv4B,MAAKw4B,OAGLx4B,MAAKm4B,cAAcx7B,QACnBqD,KAAKy4B,kBAAkBJ,EAE3B,KAAK,GAAIh7B,GAAI,EAAGA,EAAIk7B,EAAWl7B,IAE3B,IAAK,GADDq7B,GAAOL,EAAgBh7B,GAClBmB,EAAK,EAAGm6B,EAAeL,EAAY95B,EAAKm6B,EAAah8B,OAAQ6B,IAAM,CACxE,GAAIo6B,GAASD,EAAan6B,GACtBq6B,EAAUH,EAAKI,MACnB,IAAIF,EAAOn9B,UAAUuyB,kBAAoB0K,EAAKI,SAAW94B,KAAK+4B,eAAeF,GAAU,CACnF,GAAIG,GAAe99B,EAAe09B,EAAQF,EAAKz4B,MAC3Cg5B,EAAaj5B,KAAKk5B,cAAcL,EAChCH,GAAKS,WACL57B,EAAS07B,EAAYL,EAAQ54B,KAAKiB,QAGlC1D,EAAS07B,EAAYD,EAAch5B,KAAKiB,OAE5C,IAAIm4B,GAAeV,CACnBU,GAAaN,OAASG,EACtBj5B,KAAKm4B,cAAc33B,KAAK44B,MASxClB,EAAaz8B,UAAU+8B,MAAQ,WAC3B,IAAK,GAAIh6B,GAAK,EAAGgF,EAAKxD,KAAKm4B,cAAe35B,EAAKgF,EAAG7G,OAAQ6B,IAAM,CAC5D,GAAI66B,GAAU71B,EAAGhF,EACZ66B,GAAQF,YACTp8B,EAASs8B,EAAQP,OAAQ94B,KAAKiB,QAAQyrB,UAG9C1sB,KAAKm4B,kBAOTD,EAAaz8B,UAAUg9B,kBAAoB,SAAUH,GAMjD,IAAK,GALDv4B,GAAQC,KACRs5B,EAAchB,EAAWrZ,IAAI,SAAUsa,GAAO,MAAOx5B,GAAMm5B,cAAcK,EAAIT,UAIxEt6B,EAAK,EAAGg7B,EAHKx5B,KAAKm4B,cAAcjK,OAAO,SAAU0K,GACtD,OAA+C,IAAxCU,EAAYp2B,QAAQ01B,EAAOE,UAEgBt6B,EAAKg7B,EAAkB78B,OAAQ6B,IAAM,CACvF,GAAIi7B,GAAMD,EAAkBh7B,EACvBi7B,GAAIN,YACLp8B,EAAS08B,EAAIX,OAAQ94B,KAAKiB,QAAQyrB,UAEtC1sB,KAAKm4B,cAAc1M,OAAOzrB,KAAKm4B,cAAcj1B,QAAQu2B,GAAM,GAC3D57B,EAAamC,KAAKiB,OAAQw4B,EAAIX,UAQtCZ,EAAaz8B,UAAUy9B,cAAgB,SAAUpa,GAC7C,MAAOA,GAAK,GAAGT,cAAgBS,EAAKqH,UAAU,GAlFlC,UAyFhB+R,EAAaz8B,UAAUs9B,eAAiB,SAAUF,GAC9C,IAAK,GAAIr6B,GAAK,EAAGgF,EAAKxD,KAAKm4B,cAAe35B,EAAKgF,EAAG7G,OAAQ6B,IAEtD,GADUgF,EAAGhF,GACLs6B,SAAW94B,KAAKk5B,cAAcL,GAClC,OAAO,CAGf,QAAO,GAEJX,KChGPwB,cACA,QAASA,GAAcz4B,EAAQiS,EAAUtL,EAAc+xB,GACnD35B,KAAK8D,cACL9D,KAAK8sB,qBACL9sB,KAAKktB,0BACLltB,KAAK+sB,iBAEL/sB,KAAKitB,YAAc,aACnBjtB,KAAKwtB,kBAAoBzwB,EAAS,oBAAqB6vB,IACvD5sB,KAAK45B,UAAY34B,EACjBjB,KAAK65B,cAAgB75B,KAAK45B,UAAUC,eAAiB75B,KAAK45B,UAC1D55B,KAAKkT,SAAWA,EAChBlT,KAAKmI,cAAcP,GAAc,GACjC5H,KAAK85B,cAAgBH,EA2FzB,MAnFAD,GAAcj+B,UAAUs+B,aAAe,SAAUC,EAAK9mB,IACtC,IAAR8mB,EACAh6B,KAAK45B,UAAU1M,uBAAuBha,GAAY8mB,QAG3Ch6B,MAAK45B,UAAU1M,uBAAuBha,GAE7ClT,KAAK45B,UAAUG,cACf/5B,KAAK45B,UAAUG,aAAaC,EAAKh6B,KAAK45B,UAAU1mB,WAMxDwmB,EAAcj+B,UAAUw+B,cAAgB,WAChCj6B,KAAK45B,UAAUK,eACfj6B,KAAK45B,UAAU3M,cACfjtB,KAAK45B,UAAUK,iBAGfj6B,KAAK45B,UAAU3M,YAAcrxB,EAAaoE,KAAK45B,UAAUrM,SAAS7xB,KAAKsE,KAAK45B,aAMpFF,EAAcj+B,UAAUiyB,aAAe,WACnC1tB,KAAKitB,cACLjtB,KAAK+5B,cAAa,EAAO/5B,KAAKkT,UAC9BlT,KAAK+sB,iBACL/sB,KAAK8sB,sBAQT4M,EAAcj+B,UAAU0M,cAAgB,SAAUuD,EAAM2hB,IAC/B,IAAjBA,GACAjvB,EAAM4B,KAAM0L,GACZ1L,KAAK+5B,cAAa,EAAO/5B,KAAKkT,UAC9BlT,KAAK0tB,gBAGLtvB,EAAM4B,KAAM0L,IAMpBguB,EAAcj+B,UAAU8xB,SAAW,WAE/B,GADAvtB,KAAKwtB,kBAAkBxtB,KAAKktB,uBAAwBltB,MAChDA,KAAK85B,cAAe,CACpB,GAAII,GAAWl6B,KAAK45B,UAAU55B,KAAKkT,UAAUhQ,QAAQlD,KACjDtB,QAAOjB,KAAKuC,KAAK8sB,mBAAmBnwB,SACpCY,EAASyC,KAAKkT,SAAW,IAAMgnB,EAAUl6B,KAAK8sB,kBAAmB9sB,KAAK45B,UAAU9M,mBAChFvvB,EAASyC,KAAKkT,SAAW,IAAMgnB,EAAUl6B,KAAK+sB,cAAe/sB,KAAK45B,UAAU7M,oBAIhF/sB,MAAK45B,UAAU9M,kBAAkB9sB,KAAKkT,UAAYlT,KAAK8sB,kBACvD9sB,KAAK45B,UAAU7M,cAAc/sB,KAAKkT,UAAYlT,KAAK+sB,aAEvD/sB,MAAK0tB,gBASTgM,EAAcj+B,UAAU+M,YAAc,SAAUhL,EAAK8K,EAAU6B,GACvDnK,KAAK65B,cAAchN,sBAGvB7sB,KAAK+sB,cAAcvvB,GAAO2M,EAC1BnK,KAAK8sB,kBAAkBtvB,GAAO8K,EAC9BtI,KAAK+5B,cAAa,EAAM/5B,KAAKkT,UAC7BlT,KAAKitB,cACLjtB,KAAKi6B,kBAEFP,KC3GPS,IACAC,MACIC,QAAW,aACXC,MAAS,YAKbC,IACAC,QAAW,IACXC,MAAS,IACTC,YAAe,IACfC,SAAY,IACZC,UAAa,IACbC,SAAY,IACZC,IAAO,MACPC,YAAe,KAEfC,IAAoB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAK/CC,cACA,QAASA,MAmJT,MA3IAA,GAAWC,cAAgB,SAAUj+B,EAAKk+B,GACtC,MAAOp+B,GAAS,QAAUo+B,EAAOl+B,IAOrCg+B,EAAWG,mBAAqB,SAAUn+B,GACtC,MAAOF,GAAS,gCAAiCE,IAAQ+C,KAAKq7B,kBAQlEJ,EAAWK,cAAgB,SAAU5vB,EAAMjO,GAGvC,IAAK,GADD89B,MACK/8B,EAAK,EAAGg9B,EAFF/9B,GAAQiB,OAAOjB,KAAKiO,GAEKlN,EAAKg9B,EAAW7+B,OAAQ6B,IAAM,CAClE,GAAIhB,GAAMg+B,EAAWh9B,EAEhB+8B,GAAIzzB,eAAe4D,EAAKlO,MACzB+9B,EAAI7vB,EAAKlO,IAAQA,GAGzB,MAAO+9B,IAOXN,EAAWQ,eAAiB,SAAU9wB,GAClC,GAAI+wB,GAAW/wB,EAAMsU,IAAI,SAAU5N,GAC/B,MAAOA,GAAIE,QAAQ,8BAA+B,UACnD7Q,KAAK,IACR,OAAO,IAAIi7B,QAAOD,EAAU,MAEhCT,EAAWW,eAAiB,SAAUlwB,GAGlC,IAAK,GADD9H,MACKpF,EAAK,EAAGq9B,EAFDn9B,OAAOjB,KAAK88B,IAEc/7B,EAAKq9B,EAAYl/B,OAAQ6B,IAAM,CACrE,GAAIhB,GAAMq+B,EAAYr9B,EACtBoF,GAAI8H,EAAKlO,IAAQ+8B,GAAqB/8B,GAE1C,MAAOoG,IAOXq3B,EAAWa,eAAiB,SAAU9B,GAGlC,IAAK,GAFDz3B,GAAMy3B,EAAIr9B,OACViH,EAAM,GACDvG,EAAI,EAAGA,EAAIkF,EAAKlF,IAEjBuG,GADAvG,IAAMkF,EAAM,EACLy3B,EAAI38B,GAAK,IAGT28B,EAAI38B,EAGnB,OAAOuG,IASXq3B,EAAWc,kBAAoB,SAAU7+B,EAAO8+B,EAAO/+B,GACnD,MAAOC,GAAMqU,QAAQyqB,EAAO,SAAU3qB,GAClC,MAAOpU,GAAIoU,MAQnB4pB,EAAWgB,0BAA4B,SAAUh/B,GAC7C,GAAI2G,KAGJ,OAFAA,GAAI3G,IAAMF,EAAS,UAAWE,GAC9B2G,EAAIs4B,QAAUn/B,EAAS,yBAA0B6G,EAAI3G,KAC9C2G,GAKXq3B,EAAWkB,yBAA2B,SAAUC,EAAQC,EAAcC,GAClE,GAAI14B,MACA6oB,EAAMzsB,KAAKi8B,0BAA0BG,EACzC,KAAK9+B,EAAYmvB,EAAIyP,SAAU,CAC3B,GAAIK,GAASx/B,EAAS0vB,EAAIyP,QAAU,WAAYG,EAC3C/+B,GAAYi/B,KACb34B,EAAI44B,YAAcx8B,KAAKs7B,cAAciB,EAAQvB,IAC7Cp3B,EAAI64B,iBAAmB,GAAId,QAAO37B,KAAK87B,eAAeS,GAAS,KAC/D34B,EAAI84B,aAAe,IAAMH,EAAO,GAAK,IAAMA,EAAO,GAAK,IACnDD,IACA14B,EAAI84B,aAAeH,EAAO,GAAK,IAAMA,EAAO,GAC5C34B,EAAI+4B,mBAAqB5/B,EAAS,wBAA0B0vB,EAAIyP,QAASzP,EAAIxvB,KAC7E2G,EAAIg5B,YAAc58B,KAAK47B,eAAeh4B,EAAI+4B,oBAC1C/4B,EAAIy4B,aAAe5P,EAAIyP,UAInC,MAAOt4B,IASXq3B,EAAW4B,gBAAkB,SAAUT,EAAQC,EAAcS,GACzD,GAAIl5B,IAAQ0M,WACRmc,EAAMzsB,KAAKi8B,0BAA0BG,EACzC,KAAK9+B,EAAYmvB,EAAIyP,SAAU,CAC3Bt4B,EAAIy4B,aAAe5P,EAAIyP,QACvBt4B,EAAIm5B,cAAgBhgC,EAAS,wBAA0B0vB,EAAIyP,QAASzP,EAAIxvB,KACxE2G,EAAIo5B,cAAgBjgC,EAAS,gBAAiB6G,EAAIm5B,cAClD,IAAIR,GAASx/B,EAAS0vB,EAAIyP,QAAU,WAAYG,EAChD,KAAK/+B,EAAYi/B,GACb,IAAK,GAAI/9B,GAAK,EAAGy+B,EAAqBjC,GAAkBx8B,EAAKy+B,EAAmBtgC,OAAQ6B,IAAM,CAC1F,GAAInB,GAAI4/B,EAAmBz+B,EAC3BoF,GAAI0M,OAAOjT,GAAKk/B,EAAOl/B,IAInC,MAAOuG,IAEXq3B,EAAWiC,MAAQ,cACnBjC,EAAWkC,OAAS,eACpBlC,EAAWI,iBAAmBlB,GACvBc,KC1KPmC,IACAC,GAAM,2BACNC,GAAM,2BACNC,GAAM,wBACNC,GAAM,yBAMNltB,IAAU,WAAY,MAAO,QAAS,WAOtCmtB,cACA,QAASA,MAsRT,MA7QAA,GAAaC,gBAAkB,SAAU3O,EAAS4O,EAAQC,GACtD,GAIIC,GAJA99B,EAAQC,KACR89B,EAAWn/B,KAAWg/B,GACtBI,KACAC,KAEAC,EAAavmB,GAAKrH,eAAeutB,EAAM7O,GAAS,EACpDiP,GAASE,aAAet9B,GAAOi8B,gBAAgBoB,EAAWE,aAAcv9B,GAAOw6B,mBAAmBwC,IAAO,GACzGI,EAASI,eAAiB1mB,GAAK2mB,kBAAkBJ,EAAWK,cAAeR,EAASS,UAAY5uB,IAEhGquB,EAASQ,cAAgBR,EAASE,aAAanB,cAAyB,YACxEiB,EAASS,YAAcT,EAASE,aAAanB,cAAuB,SACpE,IAAI2B,GAAUV,EAASE,aAAanB,aACpC,IAAKY,WAAoBjmB,GAAKinB,YAAYhzB,KAAKgyB,EAAO1Z,QAClD8Z,EAAWrmB,GAAKknB,aAAajB,EAAO1Z,OAAQ+Z,EAAUC,EAAWK,mBAEhE,CACD3/B,EAAOm/B,EAAUpmB,GAAKmnB,yBAAyBlB,EAAO1Z,QAAU,MAChE6Z,EAASgB,WAA+B,aAAlBhB,EAASj2B,KAC/Bi2B,EAASiB,UAA8B,YAAlBjB,EAASj2B,KAC9Bg2B,EAAgBnmB,GAAK/G,iBAAiBmtB,EAASj2B,KAAMm2B,EAASE,aAAa7B,aAAc4B,EAAWK,cAAeR,EAASkB,WAC5HlB,EAASmB,SAAWj/B,KAAKk/B,gBAAgBpB,EAASqB,yBAA0BrB,EAASsB,0BAA0B,GAC/Gp/B,KAAKk/B,gBAAgBpB,EAASuB,sBAAuBvB,EAASwB,uBAAuB,GAAO,GACvFhiC,EAAYwgC,EAASyB,kBACtBzB,EAASwB,sBAAwBxB,EAASuB,sBAAwBvB,EAASyB,gBAE3EjiC,EAAYwgC,EAAS0B,eACrB1B,EAAS0B,aAAc,GAEvB1B,EAASgB,aACTjB,EAAgBA,EAActsB,QAAQ,UAAWmG,GAAK+nB,iBAE1D,IAAIriC,GAAQygC,EAAczgC,MAAM,IAWhC,IAVA2gC,EAAS2B,MAAQhoB,GAAK9G,cAAcxT,EAAM,IAAM,IAAMA,EAAM,IAAI,EAAM4gC,EAASI,gBAC/EL,EAAS4B,MAAQjoB,GAAK9G,cAAcxT,EAAM,IAAI,EAAO4gC,EAASI,gBAC1DN,EAAS0B,cACT1B,EAAS8B,eAAiBlB,EAAQpuB,GAAO,IACzCwtB,EAAS+B,UAAY7/B,KAAK8/B,mBAAmB1iC,EAAM,KAEzCE,EAAYwgC,EAASwB,yBAE/BxB,EAASwB,sBAAwBvB,EAAS2B,MAAMK,iBAEhDziC,EAAYwgC,EAASuB,uBAAwB,CAC7C,GAAIW,GAAOjC,EAAS2B,MAAMO,eAC1BnC,GAASuB,sBAAwB/hC,EAAY0iC,IAASlC,EAASiB,UAAY,EAAIiB,EAEnF,GAAIE,GAAQpC,EAASwB,sBACjBa,EAAQrC,EAASuB,qBAChB/hC,GAAY4iC,IAAW5iC,EAAY6iC,IAChCD,EAAQC,IACRrC,EAASuB,sBAAwBa,GAM7C,MAFAvhC,GAAOo/B,EAAS2B,MAAO5B,GACvBn/B,EAAOo/B,EAAS4B,MAAO7B,GAChB,SAAU5gC,GACb,MAAIkjC,OAAMljC,GACCwhC,EAAQpuB,GAAO,IAEhB+vB,SAASnjC,GAGZ6C,EAAMugC,mBAAmBpjC,EAAO6gC,EAAUC,GAFtCU,EAAQpuB,GAAO,MAUlCmtB,EAAaqC,mBAAqB,SAAUpvB,GACxC,GAAI9M,MACA+N,EAAQjB,EAAQiB,MAAM+F,GAAK6oB,kBAC/B,IAAI5uB,GAASA,EAAM,GAAI,CACnB,GAAI6uB,GAAY7uB,EAAM,GAClBgf,EAAI6P,EAAUC,YAAY,IAC9B,KAAW,IAAP9P,EAAU,CACV,GAAI1kB,GAAOu0B,EAAUpjC,MAAM,KAAK,EAChCwG,GAAI88B,QAAWz0B,EAAKtP,OAASg0B,EAAK,CAClC,IAAIgQ,GAAIH,EAAUC,YAAY,IAAK9P,EAAI,IAC5B,IAAPgQ,IACA/8B,EAAIg9B,UAAYjQ,EAAI,EAAIgQ,IAIpC,MAAO/8B,IAUX65B,EAAayB,gBAAkB,SAAU2B,EAAMC,EAAMC,EAAgBC,GACjE,GAAIC,GAASD,EAAa,IAAM,IAC5BE,EAAO,EACPC,EAAO/D,GAAU,IAAM6D,GACvBG,EAAOhE,GAAU,IAAM6D,EAS3B,IARK3jC,EAAYujC,KACb7gC,KAAKqhC,WAAWR,EAAMM,EAAMH,GAC5BE,KAEC5jC,EAAYwjC,KACb9gC,KAAKqhC,WAAWP,EAAMM,EAAMJ,GAC5BE,KAES,IAATA,EAAY,CACZ,KAAIL,EAAOC,GAIP,OAAO,CAHPz/B,GAAW+/B,EAAO,kCAAoCD,OAMrDJ,IAA2B,IAATG,GACvB7/B,EAAW,OAAS+/B,EAAO,MAAQA,EAAO,kBAE9C,QAAO,GASX3D,EAAa4D,WAAa,SAAUrH,EAAK7kB,EAAM6rB,GAC3C,GAAI9oB,GAAQ8oB,GAAc,EAAG,KAAO,EAAG,KACnChH,EAAM9hB,EAAM,IAAM8hB,EAAM9hB,EAAM,KAC9B7W,EAAW8T,EAAO,iCAAmC+C,EAAM,GAAK,KAAOA,EAAM,KAUrFulB,EAAa6C,mBAAqB,SAAUpjC,EAAO4gC,EAAUE,GACzD,GAAIsD,EACApkC,GAAQ,GACRA,IAAiB,EACjBokC,EAAUxD,EAAS4B,OAGnB4B,EADe,IAAVpkC,EACK4gC,EAASyD,UAAYzD,EAAS6B,MAG9B7B,EAAS6B,KAEvB,IAAI6B,GAAS,EAkBb,OAjBIF,GAAQvC,YACR7hC,GAAgB,KAEhBokC,EAAQrC,SACRuC,EAASxhC,KAAKyhC,yBAAyBvkC,EAAOokC,EAAQlC,yBAA0BkC,EAAQnC,2BAGxFqC,EAASxhC,KAAK0hC,gBAAgBxkC,EAAOokC,EAAQhC,sBAAuBgC,EAAQjC,uBACxEiC,EAAQK,uBACRH,EAASxhC,KAAK4hC,uBAAuBJ,EAAQF,EAAQK,wBAG7DH,EAASA,EAAOjwB,QAAQ,IAAKysB,EAASE,aAAanB,cAAczsB,GAAO,KACpEgxB,EAAQ9B,cACRgC,EAASxhC,KAAK6hC,aAAaL,EAAQF,EAAQzB,UAAUa,QAASY,EAAQ1B,gBAAkB,IAAK5B,EAASE,aAAanB,cAAczsB,GAAO,KAAO,IAAKgxB,EAAQzB,UAAUe,YAE1KY,EAAS5gC,GAAOm7B,kBAAkByF,EAAQ9pB,GAAKoqB,eAAgB9D,EAASE,aAAa5tB,QAC9EgxB,EAAQS,MAAQP,EAASF,EAAQU,MAS5CvE,EAAagE,yBAA2B,SAAUvkC,EAAOib,EAAKtK,GAC1D,GAAI5B,GAAO/O,EAAQ,EAGnB,OADa+O,GAAKtP,OACLwb,EACFjb,EAAM+kC,YAAY9pB,IAGzBlM,EAAO/O,EAAM+kC,YAAYp0B,IACnB5B,EACM,KAYpBwxB,EAAaoE,aAAe,SAAU7H,EAAKkI,EAAQC,EAAKC,EAAeC,GAMnE,IALA,GAAI5M,IAAQ73B,EAAkBykC,IAAsB,IAAXA,EACrCjlC,EAAQ48B,EAAI58B,MAAMglC,GAClB93B,EAASlN,EAAM,GACfT,EAAS2N,EAAO3N,OAChB0U,EAAM,GACH1U,EAASulC,GACZ7wB,EAAM/G,EAAOtI,MAAMrF,EAASulC,EAAQvlC,IAAW0U,EAAI1U,OAC9CwlC,EAAM9wB,EAAO,IAClB1U,GAAUulC,EACNzM,IACAyM,EAASG,EACT5M,GAAO,EAIf,OADAr4B,GAAM,GAAKkN,EAAOtI,MAAM,EAAGrF,IAAW0U,EAAI1U,OAASwlC,EAAM,IAAM9wB,EACxDjU,EAAMsD,KAAK0hC,IAStB3E,EAAaiE,gBAAkB,SAAUxkC,EAAOib,EAAKtK,GACjD,GAAI5B,IAAQ/O,EAAQ,IAAIE,MAAM,KAAK,GAC/BT,EAASsP,EAAOA,EAAKtP,OAAS,CAClC,IAAIwb,GAAOxb,EAASwb,EAAK,CACrB,GAAIvU,GAAM,EACV,IAAe,IAAXjH,EAGC,CACDiH,GAAO1G,CACP,KAAK,GAAIsuB,GAAI,EAAGA,EAAIrT,EAAMxb,EAAQ6uB,IAC9B5nB,GAAO,GAEX,OAAOA,GAEX,MATIA,GAAM1G,EAAMolC,QAAQnqB,GASjBjb,EAAMolC,QAAQnqB,GAEpB,OAAKva,EAAkBiQ,KAASlR,EAASkR,GAAe,IAARA,GAC1C3Q,EAAMolC,QAAQz0B,GAElB3Q,EAAQ,IAQnBugC,EAAamE,uBAAyB,SAAU1kC,EAAOib,GACnD,GAAIlM,GAAO/O,EAAME,MAAM,KACnBmlC,EAAOt2B,EAAK,GACZ1J,EAAMggC,EAAK5lC,MACf,IAAI4F,EAAM4V,EAAK,CACX,IAAK,GAAI9a,GAAI,EAAGA,EAAI8a,EAAM5V,EAAKlF,IAC3BklC,EAAO,IAAMA,CAEjBt2B,GAAK,GAAKs2B,EAEd,MAAOt2B,GAAKvL,KAAK,MAEd+8B,MLpSX,SAAWrtB,GAkSP,QAASoyB,GAAoBC,EAAUlyB,EAAY1I,GAC/C,GAAI66B,GACAC,EAAQ96B,GAAQ,MACpB,KAAkD,IAA9CuI,EAASwyB,cAAc1/B,QAAQu/B,IAE/B,GADAC,EAAa3lC,EAAS4lC,EAAQ,WAAaF,EAAUlyB,GACvC,aAAVoyB,EAAsB,CACtB,GAAIE,GAAW9lC,EAAS,eAAiB0lC,EAAUlyB,GAC/CuyB,EAAW/lC,EAAS,eAAiB0lC,EAAUlyB,EACnDmyB,GAAaA,EAAWnxB,QAAQ,MAAOsxB,GAAUtxB,QAAQ,MAAOuxB,QAIpEJ,GAAa3lC,EAAS,oCAAsC0lC,EAAUlyB,EAE1E,OAAOmyB,GAWX,QAASryB,GAAeutB,EAAM7O,EAAS+N,GACnC,GAAIl5B,KAQJ,OAPAA,GAAIu6B,aAAev9B,GAAOs6B,cAAc0C,EAAM7O,IAAY3e,EAAS2yB,cAC/DjG,EACAl5B,EAAI06B,cAAgBvhC,EAAS,UAAW6G,EAAIu6B,cAG5Cv6B,EAAI2M,WAAaxT,EAAS,4BAA6B6G,EAAIu6B,cAExDv6B,EAYX,QAAS+M,GAAiB9I,EAAM2I,EAAWvT,EAAK+hC,GAC5C,MAAOjiC,GAAS8K,EAAO,wBACnB2I,GAAawuB,EAAY,cAAgB,aAAc/hC,KAAS+hC,EAAYjiC,EAAS8K,EAAO,wBAC5F2I,EAAY,YAAavT,GAAO,IASxC,QAAS4hC,GAAyB4D,GAC9B,GAAIh8B,GAAUg8B,EAAS9wB,MAAMvB,EAASuuB,aAClC/6B,KACA8M,EAAUjK,EAAQ,GAAG0iB,aAOzB,OANAvlB,GAAIo7B,UAAyB,MAAZtuB,EAEjB9M,EAAIiE,KAAOuI,EAAS4yB,eAAetyB,GAC/B+xB,EAAS9lC,OAAS,IAClBiH,EAAI27B,eAAiBljB,SAAS5V,EAAQ,GAAI,KAEvC7C,EAYX,QAASgN,GAAcF,EAASuyB,EAAcC,EAASC,GACnD,GAAIzD,GAAQyD,MAAsBpB,MAAO,GAAIC,KAAM,IAC/CrwB,EAAQjB,EAAQiB,MAAMvB,EAASgzB,YACnC,IAAIzxB,EAAO,CACFwxB,IACDzD,EAAMqC,MAAQsB,EAAqB1xB,EAAM,GAAIuxB,GAC7CxD,EAAMsC,KAAOqB,EAAqB1xB,EAAM,IAAKuxB,GAC7CxD,EAAM4D,aAAe3xB,EAAM,GAE/B,IAAI4xB,GAAW5xB,EAAM,EACrB,IAAI4xB,GAAYN,EAAc,CAC1B,GAAIO,GAASD,EAAS5xB,MAAM8xB,EACvB7lC,GAAkB4lC,GAInB9D,EAAMK,gBAAkB,EAHxBL,EAAMK,gBAAkByD,EAAO7mC,OAKnC+iC,EAAMO,gBAAkBsD,EAAS5mC,OAAS,GAGlD,MAAO+iC,GAUX,QAAS2D,GAAqBrJ,EAAK0J,GAC/B,MAAI1J,GACOA,EAAIzoB,QAAQnB,EAASqvB,gBAAiBiE,GAE1C,GASX,QAASrF,GAAkBC,EAAe5uB,GACtC,MAAO3S,GAAS,cAAgB2S,EAAe,UAAW4uB,IAAkB,IAWhF,QAASM,GAAa3a,EAAQ+Z,EAAU/gC,GAIpC,IAAK,GAHD2Z,MACA+sB,EAAc1f,EAAO7mB,MAAM,KAC3BV,GAAQ,QAAS,QAAS,YACrBW,EAAI,EAAGA,EAAIsmC,EAAYhnC,OAAQU,IACpCuZ,EAAQla,EAAKW,IAAMumC,EAAmBD,EAAYtmC,GAAI2gC,EAAU/gC,EAMpE,OAJIW,GAAkBgZ,EAAQ8oB,SAC1B9oB,EAAQ8oB,MAAQ/gC,KAAWiY,EAAQ+oB,OACnC/oB,EAAQ8oB,MAAMqC,MAAQnkC,EAAkBogC,GAAY,IAAMpnB,EAAQ8oB,MAAMqC,MAAQ/D,EAASS,YAAc7nB,EAAQ8oB,MAAMqC,OAElHnrB,EAWX,QAASgtB,GAAmB3f,EAAQ+Z,EAAU7tB,GAC1C,GAAI4tB,IAAal2B,KAAM,UAAWy3B,sBAAuB,EAAGD,sBAAuB,GAC/E3uB,EAAUuT,EAAOtS,MAAMvB,EAASgzB,cAChCxlC,EAAkB8S,IAA2B,KAAfA,EAAQ,KACtCrP,EAAW,qDAEf08B,EAASgE,MAAQrxB,EAAQ,GACzBqtB,EAASiE,KAAOtxB,EAAQ,GACxB,IAAImzB,GAAcnzB,EAAQ,EAC1BqtB,GAASyB,aAA4C,IAA9BqE,EAAY3gC,QAAQ,KAC3C2gC,EAAcA,EAAYtyB,QAAQ,KAAM,GACxC,IAAIuyB,GAAepzB,EAAQ,EAuB3B,KAtBkC,IAA9BmzB,EAAY3gC,QAAQ,OACpB66B,EAAS4D,qBAAuBkC,EAAYlnC,OAASknC,EAAY3gC,QAAQ,MAExEtF,EAAkBkmC,KACnB/F,EAASuB,sBAAwBwE,EAAarD,YAAY,KAC1D1C,EAASsB,sBAAwByE,EAAarD,YAAY,MAClB,IAApC1C,EAASuB,wBACTvB,EAASuB,sBAAwB,KAEG,IAApCvB,EAASsB,uBAAgCtB,EAASsB,sBAAwBtB,EAASuB,yBACnFvB,EAASsB,sBAAwBtB,EAASuB,wBAG7C1hC,EAAkBogC,GAOnBr/B,EAAOo/B,EAAUgG,GAAmBhG,EAASgE,MAAOhE,EAASiE,MAAO,IAAK,OANzErjC,EAAOo/B,EAAUgG,GAAmBhG,EAASgE,MAAOhE,EAASiE,MAAO,IAAKhE,EAASI,iBAC7EL,EAASe,YACVngC,EAAOo/B,EAAUgG,GAAmBhG,EAASgE,MAAOhE,EAASiE,MAAO,IAAKhE,EAASQ,kBAMrF5gC,EAAkBuS,GAAY,CAC/B,GAAI0tB,GAAgBltB,EAAiBotB,EAASl2B,KAAMm2B,EAASE,aAAa7B,aAAclsB,GAAW,EAC/F4tB,GAASyB,cACTzB,EAAS6B,eAAiB5B,EAASE,aAAanB,cAAczsB,EAAO,IACrEytB,EAAS8B,UAAYpC,GAAaqC,mBAAmBjC,EAAczgC,MAAM,KAAK,KAElF2gC,EAASgE,MAAQhE,EAASgE,MAAMxwB,QAAQ,MAAO,IAC/CwsB,EAASiE,KAAOjE,EAASiE,KAAKzwB,QAAQ,MAAO,IAEjD,MAAOwsB,GAUX,QAASgG,GAAkBC,EAAOC,EAAQC,GAEtC,IAAK,GADDttB,IAAYmrB,MAAOiC,EAAM,GAAIhC,KAAMgC,EAAM,IACpC3mC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,GAAI8mC,GAAOH,EAAM3mC,GACb+mC,EAAMD,EAAKjhC,QAAQ+gC,EACvB,KAAc,IAATG,IAAiBA,EAAMD,EAAKjhC,QAAQ,MAAWkhC,EAAMD,EAAK1D,YAAY,MAAS,CAChF7pB,EAAQytB,EAAWhnC,IAAM8mC,EAAK/lB,OAAO,EAAGgmB,GAAOF,EAASC,EAAK/lB,OAAOgmB,EAAM,GAC1ExtB,EAAQytB,EAAWJ,KAAW,EAC9BrtB,EAAQ/O,KAAO+O,EAAQkoB,WAAa,WAAa,SACjD,QAGR,MAAOloB,GASX,QAAS9F,GAAiBwzB,GACtB,GAAIpnC,IAASH,EAAS,oBAAqBunC,IAAY,IAAI3yB,MAAM,wBACjE,OAAOzU,GAAQA,EAAM,GAAK,IAW9B,QAASqnC,GAAwBxV,EAASnY,EAASgnB,EAAM4G,GACrD,GAAIvG,GAAa5tB,EAAeutB,EAAM7O,GAClC0V,EAAgB7tB,EAAQqN,QAAUue,EAAoB5rB,EAAQ6rB,SAAUxE,EAAW1tB,WAAYqG,EAAQ/O,KAC3G,IAAI28B,EAAe,CAIf,IAAoC,KAHpCC,EAAgBA,EAAclzB,QAAQmzB,EAAc,SAAUh0B,GAC1D,MAAOi0B,GAAaj0B,MAENxN,QAAQ,KAAa,CACnC,GAAI0hC,GAAUH,EAAc9yB,MAAM,MAAMhV,OACpCkoC,MAAkB,GAClBC,GAAcC,YAClBD,GAAUE,UAAYpkC,GAAOi8B,gBAAgBoB,EAAWE,aAAcv9B,GAAOw6B,mBAAmBwC,IAChGkH,EAAUC,SAAWhoC,EAAS,sBAAuBkhC,EAAWE,aAChE,IACI8G,IADQ,GAAIC,OACKC,oBACjBz0B,EAAWk0B,EAAU,EAAK,QAAUE,EAAUC,SAASK,UAC3D10B,GAAUA,EAAQa,QAAQ,KAAMuzB,EAAUE,UAAUhI,eACnC,IAAbiI,EACAJ,EAAkBC,EAAUC,SAASM,eAGrCR,EAAkBS,GAAWC,iBAAiBN,EAAUv0B,GACxDm0B,EAAkBC,EAAUC,SAASS,UAAUj0B,QAAQ,QAASszB,IAEpEJ,EAAgBA,EAAclzB,QAAQ,OAAQ,IAAMszB,EAAkB,KAE1EJ,EAAgBA,EAAclzB,QAAQ,KAAM,IAEhD,MAAOkzB,GAWX,QAASgB,GAAsB1W,EAASnY,EAASgnB,GAC7C,GAEI8H,GAFAzH,EAAa5tB,EAAeutB,EAAM7O,GAAS,GAC3C4W,GAAiBC,QAAQ,EAE7B,IAAI,WAAaj6B,KAAKiL,EAAQqN,UAAYrN,EAAQ0oB,wBAA0B1oB,EAAQyoB,sBAAuB,CACvG,GAAIrB,KACJA,GAASE,aAAet9B,GAAOi8B,gBAAgBoB,EAAWE,aAAcv9B,GAAOw6B,mBAAmBwC,IAAO,GAEzG8H,EAAU90B,EADUD,EAAiB,WAAYqtB,EAASE,aAAa7B,aAAc4B,EAAWK,cAAe,KAAO3yB,KAAKiL,EAAQqN,SAC7F7mB,MAAM,KAAK,IAAI,EAAM,IAAI,GAAM2iC,gBAEzE,GAAI0E,EACJ,IAAKr0B,EAASuuB,YAAYhzB,KAAKiL,EAAQqN,UAAcrN,EAAe,OAAE,CAIlE,GAHAjY,EAAOgnC,EAAc9G,EAAyBjoB,EAAQqN,QAAU,MAChE0hB,EAAaC,QAAS,EACtBnB,EAAgB,OACZkB,EAAapG,gBAAkB3oB,EAAQ0oB,uBAAyB1oB,EAAQyoB,uBAAyBqG,EAAS,CAEtGC,EAAapG,iBACb3oB,EAAQ0oB,sBAAwB1oB,EAAQyoB,sBAAwBsG,EAAapG,gBAEjFkF,EAAgBoB,EAAsBpB,EAAeiB,GAAWC,EAAapG,gBACzE3oB,EAAQ0oB,uBALS,EAKgC1oB,EAAQyoB,uBALxC,GAOrBzoB,EAAQ+qB,uBACR8C,EAAgBqB,EAAsBrB,EAAe7tB,EAAQ+qB,uBAE7D/qB,EAAQ4oB,cACRiF,EAAgBsB,EAAgBtB,IAEV,aAAtBkB,EAAa99B,MAAwB89B,EAAa3G,UAGvB,aAAtB2G,EAAa99B,MAAuB89B,EAAa3G,YACtDyF,EAAgB,KAAOA,EAAgB,OAASA,EAAgB,KAHhEA,EAAgB,KAAOA,EAKD,YAAtBkB,EAAa99B,OACb48B,GAAiB,UAIrBA,GAAgB7tB,EAAQqN,OAAO1S,QAAQ,MAAO,IAElD,OAAOkzB,GAGX,QAASoB,GAAsBn1B,EAASs1B,EAAWC,GAC/Cv1B,GAAW,GACX,KAAK,GAAI4F,GAAI,EAAGA,EAAI0vB,EAAW1vB,IAC3B5F,GAAW,GAEf,IAAIs1B,EAAYC,EAEZ,IAAK,GADDC,GAAOD,EAAYD,EACdzvB,EAAI,EAAGA,EAAI2vB,EAAM3vB,IACtB7F,GAAW,GAGnB,OAAOA,GAEX,QAASo1B,GAAsBp1B,EAAS6rB,GAGpC,IAAK,GAFDtwB,GAAOyE,EAAQtT,MAAM,KACrB+oC,EAAU,GACL73B,EAAI,EAAGA,EAAIiuB,EAAQjuB,IACxB63B,GAAW,GAEf,OAAOl6B,GAAK,GAAMk6B,EAAU,IAAMl6B,EAAK,GAAMk6B,EAEjD,QAASJ,GAAgBr1B,GACrB,GAAIzE,GAAOyE,EAAQtT,MAAM,KACrB+oC,EAAUl6B,EAAK,GACfm6B,EAAK,EAAID,EAAQxpC,OAAS,CAG9B+T,GAAU,EACV,KAAK,GAAIpC,IAFT63B,GADYC,GAAa,IAAPA,EAAY,IAAc,IAAPA,EAAW,KAAO,IACtCD,GAEIxpC,OAAS,EAAG2R,EAAI,EAAGA,GAAQ,EAC5CoC,EAAU,IAAMy1B,EAAQ73B,EAAI,GAAK63B,EAAQ73B,EAAI,GAAK63B,EAAQ73B,GAAKoC,CAGnE,OADAA,GAAUA,EAAQ1O,MAAM,GACjBiK,EAAK,GAAMyE,EAAU,IAAMzE,EAAK,GAAMyE,EAzoBjDN,EAASmwB,kBAAoB,qHAC7BnwB,EAASgzB,YAAc,mHACvBhzB,EAAS0xB,eAAiB,sBAC1B,IAAI2B,GAAgB,QACpBrzB,GAASqvB,gBAAkB,GAC3B,IAAInvB,IAAU,WAAY,MAAO,QAAS,WACtCo0B,EAAe,8BACfC,GACA0B,EAAK,GACLC,EAAK,IACLC,EAAK,IACLC,EAAK,IACLxV,EAAK,IACLyV,IAAM,IACNC,KAAM,SACNC,GAAM,KACNp4B,EAAK,OACLq4B,KAAQ,OACRC,EAAK,MAETz2B,GAASuuB,YAAc,iCACvB,IAAI0F,IACAyC,EAAK,aACLC,IAAK,YACLC,IAAK,aACLC,EAAG,QACHC,EAAG,OAEP92B,GAAS+2B,eAAiB,iCAC1B/2B,EAASwyB,eAAiB,QAAS,SAAU,OAAQ,QAErDxyB,EAAS2yB,eACLqE,OACIC,WACIC,WACIC,QACIC,eACIC,aACIP,EAAK,MACLQ,EAAK,MACLC,EAAK,MACLC,EAAK,MACLC,EAAK,MACLC,EAAK,MACLC,EAAK,MACLC,EAAK,MACLC,EAAK,MACLC,GAAM,MACNC,GAAM,MACNC,GAAM,OAEVC,QACInB,EAAK,IACLQ,EAAK,IACLC,EAAK,IACLC,EAAK,IACLC,EAAK,IACLC,EAAK,IACLC,EAAK,IACLC,EAAK,IACLC,EAAK,IACLC,GAAM,IACNC,GAAM,IACNC,GAAM,KAEVE,MACIpB,EAAK,UACLQ,EAAK,WACLC,EAAK,QACLC,EAAK,QACLC,EAAK,MACLC,EAAK,OACLC,EAAK,OACLC,EAAK,SACLC,EAAK,YACLC,GAAM,UACNC,GAAM,WACNC,GAAM,cAIlBG,MACIf,eACIC,aACIe,IAAO,MACPC,IAAO,MACPC,IAAO,MACPC,IAAO,MACPC,IAAO,MACPC,IAAO,MACPC,IAAO,OAEXT,QACIG,IAAO,IACPC,IAAO,IACPC,IAAO,IACPC,IAAO,IACPC,IAAO,IACPC,IAAO,IACPC,IAAO,KAEXC,OACIP,IAAO,KACPC,IAAO,KACPC,IAAO,KACPC,IAAO,KACPC,IAAO,KACPC,IAAO,KACPC,IAAO,MAEXR,MACIE,IAAO,SACPC,IAAO,SACPC,IAAO,UACPC,IAAO,YACPC,IAAO,WACPC,IAAO,SACPC,IAAO,cAInBE,YACI/kB,QACIqkB,MACIW,GAAM,KACNC,GAAM,QAIlBC,MACIC,UACInC,EAAK,gBACLoC,gBAAiB,oBACjBnC,EAAK,cACLoC,gBAAiB,cAErBC,SACItC,EAAK,KACLoC,gBAAiB,MACjBnC,EAAK,KACLoC,gBAAiB,MAErBE,WACIvC,EAAK,IACLoC,gBAAiB,MACjBnC,EAAK,IACLoC,gBAAiB,OAGzBG,aACIC,KAAQ,kBACRC,KAAQ,YACRC,OAAU,WACVb,MAAS,UAEbc,aACIH,KAAQ,iBACRC,KAAQ,cACRC,OAAU,YACVb,MAAS,UAEbe,iBACIJ,KAAQ,eACRC,KAAQ,eACRC,OAAU,WACVb,MAAS,WACTgB,kBACI3oB,EAAK,IACLylB,EAAK,MACLmD,GAAM,MACNC,IAAO,WACPC,IAAO,UACPC,KAAQ,cACRC,KAAQ,aACRC,GAAM,MACNC,MAAS,UACTC,OAAU,aACVC,QAAW,gBACXC,EAAK,MACLjE,EAAK,KACLkE,GAAM,SACNC,GAAM,QACNC,IAAO,YACPC,IAAO,WACPC,KAAQ,cACRC,KAAQ,aACRC,IAAO,WACPC,IAAO,UACP3E,EAAK,IACL4E,GAAM,MACNC,IAAO,SACPC,IAAO,MACPC,KAAQ,QACRC,MAAS,WACTC,MAAS,SACTlO,GAAM,QACN9uB,EAAK,IACLi9B,GAAM,MACNC,IAAO,QACPC,KAAQ,WACRC,KAAQ,QACRC,MAAS,WACTC,OAAU,cACVC,MAAS,aAKzBC,eACI3G,WAAc,gBACdI,UAAa,SACbH,cAAiB,QAGzB2G,SACIC,YACIC,KACIC,YAAe,YACfjI,OAAU,IACVkI,oBAAqB,KAEzBC,KACIF,YAAe,OACfjI,OAAU,IACVkI,oBAAqB,KAEzBE,KACIH,YAAe,gBACfC,oBAAqB,MAG7BjS,uBAA0B,OAC1BoS,sBAAyB,IACzBC,6BACIhS,QAAW,IACXC,MAAS,IACTgS,KAAQ,IACR/R,YAAe,IACfC,SAAY,IACZC,UAAa,IACbG,YAAe,IACf2R,uBAA0B,IAC1BC,SAAY,IACZ9R,SAAY,IACZC,IAAO,MACPkC,cAAiB,KAErB4P,oCACIC,SAAY,aAEhBC,oCACID,SAAY,UAEhBE,qCACIF,SAAY,YACZG,WAAc,2BAK1B58B,EAAS68B,YACLtF,EAAG,cACHC,EAAG,OACHC,EAAG,SACHX,EAAG,eAKP92B,EAAS88B,MAAQ,SACjB98B,EAASm4B,KAAO,OAIhBn4B,EAAS4yB,gBACLmK,EAAG,WACHC,EAAG,UACHC,EAAG,UACHC,EAAG,YA0BPl9B,EAASoyB,oBAAsBA,EAoB/BpyB,EAASC,eAAiBA,EAe1BD,EAASO,iBAAmBA,EAmB5BP,EAASyuB,yBAA2BA,EAiCpCzuB,EAASQ,cAAgBA,EAwBzBR,EAASiuB,kBAAoBA,EAsB7BjuB,EAASwuB,aAAeA,EA4ExBxuB,EAAS2zB,kBAAoBA,EAW7B3zB,EAASU,iBAAmBA,EAuC5BV,EAASm0B,wBAA0BA,EAqDnCn0B,EAASq1B,sBAAwBA,GAmClCr1B,KAAaA,OMlpBhB,IhBAWm9B,IgBEPC,IAAc,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAExDC,IACAC,EAAG,aACHjD,EAAG,WACHjE,EAAG,WACH7F,EAAG,aACHvf,EAAG,WAEIusB,IACPrH,EAAK,QACLllB,EAAK,MACLylB,EAAK,UACL7V,EAAK,UACLziB,EAAK,OACLm/B,EAAK,SACLjD,EAAK,OACLjE,EAAK,OACL7F,EAAK,SACL4F,EAAK,QACLjwB,EAAK,aACLs3B,EAAK,WACLC,EAAK,WACLxH,EAAK,OAOLf,cACA,QAASA,MAwLT,MA/KAA,GAAWwI,WAAa,SAAU/e,EAAS4O,EAAQC,GAC/C,GAAI79B,GAAQC,KACRi+B,EAAavmB,GAAKrH,eAAeutB,EAAM7O,GACvCgf,KACArL,EAAa/E,EAAO1Z,QAAUvM,GAAK8qB,oBAAoB7E,EAAO8E,SAAUxE,EAAW1tB,WAAYotB,EAAO91B,KAE1G,IADAkmC,EAAcC,cAAgBt2B,GAAK5G,iBAAiBmtB,EAAW1tB,YAC3DjT,EAAYolC,GACZrhC,EAAW,oDAEV,CACD0sC,EAAcr9B,QAAUgyB,EACxBqL,EAAc/I,UAAYpkC,GAAOi8B,gBAAgBoB,EAAWE,aAAcv9B,GAAOw6B,mBAAmBwC,GAEpG,KAAK,GAAIp/B,GAAK,EAAGyvC,EADEvL,EAAW/wB,MAtDd,yDAuDgCnT,EAAKyvC,EAAetxC,OAAQ6B,IAAM,CAC9E,GAAI6S,GAAM48B,EAAezvC,GACrB+D,EAAM8O,EAAI1U,OACVuxC,EAAO78B,EAAI,EAKf,QAJa,MAAT68B,IACAA,EAAO,KAIHA,GACJ,IAAK,IACL,IAAK,IACDH,EAAcI,QAAUlQ,EAAW1tB,WAAWmH,GAAK6wB,MAlE1D,eAkE4E7wB,GAAKu1B,WAAW1qC,GACrF,MACJ,KAAK,IACL,IAAK,IACDwrC,EAAcb,MAAQjP,EAAW1tB,WAAWmH,GAAKw1B,OAtExD,eAsE2Ex1B,GAAKu1B,WAAW1qC,GACpF,MACJ,KAAK,IACDwrC,EAAcK,WAAarxC,EAAS,yBAA0BkhC,EAAW1tB,WACzE,MACJ,KAAK,IACD,GAAI89B,GAAS9rC,GAAO,EAAK,UAAqB,IAARA,EAAa,WAAa,WAChEwrC,GAAcO,IAAMvxC,EAAS,QAAUsxC,EAAOpQ,EAAW1tB,WACzD,MACJ,KAAK,IACDw9B,EAAchJ,SAAWhoC,EAAS,sBAAuBkhC,EAAWE,gBAKpF,MAAO,UAAUjhC,GACb,MAAIkjC,OAAMljC,EAAMqxC,WACL,KAEJxuC,EAAMyuC,iBAAiBtxC,EAAO6wC,KAQ7CzI,EAAWkJ,iBAAmB,SAAUtxC,EAAO0Z,GAI3C,IAAK,GAFDhT,GAAM,GAEDpF,EAAK,EAAGiwC,EAHH73B,EAAQlG,QAEAiB,MAAM+F,GAAKyvB,gBACK3oC,EAAKiwC,EAAU9xC,OAAQ6B,IAAM,CAC/D,GAAImT,GAAQ88B,EAAUjwC,GAClBgkB,EAAW7Q,EAAMhV,OACjBuxC,EAAOv8B,EAAM,EACJ,OAATu8B,IACAA,EAAO,IAEX,IAAIQ,OAAS,GACT5R,MAAW,GACX6R,MAAgB,GAChBC,EAAS,EACb,QAAQV,GACJ,IAAK,IACL,IAAK,IACDQ,EAASxxC,EAAM2xC,WAAa,EACxBrsB,EAAW,EACX5e,GAAOgT,EAAQs2B,MAAMwB,GAGrB5R,GAAW,CAEf,MACJ,KAAK,IACL,IAAK,IACDl5B,GAAOgT,EAAQu3B,QAAQX,GAAWtwC,EAAM4xC,UACxC,MACJ,KAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACDhS,GAAW,EACX4R,EAASxxC,EAAMuwC,GAAWS,MACb,MAATA,IACAQ,EAASA,EAAS,IAAM,GAE5B,MACJ,KAAK,IACDC,GAAgB,EAChBC,GAAU1xC,EAAM6xC,cACC,IAAbvsB,IACAosB,EAASA,EAAOxwB,OAAOwwB,EAAOjyC,OAAS,GAE3C,MACJ,KAAK,IACD,GAAIqyC,GAAQ9xC,EAAM+xC,WAAa,GAAK,KAAO,IAC3CrrC,IAAOgT,EAAQw3B,WAAWY,EAC1B,MACJ,KAAK,IACD,GAAIE,GAAMhyC,EAAM6xC,cAAgB,EAAI,EAAI,CACxCnrC,IAAOgT,EAAQ03B,IAAIY,EACnB,MACJ,KAAK,IACDtrC,GAAkB,OAAV+N,EAAoB,IAAOA,EAAMJ,QAAQ,MAAO,GACxD,MACJ,KAAK,IACD,GAAI0zB,GAAW/nC,EAAMioC,oBACjB3E,EAAahe,EAAW,EAAK,QAAU5L,EAAQmuB,SAASK,UAC5D5E,GAAYA,EAAUjvB,QAAQ,KAAMqF,EAAQouB,UAAUhI,eACrC,IAAbiI,EACArhC,GAAOgT,EAAQmuB,SAASM,eAGxBsJ,GAAgB,EAChBC,EAAS5uC,KAAKulC,iBAAiBN,EAAUzE,IAE7CoO,EAASh4B,EAAQmuB,SAASS,UAAUj0B,QAAQ,QAASq9B,EACrD,MACJ,KAAK,IACDhrC,GAAOgT,EAAQouB,UAAUjI,cAA2B,aAEpD,MACJ,KAAK,IACDn5B,GAAOgT,EAAQo3B,aACf,MACJ,SACIpqC,GAAO+N,EAEXmrB,IACA6R,GAAgB,EAChBC,EAAS5uC,KAAKmvC,oBAAoBT,EAAQlsB,IAE1CmsB,IACA/qC,GAAOhD,GAAOm7B,kBAAkB6S,EAAQl3B,GAAKoqB,eAAgBlrB,EAAQouB,UAAU10B,SAGvF,MAAO1M,IAKX0hC,EAAW6J,oBAAsB,SAAUnV,EAAKz3B,GAC5C,GAAIqB,GAAMo2B,EAAM,EAChB,OAAY,KAARz3B,GAA4B,IAAfqB,EAAIjH,OACV,IAAMiH,EAEVA,GAQX0hC,EAAWC,iBAAmB,SAAU6J,EAAM1+B,GAC1C,GAAI3Q,GAAQC,KAERqvC,EADO3+B,EAAQtT,MAAM,KACHgyC,EAAO,EAAI,EAAI,GACjChJ,EAAKx4B,KAAKE,IAAIshC,EAClB,OAAOC,GAAaA,EAAW99B,QAAQ,UAAW,SAAUF,GACxD,GAAI9O,GAAM8O,EAAI1U,OACV2yC,GAA+B,IAAtBj+B,EAAInO,QAAQ,IACzB,OAAOnD,GAAMovC,oBAAoBvhC,KAAKqL,MAAMq2B,EAAUlJ,EAAK,GAAOA,EAAK,IAAM7jC,MAG9E+iC,KCnNPiK,GAAY,WAEZ9B,IACA+B,OAAQ,aACRC,KAAM,WACN3wC,OAAQ,aACR4wC,IAAK,UACLxC,MAAO,YAQPyC,cACA,QAASA,MAsST,MA5RAA,GAAWC,WAAa,SAAU7gB,EAAS4O,EAAQC,GAC/C,GAMIiS,GANA9vC,EAAQC,KACRi+B,EAAavmB,GAAKrH,eAAeutB,EAAM7O,GACvC+gB,EAAalvC,GAAOu7B,yBAAyB8B,EAAWE,aAAcv9B,GAAOw6B,mBAAmBwC,IAChG+H,KACAjD,EAAa/E,EAAO1Z,QAAUvM,GAAK8qB,oBAAoB7E,EAAO8E,SAAUxE,EAAW1tB,WAAYotB,EAAO91B,MACtGkoC,EAAc,EAElB,IAAIzyC,EAAYolC,GACZrhC,EAAW,oDAEV,CACDskC,GAAiBj1B,QAASgyB,EAAYsN,gBAOtC,KAAK,GANDrL,GAAejC,EAAW/wB,MAAM+F,GAAKyvB,oBACrC3kB,EAAWmiB,EAAahoC,OACxBszC,EAAgB,EAChBC,EAAe,EACfC,GAAiB,EACjBC,EAAQN,EAAWpT,aACdr/B,EAAI,EAAGA,EAAImlB,EAAUnlB,IAAK,CAC/B,GAAIgU,GAAMszB,EAAatnC,GACnBkF,EAAM8O,EAAI1U,OACVuxC,EAAmB,MAAX78B,EAAI,GAAc,IAAMA,EAAI,GACpCyrB,MAAW,GACXuT,MAAY,GACZC,EAAU3C,GAAgBO,GAC1BqC,EAAoB,IAARhuC,EAAa,GAAK,GAKlC,QAJI4tC,IACAF,EAAgBC,EAChBC,GAAiB,GAEbjC,GACJ,IAAK,IACL,IAAK,IAED,GAAIsC,GAAa5vC,GAAO06B,cAAc2C,EAAW1tB,WAAWmH,GAAK6wB,MA/DxE,eA+D0F7wB,GAAKu1B,WAAW1qC,IACnGwtC,IAAe,IAAMrxC,OAAOjB,KAAK+yC,GAAY9vC,KAAK,KAAO,GACzD,MACJ,KAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACD2vC,GAAY,GACE,MAATnC,GAAyB,MAATA,IAAiB3rC,EAAM,GAExCojC,EAAa2K,GAAW1vC,GAAO06B,cAAc2C,EAAW1tB,WAAgB,OA5EnF,eA4EiGmH,GAAKu1B,WAAW1qC,KAEtGwtC,GAAe,IAAMrxC,OAAOjB,KAAKkoC,EAAa2K,IAAU5vC,KAAK,KAAO,MAGpEo8B,GAAW,EACXiT,GAAe,IAAMK,EAAQA,EAAQG,EAAW,KAEvC,MAATrC,IACAvI,EAAa8K,QAAS,EAE1B,MACJ,KAAK,IACDJ,EAAYvT,GAAW,EAEnBiT,GADQ,IAARxtC,EACe,IAAM6tC,EAAQA,EAAQ,IAGtB,IAAMA,EAAQ,IAAM7tC,EAAM,KAE7C,MACJ,KAAK,IACD8tC,GAAY,EACZ1K,EAAa2K,GAAW1vC,GAAO06B,cAAcv+B,EAAS,yBAA0BkhC,EAAW1tB,aAC3Fw/B,GAAe,IAAMrxC,OAAOjB,KAAKkoC,EAAa2K,IAAU5vC,KAAK,KAAO,GACpE,MACJ,KAAK,IACD2vC,GAAY,CACZ,IAAIhC,GAAS9rC,GAAO,EAAK,UAAqB,IAARA,EAAa,WAAa,WAChEojC,GAAa2K,GAAW1vC,GAAO06B,cAAcv+B,EAAS,QAAUsxC,EAAOpQ,EAAW1tB,aAClFw/B,GAAe,IAAMrxC,OAAOjB,KAAKkoC,EAAa2K,IAAU5vC,KAAK,KAAO,IACpE,MACJ,KAAK,IAED2vC,EAAsB,KADX,GAAInL,OAAOC,oBAEtBQ,EAAa2K,GAAWvzC,EAAS,sBAAuBkhC,EAAWE,aACnE,IAAIuS,GAAQ/K,EAAa2K,GAErBK,GADJd,EAAYttC,EAAM,GACQ,QAAUmuC,EAAMtL,UAC1C2K,IAAe,IAAM/vC,KAAK4wC,kBAAkBD,EAAUD,EAAON,GAAS,KACtED,GAAiB,EACjBD,EAAeL,EAAW,EAAI,EAC9B,MACJ,KAAK,IAEDE,GAAe,IADD1+B,EAAIE,QAAQ,MAAO,IACF,IAC/B,MACJ,SACIw+B,GAAe,OAGnBM,IACA1K,EAAaqK,aAAaM,IAAaxT,SAAUA,EAAU+T,IAAKxzC,EAAI,EAAI4yC,EAAeJ,SAAUA,IAEjGxyC,IAAMmlB,EAAW,GAAM5kB,EAAkBmyC,KACzCpK,EAAamL,YAAc,GAAInV,QAAO,IAAMoU,EAAc,OAItE,MAAO,UAAU7yC,GACb,GAAI6zC,GAAkBhxC,EAAMixC,kBAAkB9zC,EAAOyoC,EAAcmK,EACnE,OAAIlyC,GAAkBmzC,KAAqBryC,OAAOjB,KAAKszC,GAAiBp0C,OAC7D,KAEJoD,EAAMkxC,cAAcF,KASnCpB,EAAWsB,cAAgB,SAAUr6B,EAAS1Z,GAC1C,GAAIq+B,GAAMr+B,GAAS,GAAIgoC,KACvB3J,GAAI2V,gBAAgB,EACpB,IAAIC,IAAS,OAAQ,SAAU,SAAU,QAAS,OAC9C5iC,EAAIqI,EAAQw6B,KACZpC,EAAQp4B,EAAQw3B,WAChBsC,EAAQ95B,EAAQmuB,QACfznC,GAAYiR,MACFA,EAAI,IAAI5R,QACR,IAEP4R,GADoD,IAAtCX,KAAKqL,MAAMsiB,EAAIwT,cAAgB,MAGjDxT,EAAI8V,YAAY9iC,GAEpB,KAAK,GAAI/P,GAAK,EAAG8yC,EAAUH,EAAO3yC,EAAK8yC,EAAQ30C,OAAQ6B,IAAM,CACzD,GAAIhB,GAAM8zC,EAAQ9yC,GACd+yC,EAAS36B,EAAQpZ,EACrB,KAAKF,EAAYi0C,GACb,GAAY,UAAR/zC,EAAiB,CAEjB,IADA+zC,GAAU,GACG,GAAKA,EAAS,GACvB,MAAO,IAAIrM,MAAK,UAEpB,IAAIsM,GAAQjW,EAAIgT,SAChBhT,GAAIkW,QAAQ,GACZlW,EAAIkS,GAAWjwC,IAAM+zC,EACrB,IAAIG,GAAQ,GAAIxM,MAAK3J,EAAIwT,cAAewC,EAAS,EAAG,GAAGhD,SACvDhT,GAAIkW,QAAQD,EAAQE,EAAQF,EAAQE,OAEnC,CACD,GAAY,QAARl0C,EAAe,CACf,GAAIm0C,GAAU,GAAIzM,MAAK3J,EAAIwT,cAAexT,EAAIsT,WAAa,EAAG,GAAGN,SACjE,IAAKgD,EAAS,GAAKA,EAASI,EACxB,MAAO,MAGfpW,EAAIkS,GAAWjwC,IAAM+zC,IAIjC,IAAKj0C,EAAY0xC,GAAQ,CACrB,GAAIS,GAAOlU,EAAI0T,UACD,QAAVD,EACAzT,EAAIqW,SAASnC,GAAiB,KAATA,EAAc,EAAI,KAEzB,KAATA,GACLlU,EAAIqW,SAAS,GAGrB,IAAKt0C,EAAYozC,GAAQ,CACrB,GAAImB,GAAUnB,EAAQnV,EAAI4J,mBACV,KAAZ0M,GACAtW,EAAIuW,WAAWvW,EAAIwW,aAAeF,GAG1C,MAAOtW,IASXoU,EAAWqB,kBAAoB,SAAU9zC,EAAOyoC,EAAc5pC,GAC1D,GAAI0K,GAAUvJ,EAAMyU,MAAMg0B,EAAamL,aACnCkB,GAAevC,KAAQ,EAAGD,OAAU,EAAG1wC,OAAU,EACzC/C,GAAI2gC,YAChB,IAAI9+B,EAAkB6I,GAClB,MAAO,KAIP,KAAK,GAAIjI,GAAK,EAAGyzC,EADLvzC,OAAOjB,KAAKkoC,EAAaqK,cACHxxC,EAAKyzC,EAAQt1C,OAAQ6B,IAAM,CACzD,GAAIkN,GAAOumC,EAAQzzC,GACf8tB,EAAYqZ,EAAaqK,aAAatkC,GACtCwmC,EAAczrC,EAAQ6lB,EAAUukB,IACpC,IAAIvkB,EAAUwQ,SACVkV,EAAWtmC,GAAQ1L,KAAKmyC,qBAAqBD,EAAan2C,OAG1D,IAAa,aAAT2P,GAAwBpO,EAAY40C,GAiBpCF,EAAWtmC,GAAQi6B,EAAaj6B,GAAMwmC,OAjBY,CAClD,GAAIrB,GAAMvkB,EAAUukB,IAChB7W,MAAM,GACNoY,EAAS3rC,EAAQoqC,EAAM,GACvBpb,GAAQn4B,EAAY80C,EACpB9lB,GAAUujB,SACV7V,EAA+D,GAAzDh6B,KAAKqyC,aAAa5c,EAAM2c,EAAQ3rC,EAAQoqC,EAAM,GAAI90C,IAGxDi+B,EAA+D,GAAzDh6B,KAAKqyC,aAAa5c,EAAM2c,EAAQ3rC,EAAQoqC,EAAM,GAAI90C,GACxDi+B,GAAOh6B,KAAKqyC,aAAa5c,EAAMhvB,EAAQoqC,EAAM,GAAIpqC,EAAQoqC,EAAM,IAAK90C,IAEnE6B,EAAkBo8B,KACnBgY,EAAWtmC,GAAQsuB,IAYvC,MAJQ2L,GAAa8K,SACbuB,EAAWvB,QAAS,GAGrBuB,GAQXrC,EAAWwC,qBAAuB,SAAUj1C,EAAOygC,GAE/C,MADAzgC,GAAQ0D,GAAOm7B,kBAAkB7+B,EAAOygC,EAAOlB,iBAAkBkB,EAAOnB,aACpE+S,GAAU5jC,KAAKzO,IACPA,EAEL,MASXyyC,EAAWiB,kBAAoB,SAAUxL,EAAYkN,EAAOnV,GACxD,GACIv5B,GAGA2uC,EAJA7hC,EAAU4hC,EAAM9M,UAGhBgN,EAAS,IAAMrV,EAAS,KAAYA,EAAS,GAajD,OAXAv5B,GAAMwhC,EAAW7zB,QAAQ,IAAK,OAE1B3N,GAD8B,IAA9BwhC,EAAWliC,QAAQ,MACbU,EAAI2N,QAAQ,SAAU,IAAMihC,EAAS,KAGrC5uC,EAAI2N,QAAQ,OAAQ,IAAMihC,EAAS,MAE7CD,EAAY3uC,EAAIxG,MAAM,KAAK6hB,IAAI,SAAU5N,GACrC,MAAOX,GAAQa,QAAQ,MAAOF,KAElCzN,EAAM2uC,EAAS7xC,KAAK,KAAO,IAAM4xC,EAAMjN,eAW3CsK,EAAW0C,aAAe,SAAU5c,EAAMoL,EAAMC,EAAM/kC,GAClD,GAAImB,GAAQ8C,KAAKmyC,qBAAqB1c,EAAOoL,EAAOC,EAAM/kC,EAC1D,OAAI05B,IACQv4B,EAELA,GAEJyyC,KCxTPlyC,IAAQ,YAAa,YAKrBg1C,cACA,QAASA,MA0FT,MAjFAA,GAAaC,aAAe,SAAU3jB,EAAS4O,EAAQC,GACnD,GAGIkS,GAHA/vC,EAAQC,KACRi+B,EAAavmB,GAAKrH,eAAeutB,EAAM7O,GAAS,GAChD4W,GAAiBC,QAAQ,EAExBluB,IAAKinB,YAAYhzB,KAAKgyB,EAAO1Z,UAAc0Z,EAAc,QAC1Dh/B,EAAOgnC,EAAcjuB,GAAKmnB,yBAAyBlB,EAAO1Z,QAAU,MACpE0hB,EAAaC,QAAS,GAGtBjnC,EAAOgnC,EAAcjuB,GAAKknB,aAAajB,EAAO1Z,OAAQ,KAAM,OAEhE6rB,EAAalvC,GAAOu7B,yBAAyB8B,EAAWE,aAAcv9B,GAAOw6B,mBAAmBwC,IAAO,GACvG+H,EAAagN,YAAc/xC,GAAO66B,eAAe/8B,OAAOjB,KAAKqyC,EAAWlT,cAExE+I,EAAa9K,SAAWiV,EAAWnT,mBAAmBl/B,GAAK,GAC3D,IAAIm1C,GAAgBl7B,GAAK/G,iBAAiBg1B,EAAa99B,KAAMioC,EAAWzT,aAAc4B,EAAWK,cAAeqH,EAAa3G,UAC7H,IAAI4T,EAAe,CAEf,GAAIx1C,IADJw1C,EAAgBA,EAAcrhC,QAAQ,UAAWmG,GAAK+nB,kBAC5BriC,MAAM,IAChCuoC,GAAajG,MAAQhoB,GAAK9G,cAAcxT,EAAM,IAAM,IAAMA,EAAM,IAAI,EAAM,IAC1EuoC,EAAahG,MAAQjoB,GAAK9G,cAAcxT,EAAM,IAAI,EAAM,IAE5D,MAAO,UAAUF,GACb,MAAO6C,GAAM8yC,gBAAgB31C,EAAOyoC,EAAcmK,KAU1D2C,EAAaI,gBAAkB,SAAU31C,EAAO0Z,EAASk5B,GACrD,GAAIgD,GACA/T,EACAlzB,EACA02B,EACApiB,EACAvc,CACJ,KAAyC,IAArC1G,EAAMgG,QAAQ0T,EAAQikB,UACtB,MAAOkY,GAAAA,CAGP71C,GAAQ0D,GAAOm7B,kBAAkB7+B,EAAO0Z,EAAQ+7B,YAAa7C,EAAWlT,aAE7C,KAD3B1/B,EAAQ0D,GAAOm7B,kBAAkB7+B,EAAO4yC,EAAWrT,iBAAkBqT,EAAWtT,cACtEt5B,QAAQ,OACdhG,EAAQ,IAAMA,EAElB,IAAIuJ,GAAUvJ,EAAMyU,MApEf,qEAqEL,IAAI/T,EAAkB6I,GAClB,MAAOusC,IAEXzQ,GAAO97B,EAAQ,GACfoF,EAAYpF,EAAQ,EACpB,IAAIwsC,GAAWxsC,EAAQ,EAsBvB,OArBA0Z,GAAM1Z,EAAQ,GACdqsC,EAAal8B,EAAQgvB,OAAWrD,IAAS3rB,EAAQ8oB,MAAMqC,OAAW5hB,IAAQvJ,EAAQ8oB,MAAMsC,MAC3C,IAAvCO,EAAKr/B,QAAQ0T,EAAQ8oB,MAAMqC,SAAwD,IAArC5hB,EAAIjd,QAAQ0T,EAAQ8oB,MAAMsC,MAC9EjD,EAAY+T,EACRl8B,EAAQ8oB,MAAMX,UACdnoB,EAAQ+oB,MAAMZ,UAClBlzB,EAAYA,EAAU0F,QAhFjB,KAgFqC,IACtC0hC,IACApnC,GAAaonC,GAEjBrvC,GAAOiI,GACc,YAAjB+K,EAAQ/O,MAAsBk3B,KAC9Bn7B,GAAY,MAEZgT,EAAQgvB,QAAUhvB,EAAQ2oB,kBAC1B37B,EAAMsgB,WAAWtgB,EAAI0+B,QAAQ1rB,EAAQgvB,OAChCkN,EAAal8B,EAAQ8oB,MAAML,sBAAwBzoB,EAAQ+oB,MAAMN,sBAAyBzoB,EAAQ2oB,kBAEvGuT,IACAlvC,IAAQ,GAELA,GAGR6uC,KrB7FAnjC,GAAe,GAAIyc,IAInB9b,IAAc,EAKdH,MAKAT,GAAiB,QAKjBM,GAAsB,MAC7BW,IAAU,gBAAiB,cAoC3B4iC,cACA,QAASA,GAAqB9jC,GACtBA,IACApP,KAAK+uB,QAAU3f,GAiGvB,MAzFA8jC,GAAqBz3C,UAAU03C,cAAgB,SAAUv8B,GACrD,MAAO0uB,IAAWwI,WAAW9tC,KAAKozC,aAAcx8B,IAAa/O,KAAM,OAAQ46B,SAAU,SAAW3yB,KAOpGojC,EAAqBz3C,UAAU43C,gBAAkB,SAAUz8B,GAIvD,MAHIA,KAAYA,EAAQ2nB,WACpB3nB,EAAQ2nB,SAAW5uB,IAEhB8tB,GAAaC,gBAAgB19B,KAAKozC,aAAcx8B,MAAe9G,KAQ1EojC,EAAqBz3C,UAAU63C,cAAgB,SAAU18B,GACrD,MAAO+4B,IAAWC,WAAW5vC,KAAKozC,aAAcx8B,IAAa6rB,SAAU,QAAS56B,KAAM,QAAUiI,KAOpGojC,EAAqBz3C,UAAU83C,gBAAkB,SAAU38B,GACvD,MAAO67B,IAAaC,aAAa1yC,KAAKozC,aAAcx8B,IAAaqN,OAAQ,KAAOnU,KAQpFojC,EAAqBz3C,UAAU+3C,aAAe,SAAUt2C,EAAOygC,GAC3D,MAAO39B,MAAKqzC,gBAAgB1V,GAAQzgC,IAQxCg2C,EAAqBz3C,UAAUg4C,WAAa,SAAUv2C,EAAOygC,GACzD,MAAO39B,MAAKmzC,cAAcxV,GAAQzgC,IAQtCg2C,EAAqBz3C,UAAUi4C,UAAY,SAAUx2C,EAAOygC,GACxD,MAAO39B,MAAKszC,cAAc3V,GAAQzgC,IAQtCg2C,EAAqBz3C,UAAUk4C,YAAc,SAAUz2C,EAAOygC,GAC1D,MAAO39B,MAAKuzC,gBAAgB5V,GAAQzgC,IASxCg2C,EAAqBz3C,UAAUm4C,eAAiB,SAAUjW,EAAQ6G,GAC9D,MAAOp0B,IAASm0B,wBAAwBvkC,KAAKozC,aAAczV,EAAQ7tB,GAAU00B,IAQjF0O,EAAqBz3C,UAAUo4C,iBAAmB,SAAUlW,GACxD,MAAOvtB,IAASq1B,sBAAsBzlC,KAAKozC,aAAczV,EAAQ7tB,KAErEojC,EAAqBz3C,UAAU23C,WAAa,WACxC,MAAOpzC,MAAK+uB,SAAW1f,IAEpB6jC,KsBtKP3iB,GAAwC,WACxC,GAAIC,GAAgB9xB,OAAO+xB,iBACpBC,uBAA2B9pB,QAAS,SAAUwa,EAAG7K,GAAK6K,EAAEsP,UAAYna,IACvE,SAAU6K,EAAG7K,GAAK,IAAK,GAAIoa,KAAKpa,GAAOA,EAAEzO,eAAe6oB,KAAIvP,EAAEuP,GAAKpa,EAAEoa,IACzE,OAAO,UAAUvP,EAAG7K,GAEhB,QAASqa,KAAO5wB,KAAKhC,YAAcojB,EADnCoP,EAAcpP,EAAG7K,GAEjB6K,EAAE3lB,UAAkB,OAAN8a,EAAa7X,OAAOsN,OAAOuK,IAAMqa,EAAGn1B,UAAY8a,EAAE9a,UAAW,GAAIm1B,QAGnFC,GAA0C,SAAUC,EAAYznB,EAAQ7L,EAAKuzB,GAC7E,GAA2H3P,GAAvH4P,EAAI/xB,UAAUtC,OAAQie,EAAIoW,EAAI,EAAI3nB,EAAkB,OAAT0nB,EAAgBA,EAAOryB,OAAOuyB,yBAAyB5nB,EAAQ7L,GAAOuzB,CACrH,IAAuB,gBAAZG,UAAoD,kBAArBA,SAAQC,SAAyBvW,EAAIsW,QAAQC,SAASL,EAAYznB,EAAQ7L,EAAKuzB,OACpH,KAAK,GAAI1zB,GAAIyzB,EAAWn0B,OAAS,EAAGU,GAAK,EAAGA,KAAS+jB,EAAI0P,EAAWzzB,MAAIud,GAAKoW,EAAI,EAAI5P,EAAExG,GAAKoW,EAAI,EAAI5P,EAAE/X,EAAQ7L,EAAKod,GAAKwG,EAAE/X,EAAQ7L,KAASod,EAChJ,OAAOoW,GAAI,GAAKpW,GAAKlc,OAAOiL,eAAeN,EAAQ7L,EAAKod,GAAIA,GAY5Dk5B,GAAqC,YAKrC,QAASA,GAAUl9B,EAASzQ,GACxB,GAAIpG,GAAQqxB,EAAOtwB,KAAKd,KAAM4W,EAASzQ,IAAanG,IAgBpD,OAfAD,GAAMg0C,SAAU,EACZn2C,EAAkBmC,EAAMgQ,YACxBhQ,EAAMoI,eAAgB4H,UAAaE,KAAe,GAElDrS,EAAkBmC,EAAMyP,SACxBzP,EAAMoI,eAAgBqH,OAAUH,KAAkB,GAEtDtP,EAAMi0C,aAAe,GAAI9b,IAAan4B,GACtCA,EAAMk0C,cAAgB,GAAIloB,IAAShsB,GAEnCA,EAAMm0C,eAAiB,GAAI14C,UAAS,OAAQ,iFAC5C8T,GAAa2c,GAAG,uBAAwBlsB,EAAMm0C,eAAgBn0C,GACzDzC,EAAY6I,IACbpG,EAAMo0C,WAEHp0C,EAyOX,MA9PAwwB,IAAUujB,EAAW1iB,GAuBrB0iB,EAAUr4C,UAAU48B,gBAAkB,WAClC,UAMJyb,EAAUr4C,UAAUixB,QAAU,WACtB1sB,KAAKotB,cAGTptB,KAAKi0C,cAAcvnB,UACf1sB,KAAKgtB,aAGThtB,KAAKqgB,QAAQ,aAAe+zB,QAAQ,IACpChjB,EAAO31B,UAAUixB,QAAQ5rB,KAAKd,MAC9BA,KAAKg0C,aAAaxb,QAClBlpB,GAAa+c,IAAI,uBAAwBrsB,KAAKk0C,gBAC1Cl0C,KAAKq0C,mBACLr0C,KAAKs0C,oBAMbR,EAAUr4C,UAAU84C,QAAU,WAC1Bv0C,KAAKgtB,YAAa,EAClBhtB,KAAKg0C,aAAaxb,QAClBx4B,KAAK0sB,UACL1sB,KAAK0tB,eACL1tB,KAAKi0C,cAAgB,GAAIloB,IAAS/rB,MAClCA,KAAKw0C,YACLx0C,KAAKy0C,gBACLz0C,KAAK00C,SACL10C,KAAKgtB,YAAa,GAMtB8mB,EAAUr4C,UAAU04C,SAAW,SAAUhuC,GAOrC,GANKvI,EAAkBuI,IAAmC,mBAGhDvI,EAAkBuI,KACxBnG,KAAK2B,QAAUwE,GAHfnG,KAAK2B,QAAUR,SAASmC,cAAc6C,IAKrCvI,EAAkBoC,KAAK2B,SAAU,CAClC3B,KAAK6sB,qBAAsB,EACvB7sB,KAAKq0C,oBACLr0C,KAAK20C,mBACL14C,OAAOW,iBAAiB,SAAUoD,KAAKs0C,eAAe54C,KAAKsE,QAE3DA,KAAK+zC,UAAY/zC,KAAK2B,QAAQqC,KAC9BhE,KAAK2B,QAAQqC,GAAKxE,EAAYQ,KAAKguB,iBAEvC,IAAIvqB,GAAO1G,EAAS,gBAAiBiD,KAAK2B,QACrC8B,KAAgC,IAAxBA,EAAKP,QAAQlD,OACtBoxB,EAAO31B,UAAUiI,YAAY5C,KAAKd,MAEtCA,KAAKw0C,YACLx0C,KAAKy0C,gBACLz0C,KAAK00C,SACL10C,KAAKqgB,QAAQ,aAMrByzB,EAAUr4C,UAAU8xB,SAAW,WAC3BvtB,KAAKy0C,gBACLrjB,EAAO31B,UAAU8xB,SAASzsB,KAAKd,OAYnC8zC,EAAUr4C,UAAUwwB,GAAK,SAAUzvB,EAAOX,EAASuK,GAC/C,GAAqB,gBAAV5J,GACPwD,KAAKi0C,cAAchoB,GAAGzvB,EAAOX,EAASuK,OAGtC,KAAK,GAAI5H,GAAK,EAAGstB,EAAUtvB,EAAOgC,EAAKstB,EAAQnvB,OAAQ6B,IAAM,CACzD,GAAI+6B,GAAMzN,EAAQttB,EAClBwB,MAAKi0C,cAAchoB,GAAGsN,EAAI/8B,MAAO+8B,EAAI19B,QAAS09B,EAAInzB,WAW9D0tC,EAAUr4C,UAAU4wB,IAAM,SAAU7vB,EAAOX,GACvC,GAAqB,gBAAVW,GACPwD,KAAKi0C,cAAc5nB,IAAI7vB,EAAOX,OAG9B,KAAK,GAAI2C,GAAK,EAAGo2C,EAAUp4C,EAAOgC,EAAKo2C,EAAQj4C,OAAQ6B,IAAM,CACzD,GAAI+6B,GAAMqb,EAAQp2C,EAClBwB,MAAKi0C,cAAc5nB,IAAIkN,EAAI/8B,MAAO+8B,EAAI19B,WAWlDi4C,EAAUr4C,UAAU8T,OAAS,SAAUrI,EAAUqlB,IACpB,IAArBvsB,KAAKotB,aACLptB,KAAKi0C,cAAc1kC,OAAOrI,EAAUqlB,IAO5CunB,EAAUr4C,UAAUo5C,mBAAqB,WACrC,MAAO70C,MAAK80C,iBAMhBhB,EAAUiB,OAAS,WAEf,IAAK,GADDzc,MACK95B,EAAK,EAAGA,EAAKS,UAAUtC,OAAQ6B,IACpC85B,EAAW95B,GAAMS,UAAUT,EAE1BwB,MAAKvE,UAAUq5C,kBAChB90C,KAAKvE,UAAUq5C,mBAEnB,KAAK,GAAIz3C,GAAI,EAAGA,EAAIi7B,EAAW37B,OAAQU,KAC4B,IAA3D2C,KAAKvE,UAAUq5C,gBAAgB5xC,QAAQo1B,EAAWj7B,KAClD2C,KAAKvE,UAAUq5C,gBAAgBt0C,KAAK83B,EAAWj7B,KAI3Dy2C,EAAUr4C,UAAUg5C,cAAgB,WAC5Bz0C,KAAK80C,iBAAmB90C,KAAK80C,gBAAgBn4C,QAC7CqD,KAAKg0C,aAAa5b,OAAOp4B,KAAKq4B,kBAAmBr4B,KAAK80C,kBAG9DhB,EAAUr4C,UAAUk5C,iBAAmB,WACnC,GAAIj4C,GAAOT,OAAO+4C,aAAaC,QAAQj1C,KAAKguB,gBAAkBhuB,KAAK2B,QAAQqC,GACrEpG,GAAkBlB,IAAmB,KAATA,GAC9BsD,KAAKmI,cAAcmiB,KAAKC,MAAM7tB,IAAO,IAG7Co3C,EAAUr4C,UAAU64C,eAAiB,WACjCr4C,OAAO+4C,aAAaE,QAAQl1C,KAAKguB,gBAAkBhuB,KAAK2B,QAAQqC,GAAIhE,KAAKm1C,mBAE7ErB,EAAUr4C,UAAU25C,cAAgB,SAAUC,KAG9CvB,EAAUr4C,UAAU65C,aAAe,SAAU1+B,GAGzC,IAAK,GAFD7W,GAAQC,KACRu1C,KACK/2C,EAAK,EAAGsmC,EAAYluB,EAASpY,EAAKsmC,EAAUnoC,OAAQ6B,IAAM,CAC/D,GAAIhB,GAAMsnC,EAAUtmC,GAChBg3C,MAAW,EAEVl4C,GADLk4C,EAAWz4C,EAASS,EAAKwC,QAErBzC,EAASC,EAAKwC,KAAKy1C,oBAAoBD,GAAWD,GAG1D,MAAOjrB,MAAKorB,UAAUH,EAAY,SAAU/3C,EAAKN,GAC7C,MAAO6C,GAAM01C,oBAAoBv4C,MAGzC42C,EAAUr4C,UAAUg6C,oBAAsB,SAAUx4C,GAChD,MAAIA,aAAey8B,IACR38B,EAAS,aAAcE,GAGvBA,GAGf62C,EAAUr4C,UAAUk6C,gBAAkB,SAAU/+B,GAC5C,MAAO0T,MAAKorB,UAAU11C,KAAK41C,sBAAsB51C,KAAK8D,WAAY8S,KAEtEk9B,EAAUr4C,UAAUm6C,sBAAwB,SAAU34C,EAAK4V,GAoBvD,IAAK,GAnBDgjC,MAkBAC,EAAS91C,KACJxB,EAAK,EAAGgF,EAAK9E,OAAOjB,KAAKR,GAAMuB,EAAKgF,EAAG7G,OAAQ6B,KAlB1C,SAAUhB,GACpB,IAAiC,IAA7BqV,EAAW3P,QAAQ1F,GAAa,CAEhC,GAAIN,GAAQD,EAAIO,EAChB,IAAqB,gBAAVN,IAAwBA,YAAiB0J,OAShDivC,EAAOr4C,GAAON,MAT0C,CACxD,GAAI64C,GAAUljC,EAAWqb,OAAO,SAAU7c,GACtC,MAAO,IAAIsqB,QAAOn+B,EAAM,KAAKmO,KAAK0F,KACnC4N,IAAI,SAAU5N,GACb,MAAOA,GAAIE,QAAQ/T,EAAM,IAAK,KAElCq4C,GAAOr4C,GAAOs4C,EAAOF,sBAAsBE,EAAOL,oBAAoBv4C,GAAQ64C,MAS5EvyC,EAAGhF,GAGjB,OAAOq3C,IAEXhlB,IACIznB,GAAS,IACV0qC,EAAUr4C,UAAW,wBAAqB,IAC7Co1B,IACIznB,KACD0qC,EAAUr4C,UAAW,gBAAa,IACrCo1B,IACIznB,KACD0qC,EAAUr4C,UAAW,aAAU,IAClCq4C,EAAYjjB,IACRtmB,IACDupC,IAELlnB,IC1RE2D,GAAwC,WACxC,GAAIC,GAAgB9xB,OAAO+xB,iBACpBC,uBAA2B9pB,QAAS,SAAUwa,EAAG7K,GAAK6K,EAAEsP,UAAYna,IACvE,SAAU6K,EAAG7K,GAAK,IAAK,GAAIoa,KAAKpa,GAAOA,EAAEzO,eAAe6oB,KAAIvP,EAAEuP,GAAKpa,EAAEoa,IACzE,OAAO,UAAUvP,EAAG7K,GAEhB,QAASqa,KAAO5wB,KAAKhC,YAAcojB,EADnCoP,EAAcpP,EAAG7K,GAEjB6K,EAAE3lB,UAAkB,OAAN8a,EAAa7X,OAAOsN,OAAOuK,IAAMqa,EAAGn1B,UAAY8a,EAAE9a,UAAW,GAAIm1B,QAGnFC,GAA0C,SAAUC,EAAYznB,EAAQ7L,EAAKuzB,GAC7E,GAA2H3P,GAAvH4P,EAAI/xB,UAAUtC,OAAQie,EAAIoW,EAAI,EAAI3nB,EAAkB,OAAT0nB,EAAgBA,EAAOryB,OAAOuyB,yBAAyB5nB,EAAQ7L,GAAOuzB,CACrH,IAAuB,gBAAZG,UAAoD,kBAArBA,SAAQC,SAAyBvW,EAAIsW,QAAQC,SAASL,EAAYznB,EAAQ7L,EAAKuzB,OACpH,KAAK,GAAI1zB,GAAIyzB,EAAWn0B,OAAS,EAAGU,GAAK,EAAGA,KAAS+jB,EAAI0P,EAAWzzB,MAAIud,GAAKoW,EAAI,EAAI5P,EAAExG,GAAKoW,EAAI,EAAI5P,EAAE/X,EAAQ7L,EAAKod,GAAKwG,EAAE/X,EAAQ7L,KAASod,EAChJ,OAAOoW,GAAI,GAAKpW,GAAKlc,OAAOiL,eAAeN,EAAQ7L,EAAKod,GAAIA,GAU5Do7B,IAAoBjoC,KAAM,EAAGE,IAAK,EAAGC,OAAQ,EAAGF,MAAO,GAOvDioC,GAAoC,YAEpC,QAASA,KACL,MAAkB,QAAX7kB,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAQ/D,MAVAuwB,IAAU0lB,EAAU7kB,GAIpBP,IACIznB,EAAS,IACV6sC,EAASx6C,UAAW,WAAQ,IAC/Bo1B,IACIznB,EAAS,IACV6sC,EAASx6C,UAAW,UAAO,IACvBw6C,GACTvc,IAkBEwc,GAAqC,YAErC,QAASA,GAAUv0C,EAASiV,GACxB,GAAI7W,GAAQqxB,EAAOtwB,KAAKd,KAAM4W,EAASjV,IAAY3B,IAQnD,OAPAD,GAAMo2C,UAAYC,EAAYC,qBAC9Bt2C,EAAMy1B,YAAc4gB,EAAYC,qBAChCt2C,EAAMu2C,QAAUF,EAAYC,qBAC5Bt2C,EAAMw2C,MAAQ,EACdx2C,EAAMy2C,MAAQ,EACdz2C,EAAM02C,cACN12C,EAAMrE,OACCqE,EAubX,MAjcAwwB,IAAU2lB,EAAW9kB,GAYrBglB,EAAcF,EACdA,EAAUz6C,UAAUC,KAAO,WACvBsE,KAAK02C,eACD7pC,GAAQ8pC,MACRtyC,GAAUrE,KAAK2B,SAAU,iBAE7B3B,KAAKy2C,WAAWz2C,KAAK42C,WAEzBV,EAAUG,mBAAqB,WAC3B,MAAO13C,MAAWq3C,KAEtBE,EAAUz6C,UAAUi7C,aAAe,SAAUG,GACzC,GAAInyC,EACCpH,GAAY0C,KAAK82C,UAClBpyC,EAAMwB,EAAOlG,KAAK82C,OAAQ92C,KAAK2B,UAE/Bk1C,EACA7wC,GAAaf,OAAOP,GAAO1E,KAAK2B,QAASkL,GAAQujB,gBAAiBpwB,KAAK+2C,YAGvE/wC,GAAalB,IAAIJ,GAAO1E,KAAK2B,QAASkL,GAAQujB,gBAAiBpwB,KAAK+2C,WAAY/2C,OAGxFk2C,EAAUz6C,UAAUs7C,WAAa,SAAUC,GAKvC,GAJAh3C,KAAKqJ,OAAS2tC,EAAIC,cACdj3C,KAAKk3C,iBAAmB55C,EAAY05C,EAAIG,iBACxCH,EAAIE,kBAEJl3C,KAAKo3C,OACAx5C,EAAkB0I,EAAQ0wC,EAAI3tC,OAAQrJ,KAAKo3C,QADpD,CAKAp3C,KAAK2B,QAAQuC,aAAa,eAAgB,OAC1C,IAAImzC,GAAWr3C,KAAKs3C,eAAeN,EAEnC,IADAh3C,KAAKu3C,iBAAoBjpC,EAAG+oC,EAAS/pC,MAAOiB,EAAG8oC,EAAS3pC,QACnD1N,KAAKX,MAAO,CACb,GAAIwxC,GAAM7wC,KAAK2B,QAAQyL,uBACvBpN,MAAKw3C,kBAAoBH,EAAS/pC,MAAQujC,EAAI9iC,KAC9C/N,KAAKy3C,kBAAoBJ,EAAS3pC,MAAQmjC,EAAI5iC,IAElDjI,GAAalB,IAAI3D,SAAU0L,GAAQwjB,eAAgBrwB,KAAK03C,aAAc13C,MACtEgG,GAAalB,IAAI3D,SAAU0L,GAAQyjB,cAAetwB,KAAK23C,WAAY33C,MACnEA,KAAK02C,cAAa,GAClBv1C,SAASoM,KAAK/I,UAAUM,IAAI,oBAC5BkB,GAAaqa,QAAQlf,SAASy2C,gBAAiB/qC,GAAQujB,gBAAiB4mB,KAE5Ed,EAAUz6C,UAAUi8C,aAAe,SAAUV,GAEzC,KADqB15C,EAAY05C,EAAIG,iBACe,IAA9BH,EAAIG,eAAex6C,OAAzC,CAGA,GACIk0C,GADAgH,EAAe73C,KAAKs3C,eAAeN,GAEnCc,EAAYrpC,iBAAiBzO,KAAK2B,QACtC3B,MAAK6kB,QACD9W,KAAMsO,SAASy7B,EAAUC,WAAY,IACrC9pC,IAAKoO,SAASy7B,EAAUE,UAAW,IACnChqC,MAAOqO,SAASy7B,EAAUG,YAAa,IACvC/pC,OAAQmO,SAASy7B,EAAUI,aAAc,IAE7C,IAAIv2C,GAAU3B,KAAK2B,OACnB,IAAI3B,KAAKX,OAASW,KAAKm4C,WAAY,CAC/B,GAAIC,GAAa9xC,EAAQ0wC,EAAI3tC,OAAQrJ,KAAKm4C,WACrCv6C,GAAkBw6C,KACnBz2C,EAAUy2C,GAGlBp4C,KAAKmN,OAASnN,KAAKq4C,wBAAwB12C,GAC3C3B,KAAKuV,SAAWvV,KAAKs4C,iBAAiBtB,EACtC,IAAI1oC,GAAItO,KAAKu3C,gBAAgBjpC,EAAIupC,EAAavqC,MAC1CiB,EAAIvO,KAAKu3C,gBAAgBhpC,EAAIspC,EAAanqC,KAE9C,IADeE,KAAKQ,KAAME,EAAIA,EAAMC,EAAIA,IACxBvO,KAAKu4C,SAAU,CAC3B,GAAI7zC,GAAM1E,KAAKw4C,iBAAiBxB,EAChC,KAAKtyC,GAAO9G,EAAkB8G,GAC1B,MAEJ,IAAI+zC,GAAoBz4C,KAAK04C,cAAgBh0C,CAE7C,IADA1E,KAAK24C,iBAAmB34C,KAAKq4C,wBAAwBI,EAAkBG,cACnE54C,KAAK64C,UAAW,CAChB,GAAIC,GAAY94C,KAAK+4C,uBAAuB/B,EAC5Ch3C,MAAKqgB,QAAQ,aAAe7jB,MAAOw6C,EAAKr1C,QAASA,EAAS0H,OAAQyvC,IAElE94C,KAAKg5C,SACLh5C,KAAKi5C,eAGLj5C,KAAKm2C,WAAcpoC,KAAM,EAAGC,MAAO,EAAGE,OAAQ,EAAGD,IAAK,GACtDjO,KAAKw1B,aAAgBvnB,IAAK,EAAGF,KAAM,IAEvC8iC,GAAQ9iC,KAAM/N,KAAKuV,SAASxH,KAAO/N,KAAK24C,iBAAiB5qC,KAAME,IAAKjO,KAAKuV,SAAStH,IAAMjO,KAAK24C,iBAAiB1qC,KAC1GjO,KAAKX,QAAUW,KAAKk5C,iBACpBl5C,KAAKu2C,MAAQv2C,KAAKuV,SAASxH,KAAO/N,KAAKmN,OAAOY,KAC9C/N,KAAKw2C,MAAQx2C,KAAKuV,SAAStH,IAAMjO,KAAKmN,OAAOc,IAEjD,IAAIkrC,GAAWn5C,KAAKo5C,2BAA4BnrC,IAAM4iC,EAAI5iC,IAAMjO,KAAKw2C,MAAS,KAC1EzoC,KAAO8iC,EAAI9iC,KAAO/N,KAAKu2C,MAAS,MACpClvC,GAAkBoxC,GACdljC,SAAU,WAAYtH,IAAKkrC,EAASlrC,IAAKF,KAAMorC,EAASprC,OAE5D/H,GAAaf,OAAO9D,SAAU0L,GAAQwjB,eAAgBrwB,KAAK03C,cAC3D1xC,GAAaf,OAAO9D,SAAU0L,GAAQyjB,cAAetwB,KAAK23C,YACtDzyC,EAAUuzC,IACVzyC,GAAalB,IAAI3D,SAAU0L,GAAQwjB,eAAgBrwB,KAAKq5C,QAASr5C,MACjEgG,GAAalB,IAAI3D,SAAU0L,GAAQyjB,cAAetwB,KAAKs5C,YAAat5C,MACpEA,KAAKu5C,qBAAoB,EAAOv5C,KAAK2B,QAAS82C,IAG9Ct3C,SAASoM,KAAK/I,UAAUS,OAAO,uBAI3CixC,EAAUz6C,UAAU29C,0BAA4B,SAAUl8C,GAStD,MARI8C,MAAKqb,OACa,MAAdrb,KAAKqb,KACLne,EAAM+Q,IAAM,MAEO,MAAdjO,KAAKqb,OACVne,EAAM6Q,KAAO,QAGjB/N,KAAKw5C,kBACEx5C,KAAKw5C,kBAAkBt8C,GAE3BA,GAEXg5C,EAAUz6C,UAAU48C,wBAA0B,SAAU3zC,GACpD,GAAI9G,EAAkB8G,GAClB,OAASqJ,KAAM,EAAGE,IAAK,EAE3B,IAAI4L,GAAOnV,EAAI0I,wBACXjI,EAAQsJ,iBAAiB/J,EAC7B,QACIqJ,KAAO8L,EAAK9L,KAAO9R,OAAOw9C,YAAep9B,SAASlX,EAAM4yC,WAAY,IACpE9pC,IAAM4L,EAAK5L,IAAMhS,OAAOy9C,YAAer9B,SAASlX,EAAM6yC,UAAW,MAGzE9B,EAAUz6C,UAAU49C,QAAU,SAAUrC,GACpC,GAAK15C,EAAY05C,EAAIG,iBAAkD,IAA9BH,EAAIG,eAAex6C,OAA5D,CAGA,GAAIoR,GACAE,CACJjO,MAAKuV,SAAWvV,KAAKs4C,iBAAiBtB,EACtC,IAAI2C,GAAY35C,KAAK45C,uBAAuB,SACxCD,GAAY35C,KAAKuV,SAAStH,MAC1BjO,KAAKuV,SAAStH,IAAM0rC,EAExB,IAAIE,GAAW75C,KAAK45C,uBAAuB,QAI3C,IAHIC,EAAW75C,KAAKuV,SAASxH,OACzB/N,KAAKuV,SAASxH,KAAO8rC,GAErB75C,KAAK85C,KAAM,CACX,GAAIhB,GAAY94C,KAAK+4C,uBAAuB/B,EAC5Ch3C,MAAKqgB,QAAQ,QAAU7jB,MAAOw6C,EAAKr1C,QAAS3B,KAAK2B,QAAS0H,OAAQyvC,IAEtE,GAAIiB,GAAS/5C,KAAKg6C,mBAAmBhD,EACjC+C,GAAO1wC,QAAU0wC,EAAOp2C,UACxBo2C,EAAOp2C,SAASs2C,QAAQjD,EAAK+C,EAAO1wC,QAEpC0wC,EAAOp2C,SAASu2C,SAASl6C,KAAK42C,OAAS52C,KAAKy2C,WAAWz2C,KAAK42C,OAC5D52C,KAAKm6C,YAAcJ,GAEd/5C,KAAKm6C,cACVn6C,KAAKm6C,YAAYx2C,SAASy2C,OAAOpD,EAAK+C,EAAO1wC,QAC7CrJ,KAAKm6C,YAAYx2C,SAASu2C,SAASl6C,KAAK42C,OAAS,KACjD52C,KAAKm6C,YAAc,KAEvB,IAAIzB,GAAgB14C,KAAKy2C,WAAWz2C,KAAK42C,OAAO1lC,MAChDlR,MAAK24C,iBAAmB34C,KAAKq4C,wBAAwBr4C,KAAK04C,cAAcE,aACxE,IAAIyB,GAAQr6C,KAAK24C,iBAAiB5qC,KAC9BusC,EAAOt6C,KAAK24C,iBAAiB1qC,IAC7BopC,EAAWr3C,KAAKs3C,eAAeN,GAC/BuD,EAAQlD,EAAS/pC,MACjBktC,EAAQnD,EAAS3pC,MACjB+sC,EAAQz6C,KAAKuV,SAASxH,KAAO/N,KAAKu2C,MAClCmE,EAAO16C,KAAKuV,SAAStH,IAAMjO,KAAKw2C,KACpC,IAAIx2C,KAAKg5C,SAAU,CACf,GAAI/0C,GAASwK,iBAAiBiqC,EAC9B,IAAI14C,KAAKsN,QAAUitC,GAASv6C,KAAK26C,kBAAmB,CAChD,GAAIC,GAAclC,EAAcrzC,aAAe6e,WAAWjgB,EAAO8zC,YAC3D7zB,WAAWjgB,EAAOg0C,aAEpBlqC,GADA/N,KAAKm2C,UAAUpoC,KAAO0sC,EACfz6C,KAAKm2C,UAAUpoC,KAEjB/N,KAAKm2C,UAAUnoC,MAAQysC,EAAQG,EAC7B56C,KAAKm2C,UAAUnoC,MAAQ4sC,EAGvBH,EAGf,GAAIz6C,KAAK0N,QAAU8sC,GAASx6C,KAAK26C,kBAAmB,CAChD,GAAIE,GAAenC,EAAcoC,cAAgB52B,WAAWjgB,EAAO+zC,WAC7D9zB,WAAWjgB,EAAOi0C,cAEpBjqC,GADAjO,KAAKm2C,UAAUloC,IAAMysC,EACf16C,KAAKm2C,UAAUloC,IAEhBjO,KAAKm2C,UAAUjoC,OAASwsC,EAAOG,EAC9B76C,KAAKm2C,UAAUjoC,OAAS2sC,EAGxBH,OAKd3sC,GAAO0sC,EACPxsC,EAAMysC,CAEV,IAAIK,GAAOT,EAAOt6C,KAAKw1B,YAAYvnB,IAC/B+sC,EAAQX,EAAQr6C,KAAKw1B,YAAYznB,KACjCktC,EAAYj7C,KAAKo5C,2BAA4BnrC,IAAMA,EAAM8sC,EAAQ,KAAMhtC,KAAOA,EAAOitC,EAAS,MAClG3zC,GAAkBqxC,GAAiB3qC,KAAMktC,EAAUltC,KAAME,IAAKgtC,EAAUhtC,MACxEjO,KAAKuV,SAASxH,KAAOA,EACrB/N,KAAKuV,SAAStH,IAAMA,EACpBjO,KAAKsN,MAAQitC,EACbv6C,KAAK0N,MAAQ8sC,IAEjBtE,EAAUz6C,UAAUm+C,uBAAyB,SAAUvoC,GACnD,GAAI6pC,GAAU/5C,SAASoM,KACnB4tC,EAASh6C,SAASy2C,eAEtB,OADkBhqC,MAAKC,IAAIqtC,EAAQ,SAAW7pC,GAAM8pC,EAAO,SAAW9pC,GAAM6pC,EAAQ,SAAW7pC,GAAM8pC,EAAO,SAAW9pC,GAAM8pC,EAAO,SAAW9pC,KAGnJ6kC,EAAUz6C,UAAU69C,YAAc,SAAUtC,GACxC,GAAK15C,EAAY05C,EAAIG,iBAAkD,IAA9BH,EAAIG,eAAex6C,OAA5D,CAIA,IAAgC,KADpB,WAAY,YAAa,WAC5BuG,QAAQ8zC,EAAInvC,MAAc,CAC/B,GAAI7H,KAAKo7C,SAAU,CACf,GAAItC,GAAY94C,KAAK+4C,uBAAuB/B,EAC5Ch3C,MAAKqgB,QAAQ,YAAc7jB,MAAOw6C,EAAKr1C,QAAS3B,KAAK2B,QAAS0H,OAAQyvC,EAAW5nC,OAAQlR,KAAK04C,gBAElG14C,KAAK23C,WAAWX,OAGhBh3C,MAAK2B,QAAQuC,aAAa,eAAgB,QAE9C,IAAI61C,GAAS/5C,KAAKg6C,mBAAmBhD,EACjC+C,GAAO1wC,QAAU0wC,EAAOp2C,WACxBo2C,EAAOp2C,SAAS03C,gBAAiB,EACjCtB,EAAOp2C,SAASu2C,SAASl6C,KAAK42C,OAAS52C,KAAKy2C,WAAWz2C,KAAK42C,OAC5DmD,EAAOp2C,SAAS23C,QAAQtE,EAAK+C,EAAO1wC,SAExCrJ,KAAKu5C,qBAAoB,GACzBp4C,SAASoM,KAAK/I,UAAUS,OAAO,sBAEnCixC,EAAUz6C,UAAUk8C,WAAa,SAAUX,GACvCh3C,KAAK02C,eACLv1C,SAASoM,KAAK/I,UAAUS,OAAO,oBAC/BjF,KAAK2B,QAAQuC,aAAa,eAAgB,SAC1C8B,GAAaf,OAAO9D,SAAU0L,GAAQwjB,eAAgBrwB,KAAK03C,cAC3D1xC,GAAaf,OAAO9D,SAAU0L,GAAQyjB,cAAetwB,KAAKs5C,aAC1DtzC,GAAaf,OAAO9D,SAAU0L,GAAQyjB,cAAetwB,KAAK23C,YAC1D3xC,GAAaf,OAAO9D,SAAU0L,GAAQwjB,eAAgBrwB,KAAKq5C,UAG/DnD,EAAUz6C,UAAUqyB,kBAAoB,SAAUsF,EAASC,KAG3D6iB,EAAUz6C,UAAUuyB,cAAgB,WAChC,MAAO,aAEXkoB,EAAUz6C,UAAUw9C,YAAc,WAC9B,GAAIsC,GACAC,EAGA92C,EAFAuJ,EAAM,EACNF,EAAO,CASX,IALIrJ,EADS,iBADK1E,MAAKg5C,SAEb9yC,EAAOlG,KAAKg5C,UAGZh5C,KAAKg5C,SAEN,CACL,GAAIyC,GAAc/2C,EAAI0I,uBACtBmuC,GAAgBE,EAAYzjC,MAAQyjC,EAAYzjC,MAAQyjC,EAAYztC,MAAQytC,EAAY1tC,KACxFytC,EAAiBC,EAAY1hC,OAAS0hC,EAAY1hC,OAAS0hC,EAAYvtC,OAASutC,EAAYxtC,GAG5F,KAAK,GAFDxQ,IAAQ,MAAO,OAAQ,SAAU,SACjCwG,EAASwK,iBAAiB/J,GACrBrH,EAAI,EAAGA,EAAII,EAAKd,OAAQU,IAAK,CAClC,GAAIG,GAAMC,EAAKJ,GACXq+C,EAAUz3C,EAAO,SAAWzG,EAAM,SAClCm+C,EAAW13C,EAAO,UAAYzG,GAC9Bo+C,EAAWp+C,EAAI6gB,aACnBre,MAAKw1B,YAAYomB,GAAYxb,MAAMlc,WAAWw3B,IAAY,EAAIx3B,WAAWw3B,GACzE17C,KAAKs2C,QAAQsF,GAAYxb,MAAMlc,WAAWy3B,IAAa,EAAIz3B,WAAWy3B,GAE1E1tC,EAAMwtC,EAAYxtC,IAClBF,EAAO0tC,EAAY1tC,KACnB/N,KAAKm2C,UAAUpoC,KAAOA,EAAO/N,KAAKw1B,YAAYznB,KAAO/N,KAAKs2C,QAAQvoC,KAClE/N,KAAKm2C,UAAUloC,IAAMA,EAAMjO,KAAKw1B,YAAYvnB,IAAMjO,KAAKs2C,QAAQroC,IAC/DjO,KAAKm2C,UAAUnoC,MAAQD,EAAOwtC,GAAiBv7C,KAAKw1B,YAAYxnB,MAAQhO,KAAKs2C,QAAQtoC,OACrFhO,KAAKm2C,UAAUjoC,OAASD,EAAMutC,GAAkBx7C,KAAKw1B,YAAYtnB,OAASlO,KAAKs2C,QAAQpoC,UAG/FgoC,EAAUz6C,UAAUs9C,uBAAyB,SAAU/B,GACnD,GACItyC,GADA2yC,EAAWr3C,KAAKs3C,eAAeN,GAE/B6E,EAAY77C,KAAK04C,cAAcvzC,MAAM22C,SAAW,EASpD,OARI/6C,GAAqBi2C,EAAI3tC,OAAQrJ,KAAK04C,iBAAiD,IAA/B1B,EAAInvC,KAAK3E,QAAQ,UACzElD,KAAK04C,cAAcvzC,MAAM22C,QAAU,OACnCp3C,EAAMvD,SAAS46C,iBAAiB1E,EAAS2E,QAAS3E,EAAS4E,SAC3Dj8C,KAAK04C,cAAcvzC,MAAM22C,QAAUD,GAGnCn3C,EAAMsyC,EAAI3tC,OAEP3E,GAEXwxC,EAAUz6C,UAAU68C,iBAAmB,SAAUtB,GAC7C,GAAIK,GAAWr3C,KAAKs3C,eAAeN,GAC/B1pC,EAAQtN,KAAKX,MAAQg4C,EAAS/pC,MAAQ+pC,EAAS/pC,MAAQtN,KAAKw3C,kBAC5D9pC,EAAQ1N,KAAKX,MAAQg4C,EAAS3pC,MAAQ2pC,EAAS3pC,MAAQ1N,KAAKy3C,iBAChE,QACI1pC,KAAMT,GAAStN,KAAK6kB,OAAO9W,KAAO/N,KAAKk8C,SAASnuC,MAChDE,IAAKP,GAAS1N,KAAK6kB,OAAO5W,IAAMjO,KAAKk8C,SAASjuC,OAGtDioC,EAAUz6C,UAAU67C,eAAiB,SAAUN,GAC3C,MAAIA,GAAInvC,KAAK3E,QAAQ,UAAY,EACtB8zC,EAAIG,eAAe,GAEvBH,GAEXd,EAAUz6C,UAAU+8C,iBAAmB,SAAUxB,GAC7C,GAAIr1C,EAaJ,OAZI3B,MAAKX,MACDW,KAAKkR,OACLvP,EAAU3B,KAAKkR,QAASirC,OAAQnF,EAAKr1C,QAAS3B,KAAKqJ,UAGnD1H,EAAUG,EAAc,OAASiC,UAAW,8BAA+BrB,UAAW,cACtFvB,SAASoM,KAAKlL,YAAYV,IAI9BA,EAAU3B,KAAK2B,QAEZA,GAEXu0C,EAAUz6C,UAAU89C,oBAAsB,SAAU6C,EAAOtC,EAAM5oC,GAC7DlR,KAAKy2C,WAAWz2C,KAAK42C,OAASwF,EAAQ,MAClCC,UAAWvC,EACX5oC,OAAQA,EACRorC,eAAgBt8C,KAAK2B,UAG7Bu0C,EAAUz6C,UAAUu+C,mBAAqB,SAAUhD,GAC/C,GAAI3tC,GAASrJ,KAAK+4C,uBAAuB/B,GACrCuF,EAAUv8C,KAAKw8C,gBAAgBnzC,EACnC,KAAKkzC,GAAWlzC,IAAWzL,EAAkByL,EAAOjI,YAAa,CAC7D,GAAIq7C,GAAWn2C,EAAQ+C,EAAOjI,WAAY,iBAAmBiI,EAAOqzC,aAChED,KACAF,EAAUv8C,KAAKw8C,gBAAgBC,IAGvC,OAASpzC,OAAQA,EAAQ1F,SAAU44C,IAEvCrG,EAAUz6C,UAAU+gD,gBAAkB,SAAU93C,GAC5C,GACIi4C,GACAC,EAAUl4C,GAAOA,EAAIupB,aACzB,IAAI2uB,EACA,IAAK,GAAIp+C,GAAK,EAAGq+C,EAAYD,EAASp+C,EAAKq+C,EAAUlgD,OAAQ6B,IAAM,CAC/D,GAAIiF,GAAOo5C,EAAUr+C,EACrB,IAAqB,cAAjBiF,EAAS,gBAAqB,CAC9Bk5C,EAAOl5C,CACP,QAIZ,MAAOk5C,IAEXzG,EAAUz6C,UAAUixB,QAAU,WAC1B1sB,KAAK02C,cAAa,GAClBtlB,EAAO31B,UAAUixB,QAAQ5rB,KAAKd,OAElC6wB,IACIhnB,MAAYosC,KACbC,EAAUz6C,UAAW,eAAY,IACpCo1B,IACIznB,GAAS,IACV8sC,EAAUz6C,UAAW,YAAS,IACjCo1B,IACIznB,KACD8sC,EAAUz6C,UAAW,eAAY,IACpCo1B,IACI5mB,MACDisC,EAAUz6C,UAAW,WAAQ,IAChCo1B,IACI5mB,MACDisC,EAAUz6C,UAAW,gBAAa,IACrCo1B,IACI5mB,MACDisC,EAAUz6C,UAAW,eAAY,IACpCo1B,IACIznB,EAAS,IACV8sC,EAAUz6C,UAAW,eAAY,IACpCo1B,IACIznB,KACD8sC,EAAUz6C,UAAW,aAAU,IAClCo1B,IACIznB,KACD8sC,EAAUz6C,UAAW,YAAS,IACjCo1B,IACIznB,KACD8sC,EAAUz6C,UAAW,aAAU,IAClCo1B,IACIznB,EAAS,YACV8sC,EAAUz6C,UAAW,YAAS,IACjCo1B,IACIznB,EAAS,KACV8sC,EAAUz6C,UAAW,iBAAc,IACtCo1B,IACIznB,KACD8sC,EAAUz6C,UAAW,WAAQ,IAChCo1B,IACIznB,KACD8sC,EAAUz6C,UAAW,wBAAqB,IAC7Co1B,IACIznB,GAAS,IACV8sC,EAAUz6C,UAAW,qBAAkB,IAC1Co1B,IACIznB,GAAS,IACV8sC,EAAUz6C,UAAW,wBAAqB,IAC7Co1B,IACIznB,GAAS,IACV8sC,EAAUz6C,UAAW,qBAAkB,IAC1Cy6C,EAAYE,EAAcvlB,IACtBtmB,IACD2rC,EAEH,IAAIE,IACNxpB,ICjgBE2D,GAAwC,WACxC,GAAIC,GAAgB9xB,OAAO+xB,iBACpBC,uBAA2B9pB,QAAS,SAAUwa,EAAG7K,GAAK6K,EAAEsP,UAAYna,IACvE,SAAU6K,EAAG7K,GAAK,IAAK,GAAIoa,KAAKpa,GAAOA,EAAEzO,eAAe6oB,KAAIvP,EAAEuP,GAAKpa,EAAEoa,IACzE,OAAO,UAAUvP,EAAG7K,GAEhB,QAASqa,KAAO5wB,KAAKhC,YAAcojB,EADnCoP,EAAcpP,EAAG7K,GAEjB6K,EAAE3lB,UAAkB,OAAN8a,EAAa7X,OAAOsN,OAAOuK,IAAMqa,EAAGn1B,UAAY8a,EAAE9a,UAAW,GAAIm1B,QAGnFC,GAA0C,SAAUC,EAAYznB,EAAQ7L,EAAKuzB,GAC7E,GAA2H3P,GAAvH4P,EAAI/xB,UAAUtC,OAAQie,EAAIoW,EAAI,EAAI3nB,EAAkB,OAAT0nB,EAAgBA,EAAOryB,OAAOuyB,yBAAyB5nB,EAAQ7L,GAAOuzB,CACrH,IAAuB,gBAAZG,UAAoD,kBAArBA,SAAQC,SAAyBvW,EAAIsW,QAAQC,SAASL,EAAYznB,EAAQ7L,EAAKuzB,OACpH,KAAK,GAAI1zB,GAAIyzB,EAAWn0B,OAAS,EAAGU,GAAK,EAAGA,KAAS+jB,EAAI0P,EAAWzzB,MAAIud,GAAKoW,EAAI,EAAI5P,EAAExG,GAAKoW,EAAI,EAAI5P,EAAE/X,EAAQ7L,EAAKod,GAAKwG,EAAE/X,EAAQ7L,KAASod,EAChJ,OAAOoW,GAAI,GAAKpW,GAAKlc,OAAOiL,eAAeN,EAAQ7L,EAAKod,GAAIA,GAuB5DkiC,GAAqC,YAErC,QAASA,GAAUn7C,EAASiV,GACxB,GAAI7W,GAAQqxB,EAAOtwB,KAAKd,KAAM4W,EAASjV,IAAY3B,IAKnD,OAJAD,GAAMg9C,WAAY,EAClBh9C,EAAMm6C,YACNn6C,EAAMs7C,gBAAiB,EACvBt7C,EAAMrE,OACCqE,EAsFX,MA7FAwwB,IAAUusB,EAAW1rB,GASrB0rB,EAAUrhD,UAAUC,KAAO,WACvBsE,KAAKg9C,cAETF,EAAUrhD,UAAUuhD,WAAa,WAC7Bh3C,GAAalB,IAAI9E,KAAK2B,QAASkL,GAAQyjB,cAAetwB,KAAKs7C,QAASt7C,OAGxE88C,EAAUrhD,UAAUqyB,kBAAoB,SAAUsF,EAASC,KAG3DypB,EAAUrhD,UAAUuyB,cAAgB,WAChC,MAAO,aAEX8uB,EAAUrhD,UAAUw+C,QAAU,SAAUz9C,EAAOmF,GACtC3B,KAAK+8C,YACN/8C,KAAKqgB,QAAQ,QAAU7jB,MAAOA,EAAO6M,OAAQ1H,IAC7C3B,KAAK+8C,WAAY,IAGzBD,EAAUrhD,UAAU2+C,OAAS,SAAU59C,EAAOmF,GACtC3B,KAAK+8C,YACL/8C,KAAKqgB,QAAQ,OAAS22B,IAAKx6C,EAAO6M,OAAQ1H,IAC1C3B,KAAK+8C,WAAY,IAGzBD,EAAUrhD,UAAU6/C,QAAU,SAAUtE,EAAKr1C,GACzC,GAAK3B,KAAKq7C,eAAV,CAIIr7C,KAAKq7C,gBAAiB,CAE1B,IAGI4B,GAHAC,GAAS,EACTpD,EAAO95C,KAAKk6C,SAASl6C,KAAK42C,OAC1BuG,IAASrD,IAAQA,EAAK5oC,QAAUhM,EAAU40C,EAAK5oC,QAE/CisC,KACAF,EAAOj9C,KAAKo9C,WAAWpG,EAAK8C,EAAK5oC,OAAQvP,GACrC3B,KAAKk9C,SACLA,EAASz2C,EAAQqzC,EAAK5oC,OAAQlR,KAAKk9C,UAGvCC,GAAUn9C,KAAK28C,MAAQM,EAAKI,SAAWH,GACvCl9C,KAAKqgB,QAAQ,QAAU7jB,MAAOw6C,EAAK3tC,OAAQ4zC,EAAK5zC,OAAQi0C,eAAgBxD,EAAK5oC,OAAQgpC,SAAUJ,MAGvGgD,EAAUrhD,UAAU2hD,WAAa,SAAUpG,EAAK9lC,EAAQvP,GACpD,GAAIs7C,IAASI,SAAS,EAAMh0C,OAAQ1H,GAAWq1C,EAAI3tC,QAC/CyO,EAAuB,aAAbk/B,EAAInvC,IAClB,IAAIiQ,GAAWmlC,EAAK5zC,SAAW6H,EAAQ,CACnCA,EAAO/L,MAAM22C,QAAU,MACvB,IAAIyB,GAAQzlC,EAAWk/B,EAAIG,eAAe,GAAMH,EAC5CtyC,EAAMvD,SAAS46C,iBAAiBwB,EAAMvB,QAASuB,EAAMtB,QACzDgB,GAAKI,SAAU,EACfJ,EAAKI,QAAUt8C,EAAqB2D,EAAK1E,KAAK2B,SAC1Cs7C,EAAKI,UACLJ,EAAK5zC,OAAS3E,GAElBwM,EAAO/L,MAAM22C,QAAU,GAE3B,MAAOmB,IAEXH,EAAUrhD,UAAUixB,QAAU,WAC1B1mB,GAAaf,OAAOjF,KAAK2B,QAASkL,GAAQyjB,cAAetwB,KAAKs7C,SAC9DlqB,EAAO31B,UAAUixB,QAAQ5rB,KAAKd,OAElC6wB,IACIznB,KACD0zC,EAAUrhD,UAAW,aAAU,IAClCo1B,IACIznB,EAAS,YACV0zC,EAAUrhD,UAAW,YAAS,IACjCo1B,IACI5mB,MACD6yC,EAAUrhD,UAAW,WAAQ,IAChCo1B,IACI5mB,MACD6yC,EAAUrhD,UAAW,WAAQ,IAChCo1B,IACI5mB,MACD6yC,EAAUrhD,UAAW,UAAO,IAC/BqhD,EAAYjsB,IACRtmB,IACDuyC,IAELlwB,ICpIE2D,GAAwC,WACxC,GAAIC,GAAgB9xB,OAAO+xB,iBACpBC,uBAA2B9pB,QAAS,SAAUwa,EAAG7K,GAAK6K,EAAEsP,UAAYna,IACvE,SAAU6K,EAAG7K,GAAK,IAAK,GAAIoa,KAAKpa,GAAOA,EAAEzO,eAAe6oB,KAAIvP,EAAEuP,GAAKpa,EAAEoa,IACzE,OAAO,UAAUvP,EAAG7K,GAEhB,QAASqa,KAAO5wB,KAAKhC,YAAcojB,EADnCoP,EAAcpP,EAAG7K,GAEjB6K,EAAE3lB,UAAkB,OAAN8a,EAAa7X,OAAOsN,OAAOuK,IAAMqa,EAAGn1B,UAAY8a,EAAE9a,UAAW,GAAIm1B,QAGnFC,GAA0C,SAAUC,EAAYznB,EAAQ7L,EAAKuzB,GAC7E,GAA2H3P,GAAvH4P,EAAI/xB,UAAUtC,OAAQie,EAAIoW,EAAI,EAAI3nB,EAAkB,OAAT0nB,EAAgBA,EAAOryB,OAAOuyB,yBAAyB5nB,EAAQ7L,GAAOuzB,CACrH,IAAuB,gBAAZG,UAAoD,kBAArBA,SAAQC,SAAyBvW,EAAIsW,QAAQC,SAASL,EAAYznB,EAAQ7L,EAAKuzB,OACpH,KAAK,GAAI1zB,GAAIyzB,EAAWn0B,OAAS,EAAGU,GAAK,EAAGA,KAAS+jB,EAAI0P,EAAWzzB,MAAIud,GAAKoW,EAAI,EAAI5P,EAAExG,GAAKoW,EAAI,EAAI5P,EAAE/X,EAAQ7L,EAAKod,GAAKwG,EAAE/X,EAAQ7L,KAASod,EAChJ,OAAOoW,GAAI,GAAKpW,GAAKlc,OAAOiL,eAAeN,EAAQ7L,EAAKod,GAAIA,GAI5D4iC,IACAC,UAAa,EACbC,IAAO,EACPC,MAAS,GACThyB,MAAS,GACTiyB,QAAW,GACXC,IAAO,GACPC,MAAS,GACTC,SAAY,GACZh4B,MAAS,GACTi4B,OAAU,GACVC,OAAU,GACVC,SAAY,GACZ/9B,IAAO,GACPg+B,KAAQ,GACRC,UAAa,GACbC,QAAW,GACXC,WAAc,GACdC,UAAa,GACbC,OAAU,GACVC,OAAU,GACVC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,IAAO,IACPC,IAAO,IACPC,IAAO,IACPC,UAAa,IACbC,KAAQ,IACRC,MAAS,IACTC,MAAS,IACTC,IAAO,IACPC,aAAgB,IAChBC,YAAe,IACfC,YAAe,IACfC,UAAa,IACbC,aAAgB,IAChBC,YAAe,KAkBfC,GAA0C,YAO1C,QAASA,GAAet+C,EAASiV,GAC7B,GAAI7W,GAAQqxB,EAAOtwB,KAAKd,KAAM4W,EAASjV,IAAY3B,IA2BnD,OAvBAD,GAAMmgD,gBAAkB,SAAU1+C,GAM9B,IAAK,GALD2+C,GAAW3+C,EAAE4+C,OACbC,EAAY7+C,EAAE8+C,QACdC,EAAa/+C,EAAEg/C,SACfC,EAAaj/C,EAAEk/C,MAEVliD,EAAK,EAAGC,EADNC,OAAOjB,KAAKsC,EAAM4gD,YACGniD,EAAKC,EAAO9B,OAAQ6B,IAGhD,IAAK,GAFDhB,GAAMiB,EAAOD,GAERgF,EAAK,EAAGo9C,EADM7gD,EAAM4gD,WAAWnjD,GAAKJ,MAAM,KACKoG,EAAKo9C,EAAmBjkD,OAAQ6G,IAAM,CAC1F,GAAIq9C,GAAUD,EAAmBp9C,GAC7Bs9C,EAAUC,EAAiBC,iBAAiBH,EAAQ3uC,OACpDiuC,KAAaW,EAAQV,QAAUC,IAAcS,EAAQR,SACrDC,IAAeO,EAAQN,UAAYC,IAAeK,EAAQtD,UAC1Dh8C,EAAEy/C,OAASzjD,EACPuC,EAAMmhD,WACNnhD,EAAMmhD,UAAU1/C,MAMpCzB,EAAMrE,OACCqE,EAsFX,MAxHAwwB,IAAU0vB,EAAgB7uB,GAoC1B2vB,EAAmBd,EAKnBA,EAAexkD,UAAUixB,QAAU,WAC/B1sB,KAAKmhD,eACL/vB,EAAO31B,UAAUixB,QAAQ5rB,KAAKd,OASlCigD,EAAexkD,UAAUqyB,kBAAoB,SAAUsF,EAASC,KAIhE4sB,EAAexkD,UAAUC,KAAO,WAC5BsE,KAAKg9C,cAMTiD,EAAexkD,UAAUuyB,cAAgB,WACrC,MAAO,YAKXiyB,EAAexkD,UAAUuhD,WAAa,WAClCh9C,KAAK2B,QAAQ/E,iBAAiBoD,KAAKkrB,UAAWlrB,KAAKkgD,kBAKvDD,EAAexkD,UAAU0lD,aAAe,WACpCnhD,KAAK2B,QAAQ7E,oBAAoBkD,KAAKkrB,UAAWlrB,KAAKkgD,kBAO1DD,EAAee,iBAAmB,SAAUI,GACxC,GAAIA,IAAUphD,MAAKqhD,YACf,MAAOrhD,MAAKqhD,YAAYD,EAE5B,IAAI3jD,GAAO2jD,EAAO/iC,cAAcjhB,MAAM,KAClCkkD,GACAlB,QAAkC,IAAzB3iD,EAAKyF,QAAQ,OACtBo9C,SAAoC,IAA1B7iD,EAAKyF,QAAQ,QACvBs9C,UAAsC,IAA3B/iD,EAAKyF,QAAQ,SACxBs6C,QAAS,KASb,OAPI//C,GAAKA,EAAKd,OAAS,GAAGA,OAAS,GAAOgiB,OAAOlhB,EAAKA,EAAKd,OAAS,IAChE2kD,EAAQ9D,QAAU7+B,OAAOlhB,EAAKA,EAAKd,OAAS,IAG5C2kD,EAAQ9D,QAAUuD,EAAiBQ,WAAW9jD,EAAKA,EAAKd,OAAS,IAErEokD,EAAiBM,YAAYD,GAAUE,EAChCA,GAGXrB,EAAesB,WAAa,SAAUC,GAClC,MAAOhE,IAAQgE,IAAWA,EAAOr4B,cAAcs4B,WAAW,IAE9DxB,EAAeoB,eACfxwB,IACIznB,OACD62C,EAAexkD,UAAW,iBAAc,IAC3Co1B,IACIznB,EAAS,UACV62C,EAAexkD,UAAW,gBAAa,IAC1Co1B,IACI5mB,MACDg2C,EAAexkD,UAAW,gBAAa,IAC1CwkD,EAAiBc,EAAmBlwB,IAChCtmB,IACD01C,EAEH,IAAIc,IACNn0B,ICjLE80B,cAIA,QAASA,GAAKC,EAAaC,EAAepyC,GACtCxP,KAAK2hD,YAAcA,EACnB3hD,KAAK4hD,cAAgBA,EACrB5hD,KAAK6hD,UAAUryC,GAAUH,IAwC7B,MAjCAqyC,GAAKjmD,UAAUomD,UAAY,SAAUryC,GACjC,GAAIsyC,GAAY9hD,KAAK+hD,sBAAsBL,EAAKlyC,OAAQA,EACxDxP,MAAKgiD,cAAgBF,GAAa9hD,KAAK4hD,eAM3CF,EAAKO,KAAO,SAAUC,GAClBliD,KAAKwP,OAAS7Q,EAAOqB,KAAKwP,OAAQ0yC,MAAkB,IAOxDR,EAAKjmD,UAAU0mD,YAAc,SAAUz2C,GAEnC,MAAO1L,MAAKgiD,cAAct2C,IAAS1L,KAAK4hD,cAAcl2C,IAAS,IAQnEg2C,EAAKjmD,UAAUsmD,sBAAwB,SAAUz1B,EAAW9c,GACxD,MAAI8c,GAAU9c,GACH8c,EAAU9c,GAAQxP,KAAK2hD,aAE3B,MAEXD,EAAKlyC,UACEkyC,KCpEP5qC,cAEA,QAASA,GAAYyc,GAEjBvzB,KAAKoiD,QAAU,6BACfpiD,KAAKwzB,OAASD,EAkWlB,MA9VAzc,GAAYrb,UAAUg4B,eAAiB,SAAU7c,EAASpZ,GACtD,MAAOoZ,GAAQpZ,IAOnBsZ,EAAYrb,UAAU8rB,UAAY,SAAU3Q,GAUxC,MATIhZ,GAAkBgZ,EAAQ5S,MAC1B4S,EAAQ5S,GAAKhE,KAAKwzB,OAAS,QAE/BxzB,KAAKqiD,OAASlhD,SAASmU,eAAesB,EAAQ5S,IAC1CpG,EAAkBuD,SAASmU,eAAesB,EAAQ5S,OAClDhE,KAAKqiD,OAASlhD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,QAEzDpiD,KAAKqiD,OAASriD,KAAK83B,qBAAqBlhB,EAAS5W,KAAKqiD,QACtDriD,KAAKuiD,WAAW3rC,EAAQoB,MAAOpB,EAAQmD,QAChC/Z,KAAKqiD,QAGhBvrC,EAAYrb,UAAU8mD,WAAa,SAAUvqC,EAAO+B,GAChD,GAAIpY,GAAUR,SAASmU,eAAetV,KAAKwzB,QACvC/d,EAAQ7X,EAAkB+D,GAA6C,KAAlCA,EAAQyL,uBAC7CxP,GAAkBoC,KAAKgY,QAAUhY,KAAKgY,OAAS,EAC/ChY,KAAKqiD,OAAOn+C,aAAa,QAAS8T,EAAQA,EAAMnX,WAAa4U,EAAKuC,MAAMnX,YAGxEb,KAAKqiD,OAAOn+C,aAAa,QAASlE,KAAKgY,MAAMnX,YAE7CjD,EAAkBoC,KAAK+Z,SAAW/Z,KAAK+Z,QAAU,EACjD/Z,KAAKqiD,OAAOn+C,aAAa,SAAU6V,EAASA,EAAOlZ,WAAa,OAGhEb,KAAKqiD,OAAOn+C,aAAa,SAAUlE,KAAK+Z,OAAOlZ,aAQvDiW,EAAYrb,UAAU+hB,SAAW,SAAU5G,GACvC,GAAImK,GAAO5f,SAASmU,eAAesB,EAAQ5S,GAK3C,OAJa,QAAT+c,IACAA,EAAO5f,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,SAElDrhC,EAAO/gB,KAAK83B,qBAAqBlhB,EAASmK,IAQ9CjK,EAAYrb,UAAU44B,SAAW,SAAUzd,GACvC,GAAI4rC,GAAOrhD,SAASmU,eAAesB,EAAQ5S,GAK3C,OAJa,QAATw+C,IACAA,EAAOrhD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,SAElDI,EAAOxiD,KAAK83B,qBAAqBlhB,EAAS4rC,IAQ9C1rC,EAAYrb,UAAUo5B,cAAgB,SAAUje,GAC5C,GAAI6rC,GAAYthD,SAASmU,eAAesB,EAAQ5S,GAKhD,OAJkB,QAAdy+C,IACAA,EAAYthD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,SAEvDK,EAAYziD,KAAK83B,qBAAqBlhB,EAAS6rC,IAQnD3rC,EAAYrb,UAAUi7B,WAAa,SAAU9f,GACzC,GAAI8rC,GAASvhD,SAASmU,eAAesB,EAAQ5S,GAK7C,OAJe,QAAX0+C,IACAA,EAASvhD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,WAEpDM,EAAS1iD,KAAK83B,qBAAqBlhB,EAAS8rC,IAQhD5rC,EAAYrb,UAAUk7B,aAAe,SAAU/f,GAC3C,GAAI+rC,GAAWxhD,SAASmU,eAAesB,EAAQ5S,GAK/C,OAJiB,QAAb2+C,IACAA,EAAWxhD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,aAEtDO,EAAW3iD,KAAK83B,qBAAqBlhB,EAAS+rC,IAQlD7rC,EAAYrb,UAAUm7B,YAAc,SAAUhgB,GAC1C,GAAIgsC,GAAUzhD,SAASmU,eAAesB,EAAQ5S,GAK9C,OAJgB,QAAZ4+C,IACAA,EAAUzhD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,YAErDQ,EAAU5iD,KAAK83B,qBAAqBlhB,EAASgsC,IAQjD9rC,EAAYrb,UAAUonD,YAAc,SAAUjsC,GAC1C,GAAIksC,GAAU3hD,SAASmU,eAAesB,EAAQ5S,GAK9C,OAJgB,QAAZ8+C,IACAA,EAAU3hD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,YAErDU,EAAU9iD,KAAK83B,qBAAqBlhB,EAASksC,IAQjDhsC,EAAYrb,UAAUw7B,UAAY,SAAUrgB,GACxC,GAAImsC,GAAM5hD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,QAcjD,OAbAW,GAAIC,eAAe,KAAM,SAAUpsC,EAAQmD,OAAOlZ,YAClDkiD,EAAIC,eAAe,KAAM,QAASpsC,EAAQoB,MAAMnX,YAChDkiD,EAAIC,eAAe,+BAAgC,OAAQpsC,EAAQ2K,MACnEwhC,EAAIC,eAAe,KAAM,IAAKpsC,EAAQtI,EAAEzN,YACxCkiD,EAAIC,eAAe,KAAM,IAAKpsC,EAAQrI,EAAE1N,YACxCkiD,EAAIC,eAAe,KAAM,KAAMpsC,EAAQ5S,IACvC++C,EAAIC,eAAe,KAAM,aAAcpsC,EAAQxR,YAC1CxH,EAAkBoC,KAAKyzB,eAAe7c,EAAS,eAChDmsC,EAAIC,eAAe,KAAM,YAAahjD,KAAKyzB,eAAe7c,EAAS,cAElEhZ,EAAkBgZ,EAAQqsC,sBAC3BF,EAAIC,eAAe,KAAM,sBAAuBpsC,EAAQqsC,qBAErDF,GAOXjsC,EAAYrb,UAAU2b,WAAa,SAAUR,EAASgK,GAClD,GAAIzL,GAAOhU,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,OAKlD,OAJAjtC,GAAOnV,KAAK83B,qBAAqBlhB,EAASzB,GACrCvX,EAAkBgjB,KACnBzL,EAAK+tC,YAActiC,GAEhBzL,GAQX2B,EAAYrb,UAAU0rB,YAAc,SAAUvQ,EAASgK,GACnD,GAAIuiC,GAAQhiD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,QAKnD,OAJAe,GAAQnjD,KAAK83B,qBAAqBlhB,EAASusC,GACtCvlD,EAAkBgjB,KACnBuiC,EAAMD,YAActiC,GAEjBuiC,GAOXrsC,EAAYrb,UAAU2nD,YAAc,SAAUjuC,GAC1C,GAAIsS,GAAQtmB,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,QAEnD,OADA36B,GAAMy7B,YAAc/tC,EACbsS,GAMX3Q,EAAYrb,UAAU4nD,WAAa,WAE/B,MADWliD,UAASmhD,gBAAgBtiD,KAAKoiD,QAAS,SAQtDtrC,EAAYrb,UAAU6nD,eAAiB,SAAU1sC,GAC7C,GAAI2sC,GAAWpiD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,WAEtD,OADAmB,GAAWvjD,KAAK83B,qBAAqBlhB,EAAS2sC,IAQlDzsC,EAAYrb,UAAU+nD,oBAAsB,SAAU5sC,GAClD,GAAI6sC,GAAgBtiD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,gBAE3D,OADAqB,GAAgBzjD,KAAK83B,qBAAqBlhB,EAAS6sC,IAQvD3sC,EAAYrb,UAAUioD,YAAc,SAAU9sC,GAC1C,GAAI6jB,GAAQt5B,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,IAEnD,OADA3nB,GAAQz6B,KAAK83B,qBAAqBlhB,EAAS6jB,IAS/C3jB,EAAYrb,UAAUkoD,cAAgB,SAAU/sC,EAASjV,GACrD,GAAI+O,GAAUvP,SAASmhD,gBAAgBtiD,KAAKoiD,QAASzgD,EAErD,OADA+O,GAAU1Q,KAAK83B,qBAAqBlhB,EAASlG,IAWjDoG,EAAYrb,UAAUg8B,qBAAuB,SAAUJ,EAAQvY,EAAMlI,GACjE,GAAI8gB,EACJ,IAAK95B,EAAkBy5B,EAAO,GAAGE,WAa7BG,EAAYL,EAAO,GAAGzZ,MAAM/c,eAba,CACzC,GAAI+iD,IACA5/C,GAAMhE,KAAKwzB,OAAS,IAAM1U,EAAO,iBACjCoC,GAAMtK,EAAQsK,GAAK,IACnBC,GAAMvK,EAAQuK,GAAK,IACnBvG,EAAKhE,EAAQgE,EAAI,IACjBipC,GAAMjtC,EAAQitC,GAAK,IACnBC,GAAMltC,EAAQktC,GAAK,IAEvB9jD,MAAK+jD,aAAa,iBAAkBH,EAAYvsB,GAChDK,EAAY,QAAU13B,KAAKwzB,OAAS,IAAM1U,EAAO,kBAKrD,MAAO4Y,IAUX5gB,EAAYrb,UAAU27B,qBAAuB,SAAUC,EAAQvY,EAAMlI,GACjE,GAAI8gB,EACJ,IAAK95B,EAAkBy5B,EAAO,GAAGE,WAY7BG,EAAYL,EAAO,GAAGzZ,MAAM/c,eAZa,CACzC,GAAI+iD,IACA5/C,GAAMhE,KAAKwzB,OAAS,IAAM1U,EAAO,iBACjCiE,GAAMnM,EAAQmM,GAAK,IACnBC,GAAMpM,EAAQoM,GAAK,IACnBC,GAAMrM,EAAQqM,GAAK,IACnBC,GAAMtM,EAAQsM,GAAK,IAEvBljB,MAAK+jD,aAAa,iBAAkBH,EAAYvsB,GAChDK,EAAY,QAAU13B,KAAKwzB,OAAS,IAAM1U,EAAO,kBAKrD,MAAO4Y,IAUX5gB,EAAYrb,UAAUsoD,aAAe,SAAUC,EAAcptC,EAASygB,GAClE,GAAI4sB,GAAOjkD,KAAKqjD,aACZa,EAAW/iD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS4B,EACtDE,GAAWlkD,KAAK83B,qBAAqBlhB,EAASstC,EAC9C,KAAK,GAAI7mD,GAAI,EAAGA,EAAIg6B,EAAO16B,OAAQU,IAAK,CACpC,GAAI8mD,GAAShjD,SAASmhD,gBAAgBtiD,KAAKoiD,QAAS,OACpD+B,GAAOjgD,aAAa,SAAUmzB,EAAOh6B,GAAGk6B,WACxC4sB,EAAOjgD,aAAa,aAAcmzB,EAAOh6B,GAAGugB,OAC5CumC,EAAOjgD,aAAa,eAAgB,KACpCggD,EAAS7hD,YAAY8hD,GAGzB,MADAF,GAAK5hD,YAAY6hD,GACVD,GAOXntC,EAAYrb,UAAU2oD,aAAe,SAAUxtC,GAC3C,GAAIqtC,GAAOjkD,KAAKqjD,aACZE,EAAWvjD,KAAKsjD,gBAAiBt/C,GAAM4S,EAAQ5S,KAC/C6V,EAAO7Z,KAAK60B,cAAcje,EAG9B,OAFA2sC,GAASlhD,YAAYwX,GACrBoqC,EAAK5hD,YAAYkhD,GACVU,GAOXntC,EAAYrb,UAAU4oD,qBAAuB,SAAUztC,GACnD,GAAIqtC,GAAOjkD,KAAKqjD,aACZE,EAAWvjD,KAAKsjD,gBAAiBt/C,GAAM4S,EAAQ5S,KAC/C0+C,EAAS1iD,KAAK02B,WAAW9f,EAG7B,OAFA2sC,GAASlhD,YAAYqgD,GACrBuB,EAAK5hD,YAAYkhD,GACVU,GAQXntC,EAAYrb,UAAUq8B,qBAAuB,SAAUlhB,EAASjV,GAE5D,IAAK,GADDlE,GAAOiB,OAAOjB,KAAKmZ,GACdvZ,EAAI,EAAGA,EAAII,EAAKd,OAAQU,IAC7BsE,EAAQuC,aAAazG,EAAKJ,GAAIuZ,EAAQnZ,EAAKJ,IAE/C,OAAOsE,IAEJmV,KC3WPyZ,GAAwC,WACxC,GAAIC,GAAgB9xB,OAAO+xB,iBACpBC,uBAA2B9pB,QAAS,SAAUwa,EAAG7K,GAAK6K,EAAEsP,UAAYna,IACvE,SAAU6K,EAAG7K,GAAK,IAAK,GAAIoa,KAAKpa,GAAOA,EAAEzO,eAAe6oB,KAAIvP,EAAEuP,GAAKpa,EAAEoa,IACzE,OAAO,UAAUvP,EAAG7K,GAEhB,QAASqa,KAAO5wB,KAAKhC,YAAcojB,EADnCoP,EAAcpP,EAAG7K,GAEjB6K,EAAE3lB,UAAkB,OAAN8a,EAAa7X,OAAOsN,OAAOuK,IAAMqa,EAAGn1B,UAAY8a,EAAE9a,UAAW,GAAIm1B,QAGnFC,GAA0C,SAAUC,EAAYznB,EAAQ7L,EAAKuzB,GAC7E,GAA2H3P,GAAvH4P,EAAI/xB,UAAUtC,OAAQie,EAAIoW,EAAI,EAAI3nB,EAAkB,OAAT0nB,EAAgBA,EAAOryB,OAAOuyB,yBAAyB5nB,EAAQ7L,GAAOuzB,CACrH,IAAuB,gBAAZG,UAAoD,kBAArBA,SAAQC,SAAyBvW,EAAIsW,QAAQC,SAASL,EAAYznB,EAAQ7L,EAAKuzB,OACpH,KAAK,GAAI1zB,GAAIyzB,EAAWn0B,OAAS,EAAGU,GAAK,EAAGA,KAAS+jB,EAAI0P,EAAWzzB,MAAIud,GAAKoW,EAAI,EAAI5P,EAAExG,GAAKoW,EAAI,EAAI5P,EAAE/X,EAAQ7L,EAAKod,GAAKwG,EAAE/X,EAAQ7L,KAASod,EAChJ,OAAOoW,GAAI,GAAKpW,GAAKlc,OAAOiL,eAAeN,EAAQ7L,EAAKod,GAAIA,GAY5D0pC,GAAyC,YAEzC,QAASA,KACL,MAAkB,QAAXlzB,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAK/D,MAPAuwB,IAAU+zB,EAAelzB,GAIzBP,IACIznB,EAAS,KACVk7C,EAAc7oD,UAAW,6BAA0B,IAC/C6oD,GACT5qB,IAEE6qB,GAAa,YAsBbC,GAAiC,YAGjC,QAASA,GAAM7iD,EAASiV,GACpB,GAAI7W,GAAQqxB,EAAOtwB,KAAKd,KAAM4W,EAASjV,IAAY3B,IAkGnD,OAjGAD,GAAM0kD,aAAc,EACpB1kD,EAAM2kD,SAAW,EACjB3kD,EAAM4kD,WAAa,SAAU3N,GACzB,IAA0B,IAAtBj3C,EAAM0kD,YAAsB,CAC5B,GAAIxpC,GAAS+7B,EAAIG,eAAiBH,EAAIG,eAAe,GAAKH,MAC/Bz7C,KAAvBy7C,EAAIG,iBACJp3C,EAAM0kD,aAAc,GAExB1kD,EAAM6kD,cAAe,EACrB7kD,EAAM8kD,eAAiB,GACvB9kD,EAAM+kD,WAAa/kD,EAAMglD,gBAAmB/I,QAAS/gC,EAAM+gC,QAASC,QAAShhC,EAAMghC,SACnFl8C,EAAMilD,eAAiB/pC,EACvBlb,EAAMklD,cAAgBllD,EAAMmlD,eAAgB,EAC5CnlD,EAAMolD,YAAcjgB,KAAKhS,MACzBnzB,EAAMqlD,eAAiBhlD,WAAW,WAAcL,EAAMslD,aAAarO,IAASj3C,EAAMulD,kBAClFt/C,GAAalB,IAAI/E,EAAM4B,QAASkL,GAAQwjB,eAAgBtwB,EAAMwlD,UAAWxlD,GACzEiG,GAAalB,IAAI/E,EAAM4B,QAASkL,GAAQyjB,cAAevwB,EAAMylD,SAAUzlD,KAG/EA,EAAMwlD,UAAY,SAAUvO,GACxB,GAAI/7B,GAAQ+7B,EAAIG,eAAiBH,EAAIG,eAAe,GAAKH,CACzDj3C,GAAM0lD,WAAaxqC,EACnBlb,EAAM6kD,eAAiB3pC,EAAM+gC,UAAYj8C,EAAM+kD,WAAW9I,SAAW/gC,EAAMghC,UAAYl8C,EAAM+kD,WAAW7I,QACxG,IAAIyJ,KACA3lD,GAAM6kD,eACNzkD,aAAaJ,EAAMqlD,gBACnBrlD,EAAM4lD,iBAAiB3O,GAQvB0O,EAAc/mD,EAAO+mD,MANjBE,YAAa7lD,EAAMilD,eACnBa,cAAe7O,EAAKpwB,OAAQ7mB,EAAM+kD,WAAW9I,QAC7Cn1B,OAAQ9mB,EAAM+kD,WAAW7I,QAAS6J,UAAW/lD,EAAM+lD,UACnDC,UAAWhmD,EAAMgmD,UAAWC,gBAAiBjmD,EAAMimD,gBACnDC,SAAUlmD,EAAMmmD,YAAYjrC,KAGhClb,EAAMsgB,QAAQ,SAAUqlC,GACxB3lD,EAAMglD,gBAAmB/I,QAAS/gC,EAAM+gC,QAASC,QAAShhC,EAAMghC,WAGxEl8C,EAAMylD,SAAW,SAAUxO,GACvB72C,aAAaJ,EAAMqlD,gBACnBjlD,aAAaJ,EAAMomD,WACnB,IAAIlrC,GAAQ+7B,CACRA,GAAIG,iBACJl8B,EAAQ+7B,EAAIG,eAAe,GAE/B,IAAIZ,GAAQt7B,EAAM+gC,QAAUj8C,EAAM+kD,WAAW9I,QACzCxF,EAAQv7B,EAAMghC,QAAUl8C,EAAM+kD,WAAW7I,OAC7C1F,GAAQ3oC,KAAKqL,MAAMs9B,EAAQ,GAAK,EAAIA,EAAQA,GAC5CC,EAAQ5oC,KAAKqL,MAAMu9B,EAAQ,GAAK,EAAIA,EAAQD,GAC5Cx2C,EAAM6kD,aAAerO,EAAQ,GAAKC,EAAQ,EAC1Cz2C,EAAMqmD,SAAWnrC,CACjB,IAAIorC,GACAC,EAAYvmD,EAAMwmD,cAAcC,sBACpCzmD,GAAM0mD,WAAWzP,EACjB,IAAI0P,IACAb,cAAe7O,EACf4O,YAAa7lD,EAAMilD,eACnBp+B,OAAQ7mB,EAAM+kD,WAAW9I,QACzBn1B,OAAQ9mB,EAAM+kD,WAAW7I,QACzB6J,UAAW/lD,EAAM+lD,UAAWC,UAAWhmD,EAAMgmD,UAAWY,eAAgB5mD,EAAM8kD,eAC9EoB,SAAUlmD,EAAMmmD,YAAYjrC,GAEhC,IAAKlb,EAAM6kD,aAQN,CACDyB,EAAa1nD,EAAO0nD,EAAYtmD,EAAM6mD,YAAaF,EACnD,IAAIG,IAAa,EACbniD,EAAM3E,EAAM4B,QACZmlD,EAAa/mD,EAAMgnD,aAAariD,GAChCsiD,EAAQzC,GAAW54C,KAAK5L,EAAM8kD,iBAC7ByB,EAAYvmD,EAAM+lD,YAAckB,GAAWV,EAAYvmD,EAAMgmD,WAAaiB,KAKvEH,GAJCC,GAIY/mD,EAAMknD,WAAWviD,EAAKsiD,IAGvCH,GACA9mD,EAAMsgB,QAAQ,QAASgmC,OAtBF,kBAAdtmD,GAAMmnD,MACbnnD,EAAMsgB,QAAQ,OAASwlC,cAAe7O,EAAK0N,WAAY3kD,EAAM2kD,WAC7D3kD,EAAMomD,WAAa/lD,WAAW,WAC1BL,EAAM2kD,SAAW,GAClB3kD,EAAMonD,cAqBjBpnD,GAAMqnD,UAAYhnD,WAAW,WACzBL,EAAM0kD,aAAc,GACC,kBAAd1kD,GAAMmnD,IAAqB,EAAI,IAC1CnnD,EAAMsnD,aAAc,GAAIniB,OAAOoiB,UAC/BthD,GAAaf,OAAOlF,EAAM4B,QAASkL,GAAQwjB,eAAgBtwB,EAAMwlD,WACjEv/C,GAAaf,OAAOlF,EAAM4B,QAASkL,GAAQyjB,cAAevwB,EAAMylD,WAEpEzlD,EAAMrE,OACCqE,EAmIX,MAxOAwwB,IAAUi0B,EAAOpzB,GA6GjBozB,EAAM/oD,UAAUqyB,kBAAoB,SAAUsF,EAASC,KAGvDmxB,EAAM/oD,UAAUC,KAAO,WACnBsE,KAAKg9C,aACDnwC,GAAQ8pC,MACR32C,KAAK2B,QAAQ6C,UAAUM,IAAI,kBAOnC0/C,EAAM/oD,UAAUixB,QAAU,WACtB1sB,KAAKmhD,eACL/vB,EAAO31B,UAAUixB,QAAQ5rB,KAAKd,OAGlCwkD,EAAM/oD,UAAUuhD,WAAa,WACzBh3C,GAAalB,IAAI9E,KAAK2B,QAASkL,GAAQujB,gBAAiBpwB,KAAK2kD,WAAY3kD,OAE7EwkD,EAAM/oD,UAAU0lD,aAAe,WAC3Bn7C,GAAaf,OAAOjF,KAAK2B,QAASkL,GAAQujB,gBAAiBpwB,KAAK2kD,aAOpEH,EAAM/oD,UAAUuyB,cAAgB,WAC5B,MAAO,SAOXw2B,EAAM/oD,UAAUsrD,aAAe,SAAUplD,GACrC,GAAI4lD,GAAW94C,iBAAiB9M,GAC5BwD,EAAQoiD,EAASC,SAAWD,EAASE,UAAYF,EAASG,SAC9D,SAAI,gBAAkB/7C,KAAKxG,IAK/Bq/C,EAAM/oD,UAAU4pD,aAAe,SAAUrO,GACrCh3C,KAAK0kD,SAAW,EAChB1kD,KAAKykD,aAAc,CACnB,IAAIkD,EACJ3hD,IAAaf,OAAOjF,KAAK2B,QAASkL,GAAQwjB,eAAgBrwB,KAAKulD,WAC/Dv/C,GAAaf,OAAOjF,KAAK2B,QAASkL,GAAQyjB,cAAetwB,KAAKwlD,UAC9DmC,GAAa9B,cAAe7O,GAC5Bh3C,KAAKqgB,QAAQ,UAAWsnC,IAE5BnD,EAAM/oD,UAAUgrD,WAAa,SAAUzP,GACnC,GAAI/7B,GAAQ+7B,EAAIG,eAAiBH,EAAIG,eAAe,GAAKH,CACzDh3C,MAAK4mD,aAAgBf,cAAe7O,GACpCh3C,KAAK8lD,UAAYl4C,KAAKE,IAAKF,KAAKE,IAAImN,EAAM+gC,SAAWpuC,KAAKE,IAAI9N,KAAK8kD,WAAW9I,UAC9Eh8C,KAAK+lD,UAAYn4C,KAAKE,IAAKF,KAAKE,IAAImN,EAAMghC,SAAWruC,KAAKE,IAAI9N,KAAK8kD,WAAW7I,UAC1Ej8C,KAAK8lD,UAAY9lD,KAAK+lD,UACtB/lD,KAAK6kD,eAAkB5pC,EAAM+gC,QAAUh8C,KAAK8kD,WAAW9I,QAAW,QAAU,OAG5Eh8C,KAAK6kD,eAAkB5pC,EAAMghC,QAAUj8C,KAAK8kD,WAAW7I,QAAW,KAAO,QAGjFuI,EAAM/oD,UAAUkqD,iBAAmB,SAAU3O,GACzC,GAAI/7B,GAAQ+7B,EAAIG,eAAiBH,EAAIG,eAAe,GAAKH,CACzDh3C,MAAK4mD,aAAgBf,cAAe7O,GACpCh3C,KAAK8lD,UAAYl4C,KAAKE,IAAKF,KAAKE,IAAImN,EAAM+gC,SAAWpuC,KAAKE,IAAI9N,KAAK+kD,eAAe/I,UAClFh8C,KAAK+lD,UAAYn4C,KAAKE,IAAKF,KAAKE,IAAImN,EAAMghC,SAAWruC,KAAKE,IAAI9N,KAAK+kD,eAAe9I,WAC7Ej8C,KAAK8lD,UAAY9lD,KAAK+lD,YAAoC,IAAvB/lD,KAAKilD,iBAAkD,IAAvBjlD,KAAKklD,eACzEllD,KAAKgmD,gBAAmB/qC,EAAM+gC,QAAUh8C,KAAK+kD,eAAe/I,QAAW,QAAU,OACjFh8C,KAAKilD,eAAgB,IAGrBjlD,KAAKgmD,gBAAmB/qC,EAAMghC,QAAUj8C,KAAK+kD,eAAe9I,QAAW,KAAO,OAC9Ej8C,KAAKklD,eAAgB,IAG7BV,EAAM/oD,UAAUyqD,YAAc,SAAU0B,GACpC,GAAIC,GAAOD,EAAI5L,QACX8L,EAAOF,EAAI3L,QACX8L,EAAO7iB,KAAKhS,MACZ80B,EAAQH,EAAO7nD,KAAK8kD,WAAW9I,QAC/BiM,EAAQH,EAAO9nD,KAAK8kD,WAAW9I,QAC/Bn5C,EAAWklD,EAAO/nD,KAAKmlD,WAC3B,OAAOv3C,MAAKQ,KAAK45C,EAAQA,EAAQC,EAAQA,GAASplD,GAGtD2hD,EAAM/oD,UAAUwrD,WAAa,SAAUviD,EAAK+wB,GACxC,GAAIh4B,IAAQ,SAAU,UAClBwO,EAAOwpB,GAAQ,SAAU,QAAU,QAAS,OAChD,OAAK/wB,GAAIjH,EAAK,GAAKwO,EAAK,KAAOvH,EAAIjH,EAAK,GAAKwO,EAAK,MAGf,IAA3BvH,EAAIjH,EAAK,GAAKwO,EAAK,KACtBvH,EAAIjH,EAAK,GAAKwO,EAAK,IAAMvH,EAAIjH,EAAK,GAAKwO,EAAK,KAAOvH,EAAIjH,EAAK,GAAKwO,EAAK,MAE/E4kB,IACI5mB,MACDu6C,EAAM/oD,UAAW,UAAO,IAC3Bo1B,IACI5mB,MACDu6C,EAAM/oD,UAAW,cAAW,IAC/Bo1B,IACI5mB,MACDu6C,EAAM/oD,UAAW,YAAS,IAC7Bo1B,IACI5mB,MACDu6C,EAAM/oD,UAAW,aAAU,IAC9Bo1B,IACIznB,EAAS,MACVo7C,EAAM/oD,UAAW,mBAAgB,IACpCo1B,IACIznB,EAAS,MACVo7C,EAAM/oD,UAAW,uBAAoB,IACxCo1B,IACIhnB,MAAYy6C,KACbE,EAAM/oD,UAAW,oBAAiB,IACrC+oD,EAAQ3zB,IACJtmB,IACDi6C,IAEL53B,I3BlSEpb,GAAQ,GAAImqB,QAAO,kBAAmB,KACtCvpB,GAAS,GAAIupB,QAAO,QACpB3pB,GAAU,GAAI2pB,QAAO,WACrBjpB,GAAY,GAAIipB,QAAO,QACvBtpB,GAAW,GAAIspB,QAAO,YACtBhpB,GAAY,GAAIgpB,QAAO,cACvB7pB,GAAgB,GAAI6pB,QAAO,aAAc,IACzC7oB,GAAa,GAAI6oB,QAAO,WAAY,KACpC1pB,GAAO,GAAI0pB,QAAO,iBAAkB,KACpClqB,GAAiB,GAAIkqB,QAAO,UAAW,KACvCjqB,GAAM,GAAIiqB,QAAO,eAAgB,KCRjCxoB,GAAU,sBAgDVF,IAAcjC,SAAS,eARvB,QAASk3C,MAMT,MAJAA,GAAOzsD,UAAUuV,QAAU,SAAU+B,EAAgB7B,GAEjD,WADe,KAAXA,IAAqBA,MAClBwjC,GAAO3hC,EAAgB7B,IAE3Bg3C,OAE6Bl3C,guCCjDxC,SAAWu8B,GAEPA,EAAM4a,eACF1yC,KAAM,OACNC,WAAY,SACZkI,MAAO,KACPjI,UAAW,SACXC,WAAY,YAGhB23B,EAAM6a,eACF3yC,KAAM,OACNC,WAAY,SACZkI,MAAO,KACPjI,UAAW,SACXC,WAAY,YAGhB23B,EAAM8a,gBACF5yC,KAAM,OACNC,WAAY,MACZkI,MAAO,KACPjI,UAAW,SACXC,WAAY,YAGhB23B,EAAM+a,oBACF7yC,KAAM,OACNC,WAAY,SACZkI,MAAO,KACPjI,UAAW,SACXC,WAAY,YAGhB23B,EAAMgb,kBACF9yC,KAAM,OACNC,WAAY,SACZkI,MAAO,KACPjI,UAAW,SACXC,WAAY,YAGhB23B,EAAMib,iBACF/yC,KAAM,OACNC,WAAY,SACZkI,MAAO,KACPjI,UAAW,SACXC,WAAY,YAGhB23B,EAAMkb,oBACFhzC,KAAM,OACNC,WAAY,UACZkI,MAAO,UACPjI,UAAW,SACXC,WAAY,aAEjB23B,KAAUA,O0B7Db,IAAIhd,IAAwC,WACxC,GAAIC,GAAgB9xB,OAAO+xB,iBACpBC,uBAA2B9pB,QAAS,SAAUwa,EAAG7K,GAAK6K,EAAEsP,UAAYna,IACvE,SAAU6K,EAAG7K,GAAK,IAAK,GAAIoa,KAAKpa,GAAOA,EAAEzO,eAAe6oB,KAAIvP,EAAEuP,GAAKpa,EAAEoa,IACzE,OAAO,UAAUvP,EAAG7K,GAEhB,QAASqa,KAAO5wB,KAAKhC,YAAcojB,EADnCoP,EAAcpP,EAAG7K,GAEjB6K,EAAE3lB,UAAkB,OAAN8a,EAAa7X,OAAOsN,OAAOuK,IAAMqa,EAAGn1B,UAAY8a,EAAE9a,UAAW,GAAIm1B,QAGnFC,GAA0C,SAAUC,EAAYznB,EAAQ7L,EAAKuzB,GAC7E,GAA2H3P,GAAvH4P,EAAI/xB,UAAUtC,OAAQie,EAAIoW,EAAI,EAAI3nB,EAAkB,OAAT0nB,EAAgBA,EAAOryB,OAAOuyB,yBAAyB5nB,EAAQ7L,GAAOuzB,CACrH,IAAuB,gBAAZG,UAAoD,kBAArBA,SAAQC,SAAyBvW,EAAIsW,QAAQC,SAASL,EAAYznB,EAAQ7L,EAAKuzB,OACpH,KAAK,GAAI1zB,GAAIyzB,EAAWn0B,OAAS,EAAGU,GAAK,EAAGA,KAAS+jB,EAAI0P,EAAWzzB,MAAIud,GAAKoW,EAAI,EAAI5P,EAAExG,GAAKoW,EAAI,EAAI5P,EAAE/X,EAAQ7L,EAAKod,GAAKwG,EAAE/X,EAAQ7L,KAASod,EAChJ,OAAOoW,GAAI,GAAKpW,GAAKlc,OAAOiL,eAAeN,EAAQ7L,EAAKod,GAAIA,GAO5D8tC,GAA2B,SAAUt3B,GAErC,QAASs3B,KACL,MAAkB,QAAXt3B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAiB/D,MAnBAuwB,IAAUm4B,EAAWt3B,GAIrBP,IACIznB,EAAS,SACVs/C,EAAUjtD,UAAW,WAAQ,IAChCo1B,IACIznB,EAAS,OACVs/C,EAAUjtD,UAAW,YAAS,IACjCo1B,IACIznB,EAAS,IACVs/C,EAAUjtD,UAAW,YAAS,IACjCo1B,IACIznB,EAAS,OACVs/C,EAAUjtD,UAAW,aAAU,IAClCo1B,IACIznB,EAAS,KACVs/C,EAAUjtD,UAAW,gBAAa,IAC9BitD,GACThvB,IAKEivB,GAAsB,SAAUv3B,GAEhC,QAASu3B,KACL,MAAkB,QAAXv3B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KA0B/D,MA5BAuwB,IAAUo4B,EAAMv3B,GAIhBP,IACIznB,EAAS,SACVu/C,EAAKltD,UAAW,WAAQ,IAC3Bo1B,IACIznB,EAAS,KACVu/C,EAAKltD,UAAW,YAAS,IAC5Bo1B,IACIznB,EAAS,aACVu/C,EAAKltD,UAAW,iBAAc,IACjCo1B,IACIznB,EAAS,WACVu/C,EAAKltD,UAAW,iBAAc,IACjCo1B,IACIznB,EAAS,WACVu/C,EAAKltD,UAAW,gBAAa,IAChCo1B,IACIznB,EAAS,IACVu/C,EAAKltD,UAAW,cAAW,IAC9Bo1B,IACIznB,EAAS,WACVu/C,EAAKltD,UAAW,oBAAiB,IACpCo1B,IACIznB,EAAS,SACVu/C,EAAKltD,UAAW,mBAAgB,IAC5BktD,GACTjvB,IAKEkvB,GAAwB,SAAUx3B,GAElC,QAASw3B,KACL,MAAkB,QAAXx3B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAQ/D,MAVAuwB,IAAUq4B,EAAQx3B,GAIlBP,IACIznB,EAAS,KACVw/C,EAAOntD,UAAW,YAAS,IAC9Bo1B,IACIznB,EAAS,IACVw/C,EAAOntD,UAAW,YAAS,IACvBmtD,GACTlvB,IAKEmvB,GAA2B,SAAUz3B,GAErC,QAASy3B,KACL,MAAkB,QAAXz3B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAW/D,MAbAuwB,IAAUs4B,EAAWz3B,GAIrBP,IACIhnB,MAAY++C,KACbC,EAAUptD,UAAW,aAAU,IAClCo1B,IACIznB,EAAS,gBACVy/C,EAAUptD,UAAW,iBAAc,IACtCo1B,IACIznB,EAAS,IACVy/C,EAAUptD,UAAW,cAAW,IAC5BotD,GACTnvB,IAKEovB,GAAwB,SAAU13B,GAElC,QAAS03B,KACL,MAAkB,QAAX13B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAc/D,MAhBAuwB,IAAUu4B,EAAQ13B,GAIlBP,IACIznB,EAAS,KACV0/C,EAAOrtD,UAAW,WAAQ,IAC7Bo1B,IACIznB,EAAS,KACV0/C,EAAOrtD,UAAW,YAAS,IAC9Bo1B,IACIznB,EAAS,KACV0/C,EAAOrtD,UAAW,UAAO,IAC5Bo1B,IACIznB,EAAS,KACV0/C,EAAOrtD,UAAW,aAAU,IACxBqtD,GACTpvB,IAKE3Z,GAA2B,SAAUqR,GAErC,QAASrR,KACL,MAAkB,QAAXqR,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAW/D,MAbAuwB,IAAUxQ,EAAWqR,GAIrBP,IACIznB,GAAS,IACV2W,EAAUtkB,UAAW,aAAU,IAClCo1B,IACIznB,EAAS,MACV2W,EAAUtkB,UAAW,eAAY,IACpCo1B,IACIznB,EAAS,IACV2W,EAAUtkB,UAAW,YAAS,IAC1BskB,GACT2Z,IAGEqvB,GAAyB,SAAU33B,GAEnC,QAAS23B,KACL,MAAkB,QAAX33B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAQ/D,MAVAuwB,IAAUw4B,EAAS33B,GAInBP,IACIznB,EAAS,IACV2/C,EAAQttD,UAAW,aAAU,IAChCo1B,IACIznB,EAAS,IACV2/C,EAAQttD,UAAW,YAAS,IACxBstD,GACTrvB,IAKEsvB,GAA8B,SAAU53B,GAExC,QAAS43B,KACL,MAAkB,QAAX53B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAc/D,MAhBAuwB,IAAUy4B,EAAc53B,GAIxBP,IACIznB,EAAS,IACV4/C,EAAavtD,UAAW,cAAW,IACtCo1B,IACIznB,EAAS,IACV4/C,EAAavtD,UAAW,eAAY,IACvCo1B,IACIznB,EAAS,IACV4/C,EAAavtD,UAAW,iBAAc,IACzCo1B,IACIznB,EAAS,IACV4/C,EAAavtD,UAAW,kBAAe,IACnCutD,GACTtvB,IAKEtd,GAAuB,WACvB,QAASA,GAAM6sC,EAAatpC,GACxB3f,KAAKyY,OAASwwC,EACdjpD,KAAKib,MAAQ0E,EAEjB,MAAOvD,MAMP8sC,GAAoC,SAAU93B,GAE9C,QAAS83B,KACL,MAAkB,QAAX93B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAW/D,MAbAuwB,IAAU24B,EAAoB93B,GAI9BP,IACIznB,EAAS,OACV8/C,EAAmBztD,UAAW,WAAQ,IACzCo1B,IACIhnB,IAAU+T,MAAO,cAAe5F,MAAO,GAAK4wC,KAC7CM,EAAmBztD,UAAW,aAAU,IAC3Co1B,IACIznB,EAAS,QACV8/C,EAAmBztD,UAAW,WAAQ,IAClCytD,GACTxvB,IAKEyvB,GAAiC,SAAU/3B,GAE3C,QAAS+3B,KACL,MAAkB,QAAX/3B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAgC/D,MAlCAuwB,IAAU44B,EAAiB/3B,GAI3BP,IACIznB,GAAS,IACV+/C,EAAgB1tD,UAAW,aAAU,IACxCo1B,IACIznB,GAAS,IACV+/C,EAAgB1tD,UAAW,aAAU,IACxCo1B,IACIznB,EAAS,OACV+/C,EAAgB1tD,UAAW,WAAQ,IACtCo1B,IACIznB,EAAS,OACV+/C,EAAgB1tD,UAAW,aAAU,IACxCo1B,IACIznB,EAAS,MACV+/C,EAAgB1tD,UAAW,cAAW,IACzCo1B,IACIhnB,GAAQ0jC,GAAMgb,iBAAkBI,KACjCQ,EAAgB1tD,UAAW,gBAAa,IAC3Co1B,IACIznB,EAAS,OACV+/C,EAAgB1tD,UAAW,aAAU,IACxCo1B,IACIznB,EAAS,OACV+/C,EAAgB1tD,UAAW,eAAY,IAC1Co1B,IACIznB,GAAS,IACV+/C,EAAgB1tD,UAAW,sBAAmB,IACjDo1B,IACIhnB,IAAU+T,MAAO,UAAW5F,MAAO,IAAO4wC,KAC3CO,EAAgB1tD,UAAW,aAAU,IACjC0tD,GACTzvB,IzB3QEnJ,GAAwC,WACxC,GAAIC,GAAgB9xB,OAAO+xB,iBACpBC,uBAA2B9pB,QAAS,SAAUwa,EAAG7K,GAAK6K,EAAEsP,UAAYna,IACvE,SAAU6K,EAAG7K,GAAK,IAAK,GAAIoa,KAAKpa,GAAOA,EAAEzO,eAAe6oB,KAAIvP,EAAEuP,GAAKpa,EAAEoa,IACzE,OAAO,UAAUvP,EAAG7K,GAEhB,QAASqa,KAAO5wB,KAAKhC,YAAcojB,EADnCoP,EAAcpP,EAAG7K,GAEjB6K,EAAE3lB,UAAkB,OAAN8a,EAAa7X,OAAOsN,OAAOuK,IAAMqa,EAAGn1B,UAAY8a,EAAE9a,UAAW,GAAIm1B,QA0RnFw4B,GAAsB,WACtB,QAASA,GAAKC,EAAsBC,EAAoBC,EAAwBC,EAAsBC,EAAcC,GAChH1pD,KAAKqpD,qBAAuBA,EAC5BrpD,KAAKupD,uBAAyBA,EAC9BvpD,KAAKspD,mBAAqBA,EAC1BtpD,KAAKwpD,qBAAuBA,EAC5BxpD,KAAKypD,aAAeA,EACpBzpD,KAAK0pD,eAAiBA,EAE1B,MAAON,MAIPO,GAA0B,WAC1B,QAASA,GAAS5tC,EAAY6tC,EAAUC,EAAa17C,EAAQ27C,GACzD9pD,KAAK+b,WAAaA,EAClB/b,KAAK4pD,SAAWA,EAChB5pD,KAAK6pD,YAAcA,EACnB7pD,KAAKmO,OAASA,EACdnO,KAAK8pD,iBAAmBA,EAE5B,MAAOH,MAm3BPI,GAAiC,WACjC,QAASA,GAAgB/lD,GACrBhE,KAAKgE,GAAKA,EAEd,MAAO+lD,MAIPC,GAA6B,WAC7B,QAASA,GAAYxqC,EAAYC,GAC7Bzf,KAAKiqD,YAAczqC,EACnBxf,KAAKkqD,UAAYzqC,EAErB,MAAOuqC,MAIPrsC,GAA4B,SAAUyT,GAEtC,QAASzT,GAAW3Z,EAAIsK,EAAGC,EAAGyO,EAAQ7H,EAAMxG,EAAWuY,OACjC,KAAdvY,IAAwBA,EAAY,GACxC,IAAI5O,GAAQqxB,EAAOtwB,KAAKd,KAAMgE,IAAOhE,IASrC,OARAD,GAAM4O,UAAY,GAClB5O,EAAMmnB,SAAW,OACjBnnB,EAAMuO,EAAIA,EACVvO,EAAMwO,EAAIA,EACVxO,EAAMid,OAASA,EACfjd,EAAMoV,KAAOA,EACbpV,EAAM4O,UAAYA,EAClB5O,EAAMmnB,SAAWA,EACVnnB,EAEX,MAdAwwB,IAAU5S,EAAYyT,GAcfzT,GACTosC,IAGEtsC,GAA4B,SAAU2T,GAEtC,QAAS3T,GAAWzZ,EAAI8hB,EAAM9N,EAAO4F,EAAO7O,EAASklB,EAAW7S,GAC5D,GAAIrhB,GAAQqxB,EAAOtwB,KAAKd,KAAMgE,IAAOhE,IAOrC,OANAD,GAAMgP,QAAUA,EAChBhP,EAAM+lB,KAAOA,EACb/lB,EAAMimB,OAASpI,EACf7d,EAAM,gBAAkBiY,EACxBjY,EAAM,oBAAsBk0B,EAC5Bl0B,EAAMqhB,EAAIA,EACHrhB,EAEX,MAXAwwB,IAAU9S,EAAY2T,GAWf3T,GACTssC,IAGEI,GAA4B,SAAU/4B,GAEtC,QAAS+4B,GAAWnmD,EAAI8hB,EAAMskC,EAAQr7C,EAAS8K,EAAMmH,EAAIC,EAAItS,EAAWslB,GACpE,GAAIl0B,GAAQqxB,EAAOtwB,KAAKd,KAAMgE,EAAI8hB,EAAMskC,EAAOpyC,MAAOoyC,EAAOxsC,MAAO7O,EAASklB,IAAcj0B,IAQ3F,OAPAD,GAAMwO,EAAIsL,EAAKtL,EACfxO,EAAMuO,EAAIuL,EAAKvL,EACfvO,EAAMga,OAASF,EAAKE,OACpBha,EAAMiY,MAAQ6B,EAAK7B,MACnBjY,EAAMihB,GAAKA,GAAU,EACrBjhB,EAAMkhB,GAAKA,GAAU,EACrBlhB,EAAM4O,UAAYA,GAAwB,GACnC5O,EAEX,MAZAwwB,IAAU45B,EAAY/4B,GAYf+4B,GACT1sC,IAGE4sC,GAA8B,SAAUj5B,GAExC,QAASi5B,GAAarmD,EAAI8hB,EAAMskC,EAAQr7C,EAASmS,EAAIC,EAAIvG,GACrD,GAAI7a,GAAQqxB,EAAOtwB,KAAKd,KAAMgE,EAAI8hB,EAAMskC,EAAOpyC,MAAOoyC,EAAOxsC,MAAO7O,IAAY/O,IAIhF,OAHAD,GAAMohB,GAAKA,EACXphB,EAAMmhB,GAAKA,EACXnhB,EAAM6a,EAAIA,EACH7a,EAEX,MARAwwB,IAAU85B,EAAcj5B,GAQjBi5B,GACT5sC,IAGE6sC,GAA+B,WAC/B,QAASA,GAActmD,EAAIgb,EAAQ8G,GAC/B9lB,KAAKgE,GAAKA,EACVhE,KAAKgf,OAASA,EACdhf,KAAK8lB,KAAOA,EAEhB,MAAOwkC,MAIPv0C,GAAsB,WACtB,QAASA,GAAKiC,EAAO+B,GACjB/Z,KAAKgY,MAAQA,EACbhY,KAAK+Z,OAASA,EAElB,MAAOhE,MAIPwH,GAAsB,WACtB,QAASA,GAAKjP,EAAGC,EAAGyJ,EAAO+B,GACvB/Z,KAAKsO,EAAIA,EACTtO,KAAKuO,EAAIA,EACTvO,KAAKgY,MAAQA,EACbhY,KAAK+Z,OAASA,EAElB,MAAOwD,MAIPjD,GAA+B,WAC/B,QAASA,GAAchM,EAAGC,GACtBvO,KAAKsO,EAAIA,EACTtO,KAAKuO,EAAIA,EAEb,MAAO+L,MAIPiwC,GAA2B,WAC3B,QAASA,GAAUx8C,EAAMC,EAAOC,EAAKC,GACjClO,KAAK+N,KAAOA,EACZ/N,KAAKgO,MAAQA,EACbhO,KAAKiO,IAAMA,EACXjO,KAAKkO,OAASA,EAElB,MAAOq8C,MAIPnlC,GAA4B,WAC5B,QAASA,GAAWxK,EAAGoK,EAAGzO,GACtBvW,KAAK4a,EAAIA,EACT5a,KAAKglB,EAAIA,EACThlB,KAAKuW,EAAIA,EAEb,MAAO6O,MAIPolC,GAA2B,WAC3B,QAASA,GAAUvvC,EAAOxC,EAAQiB,OAChB,KAAVA,IAAoBA,EAAQ,GAChC1Z,KAAKib,MAAQA,EACbjb,KAAKyY,OAASA,EACdzY,KAAKyqD,UAAY/wC,EAErB,MAAO8wC,MAIPE,GAA8B,WAC9B,QAASA,GAAazvC,EAAOxC,EAAQiB,OACnB,KAAVA,IAAoBA,EAAQ,GAChC1Z,KAAKib,MAAQA,EACbjb,KAAKyY,OAASA,EAElB,MAAOiyC,MAIPC,GAA+B,WAC/B,QAASA,GAAcC,EAAeC,GAClC7qD,KAAK4qD,cAAgBA,EACrB5qD,KAAK6qD,cAAgBA,EAEzB,MAAOF,M0B70CPG,GAA6B,WAC7B,QAASA,GAAYptD,EAAOyiB,GAOpBziB,EAAQyiB,GACRngB,KAAK+qD,OAASrtD,EACdsC,KAAKgrD,KAAO7qC,IAGZngB,KAAK+qD,OAAS5qC,EACdngB,KAAKgrD,KAAOttD,GAwCpB,MArCAgB,QAAOiL,eAAemhD,EAAYrvD,UAAW,SAGzC+N,IAAK,WACD,MAAOxJ,MAAK+qD,QAEhBthD,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAemhD,EAAYrvD,UAAW,OAEzC+N,IAAK,WACD,MAAOxJ,MAAKgrD,MAEhBvhD,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAemhD,EAAYrvD,UAAW,SAMzC+N,IAAK,WACD,MAAQxJ,MAAKgrD,KAAOhrD,KAAK+qD,QAE7BthD,YAAY,EACZC,cAAc,IAElBhL,OAAOiL,eAAemhD,EAAYrvD,UAAW,UAEzC+N,IAAK,WACD,MAAOxJ,MAAK+qD,QAAU/qD,KAAKgrD,KAAOhrD,KAAK+qD,QAAU,GAErDthD,YAAY,EACZC,cAAc,IAEXohD,KCpDPG,GAAwB,WAKxB,QAASA,GAAOv0C,GACZ1W,KAAK0W,MAAQA,EAmQjB,MA7PAu0C,GAAOxvD,UAAUyvD,6BAA+B,SAAU7vC,EAAMkB,EAAO9G,GACnE,GAAI01C,GAA8B9vC,EAAK+vC,+BAA+B31C,GAClE41C,EAAe9uC,EAAQ4uC,CAC3B,IAA6B,MAAzB9vC,EAAKiwC,iBACL,MAAOD,EAGX,KAAK,GADDE,GAAc39C,KAAK49C,IAAI,GAAI59C,KAAKqL,MAAMxB,GAAQ4zC,EAAc,MACvD7sD,EAAK,EAAGgF,EAAK6X,EAAKowC,aAAcjtD,EAAKgF,EAAG7G,OAAQ6B,IAAM,CAC3D,GACIktD,GAAkBH,EADP/nD,EAAGhF,EAElB,IAAI2sD,EAA+B5uC,EAAQmvC,EACvC,KAEJL,GAAeK,EAEnB,MAAOL,IAMXJ,EAAOxvD,UAAUkwD,eAAiB,SAAUtwC,EAAM5F,GAC9CzV,KAAK4rD,sBAAsBvwC,GAC3BA,EAAKwwC,YAAYhpD,SAAWwY,EAAKxY,UAAY7C,KAAKkrD,6BAA6B7vC,EAAMA,EAAKywC,YAAYvvC,MAAO9G,GAC7G4F,EAAKwwC,YAAY1zC,IAAMkD,EAAKywC,YAAYpuD,MACxC2d,EAAKwwC,YAAYh+C,IAAMwN,EAAKywC,YAAY3rC,KAM5C8qC,EAAOxvD,UAAUmwD,sBAAwB,SAAUvwC,GAE1B,OAAjBA,EAAKuI,QACL5jB,KAAKmY,IAAMkD,EAAKuI,QAEE,OAAb5jB,KAAKmY,KAAgBnY,KAAKmY,MAAQwG,OAAOotC,oBAC9C/rD,KAAKmY,IAAM,GAGM,OAAjBkD,EAAKsI,QACL3jB,KAAK6N,IAAMwN,EAAKsI,QAEE,OAAb3jB,KAAK6N,KAAgB7N,KAAK6N,MAAQ8Q,OAAOqtC,oBAC9ChsD,KAAK6N,IAAM,GAEX7N,KAAKmY,MAAQnY,KAAK6N,MAClB7N,KAAK6N,IAAMwN,EAAKK,UAAUxY,QAAQ,aAAe,EAAIlD,KAAK6N,IAAM7N,KAAKmY,IAAM,GAE/EkD,EAAKywC,YAAc,GAAIhB,IAAY9qD,KAAKmY,IAAKnY,KAAK6N,KAClDwN,EAAKwwC,gBAOTZ,EAAOxvD,UAAUwwD,0BAA4B,SAAUx2C,EAAM4F,GACzDrb,KAAKksD,eAAe7wC,EAAM5F,GAC1BzV,KAAK2rD,eAAetwC,EAAM5F,GAC1BzV,KAAKmsD,kBAAkB9wC,EAAM5F,GAC7BzV,KAAKosD,uBAAuB/wC,EAAMrb,KAAK0W,QAM3Cu0C,EAAOxvD,UAAUywD,eAAiB,SAAU7wC,EAAM5F,GAK9C,GAHAzV,KACKmY,IAAM,KACXnY,KAAK6N,IAAM,MACNwN,EAAKgxC,WACN,IAAK,GAAI7tD,GAAK,EAAGgF,EAAK6X,EAAK5C,OAAQja,EAAKgF,EAAG7G,OAAQ6B,IAAM,CACrD,GAAI8tD,GAAW9oD,EAAGhF,EACb8tD,GAASztC,UAGd7e,KAAKusD,gBAAkB,GAClBD,EAASzkD,KAAK3E,QAAQ,WAAa,GAA0B,eAArBmY,EAAKmxC,aAC1CF,EAASzkD,KAAK3E,QAAQ,QAAU,GAA0B,aAArBmY,EAAKmxC,eACZ,WAA7BF,EAASzzC,MAAM6C,WAAuD,aAA7B4wC,EAASzzC,MAAM6C,WACtB,SAAhC4wC,EAASzzC,MAAM4zC,eAClBzsD,KAAKusD,gBAAkBjuC,GAAkBguC,EAASzzC,MAAOwC,EAAK5C,QAAU,IAIvD,eAArB4C,EAAKmxC,cACDxsD,KAAK0W,MAAMwH,oBACXle,KAAK0sD,WAAWJ,EAASK,KAAML,EAASM,MAGxC5sD,KAAK0sD,WAAWJ,EAASptC,KAAOlf,KAAKusD,gBAAiBD,EAASO,KAAO7sD,KAAKusD,kBAI1D,aAArBlxC,EAAKmxC,cACDxsD,KAAK0W,MAAMwH,oBACXle,KAAK0sD,WAAWJ,EAASptC,KAAOlf,KAAKusD,gBAAiBD,EAASO,KAAO7sD,KAAKusD,iBAG3EvsD,KAAK0sD,WAAWJ,EAASK,KAAML,EAASM,UAM5D3B,EAAOxvD,UAAUixD,WAAa,SAAUv0C,EAAKtK,IACxB,OAAb7N,KAAKmY,KAAgBnY,KAAKmY,IAAMA,KAChCnY,KAAKmY,IAAMA,IAEE,OAAbnY,KAAK6N,KAAgB7N,KAAK6N,IAAMA,KAChC7N,KAAK6N,IAAMA,IAOnBo9C,EAAOxvD,UAAU0wD,kBAAoB,SAAU9wC,EAAM5F,GACjD,GACI/X,GAAQ2d,EAAKwwC,YAAY1zC,IACzBgI,EAAM9E,EAAKwwC,YAAYh+C,GAC3B,KAAKwN,EAAKgxC,WAAY,CAClB,GAAIxpD,GAAWwY,EAAKwwC,YAAYhpD,SAC5ByzC,EAAUj7B,EAAKyxC,gBAAgB9sD,KAAK0W,MACxB,gBAAZ4/B,GAAwC,UAAZA,EAC5Bt2C,KAAK+sD,eAAe1xC,EAAM3d,EAAOyiB,EAAKtd,GAErB,WAAZyzC,EACLt2C,KAAKgtD,WAAW3xC,EAAM3d,EAAOyiB,EAAKtd,EAAU4S,GAG5CzV,KAAKitD,kBAAkB5xC,EAAM3d,EAAOyiB,EAAKtd,GAGjDwY,EAAKwwC,YAAYtvC,MAAQlB,EAAKwwC,YAAYh+C,IAAMwN,EAAKwwC,YAAY1zC,IACjEnY,KAAKktD,sBAAsBz3C,EAAM4F,IAErC4vC,EAAOxvD,UAAUwxD,kBAAoB,SAAU5xC,EAAMuI,EAASD,EAAS9gB,GACnEwY,EAAKwwC,YAAY1zC,IAAsB,MAAhBkD,EAAKuI,QAAkBvI,EAAKuI,QAAUA,EAC7DvI,EAAKwwC,YAAYh+C,IAAsB,MAAhBwN,EAAKsI,QAAkBtI,EAAKsI,QAAUA,EAC7DtI,EAAKwwC,YAAYhpD,SAA4B,MAAjBwY,EAAKxY,SAAmBwY,EAAKxY,SAAWA,GAExEooD,EAAOxvD,UAAUsxD,eAAiB,SAAU1xC,EAAM3d,EAAOyiB,EAAKtd,GAC1D,GAAI+gB,GACAD,CACJC,GAAUhW,KAAKqL,MAAMvb,EAAQmF,GAAYA,EACzC8gB,EAAU/V,KAAKwL,KAAK+G,EAAMtd,GAAYA,EACZ,eAAtBwY,EAAKoxC,eACL7oC,GAAW/gB,EACX8gB,GAAW9gB,GAEf7C,KAAKitD,kBAAkB5xC,EAAMuI,EAASD,EAAS9gB,IAEnDooD,EAAOxvD,UAAUuxD,WAAa,SAAU3xC,EAAM3d,EAAOyiB,EAAKtd,EAAU4S,GAChE,GACImO,GACAD,EACAnE,EAAa9hB,CACbA,GAAQ,GACR8hB,EAAa,EAGR,KAAQ3c,GADDA,GADZ+gB,EAAUlmB,EAASA,EAAQ,IACOmF,IAE9B+gB,GAAW/gB,GAEX+gB,EAAU/gB,EAAW,IACrB+gB,EAAWA,EAAU/gB,EAAa+gB,EAAU/gB,KAIhD+gB,EAAUlmB,EAAU,EAAM,EAAOyiB,EAAO,EAAKziB,GAASyiB,EAAMziB,GAAS,GACvDmF,EAAW,IACrB+gB,GAAYA,EAAU/gB,GAKzB,KAAQA,GADDA,GADZ8gB,EAAWxD,EAAM,EAAMA,GAAOA,EAAMX,GAAc,GAAOW,GAAOA,EAAMX,GAAc,IAClD3c,IAE9B8gB,GAAW9gB,GAEX8gB,EAAU9gB,EAAW,IACrB8gB,EAAWA,EAAU9gB,EAAa8gB,EAAU9gB,GAEhDwY,EAAKywC,YAAc,GAAIhB,IAAYlnC,EAASD,GAC5B,IAAZC,IACA/gB,EAAW7C,KAAKkrD,6BAA6B7vC,EAAMA,EAAKywC,YAAYvvC,MAAO9G,GAC3EkO,EAAU/V,KAAKwL,KAAKuK,EAAU9gB,GAAYA,GAE9C7C,KAAKitD,kBAAkB5xC,EAAMuI,EAASD,EAAS9gB,IAMnDooD,EAAOxvD,UAAUyxD,sBAAwB,SAAUz3C,EAAM4F,GACrDA,EAAKnC,cACDrL,IAAKwN,EAAKwwC,YAAYh+C,IAAKsK,IAAKkD,EAAKwwC,YAAY1zC,IACjDoE,MAAOlB,EAAKwwC,YAAYtvC,MAAO1Z,SAAUwY,EAAKwwC,YAAYhpD,WAE1DwY,EAAK8xC,WAAa,GAAK9xC,EAAK+xC,aAAe,KAC3C/xC,EAAK6xC,sBAAsBz3C,GAC3B4F,EAAKnC,aAAarW,SAAYwY,EAAKgyC,6BAAkD,aAAnBhyC,EAAKK,UACnE1b,KAAKkrD,6BAA6B7vC,EAAMA,EAAKywC,YAAYvvC,MAAO9G,GAC9D4F,EAAKnC,aAAarW,UAE5BwY,EAAKiyC,mBAAmBttD,KAAK0W,MAAO2E,EAAKnC,aAAaf,IAAKkD,EAAKnC,aAAarL,IAAKwN,EAAKnC,aAAarW,WAMxGooD,EAAOxvD,UAAU2wD,uBAAyB,SAAU/wC,EAAM3E,GAEtD2E,EAAKoB,gBACL,IAAI8wC,GAAelyC,EAAKnC,aAAaf,KACjCkD,EAAK8xC,WAAa,GAAK9xC,EAAK+xC,aAAe,GAAKptD,KAAKusD,mBACrDgB,EAAelyC,EAAKnC,aAAaf,IAAOkD,EAAKnC,aAAaf,IAAMkD,EAAKnC,aAAarW,SAEtF,IAAIohB,GAASjkB,KAAKwtD,UAAUnyC,GACxBoyC,EAAuC,OAA5BxpC,EAAOtS,MAAM,UAO5B,KANA0J,EAAK4I,OAASvN,EAAMg3C,KAAKra,iBACrBpvB,OAAQwpC,EAAW,GAAKxpC,EACxBub,YAAa9oB,EAAMi3C,uBAEvBtyC,EAAK+B,WAAa/B,EAAK4I,OAAO5I,EAAKnC,aAAaf,KAChDkD,EAAK8B,SAAW9B,EAAK4I,OAAO5I,EAAKnC,aAAarL,KACvC0/C,GAAgBlyC,EAAKnC,aAAarL,IAAK0/C,GAAgBlyC,EAAKnC,aAAarW,SACxEuV,GAAOm1C,EAAclyC,EAAKnC,eAC1BmC,EAAKuyC,mBAAmBl3C,EAAO62C,EAAcvtD,KAAK6tD,YAAYxyC,EAAMoyC,EAAUxpC,EAAQspC,GAAelyC,EAAKgC,WAGlHhC,GAAKyyC,iBAAiBp3C,IAM1Bu0C,EAAOxvD,UAAU+xD,UAAY,SAAUnyC,GACnC,MAAIA,GAAKgI,YACEhI,EAAKgI,YAEThI,EAAK0yC,WAAa,WAAa,IAM1C9C,EAAOxvD,UAAUoyD,YAAc,SAAUxyC,EAAMoyC,EAAUxpC,EAAQspC,GAC7D,MAAOE,GAAWxpC,EAAO1S,QAAQ,UAAW8J,EAAK4I,OAAOspC,IAClDlyC,EAAK4I,OAAOspC,IAEftC,KC/QP16B,GAAwC,WACxC,GAAIC,GAAgB9xB,OAAO+xB,iBACpBC,uBAA2B9pB,QAAS,SAAUwa,EAAG7K,GAAK6K,EAAEsP,UAAYna,IACvE,SAAU6K,EAAG7K,GAAK,IAAK,GAAIoa,KAAKpa,GAAOA,EAAEzO,eAAe6oB,KAAIvP,EAAEuP,GAAKpa,EAAEoa,IACzE,OAAO,UAAUvP,EAAG7K,GAEhB,QAASqa,KAAO5wB,KAAKhC,YAAcojB,EADnCoP,EAAcpP,EAAG7K,GAEjB6K,EAAE3lB,UAAkB,OAAN8a,EAAa7X,OAAOsN,OAAOuK,IAAMqa,EAAGn1B,UAAY8a,EAAE9a,UAAW,GAAIm1B,QAGnFC,GAA0C,SAAUC,EAAYznB,EAAQ7L,EAAKuzB,GAC7E,GAA2H3P,GAAvH4P,EAAI/xB,UAAUtC,OAAQie,EAAIoW,EAAI,EAAI3nB,EAAkB,OAAT0nB,EAAgBA,EAAOryB,OAAOuyB,yBAAyB5nB,EAAQ7L,GAAOuzB,CACrH,IAAuB,gBAAZG,UAAoD,kBAArBA,SAAQC,SAAyBvW,EAAIsW,QAAQC,SAASL,EAAYznB,EAAQ7L,EAAKuzB,OACpH,KAAK,GAAI1zB,GAAIyzB,EAAWn0B,OAAS,EAAGU,GAAK,EAAGA,KAAS+jB,EAAI0P,EAAWzzB,MAAIud,GAAKoW,EAAI,EAAI5P,EAAExG,GAAKoW,EAAI,EAAI5P,EAAE/X,EAAQ7L,EAAKod,GAAKwG,EAAE/X,EAAQ7L,KAASod,EAChJ,OAAOoW,GAAI,GAAKpW,GAAKlc,OAAOiL,eAAeN,EAAQ7L,EAAKod,GAAIA,GAQ5DozC,GAAyC,SAAU58B,GAEnD,QAAS48B,KACL,MAAkB,QAAX58B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAgC/D,MAlCAuwB,IAAUy9B,EAAyB58B,GAInCP,IACIznB,EAAS,MACV4kD,EAAwBvyD,UAAW,QAAK,IAC3Co1B,IACIznB,EAAS,MACV4kD,EAAwBvyD,UAAW,QAAK,IAC3Co1B,IACIznB,EAAS,OACV4kD,EAAwBvyD,UAAW,cAAW,IACjDo1B,IACIznB,EAAS,WACV4kD,EAAwBvyD,UAAW,0BAAuB,IAC7Do1B,IACIznB,EAAS,UACV4kD,EAAwBvyD,UAAW,sBAAmB,IACzDo1B,IACIznB,EAAS,UACV4kD,EAAwBvyD,UAAW,aAAU,IAChDo1B,IACIznB,EAAS,WACV4kD,EAAwBvyD,UAAW,wBAAqB,IAC3Do1B,IACIznB,EAAS,OACV4kD,EAAwBvyD,UAAW,gBAAa,IACnDo1B,IACIznB,EAAS,OACV4kD,EAAwBvyD,UAAW,gBAAa,IACnDo1B,IACIznB,EAAS,OACV4kD,EAAwBvyD,UAAW,kBAAe,IAC9CuyD,GACTt0B,IAKEu0B,GAA6B,SAAU78B,GAEvC,QAAS68B,KACL,MAAkB,QAAX78B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAW/D,MAbAuwB,IAAU09B,EAAa78B,GAIvBP,IACIznB,EAAS,KACV6kD,EAAYxyD,UAAW,YAAS,IACnCo1B,IACIznB,EAAS,IACV6kD,EAAYxyD,UAAW,YAAS,IACnCo1B,IACIznB,EAAS,cACV6kD,EAAYxyD,UAAW,WAAQ,IAC3BwyD,GACTv0B,IAKEw0B,GAAsC,SAAU98B,GAEhD,QAAS88B,KACL,MAAkB,QAAX98B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAc/D,MAhBAuwB,IAAU29B,EAAsB98B,GAIhCP,IACIznB,EAAS,OACV8kD,EAAqBzyD,UAAW,YAAS,IAC5Co1B,IACIznB,EAAS,OACV8kD,EAAqBzyD,UAAW,UAAO,IAC1Co1B,IACIznB,EAAS,KACV8kD,EAAqBzyD,UAAW,WAAQ,IAC3Co1B,IACIznB,EAAS,OACV8kD,EAAqBzyD,UAAW,uBAAoB,IAChDyyD,GACTx0B,IAKEy0B,GAAmC,SAAU/8B,GAE7C,QAAS+8B,KACL,MAAkB,QAAX/8B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KA4C/D,MA9CAuwB,IAAU49B,EAAmB/8B,GAI7BP,IACIznB,GAAS,IACV+kD,EAAkB1yD,UAAW,cAAW,IAC3Co1B,IACIznB,GAAS,IACV+kD,EAAkB1yD,UAAW,oBAAiB,IACjDo1B,IACIznB,EAAS,OACV+kD,EAAkB1yD,UAAW,YAAS,IACzCo1B,IACIznB,EAAS,OACV+kD,EAAkB1yD,UAAW,UAAO,IACvCo1B,IACIznB,EAAS,OACV+kD,EAAkB1yD,UAAW,WAAQ,IACxCo1B,IACIznB,EAAS,YACV+kD,EAAkB1yD,UAAW,YAAS,IACzCo1B,IACIhnB,IAAU+T,MAAO,cAAe5F,MAAO,GAAK4wC,KAC7CuF,EAAkB1yD,UAAW,aAAU,IAC1Co1B,IACIznB,EAAS,KACV+kD,EAAkB1yD,UAAW,WAAQ,IACxCo1B,IACIznB,EAAS,OACV+kD,EAAkB1yD,UAAW,eAAY,IAC5Co1B,IACIznB,EAAS,WACV+kD,EAAkB1yD,UAAW,0BAAuB,IACvDo1B,IACIznB,EAAS,WACV+kD,EAAkB1yD,UAAW,wBAAqB,IACrDo1B,IACIhnB,GAAQ0jC,GAAMkb,mBAAoBE,KACnCwF,EAAkB1yD,UAAW,gBAAa,IAC7Co1B,IACIznB,EAAS,WACV+kD,EAAkB1yD,UAAW,aAAU,IAC1Co1B,IACIznB,EAAS,IACV+kD,EAAkB1yD,UAAW,cAAW,IACpC0yD,GACTz0B,IAKE00B,GAAkC,SAAUh9B,GAE5C,QAASg9B,KACL,MAAkB,QAAXh9B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAiB/D,MAnBAuwB,IAAU69B,EAAkBh9B,GAI5BP,IACIznB,EAAS,WACVglD,EAAiB3yD,UAAW,gBAAa,IAC5Co1B,IACIznB,EAAS,SACVglD,EAAiB3yD,UAAW,eAAY,IAC3Co1B,IACIhnB,GAAQ0jC,GAAM4a,cAAeQ,KAC9ByF,EAAiB3yD,UAAW,gBAAa,IAC5Co1B,IACIhnB,IAAU+T,MAAO,KAAM5F,MAAO,EAAGnQ,KAAM,aAAeomD,KACvDG,EAAiB3yD,UAAW,aAAU,IACzCo1B,IACI9mB,MAAemkD,KAChBE,EAAiB3yD,UAAW,iBAAc,IACtC2yD,GACT10B,ICpLEnJ,GAAwC,WACxC,GAAIC,GAAgB9xB,OAAO+xB,iBACpBC,uBAA2B9pB,QAAS,SAAUwa,EAAG7K,GAAK6K,EAAEsP,UAAYna,IACvE,SAAU6K,EAAG7K,GAAK,IAAK,GAAIoa,KAAKpa,GAAOA,EAAEzO,eAAe6oB,KAAIvP,EAAEuP,GAAKpa,EAAEoa,IACzE,OAAO,UAAUvP,EAAG7K,GAEhB,QAASqa,KAAO5wB,KAAKhC,YAAcojB,EADnCoP,EAAcpP,EAAG7K,GAEjB6K,EAAE3lB,UAAkB,OAAN8a,EAAa7X,OAAOsN,OAAOuK,IAAMqa,EAAGn1B,UAAY8a,EAAE9a,UAAW,GAAIm1B,QAGnFC,GAA0C,SAAUC,EAAYznB,EAAQ7L,EAAKuzB,GAC7E,GAA2H3P,GAAvH4P,EAAI/xB,UAAUtC,OAAQie,EAAIoW,EAAI,EAAI3nB,EAAkB,OAAT0nB,EAAgBA,EAAOryB,OAAOuyB,yBAAyB5nB,EAAQ7L,GAAOuzB,CACrH,IAAuB,gBAAZG,UAAoD,kBAArBA,SAAQC,SAAyBvW,EAAIsW,QAAQC,SAASL,EAAYznB,EAAQ7L,EAAKuzB,OACpH,KAAK,GAAI1zB,GAAIyzB,EAAWn0B,OAAS,EAAGU,GAAK,EAAGA,KAAS+jB,EAAI0P,EAAWzzB,MAAIud,GAAKoW,EAAI,EAAI5P,EAAExG,GAAKoW,EAAI,EAAI5P,EAAE/X,EAAQ7L,EAAKod,GAAKwG,EAAE/X,EAAQ7L,KAASod,EAChJ,OAAOoW,GAAI,GAAKpW,GAAKlc,OAAOiL,eAAeN,EAAQ7L,EAAKod,GAAIA,GAe5DyzC,GAAqB,SAAUj9B,GAE/B,QAASi9B,KAML,GAAItuD,GAAmB,OAAXqxB,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,IAOhE,OALAD,GAAMuuD,QAENvuD,EAAMwuD,aAENxuD,EAAMyuD,YACCzuD,EA2BX,MAzCAwwB,IAAU89B,EAAKj9B,GAqBfi9B,EAAI5yD,UAAUgzD,YAAc,SAAUpzC,EAAMW,GACxC,GAAIhE,GAAQ,CAERqD,GAAKwD,UACL7G,GAAUqD,EAAKqzC,aAAarzC,EAAKszC,aAC7BtzC,EAAKuzC,cAAcvzC,EAAKszC,YAHb,GAG0CtzC,EAAKwzC,UAAU72C,MAAQ,GAEhFqD,EAAK0B,gBACL/c,KAAKwuD,SAAShuD,KAAKwX,GAGnBhY,KAAKuuD,UAAU/tD,KAAKwX,IAG5B6Y,IACIznB,EAAS,SACVilD,EAAI5yD,UAAW,aAAU,IAC5Bo1B,IACIhnB,MAAY++C,KACbyF,EAAI5yD,UAAW,aAAU,IACrB4yD,GACT30B,IAKEo1B,GAAwB,SAAU19B,GAElC,QAAS09B,KAML,GAAI/uD,GAAmB,OAAXqxB,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,IAShE,OAPAD,GAAMuuD,QAENvuD,EAAMwuD,aAENxuD,EAAMyuD,YAENzuD,EAAMu2C,QAAU,EACTv2C,EA2BX,MA3CAwwB,IAAUu+B,EAAQ19B,GAuBlB09B,EAAOrzD,UAAUgzD,YAAc,SAAUpzC,EAAMW,GAC3C,GAAIjC,GAAS,CAETsB,GAAKwD,UACL9E,GAAWsB,EAAKqzC,aAAarzC,EAAKszC,aAC9BtzC,EAAKuzC,cAAcvzC,EAAKszC,YAHb,GAG0CtzC,EAAKwzC,UAAU72C,MAAQ,GAEhFqD,EAAK0B,gBACL/c,KAAKwuD,SAAShuD,KAAKuZ,GAGnB/Z,KAAKuuD,UAAU/tD,KAAKuZ,IAG5B8W,IACIznB,EAAS,SACV0lD,EAAOrzD,UAAW,YAAS,IAC9Bo1B,IACIhnB,MAAY++C,KACbkG,EAAOrzD,UAAW,aAAU,IACxBqzD,GACTp1B,IAKEq1B,GAAgC,SAAU39B,GAE1C,QAAS29B,KACL,MAAkB,QAAX39B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAW/D,MAbAuwB,IAAUw+B,EAAgB39B,GAI1BP,IACIznB,EAAS,IACV2lD,EAAetzD,UAAW,YAAS,IACtCo1B,IACIznB,EAAS,KACV2lD,EAAetzD,UAAW,gBAAa,IAC1Co1B,IACIznB,EAAS,OACV2lD,EAAetzD,UAAW,YAAS,IAC/BszD,GACTr1B,IAKEs1B,GAAgC,SAAU59B,GAE1C,QAAS49B,KACL,MAAkB,QAAX59B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAW/D,MAbAuwB,IAAUy+B,EAAgB59B,GAI1BP,IACIznB,EAAS,KACV4lD,EAAevzD,UAAW,YAAS,IACtCo1B,IACIznB,EAAS,KACV4lD,EAAevzD,UAAW,gBAAa,IAC1Co1B,IACIznB,EAAS,OACV4lD,EAAevzD,UAAW,YAAS,IAC/BuzD,GACTt1B,IAKEu1B,GAA0B,SAAU79B,GAEpC,QAAS69B,KACL,MAAkB,QAAX79B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAW/D,MAbAuwB,IAAU0+B,EAAU79B,GAIpBP,IACIznB,EAAS,IACV6lD,EAASxzD,UAAW,YAAS,IAChCo1B,IACIznB,EAAS,KACV6lD,EAASxzD,UAAW,gBAAa,IACpCo1B,IACIznB,EAAS,OACV6lD,EAASxzD,UAAW,YAAS,IACzBwzD,GACTv1B,IAKEw1B,GAAgC,SAAU99B,GAE1C,QAAS89B,KACL,MAAkB,QAAX99B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAW/D,MAbAuwB,IAAU2+B,EAAgB99B,GAI1BP,IACIznB,EAAS,IACV8lD,EAAezzD,UAAW,YAAS,IACtCo1B,IACIznB,EAAS,IACV8lD,EAAezzD,UAAW,aAAU,IACvCo1B,IACIznB,EAAS,OACV8lD,EAAezzD,UAAW,YAAS,IAC/ByzD,GACTx1B,IAKEy1B,GAAgC,SAAU/9B,GAE1C,QAAS+9B,KACL,MAAkB,QAAX/9B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAW/D,MAbAuwB,IAAU4+B,EAAgB/9B,GAI1BP,IACIznB,EAAS,KACV+lD,EAAe1zD,UAAW,YAAS,IACtCo1B,IACIznB,EAAS,IACV+lD,EAAe1zD,UAAW,aAAU,IACvCo1B,IACIznB,EAAS,OACV+lD,EAAe1zD,UAAW,YAAS,IAC/B0zD,GACTz1B,IAKE01B,GAAkC,SAAUh+B,GAE5C,QAASg+B,KACL,MAAkB,QAAXh+B,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,KAW/D,MAbAuwB,IAAU6+B,EAAkBh+B,GAI5BP,IACIznB,GAAS,IACVgmD,EAAiB3zD,UAAW,aAAU,IACzCo1B,IACIznB,EAAS,OACVgmD,EAAiB3zD,UAAW,WAAQ,IACvCo1B,IACIhnB,GAAQ0jC,GAAM+a,mBAAoBK,KACnCyG,EAAiB3zD,UAAW,gBAAa,IACrC2zD,GACT11B,IAKE21B,GAAsB,SAAUj+B,GAEhC,QAASi+B,KAIL,GAAItvD,GAAmB,OAAXqxB,GAAmBA,EAAOz1B,MAAMqE,KAAMf,YAAce,IAqBhE,OAnBAD,GAAM0c,iBAEN1c,EAAM0Y,UAEN1Y,EAAM8Z,KAAO,GAAI0D,QAAKhiB,OAAWA,GAAW,EAAG,GAE/CwE,EAAMuvD,eAAiB,KAEvBvvD,EAAM0rD,cAAgB,GAAI,EAAG,EAAG,GAEhC1rD,EAAM0W,MAAQ1W,EAAMy2B,cAEpBz2B,EAAMguD,YAAa,EAEnBhuD,EAAMwvD,QAAU,KAEhBxvD,EAAMyvD,YAAc,KAEpBzvD,EAAM0vD,sBAAwB,EACvB1vD,EAoeX,MA9fAwwB,IAAU8+B,EAAMj+B,GAiChBi+B,EAAK5zD,UAAUizD,aAAe,SAAUgB,GACpC,MAA0B,WAAtB1vD,KAAK2vD,aACE,GAEPD,GAAeA,EAAUx2C,eAAgBlZ,KAAK4vD,SAASF,EAAUx2C,cAG9DlZ,KAAK6vD,eAAe91C,OAFhB,GASfs1C,EAAK5zD,UAAUm0D,SAAW,SAAU13C,GAChC,MAAQD,IAAOjY,KAAKuvD,QAASr3C,KACvBlY,KAAK+c,iBAAmB/c,KAAKuvD,SAAWr3C,EAAMrK,KAAS7N,KAAK+c,iBAAmB/c,KAAKuvD,SAAWr3C,EAAMC,KAO/Gk3C,EAAK5zD,UAAUmzD,cAAgB,SAAUc,EAAWI,GAChD,GAAIC,GAAY,CAIhB,IAHI/vD,KAAKynB,QACLsoC,EAAY76C,GAAYlV,KAAKynB,MAAOznB,KAAKioB,YAAYlO,OAAS+1C,GAEvC,WAAvB9vD,KAAKgwD,cACL,MAAOD,GAAYD,CAEvB,IAAI5pB,GACAhpC,EACA+yD,EAAYF,EAAYD,EAjSlB,IAkSiB,aAArB9vD,KAAKwsD,YAA8BxsD,KAAKkwD,aAAal4C,MAAQhY,KAAKkwD,aAAan2C,QAAU/Z,KAAKyvD,qBACpG,IAAIC,GAAa1vD,KAAKmwD,oBAAqB,CACvC,GAAIj4C,GAAQw3C,EAAUx2C,aAClBzD,EAAkC,eAA1Bi6C,EAAUlD,YAAgCkD,EAAU71C,KAAK7B,MAAQ03C,EAAU71C,KAAKE,MAC5F,KAAK7B,IAAUzC,EACX,MAAO,EAEFzV,MAAK4vD,SAAS13C,KAInB+3C,GADA/pB,GAFAhpC,EAAQ8C,KAAKowD,eAAeV,MAETj6C,IADnBywB,EAAO,GAAWzwB,EAAOyC,EAAMqE,QACG0zC,EAAaA,EAAY/pB,EAAQ,IAAMhuB,EAAMqE,QAC3D0zC,EAAcA,EAAY/pB,EAAQ,GAG9D,MAAO+pB,IAOXZ,EAAK5zD,UAAU40D,iBAAmB,SAAU35C,GACxC,GAAIxZ,GAAQ8C,KAAKuvD,OACjB,IAAc,OAAVryD,IAAmB8C,KAAK4vD,SAAS5vD,KAAK2uD,YAAYz1C,cAElD,MADAlZ,MAAKwvD,YAAcxvD,KAAK6Z,KACjB,IAEX,IAAI3B,GAAQlY,KAAK2uD,YAAYz1C,YACxBlZ,MAAK+c,gBAMF/c,KAAKuvD,QAAUr3C,EAAMC,MACrBjb,EAAQgb,EAAMC,KANdnY,KAAKuvD,QAAUr3C,EAAMrK,MACrB3Q,EAAQgb,EAAMrK,KAQtB7N,KAAKwvD,YAAc7wD,KAAWqB,KAAK6Z,KAAM,MAAM,GACtB,eAArB7Z,KAAKwsD,aACLtvD,EAAQ8C,KAAK2uD,YAAY90C,KAAKE,OAAUqB,GAAmBle,EAAO8C,KAAK2uD,aAAe3uD,KAAK2uD,YAAY90C,KAAKE,OAC5G/Z,KAAKwvD,YAAYjhD,EAAIvO,KAAK2uD,YAAY90C,KAAKtL,EAAIrR,IAG/CA,EAAQke,GAAmBle,EAAO8C,KAAK2uD,aAAe3uD,KAAK2uD,YAAY90C,KAAK7B,MAC5EhY,KAAKwvD,YAAYlhD,EAAItO,KAAK2uD,YAAY90C,KAAKvL,EAAIpR,IAGvDmyD,EAAK5zD,UAAU20D,eAAiB,SAAUV,GACtC,GAAIxyD,GAAQ,CAOZ,OALIA,GADA8C,KAAK+c,gBACG2yC,EAAUp0C,WAAao0C,EAAUx2C,aAAaf,IAAMu3C,EAAUx2C,aAAarL,IAG3E6hD,EAAUp0C,WAAao0C,EAAUx2C,aAAarL,IAAM6hD,EAAUx2C,aAAaf,IAEhFvK,KAAKE,IAAI9N,KAAKuvD,QAAUryD,IAOnCmyD,EAAK5zD,UAAU4wD,SAAW,WACtB,MAAoB,OAAhBrsD,KAAK4jB,SAAmC,MAAhB5jB,KAAK2jB,SAUrC0rC,EAAK5zD,UAAUyxD,sBAAwB,SAAUz3C,GAC7C,GAAIzV,KAAKmtD,WAAa,GAAKntD,KAAKotD,aAAe,EAAG,CAC9C,GAAIkD,GAAYtwD,KAAK6rD,YACjBnuD,MAAQ,GACRyiB,MAAM,EAONA,GANCngB,KAAKsb,YAKN5d,EAAQsC,KAAK6rD,YAAYh+C,IAAO7N,KAAKotD,aAAeptD,KAAK6rD,YAAYtvC,OACtDvc,KAAKmtD,WAAantD,KAAK6rD,YAAYtvC,OALlD7e,EAAQsC,KAAK6rD,YAAY1zC,IAAMnY,KAAKotD,aAAeptD,KAAK6rD,YAAYtvC,OACtDvc,KAAKmtD,WAAantD,KAAK6rD,YAAYtvC,MAMjD7e,EAAQ4yD,EAAUn4C,MAClBgI,GAAamwC,EAAUn4C,IAAMza,EAC7BA,EAAQ4yD,EAAUn4C,KAElBgI,EAAMmwC,EAAUziD,MAChBnQ,GAAiByiB,EAAMmwC,EAAUziD,IACjCsS,EAAMmwC,EAAUziD,KAEpB7N,KAAK8rD,YAAc,GAAIhB,IAAYptD,EAAOyiB,GAC1CngB,KAAKkZ,aAAaf,IAAMnY,KAAK8rD,YAAYpuD,MACzCsC,KAAKkZ,aAAarL,IAAM7N,KAAK8rD,YAAY3rC,IACzCngB,KAAKkZ,aAAaqD,MAAQvc,KAAK8rD,YAAYvvC,QAQnD8yC,EAAK5zD,UAAU2vD,+BAAiC,SAAUluC,GACtD,GAAIzH,GAA4B,eAArBzV,KAAKwsD,YAA+BtvC,EAAclF,MAAQkF,EAAcnD,MACnF,IAA8B,OAA1B/Z,KAAKsrD,iBAA2B,CAChC,GAAIiF,IAA8C,eAArBvwD,KAAKwsD,YAA+B,KAAQ,GAAKxsD,KAAKwwD,aAEnF,OADAD,GAAwB3iD,KAAKC,IAAK4H,GAAQ86C,EAAwB,KAAO,GAIzE,MAAOvwD,MAAKsrD,kBAQpB+D,EAAK5zD,UAAUmyD,mBAAqB,SAAUl3C,EAAO62C,EAAcp4C,EAAMkI,GACrE,GAAIozC,EACJA,IACIrc,QAAQ,EAAOt1B,KCtaE,kBDsaqBzD,KAAMrb,KAC5CmV,KAAMA,EAAMjY,MAAOqwD,EAAclwC,WAAYA,GAEjD3G,EAAM2J,QCzae,kBDyaUowC,GAC1BA,EAASrc,QACVp0C,KAAKyc,cAAcjc,KAAK,GAAIkwD,IAAcD,EAASt7C,KAAMs7C,EAASvzD,MAAOuzD,EAASpzC,cAQ1FgyC,EAAK5zD,UAAU6xD,mBAAqB,SAAU52C,EAAOkN,EAASD,EAAS9gB,GACnE,GAAI4tD,EACJA,IACIrc,QAAQ,EAAOt1B,KCpbM,sBDobqBzD,KAAMrb,KAChD4jB,QAASA,EAASD,QAASA,EAAS9gB,SAAUA,GAElD6T,EAAM2J,QCvbmB,sBDubUowC,GAC9BA,EAASrc,SACVp0C,KAAKkZ,aAAaf,IAAMs4C,EAAS7sC,QACjC5jB,KAAKkZ,aAAarL,IAAM4iD,EAAS9sC,QACjC3jB,KAAKkZ,aAAarW,SAAW4tD,EAAS5tD,SACtC7C,KAAKkZ,aAAaqD,MAAQk0C,EAAS9sC,QAAU8sC,EAAS7sC,UAQ9DyrC,EAAK5zD,UAAUqxD,gBAAkB,SAAUp2C,GACvC,GAAI4/B,GAAUt2C,KAAKysD,YACnB,IAAgB,SAAZnW,EACA,MAAOA,EAEX,QAAQt2C,KAAKwsD,aACT,IAAK,aAEGlW,EADA5/B,EAAMwH,oBACKle,KAAK+tD,WAAa,QAAU,SAG7B,MAEd,MACJ,KAAK,WAKGzX,EAJC5/B,EAAMwH,oBAIG,OAHCle,KAAK+tD,WAAa,QAAU,SAOnD,MAAOzX,IAOX+Y,EAAK5zD,UAAUqyD,iBAAmB,SAAUp3C,GACxC,GAEIi6C,GACAC,EAAc,EACdC,GAAc,CAClB7wD,MAAKyW,MAAQzW,KAAKw2B,cAClBx2B,KAAKkwD,aAAe,GAAIn6C,IAAK,EAAG,EAGhC,KAAK,GADD6K,GADAqgC,EAASjhD,KAAK8wD,qBAETzzD,EAAI,EAAGA,EAAI2C,KAAKyc,cAAc9f,OAAQU,IAU3C,GATAujB,EAAQ5gB,KAAKyc,cAAcpf,GAC3BujB,EAAMnL,KAAOP,GAAY0L,EAAMzL,KAAMnV,KAAKqd,YACtCuD,EAAMnL,KAAKuC,MAAQhY,KAAKkwD,aAAal4C,QACrChY,KAAKkwD,aAAal4C,MAAQ4I,EAAMnL,KAAKuC,MACrChY,KAAK+wD,aAAenwC,EAAMzL,MAE1ByL,EAAMnL,KAAKsE,OAAS/Z,KAAKkwD,aAAan2C,SACtC/Z,KAAKkwD,aAAan2C,OAAS6G,EAAMnL,KAAKsE,QAE3B,SAAXknC,GAAgC,SAAXA,GAAgC,SAAXA,IAG9B,SAAXA,GAAqBjhD,KAAKyW,MAAQ,KAAQ,IAA2B,eAArBzW,KAAKwsD,aACtDxsD,KAAK6Z,KAAK7B,MAAQ,IAAM64C,EAAa,CAWrC,OAVAF,EAAUv1C,GAAmBwF,EAAM1jB,MAAO8C,MAAQA,KAAK6Z,KAAK7B,MAAShY,KAAK6Z,KAAKvL,EAC/EqiD,GAAU/vC,EAAMnL,KAAKuC,MAAQ,EACG,UAA5BhY,KAAKgxD,qBACK,IAAN3zD,GAAWszD,EAAS3wD,KAAK6Z,KAAKvL,IAC9BqiD,EAAS3wD,KAAK6Z,KAAKvL,GAEnBjR,IAAM2C,KAAKyc,cAAc9f,OAAS,GAAOg0D,EAAS/vC,EAAMnL,KAAKuC,MAAUhY,KAAK6Z,KAAKvL,EAAItO,KAAK6Z,KAAK7B,QAC/F24C,EAAS3wD,KAAK6Z,KAAKvL,EAAItO,KAAK6Z,KAAK7B,MAAQ4I,EAAMnL,KAAKuC,QAGpDipC,GACJ,IAAK,eACG5jD,EAAI,GACJ2C,KAAKixD,cAAc5zD,EAAGszD,EAAQ/vC,EAElC,MACJ,KAAK,WACL,IAAK,WACGvjB,EAAI,IAAO2C,KAAKsb,WAAqCq1C,EAAS/vC,EAAMnL,KAAKuC,OAAS44C,EAArDD,GAAUC,KACvC5wD,KAAKyW,MAAoB,aAAXwqC,EAAyB,GAAK,GAC5C4P,GAAc,EAElB,MACJ,SACIjwC,EAAMzL,KAAOyS,GAAShH,EAAMzL,KAAMnV,KAAK6Z,KAAK7B,MAAQhY,KAAKyc,cAAc9f,OAAQqD,KAAKqd,WACpF,IAAItD,GAAU6G,EAAMnL,KAAKsE,OAAS6G,EAAMzL,KAAKxY,MACzCod,GAAS/Z,KAAKkwD,aAAan2C,SAC3B/Z,KAAKkwD,aAAan2C,OAASA,GAIvC62C,EAAc5wD,KAAKsb,WAAaq1C,EAASA,EAAS/vC,EAAMnL,KAAKuC,MAGlD,IAAfhY,KAAKyW,OAAoC,eAArBzW,KAAKwsD,cACzBxsD,KAAKkwD,aAAe15C,GAAexW,KAAKqd,WAAYrd,KAAK+wD,aAAc/wD,KAAKyW,MAAOC,IAEnFA,EAAMw6C,uBAAyBlxD,KAAKmxD,iBAAiBx0D,OAAS,GAC9D+Z,EAAMw6C,sBAAsBE,0BAA0BpxD,OAO9DqvD,EAAK5zD,UAAUw1D,cAAgB,SAAUt0D,EAAQ00D,EAAUlpC,GAKvD,IAAK,GAJDvH,GACA+vC,EACAW,KAEKj0D,EAAIV,EAAS,EAAGU,GAAK,EAAGA,IAE7BszD,EAAUv1C,IADVwF,EAAQ5gB,KAAKyc,cAAcpf,IACQH,MAAO8C,MAAQA,KAAK6Z,KAAK7B,MAAShY,KAAK6Z,KAAKvL,GAChEtO,KAAKsb,WAChB+1C,EAAWlpC,EAAa1S,KAAKuC,MAAS24C,EAAS/vC,EAAMnL,KAAKuC,MAAQ,EADrCq5C,EAAYV,EAAS/vC,EAAMnL,KAAKuC,MAAQ,IAGrEs5C,EAAM9wD,KAAKogB,EAAMlH,OACjByO,EAAazO,MAASyO,EAAazO,MAAQkH,EAAMlH,MAASyO,EAAazO,MAAQkH,EAAMlH,MAAQ,GAG7FyO,EAAazO,MAAQ43C,EAAMpuD,QAAQ0d,EAAMlH,QAAU,EAAIyO,EAAazO,MAAQkH,EAAMlH,KAG1F,IAAIK,GAAUoO,EAAa1S,KAAKsE,OAASoO,EAAazO,MAAU,GAAKyO,EAAazO,MAAQ,EACtFK,GAAS/Z,KAAKkwD,aAAan2C,SAC3B/Z,KAAKkwD,aAAan2C,OAASA,IAQnCs1C,EAAK5zD,UAAU81D,UAAY,SAAU76C,GACV,WAAnB1W,KAAK0b,UACL1b,KAAKwxD,WAAa,GAAIvG,IAAOv0C,GAG7B1W,KAAKwxD,WAAa96C,EAAMyH,GAAiBne,KAAK0b,WAAa,WAGnEmV,IACIhnB,GAAQ0jC,GAAM4a,cAAeQ,KAC9B0G,EAAK5zD,UAAW,iBAAc,IACjCo1B,IACIhnB,MAAYulD,KACbC,EAAK5zD,UAAW,uBAAoB,IACvCo1B,IACIznB,EAAS,KACVimD,EAAK5zD,UAAW,YAAS,IAC5Bo1B,IACIhnB,GAAQ0jC,GAAM6a,cAAeO,KAC9B0G,EAAK5zD,UAAW,iBAAc,IACjCo1B,IACIznB,EAAS,KACVimD,EAAK5zD,UAAW,kBAAe,IAClCo1B,IACIznB,EAAS,KACVimD,EAAK5zD,UAAW,eAAY,IAC/Bo1B,IACIznB,EAAS,aACVimD,EAAK5zD,UAAW,mBAAgB,IACnCo1B,IACIznB,EAAS,IACVimD,EAAK5zD,UAAW,iBAAc,IACjCo1B,IACIznB,GAAS,IACVimD,EAAK5zD,UAAW,gBAAa,IAChCo1B,IACIznB,EAAS,KACVimD,EAAK5zD,UAAW,cAAW,IAC9Bo1B,IACIznB,EAAS,IACVimD,EAAK5zD,UAAW,kBAAe,IAClCo1B,IACIznB,EAAS,IACVimD,EAAK5zD,UAAW,eAAY,IAC/Bo1B,IACIznB,EAAS,IACVimD,EAAK5zD,UAAW,WAAQ,IAC3Bo1B,IACIznB,EAAS,OACVimD,EAAK5zD,UAAW,uBAAoB,IACvCo1B,IACIznB,EAAS,IACVimD,EAAK5zD,UAAW,oBAAiB,IACpCo1B,IACIznB,EAAS,IACVimD,EAAK5zD,UAAW,iBAAc,IACjCo1B,IACIznB,EAAS,IACVimD,EAAK5zD,UAAW,mBAAgB,IACnCo1B,IACIznB,GAAS,IACVimD,EAAK5zD,UAAW,sBAAmB,IACtCo1B,IACIznB,GAAS,IACVimD,EAAK5zD,UAAW,kCAA+B,IAClDo1B,IACIznB,EAAS,SACVimD,EAAK5zD,UAAW,mBAAgB,IACnCo1B,IACIznB,EAAS,WACVimD,EAAK5zD,UAAW,gBAAa,IAChCo1B,IACIznB,EAAS,SACVimD,EAAK5zD,UAAW,yBAAsB,IACzCo1B,IACIznB,EAAS,SACVimD,EAAK5zD,UAAW,mBAAgB,IACnCo1B,IACIznB,EAAS,iBACVimD,EAAK5zD,UAAW,qBAAkB,IACrCo1B,IACIznB,EAAS,YACVimD,EAAK5zD,UAAW,mBAAgB,IACnCo1B,IACIznB,EAAS,YACVimD,EAAK5zD,UAAW,oBAAiB,IACpCo1B,IACIznB,EAAS,KACVimD,EAAK5zD,UAAW,WAAQ,IAC3Bo1B,IACIznB,GAAS,IACVimD,EAAK5zD,UAAW,cAAW,IAC9Bo1B,IACIznB,EAAS,IACVimD,EAAK5zD,UAAW,4BAAyB,IAC5Co1B,IACIznB,EAAS,IACVimD,EAAK5zD,UAAW,oBAAiB,IACpCo1B,IACIznB,EAAS,OACVimD,EAAK5zD,UAAW,gBAAa,IAChCo1B,IACIznB,GAAS,IACVimD,EAAK5zD,UAAW,0BAAuB,IAC1Co1B,IACIznB,EAAS,OACVimD,EAAK5zD,UAAW,oBAAiB,IACpCo1B,IACIznB,EAAS,OACVimD,EAAK5zD,UAAW,cAAW,IAC9Bo1B,IACIznB,EAAS,OACVimD,EAAK5zD,UAAW,cAAW,IAC9Bo1B,IACIznB,EAAS,OACVimD,EAAK5zD,UAAW,eAAY,IAC/Bo1B,IACIhnB,MAAYqlD,KACbG,EAAK5zD,UAAW,qBAAkB,IACrCo1B,IACIhnB,MAAYslD,KACbE,EAAK5zD,UAAW,qBAAkB,IACrCo1B,IACIhnB,MAAYklD,KACbM,EAAK5zD,UAAW,qBAAkB,IACrCo1B,IACIhnB,MAAYmlD,KACbK,EAAK5zD,UAAW,qBAAkB,IACrCo1B,IACIhnB,MAAYolD,KACbI,EAAK5zD,UAAW,gBAAa,IAChCo1B,IACIznB,EAAS,SACVimD,EAAK5zD,UAAW,2BAAwB,IAC3Co1B,IACIznB,GAAS,IACVimD,EAAK5zD,UAAW,iBAAc,IACjCo1B,IACIznB,EAAS,MACVimD,EAAK5zD,UAAW,kBAAe,IAClCo1B,IACIznB,EAAS,IACVimD,EAAK5zD,UAAW,iBAAc,IACjCo1B,IACIznB,EAAS,OACVimD,EAAK5zD,UAAW,kBAAe,IAClCo1B,IACIznB,EAAS,IACVimD,EAAK5zD,UAAW,eAAY,IAC/Bo1B,IACI9mB,MAAeokD,KAChBkB,EAAK5zD,UAAW,iBAAc,IACjCo1B,IACI9mB,MAAeqkD,KAChBiB,EAAK5zD,UAAW,uBAAoB,IACvCo1B,IACIhnB,IAAU+T,MAAO,KAAM5F,MAAO,EAAGnQ,KAAM,aAAeomD,KACvDoB,EAAK5zD,UAAW,aAAU,IACtB4zD,GACT31B,IAGEg3B,GAA+B,WAC/B,QAASA,GAAcv7C,EAAMjY,EAAOmgB,EAAY5H,EAAMiE,OACrC,KAATjE,IAAmBA,EAAO,GAAIM,IAAK,EAAG,QAC5B,KAAV2D,IAAoBA,EAAQ,GAChC1Z,KAAKmV,KAAOA,EACZnV,KAAKyxD,aAAet8C,EACpBnV,KAAK9C,MAAQA,EACb8C,KAAKqd,WAAaA,EAClBrd,KAAKyV,KAAOA,EACZzV,KAAK0Z,MAAQ,EAEjB,MAAOg3C,MEjwBPgB,GAAuB,WAMvB,QAASA,GAAMC,GAoBX,MAlBA3xD,MAAK4xD,SAAW,KAEhB5xD,KAAK6xD,SAAU,EACf7xD,KAAK8xD,WACL9xD,KAAKxC,IAAM,GACXwC,KAAK+xD,KAAO,GACQ,gBAATJ,GACP3xD,KAAKgyD,UAAYL,EAEZA,GAAQA,YAAgB/qD,SAC7B5G,KAAKiyD,QAAUN,GAEnB3xD,KAAKkyD,WACLlyD,KAAKmyD,iBACLnyD,KAAKoyD,kBACLpyD,KAAK4xD,SAAW,KAChB5xD,KAAK6xD,SAAU,EACf7xD,KAAK5E,UACE4E,KAwWX,MAlWA0xD,GAAMj2D,UAAU42D,OAAS,SAAUC,GAE/B,MADAtyD,MAAKxC,IAAM80D,EACJtyD,MAMX0xD,EAAMj2D,UAAU82D,MAAQ,SAAUC,GAE9B,MADAxyD,MAAKwyD,YAAcA,EACZxyD,MAiBX0xD,EAAMj2D,UAAUg3D,QAAU,SAAUD,EAAanmD,EAAM8mB,EAAMu/B,GAEzD,MADAF,GAAcA,GAAexyD,KAAKwyD,YAC9BA,EACOA,EAAYG,aAAa3yD,KAAMqM,EAAM8mB,EAAMu/B,GAE/CE,GAASvxD,WAAW,8GAM/BqwD,EAAMj2D,UAAUo3D,aAAe,SAAUL,GAErC,MADAA,GAAcA,GAAexyD,KAAKwyD,YAC9BA,EACOA,EAAYK,aAAa7yD,MAE7B4yD,GAASvxD,WAAW,mHAK/BqwD,EAAMj2D,UAAU4D,MAAQ,WACpB,GAAIyzD,GAAS,GAAIpB,EAcjB,OAbAoB,GAAOhB,QAAU9xD,KAAK8xD,QAAQ9vD,MAAM,GACpC8wD,EAAOt1D,IAAMwC,KAAKxC,IAClBs1D,EAAOjB,QAAU7xD,KAAK6xD,QACtBiB,EAAON,YAAcxyD,KAAKwyD,YAC1BM,EAAOd,UAAYhyD,KAAKgyD,UACxBc,EAAO13D,OAAS4E,KAAK5E,OAAO4G,MAAM,GAClC8wD,EAAOZ,QAAUlyD,KAAKkyD,QAAQlwD,MAAM,GACpC8wD,EAAOX,cAAgBnyD,KAAKmyD,cAAcnwD,MAAM,GAChD8wD,EAAOV,eAAiBpyD,KAAKoyD,eAAepwD,MAAM,GAClD8wD,EAAOC,iBAAmB/yD,KAAK+yD,iBAC/BD,EAAOlB,SAAW5xD,KAAK4xD,SACvBkB,EAAOf,KAAO/xD,KAAK+xD,KACnBe,EAAOE,gBAAkBhzD,KAAKgzD,gBACvBF,GAMXpB,EAAMj2D,UAAUk2D,KAAO,SAAUsB,GAE7B,MADAjzD,MAAKgyD,UAAYiB,EACVjzD,MAOX0xD,EAAMj2D,UAAUy3D,UAAY,SAAU11D,EAAKN,GAOvC,MANqB,kBAAVA,GACP8C,KAAK5E,OAAOoF,MAAOhD,IAAKA,EAAK21D,GAAIj2D,IAGjC8C,KAAK5E,OAAOoF,MAAOhD,IAAKA,EAAKN,MAAOA,IAEjC8C,MAMX0xD,EAAMj2D,UAAU23D,OAAS,SAAUC,GAO/B,MALIrzD,MAAKkyD,QADa,gBAAXmB,MACWrxD,MAAMlB,MAAMuyD,GAAS,GAGxBA,EAAOrxD,MAAM,GAEzBhC,MAUX0xD,EAAMj2D,UAAU63D,MAAQ,SAAUC,EAAWC,EAAUt2D,EAAOu2D,EAAYC,GACtEF,EAAWA,EAAW,EAAWn1C,cAAgB,IACjD,IAAIs1C,GAAY,IAWhB,OAVyB,gBAAdJ,GACPI,EAAY,GAAIC,IAAUL,EAAWC,EAAUt2D,EAAOu2D,EAAYC,GAE7DH,YAAqBK,MAC1BD,EAAYJ,GAEhBvzD,KAAK8xD,QAAQtxD,MACT2yD,GAAI,UACJ3xD,EAAGmyD,IAEA3zD,MAUX0xD,EAAMj2D,UAAUo4D,OAAS,SAAUC,EAAWC,EAAYP,EAAUC,EAAYC,GAClD,gBAAfK,KACPA,GAAcA,IAElBP,EAAWA,GAAY,UACvB,IAAIQ,GAAWpB,GAASqB,YAAYT,EAYpC,OAXAxzD,MAAK8xD,QAAQtxD,MACT2yD,GAAI,WACJ3xD,GACIuyD,WAAYA,EACZP,SAAUA,EACVM,UAAWA,EACXL,WAAYA,EACZC,aAAcA,EACdM,SAAUA,KAGXh0D,MAQX0xD,EAAMj2D,UAAUy4D,OAAS,SAAUX,EAAWS,EAAUG,GACpD,GACIC,GACAnoD,EAFAooD,EAAQ,WAWZ,IARyB,gBAAdd,IAA0BX,GAAS0B,SAASf,EAAUl1C,cAAe,WAC5Ek1C,EAAYA,EAAUhiD,QAAQ,UAAW,IACzCyiD,EAAW,cAEVA,GAAgC,gBAAbA,KACpBK,EAAQL,EAAWA,EAAS31C,cAAgB,YAC5C21C,EAAWpB,GAAS2B,OAAOP,IAE3BG,EAAa,CACbC,EAAQ1C,EAAM8C,cAAcx0D,KAAK8xD,QAAS,WAC1C,KAAK,GAAIz0D,GAAI,EAAGA,EAAI+2D,EAAMz3D,OAAQU,IAE9B,GAAoB,iBADpB4O,EAAOmoD,EAAM/2D,GAAGmE,EAAE+xD,YAEd,GAAItnD,IAASsnD,EACT,MAAOvzD,UAGV,IAAIiM,YAAgBrF,OACrB,IAAK,GAAI4kB,GAAI,EAAGA,EAAIvf,EAAKtP,OAAQ6uB,IAC7B,GAAIvf,EAAKuf,KAAO+nC,GAAaA,EAAUl1C,gBAAkBpS,EAAKuf,GAAK,QAC/D,MAAOxrB,MAc3B,MARAA,MAAK8xD,QAAQtxD,MACT2yD,GAAI,WACJ3xD,GACI+xD,UAAWA,EACXS,SAAUA,EACVl3C,UAAWu3C,KAGZr0D,MAMX0xD,EAAMj2D,UAAUg5D,WAAa,SAAUlB,GACnC,MAAOvzD,MAAKk0D,OAAOX,EAAW,eAMlC7B,EAAMj2D,UAAUg/B,MAAQ,SAAU84B,EAAWJ,EAAIlvC,GAU7C,MATAjkB,MAAKk0D,OAAOX,EAAW,MAAM,GAC7BvzD,KAAK8xD,QAAQtxD,MACT2yD,GAAI,UACJ3xD,GACI+xD,UAAWA,EACXS,SAAUb,GAAU,KACpBlvC,OAAQA,GAAkB,QAG3BjkB,MAOX0xD,EAAMj2D,UAAUi5D,KAAO,SAAUC,EAAWC,GAQxC,MAPA50D,MAAK8xD,QAAQtxD,MACT2yD,GAAI,SACJ3xD,GACImzD,UAAWA,EACXC,SAAUA,KAGX50D,MAOX0xD,EAAMj2D,UAAUyc,MAAQ,SAAUxa,EAAOyiB,GAQrC,MAPAngB,MAAK8xD,QAAQtxD,MACT2yD,GAAI,UACJ3xD,GACI9D,MAAOA,EACPyiB,IAAKA,KAGNngB,MAMX0xD,EAAMj2D,UAAUo5D,KAAO,SAAUC,GAO7B,MANA90D,MAAK8xD,QAAQtxD,MACT2yD,GAAI,SACJ3xD,GACIszD,IAAKA,KAGN90D,MAMX0xD,EAAMj2D,UAAUs5D,KAAO,SAAUD,GAK7B,MAJA90D,MAAK8xD,QAAQtxD,MACT2yD,GAAI,SACJ3xD,GAAKszD,IAAKA,KAEP90D,MAMX0xD,EAAMj2D,UAAUyK,OAAS,SAAU6tD,GAQ/B,MAP0B,gBAAfA,KACPA,KAAgB/xD,MAAMlB,MAAMizD,GAAa,IAE7C/zD,KAAK8xD,QAAQtxD,MACT2yD,GAAI,WACJ3xD,GAAKuyD,WAAYA,KAEd/zD,MAOX0xD,EAAMj2D,UAAUu5D,UAAY,SAAUC,EAAOC,GAGzC,MAFAl1D,MAAK+yD,iBAAmBmC,EACxBl1D,KAAK4xD,SAAWqD,EACTj1D,MAMX0xD,EAAMj2D,UAAU05D,WAAa,SAAU33D,GAEnC,MADAwC,MAAK+xD,KAAOv0D,EACLwC,MAKX0xD,EAAMj2D,UAAU25D,cAAgB,WAE5B,MADAp1D,MAAKgzD,iBAAkB,EAChBhzD,MAQX0xD,EAAMj2D,UAAU45D,UAAY,SAAUxtD,EAAMyqD,GAKxC,MAJAtyD,MAAK8xD,QAAQtxD,MACT2yD,GAAI,eACJ3xD,GAAK8wD,MAAOA,EAAOzqD,KAAMA,KAEtB7H,MAQX0xD,EAAM8C,cAAgB,SAAU1C,EAAShzC,GACrC,MAAOgzC,GAAQ5jC,OAAO,SAAUonC,GAC5B,MAAOA,GAAEnC,KAAOr0C,KASxB4yC,EAAM6D,iBAAmB,SAAUzD,EAAS0D,GAKxC,IAAK,GAJDC,GAAW3D,EAAQ5jC,OAAO,SAAUonC,GACpC,OAAkC,IAA3BE,EAAQtyD,QAAQoyD,EAAEnC,MAEzB53B,KACKl+B,EAAI,EAAGA,EAAIo4D,EAAS94D,OAAQU,IAC5Bk+B,EAAIk6B,EAASp4D,GAAG81D,MACjB53B,EAAIk6B,EAASp4D,GAAG81D,IAAMsC,EAASp4D,GAAGmE,EAG1C,OAAO+5B,IAEJm2B,KAOPkC,GAA2B,WAS3B,QAASA,GAAUtB,EAAOkB,EAAUt2D,EAAOu2D,EAAYC,GA0BnD,WAzBmB,KAAfD,IAAyBA,GAAa,GAE1CzzD,KAAK0zD,cAAe,EAEpB1zD,KAAK01D,WAAY,EACI,gBAAVpD,IACPtyD,KAAKsyD,MAAQA,EACbtyD,KAAKwzD,SAAWA,EAASn1C,cACzBre,KAAK9C,MAAQA,EACb8C,KAAKyzD,WAAaA,EAClBzzD,KAAK0zD,aAAeA,EACpB1zD,KAAK01D,WAAY,EACjB11D,KAAKg0D,SAAWpB,GAASqB,YAAY0B,gBAAgB31D,KAAKwzD,YAErDlB,YAAiBsB,IAAa12D,YAAiB02D,IAAa12D,YAAiB0J,UAClF5G,KAAK01D,WAAY,EACjB11D,KAAK41D,UAAYpC,EAASn1C,cAC1Bre,KAAK61D,YAAcvD,GACfp1D,YAAiB0J,UACdpG,KAAK7E,MAAMqE,KAAK61D,WAAY34D,GAG/B8C,KAAK61D,WAAWr1D,KAAKtD,IAGtB8C,KAmJX,MA7IA4zD,GAAUkC,IAAM,WAEZ,IAAK,GADD71D,MACKzB,EAAK,EAAGA,EAAKS,UAAUtC,OAAQ6B,IACpCyB,EAAKzB,GAAMS,UAAUT,EAEzB,OAAOo1D,GAAUmC,qBAAqB/zD,MAAMlB,KAAKb,EAAM,GAAI,QAU/D2zD,EAAUn4D,UAAUq6D,IAAM,SAAUxD,EAAOkB,EAAUt2D,EAAOu2D,EAAYC,GACpE,MAAOE,GAAUoC,QAAQh2D,KAAMsyD,EAAOkB,EAAUt2D,EAAO,MAAOu2D,EAAYC,IAM9EE,EAAUqC,GAAK,WAEX,IAAK,GADDh2D,MACKzB,EAAK,EAAGA,EAAKS,UAAUtC,OAAQ6B,IACpCyB,EAAKzB,GAAMS,UAAUT,EAEzB,OAAOo1D,GAAUmC,qBAAqB/zD,MAAMlB,KAAKb,EAAM,GAAI,OAU/D2zD,EAAUn4D,UAAUw6D,GAAK,SAAU3D,EAAOkB,EAAUt2D,EAAOu2D,EAAYC,GACnE,MAAOE,GAAUoC,QAAQh2D,KAAMsyD,EAAOkB,EAAUt2D,EAAO,KAAMu2D,EAAYC,IAM7EE,EAAUsC,SAAW,SAAUC,GAC3B,GAAIA,YAAgBvvD,OAAO,CAEvB,IAAK,GADD20B,MACKl+B,EAAI,EAAGkF,EAAM4zD,EAAKx5D,OAAQU,EAAIkF,EAAKlF,IACxCk+B,EAAI/6B,KAAKR,KAAKo2D,aAAaD,EAAK94D,IAEpC,OAAOk+B,GAEX,GAAI86B,GAAOF,CACX,OAAOn2D,MAAKo2D,aAAaC,IAM7BzC,EAAUn4D,UAAU66D,SAAW,SAAUC,GACrC,GACIC,GACA5yD,EAFA+vD,EAAY3zD,KAAK61D,WAAa71D,KAAK61D,aAGvC,KAAK71D,KAAK01D,WAAa11D,KAAKg0D,SACxB,MAAOh0D,MAAKg0D,SAASlzD,KAAKd,KAAM4yD,GAASlrD,UAAU1H,KAAKsyD,MAAOiE,GAASv2D,KAAK9C,MAAO8C,KAAKyzD,WAAYzzD,KAAK0zD,aAE9G8C,GAA2B,QAAnBx2D,KAAK41D,SACb,KAAK,GAAIv4D,GAAI,EAAGA,EAAIs2D,EAAUh3D,OAAQU,IAElC,GADAuG,EAAM+vD,EAAUt2D,GAAGi5D,SAASC,GACxBC,GACA,IAAK5yD,EACD,OAAO,MAIX,IAAIA,EACA,OAAO,CAInB,OAAO4yD,IAMX5C,EAAUn4D,UAAUg7D,OAAS,WACzB,GAAIZ,GACAllC,CACJ,IAAI3wB,KAAK01D,UAAW,CAChBG,KACAllC,EAAI3wB,KAAK61D,UACT,KAAK,GAAIx4D,GAAI,EAAGA,EAAIszB,EAAEh0B,OAAQU,IAC1Bw4D,EAAWr1D,KAAKmwB,EAAEtzB,GAAGo5D,UAG7B,OACIf,UAAW11D,KAAK01D,UAChBpD,MAAOtyD,KAAKsyD,MACZkB,SAAUxzD,KAAKwzD,SACft2D,MAAO8C,KAAK9C,MACZu2D,WAAYzzD,KAAKyzD,WACjBC,aAAc1zD,KAAK0zD,aACnBkC,UAAW51D,KAAK41D,UAChBC,WAAYA,IAGpBjC,EAAUmC,kBAAoB,SAAUF,EAAYrC,GAChD,GAA0B,IAAtBqC,EAAWl5D,OAAc,CACzB,KAAMk5D,EAAW,YAAcjvD,QAC3B,MAAOivD,GAAW,EAEtBA,GAAaA,EAAW,GAE5B,MAAO,IAAIjC,GAAUiC,EAAW,GAAIrC,EAAUqC,EAAW7zD,MAAM,KAEnE4xD,EAAUoC,QAAU,SAAUK,EAAM/D,EAAOkB,EAAUt2D,EAAO04D,EAAWnC,EAAYC,GAC/E,MAAIpB,aAAiBsB,GACVA,EAAUgC,GAAWS,EAAM/D,GAEjB,gBAAVA,GACAsB,EAAUgC,GAAWS,EAAM,GAAIzC,GAAUtB,EAAOkB,EAAUt2D,EAAOu2D,EAAYC,IAEjFd,GAASvxD,WAAW,eAAiBu0D,EAAY,yBAE5DhC,EAAUwC,aAAe,SAAUD,GAK/B,IAAK,GAJDO,GAAQP,EAAKN,eACbtzD,EAAMm0D,EAAM/5D,OACZk5D,KAEKx4D,EAAI,EAAGA,EAAIkF,EAAKlF,IACrBw4D,EAAWr1D,KAAKR,KAAKo2D,aAAaM,EAAMr5D,IAQ5C,OANK84D,GAAKT,UAIG,GAAI9B,GAAUiC,EAAW,GAAIM,EAAKP,UAAWC,EAAW7zD,MAAM,IAH9D,GAAI4xD,GAAUuC,EAAK7D,MAAO6D,EAAK3C,SAAU2C,EAAKj5D,MAAOi5D,EAAK1C,WAAY0C,EAAKzC,eAOrFE,KChkBP+C,IAAWC,UAAW,mBAKtBhE,GAA0B,WAC1B,QAASA,MA0xDT,MAjxDAA,GAAS71D,SAAW,SAAUG,EAAOuG,GACjC,MAAqB,kBAAVvG,GACAA,EAAM4D,KAAK2C,OAEfvG,GAOX01D,EAAS0B,SAAW,SAAUuC,EAAOz4C,GACjC,MAAOy4C,GAAM70D,OAAOoc,EAAOzhB,UAAYyhB,GAO3Cw0C,EAASkE,WAAa,SAAUD,EAAOn5D,GACnC,MAAOm5D,GAAM70D,MAAM,EAAGtE,EAAMf,UAAYe,GAO5Ck1D,EAAS2B,OAAS,SAAUF,GAExB,MADAA,GAAQA,EAAQzB,EAASv0C,YAAYg2C,GAAS,YAChC,cAAVA,EACOr0D,KAAK+2D,YAET/2D,KAAKg3D,cAQhBpE,EAASmE,YAAc,SAAUzoD,EAAGC,GAChC,MAAU,QAANA,OAAoBhT,KAANgT,GACN,EAEK,gBAAND,GACAA,EAAE2oD,cAAc1oD,GAEjB,OAAND,OAAoB/S,KAAN+S,EACP,EAEJA,EAAIC,GAQfqkD,EAASoE,aAAe,SAAU1oD,EAAGC,GACjC,MAAU,QAANA,OAAoBhT,KAANgT,EACP,EAEM,gBAAND,IACsB,EAAtBA,EAAE2oD,cAAc1oD,GAEjB,OAAND,OAAoB/S,KAAN+S,GACN,EAELC,EAAID,GAEfskD,EAASsE,cAAgB,SAAUj6D,EAAKkZ,GAEpC,IAAK,GADD0/B,MACKx4C,EAAI,EAAGA,EAAI8Y,EAAOxZ,OAAQU,IAC/Bw4C,EAAS71C,KAAKzC,SAAS4Y,EAAO9Y,GAAI2C,KAAK0H,UAAUyO,EAAO9Y,GAAIJ,GAAM44C,EAEtE,OAAOA,IAOX+c,EAAS1sD,OAAS,SAAUixD,EAAWhhD,GAEnC,IAAK,GADDihD,MACK/5D,EAAI,EAAGA,EAAI85D,EAAUx6D,OAAQU,IAClC+5D,EAAQ52D,KAAKR,KAAKk3D,cAAcC,EAAU95D,GAAI8Y,GAElD,OAAOihD,IAWXxE,EAASn4B,MAAQ,SAAU08B,EAAW7E,EAAO+E,EAAYC,EAAOC,EAAStzC,GACrEqzC,EAAQA,GAAS,CACjB,IAAIE,GAAWL,CAEf,IAAIK,EAASZ,YAAcD,GAAW,UAAG,CAerC,IAAK,GADD7gB,GAAS91C,KACJwrB,EAAI,EAAGA,EAAIgsC,EAAS76D,OAAQ6uB,KAdvB,SAAUA,GACpB,GAAK5tB,EAAkB25D,GAQnBC,EAAShsC,GAAGisC,MAAQ3hB,EAAOrb,MAAM+8B,EAAShsC,GAAGisC,MAAOnF,EAAO+E,EAAYG,EAASF,MAAQ,EAAG,KAAMrzC,GACjGuzC,EAAShsC,GAAGksC,MAAQF,EAAShsC,GAAGisC,MAAM96D,WATT,CAC7B,GAAIg7D,IAAQ,EACR1rD,EAAOsrD,EAAQrpC,OAAO,SAAU1sB,GAAK,MAAOA,GAAEhE,MAAQg6D,EAAShsC,GAAGhuB,KACtEm6D,GAAOJ,EAAQr0D,QAAQ+I,EAAK,IAC5BurD,EAAShsC,GAAGisC,MAAQ3hB,EAAOrb,MAAM+8B,EAAShsC,GAAGisC,MAAOnF,EAAO+E,EAAYG,EAASF,MAAQ,EAAGC,EAAQI,GAAMF,MAAOxzC,GAChHuzC,EAAShsC,GAAGksC,MAAQH,EAAQI,GAAMD,QAS9BlsC,EAGZ,OADAgsC,GAASI,aAAe,EACjBJ,EAEX,GAAIK,MACAC,IACJA,GAAalB,UAAYD,GAAW,UACpCmB,EAAaR,MAAQA,EACrBQ,EAAaF,YAAc,EAC3BE,EAAaC,QAAUP,CAwBvB,KAAK,GADDQ,GAASh4D,KACJ3C,EAAI,EAAGA,EAAIm6D,EAAS76D,OAAQU,KAvBvB,SAAUA,GACpB,GAAI28B,GAAMg+B,EAAOC,OAAOT,EAAUn6D,EAAGi1D,EAIrC,IAHK10D,EAAkBqmB,KACnB+V,EAAM/V,EAAO+V,EAAKs4B,KAEjBuF,EAAQ79B,KACT69B,EAAQ79B,IACJx8B,IAAKw8B,EACL09B,MAAO,EACPD,SACAJ,cACA/E,MAAOA,GAEXwF,EAAat3D,KAAKq3D,EAAQ79B,KACrBp8B,EAAkB25D,IAAU,CAC7B,GAAIW,GAAUX,EAAQrpC,OAAO,SAAU1sB,GAAK,MAAOA,GAAEhE,MAAQq6D,EAAQ79B,GAAKx8B,KAC1Eq6D,GAAQ79B,GAAK09B,MAAQQ,EAAQ,GAAGR,MAGxCG,EAAQ79B,GAAK09B,MAAS95D,EAAkB25D,GAAgCM,EAAQ79B,GAAK09B,OAAS,EAA3CG,EAAQ79B,GAAK09B,MAChEG,EAAQ79B,GAAKy9B,MAAMj3D,KAAKg3D,EAASn6D,KAIzBA,EAEZ,IAAIg6D,GAAcA,EAAW16D,OAqBzB,IAASU,EAAI,EAAGA,EAAIy6D,EAAan7D,OAAQU,KApB3B,SAAUA,GAIpB,IAAK,GAHDk+B,MACA43B,MAAK,GACLgF,EAAOd,EACF7rC,EAAI,EAAGA,EAAI6rC,EAAW16D,OAAQ6uB,IAEnC,GADA2nC,EAAKP,EAASyE,WAAWA,EAAW7rC,GAAG3jB,MAClCjK,EAAkB25D,GAOfpE,IACA53B,EAAI48B,EAAK3sC,GAAG8mC,MAAQ,MAAQ6F,EAAK3sC,GAAG3jB,MAAQsrD,EAAG2E,EAAaz6D,GAAGo6D,MAAOU,EAAK3sC,GAAG8mC,YARrD,CAC7B,GAAIrmD,GAAOsrD,EAAQrpC,OAAO,SAAU1sB,GAAK,MAAOA,GAAEhE,MAAQs6D,EAAaz6D,GAAGG,KACtE21D,KACA53B,EAAI48B,EAAK3sC,GAAG8mC,MAAQ,MAAQ6F,EAAK3sC,GAAG3jB,MAAQsrD,EAAGlnD,EAAK,GAAGwrD,MAAOU,EAAK3sC,GAAG8mC,QASlFwF,EAAaz6D,GAAGg6D,WAAa97B,GAGrBl+B,EAGhB,OAAOy6D,IAYXlF,EAASwF,eAAiB,SAAUrG,EAAMJ,EAAMl1D,EAAQ47D,EAAQC,GAC5D,GAAIj7D,GACAk7D,IAQJ,KANIF,EAAOr5D,SACPq5D,EAASA,EAAOr5D,QAEhBq5D,EAAOzB,WACP52D,KAAKqB,WAAW,0DAEfhE,EAAI,EAAGA,EAAIg7D,EAAO17D,OAAQU,KAEpBk7D,EADHC,EAAWx4D,KAAK0H,UAAUqqD,EAAMsG,EAAOh7D,OAClBk7D,EAAIC,QACxBh4D,KAAK63D,EAAOh7D,GAErB,KAAKA,EAAI,EAAGA,EAAIZ,EAAOE,OAAQU,IAAK,CAChC,GAAIm7D,GAAWx4D,KAAK0H,UAAU4wD,GAAQvG,EAAMt1D,EAAOY,GACnDZ,GAAOY,GAAGs0D,GAAQ4G,EAAIC,KAU9B5F,EAAS6F,aAAe,SAAUx7D,EAAKkZ,EAAQ7L,GAI3C,OAHe/O,KAAX+O,IACAA,EAAS,QAEE/O,KAAX4a,GAAmC,OAAXA,EACxB,MAAOnW,MAAKy4D,aAAax7D,KAASqN,EAItC,KAAK,GAFDouD,GAAUz7D,EAELuB,EAAK,EAAGC,EADNC,OAAOjB,KAAKR,GACSuB,EAAKC,EAAO9B,OAAQ6B,IAAM,CACtD,GAAIkN,GAAOjN,EAAOD,EACW,iBAAlBk6D,GAAQhtD,IAAwBgtD,EAAQhtD,YAAiB9E,OAIhEuP,EAAO3V,KAAK8J,EAASoB,GAHrB1L,KAAKy4D,aAAaC,EAAQhtD,GAAOyK,EAAQ7L,EAASoB,EAAO,KAMjE,MAAOyK,IAQXy8C,EAASlrD,UAAY,SAAU1K,EAAW20D,GACtC,IAAK30D,EACD,MAAO20D,EAEX,KAAgC,IAA5B30D,EAAUkG,QAAQ,KAClB,MAAOyuD,GAAK30D,EAIhB,KAAK,GAFDE,GAAQy0D,EACRx0D,EAASH,EAAUI,MAAM,KACpBC,EAAI,EAAGA,EAAIF,EAAOR,QACV,MAATO,EAD2BG,IAI/BH,EAAQA,EAAMC,EAAOE,GAEzB,OAAOH,IAUX01D,EAASr1D,SAAW,SAAUP,EAAWE,EAAOD,GAC5C,GAGII,GAEAG,EALAC,EAAOT,EAAU6D,WAAWzD,MAAM,KAClCM,EAAQT,MACRU,EAAUD,EAEVf,EAASc,EAAKd,MAElB,KAAKU,EAAI,EAAGA,EAAIV,EAAQU,IACpBG,EAAMC,EAAKJ,GACPA,EAAI,IAAMV,EACVgB,EAAQH,OAAiBjC,KAAV2B,MAAsB3B,GAAY2B,EAE5CU,EAAkBD,EAAQH,MAC/BG,EAAQH,OAEZG,EAAUA,EAAQH,EAEtB,OAAOE,IAQXk1D,EAAS18C,KAAO,SAAUyiD,EAAIrG,EAAO0B,GACjC,GAAI2E,EAAGh8D,QAAU,EACb,MAAOg8D,EAEX,IAAIC,GAASv8C,UAAUs8C,EAAGh8D,OAAS,GAAGkE,WAAY,IAC9CkN,EAAO4qD,EAAG32D,MAAM,EAAG42D,GACnB5qD,EAAQ2qD,EAAG32D,MAAM42D,EAGrB,OAFA7qD,GAAO/N,KAAKkW,KAAKnI,EAAMukD,EAAO0B,GAC9BhmD,EAAQhO,KAAKkW,KAAKlI,EAAOskD,EAAO0B,GACzBh0D,KAAK5B,MAAM2P,EAAMC,EAAOskD,EAAO0B,IAE1CpB,EAASiG,iBAAmB,SAAU37D,GAClC,MAAqB,gBAAVA,GACAA,EAEEA,EAAME,MAAM,IACH6hB,IAAI,SAAUhT,GAAQ,MAAOA,KAAQ2mD,GAASkG,WAAalG,EAASkG,WAAW7sD,GAAQA,IAC7FvL,KAAK,KAEzBkyD,EAASx0D,MAAQ,SAAU2P,EAAMC,EAAOulD,EAAWS,GAG/C,IAFA,GACI+E,GADA/5D,KAEG+O,EAAKpR,OAAS,GAAKqR,EAAMrR,OAAS,GAG7Bo8D,EAFJhrD,EAAKpR,OAAS,GAAKqR,EAAMrR,OAAS,EAC9Bq3D,EACUA,EAASh0D,KAAKi4D,OAAOlqD,EAAM,EAAGwlD,GAAYvzD,KAAKi4D,OAAOjqD,EAAO,EAAGulD,KAAe,EAAIxlD,EAAOC,EAG1FD,EAAK,GAAGwlD,GAAaxlD,EAAK,GAAGwlD,GAAaxlD,EAAOC,EAIrDD,EAAKpR,OAAS,EAAIoR,EAAOC,EAEvChP,EAAOwB,KAAKu4D,EAAQptC,QAExB,OAAO3sB,IAEX4zD,EAASqF,OAAS,SAAU33D,EAAOoZ,EAAO44C,GACtC,MAAOA,GAAQtyD,KAAK0H,UAAU4qD,EAAOhyD,EAAMoZ,IAAUpZ,EAAMoZ,IAE/Dk5C,EAASv0C,YAAc,SAAU2b,GAC7B,MAAOA,GAAqB,gBAARA,GAAmBA,EAAI3b,cAAgB2b,EAAIn5B,WAAsB,IAARm5B,IAAqB,IAARA,EAAiBA,EAAIn5B,WAAa,IAUhI+xD,EAASoG,oBAAsB,SAAUC,EAASC,EAAQC,EAAQC,GAC9D,GAAIF,IAAUD,GAAS,CACnB,GAAI19B,GAAM09B,EAAQC,GAAQC,EAAQC,EAC7Bp5D,MAAKi0D,YAAYoF,OAAO99B,KACzB49B,EAAS59B,GAGjB,MAAO49B,IAMXvG,EAAS0G,cAAgB,SAAUr8D,GAC/B,QAAUA,GAASA,EAAIe,cAAgBU,QAK3Ck0D,EAAS2G,OAAS,WACd,GAAIC,GAAM,IAEV,KACIA,EAAM,GAAIv9D,QAAc,eAE5B,MAAOuF,IAGP,QAASg4D,GAAQ,mBAAqBA,IAM1C5G,EAAS6G,QAAU,SAAUnvD,GACzB,GACIovD,EACJ,QAAQpvD,GAAU,IAAM,uCAAuCiH,QAAQ,KAAM,SAAUyoB,EAAK38B,GACxF,GAAI,UAAYpB,SAAU,mBAAqBE,QAAQ,CACnD,GAAIw9D,GAAM,GAAIC,YAAW,EACzB39D,QAAOE,OAAOC,gBAAgBu9D,GAC9BD,EAAOC,EAAI,GAAK,GAAK,MAGrBD,GAAuB,GAAhB9rD,KAAKisD,SAAgB,CAEhC,OAXO,mBAWW,KAANx8D,EAAkB,EAAPq8D,EAAa,EAAMA,MAQlD9G,EAASkH,OAAS,SAAU9/B,GACxB,WAAez+B,KAARy+B,GAA6B,OAARA,GAUhC44B,EAASmH,oBAAsB,SAAUz5D,EAAOgyD,EAAO0B,GACnD,GAAIxS,GACAuX,EACAv7D,EACAH,EAAI,EACJ28D,EAA2D,gBAArCpH,GAASqF,OAAO33D,EAAO,EAAGgyD,EACpD,IAAIhyD,EAAM3D,OACN,KAAOiB,EAAkB4jD,IAAWnkD,EAAIiD,EAAM3D,QAC1C6kD,EAASoR,EAASqF,OAAO33D,EAAOjD,EAAGi1D,GACnC90D,EAAM8C,EAAMjD,IAGpB,MAAOA,EAAIiD,EAAM3D,OAAQU,IAEjBO,EADJm7D,EAAUnG,EAASqF,OAAO33D,EAAOjD,EAAGi1D,MAIhC0H,IACAxY,GAAUA,EACVuX,GAAWA,GAEX/E,EAASxS,EAAQuX,GAAW,IAC5BvX,EAASuX,EACTv7D,EAAM8C,EAAMjD,IAGpB,OAAOG,IAWXo1D,EAASqH,SAAW,SAAU9D,EAAM5C,EAAW2G,GAC3CA,GAAyBt8D,EAAkBs8D,IAAkCA,CAC7E,IACIlgC,GADAh7B,KAEAm7D,IAQJ,OAPAhE,GAAK/2D,QAAQ,SAAU1C,EAAMgd,IACzBsgB,EAAM44B,EAASqF,OAAO9B,EAAMz8C,EAAO65C,KACtB4G,KACTn7D,EAAOwB,KAAM05D,EAA+B/D,EAAKz8C,GAAXsgB,GACtCmgC,EAAIngC,GAAO,KAGZh7B,GAMX4zD,EAASwH,qBAAuB,KAKhCxH,EAASvxD,WAAa,SAAUmpB,GAC5B,IACI,KAAM,IAAIjpB,OAAMipB,GAEpB,MAAOhpB,GACH,KAAMA,GAAEF,QAAU,KAAOE,EAAEC,QAGnCmxD,EAASyE,YAMLh+C,IAAK,SAAUs/C,EAAIrG,GAIf,IAAK,GAFDt4B,GADAh7B,EAAS,EAETg7D,EAAwD,gBAAlCpH,GAASqF,OAAOU,EAAI,EAAGrG,GACxCj1D,EAAI,EAAGA,EAAIs7D,EAAGh8D,OAAQU,IAC3B28B,EAAM44B,EAASqF,OAAOU,EAAIt7D,EAAGi1D,GACxBlyB,MAAMpG,IAAgB,OAARA,IACXggC,IACAhgC,GAAOA,GAEXh7B,GAAUg7B,EAGlB,OAAOh7B,IAOXq7D,QAAS,SAAU1B,EAAIrG,GACnB,MAAOM,GAASyE,WAAWh+C,IAAIs/C,EAAIrG,GAASqG,EAAGh8D,QAOnDwb,IAAK,SAAUwgD,EAAIrG,GACf,GAAI0B,EAKJ,OAJqB,kBAAV1B,KACP0B,EAAW1B,EACXA,EAAQ,MAELM,EAASlrD,UAAU4qD,EAAOM,EAASmH,oBAAoBpB,EAAIrG,EAAO0B,GAAYpB,EAASmE,eAQlGlpD,IAAK,SAAU8qD,EAAIrG,GACf,GAAI0B,EAKJ,OAJqB,kBAAV1B,KACP0B,EAAW1B,EACXA,EAAQ,MAELM,EAASlrD,UAAU4qD,EAAOM,EAASmH,oBAAoBpB,EAAIrG,EAAO0B,GAAYpB,EAASoE,gBAOlGsD,UAAW,SAAU3B,EAAIrG,GACrB,MAAO,IAAIiI,IAAY5B,GAAI9F,cAAa,GAAInB,KAAQ4B,MAAMhB,EAAO,SAAS,GAAM,IAAO31D,QAO3F69D,WAAY,SAAU7B,EAAIrG,GACtB,MAAO,IAAIiI,IAAY5B,GAAI9F,cAAa,GAAInB,KAAQ4B,MAAMhB,EAAO,SAAS,GAAO,IAAO31D,QAQ5F+6D,MAAO,SAAUiB,EAAIrG,GACjB,MAAOqG,GAAGh8D,SAMlBi2D,EAAS6H,iBACLC,IAAK,WACLC,IAAK,cACLC,KAAM,kBACNC,KAAM,qBACNC,KAAM,QACNC,KAAM,WACNC,KAAM,WACNC,KAAM,WACNC,KAAM,cAMVtI,EAASuI,cACLT,IAAK,OACLC,IAAK,OACLC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNK,SAAY,OACZC,gBAAmB,OACnBC,YAAe,OACfC,mBAAsB,OACtBC,MAAS,OACTC,SAAY,QAMhB7I,EAAS8I,eACLT,KAAM,WACNC,KAAM,aACNF,KAAM,cACNW,SAAY,WACZC,WAAc,aACd/2D,SAAY,eAMhB+tD,EAASiJ,iBACLZ,KAAM,WACNC,KAAM,aACNF,KAAM,WACNW,SAAY,WACZC,WAAc,aACd/2D,SAAY,YAEhB+tD,EAASkG,YACLgD,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,I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AK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,KAMThB,EAA8B8B,YAC1B,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAM/E9B,EAA8BuD,iBAC1B,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,EAAG,IAAK,EAAG,IAAK,IAAK,IAAK,IAAM,IAAK,IAAK,IAAK,IAAM,IAAK,IAAK,IAAK,EACzE,IAAK,EAAG,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAM,IAAK,IAAK,IAAK,IAAK,IAAK,EACxE,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACzE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,KAMTvD,EAA8B+C,qBAC1B,IAAK,IAAK,IAAK,IAAK,IAAK,IAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAClE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAC5E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,EAAG,IAAK,EAAG,IAAK,IAAK,IAAK,IAAM,IAAK,IAAK,IAAK,IAAM,IAAK,IAAK,IAAM,EAC1E,IAAK,EAAG,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAM,IAAK,IAAM,IAAK,IAAK,IAAK,EACzE,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACzE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC5E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,KAMT/C,EAA8BmD,uBAC1B,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,EAAG,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAM,IAAK,IAAK,IAAK,EACxE,IAAK,EAAG,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACvE,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACzE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,KAMTnD,EAA8B2C,4BAC1B,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,EAAG,IAAK,EAAG,IAAK,IAAK,IAAK,IAAM,IAAK,IAAK,IAAK,IAAM,IAAK,IAAK,IAAK,EACzE,IAAK,EAAG,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAM,IAAK,IAAM,IAAK,IAAK,IAAK,EACzE,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACzE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,KAMT3C,EAA8B2D,aAC1B,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,IAAK,IAAK,IAAK,IAAK,IAClE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAM,IAAK,IAClE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,KAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAClE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,GAMxC3D,EAA8B+D,mBAC1B,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,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"}